var wX=Object.defineProperty;var CX=(t,e,r)=>e in t?wX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var de=(t,e,r)=>CX(t,typeof e!="symbol"?e+"":e,r);function BX(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function K_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eU={exports:{}},e2={},tU={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm=Symbol.for("react.element"),_X=Symbol.for("react.portal"),SX=Symbol.for("react.fragment"),kX=Symbol.for("react.strict_mode"),EX=Symbol.for("react.profiler"),FX=Symbol.for("react.provider"),MX=Symbol.for("react.context"),TX=Symbol.for("react.forward_ref"),DX=Symbol.for("react.suspense"),LX=Symbol.for("react.memo"),jX=Symbol.for("react.lazy"),$E=Symbol.iterator;function OX(t){return t===null||typeof t!="object"?null:(t=$E&&t[$E]||t["@@iterator"],typeof t=="function"?t:null)}var rU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nU=Object.assign,iU={};function nh(t,e,r){this.props=t,this.context=e,this.refs=iU,this.updater=r||rU}nh.prototype.isReactComponent={};nh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sU(){}sU.prototype=nh.prototype;function z_(t,e,r){this.props=t,this.context=e,this.refs=iU,this.updater=r||rU}var W_=z_.prototype=new sU;W_.constructor=z_;nU(W_,nh.prototype);W_.isPureReactComponent=!0;var VE=Array.isArray,oU=Object.prototype.hasOwnProperty,G_={current:null},aU={key:!0,ref:!0,__self:!0,__source:!0};function lU(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)oU.call(e,n)&&!aU.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Wm,type:t,key:s,ref:o,props:i,_owner:G_.current}}function NX(t,e){return{$$typeof:Wm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function q_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wm}function IX(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var KE=/\/+/g;function Ww(t,e){return typeof t=="object"&&t!==null&&t.key!=null?IX(""+t.key):e.toString(36)}function Fy(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Wm:case _X:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Ww(o,0):n,VE(i)?(r="",t!=null&&(r=t.replace(KE,"$&/")+"/"),Fy(i,e,r,"",function(c){return c})):i!=null&&(q_(i)&&(i=NX(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(KE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",VE(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+Ww(s,a);o+=Fy(s,e,r,l,i)}else if(l=OX(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+Ww(s,a++),o+=Fy(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function L0(t,e,r){if(t==null)return t;var n=[],i=0;return Fy(t,n,"","",function(s){return e.call(r,s,i++)}),n}function UX(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Sn={current:null},My={transition:null},PX={ReactCurrentDispatcher:Sn,ReactCurrentBatchConfig:My,ReactCurrentOwner:G_};function cU(){throw Error("act(...) is not supported in production builds of React.")}$e.Children={map:L0,forEach:function(t,e,r){L0(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return L0(t,function(){e++}),e},toArray:function(t){return L0(t,function(e){return e})||[]},only:function(t){if(!q_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$e.Component=nh;$e.Fragment=SX;$e.Profiler=EX;$e.PureComponent=z_;$e.StrictMode=kX;$e.Suspense=DX;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PX;$e.act=cU;$e.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=nU({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=G_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)oU.call(e,l)&&!aU.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Wm,type:t.type,key:i,ref:s,props:n,_owner:o}};$e.createContext=function(t){return t={$$typeof:MX,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FX,_context:t},t.Consumer=t};$e.createElement=lU;$e.createFactory=function(t){var e=lU.bind(null,t);return e.type=t,e};$e.createRef=function(){return{current:null}};$e.forwardRef=function(t){return{$$typeof:TX,render:t}};$e.isValidElement=q_;$e.lazy=function(t){return{$$typeof:jX,_payload:{_status:-1,_result:t},_init:UX}};$e.memo=function(t,e){return{$$typeof:LX,type:t,compare:e===void 0?null:e}};$e.startTransition=function(t){var e=My.transition;My.transition={};try{t()}finally{My.transition=e}};$e.unstable_act=cU;$e.useCallback=function(t,e){return Sn.current.useCallback(t,e)};$e.useContext=function(t){return Sn.current.useContext(t)};$e.useDebugValue=function(){};$e.useDeferredValue=function(t){return Sn.current.useDeferredValue(t)};$e.useEffect=function(t,e){return Sn.current.useEffect(t,e)};$e.useId=function(){return Sn.current.useId()};$e.useImperativeHandle=function(t,e,r){return Sn.current.useImperativeHandle(t,e,r)};$e.useInsertionEffect=function(t,e){return Sn.current.useInsertionEffect(t,e)};$e.useLayoutEffect=function(t,e){return Sn.current.useLayoutEffect(t,e)};$e.useMemo=function(t,e){return Sn.current.useMemo(t,e)};$e.useReducer=function(t,e,r){return Sn.current.useReducer(t,e,r)};$e.useRef=function(t){return Sn.current.useRef(t)};$e.useState=function(t){return Sn.current.useState(t)};$e.useSyncExternalStore=function(t,e,r){return Sn.current.useSyncExternalStore(t,e,r)};$e.useTransition=function(){return Sn.current.useTransition()};$e.version="18.3.1";tU.exports=$e;var S=tU.exports;const be=K_(S),zE=BX({__proto__:null,default:be},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QX=S,RX=Symbol.for("react.element"),HX=Symbol.for("react.fragment"),$X=Object.prototype.hasOwnProperty,VX=QX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KX={key:!0,ref:!0,__self:!0,__source:!0};function uU(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)$X.call(e,n)&&!KX.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:RX,type:t,key:s,ref:o,props:i,_owner:VX.current}}e2.Fragment=HX;e2.jsx=uU;e2.jsxs=uU;eU.exports=e2;var d=eU.exports,AU={exports:{}},vi={},dU={exports:{}},hU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,R){var V=L.length;L.push(R);e:for(;0<V;){var Y=V-1>>>1,re=L[Y];if(0<i(re,R))L[Y]=R,L[V]=re,V=Y;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var R=L[0],V=L.pop();if(V!==R){L[0]=V;e:for(var Y=0,re=L.length,se=re>>>1;Y<se;){var ie=2*(Y+1)-1,Ae=L[ie],G=ie+1,ae=L[G];if(0>i(Ae,V))G<re&&0>i(ae,Ae)?(L[Y]=ae,L[G]=V,Y=G):(L[Y]=Ae,L[ie]=V,Y=ie);else if(G<re&&0>i(ae,V))L[Y]=ae,L[G]=V,Y=G;else break e}}return R}function i(L,R){var V=L.sortIndex-R.sortIndex;return V!==0?V:L.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,A=null,h=3,f=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var R=r(c);R!==null;){if(R.callback===null)n(c);else if(R.startTime<=L)n(c),R.sortIndex=R.expirationTime,e(l,R);else break;R=r(c)}}function b(L){if(m=!1,x(L),!p)if(r(l)!==null)p=!0,H(w);else{var R=r(c);R!==null&&I(b,R.startTime-L)}}function w(L,R){p=!1,m&&(m=!1,g(_),_=-1),f=!0;var V=h;try{for(x(R),A=r(l);A!==null&&(!(A.expirationTime>R)||L&&!F());){var Y=A.callback;if(typeof Y=="function"){A.callback=null,h=A.priorityLevel;var re=Y(A.expirationTime<=R);R=t.unstable_now(),typeof re=="function"?A.callback=re:A===r(l)&&n(l),x(R)}else n(l);A=r(l)}if(A!==null)var se=!0;else{var ie=r(c);ie!==null&&I(b,ie.startTime-R),se=!1}return se}finally{A=null,h=V,f=!1}}var C=!1,B=null,_=-1,k=5,E=-1;function F(){return!(t.unstable_now()-E<k)}function M(){if(B!==null){var L=t.unstable_now();E=L;var R=!0;try{R=B(!0,L)}finally{R?T():(C=!1,B=null)}}else C=!1}var T;if(typeof v=="function")T=function(){v(M)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,P=Q.port2;Q.port1.onmessage=M,T=function(){P.postMessage(null)}}else T=function(){y(M,0)};function H(L){B=L,C||(C=!0,T())}function I(L,R){_=y(function(){L(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,H(w))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var V=h;h=R;try{return L()}finally{h=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,R){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var V=h;h=L;try{return R()}finally{h=V}},t.unstable_scheduleCallback=function(L,R,V){var Y=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Y+V:Y):V=Y,L){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=V+re,L={id:u++,callback:R,priorityLevel:L,startTime:V,expirationTime:re,sortIndex:-1},V>Y?(L.sortIndex=V,e(c,L),r(l)===null&&L===r(c)&&(m?(g(_),_=-1):m=!0,I(b,V-Y))):(L.sortIndex=re,e(l,L),p||f||(p=!0,H(w))),L},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(L){var R=h;return function(){var V=h;h=R;try{return L.apply(this,arguments)}finally{h=V}}}})(hU);dU.exports=hU;var zX=dU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WX=S,pi=zX;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fU=new Set,Vp={};function Nu(t,e){Ld(t,e),Ld(t+"Capture",e)}function Ld(t,e){for(Vp[t]=e,t=0;t<e.length;t++)fU.add(e[t])}var na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sB=Object.prototype.hasOwnProperty,GX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,WE={},GE={};function qX(t){return sB.call(GE,t)?!0:sB.call(WE,t)?!1:GX.test(t)?GE[t]=!0:(WE[t]=!0,!1)}function XX(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YX(t,e,r,n){if(e===null||typeof e>"u"||XX(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kn(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var zr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zr[t]=new kn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zr[e]=new kn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zr[t]=new kn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zr[t]=new kn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zr[t]=new kn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zr[t]=new kn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zr[t]=new kn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zr[t]=new kn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zr[t]=new kn(t,5,!1,t.toLowerCase(),null,!1,!1)});var X_=/[\-:]([a-z])/g;function Y_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(X_,Y_);zr[e]=new kn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(X_,Y_);zr[e]=new kn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(X_,Y_);zr[e]=new kn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zr[t]=new kn(t,1,!1,t.toLowerCase(),null,!1,!1)});zr.xlinkHref=new kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zr[t]=new kn(t,1,!1,t.toLowerCase(),null,!0,!0)});function J_(t,e,r,n){var i=zr.hasOwnProperty(e)?zr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YX(e,r,i,n)&&(r=null),n||i===null?qX(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var pa=WX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j0=Symbol.for("react.element"),OA=Symbol.for("react.portal"),NA=Symbol.for("react.fragment"),Z_=Symbol.for("react.strict_mode"),oB=Symbol.for("react.profiler"),pU=Symbol.for("react.provider"),mU=Symbol.for("react.context"),eS=Symbol.for("react.forward_ref"),aB=Symbol.for("react.suspense"),lB=Symbol.for("react.suspense_list"),tS=Symbol.for("react.memo"),Ja=Symbol.for("react.lazy"),gU=Symbol.for("react.offscreen"),qE=Symbol.iterator;function kh(t){return t===null||typeof t!="object"?null:(t=qE&&t[qE]||t["@@iterator"],typeof t=="function"?t:null)}var Pt=Object.assign,Gw;function Ef(t){if(Gw===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Gw=e&&e[1]||""}return`
`+Gw+t}var qw=!1;function Xw(t,e){if(!t||qw)return"";qw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{qw=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ef(t):""}function JX(t){switch(t.tag){case 5:return Ef(t.type);case 16:return Ef("Lazy");case 13:return Ef("Suspense");case 19:return Ef("SuspenseList");case 0:case 2:case 15:return t=Xw(t.type,!1),t;case 11:return t=Xw(t.type.render,!1),t;case 1:return t=Xw(t.type,!0),t;default:return""}}function cB(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case NA:return"Fragment";case OA:return"Portal";case oB:return"Profiler";case Z_:return"StrictMode";case aB:return"Suspense";case lB:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mU:return(t.displayName||"Context")+".Consumer";case pU:return(t._context.displayName||"Context")+".Provider";case eS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tS:return e=t.displayName||null,e!==null?e:cB(t.type)||"Memo";case Ja:e=t._payload,t=t._init;try{return cB(t(e))}catch{}}return null}function ZX(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cB(e);case 8:return e===Z_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ll(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yU(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eY(t){var e=yU(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function O0(t){t._valueTracker||(t._valueTracker=eY(t))}function vU(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=yU(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ex(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uB(t,e){var r=e.checked;return Pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function XE(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ll(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xU(t,e){e=e.checked,e!=null&&J_(t,"checked",e,!1)}function AB(t,e){xU(t,e);var r=Ll(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dB(t,e.type,r):e.hasOwnProperty("defaultValue")&&dB(t,e.type,Ll(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function YE(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function dB(t,e,r){(e!=="number"||ex(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ff=Array.isArray;function hd(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ll(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hB(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return Pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function JE(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ce(92));if(Ff(r)){if(1<r.length)throw Error(ce(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ll(r)}}function bU(t,e){var r=Ll(e.value),n=Ll(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function ZE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wU(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fB(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wU(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var N0,CU=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(N0=N0||document.createElement("div"),N0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=N0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Kp(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var tp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tY=["Webkit","ms","Moz","O"];Object.keys(tp).forEach(function(t){tY.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tp[e]=tp[t]})});function BU(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||tp.hasOwnProperty(t)&&tp[t]?(""+e).trim():e+"px"}function _U(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=BU(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var rY=Pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pB(t,e){if(e){if(rY[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function mB(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gB=null;function rS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yB=null,fd=null,pd=null;function e7(t){if(t=Xm(t)){if(typeof yB!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=s2(e),yB(t.stateNode,t.type,e))}}function SU(t){fd?pd?pd.push(t):pd=[t]:fd=t}function kU(){if(fd){var t=fd,e=pd;if(pd=fd=null,e7(t),e)for(t=0;t<e.length;t++)e7(e[t])}}function EU(t,e){return t(e)}function FU(){}var Yw=!1;function MU(t,e,r){if(Yw)return t(e,r);Yw=!0;try{return EU(t,e,r)}finally{Yw=!1,(fd!==null||pd!==null)&&(FU(),kU())}}function zp(t,e){var r=t.stateNode;if(r===null)return null;var n=s2(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ce(231,e,typeof r));return r}var vB=!1;if(na)try{var Eh={};Object.defineProperty(Eh,"passive",{get:function(){vB=!0}}),window.addEventListener("test",Eh,Eh),window.removeEventListener("test",Eh,Eh)}catch{vB=!1}function nY(t,e,r,n,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var rp=!1,tx=null,rx=!1,xB=null,iY={onError:function(t){rp=!0,tx=t}};function sY(t,e,r,n,i,s,o,a,l){rp=!1,tx=null,nY.apply(iY,arguments)}function oY(t,e,r,n,i,s,o,a,l){if(sY.apply(this,arguments),rp){if(rp){var c=tx;rp=!1,tx=null}else throw Error(ce(198));rx||(rx=!0,xB=c)}}function Iu(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function TU(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function t7(t){if(Iu(t)!==t)throw Error(ce(188))}function aY(t){var e=t.alternate;if(!e){if(e=Iu(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return t7(i),t;if(s===n)return t7(i),e;s=s.sibling}throw Error(ce(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(ce(189))}}if(r.alternate!==n)throw Error(ce(190))}if(r.tag!==3)throw Error(ce(188));return r.stateNode.current===r?t:e}function DU(t){return t=aY(t),t!==null?LU(t):null}function LU(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=LU(t);if(e!==null)return e;t=t.sibling}return null}var jU=pi.unstable_scheduleCallback,r7=pi.unstable_cancelCallback,lY=pi.unstable_shouldYield,cY=pi.unstable_requestPaint,Yt=pi.unstable_now,uY=pi.unstable_getCurrentPriorityLevel,nS=pi.unstable_ImmediatePriority,OU=pi.unstable_UserBlockingPriority,nx=pi.unstable_NormalPriority,AY=pi.unstable_LowPriority,NU=pi.unstable_IdlePriority,t2=null,so=null;function dY(t){if(so&&typeof so.onCommitFiberRoot=="function")try{so.onCommitFiberRoot(t2,t,void 0,(t.current.flags&128)===128)}catch{}}var ms=Math.clz32?Math.clz32:pY,hY=Math.log,fY=Math.LN2;function pY(t){return t>>>=0,t===0?32:31-(hY(t)/fY|0)|0}var I0=64,U0=4194304;function Mf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ix(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Mf(a):(s&=o,s!==0&&(n=Mf(s)))}else o=r&~i,o!==0?n=Mf(o):s!==0&&(n=Mf(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ms(e),i=1<<r,n|=t[r],e&=~i;return n}function mY(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gY(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ms(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=mY(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function bB(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function IU(){var t=I0;return I0<<=1,!(I0&4194240)&&(I0=64),t}function Jw(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Gm(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ms(e),t[e]=r}function yY(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ms(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function iS(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ms(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var dt=0;function UU(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var PU,sS,QU,RU,HU,wB=!1,P0=[],xl=null,bl=null,wl=null,Wp=new Map,Gp=new Map,il=[],vY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n7(t,e){switch(t){case"focusin":case"focusout":xl=null;break;case"dragenter":case"dragleave":bl=null;break;case"mouseover":case"mouseout":wl=null;break;case"pointerover":case"pointerout":Wp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gp.delete(e.pointerId)}}function Fh(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xm(e),e!==null&&sS(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xY(t,e,r,n,i){switch(e){case"focusin":return xl=Fh(xl,t,e,r,n,i),!0;case"dragenter":return bl=Fh(bl,t,e,r,n,i),!0;case"mouseover":return wl=Fh(wl,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Wp.set(s,Fh(Wp.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Gp.set(s,Fh(Gp.get(s)||null,t,e,r,n,i)),!0}return!1}function $U(t){var e=zc(t.target);if(e!==null){var r=Iu(e);if(r!==null){if(e=r.tag,e===13){if(e=TU(r),e!==null){t.blockedOn=e,HU(t.priority,function(){QU(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ty(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=CB(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);gB=n,r.target.dispatchEvent(n),gB=null}else return e=Xm(r),e!==null&&sS(e),t.blockedOn=r,!1;e.shift()}return!0}function i7(t,e,r){Ty(t)&&r.delete(e)}function bY(){wB=!1,xl!==null&&Ty(xl)&&(xl=null),bl!==null&&Ty(bl)&&(bl=null),wl!==null&&Ty(wl)&&(wl=null),Wp.forEach(i7),Gp.forEach(i7)}function Mh(t,e){t.blockedOn===e&&(t.blockedOn=null,wB||(wB=!0,pi.unstable_scheduleCallback(pi.unstable_NormalPriority,bY)))}function qp(t){function e(i){return Mh(i,t)}if(0<P0.length){Mh(P0[0],t);for(var r=1;r<P0.length;r++){var n=P0[r];n.blockedOn===t&&(n.blockedOn=null)}}for(xl!==null&&Mh(xl,t),bl!==null&&Mh(bl,t),wl!==null&&Mh(wl,t),Wp.forEach(e),Gp.forEach(e),r=0;r<il.length;r++)n=il[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<il.length&&(r=il[0],r.blockedOn===null);)$U(r),r.blockedOn===null&&il.shift()}var md=pa.ReactCurrentBatchConfig,sx=!0;function wY(t,e,r,n){var i=dt,s=md.transition;md.transition=null;try{dt=1,oS(t,e,r,n)}finally{dt=i,md.transition=s}}function CY(t,e,r,n){var i=dt,s=md.transition;md.transition=null;try{dt=4,oS(t,e,r,n)}finally{dt=i,md.transition=s}}function oS(t,e,r,n){if(sx){var i=CB(t,e,r,n);if(i===null)l4(t,e,n,ox,r),n7(t,n);else if(xY(i,t,e,r,n))n.stopPropagation();else if(n7(t,n),e&4&&-1<vY.indexOf(t)){for(;i!==null;){var s=Xm(i);if(s!==null&&PU(s),s=CB(t,e,r,n),s===null&&l4(t,e,n,ox,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else l4(t,e,n,null,r)}}var ox=null;function CB(t,e,r,n){if(ox=null,t=rS(n),t=zc(t),t!==null)if(e=Iu(t),e===null)t=null;else if(r=e.tag,r===13){if(t=TU(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ox=t,null}function VU(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uY()){case nS:return 1;case OU:return 4;case nx:case AY:return 16;case NU:return 536870912;default:return 16}default:return 16}}var cl=null,aS=null,Dy=null;function KU(){if(Dy)return Dy;var t,e=aS,r=e.length,n,i="value"in cl?cl.value:cl.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Dy=i.slice(t,1<n?1-n:void 0)}function Ly(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Q0(){return!0}function s7(){return!1}function xi(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Q0:s7,this.isPropagationStopped=s7,this}return Pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Q0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Q0)},persist:function(){},isPersistent:Q0}),e}var ih={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lS=xi(ih),qm=Pt({},ih,{view:0,detail:0}),BY=xi(qm),Zw,e4,Th,r2=Pt({},qm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Th&&(Th&&t.type==="mousemove"?(Zw=t.screenX-Th.screenX,e4=t.screenY-Th.screenY):e4=Zw=0,Th=t),Zw)},movementY:function(t){return"movementY"in t?t.movementY:e4}}),o7=xi(r2),_Y=Pt({},r2,{dataTransfer:0}),SY=xi(_Y),kY=Pt({},qm,{relatedTarget:0}),t4=xi(kY),EY=Pt({},ih,{animationName:0,elapsedTime:0,pseudoElement:0}),FY=xi(EY),MY=Pt({},ih,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TY=xi(MY),DY=Pt({},ih,{data:0}),a7=xi(DY),LY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NY(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=OY[t])?!!e[t]:!1}function cS(){return NY}var IY=Pt({},qm,{key:function(t){if(t.key){var e=LY[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ly(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jY[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cS,charCode:function(t){return t.type==="keypress"?Ly(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ly(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),UY=xi(IY),PY=Pt({},r2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l7=xi(PY),QY=Pt({},qm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cS}),RY=xi(QY),HY=Pt({},ih,{propertyName:0,elapsedTime:0,pseudoElement:0}),$Y=xi(HY),VY=Pt({},r2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KY=xi(VY),zY=[9,13,27,32],uS=na&&"CompositionEvent"in window,np=null;na&&"documentMode"in document&&(np=document.documentMode);var WY=na&&"TextEvent"in window&&!np,zU=na&&(!uS||np&&8<np&&11>=np),c7=" ",u7=!1;function WU(t,e){switch(t){case"keyup":return zY.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GU(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var IA=!1;function GY(t,e){switch(t){case"compositionend":return GU(e);case"keypress":return e.which!==32?null:(u7=!0,c7);case"textInput":return t=e.data,t===c7&&u7?null:t;default:return null}}function qY(t,e){if(IA)return t==="compositionend"||!uS&&WU(t,e)?(t=KU(),Dy=aS=cl=null,IA=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zU&&e.locale!=="ko"?null:e.data;default:return null}}var XY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A7(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XY[t.type]:e==="textarea"}function qU(t,e,r,n){SU(n),e=ax(e,"onChange"),0<e.length&&(r=new lS("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ip=null,Xp=null;function YY(t){oP(t,0)}function n2(t){var e=QA(t);if(vU(e))return t}function JY(t,e){if(t==="change")return e}var XU=!1;if(na){var r4;if(na){var n4="oninput"in document;if(!n4){var d7=document.createElement("div");d7.setAttribute("oninput","return;"),n4=typeof d7.oninput=="function"}r4=n4}else r4=!1;XU=r4&&(!document.documentMode||9<document.documentMode)}function h7(){ip&&(ip.detachEvent("onpropertychange",YU),Xp=ip=null)}function YU(t){if(t.propertyName==="value"&&n2(Xp)){var e=[];qU(e,Xp,t,rS(t)),MU(YY,e)}}function ZY(t,e,r){t==="focusin"?(h7(),ip=e,Xp=r,ip.attachEvent("onpropertychange",YU)):t==="focusout"&&h7()}function eJ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return n2(Xp)}function tJ(t,e){if(t==="click")return n2(e)}function rJ(t,e){if(t==="input"||t==="change")return n2(e)}function nJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cs=typeof Object.is=="function"?Object.is:nJ;function Yp(t,e){if(Cs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!sB.call(e,i)||!Cs(t[i],e[i]))return!1}return!0}function f7(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function p7(t,e){var r=f7(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=f7(r)}}function JU(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?JU(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ZU(){for(var t=window,e=ex();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ex(t.document)}return e}function AS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iJ(t){var e=ZU(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&JU(r.ownerDocument.documentElement,r)){if(n!==null&&AS(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=p7(r,s);var o=p7(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sJ=na&&"documentMode"in document&&11>=document.documentMode,UA=null,BB=null,sp=null,_B=!1;function m7(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_B||UA==null||UA!==ex(n)||(n=UA,"selectionStart"in n&&AS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),sp&&Yp(sp,n)||(sp=n,n=ax(BB,"onSelect"),0<n.length&&(e=new lS("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=UA)))}function R0(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var PA={animationend:R0("Animation","AnimationEnd"),animationiteration:R0("Animation","AnimationIteration"),animationstart:R0("Animation","AnimationStart"),transitionend:R0("Transition","TransitionEnd")},i4={},eP={};na&&(eP=document.createElement("div").style,"AnimationEvent"in window||(delete PA.animationend.animation,delete PA.animationiteration.animation,delete PA.animationstart.animation),"TransitionEvent"in window||delete PA.transitionend.transition);function i2(t){if(i4[t])return i4[t];if(!PA[t])return t;var e=PA[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in eP)return i4[t]=e[r];return t}var tP=i2("animationend"),rP=i2("animationiteration"),nP=i2("animationstart"),iP=i2("transitionend"),sP=new Map,g7="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yl(t,e){sP.set(t,e),Nu(e,[t])}for(var s4=0;s4<g7.length;s4++){var o4=g7[s4],oJ=o4.toLowerCase(),aJ=o4[0].toUpperCase()+o4.slice(1);Yl(oJ,"on"+aJ)}Yl(tP,"onAnimationEnd");Yl(rP,"onAnimationIteration");Yl(nP,"onAnimationStart");Yl("dblclick","onDoubleClick");Yl("focusin","onFocus");Yl("focusout","onBlur");Yl(iP,"onTransitionEnd");Ld("onMouseEnter",["mouseout","mouseover"]);Ld("onMouseLeave",["mouseout","mouseover"]);Ld("onPointerEnter",["pointerout","pointerover"]);Ld("onPointerLeave",["pointerout","pointerover"]);Nu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tf));function y7(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,oY(n,e,void 0,t),t.currentTarget=null}function oP(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;y7(i,a,c),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;y7(i,a,c),s=l}}}if(rx)throw t=xB,rx=!1,xB=null,t}function wt(t,e){var r=e[MB];r===void 0&&(r=e[MB]=new Set);var n=t+"__bubble";r.has(n)||(aP(e,t,2,!1),r.add(n))}function a4(t,e,r){var n=0;e&&(n|=4),aP(r,t,n,e)}var H0="_reactListening"+Math.random().toString(36).slice(2);function Jp(t){if(!t[H0]){t[H0]=!0,fU.forEach(function(r){r!=="selectionchange"&&(lJ.has(r)||a4(r,!1,t),a4(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[H0]||(e[H0]=!0,a4("selectionchange",!1,e))}}function aP(t,e,r,n){switch(VU(e)){case 1:var i=wY;break;case 4:i=CY;break;default:i=oS}r=i.bind(null,e,r,t),i=void 0,!vB||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function l4(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=zc(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}MU(function(){var c=s,u=rS(r),A=[];e:{var h=sP.get(t);if(h!==void 0){var f=lS,p=t;switch(t){case"keypress":if(Ly(r)===0)break e;case"keydown":case"keyup":f=UY;break;case"focusin":p="focus",f=t4;break;case"focusout":p="blur",f=t4;break;case"beforeblur":case"afterblur":f=t4;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=o7;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=SY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=RY;break;case tP:case rP:case nP:f=FY;break;case iP:f=$Y;break;case"scroll":f=BY;break;case"wheel":f=KY;break;case"copy":case"cut":case"paste":f=TY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=l7}var m=(e&4)!==0,y=!m&&t==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var v=c,x;v!==null;){x=v;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,g!==null&&(b=zp(v,g),b!=null&&m.push(Zp(v,b,x)))),y)break;v=v.return}0<m.length&&(h=new f(h,p,null,r,u),A.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&r!==gB&&(p=r.relatedTarget||r.fromElement)&&(zc(p)||p[ia]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=r.relatedTarget||r.toElement,f=c,p=p?zc(p):null,p!==null&&(y=Iu(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(m=o7,b="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=l7,b="onPointerLeave",g="onPointerEnter",v="pointer"),y=f==null?h:QA(f),x=p==null?h:QA(p),h=new m(b,v+"leave",f,r,u),h.target=y,h.relatedTarget=x,b=null,zc(u)===c&&(m=new m(g,v+"enter",p,r,u),m.target=x,m.relatedTarget=y,b=m),y=b,f&&p)t:{for(m=f,g=p,v=0,x=m;x;x=Gu(x))v++;for(x=0,b=g;b;b=Gu(b))x++;for(;0<v-x;)m=Gu(m),v--;for(;0<x-v;)g=Gu(g),x--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=Gu(m),g=Gu(g)}m=null}else m=null;f!==null&&v7(A,h,f,m,!1),p!==null&&y!==null&&v7(A,y,p,m,!0)}}e:{if(h=c?QA(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var w=JY;else if(A7(h))if(XU)w=rJ;else{w=eJ;var C=ZY}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=tJ);if(w&&(w=w(t,c))){qU(A,w,r,u);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&dB(h,"number",h.value)}switch(C=c?QA(c):window,t){case"focusin":(A7(C)||C.contentEditable==="true")&&(UA=C,BB=c,sp=null);break;case"focusout":sp=BB=UA=null;break;case"mousedown":_B=!0;break;case"contextmenu":case"mouseup":case"dragend":_B=!1,m7(A,r,u);break;case"selectionchange":if(sJ)break;case"keydown":case"keyup":m7(A,r,u)}var B;if(uS)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else IA?WU(t,r)&&(_="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(zU&&r.locale!=="ko"&&(IA||_!=="onCompositionStart"?_==="onCompositionEnd"&&IA&&(B=KU()):(cl=u,aS="value"in cl?cl.value:cl.textContent,IA=!0)),C=ax(c,_),0<C.length&&(_=new a7(_,t,null,r,u),A.push({event:_,listeners:C}),B?_.data=B:(B=GU(r),B!==null&&(_.data=B)))),(B=WY?GY(t,r):qY(t,r))&&(c=ax(c,"onBeforeInput"),0<c.length&&(u=new a7("onBeforeInput","beforeinput",null,r,u),A.push({event:u,listeners:c}),u.data=B))}oP(A,e)})}function Zp(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ax(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zp(t,r),s!=null&&n.unshift(Zp(t,s,i)),s=zp(t,e),s!=null&&n.push(Zp(t,s,i))),t=t.return}return n}function Gu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function v7(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=zp(r,s),l!=null&&o.unshift(Zp(r,l,a))):i||(l=zp(r,s),l!=null&&o.push(Zp(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var cJ=/\r\n?/g,uJ=/\u0000|\uFFFD/g;function x7(t){return(typeof t=="string"?t:""+t).replace(cJ,`
`).replace(uJ,"")}function $0(t,e,r){if(e=x7(e),x7(t)!==e&&r)throw Error(ce(425))}function lx(){}var SB=null,kB=null;function EB(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var FB=typeof setTimeout=="function"?setTimeout:void 0,AJ=typeof clearTimeout=="function"?clearTimeout:void 0,b7=typeof Promise=="function"?Promise:void 0,dJ=typeof queueMicrotask=="function"?queueMicrotask:typeof b7<"u"?function(t){return b7.resolve(null).then(t).catch(hJ)}:FB;function hJ(t){setTimeout(function(){throw t})}function c4(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),qp(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);qp(e)}function Cl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function w7(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var sh=Math.random().toString(36).slice(2),Xs="__reactFiber$"+sh,em="__reactProps$"+sh,ia="__reactContainer$"+sh,MB="__reactEvents$"+sh,fJ="__reactListeners$"+sh,pJ="__reactHandles$"+sh;function zc(t){var e=t[Xs];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ia]||r[Xs]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=w7(t);t!==null;){if(r=t[Xs])return r;t=w7(t)}return e}t=r,r=t.parentNode}return null}function Xm(t){return t=t[Xs]||t[ia],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function QA(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function s2(t){return t[em]||null}var TB=[],RA=-1;function Jl(t){return{current:t}}function Ct(t){0>RA||(t.current=TB[RA],TB[RA]=null,RA--)}function bt(t,e){RA++,TB[RA]=t.current,t.current=e}var jl={},An=Jl(jl),Hn=Jl(!1),yu=jl;function jd(t,e){var r=t.type.contextTypes;if(!r)return jl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $n(t){return t=t.childContextTypes,t!=null}function cx(){Ct(Hn),Ct(An)}function C7(t,e,r){if(An.current!==jl)throw Error(ce(168));bt(An,e),bt(Hn,r)}function lP(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ce(108,ZX(t)||"Unknown",i));return Pt({},r,n)}function ux(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jl,yu=An.current,bt(An,t),bt(Hn,Hn.current),!0}function B7(t,e,r){var n=t.stateNode;if(!n)throw Error(ce(169));r?(t=lP(t,e,yu),n.__reactInternalMemoizedMergedChildContext=t,Ct(Hn),Ct(An),bt(An,t)):Ct(Hn),bt(Hn,r)}var Io=null,o2=!1,u4=!1;function cP(t){Io===null?Io=[t]:Io.push(t)}function mJ(t){o2=!0,cP(t)}function Zl(){if(!u4&&Io!==null){u4=!0;var t=0,e=dt;try{var r=Io;for(dt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Io=null,o2=!1}catch(i){throw Io!==null&&(Io=Io.slice(t+1)),jU(nS,Zl),i}finally{dt=e,u4=!1}}return null}var HA=[],$A=0,Ax=null,dx=0,Oi=[],Ni=0,vu=null,Ho=1,$o="";function Ec(t,e){HA[$A++]=dx,HA[$A++]=Ax,Ax=t,dx=e}function uP(t,e,r){Oi[Ni++]=Ho,Oi[Ni++]=$o,Oi[Ni++]=vu,vu=t;var n=Ho;t=$o;var i=32-ms(n)-1;n&=~(1<<i),r+=1;var s=32-ms(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Ho=1<<32-ms(e)+i|r<<i|n,$o=s+t}else Ho=1<<s|r<<i|n,$o=t}function dS(t){t.return!==null&&(Ec(t,1),uP(t,1,0))}function hS(t){for(;t===Ax;)Ax=HA[--$A],HA[$A]=null,dx=HA[--$A],HA[$A]=null;for(;t===vu;)vu=Oi[--Ni],Oi[Ni]=null,$o=Oi[--Ni],Oi[Ni]=null,Ho=Oi[--Ni],Oi[Ni]=null}var Ai=null,ui=null,Ft=!1,cs=null;function AP(t,e){var r=Pi(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function _7(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ai=t,ui=Cl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ai=t,ui=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=vu!==null?{id:Ho,overflow:$o}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Pi(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ai=t,ui=null,!0):!1;default:return!1}}function DB(t){return(t.mode&1)!==0&&(t.flags&128)===0}function LB(t){if(Ft){var e=ui;if(e){var r=e;if(!_7(t,e)){if(DB(t))throw Error(ce(418));e=Cl(r.nextSibling);var n=Ai;e&&_7(t,e)?AP(n,r):(t.flags=t.flags&-4097|2,Ft=!1,Ai=t)}}else{if(DB(t))throw Error(ce(418));t.flags=t.flags&-4097|2,Ft=!1,Ai=t}}}function S7(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ai=t}function V0(t){if(t!==Ai)return!1;if(!Ft)return S7(t),Ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!EB(t.type,t.memoizedProps)),e&&(e=ui)){if(DB(t))throw dP(),Error(ce(418));for(;e;)AP(t,e),e=Cl(e.nextSibling)}if(S7(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ui=Cl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ui=null}}else ui=Ai?Cl(t.stateNode.nextSibling):null;return!0}function dP(){for(var t=ui;t;)t=Cl(t.nextSibling)}function Od(){ui=Ai=null,Ft=!1}function fS(t){cs===null?cs=[t]:cs.push(t)}var gJ=pa.ReactCurrentBatchConfig;function Dh(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ce(309));var n=r.stateNode}if(!n)throw Error(ce(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ce(284));if(!r._owner)throw Error(ce(290,t))}return t}function K0(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function k7(t){var e=t._init;return e(t._payload)}function hP(t){function e(g,v){if(t){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function r(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=kl(g,v),g.index=0,g.sibling=null,g}function s(g,v,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=2,v):x):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,x,b){return v===null||v.tag!==6?(v=g4(x,g.mode,b),v.return=g,v):(v=i(v,x),v.return=g,v)}function l(g,v,x,b){var w=x.type;return w===NA?u(g,v,x.props.children,b,x.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ja&&k7(w)===v.type)?(b=i(v,x.props),b.ref=Dh(g,v,x),b.return=g,b):(b=Qy(x.type,x.key,x.props,null,g.mode,b),b.ref=Dh(g,v,x),b.return=g,b)}function c(g,v,x,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=y4(x,g.mode,b),v.return=g,v):(v=i(v,x.children||[]),v.return=g,v)}function u(g,v,x,b,w){return v===null||v.tag!==7?(v=su(x,g.mode,b,w),v.return=g,v):(v=i(v,x),v.return=g,v)}function A(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=g4(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case j0:return x=Qy(v.type,v.key,v.props,null,g.mode,x),x.ref=Dh(g,null,v),x.return=g,x;case OA:return v=y4(v,g.mode,x),v.return=g,v;case Ja:var b=v._init;return A(g,b(v._payload),x)}if(Ff(v)||kh(v))return v=su(v,g.mode,x,null),v.return=g,v;K0(g,v)}return null}function h(g,v,x,b){var w=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:a(g,v,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case j0:return x.key===w?l(g,v,x,b):null;case OA:return x.key===w?c(g,v,x,b):null;case Ja:return w=x._init,h(g,v,w(x._payload),b)}if(Ff(x)||kh(x))return w!==null?null:u(g,v,x,b,null);K0(g,x)}return null}function f(g,v,x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(x)||null,a(v,g,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case j0:return g=g.get(b.key===null?x:b.key)||null,l(v,g,b,w);case OA:return g=g.get(b.key===null?x:b.key)||null,c(v,g,b,w);case Ja:var C=b._init;return f(g,v,x,C(b._payload),w)}if(Ff(b)||kh(b))return g=g.get(x)||null,u(v,g,b,w,null);K0(v,b)}return null}function p(g,v,x,b){for(var w=null,C=null,B=v,_=v=0,k=null;B!==null&&_<x.length;_++){B.index>_?(k=B,B=null):k=B.sibling;var E=h(g,B,x[_],b);if(E===null){B===null&&(B=k);break}t&&B&&E.alternate===null&&e(g,B),v=s(E,v,_),C===null?w=E:C.sibling=E,C=E,B=k}if(_===x.length)return r(g,B),Ft&&Ec(g,_),w;if(B===null){for(;_<x.length;_++)B=A(g,x[_],b),B!==null&&(v=s(B,v,_),C===null?w=B:C.sibling=B,C=B);return Ft&&Ec(g,_),w}for(B=n(g,B);_<x.length;_++)k=f(B,g,_,x[_],b),k!==null&&(t&&k.alternate!==null&&B.delete(k.key===null?_:k.key),v=s(k,v,_),C===null?w=k:C.sibling=k,C=k);return t&&B.forEach(function(F){return e(g,F)}),Ft&&Ec(g,_),w}function m(g,v,x,b){var w=kh(x);if(typeof w!="function")throw Error(ce(150));if(x=w.call(x),x==null)throw Error(ce(151));for(var C=w=null,B=v,_=v=0,k=null,E=x.next();B!==null&&!E.done;_++,E=x.next()){B.index>_?(k=B,B=null):k=B.sibling;var F=h(g,B,E.value,b);if(F===null){B===null&&(B=k);break}t&&B&&F.alternate===null&&e(g,B),v=s(F,v,_),C===null?w=F:C.sibling=F,C=F,B=k}if(E.done)return r(g,B),Ft&&Ec(g,_),w;if(B===null){for(;!E.done;_++,E=x.next())E=A(g,E.value,b),E!==null&&(v=s(E,v,_),C===null?w=E:C.sibling=E,C=E);return Ft&&Ec(g,_),w}for(B=n(g,B);!E.done;_++,E=x.next())E=f(B,g,_,E.value,b),E!==null&&(t&&E.alternate!==null&&B.delete(E.key===null?_:E.key),v=s(E,v,_),C===null?w=E:C.sibling=E,C=E);return t&&B.forEach(function(M){return e(g,M)}),Ft&&Ec(g,_),w}function y(g,v,x,b){if(typeof x=="object"&&x!==null&&x.type===NA&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case j0:e:{for(var w=x.key,C=v;C!==null;){if(C.key===w){if(w=x.type,w===NA){if(C.tag===7){r(g,C.sibling),v=i(C,x.props.children),v.return=g,g=v;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ja&&k7(w)===C.type){r(g,C.sibling),v=i(C,x.props),v.ref=Dh(g,C,x),v.return=g,g=v;break e}r(g,C);break}else e(g,C);C=C.sibling}x.type===NA?(v=su(x.props.children,g.mode,b,x.key),v.return=g,g=v):(b=Qy(x.type,x.key,x.props,null,g.mode,b),b.ref=Dh(g,v,x),b.return=g,g=b)}return o(g);case OA:e:{for(C=x.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(g,v.sibling),v=i(v,x.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else e(g,v);v=v.sibling}v=y4(x,g.mode,b),v.return=g,g=v}return o(g);case Ja:return C=x._init,y(g,v,C(x._payload),b)}if(Ff(x))return p(g,v,x,b);if(kh(x))return m(g,v,x,b);K0(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,x),v.return=g,g=v):(r(g,v),v=g4(x,g.mode,b),v.return=g,g=v),o(g)):r(g,v)}return y}var Nd=hP(!0),fP=hP(!1),hx=Jl(null),fx=null,VA=null,pS=null;function mS(){pS=VA=fx=null}function gS(t){var e=hx.current;Ct(hx),t._currentValue=e}function jB(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function gd(t,e){fx=t,pS=VA=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rn=!0),t.firstContext=null)}function Ki(t){var e=t._currentValue;if(pS!==t)if(t={context:t,memoizedValue:e,next:null},VA===null){if(fx===null)throw Error(ce(308));VA=t,fx.dependencies={lanes:0,firstContext:t}}else VA=VA.next=t;return e}var Wc=null;function yS(t){Wc===null?Wc=[t]:Wc.push(t)}function pP(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,yS(e)):(r.next=i.next,i.next=r),e.interleaved=r,sa(t,n)}function sa(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Za=!1;function vS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bl(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ye&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,sa(t,r)}return i=n.interleaved,i===null?(e.next=e,yS(n)):(e.next=i.next,i.next=e),n.interleaved=e,sa(t,r)}function jy(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,iS(t,r)}}function E7(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function px(t,e,r,n){var i=t.updateQueue;Za=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var A=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(h=e,f=r,m.tag){case 1:if(p=m.payload,typeof p=="function"){A=p.call(f,A,h);break e}A=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(f,A,h):p,h==null)break e;A=Pt({},A,h);break e;case 2:Za=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=A):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=A),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);bu|=o,t.lanes=o,t.memoizedState=A}}function F7(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ce(191,i));i.call(n)}}}var Ym={},oo=Jl(Ym),tm=Jl(Ym),rm=Jl(Ym);function Gc(t){if(t===Ym)throw Error(ce(174));return t}function xS(t,e){switch(bt(rm,e),bt(tm,t),bt(oo,Ym),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fB(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fB(e,t)}Ct(oo),bt(oo,e)}function Id(){Ct(oo),Ct(tm),Ct(rm)}function gP(t){Gc(rm.current);var e=Gc(oo.current),r=fB(e,t.type);e!==r&&(bt(tm,t),bt(oo,r))}function bS(t){tm.current===t&&(Ct(oo),Ct(tm))}var Ot=Jl(0);function mx(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var A4=[];function wS(){for(var t=0;t<A4.length;t++)A4[t]._workInProgressVersionPrimary=null;A4.length=0}var Oy=pa.ReactCurrentDispatcher,d4=pa.ReactCurrentBatchConfig,xu=0,Ut=null,pr=null,kr=null,gx=!1,op=!1,nm=0,yJ=0;function Gr(){throw Error(ce(321))}function CS(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Cs(t[r],e[r]))return!1;return!0}function BS(t,e,r,n,i,s){if(xu=s,Ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Oy.current=t===null||t.memoizedState===null?wJ:CJ,t=r(n,i),op){s=0;do{if(op=!1,nm=0,25<=s)throw Error(ce(301));s+=1,kr=pr=null,e.updateQueue=null,Oy.current=BJ,t=r(n,i)}while(op)}if(Oy.current=yx,e=pr!==null&&pr.next!==null,xu=0,kr=pr=Ut=null,gx=!1,e)throw Error(ce(300));return t}function _S(){var t=nm!==0;return nm=0,t}function $s(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kr===null?Ut.memoizedState=kr=t:kr=kr.next=t,kr}function zi(){if(pr===null){var t=Ut.alternate;t=t!==null?t.memoizedState:null}else t=pr.next;var e=kr===null?Ut.memoizedState:kr.next;if(e!==null)kr=e,pr=t;else{if(t===null)throw Error(ce(310));pr=t,t={memoizedState:pr.memoizedState,baseState:pr.baseState,baseQueue:pr.baseQueue,queue:pr.queue,next:null},kr===null?Ut.memoizedState=kr=t:kr=kr.next=t}return kr}function im(t,e){return typeof e=="function"?e(t):e}function h4(t){var e=zi(),r=e.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var n=pr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((xu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var A={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=A,o=n):l=l.next=A,Ut.lanes|=u,bu|=u}c=c.next}while(c!==null&&c!==s);l===null?o=n:l.next=a,Cs(n,e.memoizedState)||(Rn=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Ut.lanes|=s,bu|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function f4(t){var e=zi(),r=e.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Cs(s,e.memoizedState)||(Rn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function yP(){}function vP(t,e){var r=Ut,n=zi(),i=e(),s=!Cs(n.memoizedState,i);if(s&&(n.memoizedState=i,Rn=!0),n=n.queue,SS(wP.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||kr!==null&&kr.memoizedState.tag&1){if(r.flags|=2048,sm(9,bP.bind(null,r,n,i,e),void 0,null),Fr===null)throw Error(ce(349));xu&30||xP(r,e,i)}return i}function xP(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ut.updateQueue,e===null?(e={lastEffect:null,stores:null},Ut.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function bP(t,e,r,n){e.value=r,e.getSnapshot=n,CP(e)&&BP(t)}function wP(t,e,r){return r(function(){CP(e)&&BP(t)})}function CP(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Cs(t,r)}catch{return!0}}function BP(t){var e=sa(t,1);e!==null&&gs(e,t,1,-1)}function M7(t){var e=$s();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:im,lastRenderedState:t},e.queue=t,t=t.dispatch=bJ.bind(null,Ut,t),[e.memoizedState,t]}function sm(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ut.updateQueue,e===null?(e={lastEffect:null,stores:null},Ut.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function _P(){return zi().memoizedState}function Ny(t,e,r,n){var i=$s();Ut.flags|=t,i.memoizedState=sm(1|e,r,void 0,n===void 0?null:n)}function a2(t,e,r,n){var i=zi();n=n===void 0?null:n;var s=void 0;if(pr!==null){var o=pr.memoizedState;if(s=o.destroy,n!==null&&CS(n,o.deps)){i.memoizedState=sm(e,r,s,n);return}}Ut.flags|=t,i.memoizedState=sm(1|e,r,s,n)}function T7(t,e){return Ny(8390656,8,t,e)}function SS(t,e){return a2(2048,8,t,e)}function SP(t,e){return a2(4,2,t,e)}function kP(t,e){return a2(4,4,t,e)}function EP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FP(t,e,r){return r=r!=null?r.concat([t]):null,a2(4,4,EP.bind(null,e,t),r)}function kS(){}function MP(t,e){var r=zi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&CS(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function TP(t,e){var r=zi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&CS(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function DP(t,e,r){return xu&21?(Cs(r,e)||(r=IU(),Ut.lanes|=r,bu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rn=!0),t.memoizedState=r)}function vJ(t,e){var r=dt;dt=r!==0&&4>r?r:4,t(!0);var n=d4.transition;d4.transition={};try{t(!1),e()}finally{dt=r,d4.transition=n}}function LP(){return zi().memoizedState}function xJ(t,e,r){var n=Sl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},jP(t))OP(e,r);else if(r=pP(t,e,r,n),r!==null){var i=Bn();gs(r,t,n,i),NP(r,e,n)}}function bJ(t,e,r){var n=Sl(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(jP(t))OP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Cs(a,o)){var l=e.interleaved;l===null?(i.next=i,yS(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=pP(t,e,i,n),r!==null&&(i=Bn(),gs(r,t,n,i),NP(r,e,n))}}function jP(t){var e=t.alternate;return t===Ut||e!==null&&e===Ut}function OP(t,e){op=gx=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function NP(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,iS(t,r)}}var yx={readContext:Ki,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useInsertionEffect:Gr,useLayoutEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useMutableSource:Gr,useSyncExternalStore:Gr,useId:Gr,unstable_isNewReconciler:!1},wJ={readContext:Ki,useCallback:function(t,e){return $s().memoizedState=[t,e===void 0?null:e],t},useContext:Ki,useEffect:T7,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ny(4194308,4,EP.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ny(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ny(4,2,t,e)},useMemo:function(t,e){var r=$s();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=$s();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=xJ.bind(null,Ut,t),[n.memoizedState,t]},useRef:function(t){var e=$s();return t={current:t},e.memoizedState=t},useState:M7,useDebugValue:kS,useDeferredValue:function(t){return $s().memoizedState=t},useTransition:function(){var t=M7(!1),e=t[0];return t=vJ.bind(null,t[1]),$s().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ut,i=$s();if(Ft){if(r===void 0)throw Error(ce(407));r=r()}else{if(r=e(),Fr===null)throw Error(ce(349));xu&30||xP(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,T7(wP.bind(null,n,s,t),[t]),n.flags|=2048,sm(9,bP.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=$s(),e=Fr.identifierPrefix;if(Ft){var r=$o,n=Ho;r=(n&~(1<<32-ms(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=nm++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=yJ++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CJ={readContext:Ki,useCallback:MP,useContext:Ki,useEffect:SS,useImperativeHandle:FP,useInsertionEffect:SP,useLayoutEffect:kP,useMemo:TP,useReducer:h4,useRef:_P,useState:function(){return h4(im)},useDebugValue:kS,useDeferredValue:function(t){var e=zi();return DP(e,pr.memoizedState,t)},useTransition:function(){var t=h4(im)[0],e=zi().memoizedState;return[t,e]},useMutableSource:yP,useSyncExternalStore:vP,useId:LP,unstable_isNewReconciler:!1},BJ={readContext:Ki,useCallback:MP,useContext:Ki,useEffect:SS,useImperativeHandle:FP,useInsertionEffect:SP,useLayoutEffect:kP,useMemo:TP,useReducer:f4,useRef:_P,useState:function(){return f4(im)},useDebugValue:kS,useDeferredValue:function(t){var e=zi();return pr===null?e.memoizedState=t:DP(e,pr.memoizedState,t)},useTransition:function(){var t=f4(im)[0],e=zi().memoizedState;return[t,e]},useMutableSource:yP,useSyncExternalStore:vP,useId:LP,unstable_isNewReconciler:!1};function ss(t,e){if(t&&t.defaultProps){e=Pt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function OB(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Pt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var l2={isMounted:function(t){return(t=t._reactInternals)?Iu(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Bn(),i=Sl(t),s=qo(n,i);s.payload=e,r!=null&&(s.callback=r),e=Bl(t,s,i),e!==null&&(gs(e,t,i,n),jy(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Bn(),i=Sl(t),s=qo(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Bl(t,s,i),e!==null&&(gs(e,t,i,n),jy(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Bn(),n=Sl(t),i=qo(r,n);i.tag=2,e!=null&&(i.callback=e),e=Bl(t,i,n),e!==null&&(gs(e,t,n,r),jy(e,t,n))}};function D7(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Yp(r,n)||!Yp(i,s):!0}function IP(t,e,r){var n=!1,i=jl,s=e.contextType;return typeof s=="object"&&s!==null?s=Ki(s):(i=$n(e)?yu:An.current,n=e.contextTypes,s=(n=n!=null)?jd(t,i):jl),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=l2,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function L7(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&l2.enqueueReplaceState(e,e.state,null)}function NB(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},vS(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ki(s):(s=$n(e)?yu:An.current,i.context=jd(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(OB(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&l2.enqueueReplaceState(i,i.state,null),px(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ud(t,e){try{var r="",n=e;do r+=JX(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function p4(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function IB(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var _J=typeof WeakMap=="function"?WeakMap:Map;function UP(t,e,r){r=qo(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){xx||(xx=!0,WB=n),IB(t,e)},r}function PP(t,e,r){r=qo(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){IB(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){IB(t,e),typeof n!="function"&&(_l===null?_l=new Set([this]):_l.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function j7(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new _J;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=PJ.bind(null,t,e,r),e.then(t,t))}function O7(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function N7(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=qo(-1,1),e.tag=2,Bl(r,e,1))),r.lanes|=1),t)}var SJ=pa.ReactCurrentOwner,Rn=!1;function gn(t,e,r,n){e.child=t===null?fP(e,null,r,n):Nd(e,t.child,r,n)}function I7(t,e,r,n,i){r=r.render;var s=e.ref;return gd(e,i),n=BS(t,e,r,n,s,i),r=_S(),t!==null&&!Rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oa(t,e,i)):(Ft&&r&&dS(e),e.flags|=1,gn(t,e,n,i),e.child)}function U7(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!OS(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,QP(t,e,s,n,i)):(t=Qy(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Yp,r(o,n)&&t.ref===e.ref)return oa(t,e,i)}return e.flags|=1,t=kl(s,n),t.ref=e.ref,t.return=e,e.child=t}function QP(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Yp(s,n)&&t.ref===e.ref)if(Rn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Rn=!0);else return e.lanes=t.lanes,oa(t,e,i)}return UB(t,e,r,n,i)}function RP(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(zA,oi),oi|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,bt(zA,oi),oi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,bt(zA,oi),oi|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,bt(zA,oi),oi|=n;return gn(t,e,i,r),e.child}function HP(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function UB(t,e,r,n,i){var s=$n(r)?yu:An.current;return s=jd(e,s),gd(e,i),r=BS(t,e,r,n,s,i),n=_S(),t!==null&&!Rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oa(t,e,i)):(Ft&&n&&dS(e),e.flags|=1,gn(t,e,r,i),e.child)}function P7(t,e,r,n,i){if($n(r)){var s=!0;ux(e)}else s=!1;if(gd(e,i),e.stateNode===null)Iy(t,e),IP(e,r,n),NB(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ki(c):(c=$n(r)?yu:An.current,c=jd(e,c));var u=r.getDerivedStateFromProps,A=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";A||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&L7(e,o,n,c),Za=!1;var h=e.memoizedState;o.state=h,px(e,n,o,i),l=e.memoizedState,a!==n||h!==l||Hn.current||Za?(typeof u=="function"&&(OB(e,r,u,n),l=e.memoizedState),(a=Za||D7(e,r,a,n,h,l,c))?(A||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,mP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ss(e.type,a),o.props=c,A=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ki(l):(l=$n(r)?yu:An.current,l=jd(e,l));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==A||h!==l)&&L7(e,o,n,l),Za=!1,h=e.memoizedState,o.state=h,px(e,n,o,i);var p=e.memoizedState;a!==A||h!==p||Hn.current||Za?(typeof f=="function"&&(OB(e,r,f,n),p=e.memoizedState),(c=Za||D7(e,r,c,n,h,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return PB(t,e,r,n,s,i)}function PB(t,e,r,n,i,s){HP(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&B7(e,r,!1),oa(t,e,s);n=e.stateNode,SJ.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Nd(e,t.child,null,s),e.child=Nd(e,null,a,s)):gn(t,e,a,s),e.memoizedState=n.state,i&&B7(e,r,!0),e.child}function $P(t){var e=t.stateNode;e.pendingContext?C7(t,e.pendingContext,e.pendingContext!==e.context):e.context&&C7(t,e.context,!1),xS(t,e.containerInfo)}function Q7(t,e,r,n,i){return Od(),fS(i),e.flags|=256,gn(t,e,r,n),e.child}var QB={dehydrated:null,treeContext:null,retryLane:0};function RB(t){return{baseLanes:t,cachePool:null,transitions:null}}function VP(t,e,r){var n=e.pendingProps,i=Ot.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),bt(Ot,i&1),t===null)return LB(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=A2(o,n,0,null),t=su(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=RB(r),e.memoizedState=QB,t):ES(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return kJ(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=kl(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=kl(a,s):(s=su(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?RB(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=QB,n}return s=t.child,t=s.sibling,n=kl(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ES(t,e){return e=A2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function z0(t,e,r,n){return n!==null&&fS(n),Nd(e,t.child,null,r),t=ES(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kJ(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=p4(Error(ce(422))),z0(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=A2({mode:"visible",children:n.children},i,0,null),s=su(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Nd(e,t.child,null,o),e.child.memoizedState=RB(o),e.memoizedState=QB,s);if(!(e.mode&1))return z0(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(ce(419)),n=p4(s,n,void 0),z0(t,e,o,n)}if(a=(o&t.childLanes)!==0,Rn||a){if(n=Fr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,sa(t,i),gs(n,t,i,-1))}return jS(),n=p4(Error(ce(421))),z0(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=QJ.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ui=Cl(i.nextSibling),Ai=e,Ft=!0,cs=null,t!==null&&(Oi[Ni++]=Ho,Oi[Ni++]=$o,Oi[Ni++]=vu,Ho=t.id,$o=t.overflow,vu=e),e=ES(e,n.children),e.flags|=4096,e)}function R7(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),jB(t.return,e,r)}function m4(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function KP(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(gn(t,e,n.children,r),n=Ot.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&R7(t,r,e);else if(t.tag===19)R7(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(bt(Ot,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&mx(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),m4(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&mx(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}m4(e,!0,r,null,s);break;case"together":m4(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Iy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function oa(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),bu|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,r=kl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=kl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function EJ(t,e,r){switch(e.tag){case 3:$P(e),Od();break;case 5:gP(e);break;case 1:$n(e.type)&&ux(e);break;case 4:xS(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;bt(hx,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(bt(Ot,Ot.current&1),e.flags|=128,null):r&e.child.childLanes?VP(t,e,r):(bt(Ot,Ot.current&1),t=oa(t,e,r),t!==null?t.sibling:null);bt(Ot,Ot.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return KP(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),bt(Ot,Ot.current),n)break;return null;case 22:case 23:return e.lanes=0,RP(t,e,r)}return oa(t,e,r)}var zP,HB,WP,GP;zP=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};HB=function(){};WP=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Gc(oo.current);var s=null;switch(r){case"input":i=uB(t,i),n=uB(t,n),s=[];break;case"select":i=Pt({},i,{value:void 0}),n=Pt({},n,{value:void 0}),s=[];break;case"textarea":i=hB(t,i),n=hB(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=lx)}pB(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vp.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&wt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};GP=function(t,e,r,n){r!==n&&(e.flags|=4)};function Lh(t,e){if(!Ft)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function qr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function FJ(t,e,r){var n=e.pendingProps;switch(hS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qr(e),null;case 1:return $n(e.type)&&cx(),qr(e),null;case 3:return n=e.stateNode,Id(),Ct(Hn),Ct(An),wS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(V0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cs!==null&&(XB(cs),cs=null))),HB(t,e),qr(e),null;case 5:bS(e);var i=Gc(rm.current);if(r=e.type,t!==null&&e.stateNode!=null)WP(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ce(166));return qr(e),null}if(t=Gc(oo.current),V0(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Xs]=e,n[em]=s,t=(e.mode&1)!==0,r){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(i=0;i<Tf.length;i++)wt(Tf[i],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":XE(n,s),wt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},wt("invalid",n);break;case"textarea":JE(n,s),wt("invalid",n)}pB(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&$0(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&$0(n.textContent,a,t),i=["children",""+a]):Vp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&wt("scroll",n)}switch(r){case"input":O0(n),YE(n,s,!0);break;case"textarea":O0(n),ZE(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=lx)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wU(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Xs]=e,t[em]=n,zP(t,e,!1,!1),e.stateNode=t;e:{switch(o=mB(r,n),r){case"dialog":wt("cancel",t),wt("close",t),i=n;break;case"iframe":case"object":case"embed":wt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Tf.length;i++)wt(Tf[i],t);i=n;break;case"source":wt("error",t),i=n;break;case"img":case"image":case"link":wt("error",t),wt("load",t),i=n;break;case"details":wt("toggle",t),i=n;break;case"input":XE(t,n),i=uB(t,n),wt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Pt({},n,{value:void 0}),wt("invalid",t);break;case"textarea":JE(t,n),i=hB(t,n),wt("invalid",t);break;default:i=n}pB(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?_U(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&CU(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Kp(t,l):typeof l=="number"&&Kp(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&wt("scroll",t):l!=null&&J_(t,s,l,o))}switch(r){case"input":O0(t),YE(t,n,!1);break;case"textarea":O0(t),ZE(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ll(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?hd(t,!!n.multiple,s,!1):n.defaultValue!=null&&hd(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=lx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qr(e),null;case 6:if(t&&e.stateNode!=null)GP(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ce(166));if(r=Gc(rm.current),Gc(oo.current),V0(e)){if(n=e.stateNode,r=e.memoizedProps,n[Xs]=e,(s=n.nodeValue!==r)&&(t=Ai,t!==null))switch(t.tag){case 3:$0(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$0(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xs]=e,e.stateNode=n}return qr(e),null;case 13:if(Ct(Ot),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ft&&ui!==null&&e.mode&1&&!(e.flags&128))dP(),Od(),e.flags|=98560,s=!1;else if(s=V0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(ce(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ce(317));s[Xs]=e}else Od(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qr(e),s=!1}else cs!==null&&(XB(cs),cs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ot.current&1?yr===0&&(yr=3):jS())),e.updateQueue!==null&&(e.flags|=4),qr(e),null);case 4:return Id(),HB(t,e),t===null&&Jp(e.stateNode.containerInfo),qr(e),null;case 10:return gS(e.type._context),qr(e),null;case 17:return $n(e.type)&&cx(),qr(e),null;case 19:if(Ct(Ot),s=e.memoizedState,s===null)return qr(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Lh(s,!1);else{if(yr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mx(t),o!==null){for(e.flags|=128,Lh(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return bt(Ot,Ot.current&1|2),e.child}t=t.sibling}s.tail!==null&&Yt()>Pd&&(e.flags|=128,n=!0,Lh(s,!1),e.lanes=4194304)}else{if(!n)if(t=mx(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Lh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ft)return qr(e),null}else 2*Yt()-s.renderingStartTime>Pd&&r!==1073741824&&(e.flags|=128,n=!0,Lh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Yt(),e.sibling=null,r=Ot.current,bt(Ot,n?r&1|2:r&1),e):(qr(e),null);case 22:case 23:return LS(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?oi&1073741824&&(qr(e),e.subtreeFlags&6&&(e.flags|=8192)):qr(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function MJ(t,e){switch(hS(e),e.tag){case 1:return $n(e.type)&&cx(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Id(),Ct(Hn),Ct(An),wS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bS(e),null;case 13:if(Ct(Ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));Od()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ct(Ot),null;case 4:return Id(),null;case 10:return gS(e.type._context),null;case 22:case 23:return LS(),null;case 24:return null;default:return null}}var W0=!1,on=!1,TJ=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function KA(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ht(t,e,n)}else r.current=null}function $B(t,e,r){try{r()}catch(n){Ht(t,e,n)}}var H7=!1;function DJ(t,e){if(SB=sx,t=ZU(),AS(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,u=0,A=t,h=null;t:for(;;){for(var f;A!==r||i!==0&&A.nodeType!==3||(a=o+i),A!==s||n!==0&&A.nodeType!==3||(l=o+n),A.nodeType===3&&(o+=A.nodeValue.length),(f=A.firstChild)!==null;)h=A,A=f;for(;;){if(A===t)break t;if(h===r&&++c===i&&(a=o),h===s&&++u===n&&(l=o),(f=A.nextSibling)!==null)break;A=h,h=A.parentNode}A=f}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(kB={focusedElem:t,selectionRange:r},sx=!1,Ce=e;Ce!==null;)if(e=Ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ce=t;else for(;Ce!==null;){e=Ce;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:ss(e.type,m),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(b){Ht(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Ce=t;break}Ce=e.return}return p=H7,H7=!1,p}function ap(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&$B(e,r,s)}i=i.next}while(i!==n)}}function c2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function VB(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function qP(t){var e=t.alternate;e!==null&&(t.alternate=null,qP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xs],delete e[em],delete e[MB],delete e[fJ],delete e[pJ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function XP(t){return t.tag===5||t.tag===3||t.tag===4}function $7(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||XP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function KB(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=lx));else if(n!==4&&(t=t.child,t!==null))for(KB(t,e,r),t=t.sibling;t!==null;)KB(t,e,r),t=t.sibling}function zB(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(zB(t,e,r),t=t.sibling;t!==null;)zB(t,e,r),t=t.sibling}var Nr=null,os=!1;function _a(t,e,r){for(r=r.child;r!==null;)YP(t,e,r),r=r.sibling}function YP(t,e,r){if(so&&typeof so.onCommitFiberUnmount=="function")try{so.onCommitFiberUnmount(t2,r)}catch{}switch(r.tag){case 5:on||KA(r,e);case 6:var n=Nr,i=os;Nr=null,_a(t,e,r),Nr=n,os=i,Nr!==null&&(os?(t=Nr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Nr.removeChild(r.stateNode));break;case 18:Nr!==null&&(os?(t=Nr,r=r.stateNode,t.nodeType===8?c4(t.parentNode,r):t.nodeType===1&&c4(t,r),qp(t)):c4(Nr,r.stateNode));break;case 4:n=Nr,i=os,Nr=r.stateNode.containerInfo,os=!0,_a(t,e,r),Nr=n,os=i;break;case 0:case 11:case 14:case 15:if(!on&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&$B(r,e,o),i=i.next}while(i!==n)}_a(t,e,r);break;case 1:if(!on&&(KA(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ht(r,e,a)}_a(t,e,r);break;case 21:_a(t,e,r);break;case 22:r.mode&1?(on=(n=on)||r.memoizedState!==null,_a(t,e,r),on=n):_a(t,e,r);break;default:_a(t,e,r)}}function V7(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new TJ),e.forEach(function(n){var i=RJ.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Yi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Nr=a.stateNode,os=!1;break e;case 3:Nr=a.stateNode.containerInfo,os=!0;break e;case 4:Nr=a.stateNode.containerInfo,os=!0;break e}a=a.return}if(Nr===null)throw Error(ce(160));YP(s,o,i),Nr=null,os=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ht(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)JP(e,t),e=e.sibling}function JP(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yi(e,t),Ds(t),n&4){try{ap(3,t,t.return),c2(3,t)}catch(m){Ht(t,t.return,m)}try{ap(5,t,t.return)}catch(m){Ht(t,t.return,m)}}break;case 1:Yi(e,t),Ds(t),n&512&&r!==null&&KA(r,r.return);break;case 5:if(Yi(e,t),Ds(t),n&512&&r!==null&&KA(r,r.return),t.flags&32){var i=t.stateNode;try{Kp(i,"")}catch(m){Ht(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&xU(i,s),mB(a,o);var c=mB(a,s);for(o=0;o<l.length;o+=2){var u=l[o],A=l[o+1];u==="style"?_U(i,A):u==="dangerouslySetInnerHTML"?CU(i,A):u==="children"?Kp(i,A):J_(i,u,A,c)}switch(a){case"input":AB(i,s);break;case"textarea":bU(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?hd(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?hd(i,!!s.multiple,s.defaultValue,!0):hd(i,!!s.multiple,s.multiple?[]:"",!1))}i[em]=s}catch(m){Ht(t,t.return,m)}}break;case 6:if(Yi(e,t),Ds(t),n&4){if(t.stateNode===null)throw Error(ce(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Ht(t,t.return,m)}}break;case 3:if(Yi(e,t),Ds(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{qp(e.containerInfo)}catch(m){Ht(t,t.return,m)}break;case 4:Yi(e,t),Ds(t);break;case 13:Yi(e,t),Ds(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(TS=Yt())),n&4&&V7(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(on=(c=on)||u,Yi(e,t),on=c):Yi(e,t),Ds(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ce=t,u=t.child;u!==null;){for(A=Ce=u;Ce!==null;){switch(h=Ce,f=h.child,h.tag){case 0:case 11:case 14:case 15:ap(4,h,h.return);break;case 1:KA(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Ht(n,r,m)}}break;case 5:KA(h,h.return);break;case 22:if(h.memoizedState!==null){z7(A);continue}}f!==null?(f.return=h,Ce=f):z7(A)}u=u.sibling}e:for(u=null,A=t;;){if(A.tag===5){if(u===null){u=A;try{i=A.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=A.stateNode,l=A.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=BU("display",o))}catch(m){Ht(t,t.return,m)}}}else if(A.tag===6){if(u===null)try{A.stateNode.nodeValue=c?"":A.memoizedProps}catch(m){Ht(t,t.return,m)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===t)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===t)break e;for(;A.sibling===null;){if(A.return===null||A.return===t)break e;u===A&&(u=null),A=A.return}u===A&&(u=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:Yi(e,t),Ds(t),n&4&&V7(t);break;case 21:break;default:Yi(e,t),Ds(t)}}function Ds(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(XP(r)){var n=r;break e}r=r.return}throw Error(ce(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Kp(i,""),n.flags&=-33);var s=$7(t);zB(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=$7(t);KB(t,a,o);break;default:throw Error(ce(161))}}catch(l){Ht(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LJ(t,e,r){Ce=t,ZP(t)}function ZP(t,e,r){for(var n=(t.mode&1)!==0;Ce!==null;){var i=Ce,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||W0;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||on;a=W0;var c=on;if(W0=o,(on=l)&&!c)for(Ce=i;Ce!==null;)o=Ce,l=o.child,o.tag===22&&o.memoizedState!==null?W7(i):l!==null?(l.return=o,Ce=l):W7(i);for(;s!==null;)Ce=s,ZP(s),s=s.sibling;Ce=i,W0=a,on=c}K7(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ce=s):K7(t)}}function K7(t){for(;Ce!==null;){var e=Ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:on||c2(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!on)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ss(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&F7(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}F7(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var A=u.dehydrated;A!==null&&qp(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}on||e.flags&512&&VB(e)}catch(h){Ht(e,e.return,h)}}if(e===t){Ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ce=r;break}Ce=e.return}}function z7(t){for(;Ce!==null;){var e=Ce;if(e===t){Ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ce=r;break}Ce=e.return}}function W7(t){for(;Ce!==null;){var e=Ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{c2(4,e)}catch(l){Ht(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Ht(e,i,l)}}var s=e.return;try{VB(e)}catch(l){Ht(e,s,l)}break;case 5:var o=e.return;try{VB(e)}catch(l){Ht(e,o,l)}}}catch(l){Ht(e,e.return,l)}if(e===t){Ce=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ce=a;break}Ce=e.return}}var jJ=Math.ceil,vx=pa.ReactCurrentDispatcher,FS=pa.ReactCurrentOwner,Hi=pa.ReactCurrentBatchConfig,Ye=0,Fr=null,Ar=null,Vr=0,oi=0,zA=Jl(0),yr=0,om=null,bu=0,u2=0,MS=0,lp=null,Un=null,TS=0,Pd=1/0,jo=null,xx=!1,WB=null,_l=null,G0=!1,ul=null,bx=0,cp=0,GB=null,Uy=-1,Py=0;function Bn(){return Ye&6?Yt():Uy!==-1?Uy:Uy=Yt()}function Sl(t){return t.mode&1?Ye&2&&Vr!==0?Vr&-Vr:gJ.transition!==null?(Py===0&&(Py=IU()),Py):(t=dt,t!==0||(t=window.event,t=t===void 0?16:VU(t.type)),t):1}function gs(t,e,r,n){if(50<cp)throw cp=0,GB=null,Error(ce(185));Gm(t,r,n),(!(Ye&2)||t!==Fr)&&(t===Fr&&(!(Ye&2)&&(u2|=r),yr===4&&sl(t,Vr)),Vn(t,n),r===1&&Ye===0&&!(e.mode&1)&&(Pd=Yt()+500,o2&&Zl()))}function Vn(t,e){var r=t.callbackNode;gY(t,e);var n=ix(t,t===Fr?Vr:0);if(n===0)r!==null&&r7(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&r7(r),e===1)t.tag===0?mJ(G7.bind(null,t)):cP(G7.bind(null,t)),dJ(function(){!(Ye&6)&&Zl()}),r=null;else{switch(UU(n)){case 1:r=nS;break;case 4:r=OU;break;case 16:r=nx;break;case 536870912:r=NU;break;default:r=nx}r=aQ(r,eQ.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function eQ(t,e){if(Uy=-1,Py=0,Ye&6)throw Error(ce(327));var r=t.callbackNode;if(yd()&&t.callbackNode!==r)return null;var n=ix(t,t===Fr?Vr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=wx(t,n);else{e=n;var i=Ye;Ye|=2;var s=rQ();(Fr!==t||Vr!==e)&&(jo=null,Pd=Yt()+500,iu(t,e));do try{IJ();break}catch(a){tQ(t,a)}while(!0);mS(),vx.current=s,Ye=i,Ar!==null?e=0:(Fr=null,Vr=0,e=yr)}if(e!==0){if(e===2&&(i=bB(t),i!==0&&(n=i,e=qB(t,i))),e===1)throw r=om,iu(t,0),sl(t,n),Vn(t,Yt()),r;if(e===6)sl(t,n);else{if(i=t.current.alternate,!(n&30)&&!OJ(i)&&(e=wx(t,n),e===2&&(s=bB(t),s!==0&&(n=s,e=qB(t,s))),e===1))throw r=om,iu(t,0),sl(t,n),Vn(t,Yt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ce(345));case 2:Fc(t,Un,jo);break;case 3:if(sl(t,n),(n&130023424)===n&&(e=TS+500-Yt(),10<e)){if(ix(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Bn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=FB(Fc.bind(null,t,Un,jo),e);break}Fc(t,Un,jo);break;case 4:if(sl(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-ms(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Yt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*jJ(n/1960))-n,10<n){t.timeoutHandle=FB(Fc.bind(null,t,Un,jo),n);break}Fc(t,Un,jo);break;case 5:Fc(t,Un,jo);break;default:throw Error(ce(329))}}}return Vn(t,Yt()),t.callbackNode===r?eQ.bind(null,t):null}function qB(t,e){var r=lp;return t.current.memoizedState.isDehydrated&&(iu(t,e).flags|=256),t=wx(t,e),t!==2&&(e=Un,Un=r,e!==null&&XB(e)),t}function XB(t){Un===null?Un=t:Un.push.apply(Un,t)}function OJ(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Cs(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sl(t,e){for(e&=~MS,e&=~u2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ms(e),n=1<<r;t[r]=-1,e&=~n}}function G7(t){if(Ye&6)throw Error(ce(327));yd();var e=ix(t,0);if(!(e&1))return Vn(t,Yt()),null;var r=wx(t,e);if(t.tag!==0&&r===2){var n=bB(t);n!==0&&(e=n,r=qB(t,n))}if(r===1)throw r=om,iu(t,0),sl(t,e),Vn(t,Yt()),r;if(r===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fc(t,Un,jo),Vn(t,Yt()),null}function DS(t,e){var r=Ye;Ye|=1;try{return t(e)}finally{Ye=r,Ye===0&&(Pd=Yt()+500,o2&&Zl())}}function wu(t){ul!==null&&ul.tag===0&&!(Ye&6)&&yd();var e=Ye;Ye|=1;var r=Hi.transition,n=dt;try{if(Hi.transition=null,dt=1,t)return t()}finally{dt=n,Hi.transition=r,Ye=e,!(Ye&6)&&Zl()}}function LS(){oi=zA.current,Ct(zA)}function iu(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,AJ(r)),Ar!==null)for(r=Ar.return;r!==null;){var n=r;switch(hS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&cx();break;case 3:Id(),Ct(Hn),Ct(An),wS();break;case 5:bS(n);break;case 4:Id();break;case 13:Ct(Ot);break;case 19:Ct(Ot);break;case 10:gS(n.type._context);break;case 22:case 23:LS()}r=r.return}if(Fr=t,Ar=t=kl(t.current,null),Vr=oi=e,yr=0,om=null,MS=u2=bu=0,Un=lp=null,Wc!==null){for(e=0;e<Wc.length;e++)if(r=Wc[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Wc=null}return t}function tQ(t,e){do{var r=Ar;try{if(mS(),Oy.current=yx,gx){for(var n=Ut.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}gx=!1}if(xu=0,kr=pr=Ut=null,op=!1,nm=0,FS.current=null,r===null||r.return===null){yr=1,om=e,Ar=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=Vr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,A=u.tag;if(!(u.mode&1)&&(A===0||A===11||A===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=O7(o);if(f!==null){f.flags&=-257,N7(f,o,a,s,e),f.mode&1&&j7(s,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){j7(s,c,e),jS();break e}l=Error(ce(426))}}else if(Ft&&a.mode&1){var y=O7(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),N7(y,o,a,s,e),fS(Ud(l,a));break e}}s=l=Ud(l,a),yr!==4&&(yr=2),lp===null?lp=[s]:lp.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=UP(s,l,e);E7(s,g);break e;case 1:a=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(_l===null||!_l.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=PP(s,a,e);E7(s,b);break e}}s=s.return}while(s!==null)}iQ(r)}catch(w){e=w,Ar===r&&r!==null&&(Ar=r=r.return);continue}break}while(!0)}function rQ(){var t=vx.current;return vx.current=yx,t===null?yx:t}function jS(){(yr===0||yr===3||yr===2)&&(yr=4),Fr===null||!(bu&268435455)&&!(u2&268435455)||sl(Fr,Vr)}function wx(t,e){var r=Ye;Ye|=2;var n=rQ();(Fr!==t||Vr!==e)&&(jo=null,iu(t,e));do try{NJ();break}catch(i){tQ(t,i)}while(!0);if(mS(),Ye=r,vx.current=n,Ar!==null)throw Error(ce(261));return Fr=null,Vr=0,yr}function NJ(){for(;Ar!==null;)nQ(Ar)}function IJ(){for(;Ar!==null&&!lY();)nQ(Ar)}function nQ(t){var e=oQ(t.alternate,t,oi);t.memoizedProps=t.pendingProps,e===null?iQ(t):Ar=e,FS.current=null}function iQ(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=MJ(r,e),r!==null){r.flags&=32767,Ar=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yr=6,Ar=null;return}}else if(r=FJ(r,e,oi),r!==null){Ar=r;return}if(e=e.sibling,e!==null){Ar=e;return}Ar=e=t}while(e!==null);yr===0&&(yr=5)}function Fc(t,e,r){var n=dt,i=Hi.transition;try{Hi.transition=null,dt=1,UJ(t,e,r,n)}finally{Hi.transition=i,dt=n}return null}function UJ(t,e,r,n){do yd();while(ul!==null);if(Ye&6)throw Error(ce(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(yY(t,s),t===Fr&&(Ar=Fr=null,Vr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||G0||(G0=!0,aQ(nx,function(){return yd(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Hi.transition,Hi.transition=null;var o=dt;dt=1;var a=Ye;Ye|=4,FS.current=null,DJ(t,r),JP(r,t),iJ(kB),sx=!!SB,kB=SB=null,t.current=r,LJ(r),cY(),Ye=a,dt=o,Hi.transition=s}else t.current=r;if(G0&&(G0=!1,ul=t,bx=i),s=t.pendingLanes,s===0&&(_l=null),dY(r.stateNode),Vn(t,Yt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(xx)throw xx=!1,t=WB,WB=null,t;return bx&1&&t.tag!==0&&yd(),s=t.pendingLanes,s&1?t===GB?cp++:(cp=0,GB=t):cp=0,Zl(),null}function yd(){if(ul!==null){var t=UU(bx),e=Hi.transition,r=dt;try{if(Hi.transition=null,dt=16>t?16:t,ul===null)var n=!1;else{if(t=ul,ul=null,bx=0,Ye&6)throw Error(ce(331));var i=Ye;for(Ye|=4,Ce=t.current;Ce!==null;){var s=Ce,o=s.child;if(Ce.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ce=c;Ce!==null;){var u=Ce;switch(u.tag){case 0:case 11:case 15:ap(8,u,s)}var A=u.child;if(A!==null)A.return=u,Ce=A;else for(;Ce!==null;){u=Ce;var h=u.sibling,f=u.return;if(qP(u),u===c){Ce=null;break}if(h!==null){h.return=f,Ce=h;break}Ce=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Ce=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ce=o;else e:for(;Ce!==null;){if(s=Ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ap(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Ce=g;break e}Ce=s.return}}var v=t.current;for(Ce=v;Ce!==null;){o=Ce;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Ce=x;else e:for(o=v;Ce!==null;){if(a=Ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:c2(9,a)}}catch(w){Ht(a,a.return,w)}if(a===o){Ce=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Ce=b;break e}Ce=a.return}}if(Ye=i,Zl(),so&&typeof so.onPostCommitFiberRoot=="function")try{so.onPostCommitFiberRoot(t2,t)}catch{}n=!0}return n}finally{dt=r,Hi.transition=e}}return!1}function q7(t,e,r){e=Ud(r,e),e=UP(t,e,1),t=Bl(t,e,1),e=Bn(),t!==null&&(Gm(t,1,e),Vn(t,e))}function Ht(t,e,r){if(t.tag===3)q7(t,t,r);else for(;e!==null;){if(e.tag===3){q7(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_l===null||!_l.has(n))){t=Ud(r,t),t=PP(e,t,1),e=Bl(e,t,1),t=Bn(),e!==null&&(Gm(e,1,t),Vn(e,t));break}}e=e.return}}function PJ(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Bn(),t.pingedLanes|=t.suspendedLanes&r,Fr===t&&(Vr&r)===r&&(yr===4||yr===3&&(Vr&130023424)===Vr&&500>Yt()-TS?iu(t,0):MS|=r),Vn(t,e)}function sQ(t,e){e===0&&(t.mode&1?(e=U0,U0<<=1,!(U0&130023424)&&(U0=4194304)):e=1);var r=Bn();t=sa(t,e),t!==null&&(Gm(t,e,r),Vn(t,r))}function QJ(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),sQ(t,r)}function RJ(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ce(314))}n!==null&&n.delete(e),sQ(t,r)}var oQ;oQ=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Hn.current)Rn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Rn=!1,EJ(t,e,r);Rn=!!(t.flags&131072)}else Rn=!1,Ft&&e.flags&1048576&&uP(e,dx,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Iy(t,e),t=e.pendingProps;var i=jd(e,An.current);gd(e,r),i=BS(null,e,n,t,i,r);var s=_S();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$n(n)?(s=!0,ux(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vS(e),i.updater=l2,e.stateNode=i,i._reactInternals=e,NB(e,n,t,r),e=PB(null,e,n,!0,s,r)):(e.tag=0,Ft&&s&&dS(e),gn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Iy(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=$J(n),t=ss(n,t),i){case 0:e=UB(null,e,n,t,r);break e;case 1:e=P7(null,e,n,t,r);break e;case 11:e=I7(null,e,n,t,r);break e;case 14:e=U7(null,e,n,ss(n.type,t),r);break e}throw Error(ce(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ss(n,i),UB(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ss(n,i),P7(t,e,n,i,r);case 3:e:{if($P(e),t===null)throw Error(ce(387));n=e.pendingProps,s=e.memoizedState,i=s.element,mP(t,e),px(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ud(Error(ce(423)),e),e=Q7(t,e,n,r,i);break e}else if(n!==i){i=Ud(Error(ce(424)),e),e=Q7(t,e,n,r,i);break e}else for(ui=Cl(e.stateNode.containerInfo.firstChild),Ai=e,Ft=!0,cs=null,r=fP(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Od(),n===i){e=oa(t,e,r);break e}gn(t,e,n,r)}e=e.child}return e;case 5:return gP(e),t===null&&LB(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,EB(n,i)?o=null:s!==null&&EB(n,s)&&(e.flags|=32),HP(t,e),gn(t,e,o,r),e.child;case 6:return t===null&&LB(e),null;case 13:return VP(t,e,r);case 4:return xS(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Nd(e,null,n,r):gn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ss(n,i),I7(t,e,n,i,r);case 7:return gn(t,e,e.pendingProps,r),e.child;case 8:return gn(t,e,e.pendingProps.children,r),e.child;case 12:return gn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,bt(hx,n._currentValue),n._currentValue=o,s!==null)if(Cs(s.value,o)){if(s.children===i.children&&!Hn.current){e=oa(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=qo(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),jB(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ce(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),jB(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}gn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,gd(e,r),i=Ki(i),n=n(i),e.flags|=1,gn(t,e,n,r),e.child;case 14:return n=e.type,i=ss(n,e.pendingProps),i=ss(n.type,i),U7(t,e,n,i,r);case 15:return QP(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ss(n,i),Iy(t,e),e.tag=1,$n(n)?(t=!0,ux(e)):t=!1,gd(e,r),IP(e,n,i),NB(e,n,i,r),PB(null,e,n,!0,t,r);case 19:return KP(t,e,r);case 22:return RP(t,e,r)}throw Error(ce(156,e.tag))};function aQ(t,e){return jU(t,e)}function HJ(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(t,e,r,n){return new HJ(t,e,r,n)}function OS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $J(t){if(typeof t=="function")return OS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===eS)return 11;if(t===tS)return 14}return 2}function kl(t,e){var r=t.alternate;return r===null?(r=Pi(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Qy(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")OS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case NA:return su(r.children,i,s,e);case Z_:o=8,i|=8;break;case oB:return t=Pi(12,r,e,i|2),t.elementType=oB,t.lanes=s,t;case aB:return t=Pi(13,r,e,i),t.elementType=aB,t.lanes=s,t;case lB:return t=Pi(19,r,e,i),t.elementType=lB,t.lanes=s,t;case gU:return A2(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pU:o=10;break e;case mU:o=9;break e;case eS:o=11;break e;case tS:o=14;break e;case Ja:o=16,n=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=Pi(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function su(t,e,r,n){return t=Pi(7,t,n,e),t.lanes=r,t}function A2(t,e,r,n){return t=Pi(22,t,n,e),t.elementType=gU,t.lanes=r,t.stateNode={isHidden:!1},t}function g4(t,e,r){return t=Pi(6,t,null,e),t.lanes=r,t}function y4(t,e,r){return e=Pi(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VJ(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jw(0),this.expirationTimes=Jw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jw(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function NS(t,e,r,n,i,s,o,a,l){return t=new VJ(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},vS(s),t}function KJ(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:OA,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function lQ(t){if(!t)return jl;t=t._reactInternals;e:{if(Iu(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($n(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var r=t.type;if($n(r))return lP(t,r,e)}return e}function cQ(t,e,r,n,i,s,o,a,l){return t=NS(r,n,!0,t,i,s,o,a,l),t.context=lQ(null),r=t.current,n=Bn(),i=Sl(r),s=qo(n,i),s.callback=e??null,Bl(r,s,i),t.current.lanes=i,Gm(t,i,n),Vn(t,n),t}function d2(t,e,r,n){var i=e.current,s=Bn(),o=Sl(i);return r=lQ(r),e.context===null?e.context=r:e.pendingContext=r,e=qo(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Bl(i,e,o),t!==null&&(gs(t,i,o,s),jy(t,i,o)),o}function Cx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function X7(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function IS(t,e){X7(t,e),(t=t.alternate)&&X7(t,e)}var uQ=typeof reportError=="function"?reportError:function(t){console.error(t)};function US(t){this._internalRoot=t}h2.prototype.render=US.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));d2(t,e,null,null)};h2.prototype.unmount=US.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wu(function(){d2(null,t,null,null)}),e[ia]=null}};function h2(t){this._internalRoot=t}h2.prototype.unstable_scheduleHydration=function(t){if(t){var e=RU();t={blockedOn:null,target:t,priority:e};for(var r=0;r<il.length&&e!==0&&e<il[r].priority;r++);il.splice(r,0,t),r===0&&$U(t)}};function PS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Y7(){}function zJ(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=Cx(o);s.call(c)}}var o=cQ(e,n,t,0,null,!1,!1,"",Y7);return t._reactRootContainer=o,t[ia]=o.current,Jp(t.nodeType===8?t.parentNode:t),wu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=Cx(l);a.call(c)}}var l=NS(t,0,!1,null,null,!1,!1,"",Y7);return t._reactRootContainer=l,t[ia]=l.current,Jp(t.nodeType===8?t.parentNode:t),wu(function(){d2(e,l,r,n)}),l}function p2(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Cx(o);a.call(l)}}d2(e,o,t,i)}else o=zJ(r,e,t,i,n);return Cx(o)}PU=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Mf(e.pendingLanes);r!==0&&(iS(e,r|1),Vn(e,Yt()),!(Ye&6)&&(Pd=Yt()+500,Zl()))}break;case 13:wu(function(){var n=sa(t,1);if(n!==null){var i=Bn();gs(n,t,1,i)}}),IS(t,1)}};sS=function(t){if(t.tag===13){var e=sa(t,134217728);if(e!==null){var r=Bn();gs(e,t,134217728,r)}IS(t,134217728)}};QU=function(t){if(t.tag===13){var e=Sl(t),r=sa(t,e);if(r!==null){var n=Bn();gs(r,t,e,n)}IS(t,e)}};RU=function(){return dt};HU=function(t,e){var r=dt;try{return dt=t,e()}finally{dt=r}};yB=function(t,e,r){switch(e){case"input":if(AB(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=s2(n);if(!i)throw Error(ce(90));vU(n),AB(n,i)}}}break;case"textarea":bU(t,r);break;case"select":e=r.value,e!=null&&hd(t,!!r.multiple,e,!1)}};EU=DS;FU=wu;var WJ={usingClientEntryPoint:!1,Events:[Xm,QA,s2,SU,kU,DS]},jh={findFiberByHostInstance:zc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GJ={bundleType:jh.bundleType,version:jh.version,rendererPackageName:jh.rendererPackageName,rendererConfig:jh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=DU(t),t===null?null:t.stateNode},findFiberByHostInstance:jh.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var q0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!q0.isDisabled&&q0.supportsFiber)try{t2=q0.inject(GJ),so=q0}catch{}}vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WJ;vi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!PS(e))throw Error(ce(200));return KJ(t,e,null,r)};vi.createRoot=function(t,e){if(!PS(t))throw Error(ce(299));var r=!1,n="",i=uQ;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=NS(t,1,!1,null,null,r,!1,n,i),t[ia]=e.current,Jp(t.nodeType===8?t.parentNode:t),new US(e)};vi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=DU(e),t=t===null?null:t.stateNode,t};vi.flushSync=function(t){return wu(t)};vi.hydrate=function(t,e,r){if(!f2(e))throw Error(ce(200));return p2(null,t,e,!0,r)};vi.hydrateRoot=function(t,e,r){if(!PS(t))throw Error(ce(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=uQ;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=cQ(e,null,t,1,r??null,i,!1,s,o),t[ia]=e.current,Jp(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new h2(e)};vi.render=function(t,e,r){if(!f2(e))throw Error(ce(200));return p2(null,t,e,!1,r)};vi.unmountComponentAtNode=function(t){if(!f2(t))throw Error(ce(40));return t._reactRootContainer?(wu(function(){p2(null,null,t,!1,function(){t._reactRootContainer=null,t[ia]=null})}),!0):!1};vi.unstable_batchedUpdates=DS;vi.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!f2(r))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return p2(t,e,r,!1,n)};vi.version="18.3.1-next-f1338f8080-20240426";function AQ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AQ)}catch(t){console.error(t)}}AQ(),AU.exports=vi;var dQ=AU.exports,hQ,J7=dQ;hQ=J7.createRoot,J7.hydrateRoot;var QS={};Object.defineProperty(QS,"__esModule",{value:!0});QS.parse=tZ;QS.serialize=rZ;const qJ=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,XJ=/^[\u0021-\u003A\u003C-\u007E]*$/,YJ=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,JJ=/^[\u0020-\u003A\u003D-\u007E]*$/,ZJ=Object.prototype.toString,eZ=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function tZ(t,e){const r=new eZ,n=t.length;if(n<2)return r;const i=(e==null?void 0:e.decode)||nZ;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const a=t.indexOf(";",s),l=a===-1?n:a;if(o>l){s=t.lastIndexOf(";",o-1)+1;continue}const c=Z7(t,s,o),u=eF(t,o,c),A=t.slice(c,u);if(r[A]===void 0){let h=Z7(t,o+1,l),f=eF(t,l,h);const p=i(t.slice(h,f));r[A]=p}s=l+1}while(s<n);return r}function Z7(t,e,r){do{const n=t.charCodeAt(e);if(n!==32&&n!==9)return e}while(++e<r);return r}function eF(t,e,r){for(;e>r;){const n=t.charCodeAt(--e);if(n!==32&&n!==9)return e+1}return r}function rZ(t,e,r){const n=(r==null?void 0:r.encode)||encodeURIComponent;if(!qJ.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=n(e);if(!XJ.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!r)return s;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);s+="; Max-Age="+r.maxAge}if(r.domain){if(!YJ.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);s+="; Domain="+r.domain}if(r.path){if(!JJ.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);s+="; Path="+r.path}if(r.expires){if(!iZ(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.partitioned&&(s+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return s}function nZ(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function iZ(t){return ZJ.call(t)==="[object Date]"}/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tF="popstate";function sZ(t={}){function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return YB("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:am(i)}return aZ(e,r,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oZ(){return Math.random().toString(36).substring(2,10)}function rF(t,e){return{usr:t.state,key:t.key,idx:e}}function YB(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?oh(e):e,state:r,key:e&&e.key||n||oZ()}}function am({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function oh(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function aZ(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a="POP",l=null,c=u();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function A(){a="POP";let y=u(),g=y==null?null:y-c;c=y,l&&l({action:a,location:m.location,delta:g})}function h(y,g){a="PUSH";let v=YB(m.location,y,g);c=u()+1;let x=rF(v,c),b=m.createHref(v);try{o.pushState(x,"",b)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(b)}s&&l&&l({action:a,location:m.location,delta:1})}function f(y,g){a="REPLACE";let v=YB(m.location,y,g);c=u();let x=rF(v,c),b=m.createHref(v);o.replaceState(x,"",b),s&&l&&l({action:a,location:m.location,delta:0})}function p(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:am(y);return v=v.replace(/ $/,"%20"),Dt(g,`No window.location.(origin|href) available to create URL for href: ${v}`),new URL(v,g)}let m={get action(){return a},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(tF,A),l=y,()=>{i.removeEventListener(tF,A),l=null}},createHref(y){return e(i,y)},createURL:p,encodeLocation(y){let g=p(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:f,go(y){return o.go(y)}};return m}function fQ(t,e,r="/"){return lZ(t,e,r,!1)}function lZ(t,e,r,n){let i=typeof e=="string"?oh(e):e,s=Ol(i.pathname||"/",r);if(s==null)return null;let o=pQ(t);cZ(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=xZ(s);a=yZ(o[l],c,n)}return a}function pQ(t,e=[],r=[],n=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Dt(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let c=Xo([n,l.relativePath]),u=r.concat(l);s.children&&s.children.length>0&&(Dt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),pQ(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:mZ(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of mQ(s.path))i(s,o,l)}),e}function mQ(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=mQ(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function cZ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:gZ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var uZ=/^:[\w-]+$/,AZ=3,dZ=2,hZ=1,fZ=10,pZ=-2,nF=t=>t==="*";function mZ(t,e){let r=t.split("/"),n=r.length;return r.some(nF)&&(n+=pZ),e&&(n+=dZ),r.filter(i=>!nF(i)).reduce((i,s)=>i+(uZ.test(s)?AZ:s===""?hZ:fZ),n)}function gZ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function yZ(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",A=Bx({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!A&&c&&r&&!n[n.length-1].route.index&&(A=Bx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!A)return null;Object.assign(i,A.params),o.push({params:i,pathname:Xo([s,A.pathname]),pathnameBase:BZ(Xo([s,A.pathnameBase])),route:h}),A.pathnameBase!=="/"&&(s=Xo([s,A.pathnameBase]))}return o}function Bx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=vZ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((c,{paramName:u,isOptional:A},h)=>{if(u==="*"){let p=a[h]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const f=a[h];return A&&!f?c[u]=void 0:c[u]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function vZ(t,e=!1,r=!0){Bs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function xZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bs(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ol(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function bZ(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?oh(t):t;return{pathname:r?r.startsWith("/")?r:wZ(r,e):e,search:_Z(n),hash:SZ(i)}}function wZ(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function v4(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CZ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function RS(t){let e=CZ(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function HS(t,e,r,n=!1){let i;typeof t=="string"?i=oh(t):(i={...t},Dt(!i.pathname||!i.pathname.includes("?"),v4("?","pathname","search",i)),Dt(!i.pathname||!i.pathname.includes("#"),v4("#","pathname","hash",i)),Dt(!i.search||!i.search.includes("#"),v4("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let A=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),A-=1;i.pathname=h.join("/")}a=A>=0?e[A]:"/"}let l=bZ(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Xo=t=>t.join("/").replace(/\/\/+/g,"/"),BZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_Z=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,SZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var gQ=["POST","PUT","PATCH","DELETE"];new Set(gQ);var EZ=["GET",...gQ];new Set(EZ);var ah=S.createContext(null);ah.displayName="DataRouter";var m2=S.createContext(null);m2.displayName="DataRouterState";var yQ=S.createContext({isTransitioning:!1});yQ.displayName="ViewTransition";var FZ=S.createContext(new Map);FZ.displayName="Fetchers";var MZ=S.createContext(null);MZ.displayName="Await";var Es=S.createContext(null);Es.displayName="Navigation";var Jm=S.createContext(null);Jm.displayName="Location";var qi=S.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var $S=S.createContext(null);$S.displayName="RouteError";function TZ(t,{relative:e}={}){Dt(lh(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=S.useContext(Es),{hash:i,pathname:s,search:o}=Zm(t,{relative:e}),a=s;return r!=="/"&&(a=s==="/"?r:Xo([r,s])),n.createHref({pathname:a,search:o,hash:i})}function lh(){return S.useContext(Jm)!=null}function Fs(){return Dt(lh(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Jm).location}var vQ="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xQ(t){S.useContext(Es).static||S.useLayoutEffect(t)}function Ze(){let{isDataRoute:t}=S.useContext(qi);return t?zZ():DZ()}function DZ(){Dt(lh(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(ah),{basename:e,navigator:r}=S.useContext(Es),{matches:n}=S.useContext(qi),{pathname:i}=Fs(),s=JSON.stringify(RS(n)),o=S.useRef(!1);return xQ(()=>{o.current=!0}),S.useCallback((l,c={})=>{if(Bs(o.current,vQ),!o.current)return;if(typeof l=="number"){r.go(l);return}let u=HS(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Xo([e,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[e,r,s,i,t])}var LZ=S.createContext(null);function jZ(t){let e=S.useContext(qi).outlet;return e&&S.createElement(LZ.Provider,{value:t},e)}function dr(){let{matches:t}=S.useContext(qi),e=t[t.length-1];return e?e.params:{}}function Zm(t,{relative:e}={}){let{matches:r}=S.useContext(qi),{pathname:n}=Fs(),i=JSON.stringify(RS(r));return S.useMemo(()=>HS(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function OZ(t,e){return bQ(t,e)}function bQ(t,e,r,n){var g;Dt(lh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=S.useContext(Es),{matches:s}=S.useContext(qi),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",c=o?o.pathnameBase:"/",u=o&&o.route;{let v=u&&u.path||"";wQ(l,!u||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let A=Fs(),h;if(e){let v=typeof e=="string"?oh(e):e;Dt(c==="/"||((g=v.pathname)==null?void 0:g.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${v.pathname}" was given in the \`location\` prop.`),h=v}else h=A;let f=h.pathname||"/",p=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=fQ(t,{pathname:p});Bs(u||m!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),Bs(m==null||m[m.length-1].route.element!==void 0||m[m.length-1].route.Component!==void 0||m[m.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=QZ(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Xo([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Xo([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return e&&y?S.createElement(Jm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},y):y}function NZ(){let t=KZ(),e=kZ(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:s},"ErrorBoundary")," or"," ",S.createElement("code",{style:s},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),r?S.createElement("pre",{style:i},r):null,o)}var IZ=S.createElement(NZ,null),UZ=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?S.createElement(qi.Provider,{value:this.props.routeContext},S.createElement($S.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PZ({routeContext:t,match:e,children:r}){let n=S.useContext(ah);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(qi.Provider,{value:t},r)}function QZ(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,s=r==null?void 0:r.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Dt(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(r)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:A}=r,h=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!A||A[c.route.id]===void 0);if(c.route.lazy||h){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let A,h=!1,f=null,p=null;r&&(A=s&&c.route.id?s[c.route.id]:void 0,f=c.route.errorElement||IZ,o&&(a<0&&u===0?(wQ("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):a===u&&(h=!0,p=c.route.hydrateFallbackElement||null)));let m=e.concat(i.slice(0,u+1)),y=()=>{let g;return A?g=f:h?g=p:c.route.Component?g=S.createElement(c.route.Component,null):c.route.element?g=c.route.element:g=l,S.createElement(PZ,{match:c,routeContext:{outlet:l,matches:m,isDataRoute:r!=null},children:g})};return r&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?S.createElement(UZ,{location:r.location,revalidation:r.revalidation,component:f,error:A,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}function VS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RZ(t){let e=S.useContext(ah);return Dt(e,VS(t)),e}function HZ(t){let e=S.useContext(m2);return Dt(e,VS(t)),e}function $Z(t){let e=S.useContext(qi);return Dt(e,VS(t)),e}function KS(t){let e=$Z(t),r=e.matches[e.matches.length-1];return Dt(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function VZ(){return KS("useRouteId")}function KZ(){var n;let t=S.useContext($S),e=HZ("useRouteError"),r=KS("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function zZ(){let{router:t}=RZ("useNavigate"),e=KS("useNavigate"),r=S.useRef(!1);return xQ(()=>{r.current=!0}),S.useCallback(async(i,s={})=>{Bs(r.current,vQ),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var iF={};function wQ(t,e,r){!e&&!iF[t]&&(iF[t]=!0,Bs(!1,r))}S.memo(WZ);function WZ({routes:t,future:e,state:r}){return bQ(t,void 0,r,e)}function sF({to:t,replace:e,state:r,relative:n}){Dt(lh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=S.useContext(Es);Bs(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=S.useContext(qi),{pathname:o}=Fs(),a=Ze(),l=HS(t,RS(s),o,n==="path"),c=JSON.stringify(l);return S.useEffect(()=>{a(JSON.parse(c),{replace:e,state:r,relative:n})},[a,c,n,e,r]),null}function GZ(t){return jZ(t.context)}function xe(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qZ({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){Dt(!lh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=S.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof r=="string"&&(r=oh(r));let{pathname:l="/",search:c="",hash:u="",state:A=null,key:h="default"}=r,f=S.useMemo(()=>{let p=Ol(l,o);return p==null?null:{location:{pathname:p,search:c,hash:u,state:A,key:h},navigationType:n}},[o,l,c,u,A,h,n]);return Bs(f!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:S.createElement(Es.Provider,{value:a},S.createElement(Jm.Provider,{children:e,value:f}))}function oF({children:t,location:e}){return OZ(JB(t),e)}function JB(t,e=[]){let r=[];return S.Children.forEach(t,(n,i)=>{if(!S.isValidElement(n))return;let s=[...e,i];if(n.type===S.Fragment){r.push.apply(r,JB(n.props.children,s));return}Dt(n.type===xe,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=JB(n.props.children,s)),r.push(o)}),r}var Ry="get",Hy="application/x-www-form-urlencoded";function g2(t){return t!=null&&typeof t.tagName=="string"}function XZ(t){return g2(t)&&t.tagName.toLowerCase()==="button"}function YZ(t){return g2(t)&&t.tagName.toLowerCase()==="form"}function JZ(t){return g2(t)&&t.tagName.toLowerCase()==="input"}function ZZ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eee(t,e){return t.button===0&&(!e||e==="_self")&&!ZZ(t)}var X0=null;function tee(){if(X0===null)try{new FormData(document.createElement("form"),0),X0=!1}catch{X0=!0}return X0}var ree=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function x4(t){return t!=null&&!ree.has(t)?(Bs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hy}"`),null):t}function nee(t,e){let r,n,i,s,o;if(YZ(t)){let a=t.getAttribute("action");n=a?Ol(a,e):null,r=t.getAttribute("method")||Ry,i=x4(t.getAttribute("enctype"))||Hy,s=new FormData(t)}else if(XZ(t)||JZ(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(n=l?Ol(l,e):null,r=t.getAttribute("formmethod")||a.getAttribute("method")||Ry,i=x4(t.getAttribute("formenctype"))||x4(a.getAttribute("enctype"))||Hy,s=new FormData(a,t),!tee()){let{name:c,type:u,value:A}=t;if(u==="image"){let h=c?`${c}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else c&&s.append(c,A)}}else{if(g2(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ry,n=null,i=Hy,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:o}}function zS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function iee(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function see(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function oee(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await iee(s,r);return o.links?o.links():[]}return[]}));return uee(n.flat(1).filter(see).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function aF(t,e,r,n,i,s){let o=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,a=(l,c)=>{var u;return r[c].pathname!==l.pathname||((u=r[c].route.path)==null?void 0:u.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var A;let u=n.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((A=r[0])==null?void 0:A.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function aee(t,e){return lee(t.map(r=>{let n=e.routes[r.route.id];if(!n)return[];let i=[n.module];return n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function lee(t){return[...new Set(t)]}function cee(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function uee(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(cee(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function Aee(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function dee(){let t=S.useContext(ah);return zS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function hee(){let t=S.useContext(m2);return zS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var WS=S.createContext(void 0);WS.displayName="FrameworkContext";function CQ(){let t=S.useContext(WS);return zS(t,"You must render this element inside a <HydratedRouter> element"),t}function fee(t,e){let r=S.useContext(WS),[n,i]=S.useState(!1),[s,o]=S.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:A}=e,h=S.useRef(null);S.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let m=g=>{g.forEach(v=>{o(v.isIntersecting)})},y=new IntersectionObserver(m,{threshold:.5});return h.current&&y.observe(h.current),()=>{y.disconnect()}}},[t]),S.useEffect(()=>{if(n){let m=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(m)}}},[n]);let f=()=>{i(!0)},p=()=>{i(!1),o(!1)};return r?t!=="intent"?[s,h,{}]:[s,h,{onFocus:Oh(a,f),onBlur:Oh(l,p),onMouseEnter:Oh(c,f),onMouseLeave:Oh(u,p),onTouchStart:Oh(A,f)}]:[!1,h,{}]}function Oh(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function pee({page:t,...e}){let{router:r}=dee(),n=S.useMemo(()=>fQ(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?S.createElement(gee,{page:t,matches:n,...e}):null}function mee(t){let{manifest:e,routeModules:r}=CQ(),[n,i]=S.useState([]);return S.useEffect(()=>{let s=!1;return oee(t,e,r).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,r]),n}function gee({page:t,matches:e,...r}){let n=Fs(),{manifest:i,routeModules:s}=CQ(),{loaderData:o,matches:a}=hee(),l=S.useMemo(()=>aF(t,e,a,i,n,"data"),[t,e,a,i,n]),c=S.useMemo(()=>aF(t,e,a,i,n,"assets"),[t,e,a,i,n]),u=S.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let f=new Set,p=!1;if(e.forEach(y=>{var v;let g=i.routes[y.route.id];!g||!g.hasLoader||(!l.some(x=>x.route.id===y.route.id)&&y.route.id in o&&((v=s[y.route.id])!=null&&v.shouldRevalidate)||g.hasClientLoader?p=!0:f.add(y.route.id))}),f.size===0)return[];let m=Aee(t);return p&&f.size>0&&m.searchParams.set("_routes",e.filter(y=>f.has(y.route.id)).map(y=>y.route.id).join(",")),[m.pathname+m.search]},[o,n,i,l,e,t,s]),A=S.useMemo(()=>aee(c,i),[c,i]),h=mee(c);return S.createElement(S.Fragment,null,u.map(f=>S.createElement("link",{key:f,rel:"prefetch",as:"fetch",href:f,...r})),A.map(f=>S.createElement("link",{key:f,rel:"modulepreload",href:f,...r})),h.map(({key:f,link:p})=>S.createElement("link",{key:f,...p})))}function yee(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var BQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BQ&&(window.__reactRouterVersion="7.1.1")}catch{}function vee({basename:t,children:e,window:r}){let n=S.useRef();n.current==null&&(n.current=sZ({window:r,v5Compat:!0}));let i=n.current,[s,o]=S.useState({action:i.action,location:i.location}),a=S.useCallback(l=>{S.startTransition(()=>o(l))},[o]);return S.useLayoutEffect(()=>i.listen(a),[i,a]),S.createElement(qZ,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var _Q=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ch=S.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:A,...h},f){let{basename:p}=S.useContext(Es),m=typeof c=="string"&&_Q.test(c),y,g=!1;if(typeof c=="string"&&m&&(y=c,BQ))try{let k=new URL(window.location.href),E=c.startsWith("//")?new URL(k.protocol+c):new URL(c),F=Ol(E.pathname,p);E.origin===k.origin&&F!=null?c=F+E.search+E.hash:g=!0}catch{Bs(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=TZ(c,{relative:i}),[x,b,w]=fee(n,h),C=Cee(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:A});function B(k){e&&e(k),k.defaultPrevented||C(k)}let _=S.createElement("a",{...h,...w,href:y||v,onClick:g||s?e:B,ref:yee(f,b),target:l,"data-discover":!m&&r==="render"?"true":void 0});return x&&!m?S.createElement(S.Fragment,null,_,S.createElement(pee,{page:v})):_});ch.displayName="Link";var xee=S.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},u){let A=Zm(o,{relative:c.relative}),h=Fs(),f=S.useContext(m2),{navigator:p,basename:m}=S.useContext(Es),y=f!=null&&Eee(A)&&a===!0,g=p.encodeLocation?p.encodeLocation(A).pathname:A.pathname,v=h.pathname,x=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(v=v.toLowerCase(),x=x?x.toLowerCase():null,g=g.toLowerCase()),x&&m&&(x=Ol(x,m)||x);const b=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let w=v===g||!i&&v.startsWith(g)&&v.charAt(b)==="/",C=x!=null&&(x===g||!i&&x.startsWith(g)&&x.charAt(g.length)==="/"),B={isActive:w,isPending:C,isTransitioning:y},_=w?e:void 0,k;typeof n=="function"?k=n(B):k=[n,w?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let E=typeof s=="function"?s(B):s;return S.createElement(ch,{...c,"aria-current":_,className:k,ref:u,style:E,to:o,viewTransition:a},typeof l=="function"?l(B):l)});xee.displayName="NavLink";var bee=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:o=Ry,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:A,...h},f)=>{let p=See(),m=kee(a,{relative:c}),y=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&_Q.test(a),v=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let b=x.nativeEvent.submitter,w=(b==null?void 0:b.getAttribute("formmethod"))||o;p(b||x.currentTarget,{fetcherKey:e,method:w,navigate:r,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:A})};return S.createElement("form",{ref:f,method:y,action:m,onSubmit:n?l:v,...h,"data-discover":!g&&t==="render"?"true":void 0})});bee.displayName="Form";function wee(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SQ(t){let e=S.useContext(ah);return Dt(e,wee(t)),e}function Cee(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Ze(),l=Fs(),c=Zm(t,{relative:s});return S.useCallback(u=>{if(eee(u,e)){u.preventDefault();let A=r!==void 0?r:am(l)===am(c);a(t,{replace:A,state:n,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,r,n,e,t,i,s,o])}var Bee=0,_ee=()=>`__${String(++Bee)}__`;function See(){let{router:t}=SQ("useSubmit"),{basename:e}=S.useContext(Es),r=VZ();return S.useCallback(async(n,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=nee(n,e);if(i.navigate===!1){let u=i.fetcherKey||_ee();await t.fetch(u,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function kee(t,{relative:e}={}){let{basename:r}=S.useContext(Es),n=S.useContext(qi);Dt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Zm(t||".",{relative:e})},o=Fs();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(A=>A).forEach(A=>a.append("index",A));let u=a.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Xo([r,s.pathname])),am(s)}function Eee(t,e={}){let r=S.useContext(yQ);Dt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=SQ("useViewTransitionState"),i=Zm(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=Ol(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Ol(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Bx(i.pathname,o)!=null||Bx(i.pathname,s)!=null}new TextEncoder;const le={SUPER_ADMIN:"superAdmin",SUPER_INTENDENT:"superIntendent",ADMIN:"admin",USER:"user",TEACHER:"teacher",PARENT:"parent"},Fee=t=>{switch(t){case le.SUPER_ADMIN:return"Super Admin";case le.SUPER_INTENDENT:return"Super Intendent";case le.ADMIN:return"Principal";case le.TEACHER:return"Teacher";case le.PARENT:return"Parent";case le.USER:return"Student";default:return"Unknown Role"}},as={MCQS:"multiple-choice",QA:"question-answer"};function kQ(t,e){return function(){return t.apply(e,arguments)}}const{toString:Mee}=Object.prototype,{getPrototypeOf:GS}=Object,y2=(t=>e=>{const r=Mee.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ms=t=>(t=t.toLowerCase(),e=>y2(e)===t),v2=t=>e=>typeof e===t,{isArray:uh}=Array,lm=v2("undefined");function Tee(t){return t!==null&&!lm(t)&&t.constructor!==null&&!lm(t.constructor)&&di(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const EQ=Ms("ArrayBuffer");function Dee(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&EQ(t.buffer),e}const Lee=v2("string"),di=v2("function"),FQ=v2("number"),x2=t=>t!==null&&typeof t=="object",jee=t=>t===!0||t===!1,$y=t=>{if(y2(t)!=="object")return!1;const e=GS(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Oee=Ms("Date"),Nee=Ms("File"),Iee=Ms("Blob"),Uee=Ms("FileList"),Pee=t=>x2(t)&&di(t.pipe),Qee=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||di(t.append)&&((e=y2(t))==="formdata"||e==="object"&&di(t.toString)&&t.toString()==="[object FormData]"))},Ree=Ms("URLSearchParams"),[Hee,$ee,Vee,Kee]=["ReadableStream","Request","Response","Headers"].map(Ms),zee=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function e0(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),uh(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(n=0;n<o;n++)a=s[n],e.call(null,t[a],a,t)}}function MQ(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const qc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,TQ=t=>!lm(t)&&t!==qc;function ZB(){const{caseless:t}=TQ(this)&&this||{},e={},r=(n,i)=>{const s=t&&MQ(e,i)||i;$y(e[s])&&$y(n)?e[s]=ZB(e[s],n):$y(n)?e[s]=ZB({},n):uh(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&e0(arguments[n],r);return e}const Wee=(t,e,r,{allOwnKeys:n}={})=>(e0(e,(i,s)=>{r&&di(i)?t[s]=kQ(i,r):t[s]=i},{allOwnKeys:n}),t),Gee=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),qee=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Xee=(t,e,r,n)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&GS(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Yee=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Jee=t=>{if(!t)return null;if(uh(t))return t;let e=t.length;if(!FQ(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Zee=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&GS(Uint8Array)),ete=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},tte=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},rte=Ms("HTMLFormElement"),nte=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),lF=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),ite=Ms("RegExp"),DQ=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};e0(r,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(n[s]=o||i)}),Object.defineProperties(t,n)},ste=t=>{DQ(t,(e,r)=>{if(di(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(di(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ote=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return uh(t)?n(t):n(String(t).split(e)),r},ate=()=>{},lte=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,b4="abcdefghijklmnopqrstuvwxyz",cF="0123456789",LQ={DIGIT:cF,ALPHA:b4,ALPHA_DIGIT:b4+b4.toUpperCase()+cF},cte=(t=16,e=LQ.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function ute(t){return!!(t&&di(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Ate=t=>{const e=new Array(10),r=(n,i)=>{if(x2(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=uh(n)?[]:{};return e0(n,(o,a)=>{const l=r(o,i+1);!lm(l)&&(s[a]=l)}),e[i]=void 0,s}}return n};return r(t,0)},dte=Ms("AsyncFunction"),hte=t=>t&&(x2(t)||di(t))&&di(t.then)&&di(t.catch),jQ=((t,e)=>t?setImmediate:e?((r,n)=>(qc.addEventListener("message",({source:i,data:s})=>{i===qc&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),qc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",di(qc.postMessage)),fte=typeof queueMicrotask<"u"?queueMicrotask.bind(qc):typeof process<"u"&&process.nextTick||jQ,J={isArray:uh,isArrayBuffer:EQ,isBuffer:Tee,isFormData:Qee,isArrayBufferView:Dee,isString:Lee,isNumber:FQ,isBoolean:jee,isObject:x2,isPlainObject:$y,isReadableStream:Hee,isRequest:$ee,isResponse:Vee,isHeaders:Kee,isUndefined:lm,isDate:Oee,isFile:Nee,isBlob:Iee,isRegExp:ite,isFunction:di,isStream:Pee,isURLSearchParams:Ree,isTypedArray:Zee,isFileList:Uee,forEach:e0,merge:ZB,extend:Wee,trim:zee,stripBOM:Gee,inherits:qee,toFlatObject:Xee,kindOf:y2,kindOfTest:Ms,endsWith:Yee,toArray:Jee,forEachEntry:ete,matchAll:tte,isHTMLForm:rte,hasOwnProperty:lF,hasOwnProp:lF,reduceDescriptors:DQ,freezeMethods:ste,toObjectSet:ote,toCamelCase:nte,noop:ate,toFiniteNumber:lte,findKey:MQ,global:qc,isContextDefined:TQ,ALPHABET:LQ,generateString:cte,isSpecCompliantForm:ute,toJSONObject:Ate,isAsyncFn:dte,isThenable:hte,setImmediate:jQ,asap:fte};function je(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}J.inherits(je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}});const OQ=je.prototype,NQ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{NQ[t]={value:t}});Object.defineProperties(je,NQ);Object.defineProperty(OQ,"isAxiosError",{value:!0});je.from=(t,e,r,n,i,s)=>{const o=Object.create(OQ);return J.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),je.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const pte=null;function e5(t){return J.isPlainObject(t)||J.isArray(t)}function IQ(t){return J.endsWith(t,"[]")?t.slice(0,-2):t}function uF(t,e,r){return t?t.concat(e).map(function(i,s){return i=IQ(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function mte(t){return J.isArray(t)&&!t.some(e5)}const gte=J.toFlatObject(J,{},null,function(e){return/^is[A-Z]/.test(e)});function b2(t,e,r){if(!J.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=J.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!J.isUndefined(y[m])});const n=r.metaTokens,i=r.visitor||u,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&J.isSpecCompliantForm(e);if(!J.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(J.isDate(p))return p.toISOString();if(!l&&J.isBlob(p))throw new je("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(p)||J.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,y){let g=p;if(p&&!y&&typeof p=="object"){if(J.endsWith(m,"{}"))m=n?m:m.slice(0,-2),p=JSON.stringify(p);else if(J.isArray(p)&&mte(p)||(J.isFileList(p)||J.endsWith(m,"[]"))&&(g=J.toArray(p)))return m=IQ(m),g.forEach(function(x,b){!(J.isUndefined(x)||x===null)&&e.append(o===!0?uF([m],b,s):o===null?m:m+"[]",c(x))}),!1}return e5(p)?!0:(e.append(uF(y,m,s),c(p)),!1)}const A=[],h=Object.assign(gte,{defaultVisitor:u,convertValue:c,isVisitable:e5});function f(p,m){if(!J.isUndefined(p)){if(A.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));A.push(p),J.forEach(p,function(g,v){(!(J.isUndefined(g)||g===null)&&i.call(e,g,J.isString(v)?v.trim():v,m,h))===!0&&f(g,m?m.concat(v):[v])}),A.pop()}}if(!J.isObject(t))throw new TypeError("data must be an object");return f(t),e}function AF(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function qS(t,e){this._pairs=[],t&&b2(t,this,e)}const UQ=qS.prototype;UQ.append=function(e,r){this._pairs.push([e,r])};UQ.toString=function(e){const r=e?function(n){return e.call(this,n,AF)}:AF;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function yte(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function PQ(t,e,r){if(!e)return t;const n=r&&r.encode||yte;J.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=J.isURLSearchParams(e)?e.toString():new qS(e,r).toString(n),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class dF{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){J.forEach(this.handlers,function(n){n!==null&&e(n)})}}const QQ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vte=typeof URLSearchParams<"u"?URLSearchParams:qS,xte=typeof FormData<"u"?FormData:null,bte=typeof Blob<"u"?Blob:null,wte={isBrowser:!0,classes:{URLSearchParams:vte,FormData:xte,Blob:bte},protocols:["http","https","file","blob","url","data"]},XS=typeof window<"u"&&typeof document<"u",t5=typeof navigator=="object"&&navigator||void 0,Cte=XS&&(!t5||["ReactNative","NativeScript","NS"].indexOf(t5.product)<0),Bte=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_te=XS&&window.location.href||"http://localhost",Ste=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:XS,hasStandardBrowserEnv:Cte,hasStandardBrowserWebWorkerEnv:Bte,navigator:t5,origin:_te},Symbol.toStringTag,{value:"Module"})),an={...Ste,...wte};function kte(t,e){return b2(t,new an.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return an.isNode&&J.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Ete(t){return J.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Fte(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function RQ(t){function e(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=r.length;return o=!o&&J.isArray(i)?i.length:o,l?(J.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!J.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],s)&&J.isArray(i[o])&&(i[o]=Fte(i[o])),!a)}if(J.isFormData(t)&&J.isFunction(t.entries)){const r={};return J.forEachEntry(t,(n,i)=>{e(Ete(n),i,r,0)}),r}return null}function Mte(t,e,r){if(J.isString(t))try{return(e||JSON.parse)(t),J.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(t)}const t0={transitional:QQ,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=J.isObject(e);if(s&&J.isHTMLForm(e)&&(e=new FormData(e)),J.isFormData(e))return i?JSON.stringify(RQ(e)):e;if(J.isArrayBuffer(e)||J.isBuffer(e)||J.isStream(e)||J.isFile(e)||J.isBlob(e)||J.isReadableStream(e))return e;if(J.isArrayBufferView(e))return e.buffer;if(J.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return kte(e,this.formSerializer).toString();if((a=J.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return b2(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),Mte(e)):e}],transformResponse:[function(e){const r=this.transitional||t0.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(J.isResponse(e)||J.isReadableStream(e))return e;if(e&&J.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?je.from(a,je.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:an.classes.FormData,Blob:an.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],t=>{t0.headers[t]={}});const Tte=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Dte=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&Tte[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},hF=Symbol("internals");function Nh(t){return t&&String(t).trim().toLowerCase()}function Vy(t){return t===!1||t==null?t:J.isArray(t)?t.map(Vy):String(t)}function Lte(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const jte=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function w4(t,e,r,n,i){if(J.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!J.isString(e)){if(J.isString(n))return e.indexOf(n)!==-1;if(J.isRegExp(n))return n.test(e)}}function Ote(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Nte(t,e){const r=J.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,o){return this[n].call(this,e,i,s,o)},configurable:!0})})}class Kn{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(a,l,c){const u=Nh(l);if(!u)throw new Error("header name must be a non-empty string");const A=J.findKey(i,u);(!A||i[A]===void 0||c===!0||c===void 0&&i[A]!==!1)&&(i[A||l]=Vy(a))}const o=(a,l)=>J.forEach(a,(c,u)=>s(c,u,l));if(J.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(J.isString(e)&&(e=e.trim())&&!jte(e))o(Dte(e),r);else if(J.isHeaders(e))for(const[a,l]of e.entries())s(l,a,n);else e!=null&&s(r,e,n);return this}get(e,r){if(e=Nh(e),e){const n=J.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return Lte(i);if(J.isFunction(r))return r.call(this,i,n);if(J.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Nh(e),e){const n=J.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||w4(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(o){if(o=Nh(o),o){const a=J.findKey(n,o);a&&(!r||w4(n,n[a],a,r))&&(delete n[a],i=!0)}}return J.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||w4(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return J.forEach(this,(i,s)=>{const o=J.findKey(n,s);if(o){r[o]=Vy(i),delete r[s];return}const a=e?Ote(s):String(s).trim();a!==s&&delete r[s],r[a]=Vy(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return J.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&J.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[hF]=this[hF]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Nh(o);n[a]||(Nte(i,o),n[a]=!0)}return J.isArray(e)?e.forEach(s):s(e),this}}Kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);J.reduceDescriptors(Kn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});J.freezeMethods(Kn);function C4(t,e){const r=this||t0,n=e||r,i=Kn.from(n.headers);let s=n.data;return J.forEach(t,function(a){s=a.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function HQ(t){return!!(t&&t.__CANCEL__)}function Ah(t,e,r){je.call(this,t??"canceled",je.ERR_CANCELED,e,r),this.name="CanceledError"}J.inherits(Ah,je,{__CANCEL__:!0});function $Q(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new je("Request failed with status code "+r.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Ite(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Ute(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=n[s];o||(o=c),r[i]=l,n[i]=c;let A=s,h=0;for(;A!==i;)h+=r[A++],A=A%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const f=u&&c-u;return f?Math.round(h*1e3/f):void 0}}function Pte(t,e){let r=0,n=1e3/e,i,s;const o=(c,u=Date.now())=>{r=u,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),A=u-r;A>=n?o(c,u):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},n-A)))},()=>i&&o(i)]}const _x=(t,e,r=3)=>{let n=0;const i=Ute(50,250);return Pte(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-n,c=i(l),u=o<=a;n=o;const A={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(A)},r)},fF=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},pF=t=>(...e)=>J.asap(()=>t(...e)),Qte=an.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,an.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(an.origin),an.navigator&&/(msie|trident)/i.test(an.navigator.userAgent)):()=>!0,Rte=an.hasStandardBrowserEnv?{write(t,e,r,n,i,s){const o=[t+"="+encodeURIComponent(e)];J.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),J.isString(n)&&o.push("path="+n),J.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Hte(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function $te(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function VQ(t,e){return t&&!Hte(e)?$te(t,e):e}const mF=t=>t instanceof Kn?{...t}:t;function Cu(t,e){e=e||{};const r={};function n(c,u,A,h){return J.isPlainObject(c)&&J.isPlainObject(u)?J.merge.call({caseless:h},c,u):J.isPlainObject(u)?J.merge({},u):J.isArray(u)?u.slice():u}function i(c,u,A,h){if(J.isUndefined(u)){if(!J.isUndefined(c))return n(void 0,c,A,h)}else return n(c,u,A,h)}function s(c,u){if(!J.isUndefined(u))return n(void 0,u)}function o(c,u){if(J.isUndefined(u)){if(!J.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function a(c,u,A){if(A in e)return n(c,u);if(A in t)return n(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,A)=>i(mF(c),mF(u),A,!0)};return J.forEach(Object.keys(Object.assign({},t,e)),function(u){const A=l[u]||i,h=A(t[u],e[u],u);J.isUndefined(h)&&A!==a||(r[u]=h)}),r}const KQ=t=>{const e=Cu({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Kn.from(o),e.url=PQ(VQ(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(J.isFormData(r)){if(an.hasStandardBrowserEnv||an.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(A=>A.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(an.hasStandardBrowserEnv&&(n&&J.isFunction(n)&&(n=n(e)),n||n!==!1&&Qte(e.url))){const c=i&&s&&Rte.read(s);c&&o.set(i,c)}return e},Vte=typeof XMLHttpRequest<"u",Kte=Vte&&function(t){return new Promise(function(r,n){const i=KQ(t);let s=i.data;const o=Kn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,A,h,f,p;function m(){f&&f(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function g(){if(!y)return;const x=Kn.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),w={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:x,config:t,request:y};$Q(function(B){r(B),m()},function(B){n(B),m()},w),y=null}"onloadend"in y?y.onloadend=g:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(g)},y.onabort=function(){y&&(n(new je("Request aborted",je.ECONNABORTED,t,y)),y=null)},y.onerror=function(){n(new je("Network Error",je.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const w=i.transitional||QQ;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new je(b,w.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,t,y)),y=null},s===void 0&&o.setContentType(null),"setRequestHeader"in y&&J.forEach(o.toJSON(),function(b,w){y.setRequestHeader(w,b)}),J.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),c&&([h,p]=_x(c,!0),y.addEventListener("progress",h)),l&&y.upload&&([A,f]=_x(l),y.upload.addEventListener("progress",A),y.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(u=x=>{y&&(n(!x||x.type?new Ah(null,t,y):x),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const v=Ite(i.url);if(v&&an.protocols.indexOf(v)===-1){n(new je("Unsupported protocol "+v+":",je.ERR_BAD_REQUEST,t));return}y.send(s||null)})},zte=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;n.abort(u instanceof je?u:new Ah(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,s(new je(`timeout ${e} of ms exceeded`,je.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>J.asap(a),l}},Wte=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},Gte=async function*(t,e){for await(const r of qte(t))yield*Wte(r,e)},qte=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},gF=(t,e,r,n)=>{const i=Gte(t,e);let s=0,o,a=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let A=u.byteLength;if(r){let h=s+=A;r(h)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},w2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",zQ=w2&&typeof ReadableStream=="function",Xte=w2&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),WQ=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Yte=zQ&&WQ(()=>{let t=!1;const e=new Request(an.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),yF=64*1024,r5=zQ&&WQ(()=>J.isReadableStream(new Response("").body)),Sx={stream:r5&&(t=>t.body)};w2&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Sx[e]&&(Sx[e]=J.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new je(`Response type '${e}' is not supported`,je.ERR_NOT_SUPPORT,n)})})})(new Response);const Jte=async t=>{if(t==null)return 0;if(J.isBlob(t))return t.size;if(J.isSpecCompliantForm(t))return(await new Request(an.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(J.isArrayBufferView(t)||J.isArrayBuffer(t))return t.byteLength;if(J.isURLSearchParams(t)&&(t=t+""),J.isString(t))return(await Xte(t)).byteLength},Zte=async(t,e)=>{const r=J.toFiniteNumber(t.getContentLength());return r??Jte(e)},ere=w2&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:A="same-origin",fetchOptions:h}=KQ(t);c=c?(c+"").toLowerCase():"text";let f=zte([i,s&&s.toAbortSignal()],o),p;const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let y;try{if(l&&Yte&&r!=="get"&&r!=="head"&&(y=await Zte(u,n))!==0){let w=new Request(e,{method:"POST",body:n,duplex:"half"}),C;if(J.isFormData(n)&&(C=w.headers.get("content-type"))&&u.setContentType(C),w.body){const[B,_]=fF(y,_x(pF(l)));n=gF(w.body,yF,B,_)}}J.isString(A)||(A=A?"include":"omit");const g="credentials"in Request.prototype;p=new Request(e,{...h,signal:f,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:g?A:void 0});let v=await fetch(p);const x=r5&&(c==="stream"||c==="response");if(r5&&(a||x&&m)){const w={};["status","statusText","headers"].forEach(k=>{w[k]=v[k]});const C=J.toFiniteNumber(v.headers.get("content-length")),[B,_]=a&&fF(C,_x(pF(a),!0))||[];v=new Response(gF(v.body,yF,B,()=>{_&&_(),m&&m()}),w)}c=c||"text";let b=await Sx[J.findKey(Sx,c)||"text"](v,t);return!x&&m&&m(),await new Promise((w,C)=>{$Q(w,C,{data:b,headers:Kn.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:p})})}catch(g){throw m&&m(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,t,p),{cause:g.cause||g}):je.from(g,g&&g.code,t,p)}}),n5={http:pte,xhr:Kte,fetch:ere};J.forEach(n5,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const vF=t=>`- ${t}`,tre=t=>J.isFunction(t)||t===null||t===!1,GQ={getAdapter:t=>{t=J.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let s=0;s<e;s++){r=t[s];let o;if(n=r,!tre(r)&&(n=n5[(o=String(r)).toLowerCase()],n===void 0))throw new je(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+s]=n}if(!n){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(vF).join(`
`):" "+vF(s[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:n5};function B4(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ah(null,t)}function xF(t){return B4(t),t.headers=Kn.from(t.headers),t.data=C4.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),GQ.getAdapter(t.adapter||t0.adapter)(t).then(function(n){return B4(t),n.data=C4.call(t,t.transformResponse,n),n.headers=Kn.from(n.headers),n},function(n){return HQ(n)||(B4(t),n&&n.response&&(n.response.data=C4.call(t,t.transformResponse,n.response),n.response.headers=Kn.from(n.response.headers))),Promise.reject(n)})}const qQ="1.7.9",C2={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{C2[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const bF={};C2.transitional=function(e,r,n){function i(s,o){return"[Axios v"+qQ+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(e===!1)throw new je(i(o," has been removed"+(r?" in "+r:"")),je.ERR_DEPRECATED);return r&&!bF[o]&&(bF[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,a):!0}};C2.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function rre(t,e,r){if(typeof t!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new je("option "+s+" must be "+l,je.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new je("Unknown option "+s,je.ERR_BAD_OPTION)}}const Ky={assertOptions:rre,validators:C2},Ls=Ky.validators;class ou{constructor(e){this.defaults=e,this.interceptors={request:new dF,response:new dF}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Cu(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Ky.assertOptions(n,{silentJSONParsing:Ls.transitional(Ls.boolean),forcedJSONParsing:Ls.transitional(Ls.boolean),clarifyTimeoutError:Ls.transitional(Ls.boolean)},!1),i!=null&&(J.isFunction(i)?r.paramsSerializer={serialize:i}:Ky.assertOptions(i,{encode:Ls.function,serialize:Ls.function},!0)),Ky.assertOptions(r,{baseUrl:Ls.spelling("baseURL"),withXsrfToken:Ls.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&J.merge(s.common,s[r.method]);s&&J.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=Kn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,A=0,h;if(!l){const p=[xF.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),h=p.length,u=Promise.resolve(r);A<h;)u=u.then(p[A++],p[A++]);return u}h=a.length;let f=r;for(A=0;A<h;){const p=a[A++],m=a[A++];try{f=p(f)}catch(y){m.call(this,y);break}}try{u=xF.call(this,f)}catch(p){return Promise.reject(p)}for(A=0,h=c.length;A<h;)u=u.then(c[A++],c[A++]);return u}getUri(e){e=Cu(this.defaults,e);const r=VQ(e.baseURL,e.url);return PQ(r,e.params,e.paramsSerializer)}}J.forEach(["delete","get","head","options"],function(e){ou.prototype[e]=function(r,n){return this.request(Cu(n||{},{method:e,url:r,data:(n||{}).data}))}});J.forEach(["post","put","patch"],function(e){function r(n){return function(s,o,a){return this.request(Cu(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ou.prototype[e]=r(),ou.prototype[e+"Form"]=r(!0)});class YS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,a){n.reason||(n.reason=new Ah(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new YS(function(i){e=i}),cancel:e}}}function nre(t){return function(r){return t.apply(null,r)}}function ire(t){return J.isObject(t)&&t.isAxiosError===!0}const i5={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(i5).forEach(([t,e])=>{i5[e]=t});function XQ(t){const e=new ou(t),r=kQ(ou.prototype.request,e);return J.extend(r,ou.prototype,e,{allOwnKeys:!0}),J.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return XQ(Cu(t,i))},r}const et=XQ(t0);et.Axios=ou;et.CanceledError=Ah;et.CancelToken=YS;et.isCancel=HQ;et.VERSION=qQ;et.toFormData=b2;et.AxiosError=je;et.Cancel=et.CanceledError;et.all=function(e){return Promise.all(e)};et.spread=nre;et.isAxiosError=ire;et.mergeConfig=Cu;et.AxiosHeaders=Kn;et.formToJSON=t=>RQ(J.isHTMLForm(t)?new FormData(t):t);et.getAdapter=GQ.getAdapter;et.HttpStatusCode=i5;et.default=et;const Zt="https://tootbot.cyberifyportfolio.com/backend";localStorage.getItem("accessToken");const zy=["gpt-3.5-turbo","gpt-4o-mini","o1-mini","gpt-4-turbo","gpt-4-turbo-preview"],JS=async(t,e,r,n,i)=>{var s,o;try{return await t(r,e,{headers:n})}catch(a){if(((o=(s=a.response)==null?void 0:s.data)==null?void 0:o.statusCode)===4001)try{const l=await sre(),c={...n,token:l};return await t(r,e,{headers:c})}catch(l){throw console.error("Token refresh failed:",l),await ore(i),new Error("Token refresh failed. Please log in again.")}else throw a}},sre=async()=>{var r,n;const t=localStorage.getItem("refreshToken");if(!t)throw new Error("No refresh token available");const e=await et.post(`${Zt}/auth/refresh-access-token`,{refresh_token:t},{headers:{"Content-Type":"application/json",token:t}});if(((r=e==null?void 0:e.data)==null?void 0:r.statusCode)===200)return localStorage.setItem("accessToken",(n=e==null?void 0:e.data)==null?void 0:n.accessToken),e==null?void 0:e.data.accessToken;throw new Error("Token refresh failed")},ore=async t=>{try{await et.post(`${Zt}/auth/logout`,{refresh_token:`${localStorage.getItem("refreshToken")}`}),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),t(setAuthenticated(!1))}catch(e){console.error("Logout failed:",e)}};class YQ{static async UserLogout(e){console.log(e);const r=await et.post(`${Zt}/auth/logout`,e,{Headers:{"Content-Type":"applicaiton/json"},headers:{token:localStorage.getItem("accessToken")}});return console.log("res logout",r),r}static async UpdateAvatar(e,r){const n={"Content-Type":"multipart/form-data",token:localStorage.getItem("accessToken")};return JS((i,s,o)=>et.put(i,s,o),e,`${Zt}/auth/update-avatar`,n,r)}}var JQ={exports:{}},ZQ={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0=S;function are(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lre=typeof Object.is=="function"?Object.is:are,cre=r0.useSyncExternalStore,ure=r0.useRef,Are=r0.useEffect,dre=r0.useMemo,hre=r0.useDebugValue;ZQ.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=ure(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=dre(function(){function l(f){if(!c){if(c=!0,u=f,f=n(f),i!==void 0&&o.hasValue){var p=o.value;if(i(p,f))return A=p}return A=f}if(p=A,lre(u,f))return p;var m=n(f);return i!==void 0&&i(p,m)?(u=f,p):(u=f,A=m)}var c=!1,u,A,h=r===void 0?null:r;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,r,n,i]);var a=cre(t,s[0],s[1]);return Are(function(){o.hasValue=!0,o.value=a},[a]),hre(a),a};JQ.exports=ZQ;var fre=JQ.exports;function eR(t){t()}function pre(){let t=null,e=null;return{clear(){t=null,e=null},notify(){eR(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var wF={notify(){},get:()=>[]};function mre(t,e){let r,n=wF,i=0,s=!1;function o(m){u();const y=n.subscribe(m);let g=!1;return()=>{g||(g=!0,y(),A())}}function a(){n.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return s}function u(){i++,r||(r=t.subscribe(l),n=pre())}function A(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=wF)}function h(){s||(s=!0,u())}function f(){s&&(s=!1,A())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:f,getListeners:()=>n};return p}var gre=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yre=gre(),vre=()=>typeof navigator<"u"&&navigator.product==="ReactNative",xre=vre(),bre=()=>yre||xre?S.useLayoutEffect:S.useEffect,wre=bre();function CF(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function up(t,e){if(CF(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!CF(t[r[i]],e[r[i]]))return!1;return!0}var _4=Symbol.for("react-redux-context"),S4=typeof globalThis<"u"?globalThis:{};function Cre(){if(!S.createContext)return{};const t=S4[_4]??(S4[_4]=new Map);let e=t.get(S.createContext);return e||(e=S.createContext(null),t.set(S.createContext,e)),e}var Nl=Cre();function Bre(t){const{children:e,context:r,serverState:n,store:i}=t,s=S.useMemo(()=>{const l=mre(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),o=S.useMemo(()=>i.getState(),[i]);wre(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=r||Nl;return S.createElement(a.Provider,{value:s},e)}var _re=Bre;function ZS(t=Nl){return function(){return S.useContext(t)}}var tR=ZS();function rR(t=Nl){const e=t===Nl?tR:ZS(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var nR=rR();function Sre(t=Nl){const e=t===Nl?nR:rR(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var n0=Sre(),kre=(t,e)=>t===e;function Ere(t=Nl){const e=t===Nl?tR:ZS(t),r=(n,i={})=>{const{equalityFn:s=kre}=typeof i=="function"?{equalityFn:i}:i,o=e(),{store:a,subscription:l,getServerState:c}=o;S.useRef(!0);const u=S.useCallback({[n.name](h){return n(h)}}[n.name],[n]),A=fre.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,c||a.getState,u,s);return S.useDebugValue(A),A};return Object.assign(r,{withTypes:()=>r}),r}var Il=Ere(),Fre=eR;function Or(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Mre=typeof Symbol=="function"&&Symbol.observable||"@@observable",BF=Mre,k4=()=>Math.random().toString(36).substring(7).split("").join("."),Tre={INIT:`@@redux/INIT${k4()}`,REPLACE:`@@redux/REPLACE${k4()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${k4()}`},kx=Tre;function Ao(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function iR(t,e,r){if(typeof t!="function")throw new Error(Or(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Or(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Or(1));return r(iR)(t,e)}let n=t,i=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((y,g)=>{o.set(g,y)}))}function u(){if(l)throw new Error(Or(3));return i}function A(y){if(typeof y!="function")throw new Error(Or(4));if(l)throw new Error(Or(5));let g=!0;c();const v=a++;return o.set(v,y),function(){if(g){if(l)throw new Error(Or(6));g=!1,c(),o.delete(v),s=null}}}function h(y){if(!Ao(y))throw new Error(Or(7));if(typeof y.type>"u")throw new Error(Or(8));if(typeof y.type!="string")throw new Error(Or(17));if(l)throw new Error(Or(9));try{l=!0,i=n(i,y)}finally{l=!1}return(s=o).forEach(v=>{v()}),y}function f(y){if(typeof y!="function")throw new Error(Or(10));n=y,h({type:kx.REPLACE})}function p(){const y=A;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(Or(11));function v(){const b=g;b.next&&b.next(u())}return v(),{unsubscribe:y(v)}},[BF](){return this}}}return h({type:kx.INIT}),{dispatch:h,subscribe:A,getState:u,replaceReducer:f,[BF]:p}}function Dre(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:kx.INIT})>"u")throw new Error(Or(12));if(typeof r(void 0,{type:kx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Or(13))})}function sR(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(r[o]=t[o])}const n=Object.keys(r);let i;try{Dre(r)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const c={};for(let u=0;u<n.length;u++){const A=n[u],h=r[A],f=o[A],p=h(f,a);if(typeof p>"u")throw a&&a.type,new Error(Or(14));c[A]=p,l=l||p!==f}return l=l||n.length!==Object.keys(o).length,l?c:o}}function Ex(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function Lre(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(Or(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=t.map(l=>l(o));return s=Ex(...a)(i.dispatch),{...i,dispatch:s}}}function oR(t){return Ao(t)&&"type"in t&&typeof t.type=="string"}var e8=Symbol.for("immer-nothing"),Ap=Symbol.for("immer-draftable"),Xn=Symbol.for("immer-state");function Qr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Bu=Object.getPrototypeOf;function ho(t){return!!t&&!!t[Xn]}function _s(t){var e;return t?aR(t)||Array.isArray(t)||!!t[Ap]||!!((e=t.constructor)!=null&&e[Ap])||i0(t)||s0(t):!1}var jre=Object.prototype.constructor.toString();function aR(t){if(!t||typeof t!="object")return!1;const e=Bu(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===jre}function Ore(t){return ho(t)||Qr(15,t),t[Xn].base_}function cm(t,e){_u(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function _u(t){const e=t[Xn];return e?e.type_:Array.isArray(t)?1:i0(t)?2:s0(t)?3:0}function um(t,e){return _u(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function E4(t,e){return _u(t)===2?t.get(e):t[e]}function lR(t,e,r){const n=_u(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function Nre(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function i0(t){return t instanceof Map}function s0(t){return t instanceof Set}function Mc(t){return t.copy_||t.base_}function s5(t,e){if(i0(t))return new Map(t);if(s0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=aR(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Xn];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const o=i[s],a=n[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(Bu(t),n)}else{const n=Bu(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function t8(t,e=!1){return B2(t)||ho(t)||!_s(t)||(_u(t)>1&&(t.set=t.add=t.clear=t.delete=Ire),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>t8(n,!0))),t}function Ire(){Qr(2)}function B2(t){return Object.isFrozen(t)}var o5={};function Su(t){const e=o5[t];return e||Qr(0,t),e}function Ure(t,e){o5[t]||(o5[t]=e)}var Am;function cR(){return Am}function Pre(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _F(t,e){e&&(Su("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function a5(t){l5(t),t.drafts_.forEach(Qre),t.drafts_=null}function l5(t){t===Am&&(Am=t.parent_)}function SF(t){return Am=Pre(Am,t)}function Qre(t){const e=t[Xn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function kF(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Xn].modified_&&(a5(e),Qr(4)),_s(t)&&(t=Fx(e,t),e.parent_||Mx(e,t)),e.patches_&&Su("Patches").generateReplacementPatches_(r[Xn].base_,t,e.patches_,e.inversePatches_)):t=Fx(e,r,[]),a5(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==e8?t:void 0}function Fx(t,e,r){if(B2(e))return e;const n=e[Xn];if(!n)return cm(e,(i,s)=>EF(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Mx(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,o=!1;n.type_===3&&(s=new Set(i),i.clear(),o=!0),cm(s,(a,l)=>EF(t,n,i,a,l,r,o)),Mx(t,i,!1),r&&t.patches_&&Su("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function EF(t,e,r,n,i,s,o){if(ho(i)){const a=s&&e&&e.type_!==3&&!um(e.assigned_,n)?s.concat(n):void 0,l=Fx(t,i,a);if(lR(r,n,l),ho(l))t.canAutoFreeze_=!1;else return}else o&&r.add(i);if(_s(i)&&!B2(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Fx(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Mx(t,i)}}function Mx(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&t8(e,r)}function Rre(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:cR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=r8;r&&(i=[n],s=dm);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return n.draft_=a,n.revoke_=o,a}var r8={get(t,e){if(e===Xn)return t;const r=Mc(t);if(!um(r,e))return Hre(t,r,e);const n=r[e];return t.finalized_||!_s(n)?n:n===F4(t.base_,e)?(M4(t),t.copy_[e]=u5(n,t)):n},has(t,e){return e in Mc(t)},ownKeys(t){return Reflect.ownKeys(Mc(t))},set(t,e,r){const n=uR(Mc(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=F4(Mc(t),e),s=i==null?void 0:i[Xn];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(Nre(r,i)&&(r!==void 0||um(t.base_,e)))return!0;M4(t),c5(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return F4(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,M4(t),c5(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Mc(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Qr(11)},getPrototypeOf(t){return Bu(t.base_)},setPrototypeOf(){Qr(12)}},dm={};cm(r8,(t,e)=>{dm[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});dm.deleteProperty=function(t,e){return dm.set.call(this,t,e,void 0)};dm.set=function(t,e,r){return r8.set.call(this,t[0],e,r,t[0])};function F4(t,e){const r=t[Xn];return(r?Mc(r):t)[e]}function Hre(t,e,r){var i;const n=uR(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function uR(t,e){if(!(e in t))return;let r=Bu(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Bu(r)}}function c5(t){t.modified_||(t.modified_=!0,t.parent_&&c5(t.parent_))}function M4(t){t.copy_||(t.copy_=s5(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var $re=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const o=this;return function(l=s,...c){return o.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&Qr(6),n!==void 0&&typeof n!="function"&&Qr(7);let i;if(_s(e)){const s=SF(this),o=u5(e,void 0);let a=!0;try{i=r(o),a=!1}finally{a?a5(s):l5(s)}return _F(s,n),kF(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===e8&&(i=void 0),this.autoFreeze_&&t8(i,!0),n){const s=[],o=[];Su("Patches").generateReplacementPatches_(e,i,s,o),n(s,o)}return i}else Qr(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let n,i;return[this.produce(e,r,(o,a)=>{n=o,i=a}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){_s(t)||Qr(8),ho(t)&&(t=Vre(t));const e=SF(this),r=u5(t,void 0);return r[Xn].isManual_=!0,l5(e),r}finishDraft(t,e){const r=t&&t[Xn];(!r||!r.isManual_)&&Qr(9);const{scope_:n}=r;return _F(n,e),kF(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=Su("Patches").applyPatches_;return ho(t)?n(t,e):this.produce(t,i=>n(i,e))}};function u5(t,e){const r=i0(t)?Su("MapSet").proxyMap_(t,e):s0(t)?Su("MapSet").proxySet_(t,e):Rre(t,e);return(e?e.scope_:cR()).drafts_.push(r),r}function Vre(t){return ho(t)||Qr(10,t),AR(t)}function AR(t){if(!_s(t)||B2(t))return t;const e=t[Xn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=s5(t,e.scope_.immer_.useStrictShallowCopy_)}else r=s5(t,!0);return cm(r,(n,i)=>{lR(r,n,AR(i))}),e&&(e.finalized_=!1),r}function Kre(){const e="replace",r="add",n="remove";function i(h,f,p,m){switch(h.type_){case 0:case 2:return o(h,f,p,m);case 1:return s(h,f,p,m);case 3:return a(h,f,p,m)}}function s(h,f,p,m){let{base_:y,assigned_:g}=h,v=h.copy_;v.length<y.length&&([y,v]=[v,y],[p,m]=[m,p]);for(let x=0;x<y.length;x++)if(g[x]&&v[x]!==y[x]){const b=f.concat([x]);p.push({op:e,path:b,value:A(v[x])}),m.push({op:e,path:b,value:A(y[x])})}for(let x=y.length;x<v.length;x++){const b=f.concat([x]);p.push({op:r,path:b,value:A(v[x])})}for(let x=v.length-1;y.length<=x;--x){const b=f.concat([x]);m.push({op:n,path:b})}}function o(h,f,p,m){const{base_:y,copy_:g}=h;cm(h.assigned_,(v,x)=>{const b=E4(y,v),w=E4(g,v),C=x?um(y,v)?e:r:n;if(b===w&&C===e)return;const B=f.concat(v);p.push(C===n?{op:C,path:B}:{op:C,path:B,value:w}),m.push(C===r?{op:n,path:B}:C===n?{op:r,path:B,value:A(b)}:{op:e,path:B,value:A(b)})})}function a(h,f,p,m){let{base_:y,copy_:g}=h,v=0;y.forEach(x=>{if(!g.has(x)){const b=f.concat([v]);p.push({op:n,path:b,value:x}),m.unshift({op:r,path:b,value:x})}v++}),v=0,g.forEach(x=>{if(!y.has(x)){const b=f.concat([v]);p.push({op:r,path:b,value:x}),m.unshift({op:n,path:b,value:x})}v++})}function l(h,f,p,m){p.push({op:e,path:[],value:f===e8?void 0:f}),m.push({op:e,path:[],value:h})}function c(h,f){return f.forEach(p=>{const{path:m,op:y}=p;let g=h;for(let w=0;w<m.length-1;w++){const C=_u(g);let B=m[w];typeof B!="string"&&typeof B!="number"&&(B=""+B),(C===0||C===1)&&(B==="__proto__"||B==="constructor")&&Qr(19),typeof g=="function"&&B==="prototype"&&Qr(19),g=E4(g,B),typeof g!="object"&&Qr(18,m.join("/"))}const v=_u(g),x=u(p.value),b=m[m.length-1];switch(y){case e:switch(v){case 2:return g.set(b,x);case 3:Qr(16);default:return g[b]=x}case r:switch(v){case 1:return b==="-"?g.push(x):g.splice(b,0,x);case 2:return g.set(b,x);case 3:return g.add(x);default:return g[b]=x}case n:switch(v){case 1:return g.splice(b,1);case 2:return g.delete(b);case 3:return g.delete(p.value);default:return delete g[b]}default:Qr(17,y)}}),h}function u(h){if(!_s(h))return h;if(Array.isArray(h))return h.map(u);if(i0(h))return new Map(Array.from(h.entries()).map(([p,m])=>[p,u(m)]));if(s0(h))return new Set(Array.from(h).map(u));const f=Object.create(Bu(h));for(const p in h)f[p]=u(h[p]);return um(h,Ap)&&(f[Ap]=h[Ap]),f}function A(h){return ho(h)?u(h):h}Ure("Patches",{applyPatches_:c,generatePatches_:i,generateReplacementPatches_:l})}var mi=new $re,o0=mi.produce,dR=mi.produceWithPatches.bind(mi);mi.setAutoFreeze.bind(mi);mi.setUseStrictShallowCopy.bind(mi);var FF=mi.applyPatches.bind(mi);mi.createDraft.bind(mi);mi.finishDraft.bind(mi);function zre(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Wre(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Gre(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var MF=t=>Array.isArray(t)?t:[t];function qre(t){const e=Array.isArray(t[0])?t[0]:t;return Gre(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Xre(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var Yre=class{constructor(t){this.value=t}deref(){return this.value}},Jre=typeof WeakRef<"u"?WeakRef:Yre,Zre=0,TF=1;function Y0(){return{s:Zre,v:void 0,o:null,p:null}}function Tx(t,e={}){let r=Y0();const{resultEqualityCheck:n}=e;let i,s=0;function o(){var A;let a=r;const{length:l}=arguments;for(let h=0,f=l;h<f;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let m=a.o;m===null&&(a.o=m=new WeakMap);const y=m.get(p);y===void 0?(a=Y0(),m.set(p,a)):a=y}else{let m=a.p;m===null&&(a.p=m=new Map);const y=m.get(p);y===void 0?(a=Y0(),m.set(p,a)):a=y}}const c=a;let u;if(a.s===TF)u=a.v;else if(u=t.apply(null,arguments),s++,n){const h=((A=i==null?void 0:i.deref)==null?void 0:A.call(i))??i;h!=null&&n(h,u)&&(u=h,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new Jre(u):u}return c.s=TF,c.v=u,u}return o.clearCache=()=>{r=Y0(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function ene(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,o=0,a,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),zre(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:A,memoizeOptions:h=[],argsMemoize:f=Tx,argsMemoizeOptions:p=[],devModeChecks:m={}}=u,y=MF(h),g=MF(p),v=qre(i),x=A(function(){return s++,c.apply(null,arguments)},...y),b=f(function(){o++;const C=Xre(v,arguments);return a=x.apply(null,C),a},...g);return Object.assign(b,{resultFunc:c,memoizedResultFunc:x,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:A,argsMemoize:f})};return Object.assign(n,{withTypes:()=>n}),n}var n8=ene(Tx),tne=Object.assign((t,e=n8)=>{Wre(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((o,a,l)=>(o[r[l]]=a,o),{}))},{withTypes:()=>tne});function hR(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var rne=hR(),nne=hR,ine=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ex:Ex.apply(null,arguments)},sne=t=>t&&typeof t.match=="function";function ys(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(vs(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>oR(n)&&n.type===t,r}var fR=class Df extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Df.prototype)}static get[Symbol.species](){return Df}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Df(...e[0].concat(this)):new Df(...e.concat(this))}};function DF(t){return _s(t)?o0(t,()=>{}):t}function LF(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function one(t){return typeof t=="boolean"}var ane=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new fR;return r&&(one(r)?o.push(rne):o.push(nne(r.extraArgument))),o},Xc="RTK_autoBatch",Ih=()=>t=>({payload:t,meta:{[Xc]:!0}}),jF=t=>e=>{setTimeout(e,t)},lne=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:jF(10):t.type==="callback"?t.queueNotification:jF(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const A=()=>i&&u(),h=n.subscribe(A);return a.add(u),()=>{h(),a.delete(u)}},dispatch(u){var A;try{return i=!((A=u==null?void 0:u.meta)!=null&&A[Xc]),s=!i,s&&(o||(o=!0,l(c))),n.dispatch(u)}finally{i=!0}}})},cne=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new fR(t);return n&&i.push(lne(typeof n=="object"?n:void 0)),i};function une(t){const e=ane(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t;let a;if(typeof r=="function")a=r;else if(Ao(r))a=sR(r);else throw new Error(vs(1));let l;typeof n=="function"?l=n(e):l=e();let c=Ex;i&&(c=ine({trace:!1,...typeof i=="object"&&i}));const u=Lre(...l),A=cne(u);let h=typeof o=="function"?o(A):A();const f=c(...h);return iR(a,s,f)}function pR(t){const e={},r=[];let n;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(vs(28));if(a in e)throw new Error(vs(29));return e[a]=o,i},addMatcher(s,o){return r.push({matcher:s,reducer:o}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function Ane(t){return typeof t=="function"}function dne(t,e){let[r,n,i]=pR(e),s;if(Ane(t))s=()=>DF(t());else{const a=DF(t);s=()=>a}function o(a=s(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,A)=>{if(A)if(ho(u)){const f=A(u,l);return f===void 0?u:f}else{if(_s(u))return o0(u,h=>A(h,l));{const h=A(u,l);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},a)}return o.getInitialState=s,o}var mR=(t,e)=>sne(t)?t.match(e):t(e);function aa(...t){return e=>t.some(r=>mR(r,e))}function dp(...t){return e=>t.every(r=>mR(r,e))}function _2(t,e){if(!t||!t.meta)return!1;const r=typeof t.meta.requestId=="string",n=e.indexOf(t.meta.requestStatus)>-1;return r&&n}function a0(t){return typeof t[0]=="function"&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function i8(...t){return t.length===0?e=>_2(e,["pending"]):a0(t)?aa(...t.map(e=>e.pending)):i8()(t[0])}function Qd(...t){return t.length===0?e=>_2(e,["rejected"]):a0(t)?aa(...t.map(e=>e.rejected)):Qd()(t[0])}function S2(...t){const e=r=>r&&r.meta&&r.meta.rejectedWithValue;return t.length===0?dp(Qd(...t),e):a0(t)?dp(Qd(...t),e):S2()(t[0])}function Ul(...t){return t.length===0?e=>_2(e,["fulfilled"]):a0(t)?aa(...t.map(e=>e.fulfilled)):Ul()(t[0])}function A5(...t){return t.length===0?e=>_2(e,["pending","fulfilled","rejected"]):a0(t)?aa(...t.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):A5()(t[0])}var hne="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",s8=(t=21)=>{let e="",r=t;for(;r--;)e+=hne[Math.random()*64|0];return e},fne=["name","message","stack","code"],T4=class{constructor(t,e){de(this,"_type");this.payload=t,this.meta=e}},OF=class{constructor(t,e){de(this,"_type");this.payload=t,this.meta=e}},pne=t=>{if(typeof t=="object"&&t!==null){const e={};for(const r of fne)typeof t[r]=="string"&&(e[r]=t[r]);return e}return{message:String(t)}},NF=(()=>{function t(e,r,n){const i=ys(e+"/fulfilled",(l,c,u,A)=>({payload:l,meta:{...A||{},arg:u,requestId:c,requestStatus:"fulfilled"}})),s=ys(e+"/pending",(l,c,u)=>({payload:void 0,meta:{...u||{},arg:c,requestId:l,requestStatus:"pending"}})),o=ys(e+"/rejected",(l,c,u,A,h)=>({payload:A,error:(n&&n.serializeError||pne)(l||"Rejected"),meta:{...h||{},arg:u,requestId:c,rejectedWithValue:!!A,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l){return(c,u,A)=>{const h=n!=null&&n.idGenerator?n.idGenerator(l):s8(),f=new AbortController;let p,m;function y(v){m=v,f.abort()}const g=async function(){var b,w;let v;try{let C=(b=n==null?void 0:n.condition)==null?void 0:b.call(n,l,{getState:u,extra:A});if(gne(C)&&(C=await C),C===!1||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const B=new Promise((_,k)=>{p=()=>{k({name:"AbortError",message:m||"Aborted"})},f.signal.addEventListener("abort",p)});c(s(h,l,(w=n==null?void 0:n.getPendingMeta)==null?void 0:w.call(n,{requestId:h,arg:l},{getState:u,extra:A}))),v=await Promise.race([B,Promise.resolve(r(l,{dispatch:c,getState:u,extra:A,requestId:h,signal:f.signal,abort:y,rejectWithValue:(_,k)=>new T4(_,k),fulfillWithValue:(_,k)=>new OF(_,k)})).then(_=>{if(_ instanceof T4)throw _;return _ instanceof OF?i(_.payload,h,l,_.meta):i(_,h,l)})])}catch(C){v=C instanceof T4?o(null,h,l,C.payload,C.meta):o(C,h,l)}finally{p&&f.signal.removeEventListener("abort",p)}return n&&!n.dispatchConditionRejection&&o.match(v)&&v.meta.condition||c(v),v}();return Object.assign(g,{abort:y,requestId:h,arg:l,unwrap(){return g.then(mne)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:aa(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function mne(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function gne(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var yne=Symbol.for("rtk-slice-createasyncthunk");function vne(t,e){return`${t}/${e}`}function xne({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[yne];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(vs(11));const a=(typeof i.reducers=="function"?i.reducers(wne()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(x,b){const w=typeof x=="string"?x:x.type;if(!w)throw new Error(vs(12));if(w in c.sliceCaseReducersByType)throw new Error(vs(13));return c.sliceCaseReducersByType[w]=b,u},addMatcher(x,b){return c.sliceMatchers.push({matcher:x,reducer:b}),u},exposeAction(x,b){return c.actionCreators[x]=b,u},exposeCaseReducer(x,b){return c.sliceCaseReducersByName[x]=b,u}};l.forEach(x=>{const b=a[x],w={reducerName:x,type:vne(s,x),createNotation:typeof i.reducers=="function"};Bne(b)?Sne(w,b,u,e):Cne(w,b,u)});function A(){const[x={},b=[],w=void 0]=typeof i.extraReducers=="function"?pR(i.extraReducers):[i.extraReducers],C={...x,...c.sliceCaseReducersByType};return dne(i.initialState,B=>{for(let _ in C)B.addCase(_,C[_]);for(let _ of c.sliceMatchers)B.addMatcher(_.matcher,_.reducer);for(let _ of b)B.addMatcher(_.matcher,_.reducer);w&&B.addDefaultCase(w)})}const h=x=>x,f=new Map;let p;function m(x,b){return p||(p=A()),p(x,b)}function y(){return p||(p=A()),p.getInitialState()}function g(x,b=!1){function w(B){let _=B[x];return typeof _>"u"&&b&&(_=y()),_}function C(B=h){const _=LF(f,b,()=>new WeakMap);return LF(_,B,()=>{const k={};for(const[E,F]of Object.entries(i.selectors??{}))k[E]=bne(F,B,y,b);return k})}return{reducerPath:x,getSelectors:C,get selectors(){return C(w)},selectSlice:w}}const v={name:s,reducer:m,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:y,...g(o),injectInto(x,{reducerPath:b,...w}={}){const C=b??o;return x.inject({reducerPath:C,reducer:m},w),{...v,...g(C,!0)}}};return v}}function bne(t,e,r,n){function i(s,...o){let a=e(s);return typeof a>"u"&&n&&(a=r()),t(a,...o)}return i.unwrapped=t,i}var Tc=xne();function wne(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function Cne({type:t,reducerName:e,createNotation:r},n,i){let s,o;if("reducer"in n){if(r&&!_ne(n))throw new Error(vs(17));s=n.reducer,o=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?ys(t,o):ys(t))}function Bne(t){return t._reducerDefinitionType==="asyncThunk"}function _ne(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Sne({type:t,reducerName:e},r,n,i){if(!i)throw new Error(vs(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:u}=r,A=i(t,s,u);n.exposeAction(e,A),o&&n.addCase(A.fulfilled,o),a&&n.addCase(A.pending,a),l&&n.addCase(A.rejected,l),c&&n.addMatcher(A.settled,c),n.exposeCaseReducer(e,{fulfilled:o||J0,pending:a||J0,rejected:l||J0,settled:c||J0})}function J0(){}function vs(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const kne={isAuthenticated:!1,avatar_url:""},gR=Tc({name:"auth",initialState:kne,reducers:{setAuthenticated:(t,e)=>{t.isAuthenticated=e.payload},setAvatar:(t,e)=>{t.avatar_url=e.payload}}}),{setAuthenticated:Wy,setAvatar:Z0}=gR.actions,yR=S.createContext(null),Ene=({children:t})=>{const e=n0(),r=Il(p=>p.auth.isAuthenticated),n=Il(p=>p.auth.avatar_url),[i,s]=S.useState(null),[o,a]=S.useState(!0),[l,c]=S.useState({accessToken:"",refreshToken:""});S.useEffect(()=>{const p=localStorage.getItem("accessToken"),m=localStorage.getItem("refreshToken"),y=localStorage.getItem("user");if(p&&y&&m)try{const g=JSON.parse(y);e(Wy(!0)),e(Z0(g==null?void 0:g.user_image_url)),s(g),c({accessToken:p,refreshToken:m})}catch{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user")}a(!1)},[e]);const u=p=>{p!=null&&p.accessToken&&(localStorage.setItem("accessToken",p.accessToken),c(m=>({...m,accessToken:p.accessToken})))},A=p=>{if(p!=null&&p.userAvatar){const m=JSON.parse(localStorage.getItem("user"));e(Z0(p==null?void 0:p.userAvatar));const y={...m,user_image_url:p==null?void 0:p.userAvatar};console.log("user in update lcoa vatar",y),localStorage.setItem("user",JSON.stringify(y))}},h=p=>{var m;localStorage.setItem("accessToken",p.accessToken),localStorage.setItem("refreshToken",p.refreshToken),localStorage.setItem("user",JSON.stringify(p.user)),e(Wy(!0)),e(Z0((m=p==null?void 0:p.user)==null?void 0:m.user_image_url)),s(p.user),c({accessToken:p.accessToken,refreshToken:p.refreshToken}),a(!1)},f=async()=>{await YQ.UserLogout({refresh_token:localStorage.getItem("refreshToken")}),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),e(Wy(!1)),e(Z0("")),s(null),c({accessToken:"",refreshToken:""}),a(!1)};return d.jsx(yR.Provider,{value:{isAuthenticated:r,avatar_url:n,user:i,isLoading:o,tokens:l,login:h,logout:f,updateToken:u,updateAvatarLocal:A},children:t})},dn=()=>{const t=S.useContext(yR);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};function vR(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=vR(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function au(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=vR(t))&&(n&&(n+=" "),n+=e);return n}function Fne(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Fne(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var l0=t=>typeof t=="number"&&!isNaN(t),ku=t=>typeof t=="string",la=t=>typeof t=="function",Mne=t=>ku(t)||l0(t),d5=t=>ku(t)||la(t)?t:null,Tne=(t,e)=>t===!1||l0(t)&&t>0?t:e,h5=t=>S.isValidElement(t)||ku(t)||la(t)||l0(t);function Dne(t,e,r=300){let{scrollHeight:n,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${r}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,r)})})}function Lne({enter:t,exit:e,appendPosition:r=!1,collapse:n=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:l,nodeRef:c,isIn:u,playToast:A}){let h=r?`${t}--${o}`:t,f=r?`${e}--${o}`:e,p=S.useRef(0);return S.useLayoutEffect(()=>{let m=c.current,y=h.split(" "),g=v=>{v.target===c.current&&(A(),m.removeEventListener("animationend",g),m.removeEventListener("animationcancel",g),p.current===0&&v.type!=="animationcancel"&&m.classList.remove(...y))};m.classList.add(...y),m.addEventListener("animationend",g),m.addEventListener("animationcancel",g)},[]),S.useEffect(()=>{let m=c.current,y=()=>{m.removeEventListener("animationend",y),n?Dne(m,l,i):l()};u||(a?y():(p.current=1,m.className+=` ${f}`,m.addEventListener("animationend",y)))},[u]),be.createElement(be.Fragment,null,s)}}function IF(t,e){return{content:xR(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function xR(t,e,r=!1){return S.isValidElement(t)&&!ku(t.type)?S.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:r}):la(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:r}):t}function jne({closeToast:t,theme:e,ariaLabel:r="close"}){return be.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:n=>{n.stopPropagation(),t(!0)},"aria-label":r},be.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},be.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function One({delay:t,isRunning:e,closeToast:r,type:n="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:l,isIn:c,theme:u}){let A=i||o&&a===0,h={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(h.transform=`scaleX(${a})`);let f=au("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":l}),p=la(s)?s({rtl:l,type:n,defaultClassName:f}):au(f,s),m={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&r()}};return be.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":A},be.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${n}`}),be.createElement("div",{role:"progressbar","aria-hidden":A?"true":"false","aria-label":"notification timer",className:p,style:h,...m}))}var Nne=1,bR=()=>`${Nne++}`;function Ine(t,e,r){let n=1,i=0,s=[],o=[],a=e,l=new Map,c=new Set,u=v=>(c.add(v),()=>c.delete(v)),A=()=>{o=Array.from(l.values()),c.forEach(v=>v())},h=({containerId:v,toastId:x,updateId:b})=>{let w=v?v!==t:t!==1,C=l.has(x)&&b==null;return w||C},f=(v,x)=>{l.forEach(b=>{var w;(x==null||x===b.props.toastId)&&((w=b.toggle)==null||w.call(b,v))})},p=v=>{var x,b;(b=(x=v.props)==null?void 0:x.onClose)==null||b.call(x,v.removalReason),v.isActive=!1},m=v=>{if(v==null)l.forEach(p);else{let x=l.get(v);x&&p(x)}A()},y=()=>{i-=s.length,s=[]},g=v=>{var x,b;let{toastId:w,updateId:C}=v.props,B=C==null;v.staleId&&l.delete(v.staleId),v.isActive=!0,l.set(w,v),A(),r(IF(v,B?"added":"updated")),B&&((b=(x=v.props).onOpen)==null||b.call(x))};return{id:t,props:a,observe:u,toggle:f,removeToast:m,toasts:l,clearQueue:y,buildToast:(v,x)=>{if(h(x))return;let{toastId:b,updateId:w,data:C,staleId:B,delay:_}=x,k=w==null;k&&i++;let E={...a,style:a.toastStyle,key:n++,...Object.fromEntries(Object.entries(x).filter(([M,T])=>T!=null)),toastId:b,updateId:w,data:C,isIn:!1,className:d5(x.className||a.toastClassName),progressClassName:d5(x.progressClassName||a.progressClassName),autoClose:x.isLoading?!1:Tne(x.autoClose,a.autoClose),closeToast(M){l.get(b).removalReason=M,m(b)},deleteToast(){let M=l.get(b);if(M!=null){if(r(IF(M,"removed")),l.delete(b),i--,i<0&&(i=0),s.length>0){g(s.shift());return}A()}}};E.closeButton=a.closeButton,x.closeButton===!1||h5(x.closeButton)?E.closeButton=x.closeButton:x.closeButton===!0&&(E.closeButton=h5(a.closeButton)?a.closeButton:!0);let F={content:v,props:E,staleId:B};a.limit&&a.limit>0&&i>a.limit&&k?s.push(F):l0(_)?setTimeout(()=>{g(F)},_):g(F)},setProps(v){a=v},setToggle:(v,x)=>{let b=l.get(v);b&&(b.toggle=x)},isToastActive:v=>{var x;return(x=l.get(v))==null?void 0:x.isActive},getSnapshot:()=>o}}var Cn=new Map,hm=[],f5=new Set,Une=t=>f5.forEach(e=>e(t)),wR=()=>Cn.size>0;function Pne(){hm.forEach(t=>BR(t.content,t.options)),hm=[]}var Qne=(t,{containerId:e})=>{var r;return(r=Cn.get(e||1))==null?void 0:r.toasts.get(t)};function CR(t,e){var r;if(e)return!!((r=Cn.get(e))!=null&&r.isToastActive(t));let n=!1;return Cn.forEach(i=>{i.isToastActive(t)&&(n=!0)}),n}function Rne(t){if(!wR()){hm=hm.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||Mne(t))Cn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Cn.get(t.containerId);e?e.removeToast(t.id):Cn.forEach(r=>{r.removeToast(t.id)})}}var Hne=(t={})=>{Cn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function BR(t,e){h5(t)&&(wR()||hm.push({content:t,options:e}),Cn.forEach(r=>{r.buildToast(t,e)}))}function $ne(t){var e;(e=Cn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function _R(t,e){Cn.forEach(r=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===r.id)&&r.toggle(t,e==null?void 0:e.id)})}function Vne(t){let e=t.containerId||1;return{subscribe(r){let n=Ine(e,t,Une);Cn.set(e,n);let i=n.observe(r);return Pne(),()=>{i(),Cn.delete(e)}},setProps(r){var n;(n=Cn.get(e))==null||n.setProps(r)},getSnapshot(){var r;return(r=Cn.get(e))==null?void 0:r.getSnapshot()}}}function Kne(t){return f5.add(t),()=>{f5.delete(t)}}function zne(t){return t&&(ku(t.toastId)||l0(t.toastId))?t.toastId:bR()}function c0(t,e){return BR(t,e),e.toastId}function k2(t,e){return{...e,type:e&&e.type||t,toastId:zne(e)}}function E2(t){return(e,r)=>c0(e,k2(t,r))}function $(t,e){return c0(t,k2("default",e))}$.loading=(t,e)=>c0(t,k2("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Wne(t,{pending:e,error:r,success:n},i){let s;e&&(s=ku(e)?$.loading(e,i):$.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,u,A)=>{if(u==null){$.dismiss(s);return}let h={type:c,...o,...i,data:A},f=ku(u)?{render:u}:u;return s?$.update(s,{...h,...f}):$(f.render,{...h,...f}),A},l=la(t)?t():t;return l.then(c=>a("success",n,c)).catch(c=>a("error",r,c)),l}$.promise=Wne;$.success=E2("success");$.info=E2("info");$.error=E2("error");$.warning=E2("warning");$.warn=$.warning;$.dark=(t,e)=>c0(t,k2("default",{theme:"dark",...e}));function Gne(t){Rne(t)}$.dismiss=Gne;$.clearWaitingQueue=Hne;$.isActive=CR;$.update=(t,e={})=>{let r=Qne(t,e);if(r){let{props:n,content:i}=r,s={delay:100,...n,...e,toastId:e.toastId||t,updateId:bR()};s.toastId!==t&&(s.staleId=t);let o=s.render||i;delete s.render,c0(o,s)}};$.done=t=>{$.update(t,{progress:1})};$.onChange=Kne;$.play=t=>_R(!0,t);$.pause=t=>_R(!1,t);function qne(t){var e;let{subscribe:r,getSnapshot:n,setProps:i}=S.useRef(Vne(t)).current;i(t);let s=(e=S.useSyncExternalStore(r,n,n))==null?void 0:e.slice();function o(a){if(!s)return[];let l=new Map;return t.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:u}=c.props;l.has(u)||l.set(u,[]),l.get(u).push(c)}),Array.from(l,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:CR,count:s==null?void 0:s.length}}function Xne(t){let[e,r]=S.useState(!1),[n,i]=S.useState(!1),s=S.useRef(null),o=S.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:A}=t;$ne({id:t.toastId,containerId:t.containerId,fn:r}),S.useEffect(()=>{if(t.pauseOnFocusLoss)return h(),()=>{f()}},[t.pauseOnFocusLoss]);function h(){document.hasFocus()||g(),window.addEventListener("focus",y),window.addEventListener("blur",g)}function f(){window.removeEventListener("focus",y),window.removeEventListener("blur",g)}function p(B){if(t.draggable===!0||t.draggable===B.pointerType){v();let _=s.current;o.canCloseOnClick=!0,o.canDrag=!0,_.style.transition="none",t.draggableDirection==="x"?(o.start=B.clientX,o.removalDistance=_.offsetWidth*(t.draggablePercent/100)):(o.start=B.clientY,o.removalDistance=_.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function m(B){let{top:_,bottom:k,left:E,right:F}=s.current.getBoundingClientRect();B.nativeEvent.type!=="touchend"&&t.pauseOnHover&&B.clientX>=E&&B.clientX<=F&&B.clientY>=_&&B.clientY<=k?g():y()}function y(){r(!0)}function g(){r(!1)}function v(){o.didMove=!1,document.addEventListener("pointermove",b),document.addEventListener("pointerup",w)}function x(){document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",w)}function b(B){let _=s.current;if(o.canDrag&&_){o.didMove=!0,e&&g(),t.draggableDirection==="x"?o.delta=B.clientX-o.start:o.delta=B.clientY-o.start,o.start!==B.clientX&&(o.canCloseOnClick=!1);let k=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;_.style.transform=`translate3d(${k},0)`,_.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function w(){x();let B=s.current;if(o.canDrag&&o.didMove&&B){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}B.style.transition="transform 0.2s, opacity 0.2s",B.style.removeProperty("transform"),B.style.removeProperty("opacity")}}let C={onPointerDown:p,onPointerUp:m};return a&&l&&(C.onMouseEnter=g,t.stacked||(C.onMouseLeave=y)),A&&(C.onClick=B=>{u&&u(B),o.canCloseOnClick&&c(!0)}),{playToast:y,pauseToast:g,isRunning:e,preventExitTransition:n,toastRef:s,eventHandlers:C}}var Yne=typeof window<"u"?S.useLayoutEffect:S.useEffect,F2=({theme:t,type:e,isLoading:r,...n})=>be.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...n});function Jne(t){return be.createElement(F2,{...t},be.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Zne(t){return be.createElement(F2,{...t},be.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function eie(t){return be.createElement(F2,{...t},be.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function tie(t){return be.createElement(F2,{...t},be.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function rie(){return be.createElement("div",{className:"Toastify__spinner"})}var p5={info:Zne,warning:Jne,success:eie,error:tie,spinner:rie},nie=t=>t in p5;function iie({theme:t,type:e,isLoading:r,icon:n}){let i=null,s={theme:t,type:e};return n===!1||(la(n)?i=n({...s,isLoading:r}):S.isValidElement(n)?i=S.cloneElement(n,s):r?i=p5.spinner():nie(e)&&(i=p5[e](s))),i}var sie=t=>{let{isRunning:e,preventExitTransition:r,toastRef:n,eventHandlers:i,playToast:s}=Xne(t),{closeButton:o,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:A,closeToast:h,transition:f,position:p,className:m,style:y,progressClassName:g,updateId:v,role:x,progress:b,rtl:w,toastId:C,deleteToast:B,isIn:_,isLoading:k,closeOnClick:E,theme:F,ariaLabel:M}=t,T=au("Toastify__toast",`Toastify__toast-theme--${F}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":w},{"Toastify__toast--close-on-click":E}),Q=la(m)?m({rtl:w,position:p,type:u,defaultClassName:T}):au(T,m),P=iie(t),H=!!b||!l,I={closeToast:h,type:u,theme:F},L=null;return o===!1||(la(o)?L=o(I):S.isValidElement(o)?L=S.cloneElement(o,I):L=jne(I)),be.createElement(f,{isIn:_,done:B,position:p,preventExitTransition:r,nodeRef:n,playToast:s},be.createElement("div",{id:C,tabIndex:0,onClick:c,"data-in":_,className:Q,...i,style:y,ref:n,..._&&{role:x,"aria-label":M}},P!=null&&be.createElement("div",{className:au("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},P),xR(a,t,!e),L,!t.customProgressBar&&be.createElement(One,{...v&&!H?{key:`p-${v}`}:{},rtl:w,theme:F,delay:l,isRunning:e,isIn:_,closeToast:h,hide:A,type:u,className:g,controlledProgress:H,progress:b||0})))},oie=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),aie=Lne(oie("bounce",!0)),lie={position:"top-right",transition:aie,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function cie(t){let e={...lie,...t},r=t.stacked,[n,i]=S.useState(!0),s=S.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=qne(e),{className:c,style:u,rtl:A,containerId:h,hotKeys:f}=e;function p(y){let g=au("Toastify__toast-container",`Toastify__toast-container--${y}`,{"Toastify__toast-container--rtl":A});return la(c)?c({position:y,rtl:A,defaultClassName:g}):au(g,d5(c))}function m(){r&&(i(!0),$.play())}return Yne(()=>{var y;if(r){let g=s.current.querySelectorAll('[data-in="true"]'),v=12,x=(y=e.position)==null?void 0:y.includes("top"),b=0,w=0;Array.from(g).reverse().forEach((C,B)=>{let _=C;_.classList.add("Toastify__toast--stacked"),B>0&&(_.dataset.collapsed=`${n}`),_.dataset.pos||(_.dataset.pos=x?"top":"bot");let k=b*(n?.2:1)+(n?0:v*B);_.style.setProperty("--y",`${x?k:k*-1}px`),_.style.setProperty("--g",`${v}`),_.style.setProperty("--s",`${1-(n?w:0)}`),b+=_.offsetHeight,w+=.025})}},[n,l,r]),S.useEffect(()=>{function y(g){var v;let x=s.current;f(g)&&((v=x.querySelector('[tabIndex="0"]'))==null||v.focus(),i(!1),$.pause()),g.key==="Escape"&&(document.activeElement===x||x!=null&&x.contains(document.activeElement))&&(i(!0),$.play())}return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[f]),be.createElement("section",{ref:s,className:"Toastify",id:h,onMouseEnter:()=>{r&&(i(!1),$.pause())},onMouseLeave:m,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((y,g)=>{let v=g.length?{...u}:{...u,pointerEvents:"none"};return be.createElement("div",{tabIndex:-1,className:p(y),"data-stacked":r,style:v,key:`c-${y}`},g.map(({content:x,props:b})=>be.createElement(sie,{...b,stacked:r,collapseAll:m,isIn:a(b.toastId,b.containerId),key:`t-${b.key}`},x)))}))}const Uu="/assets/tooty-new-logo-CILz-_WG.svg",uie="/assets/sign_in-CjgmJBQl.png";var SR=(t=>(t.uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected",t))(SR||{});function Aie(t){return{status:t,isUninitialized:t==="uninitialized",isLoading:t==="pending",isSuccess:t==="fulfilled",isError:t==="rejected"}}var UF=Ao;function kR(t,e){if(t===e||!(UF(t)&&UF(e)||Array.isArray(t)&&Array.isArray(e)))return e;const r=Object.keys(e),n=Object.keys(t);let i=r.length===n.length;const s=Array.isArray(e)?[]:{};for(const o of r)s[o]=kR(t[o],e[o]),i&&(i=t[o]===s[o]);return i?t:s}function vd(t){let e=0;for(const r in t)e++;return e}var PF=t=>[].concat(...t);function die(t){return new RegExp("(^|:)//").test(t)}function hie(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function Dx(t){return t!=null}function fie(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var pie=t=>t.replace(/\/$/,""),mie=t=>t.replace(/^\//,"");function gie(t,e){if(!t)return e;if(!e)return t;if(die(e))return e;const r=t.endsWith("/")||!e.startsWith("?")?"/":"";return t=pie(t),e=mie(e),`${t}${r}${e}`}function yie(t,e,r){return t.has(e)?t.get(e):t.set(e,r).get(e)}var QF=(...t)=>fetch(...t),vie=t=>t.status>=200&&t.status<=299,xie=t=>/ion\/(vnd\.api\+)?json/.test(t.get("content-type")||"");function RF(t){if(!Ao(t))return t;const e={...t};for(const[r,n]of Object.entries(e))n===void 0&&delete e[r];return e}function ER({baseUrl:t,prepareHeaders:e=A=>A,fetchFn:r=QF,paramsSerializer:n,isJsonContentType:i=xie,jsonContentType:s="application/json",jsonReplacer:o,timeout:a,responseHandler:l,validateStatus:c,...u}={}){return typeof fetch>"u"&&r===QF&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(h,f,p)=>{const{getState:m,extra:y,endpoint:g,forced:v,type:x}=f;let b,{url:w,headers:C=new Headers(u.headers),params:B=void 0,responseHandler:_=l??"json",validateStatus:k=c??vie,timeout:E=a,...F}=typeof h=="string"?{url:h}:h,M,T=f.signal;E&&(M=new AbortController,f.signal.addEventListener("abort",M.abort),T=M.signal);let Q={...u,signal:T,...F};C=new Headers(RF(C)),Q.headers=await e(C,{getState:m,arg:h,extra:y,endpoint:g,forced:v,type:x,extraOptions:p})||C;const P=ie=>typeof ie=="object"&&(Ao(ie)||Array.isArray(ie)||typeof ie.toJSON=="function");if(!Q.headers.has("content-type")&&P(Q.body)&&Q.headers.set("content-type",s),P(Q.body)&&i(Q.headers)&&(Q.body=JSON.stringify(Q.body,o)),B){const ie=~w.indexOf("?")?"&":"?",Ae=n?n(B):new URLSearchParams(RF(B));w+=ie+Ae}w=gie(t,w);const H=new Request(w,Q);b={request:new Request(w,Q)};let L,R=!1,V=M&&setTimeout(()=>{R=!0,M.abort()},E);try{L=await r(H)}catch(ie){return{error:{status:R?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(ie)},meta:b}}finally{V&&clearTimeout(V),M==null||M.signal.removeEventListener("abort",M.abort)}const Y=L.clone();b.response=Y;let re,se="";try{let ie;if(await Promise.all([A(L,_).then(Ae=>re=Ae,Ae=>ie=Ae),Y.text().then(Ae=>se=Ae,()=>{})]),ie)throw ie}catch(ie){return{error:{status:"PARSING_ERROR",originalStatus:L.status,data:se,error:String(ie)},meta:b}}return k(L,re)?{data:re,meta:b}:{error:{status:L.status,data:re},meta:b}};async function A(h,f){if(typeof f=="function")return f(h);if(f==="content-type"&&(f=i(h.headers)?"json":"text"),f==="json"){const p=await h.text();return p.length?JSON.parse(p):null}return h.text()}}var HF=class{constructor(t,e=void 0){this.value=t,this.meta=e}},o8=ys("__rtkq/focused"),FR=ys("__rtkq/unfocused"),a8=ys("__rtkq/online"),MR=ys("__rtkq/offline");function TR(t){return t.type==="query"}function bie(t){return t.type==="mutation"}function l8(t,e,r,n,i,s){return wie(t)?t(e,r,n,i).filter(Dx).map(m5).map(s):Array.isArray(t)?t.map(m5).map(s):[]}function wie(t){return typeof t=="function"}function m5(t){return typeof t=="string"?{type:t}:t}function Cie(t,e){return t.catch(e)}var fm=Symbol("forceQueryFn"),g5=t=>typeof t[fm]=="function";function Bie({serializeQueryArgs:t,queryThunk:e,mutationThunk:r,api:n,context:i}){const s=new Map,o=new Map,{unsubscribeQueryResult:a,removeMutationResult:l,updateSubscriptionOptions:c}=n.internalActions;return{buildInitiateQuery:p,buildInitiateMutation:m,getRunningQueryThunk:u,getRunningMutationThunk:A,getRunningQueriesThunk:h,getRunningMutationsThunk:f};function u(y,g){return v=>{var w;const x=i.endpointDefinitions[y],b=t({queryArgs:g,endpointDefinition:x,endpointName:y});return(w=s.get(v))==null?void 0:w[b]}}function A(y,g){return v=>{var x;return(x=o.get(v))==null?void 0:x[g]}}function h(){return y=>Object.values(s.get(y)||{}).filter(Dx)}function f(){return y=>Object.values(o.get(y)||{}).filter(Dx)}function p(y,g){const v=(x,{subscribe:b=!0,forceRefetch:w,subscriptionOptions:C,[fm]:B,..._}={})=>(k,E)=>{var re;const F=t({queryArgs:x,endpointDefinition:g,endpointName:y}),M=e({..._,type:"query",subscribe:b,forceRefetch:w,subscriptionOptions:C,endpointName:y,originalArgs:x,queryCacheKey:F,[fm]:B}),T=n.endpoints[y].select(x),Q=k(M),P=T(E()),{requestId:H,abort:I}=Q,L=P.requestId!==H,R=(re=s.get(k))==null?void 0:re[F],V=()=>T(E()),Y=Object.assign(B?Q.then(V):L&&!R?Promise.resolve(P):Promise.all([R,Q]).then(V),{arg:x,requestId:H,subscriptionOptions:C,queryCacheKey:F,abort:I,async unwrap(){const se=await Y;if(se.isError)throw se.error;return se.data},refetch:()=>k(v(x,{subscribe:!1,forceRefetch:!0})),unsubscribe(){b&&k(a({queryCacheKey:F,requestId:H}))},updateSubscriptionOptions(se){Y.subscriptionOptions=se,k(c({endpointName:y,requestId:H,queryCacheKey:F,options:se}))}});if(!R&&!L&&!B){const se=yie(s,k,{});se[F]=Y,Y.then(()=>{delete se[F],vd(se)||s.delete(k)})}return Y};return v}function m(y){return(g,{track:v=!0,fixedCacheKey:x}={})=>(b,w)=>{const C=r({type:"mutation",endpointName:y,originalArgs:g,track:v,fixedCacheKey:x}),B=b(C),{requestId:_,abort:k,unwrap:E}=B,F=Cie(B.unwrap().then(P=>({data:P})),P=>({error:P})),M=()=>{b(l({requestId:_,fixedCacheKey:x}))},T=Object.assign(F,{arg:B.arg,requestId:_,abort:k,unwrap:E,reset:M}),Q=o.get(b)||{};return o.set(b,Q),Q[_]=T,T.then(()=>{delete Q[_],vd(Q)||o.delete(b)}),x&&(Q[x]=T,T.then(()=>{Q[x]===T&&(delete Q[x],vd(Q)||o.delete(b))})),T}}}function $F(t){return t}function _ie({reducerPath:t,baseQuery:e,context:{endpointDefinitions:r},serializeQueryArgs:n,api:i,assertTagType:s}){const o=(v,x,b,w)=>(C,B)=>{const _=r[v],k=n({queryArgs:x,endpointDefinition:_,endpointName:v});if(C(i.internalActions.queryResultPatched({queryCacheKey:k,patches:b})),!w)return;const E=i.endpoints[v].select(x)(B()),F=l8(_.providesTags,E.data,void 0,x,{},s);C(i.internalActions.updateProvidedBy({queryCacheKey:k,providedTags:F}))},a=(v,x,b,w=!0)=>(C,B)=>{const k=i.endpoints[v].select(x)(B()),E={patches:[],inversePatches:[],undo:()=>C(i.util.patchQueryData(v,x,E.inversePatches,w))};if(k.status==="uninitialized")return E;let F;if("data"in k)if(_s(k.data)){const[M,T,Q]=dR(k.data,b);E.patches.push(...T),E.inversePatches.push(...Q),F=M}else F=b(k.data),E.patches.push({op:"replace",path:[],value:F}),E.inversePatches.push({op:"replace",path:[],value:k.data});return E.patches.length===0||C(i.util.patchQueryData(v,x,E.patches,w)),E},l=(v,x,b)=>w=>w(i.endpoints[v].initiate(x,{subscribe:!1,forceRefetch:!0,[fm]:()=>({data:b})})),c=async(v,{signal:x,abort:b,rejectWithValue:w,fulfillWithValue:C,dispatch:B,getState:_,extra:k})=>{const E=r[v.endpointName];try{let F=$F,M;const T={signal:x,abort:b,dispatch:B,getState:_,extra:k,endpoint:v.endpointName,type:v.type,forced:v.type==="query"?u(v,_()):void 0,queryCacheKey:v.type==="query"?v.queryCacheKey:void 0},Q=v.type==="query"?v[fm]:void 0;if(Q?M=Q():E.query?(M=await e(E.query(v.originalArgs),T,E.extraOptions),E.transformResponse&&(F=E.transformResponse)):M=await E.queryFn(v.originalArgs,T,E.extraOptions,P=>e(P,T,E.extraOptions)),typeof process<"u",M.error)throw new HF(M.error,M.meta);return C(await F(M.data,M.meta,v.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:M.meta,[Xc]:!0})}catch(F){let M=F;if(M instanceof HF){let T=$F;E.query&&E.transformErrorResponse&&(T=E.transformErrorResponse);try{return w(await T(M.value,M.meta,v.originalArgs),{baseQueryMeta:M.meta,[Xc]:!0})}catch(Q){M=Q}}throw console.error(M),M}};function u(v,x){var _,k,E;const b=(k=(_=x[t])==null?void 0:_.queries)==null?void 0:k[v.queryCacheKey],w=(E=x[t])==null?void 0:E.config.refetchOnMountOrArgChange,C=b==null?void 0:b.fulfilledTimeStamp,B=v.forceRefetch??(v.subscribe&&w);return B?B===!0||(Number(new Date)-Number(C))/1e3>=B:!1}const A=NF(`${t}/executeQuery`,c,{getPendingMeta(){return{startedTimeStamp:Date.now(),[Xc]:!0}},condition(v,{getState:x}){var E,F,M;const b=x(),w=(F=(E=b[t])==null?void 0:E.queries)==null?void 0:F[v.queryCacheKey],C=w==null?void 0:w.fulfilledTimeStamp,B=v.originalArgs,_=w==null?void 0:w.originalArgs,k=r[v.endpointName];return g5(v)?!0:(w==null?void 0:w.status)==="pending"?!1:u(v,b)||TR(k)&&((M=k==null?void 0:k.forceRefetch)!=null&&M.call(k,{currentArg:B,previousArg:_,endpointState:w,state:b}))?!0:!C},dispatchConditionRejection:!0}),h=NF(`${t}/executeMutation`,c,{getPendingMeta(){return{startedTimeStamp:Date.now(),[Xc]:!0}}}),f=v=>"force"in v,p=v=>"ifOlderThan"in v,m=(v,x,b)=>(w,C)=>{const B=f(b)&&b.force,_=p(b)&&b.ifOlderThan,k=(F=!0)=>{const M={forceRefetch:F,isPrefetch:!0};return i.endpoints[v].initiate(x,M)},E=i.endpoints[v].select(x)(C());if(B)w(k());else if(_){const F=E==null?void 0:E.fulfilledTimeStamp;if(!F){w(k());return}(Number(new Date)-Number(new Date(F)))/1e3>=_&&w(k())}else w(k(!1))};function y(v){return x=>{var b,w;return((w=(b=x==null?void 0:x.meta)==null?void 0:b.arg)==null?void 0:w.endpointName)===v}}function g(v,x){return{matchPending:dp(i8(v),y(x)),matchFulfilled:dp(Ul(v),y(x)),matchRejected:dp(Qd(v),y(x))}}return{queryThunk:A,mutationThunk:h,prefetch:m,updateQueryData:a,upsertQueryData:l,patchQueryData:o,buildMatchThunkActions:g}}function DR(t,e,r,n){return l8(r[t.meta.arg.endpointName][e],Ul(t)?t.payload:void 0,S2(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,n)}function eg(t,e,r){const n=t[e];n&&r(n)}function pm(t){return("arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)??t.requestId}function VF(t,e,r){const n=t[pm(e)];n&&r(n)}var Uh={};function Sie({reducerPath:t,queryThunk:e,mutationThunk:r,serializeQueryArgs:n,context:{endpointDefinitions:i,apiUid:s,extractRehydrationInfo:o,hasRehydrationInfo:a},assertTagType:l,config:c}){const u=ys(`${t}/resetApiState`);function A(C,B,_,k){var E;C[E=B.queryCacheKey]??(C[E]={status:"uninitialized",endpointName:B.endpointName}),eg(C,B.queryCacheKey,F=>{F.status="pending",F.requestId=_&&F.requestId?F.requestId:k.requestId,B.originalArgs!==void 0&&(F.originalArgs=B.originalArgs),F.startedTimeStamp=k.startedTimeStamp})}function h(C,B,_){eg(C,B.arg.queryCacheKey,k=>{if(k.requestId!==B.requestId&&!g5(B.arg))return;const{merge:E}=i[B.arg.endpointName];if(k.status="fulfilled",E)if(k.data!==void 0){const{fulfilledTimeStamp:F,arg:M,baseQueryMeta:T,requestId:Q}=B;let P=o0(k.data,H=>E(H,_,{arg:M.originalArgs,baseQueryMeta:T,fulfilledTimeStamp:F,requestId:Q}));k.data=P}else k.data=_;else k.data=i[B.arg.endpointName].structuralSharing??!0?kR(ho(k.data)?Ore(k.data):k.data,_):_;delete k.error,k.fulfilledTimeStamp=B.fulfilledTimeStamp})}const f=Tc({name:`${t}/queries`,initialState:Uh,reducers:{removeQueryResult:{reducer(C,{payload:{queryCacheKey:B}}){delete C[B]},prepare:Ih()},cacheEntriesUpserted:{reducer(C,B){for(const _ of B.payload){const{queryDescription:k,value:E}=_;A(C,k,!0,{arg:k,requestId:B.meta.requestId,startedTimeStamp:B.meta.timestamp}),h(C,{arg:k,requestId:B.meta.requestId,fulfilledTimeStamp:B.meta.timestamp,baseQueryMeta:{}},E)}},prepare:C=>({payload:C.map(k=>{const{endpointName:E,arg:F,value:M}=k,T=i[E];return{queryDescription:{type:"query",endpointName:E,originalArgs:k.arg,queryCacheKey:n({queryArgs:F,endpointDefinition:T,endpointName:E})},value:M}}),meta:{[Xc]:!0,requestId:s8(),timestamp:Date.now()}})},queryResultPatched:{reducer(C,{payload:{queryCacheKey:B,patches:_}}){eg(C,B,k=>{k.data=FF(k.data,_.concat())})},prepare:Ih()}},extraReducers(C){C.addCase(e.pending,(B,{meta:_,meta:{arg:k}})=>{const E=g5(k);A(B,k,E,_)}).addCase(e.fulfilled,(B,{meta:_,payload:k})=>{h(B,_,k)}).addCase(e.rejected,(B,{meta:{condition:_,arg:k,requestId:E},error:F,payload:M})=>{eg(B,k.queryCacheKey,T=>{if(!_){if(T.requestId!==E)return;T.status="rejected",T.error=M??F}})}).addMatcher(a,(B,_)=>{const{queries:k}=o(_);for(const[E,F]of Object.entries(k))((F==null?void 0:F.status)==="fulfilled"||(F==null?void 0:F.status)==="rejected")&&(B[E]=F)})}}),p=Tc({name:`${t}/mutations`,initialState:Uh,reducers:{removeMutationResult:{reducer(C,{payload:B}){const _=pm(B);_ in C&&delete C[_]},prepare:Ih()}},extraReducers(C){C.addCase(r.pending,(B,{meta:_,meta:{requestId:k,arg:E,startedTimeStamp:F}})=>{E.track&&(B[pm(_)]={requestId:k,status:"pending",endpointName:E.endpointName,startedTimeStamp:F})}).addCase(r.fulfilled,(B,{payload:_,meta:k})=>{k.arg.track&&VF(B,k,E=>{E.requestId===k.requestId&&(E.status="fulfilled",E.data=_,E.fulfilledTimeStamp=k.fulfilledTimeStamp)})}).addCase(r.rejected,(B,{payload:_,error:k,meta:E})=>{E.arg.track&&VF(B,E,F=>{F.requestId===E.requestId&&(F.status="rejected",F.error=_??k)})}).addMatcher(a,(B,_)=>{const{mutations:k}=o(_);for(const[E,F]of Object.entries(k))((F==null?void 0:F.status)==="fulfilled"||(F==null?void 0:F.status)==="rejected")&&E!==(F==null?void 0:F.requestId)&&(B[E]=F)})}}),m=Tc({name:`${t}/invalidation`,initialState:Uh,reducers:{updateProvidedBy:{reducer(C,B){var E,F;const{queryCacheKey:_,providedTags:k}=B.payload;for(const M of Object.values(C))for(const T of Object.values(M)){const Q=T.indexOf(_);Q!==-1&&T.splice(Q,1)}for(const{type:M,id:T}of k){const Q=(E=C[M]??(C[M]={}))[F=T||"__internal_without_id"]??(E[F]=[]);Q.includes(_)||Q.push(_)}},prepare:Ih()}},extraReducers(C){C.addCase(f.actions.removeQueryResult,(B,{payload:{queryCacheKey:_}})=>{for(const k of Object.values(B))for(const E of Object.values(k)){const F=E.indexOf(_);F!==-1&&E.splice(F,1)}}).addMatcher(a,(B,_)=>{var E,F;const{provided:k}=o(_);for(const[M,T]of Object.entries(k))for(const[Q,P]of Object.entries(T)){const H=(E=B[M]??(B[M]={}))[F=Q||"__internal_without_id"]??(E[F]=[]);for(const I of P)H.includes(I)||H.push(I)}}).addMatcher(aa(Ul(e),S2(e)),(B,_)=>{const k=DR(_,"providesTags",i,l),{queryCacheKey:E}=_.meta.arg;m.caseReducers.updateProvidedBy(B,m.actions.updateProvidedBy({queryCacheKey:E,providedTags:k}))})}}),y=Tc({name:`${t}/subscriptions`,initialState:Uh,reducers:{updateSubscriptionOptions(C,B){},unsubscribeQueryResult(C,B){},internal_getRTKQSubscriptions(){}}}),g=Tc({name:`${t}/internalSubscriptions`,initialState:Uh,reducers:{subscriptionsUpdated:{reducer(C,B){return FF(C,B.payload)},prepare:Ih()}}}),v=Tc({name:`${t}/config`,initialState:{online:fie(),focused:hie(),middlewareRegistered:!1,...c},reducers:{middlewareRegistered(C,{payload:B}){C.middlewareRegistered=C.middlewareRegistered==="conflict"||s!==B?"conflict":!0}},extraReducers:C=>{C.addCase(a8,B=>{B.online=!0}).addCase(MR,B=>{B.online=!1}).addCase(o8,B=>{B.focused=!0}).addCase(FR,B=>{B.focused=!1}).addMatcher(a,B=>({...B}))}}),x=sR({queries:f.reducer,mutations:p.reducer,provided:m.reducer,subscriptions:g.reducer,config:v.reducer}),b=(C,B)=>x(u.match(B)?void 0:C,B),w={...v.actions,...f.actions,...y.actions,...g.actions,...p.actions,...m.actions,resetApiState:u};return{reducer:b,actions:w}}var ol=Symbol.for("RTKQ/skipToken"),LR={status:"uninitialized"},KF=o0(LR,()=>{}),zF=o0(LR,()=>{});function kie({serializeQueryArgs:t,reducerPath:e,createSelector:r}){const n=A=>KF,i=A=>zF;return{buildQuerySelector:a,buildMutationSelector:l,selectInvalidatedBy:c,selectCachedArgsForQuery:u};function s(A){return{...A,...Aie(A.status)}}function o(A){return A[e]}function a(A,h){return f=>{if(f===ol)return r(n,s);const p=t({queryArgs:f,endpointDefinition:h,endpointName:A});return r(y=>{var g,v;return((v=(g=o(y))==null?void 0:g.queries)==null?void 0:v[p])??KF},s)}}function l(){return A=>{let h;return typeof A=="object"?h=pm(A)??ol:h=A,r(h===ol?i:m=>{var y,g;return((g=(y=o(m))==null?void 0:y.mutations)==null?void 0:g[h])??zF},s)}}function c(A,h){const f=A[e],p=new Set;for(const m of h.filter(Dx).map(m5)){const y=f.provided[m.type];if(!y)continue;let g=(m.id!==void 0?y[m.id]:PF(Object.values(y)))??[];for(const v of g)p.add(v)}return PF(Array.from(p.values()).map(m=>{const y=f.queries[m];return y?[{queryCacheKey:m,endpointName:y.endpointName,originalArgs:y.originalArgs}]:[]}))}function u(A,h){return Object.values(A[e].queries).filter(f=>(f==null?void 0:f.endpointName)===h&&f.status!=="uninitialized").map(f=>f.originalArgs)}}var qu=WeakMap?new WeakMap:void 0,WF=({endpointName:t,queryArgs:e})=>{let r="";const n=qu==null?void 0:qu.get(e);if(typeof n=="string")r=n;else{const i=JSON.stringify(e,(s,o)=>(o=typeof o=="bigint"?{$bigint:o.toString()}:o,o=Ao(o)?Object.keys(o).sort().reduce((a,l)=>(a[l]=o[l],a),{}):o,o));Ao(e)&&(qu==null||qu.set(e,i)),r=i}return`${t}(${r})`};function Eie(...t){return function(r){const n=Tx(c=>{var u;return(u=r.extractRehydrationInfo)==null?void 0:u.call(r,c,{reducerPath:r.reducerPath??"api"})}),i={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...r,extractRehydrationInfo:n,serializeQueryArgs(c){let u=WF;if("serializeQueryArgs"in c.endpointDefinition){const A=c.endpointDefinition.serializeQueryArgs;u=h=>{const f=A(h);return typeof f=="string"?f:WF({...h,queryArgs:f})}}else r.serializeQueryArgs&&(u=r.serializeQueryArgs);return u(c)},tagTypes:[...r.tagTypes||[]]},s={endpointDefinitions:{},batch(c){c()},apiUid:s8(),extractRehydrationInfo:n,hasRehydrationInfo:Tx(c=>n(c)!=null)},o={injectEndpoints:l,enhanceEndpoints({addTagTypes:c,endpoints:u}){if(c)for(const A of c)i.tagTypes.includes(A)||i.tagTypes.push(A);if(u)for(const[A,h]of Object.entries(u))typeof h=="function"?h(s.endpointDefinitions[A]):Object.assign(s.endpointDefinitions[A]||{},h);return o}},a=t.map(c=>c.init(o,i,s));function l(c){const u=c.endpoints({query:A=>({...A,type:"query"}),mutation:A=>({...A,type:"mutation"})});for(const[A,h]of Object.entries(u)){if(c.overrideExisting!==!0&&A in s.endpointDefinitions){if(c.overrideExisting==="throw")throw new Error(vs(39));continue}s.endpointDefinitions[A]=h;for(const f of a)f.injectEndpoint(A,h)}return o}return o.injectEndpoints({endpoints:r.endpoints})}}function Sa(t,...e){return Object.assign(t,...e)}var Fie=({api:t,queryThunk:e,internalState:r})=>{const n=`${t.reducerPath}/subscriptions`;let i=null,s=null;const{updateSubscriptionOptions:o,unsubscribeQueryResult:a}=t.internalActions,l=(f,p)=>{var y,g,v;if(o.match(p)){const{queryCacheKey:x,requestId:b,options:w}=p.payload;return(y=f==null?void 0:f[x])!=null&&y[b]&&(f[x][b]=w),!0}if(a.match(p)){const{queryCacheKey:x,requestId:b}=p.payload;return f[x]&&delete f[x][b],!0}if(t.internalActions.removeQueryResult.match(p))return delete f[p.payload.queryCacheKey],!0;if(e.pending.match(p)){const{meta:{arg:x,requestId:b}}=p,w=f[g=x.queryCacheKey]??(f[g]={});return w[`${b}_running`]={},x.subscribe&&(w[b]=x.subscriptionOptions??w[b]??{}),!0}let m=!1;if(e.fulfilled.match(p)||e.rejected.match(p)){const x=f[p.meta.arg.queryCacheKey]||{},b=`${p.meta.requestId}_running`;m||(m=!!x[b]),delete x[b]}if(e.rejected.match(p)){const{meta:{condition:x,arg:b,requestId:w}}=p;if(x&&b.subscribe){const C=f[v=b.queryCacheKey]??(f[v]={});C[w]=b.subscriptionOptions??C[w]??{},m=!0}}return m},c=()=>r.currentSubscriptions,h={getSubscriptions:c,getSubscriptionCount:f=>{const m=c()[f]??{};return vd(m)},isRequestSubscribed:(f,p)=>{var y;const m=c();return!!((y=m==null?void 0:m[f])!=null&&y[p])}};return(f,p)=>{if(i||(i=JSON.parse(JSON.stringify(r.currentSubscriptions))),t.util.resetApiState.match(f))return i=r.currentSubscriptions={},s=null,[!0,!1];if(t.internalActions.internal_getRTKQSubscriptions.match(f))return[!1,h];const m=l(r.currentSubscriptions,f);let y=!0;if(m){s||(s=setTimeout(()=>{const x=JSON.parse(JSON.stringify(r.currentSubscriptions)),[,b]=dR(i,()=>x);p.next(t.internalActions.subscriptionsUpdated(b)),i=x,s=null},500));const g=typeof f.type=="string"&&!!f.type.startsWith(n),v=e.rejected.match(f)&&f.meta.condition&&!!f.meta.arg.subscribe;y=!g&&!v}return[y,!1]}};function Mie(t){for(const e in t)return!1;return!0}var Tie=2147483647/1e3-1,Die=({reducerPath:t,api:e,queryThunk:r,context:n,internalState:i})=>{const{removeQueryResult:s,unsubscribeQueryResult:o,cacheEntriesUpserted:a}=e.internalActions,l=aa(o.match,r.fulfilled,r.rejected,a.match);function c(f){const p=i.currentSubscriptions[f];return!!p&&!Mie(p)}const u={},A=(f,p,m)=>{var y;if(l(f)){const g=p.getState()[t];let v;if(a.match(f))v=f.payload.map(x=>x.queryDescription.queryCacheKey);else{const{queryCacheKey:x}=o.match(f)?f.payload:f.meta.arg;v=[x]}for(const x of v)h(x,(y=g.queries[x])==null?void 0:y.endpointName,p,g.config)}if(e.util.resetApiState.match(f))for(const[g,v]of Object.entries(u))v&&clearTimeout(v),delete u[g];if(n.hasRehydrationInfo(f)){const g=p.getState()[t],{queries:v}=n.extractRehydrationInfo(f);for(const[x,b]of Object.entries(v))h(x,b==null?void 0:b.endpointName,p,g.config)}};function h(f,p,m,y){const g=n.endpointDefinitions[p],v=(g==null?void 0:g.keepUnusedDataFor)??y.keepUnusedDataFor;if(v===1/0)return;const x=Math.max(0,Math.min(v,Tie));if(!c(f)){const b=u[f];b&&clearTimeout(b),u[f]=setTimeout(()=>{c(f)||m.dispatch(s({queryCacheKey:f})),delete u[f]},x*1e3)}}return A},GF=new Error("Promise never resolved before cacheEntryRemoved."),Lie=({api:t,reducerPath:e,context:r,queryThunk:n,mutationThunk:i,internalState:s})=>{const o=A5(n),a=A5(i),l=Ul(n,i),c={};function u(m,y,g){const v=c[m];v!=null&&v.valueResolved&&(v.valueResolved({data:y,meta:g}),delete v.valueResolved)}function A(m){const y=c[m];y&&(delete c[m],y.cacheEntryRemoved())}const h=(m,y,g)=>{const v=f(m);function x(b,w,C,B){const _=g[e].queries[w],k=y.getState()[e].queries[w];!_&&k&&p(b,B,w,y,C)}if(n.pending.match(m))x(m.meta.arg.endpointName,v,m.meta.requestId,m.meta.arg.originalArgs);else if(t.internalActions.cacheEntriesUpserted.match(m))for(const{queryDescription:b,value:w}of m.payload){const{endpointName:C,originalArgs:B,queryCacheKey:_}=b;x(C,_,m.meta.requestId,B),u(_,w,{})}else if(i.pending.match(m))y.getState()[e].mutations[v]&&p(m.meta.arg.endpointName,m.meta.arg.originalArgs,v,y,m.meta.requestId);else if(l(m))u(v,m.payload,m.meta.baseQueryMeta);else if(t.internalActions.removeQueryResult.match(m)||t.internalActions.removeMutationResult.match(m))A(v);else if(t.util.resetApiState.match(m))for(const b of Object.keys(c))A(b)};function f(m){return o(m)?m.meta.arg.queryCacheKey:a(m)?m.meta.arg.fixedCacheKey??m.meta.requestId:t.internalActions.removeQueryResult.match(m)?m.payload.queryCacheKey:t.internalActions.removeMutationResult.match(m)?pm(m.payload):""}function p(m,y,g,v,x){const b=r.endpointDefinitions[m],w=b==null?void 0:b.onCacheEntryAdded;if(!w)return;const C={},B=new Promise(T=>{C.cacheEntryRemoved=T}),_=Promise.race([new Promise(T=>{C.valueResolved=T}),B.then(()=>{throw GF})]);_.catch(()=>{}),c[g]=C;const k=t.endpoints[m].select(b.type==="query"?y:g),E=v.dispatch((T,Q,P)=>P),F={...v,getCacheEntry:()=>k(v.getState()),requestId:x,extra:E,updateCachedData:b.type==="query"?T=>v.dispatch(t.util.updateQueryData(m,y,T)):void 0,cacheDataLoaded:_,cacheEntryRemoved:B},M=w(y,F);Promise.resolve(M).catch(T=>{if(T!==GF)throw T})}return h},jie=({api:t,context:{apiUid:e},reducerPath:r})=>(n,i)=>{t.util.resetApiState.match(n)&&i.dispatch(t.internalActions.middlewareRegistered(e))},Oie=({reducerPath:t,context:e,context:{endpointDefinitions:r},mutationThunk:n,queryThunk:i,api:s,assertTagType:o,refetchQuery:a,internalState:l})=>{const{removeQueryResult:c}=s.internalActions,u=aa(Ul(n),S2(n)),A=aa(Ul(n,i),Qd(n,i));let h=[];const f=(y,g)=>{u(y)?m(DR(y,"invalidatesTags",r,o),g):A(y)?m([],g):s.util.invalidateTags.match(y)&&m(l8(y.payload,void 0,void 0,void 0,void 0,o),g)};function p(y){var g,v;for(const x in y.queries)if(((g=y.queries[x])==null?void 0:g.status)==="pending")return!0;for(const x in y.mutations)if(((v=y.mutations[x])==null?void 0:v.status)==="pending")return!0;return!1}function m(y,g){const v=g.getState(),x=v[t];if(h.push(...y),x.config.invalidationBehavior==="delayed"&&p(x))return;const b=h;if(h=[],b.length===0)return;const w=s.util.selectInvalidatedBy(v,b);e.batch(()=>{const C=Array.from(w.values());for(const{queryCacheKey:B}of C){const _=x.queries[B],k=l.currentSubscriptions[B]??{};_&&(vd(k)===0?g.dispatch(c({queryCacheKey:B})):_.status!=="uninitialized"&&g.dispatch(a(_)))}})}return f},Nie=({reducerPath:t,queryThunk:e,api:r,refetchQuery:n,internalState:i})=>{const s={},o=(h,f)=>{(r.internalActions.updateSubscriptionOptions.match(h)||r.internalActions.unsubscribeQueryResult.match(h))&&l(h.payload,f),(e.pending.match(h)||e.rejected.match(h)&&h.meta.condition)&&l(h.meta.arg,f),(e.fulfilled.match(h)||e.rejected.match(h)&&!h.meta.condition)&&a(h.meta.arg,f),r.util.resetApiState.match(h)&&u()};function a({queryCacheKey:h},f){const p=f.getState()[t],m=p.queries[h],y=i.currentSubscriptions[h];if(!m||m.status==="uninitialized")return;const{lowestPollingInterval:g,skipPollingIfUnfocused:v}=A(y);if(!Number.isFinite(g))return;const x=s[h];x!=null&&x.timeout&&(clearTimeout(x.timeout),x.timeout=void 0);const b=Date.now()+g;s[h]={nextPollTimestamp:b,pollingInterval:g,timeout:setTimeout(()=>{(p.config.focused||!v)&&f.dispatch(n(m)),a({queryCacheKey:h},f)},g)}}function l({queryCacheKey:h},f){const m=f.getState()[t].queries[h],y=i.currentSubscriptions[h];if(!m||m.status==="uninitialized")return;const{lowestPollingInterval:g}=A(y);if(!Number.isFinite(g)){c(h);return}const v=s[h],x=Date.now()+g;(!v||x<v.nextPollTimestamp)&&a({queryCacheKey:h},f)}function c(h){const f=s[h];f!=null&&f.timeout&&clearTimeout(f.timeout),delete s[h]}function u(){for(const h of Object.keys(s))c(h)}function A(h={}){let f=!1,p=Number.POSITIVE_INFINITY;for(let m in h)h[m].pollingInterval&&(p=Math.min(h[m].pollingInterval,p),f=h[m].skipPollingIfUnfocused||f);return{lowestPollingInterval:p,skipPollingIfUnfocused:f}}return o},Iie=({api:t,context:e,queryThunk:r,mutationThunk:n})=>{const i=i8(r,n),s=Qd(r,n),o=Ul(r,n),a={};return(c,u)=>{var A,h;if(i(c)){const{requestId:f,arg:{endpointName:p,originalArgs:m}}=c.meta,y=e.endpointDefinitions[p],g=y==null?void 0:y.onQueryStarted;if(g){const v={},x=new Promise((B,_)=>{v.resolve=B,v.reject=_});x.catch(()=>{}),a[f]=v;const b=t.endpoints[p].select(y.type==="query"?m:f),w=u.dispatch((B,_,k)=>k),C={...u,getCacheEntry:()=>b(u.getState()),requestId:f,extra:w,updateCachedData:y.type==="query"?B=>u.dispatch(t.util.updateQueryData(p,m,B)):void 0,queryFulfilled:x};g(m,C)}}else if(o(c)){const{requestId:f,baseQueryMeta:p}=c.meta;(A=a[f])==null||A.resolve({data:c.payload,meta:p}),delete a[f]}else if(s(c)){const{requestId:f,rejectedWithValue:p,baseQueryMeta:m}=c.meta;(h=a[f])==null||h.reject({error:c.payload??c.error,isUnhandledError:!p,meta:m}),delete a[f]}}},Uie=({reducerPath:t,context:e,api:r,refetchQuery:n,internalState:i})=>{const{removeQueryResult:s}=r.internalActions,o=(l,c)=>{o8.match(l)&&a(c,"refetchOnFocus"),a8.match(l)&&a(c,"refetchOnReconnect")};function a(l,c){const u=l.getState()[t],A=u.queries,h=i.currentSubscriptions;e.batch(()=>{for(const f of Object.keys(h)){const p=A[f],m=h[f];if(!m||!p)continue;(Object.values(m).some(g=>g[c]===!0)||Object.values(m).every(g=>g[c]===void 0)&&u.config[c])&&(vd(m)===0?l.dispatch(s({queryCacheKey:f})):p.status!=="uninitialized"&&l.dispatch(n(p)))}})}return o};function Pie(t){const{reducerPath:e,queryThunk:r,api:n,context:i}=t,{apiUid:s}=i,o={invalidateTags:ys(`${e}/invalidateTags`)},a=A=>A.type.startsWith(`${e}/`),l=[jie,Die,Oie,Nie,Lie,Iie];return{middleware:A=>{let h=!1;const p={...t,internalState:{currentSubscriptions:{}},refetchQuery:u,isThisApiSliceAction:a},m=l.map(v=>v(p)),y=Fie(p),g=Uie(p);return v=>x=>{if(!oR(x))return v(x);h||(h=!0,A.dispatch(n.internalActions.middlewareRegistered(s)));const b={...A,next:v},w=A.getState(),[C,B]=y(x,b,w);let _;if(C?_=v(x):_=B,A.getState()[e]&&(g(x,b,w),a(x)||i.hasRehydrationInfo(x)))for(const k of m)k(x,b,w);return _}},actions:o};function u(A){return t.api.endpoints[A.endpointName].initiate(A.originalArgs,{subscribe:!1,forceRefetch:!0})}}var qF=Symbol(),Qie=({createSelector:t=n8}={})=>({name:qF,init(e,{baseQuery:r,tagTypes:n,reducerPath:i,serializeQueryArgs:s,keepUnusedDataFor:o,refetchOnMountOrArgChange:a,refetchOnFocus:l,refetchOnReconnect:c,invalidationBehavior:u},A){Kre();const h=L=>L;Object.assign(e,{reducerPath:i,endpoints:{},internalActions:{onOnline:a8,onOffline:MR,onFocus:o8,onFocusLost:FR},util:{}});const{queryThunk:f,mutationThunk:p,patchQueryData:m,updateQueryData:y,upsertQueryData:g,prefetch:v,buildMatchThunkActions:x}=_ie({baseQuery:r,reducerPath:i,context:A,api:e,serializeQueryArgs:s,assertTagType:h}),{reducer:b,actions:w}=Sie({context:A,queryThunk:f,mutationThunk:p,serializeQueryArgs:s,reducerPath:i,assertTagType:h,config:{refetchOnFocus:l,refetchOnReconnect:c,refetchOnMountOrArgChange:a,keepUnusedDataFor:o,reducerPath:i,invalidationBehavior:u}});Sa(e.util,{patchQueryData:m,updateQueryData:y,upsertQueryData:g,prefetch:v,resetApiState:w.resetApiState,upsertQueryEntries:w.cacheEntriesUpserted}),Sa(e.internalActions,w);const{middleware:C,actions:B}=Pie({reducerPath:i,context:A,queryThunk:f,mutationThunk:p,api:e,assertTagType:h});Sa(e.util,B),Sa(e,{reducer:b,middleware:C});const{buildQuerySelector:_,buildMutationSelector:k,selectInvalidatedBy:E,selectCachedArgsForQuery:F}=kie({serializeQueryArgs:s,reducerPath:i,createSelector:t});Sa(e.util,{selectInvalidatedBy:E,selectCachedArgsForQuery:F});const{buildInitiateQuery:M,buildInitiateMutation:T,getRunningMutationThunk:Q,getRunningMutationsThunk:P,getRunningQueriesThunk:H,getRunningQueryThunk:I}=Bie({queryThunk:f,mutationThunk:p,api:e,serializeQueryArgs:s,context:A});return Sa(e.util,{getRunningMutationThunk:Q,getRunningMutationsThunk:P,getRunningQueryThunk:I,getRunningQueriesThunk:H}),{name:qF,injectEndpoint(L,R){var Y;const V=e;(Y=V.endpoints)[L]??(Y[L]={}),TR(R)?Sa(V.endpoints[L],{name:L,select:_(L,R),initiate:M(L,R)},x(f,L)):bie(R)&&Sa(V.endpoints[L],{name:L,select:k(),initiate:T(L)},x(p,L))}}}});function D4(t){return t.replace(t[0],t[0].toUpperCase())}function Rie(t){return t.type==="query"}function Hie(t){return t.type==="mutation"}function tg(t,...e){return Object.assign(t,...e)}var Xu=WeakMap?new WeakMap:void 0,$ie=({endpointName:t,queryArgs:e})=>{let r="";const n=Xu==null?void 0:Xu.get(e);if(typeof n=="string")r=n;else{const i=JSON.stringify(e,(s,o)=>(o=typeof o=="bigint"?{$bigint:o.toString()}:o,o=Ao(o)?Object.keys(o).sort().reduce((a,l)=>(a[l]=o[l],a),{}):o,o));Ao(e)&&(Xu==null||Xu.set(e,i)),r=i}return`${t}(${r})`},L4=Symbol();function XF(t,e,r,n){const i=S.useMemo(()=>({queryArgs:t,serialized:typeof t=="object"?e({queryArgs:t,endpointDefinition:r,endpointName:n}):t}),[t,e,r,n]),s=S.useRef(i);return S.useEffect(()=>{s.current.serialized!==i.serialized&&(s.current=i)},[i]),s.current.serialized===i.serialized?s.current.queryArgs:t}function j4(t){const e=S.useRef(t);return S.useEffect(()=>{up(e.current,t)||(e.current=t)},[t]),up(e.current,t)?e.current:t}var Vie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kie=Vie(),zie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Wie=zie(),Gie=()=>Kie||Wie?S.useLayoutEffect:S.useEffect,qie=Gie(),Xie=t=>t.isUninitialized?{...t,isUninitialized:!1,isFetching:!0,isLoading:t.data===void 0,status:SR.pending}:t;function Yie({api:t,moduleOptions:{batch:e,hooks:{useDispatch:r,useSelector:n,useStore:i},unstable__sideEffectsInRender:s,createSelector:o},serializeQueryArgs:a,context:l}){const c=s?p=>p():S.useEffect;return{buildQueryHooks:h,buildMutationHook:f,usePrefetch:A};function u(p,m,y){if(m!=null&&m.endpointName&&p.isUninitialized){const{endpointName:C}=m,B=l.endpointDefinitions[C];y!==ol&&a({queryArgs:m.originalArgs,endpointDefinition:B,endpointName:C})===a({queryArgs:y,endpointDefinition:B,endpointName:C})&&(m=void 0)}let g=p.isSuccess?p.data:m==null?void 0:m.data;g===void 0&&(g=p.data);const v=g!==void 0,x=p.isLoading,b=(!m||m.isLoading||m.isUninitialized)&&!v&&x,w=p.isSuccess||v&&(x&&!(m!=null&&m.isError)||p.isUninitialized);return{...p,data:g,currentData:p.data,isFetching:x,isLoading:b,isSuccess:w}}function A(p,m){const y=r(),g=j4(m);return S.useCallback((v,x)=>y(t.util.prefetch(p,v,{...g,...x})),[p,y,g])}function h(p){const m=(v,{refetchOnReconnect:x,refetchOnFocus:b,refetchOnMountOrArgChange:w,skip:C=!1,pollingInterval:B=0,skipPollingIfUnfocused:_=!1}={})=>{const{initiate:k}=t.endpoints[p],E=r(),F=S.useRef(void 0);if(!F.current){const V=E(t.internalActions.internal_getRTKQSubscriptions());F.current=V}const M=XF(C?ol:v,$ie,l.endpointDefinitions[p],p),T=j4({refetchOnReconnect:x,refetchOnFocus:b,pollingInterval:B,skipPollingIfUnfocused:_}),Q=S.useRef(!1),P=S.useRef(void 0);let{queryCacheKey:H,requestId:I}=P.current||{},L=!1;H&&I&&(L=F.current.isRequestSubscribed(H,I));const R=!L&&Q.current;return c(()=>{Q.current=L}),c(()=>{R&&(P.current=void 0)},[R]),c(()=>{var re;const V=P.current;if(M===ol){V==null||V.unsubscribe(),P.current=void 0;return}const Y=(re=P.current)==null?void 0:re.subscriptionOptions;if(!V||V.arg!==M){V==null||V.unsubscribe();const se=E(k(M,{subscriptionOptions:T,forceRefetch:w}));P.current=se}else T!==Y&&V.updateSubscriptionOptions(T)},[E,k,w,M,T,R]),S.useEffect(()=>()=>{var V;(V=P.current)==null||V.unsubscribe(),P.current=void 0},[]),S.useMemo(()=>({refetch:()=>{var V;if(!P.current)throw new Error(vs(38));return(V=P.current)==null?void 0:V.refetch()}}),[])},y=({refetchOnReconnect:v,refetchOnFocus:x,pollingInterval:b=0,skipPollingIfUnfocused:w=!1}={})=>{const{initiate:C}=t.endpoints[p],B=r(),[_,k]=S.useState(L4),E=S.useRef(void 0),F=j4({refetchOnReconnect:v,refetchOnFocus:x,pollingInterval:b,skipPollingIfUnfocused:w});c(()=>{var H,I;const P=(H=E.current)==null?void 0:H.subscriptionOptions;F!==P&&((I=E.current)==null||I.updateSubscriptionOptions(F))},[F]);const M=S.useRef(F);c(()=>{M.current=F},[F]);const T=S.useCallback(function(P,H=!1){let I;return e(()=>{var L;(L=E.current)==null||L.unsubscribe(),E.current=I=B(C(P,{subscriptionOptions:M.current,forceRefetch:!H})),k(P)}),I},[B,C]),Q=S.useCallback(()=>{var P,H;(P=E.current)!=null&&P.queryCacheKey&&B(t.internalActions.removeQueryResult({queryCacheKey:(H=E.current)==null?void 0:H.queryCacheKey}))},[B]);return S.useEffect(()=>()=>{var P;(P=E==null?void 0:E.current)==null||P.unsubscribe()},[]),S.useEffect(()=>{_!==L4&&!E.current&&T(_,!0)},[_,T]),S.useMemo(()=>[T,_,{reset:Q}],[T,_,Q])},g=(v,{skip:x=!1,selectFromResult:b}={})=>{const{select:w}=t.endpoints[p],C=XF(x?ol:v,a,l.endpointDefinitions[p],p),B=S.useRef(void 0),_=S.useMemo(()=>o([w(C),(T,Q)=>Q,T=>C],u,{memoizeOptions:{resultEqualityCheck:up}}),[w,C]),k=S.useMemo(()=>b?o([_],b,{devModeChecks:{identityFunctionCheck:"never"}}):_,[_,b]),E=n(T=>k(T,B.current),up),F=i(),M=_(F.getState(),B.current);return qie(()=>{B.current=M},[M]),E};return{useQueryState:g,useQuerySubscription:m,useLazyQuerySubscription:y,useLazyQuery(v){const[x,b,{reset:w}]=y(v),C=g(b,{...v,skip:b===L4}),B=S.useMemo(()=>({lastArg:b}),[b]);return S.useMemo(()=>[x,{...C,reset:w},B],[x,C,w,B])},useQuery(v,x){const b=m(v,x),w=g(v,{selectFromResult:v===ol||x!=null&&x.skip?void 0:Xie,...x}),{data:C,status:B,isLoading:_,isSuccess:k,isError:E,error:F}=w;return S.useDebugValue({data:C,status:B,isLoading:_,isSuccess:k,isError:E,error:F}),S.useMemo(()=>({...w,...b}),[w,b])}}}function f(p){return({selectFromResult:m,fixedCacheKey:y}={})=>{const{select:g,initiate:v}=t.endpoints[p],x=r(),[b,w]=S.useState();S.useEffect(()=>()=>{b!=null&&b.arg.fixedCacheKey||b==null||b.reset()},[b]);const C=S.useCallback(function(Y){const re=x(v(Y,{fixedCacheKey:y}));return w(re),re},[x,v,y]),{requestId:B}=b||{},_=S.useMemo(()=>g({fixedCacheKey:y,requestId:b==null?void 0:b.requestId}),[y,b,g]),k=S.useMemo(()=>m?o([_],m):_,[m,_]),E=n(k,up),F=y==null?b==null?void 0:b.arg.originalArgs:void 0,M=S.useCallback(()=>{e(()=>{b&&w(void 0),y&&x(t.internalActions.removeMutationResult({requestId:B,fixedCacheKey:y}))})},[x,y,b,B]),{endpointName:T,data:Q,status:P,isLoading:H,isSuccess:I,isError:L,error:R}=E;S.useDebugValue({endpointName:T,data:Q,status:P,isLoading:H,isSuccess:I,isError:L,error:R});const V=S.useMemo(()=>({...E,originalArgs:F,reset:M}),[E,F,M]);return S.useMemo(()=>[C,V],[C,V])}}}var Jie=Symbol(),Zie=({batch:t=Fre,hooks:e={useDispatch:n0,useSelector:Il,useStore:nR},createSelector:r=n8,unstable__sideEffectsInRender:n=!1,...i}={})=>({name:Jie,init(s,{serializeQueryArgs:o},a){const l=s,{buildQueryHooks:c,buildMutationHook:u,usePrefetch:A}=Yie({api:s,moduleOptions:{batch:t,hooks:e,unstable__sideEffectsInRender:n,createSelector:r},serializeQueryArgs:o,context:a});return tg(l,{usePrefetch:A}),tg(a,{batch:t}),{injectEndpoint(h,f){if(Rie(f)){const{useQuery:p,useLazyQuery:m,useLazyQuerySubscription:y,useQueryState:g,useQuerySubscription:v}=c(h);tg(l.endpoints[h],{useQuery:p,useLazyQuery:m,useLazyQuerySubscription:y,useQueryState:g,useQuerySubscription:v}),s[`use${D4(h)}Query`]=p,s[`useLazy${D4(h)}Query`]=m}else if(Hie(f)){const p=u(h);tg(l.endpoints[h],{useMutation:p}),s[`use${D4(h)}Mutation`]=p}}}}}),bi=Eie(Qie(),Zie());const ese=async()=>{var r,n;const t=localStorage.getItem("refreshToken");if(!t)throw new Error("No refresh token available");const e=await et.post(`${Zt}/auth/refresh-access-token`,{refresh_token:t},{headers:{"Content-Type":"application/json",token:t}});if(((r=e==null?void 0:e.data)==null?void 0:r.statusCode)===200)return localStorage.setItem("accessToken",(n=e==null?void 0:e.data)==null?void 0:n.accessToken),e==null?void 0:e.data.accessToken;throw new Error("Token refresh failed")},tse=ER({baseUrl:`${Zt}`,prepareHeaders:(t,{meta:e})=>{const r=localStorage.getItem("accessToken");return e!=null&&e.file?t.set("Content-Type","multipart/form-data"):t.set("Content-Type","application/json"),r&&t.set("token",r),t}}),rse=ER({baseUrl:`${Zt}`}),wi=async(t,e,r)=>{var o,a;const{meta:n}=t,i=n!=null&&n.skipHeaders?rse:tse;let s=await i(t,e,r);if(((a=(o=s.error)==null?void 0:o.data)==null?void 0:a.statusCode)===4001)try{const l=await ese(),c={...t.headers,token:l},u={...t,headers:c,meta:{...n,skipHeaders:!1}};s=await i(u,e,r),console.log("Retry result after token refresh:",s)}catch(l){console.error("Token refresh failed:",l),await et.post(`${Zt}/auth/logout`,{refresh_token:`${localStorage.getItem("refreshToken")}`}),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),e.dispatch(Wy(!1)),s={error:{message:"Token refresh failed. Please log in again.",statusCode:1010}},console.log("result refresh token failure",s)}return s},Gy=bi({reducerPath:"user",baseQuery:wi,endpoints:t=>({updateAvatar:t.mutation({query:e=>({url:"/auth/update-avatar",method:"PUT",body:e,headers:{"Content-Type":"multipart/form-data"}}),meta:{skipToken:!0,skipHeaders:!0}}),userSignUp:t.mutation({query:e=>({url:"/auth/signup",method:"POST",body:e}),meta:{skipToken:!0,skipHeaders:!0}}),createUser:t.mutation({query:e=>({url:"/auth/create-user",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),createAdmin:t.mutation({query:e=>({url:"/auth/create-admin",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),deleteUser:t.mutation({query:e=>({url:"/auth/delete-user",method:"DELETE",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),userLogIn:t.mutation({query:e=>({url:"/auth/login",method:"POST",body:e}),meta:{skipToken:!0,skipHeaders:!0}}),userLogOut:t.mutation({query:e=>({url:"/auth/logout",method:"POST",body:e}),meta:{skipToken:!0,skipHeaders:!0}}),updateProfile:t.mutation({query:e=>({url:"/auth/update-profile",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),updateUser:t.mutation({query:e=>({url:"/auth/update-user",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),updatePassword:t.mutation({query:e=>({url:"/auth/update-password",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),verifyUser:t.mutation({query:e=>({url:"/auth/verify-user",method:"POST",body:e}),meta:{skipToken:!0,skipHeaders:!1}}),verifyOtp:t.mutation({query:e=>({url:"/auth/verify-otp",method:"POST",body:e}),meta:{skipToken:!0,skipHeaders:!1}}),sendOtpToEmail:t.mutation({query:e=>({url:"/auth/send-otp",method:"POST",body:e}),meta:{skipToken:!0,skipHeaders:!1}}),getUser:t.query({query:({user_id:e})=>({url:`/auth/get-user/${e}`,method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}}),getAllParents:t.query({query:({page:e,limit:r})=>{const n={};return e!==void 0&&(n.page=e),r!==void 0&&(n.limit=r),{url:"/auth/get-all-parents",method:"GET",params:n}},meta:{skipToken:!1,skipHeaders:!1}}),getAllTeachers:t.query({query:({page:e,limit:r})=>{const n={};return e!==void 0&&(n.page=e),r!==void 0&&(n.limit=r),{url:"/auth/get-all-teachers",method:"GET",params:n}},meta:{skipToken:!1,skipHeaders:!1}}),getAllStudents:t.query({query:({page:e,limit:r})=>{const n={};return e!==void 0&&(n.page=e),r!==void 0&&(n.limit=r),{url:"/auth/get-all-students",method:"GET",params:n}},meta:{skipToken:!1,skipHeaders:!1}})})}),{useUserLogOutMutation:nse,useUpdateProfileMutation:ise,useGetAllParentsQuery:c8,useUpdateAvatarMutation:sse,useDeleteUserMutation:ose,useCreateUserMutation:ase,useCreateAdminMutation:v7e,useUpdateUserMutation:lse,useUserSignUpMutation:x7e,useUserLogInMutation:cse,useUpdatePasswordMutation:jR,useVerifyUserMutation:use,useVerifyOtpMutation:Ase,useSendOtpToEmailMutation:dse,useGetUserQuery:OR,useGetAllStudentsQuery:hse,useGetAllTeachersQuery:fse}=Gy,pse=()=>{const t=Ze(),{login:e}=dn(),[r,{isLoading:n}]=cse(),[i,s]=S.useState({email:"",password:""}),o=async a=>{var l,c,u;if(a.preventDefault(),i.email!==""&&i.password!=="")try{const A=await r(i).unwrap();if((A==null?void 0:A.statusCode)===200){const h=A.data.user,f={user:h,accessToken:(l=A==null?void 0:A.data)==null?void 0:l.accessToken,refreshToken:(c=A==null?void 0:A.data)==null?void 0:c.refreshToken,isAuthenticated:!0};e(f),$.success("Sign-in successful!",{position:"top-right",autoClose:3e3}),h.role===le.SUPER_ADMIN||h.role===le.ADMIN?t("/admin/"):h.role===le.USER?t("/"):h.role===le.PARENT&&t("/parent")}}catch(A){console.error("Error during sign-in",A),$.error(`${((u=A.data)==null?void 0:u.message)||(A==null?void 0:A.message)||"An error occurred. Please try again."}`,{position:"top-right",autoClose:3e3})}else $.error("Please fill in both email and password fields.",{position:"top-right",autoClose:3e3})};return d.jsxs("div",{className:"min-h-screen relative bg-custom-gradient overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0",children:[d.jsx("div",{className:"h-1/2 bg-bg-gradient"}),d.jsx("div",{className:"h-1/2 bg-white"})]}),d.jsxs("div",{className:"relative px-6 py-4 lg:flex lg:justify-center lg:items-center lg:min-h-screen",children:[d.jsxs("div",{className:"lg:w-1/2 lg:pl-12 items-start mb-1 lg:mb-0 order-2 lg:order-9 z-20 hidden lg:block",children:[d.jsx("img",{src:Uu,alt:"Tooty Logo",className:"w-32 h-auto mb-8"}),d.jsxs("div",{className:"text-white max-w-xl",children:[d.jsx("h1",{className:"font-paytone text-[32px] sm:text-[40px] font-bold leading-tight mb-4",children:"Meet Tooty"}),d.jsx("p",{className:"font-rubik text-[16px] sm:text-[18px] font-normal leading-relaxed mb-8",children:"Improving Grades, Building Confidence, and Empowering Success."}),d.jsx("div",{className:"relative -right-20 transform lg:translate-x-0",children:d.jsx("img",{src:uie,alt:"Sign-in Animation",className:"max-w-[20rem] h-auto"})})]})]}),d.jsxs("div",{className:"font-poppins bg-white shadow-xl rounded-3xl p-6 sm:p-8 lg:w-[440px] w-full max-w-[400px] mx-auto mt-4 lg:mt-0 z-30",children:[d.jsxs("div",{className:"text-start mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold font-paytone text-gray-600",children:"Welcome to Tooty!"}),d.jsx("h1",{className:"text-lg font-normal font-rubik text-gray-600 mt-1.5",children:"Please enter your details"}),d.jsx("h1",{className:"text-3xl font-bold font-paytone mt-2",children:"Sign In"})]}),d.jsxs("form",{onSubmit:o,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Enter your Email address"}),d.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"mt-1 block w-full rounded-lg border border-gray-300 px-4 py-2.5 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500",placeholder:"Email address",value:i.email,onChange:a=>s({...i,email:a.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Enter your Password"}),d.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"mt-1 block w-full rounded-lg border border-gray-300 px-4 py-2.5 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500",placeholder:"Password",value:i.password,onChange:a=>s({...i,password:a.target.value})})]}),d.jsx("div",{className:"flex items-end justify-end",children:d.jsx(ch,{to:"/forget-password",className:"text-[13px] text-black hover:text-[#3B1E76]",children:"Forgot Password"})}),d.jsx("button",{disabled:n,className:`w-full rounded-lg py-2.5 text-white transition-all focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 ${n?"bg-gray-400 cursor-not-allowed":"bg-bg-gradient hover:bg-hover-gradient"}`,children:n?"Signing in...":"Sign in"}),d.jsx("div",{className:"text-center mt-4",children:d.jsx("p",{className:"text-sm text-gray-600",children:"No Account? Contact your School Administration."})})]})]})]})]})},NR="/assets/logo-CE3pLYgU.png",IR="/assets/signin-CPN8mZs1.png",mse=()=>{const[t,e]=S.useState(1),[r,n]=S.useState(""),[i,s]=S.useState(""),[o,a]=S.useState(""),[l,c]=S.useState(""),[u,A]=S.useState(!1),[h,{isLoading:f}]=jR(),[p,{isLoading:m}]=Ase(),[y,{isLoading:g}]=dse(),v=async w=>{var B;w.preventDefault();const C={email:r};if(r!=="")try{const _=await y(C).unwrap();(_==null?void 0:_.statusCode)===200&&e(2)}catch(_){$.error(((B=_==null?void 0:_.data)==null?void 0:B.message)||(_==null?void 0:_.message)||"Error Sending OTP to email")}},x=async w=>{var B;w.preventDefault();const C={email:r,otp:i};if(r!==""&&i!=="")try{const _=await p(C).unwrap();(_==null?void 0:_.statusCode)===200&&(_!=null&&_.data.success)&&(A(!0),e(3))}catch(_){$.error(((B=_==null?void 0:_.data)==null?void 0:B.message)||(_==null?void 0:_.message)||"Invalid OTP")}},b=async w=>{var C;if(w.preventDefault(),o!=""&&l!=""){if(o!==l){$.error("Passwords do not match. Please try again.");return}const B={email:r,otp:i,password:o};try{const _=await h(B).unwrap();(_==null?void 0:_.statusCode)===200&&e(4)}catch(_){$.error(((C=_==null?void 0:_.data)==null?void 0:C.message)||(_==null?void 0:_.message)||"Failed to update password")}}};return d.jsxs("div",{className:"min-h-full relative bg-bg-gradient",children:[d.jsxs("div",{className:"absolute inset-0",children:[d.jsx("div",{className:"h-1/2 bg-background-colour"}),d.jsx("div",{className:"h-1/2 bg-white"})]}),d.jsx("div",{className:"absolute top-8 transform translate-x-40 z-10 hidden lg:block",children:d.jsx("img",{src:IR,alt:"Sign-in Animation",className:"max-w-[38rem] h-auto max-h-[30rem]"})}),d.jsxs("div",{className:"relative px-8 flex flex-col lg:flex-row justify-center lg:justify-between items-center",children:[d.jsxs("div",{className:"lg:w-1/2 top-0 pb-36 items-start mb-10 lg:mb-36 hidden lg:block",children:[d.jsx("img",{src:NR,alt:"Tooty Logo",width:120,height:80}),d.jsxs("div",{className:"text-white max-w-2xl",children:[d.jsx("h1",{className:"font-poppins text-[34px] font-normal leading-[51px] text-left mb-0 lg:mb-0",children:"Forget password"}),d.jsx("p",{className:"font-poppins text-[13px] font-light leading-[19.5px] text-left mb-8",children:"Complete the following steps to reset your password."})]})]}),d.jsxs("div",{className:"font-poppins bg-white shadow-xl rounded-3xl p-8 lg:w-[480px] w-full max-w-[400px] lg:mr-12 mt-5 z-20",children:[t===1&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl text-black",children:"Enter Your Email"}),d.jsxs("form",{onSubmit:v,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Enter your email address"}),d.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"mt-2 block w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500",placeholder:"Email address",value:r,onChange:w=>n(w.target.value)})]}),d.jsx("button",{type:"submit",className:`w-full rounded-lg ${g?"bg-gray-400 cursor-not-allowed":"bg-bg-gradient hover:bg-hover-gradient"} py-3 text-white  focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all`,children:g?"Sending OTP...":"Send OTP"})]})]}),t===2&&!u&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl text-black",children:"Enter OTP"}),d.jsxs("form",{onSubmit:x,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-700",children:["Enter the OTP sent to ",r]}),d.jsx("div",{className:"flex justify-center space-x-2 mt-4",children:[...Array(6)].map((w,C)=>d.jsx("input",{type:"number",maxLength:"1",value:i[C]||"",onChange:B=>{const _=i.split("");if(_[C]=B.target.value,B.target.value&&C<5){const k=document.getElementById(`otp-input-${C+1}`);k&&k.focus()}s(_.join(""))},onKeyDown:B=>{const _=B.key;if(_==="Backspace"&&!i[C]&&C>0){const k=document.getElementById(`otp-input-${C-1}`);k&&k.focus()}!/^\d$/.test(_)&&_!=="Backspace"&&_!=="ArrowLeft"&&_!=="ArrowRight"&&B.preventDefault()},id:`otp-input-${C}`,className:"w-9 h-9 lg:w-12 lg:h-12 text-center text-xl border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none"},C))})]}),d.jsx("button",{type:"submit",className:`w-full rounded-lg  py-3 text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all ${m?"bg-gray-400 cursor-not-allowed":"bg-bg-gradient hover:bg-hover-gradient"}`,children:"Verify OTP"})]})]}),t===2&&u&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl text-black",children:"OTP Verified"}),d.jsx("p",{className:"text-green-500 mt-4",children:"Your OTP has been successfully verified!"})]}),t===3&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl text-black mb-4 font-semibold",children:"Set New Password"}),d.jsxs("form",{onSubmit:b,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"new-password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),d.jsx("input",{id:"new-password",name:"new-password",type:"password",required:!0,className:"mt-2 block w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500",placeholder:"New password",value:o,onChange:w=>a(w.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),d.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",required:!0,className:"mt-2 block w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500",placeholder:"Confirm new password",value:l,onChange:w=>c(w.target.value)})]}),d.jsx("button",{type:"submit",className:`w-full rounded-lg py-3 text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all ${f?"bg-gray-400 cursor-not-allowed":"bg-bg-gradient hover:bg-hover-gradient"}`,children:"Reset Password"})]})]}),t===4&&d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-xl text-black",children:"Password Reset Complete"}),d.jsx("p",{className:"mt-4 text-green-500",children:"Your password has been reset successfully."}),d.jsx(ch,{to:"/login",className:"text-blue-500 underline mt-6 block",children:"Go to Login"})]})]})]})]})};var UR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},YF=be.createContext&&be.createContext(UR),gse=["attr","size","title"];function yse(t,e){if(t==null)return{};var r=vse(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Lx(){return Lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lx.apply(this,arguments)}function JF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JF(Object(r),!0).forEach(function(n){xse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xse(t,e,r){return e=bse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bse(t){var e=wse(t,"string");return typeof e=="symbol"?e:e+""}function wse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PR(t){return t&&t.map((e,r)=>be.createElement(e.tag,jx({key:r},e.attr),PR(e.child)))}function Me(t){return e=>be.createElement(Cse,Lx({attr:jx({},t.attr)},e),PR(t.child))}function Cse(t){var e=r=>{var{attr:n,size:i,title:s}=t,o=yse(t,gse),a=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),be.createElement("svg",Lx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:jx(jx({color:t.color||r.color},r.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&be.createElement("title",null,s),t.children)};return YF!==void 0?be.createElement(YF.Consumer,null,r=>e(r)):e(UR)}function Bse(t){return Me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function u8(t){return Me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(t)}function y5(t){return Me({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M208 0c-29.9 0-54.7 20.5-61.8 48.2-.8 0-1.4-.2-2.2-.2-35.3 0-64 28.7-64 64 0 4.8.6 9.5 1.7 14C52.5 138 32 166.6 32 200c0 12.6 3.2 24.3 8.3 34.9C16.3 248.7 0 274.3 0 304c0 33.3 20.4 61.9 49.4 73.9-.9 4.6-1.4 9.3-1.4 14.1 0 39.8 32.2 72 72 72 4.1 0 8.1-.5 12-1.2 9.6 28.5 36.2 49.2 68 49.2 39.8 0 72-32.2 72-72V64c0-35.3-28.7-64-64-64zm368 304c0-29.7-16.3-55.3-40.3-69.1 5.2-10.6 8.3-22.3 8.3-34.9 0-33.4-20.5-62-49.7-74 1-4.5 1.7-9.2 1.7-14 0-35.3-28.7-64-64-64-.8 0-1.5.2-2.2.2C422.7 20.5 397.9 0 368 0c-35.3 0-64 28.6-64 64v376c0 39.8 32.2 72 72 72 31.8 0 58.4-20.7 68-49.2 3.9.7 7.9 1.2 12 1.2 39.8 0 72-32.2 72-72 0-4.8-.5-9.5-1.4-14.1 29-12 49.4-40.6 49.4-73.9z"},child:[]}]})(t)}function QR(t){return Me({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"},child:[]}]})(t)}function _se(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function Sse(t){return Me({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M616 192H480V24c0-13.26-10.74-24-24-24H312c-13.26 0-24 10.74-24 24v72h-64V16c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v80h-64V16c0-8.84-7.16-16-16-16H80c-8.84 0-16 7.16-16 16v80H24c-13.26 0-24 10.74-24 24v360c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V216c0-13.26-10.75-24-24-24zM128 404c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm128 192c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12V76c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 288c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40z"},child:[]}]})(t)}function Ss(t){return Me({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function A8(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function qy(t){return Me({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Xy(t){return Me({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function hs(t){return Me({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Ox(t){return Me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"},child:[]}]})(t)}function kse(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(t)}function d8(t){return Me({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(t)}function Ese(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(t)}function Rd(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function O4(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(t)}function h8(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"},child:[]}]})(t)}function hp(t){return Me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function v5(t){return Me({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function Fse(t){return Me({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function RR(t){return Me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function f8(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function HR(t){return Me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function u0(t){return Me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function ZF(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(t)}function $i(t){return Me({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(t)}function dh(t){return Me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function Eu(t){return Me({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M0 224v272c0 8.84 7.16 16 16 16h80V192H32c-17.67 0-32 14.33-32 32zm360-48h-24v-40c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v64c0 4.42 3.58 8 8 8h48c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zm137.75-63.96l-160-106.67a32.02 32.02 0 0 0-35.5 0l-160 106.67A32.002 32.002 0 0 0 128 138.66V512h128V368c0-8.84 7.16-16 16-16h96c8.84 0 16 7.16 16 16v144h128V138.67c0-10.7-5.35-20.7-14.25-26.63zM320 256c-44.18 0-80-35.82-80-80s35.82-80 80-80 80 35.82 80 80-35.82 80-80 80zm288-64h-64v320h80c8.84 0 16-7.16 16-16V224c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function Mse(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function ir(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function x5(t){return Me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"},child:[]}]})(t)}function Tse(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(t)}function Dse(t){return Me({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Pu(t){return Me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function Lse(t){return Me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z"},child:[]}]})(t)}function Hd(t){return Me({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function jse(t){return Me({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M630.6 364.9l-90.3-90.2c-12-12-28.3-18.7-45.3-18.7h-79.3c-17.7 0-32 14.3-32 32v79.2c0 17 6.7 33.2 18.7 45.2l90.3 90.2c12.5 12.5 32.8 12.5 45.3 0l92.5-92.5c12.6-12.5 12.6-32.7.1-45.2zm-182.8-21c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24c0 13.2-10.7 24-24 24zm-223.8-88c70.7 0 128-57.3 128-128C352 57.3 294.7 0 224 0S96 57.3 96 128c0 70.6 57.3 127.9 128 127.9zm127.8 111.2V294c-12.2-3.6-24.9-6.2-38.2-6.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 287.9 0 348.1 0 422.3v41.6c0 26.5 21.5 48 48 48h352c15.5 0 29.1-7.5 37.9-18.9l-58-58c-18.1-18.1-28.1-42.2-28.1-67.9z"},child:[]}]})(t)}function yn(t){return Me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const Ose=()=>{const t=Fs(),{userEmail:e}=t.state,[r,n]=S.useState(1),[i,s]=S.useState(""),[o,a]=S.useState(!1),[l,c]=S.useState(!1),[u,{isLoading:A,error:h}]=use(),f=async m=>{m.preventDefault();const y={email:e,otp:i};if(e&&i.length===6){c(!0);try{const g=await u(y).unwrap();(g==null?void 0:g.statusCode)===200&&(g!=null&&g.data.success)?(a(!0),n(2)):(a(!1),$.error("Invalid OTP, please try again."))}catch(g){console.error("Verification error:",g),$.error("Could Not verify OTP")}finally{c(!1)}}else $.error("Please enter a valid 6-digit OTP.")},p=(m,y)=>{const g=m.target.value;if(/^\d*$/.test(g)&&g.length<=1){const v=i.split("");v[y]=g,s(v.join("")),g&&y<5&&document.getElementById(`otp-input-${y+1}`).focus()}};return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-bg-gradient",children:[d.jsxs("div",{className:"absolute inset-0",children:[d.jsx("div",{className:"h-1/2 bg-background-colour"}),d.jsx("div",{className:"h-1/2 bg-white"})]}),d.jsx("div",{className:"absolute top-8 transform translate-x-40 z-10 hidden lg:block",children:d.jsx("img",{src:IR,alt:"Sign-in Animation",className:"max-w-[38rem] h-auto max-h-[30rem]"})}),d.jsxs("div",{className:"relative px-4 lg:px-8 flex flex-col lg:flex-row justify-between items-center w-full max-w-5xl",children:[d.jsxs("div",{className:"lg:w-1/2 top-0 pb-36 items-start mb-10 lg:mb-36 hidden lg:block",children:[d.jsx("img",{src:NR,alt:"Tooty Logo",width:120,height:80}),d.jsxs("div",{className:"text-white max-w-2xl",children:[d.jsx("h1",{className:"font-poppins text-3xl font-normal leading-tight text-left mb-0 lg:mb-0",children:"Email Verification"}),d.jsx("p",{className:"font-poppins text-sm font-light leading-relaxed text-left mb-8",children:"Complete the following step to verify your email."})]})]}),d.jsxs("div",{className:"font-poppins bg-white shadow-xl rounded-3xl p-8 lg:w-[480px] w-full max-w-[400px] mr-12 mt-5 z-20",children:[r===1&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl text-black",children:"OTP Sent"}),d.jsx("p",{className:"text-gray-500 mt-4",children:"We have sent an OTP to your email. Please enter it below to verify your email."}),d.jsxs("form",{onSubmit:f,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-700",children:"Enter the OTP sent to your email"}),d.jsx("div",{className:"flex justify-center space-x-2 mt-4",children:[...Array(6)].map((m,y)=>d.jsx("input",{id:`otp-input-${y}`,type:"text",maxLength:"1",value:i[y]||"",onChange:g=>p(g,y),className:"w-12 h-12 text-center text-xl border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none"},y))})]}),d.jsx("button",{type:"submit",className:`w-full rounded-lg bg-bg-gradient py-3 text-white hover:bg-hover-gradient focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all ${l?"opacity-50 cursor-not-allowed":""}`,disabled:A,children:A?"Verifying...":"Verify OTP"})]})]}),r===2&&!o&&d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-xl text-black",children:"Invalid OTP"}),d.jsx("p",{className:"text-red-500 mt-4",children:"The OTP you entered is invalid. Please try again."}),d.jsx("div",{className:"text-red-500 mt-4",children:d.jsx(Tse,{className:"inline-block text-4xl"})}),d.jsx("button",{onClick:()=>n(1),className:"w-full rounded-lg bg-bg-gradient py-3 text-white mt-6 hover:bg-hover-gradient focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all",children:"Try Again"})]}),r===2&&o&&d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-xl text-black",children:"OTP Verified"}),d.jsx("p",{className:"text-green-500 mt-4",children:"Your OTP has been successfully verified!"}),d.jsx("div",{className:"text-green-500 mt-4",children:d.jsx(_se,{className:"inline-block text-4xl"})}),d.jsxs(ch,{to:"/login",className:"w-full rounded-lg bg-bg-gradient py-3 text-white mt-6 hover:bg-hover-gradient focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all flex justify-center items-center gap-2",children:[d.jsx(Bse,{})," Back to Login"]})]})]})]})]})},p8="/assets/user-default-image-UXuvzQ4k.jpeg";function Nse({subject:t}){Il(r=>r.auth.avatar_url);const{user:e}=dn();return console.log("user",e),d.jsxs("div",{className:"border-b bg-white border-gray-200 p-4 flex items-center justify-between sticky top-0 z-10",children:[d.jsx("div",{className:"flex items-center gap-3 ml-[25px]",children:d.jsx("h1",{className:"text-2xl font-semibold text-[#434C56]",children:t})}),d.jsx("div",{className:"relative"})]})}const Ise="/assets/icon-BJdMBtym.png";function Use({chat:t}){const e=Il(r=>r.auth.avatar_url);return d.jsxs("div",{className:`flex gap-3 sm:gap-4 w-full ${t.is_bot?"flex-row":"flex-row-reverse"} items-start mb-[20px]`,children:[t.is_bot?d.jsx("img",{src:Ise,alt:"Bot",className:"w-10 h-10 sm:w-12 sm:h-12 lg:w-14 lg:h-14 rounded-full mt-1"}):d.jsx("img",{src:e!==null&&e!=""&&e!==void 0?`${Zt}/images/${e}`:p8,alt:"User",className:"w-10 h-10 sm:w-12 sm:h-12 lg:w-14 lg:h-14 rounded-full mt-1"}),d.jsx("div",{className:`max-w-[90%] sm:max-w-[70%] lg:max-w-[60%] w-auto ${t.is_bot?"bg-slate-50 shadow-md":"bg-[#E6E6E6] shadow-md ml-4"} p-3 sm:p-4 rounded-lg`,children:t!=null&&t.image_url||t!=null&&t.image?d.jsx("div",{className:"mb-4",children:t.loading?d.jsx("div",{className:"text-gray-600 text-sm",children:"Bot is generating image..."}):d.jsx("img",{src:Zt+"/images/"+t.image_url,className:"object-cover w-[220px] sm:w-[250px] h-[150px] sm:h-[200px] rounded-lg shadow-md mx-auto",alt:"Generated content"})}):d.jsx("p",{dangerouslySetInnerHTML:{__html:t.loading?`${t!=null&&t.is_bot?"Bot is typing...":"..."}`:t.message},style:{whiteSpace:"break-spaces"},className:"text-gray-700 text-sm sm:text-base leading-relaxed break-words"})})]})}const Pse="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAT8SURBVHgB1ZRJjBRlFMf/tVdv1dXDbMDs4DAsOsAMDBoG9KAmxBiNZkKCJsQlHjwZz0aiid70YjKYYOIBJeEIB4wHE1EJjoQ4MBvDLD1LzzDTS1VXdXVX1+qbNkYFVLyY+F2689X3/d77v//7HvB/Xcw/HQhHR2OVhcrDvlHaz0djrs+hHHK47gaelbJXM8zQkP/A8PDaNcG+ZR71rMqgpCaedz2/RWxQUwHDIGRZlBdXkejYgrDiwHfc2dDzhiOCNMw821/+W7jzzY2+IKt9FDjeEUYQwNbFUdENxLs74OaKWB2fQsvTg+C8AMXpOSgtW8HwHKqF4g1SdCLxRO/YfeGl85dP5mbmP27Y+ZAqtzbCNcooLGbQfHg/wHEIDQshx4BV4giXs2DUeG0fjksUwpiVK/aadjz63MGlP8GLpy8e42PRLwKBVUVVQWBaYAjCEYBzqaTJGEK9RL8ENMtgIxLCENBHxiBGIpA7t9CeCC+nzwpK/AhzuGelBs98eiEaKdtpSU02yHUK/HIVXH0K8H0wsQhCgjEE9Sggl4jB1wzwm5KkhEock8BEZQR5A6zIIyQFfqk8rbfJfY179pR4r2jsC1i+gQ0CwKrCMUzE6pIIXBd+wQXrB3SpBM8qg8wD45GSUuVXyVUXnm7WjPYdBwypoeDd0fXCY/T1a1ZfyT4eksbV9CJcyoq6hILYCOhiaT1LmVgAqWFtB9rMPELa9wnoFYqwbqXhr2uAZhLUhHZjCgLDgXP8k7WyfPfGe1e7WtsHZInqSNnrhQJau7vBCCzMvIaSrqO+rRWM62FmYgI6Kdu8uQk2BZRjUWzr2AbXcyCQV6D7pTtZSNGorVn5dn56eiYpgkUiEYcoSjCLBuYmJ2v/C7ksrt8cRXdHFxJKEk3tbejp7wdPrcjwPNXAg191kL59G+2dXRB4oXZHVVOyb7vdvBQRiqNTE1CjcUiiAIHjMXZ5EgN9B7B9905sam2pAbp27ABDmYWOh9mpKUQkGaIso6hpsKh0i3NzqNtUT76Qer3o69XyPL+Qybzb1bjlkmEYDC0s3slgYG8fDh44UGs3ISWSXGrXzCq0Qh4uGb1xrkpZj1z5Hq0tLdi1dy+W0gtkjY2KXYEXwuwdt9Zqpp9+dGjY8/2X80U9FqVsjg4cgiRFUDINiIKIKl1SVRWxOLUkdQz8EBy9TJ98qNo2ItEoWHpQllXaGAkwSubNwS8/fITbgPcvj1+y6xouSIxkqkpihxpXorZThaKQSQwLQRQpIxtLy8soGgbSC2k49A6q1WpNCcFAyRHcQrlSQSUMPjg79sOP9wyu4cPHX4lzwmfNTc1gKTvdKNYCeBt9jxCzK2nMZ5ehRGKoj6hoVOrgUuC29k4ylMPSSmYs+dQLfUOnhhz+bnjA++fnllcPreWyr8myzJCFyFsGlswcCr6J+pSCQ/v3oaeli56DhZn0DObWM5i8vmgpUvxM/daOT14n8D1T8Y/rrebeg67jtmuJ0Mtx3vt5TevqVJJSd9NW9sneQWxSUrX+tisWqctRSYxzL148d4KA4W8M7q/gV0trmZFKduJmMTd17KUTZ81C/nMlCLJxKXKkUUnSmAyoviYch15w4GYgsa/2jP2cw/1G7oOsUwA7v33XM02K+jYF2C2xHEuNPcIGeOfNb7/66e7z/wr+e5BT7Mrmi7KfEuUz41c06vsQ//X6BRjshsl53wYeAAAAAElFTkSuQmCC";function eM(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204 240H68a36 36 0 0 1-36-36V68a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36zm240 0H308a36 36 0 0 1-36-36V68a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36zM204 480H68a36 36 0 0 1-36-36V308a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36zm240 0H308a36 36 0 0 1-36-36V308a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36z"},child:[]}]})(t)}function Qse(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.64 64.58C313.18 43.57 286 32 256 32c-30.16 0-57.43 11.5-76.8 32.38-19.58 21.11-29.12 49.8-26.88 80.78C156.76 206.28 203.27 256 256 256s99.16-49.71 103.67-110.82c2.27-30.7-7.33-59.33-27.03-80.6zM432 480H80a31 31 0 0 1-24.2-11.13c-6.5-7.77-9.12-18.38-7.18-29.11C57.06 392.94 83.4 353.61 124.8 326c36.78-24.51 83.37-38 131.2-38s94.42 13.5 131.2 38c41.4 27.6 67.74 66.93 76.18 113.75 1.94 10.73-.68 21.34-7.18 29.11A31 31 0 0 1 432 480z"},child:[]}]})(t)}function Rse(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(t)}function Hse(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13.5 2C13.5 2.44425 13.3069 2.84339 13 3.11805V5H18C19.6569 5 21 6.34315 21 8V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V8C3 6.34315 4.34315 5 6 5H11V3.11805C10.6931 2.84339 10.5 2.44425 10.5 2C10.5 1.17157 11.1716 0.5 12 0.5C12.8284 0.5 13.5 1.17157 13.5 2ZM0 10H2V16H0V10ZM24 10H22V16H24V10ZM9 14.5C9.82843 14.5 10.5 13.8284 10.5 13C10.5 12.1716 9.82843 11.5 9 11.5C8.17157 11.5 7.5 12.1716 7.5 13C7.5 13.8284 8.17157 14.5 9 14.5ZM16.5 13C16.5 12.1716 15.8284 11.5 15 11.5C14.1716 11.5 13.5 12.1716 13.5 13C13.5 13.8284 14.1716 14.5 15 14.5C15.8284 14.5 16.5 13.8284 16.5 13Z"},child:[]}]})(t)}const $se=({speak:t})=>(S.useEffect(()=>{console.log("speakin",t)},[]),d.jsx("div",{id:"visuals",children:t?d.jsxs("div",{className:"visual ripple",children:[d.jsx(Hse,{}),d.jsx("div",{className:"ripple-effect"})]}):d.jsx("div",{className:"",children:d.jsx(Fse,{})})})),Yy=bi({reducerPath:"chat",baseQuery:wi,endpoints:t=>({getChatHistory:t.mutation({query:e=>({url:"/chat/fetch-chat-history",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getChats:t.mutation({query:e=>({url:"/chat/fetch-chat",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),createMessage:t.mutation({query:e=>({url:"/chat/create-message",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}})})}),{useGetChatHistoryMutation:Vse,useGetChatsMutation:Kse,useCreateMessageMutation:$R}=Yy,Jy=bi({reducerPath:"bot",baseQuery:wi,endpoints:t=>({createBot:t.mutation({query:e=>({url:"/bot/create-bot",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1,file:!0}}),updateBot:t.mutation({query:e=>({url:"/bot/update-bot",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getBotBySubject:t.mutation({query:e=>({url:"/bot/get-bot-by-subject",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getBot:t.mutation({query:e=>({url:"/bot/get-bot",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),deleteBot:t.mutation({query:e=>({url:"/bot/delete-bot",method:"DELETE",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getJoinBotContext:t.mutation({query:e=>({url:"/bot/get-join-bot-context",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),deletejoinBotAndFile:t.mutation({query:e=>({url:"/bot/delete-join-bot-context",method:"DELETE",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),createjoinBotAndFile:t.mutation({query:e=>({url:"/bot/create-join-bot-context",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),updatejoinBotAndFile:t.mutation({query:e=>({url:"/bot/update-join-bot-context",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),generateImage:t.mutation({query:e=>({url:"/bot/generate-image",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),queryBot:t.mutation({query:e=>({url:"/bot/query-bot",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getAllBotsByTeacher:t.query({query:({page:e=1,limit:r=10})=>({url:"/bot/get-all-bots-by-teacher",method:"GET",params:{page:e,limit:r}}),meta:{skipToken:!1,skipHeaders:!1}}),getAllBots:t.query({query:({page:e=1,limit:r=10})=>({url:"/bot/get-all-bots",method:"GET",params:{page:e,limit:r}}),meta:{skipToken:!1,skipHeaders:!1}}),getAllBotsBySchool:t.query({query:({page:e=1,limit:r=10})=>({url:"/bot/get-all-bot-by-school",method:"GET",params:{page:e,limit:r}}),meta:{skipToken:!1,skipHeaders:!1}}),getAllBotsByLevel:t.query({query:()=>({url:"/bot/get-bots-by-level",method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}})})}),{useCreateBotMutation:b7e,useGetBotBySubjectMutation:w7e,useDeletejoinBotAndFileMutation:zse,useCreatejoinBotAndFileMutation:Wse,useGetJoinBotContextMutation:Gse,useUpdatejoinBotAndFileMutation:C7e,useUpdateBotMutation:qse,useGetBotMutation:VR,useGetAllBotsByTeacherQuery:Xse,useDeleteBotMutation:KR,useGenerateImageMutation:zR,useQueryBotMutation:WR,useGetAllBotsQuery:GR,useGetAllBotsBySchoolQuery:Yse,useGetAllBotsByLevelQuery:Jse}=Jy;function Zse(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14 17H4v2h10v-2zm6-8H4v2h16V9zM4 15h16v-2H4v2zM4 5v2h16V5H4z"},child:[]}]})(t)}function eoe(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"},child:[]}]})(t)}function toe(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17.59 18 19 16.59 14.42 12 19 7.41 17.59 6l-6 6z"},child:[]},{tag:"path",attr:{d:"m11 18 1.41-1.41L7.83 12l4.58-4.59L11 6l-6 6z"},child:[]}]})(t)}function roe(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.41 6 5 7.41 9.58 12 5 16.59 6.41 18l6-6z"},child:[]},{tag:"path",attr:{d:"m13 6-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"},child:[]}]})(t)}function noe(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z",opacity:".87"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"},child:[]}]})(t)}function ioe({handleSubmit:t,setInputValue:e,inputValue:r,loading:n,setLoading:i,setChats:s,deepgram:o,bot:a,voiceModelData:l}){const[c,u]=S.useState(!1),[A,h]=S.useState(!1),[f,p]=S.useState(!1),[m,y]=S.useState(),{bot_id:g}=dr(),[v,x]=S.useState(!1),[b,w]=S.useState(null),[C,B]=S.useState(!1),[_,k]=S.useState(),[E]=$R(),[F]=zR(),[M]=WR(),T=S.useRef(null),Q=S.useRef([]),P=async ie=>{var z;if(!ie){$.error("Input can't be empty");return}i(!0);const Ae=Math.random()*100,G=Math.random()*100,ae=Math.random()*100;try{s(K=>[...K,{id:Ae,is_bot:!1,image:!1,image_url:"",message:ie,loading:!0}]);const q=await E({bot_id:+`${g}`,message:ie,image_url:""}).unwrap();if((q==null?void 0:q.statusCode)==200){s(ze=>ze.map(Ie=>Ie.id===Ae?{...Ie,loading:!1}:Ie)),e(""),s(ze=>[...ze,{id:G,is_bot:!0,image:!1,image_url:"",message:"",loading:!0}]);const K=await M({bot_id:+`${g}`,query:ie}).unwrap();if((K==null?void 0:K.statusCode)==200&&(s(ze=>ze.map(Ie=>{var jt;return Ie.id===G?{...Ie,message:(jt=K==null?void 0:K.data)==null?void 0:jt.message,loading:!1}:Ie})),h(!0),x(!0),await V((z=K==null?void 0:K.data)==null?void 0:z.message),K!=null&&K.do_generate_image)){s(Ie=>[...Ie,{id:ae,is_bot:!0,image:!0,image_url:"",message:"",loading:!0}]);const ze=await F({answer:K==null?void 0:K.data.message,chat_id:K==null?void 0:K.data.id,bot_id:Number(g)}).unwrap();(ze==null?void 0:ze.statusCode)==200&&s(Ie=>Ie.map(jt=>{var Fn;return jt.id===ae?{...jt,image_url:(Fn=ze==null?void 0:ze.data)==null?void 0:Fn.image_url,message:"",loading:!1}:jt}))}}p(!1)}catch(q){console.log(q)}},H=async()=>{if(p(!0),!navigator.mediaDevices||!window.MediaRecorder){$.error("Your browser does not support audio recording.");return}const ie=await navigator.mediaDevices.getUserMedia({audio:!0}),Ae=new MediaRecorder(ie);let G=[];Ae.ondataavailable=ae=>{G.push(ae.data)},Ae.onstop=async()=>{const ae=new Blob(G,{type:"audio/wav"}),z=new File([ae],"recording.wav");try{const q=await R(z).then(async K=>{e(K??null),y(K??null),await P(K??null)})}catch(q){console.error("Error during voice-to-text:",q)}},Ae.start(),u(!0),T.current=Ae,Q.current=G,p(!1)},I=()=>{T.current&&(T.current.stop(),u(!1))},L=()=>{c?I():H()},R=async ie=>(await et.post("https://api.deepgram.com/v1/listen",ie,{headers:{Authorization:`Token ${o}`,"Content-Type":"audio/wav"}})).data.results.channels[0].alternatives[0].transcript??null,V=async ie=>{const Ae=await et.post(`https://api.deepgram.com/v1/speak?model=${l.data.canonical_name}`,{text:ie},{headers:{Authorization:`Token ${o}`},responseType:"arraybuffer"}),G=new Blob([Ae.data],{type:"audio/wav"}),ae=URL.createObjectURL(G),z=new Audio(ae);w(z),z.play().then(()=>{h(!0)}),z.addEventListener("ended",()=>{h(!1),x(!1),i(!1)}),z.addEventListener("pause",()=>{h(!1)})},Y=()=>{b&&(b.paused?(b.play(),h(!0),x(!0),k(!1)):(b.pause(),h(!1),B(!1),k(!0)))},re=()=>{b&&(b.pause(),h(!1),x(!1),B(!0),e(""),i(!1))},se=ie=>{ie.key==="Enter"&&t(ie)};return d.jsx("div",{className:"bg-white p-3 rounded-2xl w-full border border-slate-200 shadow-md",children:d.jsxs("div",{className:"flex items-center gap-3 w-full",children:[d.jsx("img",{src:Pse,alt:"Brain Icon",className:"w-8 h-8 hidden lg:block"}),d.jsx("input",{disabled:v||n,type:"text",value:r,onKeyDown:se,onChange:ie=>e(ie.target.value),placeholder:"What's on your mind?",className:`flex-1 ${v?"w-[50%]":" w-[70%] lg:w-auto"} outline-none text-gray-700 placeholder-gray-400 font-medium text-sm border border-white rounded-full px-4 py-3`}),d.jsx("button",{type:"submit",onClick:t,className:"p-3 rounded-full bg-bg-gradient text-white hover:bg-hover-gradient transition-colors duration-300",disabled:v||n,children:n?"...":d.jsx(Rse,{})}),d.jsx("button",{disabled:f||v||n,onClick:L,className:`p-0 w-[43px] h-[43px] flex items-center justify-center rounded-full transition-colors duration-300 ${c?"bg-red-500 text-white":"bg-bg-gradient text-white hover:bg-hover-gradient"}`,children:d.jsx($se,{speak:A})}),v&&!C&&d.jsx("button",{onClick:Y,className:"p-3 rounded-full bg-bg-gradient text-white hover:bg-hover-gradient transition-colors duration-300",children:_?d.jsx(HR,{}):d.jsx(RR,{})}),v&&d.jsx("button",{onClick:re,className:"p-3 rounded-full bg-red-500 text-white hover:bg-red-600 transition-colors duration-300",children:d.jsx(noe,{})})]})})}function soe(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function M2(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const b5=t=>Array.isArray(t);function qR(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function mm(t){return typeof t=="string"||Array.isArray(t)}function tM(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function m8(t,e,r,n){if(typeof e=="function"){const[i,s]=tM(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=tM(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function T2(t,e,r){const n=t.getProps();return m8(n,e,r!==void 0?r:n.custom,t)}const g8=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],y8=["initial",...g8],A0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qu=new Set(A0),Yo=t=>t*1e3,Jo=t=>t/1e3,ooe={type:"spring",stiffness:500,damping:25,restSpeed:10},aoe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),loe={type:"keyframes",duration:.8},coe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uoe=(t,{keyframes:e})=>e.length>2?loe:Qu.has(t)?t.startsWith("scale")?aoe(e[1]):ooe:coe;function v8(t,e){return t?t[e]||t.default||t:void 0}const Aoe={skipAnimations:!1,useManualTiming:!1},doe=t=>t!==null;function D2(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(doe),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const hi=t=>t;let w5=hi;function hoe(t){let e=new Set,r=new Set,n=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,A=!1)=>{const f=A&&n?e:r;return u&&s.add(c),f.has(c)||f.add(c),c},cancel:c=>{r.delete(c),s.delete(c)},process:c=>{if(o=c,n){i=!0;return}n=!0,[e,r]=[r,e],e.forEach(a),e.clear(),n=!1,i&&(i=!1,l.process(c))}};return l}const rg=["read","resolveKeyframes","update","preRender","render","postRender"],foe=40;function XR(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=rg.reduce((g,v)=>(g[v]=hoe(s),g),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:A,postRender:h}=o,f=()=>{const g=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(g-i.timestamp,foe),1),i.timestamp=g,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),A.process(i),h.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(f))},p=()=>{r=!0,n=!0,i.isProcessing||t(f)};return{schedule:rg.reduce((g,v)=>{const x=o[v];return g[v]=(b,w=!1,C=!1)=>(r||p(),x.schedule(b,w,C)),g},{}),cancel:g=>{for(let v=0;v<rg.length;v++)o[rg[v]].cancel(g)},state:i,steps:o}}const{schedule:_t,cancel:Pl,state:Ir,steps:N4}=XR(typeof requestAnimationFrame<"u"?requestAnimationFrame:hi,!0),YR=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,poe=1e-7,moe=12;function goe(t,e,r,n,i){let s,o,a=0;do o=e+(r-e)/2,s=YR(o,n,i)-t,s>0?r=o:e=o;while(Math.abs(s)>poe&&++a<moe);return o}function d0(t,e,r,n){if(t===e&&r===n)return hi;const i=s=>goe(s,0,1,t,r);return s=>s===0||s===1?s:YR(i(s),e,n)}const JR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ZR=t=>e=>1-t(1-e),eH=d0(.33,1.53,.69,.99),x8=ZR(eH),tH=JR(x8),rH=t=>(t*=2)<1?.5*x8(t):.5*(2-Math.pow(2,-10*(t-1))),b8=t=>1-Math.sin(Math.acos(t)),nH=ZR(b8),iH=JR(b8),sH=t=>/^0[^.\s]+$/u.test(t);function yoe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||sH(t):!0}const oH=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),aH=t=>e=>typeof e=="string"&&e.startsWith(t),lH=aH("--"),voe=aH("var(--"),w8=t=>voe(t)?xoe.test(t.split("/*")[0].trim()):!1,xoe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,boe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function woe(t){const e=boe.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function cH(t,e,r=1){const[n,i]=woe(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return oH(o)?parseFloat(o):o}return w8(i)?cH(i,e,r+1):i}const ca=(t,e,r)=>r>e?e:r<t?t:r,hh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gm={...hh,transform:t=>ca(0,1,t)},ng={...hh,default:1},h0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ka=h0("deg"),ao=h0("%"),ke=h0("px"),Coe=h0("vh"),Boe=h0("vw"),rM={...ao,parse:t=>ao.parse(t)/100,transform:t=>ao.transform(t*100)},_oe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),nM=t=>t===hh||t===ke,iM=(t,e)=>parseFloat(t.split(", ")[e]),sM=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return iM(i[1],e);{const s=n.match(/^matrix\((.+)\)$/u);return s?iM(s[1],t):0}},Soe=new Set(["x","y","z"]),koe=A0.filter(t=>!Soe.has(t));function Eoe(t){const e=[];return koe.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const $d={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:sM(4,13),y:sM(5,14)};$d.translateX=$d.x;$d.translateY=$d.y;const uH=t=>e=>e.test(t),Foe={test:t=>t==="auto",parse:t=>t},AH=[hh,ke,ao,Ka,Boe,Coe,Foe],oM=t=>AH.find(uH(t)),lu=new Set;let C5=!1,B5=!1;function dH(){if(B5){const t=Array.from(lu).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=Eoe(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,o])=>{var a;(a=n.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}B5=!1,C5=!1,lu.forEach(t=>t.complete()),lu.clear()}function hH(){lu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(B5=!0)})}function Moe(){hH(),dH()}class C8{constructor(e,r,n,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(lu.add(this),C5||(C5=!0,_t.read(hH),_t.resolveKeyframes(dH))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(n&&r){const l=n.readValue(r,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),lu.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,lu.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const fp=t=>Math.round(t*1e5)/1e5,B8=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Toe(t){return t==null}const Doe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_8=(t,e)=>r=>!!(typeof r=="string"&&Doe.test(r)&&r.startsWith(t)||e&&!Toe(r)&&Object.prototype.hasOwnProperty.call(r,e)),fH=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,o,a]=n.match(B8);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Loe=t=>ca(0,255,t),I4={...hh,transform:t=>Math.round(Loe(t))},Yc={test:_8("rgb","red"),parse:fH("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+I4.transform(t)+", "+I4.transform(e)+", "+I4.transform(r)+", "+fp(gm.transform(n))+")"};function joe(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const _5={test:_8("#"),parse:joe,transform:Yc.transform},WA={test:_8("hsl","hue"),parse:fH("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+ao.transform(fp(e))+", "+ao.transform(fp(r))+", "+fp(gm.transform(n))+")"},nn={test:t=>Yc.test(t)||_5.test(t)||WA.test(t),parse:t=>Yc.test(t)?Yc.parse(t):WA.test(t)?WA.parse(t):_5.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Yc.transform(t):WA.transform(t)},Ooe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Noe(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(B8))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(Ooe))===null||r===void 0?void 0:r.length)||0)>0}const pH="number",mH="color",Ioe="var",Uoe="var(",aM="${}",Poe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ym(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(Poe,l=>(nn.test(l)?(n.color.push(s),i.push(mH),r.push(nn.parse(l))):l.startsWith(Uoe)?(n.var.push(s),i.push(Ioe),r.push(l)):(n.number.push(s),i.push(pH),r.push(parseFloat(l))),++s,aM)).split(aM);return{values:r,split:a,indexes:n,types:i}}function gH(t){return ym(t).values}function yH(t){const{split:e,types:r}=ym(t),n=e.length;return i=>{let s="";for(let o=0;o<n;o++)if(s+=e[o],i[o]!==void 0){const a=r[o];a===pH?s+=fp(i[o]):a===mH?s+=nn.transform(i[o]):s+=i[o]}return s}}const Qoe=t=>typeof t=="number"?0:t;function Roe(t){const e=gH(t);return yH(t)(e.map(Qoe))}const Ql={test:Noe,parse:gH,createTransformer:yH,getAnimatableNone:Roe},Hoe=new Set(["brightness","contrast","saturate","opacity"]);function $oe(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(B8)||[];if(!n)return t;const i=r.replace(n,"");let s=Hoe.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const Voe=/\b([a-z-]*)\(.*?\)/gu,S5={...Ql,getAnimatableNone:t=>{const e=t.match(Voe);return e?e.map($oe).join(" "):t}},Koe={borderWidth:ke,borderTopWidth:ke,borderRightWidth:ke,borderBottomWidth:ke,borderLeftWidth:ke,borderRadius:ke,radius:ke,borderTopLeftRadius:ke,borderTopRightRadius:ke,borderBottomRightRadius:ke,borderBottomLeftRadius:ke,width:ke,maxWidth:ke,height:ke,maxHeight:ke,top:ke,right:ke,bottom:ke,left:ke,padding:ke,paddingTop:ke,paddingRight:ke,paddingBottom:ke,paddingLeft:ke,margin:ke,marginTop:ke,marginRight:ke,marginBottom:ke,marginLeft:ke,backgroundPositionX:ke,backgroundPositionY:ke},zoe={rotate:Ka,rotateX:Ka,rotateY:Ka,rotateZ:Ka,scale:ng,scaleX:ng,scaleY:ng,scaleZ:ng,skew:Ka,skewX:Ka,skewY:Ka,distance:ke,translateX:ke,translateY:ke,translateZ:ke,x:ke,y:ke,z:ke,perspective:ke,transformPerspective:ke,opacity:gm,originX:rM,originY:rM,originZ:ke},lM={...hh,transform:Math.round},S8={...Koe,...zoe,zIndex:lM,size:ke,fillOpacity:gm,strokeOpacity:gm,numOctaves:lM},Woe={...S8,color:nn,backgroundColor:nn,outlineColor:nn,fill:nn,stroke:nn,borderColor:nn,borderTopColor:nn,borderRightColor:nn,borderBottomColor:nn,borderLeftColor:nn,filter:S5,WebkitFilter:S5},k8=t=>Woe[t];function vH(t,e){let r=k8(t);return r!==S5&&(r=Ql),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Goe=new Set(["auto","none","0"]);function qoe(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!Goe.has(s)&&ym(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=vH(r,i)}class xH extends C8{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),w8(c))){const u=cH(c,r.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!_oe.has(n)||e.length!==2)return;const[i,s]=e,o=oM(i),a=oM(s);if(o!==a)if(nM(o)&&nM(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)yoe(e[i])&&n.push(i);n.length&&qoe(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$d[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const s=r.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=$d[n](r.measureViewportBox(),window.getComputedStyle(r.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{r.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function E8(t){return typeof t=="function"}let Zy;function Xoe(){Zy=void 0}const lo={now:()=>(Zy===void 0&&lo.set(Ir.isProcessing||Aoe.useManualTiming?Ir.timestamp:performance.now()),Zy),set:t=>{Zy=t,queueMicrotask(Xoe)}},cM=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ql.test(t)||t==="0")&&!t.startsWith("url("));function Yoe(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function Joe(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=cM(i,e),a=cM(s,e);return!o||!a?!1:Yoe(t)||(r==="spring"||E8(r))&&n}const Zoe=40;class bH{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=lo.now(),this.options={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Zoe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Moe(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=lo.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!Joe(e,n,i,s))if(o)this.options.duration=0;else{l==null||l(D2(e,this.options,r)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,r);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...u},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Vd=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},wH=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=t(Vd(0,i-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function CH(t,e){return e?t*(1e3/e):0}const eae=5;function BH(t,e,r){const n=Math.max(e-eae,0);return CH(r-t(n),e-n)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},U4=.001;function tae({duration:t=Rt.duration,bounce:e=Rt.bounce,velocity:r=Rt.velocity,mass:n=Rt.mass}){let i,s,o=1-e;o=ca(Rt.minDamping,Rt.maxDamping,o),t=ca(Rt.minDuration,Rt.maxDuration,Jo(t)),o<1?(i=c=>{const u=c*o,A=u*t,h=u-r,f=k5(c,o),p=Math.exp(-A);return U4-h/f*p},s=c=>{const A=c*o*t,h=A*r+r,f=Math.pow(o,2)*Math.pow(c,2)*t,p=Math.exp(-A),m=k5(Math.pow(c,2),o);return(-i(c)+U4>0?-1:1)*((h-f)*p)/m}):(i=c=>{const u=Math.exp(-c*t),A=(c-r)*t+1;return-U4+u*A},s=c=>{const u=Math.exp(-c*t),A=(r-c)*(t*t);return u*A});const a=5/t,l=nae(i,s,a);if(t=Yo(t),isNaN(l))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:t};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:t}}}const rae=12;function nae(t,e,r){let n=r;for(let i=1;i<rae;i++)n=n-t(n)/e(n);return n}function k5(t,e){return t*Math.sqrt(1-e*e)}const E5=2e4;function _H(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<E5;)e+=r,n=t.next(e);return e>=E5?1/0:e}const iae=["duration","bounce"],sae=["stiffness","damping","mass"];function uM(t,e){return e.some(r=>t[r]!==void 0)}function oae(t){let e={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...t};if(!uM(t,sae)&&uM(t,iae))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*ca(.05,1,1-t.bounce)*Math.sqrt(i);e={...e,mass:Rt.mass,stiffness:i,damping:s}}else{const r=tae(t);e={...e,...r,mass:Rt.mass},e.isResolvedFromDuration=!0}return e}function SH(t=Rt.visualDuration,e=Rt.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:A,velocity:h,isResolvedFromDuration:f}=oae({...r,velocity:-Jo(r.velocity||0)}),p=h||0,m=c/(2*Math.sqrt(l*u)),y=o-s,g=Jo(Math.sqrt(l/u)),v=Math.abs(y)<5;n||(n=v?Rt.restSpeed.granular:Rt.restSpeed.default),i||(i=v?Rt.restDelta.granular:Rt.restDelta.default);let x;if(m<1){const w=k5(g,m);x=C=>{const B=Math.exp(-m*g*C);return o-B*((p+m*g*y)/w*Math.sin(w*C)+y*Math.cos(w*C))}}else if(m===1)x=w=>o-Math.exp(-g*w)*(y+(p+g*y)*w);else{const w=g*Math.sqrt(m*m-1);x=C=>{const B=Math.exp(-m*g*C),_=Math.min(w*C,300);return o-B*((p+m*g*y)*Math.sinh(_)+w*y*Math.cosh(_))/w}}const b={calculatedDuration:f&&A||null,next:w=>{const C=x(w);if(f)a.done=w>=A;else{let B=0;m<1&&(B=w===0?Yo(p):BH(x,w,C));const _=Math.abs(B)<=n,k=Math.abs(o-C)<=i;a.done=_&&k}return a.value=a.done?o:C,a},toString:()=>{const w=Math.min(_H(b),E5),C=wH(B=>b.next(w*B).value,w,30);return w+"ms "+C}};return b}function AM({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const A=t[0],h={done:!1,value:A},f=_=>a!==void 0&&_<a||l!==void 0&&_>l,p=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let m=r*e;const y=A+m,g=o===void 0?y:o(y);g!==y&&(m=g-A);const v=_=>-m*Math.exp(-_/n),x=_=>g+v(_),b=_=>{const k=v(_),E=x(_);h.done=Math.abs(k)<=c,h.value=h.done?g:E};let w,C;const B=_=>{f(h.value)&&(w=_,C=SH({keyframes:[h.value,p(h.value)],velocity:BH(x,_,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return B(0),{calculatedDuration:null,next:_=>{let k=!1;return!C&&w===void 0&&(k=!0,b(_),B(_)),w!==void 0&&_>=w?C.next(_-w):(!k&&b(_),h)}}}const aae=d0(.42,0,1,1),lae=d0(0,0,.58,1),kH=d0(.42,0,.58,1),cae=t=>Array.isArray(t)&&typeof t[0]!="number",F8=t=>Array.isArray(t)&&typeof t[0]=="number",dM={linear:hi,easeIn:aae,easeInOut:kH,easeOut:lae,circIn:b8,circInOut:iH,circOut:nH,backIn:x8,backInOut:tH,backOut:eH,anticipate:rH},hM=t=>{if(F8(t)){w5(t.length===4);const[e,r,n,i]=t;return d0(e,r,n,i)}else if(typeof t=="string")return w5(dM[t]!==void 0),dM[t];return t},uae=(t,e)=>r=>e(t(r)),f0=(...t)=>t.reduce(uae),Nt=(t,e,r)=>t+(e-t)*r;function P4(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Aae({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,o=0;if(!e)i=s=o=r;else{const a=r<.5?r*(1+e):r+e-r*e,l=2*r-a;i=P4(l,a,t+1/3),s=P4(l,a,t),o=P4(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function Nx(t,e){return r=>r>0?e:t}const Q4=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},dae=[_5,Yc,WA],hae=t=>dae.find(e=>e.test(t));function fM(t){const e=hae(t);if(!e)return!1;let r=e.parse(t);return e===WA&&(r=Aae(r)),r}const pM=(t,e)=>{const r=fM(t),n=fM(e);if(!r||!n)return Nx(t,e);const i={...r};return s=>(i.red=Q4(r.red,n.red,s),i.green=Q4(r.green,n.green,s),i.blue=Q4(r.blue,n.blue,s),i.alpha=Nt(r.alpha,n.alpha,s),Yc.transform(i))},F5=new Set(["none","hidden"]);function fae(t,e){return F5.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function pae(t,e){return r=>Nt(t,e,r)}function M8(t){return typeof t=="number"?pae:typeof t=="string"?w8(t)?Nx:nn.test(t)?pM:yae:Array.isArray(t)?EH:typeof t=="object"?nn.test(t)?pM:mae:Nx}function EH(t,e){const r=[...t],n=r.length,i=t.map((s,o)=>M8(s)(s,e[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}}function mae(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=M8(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function gae(t,e){var r;const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(r=t.values[a])!==null&&r!==void 0?r:0;n[s]=l,i[o]++}return n}const yae=(t,e)=>{const r=Ql.createTransformer(e),n=ym(t),i=ym(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?F5.has(t)&&!i.values.length||F5.has(e)&&!n.values.length?fae(t,e):f0(EH(gae(n,i),i.values),r):Nx(t,e)};function FH(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Nt(t,e,r):M8(t)(t,e)}function vae(t,e,r){const n=[],i=r||FH,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||hi:e;a=f0(l,a)}n.push(a)}return n}function xae(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(w5(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=vae(e,n,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const A=Vd(t[u],t[u+1],c);return o[u](A)};return r?c=>l(ca(t[0],t[s-1],c)):l}function bae(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Vd(0,e,n);t.push(Nt(r,1,i))}}function wae(t){const e=[0];return bae(e,t.length-1),e}function Cae(t,e){return t.map(r=>r*e)}function Bae(t,e){return t.map(()=>e||kH).splice(0,t.length-1)}function Ix({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=cae(n)?n.map(hM):hM(n),s={done:!1,value:e[0]},o=Cae(r&&r.length===e.length?r:wae(e),t),a=xae(o,e,{ease:Array.isArray(i)?i:Bae(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const _ae=t=>{const e=({timestamp:r})=>t(r);return{start:()=>_t.update(e,!0),stop:()=>Pl(e),now:()=>Ir.isProcessing?Ir.timestamp:lo.now()}},Sae={decay:AM,inertia:AM,tween:Ix,keyframes:Ix,spring:SH},kae=t=>t/100;class T8 extends bH{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:r,motionValue:n,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||C8,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=E8(r)?r:Sae[r]||Ix;let l,c;a!==Ix&&typeof e[0]!="number"&&(l=f0(kae,FH(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=_H(u));const{calculatedDuration:A}=u,h=A+i,f=h*(n+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:A,resolvedDuration:h,totalDuration:f}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:n}=this;if(!n){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:A}=n;if(this.startTime===null)return s.next(0);const{delay:h,repeat:f,repeatType:p,repeatDelay:m,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>u;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let x=this.currentTime,b=s;if(f){const _=Math.min(this.currentTime,u)/A;let k=Math.floor(_),E=_%1;!E&&_>=1&&(E=1),E===1&&k--,k=Math.min(k,f+1),!!(k%2)&&(p==="reverse"?(E=1-E,m&&(E-=m/A)):p==="mirror"&&(b=o)),x=ca(0,1,E)*A}const w=v?{done:!1,value:l[0]}:b.next(x);a&&(w.value=a(w.value));let{done:C}=w;!v&&c!==null&&(C=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return B&&i!==void 0&&(w.value=D2(l,this.options,i)),y&&y(w.value),B&&this.finish(),w}get duration(){const{resolved:e}=this;return e?Jo(e.calculatedDuration):0}get time(){return Jo(this.currentTime)}set time(e){e=Yo(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Jo(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=_ae,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Eae=new Set(["opacity","clipPath","filter","transform"]);function D8(t){let e;return()=>(e===void 0&&(e=t()),e)}const Fae={linearEasing:void 0};function Mae(t,e){const r=D8(t);return()=>{var n;return(n=Fae[e])!==null&&n!==void 0?n:r()}}const Ux=Mae(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function MH(t){return!!(typeof t=="function"&&Ux()||!t||typeof t=="string"&&(t in M5||Ux())||F8(t)||Array.isArray(t)&&t.every(MH))}const Lf=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,M5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lf([0,.65,.55,1]),circOut:Lf([.55,0,1,.45]),backIn:Lf([.31,.01,.66,-.59]),backOut:Lf([.33,1.53,.69,.99])};function TH(t,e){if(t)return typeof t=="function"&&Ux()?wH(t,e):F8(t)?Lf(t):Array.isArray(t)?t.map(r=>TH(r,e)||M5.easeOut):M5[t]}function Tae(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:r};l&&(c.offset=l);const u=TH(a,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:n,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function mM(t,e){t.timeline=e,t.onfinish=null}const Dae=D8(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Px=10,Lae=2e4;function jae(t){return E8(t.type)||t.type==="spring"||!MH(t.ease)}function Oae(t,e){const r=new T8({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const i=[];let s=0;for(;!n.done&&s<Lae;)n=r.sample(s),i.push(n.value),s+=Px;return{times:void 0,keyframes:i,duration:s-Px,ease:"linear"}}const DH={anticipate:rH,backInOut:tH,circInOut:iH};function Nae(t){return t in DH}class gM extends bH{constructor(e){super(e);const{name:r,motionValue:n,element:i,keyframes:s}=this.options;this.resolver=new xH(s,(o,a)=>this.onKeyframesResolved(o,a),r,n,i),this.resolver.scheduleResolve()}initPlayback(e,r){var n;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((n=l.owner)===null||n===void 0)&&n.current))return!1;if(typeof o=="string"&&Ux()&&Nae(o)&&(o=DH[o]),jae(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,element:m,...y}=this.options,g=Oae(e,y);e=g.keyframes,e.length===1&&(e[1]=e[0]),i=g.duration,s=g.times,o=g.ease,a="keyframes"}const A=Tae(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return A.startTime=u??this.calcStartTime(),this.pendingTimeline?(mM(A,this.pendingTimeline),this.pendingTimeline=void 0):A.onfinish=()=>{const{onComplete:h}=this.options;l.set(D2(e,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:A,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return Jo(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return Jo(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Yo(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return hi;const{animation:n}=r;mM(n,e)}return hi}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:n,duration:i,type:s,ease:o,times:a}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:A,element:h,...f}=this.options,p=new T8({...f,keyframes:n,duration:i,type:s,ease:o,times:a,isGenerator:!0}),m=Yo(this.time);c.setWithVelocity(p.sample(m-Px).value,p.sample(m).value,Px)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:n,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return Dae()&&n&&Eae.has(n)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const Iae=D8(()=>window.ScrollTimeline!==void 0);class Uae{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,r){return Promise.all(this.animations).then(e).catch(r)}getAll(e){return this.animations[0][e]}setAll(e,r){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=r}attachTimeline(e,r){const n=this.animations.map(i=>Iae()&&i.attachTimeline?i.attachTimeline(e):r(i));return()=>{n.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Pae({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const L8=(t,e,r,n={},i,s)=>o=>{const a=v8(n,t)||{},l=a.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Yo(l);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};Pae(a)||(u={...u,...uoe(t,u)}),u.duration&&(u.duration=Yo(u.duration)),u.repeatDelay&&(u.repeatDelay=Yo(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let A=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(A=!0)),A&&!s&&e.get()!==void 0){const h=D2(u.keyframes,a);if(h!==void 0)return _t.update(()=>{u.onUpdate(h),u.onComplete()}),new Uae([])}return!s&&gM.supports(u)?new gM(u):new T8(u)},Qae=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Rae=t=>b5(t)?t[t.length-1]||0:t;function j8(t,e){t.indexOf(e)===-1&&t.push(e)}function O8(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class N8{constructor(){this.subscriptions=[]}add(e){return j8(this.subscriptions,e),()=>O8(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const yM=30,Hae=t=>!isNaN(parseFloat(t));class $ae{constructor(e,r={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const s=lo.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=lo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Hae(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new N8);const n=this.events[e].add(r);return e==="change"?()=>{n(),_t.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=lo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>yM)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,yM);return CH(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vm(t,e){return new $ae(t,e)}function Vae(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,vm(r))}function Kae(t,e){const r=T2(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const o in s){const a=Rae(s[o]);Vae(t,o,a)}}const I8=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zae="framerAppearId",LH="data-"+I8(zae);function jH(t){return t.props[LH]}const ln=t=>!!(t&&t.getVelocity);function Wae(t){return!!(ln(t)&&t.add)}function T5(t,e){const r=t.getValue("willChange");if(Wae(r))return r.add(e)}function Gae({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function OH(t,e,{delay:r=0,transitionOverride:n,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;n&&(o=n);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const A in l){const h=t.getValue(A,(s=t.latestValues[A])!==null&&s!==void 0?s:null),f=l[A];if(f===void 0||u&&Gae(u,A))continue;const p={delay:r,...v8(o||{},A)};let m=!1;if(window.MotionHandoffAnimation){const g=jH(t);if(g){const v=window.MotionHandoffAnimation(g,A,_t);v!==null&&(p.startTime=v,m=!0)}}T5(t,A),h.start(L8(A,h,f,t.shouldReduceMotion&&Qu.has(A)?{type:!1}:p,t,m));const y=h.animation;y&&c.push(y)}return a&&Promise.all(c).then(()=>{_t.update(()=>{a&&Kae(t,a)})}),c}function D5(t,e,r={}){var n;const i=T2(t,e,r.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(s=r.transitionOverride);const o=i?()=>Promise.all(OH(t,i,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:A,staggerDirection:h}=s;return qae(t,e,u+c,A,h,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(r.delay)])}function qae(t,e,r=0,n=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*n,l=i===1?(c=0)=>c*n:(c=0)=>a-c*n;return Array.from(t.variantChildren).sort(Xae).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(D5(c,e,{...s,delay:r+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Xae(t,e){return t.sortNodePosition(e)}function Yae(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>D5(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=D5(t,e,r);else{const i=typeof e=="function"?T2(t,e,r.custom):e;n=Promise.all(OH(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const Jae=y8.length;function NH(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?NH(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Jae;r++){const n=y8[r],i=t.props[n];(mm(i)||i===!1)&&(e[n]=i)}return e}const Zae=[...g8].reverse(),ele=g8.length;function tle(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Yae(t,r,n)))}function rle(t){let e=tle(t),r=vM(),n=!0;const i=l=>(c,u)=>{var A;const h=T2(t,u,l==="exit"?(A=t.presenceContext)===null||A===void 0?void 0:A.custom:void 0);if(h){const{transition:f,transitionEnd:p,...m}=h;c={...c,...m,...p}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=NH(t.parent)||{},A=[],h=new Set;let f={},p=1/0;for(let y=0;y<ele;y++){const g=Zae[y],v=r[g],x=c[g]!==void 0?c[g]:u[g],b=mm(x),w=g===l?v.isActive:null;w===!1&&(p=y);let C=x===u[g]&&x!==c[g]&&b;if(C&&n&&t.manuallyAnimateOnMount&&(C=!1),v.protectedKeys={...f},!v.isActive&&w===null||!x&&!v.prevProp||M2(x)||typeof x=="boolean")continue;const B=nle(v.prevProp,x);let _=B||g===l&&v.isActive&&!C&&b||y>p&&b,k=!1;const E=Array.isArray(x)?x:[x];let F=E.reduce(i(g),{});w===!1&&(F={});const{prevResolvedValues:M={}}=v,T={...M,...F},Q=I=>{_=!0,h.has(I)&&(k=!0,h.delete(I)),v.needsAnimating[I]=!0;const L=t.getValue(I);L&&(L.liveStyle=!1)};for(const I in T){const L=F[I],R=M[I];if(f.hasOwnProperty(I))continue;let V=!1;b5(L)&&b5(R)?V=!qR(L,R):V=L!==R,V?L!=null?Q(I):h.add(I):L!==void 0&&h.has(I)?Q(I):v.protectedKeys[I]=!0}v.prevProp=x,v.prevResolvedValues=F,v.isActive&&(f={...f,...F}),n&&t.blockInitialAnimation&&(_=!1),_&&(!(C&&B)||k)&&A.push(...E.map(I=>({animation:I,options:{type:g}})))}if(h.size){const y={};h.forEach(g=>{const v=t.getBaseTarget(g),x=t.getValue(g);x&&(x.liveStyle=!0),y[g]=v??null}),A.push({animation:y})}let m=!!A.length;return n&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(m=!1),n=!1,m?e(A):Promise.resolve()}function a(l,c){var u;if(r[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(h=>{var f;return(f=h.animationState)===null||f===void 0?void 0:f.setActive(l,c)}),r[l].isActive=c;const A=o(l);for(const h in r)r[h].protectedKeys={};return A}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>r,reset:()=>{r=vM(),n=!0}}}function nle(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!qR(e,t):!1}function cc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vM(){return{animate:cc(!0),whileInView:cc(),whileHover:cc(),whileTap:cc(),whileDrag:cc(),whileFocus:cc(),exit:cc()}}class ec{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ile extends ec{constructor(e){super(e),e.animationState||(e.animationState=rle(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();M2(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let sle=0;class ole extends ec{constructor(){super(...arguments),this.id=sle++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const ale={animation:{Feature:ile},exit:{Feature:ole}},is={x:!1,y:!1};function IH(){return is.x||is.y}function lle(t,e,r){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function UH(t,e){const r=lle(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function xM(t){return e=>{e.pointerType==="touch"||IH()||t(e)}}function cle(t,e,r={}){const[n,i,s]=UH(t,r),o=xM(a=>{const{target:l}=a,c=e(a);if(!c||!l)return;const u=xM(A=>{c(A),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return n.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const U8=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,jf=new WeakSet;function bM(t){return e=>{e.key==="Enter"&&t(e)}}function R4(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ule=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=bM(()=>{if(jf.has(r))return;R4(r,"down");const i=bM(()=>{R4(r,"up")}),s=()=>R4(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)},Ale=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dle(t){return Ale.has(t.tagName)||t.tabIndex!==-1}const PH=(t,e)=>e?t===e?!0:PH(t,e.parentElement):!1;function wM(t){return U8(t)&&!IH()}function hle(t,e,r={}){const[n,i,s]=UH(t,r),o=a=>{const l=a.currentTarget;if(!wM(a)||jf.has(l))return;jf.add(l);const c=e(a),u=(f,p)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",h),!(!wM(f)||!jf.has(l))&&(jf.delete(l),c&&c(f,{success:p}))},A=f=>{u(f,r.useGlobalTarget||PH(l,f.target))},h=f=>{u(f,!1)};window.addEventListener("pointerup",A,i),window.addEventListener("pointercancel",h,i)};return n.forEach(a=>{dle(a)||(a.tabIndex=0),(r.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",c=>ule(c,i),i)}),s}function fle(t){return t==="x"||t==="y"?is[t]?null:(is[t]=!0,()=>{is[t]=!1}):is.x||is.y?null:(is.x=is.y=!0,()=>{is.x=is.y=!1})}function p0(t){return{point:{x:t.pageX,y:t.pageY}}}const ple=t=>e=>U8(e)&&t(e,p0(e));function xm(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function pp(t,e,r,n){return xm(t,e,ple(r),n)}const CM=(t,e)=>Math.abs(t-e);function mle(t,e){const r=CM(t.x,e.x),n=CM(t.y,e.y);return Math.sqrt(r**2+n**2)}class QH{constructor(e,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=$4(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=mle(A.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:p}=A,{timestamp:m}=Ir;this.history.push({...p,timestamp:m});const{onStart:y,onMove:g}=this.handlers;h||(y&&y(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,A)},this.handlePointerMove=(A,h)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=H4(h,this.transformPagePoint),_t.update(this.updatePoint,!0)},this.handlePointerUp=(A,h)=>{this.end();const{onEnd:f,onSessionEnd:p,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=$4(A.type==="pointercancel"?this.lastMoveEventInfo:H4(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(A,y),p&&p(A,y)},!U8(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=p0(e),a=H4(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Ir;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=r;u&&u(e,$4(a,this.history)),this.removeListeners=f0(pp(this.contextWindow,"pointermove",this.handlePointerMove),pp(this.contextWindow,"pointerup",this.handlePointerUp),pp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Pl(this.updatePoint)}}function H4(t,e){return e?{point:e(t.point)}:t}function BM(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $4({point:t},e){return{point:t,delta:BM(t,RH(e)),offset:BM(t,gle(e)),velocity:yle(e,.1)}}function gle(t){return t[0]}function RH(t){return t[t.length-1]}function yle(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=RH(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Yo(e)));)r--;if(!n)return{x:0,y:0};const s=Jo(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function GA(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const HH=1e-4,vle=1-HH,xle=1+HH,$H=.01,ble=0-$H,wle=0+$H;function gi(t){return t.max-t.min}function Cle(t,e,r){return Math.abs(t-e)<=r}function _M(t,e,r,n=.5){t.origin=n,t.originPoint=Nt(e.min,e.max,t.origin),t.scale=gi(r)/gi(e),t.translate=Nt(r.min,r.max,t.origin)-t.originPoint,(t.scale>=vle&&t.scale<=xle||isNaN(t.scale))&&(t.scale=1),(t.translate>=ble&&t.translate<=wle||isNaN(t.translate))&&(t.translate=0)}function mp(t,e,r,n){_M(t.x,e.x,r.x,n?n.originX:void 0),_M(t.y,e.y,r.y,n?n.originY:void 0)}function SM(t,e,r){t.min=r.min+e.min,t.max=t.min+gi(e)}function Ble(t,e,r){SM(t.x,e.x,r.x),SM(t.y,e.y,r.y)}function kM(t,e,r){t.min=e.min-r.min,t.max=t.min+gi(e)}function gp(t,e,r){kM(t.x,e.x,r.x),kM(t.y,e.y,r.y)}function _le(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Nt(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Nt(r,t,n.max):Math.min(t,r)),t}function EM(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Sle(t,{top:e,left:r,bottom:n,right:i}){return{x:EM(t.x,r,i),y:EM(t.y,e,n)}}function FM(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function kle(t,e){return{x:FM(t.x,e.x),y:FM(t.y,e.y)}}function Ele(t,e){let r=.5;const n=gi(t),i=gi(e);return i>n?r=Vd(e.min,e.max-n,t.min):n>i&&(r=Vd(t.min,t.max-i,e.min)),ca(0,1,r)}function Fle(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const L5=.35;function Mle(t=L5){return t===!1?t=0:t===!0&&(t=L5),{x:MM(t,"left","right"),y:MM(t,"top","bottom")}}function MM(t,e,r){return{min:TM(t,e),max:TM(t,r)}}function TM(t,e){return typeof t=="number"?t:t[e]||0}const DM=()=>({translate:0,scale:1,origin:0,originPoint:0}),qA=()=>({x:DM(),y:DM()}),LM=()=>({min:0,max:0}),Wt=()=>({x:LM(),y:LM()});function Di(t){return[t("x"),t("y")]}function VH({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function Tle({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Dle(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function V4(t){return t===void 0||t===1}function j5({scale:t,scaleX:e,scaleY:r}){return!V4(t)||!V4(e)||!V4(r)}function Dc(t){return j5(t)||KH(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function KH(t){return jM(t.x)||jM(t.y)}function jM(t){return t&&t!=="0%"}function Qx(t,e,r){const n=t-r,i=e*n;return r+i}function OM(t,e,r,n,i){return i!==void 0&&(t=Qx(t,i,n)),Qx(t,r,n)+e}function O5(t,e=0,r=1,n,i){t.min=OM(t.min,e,r,n,i),t.max=OM(t.max,e,r,n,i)}function zH(t,{x:e,y:r}){O5(t.x,e.translate,e.scale,e.originPoint),O5(t.y,r.translate,r.scale,r.originPoint)}const NM=.999999999999,IM=1.0000000000001;function Lle(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=r[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&YA(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,zH(t,o)),n&&Dc(s.latestValues)&&YA(t,s.latestValues))}e.x<IM&&e.x>NM&&(e.x=1),e.y<IM&&e.y>NM&&(e.y=1)}function XA(t,e){t.min=t.min+e,t.max=t.max+e}function UM(t,e,r,n,i=.5){const s=Nt(t.min,t.max,i);O5(t,e,r,s,n)}function YA(t,e){UM(t.x,e.x,e.scaleX,e.scale,e.originX),UM(t.y,e.y,e.scaleY,e.scale,e.originY)}function WH(t,e){return VH(Dle(t.getBoundingClientRect(),e))}function jle(t,e,r){const n=WH(t,r),{scroll:i}=e;return i&&(XA(n.x,i.offset.x),XA(n.y,i.offset.y)),n}const GH=({current:t})=>t?t.ownerDocument.defaultView:null,Ole=new WeakMap;class Nle{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wt(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(p0(u).point)},s=(u,A)=>{const{drag:h,dragPropagation:f,onDragStart:p}=this.getProps();if(h&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fle(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Di(y=>{let g=this.getAxisMotionValue(y).get()||0;if(ao.test(g)){const{projection:v}=this.visualElement;if(v&&v.layout){const x=v.layout.layoutBox[y];x&&(g=gi(x)*(parseFloat(g)/100))}}this.originPoint[y]=g}),p&&_t.postRender(()=>p(u,A)),T5(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(u,A)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:p,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=A;if(f&&this.currentDirection===null){this.currentDirection=Ile(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",A.point,y),this.updateAxis("y",A.point,y),this.visualElement.render(),m&&m(u,A)},a=(u,A)=>this.stop(u,A),l=()=>Di(u=>{var A;return this.getAnimationState(u)==="paused"&&((A=this.getAxisMotionValue(u).animation)===null||A===void 0?void 0:A.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new QH(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:GH(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&_t.postRender(()=>s(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!ig(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=_le(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;r&&GA(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=Sle(i.layoutBox,r):this.constraints=!1,this.elastic=Mle(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Di(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Fle(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!GA(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=jle(n,i.root,this.visualElement.getTransformPagePoint());let o=kle(i.layout.layoutBox,s);if(r){const a=r(Tle(o));this.hasMutatedConstraints=!!a,a&&(o=VH(a))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Di(u=>{if(!ig(u,r,this.currentDirection))return;let A=l[u]||{};o&&(A={min:0,max:0});const h=i?200:1e6,f=i?40:1e7,p={type:"inertia",velocity:n?e[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...A};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(a)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return T5(this.visualElement,e),n.start(L8(e,n,0,r,this.visualElement,!1))}stopAnimation(){Di(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Di(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Di(r=>{const{drag:n}=this.getProps();if(!ig(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[r];s.set(e[r]-Nt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!GA(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Di(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=Ele({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Di(o=>{if(!ig(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Nt(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;Ole.set(this.visualElement,this);const e=this.visualElement.current,r=pp(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();GA(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),_t.read(n);const o=xm(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Di(u=>{const A=this.getAxisMotionValue(u);A&&(this.originPoint[u]+=l[u].translate,A.set(A.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=L5,dragMomentum:a=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function ig(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Ile(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Ule extends ec{constructor(e){super(e),this.removeGroupControls=hi,this.removeListeners=hi,this.controls=new Nle(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hi}unmount(){this.removeGroupControls(),this.removeListeners()}}const PM=t=>(e,r)=>{t&&_t.postRender(()=>t(e,r))};class Ple extends ec{constructor(){super(...arguments),this.removePointerDownListener=hi}onPointerDown(e){this.session=new QH(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GH(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:PM(e),onStart:PM(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&_t.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=pp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const L2=S.createContext(null);function Qle(){const t=S.useContext(L2);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,i=S.useId();S.useEffect(()=>n(i),[]);const s=S.useCallback(()=>r&&r(i),[i,r]);return!e&&r?[!1,s]:[!0]}const P8=S.createContext({}),qH=S.createContext({}),ev={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function QM(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ph={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ke.test(t))t=parseFloat(t);else return t;const r=QM(t,e.target.x),n=QM(t,e.target.y);return`${r}% ${n}%`}},Rle={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=Ql.parse(t);if(i.length>5)return n;const s=Ql.createTransformer(t),o=typeof i[0]!="number"?1:0,a=r.x.scale*e.x,l=r.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Nt(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},Rx={};function Hle(t){Object.assign(Rx,t)}const{schedule:Q8,cancel:B7e}=XR(queueMicrotask,!1);class $le extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;Hle(Vle),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ev.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||_t.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Q8.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function XH(t){const[e,r]=Qle(),n=S.useContext(P8);return d.jsx($le,{...t,layoutGroup:n,switchLayoutGroup:S.useContext(qH),isPresent:e,safeToRemove:r})}const Vle={borderRadius:{...Ph,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ph,borderTopRightRadius:Ph,borderBottomLeftRadius:Ph,borderBottomRightRadius:Ph,boxShadow:Rle},YH=["TopLeft","TopRight","BottomLeft","BottomRight"],Kle=YH.length,RM=t=>typeof t=="string"?parseFloat(t):t,HM=t=>typeof t=="number"||ke.test(t);function zle(t,e,r,n,i,s){i?(t.opacity=Nt(0,r.opacity!==void 0?r.opacity:1,Wle(n)),t.opacityExit=Nt(e.opacity!==void 0?e.opacity:1,0,Gle(n))):s&&(t.opacity=Nt(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<Kle;o++){const a=`border${YH[o]}Radius`;let l=$M(e,a),c=$M(r,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||HM(l)===HM(c)?(t[a]=Math.max(Nt(RM(l),RM(c),n),0),(ao.test(c)||ao.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||r.rotate)&&(t.rotate=Nt(e.rotate||0,r.rotate||0,n))}function $M(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Wle=JH(0,.5,nH),Gle=JH(.5,.95,hi);function JH(t,e,r){return n=>n<t?0:n>e?1:r(Vd(t,e,n))}function VM(t,e){t.min=e.min,t.max=e.max}function Bi(t,e){VM(t.x,e.x),VM(t.y,e.y)}function KM(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function zM(t,e,r,n,i){return t-=e,t=Qx(t,1/r,n),i!==void 0&&(t=Qx(t,1/i,n)),t}function qle(t,e=0,r=1,n=.5,i,s=t,o=t){if(ao.test(e)&&(e=parseFloat(e),e=Nt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Nt(s.min,s.max,n);t===s&&(a-=e),t.min=zM(t.min,e,r,a,i),t.max=zM(t.max,e,r,a,i)}function WM(t,e,[r,n,i],s,o){qle(t,e[r],e[n],e[i],e.scale,s,o)}const Xle=["x","scaleX","originX"],Yle=["y","scaleY","originY"];function GM(t,e,r,n){WM(t.x,e,Xle,r?r.x:void 0,n?n.x:void 0),WM(t.y,e,Yle,r?r.y:void 0,n?n.y:void 0)}function qM(t){return t.translate===0&&t.scale===1}function ZH(t){return qM(t.x)&&qM(t.y)}function XM(t,e){return t.min===e.min&&t.max===e.max}function Jle(t,e){return XM(t.x,e.x)&&XM(t.y,e.y)}function YM(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function e$(t,e){return YM(t.x,e.x)&&YM(t.y,e.y)}function JM(t){return gi(t.x)/gi(t.y)}function ZM(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Zle{constructor(){this.members=[]}add(e){j8(this.members,e),e.scheduleRender()}remove(e){if(O8(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ece(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:A,rotateY:h,skewX:f,skewY:p}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),A&&(n+=`rotateX(${A}deg) `),h&&(n+=`rotateY(${h}deg) `),f&&(n+=`skewX(${f}deg) `),p&&(n+=`skewY(${p}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const tce=(t,e)=>t.depth-e.depth;class rce{constructor(){this.children=[],this.isDirty=!1}add(e){j8(this.children,e),this.isDirty=!0}remove(e){O8(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tce),this.isDirty=!1,this.children.forEach(e)}}function tv(t){const e=ln(t)?t.get():t;return Qae(e)?e.toValue():e}function nce(t,e){const r=lo.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(Pl(n),t(s-e))};return _t.read(n,!0),()=>Pl(n)}function ice(t){return t instanceof SVGElement&&t.tagName!=="svg"}function sce(t,e,r){const n=ln(t)?t:vm(t);return n.start(L8("",n,e,r)),n.animation}const Lc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Of=typeof window<"u"&&window.MotionDebug!==void 0,K4=["","X","Y","Z"],oce={visibility:"hidden"},e9=1e3;let ace=0;function z4(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function t$(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=jH(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",_t,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&t$(n)}function r$({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=ace++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Of&&(Lc.totalNodes=Lc.resolvedTargetDeltas=Lc.recalculatedProjection=0),this.nodes.forEach(uce),this.nodes.forEach(pce),this.nodes.forEach(mce),this.nodes.forEach(Ace),Of&&window.MotionDebug.record(Lc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new rce)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new N8),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ice(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let A;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,A&&A(),A=nce(h,250),ev.hasAnimatedSinceResize&&(ev.hasAnimatedSinceResize=!1,this.nodes.forEach(r9))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:A,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||bce,{onLayoutAnimationStart:y,onLayoutAnimationComplete:g}=u.getProps(),v=!this.targetLayout||!e$(this.targetLayout,p)||f,x=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(A,x);const b={...v8(m,"layout"),onPlay:y,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else h||r9(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Pl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gce),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&t$(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const A=this.path[u];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(t9);return}this.isUpdating||this.nodes.forEach(hce),this.isUpdating=!1,this.nodes.forEach(fce),this.nodes.forEach(lce),this.nodes.forEach(cce),this.clearAllSnapshots();const a=lo.now();Ir.delta=ca(0,1e3/60,a-Ir.timestamp),Ir.timestamp=a,Ir.isProcessing=!0,N4.update.process(Ir),N4.preRender.process(Ir),N4.render.process(Ir),Ir.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Q8.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(dce),this.sharedNodes.forEach(yce)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!ZH(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Dc(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),wce(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Wt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Cce))){const{scroll:u}=this.root;u&&(XA(l.x,u.offset.x),XA(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=Wt();if(Bi(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:A,options:h}=u;u!==this.root&&A&&h.layoutScroll&&(A.wasRoot&&Bi(l,o),XA(l.x,A.offset.x),XA(l.y,A.offset.y))}return l}applyTransform(o,a=!1){const l=Wt();Bi(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&YA(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Dc(u.latestValues)&&YA(l,u.latestValues)}return Dc(this.latestValues)&&YA(l,this.latestValues),l}removeTransform(o){const a=Wt();Bi(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Dc(c.latestValues))continue;j5(c.latestValues)&&c.updateSnapshot();const u=Wt(),A=c.measurePageBox();Bi(u,A),GM(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Dc(this.latestValues)&&GM(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ir.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:A,layoutId:h}=this.options;if(!(!this.layout||!(A||h))){if(this.resolvedRelativeTargetAt=Ir.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),gp(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Wt(),this.targetWithTransforms=Wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ble(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bi(this.target,this.layout.layoutBox),zH(this.target,this.targetDelta)):Bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),gp(this.relativeTargetOrigin,this.target,f.target),Bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Of&&Lc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||j5(this.parent.latestValues)||KH(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ir.timestamp&&(c=!1),c)return;const{layout:u,layoutId:A}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||A))return;Bi(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Lle(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Wt());const{target:p}=a;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(KM(this.prevProjectionDelta.x,this.projectionDelta.x),KM(this.prevProjectionDelta.y,this.projectionDelta.y)),mp(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!ZM(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Of&&Lc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qA(),this.projectionDelta=qA(),this.projectionDeltaWithTransform=qA()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},A=qA();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Wt(),f=l?l.source:void 0,p=this.layout?this.layout.source:void 0,m=f!==p,y=this.getStack(),g=!y||y.members.length<=1,v=!!(m&&!g&&this.options.crossfade===!0&&!this.path.some(xce));this.animationProgress=0;let x;this.mixTargetDelta=b=>{const w=b/1e3;n9(A.x,o.x,w),n9(A.y,o.y,w),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gp(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vce(this.relativeTarget,this.relativeTargetOrigin,h,w),x&&Jle(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Wt()),Bi(x,this.relativeTarget)),m&&(this.animationValues=u,zle(u,c,this.latestValues,w,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Pl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_t.update(()=>{ev.hasAnimatedSinceResize=!0,this.currentAnimation=sce(0,e9,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(e9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&n$(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Wt();const A=gi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+A;const h=gi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Bi(a,l),YA(a,u),mp(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Zle),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&z4("z",o,c,this.animationValues);for(let u=0;u<K4.length;u++)z4(`rotate${K4[u]}`,o,c,this.animationValues),z4(`skew${K4[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return oce;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=tv(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const A=this.getLead();if(!this.projectionDelta||!this.layout||!A.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=tv(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Dc(this.latestValues)&&(m.transform=u?u({},""):"none",this.hasProjected=!1),m}const h=A.animationValues||A.latestValues;this.applyTransformsToTarget(),c.transform=ece(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:f,y:p}=this.projectionDelta;c.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,A.animationValues?c.opacity=A===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=A===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in Rx){if(h[m]===void 0)continue;const{correct:y,applyTo:g}=Rx[m],v=c.transform==="none"?h[m]:y(h[m],A);if(g){const x=g.length;for(let b=0;b<x;b++)c[g[b]]=v}else c[m]=v}return this.options.layoutId&&(c.pointerEvents=A===this?tv(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(t9),this.root.sharedNodes.clear()}}}function lce(t){t.updateLayout()}function cce(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,o=r.source!==t.layout.source;s==="size"?Di(A=>{const h=o?r.measuredBox[A]:r.layoutBox[A],f=gi(h);h.min=n[A].min,h.max=h.min+f}):n$(s,r.layoutBox,n)&&Di(A=>{const h=o?r.measuredBox[A]:r.layoutBox[A],f=gi(n[A]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[A].max=t.relativeTarget[A].min+f)});const a=qA();mp(a,n,r.layoutBox);const l=qA();o?mp(l,t.applyTransform(i,!0),r.measuredBox):mp(l,n,r.layoutBox);const c=!ZH(a);let u=!1;if(!t.resumeFrom){const A=t.getClosestProjectingParent();if(A&&!A.resumeFrom){const{snapshot:h,layout:f}=A;if(h&&f){const p=Wt();gp(p,r.layoutBox,h.layoutBox);const m=Wt();gp(m,n,f.layoutBox),e$(p,m)||(u=!0),A.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=p,t.relativeParent=A)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function uce(t){Of&&Lc.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ace(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function dce(t){t.clearSnapshot()}function t9(t){t.clearMeasurements()}function hce(t){t.isLayoutDirty=!1}function fce(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function r9(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function pce(t){t.resolveTargetDelta()}function mce(t){t.calcProjection()}function gce(t){t.resetSkewAndRotation()}function yce(t){t.removeLeadSnapshot()}function n9(t,e,r){t.translate=Nt(e.translate,0,r),t.scale=Nt(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function i9(t,e,r,n){t.min=Nt(e.min,r.min,n),t.max=Nt(e.max,r.max,n)}function vce(t,e,r,n){i9(t.x,e.x,r.x,n),i9(t.y,e.y,r.y,n)}function xce(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const bce={duration:.45,ease:[.4,0,.1,1]},s9=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),o9=s9("applewebkit/")&&!s9("chrome/")?Math.round:hi;function a9(t){t.min=o9(t.min),t.max=o9(t.max)}function wce(t){a9(t.x),a9(t.y)}function n$(t,e,r){return t==="position"||t==="preserve-aspect"&&!Cle(JM(e),JM(r),.2)}function Cce(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Bce=r$({attachResizeListener:(t,e)=>xm(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),W4={current:void 0},i$=r$({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!W4.current){const t=new Bce({});t.mount(window),t.setOptions({layoutScroll:!0}),W4.current=t}return W4.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_ce={pan:{Feature:Ple},drag:{Feature:Ule,ProjectionNode:i$,MeasureLayout:XH}};function l9(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&_t.postRender(()=>s(e,p0(e)))}class Sce extends ec{mount(){const{current:e}=this.node;e&&(this.unmount=cle(e,r=>(l9(this.node,r,"Start"),n=>l9(this.node,n,"End"))))}unmount(){}}class kce extends ec{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=f0(xm(this.node.current,"focus",()=>this.onFocus()),xm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function c9(t,e,r){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&_t.postRender(()=>s(e,p0(e)))}class Ece extends ec{mount(){const{current:e}=this.node;e&&(this.unmount=hle(e,r=>(c9(this.node,r,"Start"),(n,{success:i})=>c9(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const N5=new WeakMap,G4=new WeakMap,Fce=t=>{const e=N5.get(t.target);e&&e(t)},Mce=t=>{t.forEach(Fce)};function Tce({root:t,...e}){const r=t||document;G4.has(r)||G4.set(r,{});const n=G4.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(Mce,{root:t,...e})),n[i]}function Dce(t,e,r){const n=Tce(e);return N5.set(t,r),n.observe(t),()=>{N5.delete(t),n.unobserve(t)}}const Lce={some:0,all:1};class jce extends ec{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Lce[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:A}=this.node.getProps(),h=c?u:A;h&&h(l)};return Dce(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Oce(e,r))&&this.startObserver()}unmount(){}}function Oce({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Nce={inView:{Feature:jce},tap:{Feature:Ece},focus:{Feature:kce},hover:{Feature:Sce}},Ice={layout:{ProjectionNode:i$,MeasureLayout:XH}},R8=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),j2=S.createContext({}),H8=typeof window<"u",s$=H8?S.useLayoutEffect:S.useEffect,o$=S.createContext({strict:!1});function Uce(t,e,r,n,i){var s,o;const{visualElement:a}=S.useContext(j2),l=S.useContext(o$),c=S.useContext(L2),u=S.useContext(R8).reducedMotion,A=S.useRef(null);n=n||l.renderer,!A.current&&n&&(A.current=n(t,{visualState:e,parent:a,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=A.current,f=S.useContext(qH);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&Pce(A.current,r,i,f);const p=S.useRef(!1);S.useInsertionEffect(()=>{h&&p.current&&h.update(r,c)});const m=r[LH],y=S.useRef(!!m&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,m))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,m)));return s$(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),Q8.render(h.render),y.current&&h.animationState&&h.animationState.animateChanges())}),S.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,m)}),y.current=!1))}),h}function Pce(t,e,r,n){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:a$(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&GA(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:c})}function a$(t){if(t)return t.options.allowProjection!==!1?t.projection:a$(t.parent)}function Qce(t,e,r){return S.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):GA(r)&&(r.current=n))},[e])}function O2(t){return M2(t.animate)||y8.some(e=>mm(t[e]))}function l$(t){return!!(O2(t)||t.variants)}function Rce(t,e){if(O2(t)){const{initial:r,animate:n}=t;return{initial:r===!1||mm(r)?r:void 0,animate:mm(n)?n:void 0}}return t.inherit!==!1?e:{}}function Hce(t){const{initial:e,animate:r}=Rce(t,S.useContext(j2));return S.useMemo(()=>({initial:e,animate:r}),[u9(e),u9(r)])}function u9(t){return Array.isArray(t)?t.join(" "):t}const A9={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kd={};for(const t in A9)Kd[t]={isEnabled:e=>A9[t].some(r=>!!e[r])};function $ce(t){for(const e in t)Kd[e]={...Kd[e],...t[e]}}const Vce=Symbol.for("motionComponentSymbol");function Kce({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){t&&$ce(t);function s(a,l){let c;const u={...S.useContext(R8),...a,layoutId:zce(a)},{isStatic:A}=u,h=Hce(a),f=n(a,A);if(!A&&H8){Wce();const p=Gce(u);c=p.MeasureLayout,h.visualElement=Uce(i,f,u,e,p.ProjectionNode)}return d.jsxs(j2.Provider,{value:h,children:[c&&h.visualElement?d.jsx(c,{visualElement:h.visualElement,...u}):null,r(i,a,Qce(f,h.visualElement,l),f,A,h.visualElement)]})}const o=S.forwardRef(s);return o[Vce]=i,o}function zce({layoutId:t}){const e=S.useContext(P8).id;return e&&t!==void 0?e+"-"+t:t}function Wce(t,e){S.useContext(o$).strict}function Gce(t){const{drag:e,layout:r}=Kd;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const qce=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $8(t){return typeof t!="string"||t.includes("-")?!1:!!(qce.indexOf(t)>-1||/[A-Z]/u.test(t))}function c$(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const s in r)t.style.setProperty(s,r[s])}const u$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function A$(t,e,r,n){c$(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(u$.has(i)?i:I8(i),e.attrs[i])}function d$(t,{layout:e,layoutId:r}){return Qu.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Rx[t]||t==="opacity")}function V8(t,e,r){var n;const{style:i}=t,s={};for(const o in i)(ln(i[o])||e.style&&ln(e.style[o])||d$(o,t)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function h$(t,e,r){const n=V8(t,e,r);for(const i in t)if(ln(t[i])||ln(e[i])){const s=A0.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}function K8(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}function Xce({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,i,s){const o={latestValues:Yce(n,i,s,t),renderState:e()};return r&&(o.mount=a=>r(n,a,o)),o}const f$=t=>(e,r)=>{const n=S.useContext(j2),i=S.useContext(L2),s=()=>Xce(t,e,n,i);return r?s():K8(s)};function Yce(t,e,r,n){const i={},s=n(t,{});for(const h in s)i[h]=tv(s[h]);let{initial:o,animate:a}=t;const l=O2(t),c=l$(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const A=u?a:o;if(A&&typeof A!="boolean"&&!M2(A)){const h=Array.isArray(A)?A:[A];for(let f=0;f<h.length;f++){const p=m8(t,h[f]);if(p){const{transitionEnd:m,transition:y,...g}=p;for(const v in g){let x=g[v];if(Array.isArray(x)){const b=u?x.length-1:0;x=x[b]}x!==null&&(i[v]=x)}for(const v in m)i[v]=m[v]}}}return i}const z8=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),p$=()=>({...z8(),attrs:{}}),m$=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Jce={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Zce=A0.length;function eue(t,e,r){let n="",i=!0;for(let s=0;s<Zce;s++){const o=A0[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||r){const c=m$(a,S8[o]);if(!l){i=!1;const u=Jce[o]||o;n+=`${u}(${c}) `}r&&(e[o]=c)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function W8(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Qu.has(l)){o=!0;continue}else if(lH(l)){i[l]=c;continue}else{const u=m$(c,S8[l]);l.startsWith("origin")?(a=!0,s[l]=u):n[l]=u}}if(e.transform||(o||r?n.transform=eue(e,t.transform,r):n.transform&&(n.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;n.transformOrigin=`${l} ${c} ${u}`}}function d9(t,e,r){return typeof t=="string"?t:ke.transform(e+r*t)}function tue(t,e,r){const n=d9(e,t.x,t.width),i=d9(r,t.y,t.height);return`${n} ${i}`}const rue={offset:"stroke-dashoffset",array:"stroke-dasharray"},nue={offset:"strokeDashoffset",array:"strokeDasharray"};function iue(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?rue:nue;t[s.offset]=ke.transform(-n);const o=ke.transform(e),a=ke.transform(r);t[s.array]=`${o} ${a}`}function G8(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,A){if(W8(t,c,A),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f,dimensions:p}=t;h.transform&&(p&&(f.transform=h.transform),delete h.transform),p&&(i!==void 0||s!==void 0||f.transform)&&(f.transformOrigin=tue(p,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),o!==void 0&&iue(h,o,a,l,!1)}const q8=t=>typeof t=="string"&&t.toLowerCase()==="svg",sue={useVisualState:f$({scrapeMotionValuesFromProps:h$,createRenderState:p$,onMount:(t,e,{renderState:r,latestValues:n})=>{_t.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),_t.render(()=>{G8(r,n,q8(e.tagName),t.transformTemplate),A$(e,r)})}})},oue={useVisualState:f$({scrapeMotionValuesFromProps:V8,createRenderState:z8})};function g$(t,e,r){for(const n in e)!ln(e[n])&&!d$(n,r)&&(t[n]=e[n])}function aue({transformTemplate:t},e){return S.useMemo(()=>{const r=z8();return W8(r,e,t),Object.assign({},r.vars,r.style)},[e])}function lue(t,e){const r=t.style||{},n={};return g$(n,r,t),Object.assign(n,aue(t,e)),n}function cue(t,e){const r={},n=lue(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const uue=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||uue.has(t)}let y$=t=>!Hx(t);function Aue(t){t&&(y$=e=>e.startsWith("on")?!Hx(e):t(e))}try{Aue(require("@emotion/is-prop-valid").default)}catch{}function due(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(y$(i)||r===!0&&Hx(i)||!e&&!Hx(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function hue(t,e,r,n){const i=S.useMemo(()=>{const s=p$();return G8(s,e,q8(n),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};g$(s,t.style,t),i.style={...s,...i.style}}return i}function fue(t=!1){return(r,n,i,{latestValues:s},o)=>{const l=($8(r)?hue:cue)(n,s,o,r),c=due(n,typeof r=="string",t),u=r!==S.Fragment?{...c,...l,ref:i}:{},{children:A}=n,h=S.useMemo(()=>ln(A)?A.get():A,[A]);return S.createElement(r,{...u,children:h})}}function pue(t,e){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...$8(n)?sue:oue,preloadedFeatures:t,useRender:fue(i),createVisualElement:e,Component:n};return Kce(o)}}const I5={current:null},v$={current:!1};function mue(){if(v$.current=!0,!!H8)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>I5.current=t.matches;t.addListener(e),e()}else I5.current=!1}function gue(t,e,r){for(const n in e){const i=e[n],s=r[n];if(ln(i))t.addValue(n,i);else if(ln(s))t.addValue(n,vm(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(n);t.addValue(n,vm(o!==void 0?o:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const h9=new WeakMap,yue=[...AH,nn,Ql],vue=t=>yue.find(uH(t)),f9=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class xue{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=C8,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=lo.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,_t.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=O2(r),this.isVariantNode=l$(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...A}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in A){const f=A[h];l[h]!==void 0&&ln(f)&&f.set(l[h],!1)}}mount(e){this.current=e,h9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),v$.current||mue(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:I5.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){h9.delete(this.current),this.projection&&this.projection.unmount(),Pl(this.notifyUpdate),Pl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Qu.has(e),i=r.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&_t.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Kd){const r=Kd[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<f9.length;n++){const i=f9[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=gue(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=vm(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){var n;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(oH(i)||sH(i))?i=parseFloat(i):!vue(i)&&Ql.test(r)&&(i=vH(e,r)),this.setBaseTarget(e,ln(i)?i.get():i)),ln(i)?i.get():i}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=m8(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ln(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new N8),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class x$ extends xue{constructor(){super(...arguments),this.KeyframeResolver=xH}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ln(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function bue(t){return window.getComputedStyle(t)}class wue extends x${constructor(){super(...arguments),this.type="html",this.renderInstance=c$}readValueFromInstance(e,r){if(Qu.has(r)){const n=k8(r);return n&&n.default||0}else{const n=bue(e),i=(lH(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return WH(e,r)}build(e,r,n){W8(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return V8(e,r,n)}}class Cue extends x${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wt}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Qu.has(r)){const n=k8(r);return n&&n.default||0}return r=u$.has(r)?r:I8(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return h$(e,r,n)}build(e,r,n){G8(e,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,r,n,i){A$(e,r,n,i)}mount(e){this.isSVGTag=q8(e.tagName),super.mount(e)}}const Bue=(t,e)=>$8(t)?new Cue(e):new wue(e,{allowProjection:t!==S.Fragment}),_ue=pue({...ale,...Nce,..._ce,...Ice},Bue),Jt=soe(_ue);class Sue extends S.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function kue({children:t,isPresent:e}){const r=S.useId(),n=S.useRef(null),i=S.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=S.useContext(R8);return S.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!n.current||!o||!a)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),d.jsx(Sue,{isPresent:e,childRef:n,sizeRef:i,children:S.cloneElement(t,{ref:n})})}const Eue=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=K8(Fue),l=S.useId(),c=S.useCallback(A=>{a.set(A,!0);for(const h of a.values())if(!h)return;n&&n()},[a,n]),u=S.useMemo(()=>({id:l,initial:e,isPresent:r,custom:i,onExitComplete:c,register:A=>(a.set(A,!1),()=>a.delete(A))}),s?[Math.random(),c]:[r,c]);return S.useMemo(()=>{a.forEach((A,h)=>a.set(h,!1))},[r]),S.useEffect(()=>{!r&&!a.size&&n&&n()},[r]),o==="popLayout"&&(t=d.jsx(kue,{isPresent:r,children:t})),d.jsx(L2.Provider,{value:u,children:t})};function Fue(){return new Map}const sg=t=>t.key||"";function p9(t){const e=[];return S.Children.forEach(t,r=>{S.isValidElement(r)&&e.push(r)}),e}const b$=({children:t,exitBeforeEnter:e,custom:r,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=S.useMemo(()=>p9(t),[t]),l=a.map(sg),c=S.useRef(!0),u=S.useRef(a),A=K8(()=>new Map),[h,f]=S.useState(a),[p,m]=S.useState(a);s$(()=>{c.current=!1,u.current=a;for(let v=0;v<p.length;v++){const x=sg(p[v]);l.includes(x)?A.delete(x):A.get(x)!==!0&&A.set(x,!1)}},[p,l.length,l.join("-")]);const y=[];if(a!==h){let v=[...a];for(let x=0;x<p.length;x++){const b=p[x],w=sg(b);l.includes(w)||(v.splice(x,0,b),y.push(b))}o==="wait"&&y.length&&(v=y),m(p9(v)),f(a);return}const{forceRender:g}=S.useContext(P8);return d.jsx(d.Fragment,{children:p.map(v=>{const x=sg(v),b=a===p||l.includes(x),w=()=>{if(A.has(x))A.set(x,!0);else return;let C=!0;A.forEach(B=>{B||(C=!1)}),C&&(g==null||g(),m(u.current),i&&i())};return d.jsx(Eue,{isPresent:b,initial:!c.current||n?void 0:!1,custom:b?void 0:r,presenceAffectsLayout:s,mode:o,onExitComplete:b?void 0:w,children:v},x)})})},rv=bi({reducerPath:"apiKey",baseQuery:wi,endpoints:t=>({updateApiKey:t.mutation({query:e=>({url:"/api/update",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getDeepGramApi:t.query({query:()=>({url:"/api/get-deepgram-api",method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}}),getAllApiKeys:t.query({query:()=>({url:"/api/get-all-apis",method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}})})}),{useUpdateApiKeyMutation:S7e,useGetAllApiKeysQuery:k7e,useGetDeepGramApiQuery:Mue}=rv,nv=bi({reducerPath:"deepgramSlice",baseQuery:wi,endpoints:t=>({getDeepgramModels:t.query({query:()=>"api/get-deepgram-models",method:"GET"}),getAImodelById:t.mutation({query:e=>({url:"api/get-voice-model",method:"POST",body:e})})})}),{useGetDeepgramModelsQuery:X8,useGetAImodelByIdMutation:Tue}=nv;function Due(){var V;const{data:t}=Mue(),{bot_id:e}=dr(),[r,n]=S.useState(""),[i,s]=S.useState(null),[o,a]=S.useState(!1),[l,c]=S.useState(!1),[u,A]=S.useState(null),[h,f]=S.useState([]),[p,m]=S.useState(1),[y,g]=S.useState(),[v,x]=S.useState(!0),[b,{isLoading:w}]=Kse(),[C]=$R(),[B]=zR(),[_]=WR(),[k,{data:E}]=VR(),[F,{data:M}]=Tue(),T=S.useRef(null),Q=async()=>{try{const Y=await k({bot_id:Number(e)}).unwrap();(Y==null?void 0:Y.statusCode)===200&&g(Y==null?void 0:Y.bot)}catch{$.error("Error fetching bot data")}},P=S.useCallback(async Y=>{var re;try{const se=await b({bot_id:Number(e),limit:20,page:Y}).unwrap();(se==null?void 0:se.statusCode)===200&&(((re=se==null?void 0:se.data)==null?void 0:re.length)>0&&f(ie=>[...se==null?void 0:se.data,...ie]),x((se==null?void 0:se.data.length)>=20))}catch{$.error("Error fetching chat data")}},[e,b]),H=S.useRef(!0),I=S.useRef(!0);S.useEffect(()=>{H.current&&(P(1),H.current=!1)},[]),S.useEffect(()=>{h.length>0&&T.current&&I.current&&(T.current.scrollTop=T.current.scrollHeight,I.current=!1)},[h]),S.useEffect(()=>{p>1&&P(p)},[p]),S.useEffect(()=>{Q()},[]);const L=S.useCallback(()=>{if(T.current){const{scrollTop:Y,scrollHeight:re,clientHeight:se}=T.current;if(w){console.log("fetching");return}Y<(re-se)*.1&&v&&(console.log("here we go again"),m(ie=>ie+1))}},[v,w]);S.useEffect(()=>{const Y=T.current;if(Y)return Y.addEventListener("scroll",L),()=>Y.removeEventListener("scroll",L)},[L]);const R=async Y=>{Y.preventDefault();const re=Math.random()*100,se=Math.random()*100,ie=Math.random()*100;if(!r){$.error("Input can't be empty");return}a(!0),s(null),A(null);try{f(G=>[...G,{id:re,is_bot:!1,image:!1,image_url:"",message:r,loading:!0}]);const Ae=await C({bot_id:+`${e}`,message:r,image_url:""}).unwrap();if((Ae==null?void 0:Ae.statusCode)===200){f(ae=>ae.map(z=>z.id===re?{...z,loading:!1}:z)),n(""),f(ae=>[...ae,{id:se,is_bot:!0,image:!1,image_url:"",message:"",loading:!0}]);const G=await _({bot_id:+`${e}`,query:r}).unwrap();if((G==null?void 0:G.statusCode)===200&&(f(ae=>ae.map(z=>{var q;return z.id===se?{...z,message:(q=G==null?void 0:G.data)==null?void 0:q.message,loading:!1}:z})),G!=null&&G.do_generate_image)){f(z=>[...z,{id:ie,is_bot:!0,image:!0,image_url:"",message:"",loading:!0}]);const ae=await B({answer:G==null?void 0:G.data.message,chat_id:G==null?void 0:G.data.id,bot_id:Number(e)}).unwrap();(ae==null?void 0:ae.statusCode)===200&&(f(z=>z.map(q=>{var K;return q.id===ie?{...q,image_url:(K=ae==null?void 0:ae.data)==null?void 0:K.image_url,message:"",loading:!1}:q})),c(!1))}s(G.data)}a(!1)}catch(Ae){$.error("Error sending message"),console.log(Ae)}finally{a(!1)}};return d.jsxs("div",{className:"flex flex-col h-[90vh] w-full",children:[d.jsx(Nse,{subject:y==null?void 0:y.display_name}),d.jsx("div",{ref:T,className:"flex w-full mb-[90px] pb-[20px] scrollable-container scrollbar-thin overflow-y-auto px-0 lg:px-4 py-6 space-y-6",children:d.jsx("div",{className:"flex mb-[10px] flex-row w-full",children:d.jsx(b$,{children:d.jsx(Jt.div,{className:"flex w-full flex-col space-y-4 p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:h==null?void 0:h.map(Y=>d.jsx("div",{children:d.jsx(Use,{chat:Y})},Y.id))})})})}),d.jsx("div",{className:"bg-white flex items-center justify-center fixed bottom-0 right-0 w-full h-28 lg:w-[78%] lg:ml-[23%]",children:d.jsx("div",{className:"w-[90vw] lg:w-[80%]",children:d.jsx(ioe,{deepgram:(V=t==null?void 0:t.api)==null?void 0:V.deepgram,setLoading:a,loading:o||l,setChats:f,setInputValue:n,inputValue:r,handleSubmit:R,bot:y,voiceModelData:M})})})]})}const w$=S.createContext(),Lue=()=>S.useContext(w$);function Qh(){const{setShowHeader:t}=Lue();return S.useEffect(()=>(t(!1),()=>t(!0)),[]),d.jsx("div",{className:"flex w-full h-full",children:d.jsx(Due,{})})}const iv=bi({reducerPath:"subject",baseQuery:wi,endpoints:t=>({getSubjectByTeacher:t.query({query:()=>({url:"/subject/get-subjects-by-teacher",method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}}),getSubjectsByLevel:t.mutation({query:e=>({url:"/subject/get-subjects-by-level",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getSubject:t.mutation({query:e=>({url:"/subject/get-subject",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getAllSubjects:t.query({query:({page:e,limit:r})=>{const n={};return e!==void 0&&(n.page=e),r!==void 0&&(n.limit=r),{url:"/subject/get-all-subjects",method:"GET",params:n}},meta:{skipToken:!1,skipHeaders:!1}}),createSubject:t.mutation({query:e=>({url:"/subject/create-subject",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),updateSubject:t.mutation({query:e=>({url:"/subject/update-subject",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}})})}),{useGetSubjectByTeacherQuery:Y8,useGetAllSubjectsQuery:C$,useCreateSubjectMutation:jue,useGetSubjectMutation:B$,useUpdateSubjectMutation:Oue,useGetSubjectsByLevelMutation:N2}=iv,sv=bi({reducerPath:"quizeSlice",baseQuery:wi,endpoints:t=>({createQuiz:t.mutation({query:e=>({url:"/quiz",method:"POST",body:e})}),editQuiz:t.mutation({query:e=>({url:"/quiz",method:"PATCH",body:e})}),getQuizzes:t.query({query:()=>"/quiz",method:"GET"}),getQuizById:t.query({query:e=>`/quiz/${e}`,method:"GET"}),getQuizByUserLevel:t.query({query:()=>"/quiz/get-quiz-by-level",method:"GET"}),updateQuiz:t.mutation({query:({quizId:e,quizData:r})=>({url:`/quiz/${e}`,method:"PUT",body:r})}),createSubmitQuizAttempt:t.mutation({query:e=>({url:"quiz-attempt/create-submition",method:"POST",body:e})}),submitQuizAttempt:t.mutation({query:e=>({url:"quiz-attempt/submit",method:"POST",body:e})}),deleteQuiz:t.mutation({query:e=>({url:`/quiz/${e}`,method:"DELETE"})}),getQuizAttempts:t.query({query:({subjectId:e,studentId:r})=>({url:`/quiz-attempt/${e}/${r}`,method:"GET"})}),getQuizAttemptsByStudent:t.query({query:()=>({url:"/quiz-attempt/student-quiz-history",method:"GET"})}),getQuizAttemptDetails:t.query({query:e=>({url:`/quiz-attempt/get-quiz-attempt-detail/${e}`,method:"GET"})})})}),{useGetQuizAttemptsByStudentQuery:Nue,useGetQuizAttemptsQuery:Iue,useGetQuizAttemptDetailsQuery:Uue,useCreateSubmitQuizAttemptMutation:Pue,useEditQuizMutation:Que,useCreateQuizMutation:Rue,useGetQuizzesQuery:Hue,useGetQuizByUserLevelQuery:$ue,useGetQuizByIdQuery:_$,useUpdateQuizMutation:E7e,useDeleteQuizMutation:Vue,useSubmitQuizAttemptMutation:Kue}=sv,zue=()=>{var x,b,w;const[t,e]=S.useState({quizType:as.MCQS,title:"",description:"",subject:"",startTime:"",endTime:"",duration:""}),[r,n]=S.useState([{question:"",options:["","","",""],correctAnswer:"",score:""}]),{data:i,isLoading:s,refetch:o,isError:a,error:l}=Y8(),[c,{isLoading:u,isError:A,error:h}]=Rue();S.useEffect(()=>{$.error(h)},[A]),S.useEffect(()=>{o()},[]);const f=async C=>{var _;if(C.preventDefault(),t.startTime===""&&t.endTime!==""||t.startTime!==""&&t.endTime===""){$.error("Both start_time & end_time can be null, or both must be defined"),e(k=>({...k,startTime:"",endTime:""}));return}if(!t.title||!t.description||!t.subject||t.duration<=0){$.error("Please fill in all the quiz metadata fields and ensure duration is greater than 0.");return}for(const k of r)if(!k.question||k.score<=0||t.quizType===as.MCQS&&!k.correctAnswer&&k.options.some(E=>!E)){$.error(`Please fill in all the question fields, ensure score is greater than 0 ${t.quizType===as.MCQS&&", and select a correct answer if quiz type is MCQS."} `);return}const B={title:t.title,description:t.description,quiz_type:t.quizType,subject_id:Number(t.subject),start_time:t.startTime===""?null:t.startTime,end_time:t.endTime===""?null:t.endTime,duration:t.duration,questions:r==null?void 0:r.map(k=>({text:k.question,questionType:t.quizType,score:k.score,options:k.options.map((E,F)=>({text:E,isCorrect:k.correctAnswer===E}))}))};try{const k=await c(B).unwrap();console.log("response",k),$.success("Quiz created successfully!"),e({quizType:as.MCQS,title:"",description:"",subject:"",startTime:"",endTime:"",duration:""}),n([{question:"",options:["","","",""],correctAnswer:"",score:""}])}catch(k){$.error(JSON.stringify((_=k==null?void 0:k.data)==null?void 0:_.message)||JSON.stringify(k==null?void 0:k.message)||"Failed to create quiz. Please try again.")}},p=()=>{n([...r,{question:"",options:["","","",""],correctAnswer:"",score:""}])},m=C=>{n(r==null?void 0:r.filter((B,_)=>_!==C))},y=(C,B,_)=>{const k=[...r];k[C].options[B]=_,n(k)},g=(C,B)=>{e({...t,[C]:B})},v=(C,B,_)=>{const k=[...r];k[C][B]=_,n(k)};return d.jsx("div",{className:"min-h-screen p-4 md:p-6 lg:p-8",children:d.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg",children:[d.jsxs("div",{className:"p-6 border-b border-gray-200",children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Create Quiz"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Fill in the details to create a new quiz"})]}),d.jsxs("form",{onSubmit:f,className:"p-6 space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Quiz Title*"}),d.jsx("input",{type:"text",value:t.title,onChange:C=>g("title",C.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",placeholder:"Enter quiz title"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Quiz Description*"}),d.jsx("textarea",{value:t.description,onChange:C=>g("description",C.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",placeholder:"Enter quiz description"})]}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Quiz Type*"}),d.jsxs("select",{value:t.quizType,onChange:C=>g("quizType",C.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",children:[d.jsx("option",{value:as.MCQS,children:"Multiple Choice"}),d.jsx("option",{value:as.QA,children:"Question/Answer"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Subject*"}),d.jsxs("select",{value:t.subject,onChange:C=>g("subject",C.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all disabled:bg-gray-100",disabled:s,children:[d.jsx("option",{children:"Select Subject"}),(w=(b=(x=i==null?void 0:i.data)==null?void 0:x.teacher_profile)==null?void 0:b.subjects)==null?void 0:w.map(C=>d.jsx("option",{value:C==null?void 0:C.id,children:C==null?void 0:C.title},C==null?void 0:C.id))]}),a&&d.jsx("p",{className:"text-sm text-red-500 mt-1",children:l})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Start Time"}),d.jsx("input",{type:"date",value:t.startTime,onChange:C=>g("startTime",C.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"End Time"}),d.jsx("input",{type:"date",value:t.endTime,onChange:C=>g("endTime",C.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Duration (minutes)*"}),d.jsx("input",{type:"number",value:t.duration,onChange:C=>g("duration",parseInt(C.target.value)),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all"})]})]}),d.jsx("div",{className:"space-y-6",children:r==null?void 0:r.map((C,B)=>d.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg border border-gray-200",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Question ",B+1]}),(r==null?void 0:r.length)>1&&d.jsx("button",{type:"button",onClick:()=>m(B),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-full transition-all",children:d.jsx(Pu,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Question Text*"}),d.jsx("textarea",{value:C.question,onChange:_=>v(B,"question",_.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",rows:"3",placeholder:"Enter your question here..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Score*"}),d.jsx("input",{type:"number",value:C.score,onChange:_=>v(B,"score",parseInt(_.target.value)),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",placeholder:"Enter score"})]}),t.quizType===as.MCQS&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.options.map((_,k)=>d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",value:_,onChange:E=>y(B,k,E.target.value),className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",placeholder:`Option ${k+1}*`}),d.jsxs("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-sm font-semibold text-gray-500",children:[String.fromCharCode(65+k),"."]})]},k))}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Correct Answer*"}),d.jsx("select",{value:C.correctAnswer,onChange:_=>v(B,"correctAnswer",_.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",children:C.options.map((_,k)=>d.jsxs("option",{value:_,children:["Option ",String.fromCharCode(65+k)]},k))})]})]})]})]},B))}),d.jsxs("div",{className:"flex justify-between items-center pt-6",children:[d.jsxs("button",{type:"button",onClick:p,className:"inline-flex items-center px-4 py-2 bg-white border-2 border-purple-600 text-purple-600 rounded-lg hover:bg-purple-50 transition-all font-medium",children:[d.jsx(u0,{className:"w-4 h-4 mr-2"}),"Add Question"]}),d.jsxs("button",{type:"submit",className:`inline-flex items-center px-6 py-3 ${u?"bg-gray-400":"bg-gradient-to-r from-purple-600 to-purple-800"}  text-white rounded-lg hover:opacity-90 transition-all font-medium shadow-lg shadow-purple-200`,disabled:u,children:[d.jsx(dh,{className:"w-4 h-4 mr-2"}),u?"Saving...":"Save Quiz"]})]})]})]})})},Wue=()=>d.jsxs("div",{children:[d.jsx("h2",{children:"Your Profile"}),d.jsx("p",{children:"This is your user profile page."})]}),fr=({statTitle:t,statValue:e,icon:r})=>d.jsx(Jt.div,{whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-5 hover:shadow-lg transition-all duration-300",children:d.jsxs("div",{className:"flex items-start space-x-4",children:[d.jsx("div",{className:"rounded-xl bg-[#EAECFF] p-3 flex items-center justify-center",children:d.jsx("img",{src:r,alt:t,className:"h-8 w-8 object-contain"})}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-2xl font-bold text-gray-900",children:e}),d.jsx("span",{className:"text-sm font-medium text-gray-500 mt-1",children:t})]})]})});function S$({title:t,image:e,href:r}){var l;const{user:n}=dn(),i=Ze();function s(c){c.target.src=Uu}function o(c,u){return c?c.length>u?`${c.substring(0,u)}...`:c:""}function a(c){n.role===le.USER?i(`/chat-screen/${c}`):n.role===le.ADMIN||n.role===le.SUPER_ADMIN||n.role===le.SUPER_INTENDENT?i(`/admin/chat-screen/${c}`):n.role===le.TEACHER&&i(`/teacher/chat-screen/${c}`)}return d.jsx(Jt.div,{whileHover:{y:-5},className:"relative group cursor-pointer",onClick:()=>a(r),children:d.jsxs("div",{className:`bg-white rounded-xl shadow-md overflow-hidden transition-all duration-300 group-hover:shadow-lg\r
                    w-[180px] h-[240px] sm:w-[170px] sm:h-[230px] md:w-[175px] md:h-[235px] lg:w-[180px] lg:h-[240px]`,children:[d.jsxs("div",{className:"relative h-[100px] sm:h-[95px] md:h-[98px] lg:h-[100px] overflow-hidden",children:[d.jsx("img",{src:e,alt:t==null?void 0:t.display_name,onError:s,className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-black/20 to-transparent"}),n.role===le.SUPER_ADMIN&&d.jsx("div",{className:"absolute bottom-2 left-2",children:d.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-purple-700 px-2 py-0.5 rounded-full text-[10px] font-medium",children:o((l=t==null?void 0:t.school)==null?void 0:l.name,15)})})]}),d.jsxs("div",{className:"px-3 pt-2.5 pb-3 flex flex-col h-[140px] sm:h-[135px] md:h-[137px] lg:h-[140px]",children:[d.jsx("h3",{className:"font-medium text-[14px] text-gray-800 mb-1 line-clamp-1",children:t==null?void 0:t.display_name}),n.role===le.SUPER_ADMIN&&d.jsx("p",{className:"text-[12px] text-gray-600 line-clamp-3 mb-2 leading-relaxed",children:t==null?void 0:t.description}),d.jsx("div",{className:"mt-auto flex justify-end",children:d.jsx("svg",{className:"w-4 h-4 text-purple-600 transform transition-transform duration-300 group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})]})]})})}const J8=({bots:t})=>{console.log("Received bots",t);const[e,r]=S.useState(0),[n,i]=S.useState(4),[s,o]=S.useState(!1),[a,l]=S.useState(0),c=S.useCallback(()=>{const f=window.innerWidth;f<480?i(1):f<640?i(2):f<868?i(3):f<1280?i(4):i(5)},[]);S.useEffect(()=>{const f=()=>{c(),l(window.innerWidth)};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[c]);const u=S.useCallback(()=>{r(f=>f+n>=(t==null?void 0:t.length)?0:f+n)},[n,t==null?void 0:t.length]),A=S.useCallback(()=>{r(f=>f===0?Math.max(0,(t==null?void 0:t.length)-n):f-n)},[n,t==null?void 0:t.length]),h=S.useCallback(f=>{r(f*n)},[n]);return d.jsxs("div",{className:"w-full max-w-[1440px] mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute top-[-4px] left-0 w-full h-1 bg-gray-100 rounded-full overflow-hidden",children:d.jsx(Jt.div,{className:"h-full bg-gradient-to-r from-[#6F38DE] to-[#9747FF]",initial:{width:"0%"},animate:{width:`${e/Math.max((t==null?void 0:t.length)-n,1)*100}%`},transition:{duration:.3}})}),d.jsx("div",{className:"relative overflow-hidden mx-4 sm:mx-6 h-[300px] sm:h-[280px] md:h-[290px] lg:h-[300px]",children:d.jsx(Jt.div,{className:"flex gap-4 sm:gap-5 md:gap-6 h-full items-center",initial:!1,animate:{x:`${-e*(100/n)}%`},transition:{type:"spring",stiffness:300,damping:30},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.1,onDragStart:()=>o(!0),onDragEnd:(f,{offset:p,velocity:m})=>{o(!1),Math.abs(m.x)>500&&(m.x>0?A():u())},children:d.jsx(b$,{mode:"wait",children:t==null?void 0:t.map(f=>d.jsx("div",{children:f&&d.jsx(Jt.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"flex-shrink-0 w-[220px] sm:w-[200px] md:w-[210px] lg:w-[220px]",style:{"--items-to-show":n},whileHover:{scale:s?1:1.02},children:d.jsx(S$,{title:f,image:Zt+"/images/"+(f==null?void 0:f.bot_image_url),href:f==null?void 0:f.id})},f==null?void 0:f.id)},f==null?void 0:f.id))})})}),d.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center",children:d.jsx(Jt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:A,className:`group relative -ml-2 flex h-8 w-8 items-center justify-center \r
                     rounded-full bg-white shadow-md hover:shadow-lg\r
                     border border-gray-200 transition-all duration-200\r
                     disabled:opacity-50 disabled:cursor-not-allowed\r
                     focus:outline-none focus:ring-2 focus:ring-[#6F38DE]/50`,children:d.jsx(toe,{size:16,className:"text-[#6F38DE] transition-transform group-hover:-translate-x-0.5"})})}),d.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:d.jsx(Jt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:u,className:`group relative -mr-2 flex h-8 w-8 items-center justify-center \r
                     rounded-full bg-white shadow-md hover:shadow-lg\r
                     border border-gray-200 transition-all duration-200\r
                     disabled:opacity-50 disabled:cursor-not-allowed\r
                     focus:outline-none focus:ring-2 focus:ring-[#6F38DE]/50`,children:d.jsx(roe,{size:16,className:"text-[#6F38DE] transition-transform group-hover:translate-x-0.5"})})})]}),d.jsx("div",{className:"flex justify-center mt-4 space-x-1.5",children:Array.from({length:Math.ceil((t==null?void 0:t.length)/n)}).map((f,p)=>d.jsx(Jt.button,{whileHover:{scale:1.2},whileTap:{scale:.9},onClick:()=>h(p),className:`h-1.5 transition-all duration-300 rounded-full
              ${e===p*n?"w-4 bg-[#6F38DE]":"w-1.5 bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to slide ${p+1}`},p))})]})},yp="/assets/state1-BPzGH9JW.svg",Vs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAb8SURBVHgB7VhbbBRVGP5mdmZnZy/d2bZbLkW7omgwqMVbUAJOoyjBC61GRR6EB1FCNKJRo8akmBhNjInwoiY8uD4Y9cEoUZBAAgsmiGiwBCSBcNnKpd3Sy273Ortz8ZyZ7nba3S3tNvhiv6Sdc+b85/zf+c9//v+fBWYwgxlMGQymiXZZllzgWn0uLuSYQI5hmLiQzUa2RiJxTBEcpoG18opXifItboGTOMfV95tzu3eQRzumiJpJrpUf7iTnsMXBMZgMQQqyIT9qAIsasEaWQ5SgtcC0PeaqqIkkC35zsa3rBq41aiJJbHdHsa0Sktm8Bt24dmSndXGWtTbhxmYfmoMiAnXO0vt4soDYYBanuodx7PQQpotpkVw0X8KN87xmm1wKOHjebDc2ONFQ78bC+QEsX9yEPYd7TML/KUmDZeKwnS4l6PL7zOd4zPG68eBSnpA8AcMwEqgBNfmkoesH6snxFq1I2FUkaA6xLIKNXgT8AhjDiKAGVLTkxpUrQ5qmSdv37u2qNG6A+3Hjkzd/iknCJXDY8Ozt2LX/dAS/lOlaD5YNlU3S9fAXu3dHaXPM9mkGcTm5LQLPSiOvomT34c927XrfLtfzw9shctrni31qLZEc99Ug8FpIXPpeN20/Jz+8zis61nMsK1cRj3++c2eANthRgjSDMFt5jpFsgiGDpL1Nq1Z12mfnkJty/jXn5VXTJ2kyIN4RZhlGnkC8xIMtTipmkErRjhLd+NhjcrF/Q8dWQtKYKtFooG3LyBwuRP/nCzqcPAvJx084kbOYjmYQwelAc6OI7p70WEldp4VBpEQczDbiK52YJBjbXKI2ShbEbQsCWL18HkTBqp96B3JEbwpH/u6nsbZ0H6zjZpkW+qDCL3UswPOPzscrz96CB+6cZZIeQciuNI/c1qI1yW2n4QUTIEoSU8mvv43sjt58nS++ZkUL3CIPgYQpl8+DlusDWHrXXKx7fAG8bv7AGJKMbkg0pJAbiwZSHdIJwSYfHrh7Nl7suAmzGlw0xNxh10qPXIejrUhUUwrVCMYNw9ERaHsnan+5oX0BLdvAC4KZBFiOg8PphNMtYnZzPd7ddM9YSxKfa6UEaXqjBOkE3mWRbWzw4JmHWsosSTGv48OuRFzZVihoKORyZdZUsgpiFwa2BdreKgtlRNLyT6ZaFcWUfJ59WpZbyVMaGlasIXY0vtO20+PGpUHLShtWrGittFwioWBgIIPB3iEkBpIYiMXR+08/YhcHkc+rqEiB0SOYEMyoJXnwpuI9v/dYOxxnjVxOxf4jl8w2x3Hy+KXq6lwISCIE4s95cuSZZAZqLg8Ha8Dvd6GeuE8lNHd8/CPR1qVrWtkYobDN7h4suTSraePspRTCP59FLpUpCQ8PZ7H9u+MYSigj0uxq+2K3eja1rnsj07nvNxUej9MkRf98dYLZ/3mfhqc2pTsXeV+WKxFVoLQpmWxX0TA6uYD5fCFMCG62y7GkEOwudk6cS+BK7zAuno2ZfxfO9+NyX9q2Q+NYsS2HPgoJvPPLWL+OT7YreP71DGJXdHPsbLeONz/M4ouvFaQzBniO/3QlkR9Pkl4+FcfiF8704vL5Plw614dc+mBZ/DW9do28kiygyctbg52P3j8vpKm66dAO8u3yzZ7uyLme1A53Oh3uisoQWM96MkYtKmuair7By4S8Xlrw/mUcDv066ocMw6Kpfi5ZywzJER36V/KyaNe7bxyQVVVZnUpekdXM3Shk7oHTtw+8eAZe/+wwyzp2QElGmMXRuEnSOL5IVpSGzsEL98njd8GyKoI37A+val8bNxisZ2DY0yYy2RQJvP1mO3iTA3MWGeg9waDvjOVrkq+RxELv+GXR/sRJbHzhCNKpflLdO8E3vIJ87AO4PfVwCh6bGY3XHMpfoU4H5wxzfDYkiANQFT90TTDHnaQvzT2Kb7+vbz1wqG6JKLjLbgHPWxU5GUNoYQMWkgSQ7OFJdufMdx535cLj8B8MCmoeS+7NQPCEkJ/1Jrz5n8Dxoyp0XUUy0beEy6SGNuuiBpfoJ4F0AI0tB0kGsXIpw1qhZ9/B+cjmUmY7UNdYptDnsYzbHJyDRx65FckzJxGP9qAa4sP9yJD1Tp32kpMibqDFcOJ0FEs83BiCqeEr9CnRt1Iua5X2lKid3HhQoizxMb+vvuK4a0SJ6K5e8CdSgyZBimTKksvpwTI5JZc0iVKwduaTQZpsiF6YSpCC1lFJTWLFcTovnZnct479Mtb0+aBWISkWLemp/KuQWsUQKkRizUZUQ00kq0EKimOek4WqeyYc50h10UHXNTSDVhoVhZ556jL+PBoo9TViEabCzyspmv/JMm4vV3GcxD7Yv1juWjxo6uSZpJkL7fq1UT41fQXMYAb/e/wLHp2UNj8YFhMAAAAASUVORK5CYII=",vp="/assets/state2-OBhDDxWe.svg",k$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAa/SURBVHgBvZhfbBRFHMe/s7t3vf6jvWAp/yTHHUgI5V80xggJpYoGJZHomw8WHjUY6ps8Ab5IDAomJvVJ8cUnE2OiL75wTUoiEJPrH7FIS7eFVkCh2z/Xu+ve7jgz2727vZu9blviN5nbmdnd2c/+5je/39wSrED0TsclUNIFkBQo1VnpgWqnkIdOdiZ1PGURLFN0tL0ZpjpVZUQDFCnxArY9JuDnkCL7kwb+N8g7r7Yzy13FssWgQY1F6/eAWDp5LpkKdCeWKTrU0QWFXBKN+peB6DtAdgSwHjjH3DBgp5cx4qLLgPZBsZPIpQ3SdjO1Osi/Oi6z206LRk0CWPseoK136q7sOQY74kBn+oD8A6cdROYj/sv83DpP2m5dWSHkK3yq26UnOSgHrt0DRLaxNitKffE8B827Fh+RwFMX0m1fIbv+OLkCn+yYYiu7OfANHJLDRtgLqK2V8OlrwOTZxcEXGHjZmqT2SQ0B1B471xxCXeyt4/fYorlVCVi7F2j5QG4l7p98ynkplWt17hoFoHzlwxWlU6sE+jQWUsPtCsVeEBpjVtsnjkxjegOk4kDzKcdKfCG5Vir1zfKFlRup9FNqVY5N0V6AfD1+8TQl5BwBbRa+4ToCoYXr9+x5AqnMh8C/3cW2ayV+5NNcxyxd83bx/N9seueuSQbKy0Y3NAfw80sMpouAopri8VkEkmuldBmIC5/xCY+2WdnHEoN2JPHZCVbrQgCtb50v1M1QG2ain0DNj0K1/hFHjRXFesSOOqrCyyT8UWqkPk2B0omAiieKlrS02OJxqyioedFzrQsfWhgU0LxNaLUgb/n0U11j7PuCxKF4fMY7pLqu6vUu/EIJPIcUwOYoQuYgwrkbxRtkUy0YSUojlBjs7iXjXmtrxgsRimG5oqSeuckuUSxzqxdSvmhYt5ZSKKGBknz5yra0OFYjPv1eSafbIPtThsIizBgCKFEy3ZYag03qsBrxBeaRLbGk2PKxa21CAlmydLptpQGrVcjUiw2eDuUSaYotbmtJyPp60wNphndhtVKt0un2ic+KleQHzTRDeo1qoZoSZSs7kr3KpiDN/HKdCEV8FdukHkHF4ykp3XPaPpa0iS6uT+ofGSzj6G5+lkImvJmG+1Mk87Onj7J8nVe3Cmgz3AZbbWELc6t0PIXFT6/kK5vtJ8Usi7RIqd1DCInBR+vKwo90QGaZkD0o4l/pC4h4qTDgkBM3OXw4d917syxGEhTcUFvs0FFFWzaNI20MQ1FroIUbQYgqjkEkMg9GEV644XMFhdQnKR0rg6y+wje0DMLMOnk7l35YBAjVMfAwVK3OU1+WqE+msYnXkoplpqga8hsGN3/fjkMH+ir6LXNeFBPef6vC2opjbecFapkdfPbX1CfTqMWoU0jbryUuTrGGb3r85peX0PKMAWtuAFZ6AHZ2XByDikO7Fle1WuE6At5mM2RLfJ7a+z0Lx+lkfkmwT/aA+jU12LjjgKiH1r7pOecC541eUeeF5qclz7SQX5gVpVQqh9U0ROrWsH8KBRzDBSyDZP97CZFCJnb673jU+t2ilMJzSBfYzoxXhbesnCgLubQAjdQ2FdJhBSRxlrx0b9m6eQ2WI6I1QWs6KIoHyHUTH5fJzs9A01gE0SJ9ckgFKSqJBEePXMex9p+QGemB1nywALASyawu4MYvIDt2walnZtDQWKNLIbNs31aeHvlC6Xz3V1HPTfaz0u15oBLZ4jy4oVhfiSJbPsbCw+8d3zZzYqNbet6zKS9d4Tkzy9z0Ebq/+AEbWoN92+FWLsA37C5Yjvcvpbn+Y8hP9zoNi0Sjhw3DD/JH1nF8Nm2AF1fb4lNYv24O2+NPivXEFILKhS+3ugufm+hG5u4Z52IWZaKHpj1J3xNh+QZ4PjfnAWxsqoPWsAlrE5vRsnszNuzZhB3s2NhUGzz8sD5upYKlFuW6hyfeEvt8+f0eSL4Bns8UP3u8f+YoK2/AT6sOP+XJgJLvoodmr6AaJN8ALzBf5Nq4ZW1VQD/xKczgeUw+jmFoYAK3+1/AxNgT3Puzx99lRCIhX0YPGZdlY3og+Qa42Kr+NcPV5PhjATPJQG7338fN3mHRV6kohu9G0fvbs55eFvaSg3NfHa72jIq/3LsbTxW+P3JL8innmp3O4PbAfQz1TwgYAcZgeH9AGQxIZ9+bUqpt91GF6KqqJVPG5SW/pUsgPzzB3u9bt80XCF88cuv4ierUiXV9bDOtm6aZHMp+rWOFkn68aGs4dY6lybNYWtw6LkzKsq1UOBTWg1hn1ZBc3KKU0k4G245VTNXT0H/8vmamA0sU8wAAAABJRU5ErkJggg==",ov=bi({reducerPath:"stats",baseQuery:wi,endpoints:t=>({getStats:t.query({query:()=>({url:"/stats",method:"GET"}),providesTags:["Stats"]})})}),{useGetStatsQuery:Z8}=ov,I2="/assets/bannerbg-CL3ltOA0.png";function Gue(){return Ze(),d.jsxs(Jt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative w-full mb-8 overflow-hidden rounded-3xl bg-gradient-to-r from-[#433074] to-[#6247AA] p-6 sm:p-8 lg:p-10 text-white mr-4 sm:mr-7",children:[d.jsx("div",{className:"absolute inset-0 z-0",children:d.jsxs("div",{className:"relative h-full w-full",children:[d.jsx("img",{src:I2,alt:"Hero Banner Background",className:"object-cover w-full h-full brightness-75"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#433074]/80 to-[#6247AA]/80 mix-blend-multiply"})]})}),d.jsxs("div",{className:"relative z-20 max-w-xl space-y-6 md:space-y-8",children:[d.jsxs(Jt.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:`text-2xl sm:text-3xl md:text-4xl font-poppins font-medium leading-tight sm:leading-snug md:leading-normal\r
            bg-gradient-to-r from-white to-white/90 bg-clip-text text-transparent`,children:["Manage Schools, Settings,",d.jsx("br",{className:"hidden sm:block"}),"and AI Integrations."]}),d.jsx(Jt.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-sm sm:text-base md:text-lg text-white/90 max-w-prose leading-relaxed",children:"Configure OpenAI keys, manage schools, and customize settings to optimize the platform."}),d.jsxs(Jt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`group relative overflow-hidden rounded-full px-6 py-3 text-xs sm:text-sm md:text-base \r
            bg-gradient-to-r from-[#433074] to-[#6247AA] text-white\r
            hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out\r
            focus:outline-none focus:ring-2 focus:ring-[#6247AA] focus:ring-opacity-50`,children:[d.jsx("span",{className:"relative z-10",children:"MANAGE SETTINGS"}),d.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"})]})]}),d.jsx(Jt.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},transition:{delay:.4,type:"spring"},className:"absolute bottom-0 right-0 h-40 sm:h-48 md:h-52 w-2/5 z-10 items-center justify-center",children:d.jsx("img",{src:Uu,alt:"Admin Image",className:"object-contain w-full h-full transform hover:scale-105 transition-transform duration-300"})})]})}function que(){return d.jsxs(Jt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative w-full mb-8 overflow-hidden rounded-3xl bg-gradient-to-r from-[#433074] to-[#6247AA] p-6 sm:p-8 lg:p-10 text-white mr-4 sm:mr-7",children:[d.jsx("div",{className:"absolute inset-0 z-0",children:d.jsxs("div",{className:"relative h-full w-full",children:[d.jsx("img",{src:I2,alt:"Hero Banner Background",className:"object-cover w-full h-full brightness-75"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#433074]/80 to-[#6247AA]/80 mix-blend-multiply"})]})}),d.jsxs("div",{className:"relative z-20 max-w-xl space-y-6 md:space-y-8",children:[d.jsxs(Jt.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"text-2xl sm:text-3xl md:text-4xl font-poppins font-medium leading-tight sm:leading-snug md:leading-normal",children:["Manage Subjects, Levels, Files,",d.jsx("br",{className:"hidden sm:block"}),"Voice Models, Bots, and Users."]}),d.jsx(Jt.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-sm sm:text-base md:text-lg text-white/90 max-w-prose leading-relaxed",children:"Configure and manage all aspects of the platform, from subjects and levels to AI voice models and user accounts."}),d.jsxs(Jt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`group relative overflow-hidden rounded-full px-6 py-3 text-xs sm:text-sm md:text-base \r
            bg-gradient-to-r from-[#433074] to-[#6247AA] text-white\r
            hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out\r
            focus:outline-none focus:ring-2 focus:ring-[#6247AA] focus:ring-opacity-50`,children:[d.jsx("span",{className:"relative z-10",children:"MANAGE PLATFORM"}),d.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"})]})]}),d.jsx(Jt.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},transition:{delay:.4,type:"spring"},className:"absolute bottom-0 right-0 h-40 sm:h-48 md:h-52 w-2/5 z-10",children:d.jsx("img",{src:Uu,alt:"Admin Image",className:"object-contain w-full h-full transform hover:scale-105 transition-transform duration-300"})})]})}const q4=()=>{var H;const t=Ze(),{user:e}=dn(),[r,n]=S.useState(1),[i,s]=S.useState(10),[o,a]=S.useState(!1),l=(e==null?void 0:e.role)===le.SUPER_ADMIN,c=(e==null?void 0:e.role)===le.SUPER_INTENDENT,u=(e==null?void 0:e.role)===le.ADMIN,{data:A,error:h,isError:f,isLoading:p,refetch:m}=GR({page:r,limit:i},{skip:!(l||c)}),{data:y,error:g,isError:v,isLoading:x,refetch:b}=Yse({page:r,limit:i},{skip:!u});S.useEffect(()=>{u&&b(),l&&m(),c&&m()},[]);const{data:w,isLoading:C,isError:B,error:_,refetch:k}=Z8();S.useEffect(()=>{k()},[]);const E=l||c?A:u?y:null,F=l||c?p:u?x:!1,M=l||c?f:u?v:!1,T=l||c?h:u?g:null,Q=()=>{t("/admin/bots")},P=(E==null?void 0:E.totalPages)||1;return F||C?d.jsx("div",{className:"text-center py-8",children:"Loading..."}):M||B?d.jsx("div",{className:"text-red-500 text-center py-8",children:d.jsx("p",{children:((H=T==null?void 0:T.data)==null?void 0:H.message)||(_==null?void 0:_.message)||"Error loading data. Please try again."})}):(console.log("botsData",E),d.jsxs("div",{className:"flex-1 p-6",children:[l?d.jsx(Gue,{}):d.jsx(que,{}),d.jsxs("section",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[d.jsx($i,{className:"text-[#6F38DE]"}),"Bots"]}),u&&d.jsx("button",{onClick:Q,className:`inline-flex items-center px-4 py-2 text-sm font-medium text-[#6F38DE] \r
                     bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors duration-200`,children:o?"View Less":"View All"})]}),d.jsx("div",{className:"w-full",children:(E==null?void 0:E.bots.length)===0?d.jsx("p",{className:"text-center text-gray-500 py-8",children:"No bots available."}):d.jsx("div",{className:"py-8",children:d.jsx(J8,{bots:E==null?void 0:E.bots})})}),E&&(E==null?void 0:E.bots.length)>0&&d.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[d.jsx("select",{value:i,onChange:I=>{s(Number(I.target.value)),n(1)},className:"border border-gray-300 rounded-md text-sm px-2 py-1 focus:outline-none focus:ring-2 focus:ring-[#6F38DE] focus:border-transparent",children:[10,20,50,100].map(I=>d.jsxs("option",{value:I,children:[I," per page"]},I))}),d.jsx("div",{className:"flex gap-1",children:Array.from({length:P},(I,L)=>L+1).map(I=>d.jsx("button",{onClick:()=>n(I),className:`px-3 py-1 rounded-md text-sm font-medium ${r===I?"bg-gradient-to-r from-[#6F38DE] to-[#3C1589] text-white":"text-gray-700 hover:bg-gray-100"}`,children:I},I))})]})]}),d.jsxs("div",{className:"mt-0",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsx("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2 mt-5",children:"Activity Stats"})}),d.jsx("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-4 gap-4",children:C?d.jsx("p",{children:"Loading statistics..."}):B?d.jsxs("p",{className:"text-red-500",children:["Error: ",_==null?void 0:_.message]}):d.jsxs(d.Fragment,{children:[l&&d.jsxs(d.Fragment,{children:[d.jsx(fr,{statTitle:"Districts",statValue:(w==null?void 0:w.districts)||0,icon:yp}),d.jsx(fr,{statTitle:"Super Intendents",statValue:(w==null?void 0:w.super_intendents)||0,icon:Vs}),d.jsx(fr,{statTitle:"Bots",statValue:(w==null?void 0:w.bots)||0,icon:vp}),d.jsx(fr,{statTitle:"Levels",statValue:(w==null?void 0:w.levels)||0,icon:yp}),d.jsx(fr,{statTitle:"Subjects",statValue:(w==null?void 0:w.subjects)||0,icon:Vs})]}),c&&d.jsxs(d.Fragment,{children:[d.jsx(fr,{statTitle:"Principals",statValue:(w==null?void 0:w.principals)||0,icon:Vs}),d.jsx(fr,{statTitle:"Schools",statValue:(w==null?void 0:w.schools)||0,icon:Vs}),d.jsx(fr,{statTitle:"Teachers",statValue:(w==null?void 0:w.teachers)||0,icon:Vs}),d.jsx(fr,{statTitle:"Students",statValue:(w==null?void 0:w.students)||0,icon:Vs})]}),u&&d.jsxs(d.Fragment,{children:[d.jsx(fr,{statTitle:`Teachers (Subjects: ${(w==null?void 0:w.teachers_subjects)||0})`,statValue:(w==null?void 0:w.teachers)||0,icon:Vs}),d.jsx(fr,{statTitle:"Students",statValue:(w==null?void 0:w.students)||0,icon:vp}),d.jsx(fr,{statTitle:"Bots",statValue:(w==null?void 0:w.bots)||0,icon:k$}),d.jsx(fr,{statTitle:"Levels",statValue:(w==null?void 0:w.levels)||0,icon:yp}),d.jsx(fr,{statTitle:"Student Subjects",statValue:(w==null?void 0:w.students_subjects)||0,icon:Vs}),d.jsx(fr,{statTitle:"Quizzes",statValue:(w==null?void 0:w.quizzes)||0,icon:vp})]})]})})]})]}))},Nf=bi({reducerPath:"file",baseQuery:wi,endpoints:t=>({getFiles:t.query({query:({page:e,limit:r})=>{const n={};return e!==void 0&&(n.page=e),r!==void 0&&(n.limit=r),{url:"/context-data/files",method:"GET",params:n}},meta:{skipToken:!1,skipHeaders:!1}}),createFile:t.mutation({query:e=>({url:"/context-data/upload",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),deleteFile:t.mutation({query:e=>({url:"/context-data/delete",method:"DELETE",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getFilesBySubject:t.mutation({query:e=>({url:"/context-data/files-by-subject",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}})})}),{useGetFilesBySubjectMutation:Xue,useGetFilesQuery:E$,useCreateFileMutation:F7e,useDeleteFileMutation:Yue}=Nf;class Jue{static async CreateBot(e,r){const n={"Content-Type":"multipart/form-data",token:localStorage.getItem("accessToken")};return JS((i,s,o)=>et.post(i,s,o),e,`${Zt}/bot/create-bot`,n,r)}}const av=bi({reducerPath:"level",baseQuery:wi,endpoints:t=>({getLevel:t.mutation({query:e=>({url:"/level/get-level",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getAllLevels:t.query({query:({page:e,limit:r}={})=>{const n={};return e!==void 0&&(n.page=e),r!==void 0&&(n.limit=r),{url:"/level/get-all-levels",method:"GET",params:n}},meta:{skipToken:!1,skipHeaders:!1}}),createLevel:t.mutation({query:e=>({url:"/level/create-level",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),updateLevel:t.mutation({query:e=>({url:"/level/update-level",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}})})}),{useGetLevelMutation:Zue,useGetAllLevelsQuery:tc,useCreateLevelMutation:eAe,useUpdateLevelMutation:tAe}=av,og=({label:t,icon:e,error:r,...n})=>d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[e&&d.jsx(e,{className:"text-[#6925EF] w-4 h-4"}),t]}),n.type==="textarea"?d.jsx("textarea",{...n,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20 transition-all duration-200"}):d.jsx("input",{...n,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20 transition-all duration-200"})]}),rAe=()=>{var ie,Ae,G,ae;const t=n0(),[e,r]=S.useState(""),[n,i]=S.useState(""),[s,o]=S.useState(""),[a,l]=S.useState(""),[c,u]=S.useState(""),[A,h]=S.useState(""),[f,p]=S.useState(null),[m,y]=S.useState(""),[g,v]=S.useState(""),[x,b]=S.useState(""),[w,C]=S.useState(null),[B,_]=S.useState(),{data:k,refetch:E,isLoading:F}=tc(),{data:M,isLoading:T}=X8(),[Q,{isLoading:P}]=N2(),[H,{data:I,isLoading:L}]=Xue();S.useEffect(()=>{E()},[]);const R=z=>{const q=z.target.value,K=I==null?void 0:I.files.find(ze=>ze.slug===q);K&&(p(K),b(K.file_name))},V=async z=>{const q=z.target.value;v(q);try{await H({subject_id:Number(q)}).unwrap()}catch{$.error("Failed to fetch files for the selected subject.")}},Y=async z=>{const q=z.target.value;y(q);try{const K=await Q({level_id:Number(q)}).unwrap();(K==null?void 0:K.statusCode)===200&&_(K==null?void 0:K.data)}catch{$.error("Failed to fetch subjects for the selected level.")}},re=z=>{const q=z.target.files[0];q&&q.type.startsWith("image/")?C(q):$.error("Please upload a valid image file.")},se=async z=>{var K,ze,Ie,jt,Fn;z.preventDefault();const q=new FormData;q.append("name",e),q.append("description",s),q.append("first_message",a),q.append("ai_model",c),q.append("voice_model",A),q.append("file_id",Number(f==null?void 0:f.id)),q.append("display_name",n),q.append("level_id",Number(m)),q.append("subject_id",Number(g)),q.append("image",w);try{const Wr=await Jue.CreateBot(q,t);((K=Wr==null?void 0:Wr.data)==null?void 0:K.statusCode)===200&&($.success("Bot created successfully"),r(""),i(""),o(""),p(null),u(""),h(""),y(""),v(""),C(null))}catch(Wr){$.error(((Ie=(ze=Wr==null?void 0:Wr.response)==null?void 0:ze.data)==null?void 0:Ie.message)||((Fn=(jt=Wr==null?void 0:Wr.response)==null?void 0:jt.data)==null?void 0:Fn.error)||"Failed to create Bot dfgdfg")}};return d.jsx("div",{className:"min-h-screen bg-gray-50",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[d.jsx($i,{className:"text-[#6925EF]"}),"Create AI Chat Bot"]}),d.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Configure your new AI chatbot with the required information"})]}),d.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:d.jsx("div",{className:"p-6 space-y-6",children:d.jsxs("form",{onSubmit:se,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx(og,{label:"Bot Name",icon:$i,type:"text",value:e,onChange:z=>r(z.target.value),placeholder:"Enter bot name",required:!0}),d.jsx(og,{label:"Display Name",icon:Ox,type:"text",value:n,onChange:z=>i(z.target.value),placeholder:"Enter display name",required:!0}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(y5,{className:"text-[#6925EF] w-4 h-4"}),"Select AI Model"]}),d.jsxs("select",{value:c,onChange:z=>u(z.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[d.jsx("option",{value:"",children:"Select AI Model"}),zy==null?void 0:zy.map((z,q)=>d.jsx("option",{value:z,children:z},q))]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(y5,{className:"text-[#6925EF] w-4 h-4"}),"Select Deepgram Model"]}),d.jsxs("select",{value:A,onChange:z=>h(z.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[d.jsx("option",{value:"",children:T?"Loading...":"Select Deepgram Model"}),T?d.jsx("option",{children:"Loading..."}):(Ae=(ie=M==null?void 0:M.api)==null?void 0:ie.tts)==null?void 0:Ae.map((z,q)=>d.jsx("option",{value:z.uuid,children:z.name},q))]})]}),d.jsx(og,{label:"Bot Description",icon:qy,type:"textarea",value:s,onChange:z=>o(z.target.value),rows:"4",placeholder:"Enter bot description",required:!0}),d.jsx(og,{label:"Bot First Message",icon:qy,type:"textarea",value:a,onChange:z=>l(z.target.value),rows:"2",placeholder:"Enter bot first message",required:!0}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(d8,{className:"text-[#6925EF] w-4 h-4"}),"Select Level"]}),d.jsxs("select",{value:m,onChange:Y,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[d.jsx("option",{value:"",children:F?"Loading...":"Select Level"}),(G=k==null?void 0:k.data)==null?void 0:G.map(({id:z,level:q})=>d.jsx("option",{value:z,children:q},z))]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(Ox,{className:"text-[#6925EF] w-4 h-4"}),"Select Subject"]}),d.jsxs("select",{value:g,onChange:V,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",disabled:!m,required:!0,children:[d.jsx("option",{value:"",children:P?"Loading...":"Select Subject"}),B==null?void 0:B.map(({id:z,title:q})=>d.jsx("option",{value:z,children:q},z))]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(qy,{className:"text-[#6925EF] w-4 h-4"}),"Choose File"]}),d.jsxs("select",{value:f?f.slug:"",onChange:R,disabled:!g,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[d.jsx("option",{value:"",children:L?"Loading...":"Select a file"}),(ae=I==null?void 0:I.files)==null?void 0:ae.map(({file_name:z,slug:q,id:K})=>d.jsx("option",{value:q,children:z},K))]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(Ese,{className:"text-[#6925EF] w-4 h-4"}),"Bot Image"]}),d.jsx("input",{type:"file",onChange:re,accept:"image/*",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0})]}),d.jsx("div",{className:"pt-4",children:d.jsxs("button",{type:"submit",className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium",children:[d.jsx($i,{className:"w-5 h-5"}),"Create Bot"]})})]})})})]})})},lv=bi({reducerPath:"profile",baseQuery:wi,endpoints:t=>({getProfile:t.query({query:({role:e,id:r,payload:n})=>{let i="",s="GET",o;switch(console.log("role",e=="user"),e){case"superadmin":i="/profile/get-superadmin-profile";break;case"admin":i=`/profile/get-admin-profile/${r}`;break;case"teacher":i="/profile/get-teacher-profile",s="POST",o=n;break;case"user":i="/profile/get-student-profile",s="POST",o=n;break;case"parent":i=`/profile/get-parent-profile/${r}`;break;default:throw new Error("Invalid role")}return{url:i,method:s,body:o}}}),updateProfile:t.mutation({query:({role:e,...r})=>{let n="";switch(e){case"superadmin":n="/profile/update-superadmin-profile";break;case"admin":n="/profile/update-admin-profile";break;case"teacher":n="/profile/fill-teacher-profile";break;case"student":n="/profile/fill-student-profile";break;default:throw new Error("Invalid role")}return{url:n,method:"PUT",body:r}}}),updateSuperAdminProfile:t.mutation({query:e=>({url:"/profile/update-superadmin-profile",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getSuperAdminProfile:t.query({query:e=>({url:"/profile/get-superadmin-profile",method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}}),updateSchoolAssignmnet:t.mutation({query:e=>({url:"/profile/update-school-assignment",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),updateAdminProfile:t.mutation({query:e=>({url:"/profile/update-admin-profile",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getAdminProfile:t.query({query:e=>({url:`/profile/get-admin-profile/${e.admin_id}`,method:"GET"})}),getAllSuperIntendentsProfile:t.query({query:()=>({url:"/profile/get-all-super-intendents",method:"GET"})}),getAllAdminProfile:t.query({query:()=>({url:"/profile/get-all-admins",method:"GET"})}),getParentProfile:t.query({query:e=>({url:`/profile/get-parent-profile/${e}`,method:"GET"})}),deleteJoinTeacherSubjectLevel:t.mutation({query:e=>({url:"/profile/delete-join-teacher-subject-level",method:"DELETE",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),createJoinTeacherSubjectLevel:t.mutation({query:e=>({url:"/profile/create-join-teacher-subject-level",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getAllJoinTeacherSubjectLevel:t.mutation({query:e=>({url:"/profile/get-join-teacher-subject-level",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getTeacherProfile:t.mutation({query:e=>({url:"/profile/get-teacher-profile",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),fillProfile:t.mutation({query:e=>({url:"/profile/fill-profile",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getAllChildren:t.query({query:()=>({url:"/profile/get-all-children",method:"GET"})}),getStudentById:t.query({query:e=>({url:`/profile/get-student/${e}`,method:"GET"})}),getChildrenById:t.query({query:e=>({url:`/profile/get-children/${e}`,method:"GET"})}),getStudentProfile:t.mutation({query:e=>({url:"/profile/get-student-profile",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getStudentsByLevel:t.query({query:e=>({url:"/profile/get-students-by-level",method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}})})}),{useGetAllSuperIntendentsProfileQuery:nAe,useGetStudentByIdQuery:iAe,useGetProfileQuery:M7e,useUpdateProfileMutation:T7e,useGetParentProfileQuery:D7e,useGetSuperAdminProfileQuery:sAe,useUpdateSuperAdminProfileMutation:oAe,useGetStudentsByLevelQuery:aAe,useCreateJoinTeacherSubjectLevelMutation:F$,useDeleteJoinTeacherSubjectLevelMutation:lAe,useGetAllJoinTeacherSubjectLevelMutation:L7e,useFillTeacherProfileMutation:j7e,useFillProfileMutation:ek,useUpdateSchoolAssignmnetMutation:cAe,useGetTeacherProfileMutation:O7e,useUpdateAdminProfileMutation:N7e,useGetAdminProfileQuery:I7e,useGetAllAdminProfileQuery:uAe,useFillStudentProfileMutation:U7e,useGetStudentProfileMutation:P7e,useGetAllChildrenQuery:AAe,useGetChildrenByIdQuery:dAe}=lv;function hAe({studentProfile:t,profileRefetch:e}){var B,_,k,E,F;console.info("studentprfile",t);const{user_id:r}=dr(),[n,i]=S.useState(t==null?void 0:t.level_id),[s,o]=S.useState(t==null?void 0:t.user_roll_no),[a,l]=S.useState(t==null?void 0:t.parent_id);S.useEffect(()=>{t!=null&&t.level_id&&i(t==null?void 0:t.level_id)},[t==null?void 0:t.level_id]),S.useEffect(()=>{t!=null&&t.parent_id&&l(t==null?void 0:t.parent_id)},[t==null?void 0:t.parent_id]),S.useEffect(()=>{t!=null&&t.user_roll_no&&o(t==null?void 0:t.user_roll_no)},[t==null?void 0:t.user_roll_no]);const[c,{isError:u,error:A}]=ek(),{data:h,isLoading:f,isError:p,error:m,refetch:y}=tc(),{data:g,isLoading:v,isError:x,error:b,refetch:w}=c8({page:1,limit:1e16});S.useEffect(()=>{y(),w()},[]);const C=async M=>{M.preventDefault();try{const T=await c({level_id:Number(n),user_roll_no:s,user_id:Number(r),parent_id:Number(a),role:le.USER}).unwrap();(T==null?void 0:T.statusCode)==200?($.success("Student Profile updated successfully"),e()):$.error((T==null?void 0:T.message)||"Update failed")}catch{$.error("Error updating student profile")}};return d.jsx(d.Fragment,{children:d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[d.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Student Profile"})}),d.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Level"}),f?d.jsx("p",{children:"Loading levels..."}):p?d.jsxs("p",{className:"text-red-500",children:["Error loading levels: ",((B=m==null?void 0:m.data)==null?void 0:B.message)||"Unknown error"]}):d.jsxs("select",{value:n,onChange:M=>i(M.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[d.jsx("option",{value:"",disabled:!0,children:"Select Level"}),(_=h==null?void 0:h.data)==null?void 0:_.map(M=>d.jsxs("option",{value:M.id,children:[M.level.charAt(0).toUpperCase()+M.level.slice(1)," - ",M.description]},M.id))]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Parent"}),f?d.jsx("p",{children:"Loading Parents..."}):p?d.jsxs("p",{className:"text-red-500",children:["Error loading Parents: ",((k=b==null?void 0:b.data)==null?void 0:k.message)||"Unknown error"]}):d.jsxs("select",{value:a,onChange:M=>l(M.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[d.jsx("option",{value:"",disabled:!0,children:"Select Parent"}),(E=g==null?void 0:g.users)==null?void 0:E.map(M=>d.jsx("option",{value:M.id,children:M==null?void 0:M.email},M.id))]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Roll Number"}),d.jsx("input",{type:"text",value:s,onChange:M=>o(M.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0})]}),u&&d.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg text-sm",children:((F=A==null?void 0:A.data)==null?void 0:F.message)||"An error occurred"}),d.jsx("button",{type:"submit",className:"w-full px-4 py-2.5 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90",children:"Update Student Profile"})]})]})})}function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function fAe(t,e){if(Fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M$(t){var e=fAe(t,"string");return Fu(e)=="symbol"?e:e+""}function If(t,e,r){return(e=M$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m9(Object(r),!0).forEach(function(n){If(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pAe(t){if(Array.isArray(t))return t}function mAe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function U5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function T$(t,e){if(t){if(typeof t=="string")return U5(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U5(t,e):void 0}}function gAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zo(t,e){return pAe(t)||mAe(t,e)||T$(t,e)||gAe()}function yAe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}function ma(t,e){if(t==null)return{};var r,n,i=yAe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var vAe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function xAe(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,i=n===void 0?!1:n,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,c=t.onChange,u=t.onInputChange,A=t.onMenuClose,h=t.onMenuOpen,f=t.value,p=ma(t,vAe),m=S.useState(a!==void 0?a:r),y=Zo(m,2),g=y[0],v=y[1],x=S.useState(l!==void 0?l:i),b=Zo(x,2),w=b[0],C=b[1],B=S.useState(f!==void 0?f:o),_=Zo(B,2),k=_[0],E=_[1],F=S.useCallback(function(L,R){typeof c=="function"&&c(L,R),E(L)},[c]),M=S.useCallback(function(L,R){var V;typeof u=="function"&&(V=u(L,R)),v(V!==void 0?V:L)},[u]),T=S.useCallback(function(){typeof h=="function"&&h(),C(!0)},[h]),Q=S.useCallback(function(){typeof A=="function"&&A(),C(!1)},[A]),P=a!==void 0?a:g,H=l!==void 0?l:w,I=f!==void 0?f:k;return _e(_e({},p),{},{inputValue:P,menuIsOpen:H,onChange:F,onInputChange:M,onMenuClose:Q,onMenuOpen:T,value:I})}function Fe(){return Fe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fe.apply(null,arguments)}function bAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M$(n.key),n)}}function wAe(t,e,r){return g9(t.prototype,e),g9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function P5(t,e){return P5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},P5(t,e)}function CAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P5(t,e)}function $x(t){return $x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$x(t)}function D$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D$=function(){return!!t})()}function BAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _Ae(t,e){if(e&&(Fu(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BAe(t)}function SAe(t){var e=D$();return function(){var r,n=$x(t);if(e){var i=$x(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _Ae(this,r)}}function kAe(t){if(Array.isArray(t))return U5(t)}function EAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tk(t){return kAe(t)||EAe(t)||T$(t)||FAe()}var MAe=!1;function TAe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function DAe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var LAe=function(){function t(r){var n=this;this._insertTag=function(i){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,s),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!MAe:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(DAe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=TAe(i);try{s.insertRule(n,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Yr="-ms-",Vx="-moz-",tt="-webkit-",L$="comm",rk="rule",nk="decl",jAe="@import",j$="@keyframes",OAe="@layer",NAe=Math.abs,U2=String.fromCharCode,IAe=Object.assign;function UAe(t,e){return Pr(t,0)^45?(((e<<2^Pr(t,0))<<2^Pr(t,1))<<2^Pr(t,2))<<2^Pr(t,3):0}function O$(t){return t.trim()}function PAe(t,e){return(t=e.exec(t))?t[0]:t}function it(t,e,r){return t.replace(e,r)}function Q5(t,e){return t.indexOf(e)}function Pr(t,e){return t.charCodeAt(e)|0}function bm(t,e,r){return t.slice(e,r)}function Gs(t){return t.length}function ik(t){return t.length}function ag(t,e){return e.push(t),t}function QAe(t,e){return t.map(e).join("")}var P2=1,zd=1,N$=0,Yn=0,lr=0,fh="";function Q2(t,e,r,n,i,s,o){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:P2,column:zd,length:o,return:""}}function Rh(t,e){return IAe(Q2("",null,null,"",null,null,0),t,{length:-t.length},e)}function RAe(){return lr}function HAe(){return lr=Yn>0?Pr(fh,--Yn):0,zd--,lr===10&&(zd=1,P2--),lr}function fi(){return lr=Yn<N$?Pr(fh,Yn++):0,zd++,lr===10&&(zd=1,P2++),lr}function co(){return Pr(fh,Yn)}function cv(){return Yn}function m0(t,e){return bm(fh,t,e)}function wm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function I$(t){return P2=zd=1,N$=Gs(fh=t),Yn=0,[]}function U$(t){return fh="",t}function uv(t){return O$(m0(Yn-1,R5(t===91?t+2:t===40?t+1:t)))}function $Ae(t){for(;(lr=co())&&lr<33;)fi();return wm(t)>2||wm(lr)>3?"":" "}function VAe(t,e){for(;--e&&fi()&&!(lr<48||lr>102||lr>57&&lr<65||lr>70&&lr<97););return m0(t,cv()+(e<6&&co()==32&&fi()==32))}function R5(t){for(;fi();)switch(lr){case t:return Yn;case 34:case 39:t!==34&&t!==39&&R5(lr);break;case 40:t===41&&R5(t);break;case 92:fi();break}return Yn}function KAe(t,e){for(;fi()&&t+lr!==57;)if(t+lr===84&&co()===47)break;return"/*"+m0(e,Yn-1)+"*"+U2(t===47?t:fi())}function zAe(t){for(;!wm(co());)fi();return m0(t,Yn)}function WAe(t){return U$(Av("",null,null,null,[""],t=I$(t),0,[0],t))}function Av(t,e,r,n,i,s,o,a,l){for(var c=0,u=0,A=o,h=0,f=0,p=0,m=1,y=1,g=1,v=0,x="",b=i,w=s,C=n,B=x;y;)switch(p=v,v=fi()){case 40:if(p!=108&&Pr(B,A-1)==58){Q5(B+=it(uv(v),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:B+=uv(v);break;case 9:case 10:case 13:case 32:B+=$Ae(p);break;case 92:B+=VAe(cv()-1,7);continue;case 47:switch(co()){case 42:case 47:ag(GAe(KAe(fi(),cv()),e,r),l);break;default:B+="/"}break;case 123*m:a[c++]=Gs(B)*g;case 125*m:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+u:g==-1&&(B=it(B,/\f/g,"")),f>0&&Gs(B)-A&&ag(f>32?v9(B+";",n,r,A-1):v9(it(B," ","")+";",n,r,A-2),l);break;case 59:B+=";";default:if(ag(C=y9(B,e,r,c,u,i,a,x,b=[],w=[],A),s),v===123)if(u===0)Av(B,e,C,C,b,s,A,a,w);else switch(h===99&&Pr(B,3)===110?100:h){case 100:case 108:case 109:case 115:Av(t,C,C,n&&ag(y9(t,C,C,0,0,i,a,x,i,b=[],A),w),i,w,A,a,n?b:w);break;default:Av(B,C,C,C,[""],w,0,a,w)}}c=u=f=0,m=g=1,x=B="",A=o;break;case 58:A=1+Gs(B),f=p;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&HAe()==125)continue}switch(B+=U2(v),v*m){case 38:g=u>0?1:(B+="\f",-1);break;case 44:a[c++]=(Gs(B)-1)*g,g=1;break;case 64:co()===45&&(B+=uv(fi())),h=co(),u=A=Gs(x=B+=zAe(cv())),v++;break;case 45:p===45&&Gs(B)==2&&(m=0)}}return s}function y9(t,e,r,n,i,s,o,a,l,c,u){for(var A=i-1,h=i===0?s:[""],f=ik(h),p=0,m=0,y=0;p<n;++p)for(var g=0,v=bm(t,A+1,A=NAe(m=o[p])),x=t;g<f;++g)(x=O$(m>0?h[g]+" "+v:it(v,/&\f/g,h[g])))&&(l[y++]=x);return Q2(t,e,r,i===0?rk:a,l,c,u)}function GAe(t,e,r){return Q2(t,e,r,L$,U2(RAe()),bm(t,2,-2),0)}function v9(t,e,r,n){return Q2(t,e,r,nk,bm(t,0,n),bm(t,n+1,-1),n)}function xd(t,e){for(var r="",n=ik(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function qAe(t,e,r,n){switch(t.type){case OAe:if(t.children.length)break;case jAe:case nk:return t.return=t.return||t.value;case L$:return"";case j$:return t.return=t.value+"{"+xd(t.children,n)+"}";case rk:t.value=t.props.join(",")}return Gs(r=xd(t.children,n))?t.return=t.value+"{"+r+"}":""}function XAe(t){var e=ik(t);return function(r,n,i,s){for(var o="",a=0;a<e;a++)o+=t[a](r,n,i,s)||"";return o}}function YAe(t){return function(e){e.root||(e=e.return)&&t(e)}}function JAe(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var ZAe=function(e,r,n){for(var i=0,s=0;i=s,s=co(),i===38&&s===12&&(r[n]=1),!wm(s);)fi();return m0(e,Yn)},ede=function(e,r){var n=-1,i=44;do switch(wm(i)){case 0:i===38&&co()===12&&(r[n]=1),e[n]+=ZAe(Yn-1,r,n);break;case 2:e[n]+=uv(i);break;case 4:if(i===44){e[++n]=co()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=U2(i)}while(i=fi());return e},tde=function(e,r){return U$(ede(I$(e),r))},x9=new WeakMap,rde=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!x9.get(n))&&!i){x9.set(e,!0);for(var s=[],o=tde(r,s),a=n.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},nde=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function P$(t,e){switch(UAe(t,e)){case 5103:return tt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return tt+t+Vx+t+Yr+t+t;case 6828:case 4268:return tt+t+Yr+t+t;case 6165:return tt+t+Yr+"flex-"+t+t;case 5187:return tt+t+it(t,/(\w+).+(:[^]+)/,tt+"box-$1$2"+Yr+"flex-$1$2")+t;case 5443:return tt+t+Yr+"flex-item-"+it(t,/flex-|-self/,"")+t;case 4675:return tt+t+Yr+"flex-line-pack"+it(t,/align-content|flex-|-self/,"")+t;case 5548:return tt+t+Yr+it(t,"shrink","negative")+t;case 5292:return tt+t+Yr+it(t,"basis","preferred-size")+t;case 6060:return tt+"box-"+it(t,"-grow","")+tt+t+Yr+it(t,"grow","positive")+t;case 4554:return tt+it(t,/([^-])(transform)/g,"$1"+tt+"$2")+t;case 6187:return it(it(it(t,/(zoom-|grab)/,tt+"$1"),/(image-set)/,tt+"$1"),t,"")+t;case 5495:case 3959:return it(t,/(image-set\([^]*)/,tt+"$1$`$1");case 4968:return it(it(t,/(.+:)(flex-)?(.*)/,tt+"box-pack:$3"+Yr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tt+t+t;case 4095:case 3583:case 4068:case 2532:return it(t,/(.+)-inline(.+)/,tt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Gs(t)-1-e>6)switch(Pr(t,e+1)){case 109:if(Pr(t,e+4)!==45)break;case 102:return it(t,/(.+:)(.+)-([^]+)/,"$1"+tt+"$2-$3$1"+Vx+(Pr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Q5(t,"stretch")?P$(it(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Pr(t,e+1)!==115)break;case 6444:switch(Pr(t,Gs(t)-3-(~Q5(t,"!important")&&10))){case 107:return it(t,":",":"+tt)+t;case 101:return it(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tt+(Pr(t,14)===45?"inline-":"")+"box$3$1"+tt+"$2$3$1"+Yr+"$2box$3")+t}break;case 5936:switch(Pr(t,e+11)){case 114:return tt+t+Yr+it(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return tt+t+Yr+it(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return tt+t+Yr+it(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return tt+t+Yr+t+t}return t}var ide=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case nk:e.return=P$(e.value,e.length);break;case j$:return xd([Rh(e,{value:it(e.value,"@","@"+tt)})],i);case rk:if(e.length)return QAe(e.props,function(s){switch(PAe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return xd([Rh(e,{props:[it(s,/:(read-\w+)/,":"+Vx+"$1")]})],i);case"::placeholder":return xd([Rh(e,{props:[it(s,/:(plac\w+)/,":"+tt+"input-$1")]}),Rh(e,{props:[it(s,/:(plac\w+)/,":"+Vx+"$1")]}),Rh(e,{props:[it(s,/:(plac\w+)/,Yr+"input-$1")]})],i)}return""})}},sde=[ide],ode=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||sde,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),g=1;g<y.length;g++)s[y[g]]=!0;a.push(m)});var l,c=[rde,nde];{var u,A=[qAe,YAe(function(m){u.insert(m)})],h=XAe(c.concat(i,A)),f=function(y){return xd(WAe(y),h)};l=function(y,g,v,x){u=v,f(y?y+"{"+g.styles+"}":g.styles),x&&(p.inserted[g.name]=!0)}}var p={key:r,sheet:new LAe({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p},Q$={exports:{}},ht={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lr=typeof Symbol=="function"&&Symbol.for,sk=Lr?Symbol.for("react.element"):60103,ok=Lr?Symbol.for("react.portal"):60106,R2=Lr?Symbol.for("react.fragment"):60107,H2=Lr?Symbol.for("react.strict_mode"):60108,$2=Lr?Symbol.for("react.profiler"):60114,V2=Lr?Symbol.for("react.provider"):60109,K2=Lr?Symbol.for("react.context"):60110,ak=Lr?Symbol.for("react.async_mode"):60111,z2=Lr?Symbol.for("react.concurrent_mode"):60111,W2=Lr?Symbol.for("react.forward_ref"):60112,G2=Lr?Symbol.for("react.suspense"):60113,ade=Lr?Symbol.for("react.suspense_list"):60120,q2=Lr?Symbol.for("react.memo"):60115,X2=Lr?Symbol.for("react.lazy"):60116,lde=Lr?Symbol.for("react.block"):60121,cde=Lr?Symbol.for("react.fundamental"):60117,ude=Lr?Symbol.for("react.responder"):60118,Ade=Lr?Symbol.for("react.scope"):60119;function Ci(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case sk:switch(t=t.type,t){case ak:case z2:case R2:case $2:case H2:case G2:return t;default:switch(t=t&&t.$$typeof,t){case K2:case W2:case X2:case q2:case V2:return t;default:return e}}case ok:return e}}}function R$(t){return Ci(t)===z2}ht.AsyncMode=ak;ht.ConcurrentMode=z2;ht.ContextConsumer=K2;ht.ContextProvider=V2;ht.Element=sk;ht.ForwardRef=W2;ht.Fragment=R2;ht.Lazy=X2;ht.Memo=q2;ht.Portal=ok;ht.Profiler=$2;ht.StrictMode=H2;ht.Suspense=G2;ht.isAsyncMode=function(t){return R$(t)||Ci(t)===ak};ht.isConcurrentMode=R$;ht.isContextConsumer=function(t){return Ci(t)===K2};ht.isContextProvider=function(t){return Ci(t)===V2};ht.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===sk};ht.isForwardRef=function(t){return Ci(t)===W2};ht.isFragment=function(t){return Ci(t)===R2};ht.isLazy=function(t){return Ci(t)===X2};ht.isMemo=function(t){return Ci(t)===q2};ht.isPortal=function(t){return Ci(t)===ok};ht.isProfiler=function(t){return Ci(t)===$2};ht.isStrictMode=function(t){return Ci(t)===H2};ht.isSuspense=function(t){return Ci(t)===G2};ht.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===R2||t===z2||t===$2||t===H2||t===G2||t===ade||typeof t=="object"&&t!==null&&(t.$$typeof===X2||t.$$typeof===q2||t.$$typeof===V2||t.$$typeof===K2||t.$$typeof===W2||t.$$typeof===cde||t.$$typeof===ude||t.$$typeof===Ade||t.$$typeof===lde)};ht.typeOf=Ci;Q$.exports=ht;var dde=Q$.exports,H$=dde,hde={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},fde={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},$$={};$$[H$.ForwardRef]=hde;$$[H$.Memo]=fde;var pde=!0;function mde(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(n+=i+" ")}),n}var V$=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||pde===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},gde=function(e,r,n){V$(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function yde(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var vde={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xde=/[A-Z]|^ms/g,bde=/_EMO_([^_]+?)_([^]*?)_EMO_/g,K$=function(e){return e.charCodeAt(1)===45},b9=function(e){return e!=null&&typeof e!="boolean"},X4=JAe(function(t){return K$(t)?t:t.replace(xde,"-$&").toLowerCase()}),w9=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(bde,function(n,i,s){return qs={name:i,styles:s,next:qs},i})}return vde[e]!==1&&!K$(e)&&typeof r=="number"&&r!==0?r+"px":r};function Cm(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return qs={name:i.name,styles:i.styles,next:qs},i.name;var s=r;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)qs={name:o.name,styles:o.styles,next:qs},o=o.next;var a=s.styles+";";return a}return wde(t,e,r)}case"function":{if(t!==void 0){var l=qs,c=r(t);return qs=l,Cm(t,e,c)}break}}var u=r;return u}function wde(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Cm(t,e,r[i])+";";else for(var s in r){var o=r[s];if(typeof o!="object"){var a=o;b9(a)&&(n+=X4(s)+":"+w9(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var l=0;l<o.length;l++)b9(o[l])&&(n+=X4(s)+":"+w9(s,o[l])+";");else{var c=Cm(t,e,o);switch(s){case"animation":case"animationName":{n+=X4(s)+":"+c+";";break}default:n+=s+"{"+c+"}"}}}return n}var C9=/label:\s*([^\s;{]+)\s*(;|$)/g,qs;function z$(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,i="";qs=void 0;var s=t[0];if(s==null||s.raw===void 0)n=!1,i+=Cm(r,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=Cm(r,e,t[a]),n){var l=s;i+=l[a]}C9.lastIndex=0;for(var c="",u;(u=C9.exec(i))!==null;)c+="-"+u[1];var A=yde(i)+c;return{name:A,styles:i,next:qs}}var Cde=function(e){return e()},Bde=zE.useInsertionEffect?zE.useInsertionEffect:!1,_de=Bde||Cde,Sde=!1,W$=S.createContext(typeof HTMLElement<"u"?ode({key:"css"}):null);W$.Provider;var kde=function(e){return S.forwardRef(function(r,n){var i=S.useContext(W$);return e(r,i,n)})},Ede=S.createContext({}),lk={}.hasOwnProperty,H5="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Fde=function(e,r){var n={};for(var i in r)lk.call(r,i)&&(n[i]=r[i]);return n[H5]=e,n},Mde=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return V$(r,n,i),_de(function(){return gde(r,n,i)}),null},Tde=kde(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var i=t[H5],s=[n],o="";typeof t.className=="string"?o=mde(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=z$(s,void 0,S.useContext(Ede));o+=e.key+"-"+a.name;var l={};for(var c in t)lk.call(t,c)&&c!=="css"&&c!==H5&&!Sde&&(l[c]=t[c]);return l.className=o,r&&(l.ref=r),S.createElement(S.Fragment,null,S.createElement(Mde,{cache:e,serialized:a,isStringTag:typeof i=="string"}),S.createElement(i,l))}),Dde=Tde,Be=function(e,r){var n=arguments;if(r==null||!lk.call(r,"css"))return S.createElement.apply(void 0,n);var i=n.length,s=new Array(i);s[0]=Dde,s[1]=Fde(e,r);for(var o=2;o<i;o++)s[o]=n[o];return S.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Be);function ck(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return z$(e)}function Lde(){var t=ck.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function jde(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const Ode=Math.min,Nde=Math.max,Kx=Math.round,lg=Math.floor,zx=t=>({x:t,y:t});function Ide(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function Y2(){return typeof window<"u"}function G$(t){return X$(t)?(t.nodeName||"").toLowerCase():"#document"}function ua(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function q$(t){var e;return(e=(X$(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function X$(t){return Y2()?t instanceof Node||t instanceof ua(t).Node:!1}function Ude(t){return Y2()?t instanceof Element||t instanceof ua(t).Element:!1}function uk(t){return Y2()?t instanceof HTMLElement||t instanceof ua(t).HTMLElement:!1}function B9(t){return!Y2()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ua(t).ShadowRoot}function Y$(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Ak(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function Pde(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qde(t){return["html","body","#document"].includes(G$(t))}function Ak(t){return ua(t).getComputedStyle(t)}function Rde(t){if(G$(t)==="html")return t;const e=t.assignedSlot||t.parentNode||B9(t)&&t.host||q$(t);return B9(e)?e.host:e}function J$(t){const e=Rde(t);return Qde(e)?t.ownerDocument?t.ownerDocument.body:t.body:uk(e)&&Y$(e)?e:J$(e)}function Wx(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=J$(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=ua(i);if(s){const a=$5(o);return e.concat(o,o.visualViewport||[],Y$(i)?i:[],a&&r?Wx(a):[])}return e.concat(i,Wx(i,[],r))}function $5(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Hde(t){const e=Ak(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=uk(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,a=Kx(r)!==s||Kx(n)!==o;return a&&(r=s,n=o),{width:r,height:n,$:a}}function dk(t){return Ude(t)?t:t.contextElement}function _9(t){const e=dk(t);if(!uk(e))return zx(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=Hde(e);let o=(s?Kx(r.width):r.width)/n,a=(s?Kx(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const $de=zx(0);function Vde(t){const e=ua(t);return!Pde()||!e.visualViewport?$de:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Kde(t,e,r){return!1}function S9(t,e,r,n){e===void 0&&(e=!1);const i=t.getBoundingClientRect(),s=dk(t);let o=zx(1);e&&(o=_9(t));const a=Kde()?Vde(s):zx(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,A=i.height/o.y;if(s){const h=ua(s),f=n;let p=h,m=$5(p);for(;m&&n&&f!==p;){const y=_9(m),g=m.getBoundingClientRect(),v=Ak(m),x=g.left+(m.clientLeft+parseFloat(v.paddingLeft))*y.x,b=g.top+(m.clientTop+parseFloat(v.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,A*=y.y,l+=x,c+=b,p=ua(m),m=$5(p)}}return Ide({width:u,height:A,x:l,y:c})}function zde(t,e){let r=null,n;const i=q$(t);function s(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:A,height:h}=t.getBoundingClientRect();if(a||e(),!A||!h)return;const f=lg(u),p=lg(i.clientWidth-(c+A)),m=lg(i.clientHeight-(u+h)),y=lg(c),v={rootMargin:-f+"px "+-p+"px "+-m+"px "+-y+"px",threshold:Nde(0,Ode(1,l))||1};let x=!0;function b(w){const C=w[0].intersectionRatio;if(C!==l){if(!x)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}x=!1}try{r=new IntersectionObserver(b,{...v,root:i.ownerDocument})}catch{r=new IntersectionObserver(b,v)}r.observe(t)}return o(!0),s}function Wde(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=dk(t),u=i||s?[...c?Wx(c):[],...Wx(e)]:[];u.forEach(g=>{i&&g.addEventListener("scroll",r,{passive:!0}),s&&g.addEventListener("resize",r)});const A=c&&a?zde(c,r):null;let h=-1,f=null;o&&(f=new ResizeObserver(g=>{let[v]=g;v&&v.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=f)==null||x.observe(e)})),r()}),c&&!l&&f.observe(c),f.observe(e));let p,m=l?S9(t):null;l&&y();function y(){const g=S9(t);m&&(g.x!==m.x||g.y!==m.y||g.width!==m.width||g.height!==m.height)&&r(),m=g,p=requestAnimationFrame(y)}return r(),()=>{var g;u.forEach(v=>{i&&v.removeEventListener("scroll",r),s&&v.removeEventListener("resize",r)}),A==null||A(),(g=f)==null||g.disconnect(),f=null,l&&cancelAnimationFrame(p)}}var V5=S.useLayoutEffect,Gde=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Gx=function(){};function qde(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Xde(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var s=[].concat(n);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(qde(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var k9=function(e){return she(e)?e.filter(Boolean):Fu(e)==="object"&&e!==null?[e]:[]},Z$=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=ma(e,Gde);return _e({},r)},Vt=function(e,r,n){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(r,e),className:i(n??{},o(r,e),a)}};function J2(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Yde(t){return J2(t)?window.innerHeight:t.clientHeight}function eV(t){return J2(t)?window.pageYOffset:t.scrollTop}function qx(t,e){if(J2(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Jde(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function Zde(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function cg(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Gx,i=eV(t),s=e-i,o=10,a=0;function l(){a+=o;var c=Zde(a,i,s,r);qx(t,c),a<r?window.requestAnimationFrame(l):n(t)}l()}function E9(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),i=e.offsetHeight/3;n.bottom+i>r.bottom?qx(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):n.top-i<r.top&&qx(t,Math.max(e.offsetTop-i,0))}function ehe(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function F9(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function the(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var tV=!1,rhe={get passive(){return tV=!0}},ug=typeof window<"u"?window:{};ug.addEventListener&&ug.removeEventListener&&(ug.addEventListener("p",Gx,rhe),ug.removeEventListener("p",Gx,!1));var nhe=tV;function ihe(t){return t!=null}function she(t){return Array.isArray(t)}function Ag(t,e,r){return t?e:r}var ohe=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=Zo(o,1),l=a[0];return!n.includes(l)});return s.reduce(function(o,a){var l=Zo(a,2),c=l[0],u=l[1];return o[c]=u,o},{})},ahe=["children","innerProps"],lhe=["children","innerProps"];function che(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=Jde(r),c={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return c;var u=l.getBoundingClientRect(),A=u.height,h=r.getBoundingClientRect(),f=h.bottom,p=h.height,m=h.top,y=r.offsetParent.getBoundingClientRect(),g=y.top,v=o?window.innerHeight:Yde(l),x=eV(l),b=parseInt(getComputedStyle(r).marginBottom,10),w=parseInt(getComputedStyle(r).marginTop,10),C=g-w,B=v-m,_=C+x,k=A-x-m,E=f-v+x+b,F=x+m-w,M=160;switch(i){case"auto":case"bottom":if(B>=p)return{placement:"bottom",maxHeight:e};if(k>=p&&!o)return s&&cg(l,E,M),{placement:"bottom",maxHeight:e};if(!o&&k>=n||o&&B>=n){s&&cg(l,E,M);var T=o?B-b:k-b;return{placement:"bottom",maxHeight:T}}if(i==="auto"||o){var Q=e,P=o?C:_;return P>=n&&(Q=Math.min(P-b-a,e)),{placement:"top",maxHeight:Q}}if(i==="bottom")return s&&qx(l,E),{placement:"bottom",maxHeight:e};break;case"top":if(C>=p)return{placement:"top",maxHeight:e};if(_>=p&&!o)return s&&cg(l,F,M),{placement:"top",maxHeight:e};if(!o&&_>=n||o&&C>=n){var H=e;return(!o&&_>=n||o&&C>=n)&&(H=o?C-w:_-w),s&&cg(l,F,M),{placement:"top",maxHeight:H}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function uhe(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var rV=function(e){return e==="auto"?"bottom":e},Ahe=function(e,r){var n,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return _e((n={label:"menu"},If(n,uhe(i),"100%"),If(n,"position","absolute"),If(n,"width","100%"),If(n,"zIndex",1),n),r?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},nV=S.createContext(null),dhe=function(e){var r=e.children,n=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,c=S.useContext(nV)||{},u=c.setPortalPlacement,A=S.useRef(null),h=S.useState(i),f=Zo(h,2),p=f[0],m=f[1],y=S.useState(null),g=Zo(y,2),v=g[0],x=g[1],b=l.spacing.controlHeight;return V5(function(){var w=A.current;if(w){var C=o==="fixed",B=a&&!C,_=che({maxHeight:i,menuEl:w,minHeight:n,placement:s,shouldScroll:B,isFixedPosition:C,controlHeight:b});m(_.maxHeight),x(_.placement),u==null||u(_.placement)}},[i,s,o,a,n,u,b]),r({ref:A,placerProps:_e(_e({},e),{},{placement:v||rV(s),maxHeight:p})})},hhe=function(e){var r=e.children,n=e.innerRef,i=e.innerProps;return Be("div",Fe({},Vt(e,"menu",{menu:!0}),{ref:n},i),r)},fhe=hhe,phe=function(e,r){var n=e.maxHeight,i=e.theme.spacing.baseUnit;return _e({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:i,paddingTop:i})},mhe=function(e){var r=e.children,n=e.innerProps,i=e.innerRef,s=e.isMulti;return Be("div",Fe({},Vt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},n),r)},iV=function(e,r){var n=e.theme,i=n.spacing.baseUnit,s=n.colors;return _e({textAlign:"center"},r?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},ghe=iV,yhe=iV,vhe=function(e){var r=e.children,n=r===void 0?"No options":r,i=e.innerProps,s=ma(e,ahe);return Be("div",Fe({},Vt(_e(_e({},s),{},{children:n,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),n)},xhe=function(e){var r=e.children,n=r===void 0?"Loading...":r,i=e.innerProps,s=ma(e,lhe);return Be("div",Fe({},Vt(_e(_e({},s),{},{children:n,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),n)},bhe=function(e){var r=e.rect,n=e.offset,i=e.position;return{left:r.left,position:i,top:n,width:r.width,zIndex:1}},whe=function(e){var r=e.appendTo,n=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=S.useRef(null),c=S.useRef(null),u=S.useState(rV(o)),A=Zo(u,2),h=A[0],f=A[1],p=S.useMemo(function(){return{setPortalPlacement:f}},[]),m=S.useState(null),y=Zo(m,2),g=y[0],v=y[1],x=S.useCallback(function(){if(i){var B=ehe(i),_=a==="fixed"?0:window.pageYOffset,k=B[h]+_;(k!==(g==null?void 0:g.offset)||B.left!==(g==null?void 0:g.rect.left)||B.width!==(g==null?void 0:g.rect.width))&&v({offset:k,rect:B})}},[i,a,h,g==null?void 0:g.offset,g==null?void 0:g.rect.left,g==null?void 0:g.rect.width]);V5(function(){x()},[x]);var b=S.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),i&&l.current&&(c.current=Wde(i,l.current,x,{elementResize:"ResizeObserver"in window}))},[i,x]);V5(function(){b()},[b]);var w=S.useCallback(function(B){l.current=B,b()},[b]);if(!r&&a!=="fixed"||!g)return null;var C=Be("div",Fe({ref:w},Vt(_e(_e({},e),{},{offset:g.offset,position:a,rect:g.rect}),"menuPortal",{"menu-portal":!0}),s),n);return Be(nV.Provider,{value:p},r?dQ.createPortal(C,r):C)},Che=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},Bhe=function(e){var r=e.children,n=e.innerProps,i=e.isDisabled,s=e.isRtl;return Be("div",Fe({},Vt(e,"container",{"--is-disabled":i,"--is-rtl":s}),n),r)},_he=function(e,r){var n=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return _e({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},She=function(e){var r=e.children,n=e.innerProps,i=e.isMulti,s=e.hasValue;return Be("div",Fe({},Vt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),n),r)},khe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Ehe=function(e){var r=e.children,n=e.innerProps;return Be("div",Fe({},Vt(e,"indicatorsContainer",{indicators:!0}),n),r)},M9,Fhe=["size"],Mhe=["innerProps","isRtl","size"],The={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},sV=function(e){var r=e.size,n=ma(e,Fhe);return Be("svg",Fe({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:The},n))},hk=function(e){return Be(sV,Fe({size:20},e),Be("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},oV=function(e){return Be(sV,Fe({size:20},e),Be("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},aV=function(e,r){var n=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return _e({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?o.neutral60:o.neutral20,padding:s*2,":hover":{color:n?o.neutral80:o.neutral40}})},Dhe=aV,Lhe=function(e){var r=e.children,n=e.innerProps;return Be("div",Fe({},Vt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||Be(oV,null))},jhe=aV,Ohe=function(e){var r=e.children,n=e.innerProps;return Be("div",Fe({},Vt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||Be(hk,null))},Nhe=function(e,r){var n=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return _e({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},Ihe=function(e){var r=e.innerProps;return Be("span",Fe({},r,Vt(e,"indicatorSeparator",{"indicator-separator":!0})))},Uhe=Lde(M9||(M9=jde([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Phe=function(e,r){var n=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return _e({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?o.neutral60:o.neutral20,padding:a*2})},Y4=function(e){var r=e.delay,n=e.offset;return Be("span",{css:ck({animation:"".concat(Uhe," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Qhe=function(e){var r=e.innerProps,n=e.isRtl,i=e.size,s=i===void 0?4:i,o=ma(e,Mhe);return Be("div",Fe({},Vt(_e(_e({},o),{},{innerProps:r,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),Be(Y4,{delay:0,offset:n}),Be(Y4,{delay:160,offset:!0}),Be(Y4,{delay:320,offset:!n}))},Rhe=function(e,r){var n=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return _e({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},Hhe=function(e){var r=e.children,n=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return Be("div",Fe({ref:s},Vt(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":i,"control--menu-is-open":a}),o,{"aria-disabled":n||void 0}),r)},$he=Hhe,Vhe=["data"],Khe=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},zhe=function(e){var r=e.children,n=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,c=e.label,u=e.theme,A=e.selectProps;return Be("div",Fe({},Vt(e,"group",{group:!0}),l),Be(o,Fe({},a,{selectProps:A,theme:u,getStyles:i,getClassNames:s,cx:n}),c),Be("div",null,r))},Whe=function(e,r){var n=e.theme,i=n.colors,s=n.spacing;return _e({label:"group",cursor:"default",display:"block"},r?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},Ghe=function(e){var r=Z$(e);r.data;var n=ma(r,Vhe);return Be("div",Fe({},Vt(e,"groupHeading",{"group-heading":!0}),n))},qhe=zhe,Xhe=["innerRef","isDisabled","isHidden","inputClassName"],Yhe=function(e,r){var n=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return _e(_e({visibility:n?"hidden":"visible",transform:i?"translateZ(0)":""},Jhe),r?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},lV={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Jhe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":_e({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},lV)},Zhe=function(e){return _e({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},lV)},efe=function(e){var r=e.cx,n=e.value,i=Z$(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,l=i.inputClassName,c=ma(i,Xhe);return Be("div",Fe({},Vt(e,"input",{"input-container":!0}),{"data-value":n||""}),Be("input",Fe({className:r({input:!0},l),ref:s,style:Zhe(a),disabled:o},c)))},tfe=efe,rfe=function(e,r){var n=e.theme,i=n.spacing,s=n.borderRadius,o=n.colors;return _e({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},nfe=function(e,r){var n=e.theme,i=n.borderRadius,s=n.colors,o=e.cropWithEllipsis;return _e({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},ife=function(e,r){var n=e.theme,i=n.spacing,s=n.borderRadius,o=n.colors,a=e.isFocused;return _e({alignItems:"center",display:"flex"},r?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},cV=function(e){var r=e.children,n=e.innerProps;return Be("div",n,r)},sfe=cV,ofe=cV;function afe(t){var e=t.children,r=t.innerProps;return Be("div",Fe({role:"button"},r),e||Be(hk,{size:14}))}var lfe=function(e){var r=e.children,n=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,c=n.Container,u=n.Label,A=n.Remove;return Be(c,{data:i,innerProps:_e(_e({},Vt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},Be(u,{data:i,innerProps:_e({},Vt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},r),Be(A,{data:i,innerProps:_e(_e({},Vt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},a),selectProps:l}))},cfe=lfe,ufe=function(e,r){var n=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return _e({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:n?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?l.primary:l.primary50}})},Afe=function(e){var r=e.children,n=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return Be("div",Fe({},Vt(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":n},a),r)},dfe=Afe,hfe=function(e,r){var n=e.theme,i=n.spacing,s=n.colors;return _e({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},ffe=function(e){var r=e.children,n=e.innerProps;return Be("div",Fe({},Vt(e,"placeholder",{placeholder:!0}),n),r)},pfe=ffe,mfe=function(e,r){var n=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return _e({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},gfe=function(e){var r=e.children,n=e.isDisabled,i=e.innerProps;return Be("div",Fe({},Vt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),i),r)},yfe=gfe,vfe={ClearIndicator:Ohe,Control:$he,DropdownIndicator:Lhe,DownChevron:oV,CrossIcon:hk,Group:qhe,GroupHeading:Ghe,IndicatorsContainer:Ehe,IndicatorSeparator:Ihe,Input:tfe,LoadingIndicator:Qhe,Menu:fhe,MenuList:mhe,MenuPortal:whe,LoadingMessage:xhe,NoOptionsMessage:vhe,MultiValue:cfe,MultiValueContainer:sfe,MultiValueLabel:ofe,MultiValueRemove:afe,Option:dfe,Placeholder:pfe,SelectContainer:Bhe,SingleValue:yfe,ValueContainer:She},xfe=function(e){return _e(_e({},vfe),e.components)},T9=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function bfe(t,e){return!!(t===e||T9(t)&&T9(e))}function wfe(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!bfe(t[r],e[r]))return!1;return!0}function Cfe(t,e){e===void 0&&(e=wfe);var r=null;function n(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(r&&r.lastThis===this&&e(i,r.lastArgs))return r.lastResult;var o=t.apply(this,i);return r={lastResult:o,lastArgs:i,lastThis:this},o}return n.clear=function(){r=null},n}var Bfe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},_fe=function(e){return Be("span",Fe({css:Bfe},e))},D9=_fe,Sfe={guidance:function(e){var r=e.isSearchable,n=e.isMulti,i=e.tabSelectsValue,s=e.context,o=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,i=n===void 0?"":n,s=e.labels,o=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,c=e.isSelected,u=e.isAppleDevice,A=function(m,y){return m&&m.length?"".concat(m.indexOf(y)+1," of ").concat(m.length):""};if(r==="value"&&a)return"value ".concat(o," focused, ").concat(A(a,n),".");if(r==="menu"&&u){var h=l?" disabled":"",f="".concat(c?" selected":"").concat(h);return"".concat(o).concat(f,", ").concat(A(i,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},kfe=function(e){var r=e.ariaSelection,n=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,c=e.id,u=e.isAppleDevice,A=l.ariaLiveMessages,h=l.getOptionLabel,f=l.inputValue,p=l.isMulti,m=l.isOptionDisabled,y=l.isSearchable,g=l.menuIsOpen,v=l.options,x=l.screenReaderStatus,b=l.tabSelectsValue,w=l.isLoading,C=l["aria-label"],B=l["aria-live"],_=S.useMemo(function(){return _e(_e({},Sfe),A||{})},[A]),k=S.useMemo(function(){var P="";if(r&&_.onChange){var H=r.option,I=r.options,L=r.removedValue,R=r.removedValues,V=r.value,Y=function(z){return Array.isArray(z)?null:z},re=L||H||Y(V),se=re?h(re):"",ie=I||R||void 0,Ae=ie?ie.map(h):[],G=_e({isDisabled:re&&m(re,a),label:se,labels:Ae},r);P=_.onChange(G)}return P},[r,_,m,a,h]),E=S.useMemo(function(){var P="",H=n||i,I=!!(n&&a&&a.includes(n));if(H&&_.onFocus){var L={focused:H,label:h(H),isDisabled:m(H,a),isSelected:I,options:s,context:H===n?"menu":"value",selectValue:a,isAppleDevice:u};P=_.onFocus(L)}return P},[n,i,h,m,_,s,a,u]),F=S.useMemo(function(){var P="";if(g&&v.length&&!w&&_.onFilter){var H=x({count:s.length});P=_.onFilter({inputValue:f,resultsMessage:H})}return P},[s,f,g,_,v,x,w]),M=(r==null?void 0:r.action)==="initial-input-focus",T=S.useMemo(function(){var P="";if(_.guidance){var H=i?"value":g?"menu":"input";P=_.guidance({"aria-label":C,context:H,isDisabled:n&&m(n,a),isMulti:p,isSearchable:y,tabSelectsValue:b,isInitialFocus:M})}return P},[C,n,i,p,m,y,g,_,a,b,M]),Q=Be(S.Fragment,null,Be("span",{id:"aria-selection"},k),Be("span",{id:"aria-focused"},E),Be("span",{id:"aria-results"},F),Be("span",{id:"aria-guidance"},T));return Be(S.Fragment,null,Be(D9,{id:c},M&&Q),Be(D9,{"aria-live":B,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!M&&Q))},Efe=kfe,K5=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Ffe=new RegExp("["+K5.map(function(t){return t.letters}).join("")+"]","g"),uV={};for(var J4=0;J4<K5.length;J4++)for(var Z4=K5[J4],e3=0;e3<Z4.letters.length;e3++)uV[Z4.letters[e3]]=Z4.base;var AV=function(e){return e.replace(Ffe,function(r){return uV[r]})},Mfe=Cfe(AV),L9=function(e){return e.replace(/^\s+|\s+$/g,"")},Tfe=function(e){return"".concat(e.label," ").concat(e.value)},Dfe=function(e){return function(r,n){if(r.data.__isNew__)return!0;var i=_e({ignoreCase:!0,ignoreAccents:!0,stringify:Tfe,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,l=i.trim,c=i.matchFrom,u=l?L9(n):n,A=l?L9(a(r)):a(r);return s&&(u=u.toLowerCase(),A=A.toLowerCase()),o&&(u=Mfe(u),A=AV(A)),c==="start"?A.substr(0,u.length)===u:A.indexOf(u)>-1}},Lfe=["innerRef"];function jfe(t){var e=t.innerRef,r=ma(t,Lfe),n=ohe(r,"onExited","in","enter","exit","appear");return Be("input",Fe({ref:e},n,{css:ck({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Ofe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Nfe(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=S.useRef(!1),a=S.useRef(!1),l=S.useRef(0),c=S.useRef(null),u=S.useCallback(function(y,g){if(c.current!==null){var v=c.current,x=v.scrollTop,b=v.scrollHeight,w=v.clientHeight,C=c.current,B=g>0,_=b-w-x,k=!1;_>g&&o.current&&(n&&n(y),o.current=!1),B&&a.current&&(s&&s(y),a.current=!1),B&&g>_?(r&&!o.current&&r(y),C.scrollTop=b,k=!0,o.current=!0):!B&&-g>x&&(i&&!a.current&&i(y),C.scrollTop=0,k=!0,a.current=!0),k&&Ofe(y)}},[r,n,i,s]),A=S.useCallback(function(y){u(y,y.deltaY)},[u]),h=S.useCallback(function(y){l.current=y.changedTouches[0].clientY},[]),f=S.useCallback(function(y){var g=l.current-y.changedTouches[0].clientY;u(y,g)},[u]),p=S.useCallback(function(y){if(y){var g=nhe?{passive:!1}:!1;y.addEventListener("wheel",A,g),y.addEventListener("touchstart",h,g),y.addEventListener("touchmove",f,g)}},[f,h,A]),m=S.useCallback(function(y){y&&(y.removeEventListener("wheel",A,!1),y.removeEventListener("touchstart",h,!1),y.removeEventListener("touchmove",f,!1))},[f,h,A]);return S.useEffect(function(){if(e){var y=c.current;return p(y),function(){m(y)}}},[e,p,m]),function(y){c.current=y}}var j9=["boxSizing","height","overflow","paddingRight","position"],O9={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function N9(t){t.cancelable&&t.preventDefault()}function I9(t){t.stopPropagation()}function U9(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function P9(){return"ontouchstart"in window||navigator.maxTouchPoints}var Q9=!!(typeof window<"u"&&window.document&&window.document.createElement),Hh=0,Yu={capture:!1,passive:!1};function Ife(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,i=S.useRef({}),s=S.useRef(null),o=S.useCallback(function(l){if(Q9){var c=document.body,u=c&&c.style;if(n&&j9.forEach(function(p){var m=u&&u[p];i.current[p]=m}),n&&Hh<1){var A=parseInt(i.current.paddingRight,10)||0,h=document.body?document.body.clientWidth:0,f=window.innerWidth-h+A||0;Object.keys(O9).forEach(function(p){var m=O9[p];u&&(u[p]=m)}),u&&(u.paddingRight="".concat(f,"px"))}c&&P9()&&(c.addEventListener("touchmove",N9,Yu),l&&(l.addEventListener("touchstart",U9,Yu),l.addEventListener("touchmove",I9,Yu))),Hh+=1}},[n]),a=S.useCallback(function(l){if(Q9){var c=document.body,u=c&&c.style;Hh=Math.max(Hh-1,0),n&&Hh<1&&j9.forEach(function(A){var h=i.current[A];u&&(u[A]=h)}),c&&P9()&&(c.removeEventListener("touchmove",N9,Yu),l&&(l.removeEventListener("touchstart",U9,Yu),l.removeEventListener("touchmove",I9,Yu)))}},[n]);return S.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var Ufe=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},Pfe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Qfe(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,i=n===void 0?!0:n,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,c=Nfe({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),u=Ife({isEnabled:r}),A=function(f){c(f),u(f)};return Be(S.Fragment,null,r&&Be("div",{onClick:Ufe,css:Pfe}),e(A))}var Rfe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Hfe=function(e){var r=e.name,n=e.onFocus;return Be("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Rfe,value:"",onChange:function(){}})},$fe=Hfe;function fk(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Vfe(){return fk(/^iPhone/i)}function dV(){return fk(/^Mac/i)}function Kfe(){return fk(/^iPad/i)||dV()&&navigator.maxTouchPoints>1}function zfe(){return Vfe()||Kfe()}function Wfe(){return dV()||zfe()}var Gfe=function(e){return e.label},qfe=function(e){return e.label},Xfe=function(e){return e.value},Yfe=function(e){return!!e.isDisabled},Jfe={clearIndicator:jhe,container:Che,control:Rhe,dropdownIndicator:Dhe,group:Khe,groupHeading:Whe,indicatorsContainer:khe,indicatorSeparator:Nhe,input:Yhe,loadingIndicator:Phe,loadingMessage:yhe,menu:Ahe,menuList:phe,menuPortal:bhe,multiValue:rfe,multiValueLabel:nfe,multiValueRemove:ife,noOptionsMessage:ghe,option:ufe,placeholder:hfe,singleValue:mfe,valueContainer:_he},Zfe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},epe=4,hV=4,tpe=38,rpe=hV*2,npe={baseUnit:hV,controlHeight:tpe,menuGutter:rpe},t3={borderRadius:epe,colors:Zfe,spacing:npe},ipe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:F9(),captureMenuScroll:!F9(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Dfe(),formatGroupLabel:Gfe,getOptionLabel:qfe,getOptionValue:Xfe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Yfe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!the(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function R9(t,e,r,n){var i=mV(t,e,r),s=gV(t,e,r),o=pV(t,e),a=Xx(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:n}}function dv(t,e){return t.options.map(function(r,n){if("options"in r){var i=r.options.map(function(o,a){return R9(t,o,e,a)}).filter(function(o){return $9(t,o)});return i.length>0?{type:"group",data:r,options:i,index:n}:void 0}var s=R9(t,r,e,n);return $9(t,s)?s:void 0}).filter(ihe)}function fV(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,tk(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function H9(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,tk(n.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(n.index,"-").concat(i.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function spe(t,e){return fV(dv(t,e))}function $9(t,e){var r=t.inputValue,n=r===void 0?"":r,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!vV(t)||!s)&&yV(t,{label:o,value:a,data:i},n)}function ope(t,e){var r=t.focusedValue,n=t.selectValue,i=n.indexOf(r);if(i>-1){var s=e.indexOf(r);if(s>-1)return r;if(i<e.length)return e[i]}return null}function ape(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var r3=function(e,r){var n,i=(n=e.find(function(s){return s.data===r}))===null||n===void 0?void 0:n.id;return i||null},pV=function(e,r){return e.getOptionLabel(r)},Xx=function(e,r){return e.getOptionValue(r)};function mV(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function gV(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=Xx(t,e);return r.some(function(i){return Xx(t,i)===n})}function yV(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var vV=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},lpe=1,xV=function(t){CAe(r,t);var e=SAe(r);function r(n){var i;if(bAe(this,r),i=e.call(this,n),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=Wfe(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,c){var u=i.props,A=u.onChange,h=u.name;c.name=h,i.ariaOnChange(l,c),A(l,c)},i.setValue=function(l,c,u){var A=i.props,h=A.closeMenuOnSelect,f=A.isMulti,p=A.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:p}),h&&(i.setState({inputIsHiddenAfterUpdate:!f}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:c,option:u})},i.selectOption=function(l){var c=i.props,u=c.blurInputOnSelect,A=c.isMulti,h=c.name,f=i.state.selectValue,p=A&&i.isOptionSelected(l,f),m=i.isOptionDisabled(l,f);if(p){var y=i.getOptionValue(l);i.setValue(f.filter(function(g){return i.getOptionValue(g)!==y}),"deselect-option",l)}else if(!m)A?i.setValue([].concat(tk(f),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:h});return}u&&i.blurInput()},i.removeValue=function(l){var c=i.props.isMulti,u=i.state.selectValue,A=i.getOptionValue(l),h=u.filter(function(p){return i.getOptionValue(p)!==A}),f=Ag(c,h,h[0]||null);i.onChange(f,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(Ag(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,c=i.state.selectValue,u=c[c.length-1],A=c.slice(0,c.length-1),h=Ag(l,A,A[0]||null);u&&i.onChange(h,{action:"pop-value",removedValue:u})},i.getFocusedOptionId=function(l){return r3(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return H9(dv(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return Xde.apply(void 0,[i.props.classNamePrefix].concat(c))},i.getOptionLabel=function(l){return pV(i.props,l)},i.getOptionValue=function(l){return Xx(i.props,l)},i.getStyles=function(l,c){var u=i.props.unstyled,A=Jfe[l](c,u);A.boxSizing="border-box";var h=i.props.styles[l];return h?h(A,c):A},i.getClassNames=function(l,c){var u,A;return(u=(A=i.props.classNames)[l])===null||u===void 0?void 0:u.call(A,c)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return xfe(i.props)},i.buildCategorizedOptions=function(){return dv(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return fV(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,c){i.setState({ariaSelection:_e({value:l},c)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var c=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():c&&i.openMenu("first"):(c&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var c=i.props,u=c.isMulti,A=c.menuIsOpen;i.focusInput(),A?(i.setState({inputIsHiddenAfterUpdate:!u}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&J2(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var c=l.touches,u=c&&c.item(0);u&&(i.initialTouchX=u.clientX,i.initialTouchY=u.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var c=l.touches,u=c&&c.item(0);if(u){var A=Math.abs(u.clientX-i.initialTouchX),h=Math.abs(u.clientY-i.initialTouchY),f=5;i.userIsDragging=A>f||h>f}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var c=i.props.inputValue,u=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(u,{action:"input-change",prevInputValue:c}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var c=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:c}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var c=i.getFocusableOptions(),u=c.indexOf(l);i.setState({focusedOption:l,focusedOptionId:u>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return vV(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var c=i.props,u=c.isMulti,A=c.backspaceRemovesValue,h=c.escapeClearsValue,f=c.inputValue,p=c.isClearable,m=c.isDisabled,y=c.menuIsOpen,g=c.onKeyDown,v=c.tabSelectsValue,x=c.openMenuOnFocus,b=i.state,w=b.focusedOption,C=b.focusedValue,B=b.selectValue;if(!m&&!(typeof g=="function"&&(g(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!u||f)return;i.focusValue("previous");break;case"ArrowRight":if(!u||f)return;i.focusValue("next");break;case"Delete":case"Backspace":if(f)return;if(C)i.removeValue(C);else{if(!A)return;u?i.popValue():p&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!y||!v||!w||x&&i.isOptionSelected(w,B))return;i.selectOption(w);break;case"Enter":if(l.keyCode===229)break;if(y){if(!w||i.isComposing)return;i.selectOption(w);break}return;case"Escape":y?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:f}),i.onMenuClose()):p&&h&&i.clearValue();break;case" ":if(f)return;if(!y){i.openMenu("first");break}if(!w)return;i.selectOption(w);break;case"ArrowUp":y?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":y?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!y)return;i.focusOption("pageup");break;case"PageDown":if(!y)return;i.focusOption("pagedown");break;case"Home":if(!y)return;i.focusOption("first");break;case"End":if(!y)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++lpe),i.state.selectValue=k9(n.value),n.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),a=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=o[a],i.state.focusedOptionId=r3(s,o[a])}return i}return wAe(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&E9(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(E9(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,c=this.buildFocusableOptions(),u=i==="first"?0:c.length-1;if(!this.props.isMulti){var A=c.indexOf(a[0]);A>-1&&(u=A)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[u],focusedOptionId:this.getFocusedOptionId(c[u])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var c=o.length-1,u=-1;if(o.length){switch(i){case"previous":l===0?u=0:l===-1?u=c:u=l-1;break;case"next":l>-1&&l<c&&(u=l+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:o[u]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,c=a.indexOf(o);o||(c=-1),i==="up"?l=c>0?c-1:a.length-1:i==="down"?l=(c+1)%a.length:i==="pageup"?(l=c-s,l<0&&(l=0)):i==="pagedown"?(l=c+s,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(t3):_e(_e({},t3),this.props.theme):t3}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,c=this.selectOption,u=this.setValue,A=this.props,h=A.isMulti,f=A.isRtl,p=A.options,m=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:m,isMulti:h,isRtl:f,options:p,selectOption:c,selectProps:A,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return mV(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return gV(this.props,i,s)}},{key:"filterOption",value:function(i,s){return yV(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,l=i.inputValue,c=i.tabIndex,u=i.form,A=i.menuIsOpen,h=i.required,f=this.getComponents(),p=f.Input,m=this.state,y=m.inputIsHidden,g=m.ariaSelection,v=this.commonProps,x=a||this.getElementId("input"),b=_e(_e(_e({"aria-autocomplete":"list","aria-expanded":A,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":h,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},A&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(g==null?void 0:g.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?S.createElement(p,Fe({},v,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:x,innerRef:this.getInputRef,isDisabled:s,isHidden:y,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:u,type:"text",value:l},b)):S.createElement(jfe,Fe({id:x,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Gx,onFocus:this.onInputFocus,disabled:s,tabIndex:c,inputMode:"none",form:u,value:""},b))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,c=s.MultiValueRemove,u=s.SingleValue,A=s.Placeholder,h=this.commonProps,f=this.props,p=f.controlShouldRenderValue,m=f.isDisabled,y=f.isMulti,g=f.inputValue,v=f.placeholder,x=this.state,b=x.selectValue,w=x.focusedValue,C=x.isFocused;if(!this.hasValue()||!p)return g?null:S.createElement(A,Fe({},h,{key:"placeholder",isDisabled:m,isFocused:C,innerProps:{id:this.getElementId("placeholder")}}),v);if(y)return b.map(function(_,k){var E=_===w,F="".concat(i.getOptionLabel(_),"-").concat(i.getOptionValue(_));return S.createElement(o,Fe({},h,{components:{Container:a,Label:l,Remove:c},isFocused:E,isDisabled:m,key:F,index:k,removeProps:{onClick:function(){return i.removeValue(_)},onTouchEnd:function(){return i.removeValue(_)},onMouseDown:function(T){T.preventDefault()}},data:_}),i.formatOptionLabel(_,"value"))});if(g)return null;var B=b[0];return S.createElement(u,Fe({},h,{data:B,isDisabled:m}),this.formatOptionLabel(B,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,c=a.isLoading,u=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||c)return null;var A={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return S.createElement(s,Fe({},o,{innerProps:A,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,c=a.isLoading,u=this.state.isFocused;if(!s||!c)return null;var A={"aria-hidden":"true"};return S.createElement(s,Fe({},o,{innerProps:A,isDisabled:l,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused;return S.createElement(o,Fe({},a,{isDisabled:l,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return S.createElement(s,Fe({},o,{innerProps:c,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,c=s.MenuList,u=s.MenuPortal,A=s.LoadingMessage,h=s.NoOptionsMessage,f=s.Option,p=this.commonProps,m=this.state.focusedOption,y=this.props,g=y.captureMenuScroll,v=y.inputValue,x=y.isLoading,b=y.loadingMessage,w=y.minMenuHeight,C=y.maxMenuHeight,B=y.menuIsOpen,_=y.menuPlacement,k=y.menuPosition,E=y.menuPortalTarget,F=y.menuShouldBlockScroll,M=y.menuShouldScrollIntoView,T=y.noOptionsMessage,Q=y.onMenuScrollToTop,P=y.onMenuScrollToBottom;if(!B)return null;var H=function(se,ie){var Ae=se.type,G=se.data,ae=se.isDisabled,z=se.isSelected,q=se.label,K=se.value,ze=m===G,Ie=ae?void 0:function(){return i.onOptionHover(G)},jt=ae?void 0:function(){return i.selectOption(G)},Fn="".concat(i.getElementId("option"),"-").concat(ie),Wr={id:Fn,onClick:jt,onMouseMove:Ie,onMouseOver:Ie,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:z};return S.createElement(f,Fe({},p,{innerProps:Wr,data:G,isDisabled:ae,isSelected:z,key:Fn,label:q,type:Ae,value:K,isFocused:ze,innerRef:ze?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(se.data,"menu"))},I;if(this.hasOptions())I=this.getCategorizedOptions().map(function(re){if(re.type==="group"){var se=re.data,ie=re.options,Ae=re.index,G="".concat(i.getElementId("group"),"-").concat(Ae),ae="".concat(G,"-heading");return S.createElement(o,Fe({},p,{key:G,data:se,options:ie,Heading:a,headingProps:{id:ae,data:re.data},label:i.formatGroupLabel(re.data)}),re.options.map(function(z){return H(z,"".concat(Ae,"-").concat(z.index))}))}else if(re.type==="option")return H(re,"".concat(re.index))});else if(x){var L=b({inputValue:v});if(L===null)return null;I=S.createElement(A,p,L)}else{var R=T({inputValue:v});if(R===null)return null;I=S.createElement(h,p,R)}var V={minMenuHeight:w,maxMenuHeight:C,menuPlacement:_,menuPosition:k,menuShouldScrollIntoView:M},Y=S.createElement(dhe,Fe({},p,V),function(re){var se=re.ref,ie=re.placerProps,Ae=ie.placement,G=ie.maxHeight;return S.createElement(l,Fe({},p,V,{innerRef:se,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:x,placement:Ae}),S.createElement(Qfe,{captureEnabled:g,onTopArrive:Q,onBottomArrive:P,lockEnabled:F},function(ae){return S.createElement(c,Fe({},p,{innerRef:function(q){i.getMenuListRef(q),ae(q)},innerProps:{role:"listbox","aria-multiselectable":p.isMulti,id:i.getElementId("listbox")},isLoading:x,maxHeight:G,focusedOption:m}),I)}))});return E||k==="fixed"?S.createElement(u,Fe({},p,{appendTo:E,controlElement:this.controlRef,menuPlacement:_,menuPosition:k}),Y):Y}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,c=s.name,u=s.required,A=this.state.selectValue;if(u&&!this.hasValue()&&!a)return S.createElement($fe,{name:c,onFocus:this.onValueInputFocus});if(!(!c||a))if(l)if(o){var h=A.map(function(m){return i.getOptionValue(m)}).join(o);return S.createElement("input",{name:c,type:"hidden",value:h})}else{var f=A.length>0?A.map(function(m,y){return S.createElement("input",{key:"i-".concat(y),name:c,type:"hidden",value:i.getOptionValue(m)})}):S.createElement("input",{name:c,type:"hidden",value:""});return S.createElement("div",null,f)}else{var p=A[0]?this.getOptionValue(A[0]):"";return S.createElement("input",{name:c,type:"hidden",value:p})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,c=s.isFocused,u=s.selectValue,A=this.getFocusableOptions();return S.createElement(Efe,Fe({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:c,selectValue:u,focusableOptions:A,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,c=this.props,u=c.className,A=c.id,h=c.isDisabled,f=c.menuIsOpen,p=this.state.isFocused,m=this.commonProps=this.getCommonProps();return S.createElement(a,Fe({},m,{className:u,innerProps:{id:A,onKeyDown:this.onKeyDown},isDisabled:h,isFocused:p}),this.renderLiveRegion(),S.createElement(s,Fe({},m,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:h,isFocused:p,menuIsOpen:f}),S.createElement(l,Fe({},m,{isDisabled:h}),this.renderPlaceholderOrValue(),this.renderInput()),S.createElement(o,Fe({},m,{isDisabled:h}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,c=s.ariaSelection,u=s.isFocused,A=s.prevWasFocused,h=s.instancePrefix,f=i.options,p=i.value,m=i.menuIsOpen,y=i.inputValue,g=i.isMulti,v=k9(p),x={};if(o&&(p!==o.value||f!==o.options||m!==o.menuIsOpen||y!==o.inputValue)){var b=m?spe(i,v):[],w=m?H9(dv(i,v),"".concat(h,"-option")):[],C=a?ope(s,v):null,B=ape(s,b),_=r3(w,B);x={selectValue:v,focusedOption:B,focusedOptionId:_,focusableOptionsWithIds:w,focusedValue:C,clearFocusValueOnUpdate:!1}}var k=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},E=c,F=u&&A;return u&&!F&&(E={value:Ag(g,v,v[0]||null),options:v,action:"initial-input-focus"},F=!A),(c==null?void 0:c.action)==="initial-input-focus"&&(E=null),_e(_e(_e({},x),k),{},{prevProps:i,ariaSelection:E,prevWasFocused:F})}}]),r}(S.Component);xV.defaultProps=ipe;var cpe=S.forwardRef(function(t,e){var r=xAe(t);return S.createElement(xV,Fe({ref:e},r))}),bV=cpe;const upe=({teacherSubjects:t,allSubjects:e,onSubjectCreate:r,onDelete:n,selectedSubjects:i,onSubjectsChange:s,isLoading:o,isError:a})=>{const[l,c]=S.useState(),u=S.useRef(),A=()=>{u.current.clearValue()};S.useEffect(()=>{const f=e==null?void 0:e.data.filter(p=>!(t!=null&&t.some(m=>m.id===p.id)));c(f)},[t,e]);const h=l==null?void 0:l.map(f=>({value:f.id,label:f.title}));return d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-8",children:[d.jsx("div",{className:"p-6 border-b border-gray-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(hs,{className:"text-[#6F38DE] h-6 w-6"}),d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Assigned Subjects"})]})}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:t&&t.length>0?d.jsx(d.Fragment,{children:t==null?void 0:t.map(f=>d.jsxs("div",{className:"flex items-center justify-between p-4 mb-1 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200",children:[d.jsxs("p",{className:"flex items-center gap-2 text-green-600",children:[d.jsx(hs,{className:"h-4 w-4"}),f.title]}),d.jsxs("button",{onClick:()=>n(f==null?void 0:f.id),className:"flex items-center gap-1 px-3 py-1 text-sm text-red-600 bg-red-100 rounded-lg hover:bg-red-200 transition-all duration-200",children:[d.jsx(Pu,{className:"h-4 w-4"}),"Delete"]})]},f.id))}):d.jsxs("p",{className:"flex items-center gap-2 text-red-500",children:[d.jsx(hs,{className:"h-4 w-4"}),"No Subjects Assigned"]})}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Subject"}),d.jsx(bV,{ref:u,isMulti:!0,options:h,onChange:s,value:i,placeholder:"Select Subjects..."})]}),d.jsxs("button",{type:"button",onClick:()=>{r().then(()=>{A()})},disabled:o,className:"inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-lg text-base font-medium text-white bg-[#6F38DE] hover:bg-[#5C2EBA] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#6F38DE]",children:[d.jsx(hs,{className:"w-5 h-5 mr-2"}),o?"Loading...":"Assign Subject"]})]})]})};function Ape({teacherProfile:t,profileRefetch:e}){var P,H,I;const{user_id:r}=dr(),[n,i]=S.useState([]),s=L=>{i(L||[])},[o,a]=S.useState(t.title),[l,c]=S.useState(t.level_id),[u,A]=S.useState(t),[h,{data:f}]=N2();S.useEffect(()=>{h({level_id:Number(l)})},[l]),S.useEffect(()=>{A(t)},[t,e]);const[p,{isError:m,error:y}]=ek(),{data:g,isLoading:v,isError:x,error:b,refetch:w}=tc(),[C,{isError:B,isLoading:_}]=F$(),[k,{isError:E,isLoading:F}]=lAe();S.useEffect(()=>{w()},[]);async function M(L){const R=n.map(Y=>Y.value),V=await C({level_id:Number(l),subject_id:R,teacher_id:Number(u==null?void 0:u.id)}).unwrap();(V==null?void 0:V.statusCode)==200?($.success("success assigning subjects"),e()):$.error("unable to assign subjects to teacher")}async function T(L){const R=await k({level_id:Number(l),subject_id:Number(L),teacher_id:Number(u==null?void 0:u.id)}).unwrap();(R==null?void 0:R.statusCode)==200?($.success("success detaching subjects"),e()):$.error("unable to detach subjects to teacher")}const Q=async L=>{L.preventDefault();try{const R=await p({title:o,level_id:Number(l),user_id:Number(r),role:le.TEACHER}).unwrap();(R==null?void 0:R.statusCode)==200?($.success("teacher Profile updated successfully"),e()):$.error((R==null?void 0:R.message)||"Update failed")}catch{$.error("Error updating teacher profile")}};return d.jsx(d.Fragment,{children:d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[d.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Teacher Profile"})}),d.jsxs("form",{onSubmit:Q,className:"p-6 space-y-6",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Level"}),v?d.jsx("p",{children:"Loading levels..."}):x?d.jsxs("p",{className:"text-red-500",children:["Error loading levels: ",((P=b==null?void 0:b.data)==null?void 0:P.message)||"Unknown error"]}):d.jsxs("select",{value:l,onChange:L=>c(L.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[d.jsx("option",{value:"",disabled:!0,children:"Select Level"}),(H=g==null?void 0:g.data)==null?void 0:H.map(L=>d.jsx("option",{value:L.id,children:L.level.charAt(0).toUpperCase()+L.level.slice(1)},L.id))]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),d.jsx("input",{type:"text",value:o,onChange:L=>a(L.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0})]}),m&&d.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg text-sm",children:((I=y==null?void 0:y.data)==null?void 0:I.message)||"An error occurred"}),d.jsx("button",{type:"submit",className:"w-full px-4 py-2.5 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90",children:"Update Teacher Profile"})]}),d.jsx(upe,{teacherSubjects:u==null?void 0:u.subjects,allSubjects:f,onSubjectCreate:M,onDelete:T,selectedSubjects:n,onSubjectsChange:s,isLoading:_,isError:B})]})})}const hv=bi({reducerPath:"district",baseQuery:wi,endpoints:t=>({createDistrict:t.mutation({query:e=>({url:"/district",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),updateDistrict:t.mutation({query:e=>({url:"/district",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getDistrictById:t.query({query:e=>({url:`/district/${e}`,method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}}),getAllDistricts:t.query({query:()=>({url:"/district",method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}})})}),{useCreateDistrictMutation:dpe,useUpdateDistrictMutation:hpe,useGetDistrictByIdQuery:fpe,useGetAllDistrictsQuery:pk}=hv;function ppe({superIntendentProfile:t,profileRefetch:e}){var p,m,y;const{user_id:r}=dr(),[n,i]=S.useState((t==null?void 0:t.district_id)||""),{data:s,isLoading:o,isError:a,error:l,refetch:c}=pk();S.useEffect(()=>{c()},[]);const[u,{isError:A,error:h}]=ek(),f=async g=>{g.preventDefault();try{const v=await u({district_id:Number(n),user_id:Number(r),role:le.SUPER_INTENDENT}).unwrap();(v==null?void 0:v.statusCode)===200?($.success("Super Intendent profile updated successfully"),e()):$.error((v==null?void 0:v.message)||"Update failed")}catch{$.error("Error updating Super Intendent profile")}};return d.jsx(d.Fragment,{children:d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[d.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Super Intendent Profile"})}),d.jsxs("form",{onSubmit:f,className:"p-6 space-y-6",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"District"}),o?d.jsx("p",{children:"Loading districts..."}):a?d.jsxs("p",{className:"text-red-500",children:["Error loading districts: ",((p=l==null?void 0:l.data)==null?void 0:p.message)||"Unknown error"]}):d.jsx("select",{value:n,onChange:g=>i(g.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:(m=s==null?void 0:s.data)==null?void 0:m.map(g=>d.jsx("option",{value:g.id,children:g.name},g.id))})]}),A&&d.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg text-sm",children:((y=h==null?void 0:h.data)==null?void 0:y.message)||"An error occurred"}),d.jsx("button",{type:"submit",className:"w-full px-4 py-2.5 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90",children:"Update Super Intendent Profile"})]})]})})}const fv=bi({reducerPath:"schoolSlice",baseQuery:wi,endpoints:t=>({createSchool:t.mutation({query:e=>({url:"/school/",method:"POST",body:e})}),getSchools:t.query({query:({page:e,limit:r})=>{const n={};return e!==void 0&&(n.page=e),r!==void 0&&(n.limit=r),{url:"/school/get-all-schools",method:"GET",params:n}}}),getSchoolById:t.query({query:e=>({url:`/school/${e}`,method:"GET"})}),updateSchool:t.mutation({query:({id:e,schoolData:r})=>({url:`/school/${e}`,method:"PUT",body:r})}),deleteSchool:t.mutation({query:e=>({url:`/school/${e}`,method:"DELETE"})}),restoreSchool:t.mutation({query:e=>({url:`/school/${e}/restore`,method:"POST"})})})}),{useCreateSchoolMutation:mpe,useGetSchoolsQuery:mk,useGetSchoolByIdQuery:gpe,useUpdateSchoolMutation:ype,useDeleteSchoolMutation:Q7e,useRestoreSchoolMutation:R7e}=fv;function vpe({principle_profile:t,profileRefetch:e}){var m,y,g,v,x;const{user_id:r}=dr(),[n,i]=S.useState(((m=t==null?void 0:t.schools[0])==null?void 0:m.id)||""),{data:s,isLoading:o,isError:a,error:l,refetch:c}=mk({page:1,limit:1e18},{refetchOnMountOrArgChange:!0}),[u,{isError:A,error:h}]=cAe(),f=b=>{const w=b.target.value;i(w)},p=async()=>{try{const b=await u({school_id:Number(n),admin_id:Number(r)}).unwrap();(b==null?void 0:b.statusCode)===200?($.success("School assignment updated successfully"),e()):$.error((b==null?void 0:b.message)||"Failed to update school assignment")}catch{$.error("Error updating school assignment")}};return S.useEffect(()=>{c()},[c]),d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[d.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Principal Profile"})}),d.jsxs("form",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"School"}),o?d.jsx("p",{children:"Loading schools..."}):a?d.jsxs("p",{className:"text-red-500",children:["Error loading schools: ",((y=l==null?void 0:l.data)==null?void 0:y.message)||"Unknown error"]}):d.jsx("select",{value:n,onChange:f,className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:(v=(g=s==null?void 0:s.data)==null?void 0:g.data)==null?void 0:v.map(b=>d.jsx("option",{value:b.id,children:b.name},b.id))})]}),A&&d.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg text-sm",children:((x=h==null?void 0:h.data)==null?void 0:x.message)||"An error occurred while updating school assignment"}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{type:"button",onClick:p,className:"w-auto px-4 py-2 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90",children:"Update School Assignment"})})]})]})}const n3=()=>{var u,A,h,f;const{user_id:t}=dr(),[e,r]=S.useState(!1),[n,i]=S.useState({id:"",name:"",email:"",isVerified:!1,role:"",contact:""}),[s]=lse(),{data:o,refetch:a}=OR({user_id:Number(t)},{skip:!t});S.useEffect(()=>{a()},[]),S.useEffect(()=>{o!=null&&o.data&&i({id:o.data.id||"",name:o.data.name||"",email:o.data.email||"",contact:o.data.contact||"",isVerified:o.data.isVerified||!1,role:o.data.role||""})},[o]);const l=(p,m)=>{i(y=>({...y,[p]:m}))},c=async()=>{var p;try{const m=await s({id:n.id,name:n.name,email:n.email,contact:n.contact,isVerified:n.isVerified}).unwrap();(m==null?void 0:m.statusCode)===200&&($.success("User profile updated successfully"),r(!1))}catch(m){console.log("error",m),$.error(((p=m==null?void 0:m.data)==null?void 0:p.message)||"Error updating user profile")}};return d.jsx("div",{className:"min-h-screen",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[d.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"User Profile"})}),d.jsxs("form",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),d.jsx("input",{type:"text",value:n.name,onChange:p=>l("name",p.target.value),disabled:!e,className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),d.jsx("input",{type:"email",value:n.email,onChange:p=>l("email",p.target.value),disabled:!e,className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Eamil Verification Status"}),e?d.jsxs("select",{value:n!=null&&n.isVerified?"true":"false",onChange:p=>l("isVerified",p.target.value==="true"),disabled:!e,className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",children:[d.jsx("option",{value:"true",children:"Verified"}),d.jsx("option",{value:"false",children:"Not Verified"})]}):d.jsx("span",{className:"flex w-full bg-slate-50 py-2.5 px-4",children:n!=null&&n.isVerified?"verified":"Not Verified"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone No"}),d.jsx("input",{type:"text",value:n.contact,onChange:p=>l("contact",p.target.value),disabled:!e,className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20"})]})]}),d.jsx("div",{className:"flex justify-end gap-4",children:e?d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"button",onClick:c,className:"px-4 py-2 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90",children:"Save Changes"})]}):d.jsx("button",{type:"button",onClick:()=>r(!0),className:"px-4 py-2 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90",children:"Edit Profile"})})]})]}),(n==null?void 0:n.role)==le.USER&&d.jsx(hAe,{studentProfile:(u=o==null?void 0:o.data)==null?void 0:u.student_profile,profileRefetch:a}),(n==null?void 0:n.role)==le.TEACHER&&d.jsx(Ape,{teacherProfile:(A=o==null?void 0:o.data)==null?void 0:A.teacher_profile,profileRefetch:a}),(n==null?void 0:n.role)===le.SUPER_INTENDENT&&d.jsx(ppe,{superIntendentProfile:(h=o==null?void 0:o.data)==null?void 0:h.super_intendent_profile,profileRefetch:a}),(n==null?void 0:n.role)===le.ADMIN&&d.jsx(vpe,{principle_profile:(f=o==null?void 0:o.data)==null?void 0:f.admin_profile,profileRefetch:a})]})})})};var g0=t=>t.type==="checkbox",Jc=t=>t instanceof Date,vn=t=>t==null;const wV=t=>typeof t=="object";var nr=t=>!vn(t)&&!Array.isArray(t)&&wV(t)&&!Jc(t),CV=t=>nr(t)&&t.target?g0(t.target)?t.target.checked:t.target.value:t,xpe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,BV=(t,e)=>t.has(xpe(e)),bpe=t=>{const e=t.constructor&&t.constructor.prototype;return nr(e)&&e.hasOwnProperty("isPrototypeOf")},gk=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function jn(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(gk&&(t instanceof Blob||n))&&(r||nr(t)))if(e=r?[]:{},!r&&!bpe(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=jn(t[i]));else return t;return e}var Z2=t=>Array.isArray(t)?t.filter(Boolean):[],qt=t=>t===void 0,fe=(t,e,r)=>{if(!e||!nr(t))return r;const n=Z2(e.split(/[,[\].]+?/)).reduce((i,s)=>vn(i)?i:i[s],t);return qt(n)||n===t?qt(t[e])?r:t[e]:n},ji=t=>typeof t=="boolean",yk=t=>/^\w*$/.test(t),_V=t=>Z2(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ot=(t,e,r)=>{let n=-1;const i=yk(e)?[e]:_V(e),s=i.length,o=s-1;for(;++n<s;){const a=i[n];let l=r;if(n!==o){const c=t[a];l=nr(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}return t};const Yx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},us={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},xo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},wpe=be.createContext(null),vk=()=>be.useContext(wpe);var SV=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==us.all&&(e._proxyFormState[o]=!n||us.all),r&&(r[o]=!0),t[o]}});return i},On=t=>nr(t)&&!Object.keys(t).length,kV=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return On(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!n||us.all))},xp=t=>Array.isArray(t)?t:[t],EV=(t,e,r)=>!t||!e||t===e||xp(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function xk(t){const e=be.useRef(t);e.current=t,be.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function Cpe(t){const e=vk(),{control:r=e.control,disabled:n,name:i,exact:s}=t,[o,a]=be.useState(r._formState),l=be.useRef(!0),c=be.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=be.useRef(i);return u.current=i,xk({disabled:n,next:A=>l.current&&EV(u.current,A.name,s)&&kV(A,c.current,r._updateFormState)&&a({...r._formState,...A}),subject:r._subjects.state}),be.useEffect(()=>(l.current=!0,c.current.isValid&&r._updateValid(!0),()=>{l.current=!1}),[r]),be.useMemo(()=>SV(o,r,c.current,!1),[o,r])}var eo=t=>typeof t=="string",FV=(t,e,r,n,i)=>eo(t)?(n&&e.watch.add(t),fe(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),fe(r,s))):(n&&(e.watchAll=!0),r);function Bpe(t){const e=vk(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:o}=t,a=be.useRef(n);a.current=n,xk({disabled:s,subject:r._subjects.values,next:u=>{EV(a.current,u.name,o)&&c(jn(FV(a.current,r._names,u.values||r._formValues,!1,i)))}});const[l,c]=be.useState(r._getWatch(n,i));return be.useEffect(()=>r._removeUnmounted()),l}function _pe(t){const e=vk(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s}=t,o=BV(i._names.array,r),a=Bpe({control:i,name:r,defaultValue:fe(i._formValues,r,fe(i._defaultValues,r,t.defaultValue)),exact:!0}),l=Cpe({control:i,name:r,exact:!0}),c=be.useRef(i.register(r,{...t.rules,value:a,...ji(t.disabled)?{disabled:t.disabled}:{}})),u=be.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!fe(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!fe(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!fe(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!fe(l.validatingFields,r)},error:{enumerable:!0,get:()=>fe(l.errors,r)}}),[l,r]),A=be.useMemo(()=>({name:r,value:a,...ji(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:h=>c.current.onChange({target:{value:CV(h),name:r},type:Yx.CHANGE}),onBlur:()=>c.current.onBlur({target:{value:fe(i._formValues,r),name:r},type:Yx.BLUR}),ref:h=>{const f=fe(i._fields,r);f&&h&&(f._f.ref={focus:()=>h.focus(),select:()=>h.select(),setCustomValidity:p=>h.setCustomValidity(p),reportValidity:()=>h.reportValidity()})}}),[r,i._formValues,n,l.disabled,a,i._fields]);return be.useEffect(()=>{const h=i._options.shouldUnregister||s,f=(p,m)=>{const y=fe(i._fields,p);y&&y._f&&(y._f.mount=m)};if(f(r,!0),h){const p=jn(fe(i._options.defaultValues,r));ot(i._defaultValues,r,p),qt(fe(i._formValues,r))&&ot(i._formValues,r,p)}return!o&&i.register(r),()=>{(o?h&&!i._state.action:h)?i.unregister(r):f(r,!1)}},[r,i,o,s]),be.useEffect(()=>{i._updateDisabledField({disabled:n,fields:i._fields,name:r})},[n,r,i]),be.useMemo(()=>({field:A,formState:l,fieldState:u}),[A,l,u])}const Spe=t=>t.render(_pe(t));var MV=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},V9=t=>({isOnSubmit:!t||t===us.onSubmit,isOnBlur:t===us.onBlur,isOnChange:t===us.onChange,isOnAll:t===us.all,isOnTouch:t===us.onTouched}),K9=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const bp=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=fe(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(bp(a,e))break}else if(nr(a)&&bp(a,e))break}}};var kpe=(t,e,r)=>{const n=xp(fe(t,r));return ot(n,"root",e[r]),ot(t,r,n),t},bk=t=>t.type==="file",Ys=t=>typeof t=="function",Jx=t=>{if(!gk)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},pv=t=>eo(t),wk=t=>t.type==="radio",Zx=t=>t instanceof RegExp;const z9={value:!1,isValid:!1},W9={value:!0,isValid:!0};var TV=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!qt(t[0].attributes.value)?qt(t[0].value)||t[0].value===""?W9:{value:t[0].value,isValid:!0}:W9:z9}return z9};const G9={isValid:!1,value:null};var DV=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,G9):G9;function q9(t,e,r="validate"){if(pv(t)||Array.isArray(t)&&t.every(pv)||ji(t)&&!t)return{type:r,message:pv(t)?t:"",ref:e}}var Ju=t=>nr(t)&&!Zx(t)?t:{value:t,message:""},X9=async(t,e,r,n,i,s)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:u,min:A,max:h,pattern:f,validate:p,name:m,valueAsNumber:y,mount:g}=t._f,v=fe(r,m);if(!g||e.has(m))return{};const x=a?a[0]:o,b=M=>{i&&x.reportValidity&&(x.setCustomValidity(ji(M)?"":M||""),x.reportValidity())},w={},C=wk(o),B=g0(o),_=C||B,k=(y||bk(o))&&qt(o.value)&&qt(v)||Jx(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,E=MV.bind(null,m,n,w),F=(M,T,Q,P=xo.maxLength,H=xo.minLength)=>{const I=M?T:Q;w[m]={type:M?P:H,message:I,ref:o,...E(M?P:H,I)}};if(s?!Array.isArray(v)||!v.length:l&&(!_&&(k||vn(v))||ji(v)&&!v||B&&!TV(a).isValid||C&&!DV(a).isValid)){const{value:M,message:T}=pv(l)?{value:!!l,message:l}:Ju(l);if(M&&(w[m]={type:xo.required,message:T,ref:x,...E(xo.required,T)},!n))return b(T),w}if(!k&&(!vn(A)||!vn(h))){let M,T;const Q=Ju(h),P=Ju(A);if(!vn(v)&&!isNaN(v)){const H=o.valueAsNumber||v&&+v;vn(Q.value)||(M=H>Q.value),vn(P.value)||(T=H<P.value)}else{const H=o.valueAsDate||new Date(v),I=V=>new Date(new Date().toDateString()+" "+V),L=o.type=="time",R=o.type=="week";eo(Q.value)&&v&&(M=L?I(v)>I(Q.value):R?v>Q.value:H>new Date(Q.value)),eo(P.value)&&v&&(T=L?I(v)<I(P.value):R?v<P.value:H<new Date(P.value))}if((M||T)&&(F(!!M,Q.message,P.message,xo.max,xo.min),!n))return b(w[m].message),w}if((c||u)&&!k&&(eo(v)||s&&Array.isArray(v))){const M=Ju(c),T=Ju(u),Q=!vn(M.value)&&v.length>+M.value,P=!vn(T.value)&&v.length<+T.value;if((Q||P)&&(F(Q,M.message,T.message),!n))return b(w[m].message),w}if(f&&!k&&eo(v)){const{value:M,message:T}=Ju(f);if(Zx(M)&&!v.match(M)&&(w[m]={type:xo.pattern,message:T,ref:o,...E(xo.pattern,T)},!n))return b(T),w}if(p){if(Ys(p)){const M=await p(v,r),T=q9(M,x);if(T&&(w[m]={...T,...E(xo.validate,T.message)},!n))return b(T.message),w}else if(nr(p)){let M={};for(const T in p){if(!On(M)&&!n)break;const Q=q9(await p[T](v,r),x,T);Q&&(M={...Q,...E(T,Q.message)},b(Q.message),n&&(w[m]=M))}if(!On(M)&&(w[m]={ref:x,...M},!n))return w}}return b(!0),w};function Epe(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=qt(t)?n++:t[e[n++]];return t}function Fpe(t){for(const e in t)if(t.hasOwnProperty(e)&&!qt(t[e]))return!1;return!0}function hr(t,e){const r=Array.isArray(e)?e:yk(e)?[e]:_V(e),n=r.length===1?t:Epe(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(nr(n)&&On(n)||Array.isArray(n)&&Fpe(n))&&hr(t,r.slice(0,-1)),t}var i3=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},z5=t=>vn(t)||!wV(t);function al(t,e){if(z5(t)||z5(e))return t===e;if(Jc(t)&&Jc(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const s=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Jc(s)&&Jc(o)||nr(s)&&nr(o)||Array.isArray(s)&&Array.isArray(o)?!al(s,o):s!==o)return!1}}return!0}var LV=t=>t.type==="select-multiple",Mpe=t=>wk(t)||g0(t),s3=t=>Jx(t)&&t.isConnected,jV=t=>{for(const e in t)if(Ys(t[e]))return!0;return!1};function eb(t,e={}){const r=Array.isArray(t);if(nr(t)||r)for(const n in t)Array.isArray(t[n])||nr(t[n])&&!jV(t[n])?(e[n]=Array.isArray(t[n])?[]:{},eb(t[n],e[n])):vn(t[n])||(e[n]=!0);return e}function OV(t,e,r){const n=Array.isArray(t);if(nr(t)||n)for(const i in t)Array.isArray(t[i])||nr(t[i])&&!jV(t[i])?qt(e)||z5(r[i])?r[i]=Array.isArray(t[i])?eb(t[i],[]):{...eb(t[i])}:OV(t[i],vn(e)?{}:e[i],r[i]):r[i]=!al(t[i],e[i]);return r}var $h=(t,e)=>OV(t,e,eb(e)),NV=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>qt(t)?t:e?t===""?NaN:t&&+t:r&&eo(t)?new Date(t):n?n(t):t;function o3(t){const e=t.ref;return bk(e)?e.files:wk(e)?DV(t.refs).value:LV(e)?[...e.selectedOptions].map(({value:r})=>r):g0(e)?TV(t.refs).value:NV(qt(e.value)?t.ref.value:e.value,t)}var Tpe=(t,e,r,n)=>{const i={};for(const s of t){const o=fe(e,s);o&&ot(i,s,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Vh=t=>qt(t)?t:Zx(t)?t.source:nr(t)?Zx(t.value)?t.value.source:t.value:t;const Y9="AsyncFunction";var Dpe=t=>!!t&&!!t.validate&&!!(Ys(t.validate)&&t.validate.constructor.name===Y9||nr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Y9)),Lpe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function J9(t,e,r){const n=fe(t,r);if(n||yk(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=fe(e,s),a=fe(t,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:r}}var jpe=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Ope=(t,e)=>!Z2(fe(t,e)).length&&hr(t,e);const Npe={mode:us.onSubmit,reValidateMode:us.onChange,shouldFocusError:!0};function Ipe(t={}){let e={...Npe,...t},r={submitCount:0,isDirty:!1,isLoading:Ys(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=nr(e.defaultValues)||nr(e.values)?jn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:jn(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},A={values:i3(),array:i3(),state:i3()},h=V9(e.mode),f=V9(e.reValidateMode),p=e.criteriaMode===us.all,m=O=>W=>{clearTimeout(c),c=setTimeout(O,W)},y=async O=>{if(!e.disabled&&(u.isValid||O)){const W=e.resolver?On((await _()).errors):await E(n,!0);W!==r.isValid&&A.state.next({isValid:W})}},g=(O,W)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((O||Array.from(a.mount)).forEach(te=>{te&&(W?ot(r.validatingFields,te,W):hr(r.validatingFields,te))}),A.state.next({validatingFields:r.validatingFields,isValidating:!On(r.validatingFields)}))},v=(O,W=[],te,ye,pe=!0,ue=!0)=>{if(ye&&te&&!e.disabled){if(o.action=!0,ue&&Array.isArray(fe(n,O))){const Se=te(fe(n,O),ye.argA,ye.argB);pe&&ot(n,O,Se)}if(ue&&Array.isArray(fe(r.errors,O))){const Se=te(fe(r.errors,O),ye.argA,ye.argB);pe&&ot(r.errors,O,Se),Ope(r.errors,O)}if(u.touchedFields&&ue&&Array.isArray(fe(r.touchedFields,O))){const Se=te(fe(r.touchedFields,O),ye.argA,ye.argB);pe&&ot(r.touchedFields,O,Se)}u.dirtyFields&&(r.dirtyFields=$h(i,s)),A.state.next({name:O,isDirty:M(O,W),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ot(s,O,W)},x=(O,W)=>{ot(r.errors,O,W),A.state.next({errors:r.errors})},b=O=>{r.errors=O,A.state.next({errors:r.errors,isValid:!1})},w=(O,W,te,ye)=>{const pe=fe(n,O);if(pe){const ue=fe(s,O,qt(te)?fe(i,O):te);qt(ue)||ye&&ye.defaultChecked||W?ot(s,O,W?ue:o3(pe._f)):P(O,ue),o.mount&&y()}},C=(O,W,te,ye,pe)=>{let ue=!1,Se=!1;const Qe={name:O};if(!e.disabled){const Cr=!!(fe(n,O)&&fe(n,O)._f&&fe(n,O)._f.disabled);if(!te||ye){u.isDirty&&(Se=r.isDirty,r.isDirty=Qe.isDirty=M(),ue=Se!==Qe.isDirty);const Br=Cr||al(fe(i,O),W);Se=!!(!Cr&&fe(r.dirtyFields,O)),Br||Cr?hr(r.dirtyFields,O):ot(r.dirtyFields,O,!0),Qe.dirtyFields=r.dirtyFields,ue=ue||u.dirtyFields&&Se!==!Br}if(te){const Br=fe(r.touchedFields,O);Br||(ot(r.touchedFields,O,te),Qe.touchedFields=r.touchedFields,ue=ue||u.touchedFields&&Br!==te)}ue&&pe&&A.state.next(Qe)}return ue?Qe:{}},B=(O,W,te,ye)=>{const pe=fe(r.errors,O),ue=u.isValid&&ji(W)&&r.isValid!==W;if(e.delayError&&te?(l=m(()=>x(O,te)),l(e.delayError)):(clearTimeout(c),l=null,te?ot(r.errors,O,te):hr(r.errors,O)),(te?!al(pe,te):pe)||!On(ye)||ue){const Se={...ye,...ue&&ji(W)?{isValid:W}:{},errors:r.errors,name:O};r={...r,...Se},A.state.next(Se)}},_=async O=>{g(O,!0);const W=await e.resolver(s,e.context,Tpe(O||a.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return g(O),W},k=async O=>{const{errors:W}=await _(O);if(O)for(const te of O){const ye=fe(W,te);ye?ot(r.errors,te,ye):hr(r.errors,te)}else r.errors=W;return W},E=async(O,W,te={valid:!0})=>{for(const ye in O){const pe=O[ye];if(pe){const{_f:ue,...Se}=pe;if(ue){const Qe=a.array.has(ue.name),Cr=pe._f&&Dpe(pe._f);Cr&&u.validatingFields&&g([ye],!0);const Br=await X9(pe,a.disabled,s,p,e.shouldUseNativeValidation&&!W,Qe);if(Cr&&u.validatingFields&&g([ye]),Br[ue.name]&&(te.valid=!1,W))break;!W&&(fe(Br,ue.name)?Qe?kpe(r.errors,Br,ue.name):ot(r.errors,ue.name,Br[ue.name]):hr(r.errors,ue.name))}!On(Se)&&await E(Se,W,te)}}return te.valid},F=()=>{for(const O of a.unMount){const W=fe(n,O);W&&(W._f.refs?W._f.refs.every(te=>!s3(te)):!s3(W._f.ref))&&G(O)}a.unMount=new Set},M=(O,W)=>!e.disabled&&(O&&W&&ot(s,O,W),!al(Y(),i)),T=(O,W,te)=>FV(O,a,{...o.mount?s:qt(W)?i:eo(O)?{[O]:W}:W},te,W),Q=O=>Z2(fe(o.mount?s:i,O,e.shouldUnregister?fe(i,O,[]):[])),P=(O,W,te={})=>{const ye=fe(n,O);let pe=W;if(ye){const ue=ye._f;ue&&(!ue.disabled&&ot(s,O,NV(W,ue)),pe=Jx(ue.ref)&&vn(W)?"":W,LV(ue.ref)?[...ue.ref.options].forEach(Se=>Se.selected=pe.includes(Se.value)):ue.refs?g0(ue.ref)?ue.refs.length>1?ue.refs.forEach(Se=>(!Se.defaultChecked||!Se.disabled)&&(Se.checked=Array.isArray(pe)?!!pe.find(Qe=>Qe===Se.value):pe===Se.value)):ue.refs[0]&&(ue.refs[0].checked=!!pe):ue.refs.forEach(Se=>Se.checked=Se.value===pe):bk(ue.ref)?ue.ref.value="":(ue.ref.value=pe,ue.ref.type||A.values.next({name:O,values:{...s}})))}(te.shouldDirty||te.shouldTouch)&&C(O,pe,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&V(O)},H=(O,W,te)=>{for(const ye in W){const pe=W[ye],ue=`${O}.${ye}`,Se=fe(n,ue);(a.array.has(O)||nr(pe)||Se&&!Se._f)&&!Jc(pe)?H(ue,pe,te):P(ue,pe,te)}},I=(O,W,te={})=>{const ye=fe(n,O),pe=a.array.has(O),ue=jn(W);ot(s,O,ue),pe?(A.array.next({name:O,values:{...s}}),(u.isDirty||u.dirtyFields)&&te.shouldDirty&&A.state.next({name:O,dirtyFields:$h(i,s),isDirty:M(O,ue)})):ye&&!ye._f&&!vn(ue)?H(O,ue,te):P(O,ue,te),K9(O,a)&&A.state.next({...r}),A.values.next({name:o.mount?O:void 0,values:{...s}})},L=async O=>{o.mount=!0;const W=O.target;let te=W.name,ye=!0;const pe=fe(n,te),ue=()=>W.type?o3(pe._f):CV(O),Se=Qe=>{ye=Number.isNaN(Qe)||Jc(Qe)&&isNaN(Qe.getTime())||al(Qe,fe(s,te,Qe))};if(pe){let Qe,Cr;const Br=ue(),Ba=O.type===Yx.BLUR||O.type===Yx.FOCUS_OUT,vX=!Lpe(pe._f)&&!e.resolver&&!fe(r.errors,te)&&!pe._f.deps||jpe(Ba,fe(r.touchedFields,te),r.isSubmitted,f,h),Kw=K9(te,a,Ba);ot(s,te,Br),Ba?(pe._f.onBlur&&pe._f.onBlur(O),l&&l(0)):pe._f.onChange&&pe._f.onChange(O);const zw=C(te,Br,Ba,!1),xX=!On(zw)||Kw;if(!Ba&&A.values.next({name:te,type:O.type,values:{...s}}),vX)return u.isValid&&(e.mode==="onBlur"&&Ba?y():Ba||y()),xX&&A.state.next({name:te,...Kw?{}:zw});if(!Ba&&Kw&&A.state.next({...r}),e.resolver){const{errors:RE}=await _([te]);if(Se(Br),ye){const bX=J9(r.errors,n,te),HE=J9(RE,n,bX.name||te);Qe=HE.error,te=HE.name,Cr=On(RE)}}else g([te],!0),Qe=(await X9(pe,a.disabled,s,p,e.shouldUseNativeValidation))[te],g([te]),Se(Br),ye&&(Qe?Cr=!1:u.isValid&&(Cr=await E(n,!0)));ye&&(pe._f.deps&&V(pe._f.deps),B(te,Cr,Qe,zw))}},R=(O,W)=>{if(fe(r.errors,W)&&O.focus)return O.focus(),1},V=async(O,W={})=>{let te,ye;const pe=xp(O);if(e.resolver){const ue=await k(qt(O)?O:pe);te=On(ue),ye=O?!pe.some(Se=>fe(ue,Se)):te}else O?(ye=(await Promise.all(pe.map(async ue=>{const Se=fe(n,ue);return await E(Se&&Se._f?{[ue]:Se}:Se)}))).every(Boolean),!(!ye&&!r.isValid)&&y()):ye=te=await E(n);return A.state.next({...!eo(O)||u.isValid&&te!==r.isValid?{}:{name:O},...e.resolver||!O?{isValid:te}:{},errors:r.errors}),W.shouldFocus&&!ye&&bp(n,R,O?pe:a.mount),ye},Y=O=>{const W={...o.mount?s:i};return qt(O)?W:eo(O)?fe(W,O):O.map(te=>fe(W,te))},re=(O,W)=>({invalid:!!fe((W||r).errors,O),isDirty:!!fe((W||r).dirtyFields,O),error:fe((W||r).errors,O),isValidating:!!fe(r.validatingFields,O),isTouched:!!fe((W||r).touchedFields,O)}),se=O=>{O&&xp(O).forEach(W=>hr(r.errors,W)),A.state.next({errors:O?r.errors:{}})},ie=(O,W,te)=>{const ye=(fe(n,O,{_f:{}})._f||{}).ref,pe=fe(r.errors,O)||{},{ref:ue,message:Se,type:Qe,...Cr}=pe;ot(r.errors,O,{...Cr,...W,ref:ye}),A.state.next({name:O,errors:r.errors,isValid:!1}),te&&te.shouldFocus&&ye&&ye.focus&&ye.focus()},Ae=(O,W)=>Ys(O)?A.values.subscribe({next:te=>O(T(void 0,W),te)}):T(O,W,!0),G=(O,W={})=>{for(const te of O?xp(O):a.mount)a.mount.delete(te),a.array.delete(te),W.keepValue||(hr(n,te),hr(s,te)),!W.keepError&&hr(r.errors,te),!W.keepDirty&&hr(r.dirtyFields,te),!W.keepTouched&&hr(r.touchedFields,te),!W.keepIsValidating&&hr(r.validatingFields,te),!e.shouldUnregister&&!W.keepDefaultValue&&hr(i,te);A.values.next({values:{...s}}),A.state.next({...r,...W.keepDirty?{isDirty:M()}:{}}),!W.keepIsValid&&y()},ae=({disabled:O,name:W,field:te,fields:ye})=>{(ji(O)&&o.mount||O||a.disabled.has(W))&&(O?a.disabled.add(W):a.disabled.delete(W),C(W,o3(te?te._f:fe(ye,W)._f),!1,!1,!0))},z=(O,W={})=>{let te=fe(n,O);const ye=ji(W.disabled)||ji(e.disabled);return ot(n,O,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:O}},name:O,mount:!0,...W}}),a.mount.add(O),te?ae({field:te,disabled:ji(W.disabled)?W.disabled:e.disabled,name:O}):w(O,!0,W.value),{...ye?{disabled:W.disabled||e.disabled}:{},...e.progressive?{required:!!W.required,min:Vh(W.min),max:Vh(W.max),minLength:Vh(W.minLength),maxLength:Vh(W.maxLength),pattern:Vh(W.pattern)}:{},name:O,onChange:L,onBlur:L,ref:pe=>{if(pe){z(O,W),te=fe(n,O);const ue=qt(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,Se=Mpe(ue),Qe=te._f.refs||[];if(Se?Qe.find(Cr=>Cr===ue):ue===te._f.ref)return;ot(n,O,{_f:{...te._f,...Se?{refs:[...Qe.filter(s3),ue,...Array.isArray(fe(i,O))?[{}]:[]],ref:{type:ue.type,name:O}}:{ref:ue}}}),w(O,!1,void 0,ue)}else te=fe(n,O,{}),te._f&&(te._f.mount=!1),(e.shouldUnregister||W.shouldUnregister)&&!(BV(a.array,O)&&o.action)&&a.unMount.add(O)}}},q=()=>e.shouldFocusError&&bp(n,R,a.mount),K=O=>{ji(O)&&(A.state.next({disabled:O}),bp(n,(W,te)=>{const ye=fe(n,te);ye&&(W.disabled=ye._f.disabled||O,Array.isArray(ye._f.refs)&&ye._f.refs.forEach(pe=>{pe.disabled=ye._f.disabled||O}))},0,!1))},ze=(O,W)=>async te=>{let ye;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let pe=jn(s);if(a.disabled.size)for(const ue of a.disabled)ot(pe,ue,void 0);if(A.state.next({isSubmitting:!0}),e.resolver){const{errors:ue,values:Se}=await _();r.errors=ue,pe=Se}else await E(n);if(hr(r.errors,"root"),On(r.errors)){A.state.next({errors:{}});try{await O(pe,te)}catch(ue){ye=ue}}else W&&await W({...r.errors},te),q(),setTimeout(q);if(A.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:On(r.errors)&&!ye,submitCount:r.submitCount+1,errors:r.errors}),ye)throw ye},Ie=(O,W={})=>{fe(n,O)&&(qt(W.defaultValue)?I(O,jn(fe(i,O))):(I(O,W.defaultValue),ot(i,O,jn(W.defaultValue))),W.keepTouched||hr(r.touchedFields,O),W.keepDirty||(hr(r.dirtyFields,O),r.isDirty=W.defaultValue?M(O,jn(fe(i,O))):M()),W.keepError||(hr(r.errors,O),u.isValid&&y()),A.state.next({...r}))},jt=(O,W={})=>{const te=O?jn(O):i,ye=jn(te),pe=On(O),ue=pe?i:ye;if(W.keepDefaultValues||(i=te),!W.keepValues){if(W.keepDirtyValues){const Se=new Set([...a.mount,...Object.keys($h(i,s))]);for(const Qe of Array.from(Se))fe(r.dirtyFields,Qe)?ot(ue,Qe,fe(s,Qe)):I(Qe,fe(ue,Qe))}else{if(gk&&qt(O))for(const Se of a.mount){const Qe=fe(n,Se);if(Qe&&Qe._f){const Cr=Array.isArray(Qe._f.refs)?Qe._f.refs[0]:Qe._f.ref;if(Jx(Cr)){const Br=Cr.closest("form");if(Br){Br.reset();break}}}}n={}}s=e.shouldUnregister?W.keepDefaultValues?jn(i):{}:jn(ue),A.array.next({values:{...ue}}),A.values.next({values:{...ue}})}a={mount:W.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!W.keepIsValid||!!W.keepDirtyValues,o.watch=!!e.shouldUnregister,A.state.next({submitCount:W.keepSubmitCount?r.submitCount:0,isDirty:pe?!1:W.keepDirty?r.isDirty:!!(W.keepDefaultValues&&!al(O,i)),isSubmitted:W.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:pe?{}:W.keepDirtyValues?W.keepDefaultValues&&s?$h(i,s):r.dirtyFields:W.keepDefaultValues&&O?$h(i,O):W.keepDirty?r.dirtyFields:{},touchedFields:W.keepTouched?r.touchedFields:{},errors:W.keepErrors?r.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Fn=(O,W)=>jt(Ys(O)?O(s):O,W);return{control:{register:z,unregister:G,getFieldState:re,handleSubmit:ze,setError:ie,_executeSchema:_,_getWatch:T,_getDirty:M,_updateValid:y,_removeUnmounted:F,_updateFieldArray:v,_updateDisabledField:ae,_getFieldArray:Q,_reset:jt,_resetDefaultValues:()=>Ys(e.defaultValues)&&e.defaultValues().then(O=>{Fn(O,e.resetOptions),A.state.next({isLoading:!1})}),_updateFormState:O=>{r={...r,...O}},_disableForm:K,_subjects:A,_proxyFormState:u,_setErrors:b,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(O){o=O},get _defaultValues(){return i},get _names(){return a},set _names(O){a=O},get _formState(){return r},set _formState(O){r=O},get _options(){return e},set _options(O){e={...e,...O}}},trigger:V,register:z,handleSubmit:ze,watch:Ae,setValue:I,getValues:Y,reset:Fn,resetField:Ie,clearErrors:se,unregister:G,setError:ie,setFocus:(O,W={})=>{const te=fe(n,O),ye=te&&te._f;if(ye){const pe=ye.refs?ye.refs[0]:ye.ref;pe.focus&&(pe.focus(),W.shouldSelect&&Ys(pe.select)&&pe.select())}},getFieldState:re}}function ga(t={}){const e=be.useRef(void 0),r=be.useRef(void 0),[n,i]=be.useState({isDirty:!1,isValidating:!1,isLoading:Ys(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ys(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Ipe(t),formState:n});const s=e.current.control;return s._options=t,xk({subject:s._subjects.state,next:o=>{kV(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),be.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),be.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),be.useEffect(()=>{t.values&&!al(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),be.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),be.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),be.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=SV(n,s),e.current}const Z9=(t,e,r)=>{if(t&&"reportValidity"in t){const n=fe(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},IV=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?Z9(n.ref,r,t):n.refs&&n.refs.forEach(i=>Z9(i,r,t))}},Upe=(t,e)=>{e.shouldUseNativeValidation&&IV(t,e);const r={};for(const n in t){const i=fe(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(Ppe(e.names||Object.keys(t),n)){const o=Object.assign({},fe(r,n));ot(o,"root",s),ot(r,n,o)}else ot(r,n,s)}return r},Ppe=(t,e)=>t.some(r=>r.startsWith(e+"."));function ya(t,e,r){return e===void 0&&(e={}),r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve(function(o,a){try{var l=(e.context,Promise.resolve(t[r.mode==="sync"?"validateSync":"validate"](n,Object.assign({abortEarly:!1},e,{context:i}))).then(function(c){return s.shouldUseNativeValidation&&IV({},s),{values:r.raw?n:c,errors:{}}}))}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(!o.inner)throw o;return{values:{},errors:Upe((a=o,l=!s.shouldUseNativeValidation&&s.criteriaMode==="all",(a.inner||[]).reduce(function(c,u){if(c[u.path]||(c[u.path]={message:u.message,type:u.type}),l){var A=c[u.path].types,h=A&&A[u.type];c[u.path]=MV(u.path,l,c,u.type,h?[].concat(h,u.message):u.message)}return c},{})),s)};var a,l}))}catch(o){return Promise.reject(o)}}}function Ru(t){this._maxSize=t,this.clear()}Ru.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Ru.prototype.get=function(t){return this._values[t]};Ru.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var Qpe=/[^.^\]^[]+|(?=\[\]|\.\.)/g,UV=/^\d+$/,Rpe=/^\d/,Hpe=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,$pe=/^\s*(['"]?)(.*?)(\1)\s*$/,Ck=512,eT=new Ru(Ck),tT=new Ru(Ck),rT=new Ru(Ck),cu={Cache:Ru,split:W5,normalizePath:a3,setter:function(t){var e=a3(t);return tT.get(t)||tT.set(t,function(n,i){for(var s=0,o=e.length,a=n;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return n;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var r=a3(t);return rT.get(t)||rT.set(t,function(i){for(var s=0,o=r.length;s<o;)if(i!=null||!e)i=i[r[s++]];else return;return i})},join:function(t){return t.reduce(function(e,r){return e+(Bk(r)||UV.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){Vpe(Array.isArray(t)?t:W5(t),e,r)}};function a3(t){return eT.get(t)||eT.set(t,W5(t).map(function(e){return e.replace($pe,"$2")}))}function W5(t){return t.match(Qpe)||[""]}function Vpe(t,e,r){var n=t.length,i,s,o,a;for(s=0;s<n;s++)i=t[s],i&&(Wpe(i)&&(i='"'+i+'"'),a=Bk(i),o=!a&&/^\d+$/.test(i),e.call(r,i,a,o,s,t))}function Bk(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Kpe(t){return t.match(Rpe)&&!t.match(UV)}function zpe(t){return Hpe.test(t)}function Wpe(t){return!Bk(t)&&(Kpe(t)||zpe(t))}const Gpe=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,ew=t=>t.match(Gpe)||[],tw=t=>t[0].toUpperCase()+t.slice(1),_k=(t,e)=>ew(t).join(e).toLowerCase(),PV=t=>ew(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),qpe=t=>tw(PV(t)),Xpe=t=>_k(t,"_"),Ype=t=>_k(t,"-"),Jpe=t=>tw(_k(t," ")),Zpe=t=>ew(t).map(tw).join(" ");var l3={words:ew,upperFirst:tw,camelCase:PV,pascalCase:qpe,snakeCase:Xpe,kebabCase:Ype,sentenceCase:Jpe,titleCase:Zpe},Sk={exports:{}};Sk.exports=function(t){return QV(eme(t),t)};Sk.exports.array=QV;function QV(t,e){var r=t.length,n=new Array(r),i={},s=r,o=tme(e),a=rme(t);for(e.forEach(function(c){if(!a.has(c[0])||!a.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return n;function l(c,u,A){if(A.has(c)){var h;try{h=", node was:"+JSON.stringify(c)}catch{h=""}throw new Error("Cyclic dependency"+h)}if(!a.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!i[u]){i[u]=!0;var f=o.get(c)||new Set;if(f=Array.from(f),u=f.length){A.add(c);do{var p=f[--u];l(p,a.get(p),A)}while(u);A.delete(c)}n[--r]=c}}}function eme(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var i=t[r];e.add(i[0]),e.add(i[1])}return Array.from(e)}function tme(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var i=t[r];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function rme(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var nme=Sk.exports;const ime=K_(nme),sme=Object.prototype.toString,ome=Error.prototype.toString,ame=RegExp.prototype.toString,lme=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",cme=/^Symbol\((.*)\)(.*)$/;function ume(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function nT(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return ume(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return lme.call(t).replace(cme,"Symbol($1)");const n=sme.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+ome.call(t)+"]":n==="RegExp"?ame.call(t):null}function ea(t,e){let r=nT(t,e);return r!==null?r:JSON.stringify(t,function(n,i){let s=nT(this[n],e);return s!==null?s:i},2)}function RV(t){return t==null?[]:[].concat(t)}let HV,$V,VV,Ame=/\$\{\s*(\w+)\s*\}/g;HV=Symbol.toStringTag;class iT{constructor(e,r,n,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[HV]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=i,this.errors=[],this.inner=[],RV(e).forEach(s=>{if(Pn.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}$V=Symbol.hasInstance;VV=Symbol.toStringTag;class Pn extends Error{static formatError(e,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof e=="string"?e.replace(Ame,(i,s)=>ea(r[s])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,i,s){const o=new iT(e,r,n,i);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[VV]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Pn)}static[$V](e){return iT[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Ws={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const i=n!=null&&n!==r?` (cast from the value \`${ea(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${ea(r,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${ea(r,!0)}\``+i}},Dn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},za={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},G5={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},dme={isValue:"${path} field must be ${value}"},mv={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},gv={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},hme={notType:t=>{const{path:e,value:r,spec:n}=t,i=n.types.length;if(Array.isArray(r)){if(r.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${r.length} for value: \`${ea(r,!0)}\``;if(r.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${r.length} for value: \`${ea(r,!0)}\``}return Pn.formatError(Ws.notType,t)}};Object.assign(Object.create(null),{mixed:Ws,string:Dn,number:za,date:G5,object:mv,array:gv,boolean:dme,tuple:hme});const rw=t=>t&&t.__isYupSchema__;class tb{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:i,otherwise:s}=r,o=typeof n=="function"?n:(...a)=>a.every(l=>l===n);return new tb(e,(a,l)=>{var c;let u=o(...a)?i:s;return(c=u==null?void 0:u(l))!=null?c:l})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(s=>s.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),i=this.fn(n,e,r);if(i===void 0||i===e)return e;if(!rw(i))throw new TypeError("conditions must return a schema object");return i.resolve(r)}}const dg={context:"$",value:"."};function fme(t,e){return new rc(t,e)}class rc{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===dg.context,this.isValue=this.key[0]===dg.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?dg.context:this.isValue?dg.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&cu.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let i=this.isContext?n:this.isValue?e:r;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}rc.prototype.__isYupRef=!0;const Vo=t=>t==null;function Zu(t){function e({value:r,path:n="",options:i,originalValue:s,schema:o},a,l){const{name:c,test:u,params:A,message:h,skipAbsent:f}=t;let{parent:p,context:m,abortEarly:y=o.spec.abortEarly,disableStackTrace:g=o.spec.disableStackTrace}=i;function v(F){return rc.isRef(F)?F.getValue(r,p,m):F}function x(F={}){const M=Object.assign({value:r,originalValue:s,label:o.spec.label,path:F.path||n,spec:o.spec,disableStackTrace:F.disableStackTrace||g},A,F.params);for(const Q of Object.keys(M))M[Q]=v(M[Q]);const T=new Pn(Pn.formatError(F.message||h,M),r,M.path,F.type||c,M.disableStackTrace);return T.params=M,T}const b=y?a:l;let w={path:n,parent:p,type:c,from:i.from,createError:x,resolve:v,options:i,originalValue:s,schema:o};const C=F=>{Pn.isError(F)?b(F):F?l(null):b(x())},B=F=>{Pn.isError(F)?b(F):a(F)};if(f&&Vo(r))return C(!0);let k;try{var E;if(k=u.call(w,r,w),typeof((E=k)==null?void 0:E.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${w.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(k).then(C,B)}}catch(F){B(F);return}C(k)}return e.OPTIONS=t,e}function pme(t,e,r,n=r){let i,s,o;return e?(cu.forEach(e,(a,l,c)=>{let u=l?a.slice(1,a.length-1):a;t=t.resolve({context:n,parent:i,value:r});let A=t.type==="tuple",h=c?parseInt(u,10):0;if(t.innerType||A){if(A&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(r&&h>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=r,r=r&&r[h],t=A?t.spec.types[h]:t.innerType}if(!c){if(!t.fields||!t.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=r,r=r&&r[u],t=t.fields[u]}s=u,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class rb extends Set{describe(){const e=[];for(const r of this.values())e.push(rc.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new rb(this.values())}merge(e,r){const n=this.clone();return e.forEach(i=>n.add(i)),r.forEach(i=>n.delete(i)),n}}function JA(t,e=new Map){if(rw(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=JA(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,i]of t.entries())r.set(n,JA(i,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(JA(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,i]of Object.entries(t))r[n]=JA(i,e)}else throw Error(`Unable to clone ${t}`);return r}class yi{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new rb,this._blacklist=new rb,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ws.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=JA(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const i=Object.assign({},r.spec,n.spec);return n.spec=i,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((i,s)=>s.resolve(i,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,i,s;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),i=r.assert==="ignore-optionality",s=n._cast(e,r);if(r.assert!==!1&&!n.isType(s)){if(i&&Vo(s))return s;let o=ea(e),a=ea(s);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=r,l=e;a||(l=this._cast(l,Object.assign({assert:!1},r)));let c=[];for(let u of Object.values(this.internalTests))u&&c.push(u);this.runTests({path:s,value:l,originalValue:o,options:r,tests:c},n,u=>{if(u.length)return i(u,l);this.runTests({path:s,value:l,originalValue:o,options:r,tests:this.tests},n,i)})}runTests(e,r,n){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:c}=e,u=m=>{i||(i=!0,r(m,o))},A=m=>{i||(i=!0,n(m,o))},h=s.length,f=[];if(!h)return A([]);let p={value:o,originalValue:a,path:l,options:c,schema:this};for(let m=0;m<s.length;m++){const y=s[m];y(p,u,function(v){v&&(Array.isArray(v)?f.push(...v):f.push(v)),--h<=0&&A(f)})}}asNestedTest({key:e,index:r,parent:n,parentPath:i,originalParent:s,options:o}){const a=e??r;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let c=n[a];const u=Object.assign({},o,{strict:!0,parent:n,value:c,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${l?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(A,h,f)=>this.resolve(u)._validate(c,u,h,f)}validate(e,r){var n;let i=this.resolve(Object.assign({},r,{value:e})),s=(n=r==null?void 0:r.disableStackTrace)!=null?n:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,r,(l,c)=>{Pn.isError(l)&&(l.value=c),a(l)},(l,c)=>{l.length?a(new Pn(l,c,void 0,void 0,s)):o(c)}))}validateSync(e,r){var n;let i=this.resolve(Object.assign({},r,{value:e})),s,o=(n=r==null?void 0:r.disableStackTrace)!=null?n:i.spec.disableStackTrace;return i._validate(e,Object.assign({},r,{sync:!0}),(a,l)=>{throw Pn.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Pn(a,e,void 0,void 0,o);s=l}),s}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(Pn.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(Pn.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):JA(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=Zu({message:r,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=Zu({message:r,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=Ws.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Ws.notNull){return this.nullability(!1,e)}required(e=Ws.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=Ws.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),i=Zu(r),s=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(o=>!(o.OPTIONS.name===r.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),n.tests.push(i),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),i=RV(e).map(s=>new rc(s));return i.forEach(s=>{s.isSibling&&n.deps.push(s.key)}),n.conditions.push(typeof r=="function"?new tb(i,r):tb.fromOptions(i,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=Zu({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=Ws.oneOf){let n=this.clone();return e.forEach(i=>{n._whitelist.add(i),n._blacklist.delete(i)}),n.internalTests.whiteList=Zu({message:r,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),n}notOneOf(e,r=Ws.notOneOf){let n=this.clone();return e.forEach(i=>{n._blacklist.add(i),n._whitelist.delete(i)}),n.internalTests.blacklist=Zu({message:r,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:i,optional:s,nullable:o}=r.spec;return{meta:i,label:n,optional:s,nullable:o,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,c,u)=>u.findIndex(A=>A.name===l.name)===c)}}}yi.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])yi.prototype[`${t}At`]=function(e,r,n={}){const{parent:i,parentPath:s,schema:o}=pme(this,e,r,n.context);return o[t](i&&i[s],Object.assign({},n,{parent:i,path:e}))};for(const t of["equals","is"])yi.prototype[t]=yi.prototype.oneOf;for(const t of["not","nope"])yi.prototype[t]=yi.prototype.notOneOf;const mme=()=>!0;function q5(t){return new KV(t)}class KV extends yi{constructor(e){super(typeof e=="function"?{type:"mixed",check:e}:Object.assign({type:"mixed",check:mme},e))}}q5.prototype=KV.prototype;const gme=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function yme(t){const e=X5(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function X5(t){var e,r;const n=gme.exec(t);return n?{year:bo(n[1]),month:bo(n[2],1)-1,day:bo(n[3],1),hour:bo(n[4]),minute:bo(n[5]),second:bo(n[6]),millisecond:n[7]?bo(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:bo(n[10]),minuteOffset:bo(n[11])}:null}function bo(t,e=0){return Number(t)||e}let vme=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,xme=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,bme=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,wme="^\\d{4}-\\d{2}-\\d{2}",Cme="\\d{2}:\\d{2}:\\d{2}",Bme="(([+-]\\d{2}(:?\\d{2})?)|Z)",_me=new RegExp(`${wme}T${Cme}(\\.\\d+)?${Bme}$`),Sme=t=>Vo(t)||t===t.trim(),kme={}.toString();function Re(){return new zV}class zV extends yi{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===kme?e:i})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||Ws.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=Dn.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=Dn.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=Dn.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,i,s;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:i,name:s}=r:i=r),this.test({name:s||"matches",message:i||Dn.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&n||o.search(e)!==-1})}email(e=Dn.email){return this.matches(vme,{name:"email",message:e,excludeEmptyString:!0})}url(e=Dn.url){return this.matches(xme,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Dn.uuid){return this.matches(bme,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,i;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:i=void 0}=e:r=e),this.matches(_me,{name:"datetime",message:r||Dn.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||Dn.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:s=>{if(!s||n)return!0;const o=X5(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:r||Dn.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const o=X5(s);return o?o.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Dn.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:Sme})}lowercase(e=Dn.lowercase){return this.transform(r=>Vo(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>Vo(r)||r===r.toLowerCase()})}uppercase(e=Dn.uppercase){return this.transform(r=>Vo(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>Vo(r)||r===r.toUpperCase()})}}Re.prototype=zV.prototype;let Eme=t=>t!=+t;function Bm(){return new WV}class WV extends yi{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!Eme(e)}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce)return e;let i=e;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return n.isType(i)||i===null?i:parseFloat(i)})})}min(e,r=za.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,r=za.max){return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,r=za.lessThan){return this.test({message:r,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,r=za.moreThan){return this.test({message:r,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=za.positive){return this.moreThan(0,e)}negative(e=za.negative){return this.lessThan(0,e)}integer(e=za.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:r=>Number.isInteger(r)})}truncate(){return this.transform(e=>Vo(e)?e:e|0)}round(e){var r;let n=["ceil","floor","round","trunc"];if(e=((r=e)==null?void 0:r.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(i=>Vo(i)?i:Math[e](i))}}Bm.prototype=WV.prototype;let Fme=new Date(""),Mme=t=>Object.prototype.toString.call(t)==="[object Date]";class nw extends yi{constructor(){super({type:"date",check(e){return Mme(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=yme(e),isNaN(e)?nw.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(rc.isRef(e))n=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=i}return n}min(e,r=G5.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(n)}})}max(e,r=G5.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(n)}})}}nw.INVALID_DATE=Fme;nw.prototype;function Tme(t,e=[]){let r=[],n=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=cu.split(o)[0];n.add(l),i.has(`${a}-${l}`)||r.push([a,l])}for(const o of Object.keys(t)){let a=t[o];n.add(o),rc.isRef(a)&&a.isSibling?s(a.path,o):rw(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return ime.array(Array.from(n),r).reverse()}function sT(t,e){let r=1/0;return t.some((n,i)=>{var s;if((s=e.path)!=null&&s.includes(n))return r=i,!0}),r}function GV(t){return(e,r)=>sT(t,e)-sT(t,r)}const qV=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function yv(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=yv(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=yv(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(yv)}):"optional"in t?t.optional():t}const Dme=(t,e)=>{const r=[...cu.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),i=cu.getter(cu.join(r),!0)(t);return!!(i&&n in i)};let oT=t=>Object.prototype.toString.call(t)==="[object Object]";function aT(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const Lme=GV([]);function go(t){return new XV(t)}class XV extends yi{constructor(e){super({type:"object",check(r){return oT(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=Lme,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let i=super._cast(e,r);if(i===void 0)return this.getDefault(r);if(!this._typeCheck(i))return i;let s=this.fields,o=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(A=>!this._nodes.includes(A))),l={},c=Object.assign({},r,{parent:l,__validating:r.__validating||!1}),u=!1;for(const A of a){let h=s[A],f=A in i;if(h){let p,m=i[A];c.path=(r.path?`${r.path}.`:"")+A,h=h.resolve({value:m,context:r.context,parent:l});let y=h instanceof yi?h.spec:void 0,g=y==null?void 0:y.strict;if(y!=null&&y.strip){u=u||A in i;continue}p=!r.__validating||!g?h.cast(i[A],c):i[A],p!==void 0&&(l[A]=p)}else f&&!o&&(l[A]=i[A]);(f!==A in l||l[A]!==i[A])&&(u=!0)}return u?l:i}_validate(e,r={},n,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=r;r.from=[{schema:this,value:o},...s],r.__validating=!0,r.originalValue=o,super._validate(e,r,n,(l,c)=>{if(!a||!oT(c)){i(l,c);return}o=o||c;let u=[];for(let A of this._nodes){let h=this.fields[A];!h||rc.isRef(h)||u.push(h.asNestedTest({options:r,key:A,parent:c,parentPath:r.path,originalParent:o}))}this.runTests({tests:u,value:c,originalValue:o,options:r},n,A=>{i(A.sort(this._sortErrors).concat(l),c)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[i,s]of Object.entries(this.fields)){const o=n[i];n[i]=o===void 0?s:o}return r.withMutation(i=>i.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var i;const s=this.fields[n];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[n]})),r[n]=s&&"getDefault"in s?s.getDefault(o):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=Tme(e,r),n._sortErrors=GV(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let i=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),i=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),i)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return yv(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,i])=>e.includes(n)&&e.includes(i)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let i=cu.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return Dme(s,e)&&(o=Object.assign({},s),n||delete o[e],o[r]=i(s)),o})}json(){return this.transform(qV)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||mv.exact,test(r){if(r==null)return!0;const n=aT(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=mv.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(i){if(i==null)return!0;const s=aT(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=mv.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const i of Object.keys(r))n[e(i)]=r[i];return n})}camelCase(){return this.transformKeys(l3.camelCase)}snakeCase(){return this.transformKeys(l3.snakeCase)}constantCase(){return this.transformKeys(e=>l3.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[s,o]of Object.entries(r.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),n.fields[s]=o.describe(a)}return n}}go.prototype=XV.prototype;function vv(t){return new YV(t)}class YV extends yi{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let i=!1;const s=n.map((o,a)=>{const l=this.innerType.cast(o,Object.assign({},r,{path:`${r.path||""}[${a}]`}));return l!==o&&(i=!0),l});return i?s:n}_validate(e,r={},n,i){var s;let o=this.innerType,a=(s=r.recursive)!=null?s:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(l,c)=>{var u;if(!a||!o||!this._typeCheck(c)){i(l,c);return}let A=new Array(c.length);for(let f=0;f<c.length;f++){var h;A[f]=o.asNestedTest({options:r,index:f,parent:c,parentPath:r.path,originalParent:(h=r.originalValue)!=null?h:e})}this.runTests({value:c,tests:A,originalValue:(u=r.originalValue)!=null?u:e,options:r},n,f=>i(f.concat(l),c))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(qV)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!rw(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+ea(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=gv.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||gv.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||gv.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,i,s)=>!e(n,i,s):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);if(r.innerType){var i;let s=e;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),n.innerType=r.innerType.describe(s)}return n}}vv.prototype=YV.prototype;const jme=go().shape({name:Re().required("Name is required").min(2),email:Re().required("Email is required").email(),contact:Re().required("Phone is required").matches(/^\d{10}$/,"Must be a 10-digit number"),role:Re().required("Role is required"),password:Re().required("Password is required").min(6),confirmPassword:Re().oneOf([fme("password")],"Passwords must match"),studentLevel:Re().when("role",t=>t===le.USER?Re().required():Re().notRequired()),parentID:Re().when("role",t=>t===le.USER?Re().required():Re().notRequired()),rollNumber:q5().when("role",t=>t===le.USER?Bm().required().positive().integer():q5().notRequired()),teacherGrade:Re().when("role",t=>t===le.TEACHER?Re().required():Re().notRequired()),teacherSubjects:vv().when("role",t=>t===le.TEACHER?vv().of(Bm()).min(1).required():vv().notRequired()),district:Re().when("role",t=>t===le.SUPER_INTENDENT?Re().required("Select A District"):Re().notRequired()),school:Re().when("role",t=>t===le.ADMIN?Re().required():Re().notRequired())}),c3=()=>{var V,Y,re,se,ie,Ae,G,ae,z,q;const{user:t}=dn(),{register:e,handleSubmit:r,reset:n,watch:i,control:s,setValue:o,clearErrors:a,formState:{errors:l,isSubmitting:c}}=ga({resolver:ya(jme)}),u=i("role"),A=i("teacherGrade"),[h]=ase();F$();const{refetch:f,data:p,isLoading:m,isError:y,error:g}=c8({page:1,limit:1e16},{skip:(t==null?void 0:t.role)===le.SUPER_ADMIN||(t==null?void 0:t.role)===le.SUPER_INTENDENT}),{data:v,isLoading:x,isError:b,error:w,refetch:C}=tc(),[B,{data:_,isLoading:k,isError:E,error:F,refetch:M}]=N2(),[T,Q]=S.useState([]),{data:P,refetch:H}=pk({},{skip:(t==null?void 0:t.role)!==le.SUPER_ADMIN});S.useEffect(()=>{u===le.SUPER_INTENDENT&&H()},[u]);const{data:I,refetch:L}=mk({page:1,limit:1e14},{skip:(t==null?void 0:t.role)!==le.SUPER_INTENDENT});S.useEffect(()=>{u===le.ADMIN&&L()},[u,I]),S.useEffect(()=>{u===le.USER&&(C(),f())},[u,C,f]),S.useEffect(()=>{u===le.TEACHER&&C()},[u,C]),S.useEffect(()=>{u===le.TEACHER&&A&&B({level_id:Number(A)})},[u,A,B]),S.useEffect(()=>{if((_==null?void 0:_.statusCode)===200&&(_!=null&&_.data)){const K=_.data.map(ze=>({value:ze.id,label:ze.display_title||ze.title}));Q(K)}},[_]),S.useEffect(()=>{u!==le.USER&&(o("studentLevel",""),o("parentID",""),o("rollNumber",""),a(["studentLevel","parentID","rollNumber"])),u!==le.TEACHER&&(o("teacherGrade",""),o("teacherSubjects",[]),a(["teacherGrade","teacherSubjects"])),u!==le.SUPER_INTENDENT&&(o("district",""),a(["district"])),u!==le.ADMIN&&(o("school",""),a(["school"]))},[u,o,a]);const R=async K=>{var ze;try{const Ie={name:K.name,password:K.password,email:K.email,contact:K.contact,role:K.role};K.role===le.USER?(Ie.level_id=Number(K.studentLevel),Ie.parent_id=Number(K.parentID),Ie.user_roll_no=K.rollNumber):K.role===le.TEACHER?(Ie.level_id=Number(K.teacherGrade),Ie.subjects=K==null?void 0:K.teacherSubjects):K.role===le.SUPER_INTENDENT?Ie.district_id=Number(K==null?void 0:K.district):K.role===le.ADMIN&&(Ie.school_id=Number(K==null?void 0:K.school));const jt=await h(Ie).unwrap();(jt==null?void 0:jt.statusCode)===200&&($.success("User created successfully"),n(),Q([]))}catch(Ie){console.error("Error:",Ie),$.error(((ze=Ie==null?void 0:Ie.data)==null?void 0:ze.message)||"Failed to create user")}};return d.jsx("div",{className:"min-h-screen bg-white",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[d.jsx(Hd,{className:"text-[#6925EF]"}),"Create New User"]}),d.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Add a new user to the system with their details and role"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[d.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:d.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[d.jsx(yn,{className:"text-[#6925EF] w-5 h-5"}),"User Information"]})}),d.jsxs("form",{onSubmit:r(R),className:"p-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(yn,{className:"text-[#6925EF] w-4 h-4"}),"Name"]}),d.jsx("input",{type:"text",...e("name"),placeholder:"Enter full name",className:`w-full px-4 py-2.5 rounded-lg border ${l.name?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`}),l.name&&d.jsx("p",{className:"text-red-500 text-sm",children:l.name.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(A8,{className:"text-[#6925EF] w-4 h-4"}),"Email"]}),d.jsx("input",{type:"email",...e("email"),placeholder:"Enter email address",className:`w-full px-4 py-2.5 rounded-lg border ${l.email?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`}),l.email&&d.jsx("p",{className:"text-red-500 text-sm",children:l.email.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(f8,{className:"text-[#6925EF] w-4 h-4"}),"Phone No"]}),d.jsx("input",{type:"text",...e("contact"),placeholder:"Enter phone number",className:`w-full px-4 py-2.5 rounded-lg border ${l.contact?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`}),l.contact&&d.jsx("p",{className:"text-red-500 text-sm",children:l.contact.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(jse,{className:"text-[#6925EF] w-4 h-4"}),"Role"]}),d.jsxs("select",{...e("role"),onChange:K=>o("role",K.target.value),className:`w-full px-4 py-2.5 rounded-lg border ${l.role?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`,children:[d.jsx("option",{value:"",children:"Select Role"}),(t==null?void 0:t.role)===le.SUPER_ADMIN&&d.jsx("option",{value:le.SUPER_INTENDENT,children:"Super Intendent"}),(t==null?void 0:t.role)===le.SUPER_INTENDENT&&d.jsx("option",{value:le.ADMIN,children:"Principal"}),(t==null?void 0:t.role)===le.ADMIN&&d.jsxs(d.Fragment,{children:[d.jsx("option",{value:le.USER,children:"Student"}),d.jsx("option",{value:le.TEACHER,children:"Teacher"}),d.jsx("option",{value:le.PARENT,children:"Parent"})]})]}),l.role&&d.jsx("p",{className:"text-red-500 text-sm",children:l.role.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(hp,{className:"text-[#6925EF] w-4 h-4"}),"Password"]}),d.jsx("input",{type:"password",...e("password"),placeholder:"Enter password",className:`w-full px-4 py-2.5 rounded-lg border ${l.password?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`}),l.password&&d.jsx("p",{className:"text-red-500 text-sm",children:l.password.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(hp,{className:"text-[#6925EF] w-4 h-4"}),"Confirm Password"]}),d.jsx("input",{type:"password",...e("confirmPassword"),placeholder:"Confirm password",className:`w-full px-4 py-2.5 rounded-lg border ${l.confirmPassword?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`}),l.confirmPassword&&d.jsx("p",{className:"text-red-500 text-sm",children:l.confirmPassword.message})]}),u===le.SUPER_INTENDENT&&d.jsxs("div",{className:"space-y-1",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(yn,{className:"text-[#6925EF] w-4 h-4"}),"District"]}),d.jsxs("select",{...e("district"),className:`w-full px-4 py-2.5 rounded-lg border ${l.district?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`,children:[d.jsx("option",{value:"",children:"Select District"}),(V=P==null?void 0:P.data)==null?void 0:V.map(K=>d.jsx("option",{value:K==null?void 0:K.id,children:K==null?void 0:K.name},K==null?void 0:K.id))]}),l.district&&d.jsx("p",{className:"text-red-500 text-sm",children:l.district.message})]}),u===le.ADMIN&&d.jsxs("div",{className:"space-y-1",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(yn,{className:"text-[#6925EF] w-4 h-4"}),"School"]}),d.jsxs("select",{...e("school"),className:`w-full px-4 py-2.5 rounded-lg border ${l.school?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`,children:[d.jsx("option",{value:"",children:"Select School"}),(re=(Y=I==null?void 0:I.data)==null?void 0:Y.data)==null?void 0:re.map(K=>d.jsx("option",{value:K.id,children:K.name},K.id))]}),l.school&&d.jsx("p",{className:"text-red-500 text-sm",children:l.school.message})]}),u===le.USER&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-1 md:col-span-1",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(yn,{className:"text-[#6925EF] w-4 h-4"}),"Student Level"]}),x?d.jsx("p",{children:"Loading levels..."}):b?d.jsxs("p",{className:"text-red-500",children:["Error loading levels: ",((se=w==null?void 0:w.data)==null?void 0:se.message)||"Unknown error"]}):d.jsxs("select",{...e("studentLevel"),className:`w-full px-4 py-2.5 rounded-lg border ${l.studentLevel?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`,children:[d.jsx("option",{value:"",children:"Select Level"}),(ie=v==null?void 0:v.data)==null?void 0:ie.map(K=>d.jsxs("option",{value:K.id,children:[K.level.charAt(0).toUpperCase()+K.level.slice(1)," - ",K.description]},K.id))]}),l.studentLevel&&d.jsx("p",{className:"text-red-500 text-sm",children:l.studentLevel.message})]}),d.jsxs("div",{className:"space-y-1 md:col-span-1",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(yn,{className:"text-[#6925EF] w-4 h-4"}),"Parent"]}),m?d.jsx("p",{children:"Loading parents..."}):y?d.jsxs("p",{className:"text-red-500",children:["Error loading parents: ",((Ae=g==null?void 0:g.data)==null?void 0:Ae.message)||"Unknown error"]}):d.jsxs("select",{...e("parentID"),className:`w-full px-4 py-2.5 rounded-lg border ${l.parentID?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`,children:[d.jsx("option",{value:"",children:"Select Parent"}),(G=p==null?void 0:p.users)==null?void 0:G.map(K=>d.jsx("option",{value:K.id,children:K==null?void 0:K.email},K.id))]}),l.parentID&&d.jsx("p",{className:"text-red-500 text-sm",children:l.parentID.message})]}),d.jsxs("div",{className:"space-y-1 md:col-span-1",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(yn,{className:"text-[#6925EF] w-4 h-4"}),"Roll Number"]}),d.jsx("input",{type:"text",...e("rollNumber"),placeholder:"Enter roll number",className:`w-full px-4 py-2.5 rounded-lg border ${l.rollNumber?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`}),l.rollNumber&&d.jsx("p",{className:"text-red-500 text-sm",children:l.rollNumber.message})]})]}),u===le.TEACHER&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-1 md:col-span-1",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(yn,{className:"text-[#6925EF] w-4 h-4"}),"Teacher Grade"]}),x?d.jsx("p",{children:"Loading grades..."}):b?d.jsxs("p",{className:"text-red-500",children:["Error loading grades: ",((ae=w==null?void 0:w.data)==null?void 0:ae.message)||"Unknown error"]}):d.jsxs("select",{...e("teacherGrade"),className:`w-full px-4 py-2.5 rounded-lg border ${l.teacherGrade?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`,children:[d.jsx("option",{value:"",children:"Select Grade"}),(z=v==null?void 0:v.data)==null?void 0:z.map(K=>d.jsx("option",{value:K.id,children:K.level.charAt(0).toUpperCase()+K.level.slice(1)},K.id))]}),l.teacherGrade&&d.jsx("p",{className:"text-red-500 text-sm",children:l.teacherGrade.message})]}),d.jsxs("div",{className:"space-y-1 md:col-span-1",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(yn,{className:"text-[#6925EF] w-4 h-4"}),"Teacher Subject"]}),k?d.jsx("p",{children:"Loading subjects..."}):E?d.jsxs("p",{className:"text-red-500",children:["Error loading subjects: ",((q=F==null?void 0:F.data)==null?void 0:q.message)||"Unknown error"]}):d.jsx(Spe,{name:"teacherSubjects",control:s,defaultValue:[],render:({field:K})=>{const ze=()=>!K.value||K.value.length===0?[]:T.filter(Ie=>K.value.includes(Ie.value));return d.jsx(bV,{value:ze(),isMulti:!0,options:T,placeholder:"Select subjects",classNamePrefix:"react-select",onChange:Ie=>K.onChange(Ie.map(jt=>jt.value)),menuPortalTarget:document.body})}}),l.teacherSubjects&&d.jsx("p",{className:"text-red-500 text-sm",children:l.teacherSubjects.message})]})]})]}),d.jsx("div",{className:"mt-8",children:d.jsx("button",{type:"submit",disabled:c,className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50",children:c?"Creating User...":d.jsxs(d.Fragment,{children:[d.jsx(Hd,{className:"w-5 h-5"}),"Create User"]})})})]})]})]})})};var JV={exports:{}},Ome="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Nme=Ome,Ime=Nme;function ZV(){}function eK(){}eK.resetWarningCache=ZV;var Ume=function(){function t(n,i,s,o,a,l){if(l!==Ime){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:eK,resetWarningCache:ZV};return r.PropTypes=r,r};JV.exports=Ume();var Pme=JV.exports;const Xe=K_(Pme),Tr=({children:t,className:e="",...r})=>d.jsx("button",{className:`inline-flex items-center gap-2 px-4 py-2 bg-bg-gradient text-white rounded-md hover:bg-blue-600 transition-all duration-200 shadow-md ${e}`,...r,children:t});Tr.propTypes={children:Xe.node.isRequired,className:Xe.string};const Rl=({icon:t,onClick:e,tooltip:r,className:n="",variant:i="primary"})=>{const s={primary:"text-[#6925EF] hover:text-[#3C1589] cursor-pointer transition-colors",danger:"text-red-500 hover:text-red-600",success:"text-[rgb(30,64,175,0.8)] hover:text-[rgba(30,64,175)]"};return d.jsx("button",{onClick:e,title:r,className:`p-2 rounded-full transition-all duration-200 ${s[i]} ${n}`,children:t})};Rl.propTypes={icon:Xe.element.isRequired,onClick:Xe.func.isRequired,tooltip:Xe.string,className:Xe.string,variant:Xe.oneOf(["primary","danger","success"])};Rl.defaultProps={tooltip:"",className:"",variant:"primary"};const Hu=({currentPage:t,totalPages:e,limit:r,onPageChange:n,onLimitChange:i})=>{const o=(()=>{const a=[];for(let c=1;c<=e;c++)c===1||c===e||c>=t-2&&c<=t+2?a.push(c):(c===t-2-1||c===t+2+1)&&a.push("...");return[...new Set(a)]})();return d.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 py-3 bg-white border-t rounded-md shadow-md",children:[d.jsx("div",{className:"flex items-center gap-4 mb-4 sm:mb-0",children:d.jsx("select",{value:r,onChange:a=>i(Number(a.target.value)),className:"px-2 py-1 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[10,20,50,100].map(a=>d.jsxs("option",{value:a,children:[a," per page"]},a))})}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:()=>n(Math.max(t-1,1)),disabled:t===1,className:"px-3 py-1 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),o.map((a,l)=>a==="..."?d.jsx("span",{className:"px-3 py-1 text-sm font-medium text-gray-400",children:"..."},l):d.jsx("button",{onClick:()=>n(a),className:`px-3 py-1 rounded-md text-sm font-medium ${t===a?"bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white":"text-gray-700 hover:bg-gray-100"}`,children:a},a)),d.jsx("button",{onClick:()=>n(Math.min(t+1,e)),disabled:t===e,className:"px-3 py-1 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})};Hu.propTypes={currentPage:Xe.number.isRequired,totalPages:Xe.number.isRequired,limit:Xe.number.isRequired,onPageChange:Xe.func.isRequired,onLimitChange:Xe.func.isRequired};const ph=({isOpen:t,onClose:e,onConfirm:r,title:n,message:i})=>t?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:n}),d.jsx("p",{className:"text-gray-600 mb-6",children:i}),d.jsxs("div",{className:"flex justify-end gap-4",children:[d.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),d.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-white bg-red-500 rounded-md hover:bg-red-600 transition-colors",children:"Delete"})]})]})}):null;ph.propTypes={isOpen:Xe.bool.isRequired,onClose:Xe.func.isRequired,onConfirm:Xe.func.isRequired,title:Xe.string,message:Xe.string};ph.defaultProps={title:"Delete Confirmation",message:"Are you sure you want to delete this item? This action cannot be undone."};const Qme=()=>{var b;const t=Ze(),[e,r]=S.useState(1),[n,i]=S.useState(10),[s,o]=S.useState(!1),[a,l]=S.useState(null),{data:c,isLoading:u,error:A,isError:h,refetch:f}=GR({page:e,limit:n});S.useEffect(()=>{f()},[]);const[p]=KR(),m=async w=>{const C=await p({bot_id:w}).unwrap();(C==null?void 0:C.statusCode)===200?($.success("Bot deleted successfully!",{position:"top-right",autoClose:3e3}),f()):$.error("Bot deletion failed!",{position:"top-right",autoClose:3e3}),o(!1),l(null)},y=w=>{l(w),o(!0)},g=[{Header:"ID",accessor:"id"},{Header:"Name",accessor:"name"},{Header:"Display Name",accessor:"display_name"},{Header:"AI Model",accessor:"ai_model"},{Header:"Description",accessor:"description"},{Header:"Actions",accessor:"actions"}],v=w=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ss,{onClick:()=>t(`/admin/bots/${w.id}`),className:"w-4 h-4 text-[#6925EF] hover:text-[#3C1589] cursor-pointer transition-colors",title:"Edit Bot"}),d.jsx(Pu,{onClick:()=>y(w.id),className:"w-4 h-4 text-red-500 hover:text-red-700 cursor-pointer transition-colors",title:"Delete Bot"})]}),x=(b=c==null?void 0:c.bots)==null?void 0:b.map((w,C)=>({...w,id:C+1,actions:v(w)}));return d.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:[d.jsx("div",{className:"max-w-7xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[d.jsx("div",{className:"p-6 border-b border-gray-200",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[d.jsx($i,{className:"text-[#6925EF]"}),"Manage Bots"]}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all bots in the system"})]}),d.jsxs(Tr,{onClick:()=>t("/admin/new-bot"),className:"self-stretch sm:self-auto",children:[d.jsx($i,{}),d.jsx("span",{children:" New Bot"})]})]})}),d.jsx("div",{className:"p-6",children:u?d.jsxs("div",{className:"flex justify-center items-center",children:[d.jsx(ir,{className:"inline animate-spin text-[#6925EF]"}),d.jsx("span",{className:"text-gray-600 ml-2",children:"Loading bots..."})]}):h?d.jsx("div",{className:"text-red-500 text-center",children:(A==null?void 0:A.message)||"Error loading bots"}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsx("tr",{children:g.map(w=>d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:w.Header},w.accessor))})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x==null?void 0:x.map(({id:w,name:C,display_name:B,level:_,ai_model:k,description:E,actions:F})=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:C}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:B}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:k}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:E}),d.jsx("td",{className:"px-6 py-4 text-sm",children:F})]},w))})]})})}),d.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200",children:d.jsx(Hu,{currentPage:e,totalPages:(c==null?void 0:c.totalPages)||1,limit:n,onPageChange:r,onLimitChange:w=>{i(w),r(1)}})})]})}),d.jsx(ph,{isOpen:s,onClose:()=>o(!1),onConfirm:()=>m(a),title:"Delete Bot",message:"Are you sure you want to delete this bot? This action cannot be undone."})]})},Rme=({botFiles:t,allFiles:e,selectedFile:r,onFileChange:n,onFileUpdate:i,onDelete:s})=>{const[o,a]=S.useState();return S.useEffect(()=>{const l=e==null?void 0:e.filter(c=>!(t!=null&&t.some(u=>u.id===c.id)));a(l)},[t,e]),d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-8",children:[d.jsx("div",{className:"p-6 border-b border-gray-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(hs,{className:"text-[#6F38DE] h-6 w-6"}),d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"File Attachment"})]})}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:t&&t.length>0?d.jsx(d.Fragment,{children:t.map(l=>{var c,u,A;return d.jsxs("div",{className:"flex items-center justify-between p-4 mb-1 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200",children:[d.jsxs("p",{className:"flex items-center gap-2 text-green-600",children:[d.jsx(hs,{className:"h-4 w-4"}),l.file_name," - ",(c=l==null?void 0:l.subject)==null?void 0:c.title," - ",(A=(u=l==null?void 0:l.subject)==null?void 0:u.level)==null?void 0:A.level]}),d.jsxs("button",{onClick:()=>s(l==null?void 0:l.id),className:"flex items-center gap-1 px-3 py-1 text-sm text-red-600 bg-red-100 rounded-lg hover:bg-red-200 transition-all duration-200",children:[d.jsx(Pu,{className:"h-4 w-4"}),"Delete"]})]})})}):d.jsxs("p",{className:"flex items-center gap-2 text-red-500",children:[d.jsx(hs,{className:"h-4 w-4"}),"No file selected"]})}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select File"}),d.jsxs("select",{value:r,onChange:n,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",children:[d.jsx("option",{value:"",children:"Select a file"}),o==null?void 0:o.map(l=>{var c,u,A;return d.jsx("option",{value:l==null?void 0:l.id,children:d.jsxs("span",{children:[l==null?void 0:l.file_name," - ",(c=l==null?void 0:l.subject)==null?void 0:c.title," - ",(A=(u=l==null?void 0:l.subject)==null?void 0:u.level)==null?void 0:A.level," "]})},l==null?void 0:l.id)})]})]}),d.jsxs("button",{type:"button",onClick:i,className:"inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-lg text-base font-medium text-white bg-[#6F38DE] hover:bg-[#5C2EBA] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#6F38DE]",children:[d.jsx(hs,{className:"w-5 h-5 mr-2"}),"Attach File"]})]})]})},Hme=()=>{var Ae,G,ae;Ze();const{bot_id:t}=dr(),[e,r]=S.useState(),[n,i]=S.useState(),[s,o]=S.useState({id:"",name:"",display_name:"",description:"",first_message:"",ai_model:"",level_id:"",subject_id:"",voice_model:""}),[a]=Gse(),[l,c]=S.useState(null),[u]=VR();KR();const{data:A,isError:h,refetch:f}=E$({page:1,limit:1e9}),{data:p,isLoading:m,isError:y,error:g,refetch:v}=tc(),{data:x,isLoading:b,isError:w}=X8(),[C,{data:B,isLoading:_,isError:k,error:E}]=N2(),[F,M]=S.useState([]);S.useEffect(()=>{h&&$.error("Files fetching failed")},[h]);const[T,{isError:Q,error:P}]=qse(),[H]=Wse(),[I]=zse();async function L(z){const q=await a({bot_id:Number(z)}).unwrap();(q==null?void 0:q.statusCode)===200?r(q==null?void 0:q.data):$.error("Error getting context data")}async function R(z){var K,ze,Ie,jt,Fn,Wr,$w,Vw,O;const q=await u({bot_id:Number(t)}).unwrap();(q==null?void 0:q.statusCode)===200?(o({id:(K=q==null?void 0:q.bot)==null?void 0:K.id,name:(ze=q==null?void 0:q.bot)==null?void 0:ze.name,display_name:(Ie=q==null?void 0:q.bot)==null?void 0:Ie.display_name,description:(jt=q==null?void 0:q.bot)==null?void 0:jt.description,first_message:(Fn=q==null?void 0:q.bot)==null?void 0:Fn.first_message,ai_model:(Wr=q==null?void 0:q.bot)==null?void 0:Wr.ai_model,level_id:($w=q==null?void 0:q.bot)==null?void 0:$w.level_id,subject_id:(Vw=q==null?void 0:q.bot)==null?void 0:Vw.subject_id,voice_model:(O=q==null?void 0:q.bot)==null?void 0:O.voice_model}),await L(t)):$.error("Error fetching the bot")}S.useEffect(()=>{if(e&&(A!=null&&A.files)){const z=e.map(q=>A.files.find(K=>K.id===q.file_id)).filter(Boolean);z.length>0?i(z):i([])}},[e,A]),S.useEffect(()=>{R()},[t]),S.useEffect(()=>{R()},[]),S.useEffect(()=>{s.level_id&&C({level_id:Number(s.level_id)})},[s.level_id,C]),S.useEffect(()=>{if((B==null?void 0:B.statusCode)===200&&(B!=null&&B.data)){const z=B.data.map(q=>({value:q.id,label:q.display_title||q.title}));M(z)}},[B]),S.useEffect(()=>{v(),f()},[v,f]);const V=async z=>{if(z.preventDefault(),s.id===""||s.name===""||s.display_name===""||s.description===""||s.first_message===""||s.ai_model===""||s.level_id===""||s.subject_id===""||s.voice_model===""){$.error("No field must be empty");return}const q=await T({id:Number(s==null?void 0:s.id),name:s==null?void 0:s.name,display_name:s==null?void 0:s.display_name,description:s==null?void 0:s.description,first_message:s==null?void 0:s.first_message,ai_model:s==null?void 0:s.ai_model,level_id:Number(s==null?void 0:s.level_id),subject_id:Number(s==null?void 0:s.subject_id),voice_model:s==null?void 0:s.voice_model}).unwrap();(q==null?void 0:q.statusCode)===200?($.success("Update bot successful!",{position:"top-right",autoClose:3e3}),L(t),R()):$.error("Update bot failed!",{position:"top-right",autoClose:3e3})},Y=z=>{c(z.target.value)},re=async z=>{z.preventDefault();const q=await H({bot_id:Number(t),file_id:Number(l)}).unwrap();(q==null?void 0:q.statusCode)===200?($.success("File of bot created successfully!",{position:"top-right",autoClose:3e3}),L(t),R()):$.error("File of bot creation failed!",{position:"top-right",autoClose:3e3})},se=async z=>{const q=await I({bot_id:Number(t),file_id:Number(z)}).unwrap();(q==null?void 0:q.statusCode)===200?($.success("File of bot deleted successfully!",{position:"top-right",autoClose:3e3}),L(t),R()):$.error("File of bot deletion failed!",{position:"top-right",autoClose:3e3})},ie=(z,q)=>{o({...s,[z]:q})};return d.jsx("div",{className:"min-h-screen",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-8",children:[d.jsx("div",{className:"p-6 border-b border-gray-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx($i,{className:"text-[#6F38DE] h-6 w-6"}),d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Bot"})]})}),d.jsx("form",{onSubmit:V,className:"p-6",children:d.jsxs("div",{className:"grid gap-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),d.jsx("input",{type:"text",value:s.name,onChange:z=>ie("name",z.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name"}),d.jsx("input",{type:"text",value:s.display_name,onChange:z=>ie("display_name",z.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),d.jsx("textarea",{value:s.description,onChange:z=>ie("description",z.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",rows:"3",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Message"}),d.jsx("textarea",{value:s.first_message,onChange:z=>ie("first_message",z.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",rows:"3",required:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"AI Model"}),d.jsxs("select",{value:s.ai_model,onChange:z=>ie("ai_model",z.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",required:!0,children:[d.jsx("option",{value:"",children:"Select AI Model"}),zy.map(z=>d.jsx("option",{value:z,children:z},z))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Level"}),d.jsxs("select",{value:s.level_id,onChange:z=>ie("level_id",z.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",required:!0,children:[d.jsx("option",{value:"",children:"Select Level"}),m?d.jsx("option",{children:"Loading levels..."}):y?d.jsx("option",{children:"Error loading levels"}):(Ae=p==null?void 0:p.data)==null?void 0:Ae.map(z=>d.jsx("option",{value:z.id,children:z.level},z.id))]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(y5,{className:"text-[#6F38DE] w-4 h-4"}),"Select Deepgram Model"]}),d.jsxs("select",{value:s.voice_model,onChange:z=>ie("voice_model",z.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#6F38DE] focus:ring-2 focus:ring-[#6F38DE]/20",required:!0,children:[d.jsx("option",{value:"",children:"Select Deepgram Model"}),b?d.jsx("option",{children:"Loading..."}):(ae=(G=x==null?void 0:x.api)==null?void 0:G.tts)==null?void 0:ae.map((z,q)=>d.jsx("option",{value:z.uuid,children:z.name},q))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subjects"}),d.jsxs("select",{value:s.subject_id,onChange:z=>ie("subject_id",z.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",disabled:_||!s.level_id,children:[d.jsx("option",{value:"",children:"Select Subject"}),_?d.jsx("option",{children:"Loading subjects..."}):k?d.jsx("option",{children:"Error loading subjects"}):F.map(z=>d.jsx("option",{value:z.value,children:z.label},z.value))]})]}),Q&&d.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:d.jsx("p",{className:"text-sm text-red-600",children:P})}),d.jsxs("button",{type:"submit",className:"inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-lg text-base font-medium text-white bg-[#6F38DE] hover:bg-[#5C2EBA] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#6F38DE]",children:[d.jsx(dh,{className:"w-5 h-5 mr-2"}),"Update Bot"]})]})})]}),d.jsx(Rme,{botFiles:n,allFiles:A==null?void 0:A.files,selectedFile:l,onFileChange:Y,onFileUpdate:re,onDelete:se})]})})},$me=()=>{var x;const t=Ze(),[e,r]=S.useState(1),[n,i]=S.useState(10),[s,o]=S.useState(!1),[a,l]=S.useState(null),{data:c,isLoading:u,error:A,isError:h,refetch:f}=E$({page:e,limit:n}),[p]=Yue(),m=(c==null?void 0:c.totalPages)||1;S.useEffect(()=>{f()},[e,n,f]);const y=async b=>{var w;try{const C=await p({id:Number(b)}).unwrap();(C==null?void 0:C.statusCode)===200&&($.success("File deleted successfully!"),f())}catch(C){$.error(((w=C==null?void 0:C.data)==null?void 0:w.message)||(C==null?void 0:C.message)||"File deletion failed!")}o(!1),l(null)},g=b=>{l(b),o(!0)},v=(x=c==null?void 0:c.files)==null?void 0:x.map(b=>({...b,actions:d.jsx(Pu,{onClick:()=>g(b.id),className:"w-4 h-4 text-red-500 hover:text-red-700 cursor-pointer transition-colors",title:"Delete File"})}));return d.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:[d.jsx("div",{className:"max-w-7xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[d.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[d.jsx(hs,{className:"text-[#6925EF]"}),"Manage Files"]}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all files uploaded to the system"})]}),d.jsxs(Tr,{onClick:()=>t("/admin/files/new-file"),className:"self-stretch sm:self-auto",children:[d.jsx(hs,{}),d.jsx("span",{children:" New File"})]})]}),d.jsx("div",{className:"p-6",children:u?d.jsxs("div",{className:"flex justify-center items-center",children:[d.jsx(ir,{className:"inline animate-spin text-[#6925EF]"}),d.jsx("span",{className:"text-gray-600 ml-2",children:"Loading files..."})]}):h?d.jsxs("div",{className:"text-red-500 text-center",children:[d.jsx("p",{children:(A==null?void 0:A.message)||"Error loading files"}),d.jsx("button",{onClick:f,className:"mt-2 text-blue-500 underline",children:"Retry"})]}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"File Name"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Processed (%)"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v==null?void 0:v.map(({id:b,file_name:w,processed:C,actions:B},_)=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:_+1}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:C||"N/A"}),d.jsx("td",{className:"px-6 py-4 text-sm",children:B})]},b))})]})})}),d.jsx(Hu,{currentPage:e,totalPages:m,limit:n,onPageChange:r,onLimitChange:b=>{i(b),r(1)}})]})}),d.jsx(ph,{isOpen:s,onClose:()=>o(!1),onConfirm:()=>y(a),title:"Delete File",message:"Are you sure you want to delete this file? This action cannot be undone."})]})};function Vme(){return d.jsxs("div",{className:"relative w-full mb-8  overflow-hidden rounded-3xl bg-button-gradient p-8 text-white mr-7",children:[d.jsx("div",{className:"absolute bottom-0 right-0 h-52 w-2/5 z-10",children:d.jsx("img",{src:Uu,alt:"Banner Image",className:"object-contain w-full h-full"})}),d.jsxs("div",{className:"relative z-20 max-w-xl",children:[d.jsxs("h1",{className:"mb-4 text-2xl font-poppins font-medium leading-tight",children:["Empowering Minds,",d.jsx("br",{}),"One Conversation Away."]}),d.jsx("p",{className:"mb-6 text-[14px] text-white/80",children:"Talk to trending bots this month"}),d.jsx("button",{className:"rounded-full px-4 py-3 lg:w-1/5 lg:px-2 text-[10px] border-white bg-yellow-400 text-white hover:bg-white hover:text-hoverText",children:"VIEW NOW"})]}),d.jsx("div",{className:"absolute right-0 top-0 h-full w-full sm:w-full",children:d.jsx("div",{className:"relative h-full",children:d.jsx("img",{src:I2,alt:"Hero Banner Background",className:"object-cover brightness-90 w-full h-full"})})})]})}function Kme({title:t,image:e,href:r}){const{user:n}=dn();function i(a){a.target.src=Uu}const s=Ze();function o(a){n.role==le.TEACHER&&s(`/teacher/chat-screen/${a}`)}return d.jsxs("div",{onClick:()=>o(r),className:"block",children:[d.jsx("div",{className:"overflow-hidden transition-transform hover:scale-105 rounded-lg shadow-lg",children:d.jsx("div",{className:"relative",children:d.jsx("img",{src:e,alt:t,onError:i,className:"object-cover w-full h-36 brightness-90"})})}),d.jsx("h3",{className:"text-lg  text-[#434C56] mt-2 text-center font-normal ",children:t})]})}const zme=()=>{var h,f;const[t,e]=S.useState(!1),{data:r,error:n,isLoading:i,refetch:s}=Jse(),{data:o,error:a,isLoading:l,refetch:c}=Z8();S.useEffect(()=>{s(),c()},[]);const u=()=>{e(p=>!p)},A=[{statTitle:"Subjects",statValue:(o==null?void 0:o.subjects)||"0",icon:k$},{statTitle:"Total Quizzes",statValue:(o==null?void 0:o.totalQuizzes)||"0",icon:yp},{statTitle:"Completed Quizzes",statValue:(o==null?void 0:o.completedQuizzes)||"0",icon:vp},{statTitle:"Pending Quizzes",statValue:(o==null?void 0:o.pendingQuizzes)||"0",icon:Vs}];return d.jsx(d.Fragment,{children:d.jsxs("div",{className:"flex-1 p-6",children:[d.jsx(Vme,{}),d.jsxs("div",{className:"container mx-auto pt-5 pb-0",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between items-center",children:[d.jsx("h1",{className:"text-2xl font-semibold",children:"Bots"}),d.jsx("button",{className:"mt-2 md:mt-0 md:ml-4 text-[#6F38DE] rounded font-medium text-xs hover:text-black transition-colors",onClick:u,children:t?"View Less":"View All"})]}),d.jsx("div",{className:"flex items-center justify-between mt-4",children:d.jsx("div",{className:"flex-1",children:t?d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6 mt-4",children:((f=r==null?void 0:r.bots)==null?void 0:f.length)>0?r==null?void 0:r.bots.map(p=>d.jsx(Kme,{name:p,image:Zt+"/images/"+(p==null?void 0:p.bot_image_url),href:p==null?void 0:p.id},p==null?void 0:p.id)):d.jsx("div",{className:"text-center text-gray-500 mt-4",children:d.jsx("p",{children:"No bots found. Please check back later!"})})}):((h=r==null?void 0:r.bots)==null?void 0:h.length)>0?d.jsx(J8,{bots:r==null?void 0:r.bots}):d.jsx("div",{className:"text-center text-gray-500 mt-4",children:d.jsx("p",{children:"No bots found. Please check back later!"})})})})]}),d.jsxs("div",{className:"mt-0",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsx("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2 mt-5",children:"Activity Stats"})}),d.jsx("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-4 gap-4",children:A.map((p,m)=>d.jsx(fr,{statTitle:p.statTitle,statValue:p.statValue,icon:p.icon},m))})]})]})})},Kh=({data:t,isLoading:e,isError:r,error:n,currentPage:i,totalPages:s,limit:o,onPageChange:a,onLimitChange:l,refetch:c})=>{const u=Ze(),[A,h]=S.useState(!1),[f,p]=S.useState(null),[m]=ose(),y=(x,b)=>{p({id:x,role:b}),h(!0)},g=async()=>{try{await m({user_id:Number(f.id)}),c()}catch(x){$.error(x.message||x.res.error||x.res.message+" Failed to delete User")}finally{h(!1),p(null)}},v=()=>{h(!1),p(null)};return d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("div",{className:"rounded-md border",children:[d.jsxs("table",{className:"min-w-full divide-y divide-gray-200 overflow-auto",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone No"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e?d.jsx("tr",{children:d.jsxs("td",{colSpan:"7",className:"px-6 py-4 text-center",children:[d.jsx(ir,{className:"inline animate-spin text-blue-500"}),d.jsx("span",{className:"ml-2",children:"Loading..."})]})}):r?d.jsx("tr",{children:d.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-red-500",children:n})}):t.map((x,b)=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:b+1}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:x.name}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:x.email}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:Fee(x.role)}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:d.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${x.isVerified?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:x.isVerified?"Verified":"Not Verified"})}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:x.contact}),d.jsx("td",{className:"px-6 py-4 text-sm",children:d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>u(`/admin/users/${x.id}`),className:"text-[#6925EF] hover:text-[#3C1589]",title:"Edit User",children:d.jsx(Ss,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>y(x.id,x.role),className:"text-red-600 hover:text-red-800",title:"Delete User",children:d.jsx(Pu,{className:"w-4 h-4"})})]})})]},x.id))})]}),d.jsx(Hu,{currentPage:i,totalPages:s,limit:o,onPageChange:a,onLimitChange:l})]}),d.jsx(ph,{isOpen:A,onClose:v,onConfirm:g})]})},u3=()=>{const t=Ze(),{user:e}=dn(),[r,n]=S.useState({page:1,limit:10}),[i,s]=S.useState({page:1,limit:10}),[o,a]=S.useState({page:1,limit:10}),[l,c]=S.useState({page:1,limit:10}),[u,A]=S.useState({page:1,limit:10}),{data:h,isLoading:f,error:p,refetch:m}=hse(r,{skip:(e==null?void 0:e.role)!==le.ADMIN}),{data:y,isLoading:g,error:v,refetch:x}=fse(i,{skip:(e==null?void 0:e.role)!==le.ADMIN}),{data:b,isLoading:w,error:C,refetch:B}=c8(o,{skip:(e==null?void 0:e.role)!==le.ADMIN}),{data:_,isLoading:k,error:E,refetch:F}=nAe(l,{skip:(e==null?void 0:e.role)!==le.SUPER_ADMIN}),{data:M,isLoading:T,error:Q,refetch:P}=uAe(u,{skip:(e==null?void 0:e.role)!==le.SUPER_INTENDENT});S.useEffect(()=>{(e==null?void 0:e.role)===le.ADMIN?(m(),x(),B()):(e==null?void 0:e.role)===le.SUPER_ADMIN?F():(e==null?void 0:e.role)===le.SUPER_INTENDENT&&P()},[e==null?void 0:e.role]);const H=G=>n(ae=>({...ae,page:G})),I=G=>n({page:1,limit:G}),L=G=>s(ae=>({...ae,page:G})),R=G=>s({page:1,limit:G}),V=G=>a(ae=>({...ae,page:G})),Y=G=>a({page:1,limit:G}),re=G=>c(ae=>({...ae,page:G})),se=G=>c({page:1,limit:G}),ie=G=>A(ae=>({...ae,page:G})),Ae=G=>A({page:1,limit:G});return d.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8",children:d.jsx("div",{className:"max-w-7xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[d.jsx("div",{className:"p-6 border-b border-gray-200",children:d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Users"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage user accounts"})]}),d.jsxs("button",{onClick:()=>t("/admin/users/create"),className:"inline-flex items-center gap-2 px-4 py-2 bg-bg-gradient text-white rounded-md hover:bg-blue-600 transition-all duration-200 shadow-md",children:[d.jsx(Hd,{}),d.jsx("span",{children:"Create User"})]})]})}),(e==null?void 0:e.role)===le.SUPER_ADMIN&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"p-6 border-b border-gray-200",children:d.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Super Intendents"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all super intendent accounts"})]})})}),d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsx(Kh,{data:(_==null?void 0:_.data)||[],isLoading:k,isError:!!E,error:E==null?void 0:E.message,currentPage:l.page,totalPages:(_==null?void 0:_.totalPages)||1,limit:l.limit,onPageChange:re,onLimitChange:se,refetch:F})})})]}),(e==null?void 0:e.role)===le.SUPER_INTENDENT&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"p-6 border-b border-gray-200",children:d.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Principals"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all principal accounts"})]})})}),d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsx(Kh,{data:(M==null?void 0:M.data)||[],isLoading:T,isError:!!Q,error:Q==null?void 0:Q.message,currentPage:u.page,totalPages:(M==null?void 0:M.totalPages)||1,limit:u.limit,onPageChange:ie,onLimitChange:Ae,refetch:P})})})]}),(e==null?void 0:e.role)===le.ADMIN&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"p-6 border-b border-gray-200",children:d.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Students"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all student accounts"})]})})}),d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsx(Kh,{data:(h==null?void 0:h.users)||[],isLoading:f,isError:!!p,error:p==null?void 0:p.message,currentPage:r.page,totalPages:(h==null?void 0:h.totalPages)||1,limit:r.limit,onPageChange:H,onLimitChange:I,refetch:m})})}),d.jsx("div",{className:"p-6 border-b border-gray-200",children:d.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Teachers"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all teacher accounts"})]})})}),d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsx(Kh,{data:(y==null?void 0:y.users)||[],isLoading:g,isError:!!v,error:v==null?void 0:v.message,currentPage:i.page,totalPages:(y==null?void 0:y.totalPages)||1,limit:i.limit,onPageChange:L,onLimitChange:R,refetch:x})})}),d.jsx("div",{className:"p-6 border-b border-gray-200",children:d.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Parents"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all parent accounts"})]})})}),d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsx(Kh,{data:(b==null?void 0:b.users)||[],isLoading:w,isError:!!C,error:C==null?void 0:C.message,currentPage:o.page,totalPages:(b==null?void 0:b.totalPages)||1,limit:o.limit,onPageChange:V,onLimitChange:Y,refetch:B})})})]})]})})})},Wme=({role:t,userId:e})=>{const r=n0(),n=Il(b=>b.auth.avatar_url),{updateAvatarLocal:i}=dn(),[s,o]=S.useState({name:"",email:"",contact:"",avatar:""}),[a,l]=S.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,u]=S.useState("profile"),{data:A,isLoading:h,error:f}=OR({user_id:Number(e)});S.useEffect(()=>{A&&o({name:A.data.name||"",email:A.data.email||"",contact:A.data.contact||"",avatar:A.data.user_image_url||""})},[A]);const[p]=ise();sse(),jR();const m=b=>{const{name:w,value:C}=b.target;o({...s,[w]:C})},y=b=>{const{name:w,value:C}=b.target;l({...a,[w]:C})},g=async b=>{const w=b.target.files[0];if(w){if(!w.type.startsWith("image/")){$.error("Please upload a valid image file.");return}if(w.size>5*1024*1024){$.error("File size should not exceed 5MB.");return}const C=new FormData;C.append("avatar",w);try{const B=await YQ.UpdateAvatar(C,r);B.status===200?($.success("Avatar updated successfully!"),o(_=>({..._,avatar:B.data.data.avatarUrl})),i({userAvatar:B.data.data.avatarUrl})):$.error("Failed to update avatar.")}catch{$.error("Failed to update avatar.")}}},v=async b=>{var B,_,k;b.preventDefault();const w=(B=s.name)==null?void 0:B.trim(),C=(_=s.contact)==null?void 0:_.trim();if(!w||!C){$.error("Name and contact fields cannot be empty.");return}try{(await p(s).unwrap()).statusCode===200&&$.success("Profile updated successfully!")}catch(E){$.error(((k=E==null?void 0:E.data)==null?void 0:k.message)||"An error occurred while updating the profile.")}},x=async b=>{if(b.preventDefault(),a.newPassword!==a.confirmPassword){$.error("New password and confirm password do not match.");return}try{(await p({oldPassword:a.currentPassword,newPassword:a.newPassword}).unwrap()).statusCode===200&&($.success("Password updated successfully!"),l({currentPassword:"",newPassword:"",confirmPassword:""}))}catch(w){$.error(w==null?void 0:w.data.message)}};return h?d.jsx("div",{children:"Loading..."}):f?d.jsx("div",{children:"Error loading profile data."}):d.jsx("div",{className:"min-h-screen  bg-white-100 flex items-center justify-center",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-12 w-full bg-white rounded-lg shadow-md overflow-hidden ",children:[d.jsxs("div",{className:"px-6 py-4 bg-white-50 border-b border-gray-200",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2 capitalize",children:[d.jsx(yn,{className:"text-[#6925EF] w-6 h-6 "}),t," Profile"]}),d.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your profile information and password."})]}),d.jsxs("div",{className:"flex space-x-4 p-6 border-b border-gray-200",children:[d.jsx("button",{onClick:()=>u("profile"),className:`py-2 px-4 rounded - md ${c==="profile"?"bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"} `,children:"Profile Information"}),d.jsx("button",{onClick:()=>u("password"),className:`py-2 px-4 rounded - md ${c==="password"?"bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"} `,children:"Password Reset"})]}),c==="profile"&&d.jsxs("form",{onSubmit:v,className:"px-6 py-8 space-y-6",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("img",{src:n!=null?`${Zt}/images/${n}`:p8,alt:"User Avatar",className:"w-24 h-24 rounded-full object-cover"}),d.jsxs("div",{children:[d.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Upload a new avatar."})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(yn,{className:"text-[#6925EF] w-4 h-4"}),"Name"]}),d.jsx("input",{type:"text",name:"name",value:s.name,onChange:m,className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(A8,{className:"text-[#6925EF] w-4 h-4"}),"Email"]}),d.jsx("input",{type:"email",name:"email",value:s.email,onChange:m,disabled:!0,className:"mt-1 block w-full px-4 py-2 bg-dark border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(f8,{className:"text-[#6925EF] w-4 h-4"}),"Contact"]}),d.jsx("input",{type:"text",name:"contact",value:s.contact,onChange:m,className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]"})]}),d.jsx("div",{className:"mt-8 flex justify-end",children:d.jsx(Tr,{type:"submit",className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium",children:"Update Profile"})})]}),c==="password"&&d.jsxs("form",{onSubmit:x,className:"px-6 py-8 space-y-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(hp,{className:"text-[#6925EF] w-4 h-4"}),"Current Password"]}),d.jsx("input",{type:"password",name:"currentPassword",value:a.currentPassword,onChange:y,className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(hp,{className:"text-[#6925EF] w-4 h-4"}),"New Password"]}),d.jsx("input",{type:"password",name:"newPassword",value:a.newPassword,onChange:y,className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(hp,{className:"text-[#6925EF] w-4 h-4"}),"Confirm Password"]}),d.jsx("input",{type:"password",name:"confirmPassword",value:a.confirmPassword,onChange:y,className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]"})]}),d.jsx("div",{className:"mt-8 flex justify-end",children:d.jsx(Tr,{type:"submit",className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium",children:"Update Password"})})]})]})})},xv=()=>{const{user:t}=dn(),r={[le.USER]:"user",[le.ADMIN]:"admin",[le.SUPER_ADMIN]:"superadmin",[le.TEACHER]:"teacher",[le.PARENT]:"parent"}[t.role]||"user";return d.jsx("div",{children:d.jsx(Wme,{role:r,userId:t.id})})},hg=({label:t,icon:e,error:r,...n})=>d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[e&&d.jsx(e,{className:"text-[#6925EF] w-4 h-4"}),t]}),n.type==="textarea"?d.jsx("textarea",{...n,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20 transition-all duration-200"}):d.jsx("input",{...n,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20 transition-all duration-200"})]}),lT=()=>{const{user:t}=dn(),{data:e,refetch:r}=sAe(),[n]=oAe(),[i,s]=S.useState({openai:"",dalle:"",deepgram:"",master_prompt:""});S.useEffect(()=>{var l,c,u,A;e&&s({openai:(l=e==null?void 0:e.data)==null?void 0:l.openai,dalle:(c=e==null?void 0:e.data)==null?void 0:c.dalle,deepgram:(u=e==null?void 0:e.data)==null?void 0:u.deepgram,master_prompt:(A=e==null?void 0:e.data)==null?void 0:A.master_prompt})},[e]);const o=l=>{const{name:c,value:u}=l.target;s(A=>({...A,[c]:u}))},a=async l=>{l.preventDefault();try{const c=await n(i).unwrap();(c==null?void 0:c.statusCode)===200?($.success("Profile updated successfully"),r()):$.error((c==null?void 0:c.message)||"Error updating profile")}catch(c){$.error("Failed to update profile"),console.error("Error:",c)}};return d.jsxs("div",{className:"min-h-screen bg-white",children:[(t==null?void 0:t.role)===le.SUPER_ADMIN&&d.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[d.jsx($i,{className:"text-[#6925EF]"}),"Admin Settings"]}),d.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Configure prompt and APIs"})]}),d.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:d.jsx("div",{className:"p-6 space-y-6",children:d.jsxs("form",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx(hg,{label:"Open AI",icon:O4,type:"text",name:"openai",value:i.openai,onChange:o,placeholder:"Enter OpenAI key"}),d.jsx(hg,{label:"DallE AI",icon:O4,type:"text",name:"dalle",value:i.dalle,onChange:o,placeholder:"Enter DallE API key"}),d.jsx(hg,{label:"DeepGram",icon:O4,type:"text",name:"deepgram",value:i.deepgram,onChange:o,placeholder:"Enter DeepGram API key"})]}),d.jsx(hg,{label:"Master Prompt",icon:$i,type:"textarea",name:"master_prompt",value:i.master_prompt,onChange:o,rows:"4",placeholder:"Enter master prompt"}),d.jsx("div",{className:"pt-4",children:d.jsx("button",{onClick:a,className:"w-full px-4 py-2 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity font-medium mt-6",children:"Update Profile"})})]})})})]}),d.jsx(xv,{})]})},nc=({columns:t,data:e,isLoading:r,isError:n,error:i,currentPage:s,totalPages:o,limit:a,onPageChange:l,onLimitChange:c,className:u,emptyStateMessage:A="No data available."})=>{var h;return d.jsx("div",{className:`flex flex-col ${u}`,children:d.jsxs("div",{className:"rounded-md border overflow-auto",children:[d.jsxs("table",{className:"min-w-full divide-y divide-gray-200","aria-label":"Generic Table",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsx("tr",{children:t.map(f=>d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:f.Header},f.accessor))})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r?d.jsx("tr",{children:d.jsxs("td",{colSpan:t.length,className:"px-6 py-4 text-center",children:[d.jsx(ir,{className:"inline animate-spin text-blue-500"}),d.jsx("span",{className:"ml-2",children:"Loading..."})]})}):n?d.jsx("tr",{children:d.jsx("td",{colSpan:t.length,className:"px-6 py-4 text-center text-red-500",children:((h=i==null?void 0:i.data)==null?void 0:h.message)||"An error occurred while fetching data."})}):e.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:t.length,className:"px-6 py-4 text-center text-gray-500",children:A})}):e.map(f=>d.jsx("tr",{className:"hover:bg-gray-50",children:t.map(p=>d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:p.Cell?p.Cell(f):f[p.accessor]},p.accessor))},f.id))})]}),d.jsx(Hu,{currentPage:s,totalPages:o,limit:a,onPageChange:l,onLimitChange:c})]})})};nc.propTypes={columns:Xe.arrayOf(Xe.shape({Header:Xe.string.isRequired,accessor:Xe.string.isRequired,Cell:Xe.func})).isRequired,data:Xe.array.isRequired,isLoading:Xe.bool,isError:Xe.bool,error:Xe.object,currentPage:Xe.number,totalPages:Xe.number,limit:Xe.number,onPageChange:Xe.func.isRequired,onLimitChange:Xe.func.isRequired,className:Xe.string,emptyStateMessage:Xe.string};nc.defaultProps={isLoading:!1,isError:!1,error:null,currentPage:1,totalPages:1,limit:10,className:"",emptyStateMessage:"No data available."};const Gme=()=>{var m,y;const t=Ze(),[e,r]=S.useState(1),[n,i]=S.useState(10),{data:s,isLoading:o,isError:a,error:l,refetch:c}=tc({page:e,limit:n});S.useEffect(()=>{c()},[]);const u=g=>{t(`/admin/levels/${g}`)},A=g=>d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(Rl,{icon:d.jsx(Ss,{size:16}),onClick:()=>u(g.id),tooltip:"Edit Level",variant:"primary"})}),h=[{Header:"ID",accessor:"id"},{Header:"Description",accessor:"description"},{Header:"Level",accessor:"level"},{Header:"Actions",accessor:"actions"}],f=(m=s==null?void 0:s.data)==null?void 0:m.map((g,v)=>({...g,id:v+1,actions:A(g)})),p=(s==null?void 0:s.totalPages)||1;return d.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:d.jsx("div",{className:"max-w-7xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[d.jsx("div",{className:"p-6 border-b border-gray-200",children:d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Levels"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all levels in the system"})]}),d.jsxs(Tr,{onClick:()=>t("/admin/levels/create"),className:"self-stretch sm:self-auto",children:[d.jsx(Hd,{}),d.jsx("span",{children:"Create Level"})]})]})}),d.jsx("div",{className:"p-6",children:o?d.jsxs("div",{className:"flex justify-center items-center",children:[d.jsx(ir,{className:"inline animate-spin text-[#6925EF]"}),d.jsx("span",{className:"text-gray-600 ml-2",children:"Loading levels..."})]}):a?d.jsxs("div",{className:"text-red-500",children:["Error loading levels: ",((y=l==null?void 0:l.data)==null?void 0:y.message)||"Unknown error"]}):d.jsx("div",{className:"overflow-x-auto",children:d.jsx(nc,{columns:h,data:f,currentPage:e,totalPages:p,limit:n,onPageChange:r,onLimitChange:g=>{i(g),r(1)},emptyStateMessage:"No levels found."})})})]})})})},qme=go().shape({level:Re().required("Level is required").min(2,"Level must be at least 2 characters"),description:Re().required("Description is required").min(10,"Description must be at least 10 characters")}),Xme=()=>{const{register:t,handleSubmit:e,formState:{errors:r,isSubmitting:n},reset:i}=ga({resolver:ya(qme)}),s=Ze(),[o]=eAe(),a=async l=>{var c;try{const u={level:l.level,description:l.description},A=await o(u).unwrap();(A==null?void 0:A.statusCode)===200?($.success("Level created successfully"),i(),s("/admin/levels")):$.error((A==null?void 0:A.message)||"Failed to create level")}catch(u){$.error(((c=u==null?void 0:u.data)==null?void 0:c.message)||"Failed to create level")}};return d.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:d.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[d.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[d.jsx(h8,{className:"text-[#6925EF] w-6 h-6"}),"Create New Level"]}),d.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Add a new educational level to the system with detailed information."})]}),d.jsxs("form",{onSubmit:e(a),className:"px-6 py-8",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(Rd,{className:"text-[#6925EF] w-4 h-4"}),"Level"]}),d.jsx("input",{type:"text",...t("level"),placeholder:"Enter level name",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.level?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.level&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.level.message})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(Rd,{className:"text-[#6925EF] w-4 h-4"}),"Description"]}),d.jsx("textarea",{...t("description"),placeholder:"Enter description",rows:"4",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.description?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.description&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.description.message})]})]}),d.jsx("div",{className:"mt-8 flex justify-end",children:d.jsx(Tr,{className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50",type:"submit",disabled:n,children:n?"Creating...":d.jsxs(d.Fragment,{children:[d.jsx(u0,{className:"w-4 h-4"}),"Create Level"]})})})]})]})})},Yme=go().shape({level:Re().required("Level is required").min(2,"Level must be at least 2 characters"),description:Re().required("Description is required").min(10,"Description must be at least 10 characters")}),Jme=()=>{var f;const{id:t}=dr();Ze();const[e,{data:r,isLoading:n,isError:i,error:s}]=Zue();S.useEffect(()=>{e({level_id:Number(t)})},[]);const[o,{isLoading:a}]=tAe(),{register:l,handleSubmit:c,setValue:u,formState:{errors:A}}=ga({resolver:ya(Yme)});S.useEffect(()=>{r!=null&&r.data&&(u("level",r.data.level),u("description",r.data.description))},[r,u]);const h=async p=>{var m;try{const y={level:p.level,level_id:Number(t),description:p.description},g=await o({id:t,...y}).unwrap();(g==null?void 0:g.statusCode)===200?($.success("Level updated successfully"),refetch()):$.error((g==null?void 0:g.message)||"Failed to update level")}catch(y){$.error(((m=y==null?void 0:y.data)==null?void 0:m.message)||"Failed to update level")}};return n?d.jsxs("div",{className:"flex justify-center items-center",children:[d.jsx(ir,{className:"inline animate-spin text-[#6925EF]"}),d.jsx("span",{className:"text-gray-600 ml-2",children:"Loading levels..."})]}):i?d.jsxs("div",{className:"text-red-500 text-center mt-10",children:["Error loading level: ",((f=s==null?void 0:s.data)==null?void 0:f.message)||"Unknown error"]}):d.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4 sm:p-6 lg:p-8",children:d.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[d.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[d.jsx(Ss,{className:"text-[#6925EF] w-6 h-6"}),"Edit Level"]}),d.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update the details of the educational level."})]}),d.jsxs("form",{onSubmit:c(h),className:"px-6 py-8",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(Rd,{className:"text-[#6925EF] w-4 h-4"}),"Level"]}),d.jsx("input",{type:"text",...l("level"),placeholder:"Enter level name",className:`mt-1 block w-full px-4 py-2 bg-white border ${A.level?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),A.level&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:A.level.message})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(Rd,{className:"text-[#6925EF] w-4 h-4"}),"Description"]}),d.jsx("textarea",{...l("description"),placeholder:"Enter description",rows:"4",className:`mt-1 block w-full px-4 py-2 bg-white border ${A.description?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),A.description&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:A.description.message})]})]}),d.jsx("div",{className:"mt-8 flex justify-end",children:d.jsxs(Tr,{className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50",type:"submit",disabled:a,children:[d.jsx(dh,{className:"w-5 h-5 mr-2"})," ",d.jsxs("span",{className:"text-center",children:["  ",a?"Updating...":"Update Level"]})]})})]})]})})},Zme=()=>{var m,y;const t=Ze(),[e,r]=S.useState(1),[n,i]=S.useState(10),{data:s,isLoading:o,isError:a,error:l,refetch:c}=C$({page:e,limit:n});S.useEffect(()=>{c()},[]);const u=g=>{t(`/admin/subjects/${g}`)};function A(g,v){return g?g.length>v?`${g.substring(0,v)}...`:g:""}const h=[{Header:"ID",accessor:"id"},{Header:"Title",accessor:"display_title"},{Header:"Description",accessor:"description"},{Header:"Actions",accessor:"actions"}],f=(m=s==null?void 0:s.data)==null?void 0:m.map((g,v)=>{var x;return{...g,id:v+1,description:`${A(g.description,50)}`,title:`${g.title}`,level_title:`${(x=g.level)==null?void 0:x.level}`||"N/A",actions:d.jsx("div",{className:"flex items-center justify-center gap-2",children:d.jsx(Rl,{icon:d.jsx(Ss,{size:16}),onClick:()=>u(g.id),tooltip:"Edit Subject",variant:"primary"})})}}),p=(s==null?void 0:s.totalPages)||1;return d.jsx("div",{className:"min-h-screen p-6 bg-white flex flex-col",children:d.jsxs("div",{className:"max-w-7xl mx-auto w-full bg-white rounded-lg shadow-md overflow-hidden",children:[d.jsx("div",{className:"p-6 border-b border-gray-200",children:d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Subjects"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View, edit, and manage all subjects in the system."})]}),d.jsxs(Tr,{onClick:()=>t("/admin/subjects/create"),className:"flex items-center gap-2",children:[d.jsx(Ss,{}),d.jsx("span",{children:"Add Subject"})]})]})}),d.jsx("div",{className:"p-6",children:o?d.jsxs("div",{className:"flex justify-center items-center",children:[d.jsx(ir,{className:"inline animate-spin text-[#6925EF]"}),d.jsx("span",{className:"ml-2 text-gray-600",children:"Loading subjects..."})]}):a?d.jsxs("div",{className:"text-red-500 text-center",children:["Error loading subjects: ",((y=l==null?void 0:l.data)==null?void 0:y.message)||"Unknown error"]}):d.jsx("div",{className:"overflow-x-auto",children:d.jsx(nc,{columns:h,data:f,currentPage:e,totalPages:p,limit:n,onPageChange:r,onLimitChange:g=>{i(g),r(1)},emptyStateMessage:"No subjects found.",className:"w-full min-w-[800px]"})})})]})})},e0e=go().shape({title:Re().required("Title is required").min(2,"Title must be at least 2 characters"),display_title:Re().required("Display Title is required").min(2,"Display Title must be at least 2 characters"),description:Re().required("Description is required").min(10,"Description must be at least 10 characters"),level_id:Bm().typeError("Level is required").required("Level is required")}),t0e=()=>{var f;const{register:t,handleSubmit:e,formState:{errors:r,isSubmitting:n},reset:i}=ga({resolver:ya(e0e)}),{data:s,isLoading:o,isError:a,error:l,refetch:c}=tc();S.useEffect(()=>{c()},[]);const u=Ze(),[A]=jue(),h=async p=>{var m;try{const y={title:p.title,display_title:p.display_title,description:p.description,level_id:Number(p.level_id)},g=await A(y).unwrap();(g==null?void 0:g.statusCode)===200?($.success("Subject created successfully"),i(),u("/admin/subjects")):$.error((g==null?void 0:g.message)||"Failed to create subject")}catch(y){$.error(((m=y==null?void 0:y.data)==null?void 0:m.message)||"Failed to create subject")}};return d.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4 sm:p-6 lg:p-8",children:d.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[d.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[d.jsxs("h2",{className:"text-2xl font-semibold text-gray-800 flex items-center gap-2",children:[d.jsx(x5,{className:"text-[#6925EF] w-6 h-6"}),"Create New Subject"]}),d.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Add a new subject to the system with detailed information."})]}),d.jsxs("form",{onSubmit:e(h),className:"px-6 py-8",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(u8,{className:"text-[#6925EF] w-4 h-4"}),"Title"]}),d.jsx("input",{type:"text",...t("title"),placeholder:"Enter title",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.title?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.title&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.title.message})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(Ox,{className:"text-[#6925EF] w-4 h-4"}),"Display Title"]}),d.jsx("input",{type:"text",...t("display_title"),placeholder:"Enter display title",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.display_title?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.display_title&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.display_title.message})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(x5,{className:"text-[#6925EF] w-4 h-4"}),"Description"]}),d.jsx("textarea",{...t("description"),placeholder:"Enter description",rows:"4",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.description?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.description&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.description.message})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2 mb-1",children:[d.jsx(h8,{className:"text-[#6925EF] w-4 h-4"}),"Level"]}),o?d.jsxs("div",{className:"flex items-center",children:[d.jsx(ir,{className:"inline animate-spin text-[#6925EF]"}),d.jsx("span",{children:"Loading levels..."})]}):a?d.jsx("p",{className:"text-red-500 text-sm",children:"Failed to load levels."}):d.jsxs("select",{...t("level_id"),className:`mt-1 block w-full px-4 py-2 bg-white border ${r.level_id?"border-red-500":"border-gray-300"} rounded-lg shadow-sm focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`,children:[d.jsx("option",{value:"",children:"Select a level"}),(f=s==null?void 0:s.data)==null?void 0:f.map(p=>d.jsxs("option",{value:p.id,children:[p.level," "]},p==null?void 0:p.id))]}),r.level_id&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.level_id.message})]})]}),d.jsx("div",{className:"mt-8 flex justify-end",children:d.jsx(Tr,{className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50",type:"submit",disabled:n,children:n?d.jsxs(d.Fragment,{children:[d.jsx(ir,{className:"inline animate-spin text-[#6925EF]"}),"Creating..."]}):d.jsxs(d.Fragment,{children:[d.jsx(u0,{className:"w-4 h-4"}),"Create Subject"]})})})]})]})})},r0e=go().shape({title:Re().required("Title is required").min(2,"Title must be at least 2 characters"),display_title:Re().required("Display Title is required").min(2,"Display Title must be at least 2 characters"),description:Re().required("Description is required").min(10,"Description must be at least 10 characters"),level_id:Bm().typeError("Level is required").required("Level is required")}),n0e=()=>{var w,C;const{id:t}=dr(),e=Ze(),{data:r,isLoading:n,isError:i,error:s,refetch:o}=tc();S.useEffect(()=>{o()},[]);const[a,{data:l,isLoading:c,isError:u,error:A}]=B$();S.useEffect(()=>{a({subject_id:Number(t)})},[]),S.useEffect(()=>{a({subject_id:Number(t)})},[t,a]);const[h,{isLoading:f}]=Oue(),{register:p,handleSubmit:m,setValue:y,formState:{errors:g}}=ga({resolver:ya(r0e)}),[v,x]=S.useState(null);S.useEffect(()=>{if(l!=null&&l.data){const B=l.data;x(B),y("title",B.title),y("display_title",B.display_title),y("description",B.description),y("level_id",B==null?void 0:B.level_id)}},[l==null?void 0:l.data,e,y]);const b=async B=>{var _;try{const k={id:Number(t),title:B.title,display_title:B.display_title,description:B.description,level_id:B.level_id},E=await h(k).unwrap();(E==null?void 0:E.statusCode)===200?($.success("Subject updated successfully"),refetchSubject()):$.error((E==null?void 0:E.message)||"Failed to update subject")}catch(k){console.log("error",k),$.error(((_=k==null?void 0:k.data)==null?void 0:_.message)||"Failed to update subject")}};return c||n||f?d.jsxs("div",{className:"flex justify-center items-center min-h-screen",children:[d.jsx(ir,{className:"inline animate-spin text-[#6925EF]"}),d.jsx("span",{className:"ml-2 text-gray-600",children:"Loading subject data..."})]}):u?d.jsxs("div",{className:"text-red-500 text-center mt-10",children:["Error loading subjects: ",((w=A==null?void 0:A.data)==null?void 0:w.message)||"Unknown error"]}):d.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4 sm:p-6 lg:p-8",children:d.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[d.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[d.jsxs("h2",{className:" text-2xl font-semibold text-gray-800 flex items-center gap-2",children:[d.jsx(Ss,{className:"text-[#6925EF] w-6 h-6"}),"Edit Subject"]}),d.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update the details of the subject."})]}),d.jsxs("form",{onSubmit:m(b),className:"px-6 py-8",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(u8,{className:"text-[#6925EF] w-4 h-4"}),"Title"]}),d.jsx("input",{type:"text",...p("title"),placeholder:"Enter title",className:`mt-1 block w-full px-4 py-2 bg-white border ${g.title?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(Ox,{className:"text-[#6925EF] w-4 h-4"}),"Display Title"]}),d.jsx("input",{type:"text",...p("display_title"),placeholder:"Enter display title",className:`mt-1 block w-full px-4 py-2 bg-white border ${g.display_title?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),g.display_title&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.display_title.message})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(x5,{className:"text-[#6925EF] w-4 h-4"}),"Description"]}),d.jsx("textarea",{...p("description"),placeholder:"Enter description",rows:"4",className:`mt-1 block w-full px-4 py-2 bg-white border ${g.description?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),g.description&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.description.message})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2 mb-1",children:[d.jsx(h8,{className:"text-[#6925EF] w-4 h-4"}),"Level"]}),d.jsxs("select",{...p("level_id"),className:`mt-1 block w-full px-4 py-2 bg-white border ${g.level_id?"border-red-500":"border-gray-300"} rounded-lg shadow-sm focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`,children:[d.jsx("option",{value:"",children:"Select a level"}),(C=r==null?void 0:r.data)==null?void 0:C.map(B=>d.jsx("option",{value:B.id,children:B.level},B.id))]}),g.level_id&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.level_id.message})]})]}),d.jsx("div",{className:"mt-8 flex justify-end",children:d.jsx(Tr,{className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50",type:"submit",disabled:f,children:f?d.jsxs(d.Fragment,{children:[d.jsx(ir,{className:"animate-spin w-4 h-4 mr-2"}),"Updating..."]}):d.jsxs(d.Fragment,{children:[d.jsx(dh,{className:"w-5 h-5 mr-2"}),"Update Subject"]})})})]})]})})};function i0e(){return d.jsxs("div",{className:"relative w-full mb-8 overflow-hidden rounded-3xl bg-button-gradient p-6 sm:p-8 text-white mr-7",children:[d.jsx("div",{className:"absolute right-0 top-0 h-full w-full sm:w-full",children:d.jsx("div",{className:"relative h-full",children:d.jsx("img",{src:I2,alt:"Hero Banner Background",className:"object-cover brightness-90 w-full h-full"})})}),d.jsxs("div",{className:"relative z-20 max-w-xl",children:[d.jsxs("h1",{className:"mb-4 text-2xl sm:text-3xl md:text-4xl font-poppins font-medium leading-tight",children:["Empower Your Students,",d.jsx("br",{}),"Track Their Progress."]}),d.jsx("p",{className:"mb-6 text-xs sm:text-sm md:text-[14px] lg:text-base text-white/80",children:"Monitor quiz results, analyze performance, and support your students' learning journey."}),d.jsx("button",{className:"rounded-full px-4 py-3 text-[10px] sm:text-sm md:text-base border-white bg-yellow-400 text-white hover:bg-white hover:text-hoverText",children:"VIEW REPORTS"})]}),d.jsx("div",{className:"absolute bottom-0 right-0 h-40 sm:h-52 md:h-64 w-2/5 z-10",children:d.jsx("img",{src:Uu,alt:"Teacher Image",className:"object-contain w-full h-full"})})]})}const s0e=()=>{var h,f;const[t,e]=S.useState(!1),{data:r,error:n,isLoading:i,refetch:s}=Xse({page:1,limit:1e10});console.log(r);const{data:o,isLoading:a,isError:l,error:c,refetch:u}=Z8();S.useEffect(()=>{s(),u()},[]);const A=()=>{e(p=>!p)};return i||a?d.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100",children:d.jsx(ir,{className:"inline animate-spin text-[#6925EF]"})}):n||l?d.jsx("div",{className:"flex items-center justify-center h-screen",children:d.jsx("div",{className:"text-center text-red-500",children:d.jsx("p",{children:((h=n==null?void 0:n.data)==null?void 0:h.message)||(c==null?void 0:c.message)||"Error loading data. Please try again."})})}):d.jsxs("div",{className:"flex-1 p-6 bg-gray-50",children:[d.jsx(i0e,{}),d.jsxs("div",{className:"container mx-auto pt-5 pb-0",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between items-center",children:[d.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Bots"}),d.jsx("button",{className:"mt-2 md:mt-0 md:ml-4 text-[#6F38DE] rounded-lg font-medium text-sm px-4 py-2 bg-purple-50 hover:bg-purple-100 transition-colors duration-200",onClick:A,children:t?"View Less":"View All"})]}),d.jsx("div",{className:"flex-1 mt-6",children:t?d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r==null?void 0:r.bots.map(p=>d.jsx(Jt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.02},children:d.jsx(S$,{title:p,image:Zt+"/images/"+(p==null?void 0:p.bot_image_url),href:p==null?void 0:p.id,className:"h-full transition-transform duration-200 hover:shadow-lg"})},p==null?void 0:p.id))}):((f=r==null?void 0:r.bots)==null?void 0:f.length)>0?d.jsx(J8,{bots:r==null?void 0:r.bots}):d.jsx("div",{className:"text-center text-gray-500 mt-8",children:d.jsx("p",{children:"No bots found. Please check back later!"})})})]}),d.jsxs("div",{className:"mt-8",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Activity Stats"})}),d.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:a?d.jsx("p",{className:"text-gray-600",children:"Loading statistics..."}):l?d.jsxs("p",{className:"text-red-500",children:["Error: ",c==null?void 0:c.message]}):d.jsxs(d.Fragment,{children:[d.jsx(fr,{statTitle:"Students",statValue:(o==null?void 0:o.students)||0,icon:Vs,className:"bg-white shadow-sm hover:shadow-md transition-shadow duration-200"}),d.jsx(fr,{statTitle:"Subjects",statValue:(o==null?void 0:o.subjects)||0,icon:yp,className:"bg-white shadow-sm hover:shadow-md transition-shadow duration-200"}),d.jsx(fr,{statTitle:"Quizzes",statValue:(o==null?void 0:o.quizzes)||0,icon:vp,className:"bg-white shadow-sm hover:shadow-md transition-shadow duration-200"})]})})]})]})},o0e=()=>{var f,p,m,y,g,v;const t=Ze(),[e,r]=S.useState(1),[n,i]=S.useState(10),{data:s,isLoading:o,error:a,isError:l,refetch:c}=Y8({page:e,limit:n});S.useEffect(()=>{c()},[e,n,c]);const u=(s==null?void 0:s.totalPages)||1,A=x=>{r(x)},h=x=>{i(x),r(1)};return d.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:d.jsx("div",{className:"max-w-7xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[d.jsx("div",{className:"p-6 border-b border-gray-200",children:d.jsx("div",{className:"flex justify-between items-center",children:d.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[d.jsx(qy,{className:"text-[#6925EF]"}),"Assigned Subjects"]})})}),d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Display Name"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o?d.jsx("tr",{children:d.jsxs("td",{colSpan:"4",className:"px-6 py-4 text-center",children:[d.jsx(ir,{className:"inline animate-spin text-[#6925EF]"}),d.jsx("span",{className:"ml-2 text-gray-600",children:"Loading subjects..."})]})}):l?d.jsx("tr",{children:d.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-red-500",children:(a==null?void 0:a.message)||"Error loading subjects"})}):((m=(p=(f=s==null?void 0:s.data)==null?void 0:f.teacher_profile)==null?void 0:p.subjects)==null?void 0:m.length)===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-500",children:"No Subjects found"})}):(v=(g=(y=s==null?void 0:s.data)==null?void 0:y.teacher_profile)==null?void 0:g.subjects)==null?void 0:v.map(({id:x,display_title:b,description:w})=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:x}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:b}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w}),d.jsx("td",{className:"px-6 py-4 text-sm",children:d.jsx("button",{onClick:()=>t(`/teacher/subject/${x}`),className:"text-blue-500 hover:text-blue-700 transition-colors",title:"See Details",children:"See Details"})})]},x))})]})})}),d.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200",children:d.jsx(Hu,{currentPage:e,totalPages:u,limit:n,onPageChange:A,onLimitChange:h})})]})})})},a0e=()=>{var A,h,f,p;const t=Ze(),{subject_id:e}=dr(),[r,{data:n,isLoading:i,isError:s,error:o}]=B$(),{data:a,isLoading:l,refetch:c}=aAe();S.useEffect(()=>{e&&(r({subject_id:Number(e)}),c())},[]);const u=({title:m,icon:y,data:g})=>d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-8 pb-4 border-b border-gray-100",children:[d.jsx(y,{className:"text-[#6925EF] text-3xl"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:m})]}),d.jsx("div",{className:"space-y-8",children:d.jsx("div",{className:"grid grid-cols-1 gap-6",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Name"}),d.jsx("p",{className:"text-lg font-semibold text-gray-800",children:g==null?void 0:g.title})]}),d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Display Name"}),d.jsx("p",{className:"text-lg font-semibold text-[#6925EF]",children:g==null?void 0:g.display_title})]})]})})})]});return i||l?d.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100",children:d.jsx(ir,{className:"inline animate-spin text-[#6925EF]"})}):d.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6 lg:p-8",children:[s&&d.jsx("div",{children:o.message||"No Suject Found"}),!s&&d.jsx(d.Fragment,{children:d.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[(n==null?void 0:n.data)&&d.jsx(u,{title:"Subject Information",icon:u8,data:n==null?void 0:n.data}),((A=n==null?void 0:n.data)==null?void 0:A.bot)&&d.jsx(u,{title:"Bot Information",icon:$i,data:{title:(h=n==null?void 0:n.data)==null?void 0:h.bot.name,display_title:(f=n==null?void 0:n.data)==null?void 0:f.bot.display_name}}),(n==null?void 0:n.data)&&d.jsx(d.Fragment,{children:d.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-6 pb-4 border-b border-gray-100",children:[d.jsx(Lse,{className:"text-[#6925EF] text-3xl"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Students"})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-200",children:[d.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-700",children:"Roll No"}),d.jsx("th",{className:"px-6 py-4 text-right text-sm font-medium text-gray-700",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200 ",children:((p=a==null?void 0:a.data)==null?void 0:p.length)>0?a.data.map(m=>d.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[d.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-700",children:m.user_roll_no}),d.jsxs("td",{className:"px-6 py-4 text-right",children:[" ",d.jsx("button",{onClick:()=>{var y,g;return t(`/teacher/subject/${e}/${m==null?void 0:m.id}/${((g=(y=n==null?void 0:n.data)==null?void 0:y.bot)==null?void 0:g.id)||0}`)},className:"px-4 py-2 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg text-sm font-medium hover:opacity-90 transition-all duration-200 focus:ring-2 focus:ring-offset-2 focus:ring-[#6925EF] focus:outline-none",children:"View History"})]})]},m.user_roll_no)):d.jsx("tr",{children:d.jsx("td",{colSpan:"2",className:"px-6 py-8 text-center text-gray-500 italic bg-gray-50",children:"No students enrolled yet"})})})]})})]})})})]})})]})},l0e=()=>{var f,p,m;Ze();const{data:t,isLoading:e,isError:r,error:n,refetch:i}=X8({}),[s,o]=S.useState(null),[a,l]=S.useState(null);S.useEffect(()=>()=>{s&&(s.pause(),o(null),l(null))},[i]);const c=(y,g)=>{if(!y){$.error("Sample URL is not available");return}s&&(s.pause(),o(null),l(null));const v=new Audio(y);v.play().then(()=>{o(v),l(g)}).catch(x=>{$.error("Failed to play the sample"),console.error("Error playing audio:",x)}),v.onended=()=>{l(null)}},u=()=>{s&&(s.pause(),o(null),l(null))},A=[{Header:"Name",accessor:"name"},{Header:"Architecture",accessor:"architecture"},{Header:"Languages",accessor:"languages"},{Header:"Tags",accessor:"tags"},{Header:"Actions",accessor:"actions"}],h=(p=(f=t==null?void 0:t.api)==null?void 0:f.tts)==null?void 0:p.map(y=>({...y,languages:y.languages?y.languages.join(", "):"N/A",tags:y.metadata.tags?y.metadata.tags.join(", "):"N/A",actions:y.metadata.sample?d.jsx("div",{className:"flex items-center gap-2",children:a===y.uuid?d.jsx(Rl,{icon:d.jsx(RR,{size:16}),onClick:u,tooltip:"Pause Sample",variant:"secondary"}):d.jsx(Rl,{icon:d.jsx(HR,{size:16}),onClick:()=>c(y.metadata.sample,y.uuid),tooltip:"Play Sample",variant:"primary"})}):"N/A"}));return d.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:d.jsx("div",{className:"max-w-7xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[d.jsx("div",{className:"p-6 border-b border-gray-200",children:d.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Voice Models"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all models, including voice models"})]})})}),d.jsx("div",{className:"p-6",children:e?d.jsxs("div",{className:"flex justify-center items-center",children:[d.jsx(ir,{className:"inline animate-spin text-[#6925EF]"}),d.jsx("span",{className:"text-gray-600 ml-2",children:"Loading models..."})]}):r?d.jsxs("div",{className:"text-red-500",children:["Error loading models: ",((m=n==null?void 0:n.data)==null?void 0:m.message)||"Unknown error"]}):d.jsx("div",{className:"overflow-x-auto",children:d.jsx(nc,{columns:A,data:h,className:"w-full min-w-[750px]"})})})]})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function y0(t){return t+.5|0}const Al=(t,e,r)=>Math.max(Math.min(t,r),e);function Uf(t){return Al(y0(t*2.55),0,255)}function El(t){return Al(y0(t*255),0,255)}function Uo(t){return Al(y0(t/2.55)/100,0,1)}function cT(t){return Al(y0(t*100),0,100)}const _i={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Y5=[..."0123456789ABCDEF"],c0e=t=>Y5[t&15],u0e=t=>Y5[(t&240)>>4]+Y5[t&15],fg=t=>(t&240)>>4===(t&15),A0e=t=>fg(t.r)&&fg(t.g)&&fg(t.b)&&fg(t.a);function d0e(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&_i[t[1]]*17,g:255&_i[t[2]]*17,b:255&_i[t[3]]*17,a:e===5?_i[t[4]]*17:255}:(e===7||e===9)&&(r={r:_i[t[1]]<<4|_i[t[2]],g:_i[t[3]]<<4|_i[t[4]],b:_i[t[5]]<<4|_i[t[6]],a:e===9?_i[t[7]]<<4|_i[t[8]]:255})),r}const h0e=(t,e)=>t<255?e(t):"";function f0e(t){var e=A0e(t)?c0e:u0e;return t?"#"+e(t.r)+e(t.g)+e(t.b)+h0e(t.a,e):void 0}const p0e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function tK(t,e,r){const n=e*Math.min(r,1-r),i=(s,o=(s+t/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function m0e(t,e,r){const n=(i,s=(i+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function g0e(t,e,r){const n=tK(t,1,.5);let i;for(e+r>1&&(i=1/(e+r),e*=i,r*=i),i=0;i<3;i++)n[i]*=1-e-r,n[i]+=e;return n}function y0e(t,e,r,n,i){return t===i?(e-r)/n+(e<r?6:0):e===i?(r-t)/n+2:(t-e)/n+4}function kk(t){const r=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(r,n,i),o=Math.min(r,n,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=y0e(r,n,i,u,s),l=l*60+.5),[l|0,c||0,a]}function Ek(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(El)}function Fk(t,e,r){return Ek(tK,t,e,r)}function v0e(t,e,r){return Ek(g0e,t,e,r)}function x0e(t,e,r){return Ek(m0e,t,e,r)}function rK(t){return(t%360+360)%360}function b0e(t){const e=p0e.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?Uf(+e[5]):El(+e[5]));const i=rK(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=v0e(i,s,o):e[1]==="hsv"?n=x0e(i,s,o):n=Fk(i,s,o),{r:n[0],g:n[1],b:n[2],a:r}}function w0e(t,e){var r=kk(t);r[0]=rK(r[0]+e),r=Fk(r),t.r=r[0],t.g=r[1],t.b=r[2]}function C0e(t){if(!t)return;const e=kk(t),r=e[0],n=cT(e[1]),i=cT(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${i}%, ${Uo(t.a)})`:`hsl(${r}, ${n}%, ${i}%)`}const uT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},AT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function B0e(){const t={},e=Object.keys(AT),r=Object.keys(uT);let n,i,s,o,a;for(n=0;n<e.length;n++){for(o=a=e[n],i=0;i<r.length;i++)s=r[i],a=a.replace(s,uT[s]);s=parseInt(AT[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let pg;function _0e(t){pg||(pg=B0e(),pg.transparent=[0,0,0,0]);const e=pg[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const S0e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function k0e(t){const e=S0e.exec(t);let r=255,n,i,s;if(e){if(e[7]!==n){const o=+e[7];r=e[8]?Uf(o):Al(o*255,0,255)}return n=+e[1],i=+e[3],s=+e[5],n=255&(e[2]?Uf(n):Al(n,0,255)),i=255&(e[4]?Uf(i):Al(i,0,255)),s=255&(e[6]?Uf(s):Al(s,0,255)),{r:n,g:i,b:s,a:r}}}function E0e(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Uo(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const A3=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,eA=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function F0e(t,e,r){const n=eA(Uo(t.r)),i=eA(Uo(t.g)),s=eA(Uo(t.b));return{r:El(A3(n+r*(eA(Uo(e.r))-n))),g:El(A3(i+r*(eA(Uo(e.g))-i))),b:El(A3(s+r*(eA(Uo(e.b))-s))),a:t.a+r*(e.a-t.a)}}function mg(t,e,r){if(t){let n=kk(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=Fk(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function nK(t,e){return t&&Object.assign(e||{},t)}function dT(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=El(t[3]))):(e=nK(t,{r:0,g:0,b:0,a:1}),e.a=El(e.a)),e}function M0e(t){return t.charAt(0)==="r"?k0e(t):b0e(t)}class _m{constructor(e){if(e instanceof _m)return e;const r=typeof e;let n;r==="object"?n=dT(e):r==="string"&&(n=d0e(e)||_0e(e)||M0e(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=nK(this._rgb);return e&&(e.a=Uo(e.a)),e}set rgb(e){this._rgb=dT(e)}rgbString(){return this._valid?E0e(this._rgb):void 0}hexString(){return this._valid?f0e(this._rgb):void 0}hslString(){return this._valid?C0e(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,i=e.rgb;let s;const o=r===s?.5:r,a=2*o-1,l=n.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,n.r=255&c*n.r+s*i.r+.5,n.g=255&c*n.g+s*i.g+.5,n.b=255&c*n.b+s*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=F0e(this._rgb,e._rgb,r)),this}clone(){return new _m(this.rgb)}alpha(e){return this._rgb.a=El(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=y0(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return mg(this._rgb,2,e),this}darken(e){return mg(this._rgb,2,-e),this}saturate(e){return mg(this._rgb,1,e),this}desaturate(e){return mg(this._rgb,1,-e),this}rotate(e){return w0e(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function wo(){}const T0e=(()=>{let t=0;return()=>t++})();function He(t){return t==null}function Mt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ke(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function $t(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function si(t,e){return $t(t)?t:e}function Oe(t,e){return typeof t>"u"?e:t}const D0e=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,iK=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function yt(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function At(t,e,r,n){let i,s,o;if(Mt(t))for(s=t.length,i=0;i<s;i++)e.call(r,t[i],i);else if(Ke(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(r,t[o[i]],o[i])}function nb(t,e){let r,n,i,s;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(i=t[r],s=e[r],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function ib(t){if(Mt(t))return t.map(ib);if(Ke(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let i=0;for(;i<n;++i)e[r[i]]=ib(t[r[i]]);return e}return t}function sK(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function L0e(t,e,r,n){if(!sK(t))return;const i=e[t],s=r[t];Ke(i)&&Ke(s)?Sm(i,s,n):e[t]=ib(s)}function Sm(t,e,r){const n=Mt(e)?e:[e],i=n.length;if(!Ke(t))return t;r=r||{};const s=r.merger||L0e;let o;for(let a=0;a<i;++a){if(o=n[a],!Ke(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,r)}return t}function wp(t,e){return Sm(t,e,{merger:j0e})}function j0e(t,e,r){if(!sK(t))return;const n=e[t],i=r[t];Ke(n)&&Ke(i)?wp(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ib(i))}const hT={"":t=>t,x:t=>t.x,y:t=>t.y};function O0e(t){const e=t.split("."),r=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function N0e(t){const e=O0e(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function Hl(t,e){return(hT[e]||(hT[e]=N0e(e)))(t)}function Mk(t){return t.charAt(0).toUpperCase()+t.slice(1)}const km=t=>typeof t<"u",$l=t=>typeof t=="function",fT=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function I0e(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const St=Math.PI,Bt=2*St,U0e=Bt+St,sb=Number.POSITIVE_INFINITY,P0e=St/180,er=St/2,uc=St/4,pT=St*2/3,dl=Math.log10,uo=Math.sign;function Cp(t,e,r){return Math.abs(t-e)<r}function mT(t){const e=Math.round(t);t=Cp(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(dl(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function Q0e(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((i,s)=>i-s).pop(),e}function R0e(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Wd(t){return!R0e(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function H0e(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function oK(t,e,r){let n,i,s;for(n=0,i=t.length;n<i;n++)s=t[n][r],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function fs(t){return t*(St/180)}function Tk(t){return t*(180/St)}function gT(t){if(!$t(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function aK(t,e){const r=e.x-t.x,n=e.y-t.y,i=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*St&&(s+=Bt),{angle:s,distance:i}}function J5(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function $0e(t,e){return(t-e+U0e)%Bt-St}function li(t){return(t%Bt+Bt)%Bt}function Em(t,e,r,n){const i=li(t),s=li(e),o=li(r),a=li(s-i),l=li(o-i),c=li(i-s),u=li(i-o);return i===s||i===o||n&&s===o||a>l&&c<u}function Er(t,e,r){return Math.max(e,Math.min(r,t))}function V0e(t){return Er(t,-32768,32767)}function Ko(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function Dk(t,e,r){r=r||(o=>t[o]<e);let n=t.length-1,i=0,s;for(;n-i>1;)s=i+n>>1,r(s)?i=s:n=s;return{lo:i,hi:n}}const zo=(t,e,r,n)=>Dk(t,r,n?i=>{const s=t[i][e];return s<r||s===r&&t[i+1][e]===r}:i=>t[i][e]<r),K0e=(t,e,r)=>Dk(t,r,n=>t[n][e]>=r);function z0e(t,e,r){let n=0,i=t.length;for(;n<i&&t[n]<e;)n++;for(;i>n&&t[i-1]>r;)i--;return n>0||i<t.length?t.slice(n,i):t}const lK=["push","pop","shift","splice","unshift"];function W0e(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),lK.forEach(r=>{const n="_onData"+Mk(r),i=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...s)}),o}})})}function yT(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(lK.forEach(s=>{delete t[s]}),delete t._chartjs)}function cK(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const uK=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function AK(t,e){let r=[],n=!1;return function(...i){r=i,n||(n=!0,uK.call(window,()=>{n=!1,t.apply(e,r)}))}}function G0e(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const Lk=t=>t==="start"?"left":t==="end"?"right":"center",rn=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,q0e=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function dK(t,e,r){const n=e.length;let i=0,s=n;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:A,max:h,minDefined:f,maxDefined:p}=o.getUserBounds();if(f){if(i=Math.min(zo(l,u,A).lo,r?n:zo(e,u,o.getPixelForValue(A)).lo),c){const m=l.slice(0,i+1).reverse().findIndex(y=>!He(y[a.axis]));i-=Math.max(0,m)}i=Er(i,0,n-1)}if(p){let m=Math.max(zo(l,o.axis,h,!0).hi+1,r?0:zo(e,u,o.getPixelForValue(h),!0).hi+1);if(c){const y=l.slice(m-1).findIndex(g=>!He(g[a.axis]));m+=Math.max(0,y)}s=Er(m,i,n)-i}else s=n-i}return{start:i,count:s}}function hK(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,i={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=i,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,i),s}const gg=t=>t===0||t===1,vT=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Bt/r)),xT=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Bt/r)+1,Bp={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*er)+1,easeOutSine:t=>Math.sin(t*er),easeInOutSine:t=>-.5*(Math.cos(St*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>gg(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>gg(t)?t:vT(t,.075,.3),easeOutElastic:t=>gg(t)?t:xT(t,.075,.3),easeInOutElastic(t){return gg(t)?t:t<.5?.5*vT(t*2,.1125,.45):.5+.5*xT(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Bp.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Bp.easeInBounce(t*2)*.5:Bp.easeOutBounce(t*2-1)*.5+.5};function jk(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function bT(t){return jk(t)?t:new _m(t)}function d3(t){return jk(t)?t:new _m(t).saturate(.5).darken(.1).hexString()}const X0e=["x","y","borderWidth","radius","tension"],Y0e=["color","borderColor","backgroundColor"];function J0e(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Y0e},numbers:{type:"number",properties:X0e}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Z0e(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const wT=new Map;function ege(t,e){e=e||{};const r=t+JSON.stringify(e);let n=wT.get(r);return n||(n=new Intl.NumberFormat(t,e),wT.set(r,n)),n}function v0(t,e,r){return ege(e,r).format(t)}const fK={values(t){return Mt(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let i,s=t;if(r.length>1){const c=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=tge(t,r)}const o=dl(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),v0(t,n,l)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(dl(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?fK.numeric.call(this,t,e,r):""}};function tge(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var iw={formatters:fK};function rge(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:iw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Mu=Object.create(null),Z5=Object.create(null);function _p(t,e){if(!e)return t;const r=e.split(".");for(let n=0,i=r.length;n<i;++n){const s=r[n];t=t[s]||(t[s]=Object.create(null))}return t}function h3(t,e,r){return typeof e=="string"?Sm(_p(t,e),r):Sm(_p(t,""),e)}class nge{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>d3(i.backgroundColor),this.hoverBorderColor=(n,i)=>d3(i.borderColor),this.hoverColor=(n,i)=>d3(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return h3(this,e,r)}get(e){return _p(this,e)}describe(e,r){return h3(Z5,e,r)}override(e,r){return h3(Mu,e,r)}route(e,r,n,i){const s=_p(this,e),o=_p(this,n),a="_"+r;Object.defineProperties(s,{[a]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[a],c=o[i];return Ke(l)?Object.assign({},c,l):Oe(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(r=>r(this))}}var Tt=new nge({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[J0e,Z0e,rge]);function ige(t){return!t||He(t.size)||He(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function ob(t,e,r,n,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,r.push(i)),s>n&&(n=s),n}function sge(t,e,r,n){n=n||{};let i=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},s=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let o=0;const a=r.length;let l,c,u,A,h;for(l=0;l<a;l++)if(A=r[l],A!=null&&!Mt(A))o=ob(t,i,s,o,A);else if(Mt(A))for(c=0,u=A.length;c<u;c++)h=A[c],h!=null&&!Mt(h)&&(o=ob(t,i,s,o,h));t.restore();const f=s.length/2;if(f>r.length){for(l=0;l<f;l++)delete i[s[l]];s.splice(0,f)}return o}function Ac(t,e,r){const n=t.currentDevicePixelRatio,i=r!==0?Math.max(r/2,.5):0;return Math.round((e-i)*n)/n+i}function CT(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function e6(t,e,r,n){pK(t,e,r,n,null)}function pK(t,e,r,n,i){let s,o,a,l,c,u,A,h;const f=e.pointStyle,p=e.rotation,m=e.radius;let y=(p||0)*P0e;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(y),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),f){default:i?t.ellipse(r,n,i/2,m,0,0,Bt):t.arc(r,n,m,0,Bt),t.closePath();break;case"triangle":u=i?i/2:m,t.moveTo(r+Math.sin(y)*u,n-Math.cos(y)*m),y+=pT,t.lineTo(r+Math.sin(y)*u,n-Math.cos(y)*m),y+=pT,t.lineTo(r+Math.sin(y)*u,n-Math.cos(y)*m),t.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(y+uc)*l,A=Math.cos(y+uc)*(i?i/2-c:l),a=Math.sin(y+uc)*l,h=Math.sin(y+uc)*(i?i/2-c:l),t.arc(r-A,n-a,c,y-St,y-er),t.arc(r+h,n-o,c,y-er,y),t.arc(r+A,n+a,c,y,y+er),t.arc(r-h,n+o,c,y+er,y+St),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,u=i?i/2:l,t.rect(r-u,n-l,2*u,2*l);break}y+=uc;case"rectRot":A=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,h=Math.sin(y)*(i?i/2:m),t.moveTo(r-A,n-a),t.lineTo(r+h,n-o),t.lineTo(r+A,n+a),t.lineTo(r-h,n+o),t.closePath();break;case"crossRot":y+=uc;case"cross":A=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,h=Math.sin(y)*(i?i/2:m),t.moveTo(r-A,n-a),t.lineTo(r+A,n+a),t.moveTo(r+h,n-o),t.lineTo(r-h,n+o);break;case"star":A=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,h=Math.sin(y)*(i?i/2:m),t.moveTo(r-A,n-a),t.lineTo(r+A,n+a),t.moveTo(r+h,n-o),t.lineTo(r-h,n+o),y+=uc,A=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,h=Math.sin(y)*(i?i/2:m),t.moveTo(r-A,n-a),t.lineTo(r+A,n+a),t.moveTo(r+h,n-o),t.lineTo(r-h,n+o);break;case"line":o=i?i/2:Math.cos(y)*m,a=Math.sin(y)*m,t.moveTo(r-o,n-a),t.lineTo(r+o,n+a);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(y)*(i?i/2:m),n+Math.sin(y)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Wo(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function sw(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ow(t){t.restore()}function oge(t,e,r,n,i){if(!e)return t.lineTo(r.x,r.y);if(i==="middle"){const s=(e.x+r.x)/2;t.lineTo(s,e.y),t.lineTo(s,r.y)}else i==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function age(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function lge(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),He(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function cge(t,e,r,n,i){if(i.strikethrough||i.underline){const s=t.measureText(n),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=r-s.actualBoundingBoxAscent,c=r+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function uge(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Tu(t,e,r,n,i,s={}){const o=Mt(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,lge(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&uge(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),He(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,r,n,s.maxWidth)),t.fillText(c,r,n,s.maxWidth),cge(t,r,n,c,s),n+=Number(i.lineHeight);t.restore()}function Fm(t,e){const{x:r,y:n,w:i,h:s,radius:o}=e;t.arc(r+o.topLeft,n+o.topLeft,o.topLeft,1.5*St,St,!0),t.lineTo(r,n+s-o.bottomLeft),t.arc(r+o.bottomLeft,n+s-o.bottomLeft,o.bottomLeft,St,er,!0),t.lineTo(r+i-o.bottomRight,n+s),t.arc(r+i-o.bottomRight,n+s-o.bottomRight,o.bottomRight,er,0,!0),t.lineTo(r+i,n+o.topRight),t.arc(r+i-o.topRight,n+o.topRight,o.topRight,0,-er,!0),t.lineTo(r+o.topLeft,n)}const Age=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,dge=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function hge(t,e){const r=(""+t).match(Age);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const fge=t=>+t||0;function Ok(t,e){const r={},n=Ke(e),i=n?Object.keys(e):e,s=Ke(t)?n?o=>Oe(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)r[o]=fge(s(o));return r}function mK(t){return Ok(t,{top:"y",right:"x",bottom:"y",left:"x"})}function uu(t){return Ok(t,["topLeft","topRight","bottomLeft","bottomRight"])}function hn(t){const e=mK(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function vr(t,e){t=t||{},e=e||Tt.font;let r=Oe(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Oe(t.style,e.style);n&&!(""+n).match(dge)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:Oe(t.family,e.family),lineHeight:hge(Oe(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Oe(t.weight,e.weight),string:""};return i.string=ige(i),i}function Pf(t,e,r,n){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function pge(t,e,r){const{min:n,max:i}=t,s=iK(e,(i-n)/2),o=(a,l)=>r&&a===0?0:a+l;return{min:o(n,-Math.abs(s)),max:o(i,s)}}function ic(t,e){return Object.assign(Object.create(t),e)}function Nk(t,e=[""],r,n,i=()=>t[0]){const s=r||t;typeof n>"u"&&(n=xK("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:i,override:a=>Nk([a,...t],e,s,n)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return yK(a,l,()=>Cge(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return _T(a).includes(l)},ownKeys(a){return _T(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Gd(t,e,r,n){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:gK(t,n),setContext:s=>Gd(t,s,r,n),override:s=>Gd(t.override(s),e,r,n)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return yK(s,o,()=>gge(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function gK(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:r,indexable:n,isScriptable:$l(r)?r:()=>r,isIndexable:$l(n)?n:()=>n}}const mge=(t,e)=>t?t+Mk(e):e,Ik=(t,e)=>Ke(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function yK(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function gge(t,e,r){const{_proxy:n,_context:i,_subProxy:s,_descriptors:o}=t;let a=n[e];return $l(a)&&o.isScriptable(e)&&(a=yge(e,a,t,r)),Mt(a)&&a.length&&(a=vge(e,a,t,o.isIndexable)),Ik(e,a)&&(a=Gd(a,i,s&&s[e],o)),a}function yge(t,e,r,n){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=r;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||n);return a.delete(t),Ik(t,l)&&(l=Uk(i._scopes,i,t,l)),l}function vge(t,e,r,n){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=r;if(typeof s.index<"u"&&n(t))return e[s.index%e.length];if(Ke(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const A=Uk(c,i,t,u);e.push(Gd(A,s,o&&o[t],a))}}return e}function vK(t,e,r){return $l(t)?t(e,r):t}const xge=(t,e)=>t===!0?e:typeof t=="string"?Hl(e,t):void 0;function bge(t,e,r,n,i){for(const s of e){const o=xge(r,s);if(o){t.add(o);const a=vK(o._fallback,r,i);if(typeof a<"u"&&a!==r&&a!==n)return a}else if(o===!1&&typeof n<"u"&&r!==n)return null}return!1}function Uk(t,e,r,n){const i=e._rootScopes,s=vK(e._fallback,r,n),o=[...t,...i],a=new Set;a.add(n);let l=BT(a,o,r,s||r,n);return l===null||typeof s<"u"&&s!==r&&(l=BT(a,o,s,l,n),l===null)?!1:Nk(Array.from(a),[""],i,s,()=>wge(e,r,n))}function BT(t,e,r,n,i){for(;r;)r=bge(t,e,r,n,i);return r}function wge(t,e,r){const n=t._getTarget();e in n||(n[e]={});const i=n[e];return Mt(i)&&Ke(r)?r:i||{}}function Cge(t,e,r,n){let i;for(const s of e)if(i=xK(mge(s,t),r),typeof i<"u")return Ik(t,i)?Uk(r,n,t,i):i}function xK(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function _T(t){let e=t._keys;return e||(e=t._keys=Bge(t._scopes)),e}function Bge(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}function bK(t,e,r,n){const{iScale:i}=t,{key:s="r"}=this._parsing,o=new Array(n);let a,l,c,u;for(a=0,l=n;a<l;++a)c=a+r,u=e[c],o[a]={r:i.parse(Hl(u,s),c)};return o}const _ge=Number.EPSILON||1e-14,qd=(t,e)=>e<t.length&&!t[e].skip&&t[e],wK=t=>t==="x"?"y":"x";function Sge(t,e,r,n){const i=t.skip?e:t,s=e,o=r.skip?e:r,a=J5(s,i),l=J5(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const A=n*c,h=n*u;return{previous:{x:s.x-A*(o.x-i.x),y:s.y-A*(o.y-i.y)},next:{x:s.x+h*(o.x-i.x),y:s.y+h*(o.y-i.y)}}}function kge(t,e,r){const n=t.length;let i,s,o,a,l,c=qd(t,0);for(let u=0;u<n-1;++u)if(l=c,c=qd(t,u+1),!(!l||!c)){if(Cp(e[u],0,_ge)){r[u]=r[u+1]=0;continue}i=r[u]/e[u],s=r[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),r[u]=i*o*e[u],r[u+1]=s*o*e[u])}}function Ege(t,e,r="x"){const n=wK(r),i=t.length;let s,o,a,l=qd(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=qd(t,c+1),!a)continue;const u=a[r],A=a[n];o&&(s=(u-o[r])/3,a[`cp1${r}`]=u-s,a[`cp1${n}`]=A-s*e[c]),l&&(s=(l[r]-u)/3,a[`cp2${r}`]=u+s,a[`cp2${n}`]=A+s*e[c])}}function Fge(t,e="x"){const r=wK(e),n=t.length,i=Array(n).fill(0),s=Array(n);let o,a,l,c=qd(t,0);for(o=0;o<n;++o)if(a=l,l=c,c=qd(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[r]-l[r])/u:0}s[o]=a?c?uo(i[o-1])!==uo(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}kge(t,i,s),Ege(t,s,e)}function yg(t,e,r){return Math.max(Math.min(t,r),e)}function Mge(t,e){let r,n,i,s,o,a=Wo(t[0],e);for(r=0,n=t.length;r<n;++r)o=s,s=a,a=r<n-1&&Wo(t[r+1],e),s&&(i=t[r],o&&(i.cp1x=yg(i.cp1x,e.left,e.right),i.cp1y=yg(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=yg(i.cp2x,e.left,e.right),i.cp2y=yg(i.cp2y,e.top,e.bottom)))}function Tge(t,e,r,n,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")Fge(t,i);else{let c=n?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=Sge(c,a,t[Math.min(s+1,o-(n?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&Mge(t,r)}function Pk(){return typeof window<"u"&&typeof document<"u"}function Qk(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ab(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const aw=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Dge(t,e){return aw(t).getPropertyValue(e)}const Lge=["top","right","bottom","left"];function Au(t,e,r){const n={};r=r?"-"+r:"";for(let i=0;i<4;i++){const s=Lge[i];n[s]=parseFloat(t[e+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const jge=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function Oge(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:i,offsetY:s}=n;let o=!1,a,l;if(jge(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function jc(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,i=aw(r),s=i.boxSizing==="border-box",o=Au(i,"padding"),a=Au(i,"border","width"),{x:l,y:c,box:u}=Oge(t,r),A=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-A)/f*r.width/n),y:Math.round((c-h)/p*r.height/n)}}function Nge(t,e,r){let n,i;if(e===void 0||r===void 0){const s=t&&Qk(t);if(!s)e=t.clientWidth,r=t.clientHeight;else{const o=s.getBoundingClientRect(),a=aw(s),l=Au(a,"border","width"),c=Au(a,"padding");e=o.width-c.width-l.width,r=o.height-c.height-l.height,n=ab(a.maxWidth,s,"clientWidth"),i=ab(a.maxHeight,s,"clientHeight")}}return{width:e,height:r,maxWidth:n||sb,maxHeight:i||sb}}const vg=t=>Math.round(t*10)/10;function Ige(t,e,r,n){const i=aw(t),s=Au(i,"margin"),o=ab(i.maxWidth,t,"clientWidth")||sb,a=ab(i.maxHeight,t,"clientHeight")||sb,l=Nge(t,e,r);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=Au(i,"border","width"),f=Au(i,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,n?c/n:u-s.height),c=vg(Math.min(c,o,l.maxWidth)),u=vg(Math.min(u,a,l.maxHeight)),c&&!u&&(u=vg(c/2)),(e!==void 0||r!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=vg(Math.floor(u*n))),{width:c,height:u}}function ST(t,e,r){const n=e||1,i=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=n,o.height=i,o.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Uge=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Pk()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function kT(t,e){const r=Dge(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Oc(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function Pge(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function Qge(t,e,r,n){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Oc(t,i,r),a=Oc(i,s,r),l=Oc(s,e,r),c=Oc(o,a,r),u=Oc(a,l,r);return Oc(c,u,r)}const Rge=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},Hge=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function bd(t,e,r){return t?Rge(e,r):Hge()}function CK(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function BK(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function _K(t){return t==="angle"?{between:Em,compare:$0e,normalize:li}:{between:Ko,compare:(e,r)=>e-r,normalize:e=>e}}function ET({start:t,end:e,count:r,loop:n,style:i}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:i}}function $ge(t,e,r){const{property:n,start:i,end:s}=r,{between:o,normalize:a}=_K(n),l=e.length;let{start:c,end:u,loop:A}=t,h,f;if(A){for(c+=l,u+=l,h=0,f=l;h<f&&o(a(e[c%l][n]),i,s);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:A,style:t.style}}function SK(t,e,r){if(!r)return[t];const{property:n,start:i,end:s}=r,o=e.length,{compare:a,between:l,normalize:c}=_K(n),{start:u,end:A,loop:h,style:f}=$ge(t,e,r),p=[];let m=!1,y=null,g,v,x;const b=()=>l(i,x,g)&&a(i,x)!==0,w=()=>a(s,g)===0||l(s,x,g),C=()=>m||b(),B=()=>!m||w();for(let _=u,k=u;_<=A;++_)v=e[_%o],!v.skip&&(g=c(v[n]),g!==x&&(m=l(g,i,s),y===null&&C()&&(y=a(g,i)===0?_:k),y!==null&&B()&&(p.push(ET({start:y,end:_,loop:h,count:o,style:f})),y=null),k=_,x=g));return y!==null&&p.push(ET({start:y,end:A,loop:h,count:o,style:f})),p}function kK(t,e){const r=[],n=t.segments;for(let i=0;i<n.length;i++){const s=SK(n[i],t.points,e);s.length&&r.push(...s)}return r}function Vge(t,e,r,n){let i=0,s=e-1;if(r&&!n)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,r&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function Kge(t,e,r,n){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=r;++l){const c=t[l%i];c.skip||c.stop?a.skip||(n=!1,s.push({start:e%i,end:(l-1)%i,loop:n}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:n}),s}function zge(t,e){const r=t.points,n=t.options.spanGaps,i=r.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=Vge(r,i,s,n);if(n===!0)return FT(t,[{start:o,end:a,loop:s}],r,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return FT(t,Kge(r,o,l,c),r,e)}function FT(t,e,r,n){return!n||!n.setContext||!r?e:Wge(t,e,r,n)}function Wge(t,e,r,n){const i=t._chart.getContext(),s=MT(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=r.length,c=[];let u=s,A=e[0].start,h=A;function f(p,m,y,g){const v=a?-1:1;if(p!==m){for(p+=l;r[p%l].skip;)p-=v;for(;r[m%l].skip;)m+=v;p%l!==m%l&&(c.push({start:p%l,end:m%l,loop:y,style:g}),u=g,A=m%l)}}for(const p of e){A=a?A:p.start;let m=r[A%l],y;for(h=A+1;h<=p.end;h++){const g=r[h%l];y=MT(n.setContext(ic(i,{type:"segment",p0:m,p1:g,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),Gge(y,u)&&f(A,h-1,p.loop,u),m=g,u=y}A<h-1&&f(A,h-1,p.loop,u)}return c}function MT(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Gge(t,e){if(!e)return!1;const r=[],n=function(i,s){return jk(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(t,n)!==JSON.stringify(e,n)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class qge{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,i){const s=r.listeners[i],o=r.duration;s.forEach(a=>a({chart:e,initial:r.initial,numSteps:o,currentStep:Math.min(n-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=uK.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const s=n.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,n,e,"progress")),s.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),r+=s.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Fo=new qge;const TT="transparent",Xge={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=bT(t||TT),i=n.valid&&bT(e||TT);return i&&i.valid?i.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class Yge{constructor(e,r,n,i){const s=r[n];i=Pf([e.to,i,s,e.from]);const o=Pf([e.from,s,i]);this._active=!0,this._fn=e.fn||Xge[e.type||typeof o],this._easing=Bp[e.easing]||Bp.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const i=this._target[this._prop],s=n-this._start,o=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Pf([e.to,r,i,e.from]),this._from=Pf([e.from,i,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||r<n),!this._active){this._target[i]=a,this._notify(!0);return}if(r<0){this._target[i]=s;return}l=r/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][r]()}}class EK{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Ke(e))return;const r=Object.keys(Tt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Ke(s))return;const o={};for(const a of r)o[a]=s[a];(Mt(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!n.has(a))&&n.set(a,o)})})}_animateOptions(e,r){const n=r.options,i=Zge(e,n);if(!i)return[];const s=this._createAnimations(i,n);return n.$shared&&Jge(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,r){const n=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(r),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,r));continue}const u=r[c];let A=s[c];const h=n.get(c);if(A)if(h&&A.active()){A.update(h,u,a);continue}else A.cancel();if(!h||!h.duration){e[c]=u;continue}s[c]=A=new Yge(h,e,c,u),i.push(A)}return i}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return Fo.add(this._chart,n),!0}}function Jge(t,e){const r=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const s=t[n[i]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function Zge(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function DT(t,e){const r=t&&t.options||{},n=r.reverse,i=r.min===void 0?e:0,s=r.max===void 0?e:0;return{start:n?s:i,end:n?i:s}}function e1e(t,e,r){if(r===!1)return!1;const n=DT(t,r),i=DT(e,r);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function t1e(t){let e,r,n,i;return Ke(t)?(e=t.top,r=t.right,n=t.bottom,i=t.left):e=r=n=i=t,{top:e,right:r,bottom:n,left:i,disabled:t===!1}}function FK(t,e){const r=[],n=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=n.length;i<s;++i)r.push(n[i].index);return r}function LT(t,e,r,n={}){const i=t.keys,s=n.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===r){if(u=!0,n.all)continue;break}c=t.values[l],$t(c)&&(s||e===0||uo(e)===uo(c))&&(e+=c)}return!u&&!n.all?0:e}function r1e(t,e){const{iScale:r,vScale:n}=e,i=r.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:t[u]};return a}function f3(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function n1e(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function i1e(t){const{min:e,max:r,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?r:Number.POSITIVE_INFINITY}}function s1e(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function jT(t,e,r,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const s=t[i.index];if(r&&s>0||!r&&s<0)return i.index}return null}function OT(t,e){const{chart:r,_cachedMeta:n}=t,i=r._stacks||(r._stacks={}),{iScale:s,vScale:o,index:a}=n,l=s.axis,c=o.axis,u=n1e(s,o,n),A=e.length;let h;for(let f=0;f<A;++f){const p=e[f],{[l]:m,[c]:y}=p,g=p._stacks||(p._stacks={});h=g[c]=s1e(i,u,m),h[a]=y,h._top=jT(h,o,!0,n.type),h._bottom=jT(h,o,!1,n.type);const v=h._visualValues||(h._visualValues={});v[a]=y}}function p3(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function o1e(t,e){return ic(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function a1e(t,e,r){return ic(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function zh(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r],s[n]._visualValues!==void 0&&s[n]._visualValues[r]!==void 0&&delete s[n]._visualValues[r]}}}const m3=t=>t==="reset"||t==="none",NT=(t,e)=>e?t:Object.assign({},t),l1e=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:FK(r,!0),values:null};class xs{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=f3(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&zh(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),i=(A,h,f,p)=>A==="x"?h:A==="r"?p:f,s=r.xAxisID=Oe(n.xAxisID,p3(e,"x")),o=r.yAxisID=Oe(n.yAxisID,p3(e,"y")),a=r.rAxisID=Oe(n.rAxisID,p3(e,"r")),l=r.indexAxis,c=r.iAxisID=i(l,s,o,a),u=r.vAxisID=i(l,o,s,a);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(a),r.iScale=this.getScaleForId(c),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&yT(this._data,this),e._stacked&&zh(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Ke(r)){const i=this._cachedMeta;this._data=r1e(r,i)}else if(n!==r){if(n){yT(n,this);const i=this._cachedMeta;zh(i),i._parsed=[]}r&&Object.isExtensible(r)&&W0e(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const s=r._stacked;r._stacked=f3(r.vScale,r),r.stack!==n.stack&&(i=!0,zh(r),r.stack=n.stack),this._resyncElements(e),(i||s!==r._stacked)&&(OT(this,r._parsed),r._stacked=f3(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:i}=this,{iScale:s,_stacked:o}=n,a=s.axis;let l=e===0&&r===i.length?!0:n._sorted,c=e>0&&n._parsed[e-1],u,A,h;if(this._parsing===!1)n._parsed=i,n._sorted=!0,h=i;else{Mt(i[e])?h=this.parseArrayData(n,i,e,r):Ke(i[e])?h=this.parseObjectData(n,i,e,r):h=this.parsePrimitiveData(n,i,e,r);const f=()=>A[a]===null||c&&A[a]<c[a];for(u=0;u<r;++u)n._parsed[u+e]=A=h[u],l&&(f()&&(l=!1),c=A);n._sorted=l}o&&OT(this,h)}parsePrimitiveData(e,r,n,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,A=new Array(i);let h,f,p;for(h=0,f=i;h<f;++h)p=h+n,A[h]={[a]:u||s.parse(c[p],p),[l]:o.parse(r[p],p)};return A}parseArrayData(e,r,n,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,A;for(l=0,c=i;l<c;++l)u=l+n,A=r[u],a[l]={x:s.parse(A[0],u),y:o.parse(A[1],u)};return a}parseObjectData(e,r,n,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,A,h,f;for(u=0,A=i;u<A;++u)h=u+n,f=r[h],c[u]={x:s.parse(Hl(f,a),h),y:o.parse(Hl(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const i=this.chart,s=this._cachedMeta,o=r[e.axis],a={keys:FK(i,!0),values:r._stacks[e.axis]._visualValues};return LT(a,o,s.index,{mode:n})}updateRangeFromParsed(e,r,n,i){const s=n[r.axis];let o=s===null?NaN:s;const a=i&&n._stacks[r.axis];i&&a&&(i.values=a,o=LT(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,r){const n=this._cachedMeta,i=n._parsed,s=n._sorted&&e===n.iScale,o=i.length,a=this._getOtherScale(e),l=l1e(r,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:A}=i1e(a);let h,f;function p(){f=i[h];const m=f[a.axis];return!$t(f[e.axis])||u>m||A<m}for(h=0;h<o&&!(!p()&&(this.updateRangeFromParsed(c,e,f,l),s));++h);if(s){for(h=o-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let i,s,o;for(i=0,s=r.length;i<s;++i)o=r[i][e.axis],$t(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,i=r.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=t1e(Oe(this.options.clip,e1e(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,i=n.data||[],s=r.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const A=i[u];A.hidden||(A.active&&c?o.push(A):A.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=a1e(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=o1e(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const i=r==="active",s=this._cachedDataOpts,o=e+"-"+r,a=s[o],l=this.enableOptionSharing&&km(n);if(a)return NT(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),A=i?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(Tt.elements[e]),p=()=>this.getContext(n,i,r),m=c.resolveNamedOptions(h,f,p,A);return m.$shared&&(m.$shared=l,s[o]=Object.freeze(NT(m,l))),m}_resolveAnimations(e,r,n){const i=this.chart,s=this._cachedDataOpts,o=`animation-${r}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,A=u.datasetAnimationScopeKeys(this._type,r),h=u.getOptionScopes(this.getDataset(),A);l=u.createResolver(h,this.getContext(e,n,r))}const c=new EK(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||m3(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),i=this._sharedOptions,s=this.getSharedOptions(n),o=this.includeOptions(r,s)||s!==i;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:o}}updateElement(e,r,n,i){m3(i)?Object.assign(e,n):this._resolveAnimations(r,i).update(e,n)}updateSharedOptions(e,r,n){e&&!m3(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,i){e.active=i;const s=this.getStyle(r,i);this._resolveAnimations(r,n,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=n.length,s=r.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,r,n=!0){const i=this._cachedMeta,s=i.data,o=e+r;let a;const l=c=>{for(c.length+=r,a=c.length-1;a>=o;a--)c[a]=c[a-r]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,r),n&&this.updateElements(s,e,r,"reset")}updateElements(e,r,n,i){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,r);n._stacked&&zh(n,i)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,i]=e;this[r](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}de(xs,"defaults",{}),de(xs,"datasetElementType",null),de(xs,"dataElementType",null);function c1e(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let i=0,s=r.length;i<s;i++)n=n.concat(r[i].controller.getAllParsedValues(t));t._cache.$bar=cK(n.sort((i,s)=>i-s))}return t._cache.$bar}function u1e(t){const e=t.iScale,r=c1e(e,t.type);let n=e._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(km(a)&&(n=Math.min(n,Math.abs(o-a)||n)),a=o)};for(i=0,s=r.length;i<s;++i)o=e.getPixelForValue(r[i]),l();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),l();return n}function A1e(t,e,r,n){const i=r.barThickness;let s,o;return He(i)?(s=e.min*r.categoryPercentage,o=r.barPercentage):(s=i*n,o=1),{chunk:s/n,ratio:o,start:e.pixels[t]-s/2}}function d1e(t,e,r,n){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=r.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/n,ratio:r.barPercentage,start:c}}function h1e(t,e,r,n){const i=r.parse(t[0],n),s=r.parse(t[1],n),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[r.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function MK(t,e,r,n){return Mt(t)?h1e(t,e,r,n):e[r.axis]=r.parse(t,n),e}function IT(t,e,r,n){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,l=[];let c,u,A,h;for(c=r,u=r+n;c<u;++c)h=e[c],A={},A[i.axis]=a||i.parse(o[c],c),l.push(MK(h,A,s,c));return l}function g3(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function f1e(t,e,r){return t!==0?uo(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function p1e(t){let e,r,n,i,s;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(i="end",s="start"):(i="start",s="end"),{start:r,end:n,reverse:e,top:i,bottom:s}}function m1e(t,e,r,n){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=p1e(t);i==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?i=c:(r._bottom||0)===n?i=u:(s[UT(u,o,a,l)]=!0,i=c)),s[UT(i,o,a,l)]=!0,t.borderSkipped=s}function UT(t,e,r,n){return n?(t=g1e(t,e,r),t=PT(t,r,e)):t=PT(t,e,r),t}function g1e(t,e,r){return t===e?r:t===r?e:t}function PT(t,e,r){return t==="start"?e:t==="end"?r:t}function y1e(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class bv extends xs{parsePrimitiveData(e,r,n,i){return IT(e,r,n,i)}parseArrayData(e,r,n,i){return IT(e,r,n,i)}parseObjectData(e,r,n,i){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,A=[];let h,f,p,m;for(h=n,f=n+i;h<f;++h)m=r[h],p={},p[s.axis]=s.parse(Hl(m,c),h),A.push(MK(Hl(m,u),p,o,h));return A}updateRangeFromParsed(e,r,n,i){super.updateRangeFromParsed(e,r,n,i);const s=n._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:i}=r,s=this.getParsed(e),o=s._custom,a=g3(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:A,includeOptions:h}=this._getSharedOptions(r,i);for(let f=r;f<r+n;f++){const p=this.getParsed(f),m=s||He(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),y=this._calculateBarIndexPixels(f,u),g=(p._stacks||{})[a.axis],v={horizontal:c,base:m.base,enableBorderRadius:!g||g3(p._custom)||o===g._top||o===g._bottom,x:c?m.head:y.center,y:c?y.center:m.head,height:c?y.size:Math.abs(m.size),width:c?Math.abs(m.size):y.size};h&&(v.options=A||this.resolveDataElementOptions(f,e[f].active?"active":i));const x=v.options||e[f].options;m1e(v,x,g,o),y1e(v,x,u.ratio),this.updateElement(e[f],f,v,i)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=n.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(r),l=a&&a[n.axis],c=u=>{const A=u._parsed.find(f=>f[n.axis]===l),h=A&&A[u.vScale.axis];if(He(h)||isNaN(h))return!0};for(const u of i)if(!(r!==void 0&&c(u))&&((s===!1||o.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,r,n){const i=this._getStacks(e,n),s=r!==void 0?i.indexOf(r):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,i=[];let s,o;for(s=0,o=r.data.length;s<o;++s)i.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const a=e.barThickness;return{min:a||u1e(r),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,u=g3(c);let A=l[r.axis],h=0,f=n?this.applyStack(r,l,n):A,p,m;f!==A&&(h=f-A,f=A),u&&(A=c.barStart,f=c.barEnd-c.barStart,A!==0&&uo(A)!==uo(c.barEnd)&&(h=0),h+=A);const y=!He(s)&&!u?s:h;let g=r.getPixelForValue(y);if(this.chart.getDataVisibility(e)?p=r.getPixelForValue(h+f):p=g,m=p-g,Math.abs(m)<o){m=f1e(m,r,a)*o,A===a&&(g-=m/2);const v=r.getPixelForDecimal(0),x=r.getPixelForDecimal(1),b=Math.min(v,x),w=Math.max(v,x);g=Math.max(Math.min(g,w),b),p=g+m,n&&!u&&(l._stacks[r.axis]._visualValues[i]=r.getValueForPixel(p)-r.getValueForPixel(g))}if(g===r.getPixelForValue(a)){const v=uo(m)*r.getLineWidthForValue(a)/2;g+=v,m-=v}return{size:m,base:g,head:p,center:p+m/2}}_calculateBarIndexPixels(e,r){const n=r.scale,i=this.options,s=i.skipNull,o=Oe(i.maxBarThickness,1/0);let a,l;if(r.grouped){const c=s?this._getStackCount(e):r.stackCount,u=i.barThickness==="flex"?d1e(e,r,i,c):A1e(e,r,i,c),A=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=u.start+u.chunk*A+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(o,r.min*r.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,i=n.length;let s=0;for(;s<i;++s)this.getParsed(s)[r.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}de(bv,"id","bar"),de(bv,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),de(bv,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class wv extends xs{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,n,i){const s=super.parsePrimitiveData(e,r,n,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+n).radius;return s}parseArrayData(e,r,n,i){const s=super.parseArrayData(e,r,n,i);for(let o=0;o<s.length;o++){const a=r[n+o];s[o]._custom=Oe(a[2],this.resolveDataElementOptions(o+n).radius)}return s}parseObjectData(e,r,n,i){const s=super.parseObjectData(e,r,n,i);for(let o=0;o<s.length;o++){const a=r[n+o];s[o]._custom=Oe(a&&a.r&&+a.r,this.resolveDataElementOptions(o+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let r=0;for(let n=e.length-1;n>=0;--n)r=Math.max(r,e[n].size(this.resolveDataElementOptions(n))/2);return r>0&&r}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:s}=r,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y),c=o._custom;return{label:n[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,n,i){const s=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(r,i),u=o.axis,A=a.axis;for(let h=r;h<r+n;h++){const f=e[h],p=!s&&this.getParsed(h),m={},y=m[u]=s?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),g=m[A]=s?a.getBasePixel():a.getPixelForValue(p[A]);m.skip=isNaN(y)||isNaN(g),c&&(m.options=l||this.resolveDataElementOptions(h,f.active?"active":i),s&&(m.options.radius=0)),this.updateElement(f,h,m,i)}}resolveDataElementOptions(e,r){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,r);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return r!=="active"&&(i.radius=0),i.radius+=Oe(n&&n._custom,s),i}}de(wv,"id","bubble"),de(wv,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),de(wv,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function v1e(t,e,r){let n=1,i=1,s=0,o=0;if(e<Bt){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),A=Math.cos(l),h=Math.sin(l),f=(x,b,w)=>Em(x,a,l,!0)?1:Math.max(b,b*r,w,w*r),p=(x,b,w)=>Em(x,a,l,!0)?-1:Math.min(b,b*r,w,w*r),m=f(0,c,A),y=f(er,u,h),g=p(St,c,A),v=p(St+er,u,h);n=(m-g)/2,i=(y-v)/2,s=-(m+g)/2,o=-(y+v)/2}return{ratioX:n,ratioY:i,offsetX:s,offsetY:o}}class Zc extends xs{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let s=l=>+n[l];if(Ke(n[e])){const{key:l="value"}=this._parsing;s=c=>+Hl(n[c],l)}let o,a;for(o=e,a=e+r;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return fs(this.options.rotation-90)}_getCircumference(){return fs(this.options.circumference)}_getRotationExtents(){let e=Bt,r=-Bt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),r=Math.max(r,s+o)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-o)/2,0),l=Math.min(D0e(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:A}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:p,offsetY:m}=v1e(A,u,l),y=(n.width-o)/h,g=(n.height-o)/f,v=Math.max(Math.min(y,g)/2,0),x=iK(this.options.radius,v),b=Math.max(x*l,0),w=(x-b)/this._getVisibleDatasetWeightTotal();this.offsetX=p*x,this.offsetY=m*x,i.total=this.calculateTotal(),this.outerRadius=x-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){const n=this.options,i=this._cachedMeta,s=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Bt)}updateElements(e,r,n,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,A=(a.top+a.bottom)/2,h=s&&c.animateScale,f=h?0:this.innerRadius,p=h?0:this.outerRadius,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(r,i);let g=this._getRotation(),v;for(v=0;v<r;++v)g+=this._circumference(v,s);for(v=r;v<r+n;++v){const x=this._circumference(v,s),b=e[v],w={x:u+this.offsetX,y:A+this.offsetY,startAngle:g,endAngle:g+x,circumference:x,outerRadius:p,innerRadius:f};y&&(w.options=m||this.resolveDataElementOptions(v,b.active?"active":i)),g+=x,this.updateElement(b,v,w,i)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,i;for(i=0;i<r.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!r[i].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Bt*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=v0(r._parsed[e],n.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let r=0;const n=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=n.data.datasets.length;i<s;++i)if(n.isDatasetVisible(i)){o=n.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,i=e.length;n<i;++n){const s=this.resolveDataElementOptions(n);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(Oe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}de(Zc,"id","doughnut"),de(Zc,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),de(Zc,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),de(Zc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return r.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class Sp extends xs{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:i=[],_dataset:s}=r,o=this.chart._animationsDisabled;let{start:a,count:l}=dK(r,i,o);this._drawStart=a,this._drawCount=l,hK(r)&&(a=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,r,n,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:A}=this._getSharedOptions(r,i),h=o.axis,f=a.axis,{spanGaps:p,segment:m}=this.options,y=Wd(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||i==="none",v=r+n,x=e.length;let b=r>0&&this.getParsed(r-1);for(let w=0;w<x;++w){const C=e[w],B=g?C:{};if(w<r||w>=v){B.skip=!0;continue}const _=this.getParsed(w),k=He(_[f]),E=B[h]=o.getPixelForValue(_[h],w),F=B[f]=s||k?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,_,l):_[f],w);B.skip=isNaN(E)||isNaN(F)||k,B.stop=w>0&&Math.abs(_[h]-b[h])>y,m&&(B.parsed=_,B.raw=c.data[w]),A&&(B.options=u||this.resolveDataElementOptions(w,C.active?"active":i)),g||this.updateElement(C,w,B,i),b=_}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}de(Sp,"id","line"),de(Sp,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),de(Sp,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class kp extends xs{constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=v0(r._parsed[e].r,n.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,r,n,i){return bK.bind(this)(e,r,n,i)}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){const e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){const e=this.chart,r=e.chartArea,n=e.options,i=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(i/2,0),o=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,r,n,i){const s=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,A=c.yCenter,h=c.getIndexAngle(0)-.5*St;let f=h,p;const m=360/this.countVisibleElements();for(p=0;p<r;++p)f+=this._computeAngle(p,i,m);for(p=r;p<r+n;p++){const y=e[p];let g=f,v=f+this._computeAngle(p,i,m),x=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=v,s&&(l.animateScale&&(x=0),l.animateRotate&&(g=v=h));const b={x:u,y:A,innerRadius:0,outerRadius:x,startAngle:g,endAngle:v,options:this.resolveDataElementOptions(p,y.active?"active":i)};this.updateElement(y,p,b,i)}}countVisibleElements(){const e=this._cachedMeta;let r=0;return e.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&r++}),r}_computeAngle(e,r,n){return this.chart.getDataVisibility(e)?fs(this.resolveDataElementOptions(e,r).angle||n):0}}de(kp,"id","polarArea"),de(kp,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),de(kp,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return r.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class t6 extends Zc{}de(t6,"id","pie"),de(t6,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Cv extends xs{getLabelAndValue(e){const r=this._cachedMeta.vScale,n=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(e,r,n,i){return bK.bind(this)(e,r,n,i)}update(e){const r=this._cachedMeta,n=r.dataset,i=r.data||[],s=r.iScale.getLabels();if(n.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(n,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,r,n,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=r;a<r+n;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=s.getPointPositionForValue(a,this.getParsed(a).r),A=o?s.xCenter:u.x,h=o?s.yCenter:u.y,f={x:A,y:h,angle:u.angle,skip:isNaN(A)||isNaN(h),options:c};this.updateElement(l,a,f,i)}}}de(Cv,"id","radar"),de(Cv,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),de(Cv,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Bv extends xs{getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:s}=r,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:n[e]||"",value:"("+a+", "+l+")"}}update(e){const r=this._cachedMeta,{data:n=[]}=r,i=this.chart._animationsDisabled;let{start:s,count:o}=dK(r,n,i);if(this._drawStart=s,this._drawCount=o,hK(r)&&(s=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=r;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=n;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(n,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,n,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(r,i),A=this.getSharedOptions(u),h=this.includeOptions(i,A),f=o.axis,p=a.axis,{spanGaps:m,segment:y}=this.options,g=Wd(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||i==="none";let x=r>0&&this.getParsed(r-1);for(let b=r;b<r+n;++b){const w=e[b],C=this.getParsed(b),B=v?w:{},_=He(C[p]),k=B[f]=o.getPixelForValue(C[f],b),E=B[p]=s||_?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,C,l):C[p],b);B.skip=isNaN(k)||isNaN(E)||_,B.stop=b>0&&Math.abs(C[f]-x[f])>g,y&&(B.parsed=C,B.raw=c.data[b]),h&&(B.options=A||this.resolveDataElementOptions(b,w.active?"active":i)),v||this.updateElement(w,b,B,i),x=C}this.updateSharedOptions(A,i,u)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let a=0;for(let l=r.length-1;l>=0;--l)a=Math.max(a,r[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const n=e.dataset,i=n.options&&n.options.borderWidth||0;if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}}de(Bv,"id","scatter"),de(Bv,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),de(Bv,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var x1e=Object.freeze({__proto__:null,BarController:bv,BubbleController:wv,DoughnutController:Zc,LineController:Sp,PieController:t6,PolarAreaController:kp,RadarController:Cv,ScatterController:Bv});function dc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Rk{constructor(e){de(this,"options");this.options=e||{}}static override(e){Object.assign(Rk.prototype,e)}init(){}formats(){return dc()}parse(){return dc()}format(){return dc()}add(){return dc()}diff(){return dc()}startOf(){return dc()}endOf(){return dc()}}var b1e={_date:Rk};function w1e(t,e,r,n){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?K0e:zo;if(n){if(i._sharedOptions){const u=s[0],A=typeof u.getRange=="function"&&u.getRange(e);if(A){const h=c(s,e,r-A),f=c(s,e,r+A);return{lo:h.lo,hi:f.hi}}}}else{const u=c(s,e,r);if(l){const{vScale:A}=i._cachedMeta,{_parsed:h}=t,f=h.slice(0,u.lo+1).reverse().findIndex(m=>!He(m[A.axis]));u.lo-=Math.max(0,f);const p=h.slice(u.hi).findIndex(m=>!He(m[A.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:s.length-1}}function x0(t,e,r,n,i){const s=t.getSortedVisibleDatasetMetas(),o=r[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:A,hi:h}=w1e(s[a],e,o,i);for(let f=A;f<=h;++f){const p=u[f];p.skip||n(p,c,f)}}}function C1e(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,i){const s=e?Math.abs(n.x-i.x):0,o=r?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function y3(t,e,r,n,i){const s=[];return!i&&!t.isPointInArea(e)||x0(t,r,e,function(a,l,c){!i&&!Wo(a,t.chartArea,0)||a.inRange(e.x,e.y,n)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function B1e(t,e,r,n){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:A}=aK(o,{x:e.x,y:e.y});Em(A,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return x0(t,r,e,s),i}function _1e(t,e,r,n,i,s){let o=[];const a=C1e(r);let l=Number.POSITIVE_INFINITY;function c(u,A,h){const f=u.inRange(e.x,e.y,i);if(n&&!f)return;const p=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(p))&&!f)return;const y=a(e,p);y<l?(o=[{element:u,datasetIndex:A,index:h}],l=y):y===l&&o.push({element:u,datasetIndex:A,index:h})}return x0(t,r,e,c),o}function v3(t,e,r,n,i,s){return!s&&!t.isPointInArea(e)?[]:r==="r"&&!n?B1e(t,e,r,i):_1e(t,e,r,n,i,s)}function QT(t,e,r,n,i){const s=[],o=r==="x"?"inXRange":"inYRange";let a=!1;return x0(t,r,e,(l,c,u)=>{l[o]&&l[o](e[r],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),n&&!a?[]:s}var S1e={evaluateInteractionItems:x0,modes:{index(t,e,r,n){const i=jc(e,t),s=r.axis||"x",o=r.includeInvisible||!1,a=r.intersect?y3(t,i,s,n,o):v3(t,i,s,!1,n,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,A=c.data[u];A&&!A.skip&&l.push({element:A,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,r,n){const i=jc(e,t),s=r.axis||"xy",o=r.includeInvisible||!1;let a=r.intersect?y3(t,i,s,n,o):v3(t,i,s,!1,n,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,r,n){const i=jc(e,t),s=r.axis||"xy",o=r.includeInvisible||!1;return y3(t,i,s,n,o)},nearest(t,e,r,n){const i=jc(e,t),s=r.axis||"xy",o=r.includeInvisible||!1;return v3(t,i,s,r.intersect,n,o)},x(t,e,r,n){const i=jc(e,t);return QT(t,i,"x",r.intersect,n)},y(t,e,r,n){const i=jc(e,t);return QT(t,i,"y",r.intersect,n)}}};const TK=["left","top","right","bottom"];function Wh(t,e){return t.filter(r=>r.pos===e)}function RT(t,e){return t.filter(r=>TK.indexOf(r.pos)===-1&&r.box.axis===e)}function Gh(t,e){return t.sort((r,n)=>{const i=e?n:r,s=e?r:n;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function k1e(t){const e=[];let r,n,i,s,o,a;for(r=0,n=(t||[]).length;r<n;++r)i=t[r],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:r,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function E1e(t){const e={};for(const r of t){const{stack:n,pos:i,stackWeight:s}=r;if(!n||!TK.includes(i))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function F1e(t,e){const r=E1e(t),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=r[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*n:l&&e.availableWidth,a.height=i):(a.width=n,a.height=u?u*i:l&&e.availableHeight)}return r}function M1e(t){const e=k1e(t),r=Gh(e.filter(c=>c.box.fullSize),!0),n=Gh(Wh(e,"left"),!0),i=Gh(Wh(e,"right")),s=Gh(Wh(e,"top"),!0),o=Gh(Wh(e,"bottom")),a=RT(e,"x"),l=RT(e,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Wh(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function HT(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function DK(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function T1e(t,e,r,n){const{pos:i,box:s}=r,o=t.maxPadding;if(!Ke(i)){r.size&&(t[i]-=r.size);const A=n[r.stack]||{size:0,count:1};A.size=Math.max(A.size,r.horizontal?s.height:s.width),r.size=A.size/A.count,t[i]+=r.size}s.getPadding&&DK(o,s.getPadding());const a=Math.max(0,e.outerWidth-HT(o,t,"left","right")),l=Math.max(0,e.outerHeight-HT(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,r.horizontal?{same:c,other:u}:{same:u,other:c}}function D1e(t){const e=t.maxPadding;function r(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function L1e(t,e){const r=e.maxPadding;function n(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],r[o])}),s}return n(t?["left","right"]:["top","bottom"])}function Qf(t,e,r,n){const i=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,L1e(a.horizontal,e));const{same:A,other:h}=T1e(e,r,a,n);c|=A&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&Qf(i,e,r,n)||u}function xg(t,e,r,n,i){t.top=r,t.left=e,t.right=e+n,t.bottom=r+i,t.width=n,t.height=i}function $T(t,e,r,n){const i=r.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=n[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const A=e.w*u,h=c.size||l.height;km(c.start)&&(o=c.start),l.fullSize?xg(l,i.left,o,r.outerWidth-i.right-i.left,h):xg(l,e.left+c.placed,o,A,h),c.start=o,c.placed+=A,o=l.bottom}else{const A=e.h*u,h=c.size||l.width;km(c.start)&&(s=c.start),l.fullSize?xg(l,s,i.top,h,r.outerHeight-i.bottom-i.top):xg(l,s,e.top+c.placed,h,A),c.start=s,c.placed+=A,s=l.right}}e.x=s,e.y=o}var cn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const i=hn(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(r-i.height,0),a=M1e(t.boxes),l=a.vertical,c=a.horizontal;At(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,y)=>y.box.options&&y.box.options.display===!1?m:m+1,0)||1,A=Object.freeze({outerWidth:e,outerHeight:r,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},i);DK(h,hn(n));const f=Object.assign({maxPadding:h,w:s,h:o,x:i.left,y:i.top},i),p=F1e(l.concat(c),A);Qf(a.fullSize,f,A,p),Qf(l,f,A,p),Qf(c,f,A,p)&&Qf(l,f,A,p),D1e(f),$T(a.leftAndTop,f,A,p),f.x+=f.w,f.y+=f.h,$T(a.rightAndBottom,f,A,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},At(a.chartArea,m=>{const y=m.box;Object.assign(y,t.chartArea),y.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class LK{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,i){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,i?Math.floor(r/i):n)}}isAttached(e){return!0}updateConfig(e){}}class j1e extends LK{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const _v="$chartjs",O1e={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},VT=t=>t===null||t==="";function N1e(t,e){const r=t.style,n=t.getAttribute("height"),i=t.getAttribute("width");if(t[_v]={initial:{height:n,width:i,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",VT(i)){const s=kT(t,"width");s!==void 0&&(t.width=s)}if(VT(n))if(t.style.height==="")t.height=t.width/(e||2);else{const s=kT(t,"height");s!==void 0&&(t.height=s)}return t}const jK=Uge?{passive:!0}:!1;function I1e(t,e,r){t&&t.addEventListener(e,r,jK)}function U1e(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,jK)}function P1e(t,e){const r=O1e[t.type]||t.type,{x:n,y:i}=jc(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:i!==void 0?i:null}}function lb(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function Q1e(t,e,r){const n=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||lb(a.addedNodes,n),o=o&&!lb(a.removedNodes,n);o&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}function R1e(t,e,r){const n=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||lb(a.removedNodes,n),o=o&&!lb(a.addedNodes,n);o&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}const Mm=new Map;let KT=0;function OK(){const t=window.devicePixelRatio;t!==KT&&(KT=t,Mm.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function H1e(t,e){Mm.size||window.addEventListener("resize",OK),Mm.set(t,e)}function $1e(t){Mm.delete(t),Mm.size||window.removeEventListener("resize",OK)}function V1e(t,e,r){const n=t.canvas,i=n&&Qk(n);if(!i)return;const s=AK((a,l)=>{const c=i.clientWidth;r(a,l),c<i.clientWidth&&r()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),H1e(t,s),o}function x3(t,e,r){r&&r.disconnect(),e==="resize"&&$1e(t)}function K1e(t,e,r){const n=t.canvas,i=AK(s=>{t.ctx!==null&&r(P1e(s,t))},t);return I1e(n,e,i),i}class z1e extends LK{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(N1e(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[_v])return!1;const n=r[_v].initial;["height","width"].forEach(s=>{const o=n[s];He(o)?r.removeAttribute(s):r.setAttribute(s,o)});const i=n.style||{};return Object.keys(i).forEach(s=>{r.style[s]=i[s]}),r.width=r.width,delete r[_v],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const i=e.$proxies||(e.$proxies={}),o={attach:Q1e,detach:R1e,resize:V1e}[r]||K1e;i[r]=o(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),i=n[r];if(!i)return;({attach:x3,detach:x3,resize:x3}[r]||U1e)(e,r,i),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,i){return Ige(e,r,n,i)}isAttached(e){const r=e&&Qk(e);return!!(r&&r.isConnected)}}function W1e(t){return!Pk()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?j1e:z1e}var Ey;let va=(Ey=class{constructor(){de(this,"x");de(this,"y");de(this,"active",!1);de(this,"options");de(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Wd(this.x)&&Wd(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const i={};return e.forEach(s=>{i[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),i}},de(Ey,"defaults",{}),de(Ey,"defaultRoutes"),Ey);function G1e(t,e){const r=t.options.ticks,n=q1e(t),i=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?Y1e(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return J1e(e,c,s,o/i),c;const u=X1e(s,e,i);if(o>0){let A,h;const f=o>1?Math.round((l-a)/(o-1)):null;for(bg(e,c,u,He(f)?0:a-f,a),A=0,h=o-1;A<h;A++)bg(e,c,u,s[A],s[A+1]);return bg(e,c,u,l,He(f)?e.length:l+f),c}return bg(e,c,u),c}function q1e(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),i=t._maxLength/r;return Math.floor(Math.min(n,i))}function X1e(t,e,r){const n=Z1e(t),i=e.length/r;if(!n)return Math.max(i,1);const s=Q0e(n);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function Y1e(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function J1e(t,e,r,n){let i=0,s=r[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=r[i*n])}function bg(t,e,r,n,i){const s=Oe(n,0),o=Math.min(Oe(i,t.length),t.length);let a=0,l,c,u;for(r=Math.ceil(r),i&&(l=i-n,r=l/Math.floor(l/r)),u=s;u<0;)a++,u=Math.round(s+a*r);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*r))}function Z1e(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const eye=t=>t==="left"?"right":t==="right"?"left":t,zT=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,WT=(t,e)=>Math.min(e||t,t);function GT(t,e){const r=[],n=t.length/e,i=t.length;let s=0;for(;s<i;s+=n)r.push(t[Math.floor(s)]);return r}function tye(t,e,r){const n=t.ticks.length,i=Math.min(e,n-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(r&&(n===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function rye(t,e){At(t,r=>{const n=r.gc,i=n.length/2;let s;if(i>e){for(s=0;s<i;++s)delete r.data[n[s]];n.splice(0,i)}})}function qh(t){return t.drawTicks?t.tickLength:0}function qT(t,e){if(!t.display)return 0;const r=vr(t.font,e),n=hn(t.padding);return(Mt(t.text)?t.text.length:1)*r.lineHeight+n.height}function nye(t,e){return ic(t,{scale:e,type:"scale"})}function iye(t,e,r){return ic(t,{tick:r,index:e,type:"tick"})}function sye(t,e,r){let n=Lk(t);return(r&&e!=="right"||!r&&e==="right")&&(n=eye(n)),n}function oye(t,e,r,n){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let A=0,h,f,p;const m=o-i,y=a-s;if(t.isHorizontal()){if(f=rn(n,s,a),Ke(r)){const g=Object.keys(r)[0],v=r[g];p=u[g].getPixelForValue(v)+m-e}else r==="center"?p=(c.bottom+c.top)/2+m-e:p=zT(t,r,e);h=a-s}else{if(Ke(r)){const g=Object.keys(r)[0],v=r[g];f=u[g].getPixelForValue(v)-y+e}else r==="center"?f=(c.left+c.right)/2-y+e:f=zT(t,r,e);p=rn(n,o,i),A=r==="left"?-er:er}return{titleX:f,titleY:p,maxWidth:h,rotation:A}}class $u extends va{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:i}=this;return e=si(e,Number.POSITIVE_INFINITY),r=si(r,Number.NEGATIVE_INFINITY),n=si(n,Number.POSITIVE_INFINITY),i=si(i,Number.NEGATIVE_INFINITY),{min:si(e,n),max:si(r,i),minDefined:$t(e),maxDefined:$t(r)}}getMinMax(e){let{min:r,max:n,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:r,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(r=Math.min(r,o.min)),s||(n=Math.max(n,o.max));return r=s&&r>n?n:r,n=i&&r>n?r:n,{min:si(r,si(n,r)),max:si(n,si(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){yt(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=pge(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?GT(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=G1e(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){yt(this.options.afterUpdate,[this])}beforeSetDimensions(){yt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){yt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),yt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){yt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,i,s;for(n=0,i=e.length;n<i;n++)s=e[n],s.label=yt(r.callback,[s.value,n,e],this)}afterTickToLabelConversion(){yt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){yt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=WT(this.ticks.length,e.ticks.maxTicksLimit),i=r.minRotation||0,s=r.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!r.display||i>=s||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),A=u.widest.width,h=u.highest.height,f=Er(this.chart.width-A,0,this.maxWidth);a=e.offset?this.maxWidth/n:f/(n-1),A+6>a&&(a=f/(n-(e.offset?.5:1)),l=this.maxHeight-qh(e.grid)-r.padding-qT(e.title,this.chart.options.font),c=Math.sqrt(A*A+h*h),o=Tk(Math.min(Math.asin(Er((u.highest.height+6)/a,-1,1)),Math.asin(Er(l/c,-1,1))-Math.asin(Er(h/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){yt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){yt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=qT(i,r.options.font);if(a?(e.width=this.maxWidth,e.height=qh(s)+l):(e.height=this.maxHeight,e.width=qh(s)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:A,highest:h}=this._getLabelSizes(),f=n.padding*2,p=fs(this.labelRotation),m=Math.cos(p),y=Math.sin(p);if(a){const g=n.mirror?0:y*A.width+m*h.height;e.height=Math.min(this.maxHeight,e.height+g+f)}else{const g=n.mirror?0:m*A.width+y*h.height;e.width=Math.min(this.maxWidth,e.width+g+f)}this._calculatePadding(c,u,y,m)}}this._handleMargins(),a?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,A=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=i*e.width,f=n*r.height):(h=n*e.height,f=i*r.width):s==="start"?f=r.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,f=r.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-A+o)*this.width/(this.width-A),0)}else{let u=r.height/2,A=e.height/2;s==="start"?(u=0,A=e.height):s==="end"&&(u=r.height,A=0),this.paddingTop=u+o,this.paddingBottom=A+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){yt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)He(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=GT(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(r/WT(r,n));let c=0,u=0,A,h,f,p,m,y,g,v,x,b,w;for(A=0;A<r;A+=l){if(p=e[A].label,m=this._resolveTickFontOptions(A),i.font=y=m.string,g=s[y]=s[y]||{data:{},gc:[]},v=m.lineHeight,x=b=0,!He(p)&&!Mt(p))x=ob(i,g.data,g.gc,x,p),b=v;else if(Mt(p))for(h=0,f=p.length;h<f;++h)w=p[h],!He(w)&&!Mt(w)&&(x=ob(i,g.data,g.gc,x,w),b+=v);o.push(x),a.push(b),c=Math.max(x,c),u=Math.max(b,u)}rye(s,r);const C=o.indexOf(c),B=a.indexOf(u),_=k=>({width:o[k]||0,height:a[k]||0});return{first:_(0),last:_(r-1),widest:_(C),highest:_(B),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return V0e(this._alignToPixels?Ac(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=iye(this.getContext(),e,n))}return this.$context||(this.$context=nye(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=fs(this.labelRotation),n=Math.abs(Math.cos(r)),i=Math.abs(Math.sin(r)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*n>a*i?a/n:l/i:l*i<a*n?l/n:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),A=this.ticks.length+(l?1:0),h=qh(s),f=[],p=a.setContext(this.getContext()),m=p.display?p.width:0,y=m/2,g=function(H){return Ac(n,H,m)};let v,x,b,w,C,B,_,k,E,F,M,T;if(o==="top")v=g(this.bottom),B=this.bottom-h,k=v-y,F=g(e.top)+y,T=e.bottom;else if(o==="bottom")v=g(this.top),F=e.top,T=g(e.bottom)-y,B=v+y,k=this.top+h;else if(o==="left")v=g(this.right),C=this.right-h,_=v-y,E=g(e.left)+y,M=e.right;else if(o==="right")v=g(this.left),E=e.left,M=g(e.right)-y,C=v+y,_=this.left+h;else if(r==="x"){if(o==="center")v=g((e.top+e.bottom)/2+.5);else if(Ke(o)){const H=Object.keys(o)[0],I=o[H];v=g(this.chart.scales[H].getPixelForValue(I))}F=e.top,T=e.bottom,B=v+y,k=B+h}else if(r==="y"){if(o==="center")v=g((e.left+e.right)/2);else if(Ke(o)){const H=Object.keys(o)[0],I=o[H];v=g(this.chart.scales[H].getPixelForValue(I))}C=v-y,_=C-h,E=e.left,M=e.right}const Q=Oe(i.ticks.maxTicksLimit,A),P=Math.max(1,Math.ceil(A/Q));for(x=0;x<A;x+=P){const H=this.getContext(x),I=s.setContext(H),L=a.setContext(H),R=I.lineWidth,V=I.color,Y=L.dash||[],re=L.dashOffset,se=I.tickWidth,ie=I.tickColor,Ae=I.tickBorderDash||[],G=I.tickBorderDashOffset;b=tye(this,x,l),b!==void 0&&(w=Ac(n,b,R),c?C=_=E=M=w:B=k=F=T=w,f.push({tx1:C,ty1:B,tx2:_,ty2:k,x1:E,y1:F,x2:M,y2:T,width:R,color:V,borderDash:Y,borderDashOffset:re,tickWidth:se,tickColor:ie,tickBorderDash:Ae,tickBorderDashOffset:G}))}return this._ticksLength=A,this._borderValue=v,f}_computeLabelItems(e){const r=this.axis,n=this.options,{position:i,ticks:s}=n,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:A}=s,h=qh(n.grid),f=h+u,p=A?-u:f,m=-fs(this.labelRotation),y=[];let g,v,x,b,w,C,B,_,k,E,F,M,T="middle";if(i==="top")C=this.bottom-p,B=this._getXAxisLabelAlignment();else if(i==="bottom")C=this.top+p,B=this._getXAxisLabelAlignment();else if(i==="left"){const P=this._getYAxisLabelAlignment(h);B=P.textAlign,w=P.x}else if(i==="right"){const P=this._getYAxisLabelAlignment(h);B=P.textAlign,w=P.x}else if(r==="x"){if(i==="center")C=(e.top+e.bottom)/2+f;else if(Ke(i)){const P=Object.keys(i)[0],H=i[P];C=this.chart.scales[P].getPixelForValue(H)+f}B=this._getXAxisLabelAlignment()}else if(r==="y"){if(i==="center")w=(e.left+e.right)/2-f;else if(Ke(i)){const P=Object.keys(i)[0],H=i[P];w=this.chart.scales[P].getPixelForValue(H)}B=this._getYAxisLabelAlignment(h).textAlign}r==="y"&&(l==="start"?T="top":l==="end"&&(T="bottom"));const Q=this._getLabelSizes();for(g=0,v=a.length;g<v;++g){x=a[g],b=x.label;const P=s.setContext(this.getContext(g));_=this.getPixelForTick(g)+s.labelOffset,k=this._resolveTickFontOptions(g),E=k.lineHeight,F=Mt(b)?b.length:1;const H=F/2,I=P.color,L=P.textStrokeColor,R=P.textStrokeWidth;let V=B;o?(w=_,B==="inner"&&(g===v-1?V=this.options.reverse?"left":"right":g===0?V=this.options.reverse?"right":"left":V="center"),i==="top"?c==="near"||m!==0?M=-F*E+E/2:c==="center"?M=-Q.highest.height/2-H*E+E:M=-Q.highest.height+E/2:c==="near"||m!==0?M=E/2:c==="center"?M=Q.highest.height/2-H*E:M=Q.highest.height-F*E,A&&(M*=-1),m!==0&&!P.showLabelBackdrop&&(w+=E/2*Math.sin(m))):(C=_,M=(1-F)*E/2);let Y;if(P.showLabelBackdrop){const re=hn(P.backdropPadding),se=Q.heights[g],ie=Q.widths[g];let Ae=M-re.top,G=0-re.left;switch(T){case"middle":Ae-=se/2;break;case"bottom":Ae-=se;break}switch(B){case"center":G-=ie/2;break;case"right":G-=ie;break;case"inner":g===v-1?G-=ie:g>0&&(G-=ie/2);break}Y={left:G,top:Ae,width:ie+re.width,height:se+re.height,color:P.backdropColor}}y.push({label:b,font:k,textOffset:M,options:{rotation:m,color:I,strokeColor:L,strokeWidth:R,textAlign:V,textBaseline:T,translation:[w,C],backdrop:Y}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-fs(this.labelRotation))return e==="top"?"left":"right";let i="center";return r.align==="start"?i="left":r.align==="end"?i="right":r.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return r==="left"?i?(u=this.right+s,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):r==="right"?i?(u=this.left+s,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:i,width:s,height:o}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,i,s,o),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?r.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(r.display)for(s=0,o=i.length;s<o;++s){const l=i[s];r.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:i}}=this,s=n.setContext(this.getContext()),o=n.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,A,h;this.isHorizontal()?(c=Ac(e,this.left,o)-o/2,u=Ac(e,this.right,a)+a/2,A=h=l):(A=Ac(e,this.top,o)-o/2,h=Ac(e,this.bottom,a)+a/2,c=u=l),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(c,A),r.lineTo(u,h),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&sw(n,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Tu(n,c,0,u,l,a)}i&&ow(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:i}}=this;if(!n.display)return;const s=vr(n.font),o=hn(n.padding),a=n.align;let l=s.lineHeight/2;r==="bottom"||r==="center"||Ke(r)?(l+=o.bottom,Mt(n.text)&&(l+=s.lineHeight*(n.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:A,rotation:h}=oye(this,l,r,a);Tu(e,n.text,0,0,s,{color:n.color,maxWidth:A,rotation:h,textAlign:sye(a,r,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Oe(e.grid&&e.grid.z,-1),i=Oe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==$u.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let s,o;for(s=0,o=r.length;s<o;++s){const a=r[s];a[n]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return vr(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class wg{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;cye(r)&&(n=this.register(r));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,aye(e,o,n),this.override&&Tt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,i=this.scope;n in r&&delete r[n],i&&n in Tt[i]&&(delete Tt[i][n],this.override&&delete Mu[n])}}function aye(t,e,r){const n=Sm(Object.create(null),[r?Tt.get(r):{},Tt.get(e),t.defaults]);Tt.set(e,n),t.defaultRoutes&&lye(e,t.defaultRoutes),t.descriptors&&Tt.describe(e,t.descriptors)}function lye(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),i=n.pop(),s=[t].concat(n).join("."),o=e[r].split("."),a=o.pop(),l=o.join(".");Tt.route(s,i,l,a)})}function cye(t){return"id"in t&&"defaults"in t}class uye{constructor(){this.controllers=new wg(xs,"datasets",!0),this.elements=new wg(va,"elements"),this.plugins=new wg(Object,"plugins"),this.scales=new wg($u,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(i=>{const s=n||this._getRegistryForType(i);n||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):At(i,o=>{const a=n||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,r,n){const i=Mk(e);yt(n["before"+i],[],n),r[e](n),yt(n["after"+i],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const i=r.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var Ks=new uye;class Aye{constructor(){this._init=[]}notify(e,r,n,i){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,r,n);return r==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,r,n,i){i=i||{};for(const s of e){const o=s.plugin,a=o[n],l=[r,i,s.options];if(yt(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){He(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,i=Oe(n.options&&n.options.plugins,{}),s=dye(n);return i===!1&&!r?[]:fye(e,s,i,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(r,n),e,"stop"),this._notify(i(n,r),e,"start")}}function dye(t){const e={},r=[],n=Object.keys(Ks.plugins.items);for(let s=0;s<n.length;s++)r.push(Ks.getPlugin(n[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];r.indexOf(o)===-1&&(r.push(o),e[o.id]=!0)}return{plugins:r,localIds:e}}function hye(t,e){return!e&&t===!1?null:t===!0?{}:t}function fye(t,{plugins:e,localIds:r},n,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=hye(n[l],i);c!==null&&s.push({plugin:a,options:pye(t.config,{plugin:a,local:r[l]},c,o)})}return s}function pye(t,{plugin:e,local:r},n,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(n,s);return r&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function r6(t,e){const r=Tt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function mye(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function gye(t,e){return t===e?"_index_":"_value_"}function XT(t){if(t==="x"||t==="y"||t==="r")return t}function yye(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function n6(t,...e){if(XT(t))return t;for(const r of e){const n=r.axis||yye(r.position)||t.length>1&&XT(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function YT(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function vye(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return YT(t,"x",r[0])||YT(t,"y",r[0])}return{}}function xye(t,e){const r=Mu[t.type]||{scales:{}},n=e.scales||{},i=r6(t.type,e),s=Object.create(null);return Object.keys(n).forEach(o=>{const a=n[o];if(!Ke(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=n6(o,a,vye(o,t),Tt.scales[a.type]),c=gye(l,i),u=r.scales||{};s[o]=wp(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||r6(a,e),u=(Mu[a]||{}).scales||{};Object.keys(u).forEach(A=>{const h=mye(A,l),f=o[h+"AxisID"]||h;s[f]=s[f]||Object.create(null),wp(s[f],[{axis:h},n[f],u[A]])})}),Object.keys(s).forEach(o=>{const a=s[o];wp(a,[Tt.scales[a.type],Tt.scale])}),s}function NK(t){const e=t.options||(t.options={});e.plugins=Oe(e.plugins,{}),e.scales=xye(t,e)}function IK(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function bye(t){return t=t||{},t.data=IK(t.data),NK(t),t}const JT=new Map,UK=new Set;function Cg(t,e){let r=JT.get(t);return r||(r=e(),JT.set(t,r),UK.add(r)),r}const Xh=(t,e,r)=>{const n=Hl(e,r);n!==void 0&&t.add(n)};class wye{constructor(e){this._config=bye(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=IK(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),NK(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Cg(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Cg(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Cg(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return Cg(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let i=n.get(e);return(!i||r)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,r,n){const{options:i,type:s}=this,o=this._cachedScopes(e,n),a=o.get(r);if(a)return a;const l=new Set;r.forEach(u=>{e&&(l.add(e),u.forEach(A=>Xh(l,e,A))),u.forEach(A=>Xh(l,i,A)),u.forEach(A=>Xh(l,Mu[s]||{},A)),u.forEach(A=>Xh(l,Tt,A)),u.forEach(A=>Xh(l,Z5,A))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),UK.has(r)&&o.set(r,c),c}chartOptionScopes(){const{options:e,type:r}=this;return[e,Mu[r]||{},Tt.datasets[r]||{},{type:r},Tt,Z5]}resolveNamedOptions(e,r,n,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=ZT(this._resolverCache,e,i);let l=o;if(Bye(o,r)){s.$shared=!1,n=$l(n)?n():n;const c=this.createResolver(e,n,a);l=Gd(o,n,c)}for(const c of r)s[c]=l[c];return s}createResolver(e,r,n=[""],i){const{resolver:s}=ZT(this._resolverCache,e,n);return Ke(r)?Gd(s,r,void 0,i):s}}function ZT(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const i=r.join();let s=n.get(i);return s||(s={resolver:Nk(e,r),subPrefixes:r.filter(a=>!a.toLowerCase().includes("hover"))},n.set(i,s)),s}const Cye=t=>Ke(t)&&Object.getOwnPropertyNames(t).some(e=>$l(t[e]));function Bye(t,e){const{isScriptable:r,isIndexable:n}=gK(t);for(const i of e){const s=r(i),o=n(i),a=(o||s)&&t[i];if(s&&($l(a)||Cye(a))||o&&Mt(a))return!0}return!1}var _ye="4.4.8";const Sye=["top","bottom","left","right","chartArea"];function eD(t,e){return t==="top"||t==="bottom"||Sye.indexOf(t)===-1&&e==="x"}function tD(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function rD(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),yt(r&&r.onComplete,[t],e)}function kye(t){const e=t.chart,r=e.options.animation;yt(r&&r.onProgress,[t],e)}function PK(t){return Pk()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Sv={},nD=t=>{const e=PK(t);return Object.values(Sv).filter(r=>r.canvas===e).pop()};function Eye(t,e,r){const n=Object.keys(t);for(const i of n){const s=+i;if(s>=e){const o=t[i];delete t[i],(r>0||s>e)&&(t[s+r]=o)}}}function Fye(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}function Bg(t,e,r){return t.options.clip?t[r]:e[r]}function Mye(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:Bg(r,e,"left"),right:Bg(r,e,"right"),top:Bg(n,e,"top"),bottom:Bg(n,e,"bottom")}:e}var Va;let mh=(Va=class{static register(...e){Ks.add(...e),iD()}static unregister(...e){Ks.remove(...e),iD()}constructor(e,r){const n=this.config=new wye(r),i=PK(e),s=nD(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||W1e(i)),this.platform.updateConfig(n);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=T0e(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Aye,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=G0e(A=>this.update(A),o.resizeDelay||0),this._dataChanges=[],Sv[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Fo.listen(this,"complete",rD),Fo.listen(this,"progress",kye),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:i,_aspectRatio:s}=this;return He(e)?r&&s?s:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ks}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ST(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return CT(this.canvas,this.ctx),this}stop(){return Fo.stop(this),this}resize(e,r){Fo.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,i=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,r,s),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,ST(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),yt(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};At(r,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,i=Object.keys(n).reduce((o,a)=>(o[a]=!1,o),{});let s=[];r&&(s=s.concat(Object.keys(r).map(o=>{const a=r[o],l=n6(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),At(s,o=>{const a=o.options,l=a.id,c=n6(l,a),u=Oe(a.type,o.dtype);(a.position===void 0||eD(a.position,c)!==eD(o.dposition))&&(a.position=o.dposition),i[l]=!0;let A=null;if(l in n&&n[l].type===u)A=n[l];else{const h=Ks.getScale(u);A=new h({id:l,type:u,ctx:this.ctx,chart:this}),n[A.id]=A}A.init(a,e)}),At(i,(o,a)=>{o||delete n[a]}),At(n,o=>{cn.configure(this,o,o.options),cn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((i,s)=>i.index-s.index),n>r){for(let i=r;i<n;++i)this._destroyDatasetMeta(i);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(tD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,i)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=r.length;n<i;n++){const s=r[n];let o=this.getDatasetMeta(n);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=a,o.indexAxis=s.indexAxis||r6(a,this.options),o.order=s.order||0,o.index=n,o.label=""+s.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const l=Ks.getController(a),{datasetElementType:c,dataElementType:u}=Tt.datasets[a];Object.assign(l,{dataElementType:Ks.getElement(u),datasetElementType:c&&Ks.getElement(c)}),o.controller=new l(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){At(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:A}=this.getDatasetMeta(c),h=!i&&s.indexOf(A)===-1;A.buildOrUpdateElements(h),o=Math.max(+A.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||At(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(tD("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){At(this.scales,e=>{cn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!fT(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:s}of r){const o=n==="_removeElements"?-s:s;Eye(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=n(0);for(let s=1;s<r;s++)if(!fT(i,n(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;cn.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],At(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,$l(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(r),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Fo.has(this)?this.attached&&!Fo.running(this)&&Fo.start(this):(this.draw(),rD({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let i,s;for(i=0,s=r.length;i<s;++i){const o=r[i];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n=e._clip,i=!n.disabled,s=Mye(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&sw(r,{left:n.left===!1?0:s.left-n.left,right:n.right===!1?this.width:s.right+n.right,top:n.top===!1?0:s.top-n.top,bottom:n.bottom===!1?this.height:s.bottom+n.bottom}),e.controller.draw(),i&&ow(r),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Wo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,i){const s=S1e.modes[r];return typeof s=="function"?s(this,e,n,i):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let i=n.filter(s=>s&&s._dataset===r).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=ic(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const i=n?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);km(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(s,{visible:n}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Fo.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),CT(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Sv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(s,o)=>{r.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};At(this.options.events,s=>n(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(l,c)=>{r.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(r.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),n("resize",s),n("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),n("attach",a)},r.isAttached(this.canvas)?a():o()}unbindEvents(){At(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},At(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const i=n?"set":"remove";let s,o,a,l;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!nb(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(A=>u.datasetIndex===A.datasetIndex&&u.index===A.index)),o=s(r,e),a=n?e:s(e,r);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const s=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(s||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:i=[],options:s}=this,o=r,a=this._getActiveElements(e,i,n,o),l=I0e(e),c=Fye(e,this._lastEvent,n,l);n&&(this._lastEvent=null,yt(s.onHover,[e,a,this],this),l&&yt(s.onClick,[e,a,this],this));const u=!nb(a,i);return(u||r)&&(this._active=a,this._updateHoverStyles(a,i,r)),this._lastEvent=c,u}_getActiveElements(e,r,n,i){if(e.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},de(Va,"defaults",Tt),de(Va,"instances",Sv),de(Va,"overrides",Mu),de(Va,"registry",Ks),de(Va,"version",_ye),de(Va,"getChart",nD),Va);function iD(){return At(mh.instances,t=>t._plugins.invalidate())}function Tye(t,e,r){const{startAngle:n,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(s,o,a,n-c,r+c),l>i?(c=i/l,t.arc(s,o,l,r+c,n-c,!0)):t.arc(s,o,i,r+er,n-er),t.closePath(),t.clip()}function Dye(t){return Ok(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Lye(t,e,r,n){const i=Dye(t.options.borderRadius),s=(r-e)/2,o=Math.min(s,n*e/2),a=l=>{const c=(r-Math.min(s,l))*n/2;return Er(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Er(i.innerStart,0,o),innerEnd:Er(i.innerEnd,0,o)}}function tA(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function cb(t,e,r,n,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,A=Math.max(e.outerRadius+n+r-c,0),h=u>0?u+n+r+c:0;let f=0;const p=i-l;if(n){const P=u>0?u-n:0,H=A>0?A-n:0,I=(P+H)/2,L=I!==0?p*I/(I+n):p;f=(p-L)/2}const m=Math.max(.001,p*A-r/St)/A,y=(p-m)/2,g=l+y+f,v=i-y-f,{outerStart:x,outerEnd:b,innerStart:w,innerEnd:C}=Lye(e,h,A,v-g),B=A-x,_=A-b,k=g+x/B,E=v-b/_,F=h+w,M=h+C,T=g+w/F,Q=v-C/M;if(t.beginPath(),s){const P=(k+E)/2;if(t.arc(o,a,A,k,P),t.arc(o,a,A,P,E),b>0){const R=tA(_,E,o,a);t.arc(R.x,R.y,b,E,v+er)}const H=tA(M,v,o,a);if(t.lineTo(H.x,H.y),C>0){const R=tA(M,Q,o,a);t.arc(R.x,R.y,C,v+er,Q+Math.PI)}const I=(v-C/h+(g+w/h))/2;if(t.arc(o,a,h,v-C/h,I,!0),t.arc(o,a,h,I,g+w/h,!0),w>0){const R=tA(F,T,o,a);t.arc(R.x,R.y,w,T+Math.PI,g-er)}const L=tA(B,g,o,a);if(t.lineTo(L.x,L.y),x>0){const R=tA(B,k,o,a);t.arc(R.x,R.y,x,g-er,k)}}else{t.moveTo(o,a);const P=Math.cos(k)*A+o,H=Math.sin(k)*A+a;t.lineTo(P,H);const I=Math.cos(E)*A+o,L=Math.sin(E)*A+a;t.lineTo(I,L)}t.closePath()}function jye(t,e,r,n,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){cb(t,e,r,n,l,i);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%Bt||Bt))}return cb(t,e,r,n,l,i),t.fill(),l}function Oye(t,e,r,n,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:A,borderDashOffset:h}=l,f=l.borderAlign==="inner";if(!c)return;t.setLineDash(A||[]),t.lineDashOffset=h,f?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(s){cb(t,e,r,n,p,i);for(let m=0;m<s;++m)t.stroke();isNaN(a)||(p=o+(a%Bt||Bt))}f&&Tye(t,e,p),s||(cb(t,e,r,n,p,i),t.stroke())}class Rf extends va{constructor(r){super();de(this,"circumference");de(this,"endAngle");de(this,"fullCircles");de(this,"innerRadius");de(this,"outerRadius");de(this,"pixelMargin");de(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=aK(s,{x:r,y:n}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:A,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,p=Oe(h,c-l),m=Em(o,l,c)&&l!==c,y=p>=Bt||m,g=Ko(a,u+f,A+f);return y&&g}getCenterPoint(r){const{x:n,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:c,spacing:u}=this.options,A=(s+o)/2,h=(a+l+u+c)/2;return{x:n+Math.cos(A)*h,y:i+Math.sin(A)*h}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:i}=this,s=(n.offset||0)/4,o=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Bt?Math.floor(i/Bt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const l=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(St,i||0)),u=s*c;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,jye(r,this,u,o,a),Oye(r,this,u,o,a),r.restore()}}de(Rf,"id","arc"),de(Rf,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),de(Rf,"defaultRoutes",{backgroundColor:"backgroundColor"}),de(Rf,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function QK(t,e,r=e){t.lineCap=Oe(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Oe(r.borderDash,e.borderDash)),t.lineDashOffset=Oe(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Oe(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Oe(r.borderWidth,e.borderWidth),t.strokeStyle=Oe(r.borderColor,e.borderColor)}function Nye(t,e,r){t.lineTo(r.x,r.y)}function Iye(t){return t.stepped?oge:t.tension||t.cubicInterpolationMode==="monotone"?age:Nye}function RK(t,e,r={}){const n=t.length,{start:i=0,end:s=n-1}=r,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:n,start:l,loop:e.loop,ilen:c<l&&!u?n+c-l:c-l}}function Uye(t,e,r,n){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=RK(i,r,n),u=Iye(s);let{move:A=!0,reverse:h}=n||{},f,p,m;for(f=0;f<=c;++f)p=i[(a+(h?c-f:f))%o],!p.skip&&(A?(t.moveTo(p.x,p.y),A=!1):u(t,m,p,h,s.stepped),m=p);return l&&(p=i[(a+(h?c:0))%o],u(t,m,p,h,s.stepped)),!!l}function Pye(t,e,r,n){const i=e.points,{count:s,start:o,ilen:a}=RK(i,r,n),{move:l=!0,reverse:c}=n||{};let u=0,A=0,h,f,p,m,y,g;const v=b=>(o+(c?a-b:b))%s,x=()=>{m!==y&&(t.lineTo(u,y),t.lineTo(u,m),t.lineTo(u,g))};for(l&&(f=i[v(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=i[v(h)],f.skip)continue;const b=f.x,w=f.y,C=b|0;C===p?(w<m?m=w:w>y&&(y=w),u=(A*u+b)/++A):(x(),t.lineTo(b,w),p=C,A=0,m=y=w),g=w}x()}function i6(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?Pye:Uye}function Qye(t){return t.stepped?Pge:t.tension||t.cubicInterpolationMode==="monotone"?Qge:Oc}function Rye(t,e,r,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,r,n)&&i.closePath()),QK(t,e.options),t.stroke(i)}function Hye(t,e,r,n){const{segments:i,options:s}=e,o=i6(e);for(const a of i)QK(t,s,a.style),t.beginPath(),o(t,e,a,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const $ye=typeof Path2D=="function";function Vye(t,e,r,n){$ye&&!e.options.segment?Rye(t,e,r,n):Hye(t,e,r,n)}class hl extends va{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;Tge(this._points,n,e,i,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=zge(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,i=e[r],s=this.points,o=kK(this,{property:r,start:i,end:i});if(!o.length)return;const a=[],l=Qye(n);let c,u;for(c=0,u=o.length;c<u;++c){const{start:A,end:h}=o[c],f=s[A],p=s[h];if(f===p){a.push(f);continue}const m=Math.abs((i-f[r])/(p[r]-f[r])),y=l(f,p,m,n.stepped);y[r]=e[r],a.push(y)}return a.length===1?a[0]:a}pathSegment(e,r,n){return i6(this)(e,this,r,n)}path(e,r,n){const i=this.segments,s=i6(this);let o=this._loop;r=r||0,n=n||this.points.length-r;for(const a of i)o&=s(e,this,a,{start:r,end:r+n-1});return!!o}draw(e,r,n,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Vye(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}de(hl,"id","line"),de(hl,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),de(hl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),de(hl,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function sD(t,e,r,n){const i=t.options,{[r]:s}=t.getProps([r],n);return Math.abs(e-s)<i.radius+i.hitRadius}class kv extends va{constructor(r){super();de(this,"parsed");de(this,"skip");de(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(r-o,2)+Math.pow(n-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,n){return sD(this,r,"x",n)}inYRange(r,n){return sD(this,r,"y",n)}getCenterPoint(r){const{x:n,y:i}=this.getProps(["x","y"],r);return{x:n,y:i}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const i=n&&r.borderWidth||0;return(n+i)*2}draw(r,n){const i=this.options;this.skip||i.radius<.1||!Wo(this,n,this.size(i)/2)||(r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.fillStyle=i.backgroundColor,e6(r,i,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}de(kv,"id","point"),de(kv,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),de(kv,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function HK(t,e){const{x:r,y:n,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,A;return t.horizontal?(A=o/2,a=Math.min(r,i),l=Math.max(r,i),c=n-A,u=n+A):(A=s/2,a=r-A,l=r+A,c=Math.min(n,i),u=Math.max(n,i)),{left:a,top:c,right:l,bottom:u}}function fl(t,e,r,n){return t?0:Er(e,r,n)}function Kye(t,e,r){const n=t.options.borderWidth,i=t.borderSkipped,s=mK(n);return{t:fl(i.top,s.top,0,r),r:fl(i.right,s.right,0,e),b:fl(i.bottom,s.bottom,0,r),l:fl(i.left,s.left,0,e)}}function zye(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=uu(i),o=Math.min(e,r),a=t.borderSkipped,l=n||Ke(i);return{topLeft:fl(!l||a.top||a.left,s.topLeft,0,o),topRight:fl(!l||a.top||a.right,s.topRight,0,o),bottomLeft:fl(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:fl(!l||a.bottom||a.right,s.bottomRight,0,o)}}function Wye(t){const e=HK(t),r=e.right-e.left,n=e.bottom-e.top,i=Kye(t,r/2,n/2),s=zye(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:r-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function b3(t,e,r,n){const i=e===null,s=r===null,a=t&&!(i&&s)&&HK(t,n);return a&&(i||Ko(e,a.left,a.right))&&(s||Ko(r,a.top,a.bottom))}function Gye(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function qye(t,e){t.rect(e.x,e.y,e.w,e.h)}function w3(t,e,r={}){const n=t.x!==r.x?-e:0,i=t.y!==r.y?-e:0,s=(t.x+t.w!==r.x+r.w?e:0)-n,o=(t.y+t.h!==r.y+r.h?e:0)-i;return{x:t.x+n,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}class Ev extends va{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:i}}=this,{inner:s,outer:o}=Wye(this),a=Gye(o.radius)?Fm:qye;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,w3(o,r,s)),e.clip(),a(e,w3(s,-r,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,w3(s,r)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,r,n){return b3(this,e,r,n)}inXRange(e,r){return b3(this,e,null,r)}inYRange(e,r){return b3(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(r+i)/2:r,y:s?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}de(Ev,"id","bar"),de(Ev,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),de(Ev,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Xye=Object.freeze({__proto__:null,ArcElement:Rf,BarElement:Ev,LineElement:hl,PointElement:kv});const s6=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],oD=s6.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function $K(t){return s6[t%s6.length]}function VK(t){return oD[t%oD.length]}function Yye(t,e){return t.borderColor=$K(e),t.backgroundColor=VK(e),++e}function Jye(t,e){return t.backgroundColor=t.data.map(()=>$K(e++)),e}function Zye(t,e){return t.backgroundColor=t.data.map(()=>VK(e++)),e}function eve(t){let e=0;return(r,n)=>{const i=t.getDatasetMeta(n).controller;i instanceof Zc?e=Jye(r,e):i instanceof kp?e=Zye(r,e):i&&(e=Yye(r,e))}}function aD(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function tve(t){return t&&(t.borderColor||t.backgroundColor)}function rve(){return Tt.borderColor!=="rgba(0,0,0,0.1)"||Tt.backgroundColor!=="rgba(0,0,0,0.1)"}var nve={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,r){if(!r.enabled)return;const{data:{datasets:n},options:i}=t.config,{elements:s}=i,o=aD(n)||tve(i)||s&&aD(s)||rve();if(!r.forceOverride&&o)return;const a=eve(t);n.forEach(a)}};function ive(t,e,r,n,i){const s=i.samples||n;if(s>=r)return t.slice(e,e+r);const o=[],a=(r-2)/(s-2);let l=0;const c=e+r-1;let u=e,A,h,f,p,m;for(o[l++]=t[u],A=0;A<s-2;A++){let y=0,g=0,v;const x=Math.floor((A+1)*a)+1+e,b=Math.min(Math.floor((A+2)*a)+1,r)+e,w=b-x;for(v=x;v<b;v++)y+=t[v].x,g+=t[v].y;y/=w,g/=w;const C=Math.floor(A*a)+1+e,B=Math.min(Math.floor((A+1)*a)+1,r)+e,{x:_,y:k}=t[u];for(f=p=-1,v=C;v<B;v++)p=.5*Math.abs((_-y)*(t[v].y-k)-(_-t[v].x)*(g-k)),p>f&&(f=p,h=t[v],m=v);o[l++]=h,u=m}return o[l++]=t[c],o}function sve(t,e,r,n){let i=0,s=0,o,a,l,c,u,A,h,f,p,m;const y=[],g=e+r-1,v=t[e].x,b=t[g].x-v;for(o=e;o<e+r;++o){a=t[o],l=(a.x-v)/b*n,c=a.y;const w=l|0;if(w===u)c<p?(p=c,A=o):c>m&&(m=c,h=o),i=(s*i+a.x)/++s;else{const C=o-1;if(!He(A)&&!He(h)){const B=Math.min(A,h),_=Math.max(A,h);B!==f&&B!==C&&y.push({...t[B],x:i}),_!==f&&_!==C&&y.push({...t[_],x:i})}o>0&&C!==f&&y.push(t[C]),y.push(a),u=w,s=0,p=m=c,A=h=f=o}}return y}function KK(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function lD(t){t.data.datasets.forEach(e=>{KK(e)})}function ove(t,e){const r=e.length;let n=0,i;const{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(n=Er(zo(e,s.axis,o).lo,0,r-1)),c?i=Er(zo(e,s.axis,a).hi+1,n,r)-n:i=r-n,{start:n,count:i}}var ave={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,r)=>{if(!r.enabled){lD(t);return}const n=t.width;t.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,l=t.getDatasetMeta(s),c=o||i.data;if(Pf([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:A,count:h}=ove(l,c);const f=r.threshold||4*n;if(h<=f){KK(i);return}He(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}}));let p;switch(r.algorithm){case"lttb":p=ive(c,A,h,n,r);break;case"min-max":p=sve(c,A,h,n);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}i._decimated=p})},destroy(t){lD(t)}};function lve(t,e,r){const n=t.segments,i=t.points,s=e.points,o=[];for(const a of n){let{start:l,end:c}=a;c=Hk(l,c,i);const u=o6(r,i[l],i[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const A=kK(e,u);for(const h of A){const f=o6(r,s[h.start],s[h.end],h.loop),p=SK(a,i,f);for(const m of p)o.push({source:m,target:h,start:{[r]:cD(u,f,"start",Math.max)},end:{[r]:cD(u,f,"end",Math.min)}})}}return o}function o6(t,e,r,n){if(n)return;let i=e[t],s=r[t];return t==="angle"&&(i=li(i),s=li(s)),{property:t,start:i,end:s}}function cve(t,e){const{x:r=null,y:n=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=Hk(o,a,i);const l=i[o],c=i[a];n!==null?(s.push({x:l.x,y:n}),s.push({x:c.x,y:n})):r!==null&&(s.push({x:r,y:l.y}),s.push({x:r,y:c.y}))}),s}function Hk(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function cD(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function zK(t,e){let r=[],n=!1;return Mt(t)?(n=!0,r=t):r=cve(t,e),r.length?new hl({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function uD(t){return t&&t.fill!==!1}function uve(t,e,r){let i=t[e].fill;const s=[e];let o;if(!r)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!$t(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function Ave(t,e,r){const n=pve(t);if(Ke(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return $t(i)&&Math.floor(i)===i?dve(n[0],e,i,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function dve(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function hve(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:Ke(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function fve(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:Ke(t)?n=t.value:n=e.getBaseValue(),n}function pve(t){const e=t.options,r=e.fill;let n=Oe(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function mve(t){const{scale:e,index:r,line:n}=t,i=[],s=n.segments,o=n.points,a=gve(e,r);a.push(zK({x:null,y:e.bottom},n));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)yve(i,o[u],a)}return new hl({points:i,options:{}})}function gve(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const s=n[i];if(s.index===e)break;s.hidden||r.unshift(s.dataset)}return r}function yve(t,e,r){const n=[];for(let i=0;i<r.length;i++){const s=r[i],{first:o,last:a,point:l}=vve(s,e,"x");if(!(!l||o&&a)){if(o)n.unshift(l);else if(t.push(l),!a)break}}t.push(...n)}function vve(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const i=n[r],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],A=o[u.start][r],h=o[u.end][r];if(Ko(i,A,h)){a=i===A,l=i===h;break}}return{first:a,last:l,point:n}}class WK{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:i,y:s,radius:o}=this;return r=r||{start:0,end:Bt},e.arc(i,s,o,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:i}=this,s=e.angle;return{x:r+Math.cos(s)*i,y:n+Math.sin(s)*i,angle:s}}}function xve(t){const{chart:e,fill:r,line:n}=t;if($t(r))return bve(e,r);if(r==="stack")return mve(t);if(r==="shape")return!0;const i=wve(t);return i instanceof WK?i:zK(i,n)}function bve(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function wve(t){return(t.scale||{}).getPointPositionForValue?Bve(t):Cve(t)}function Cve(t){const{scale:e={},fill:r}=t,n=hve(r,e);if($t(n)){const i=e.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function Bve(t){const{scale:e,fill:r}=t,n=e.options,i=e.getLabels().length,s=n.reverse?e.max:e.min,o=fve(r,e,s),a=[];if(n.grid.circular){const l=e.getPointPositionForValue(0,s);return new WK({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,o));return a}function C3(t,e,r){const n=xve(e),{line:i,scale:s,axis:o}=e,a=i.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:A=c}=l||{};n&&i.points.length&&(sw(t,r),_ve(t,{line:i,target:n,above:u,below:A,area:r,scale:s,axis:o}),ow(t))}function _ve(t,e){const{line:r,target:n,above:i,below:s,area:o,scale:a}=e,l=r._loop?"angle":e.axis;t.save(),l==="x"&&s!==i&&(AD(t,n,o.top),dD(t,{line:r,target:n,color:i,scale:a,property:l}),t.restore(),t.save(),AD(t,n,o.bottom)),dD(t,{line:r,target:n,color:s,scale:a,property:l}),t.restore()}function AD(t,e,r){const{segments:n,points:i}=e;let s=!0,o=!1;t.beginPath();for(const a of n){const{start:l,end:c}=a,u=i[l],A=i[Hk(l,c,i)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,r),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(A.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function dD(t,e){const{line:r,target:n,property:i,color:s,scale:o}=e,a=lve(r,n,i);for(const{source:l,target:c,start:u,end:A}of a){const{style:{backgroundColor:h=s}={}}=l,f=n!==!0;t.save(),t.fillStyle=h,Sve(t,o,f&&o6(i,u,A)),t.beginPath();const p=!!r.pathSegment(t,l);let m;if(f){p?t.closePath():hD(t,n,A,i);const y=!!n.pathSegment(t,c,{move:p,reverse:!0});m=p&&y,m||hD(t,n,u,i)}t.closePath(),t.fill(m?"evenodd":"nonzero"),t.restore()}}function Sve(t,e,r){const{top:n,bottom:i}=e.chart.chartArea,{property:s,start:o,end:a}=r||{};s==="x"&&(t.beginPath(),t.rect(o,n,a-o,i-n),t.clip())}function hD(t,e,r,n){const i=e.interpolate(r,n);i&&t.lineTo(i.x,i.y)}var kve={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<n;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof hl&&(l={visible:t.isDatasetVisible(o),index:o,fill:Ave(a,o,n),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<n;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=uve(i,o,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),n&&a.fill&&C3(t.ctx,a,s))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const s=n[i].$filler;uD(s)&&C3(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!uD(n)||r.drawTime!=="beforeDatasetDraw"||C3(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const fD=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},Eve=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class pD extends va{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=yt(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=vr(n.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=fD(n,s);let c,u;r.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let A=e;s.textAlign="left",s.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((p,m)=>{const y=n+r/2+s.measureText(p.text).width;(m===0||c[c.length-1]+y+2*a>o)&&(A+=u,c[c.length-(m>0?0:1)]=0,f+=u,h++),l[m]={left:0,top:f,row:h,width:y,height:i},c[c.length-1]+=y+a}),A}_fitCols(e,r,n,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let A=a,h=0,f=0,p=0,m=0;return this.legendItems.forEach((y,g)=>{const{itemWidth:v,itemHeight:x}=Fve(n,r,s,y,i);g>0&&f+x+2*a>u&&(A+=h+a,c.push({width:h,height:f}),p+=h+a,m++,h=f=0),l[g]={left:p,top:f,col:m,width:v,height:x},h=Math.max(h,v),f+=x+a}),A+=h,c.push({width:h,height:f}),A}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:i},rtl:s}}=this,o=bd(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=rn(n,this.left+i,this.right-this.lineWidths[a]);for(const c of r)a!==c.row&&(a=c.row,l=rn(n,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=rn(n,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of r)c.col!==a&&(a=c.col,l=rn(n,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;sw(e,this),this._draw(),ow(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:i}=this,{align:s,labels:o}=e,a=Tt.color,l=bd(e.rtl,this.left,this.width),c=vr(o.font),{padding:u}=o,A=c.size,h=A/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:p,boxHeight:m,itemHeight:y}=fD(o,A),g=function(C,B,_){if(isNaN(p)||p<=0||isNaN(m)||m<0)return;i.save();const k=Oe(_.lineWidth,1);if(i.fillStyle=Oe(_.fillStyle,a),i.lineCap=Oe(_.lineCap,"butt"),i.lineDashOffset=Oe(_.lineDashOffset,0),i.lineJoin=Oe(_.lineJoin,"miter"),i.lineWidth=k,i.strokeStyle=Oe(_.strokeStyle,a),i.setLineDash(Oe(_.lineDash,[])),o.usePointStyle){const E={radius:m*Math.SQRT2/2,pointStyle:_.pointStyle,rotation:_.rotation,borderWidth:k},F=l.xPlus(C,p/2),M=B+h;pK(i,E,F,M,o.pointStyleWidth&&p)}else{const E=B+Math.max((A-m)/2,0),F=l.leftForLtr(C,p),M=uu(_.borderRadius);i.beginPath(),Object.values(M).some(T=>T!==0)?Fm(i,{x:F,y:E,w:p,h:m,radius:M}):i.rect(F,E,p,m),i.fill(),k!==0&&i.stroke()}i.restore()},v=function(C,B,_){Tu(i,_.text,C,B+y/2,c,{strikethrough:_.hidden,textAlign:l.textAlign(_.textAlign)})},x=this.isHorizontal(),b=this._computeTitleHeight();x?f={x:rn(s,this.left+u,this.right-n[0]),y:this.top+u+b,line:0}:f={x:this.left+u,y:rn(s,this.top+b+u,this.bottom-r[0].height),line:0},CK(this.ctx,e.textDirection);const w=y+u;this.legendItems.forEach((C,B)=>{i.strokeStyle=C.fontColor,i.fillStyle=C.fontColor;const _=i.measureText(C.text).width,k=l.textAlign(C.textAlign||(C.textAlign=o.textAlign)),E=p+h+_;let F=f.x,M=f.y;l.setWidth(this.width),x?B>0&&F+E+u>this.right&&(M=f.y+=w,f.line++,F=f.x=rn(s,this.left+u,this.right-n[f.line])):B>0&&M+w>this.bottom&&(F=f.x=F+r[f.line].width+u,f.line++,M=f.y=rn(s,this.top+b+u,this.bottom-r[f.line].height));const T=l.x(F);if(g(T,M,C),F=q0e(k,F+p+h,x?F+E:this.right,e.rtl),v(l.x(F),M,C),x)f.x+=E+u;else if(typeof C.text!="string"){const Q=c.lineHeight;f.y+=GK(C,Q)+u}else f.y+=w}),BK(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=vr(r.font),i=hn(r.padding);if(!r.display)return;const s=bd(e.rtl,this.left,this.width),o=this.ctx,a=r.position,l=n.size/2,c=i.top+l;let u,A=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,A=rn(e.align,A,this.right-h);else{const p=this.columnSizes.reduce((m,y)=>Math.max(m,y.height),0);u=c+rn(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=rn(a,A,A+h);o.textAlign=s.textAlign(Lk(a)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=n.string,Tu(o,r.text,f,u,n)}_computeTitleHeight(){const e=this.options.title,r=vr(e.font),n=hn(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,i,s;if(Ko(e,this.left,this.right)&&Ko(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(i=s[n],Ko(e,i.left,i.left+i.width)&&Ko(r,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!Dve(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=Eve(i,n);i&&!s&&yt(r.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!s&&yt(r.onHover,[e,n,this],this)}else n&&yt(r.onClick,[e,n,this],this)}}function Fve(t,e,r,n,i){const s=Mve(n,t,e,r),o=Tve(i,n,e.lineHeight);return{itemWidth:s,itemHeight:o}}function Mve(t,e,r,n){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+r.size/2+n.measureText(i).width}function Tve(t,e,r){let n=t;return typeof e.text!="string"&&(n=GK(e,r)),n}function GK(t,e){const r=t.text?t.text.length:0;return e*r}function Dve(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Lve={id:"legend",_element:pD,start(t,e,r){const n=t.legend=new pD({ctx:t.ctx,options:r,chart:t});cn.configure(t,n,r),cn.addBox(t,n)},stop(t){cn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;cn.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,i=r.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(r?0:void 0),u=hn(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class $k extends va{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const i=Mt(n.text)?n.text.length:1;this._padding=hn(n.padding);const s=i*vr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,A;return this.isHorizontal()?(u=rn(a,n,s),A=r+e,c=s-n):(o.position==="left"?(u=n+e,A=rn(a,i,r),l=St*-.5):(u=s-e,A=rn(a,r,i),l=St*.5),c=i-r),{titleX:u,titleY:A,maxWidth:c,rotation:l}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=vr(r.font),s=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Tu(e,r.text,0,0,n,{color:r.color,maxWidth:l,rotation:c,textAlign:Lk(r.align),textBaseline:"middle",translation:[o,a]})}}function jve(t,e){const r=new $k({ctx:t.ctx,options:e,chart:t});cn.configure(t,r,e),cn.addBox(t,r),t.titleBlock=r}var Ove={id:"title",_element:$k,start(t,e,r){jve(t,r)},stop(t){const e=t.titleBlock;cn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;cn.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _g=new WeakMap;var Nve={id:"subtitle",start(t,e,r){const n=new $k({ctx:t.ctx,options:r,chart:t});cn.configure(t,n,r),cn.addBox(t,n),_g.set(t,n)},stop(t){cn.removeBox(t,_g.get(t)),_g.delete(t)},beforeUpdate(t,e,r){const n=_g.get(t);cn.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Hf={average(t){if(!t.length)return!1;let e,r,n=new Set,i=0,s=0;for(e=0,r=t.length;e<r;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),i+=l.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=J5(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();r=l.x,n=l.y}return{x:r,y:n}}};function Rs(t,e){return e&&(Mt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Mo(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Ive(t,e){const{element:r,datasetIndex:n,index:i}=e,s=t.getDatasetMeta(n).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[n].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:n,element:r}}function mD(t,e){const r=t.chart.ctx,{body:n,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=vr(e.bodyFont),c=vr(e.titleFont),u=vr(e.footerFont),A=s.length,h=i.length,f=n.length,p=hn(e.padding);let m=p.height,y=0,g=n.reduce((b,w)=>b+w.before.length+w.lines.length+w.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,A&&(m+=A*c.lineHeight+(A-1)*e.titleSpacing+e.titleMarginBottom),g){const b=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=f*b+(g-f)*l.lineHeight+(g-1)*e.bodySpacing}h&&(m+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let v=0;const x=function(b){y=Math.max(y,r.measureText(b).width+v)};return r.save(),r.font=c.string,At(t.title,x),r.font=l.string,At(t.beforeBody.concat(t.afterBody),x),v=e.displayColors?o+2+e.boxPadding:0,At(n,b=>{At(b.before,x),At(b.lines,x),At(b.after,x)}),v=0,r.font=u.string,At(t.footer,x),r.restore(),y+=p.width,{width:y,height:m}}function Uve(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function Pve(t,e,r,n){const{x:i,width:s}=n,o=r.caretSize+r.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function Qve(t,e,r,n){const{x:i,width:s}=r,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return n==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),Pve(c,t,e,r)&&(c="center"),c}function gD(t,e,r){const n=r.yAlign||e.yAlign||Uve(t,r);return{xAlign:r.xAlign||e.xAlign||Qve(t,e,r,n),yAlign:n}}function Rve(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function Hve(t,e,r){let{y:n,height:i}=t;return e==="top"?n+=r:e==="bottom"?n-=i+r:n-=i/2,n}function yD(t,e,r,n){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=r,c=i+s,{topLeft:u,topRight:A,bottomLeft:h,bottomRight:f}=uu(o);let p=Rve(e,a);const m=Hve(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,h)+i:a==="right"&&(p+=Math.max(A,f)+i),{x:Er(p,0,n.width-e.width),y:Er(m,0,n.height-e.height)}}function Sg(t,e,r){const n=hn(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function vD(t){return Rs([],Mo(t))}function $ve(t,e,r){return ic(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function xD(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const qK={beforeTitle:wo,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:wo,beforeBody:wo,beforeLabel:wo,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return He(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:wo,afterBody:wo,beforeFooter:wo,footer:wo,afterFooter:wo};function Mn(t,e,r,n){const i=t[e].call(r,n);return typeof i>"u"?qK[e].call(r,n):i}class a6 extends va{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&r.options.animation&&n.animations,s=new EK(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=$ve(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,i=Mn(n,"beforeTitle",this,e),s=Mn(n,"title",this,e),o=Mn(n,"afterTitle",this,e);let a=[];return a=Rs(a,Mo(i)),a=Rs(a,Mo(s)),a=Rs(a,Mo(o)),a}getBeforeBody(e,r){return vD(Mn(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,i=[];return At(e,s=>{const o={before:[],lines:[],after:[]},a=xD(n,s);Rs(o.before,Mo(Mn(a,"beforeLabel",this,s))),Rs(o.lines,Mn(a,"label",this,s)),Rs(o.after,Mo(Mn(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,r){return vD(Mn(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,i=Mn(n,"beforeFooter",this,e),s=Mn(n,"footer",this,e),o=Mn(n,"afterFooter",this,e);let a=[];return a=Rs(a,Mo(i)),a=Rs(a,Mo(s)),a=Rs(a,Mo(o)),a}_createItems(e){const r=this._active,n=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=r.length;l<c;++l)a.push(Ive(this.chart,r[l]));return e.filter&&(a=a.filter((u,A,h)=>e.filter(u,A,h,n))),e.itemSort&&(a=a.sort((u,A)=>e.itemSort(u,A,n))),At(a,u=>{const A=xD(e.callbacks,u);i.push(Mn(A,"labelColor",this,u)),s.push(Mn(A,"labelPointStyle",this,u)),o.push(Mn(A,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,r){const n=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Hf[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const l=this._size=mD(this,n),c=Object.assign({},a,l),u=gD(this.chart,n,c),A=yD(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:A.x,y:A.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,i){const s=this.getCaretPosition(e,n,i);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,n){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:A}=uu(a),{x:h,y:f}=e,{width:p,height:m}=r;let y,g,v,x,b,w;return s==="center"?(b=f+m/2,i==="left"?(y=h,g=y-o,x=b+o,w=b-o):(y=h+p,g=y+o,x=b-o,w=b+o),v=y):(i==="left"?g=h+Math.max(l,u)+o:i==="right"?g=h+p-Math.max(c,A)-o:g=this.caretX,s==="top"?(x=f,b=x-o,y=g-o,v=g+o):(x=f+m,b=x+o,y=g+o,v=g-o),w=x),{x1:y,x2:g,x3:v,y1:x,y2:b,y3:w}}drawTitle(e,r,n){const i=this.title,s=i.length;let o,a,l;if(s){const c=bd(n.rtl,this.x,this.width);for(e.x=Sg(this,n.titleAlign,n),r.textAlign=c.textAlign(n.titleAlign),r.textBaseline="middle",o=vr(n.titleFont),a=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,l=0;l<s;++l)r.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,r,n,i,s){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=s,u=vr(s.bodyFont),A=Sg(this,"left",s),h=i.x(A),f=l<u.lineHeight?(u.lineHeight-l)/2:0,p=r.y+f;if(s.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=i.leftForLtr(h,c)+c/2,g=p+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,e6(e,m,y,g),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,e6(e,m,y,g)}else{e.lineWidth=Ke(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=i.leftForLtr(h,c),y=i.leftForLtr(i.xPlus(h,1),c-2),g=uu(o.borderRadius);Object.values(g).some(v=>v!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Fm(e,{x:m,y:p,w:c,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Fm(e,{x:y,y:p+1,w:c-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(m,p,c,l),e.strokeRect(m,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(y,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=n,A=vr(n.bodyFont);let h=A.lineHeight,f=0;const p=bd(n.rtl,this.x,this.width),m=function(_){r.fillText(_,p.x(e.x+f),e.y+h/2),e.y+=h+s},y=p.textAlign(o);let g,v,x,b,w,C,B;for(r.textAlign=o,r.textBaseline="middle",r.font=A.string,e.x=Sg(this,y,n),r.fillStyle=n.bodyColor,At(this.beforeBody,m),f=a&&y!=="right"?o==="center"?c/2+u:c+2+u:0,b=0,C=i.length;b<C;++b){for(g=i[b],v=this.labelTextColors[b],r.fillStyle=v,At(g.before,m),x=g.lines,a&&x.length&&(this._drawColorBox(r,e,b,p,n),h=Math.max(A.lineHeight,l)),w=0,B=x.length;w<B;++w)m(x[w]),h=A.lineHeight;At(g.after,m)}f=0,h=A.lineHeight,At(this.afterBody,m),e.y-=s}drawFooter(e,r,n){const i=this.footer,s=i.length;let o,a;if(s){const l=bd(n.rtl,this.x,this.width);for(e.x=Sg(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=l.textAlign(n.footerAlign),r.textBaseline="middle",o=vr(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,a=0;a<s;++a)r.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,r,n,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=n,{topLeft:A,topRight:h,bottomLeft:f,bottomRight:p}=uu(i.cornerRadius);r.fillStyle=i.backgroundColor,r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.beginPath(),r.moveTo(a+A,l),o==="top"&&this.drawCaret(e,r,n,i),r.lineTo(a+c-h,l),r.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&s==="right"&&this.drawCaret(e,r,n,i),r.lineTo(a+c,l+u-p),r.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,r,n,i),r.lineTo(a+f,l+u),r.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&s==="left"&&this.drawCaret(e,r,n,i),r.lineTo(a,l+A),r.quadraticCurveTo(a,l,a+A,l),r.closePath(),r.fill(),i.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,i=n&&n.x,s=n&&n.y;if(i||s){const o=Hf[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=mD(this,e),l=Object.assign({},o,this._size),c=gD(r,e,l),u=yD(e,l,c,r);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=hn(r.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,i,r),CK(e,r.textDirection),s.y+=o.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),BK(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!nb(n,i),o=this._positionChanged(i,r);(s||o)&&(this._active=i,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,r,n),a=this._positionChanged(o,e),l=r||!nb(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),l}_getActiveElements(e,r,n,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return r.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&o.reverse(),o}_positionChanged(e,r){const{caretX:n,caretY:i,options:s}=this,o=Hf[s.position].call(this,e,r);return o!==!1&&(n!==o.x||i!==o.y)}}de(a6,"positioners",Hf);var Vve={id:"tooltip",_element:a6,positioners:Hf,afterInit(t,e,r){r&&(t.tooltip=new a6({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:qK},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Kve=Object.freeze({__proto__:null,Colors:nve,Decimation:ave,Filler:kve,Legend:Lve,SubTitle:Nve,Title:Ove,Tooltip:Vve});const zve=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function Wve(t,e,r,n){const i=t.indexOf(e);if(i===-1)return zve(t,e,r,n);const s=t.lastIndexOf(e);return i!==s?r:i}const Gve=(t,e)=>t===null?null:Er(Math.round(t),0,e);function bD(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class l6 extends $u{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:i,label:s}of r)n[i]===s&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(He(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:Wve(n,e,Oe(r,e),this._addedLabels),Gve(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,i=[];let s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=r;o++)i.push({value:o});return i}getLabelForValue(e){return bD.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}de(l6,"id","category"),de(l6,"defaults",{ticks:{callback:bD}});function qve(t,e){const r=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:A,includeBounds:h}=t,f=s||1,p=u-1,{min:m,max:y}=e,g=!He(o),v=!He(a),x=!He(c),b=(y-m)/(A+1);let w=mT((y-m)/p/f)*f,C,B,_,k;if(w<1e-14&&!g&&!v)return[{value:m},{value:y}];k=Math.ceil(y/w)-Math.floor(m/w),k>p&&(w=mT(k*w/p/f)*f),He(l)||(C=Math.pow(10,l),w=Math.ceil(w*C)/C),i==="ticks"?(B=Math.floor(m/w)*w,_=Math.ceil(y/w)*w):(B=m,_=y),g&&v&&s&&H0e((a-o)/s,w/1e3)?(k=Math.round(Math.min((a-o)/w,u)),w=(a-o)/k,B=o,_=a):x?(B=g?o:B,_=v?a:_,k=c-1,w=(_-B)/k):(k=(_-B)/w,Cp(k,Math.round(k),w/1e3)?k=Math.round(k):k=Math.ceil(k));const E=Math.max(gT(w),gT(B));C=Math.pow(10,He(l)?E:l),B=Math.round(B*C)/C,_=Math.round(_*C)/C;let F=0;for(g&&(h&&B!==o?(r.push({value:o}),B<o&&F++,Cp(Math.round((B+F*w)*C)/C,o,wD(o,b,t))&&F++):B<o&&F++);F<k;++F){const M=Math.round((B+F*w)*C)/C;if(v&&M>a)break;r.push({value:M})}return v&&h&&_!==a?r.length&&Cp(r[r.length-1].value,a,wD(a,b,t))?r[r.length-1].value=a:r.push({value:a}):(!v||_===a)&&r.push({value:_}),r}function wD(t,e,{horizontal:r,minRotation:n}){const i=fs(n),s=(r?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class ub extends $u{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return He(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=r?i:l,a=l=>s=n?s:l;if(e){const l=uo(i),c=uo(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),r=r||11),r&&(i=Math.min(r,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,o=qve(i,s);return e.bounds==="ticks"&&oK(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-r)/Math.max(e.length-1,1)/2;r-=i,n+=i}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return v0(e,this.chart.options.locale,this.options.ticks.format)}}class c6 extends ub{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=$t(e)?e:0,this.max=$t(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=fs(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}de(c6,"id","linear"),de(c6,"defaults",{ticks:{callback:iw.formatters.numeric}});const Tm=t=>Math.floor(dl(t)),hc=(t,e)=>Math.pow(10,Tm(t)+e);function CD(t){return t/Math.pow(10,Tm(t))===1}function BD(t,e,r){const n=Math.pow(10,r),i=Math.floor(t/n);return Math.ceil(e/n)-i}function Xve(t,e){const r=e-t;let n=Tm(r);for(;BD(t,e,n)>10;)n++;for(;BD(t,e,n)<10;)n--;return Math.min(n,Tm(t))}function Yve(t,{min:e,max:r}){e=si(t.min,e);const n=[],i=Tm(e);let s=Xve(e,r),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let A=Math.floor((c-u)/Math.pow(10,s)),h=si(t.min,Math.round((l+u+A*Math.pow(10,s))*o)/o);for(;h<r;)n.push({value:h,major:CD(h),significand:A}),A>=10?A=A<15?15:20:A++,A>=20&&(s++,A=2,o=s>=0?1:o),h=Math.round((l+u+A*Math.pow(10,s))*o)/o;const f=si(t.max,h);return n.push({value:f,major:CD(f),significand:A}),n}class u6 extends $u{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=ub.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return $t(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=$t(e)?Math.max(0,e):null,this.max=$t(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!$t(this._userMin)&&(this.min=e===hc(this.min,0)?hc(this.min,-1):hc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let n=this.min,i=this.max;const s=a=>n=e?n:a,o=a=>i=r?i:a;n===i&&(n<=0?(s(1),o(10)):(s(hc(n,-1)),o(hc(i,1)))),n<=0&&s(hc(i,-1)),i<=0&&o(hc(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},n=Yve(r,this);return e.bounds==="ticks"&&oK(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":v0(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=dl(e),this._valueRange=dl(this.max)-dl(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(dl(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}de(u6,"id","logarithmic"),de(u6,"defaults",{ticks:{callback:iw.formatters.logarithmic,major:{enabled:!0}}});function A6(t){const e=t.ticks;if(e.display&&t.display){const r=hn(e.backdropPadding);return Oe(e.font&&e.font.size,Tt.font.size)+r.height}return 0}function Jve(t,e,r){return r=Mt(r)?r:[r],{w:sge(t,e.string,r),h:r.length*e.lineHeight}}function _D(t,e,r,n,i){return t===n||t===i?{start:e-r/2,end:e+r/2}:t<n||t>i?{start:e-r,end:e}:{start:e,end:e+r}}function Zve(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?St/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],a),A=vr(c.font),h=Jve(t.ctx,A,t._pointLabels[l]);n[l]=h;const f=li(t.getIndexAngle(l)+a),p=Math.round(Tk(f)),m=_D(p,u.x,h.w,0,180),y=_D(p,u.y,h.h,90,270);exe(r,e,f,m,y)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=nxe(t,n,i)}function exe(t,e,r,n,i){const s=Math.abs(Math.sin(r)),o=Math.abs(Math.cos(r));let a=0,l=0;n.start<e.l?(a=(e.l-n.start)/s,t.l=Math.min(t.l,e.l-a)):n.end>e.r&&(a=(n.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function txe(t,e,r){const n=t.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=r,l=t.getPointPosition(e,n+i+o,s),c=Math.round(Tk(li(l.angle+er))),u=oxe(l.y,a.h,c),A=ixe(c),h=sxe(l.x,a.w,A);return{visible:!0,x:l.x,y:u,textAlign:A,left:h,top:u,right:h+a.w,bottom:u+a.h}}function rxe(t,e){if(!e)return!0;const{left:r,top:n,right:i,bottom:s}=t;return!(Wo({x:r,y:n},e)||Wo({x:r,y:s},e)||Wo({x:i,y:n},e)||Wo({x:i,y:s},e))}function nxe(t,e,r){const n=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:A6(s)/2,additionalAngle:o?St/i:0};let c;for(let u=0;u<i;u++){l.padding=r[u],l.size=e[u];const A=txe(t,u,l);n.push(A),a==="auto"&&(A.visible=rxe(A,c),A.visible&&(c=A))}return n}function ixe(t){return t===0||t===180?"center":t<180?"left":"right"}function sxe(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function oxe(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function axe(t,e,r){const{left:n,top:i,right:s,bottom:o}=r,{backdropColor:a}=e;if(!He(a)){const l=uu(e.borderRadius),c=hn(e.backdropPadding);t.fillStyle=a;const u=n-c.left,A=i-c.top,h=s-n+c.width,f=o-i+c.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),Fm(t,{x:u,y:A,w:h,h:f,radius:l}),t.fill()):t.fillRect(u,A,h,f)}}function lxe(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const o=n.setContext(t.getPointLabelContext(i));axe(r,o,s);const a=vr(o.font),{x:l,y:c,textAlign:u}=s;Tu(r,t._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function XK(t,e,r,n){const{ctx:i}=t;if(r)i.arc(t.xCenter,t.yCenter,e,0,Bt);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<n;o++)s=t.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function cxe(t,e,r,n,i){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!n||!a||!l||r<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),XK(t,r,o,n),s.closePath(),s.stroke(),s.restore())}function uxe(t,e,r){return ic(t,{label:r,index:e,type:"pointLabel"})}class $f extends ub{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=hn(A6(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=$t(e)&&!isNaN(e)?e:0,this.max=$t(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/A6(this.options))}generateTickLabels(e){ub.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const i=yt(this.options.pointLabels.callback,[r,n],this);return i||i===0?i:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?Zve(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,i){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,i))}getIndexAngle(e){const r=Bt/(this._pointLabels.length||1),n=this.options.startAngle||0;return li(e*r+fs(n))}getDistanceFromCenterForValue(e){if(He(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(He(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return uxe(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const i=this.getIndexAngle(e)-er+n;return{x:Math.cos(i)*r+this.xCenter,y:Math.sin(i)*r+this.yCenter,angle:i}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:i,bottom:s}=this._pointLabelItems[e];return{left:r,top:n,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),XK(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:i,border:s}=r,o=this._pointLabels.length;let a,l,c;if(r.pointLabels.display&&lxe(this,o),i.display&&this.ticks.forEach((u,A)=>{if(A!==0||A===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(A),f=i.setContext(h),p=s.setContext(h);cxe(this,f,l,o,p)}}),n.display){for(e.save(),a=o-1;a>=0;a--){const u=n.setContext(this.getPointLabelContext(a)),{color:A,lineWidth:h}=u;!h||!A||(e.lineWidth=h,e.strokeStyle=A,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!r.reverse)return;const c=n.setContext(this.getContext(l)),u=vr(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const A=hn(c.backdropPadding);e.fillRect(-o/2-A.left,-s-u.size/2-A.top,o+A.width,u.size+A.height)}Tu(e,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}de($f,"id","radialLinear"),de($f,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:iw.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),de($f,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),de($f,"descriptors",{angleLines:{_fallback:"grid"}});const lw={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Qn=Object.keys(lw);function SD(t,e){return t-e}function kD(t,e){if(He(e))return null;const r=t._adapter,{parser:n,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),$t(o)||(o=typeof n=="string"?r.parse(o,n):r.parse(o)),o===null?null:(i&&(o=i==="week"&&(Wd(s)||s===!0)?r.startOf(o,"isoWeek",s):r.startOf(o,i)),+o)}function ED(t,e,r,n){const i=Qn.length;for(let s=Qn.indexOf(t);s<i-1;++s){const o=lw[Qn[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-e)/(a*o.size))<=n)return Qn[s]}return Qn[i-1]}function Axe(t,e,r,n,i){for(let s=Qn.length-1;s>=Qn.indexOf(r);s--){const o=Qn[s];if(lw[o].common&&t._adapter.diff(i,n,o)>=e-1)return o}return Qn[r?Qn.indexOf(r):0]}function dxe(t){for(let e=Qn.indexOf(t)+1,r=Qn.length;e<r;++e)if(lw[Qn[e]].common)return Qn[e]}function FD(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:i}=Dk(r,e),s=r[n]>=e?r[n]:r[i];t[s]=!0}}function hxe(t,e,r,n){const i=t._adapter,s=+i.startOf(e[0].value,n),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,n))l=r[a],l>=0&&(e[l].major=!0);return e}function MD(t,e,r){const n=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,n.push({value:a,major:!1});return s===0||!r?n:hxe(t,n,i,r)}class Dm extends $u{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),i=this._adapter=new b1e._date(e.adapters.date);i.init(r),wp(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:kD(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=$t(i)&&!isNaN(i)?i:+r.startOf(Date.now(),n),s=$t(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=z0e(i,s,o);return this._unit=r.unit||(n.autoSkip?ED(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):Axe(this,a.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:dxe(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),MD(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?r=1-i:r=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;r=Er(r,0,o),n=Er(n,0,o),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,i=this.options,s=i.time,o=s.unit||ED(s.minUnit,r,n,this._getLabelCapacity(r)),a=Oe(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=Wd(l)||l===!0,u={};let A=r,h,f;if(c&&(A=+e.startOf(A,"isoWeek",l)),A=+e.startOf(A,c?"day":o),e.diff(n,r,o)>1e5*a)throw new Error(r+" and "+n+" are too far apart with stepSize of "+a+" "+o);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(h=A,f=0;h<n;h=+e.add(h,a,o),f++)FD(u,h,p);return(h===n||i.bounds==="ticks"||f===1)&&FD(u,h,p),Object.keys(u).sort(SD).map(m=>+m)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const i=this.options.time.displayFormats,s=this._unit,o=r||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,r,n,i){const s=this.options,o=s.ticks.callback;if(o)return yt(o,[e,r,n],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],A=c&&a[c],h=n[r],f=c&&A&&h&&h.major;return this._adapter.format(e,i||(f?A:u))}generateTickLabels(e){let r,n,i;for(r=0,n=e.length;r<n;++r)i=e[r],i.label=this._tickFormatFunction(i.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,i=fs(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*s+a*o,h:n*o+a*s}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,i=n[r.unit]||n.millisecond,s=this._tickFormatFunction(e,0,MD(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(r=0,n=i.length;r<n;++r)e=e.concat(i[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const i=this.getLabels();for(r=0,n=i.length;r<n;++r)e.push(kD(this,i[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return cK(e.sort(SD))}}de(Dm,"id","time"),de(Dm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function kg(t,e,r){let n=0,i=t.length-1,s,o,a,l;r?(e>=t[n].pos&&e<=t[i].pos&&({lo:n,hi:i}=zo(t,"pos",e)),{pos:s,time:a}=t[n],{pos:o,time:l}=t[i]):(e>=t[n].time&&e<=t[i].time&&({lo:n,hi:i}=zo(t,"time",e)),{time:s,pos:a}=t[n],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class d6 extends Dm{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=kg(r,this.min),this._tableRange=kg(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=r&&c<=n&&i.push(c);if(i.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(kg(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return kg(this._table,n*this._tableRange+this._minPos,!0)}}de(d6,"id","timeseries"),de(d6,"defaults",Dm.defaults);var fxe=Object.freeze({__proto__:null,CategoryScale:l6,LinearScale:c6,LogarithmicScale:u6,RadialLinearScale:$f,TimeScale:Dm,TimeSeriesScale:d6});const pxe=[x1e,Xye,Kve,fxe];mh.register(...pxe);const YK="label";function TD(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function mxe(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function JK(t,e){t.labels=e}function ZK(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:YK;const n=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[r]===i[r]);return!s||!i.data||n.includes(s)?{...i}:(n.push(s),Object.assign(s,i),s)})}function gxe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:YK;const r={labels:[],datasets:[]};return JK(r,t.labels),ZK(r,t.datasets,e),r}function yxe(t,e){const{height:r=150,width:n=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:A,...h}=t,f=S.useRef(null),p=S.useRef(),m=()=>{f.current&&(p.current=new mh(f.current,{type:o,data:gxe(a,s),options:l&&{...l},plugins:c}),TD(e,p.current))},y=()=>{TD(e,null),p.current&&(p.current.destroy(),p.current=null)};return S.useEffect(()=>{!i&&p.current&&l&&mxe(p.current,l)},[i,l]),S.useEffect(()=>{!i&&p.current&&JK(p.current.config.data,a.labels)},[i,a.labels]),S.useEffect(()=>{!i&&p.current&&a.datasets&&ZK(p.current.config.data,a.datasets,s)},[i,a.datasets]),S.useEffect(()=>{p.current&&(i?(y(),setTimeout(m)):p.current.update(A))},[i,l,a.labels,a.datasets,A]),S.useEffect(()=>{p.current&&(y(),setTimeout(m))},[o]),S.useEffect(()=>(m(),()=>y()),[]),be.createElement("canvas",Object.assign({ref:f,role:"img",height:r,width:n},h),u)}const vxe=S.forwardRef(yxe);function xxe(t,e){return mh.register(e),S.forwardRef((r,n)=>be.createElement(vxe,Object.assign({},r,{ref:n,type:t})))}const bxe=xxe("line",Sp),wxe=()=>{const{user_id:t,bot_id:e,subject_id:r}=dr(),[n,{data:i,isLoading:s}]=Vse(),[o,a]=S.useState([]),[l,c]=S.useState("days");S.useEffect(()=>{t&&e&&u()},[t,e,r]);const u=async()=>{if(e!==0)try{const g=await n({user_id:Number(t),bot_id:Number(e)}).unwrap();(g==null?void 0:g.statusCode)===200&&a(g.data)}catch(g){$.error("Error fetching chat history:",g)}else $.error("This subject don't have a bot")},A=o.length,h=g=>{switch(l){case"days":return g.toLocaleDateString();case"weeks":const v=new Date(g.setDate(g.getDate()-g.getDay()));return`${v.toLocaleDateString()} - ${new Date(v.setDate(v.getDate()+6)).toLocaleDateString()}`;case"months":return`${g.getMonth()+1}/${g.getFullYear()}`;case"years":return g.getFullYear();default:return g.toLocaleDateString()}},f=o.reduce((g,v)=>{const x=h(new Date(v.createdAt));return g[x]||(g[x]=0),g[x]++,g},{}),p=Object.keys(f);if(p.length>0){const g=new Date(p[0]);g.setDate(g.getDate()-1),p.unshift(h(g))}const m={labels:p,datasets:[{label:"Interactions Over Time",data:[0,...Object.values(f)],fill:!1,backgroundColor:"#6925EF",borderColor:"#6925EF"}]},y={scales:{x:{title:{display:!0,text:"Date"}},y:{title:{display:!0,text:"Number of Interactions"},beginAtZero:!0}}};return s?d.jsxs("div",{className:"flex justify-center items-center min-h-screen",children:[d.jsx(ir,{className:"animate-spin text-[#6925EF] text-3xl"}),d.jsx("span",{className:"ml-2 text-gray-600",children:"Loading chat history..."})]}):d.jsx("div",{className:"bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:(o==null?void 0:o.length)>0?d.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Total Interactions"}),d.jsx("p",{className:"text-3xl text-[#6925EF] mt-4",children:A})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Select Time Span"}),d.jsxs("select",{value:l,onChange:g=>c(g.target.value),className:"mt-4 p-2 border border-gray-300 rounded-lg",children:[d.jsx("option",{value:"days",children:"Days"}),d.jsx("option",{value:"weeks",children:"Weeks"}),d.jsx("option",{value:"months",children:"Months"}),d.jsx("option",{value:"years",children:"Years"})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Interactions Over Time"}),d.jsx(bxe,{data:m,options:y})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 overflow-y-auto",style:{height:"100vh"},children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Chat History"}),o.map((g,v)=>d.jsxs("div",{className:`p-4 mb-4 rounded-lg ${g.is_bot?"bg-gray-100":"bg-gray-500 text-white"}`,children:[d.jsx("p",{className:"text-sm",dangerouslySetInnerHTML:{__html:g.message}}),d.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(g.createdAt).toLocaleString()})]},v))]})]}):d.jsx("div",{children:"No Chat History"})})},Cxe=({studentData:t})=>{const{user_roll_no:e,school:r,level:n}=t==null?void 0:t.data;return d.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-6 py-8 border border-gray-100",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Student Profile"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsx(B3,{title:"Roll No",icon:d8,data:e||"N/A"}),d.jsx(B3,{title:"School",icon:Eu,data:r.name||"N/A"}),d.jsx(B3,{title:"Level",icon:QR,data:n.level||"N/A"})]})]})},Bxe=({attemptedQuizzes:t})=>{var i,s;const{subject_id:e,user_id:r,bot_id:n}=dr();return d.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-6 py-8 border border-gray-100",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Quiz History"}),((i=t==null?void 0:t.data)==null?void 0:i.length)>0?d.jsx("div",{className:"space-y-6",children:(s=t==null?void 0:t.data)==null?void 0:s.map(o=>d.jsx("div",{className:"mb-4",children:d.jsx(_xe,{quiz:o,subject_id:e,user_id:r,bot_id:n})},o.id))}):d.jsx("p",{className:"text-gray-500 italic",children:"No quizzes attempted yet"})]})},B3=({title:t,icon:e,data:r})=>d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 hover:shadow-xl border border-gray-100",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"p-3 bg-indigo-50 rounded-lg",children:d.jsx(e,{className:"text-indigo-600 text-xl"})}),d.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:t})]}),d.jsx("p",{className:"text-gray-600 font-medium ml-1",children:r})]}),_xe=({quiz:t,subject_id:e,user_id:r,bot_id:n})=>(console.log("quiz hjjsadflksadf",t),d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border border-gray-100",children:[d.jsxs("div",{className:"border-b border-gray-100 pb-4 mb-4",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t.quiz.title}),d.jsx("p",{className:"text-gray-600",children:t.quiz.description})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"Start Time:"}),d.jsx("br",{}),new Date(t.quiz.start_time).toLocaleString()]}),d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"Duration:"}),d.jsx("br",{}),t.quiz.duration," minutes"]}),d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"Total Score:"}),d.jsx("br",{}),t.quiz.total_score||"N/A"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"End Time:"}),d.jsx("br",{}),new Date(t.quiz.end_time).toLocaleString()]}),d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"Obtained Score:"}),d.jsx("br",{}),t.obtained_score]}),d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"Status:"}),d.jsx("br",{}),d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.marked?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.marked?"Marked":"Pending"})]})]})]}),d.jsx("div",{className:"text-right mt-4",children:d.jsx(ch,{to:`/teacher/subject/${e}/${r}/${n}/${t.id}`,className:"inline-block px-4 py-2 text-sm font-semibold text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition duration-200",children:"See Details"})})]})),Sxe=()=>{const{user_id:t,subject_id:e}=dr(),{data:r,isLoading:n,isError:i,error:s,refetch:o}=iAe(Number(t),{skip:!t}),{data:a,isLoading:l,isError:c,refetch:u}=Iue({subjectId:Number(e),studentId:Number(t)},{skip:!t||!e});return S.useEffect(()=>{t&&e&&(o(),u())},[t,e]),n?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):i?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:d.jsxs("div",{className:"text-red-500 text-lg font-medium",children:[s.message||"Error loading student details"," "]})}):d.jsxs(d.Fragment,{children:[c&&d.jsx("div",{children:"Subject is unavailable to teacher"}),!c&&!i&&d.jsx("div",{className:"bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[d.jsx(Cxe,{studentData:r}),d.jsx(Bxe,{attemptedQuizzes:a})]})})]})},kxe=()=>d.jsxs("div",{children:[d.jsx(Sxe,{}),d.jsx(wxe,{})]}),Exe=()=>{var b;const t=Ze(),[e,r]=S.useState(1),[n,i]=S.useState(10),[s,o]=S.useState(!1),[a,l]=S.useState(null),{data:c,isLoading:u,error:A,isError:h,refetch:f}=Hue({page:e,limit:n});S.useEffect(()=>{f()},[e,n,f]);const[p]=Vue(),m=async w=>{const C=await p(w).unwrap();(C==null?void 0:C.statusCode)===200?($.success("Quiz deleted successfully!",{position:"top-right",autoClose:3e3}),f()):$.error("Quiz deletion failed!",{position:"top-right",autoClose:3e3}),o(!1),l(null)},y=w=>{l(w),o(!0)},g=[{Header:"ID",accessor:"id"},{Header:"Title",accessor:"title"},{Header:"Description",accessor:"description"},{Header:"Type",accessor:"quiz_type"},{Header:"Start Time",accessor:"start_time"},{Header:"End Time",accessor:"end_time"},{Header:"Duration (mins)",accessor:"duration"},{Header:"Actions",accessor:"actions"}],v=w=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ss,{onClick:()=>t(`/teacher/quiz/${w.id}`),className:"w-4 h-4 text-[#6925EF] hover:text-[#3C1589] cursor-pointer transition-colors",title:"Edit Quiz"}),d.jsx(Pu,{onClick:()=>y(w.id),className:"w-4 h-4 text-red-500 hover:text-red-700 cursor-pointer transition-colors",title:"Delete Quiz"})]}),x=Array.isArray(c==null?void 0:c.data)?(b=c==null?void 0:c.data)==null?void 0:b.map(w=>({...w,actions:v(w)})):[];return d.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:[d.jsx("div",{className:"max-w-7xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[d.jsx("div",{className:"p-6 border-b border-gray-200",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[d.jsx(ZF,{className:"text-[#6925EF]"}),"Manage Quizzes"]}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all quizzes in the system"})]}),d.jsxs(Tr,{onClick:()=>t("/teacher/quiz/create"),className:"self-stretch sm:self-auto",children:[d.jsx(ZF,{}),d.jsx("span",{children:" New Quiz"})]})]})}),d.jsx("div",{className:"p-6",children:u?d.jsxs("div",{className:"flex justify-center items-center",children:[d.jsx(ir,{className:"inline animate-spin text-[#6925EF]"}),d.jsx("span",{className:"text-gray-600 ml-2",children:"Loading quizzes..."})]}):h?d.jsx("div",{className:"text-red-500 text-center",children:(A==null?void 0:A.message)||"Error loading quizzes"}):x.length===0?d.jsx("div",{className:"text-gray-500 text-center",children:"No quizzes found."}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsx("tr",{children:g.map(w=>d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:w.Header},w.accessor))})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(w=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w.id}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w.title}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:w.description}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w.quiz_type}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w!=null&&w.start_time?d.jsx(d.Fragment,{children:new Date(w.start_time).toLocaleString()}):"No Time"}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w!=null&&w.end_time?d.jsx(d.Fragment,{children:new Date(w.end_time).toLocaleString()}):"No Time"}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w.duration}),d.jsx("td",{className:"px-6 py-4 text-sm",children:w.actions})]},w.id))})]})})}),d.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200",children:d.jsx(Hu,{currentPage:e,totalPages:1,limit:n,onPageChange:r,onLimitChange:w=>{i(w),r(1)}})})]})}),d.jsx(ph,{isOpen:s,onClose:()=>o(!1),onConfirm:()=>m(a),title:"Delete Quiz",message:"Are you sure you want to delete this quiz? This action cannot be undone."})]})},Fxe=()=>{var m,y;const t=Ze(),[e,r]=S.useState(1),[n,i]=S.useState(10),{refetch:s,data:o,error:a,isLoading:l,isError:c}=mk({page:e,limit:n});S.useEffect(()=>{s()},[]);const u=g=>{t(`/admin/schools/${g}`)},A=g=>d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(Rl,{icon:d.jsx(Ss,{size:16}),onClick:()=>u(g.id),tooltip:"Edit School",variant:"primary"})}),h=[{Header:"Name",accessor:"name"},{Header:"Description",accessor:"description"},{Header:"Actions",accessor:"actions"}],f=((m=o==null?void 0:o.data)==null?void 0:m.data.map(g=>({...g,actions:A(g)})))||[],p=Math.ceil(((y=o==null?void 0:o.data)==null?void 0:y.total)/n)||1;return l?d.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100",children:d.jsx(ir,{className:"inline animate-spin text-[#6925EF]"})}):c?d.jsxs("div",{children:["Error: ",a.message]}):d.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:d.jsx("div",{className:"max-w-7xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[d.jsx("div",{className:"p-6 border-b border-gray-200",children:d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Schools"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all schools in the system"})]}),d.jsxs(Tr,{onClick:()=>t("/admin/schools/create"),className:"self-stretch sm:self-auto",children:[d.jsx(Hd,{}),d.jsx("span",{children:"Create School"})]})]})}),d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsx(nc,{columns:h,data:f,currentPage:e,totalPages:p,limit:n,onPageChange:r,onLimitChange:g=>{i(g),r(1)},emptyStateMessage:"No schools found."})})})]})})})},Mxe=go().shape({name:Re().required("School name is required").min(3,"School name must be at least 3 characters"),description:Re().required("Description is required").min(10,"Description must be at least 10 characters")}),Txe=()=>{const{register:t,handleSubmit:e,formState:{errors:r,isSubmitting:n},reset:i}=ga({resolver:ya(Mxe)});Ze(),dn();const[s,{isLoading:o,isError:a,error:l}]=mpe(),c=async u=>{var A;try{const h={...u};await s(h).unwrap(),$.success("School created successfully"),i()}catch(h){const f=((A=h==null?void 0:h.data)==null?void 0:A.message)||"Failed to create school";$.error(f)}};return d.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:d.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[d.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[d.jsx(Eu,{className:"text-[#6925EF] w-6 h-6"}),"Create New School"]}),d.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Add a new school to the system with detailed information."})]}),d.jsxs("form",{onSubmit:e(c),className:"px-6 py-8",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(Eu,{className:"text-[#6925EF] w-4 h-4"}),"School Name"]}),d.jsx("input",{type:"text",...t("name"),placeholder:"Enter school name",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.name?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.name&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name.message})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(Rd,{className:"text-[#6925EF] w-4 h-4"}),"Description"]}),d.jsx("textarea",{...t("description"),placeholder:"Enter school description",rows:"4",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.description?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.description&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.description.message})]})]}),d.jsx("div",{className:"mt-8 flex justify-end",children:d.jsx(Tr,{className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50",type:"submit",disabled:n||o,children:n||o?"Creating...":d.jsxs(d.Fragment,{children:[d.jsx(u0,{className:"w-4 h-4"}),"Create School"]})})})]})]})})},Dxe=go().shape({name:Re().required("School name is required").min(3,"School name must be at least 3 characters"),description:Re().required("Description is required").min(10,"Description must be at least 10 characters")}),Lxe=()=>{var p;Ze();const{school_id:t}=dr(),[e,{isLoading:r}]=ype(),{refetch:n,data:i,isLoading:s,isError:o,error:a}=gpe(t);S.useEffect(()=>{n()},[]);const{register:l,handleSubmit:c,formState:{errors:u,isSubmitting:A},reset:h}=ga({resolver:ya(Dxe)});S.useEffect(()=>{if((i==null?void 0:i.status)===200&&(i!=null&&i.data)){const{name:m,description:y}=i.data;h({name:m,description:y})}},[i,h]);const f=async m=>{var y;try{const g={id:+t,schoolData:{...m}};(await e(g).unwrap()).status==200&&(n(),$.success("School updated successfully"))}catch(g){const v=((y=g==null?void 0:g.data)==null?void 0:y.message)||"Failed to update school";$.error(v)}};return s?d.jsx("div",{children:"Loading school data..."}):o?d.jsxs("div",{children:["Error: ",((p=a==null?void 0:a.data)==null?void 0:p.message)||"Failed to fetch school data"]}):d.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:d.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[d.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[d.jsx(Eu,{className:"text-[#6925EF] w-6 h-6"}),"Update School"]}),d.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update the school details in the system."})]}),d.jsxs("form",{onSubmit:c(f),className:"px-6 py-8",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(Eu,{className:"text-[#6925EF] w-4 h-4"}),"School Name"]}),d.jsx("input",{type:"text",...l("name"),placeholder:"Enter school name",className:`mt-1 block w-full px-4 py-2 bg-white border ${u.name?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),u.name&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.name.message})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(Rd,{className:"text-[#6925EF] w-4 h-4"}),"Description"]}),d.jsx("textarea",{...l("description"),placeholder:"Enter school description",rows:"4",className:`mt-1 block w-full px-4 py-2 bg-white border ${u.description?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),u.description&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.description.message})]})]}),d.jsx("div",{className:"mt-8 flex justify-end",children:d.jsx(Tr,{className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50",type:"submit",disabled:A||r,children:A||r?"Updating...":d.jsxs(d.Fragment,{children:[d.jsx(dh,{className:"w-4 h-4"}),"Update School"]})})})]})]})})};/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jxe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ez=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oxe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nxe=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...a},l)=>S.createElement("svg",{ref:l,...Oxe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:ez("lucide",i),...a},[...o.map(([c,u])=>S.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=(t,e)=>{const r=S.forwardRef(({className:n,...i},s)=>S.createElement(Nxe,{ref:s,iconNode:e,className:ez(`lucide-${jxe(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ixe=pt("ALargeSmall",[["path",{d:"M21 14h-5",key:"1vh23k"}],["path",{d:"M16 16v-3.5a2.5 2.5 0 0 1 5 0V16",key:"1wh10o"}],["path",{d:"M4.5 13h6",key:"dfilno"}],["path",{d:"m3 16 4.5-9 4.5 9",key:"2dxa0e"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uxe=pt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pxe=pt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=pt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=pt("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=pt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qxe=pt("ChartColumnBig",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["rect",{x:"15",y:"5",width:"4",height:"12",rx:"1",key:"q8uenq"}],["rect",{x:"7",y:"8",width:"4",height:"9",rx:"1",key:"sr5ea"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rxe=pt("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hxe=pt("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $xe=pt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vxe=pt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kxe=pt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zxe=pt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wxe=pt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gxe=pt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=pt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qxe=pt("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xxe=pt("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yxe=pt("PencilLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jxe=pt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zxe=pt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ebe=pt("Pointer",[["path",{d:"M22 14a8 8 0 0 1-8 8",key:"56vcr3"}],["path",{d:"M18 11v-1a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1agjmk"}],["path",{d:"M14 10V9a2 2 0 0 0-2-2a2 2 0 0 0-2 2v1",key:"wdbh2u"}],["path",{d:"M10 9.5V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v10",key:"1ibuk9"}],["path",{d:"M18 11a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"g6ys72"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tbe=pt("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rbe=pt("RectangleHorizontal",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=pt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nbe=pt("Sigma",[["path",{d:"M18 7V5a1 1 0 0 0-1-1H6.5a.5.5 0 0 0-.4.8l4.5 6a2 2 0 0 1 0 2.4l-4.5 6a.5.5 0 0 0 .4.8H17a1 1 0 0 0 1-1v-2",key:"wuwx1p"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ibe=pt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sbe=pt("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);function obe(){const t=Ze(),{data:e,isLoading:r,isError:n,error:i,refetch:s}=$ue();S.useEffect(()=>{s()},[]);const a=(()=>{const A=new Date;return new Date(Date.UTC(A.getUTCFullYear(),A.getUTCMonth(),A.getUTCDate()))})(),[l]=Pue(),c=async A=>{try{const h=await l({quiz_id:Number(A)}).unwrap();h.statusCode===200?t(`/quiz/${A}`):toast.error(h.message)}catch{toast.error("Failed to navigate to quiz. Please try again.")}};if(r)return d.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:d.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center",children:[d.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-purple-600 border-t-transparent rounded-full mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Loading available quizzes..."})]})});if(n)return d.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:d.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center max-w-md w-full",children:[d.jsx(zxe,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Error Loading Quizzes"}),d.jsx("p",{className:"text-gray-600 mb-4",children:(i==null?void 0:i.message)||"Failed to load quizzes. Please try again later."}),d.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Retry"})]})});const u=(e==null?void 0:e.data)||[];return u.length?d.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Available Quizzes"}),d.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Select a quiz to begin your assessment. Make sure to check the duration and schedule before starting."})]}),d.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:u.map(A=>{var h,f,p,m,y;return d.jsxs("div",{className:"min-h-[300px]  bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden cursor-pointer group",children:[d.jsxs("div",{className:"p-6 h-[75%] ",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 group-hover:text-purple-600 transition-colors",children:A.title}),d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${!A.quiz_type==="MCQS"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:A.quiz_type===as.MCQS?"MCQS":"QA"})]}),d.jsx("p",{className:"mt-2 text-gray-600 text-sm line-clamp-2",children:A.description}),d.jsxs("div",{className:"mt-4 space-y-2",children:[d.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[d.jsx(Ab,{className:"w-4 h-4 mr-2 text-gray-400"}),"Duration: ",A.duration," minutes"]}),d.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[d.jsx(DD,{className:"w-4 h-4 mr-2 text-gray-400"}),(h=A==null?void 0:A.subject)==null?void 0:h.title]}),(A==null?void 0:A.start_time)&&(A==null?void 0:A.end_time)&&d.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[d.jsx(h6,{className:"w-4 h-4 mr-2 text-gray-400"}),new Date(A.start_time).toLocaleDateString()," - ",new Date(A.end_time).toLocaleDateString()]})]})]}),d.jsx("div",{className:"px-6 w-full py-4 border-t border-gray-100",children:(A==null?void 0:A.start_time)!==null&&(A==null?void 0:A.end_time)!==null?d.jsx(d.Fragment,{children:a<=new Date(`${A==null?void 0:A.start_time}T00:00:00Z`)&&a<=new Date(`${A==null?void 0:A.end_time}T00:00:00Z`)?d.jsx("button",{className:`w-full py-2 rounded-lg flex items-center justify-center ${(f=A==null?void 0:A.quiz_attempts[0])!=null&&f.submitted?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-700"}`,onClick:g=>{g.stopPropagation(),c(A.id)},disabled:(p=A==null?void 0:A.quiz_attempts[0])==null?void 0:p.submitted,children:"Attempt Quiz"}):d.jsx(d.Fragment,{children:a<new Date(A.start_time)?d.jsx("button",{className:"w-full py-2 rounded-lg flex items-center justify-center bg-gray-300 text-gray-600 cursor-not-allowed",disabled:!0,children:"Not Started"}):d.jsx("button",{className:"w-full py-2 rounded-lg flex items-center justify-center bg-gray-300 text-gray-600 cursor-not-allowed",disabled:!0,children:"Time Out"})})}):d.jsx(d.Fragment,{children:d.jsx("button",{className:`w-full py-2 rounded-lg flex items-center justify-center ${(m=A==null?void 0:A.quiz_attempts[0])!=null&&m.submitted?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-700"}`,onClick:g=>{g.stopPropagation(),c(A.id)},disabled:(y=A==null?void 0:A.quiz_attempts[0])==null?void 0:y.submitted,children:"Attempt Quiz"})})})]},A.id)})})]})}):d.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:d.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center max-w-md w-full",children:[d.jsx(DD,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Quizzes Available"}),d.jsx("p",{className:"text-gray-600",children:"There are currently no quizzes available for your level."})]})})}function abe(){var k,E,F,M,T,Q,P,H,I,L,R,V,Y,re,se,ie,Ae;const t=Ze(),{quizId:e}=dr(),[r,n]=S.useState(0),[i,s]=S.useState({}),[o,a]=S.useState(0),[l,c]=S.useState(!0),{data:u,isLoading:A,isError:h,error:f}=_$(e),[p,{isLoading:m,isError:y,isSuccess:g}]=Kue(),x=(()=>{const G=new Date;return new Date(Date.UTC(G.getUTCFullYear(),G.getUTCMonth(),G.getUTCDate()))})();S.useEffect(()=>{var G,ae,z,q;u&&(((G=u==null?void 0:u.data)==null?void 0:G.start_time)!==null&&((ae=u==null?void 0:u.data)==null?void 0:ae.end_time)!==null?c(x<=new Date(`${(z=u==null?void 0:u.data)==null?void 0:z.start_time}T00:00:00Z`)&&x<=new Date(`${(q=u==null?void 0:u.data)==null?void 0:q.end_time}T00:00:00Z`)):c(!0))},[u]),S.useEffect(()=>{u&&!l&&($.error("This quiz is not available at the moment.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),t("/quiz"))},[u,l]),S.useEffect(()=>{var G;if(u){const ae=localStorage.getItem(`quizStartTime_${e}`),z=localStorage.getItem(`quizDuration_${e}`);if(ae&&z){const q=Math.floor((new Date().getTime()-parseInt(ae,10))/1e3),K=Math.max(0,parseInt(z,10)-q);a(K)}else{const q=new Date().getTime(),K=((G=u==null?void 0:u.data)==null?void 0:G.duration)*60;localStorage.setItem(`quizStartTime_${e}`,q),localStorage.setItem(`quizDuration_${e}`,K),a(K)}}},[u,e]);const b=(G,ae)=>{s(z=>{var q,K;return{...z,[G]:{option_id:((q=u==null?void 0:u.data)==null?void 0:q.questions[r].question_type)===as.MCQS?ae:null,text_answer:((K=u==null?void 0:u.data)==null?void 0:K.questions[r].question_type)===as.QA?ae:null}}})},w=async()=>{try{await p({quiz_id:parseInt(e,10),answers:Object.entries(i).map(([ae,z])=>({question_id:parseInt(ae,10),option_id:z.option_id,text_answer:z.text_answer}))}).unwrap()&&(localStorage.removeItem(`quizStartTime_${e}`),localStorage.removeItem(`quizDuration_${e}`),$.success("Quiz submitted successfully!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),setTimeout(()=>{t("/quiz")},3e3))}catch(G){console.error("Error submitting quiz:",G),$.error("Failed to submit quiz. Please try again.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}};if(S.useEffect(()=>{if(!u||o<=0)return;const G=setInterval(()=>{a(ae=>ae<=1?(clearInterval(G),w(),0):ae-1)},1e3);return()=>clearInterval(G)},[u,o,w]),A)return d.jsxs("div",{className:"flex justify-center items-center h-screen",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-600"}),d.jsx("span",{className:"ml-2 text-gray-600",children:"Loading quiz..."})]});if(h)return setTimeout(()=>{t("/quiz")},1500),d.jsx("div",{className:"text-red-500 text-center mt-10",children:(f==null?void 0:f.message)||((k=f==null?void 0:f.data)==null?void 0:k.message)||"Error loading quiz"});if(!u)return d.jsx("div",{className:"text-gray-500 text-center mt-10",children:"No quiz found."});const C=G=>{const ae=Math.floor(G/60),z=G%60;return`${ae}:${z<10?"0":""}${z}`},B=(E=u==null?void 0:u.data)==null?void 0:E.questions[r].id,_=i[B];return d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx("header",{className:"bg-white shadow-sm",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:(F=u==null?void 0:u.data)==null?void 0:F.title}),d.jsxs("div",{className:"mt-1 flex flex-wrap gap-4",children:[d.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[d.jsx(tz,{className:"w-4 h-4 mr-2 text-purple-600"}),((T=(M=u==null?void 0:u.data)==null?void 0:M.subject)==null?void 0:T.title)||"No Subject"]}),d.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[d.jsx(Ab,{className:"w-4 h-4 mr-2 text-purple-600"}),(Q=u==null?void 0:u.data)==null?void 0:Q.duration," minutes"]}),d.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[d.jsx(Pxe,{className:"w-4 h-4 mr-2 text-purple-600"}),((H=(P=u==null?void 0:u.data)==null?void 0:P.level)==null?void 0:H.level)||"No Level"]})]})]}),d.jsx("div",{className:"mt-4 md:mt-0",children:d.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-purple-100 text-purple-800",children:[d.jsx(Ab,{className:"w-4 h-4 mr-2"}),d.jsxs("span",{children:[C(o)," remaining"]})]})})]})})}),d.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[d.jsx("div",{className:"w-full h-2 bg-gray-100",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-purple-600 to-purple-800 transition-all duration-300",style:{width:`${(r+1)/((L=(I=u==null?void 0:u.data)==null?void 0:I.questions)==null?void 0:L.length)*100}%`}})}),d.jsxs("div",{className:"p-6 h-full",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Question ",r+1," of ",(R=u==null?void 0:u.data)==null?void 0:R.questions.length]}),d.jsxs("span",{className:"text-sm font-medium text-purple-600",children:[Math.round((r+1)/((V=u==null?void 0:u.data)==null?void 0:V.questions.length)*100),"% Complete"]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsx("h2",{className:"text-lg font-medium text-gray-900",children:(Y=u==null?void 0:u.data)==null?void 0:Y.questions[r].text}),((re=u==null?void 0:u.data)==null?void 0:re.quiz_type)==="multiple-choice"?d.jsx("div",{className:"grid gap-3",children:(se=u==null?void 0:u.data)==null?void 0:se.questions[r].options.map((G,ae)=>{const z=(_==null?void 0:_.option_id)===G.id;return d.jsxs("button",{onClick:()=>b(B,G.id),className:`flex items-center p-4 rounded-lg border-2 transition-all
                          ${z?"border-purple-600 bg-purple-50 text-purple-700":"border-gray-200 hover:border-purple-200 hover:bg-purple-50"}`,children:[d.jsxs("span",{className:`w-6 h-6 flex items-center justify-center rounded-full border-2 mr-3
                            ${z?"border-purple-600 bg-purple-600 text-white":"border-gray-300"}`,children:[String.fromCharCode(65+ae)," "]}),G.text," "]},G.id)})}):d.jsx("div",{className:"mt-3",children:d.jsx("textarea",{type:"text",value:(_==null?void 0:_.text_answer)||"",onChange:G=>b(B,G.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600",placeholder:"Type your answer here..."})})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-between",children:[d.jsxs("button",{onClick:()=>n(G=>Math.max(0,G-1)),disabled:r===0,className:"inline-flex items-center px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(Vxe,{className:"w-5 h-5 mr-2"}),"Previous"]}),r<((Ae=(ie=u==null?void 0:u.data)==null?void 0:ie.questions)==null?void 0:Ae.length)-1?d.jsxs("button",{onClick:()=>n(G=>G+1),className:"inline-flex items-center px-6 py-2 rounded-lg bg-purple-600 text-white hover:bg-purple-700",children:["Next",d.jsx(Kxe,{className:"w-5 h-5 ml-2"})]}):d.jsxs("button",{onClick:w,className:`inline-flex items-center px-6 py-2 rounded-lg ${m?"bg-gray-300 hover:bg-green-700":"bg-green-600"}  text-white `,disabled:m,children:[d.jsx(rz,{className:"w-5 h-5 mr-2"}),m?"Submitting...":"Submit Quiz"]})]})]})})]})}const lbe=({formTitle:t="Create Quiz",formDescription:e="Fill in the details to create a new quiz",isLoading:r=!1,quizData:n,subjects:i=[],onSubmit:s,onChange:o,onAddQuestion:a,onRemoveQuestion:l,isEdit:c=!1})=>{var g,v;console.log("quizData",n);const{data:u,isLoading:A,isError:h,error:f}=Y8(),p=((v=(g=u==null?void 0:u.data)==null?void 0:g.teacher_profile)==null?void 0:v.subjects)||i;if(A)return d.jsx("div",{children:"Loading subjects..."});if(h)return d.jsxs("div",{children:["Error loading subjects: ",f.message]});const m=(x,b)=>{const w=n.questions.map((C,B)=>B===x?{...C,options:C.options.map((_,k)=>({..._,isCorrect:k===b}))}:C);o("questions",w)},y=x=>x?new Date(x).toISOString().split("T")[0]:"";return d.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6 lg:p-8",children:d.jsxs("div",{className:"max-w-5xl mx-auto",children:[d.jsx("div",{className:"bg-white rounded-t-2xl shadow-sm border border-b-0 border-gray-200 p-6 md:p-8",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-xl flex items-center justify-center",children:d.jsx(tz,{className:"h-6 w-6 text-purple-600"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:t}),d.jsx("p",{className:"text-gray-600 mt-1",children:e})]})]})}),d.jsx("div",{className:"bg-white rounded-b-2xl shadow-lg border border-gray-200",children:d.jsxs("form",{onSubmit:s,className:"divide-y divide-gray-200",children:[d.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Quiz Title*"}),d.jsx("input",{type:"text",name:"title",value:n.title,onChange:x=>o("title",x.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter quiz title"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subject*"}),d.jsxs("select",{name:"subject",value:n.subject,onChange:x=>o("subject",x.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[d.jsx("option",{value:"",children:"Select Subject"}),p.map(x=>d.jsx("option",{value:x.id,children:x.title},x.id))]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description*"}),d.jsx("textarea",{name:"description",value:n.description,onChange:x=>o("description",x.target.value),rows:"4",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter quiz description"})]}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Time"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(h6,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{type:"date",name:"startTime",value:y(n.startTime),onChange:x=>o("startTime",x.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Time"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(h6,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{type:"date",name:"endTime",value:y(n.endTime),onChange:x=>o("endTime",x.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Duration (minutes)*"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(Ab,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{type:"number",name:"duration",value:n.duration,onChange:x=>o("duration",parseInt(x.target.value)),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter duration"})]})]})]})]}),d.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Questions"}),d.jsxs("button",{type:"button",onClick:a,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-purple-600 bg-purple-50 rounded-lg hover:bg-purple-100",children:[d.jsx(Zxe,{className:"mr-2 h-4 w-4"}),"Add Question"]})]}),d.jsx("div",{className:"space-y-6",children:n.questions.map((x,b)=>{var w;return d.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"h-8 w-8 bg-purple-100 rounded-lg flex items-center justify-center",children:d.jsx(Wxe,{className:"h-4 w-4 text-purple-600"})}),d.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Question ",b+1]})]}),n.questions.length>1&&d.jsx("button",{type:"button",onClick:()=>l(b),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:d.jsx(ibe,{className:"h-4 w-4"})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("textarea",{value:x.text,onChange:C=>o(`questions[${b}].text`,C.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:"3",placeholder:"Enter your question here..."}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Score*"}),d.jsx("input",{type:"number",value:x.score,onChange:C=>{const B=parseInt(C.target.value);o(`questions[${b}].score`,B)},className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter score"})]}),n.quizType==="multiple-choice"&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(w=x==null?void 0:x.options)==null?void 0:w.map((C,B)=>d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("input",{type:"radio",name:`question-${b}-correct`,checked:C==null?void 0:C.isCorrect,onChange:()=>m(b,B),className:"h-4 w-4 text-purple-600 focus:ring-purple-500"}),d.jsx("input",{type:"text",value:C==null?void 0:C.text,onChange:_=>o(`questions[${b}].options[${B}].text`,_.target.value),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:`Option ${B+1}*`})]},B))})]})]},b)})})]}),d.jsx("div",{className:"p-6 md:p-8 flex justify-between items-center",children:d.jsxs("button",{type:"submit",disabled:r,className:`w-full md:w-auto flex items-center justify-center px-6 py-3 ${r?"bg-gray-400":"bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500"}   text-white font-medium rounded-lg  disabled:opacity-50`,children:[d.jsx(rz,{className:"mr-2 h-4 w-4"}),r?"Saving...":c?"Update Quiz":"Create Quiz"]})})]})})]})})},cbe=()=>{var f;const{quiz_id:t}=dr(),{data:e,isLoading:r,isError:n}=_$(t),[i,{isLoading:s}]=Que(),o=p=>p?new Date(p).toISOString().slice(0,16):"",[a,l]=S.useState({id:null,title:"",description:"",startTime:"",endTime:"",duration:0,score:0,subject:"",quizType:"",questions:[]});S.useEffect(()=>{var p,m,y,g,v,x,b,w,C,B;e&&l({id:(p=e==null?void 0:e.data)==null?void 0:p.id,title:(m=e==null?void 0:e.data)==null?void 0:m.title,description:(y=e==null?void 0:e.data)==null?void 0:y.description,startTime:o((g=e==null?void 0:e.data)==null?void 0:g.start_time),endTime:o((v=e==null?void 0:e.data)==null?void 0:v.end_time),duration:(x=e==null?void 0:e.data)==null?void 0:x.duration,score:((b=e==null?void 0:e.data)==null?void 0:b.score)||0,subject:(w=e==null?void 0:e.data)==null?void 0:w.subject_id,quizType:(C=e==null?void 0:e.data)==null?void 0:C.quiz_type,questions:(B=e==null?void 0:e.data)==null?void 0:B.questions.map(_=>{var k;return{id:_==null?void 0:_.id,text:_==null?void 0:_.text,score:(_==null?void 0:_.score)||0,options:((k=_==null?void 0:_.options)==null?void 0:k.map(E=>({id:E==null?void 0:E.id,text:E==null?void 0:E.text,isCorrect:E==null?void 0:E.is_correct})))||[]}})})},[e]);const c=(p,m)=>{if(console.log(p,m),p.includes("[")){const y=p.split(/[\[\].]+/).filter(Boolean),[g,v,x,b,w]=y;if(g==="questions"){const C=[...a.questions];x==="options"?C[v][x][b][w]=m:C[v][x]=m,l(B=>({...B,questions:C}))}}else l(y=>({...y,[p]:m}))},u=async p=>{var y;if(p.preventDefault(),console.log(a),a.startTime===""&&a.endTime!==""||a.startTime!==""&&a.endTime===""){$.error("Both start_time & end_time can be null, or both must be defined"),l(g=>({...g,startTime:"",endTime:""}));return}if(!a.title.trim()){$.error("Quiz title cannot be empty.");return}if(!a.description.trim()){$.error("Quiz description cannot be empty.");return}if(a.duration<=0){$.error("Duration must be greater than 0.");return}if(!a.subject){$.error("Subject cannot be empty.");return}if(a.questions.length===0){$.error("At least one question is required.");return}if(a.duration<=0){$.error("Duration must be a positive integer.");return}for(const[g,v]of a.questions.entries()){if(!v.text.trim()){$.error(`Question ${g+1} text cannot be empty.`);return}if(v.score<=0){$.error(`Question ${g+1} score must be greater than 0.`);return}if(a.quizType==="multiple-choice"){if(v.options.length===0){$.error(`Question ${g+1} must have at least one option.`);return}for(const[b,w]of v.options.entries())if(!w.text.trim()){$.error(`Option ${b+1} in Question ${g+1} cannot be empty.`);return}if(!v.options.some(b=>b.isCorrect)){$.error(`Question ${g+1} must have at least one correct option.`);return}}}const m={quiz_id:t,id:a.id,title:a.title,description:a.description,start_time:a.startTime===""?null:a.startTime,end_time:a.endTime===""?null:a.endTime,duration:a.duration,score:a.score,subject_id:a.subject,quiz_type:a.quizType,questions:a.questions.map(g=>({id:g.id,text:g.text,score:g.score,options:g.options.map(v=>({id:v.id,text:v.text,isCorrect:v.isCorrect}))}))};try{await i(m).unwrap(),$.success("Quiz updated successfully!")}catch(g){console.error("Failed to update quiz:",g),$.error(((y=g==null?void 0:g.data)==null?void 0:y.message)||(g==null?void 0:g.message)||"Failed to update quiz. Please try again.")}},A=()=>{l(p=>({...p,questions:[...p.questions,{text:"",score:0,options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1}]}]}))},h=p=>{a.questions[p].id||l(m=>({...m,questions:m.questions.filter((y,g)=>g!==p)}))};return r?d.jsx("div",{className:"flex justify-center items-center min-h-screen",children:d.jsx(Xxe,{className:"h-8 w-8 text-purple-600 animate-spin"})}):n?d.jsx("div",{className:"text-center text-red-500 py-8",children:d.jsx("p",{children:"Error loading quiz data. Please try again later."})}):d.jsx(lbe,{formTitle:"Edit Quiz",formDescription:"Update your quiz details and questions",isLoading:s,quizData:a,subjects:(f=e==null?void 0:e.data)==null?void 0:f.subjects,onSubmit:u,onChange:c,onAddQuestion:A,onRemoveQuestion:h,isEdit:!0})},ube=()=>{var A;const[t,e]=S.useState({page:1,limit:10}),{data:r,isLoading:n,error:i,refetch:s}=AAe(),o=Ze(),a=h=>e(f=>({...f,page:h})),l=h=>e({page:1,limit:h});S.useEffect(()=>{s()},[t]);const c=((A=r==null?void 0:r.data)==null?void 0:A.map(h=>{var f,p,m,y,g;return{id:(f=h.user)==null?void 0:f.id,name:((p=h.user)==null?void 0:p.name)||"N/A",email:((m=h.user)==null?void 0:m.email)||"N/A",school:((y=h.school)==null?void 0:y.name)||"N/A",contact:((g=h.user)==null?void 0:g.contact)||"N/A"}}))||[],u=[{Header:"Name",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"School",accessor:"school"},{Header:"Contact",accessor:"contact"},{Header:"Actions",accessor:"actions",Cell:({id:h})=>d.jsx("button",{onClick:()=>o(`/parent/children/${h}`),className:"px-4 py-2 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg text-sm font-medium hover:opacity-90 transition-all duration-200",children:"View Details"})}];return d.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8",children:d.jsx("div",{className:"max-w-7xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[d.jsxs("div",{className:"p-6 border-b border-gray-200",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Children"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all child accounts"})]}),d.jsx("div",{className:"p-6",children:d.jsx(nc,{columns:u,data:c,isLoading:n,isError:!!i,error:i==null?void 0:i.message,currentPage:t.page,totalPages:(r==null?void 0:r.totalPages)||1,limit:t.limit,onPageChange:a,onLimitChange:l})})]})})})},rA=({title:t,icon:e,data:r})=>d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 hover:shadow-xl border border-gray-100",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"p-3 bg-indigo-50 rounded-lg",children:d.jsx(e,{className:"text-indigo-600 text-xl"})}),d.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:t})]}),d.jsx("p",{className:"text-gray-600 font-medium ml-1",children:r})]}),Abe=({quiz:t})=>d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border border-gray-100",children:[d.jsxs("div",{className:"border-b border-gray-100 pb-4 mb-4",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t.quiz.title}),d.jsx("p",{className:"text-gray-600",children:t.quiz.description})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"Start Time:"}),d.jsx("br",{}),new Date(t.quiz.start_time).toLocaleString()]}),d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"Duration:"}),d.jsx("br",{}),t.quiz.duration," minutes"]}),d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"Total Score:"}),d.jsx("br",{}),t.quiz.total_score||"N/A"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"End Time:"}),d.jsx("br",{}),new Date(t.quiz.end_time).toLocaleString()]}),d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"Obtained Score:"}),d.jsx("br",{}),t.obtained_score]}),d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"Status:"}),d.jsx("br",{}),d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.marked?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.marked?"Marked":"Pending"})]})]})]})]}),dbe=()=>{const{child_id:t}=dr(),{data:e,isLoading:r,isError:n}=dAe(Number(t),{skip:!t});if(r)return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})});if(n)return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:d.jsx("div",{className:"text-red-500 text-lg font-medium",children:"Error loading child details"})});const{user:i,school:s,level:o,attempted_quizes:a}=e.data;return d.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-6 py-8 border border-gray-100",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Student Profile"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsx(rA,{title:"Name",icon:yn,data:i.name||"N/A"}),d.jsx(rA,{title:"Email",icon:A8,data:i.email||"N/A"}),d.jsx(rA,{title:"Contact",icon:f8,data:i.contact||"N/A"}),d.jsx(rA,{title:"Roll No",icon:d8,data:e.data.user_roll_no||"N/A"}),d.jsx(rA,{title:"School",icon:Eu,data:s.name||"N/A"}),d.jsx(rA,{title:"Level",icon:QR,data:o.level||"N/A"})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-6 py-8 border border-gray-100",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Quiz History"}),a.length>0?d.jsx("div",{className:"space-y-6",children:a.map(l=>d.jsx(Abe,{quiz:l},l.id))}):d.jsx("p",{className:"text-gray-500 italic",children:"No quizzes attempted yet"})]})]})})},hbe=()=>{var r,n,i,s,o,a,l,c,u,A,h,f,p,m,y,g,v,x;const{quiz_attempt_id:t}=dr();console.log(t);const{data:e}=Uue(Number(t),{skip:!t});return console.log("quiz derail route",e),d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border border-gray-100",children:["adsfdsflk",d.jsxs("div",{className:"border-b border-gray-100 pb-4 mb-4",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:(n=(r=e==null?void 0:e.data)==null?void 0:r.quiz)==null?void 0:n.title}),d.jsx("p",{className:"text-gray-600",children:(s=(i=e==null?void 0:e.data)==null?void 0:i.quiz)==null?void 0:s.description})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"Start Time:"}),d.jsx("br",{}),new Date((a=(o=e==null?void 0:e.data)==null?void 0:o.quiz)==null?void 0:a.start_time).toLocaleString()]}),d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"Duration:"}),d.jsx("br",{}),(c=(l=e==null?void 0:e.data)==null?void 0:l.quiz)==null?void 0:c.duration," minutes"]}),d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"Total Score:"}),d.jsx("br",{}),((A=(u=e==null?void 0:e.data)==null?void 0:u.quiz)==null?void 0:A.total_score)||"N/A"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"End Time:"}),d.jsx("br",{}),new Date((f=(h=e==null?void 0:e.data)==null?void 0:h.quiz)==null?void 0:f.end_time).toLocaleString()]}),d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"Obtained Score:"}),d.jsx("br",{}),(p=e==null?void 0:e.data)==null?void 0:p.obtained_score]}),d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"Status:"}),d.jsx("br",{}),d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(m=e==null?void 0:e.data)!=null&&m.marked?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:(y=e==null?void 0:e.data)!=null&&y.marked?"Marked":"Pending"})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Answers"}),((v=(g=e==null?void 0:e.data)==null?void 0:g.answers)==null?void 0:v.length)>0?d.jsx("div",{className:"grid gap-4",children:(x=e==null?void 0:e.data)==null?void 0:x.answers.map((b,w)=>{var C,B,_,k,E,F;return d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["Question: ",(C=b==null?void 0:b.question)==null?void 0:C.text]}),d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(b==null?void 0:b.is_correct)==null?"":b.is_correct?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:(b==null?void 0:b.is_correct)==null?"":b!=null&&b.is_correct?"Correct":"Incorrect"})]}),((_=(B=e==null?void 0:e.data)==null?void 0:B.quiz)==null?void 0:_.quiz_type)===as.MCQS&&((E=(k=b==null?void 0:b.question)==null?void 0:k.options)==null?void 0:E.map((M,T)=>d.jsx(d.Fragment,{children:d.jsx("div",{children:d.jsx("p",{className:`text-gray-600 ${M!=null&&M.is_correct?"font-semibold text-green-600 ":""}`,children:M==null?void 0:M.text})})}))),d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-medium",children:"Answer:"})," ",(b==null?void 0:b.text_answer)||((F=b==null?void 0:b.selected_option)==null?void 0:F.text)||"N/A"]}),d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-medium",children:"Score:"})," ",b==null?void 0:b.obtained_score]})]},w)})}):d.jsx("p",{className:"text-gray-500 italic",children:"No answers provided"})]})]})},Yh=48,fbe=({color:t="currentColor",direction:e="left",distance:r="md",duration:n=.4,easing:i="cubic-bezier(0, 0, 0, 1)",hideOutline:s=!0,label:o,lines:a=3,onToggle:l,render:c,rounded:u=!1,size:A=32,toggle:h,toggled:f,disabled:p=!1,animateOnMount:m=!1})=>{const[y,g]=S.useState(!1),[v,x]=S.useState(!1);S.useEffect(()=>{x(!0)},[]);const b=Math.max(12,Math.min(Yh,A)),w=Math.round((Yh-b)/2),C=b/12,B=Math.round(C),k=b/(a*((r==="lg"?.25:r==="sm"?.75:.5)+(a===3?1:1.25))),E=Math.round(k),F=B*a+E*(a-1),M=Math.round((Yh-F)/2),T=a===3?r==="lg"?4.0425:r==="sm"?5.1625:4.6325:r==="lg"?6.7875:r==="sm"?8.4875:7.6675,Q=(C-B+(k-E))/(a===3?1:2),P=parseFloat((b/T-Q/(4/3)).toFixed(2)),H=Math.max(0,n),I={cursor:p?"not-allowed":"pointer",height:`${Yh}px`,position:"relative",transition:`${H}s ${i}`,userSelect:"none",width:`${Yh}px`},L={background:t,height:`${B}px`,left:`${w}px`,position:"absolute"};s&&(I.outline="none"),u&&(L.borderRadius="9em");const R=()=>{const se=f!==void 0?f:y;return m&&!v?!se:se},V=h||g,Y=R();return c({barHeight:B,barStyles:L,burgerStyles:I,easing:i,handler:()=>{V(!Y),typeof l=="function"&&l(!Y)},isLeft:e==="left",isToggled:Y,label:o,margin:E,move:P,time:H,topOffset:M,width:b})};function f6(){return f6=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f6.apply(this,arguments)}const pbe=t=>be.createElement(fbe,f6({},t,{render:e=>be.createElement("div",{className:"hamburger-react","aria-label":e.label,"aria-expanded":e.isToggled,onClick:t.disabled?void 0:e.handler,onKeyUp:t.disabled?void 0:r=>r.key==="Enter"&&e.handler(),role:"button",style:{...e.burgerStyles,transform:`${e.isToggled?`rotate(${180*(e.isLeft?-1:1)}deg)`:"none"}`},tabIndex:0},be.createElement("div",{style:{...e.barStyles,width:`${e.width}px`,top:`${e.topOffset}px`,transition:`${e.time}s ${e.easing}`,transform:`${e.isToggled?`rotate(${45*(e.isLeft?-1:1)}deg) translate(${e.move*(e.isLeft?-1:1)}px, ${e.move}px)`:"none"}`}}),be.createElement("div",{style:{...e.barStyles,width:`${e.width}px`,top:`${e.topOffset+e.barHeight+e.margin}px`,transition:`${e.time}s ${e.easing}`,opacity:`${e.isToggled?"0":"1"}`}}),be.createElement("div",{style:{...e.barStyles,width:`${e.width}px`,top:`${e.topOffset+e.barHeight*2+e.margin*2}px`,transition:`${e.time}s ${e.easing}`,transform:`${e.isToggled?`rotate(${45*(e.isLeft?1:-1)}deg) translate(${e.move*(e.isLeft?-1:1)}px, ${e.move*-1}px)`:"none"}`}}))})),mbe=()=>{const t=Il(e=>e.auth.avatar_url);return dn(),d.jsx("header",{className:"flex w-full lg:w-[75%] items-center justify-center bg-white",children:d.jsxs("div",{className:"flex flex-row w-full p-4 leading-loose justify-between items-center",children:[d.jsx("div",{className:"justify-start text-start items-start ml-0 flex-1 max-w-md mx-auto",children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Search your book...",className:"w-full h-9 pl-4 pr-10 py-2 rounded-full bg-slate-100 text-gray-800 focus:outline-none focus:ring-2 focus:ring-[#6E37DC] transition-all","aria-label":"Search for a book"}),d.jsxs("span",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-[#6E37DC]",children:[d.jsx(Mse,{})," "]})]})}),d.jsx("div",{className:"flex items-center space-x-4",children:d.jsx("span",{className:"w-8 h-8 rounded-full overflow-hidden border-[0.25rem] border-slate-200",children:d.jsx("img",{src:t!=null?`${Zt}/images/${t}`:p8,alt:"Language Flag",className:"w-full h-full object-cover transition-all hover:border-[#6E37DC] focus:ring-2 focus:ring-[#6E37DC]","aria-label":"Selected language"})})})]})})};function gbe(t,e){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:e},t),S.createElement("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"}))}const Jh=S.forwardRef(gbe);function ybe(t,e){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:e},t),S.createElement("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"}))}const Zh=S.forwardRef(ybe);function vbe(t,e){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:e},t),S.createElement("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"}))}const xbe=S.forwardRef(vbe);function bbe(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 480L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l128 0c20.1 0 39.1 9.5 51.2 25.6l19.2 25.6c6 8.1 15.5 12.8 25.6 12.8l160 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64zM184 272c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0z"},child:[]}]})(t)}const wbe="/assets/TOOTY-COvuiu_1.png",Cbe=({setSideBarOpen:t,isSidebarOpen:e})=>{const r=Ze(),i=Fs().pathname,{logout:s}=dn(),[o]=nse(),a=u=>{r(`${u}`),t(!1)},{user:l}=dn();let c;return(l==null?void 0:l.role)===le.USER?c=[{name:"Home",path:"/",icon:d.jsx(Zh,{className:"h-5 w-5"})},{name:"Quiz",path:"/quiz",icon:d.jsx(bbe,{className:"h-5 w-5"})},{name:"Quiz History",path:"/quiz-history",icon:d.jsx(kse,{className:"h-5 w-5"})},{name:"Settings",path:"/settings",icon:d.jsx(Jh,{className:"h-5 w-5"})}]:(l==null?void 0:l.role)===le.TEACHER?c=[{name:"Home",path:"/teacher/",icon:d.jsx(Zh,{className:"h-5 w-5"})},{name:"Subjects",path:"/teacher/subject",icon:d.jsx(eM,{className:"h-5 w-5"})},{name:"Quiz",path:"/teacher/quiz",icon:d.jsx(Qse,{className:"h-5 w-5"})},{name:"Settings",path:"/teacher/settings",icon:d.jsx(Jh,{className:"h-5 w-5"})}]:(l==null?void 0:l.role)===le.ADMIN?c=[{name:"Home",path:"/admin",icon:d.jsx(Zh,{className:"h-5 w-5"})},{name:"Users",path:"/admin/users",icon:d.jsx(yn,{className:"h-5 w-5"})},{name:"Settings",path:"/admin/settings",icon:d.jsx(Jh,{className:"h-5 w-5"})}]:(l==null?void 0:l.role)===le.PARENT?c=[{name:"Children",path:"/parent/children",icon:d.jsx(eM,{className:"h-5 w-5"})}]:(l==null?void 0:l.role)===le.SUPER_ADMIN?c=[{name:"Home",path:"/admin",icon:d.jsx(Zh,{className:"h-5 w-5"})},{name:"All SuperIntendents",path:"/admin/users",icon:d.jsx(yn,{className:"h-5 w-5"})},{name:"All Districts",path:"/admin/districts",icon:d.jsx(Sse,{className:"h-5 w-5"})},{name:"All Levels",path:"/admin/levels",icon:d.jsx(eoe,{className:"h-5 w-5"})},{name:"All Subjects",path:"/admin/subjects",icon:d.jsx(Zse,{className:"h-5 w-5"})},{name:"All Files",path:"/admin/files",icon:d.jsx(Xy,{className:"h-5 w-5"})},{name:"All Bots",path:"/admin/bots",icon:d.jsx($i,{className:"h-5 w-5"})},{name:"All Voice Models",path:"/admin/deepgram-models",icon:d.jsx($i,{className:"h-5 w-5"})},{name:"WhiteBoard",path:"/admin/whiteboard",icon:d.jsx(tbe,{className:"h-5 w-5"})},{name:"Settings",path:"/admin/settings",icon:d.jsx(Jh,{className:"h-5 w-5"})}]:(l==null?void 0:l.role)===le.SUPER_INTENDENT&&(c=[{name:"Home",path:"/admin",icon:d.jsx(Zh,{className:"h-5 w-5"})},{name:"All Principals",path:"/admin/users",icon:d.jsx(yn,{className:"h-5 w-5"})},{name:"All Schools",path:"/admin/schools",icon:d.jsx(Eu,{className:"h-5 w-5"})},{name:"Settings",path:"/admin/settings",icon:d.jsx(Jh,{className:"h-5 w-5"})}]),d.jsxs(d.Fragment,{children:[e&&d.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>t(!1)}),d.jsx("div",{className:`fixed lg:relative inset-y-0 left-0 flex flex-col w-[280px] bg-purple-50 lg:w-[18vw] h-full bg-white transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"} z-50`,children:d.jsxs("div",{className:"flex flex-col h-full w-full items-center text-[#ABB5BA] shadow-slate-200 shadow-2xl",children:[d.jsx("div",{className:"flex items-center justify-center w-[60%] py-6",children:d.jsx("img",{src:wbe,alt:"Logo",className:"w-32 transition-all"})}),d.jsx("div",{className:"flex flex-col w-full items-center justify-between flex-1",children:d.jsxs("ul",{className:"w-[80%] space-y-2",children:[c.map(u=>{const A=i===u.path;return d.jsxs("li",{onClick:()=>a(u.path),className:`flex items-center space-x-4 p-2 cursor-pointer transition-all ${A?"bg-hover-gradient text-white rounded-md":"hover:bg-hover-gradient hover:rounded-md"} group`,children:[d.jsx("div",{className:`flex items-center text-purple-600 bg-transparent justify-center h-5 w-5 ${A?"text-purple-600 bg-white p-1 rounded-md":"group-hover:bg-white group-hover:p-1 group-hover:rounded-md"} transition-all duration-300`,children:u.icon}),d.jsx("span",{className:"block text-[14px] font-bold",children:u.name})]},u.name)}),d.jsxs("li",{onClick:()=>{o({refresh_token:localStorage.getItem("refreshToken")}),s(),r("/login")},className:"flex items-center space-x-4 mb-3 p-2 rounded-md cursor-pointer hover:bg-hover-gradient hover:text-white transition-all group",children:[d.jsx("div",{className:"flex items-center text-purple-600 bg-transparent justify-center h-5 w-5 group-hover:bg-white group-hover:p-1 group-hover:rounded-md transition-all",children:d.jsx(xbe,{className:"h-5 w-5"})}),d.jsx("span",{className:"block text-[14px] font-bold",children:"Logout"})]})]})})]})})]})},nA=()=>{const t=Fs();console.log("location",t.pathname);const[e,r]=S.useState(!1),[n,i]=S.useState(!0);return S.useEffect(()=>()=>console.log("un-mounting admin layout"),[]),d.jsxs("div",{className:"flex min-h-screen w-full overflow-hidden",children:[d.jsxs("div",{className:"flex w-[100vw] min-h-screen relative overflow-hidden",children:[t.pathname!=="/admin/whiteboard"&&d.jsx("div",{className:`
${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
transition-transform duration-300 ease-in-out
fixed
bg-white
w-full lg:w-[20%]
h-screen
top-0 left-0
z-[50] lg:z-10

`,children:d.jsx(Cbe,{setSideBarOpen:r,isSidebarOpen:e})}),d.jsxs("div",{className:` w-full ${t.pathname!=="/admin/whiteboard"?"lg:w-[80%] lg:ml-[20%]":""} min-h-screen`,children:[n&&t.pathname!=="/admin/whiteboard"&&d.jsx("div",{className:"fixed z-[35] flex w-full bg-white pl-[35px]",children:d.jsx(mbe,{})}),d.jsx("div",{className:` ${n&&t.pathname!=="/admin/whiteboard"?"mt-20":"mt-0"}  p-2  min-h-screen`,children:d.jsx(w$.Provider,{value:{showHeader:n,setShowHeader:i},children:d.jsx(GZ,{})})})]})]}),d.jsx("div",{className:"fixed top-2 left-0 bg-transparent z-[51] lg:hidden",children:d.jsx(pbe,{toggled:e,toggle:r,color:"#6F38DE",size:25})})]})},Bbe=()=>{var m,y;const t=Ze(),[e,r]=S.useState(1),[n,i]=S.useState(10),{data:s,isLoading:o,isError:a,error:l,refetch:c}=pk({page:e,limit:n});S.useEffect(()=>{c()},[]);const u=g=>{t(`/admin/districts/${g}`)},A=g=>d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(Rl,{icon:d.jsx(Ss,{size:16}),onClick:()=>u(g.id),tooltip:"Edit District",variant:"primary"})}),h=[{Header:"ID",accessor:"id"},{Header:"District",accessor:"district"},{Header:"Actions",accessor:"actions"}],f=(m=s==null?void 0:s.data)==null?void 0:m.map((g,v)=>({id:v+1,district:g.name,actions:A(g)})),p=(s==null?void 0:s.totalPages)||1;return d.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:d.jsx("div",{className:"max-w-7xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[d.jsx("div",{className:"p-6 border-b border-gray-200",children:d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Districts"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all districts in the system"})]}),d.jsxs(Tr,{onClick:()=>t("/admin/districts/create"),className:"self-stretch sm:self-auto",children:[d.jsx(Hd,{}),d.jsx("span",{children:"Create District"})]})]})}),d.jsx("div",{className:"p-6",children:o?d.jsxs("div",{className:"flex justify-center items-center",children:[d.jsx(ir,{className:"inline animate-spin text-[#6925EF]"}),d.jsx("span",{className:"text-gray-600 ml-2",children:"Loading districts..."})]}):a?d.jsxs("div",{className:"text-red-500",children:["Error loading districts: ",((y=l==null?void 0:l.data)==null?void 0:y.message)||"Unknown error"]}):d.jsx("div",{className:"overflow-x-auto",children:d.jsx(nc,{columns:h,data:f,currentPage:e,totalPages:p,limit:n,onPageChange:r,onLimitChange:g=>{i(g),r(1)},emptyStateMessage:"No districts found."})})})]})})})},_be=go().shape({name:Re().required("District name is required").min(3,"Name must be at least 3 characters")}),Sbe=()=>{const{register:t,handleSubmit:e,formState:{errors:r,isSubmitting:n},reset:i}=ga({resolver:ya(_be)}),s=Ze(),[o]=dpe(),a=async l=>{var c;try{const u=await o({name:l.name}).unwrap();(u==null?void 0:u.statusCode)===200?($.success("District created successfully"),i(),s("/admin/districts")):$.error((u==null?void 0:u.message)||"Failed to create district")}catch(u){$.error(((c=u==null?void 0:u.data)==null?void 0:c.message)||"Failed to create district")}};return d.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:d.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[d.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[d.jsx(v5,{className:"text-[#6925EF] w-6 h-6"}),"Create New District"]}),d.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Add a new district to the system with a unique name."})]}),d.jsxs("form",{onSubmit:e(a),className:"px-6 py-8",children:[d.jsx("div",{className:"grid grid-cols-1 gap-6",children:d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(v5,{className:"text-[#6925EF] w-4 h-4"}),"District Name"]}),d.jsx("input",{type:"text",...t("name"),placeholder:"Enter district name",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.name?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.name&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name.message})]})}),d.jsx("div",{className:"mt-8 flex justify-end",children:d.jsx(Tr,{className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50",type:"submit",disabled:n,children:n?"Creating...":d.jsxs(d.Fragment,{children:[d.jsx(u0,{className:"w-4 h-4"}),"Create District"]})})})]})]})})},kbe=go().shape({name:Re().required("District name is required").min(3,"Name must be at least 3 characters")}),Ebe=()=>{var f;const{district_id:t}=dr();Ze();const{data:e,isLoading:r,isError:n,error:i,refetch:s}=fpe(Number(t)),[o,{isLoading:a}]=hpe();S.useEffect(()=>{s()},[]);const{register:l,handleSubmit:c,setValue:u,formState:{errors:A}}=ga({resolver:ya(kbe)});S.useEffect(()=>{e!=null&&e.data&&u("name",e.data.name)},[e,u]);const h=async p=>{var m;try{const y=await o({id:Number(t),name:p.name}).unwrap();(y==null?void 0:y.statusCode)===200?($.success("District updated successfully"),s()):$.error((y==null?void 0:y.message)||"Failed to update district")}catch(y){$.error(((m=y==null?void 0:y.data)==null?void 0:m.message)||"Failed to update district")}};return r?d.jsxs("div",{className:"flex justify-center items-center min-h-screen",children:[d.jsx(ir,{className:"inline animate-spin text-[#6925EF]"}),d.jsx("span",{className:"text-gray-600 ml-2",children:"Loading district details..."})]}):n?d.jsxs("div",{className:"text-red-500 text-center mt-10",children:["Error loading district: ",((f=i==null?void 0:i.data)==null?void 0:f.message)||"Unknown error"]}):d.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:d.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[d.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[d.jsx(Ss,{className:"text-[#6925EF] w-6 h-6"}),"Edit District"]}),d.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update the district name."})]}),d.jsxs("form",{onSubmit:c(h),className:"px-6 py-8",children:[d.jsx("div",{className:"grid grid-cols-1 gap-6",children:d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[d.jsx(v5,{className:"text-[#6925EF] w-4 h-4"}),"District Name"]}),d.jsx("input",{type:"text",...l("name"),placeholder:"Enter district name",className:`mt-1 block w-full px-4 py-2 bg-white border ${A.name?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),A.name&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:A.name.message})]})}),d.jsx("div",{className:"mt-8 flex justify-end",children:d.jsxs(Tr,{className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50",type:"submit",disabled:a,children:[d.jsx(dh,{className:"w-5 h-5 mr-2"})," ",a?"Updating...":"Update District"]})})]})]})})},Fbe=({quiz:t})=>d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border border-gray-100",children:[d.jsxs("div",{className:"border-b border-gray-100 pb-4 mb-4",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t.quiz.title}),d.jsx("p",{className:"text-gray-600",children:t.quiz.description})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"Start Time:"}),d.jsx("br",{}),new Date(t.quiz.start_time).toLocaleString()]}),d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"Duration:"}),d.jsx("br",{}),t.quiz.duration," minutes"]}),d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"Total Score:"}),d.jsx("br",{}),t.quiz.total_score||"N/A"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"End Time:"}),d.jsx("br",{}),new Date(t.quiz.end_time).toLocaleString()]}),d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"Obtained Score:"}),d.jsx("br",{}),t.obtained_score]}),d.jsxs("p",{className:"text-gray-600",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:"Status:"}),d.jsx("br",{}),d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.marked?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.marked?"Marked":"Pending"})]})]})]})]}),Mbe=()=>{var s,o;const{user:t}=dn(),{data:e,isLoading:r,isError:n,refetch:i}=Nue({skip:!(t!=null&&t.id)});return S.useEffect(()=>{t&&i()},[t]),r?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):n?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:d.jsx("div",{className:"text-red-500 text-lg font-medium",children:"Error loading Quiz History"})}):d.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:d.jsx("div",{className:"max-w-5xl mx-auto space-y-8",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-6 py-8 border border-gray-100",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Quiz History"}),((s=e==null?void 0:e.data)==null?void 0:s.length)>0?d.jsx("div",{className:"space-y-6",children:(o=e==null?void 0:e.data)==null?void 0:o.map(a=>d.jsx(Fbe,{quiz:a},a.id))}):d.jsx("p",{className:"text-gray-500 italic",children:"No quizzes attempted yet"})]})})})};class Tbe{static async GetFiles(){const e=await et.get(`${Zt}/context-data/files-by-user`,{headers:{token:localStorage.getItem("accessToken")}});return console.log("res get files",e),e}static async CreateFile(e,r){const n={"Content-Type":"multipart/form-data",token:localStorage.getItem("accessToken")};return JS((i,s,o)=>et.post(i,s,o),e,`${Zt}/context-data/upload`,n,r)}static async DeleteFile(e){const r=await et.post(`${Zt}/context-data/delete`,e,{Headers:{"Content-Type":"applicaiton/json"},headers:{token:localStorage.getItem("accessToken")}});return console.log("res signin",r),r}static async UpdatePassword(e){const r=await et.post(`${Zt}/auth/update-password`,e,{Headers:{"Content-Type":"applicaiton/json"},headers:{token:localStorage.getItem("accessToken")}});return console.log("res update password",r),r}}const Dbe=()=>{var k;const t=n0(),[e,r]=S.useState(null),[n,i]=S.useState(""),[s,o]=S.useState(""),[a,l]=S.useState("idle"),[c,u]=S.useState(""),[A,h]=S.useState(!1),[f,p]=S.useState(0),[m,y]=S.useState(),{data:g,isLoading:v,isError:x,refetch:b}=C$({});S.useEffect(()=>{b()},[]);const w=E=>E.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"")+Date.now();S.useEffect(()=>{if(s){const E=w(s);i(E)}},[s]);const C=E=>{var M;const F=(M=E.target.files)==null?void 0:M[0];F&&F.type==="application/pdf"?(r(F),o(F.name),l("idle"),u("")):(u("Please upload a PDF file."),l("error"))},B=async E=>{var F,M,T,Q;E.preventDefault(),h(!0),l("uploading"),p(0);try{const P=new FormData;P.append("file",e),P.append("file_name",s),P.append("slug",n),P.append("subject_id",m);const H=await Tbe.CreateFile(P,t,{onUploadProgress:L=>{const R=Math.round(L.loaded*50/L.total);p(R)}}),I=new EventSource(`${Zt}/context-data/upload-progress`);I.onmessage=L=>{const R=JSON.parse(L.data),V=50+Math.round((R==null?void 0:R.progress)*50/100);p(V),(R==null?void 0:R.progress)===100&&(p(100),h(!1),l("success"),I.close(),$.success("File uploaded and processed successfully!")),(R.error||(R==null?void 0:R.progress)===-1)&&(p(-1),$.error(`Error: ${R.error||"Failed to upload file"}`),I.close(),h(!1),l("error"),u(R.error||"Failed to upload file"))},I.onerror=L=>{console.log("Error receiving upload progress:",L),p(-1),$.error("An error occurred while receiving progress updates."),I.close(),h(!1),l("error"),u("Failed to receive progress updates.")}}catch(P){console.error("Error during file upload:",P),p(-1),h(!1),l("error"),u(((M=(F=P.response)==null?void 0:F.data)==null?void 0:M.message)||"An error occurred while uploading the file."),$.error(((Q=(T=P.response)==null?void 0:T.data)==null?void 0:Q.message)||"An error occurred while uploading the file.")}},_=()=>{r(null),o(""),i(""),l("idle"),u(""),p(0)};return d.jsx("div",{className:"min-h-screen",children:d.jsx("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:d.jsx(Jt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[d.jsx("div",{className:"border-b border-gray-200 px-6 py-4 bg-gray-50",children:d.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[d.jsx(Xy,{className:"text-[#6F38DE]"}),"Upload File"]})}),d.jsxs("form",{onSubmit:B,className:"p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2 mb-1",children:"Subject"}),v?d.jsx("div",{className:"flex items-center",children:d.jsx("span",{children:"Loading Subjects..."})}):x?d.jsx("p",{className:"text-red-500 text-sm",children:"Failed to load Subjects."}):d.jsxs("select",{value:m,onChange:E=>y(E.target.value),className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]",children:[d.jsx("option",{value:"",children:"Select a Subject"}),(k=g==null?void 0:g.data)==null?void 0:k.map(E=>d.jsxs("option",{value:E.id,children:[E.title," - ",E.level.level]},E==null?void 0:E.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Choose File (PDF only)"}),d.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg",children:d.jsxs("div",{className:"space-y-1 text-center",children:[d.jsx(Xy,{className:"mx-auto h-12 w-12 text-gray-400"}),d.jsxs("div",{className:"flex text-sm text-gray-600",children:[d.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md font-medium text-[#6F38DE] hover:text-[#5C2EBA]",children:[d.jsx("span",{children:"Upload a file"}),d.jsx("input",{id:"file-upload",type:"file",onChange:C,accept:"application/pdf",className:"sr-only"})]}),d.jsx("p",{className:"pl-1",children:"or drag and drop"})]})]})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"File Name"}),d.jsx("input",{type:"text",value:s,onChange:E=>o(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-customButtonEnd"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Slug"}),d.jsx("input",{type:"text",value:n,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-customButtonEnd"})]}),e&&d.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(hs,{className:"text-[#6F38DE]"}),d.jsx("span",{className:"text-sm font-medium",children:e.name})]}),d.jsx("button",{type:"button",onClick:()=>r(null),className:"text-gray-400 hover:text-red-500",children:d.jsx(Dse,{})})]})}),(a==="error"||f===-1)&&d.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:d.jsx("p",{className:"text-sm text-red-600",children:c||"Failed to upload file"})}),a==="success"&&d.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:d.jsx("p",{className:"text-sm text-green-600",children:"File uploaded successfully!"})}),a==="uploading"&&f!==-1&&d.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full mt-4",children:d.jsx("div",{className:"h-2 bg-[#6F38DE] rounded-full",style:{width:`${f}%`}})}),d.jsx("div",{className:"flex justify-end gap-4 pt-4",children:a==="success"?d.jsx("button",{type:"button",onClick:_,className:"px-6 py-3 bg-[#6F38DE] text-white rounded-lg hover:bg-[#5C2EBA]",children:"Upload Another"}):d.jsx("button",{type:"submit",disabled:!e||A||a==="uploading"&&f<100,className:`px-6 py-3 rounded-lg text-white flex items-center gap-2
                      ${!e||A||a==="uploading"&&f<100?"bg-gray-400 cursor-not-allowed":"bg-[#6F38DE] hover:bg-[#5C2EBA]"}`,children:A?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Uploading..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Xy,{}),"Upload File"]})})})]})]})})})})};function j(t,e,r){return(e=function(n){var i=function(s,o){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var l=a.call(s,o||"default");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(s)}(n,"string");return typeof i=="symbol"?i:i+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function U(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LD(Object(r),!0).forEach(function(n){j(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lt(t,e){if(t==null)return{};var r,n,i=function(o,a){if(o==null)return{};var l={};for(var c in o)if({}.hasOwnProperty.call(o,c)){if(a.indexOf(c)>=0)continue;l[c]=o[c]}return l}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function sc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}class jD{constructor(){j(this,"browserShadowBlurConstant",1),j(this,"DPI",96),j(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),j(this,"perfLimitSizeTotal",2097152),j(this,"maxCacheSideLimit",4096),j(this,"minCacheSideLimit",256),j(this,"disableStyleCopyPaste",!1),j(this,"enableGLFiltering",!0),j(this,"textureSize",4096),j(this,"forceGLPutImageData",!1),j(this,"cachesBoundsOfCurve",!1),j(this,"fontPaths",{}),j(this,"NUM_FRACTION_DIGITS",4)}}const Je=new class extends jD{constructor(t){super(),this.configure(t)}configure(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,t)}addFonts(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=U(U({},this.fontPaths),t)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(t=>{delete this.fontPaths[t]})}clearFonts(){this.fontPaths={}}restoreDefaults(t){const e=new jD,r=(t==null?void 0:t.reduce((n,i)=>(n[i]=e[i],n),{}))||e;this.configure(r)}},Vl=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return console[t]("fabric",...r)};class to extends Error{constructor(e,r){super("fabric: ".concat(e),r)}}class Lbe extends to{constructor(e){super("".concat(e," 'options.signal' is in 'aborted' state"))}}class jbe{}let Obe=class extends jbe{testPrecision(e,r){const n="precision ".concat(r,` float;
void main(){}`),i=e.createShader(e.FRAGMENT_SHADER);return!!i&&(e.shaderSource(i,n),e.compileShader(i),!!e.getShaderParameter(i,e.COMPILE_STATUS))}queryWebGL(e){const r=e.getContext("webgl");r&&(this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(n=>this.testPrecision(r,n)),r.getExtension("WEBGL_lose_context").loseContext(),Vl("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}};const Nbe={};let OD;const fo=()=>OD||(OD={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new Obe,dispose(){},copyPasteData:Nbe}),gh=()=>fo().document,Vk=()=>fo().window,nz=()=>{var t;return Math.max((t=Je.devicePixelRatio)!==null&&t!==void 0?t:Vk().devicePixelRatio,1)},Ep=new class{constructor(){j(this,"charWidthsCache",{}),j(this,"boundsOfCurveCache",{})}getFontCache(t){let{fontFamily:e,fontStyle:r,fontWeight:n}=t;e=e.toLowerCase(),this.charWidthsCache[e]||(this.charWidthsCache[e]={});const i=this.charWidthsCache[e],s="".concat(r.toLowerCase(),"_").concat((n+"").toLowerCase());return i[s]||(i[s]={}),i[s]}clearFontCache(t){(t=(t||"").toLowerCase())?this.charWidthsCache[t]&&delete this.charWidthsCache[t]:this.charWidthsCache={}}limitDimsByArea(t){const{perfLimitSizeTotal:e}=Je,r=Math.sqrt(e*t);return[Math.floor(r),Math.floor(e/r)]}},p6="6.6.1";function Fv(){}const b0=Math.PI/2,db=2*Math.PI,Kk=Math.PI/180,_n=Object.freeze([1,0,0,1,0,0]),zk=16,ka=.4477152502,Ue="center",lt="left",zn="top",m6="bottom",Xt="right",Wn="none",Wk=/\r?\n/,iz="moving",cw="scaling",sz="rotating",Gk="rotate",oz="skewing",Lm="resizing",Ibe="modifyPoly",Ube="modifyPath",hb="changed",uw="scale",Jn="scaleX",Wi="scaleY",yh="skewX",vh="skewY",xr="fill",Gn="stroke",fb="modified",iA="json",_3="svg",we=new class{constructor(){this[iA]=new Map,this[_3]=new Map}has(t){return this[iA].has(t)}getClass(t){const e=this[iA].get(t);if(!e)throw new to("No class registered for ".concat(t));return e}setClass(t,e){e?this[iA].set(e,t):(this[iA].set(t.type,t),this[iA].set(t.type.toLowerCase(),t))}getSVGClass(t){return this[_3].get(t)}setSVGClass(t,e){this[_3].set(e??t.type.toLowerCase(),t)}},pb=new class extends Array{remove(t){const e=this.indexOf(t);e>-1&&this.splice(e,1)}cancelAll(){const t=this.splice(0);return t.forEach(e=>e.abort()),t}cancelByCanvas(t){if(!t)return[];const e=this.filter(r=>{var n;return r.target===t||typeof r.target=="object"&&((n=r.target)===null||n===void 0?void 0:n.canvas)===t});return e.forEach(r=>r.abort()),e}cancelByTarget(t){if(!t)return[];const e=this.filter(r=>r.target===t);return e.forEach(r=>r.abort()),e}};let Pbe=class{constructor(){j(this,"__eventListeners",{})}on(e,r){if(this.__eventListeners||(this.__eventListeners={}),typeof e=="object")return Object.entries(e).forEach(n=>{let[i,s]=n;this.on(i,s)}),()=>this.off(e);if(r){const n=e;return this.__eventListeners[n]||(this.__eventListeners[n]=[]),this.__eventListeners[n].push(r),()=>this.off(n,r)}return()=>!1}once(e,r){if(typeof e=="object"){const n=[];return Object.entries(e).forEach(i=>{let[s,o]=i;n.push(this.once(s,o))}),()=>n.forEach(i=>i())}if(r){const n=this.on(e,function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];r.call(this,...s),n()});return n}return()=>!1}_removeEventListener(e,r){if(this.__eventListeners[e])if(r){const n=this.__eventListeners[e],i=n.indexOf(r);i>-1&&n.splice(i,1)}else this.__eventListeners[e]=[]}off(e,r){if(this.__eventListeners)if(e===void 0)for(const n in this.__eventListeners)this._removeEventListener(n);else typeof e=="object"?Object.entries(e).forEach(n=>{let[i,s]=n;this._removeEventListener(i,s)}):this._removeEventListener(e,r)}fire(e,r){var n;if(!this.__eventListeners)return;const i=(n=this.__eventListeners[e])===null||n===void 0?void 0:n.concat();if(i)for(let s=0;s<i.length;s++)i[s].call(this,r||{})}};const FA=(t,e)=>{const r=t.indexOf(e);return r!==-1&&t.splice(r,1),t},Aa=t=>{if(t===0)return 1;switch(Math.abs(t)/b0){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},da=t=>{if(t===0)return 0;const e=t/b0,r=Math.sign(t);switch(e){case 1:return r;case 2:return 0;case 3:return-r}return Math.sin(t)};let Z=class pn{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof e=="object"?(this.x=e.x,this.y=e.y):(this.x=e,this.y=r)}add(e){return new pn(this.x+e.x,this.y+e.y)}addEquals(e){return this.x+=e.x,this.y+=e.y,this}scalarAdd(e){return new pn(this.x+e,this.y+e)}scalarAddEquals(e){return this.x+=e,this.y+=e,this}subtract(e){return new pn(this.x-e.x,this.y-e.y)}subtractEquals(e){return this.x-=e.x,this.y-=e.y,this}scalarSubtract(e){return new pn(this.x-e,this.y-e)}scalarSubtractEquals(e){return this.x-=e,this.y-=e,this}multiply(e){return new pn(this.x*e.x,this.y*e.y)}scalarMultiply(e){return new pn(this.x*e,this.y*e)}scalarMultiplyEquals(e){return this.x*=e,this.y*=e,this}divide(e){return new pn(this.x/e.x,this.y/e.y)}scalarDivide(e){return new pn(this.x/e,this.y/e)}scalarDivideEquals(e){return this.x/=e,this.y/=e,this}eq(e){return this.x===e.x&&this.y===e.y}lt(e){return this.x<e.x&&this.y<e.y}lte(e){return this.x<=e.x&&this.y<=e.y}gt(e){return this.x>e.x&&this.y>e.y}gte(e){return this.x>=e.x&&this.y>=e.y}lerp(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return r=Math.max(Math.min(1,r),0),new pn(this.x+(e.x-this.x)*r,this.y+(e.y-this.y)*r)}distanceFrom(e){const r=this.x-e.x,n=this.y-e.y;return Math.sqrt(r*r+n*n)}midPointFrom(e){return this.lerp(e)}min(e){return new pn(Math.min(this.x,e.x),Math.min(this.y,e.y))}max(e){return new pn(Math.max(this.x,e.x),Math.max(this.y,e.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(e,r){return this.x=e,this.y=r,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setFromPoint(e){return this.x=e.x,this.y=e.y,this}swap(e){const r=this.x,n=this.y;this.x=e.x,this.y=e.y,e.x=r,e.y=n}clone(){return new pn(this.x,this.y)}rotate(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qk;const n=da(e),i=Aa(e),s=this.subtract(r);return new pn(s.x*i-s.y*n,s.x*n+s.y*i).add(r)}transform(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new pn(e[0]*this.x+e[2]*this.y+(r?0:e[4]),e[1]*this.x+e[3]*this.y+(r?0:e[5]))}};const qk=new Z(0,0),Mv=t=>!!t&&Array.isArray(t._objects);function az(t){class e extends t{constructor(){super(...arguments),j(this,"_objects",[])}_onObjectAdded(n){}_onObjectRemoved(n){}_onStackOrderChanged(n){}add(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];const o=this._objects.push(...i);return i.forEach(a=>this._onObjectAdded(a)),o}insertAt(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return this._objects.splice(n,0,...s),s.forEach(a=>this._onObjectAdded(a)),this._objects.length}remove(){const n=this._objects,i=[];for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return o.forEach(l=>{const c=n.indexOf(l);c!==-1&&(n.splice(c,1),i.push(l),this._onObjectRemoved(l))}),i}forEachObject(n){this.getObjects().forEach((i,s,o)=>n(i,s,o))}getObjects(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return i.length===0?[...this._objects]:this._objects.filter(o=>o.isType(...i))}item(n){return this._objects[n]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(n,i){return!!this._objects.includes(n)||!!i&&this._objects.some(s=>s instanceof e&&s.contains(n,!0))}complexity(){return this._objects.reduce((n,i)=>n+=i.complexity?i.complexity():0,0)}sendObjectToBack(n){return!(!n||n===this._objects[0])&&(FA(this._objects,n),this._objects.unshift(n),this._onStackOrderChanged(n),!0)}bringObjectToFront(n){return!(!n||n===this._objects[this._objects.length-1])&&(FA(this._objects,n),this._objects.push(n),this._onStackOrderChanged(n),!0)}sendObjectBackwards(n,i){if(!n)return!1;const s=this._objects.indexOf(n);if(s!==0){const o=this.findNewLowerIndex(n,s,i);return FA(this._objects,n),this._objects.splice(o,0,n),this._onStackOrderChanged(n),!0}return!1}bringObjectForward(n,i){if(!n)return!1;const s=this._objects.indexOf(n);if(s!==this._objects.length-1){const o=this.findNewUpperIndex(n,s,i);return FA(this._objects,n),this._objects.splice(o,0,n),this._onStackOrderChanged(n),!0}return!1}moveObjectTo(n,i){return n!==this._objects[i]&&(FA(this._objects,n),this._objects.splice(i,0,n),this._onStackOrderChanged(n),!0)}findNewLowerIndex(n,i,s){let o;if(s){o=i;for(let a=i-1;a>=0;--a)if(n.isOverlapping(this._objects[a])){o=a;break}}else o=i-1;return o}findNewUpperIndex(n,i,s){let o;if(s){o=i;for(let a=i+1;a<this._objects.length;++a)if(n.isOverlapping(this._objects[a])){o=a;break}}else o=i+1;return o}collectObjects(n){let{left:i,top:s,width:o,height:a}=n,{includeIntersecting:l=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const c=[],u=new Z(i,s),A=u.add(new Z(o,a));for(let h=this._objects.length-1;h>=0;h--){const f=this._objects[h];f.selectable&&f.visible&&(l&&f.intersectsWithRect(u,A)||f.isContainedWithinRect(u,A)||l&&f.containsPoint(u)||l&&f.containsPoint(A))&&c.push(f)}return c}}return e}let lz=class extends Pbe{_setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const r in e)this.set(r,e[r])}_setObject(e){for(const r in e)this._set(r,e[r])}set(e,r){return typeof e=="object"?this._setObject(e):this._set(e,r),this}_set(e,r){this[e]=r}toggle(e){const r=this.get(e);return typeof r=="boolean"&&this.set(e,!r),this}get(e){return this[e]}};function Tv(t){return Vk().requestAnimationFrame(t)}function Qbe(t){return Vk().cancelAnimationFrame(t)}let Rbe=0;const Kl=()=>Rbe++,ks=()=>{const t=gh().createElement("canvas");if(!t||t.getContext===void 0)throw new to("Failed to create `canvas` element");return t},Hbe=()=>gh().createElement("img"),po=t=>{const e=ks();return e.width=t.width,e.height=t.height,e},cz=(t,e,r)=>t.toDataURL("image/".concat(e),r),uz=(t,e,r)=>new Promise((n,i)=>{t.toBlob(n,"image/".concat(e),r)}),tr=t=>t*Kk,Du=t=>t/Kk,$be=t=>t.every((e,r)=>e===_n[r]),Nn=(t,e,r)=>new Z(t).transform(e,r),ps=t=>{const e=1/(t[0]*t[3]-t[1]*t[2]),r=[e*t[3],-e*t[1],-e*t[2],e*t[0],0,0],{x:n,y:i}=new Z(t[4],t[5]).transform(r,!0);return r[4]=-n,r[5]=-i,r},Hr=(t,e,r)=>[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],r?0:t[0]*e[4]+t[2]*e[5]+t[4],r?0:t[1]*e[4]+t[3]*e[5]+t[5]],Xk=(t,e)=>t.reduceRight((r,n)=>n&&r?Hr(n,r,e):n||r,void 0)||_n.concat(),Az=t=>{let[e,r]=t;return Math.atan2(r,e)},mb=t=>{const e=Az(t),r=Math.pow(t[0],2)+Math.pow(t[1],2),n=Math.sqrt(r),i=(t[0]*t[3]-t[2]*t[1])/n,s=Math.atan2(t[0]*t[2]+t[1]*t[3],r);return{angle:Du(e),scaleX:n,scaleY:i,skewX:Du(s),skewY:0,translateX:t[4]||0,translateY:t[5]||0}},w0=function(t){return[1,0,0,1,t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function C0(){let{angle:t=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:e=0,y:r=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=tr(t),i=Aa(n),s=da(n);return[i,s,-s,i,e?e-(i*e-s*r):0,r?r-(s*e+i*r):0]}const Yk=function(t){return[t,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,0,0]},dz=t=>Math.tan(tr(t)),hz=t=>[1,0,dz(t),1,0,0],fz=t=>[1,dz(t),0,1,0,0],Aw=t=>{let{scaleX:e=1,scaleY:r=1,flipX:n=!1,flipY:i=!1,skewX:s=0,skewY:o=0}=t,a=Yk(n?-e:e,i?-r:r);return s&&(a=Hr(a,hz(s),!0)),o&&(a=Hr(a,fz(o),!0)),a},Vbe=t=>{const{translateX:e=0,translateY:r=0,angle:n=0}=t;let i=w0(e,r);n&&(i=Hr(i,C0({angle:n})));const s=Aw(t);return $be(s)||(i=Hr(i,s)),i},Dv=function(t){let{signal:e,crossOrigin:r=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(n,i){if(e&&e.aborted)return i(new Lbe("loadImage"));const s=Hbe();let o;e&&(o=function(l){s.src="",i(l)},e.addEventListener("abort",o,{once:!0}));const a=function(){s.onload=s.onerror=null,o&&(e==null||e.removeEventListener("abort",o)),n(s)};t?(s.onload=a,s.onerror=function(){o&&(e==null||e.removeEventListener("abort",o)),i(new to("Error loading ".concat(s.src)))},r&&(s.crossOrigin=r),s.src=t):a()})},jm=function(t){let{signal:e,reviver:r=Fv}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((n,i)=>{const s=[];e&&e.addEventListener("abort",i,{once:!0}),Promise.all(t.map(o=>we.getClass(o.type).fromObject(o,{signal:e}).then(a=>(r(o,a),s.push(a),a)))).then(n).catch(o=>{s.forEach(a=>{a.dispose&&a.dispose()}),i(o)}).finally(()=>{e&&e.removeEventListener("abort",i)})})},dw=function(t){let{signal:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((r,n)=>{const i=[];e&&e.addEventListener("abort",n,{once:!0});const s=Object.values(t).map(a=>a&&a.type&&we.has(a.type)?jm([a],{signal:e}).then(l=>{let[c]=l;return i.push(c),c}):a),o=Object.keys(t);Promise.all(s).then(a=>a.reduce((l,c,u)=>(l[o[u]]=c,l),{})).then(r).catch(a=>{i.forEach(l=>{l.dispose&&l.dispose()}),n(a)}).finally(()=>{e&&e.removeEventListener("abort",n)})})},xh=function(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((e,r)=>(r in t&&(e[r]=t[r]),e),{})},Jk=(t,e)=>Object.keys(t).reduce((r,n)=>(e(t[n],n,t)&&(r[n]=t[n]),r),{}),ND={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},S3=(t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t),ID=(t,e,r,n)=>{t/=255,e/=255,r/=255;const i=Math.max(t,e,r),s=Math.min(t,e,r);let o,a;const l=(i+s)/2;if(i===s)o=a=0;else{const c=i-s;switch(a=l>.5?c/(2-i-s):c/(i+s),i){case t:o=(e-r)/c+(e<r?6:0);break;case e:o=(r-t)/c+2;break;case r:o=(t-e)/c+4}o/=6}return[Math.round(360*o),Math.round(100*a),Math.round(100*l),n]},UD=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(t)/(t.endsWith("%")?100:1)},Eg=t=>Math.min(Math.round(t),255).toString(16).toUpperCase().padStart(2,"0"),PD=t=>{let[e,r,n,i=1]=t;const s=Math.round(.3*e+.59*r+.11*n);return[s,s,s,i]};let Zn=class Jr{constructor(e){if(j(this,"isUnrecognised",!1),e)if(e instanceof Jr)this.setSource([...e._source]);else if(Array.isArray(e)){const[r,n,i,s=1]=e;this.setSource([r,n,i,s])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(e){return(e=e.toLowerCase())in ND&&(e=ND[e]),e==="transparent"?[255,255,255,0]:Jr.sourceFromHex(e)||Jr.sourceFromRgb(e)||Jr.sourceFromHsl(e)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(e){this._source=e}toRgb(){const[e,r,n]=this.getSource();return"rgb(".concat(e,",").concat(r,",").concat(n,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[e,r,n]=ID(...this.getSource());return"hsl(".concat(e,",").concat(r,"%,").concat(n,"%)")}toHsla(){const[e,r,n,i]=ID(...this.getSource());return"hsla(".concat(e,",").concat(r,"%,").concat(n,"%,").concat(i,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[e,r,n,i]=this.getSource();return"".concat(Eg(e)).concat(Eg(r)).concat(Eg(n)).concat(Eg(Math.round(255*i)))}getAlpha(){return this.getSource()[3]}setAlpha(e){return this._source[3]=e,this}toGrayscale(){return this.setSource(PD(this.getSource())),this}toBlackWhite(e){const[r,,,n]=PD(this.getSource()),i=r<(e||127)?0:255;return this.setSource([i,i,i,n]),this}overlayWith(e){e instanceof Jr||(e=new Jr(e));const r=this.getSource(),n=e.getSource(),[i,s,o]=r.map((a,l)=>Math.round(.5*a+.5*n[l]));return this.setSource([i,s,o,r[3]]),this}static fromRgb(e){return Jr.fromRgba(e)}static fromRgba(e){return new Jr(Jr.sourceFromRgb(e))}static sourceFromRgb(e){const r=e.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(r){const[n,i,s]=r.slice(1,4).map(o=>{const a=parseFloat(o);return o.endsWith("%")?Math.round(2.55*a):a});return[n,i,s,UD(r[4])]}}static fromHsl(e){return Jr.fromHsla(e)}static fromHsla(e){return new Jr(Jr.sourceFromHsl(e))}static sourceFromHsl(e){const r=e.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!r)return;const n=(Jr.parseAngletoDegrees(r[1])%360+360)%360/360,i=parseFloat(r[2])/100,s=parseFloat(r[3])/100;let o,a,l;if(i===0)o=a=l=s;else{const c=s<=.5?s*(i+1):s+i-s*i,u=2*s-c;o=S3(u,c,n+1/3),a=S3(u,c,n),l=S3(u,c,n-1/3)}return[Math.round(255*o),Math.round(255*a),Math.round(255*l),UD(r[4])]}static fromHex(e){return new Jr(Jr.sourceFromHex(e))}static sourceFromHex(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const r=e.slice(e.indexOf("#")+1);let n;n=r.length<=4?r.split("").map(l=>l+l):r.match(/.{2}/g);const[i,s,o,a=255]=n.map(l=>parseInt(l,16));return[i,s,o,a/255]}}static parseAngletoDegrees(e){const r=e.toLowerCase(),n=parseFloat(r);return r.includes("rad")?Du(n):r.includes("turn")?360*n:n}};const It=(t,e)=>parseFloat(Number(t).toFixed(e)),wd=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zk;const r=/\D{0,2}$/.exec(t),n=parseFloat(t),i=Je.DPI;switch(r==null?void 0:r[0]){case"mm":return n*i/25.4;case"cm":return n*i/2.54;case"in":return n*i;case"pt":return n*i/72;case"pc":return n*i/72*12;case"em":return n*e;default:return n}},Kbe=t=>{const[e,r]=t.trim().split(" "),[n,i]=(s=e)&&s!==Wn?[s.slice(1,4),s.slice(5,8)]:s===Wn?[s,s]:["Mid","Mid"];var s;return{meetOrSlice:r||"meet",alignX:n,alignY:i}},gb=t=>"matrix("+t.map(e=>It(e,Je.NUM_FRACTION_DIGITS)).join(" ")+")",Om=function(t,e){let r,n,i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e)if(e.toLive)r="url(#SVGID_".concat(e.id,")");else{const s=new Zn(e),o=s.getAlpha();r=s.toRgb(),o!==1&&(n=o.toString())}else r="none";return i?"".concat(t,": ").concat(r,"; ").concat(n?"".concat(t,"-opacity: ").concat(n,"; "):""):"".concat(t,'="').concat(r,'" ').concat(n?"".concat(t,'-opacity="').concat(n,'" '):"")},Ui=t=>!!t&&t.toLive!==void 0,QD=t=>!!t&&typeof t.toObject=="function",RD=t=>!!t&&t.offsetX!==void 0&&"source"in t,Qc=t=>!!t&&"multiSelectionStacking"in t;function pz(t){const e=t&&As(t);let r=0,n=0;if(!t||!e)return{left:r,top:n};let i=t;const s=e.documentElement,o=e.body||{scrollLeft:0,scrollTop:0};for(;i&&(i.parentNode||i.host)&&(i=i.parentNode||i.host,i===e?(r=o.scrollLeft||s.scrollLeft||0,n=o.scrollTop||s.scrollTop||0):(r+=i.scrollLeft||0,n+=i.scrollTop||0),i.nodeType!==1||i.style.position!=="fixed"););return{left:r,top:n}}const As=t=>t.ownerDocument||null,mz=t=>{var e;return((e=t.ownerDocument)===null||e===void 0?void 0:e.defaultView)||null},gz=function(t,e,r){let{width:n,height:i}=r,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;t.width=n,t.height=i,s>1&&(t.setAttribute("width",(n*s).toString()),t.setAttribute("height",(i*s).toString()),e.scale(s,s))},g6=(t,e)=>{let{width:r,height:n}=e;r&&(t.style.width=typeof r=="number"?"".concat(r,"px"):r),n&&(t.style.height=typeof n=="number"?"".concat(n,"px"):n)};function HD(t){return t.onselectstart!==void 0&&(t.onselectstart=()=>!1),t.style.userSelect=Wn,t}let yz=class{constructor(e){j(this,"_originalCanvasStyle",void 0),j(this,"lower",void 0);const r=this.createLowerCanvas(e);this.lower={el:r,ctx:r.getContext("2d")}}createLowerCanvas(e){const r=(n=e)&&n.getContext!==void 0?e:e&&gh().getElementById(e)||ks();var n;if(r.hasAttribute("data-fabric"))throw new to("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=r.style.cssText,r.setAttribute("data-fabric","main"),r.classList.add("lower-canvas"),r}cleanupDOM(e){let{width:r,height:n}=e;const{el:i}=this.lower;i.classList.remove("lower-canvas"),i.removeAttribute("data-fabric"),i.setAttribute("width","".concat(r)),i.setAttribute("height","".concat(n)),i.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(e,r){const{el:n,ctx:i}=this.lower;gz(n,i,e,r)}setCSSDimensions(e){g6(this.lower.el,e)}calcOffset(){return function(e){var r;const n=e&&As(e),i={left:0,top:0};if(!n)return i;const s=((r=mz(e))===null||r===void 0?void 0:r.getComputedStyle(e,null))||{};i.left+=parseInt(s.borderLeftWidth,10)||0,i.top+=parseInt(s.borderTopWidth,10)||0,i.left+=parseInt(s.paddingLeft,10)||0,i.top+=parseInt(s.paddingTop,10)||0;let o={left:0,top:0};const a=n.documentElement;e.getBoundingClientRect!==void 0&&(o=e.getBoundingClientRect());const l=pz(e);return{left:o.left+l.left-(a.clientLeft||0)+i.left,top:o.top+l.top-(a.clientTop||0)+i.top}}(this.lower.el)}dispose(){fo().dispose(this.lower.el),delete this.lower}};const zbe={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[..._n]};class B0 extends az(lz){get lowerCanvasEl(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.el}get contextContainer(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.ctx}static getDefaults(){return B0.ownDefaults}constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(r),this.initElements(e),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(e){this.elements=new yz(e)}add(){const e=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}insertAt(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const s=super.insertAt(e,...n);return n.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),s}remove(){const e=super.remove(...arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}_onObjectAdded(e){e.canvas&&e.canvas!==this&&(Vl("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?nz():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(e,r){return this.setDimensions({width:e},r)}setHeight(e,r){return this.setDimensions({height:e},r)}_setDimensionsImpl(e){let{cssOnly:r=!1,backstoreOnly:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!r){const i=U({width:this.width,height:this.height},e);this.elements.setDimensions(i,this.getRetinaScaling()),this.hasLostContext=!0,this.width=i.width,this.height=i.height}n||this.elements.setCSSDimensions(e),this.calcOffset()}setDimensions(e,r){this._setDimensionsImpl(e,r),r&&r.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(e,r){const n=e,i=[...this.viewportTransform],s=Nn(e,ps(i));i[0]=r,i[3]=r;const o=Nn(s,i);i[4]+=n.x-o.x,i[5]+=n.y-o.y,this.setViewportTransform(i)}setZoom(e){this.zoomToPoint(new Z(0,0),e)}absolutePan(e){const r=[...this.viewportTransform];return r[4]=-e.x,r[5]=-e.y,this.setViewportTransform(r)}relativePan(e){return this.absolutePan(new Z(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(e){e.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=Tv(()=>this.renderAndReset()))}calcViewportBoundaries(){const e=this.width,r=this.height,n=ps(this.viewportTransform),i=Nn({x:0,y:0},n),s=Nn({x:e,y:r},n),o=i.min(s),a=i.max(s);return this.vptCoords={tl:o,tr:new Z(a.x,o.y),bl:new Z(o.x,a.y),br:a}}cancelRequestedRender(){this.nextRenderHandle&&(Qbe(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(e){}renderCanvas(e,r){if(this.destroyed)return;const n=this.viewportTransform,i=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality="best",this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(e,r),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),i&&(i._set("canvas",this),i.shouldCache(),i._transformDone=!0,i.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,i)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(e,r){const n=this.viewportTransform;e.save(),e.transform(...n),e.globalCompositeOperation="destination-in",r.transform(e),e.scale(1/r.zoomX,1/r.zoomY),e.drawImage(r._cacheCanvas,-r.cacheTranslationX,-r.cacheTranslationY),e.restore()}_renderObjects(e,r){for(let n=0,i=r.length;n<i;++n)r[n]&&r[n].render(e)}_renderBackgroundOrOverlay(e,r){const n=this["".concat(r,"Color")],i=this["".concat(r,"Image")],s=this.viewportTransform,o=this["".concat(r,"Vpt")];if(!n&&!i)return;const a=Ui(n);if(n){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=a?n.toLive(e):n,o&&e.transform(...s),a){e.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);const l=n.gradientTransform||n.patternTransform;l&&e.transform(...l)}e.fill(),e.restore()}if(i){e.save();const{skipOffscreen:l}=this;this.skipOffscreen=o,o&&e.transform(...s),i.render(e),this.skipOffscreen=l,e.restore()}}_renderBackground(e){this._renderBackgroundOrOverlay(e,"background")}_renderOverlay(e){this._renderBackgroundOrOverlay(e,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new Z(this.width/2,this.height/2)}centerObjectH(e){return this._centerObject(e,new Z(this.getCenterPoint().x,e.getCenterPoint().y))}centerObjectV(e){return this._centerObject(e,new Z(e.getCenterPoint().x,this.getCenterPoint().y))}centerObject(e){return this._centerObject(e,this.getCenterPoint())}viewportCenterObject(e){return this._centerObject(e,this.getVpCenter())}viewportCenterObjectH(e){return this._centerObject(e,new Z(this.getVpCenter().x,e.getCenterPoint().y))}viewportCenterObjectV(e){return this._centerObject(e,new Z(e.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return Nn(this.getCenterPoint(),ps(this.viewportTransform))}_centerObject(e,r){e.setXY(r,Ue,Ue),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(e){return this.toDatalessObject(e)}toObject(e){return this._toObjectMethod("toObject",e)}toJSON(){return this.toObject()}toDatalessObject(e){return this._toObjectMethod("toDatalessObject",e)}_toObjectMethod(e,r){const n=this.clipPath,i=n&&!n.excludeFromExport?this._toObject(n,e,r):null;return U(U(U({version:p6},xh(this,r)),{},{objects:this._objects.filter(s=>!s.excludeFromExport).map(s=>this._toObject(s,e,r))},this.__serializeBgOverlay(e,r)),i?{clipPath:i}:null)}_toObject(e,r,n){let i;this.includeDefaultValues||(i=e.includeDefaultValues,e.includeDefaultValues=!1);const s=e[r](n);return this.includeDefaultValues||(e.includeDefaultValues=!!i),s}__serializeBgOverlay(e,r){const n={},i=this.backgroundImage,s=this.overlayImage,o=this.backgroundColor,a=this.overlayColor;return Ui(o)?o.excludeFromExport||(n.background=o.toObject(r)):o&&(n.background=o),Ui(a)?a.excludeFromExport||(n.overlay=a.toObject(r)):a&&(n.overlay=a),i&&!i.excludeFromExport&&(n.backgroundImage=this._toObject(i,e,r)),s&&!s.excludeFromExport&&(n.overlayImage=this._toObject(s,e,r)),n}toSVG(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;e.reviver=r;const n=[];return this._setSVGPreamble(n,e),this._setSVGHeader(n,e),this.clipPath&&n.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",r),this._setSVGObjects(n,r),this.clipPath&&n.push(`</g>
`),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",r),n.push("</svg>"),n.join("")}_setSVGPreamble(e,r){r.suppressPreamble||e.push('<?xml version="1.0" encoding="',r.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(e,r){const n=r.width||"".concat(this.width),i=r.height||"".concat(this.height),s=Je.NUM_FRACTION_DIGITS,o=r.viewBox;let a;if(o)a='viewBox="'.concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height,'" ');else if(this.svgViewportTransformation){const l=this.viewportTransform;a='viewBox="'.concat(It(-l[4]/l[0],s)," ").concat(It(-l[5]/l[3],s)," ").concat(It(this.width/l[0],s)," ").concat(It(this.height/l[3],s),'" ')}else a='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',i,'" ',a,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",p6,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(r),`</defs>
`)}createSVGClipPathMarkup(e){const r=this.clipPath;return r?(r.clipPathId="CLIPPATH_".concat(Kl()),'<clipPath id="'.concat(r.clipPathId,`" >
`).concat(r.toClipPathSVG(e.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(e=>{const r=this["".concat(e,"Color")];if(Ui(r)){const n=this["".concat(e,"Vpt")],i=this.viewportTransform,s={isType:()=>!1,width:this.width/(n?i[0]:1),height:this.height/(n?i[3]:1)};return r.toSVG(s,{additionalTransform:n?gb(i):""})}}).join("")}createSVGFontFacesMarkup(){const e=[],r={},n=Je.fontPaths;this._objects.forEach(function s(o){e.push(o),Mv(o)&&o._objects.forEach(s)}),e.forEach(s=>{if(!(o=s)||typeof o._renderText!="function")return;var o;const{styles:a,fontFamily:l}=s;!r[l]&&n[l]&&(r[l]=!0,a&&Object.values(a).forEach(c=>{Object.values(c).forEach(u=>{let{fontFamily:A=""}=u;!r[A]&&n[A]&&(r[A]=!0)})}))});const i=Object.keys(r).map(s=>`		@font-face {
			font-family: '`.concat(s,`';
			src: url('`).concat(n[s],`');
		}
`)).join("");return i?`	<style type="text/css"><![CDATA[
`.concat(i,`]]></style>
`):""}_setSVGObjects(e,r){this.forEachObject(n=>{n.excludeFromExport||this._setSVGObject(e,n,r)})}_setSVGObject(e,r,n){e.push(r.toSVG(n))}_setSVGBgOverlayImage(e,r,n){const i=this[r];i&&!i.excludeFromExport&&i.toSVG&&e.push(i.toSVG(n))}_setSVGBgOverlayColor(e,r){const n=this["".concat(r,"Color")];if(n)if(Ui(n)){const i=n.repeat||"",s=this.width,o=this.height,a=this["".concat(r,"Vpt")]?gb(ps(this.viewportTransform)):"";e.push('<rect transform="'.concat(a," translate(").concat(s/2,",").concat(o/2,')" x="').concat(n.offsetX-s/2,'" y="').concat(n.offsetY-o/2,'" width="').concat(i!=="repeat-y"&&i!=="no-repeat"||!RD(n)?s:n.source.width,'" height="').concat(i!=="repeat-x"&&i!=="no-repeat"||!RD(n)?o:n.source.height,'" fill="url(#SVGID_').concat(n.id,`)"></rect>
`))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',`></rect>
`)}loadFromJSON(e,r){let{signal:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return Promise.reject(new to("`json` is undefined"));const i=typeof e=="string"?JSON.parse(e):e,{objects:s=[],backgroundImage:o,background:a,overlayImage:l,overlay:c,clipPath:u}=i,A=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([jm(s,{reviver:r,signal:n}),dw({backgroundImage:o,backgroundColor:a,overlayImage:l,overlayColor:c,clipPath:u},{signal:n})]).then(h=>{let[f,p]=h;return this.clear(),this.add(...f),this.set(i),this.set(p),this.renderOnAddRemove=A,this})}clone(e){const r=this.toObject(e);return this.cloneWithoutData().loadFromJSON(r)}cloneWithoutData(){const e=po(this);return new this.constructor(e)}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:r="png",quality:n=1,multiplier:i=1,enableRetinaScaling:s=!1}=e,o=i*(s?this.getRetinaScaling():1);return cz(this.toCanvasElement(o,e),r,n)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:r="png",quality:n=1,multiplier:i=1,enableRetinaScaling:s=!1}=e,o=i*(s?this.getRetinaScaling():1);return uz(this.toCanvasElement(o,e),r,n)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:r,height:n,left:i,top:s,filter:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=(r||this.width)*e,l=(n||this.height)*e,c=this.getZoom(),u=this.width,A=this.height,h=this.skipControlsDrawing,f=c*e,p=this.viewportTransform,m=[f,0,0,f,(p[4]-(i||0))*e,(p[5]-(s||0))*e],y=this.enableRetinaScaling,g=po({width:a,height:l}),v=o?this._objects.filter(x=>o(x)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=m,this.width=a,this.height=l,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(g.getContext("2d"),v),this.viewportTransform=p,this.width=u,this.height=A,this.calcViewportBoundaries(),this.enableRetinaScaling=y,this.skipControlsDrawing=h,g}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),pb.cancelByCanvas(this),this.disposed=!0,new Promise((e,r)=>{const n=()=>{this.destroy(),e(!0)};n.kill=r,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?e(!1):this.nextRenderHandle?this.__cleanupTask=n:n()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(e=>e.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}j(B0,"ownDefaults",zbe);const Wbe=["touchstart","touchmove","touchend"],Gbe=t=>{const e=pz(t.target),r=function(n){const i=n.changedTouches;return i&&i[0]?i[0]:n}(t);return new Z(r.clientX+e.left,r.clientY+e.top)},y6=t=>Wbe.includes(t.type)||t.pointerType==="touch",v6=t=>{t.preventDefault(),t.stopPropagation()},ta=t=>{let e=0,r=0,n=0,i=0;for(let s=0,o=t.length;s<o;s++){const{x:a,y:l}=t[s];(a>n||!s)&&(n=a),(a<e||!s)&&(e=a),(l>i||!s)&&(i=l),(l<r||!s)&&(r=l)}return{left:e,top:r,width:n-e,height:i-r}},qbe=["translateX","translateY","scaleX","scaleY"],Xbe=(t,e)=>yb(t,Hr(e,t.calcOwnMatrix())),yb=(t,e)=>{const r=mb(e),{translateX:n,translateY:i,scaleX:s,scaleY:o}=r,a=Lt(r,qbe),l=new Z(n,i);t.flipX=!1,t.flipY=!1,Object.assign(t,a),t.set({scaleX:s,scaleY:o}),t.setPositionByOrigin(l,Ue,Ue)},Ybe=t=>{t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},vz=t=>({scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}),Zk=(t,e,r)=>{const n=t/2,i=e/2,s=[new Z(-n,-i),new Z(n,-i),new Z(-n,i),new Z(n,i)].map(a=>a.transform(r)),o=ta(s);return new Z(o.width,o.height)},hw=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_n;return Hr(ps(arguments.length>1&&arguments[1]!==void 0?arguments[1]:_n),t)},Cd=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_n;return t.transform(hw(e,r))},Jbe=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_n;return t.transform(hw(e,r),!0)},Zbe=(t,e,r)=>{const n=hw(e,r);return yb(t,Hr(n,t.calcOwnMatrix())),n},xz=(t,e)=>{var r;const{transform:{target:n}}=e;(r=n.canvas)===null||r===void 0||r.fire("object:".concat(t),U(U({},e),{},{target:n})),n.fire(t,e)},e2e={left:-.5,top:-.5,center:0,bottom:.5,right:.5},cr=t=>typeof t=="string"?e2e[t]:t-.5,vb="not-allowed";function bz(t){return cr(t.originX)===cr(Ue)&&cr(t.originY)===cr(Ue)}function $D(t){return .5-cr(t)}const bs=(t,e)=>t[e],wz=(t,e,r,n)=>({e:t,transform:e,pointer:new Z(r,n)});function Cz(t,e){const r=t.getTotalAngle()+Du(Math.atan2(e.y,e.x))+360;return Math.round(r%360/45)}function eE(t,e,r,n,i){var s;let{target:o,corner:a}=t;const l=o.controls[a],c=((s=o.canvas)===null||s===void 0?void 0:s.getZoom())||1,u=o.padding/c,A=function(h,f,p,m){const y=h.getRelativeCenterPoint(),g=p!==void 0&&m!==void 0?h.translateToGivenOrigin(y,Ue,Ue,p,m):new Z(h.left,h.top);return(h.angle?f.rotate(-tr(h.angle),y):f).subtract(g)}(o,new Z(n,i),e,r);return A.x>=u&&(A.x-=u),A.x<=-u&&(A.x+=u),A.y>=u&&(A.y-=u),A.y<=u&&(A.y+=u),A.x-=l.offsetX,A.y-=l.offsetY,A}const t2e=(t,e,r,n)=>{const{target:i,offsetX:s,offsetY:o}=e,a=r-s,l=n-o,c=!bs(i,"lockMovementX")&&i.left!==a,u=!bs(i,"lockMovementY")&&i.top!==l;return c&&i.set(lt,a),u&&i.set(zn,l),(c||u)&&xz(iz,wz(t,e,r,n)),c||u};let Bz=class{getSvgStyles(e){const r=this.fillRule?this.fillRule:"nonzero",n=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):Wn,s=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",c=this.opacity!==void 0?this.opacity:"1",u=this.visible?"":" visibility: hidden;",A=e?"":this.getSvgFilter(),h=Om(xr,this.fill);return[Om(Gn,this.stroke),"stroke-width: ",n,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",l,"; ",h,"fill-rule: ",r,"; ","opacity: ",c,";",A,u].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e?this.calcTransformMatrix():this.calcOwnMatrix(),i='transform="'.concat(gb(n));return"".concat(i).concat(r,'" ')}_toSVG(e){return[""]}toSVG(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}toClipPathSVG(e){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}_createBaseClipPathSVGMarkup(e){let{reviver:r,additionalTransform:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=[this.getSvgTransform(!0,n),this.getSvgCommons()].join(""),s=e.indexOf("COMMON_PARTS");return e[s]=i,r?r(e.join("")):e.join("")}_createBaseSVGMarkup(e){let{noStyle:r,reviver:n,withShadow:i,additionalTransform:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=r?"":'style="'.concat(this.getSvgStyles(),'" '),a=i?'style="'.concat(this.getSvgFilter(),'" '):"",l=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",u=l&&l.absolutePositioned,A=this.stroke,h=this.fill,f=this.shadow,p=[],m=e.indexOf("COMMON_PARTS");let y;l&&(l.clipPathId="CLIPPATH_".concat(Kl()),y='<clipPath id="'.concat(l.clipPathId,`" >
`).concat(l.toClipPathSVG(n),`</clipPath>
`)),u&&p.push("<g ",a,this.getSvgCommons(),` >
`),p.push("<g ",this.getSvgTransform(!1),u?"":a+this.getSvgCommons(),` >
`);const g=[o,c,r?"":this.addPaintOrder()," ",s?'transform="'.concat(s,'" '):""].join("");return e[m]=g,Ui(h)&&p.push(h.toSVG(this)),Ui(A)&&p.push(A.toSVG(this)),f&&p.push(f.toSVG(this)),l&&p.push(y),p.push(e.join("")),p.push(`</g>
`),u&&p.push(`</g>
`),n?n(p.join("")):p.join("")}addPaintOrder(){return this.paintFirst!==xr?' paint-order="'.concat(this.paintFirst,'" '):""}};function fw(t){return new RegExp("^("+t.join("|")+")\\b","i")}var VD;const Lu=String.raw(VD||(VD=sc(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"]))),r2e=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Lu+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Lu+"))?\\s+(.*)"),n2e={cx:lt,x:lt,r:"radius",cy:zn,y:zn,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},k3="font-size",E3="clip-path";fw(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);fw(["symbol","image","marker","pattern","view","svg"]);const KD=fw(["symbol","g","a","svg","clipPath","defs"]),i2e=new Z(1,0),_z=new Z,Sz=(t,e)=>t.rotate(e),x6=(t,e)=>new Z(e).subtract(t),b6=t=>t.distanceFrom(_z),w6=(t,e)=>Math.atan2(Fp(t,e),o2e(t,e)),s2e=t=>w6(i2e,t),tE=t=>t.eq(_z)?t:t.scalarDivide(b6(t)),kz=function(t){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return tE(new Z(-t.y,t.x).scalarMultiply(e?1:-1))},Fp=(t,e)=>t.x*e.y-t.y*e.x,o2e=(t,e)=>t.x*e.x+t.y*e.y,zD=(t,e,r)=>{if(t.eq(e)||t.eq(r))return!0;const n=Fp(e,r),i=Fp(e,t),s=Fp(r,t);return n>=0?i>=0&&s<=0:!(i<=0&&s>=0)},WD="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",GD=new RegExp("(?:\\s|^)"+WD+WD+"("+Lu+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");let Bd=class Lv{constructor(e){const r=typeof e=="string"?Lv.parseShadow(e):e;Object.assign(this,Lv.ownDefaults,r),this.id=Kl()}static parseShadow(e){const r=e.trim(),[,n=0,i=0,s=0]=(GD.exec(r)||[]).map(o=>parseFloat(o)||0);return{color:(r.replace(GD,"")||"rgb(0,0,0)").trim(),offsetX:n,offsetY:i,blur:s}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(e){const r=Sz(new Z(this.offsetX,this.offsetY),tr(-e.angle)),n=new Zn(this.color);let i=40,s=40;return e.width&&e.height&&(i=100*It((Math.abs(r.x)+this.blur)/e.width,Je.NUM_FRACTION_DIGITS)+20,s=100*It((Math.abs(r.y)+this.blur)/e.height,Je.NUM_FRACTION_DIGITS)+20),e.flipX&&(r.x*=-1),e.flipY&&(r.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(s,'%" height="').concat(100+2*s,'%" x="-').concat(i,'%" width="').concat(100+2*i,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(It(this.blur?this.blur/2:0,Je.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(It(r.x,Je.NUM_FRACTION_DIGITS),'" dy="').concat(It(r.y,Je.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(n.toRgb(),'" flood-opacity="').concat(n.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const e={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},r=Lv.ownDefaults;return this.includeDefaultValues?e:Jk(e,(n,i)=>n!==r[i])}static async fromObject(e){return new this(e)}};j(Bd,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),j(Bd,"type","shadow"),we.setClass(Bd,"shadow");const Xd=(t,e,r)=>Math.max(t,Math.min(e,r)),a2e=[zn,lt,Jn,Wi,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",yh,vh],xa=[xr,Gn,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],l2e={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:lt,originY:zn,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:xr,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},c2e=(t,e,r,n)=>-r*Math.cos(t/n*b0)+r+e,u2e=()=>!1;let rE=class{constructor(e){let{startValue:r,byValue:n,duration:i=500,delay:s=0,easing:o=c2e,onStart:a=Fv,onChange:l=Fv,onComplete:c=Fv,abort:u=u2e,target:A}=e;j(this,"_state","pending"),j(this,"durationProgress",0),j(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=i,this.delay=s,this.easing=o,this._onStart=a,this._onChange=l,this._onComplete=c,this._abort=u,this.target=A,this.startValue=r,this.byValue=n,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const e=r=>{this._state==="pending"&&(this.startTime=r||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>Tv(e),this.delay):Tv(e)}tick(e){const r=(e||+new Date)-this.startTime,n=Math.min(r,this.duration);this.durationProgress=n/this.duration;const{value:i,valueProgress:s}=this.calculate(n);this.value=Object.freeze(i),this.valueProgress=s,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):r>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),Tv(this.tick)))}register(){pb.push(this)}unregister(){pb.remove(this)}abort(){this._state="aborted",this.unregister()}};const A2e=["startValue","endValue"];let d2e=class extends rE{constructor(e){let{startValue:r=0,endValue:n=100}=e;super(U(U({},Lt(e,A2e)),{},{startValue:r,byValue:n-r}))}calculate(e){const r=this.easing(e,this.startValue,this.byValue,this.duration);return{value:r,valueProgress:Math.abs((r-this.startValue)/this.byValue)}}};const h2e=["startValue","endValue"];let f2e=class extends rE{constructor(e){let{startValue:r=[0],endValue:n=[100]}=e;super(U(U({},Lt(e,h2e)),{},{startValue:r,byValue:n.map((i,s)=>i-r[s])}))}calculate(e){const r=this.startValue.map((n,i)=>this.easing(e,n,this.byValue[i],this.duration,i));return{value:r,valueProgress:Math.abs((r[0]-this.startValue[0])/this.byValue[0])}}};const p2e=["startValue","endValue","easing","onChange","onComplete","abort"],m2e=(t,e,r,n)=>e+r*(1-Math.cos(t/n*b0)),F3=t=>t&&((e,r,n)=>t(new Zn(e).toRgba(),r,n));let g2e=class extends rE{constructor(e){let{startValue:r,endValue:n,easing:i=m2e,onChange:s,onComplete:o,abort:a}=e,l=Lt(e,p2e);const c=new Zn(r).getSource(),u=new Zn(n).getSource();super(U(U({},l),{},{startValue:c,byValue:u.map((A,h)=>A-c[h]),easing:i,onChange:F3(s),onComplete:F3(o),abort:F3(a)}))}calculate(e){const[r,n,i,s]=this.startValue.map((a,l)=>this.easing(e,a,this.byValue[l],this.duration,l)),o=[...[r,n,i].map(Math.round),Xd(0,s,1)];return{value:o,valueProgress:o.map((a,l)=>this.byValue[l]!==0?Math.abs((a-this.startValue[l])/this.byValue[l]):0).find(a=>a!==0)||0}}};function Ez(t){const e=(r=>Array.isArray(r.startValue)||Array.isArray(r.endValue))(t)?new f2e(t):new d2e(t);return e.start(),e}function y2e(t){const e=new g2e(t);return e.start(),e}let Mp=class _r{constructor(e){this.status=e,this.points=[]}includes(e){return this.points.some(r=>r.eq(e))}append(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.points=this.points.concat(r.filter(i=>!this.includes(i))),this}static isPointContained(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(r.eq(n))return e.eq(r);if(r.x===n.x)return e.x===r.x&&(i||e.y>=Math.min(r.y,n.y)&&e.y<=Math.max(r.y,n.y));if(r.y===n.y)return e.y===r.y&&(i||e.x>=Math.min(r.x,n.x)&&e.x<=Math.max(r.x,n.x));{const s=x6(r,n),o=x6(r,e).divide(s);return i?Math.abs(o.x)===Math.abs(o.y):o.x===o.y&&o.x>=0&&o.x<=1}}static isPointInPolygon(e,r){const n=new Z(e).setX(Math.min(e.x-1,...r.map(s=>s.x)));let i=0;for(let s=0;s<r.length;s++){const o=this.intersectSegmentSegment(r[s],r[(s+1)%r.length],e,n);if(o.includes(e))return!0;i+=+(o.status==="Intersection")}return i%2==1}static intersectLineLine(e,r,n,i){let s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const a=r.x-e.x,l=r.y-e.y,c=i.x-n.x,u=i.y-n.y,A=e.x-n.x,h=e.y-n.y,f=c*h-u*A,p=a*h-l*A,m=u*a-c*l;if(m!==0){const y=f/m,g=p/m;return(s||0<=y&&y<=1)&&(o||0<=g&&g<=1)?new _r("Intersection").append(new Z(e.x+y*a,e.y+y*l)):new _r}if(f===0||p===0){const y=s||o||_r.isPointContained(e,n,i)||_r.isPointContained(r,n,i)||_r.isPointContained(n,e,r)||_r.isPointContained(i,e,r);return new _r(y?"Coincident":void 0)}return new _r("Parallel")}static intersectSegmentLine(e,r,n,i){return _r.intersectLineLine(e,r,n,i,!1,!0)}static intersectSegmentSegment(e,r,n,i){return _r.intersectLineLine(e,r,n,i,!1,!1)}static intersectLinePolygon(e,r,n){let i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const s=new _r,o=n.length;for(let a,l,c,u=0;u<o;u++){if(a=n[u],l=n[(u+1)%o],c=_r.intersectLineLine(e,r,a,l,i,!1),c.status==="Coincident")return c;s.append(...c.points)}return s.points.length>0&&(s.status="Intersection"),s}static intersectSegmentPolygon(e,r,n){return _r.intersectLinePolygon(e,r,n,!1)}static intersectPolygonPolygon(e,r){const n=new _r,i=e.length,s=[];for(let o=0;o<i;o++){const a=e[o],l=e[(o+1)%i],c=_r.intersectSegmentPolygon(a,l,r);c.status==="Coincident"?(s.push(c),n.append(a,l)):n.append(...c.points)}return s.length>0&&s.length===e.length?new _r("Coincident"):(n.points.length>0&&(n.status="Intersection"),n)}static intersectPolygonRectangle(e,r,n){const i=r.min(n),s=r.max(n),o=new Z(s.x,i.y),a=new Z(i.x,s.y);return _r.intersectPolygonPolygon(e,[i,o,s,a])}},v2e=class extends lz{getX(){return this.getXY().x}setX(e){this.setXY(this.getXY().setX(e))}getY(){return this.getXY().y}setY(e){this.setXY(this.getXY().setY(e))}getRelativeX(){return this.left}setRelativeX(e){this.left=e}getRelativeY(){return this.top}setRelativeY(e){this.top=e}getXY(){const e=this.getRelativeXY();return this.group?Nn(e,this.group.calcTransformMatrix()):e}setXY(e,r,n){this.group&&(e=Nn(e,ps(this.group.calcTransformMatrix()))),this.setRelativeXY(e,r,n)}getRelativeXY(){return new Z(this.left,this.top)}setRelativeXY(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(e,r,n)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:e,tr:r,br:n,bl:i}=this.aCoords||(this.aCoords=this.calcACoords()),s=[e,r,n,i];if(this.group){const o=this.group.calcTransformMatrix();return s.map(a=>Nn(a,o))}return s}intersectsWithRect(e,r){return Mp.intersectPolygonRectangle(this.getCoords(),e,r).status==="Intersection"}intersectsWithObject(e){const r=Mp.intersectPolygonPolygon(this.getCoords(),e.getCoords());return r.status==="Intersection"||r.status==="Coincident"||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}isContainedWithinObject(e){return this.getCoords().every(r=>e.containsPoint(r))}isContainedWithinRect(e,r){const{left:n,top:i,width:s,height:o}=this.getBoundingRect();return n>=e.x&&n+s<=r.x&&i>=e.y&&i+o<=r.y}isOverlapping(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}containsPoint(e){return Mp.isPointInPolygon(e,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:e,br:r}=this.canvas.vptCoords;return!!this.getCoords().some(n=>n.x<=r.x&&n.x>=e.x&&n.y<=r.y&&n.y>=e.y)||!!this.intersectsWithRect(e,r)||this.containsPoint(e.midPointFrom(r))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:e,br:r}=this.canvas.vptCoords;return this.intersectsWithRect(e,r)?!0:this.getCoords().every(n=>(n.x>=r.x||n.x<=e.x)&&(n.y>=r.y||n.y<=e.y))&&this.containsPoint(e.midPointFrom(r))}getBoundingRect(){return ta(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(e){this._set(Jn,e),this._set(Wi,e),this.setCoords()}scaleToWidth(e){const r=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/r)}scaleToHeight(e){const r=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/r)}getCanvasRetinaScaling(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.getRetinaScaling())||1}getTotalAngle(){return this.group?Du(Az(this.calcTransformMatrix())):this.angle}getViewportTransform(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.viewportTransform)||_n.concat()}calcACoords(){const e=C0({angle:this.angle}),{x:r,y:n}=this.getRelativeCenterPoint(),i=w0(r,n),s=Hr(i,e),o=this._getTransformedDimensions(),a=o.x/2,l=o.y/2;return{tl:Nn({x:-a,y:-l},s),tr:Nn({x:a,y:-l},s),bl:Nn({x:-a,y:l},s),br:Nn({x:a,y:l},s)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=[];return!e&&this.group&&(r=this.group.transformMatrixKey(e)),r.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,cr(this.originX),cr(this.originY)),r}calcTransformMatrix(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=this.calcOwnMatrix();if(e||!this.group)return r;const n=this.transformMatrixKey(e),i=this.matrixCache;return i&&i.key.every((s,o)=>s===n[o])?i.value:(this.group&&(r=Hr(this.group.calcTransformMatrix(!1),r)),this.matrixCache={key:n,value:r},r)}calcOwnMatrix(){const e=this.transformMatrixKey(!0),r=this.ownMatrixCache;if(r&&r.key===e)return r.value;const n=this.getRelativeCenterPoint(),i={angle:this.angle,translateX:n.x,translateY:n.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},s=Vbe(i);return this.ownMatrixCache={key:e,value:s},s}_getNonTransformedDimensions(){return new Z(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=U({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),n=r.strokeWidth;let i=n,s=0;this.strokeUniform&&(i=0,s=n);const o=r.width+i,a=r.height+i;let l;return l=r.skewX===0&&r.skewY===0?new Z(o*r.scaleX,a*r.scaleY):Zk(o,a,Aw(r)),l.scalarAdd(s)}translateToGivenOrigin(e,r,n,i,s){let o=e.x,a=e.y;const l=cr(i)-cr(r),c=cr(s)-cr(n);if(l||c){const u=this._getTransformedDimensions();o+=l*u.x,a+=c*u.y}return new Z(o,a)}translateToCenterPoint(e,r,n){if(r===Ue&&n===Ue)return e;const i=this.translateToGivenOrigin(e,r,n,Ue,Ue);return this.angle?i.rotate(tr(this.angle),e):i}translateToOriginPoint(e,r,n){const i=this.translateToGivenOrigin(e,Ue,Ue,r,n);return this.angle?i.rotate(tr(this.angle),e):i}getCenterPoint(){const e=this.getRelativeCenterPoint();return this.group?Nn(e,this.group.calcTransformMatrix()):e}getRelativeCenterPoint(){return this.translateToCenterPoint(new Z(this.left,this.top),this.originX,this.originY)}getPointByOrigin(e,r){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,r)}setPositionByOrigin(e,r,n){const i=this.translateToCenterPoint(e,r,n),s=this.translateToOriginPoint(i,this.originX,this.originY);this.set({left:s.x,top:s.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),lt,zn)}};const x2e=["type"],b2e=["extraParam"];let To=class jv extends v2e{static getDefaults(){return jv.ownDefaults}get type(){const e=this.constructor.type;return e==="FabricObject"?"object":e.toLowerCase()}set type(e){Vl("warn","Setting type has no effect",e)}constructor(e){super(),j(this,"_cacheContext",null),Object.assign(this,jv.ownDefaults),this.setOptions(e)}_createCacheCanvas(){this._cacheCanvas=ks(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(e){const r=e.width,n=e.height,i=Je.maxCacheSideLimit,s=Je.minCacheSideLimit;if(r<=i&&n<=i&&r*n<=Je.perfLimitSizeTotal)return r<s&&(e.width=s),n<s&&(e.height=s),e;const o=r/n,[a,l]=Ep.limitDimsByArea(o),c=Xd(s,a,i),u=Xd(s,l,i);return r>c&&(e.zoomX/=r/c,e.width=c,e.capped=!0),n>u&&(e.zoomY/=n/u,e.height=u,e.capped=!0),e}_getCacheCanvasDimensions(){const e=this.getTotalObjectScaling(),r=this._getTransformedDimensions({skewX:0,skewY:0}),n=r.x*e.x/this.scaleX,i=r.y*e.y/this.scaleY;return{width:Math.ceil(n+2),height:Math.ceil(i+2),zoomX:e.x,zoomY:e.y,x:n,y:i}}_updateCacheCanvas(){const e=this._cacheCanvas,r=this._cacheContext,{width:n,height:i,zoomX:s,zoomY:o,x:a,y:l}=this._limitCacheSize(this._getCacheCanvasDimensions()),c=n!==e.width||i!==e.height,u=this.zoomX!==s||this.zoomY!==o;if(!e||!r)return!1;if(c||u){n!==e.width||i!==e.height?(e.width=n,e.height=i):(r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,e.width,e.height));const A=a/2,h=l/2;return this.cacheTranslationX=Math.round(e.width/2-A)+A,this.cacheTranslationY=Math.round(e.height/2-h)+h,r.translate(this.cacheTranslationX,this.cacheTranslationY),r.scale(s,o),this.zoomX=s,this.zoomY=o,!0}return!1}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(e)}transform(e){const r=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,n=this.calcTransformMatrix(!r);e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}getObjectScaling(){if(!this.group)return new Z(Math.abs(this.scaleX),Math.abs(this.scaleY));const e=mb(this.calcTransformMatrix());return new Z(Math.abs(e.scaleX),Math.abs(e.scaleY))}getTotalObjectScaling(){const e=this.getObjectScaling();if(this.canvas){const r=this.canvas.getZoom(),n=this.getCanvasRetinaScaling();return e.scalarMultiply(r*n)}return e}getObjectOpacity(){let e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}_constrainScale(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:e===0?1e-4:e}_set(e,r){e!==Jn&&e!==Wi||(r=this._constrainScale(r)),e===Jn&&r<0?(this.flipX=!this.flipX,r*=-1):e==="scaleY"&&r<0?(this.flipY=!this.flipY,r*=-1):e!=="shadow"||!r||r instanceof Bd||(r=new Bd(r));const n=this[e]!==r;return this[e]=r,n&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||n&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e,!1,{}),this.dirty=!1),e.restore())}drawSelectionBackground(e){}renderCache(e){if(e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:r,zoomY:n,cacheTranslationX:i,cacheTranslationY:s}=this,{width:o,height:a}=this._cacheCanvas;this.drawObject(this._cacheContext,e.forClipping,{zoomX:r,zoomY:n,cacheTranslationX:i,cacheTranslationY:s,width:o,height:a,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===Gn&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(e,r,n){e.save(),r.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",e.setTransform(1,0,0,1,0,0),e.drawImage(n,0,0),e.restore()}drawObject(e,r,n){const i=this.fill,s=this.stroke;r?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath,n),this.fill=i,this.stroke=s}createClipPathLayer(e,r){const n=po(r),i=n.getContext("2d");if(i.translate(r.cacheTranslationX,r.cacheTranslationY),i.scale(r.zoomX,r.zoomY),e._cacheCanvas=n,r.parentClipPaths.forEach(s=>{s.transform(i)}),r.parentClipPaths.push(e),e.absolutePositioned){const s=ps(this.calcTransformMatrix());i.transform(s[0],s[1],s[2],s[3],s[4],s[5])}return e.transform(i),e.drawObject(i,!0,r),n}_drawClipPath(e,r,n){if(!r)return;r._transformDone=!0;const i=this.createClipPathLayer(r,n);this.drawClipPathOnCache(e,r,i)}drawCacheOnCanvas(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const r=this._cacheCanvas,n=this._cacheContext;return!(!r||!n||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(r&&n&&!e&&(n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,r.width,r.height),n.restore()),!0)}_renderBackground(e){if(!this.backgroundColor)return;const r=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),this._removeShadow(e)}_setOpacity(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}_setStrokeStyles(e,r){const n=r.stroke;n&&(e.lineWidth=r.strokeWidth,e.lineCap=r.strokeLineCap,e.lineDashOffset=r.strokeDashOffset,e.lineJoin=r.strokeLineJoin,e.miterLimit=r.strokeMiterLimit,Ui(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?this._applyPatternForTransformedGradient(e,n):(e.strokeStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.strokeStyle=r.stroke)}_setFillStyles(e,r){let{fill:n}=r;n&&(Ui(n)?(e.fillStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.fillStyle=n)}_setClippingProperties(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}_setLineDash(e,r){r&&r.length!==0&&e.setLineDash(r)}_setShadow(e){if(!this.shadow)return;const r=this.shadow,n=this.canvas,i=this.getCanvasRetinaScaling(),[s,,,o]=(n==null?void 0:n.viewportTransform)||_n,a=s*i,l=o*i,c=r.nonScaling?new Z(1,1):this.getObjectScaling();e.shadowColor=r.color,e.shadowBlur=r.blur*Je.browserShadowBlurConstant*(a+l)*(c.x+c.y)/4,e.shadowOffsetX=r.offsetX*a*c.x,e.shadowOffsetY=r.offsetY*l*c.y}_removeShadow(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}_applyPatternGradientTransform(e,r){if(!Ui(r))return{offsetX:0,offsetY:0};const n=r.gradientTransform||r.patternTransform,i=-this.width/2+r.offsetX||0,s=-this.height/2+r.offsetY||0;return r.gradientUnits==="percentage"?e.transform(this.width,0,0,this.height,i,s):e.transform(1,0,0,1,i,s),n&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:i,offsetY:s}}_renderPaintInOrder(e){this.paintFirst===Gn?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}_render(e){}_renderFill(e){this.fill&&(e.save(),this._setFillStyles(e,this),this.fillRule==="evenodd"?e.fill("evenodd"):e.fill(),e.restore())}_renderStroke(e){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){const r=this.getObjectScaling();e.scale(1/r.x,1/r.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}_applyPatternForTransformedGradient(e,r){var n;const i=this._limitCacheSize(this._getCacheCanvasDimensions()),s=this.getCanvasRetinaScaling(),o=i.x/this.scaleX/s,a=i.y/this.scaleY/s,l=po({width:Math.ceil(o),height:Math.ceil(a)}),c=l.getContext("2d");c&&(c.beginPath(),c.moveTo(0,0),c.lineTo(o,0),c.lineTo(o,a),c.lineTo(0,a),c.closePath(),c.translate(o/2,a/2),c.scale(i.zoomX/this.scaleX/s,i.zoomY/this.scaleY/s),this._applyPatternGradientTransform(c,r),c.fillStyle=r.toLive(e),c.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(s*this.scaleX/i.zoomX,s*this.scaleY/i.zoomY),e.strokeStyle=(n=c.createPattern(l,"no-repeat"))!==null&&n!==void 0?n:"")}_findCenterFromElement(){return new Z(this.left+this.width/2,this.top+this.height/2)}clone(e){const r=this.toObject(e);return this.constructor.fromObject(r)}cloneAsImage(e){const r=this.toCanvasElement(e);return new(we.getClass("image"))(r)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=vz(this),n=this.group,i=this.shadow,s=Math.abs,o=e.enableRetinaScaling?nz():1,a=(e.multiplier||1)*o,l=e.canvasProvider||(v=>new B0(v,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,e.withoutTransform&&Ybe(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&Zbe(this,this.getViewportTransform()),this.setCoords();const c=ks(),u=this.getBoundingRect(),A=this.shadow,h=new Z;if(A){const v=A.blur,x=A.nonScaling?new Z(1,1):this.getObjectScaling();h.x=2*Math.round(s(A.offsetX)+v)*s(x.x),h.y=2*Math.round(s(A.offsetY)+v)*s(x.y)}const f=u.width+h.x,p=u.height+h.y;c.width=Math.ceil(f),c.height=Math.ceil(p);const m=l(c);e.format==="jpeg"&&(m.backgroundColor="#fff"),this.setPositionByOrigin(new Z(m.width/2,m.height/2),Ue,Ue);const y=this.canvas;m._objects=[this],this.set("canvas",m),this.setCoords();const g=m.toCanvasElement(a||1,e);return this.set("canvas",y),this.shadow=i,n&&(this.group=n),this.set(r),this.setCoords(),m._objects=[],m.destroy(),g}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return cz(this.toCanvasElement(e),e.format||"png",e.quality||1)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return uz(this.toCanvasElement(e),e.format||"png",e.quality||1)}isType(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.includes(this.constructor.type)||r.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(e){const{centeredRotation:r,originX:n,originY:i}=this;if(r){const{x:s,y:o}=this.getRelativeCenterPoint();this.originX=Ue,this.originY=Ue,this.left=s,this.top=o}if(this.set("angle",e),r){const{x:s,y:o}=this.translateToOriginPoint(this.getRelativeCenterPoint(),n,i);this.left=s,this.top=o,this.originX=n,this.originY=i}}setOnGroup(){}_setupCompositeOperation(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}dispose(){pb.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&fo().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(e,r){return Object.entries(e).reduce((n,i)=>{let[s,o]=i;return n[s]=this._animate(s,o,r),n},{})}_animate(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=e.split("."),s=this.constructor.colorProperties.includes(i[i.length-1]),{abort:o,startValue:a,onChange:l,onComplete:c}=n,u=U(U({},n),{},{target:this,startValue:a??i.reduce((A,h)=>A[h],this),endValue:r,abort:o==null?void 0:o.bind(this),onChange:(A,h,f)=>{i.reduce((p,m,y)=>(y===i.length-1&&(p[m]=A),p[m]),this),l&&l(A,h,f)},onComplete:(A,h,f)=>{this.setCoords(),c&&c(A,h,f)}});return s?y2e(u):Ez(u)}isDescendantOf(e){const{parent:r,group:n}=this;return r===e||n===e||!!r&&r.isDescendantOf(e)||!!n&&n!==r&&n.isDescendantOf(e)}getAncestors(){const e=[];let r=this;do r=r.parent,r&&e.push(r);while(r);return e}findCommonAncestors(e){if(this===e)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const r=this.getAncestors(),n=e.getAncestors();if(r.length===0&&n.length>0&&this===n[n.length-1])return{fork:[],otherFork:[e,...n.slice(0,n.length-1)],common:[this]};for(let i,s=0;s<r.length;s++){if(i=r[s],i===e)return{fork:[this,...r.slice(0,s)],otherFork:[],common:r.slice(s)};for(let o=0;o<n.length;o++){if(this===n[o])return{fork:[],otherFork:[e,...n.slice(0,o)],common:[this,...r]};if(i===n[o])return{fork:[this,...r.slice(0,s)],otherFork:[e,...n.slice(0,o)],common:r.slice(s)}}}return{fork:[this,...r],otherFork:[e,...n],common:[]}}hasCommonAncestors(e){const r=this.findCommonAncestors(e);return r&&!!r.common.length}isInFrontOf(e){if(this===e)return;const r=this.findCommonAncestors(e);if(r.fork.includes(e))return!0;if(r.otherFork.includes(this))return!1;const n=r.common[0]||this.canvas;if(!n)return;const i=r.fork.pop(),s=r.otherFork.pop(),o=n._objects.indexOf(i),a=n._objects.indexOf(s);return o>-1&&o>a}toObject(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(jv.customProperties,this.constructor.customProperties||[]);let r;const n=Je.NUM_FRACTION_DIGITS,{clipPath:i,fill:s,stroke:o,shadow:a,strokeDashArray:l,left:c,top:u,originX:A,originY:h,width:f,height:p,strokeWidth:m,strokeLineCap:y,strokeDashOffset:g,strokeLineJoin:v,strokeUniform:x,strokeMiterLimit:b,scaleX:w,scaleY:C,angle:B,flipX:_,flipY:k,opacity:E,visible:F,backgroundColor:M,fillRule:T,paintFirst:Q,globalCompositeOperation:P,skewX:H,skewY:I}=this;i&&!i.excludeFromExport&&(r=i.toObject(e.concat("inverted","absolutePositioned")));const L=V=>It(V,n),R=U(U({},xh(this,e)),{},{type:this.constructor.type,version:p6,originX:A,originY:h,left:L(c),top:L(u),width:L(f),height:L(p),fill:QD(s)?s.toObject():s,stroke:QD(o)?o.toObject():o,strokeWidth:L(m),strokeDashArray:l&&l.concat(),strokeLineCap:y,strokeDashOffset:g,strokeLineJoin:v,strokeUniform:x,strokeMiterLimit:L(b),scaleX:L(w),scaleY:L(C),angle:L(B),flipX:_,flipY:k,opacity:L(E),shadow:a&&a.toObject(),visible:F,backgroundColor:M,fillRule:T,paintFirst:Q,globalCompositeOperation:P,skewX:L(H),skewY:L(I)},r?{clipPath:r}:null);return this.includeDefaultValues?R:this._removeDefaultValues(R)}toDatalessObject(e){return this.toObject(e)}_removeDefaultValues(e){const r=this.constructor.getDefaults(),n=Object.keys(r).length>0?r:Object.getPrototypeOf(this);return Jk(e,(i,s)=>{if(s===lt||s===zn||s==="type")return!0;const o=n[s];return i!==o&&!(Array.isArray(i)&&Array.isArray(o)&&i.length===0&&o.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(e){let r=Lt(e,x2e),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:i}=n,s=Lt(n,b2e);return dw(r,s).then(o=>i?(delete o[i],new this(r[i],o)):new this(o))}static fromObject(e,r){return this._fromObject(e,r)}};j(To,"stateProperties",a2e),j(To,"cacheProperties",xa),j(To,"ownDefaults",l2e),j(To,"type","FabricObject"),j(To,"colorProperties",[xr,Gn,"backgroundColor"]),j(To,"customProperties",[]),we.setClass(To),we.setClass(To,"object");const bh=(t,e,r)=>(n,i,s,o)=>{const a=e(n,i,s,o);return a&&xz(t,U(U({},wz(n,i,s,o)),r)),a};function wh(t){return(e,r,n,i)=>{const{target:s,originX:o,originY:a}=r,l=s.getRelativeCenterPoint(),c=s.translateToOriginPoint(l,o,a),u=t(e,r,n,i);return s.setPositionByOrigin(c,r.originX,r.originY),u}}const qD=bh(Lm,wh((t,e,r,n)=>{const i=eE(e,e.originX,e.originY,r,n);if(cr(e.originX)===cr(Ue)||cr(e.originX)===cr(Xt)&&i.x<0||cr(e.originX)===cr(lt)&&i.x>0){const{target:s}=e,o=s.strokeWidth/(s.strokeUniform?s.scaleX:1),a=bz(e)?2:1,l=s.width,c=Math.abs(i.x*a/s.scaleX)-o;return s.set("width",Math.max(c,1)),l!==s.width}return!1}));function w2e(t,e,r,n,i){n=n||{};const s=this.sizeX||n.cornerSize||i.cornerSize,o=this.sizeY||n.cornerSize||i.cornerSize,a=n.transparentCorners!==void 0?n.transparentCorners:i.transparentCorners,l=a?Gn:xr,c=!a&&(n.cornerStrokeColor||i.cornerStrokeColor);let u,A=e,h=r;t.save(),t.fillStyle=n.cornerColor||i.cornerColor||"",t.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor||"",s>o?(u=s,t.scale(1,o/s),h=r*s/o):o>s?(u=o,t.scale(s/o,1),A=e*o/s):u=s,t.beginPath(),t.arc(A,h,u/2,0,db,!1),t[l](),c&&t.stroke(),t.restore()}function C2e(t,e,r,n,i){n=n||{};const s=this.sizeX||n.cornerSize||i.cornerSize,o=this.sizeY||n.cornerSize||i.cornerSize,a=n.transparentCorners!==void 0?n.transparentCorners:i.transparentCorners,l=a?Gn:xr,c=!a&&(n.cornerStrokeColor||i.cornerStrokeColor),u=s/2,A=o/2;t.save(),t.fillStyle=n.cornerColor||i.cornerColor||"",t.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor||"",t.translate(e,r);const h=i.getTotalAngle();t.rotate(tr(h)),t["".concat(l,"Rect")](-u,-A,s,o),c&&t.strokeRect(-u,-A,s,o),t.restore()}let ar=class{constructor(e){j(this,"visible",!0),j(this,"actionName",uw),j(this,"angle",0),j(this,"x",0),j(this,"y",0),j(this,"offsetX",0),j(this,"offsetY",0),j(this,"sizeX",0),j(this,"sizeY",0),j(this,"touchSizeX",0),j(this,"touchSizeY",0),j(this,"cursorStyle","crosshair"),j(this,"withConnection",!1),Object.assign(this,e)}shouldActivate(e,r,n,i){var s;let{tl:o,tr:a,br:l,bl:c}=i;return((s=r.canvas)===null||s===void 0?void 0:s.getActiveObject())===r&&r.isControlVisible(e)&&Mp.isPointInPolygon(n,[o,a,l,c])}getActionHandler(e,r,n){return this.actionHandler}getMouseDownHandler(e,r,n){return this.mouseDownHandler}getMouseUpHandler(e,r,n){return this.mouseUpHandler}cursorStyleHandler(e,r,n){return r.cursorStyle}getActionName(e,r,n){return r.actionName}getVisibility(e,r){var n,i;return(n=(i=e._controlsVisibility)===null||i===void 0?void 0:i[r])!==null&&n!==void 0?n:this.visible}setVisibility(e,r,n){this.visible=e}positionHandler(e,r,n,i){return new Z(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(r)}calcCornerCoords(e,r,n,i,s,o){const a=Xk([w0(n,i),C0({angle:e}),Yk((s?this.touchSizeX:this.sizeX)||r,(s?this.touchSizeY:this.sizeY)||r)]);return{tl:new Z(-.5,-.5).transform(a),tr:new Z(.5,-.5).transform(a),br:new Z(.5,.5).transform(a),bl:new Z(-.5,.5).transform(a)}}render(e,r,n,i,s){((i=i||{}).cornerStyle||s.cornerStyle)==="circle"?w2e.call(this,e,r,n,i,s):C2e.call(this,e,r,n,i,s)}};const B2e=(t,e,r)=>r.lockRotation?vb:e.cursorStyle,_2e=bh(sz,wh((t,e,r,n)=>{let{target:i,ex:s,ey:o,theta:a,originX:l,originY:c}=e;const u=i.translateToOriginPoint(i.getRelativeCenterPoint(),l,c);if(bs(i,"lockRotation"))return!1;const A=Math.atan2(o-u.y,s-u.x),h=Math.atan2(n-u.y,r-u.x);let f=Du(h-A+a);if(i.snapAngle&&i.snapAngle>0){const m=i.snapAngle,y=i.snapThreshold||m,g=Math.ceil(f/m)*m,v=Math.floor(f/m)*m;Math.abs(f-v)<y?f=v:Math.abs(f-g)<y&&(f=g)}f<0&&(f=360+f),f%=360;const p=i.angle!==f;return i.angle=f,p}));function Fz(t,e){const r=e.canvas,n=t[r.uniScaleKey];return r.uniformScaling&&!n||!r.uniformScaling&&n}function Mz(t,e,r){const n=bs(t,"lockScalingX"),i=bs(t,"lockScalingY");if(n&&i||!e&&(n||i)&&r||n&&e==="x"||i&&e==="y")return!0;const{width:s,height:o,strokeWidth:a}=t;return s===0&&a===0&&e!=="y"||o===0&&a===0&&e!=="x"}const S2e=["e","se","s","sw","w","nw","n","ne","e"],Vf=(t,e,r)=>{const n=Fz(t,r);if(Mz(r,e.x!==0&&e.y===0?"x":e.x===0&&e.y!==0?"y":"",n))return vb;const i=Cz(r,e);return"".concat(S2e[i],"-resize")};function nE(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const s=e.target,o=i.by,a=Fz(t,s);let l,c,u,A,h,f;if(Mz(s,o,a))return!1;if(e.gestureScale)c=e.scaleX*e.gestureScale,u=e.scaleY*e.gestureScale;else{if(l=eE(e,e.originX,e.originY,r,n),h=o!=="y"?Math.sign(l.x||e.signX||1):1,f=o!=="x"?Math.sign(l.y||e.signY||1):1,e.signX||(e.signX=h),e.signY||(e.signY=f),bs(s,"lockScalingFlip")&&(e.signX!==h||e.signY!==f))return!1;if(A=s._getTransformedDimensions(),a&&!o){const y=Math.abs(l.x)+Math.abs(l.y),{original:g}=e,v=y/(Math.abs(A.x*g.scaleX/s.scaleX)+Math.abs(A.y*g.scaleY/s.scaleY));c=g.scaleX*v,u=g.scaleY*v}else c=Math.abs(l.x*s.scaleX/A.x),u=Math.abs(l.y*s.scaleY/A.y);bz(e)&&(c*=2,u*=2),e.signX!==h&&o!=="y"&&(e.originX=$D(e.originX),c*=-1,e.signX=h),e.signY!==f&&o!=="x"&&(e.originY=$D(e.originY),u*=-1,e.signY=f)}const p=s.scaleX,m=s.scaleY;return o?(o==="x"&&s.set(Jn,c),o==="y"&&s.set(Wi,u)):(!bs(s,"lockScalingX")&&s.set(Jn,c),!bs(s,"lockScalingY")&&s.set(Wi,u)),p!==s.scaleX||m!==s.scaleY}const Fg=bh(cw,wh((t,e,r,n)=>nE(t,e,r,n))),k2e=bh(cw,wh((t,e,r,n)=>nE(t,e,r,n,{by:"x"}))),E2e=bh(cw,wh((t,e,r,n)=>nE(t,e,r,n,{by:"y"}))),F2e=["target","ex","ey","skewingSide"],M3={x:{counterAxis:"y",scale:Jn,skew:yh,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:Wi,skew:vh,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},M2e=["ns","nesw","ew","nwse"],T2e=(t,e,r)=>{if(e.x!==0&&bs(r,"lockSkewingY")||e.y!==0&&bs(r,"lockSkewingX"))return vb;const n=Cz(r,e)%4;return"".concat(M2e[n],"-resize")};function Tz(t,e,r,n,i){const{target:s}=r,{counterAxis:o,origin:a,lockSkewing:l,skew:c,flip:u}=M3[t];if(bs(s,l))return!1;const{origin:A,flip:h}=M3[o],f=cr(r[A])*(s[h]?-1:1),p=-Math.sign(f)*(s[u]?-1:1),m=.5*-((s[c]===0&&eE(r,Ue,Ue,n,i)[t]>0||s[c]>0?1:-1)*p)+.5;return bh(oz,wh((g,v,x,b)=>function(w,C,B){let{target:_,ex:k,ey:E,skewingSide:F}=C,M=Lt(C,F2e);const{skew:T}=M3[w],Q=B.subtract(new Z(k,E)).divide(new Z(_.scaleX,_.scaleY))[w],P=_[T],H=M[T],I=Math.tan(tr(H)),L=w==="y"?_._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:_._getTransformedDimensions({scaleX:1,scaleY:1}).y,R=2*Q*F/Math.max(L,1)+I,V=Du(Math.atan(R));_.set(T,V);const Y=P!==_[T];if(Y&&w==="y"){const{skewX:re,scaleX:se}=_,ie=_._getTransformedDimensions({skewY:P}),Ae=_._getTransformedDimensions(),G=re!==0?ie.x/Ae.x:1;G!==1&&_.set(Jn,G*se)}return Y}(t,v,new Z(x,b))))(e,U(U({},r),{},{[a]:m,skewingSide:p}),n,i)}const D2e=(t,e,r,n)=>Tz("x",t,e,r,n),L2e=(t,e,r,n)=>Tz("y",t,e,r,n);function pw(t,e){return t[e.canvas.altActionKey]}const Mg=(t,e,r)=>{const n=pw(t,r);return e.x===0?n?yh:Wi:e.y===0?n?vh:Jn:""},ZA=(t,e,r)=>pw(t,r)?T2e(0,e,r):Vf(t,e,r),XD=(t,e,r,n)=>pw(t,e.target)?L2e(t,e,r,n):k2e(t,e,r,n),YD=(t,e,r,n)=>pw(t,e.target)?D2e(t,e,r,n):E2e(t,e,r,n),Dz=()=>({ml:new ar({x:-.5,y:0,cursorStyleHandler:ZA,actionHandler:XD,getActionName:Mg}),mr:new ar({x:.5,y:0,cursorStyleHandler:ZA,actionHandler:XD,getActionName:Mg}),mb:new ar({x:0,y:.5,cursorStyleHandler:ZA,actionHandler:YD,getActionName:Mg}),mt:new ar({x:0,y:-.5,cursorStyleHandler:ZA,actionHandler:YD,getActionName:Mg}),tl:new ar({x:-.5,y:-.5,cursorStyleHandler:Vf,actionHandler:Fg}),tr:new ar({x:.5,y:-.5,cursorStyleHandler:Vf,actionHandler:Fg}),bl:new ar({x:-.5,y:.5,cursorStyleHandler:Vf,actionHandler:Fg}),br:new ar({x:.5,y:.5,cursorStyleHandler:Vf,actionHandler:Fg}),mtr:new ar({x:0,y:-.5,actionHandler:_2e,cursorStyleHandler:B2e,offsetY:-40,withConnection:!0,actionName:Gk})}),j2e=()=>({mr:new ar({x:.5,y:0,actionHandler:qD,cursorStyleHandler:ZA,actionName:Lm}),ml:new ar({x:-.5,y:0,actionHandler:qD,cursorStyleHandler:ZA,actionName:Lm})}),O2e=()=>U(U({},Dz()),j2e());class ju extends To{static getDefaults(){return U(U({},super.getDefaults()),ju.ownDefaults)}constructor(e){super(),Object.assign(this,this.constructor.createControls(),ju.ownDefaults),this.setOptions(e)}static createControls(){return{controls:Dz()}}_updateCacheCanvas(){const e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){const r=e._currentTransform,n=r.target,i=r.action;if(this===n&&i&&i.startsWith(uw))return!1}return super._updateCacheCanvas()}getActiveControl(){const e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}findControl(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const n=Object.entries(this.oCoords);for(let i=n.length-1;i>=0;i--){const[s,o]=n[i],a=this.controls[s];if(a.shouldActivate(s,this,e,r?o.touchCorner:o.corner))return this.__corner=s,{key:s,control:a,coord:this.oCoords[s]}}}calcOCoords(){const e=this.getViewportTransform(),r=this.getCenterPoint(),n=w0(r.x,r.y),i=C0({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),s=Hr(n,i),o=Hr(e,s),a=Hr(o,[1/e[0],0,0,1/e[3],0,0]),l=this.group?mb(this.calcTransformMatrix()):void 0;l&&(l.scaleX=Math.abs(l.scaleX),l.scaleY=Math.abs(l.scaleY));const c=this._calculateCurrentDimensions(l),u={};return this.forEachControl((A,h)=>{const f=A.positionHandler(c,a,this,A);u[h]=Object.assign(f,this._calcCornerCoords(A,f))}),u}_calcCornerCoords(e,r){const n=this.getTotalAngle();return{corner:e.calcCornerCoords(n,this.cornerSize,r.x,r.y,!1,this),touchCorner:e.calcCornerCoords(n,this.touchCornerSize,r.x,r.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(e){for(const r in this.controls)e(this.controls[r],r,this)}drawSelectionBackground(e){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;e.save();const r=this.getRelativeCenterPoint(),n=this._calculateCurrentDimensions(),i=this.getViewportTransform();e.translate(r.x,r.y),e.scale(1/i[0],1/i[3]),e.rotate(tr(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-n.x/2,-n.y/2,n.x,n.y),e.restore()}strokeBorders(e,r){e.strokeRect(-r.x/2,-r.y/2,r.x,r.y)}_drawBorders(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=U({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},n);e.save(),e.strokeStyle=i.borderColor,this._setLineDash(e,i.borderDashArray),this.strokeBorders(e,r),i.hasControls&&this.drawControlsConnectingLines(e,r),e.restore()}_renderControls(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:n,hasControls:i}=this,s=U({hasBorders:n,hasControls:i},r),o=this.getViewportTransform(),a=s.hasBorders,l=s.hasControls,c=Hr(o,this.calcTransformMatrix()),u=mb(c);e.save(),e.translate(u.translateX,u.translateY),e.lineWidth=this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(u.angle-=180),e.rotate(tr(this.group?u.angle:this.angle)),a&&this.drawBorders(e,u,r),l&&this.drawControls(e,r),e.restore()}drawBorders(e,r,n){let i;if(n&&n.forActiveSelection||this.group){const s=Zk(this.width,this.height,Aw(r)),o=this.isStrokeAccountedForInDimensions()?qk:(this.strokeUniform?new Z().scalarAdd(this.canvas?this.canvas.getZoom():1):new Z(r.scaleX,r.scaleY)).scalarMultiply(this.strokeWidth);i=s.add(o).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else i=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,i,n)}drawControlsConnectingLines(e,r){let n=!1;e.beginPath(),this.forEachControl((i,s)=>{i.withConnection&&i.getVisibility(this,s)&&(n=!0,e.moveTo(i.x*r.x,i.y*r.y),e.lineTo(i.x*r.x+i.offsetX,i.y*r.y+i.offsetY))}),n&&e.stroke()}drawControls(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.save();const n=this.getCanvasRetinaScaling(),{cornerStrokeColor:i,cornerDashArray:s,cornerColor:o}=this,a=U({cornerStrokeColor:i,cornerDashArray:s,cornerColor:o},r);e.setTransform(n,0,0,n,0,0),e.strokeStyle=e.fillStyle=a.cornerColor,this.transparentCorners||(e.strokeStyle=a.cornerStrokeColor),this._setLineDash(e,a.cornerDashArray),this.forEachControl((l,c)=>{if(l.getVisibility(this,c)){const u=this.oCoords[c];l.render(e,u.x,u.y,a,this)}}),e.restore()}isControlVisible(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}setControlVisible(e,r){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=r}setControlsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(e).forEach(r=>{let[n,i]=r;return this.setControlVisible(n,i)})}clearContextTop(e){if(!this.canvas)return;const r=this.canvas.contextTop;if(!r)return;const n=this.canvas.viewportTransform;r.save(),r.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(r);const i=this.width+4,s=this.height+4;return r.clearRect(-i/2,-s/2,i,s),e||r.restore(),r}onDeselect(e){return!1}onSelect(e){return!1}shouldStartDragging(e){return!1}onDragStart(e){return!1}canDrop(e){return!1}renderDragSourceEffect(e){}renderDropTargetEffect(e){}}function Lz(t,e){return e.forEach(r=>{Object.getOwnPropertyNames(r.prototype).forEach(n=>{n!=="constructor"&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(r.prototype,n)||Object.create(null))})}),t}j(ju,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});let un=class extends ju{};Lz(un,[Bz]),we.setClass(un),we.setClass(un,"object");const N2e=(t,e,r,n)=>{const i=2*(n=Math.round(n))+1,{data:s}=t.getImageData(e-n,r-n,i,i);for(let o=3;o<s.length;o+=4)if(s[o]>0)return!1;return!0};let jz=class{constructor(e){this.options=e,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new Z(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new Z(1/this.options.scaleX,1/this.options.scaleY):new Z(1,1)}createSideVector(e,r){const n=x6(e,r);return this.options.strokeUniform?n.multiply(this.scale):n}projectOrthogonally(e,r,n){return this.applySkew(e.add(this.calcOrthogonalProjection(e,r,n)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(e){const r=new Z(e);return r.y+=r.x*Math.tan(tr(this.options.skewY)),r.x+=r.y*Math.tan(tr(this.options.skewX)),r}scaleUnitVector(e,r){return e.multiply(this.strokeUniformScalar).scalarMultiply(r)}};const I2e=new Z;let Oz=class Ov extends jz{static getOrthogonalRotationFactor(e,r){const n=r?w6(e,r):s2e(e);return Math.abs(n)<b0?-1:1}constructor(e,r,n,i){super(i),j(this,"AB",void 0),j(this,"AC",void 0),j(this,"alpha",void 0),j(this,"bisector",void 0),this.A=new Z(e),this.B=new Z(r),this.C=new Z(n),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=w6(this.AB,this.AC),this.bisector=tE(Sz(this.AB.eq(I2e)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,r),s=kz(i),o=Ov.getOrthogonalRotationFactor(s,this.bisector);return this.scaleUnitVector(s,n*o)}projectBevel(){const e=[];return(this.alpha%db==0?[this.B]:[this.B,this.C]).forEach(r=>{e.push(this.projectOrthogonally(this.A,r)),e.push(this.projectOrthogonally(this.A,r,-this.strokeProjectionMagnitude))}),e}projectMiter(){const e=[],r=Math.abs(this.alpha),n=1/Math.sin(r/2),i=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*n),s=this.options.strokeUniform?b6(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return b6(i)/this.strokeProjectionMagnitude<=s&&e.push(this.applySkew(this.A.add(i))),e.push(...this.projectBevel()),e}projectRoundNoSkew(e,r){const n=[],i=new Z(Ov.getOrthogonalRotationFactor(this.bisector),Ov.getOrthogonalRotationFactor(new Z(this.bisector.y,this.bisector.x)));return[new Z(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i),new Z(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i)].forEach(s=>{zD(s,e,r)&&n.push(this.A.add(s))}),n}projectRoundWithSkew(e,r){const n=[],{skewX:i,skewY:s,scaleX:o,scaleY:a,strokeUniform:l}=this.options,c=new Z(Math.tan(tr(i)),Math.tan(tr(s))),u=this.strokeProjectionMagnitude,A=l?u/a/Math.sqrt(1/a**2+1/o**2*c.y**2):u/Math.sqrt(1+c.y**2),h=new Z(Math.sqrt(Math.max(u**2-A**2,0)),A),f=l?u/Math.sqrt(1+c.x**2*(1/a)**2/(1/o+1/o*c.x*c.y)**2):u/Math.sqrt(1+c.x**2/(1+c.x*c.y)**2),p=new Z(f,Math.sqrt(Math.max(u**2-f**2,0)));return[p,p.scalarMultiply(-1),h,h.scalarMultiply(-1)].map(m=>this.applySkew(l?m.multiply(this.strokeUniformScalar):m)).forEach(m=>{zD(m,e,r)&&n.push(this.applySkew(this.A).add(m))}),n}projectRound(){const e=[];e.push(...this.projectBevel());const r=this.alpha%db==0,n=this.applySkew(this.A),i=e[r?0:2].subtract(n),s=e[r?1:0].subtract(n),o=r?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),a=Fp(i,o)>0,l=a?i:s,c=a?s:i;return this.isSkewed()?e.push(...this.projectRoundWithSkew(l,c)):e.push(...this.projectRoundNoSkew(l,c)),e}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e,angle:this.alpha,bisector:this.bisector}))}},JD=class extends jz{constructor(e,r,n){super(n),this.A=new Z(e),this.T=new Z(r)}calcOrthogonalProjection(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,r);return this.scaleUnitVector(kz(i),n)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const e=[];if(!this.isSkewed()&&this.A.eq(this.T)){const r=new Z(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(r)),this.applySkew(this.A.subtract(r)))}else e.push(...new Oz(this.A,this.T,this.T,this.options).projectRound());return e}projectSquare(){const e=[];if(this.A.eq(this.T)){const r=new Z(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.A.add(r),this.A.subtract(r))}else{const r=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),n=this.scaleUnitVector(tE(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),i=this.A.add(n);e.push(i.add(r),i.subtract(r))}return e.map(r=>this.applySkew(r))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e}))}};const U2e=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const n=[];if(t.length===0)return n;const i=t.reduce((s,o)=>(s[s.length-1].eq(o)||s.push(new Z(o)),s),[new Z(t[0])]);if(i.length===1)r=!0;else if(!r){const s=i[0],o=((a,l)=>{for(let c=a.length-1;c>=0;c--)if(l(a[c],c,a))return c;return-1})(i,a=>!a.eq(s));i.splice(o+1)}return i.forEach((s,o,a)=>{let l,c;o===0?(c=a[1],l=r?s:a[a.length-1]):o===a.length-1?(l=a[o-1],c=r?s:a[0]):(l=a[o-1],c=a[o+1]),r&&a.length===1?n.push(...new JD(s,s,e).project()):!r||o!==0&&o!==a.length-1?n.push(...new Oz(s,l,c,e).project()):n.push(...new JD(s,o===0?c:l,e).project())}),n},iE=t=>{const e={};return Object.keys(t).forEach(r=>{e[r]={},Object.keys(t[r]).forEach(n=>{e[r][n]=U({},t[r][n])})}),e},P2e=t=>t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),sE=t=>{const e=[];for(let r,n=0;n<t.length;n++)(r=Q2e(t,n))!==!1&&e.push(r);return e},Q2e=(t,e)=>{const r=t.charCodeAt(e);if(isNaN(r))return"";if(r<55296||r>57343)return t.charAt(e);if(55296<=r&&r<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";const i=t.charCodeAt(e+1);if(56320>i||i>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";const n=t.charCodeAt(e-1);if(55296>n||n>56319)throw"Low surrogate without preceding high surrogate";return!1},oE=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.textBackgroundColor!==e.textBackgroundColor||t.deltaY!==e.deltaY||r&&(t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough)},R2e=(t,e)=>{const r=e.split(`
`),n=[];let i=-1,s={};t=iE(t);for(let o=0;o<r.length;o++){const a=sE(r[o]);if(t[o])for(let l=0;l<a.length;l++){i++;const c=t[o][l];c&&Object.keys(c).length>0&&(oE(s,c,!0)?n.push({start:i,end:i+1,style:c}):n[n.length-1].end++),s=c||{}}else i+=a.length,s={}}return n},H2e=(t,e)=>{if(!Array.isArray(t))return iE(t);const r=e.split(Wk),n={};let i=-1,s=0;for(let o=0;o<r.length;o++){const a=sE(r[o]);for(let l=0;l<a.length;l++)i++,t[s]&&t[s].start<=i&&i<t[s].end&&(n[o]=n[o]||{},n[o][l]=U({},t[s].style),i===t[s].end-1&&s++)}return n},oc=["display","transform",xr,"fill-opacity","fill-rule","opacity",Gn,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function ZD(t,e){const r=t.nodeName,n=t.getAttribute("class"),i=t.getAttribute("id"),s="(?![a-zA-Z\\-]+)";let o;if(o=new RegExp("^"+r,"i"),e=e.replace(o,""),i&&e.length&&(o=new RegExp("#"+i+s,"i"),e=e.replace(o,"")),n&&e.length){const a=n.split(" ");for(let l=a.length;l--;)o=new RegExp("\\."+a[l]+s,"i"),e=e.replace(o,"")}return e.length===0}function $2e(t,e){let r=!0;const n=ZD(t,e.pop());return n&&e.length&&(r=function(i,s){let o,a=!0;for(;i.parentElement&&i.parentElement.nodeType===1&&s.length;)a&&(o=s.pop()),a=ZD(i=i.parentElement,o);return s.length===0}(t,e)),n&&r&&e.length===0}const V2e=t=>{var e;return(e=n2e[t])!==null&&e!==void 0?e:t},K2e=new RegExp("(".concat(Lu,")"),"gi"),z2e=t=>t.replace(K2e," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var eL,tL,rL,nL,iL,sL,oL;const bn="(".concat(Lu,")"),W2e=String.raw(eL||(eL=sc(["(skewX)(",")"],["(skewX)\\(","\\)"])),bn),G2e=String.raw(tL||(tL=sc(["(skewY)(",")"],["(skewY)\\(","\\)"])),bn),q2e=String.raw(rL||(rL=sc(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),bn,bn,bn),X2e=String.raw(nL||(nL=sc(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),bn,bn),Y2e=String.raw(iL||(iL=sc(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),bn,bn),J2e=String.raw(sL||(sL=sc(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),bn,bn,bn,bn,bn,bn),aE="(?:".concat(J2e,"|").concat(Y2e,"|").concat(q2e,"|").concat(X2e,"|").concat(W2e,"|").concat(G2e,")"),Z2e="(?:".concat(aE,"*)"),ewe=String.raw(oL||(oL=sc(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),Z2e),twe=new RegExp(ewe),rwe=new RegExp(aE),nwe=new RegExp(aE,"g");function C6(t){const e=[];if(!(t=z2e(t).replace(/\s*([()])\s*/gi,"$1"))||t&&!twe.test(t))return[..._n];for(const r of t.matchAll(nwe)){const n=rwe.exec(r[0]);if(!n)continue;let i=_n;const s=n.filter(p=>!!p),[,o,...a]=s,[l,c,u,A,h,f]=a.map(p=>parseFloat(p));switch(o){case"translate":i=w0(l,c);break;case Gk:i=C0({angle:l},{x:c,y:u});break;case uw:i=Yk(l,c);break;case yh:i=hz(l);break;case vh:i=fz(l);break;case"matrix":i=[l,c,u,A,h,f]}e.push(i)}return Xk(e)}function iwe(t,e,r,n){const i=Array.isArray(e);let s,o=e;if(t!==xr&&t!==Gn||e!==Wn){if(t==="strokeUniform")return e==="non-scaling-stroke";if(t==="strokeDashArray")o=e===Wn?null:e.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(t==="transformMatrix")o=r&&r.transformMatrix?Hr(r.transformMatrix,C6(e)):C6(e);else if(t==="visible")o=e!==Wn&&e!=="hidden",r&&r.visible===!1&&(o=!1);else if(t==="opacity")o=parseFloat(e),r&&r.opacity!==void 0&&(o*=r.opacity);else if(t==="textAnchor")o=e==="start"?lt:e==="end"?Xt:Ue;else if(t==="charSpacing")s=wd(e,n)/n*1e3;else if(t==="paintFirst"){const a=e.indexOf(xr),l=e.indexOf(Gn);o=xr,(a>-1&&l>-1&&l<a||a===-1&&l>-1)&&(o=Gn)}else{if(t==="href"||t==="xlink:href"||t==="font"||t==="id")return e;if(t==="imageSmoothing")return e==="optimizeQuality";s=i?e.map(wd):wd(e,n)}}else o="";return!i&&isNaN(s)?o:s}function swe(t,e){const r=t.match(r2e);if(!r)return;const n=r[1],i=r[3],s=r[4],o=r[5],a=r[6];n&&(e.fontStyle=n),i&&(e.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),s&&(e.fontSize=wd(s)),a&&(e.fontFamily=a),o&&(e.lineHeight=o==="normal"?1:o)}function owe(t,e){t.replace(/;\s*$/,"").split(";").forEach(r=>{if(!r)return;const[n,i]=r.split(":");e[n.trim().toLowerCase()]=i.trim()})}function awe(t){const e={},r=t.getAttribute("style");return r&&(typeof r=="string"?owe(r,e):function(n,i){Object.entries(n).forEach(s=>{let[o,a]=s;a!==void 0&&(i[o.toLowerCase()]=a)})}(r,e)),e}const lwe={stroke:"strokeOpacity",fill:"fillOpacity"};function ba(t,e,r){if(!t)return{};let n,i={},s=zk;t.parentNode&&KD.test(t.parentNode.nodeName)&&(i=ba(t.parentElement,e,r),i.fontSize&&(n=s=wd(i.fontSize)));const o=U(U(U({},e.reduce((c,u)=>{const A=t.getAttribute(u);return A&&(c[u]=A),c},{})),function(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A={};for(const h in u)$2e(c,h.split(" "))&&(A=U(U({},A),u[h]));return A}(t,r)),awe(t));o[E3]&&t.setAttribute(E3,o[E3]),o[k3]&&(n=wd(o[k3],s),o[k3]="".concat(n));const a={};for(const c in o){const u=V2e(c),A=iwe(u,o[c],i,n);a[u]=A}a.font&&swe(a.font,a);const l=U(U({},i),a);return KD.test(t.nodeName)?l:function(c){const u=un.getDefaults();return Object.entries(lwe).forEach(A=>{let[h,f]=A;if(c[f]===void 0||c[h]==="")return;if(c[h]===void 0){if(!u[h])return;c[h]=u[h]}if(c[h].indexOf("url(")===0)return;const p=new Zn(c[h]);c[h]=p.setAlpha(It(p.getAlpha()*c[f],2)).toRgba()}),c}(l)}const cwe=["left","top","width","height","visible"],Nz=["rx","ry"];let Po=class B6 extends un{static getDefaults(){return U(U({},super.getDefaults()),B6.ownDefaults)}constructor(e){super(),Object.assign(this,B6.ownDefaults),this.setOptions(e),this._initRxRy()}_initRxRy(){const{rx:e,ry:r}=this;e&&!r?this.ry=e:r&&!e&&(this.rx=r)}_render(e){const{width:r,height:n}=this,i=-r/2,s=-n/2,o=this.rx?Math.min(this.rx,r/2):0,a=this.ry?Math.min(this.ry,n/2):0,l=o!==0||a!==0;e.beginPath(),e.moveTo(i+o,s),e.lineTo(i+r-o,s),l&&e.bezierCurveTo(i+r-ka*o,s,i+r,s+ka*a,i+r,s+a),e.lineTo(i+r,s+n-a),l&&e.bezierCurveTo(i+r,s+n-ka*a,i+r-ka*o,s+n,i+r-o,s+n),e.lineTo(i+o,s+n),l&&e.bezierCurveTo(i+ka*o,s+n,i,s+n-ka*a,i,s+n-a),e.lineTo(i,s+a),l&&e.bezierCurveTo(i,s+ka*a,i+ka*o,s,i+o,s),e.closePath(),this._renderPaintInOrder(e)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...Nz,...e])}_toSVG(){const{width:e,height:r,rx:n,ry:i}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-r/2,'" rx="').concat(n,'" ry="').concat(i,'" width="').concat(e,'" height="').concat(r,`" />
`)]}static async fromElement(e,r,n){const i=ba(e,this.ATTRIBUTE_NAMES,n),{left:s=0,top:o=0,width:a=0,height:l=0,visible:c=!0}=i,u=Lt(i,cwe);return new this(U(U(U({},r),u),{},{left:s,top:o,width:a,height:l,visible:!!(c&&a&&l)}))}};j(Po,"type","Rect"),j(Po,"cacheProperties",[...xa,...Nz]),j(Po,"ownDefaults",{rx:0,ry:0}),j(Po,"ATTRIBUTE_NAMES",[...oc,"x","y","rx","ry","width","height"]),we.setClass(Po),we.setSVGClass(Po);const Go="initialization",xb="added",lE="removed",bb="imperative",Iz=(t,e)=>{const{strokeUniform:r,strokeWidth:n,width:i,height:s,group:o}=e,a=o&&o!==t?hw(o.calcTransformMatrix(),t.calcTransformMatrix()):null,l=a?e.getRelativeCenterPoint().transform(a):e.getRelativeCenterPoint(),c=!e.isStrokeAccountedForInDimensions(),u=r&&c?Jbe(new Z(n,n),void 0,t.calcTransformMatrix()):qk,A=!r&&c?n:0,h=Zk(i+A,s+A,Xk([a,e.calcOwnMatrix()],!0)).add(u).scalarDivide(2);return[l.subtract(h),l.add(h)]};let mw=class{calcLayoutResult(e,r){if(this.shouldPerformLayout(e))return this.calcBoundingBox(r,e)}shouldPerformLayout(e){let{type:r,prevStrategy:n,strategy:i}=e;return r===Go||r===bb||!!n&&i!==n}shouldLayoutClipPath(e){let{type:r,target:{clipPath:n}}=e;return r!==Go&&n&&!n.absolutePositioned}getInitialSize(e,r){return r.size}calcBoundingBox(e,r){const{type:n,target:i}=r;if(n===bb&&r.overrides)return r.overrides;if(e.length===0)return;const{left:s,top:o,width:a,height:l}=ta(e.map(A=>Iz(i,A)).reduce((A,h)=>A.concat(h),[])),c=new Z(a,l),u=new Z(s,o).add(c.scalarDivide(2));if(n===Go){const A=this.getInitialSize(r,{size:c,center:u});return{center:u,relativeCorrection:new Z(0,0),size:A}}return{center:u.transform(i.calcOwnMatrix()),size:c}}};j(mw,"type","strategy");let _6=class extends mw{shouldPerformLayout(e){return!0}};j(_6,"type","fit-content"),we.setClass(_6);const uwe=["strategy"],Awe=["target","strategy","bubbles","prevStrategy"],Uz="layoutManager";let Nm=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new _6;j(this,"strategy",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(e){const r=U(U({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(r);const n=this.getLayoutResult(r);n&&this.commitLayout(r,n),this.onAfterLayout(r,n),this._prevLayoutStrategy=r.strategy}attachHandlers(e,r){const{target:n}=r;return[fb,iz,Lm,sz,cw,oz,hb,Ibe,Ube].map(i=>e.on(i,s=>this.performLayout(i===fb?{type:"object_modified",trigger:i,e:s,target:n}:{type:"object_modifying",trigger:i,e:s,target:n})))}subscribe(e,r){this.unsubscribe(e,r);const n=this.attachHandlers(e,r);this._subscriptions.set(e,n)}unsubscribe(e,r){(this._subscriptions.get(e)||[]).forEach(n=>n()),this._subscriptions.delete(e)}unsubscribeTargets(e){e.targets.forEach(r=>this.unsubscribe(r,e))}subscribeTargets(e){e.targets.forEach(r=>this.subscribe(r,e))}onBeforeLayout(e){const{target:r,type:n}=e,{canvas:i}=r;if(n===Go||n===xb?this.subscribeTargets(e):n===lE&&this.unsubscribeTargets(e),r.fire("layout:before",{context:e}),i&&i.fire("object:layout:before",{target:r,context:e}),n===bb&&e.deep){const s=Lt(e,uwe);r.forEachObject(o=>o.layoutManager&&o.layoutManager.performLayout(U(U({},s),{},{bubbles:!1,target:o})))}}getLayoutResult(e){const{target:r,strategy:n,type:i}=e,s=n.calcLayoutResult(e,r.getObjects());if(!s)return;const o=i===Go?new Z:r.getRelativeCenterPoint(),{center:a,correction:l=new Z,relativeCorrection:c=new Z}=s,u=o.subtract(a).add(l).transform(i===Go?_n:ps(r.calcOwnMatrix()),!0).add(c);return{result:s,prevCenter:o,nextCenter:a,offset:u}}commitLayout(e,r){const{target:n}=e,{result:{size:i},nextCenter:s}=r;var o,a;n.set({width:i.x,height:i.y}),this.layoutObjects(e,r),e.type===Go?n.set({left:(o=e.x)!==null&&o!==void 0?o:s.x+i.x*cr(n.originX),top:(a=e.y)!==null&&a!==void 0?a:s.y+i.y*cr(n.originY)}):(n.setPositionByOrigin(s,Ue,Ue),n.setCoords(),n.set("dirty",!0))}layoutObjects(e,r){const{target:n}=e;n.forEachObject(i=>{i.group===n&&this.layoutObject(e,r,i)}),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,r,n.clipPath)}layoutObject(e,r,n){let{offset:i}=r;n.set({left:n.left+i.x,top:n.top+i.y})}onAfterLayout(e,r){const{target:n,strategy:i,bubbles:s,prevStrategy:o}=e,a=Lt(e,Awe),{canvas:l}=n;n.fire("layout:after",{context:e,result:r}),l&&l.fire("object:layout:after",{context:e,result:r,target:n});const c=n.parent;s&&c!=null&&c.layoutManager&&((a.path||(a.path=[])).push(n),c.layoutManager.performLayout(U(U({},a),{},{target:c}))),n.set("dirty",!0)}dispose(){const{_subscriptions:e}=this;e.forEach(r=>r.forEach(n=>n())),e.clear()}toObject(){return{type:Uz,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}};we.setClass(Nm,Uz);const dwe=["type","objects","layoutManager"];let hwe=class extends Nm{performLayout(){}},Nv=class S6 extends az(un){static getDefaults(){return U(U({},super.getDefaults()),S6.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),j(this,"_activeObjects",[]),j(this,"__objectSelectionTracker",void 0),j(this,"__objectSelectionDisposer",void 0),Object.assign(this,S6.ownDefaults),this.setOptions(r),this.groupInit(e,r)}groupInit(e,r){var n;this._objects=[...e],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(i=>{this.enterGroup(i,!1)}),this.layoutManager=(n=r.layoutManager)!==null&&n!==void 0?n:new Nm,this.layoutManager.performLayout({type:Go,target:this,targets:[...e],x:r.left,y:r.top})}canEnterGroup(e){return e===this||this.isDescendantOf(e)?(Vl("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(e)===-1||(Vl("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(e){return e.filter((r,n,i)=>this.canEnterGroup(r)&&i.indexOf(r)===n)}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];const i=this._filterObjectsBeforeEnteringGroup(r),s=super.add(...i);return this._onAfterObjectsChange(xb,i),s}insertAt(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const s=this._filterObjectsBeforeEnteringGroup(n),o=super.insertAt(e,...s);return this._onAfterObjectsChange(xb,s),o}remove(){const e=super.remove(...arguments);return this._onAfterObjectsChange(lE,e),e}_onObjectAdded(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e,r){this.exitGroup(e,r),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onAfterObjectsChange(e,r){this.layoutManager.performLayout({type:e,targets:r,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(e,r){const n=this[e];return super._set(e,r),e==="canvas"&&n!==r&&(this._objects||[]).forEach(i=>{i._set(e,r)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(e,r){let{target:n}=r;const i=this._activeObjects;if(e)i.push(n),this._set("dirty",!0);else if(i.length>0){const s=i.indexOf(n);s>-1&&(i.splice(s,1),this._set("dirty",!0))}}_watchObject(e,r){e&&this._watchObject(!1,r),e?(r.on("selected",this.__objectSelectionTracker),r.on("deselected",this.__objectSelectionDisposer)):(r.off("selected",this.__objectSelectionTracker),r.off("deselected",this.__objectSelectionDisposer))}enterGroup(e,r){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,r)}_enterGroup(e,r){r&&yb(e,Hr(ps(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);const n=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();n&&(n===e||e.isDescendantOf(n))&&this._activeObjects.push(e)}exitGroup(e,r){this._exitGroup(e,r),e._set("parent",void 0),e._set("canvas",void 0)}_exitGroup(e,r){e._set("group",void 0),r||(yb(e,Hr(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);const n=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;n>-1&&this._activeObjects.splice(n,1)}shouldCache(){const e=un.prototype.shouldCache.call(this);if(e){for(let r=0;r<this._objects.length;r++)if(this._objects[r].willDrawShadow())return this.ownCaching=!1,!1}return e}willDrawShadow(){if(super.willDrawShadow())return!0;for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(e,r,n){this._renderBackground(e);for(let s=0;s<this._objects.length;s++){var i;const o=this._objects[s];(i=this.canvas)!==null&&i!==void 0&&i.preserveObjectStacking&&o.group!==this?(e.save(),e.transform(...ps(this.calcTransformMatrix())),o.render(e),e.restore()):o.group===this&&o.render(e)}this._drawClipPath(e,this.clipPath,n)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(e=>e.setCoords())}triggerLayout(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(U({target:this,type:bb},e))}render(e){this._transformDone=!0,super.render(e),this._transformDone=!1}__serializeObjects(e,r){const n=this.includeDefaultValues;return this._objects.filter(function(i){return!i.excludeFromExport}).map(function(i){const s=i.includeDefaultValues;i.includeDefaultValues=n;const o=i[e||"toObject"](r);return i.includeDefaultValues=s,o})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=this.layoutManager.toObject();return U(U(U({},super.toObject(["subTargetCheck","interactive",...e])),r.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:r}:{}),{},{objects:this.__serializeObjects("toObject",e)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(e=>{this._watchObject(!1,e),e.dispose()}),super.dispose()}_createSVGBgRect(e){if(!this.backgroundColor)return"";const r=Po.prototype._toSVG.call(this),n=r.indexOf("COMMON_PARTS");r[n]='for="group" ';const i=r.join("");return e?e(i):i}_toSVG(e){const r=["<g ","COMMON_PARTS",` >
`],n=this._createSVGBgRect(e);n&&r.push("		",n);for(let i=0;i<this._objects.length;i++)r.push("		",this._objects[i].toSVG(e));return r.push(`</g>
`),r}getSvgStyles(){const e=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",r=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),r].join("")}toClipPathSVG(e){const r=[],n=this._createSVGBgRect(e);n&&r.push("	",n);for(let i=0;i<this._objects.length;i++)r.push("	",this._objects[i].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(r,{reviver:e})}static fromObject(e,r){let{type:n,objects:i=[],layoutManager:s}=e,o=Lt(e,dwe);return Promise.all([jm(i,r),dw(o,r)]).then(a=>{let[l,c]=a;const u=new this(l,U(U(U({},o),c),{},{layoutManager:new hwe}));if(s){const A=we.getClass(s.type),h=we.getClass(s.strategy);u.layoutManager=new A(new h)}else u.layoutManager=new Nm;return u.layoutManager.subscribeTargets({type:Go,target:u,targets:u.getObjects()}),u.setCoords(),u})}};j(Nv,"type","Group"),j(Nv,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),we.setClass(Nv);const fwe=(t,e)=>Math.min(e.width/t.width,e.height/t.height),pwe=(t,e)=>Math.max(e.width/t.width,e.height/t.height),k6="\\s*,?\\s*",ef="".concat(k6,"(").concat(Lu,")"),mwe="".concat(ef).concat(ef).concat(ef).concat(k6,"([01])").concat(k6,"([01])").concat(ef).concat(ef),gwe={m:"l",M:"L"},ywe=(t,e,r,n,i,s,o,a,l,c,u)=>{const A=Aa(t),h=da(t),f=Aa(e),p=da(e),m=r*i*f-n*s*p+o,y=n*i*f+r*s*p+a;return["C",c+l*(-r*i*h-n*s*A),u+l*(-n*i*h+r*s*A),m+l*(r*i*p+n*s*f),y+l*(n*i*p-r*s*f),m,y]},aL=(t,e,r,n)=>{const i=Math.atan2(e,t),s=Math.atan2(n,r);return s>=i?s-i:2*Math.PI-(i-s)};function lL(t,e,r,n,i,s,o,a){let l;if(Je.cachesBoundsOfCurve&&(l=[...arguments].join(),Ep.boundsOfCurveCache[l]))return Ep.boundsOfCurveCache[l];const c=Math.sqrt,u=Math.abs,A=[],h=[[0,0],[0,0]];let f=6*t-12*r+6*i,p=-3*t+9*r-9*i+3*o,m=3*r-3*t;for(let b=0;b<2;++b){if(b>0&&(f=6*e-12*n+6*s,p=-3*e+9*n-9*s+3*a,m=3*n-3*e),u(p)<1e-12){if(u(f)<1e-12)continue;const k=-m/f;0<k&&k<1&&A.push(k);continue}const w=f*f-4*m*p;if(w<0)continue;const C=c(w),B=(-f+C)/(2*p);0<B&&B<1&&A.push(B);const _=(-f-C)/(2*p);0<_&&_<1&&A.push(_)}let y=A.length;const g=y,v=Pz(t,e,r,n,i,s,o,a);for(;y--;){const{x:b,y:w}=v(A[y]);h[0][y]=b,h[1][y]=w}h[0][g]=t,h[1][g]=e,h[0][g+1]=o,h[1][g+1]=a;const x=[new Z(Math.min(...h[0]),Math.min(...h[1])),new Z(Math.max(...h[0]),Math.max(...h[1]))];return Je.cachesBoundsOfCurve&&(Ep.boundsOfCurveCache[l]=x),x}const vwe=(t,e,r)=>{let[n,i,s,o,a,l,c,u]=r;const A=((h,f,p,m,y,g,v)=>{if(p===0||m===0)return[];let x=0,b=0,w=0;const C=Math.PI,B=v*Kk,_=da(B),k=Aa(B),E=.5*(-k*h-_*f),F=.5*(-k*f+_*h),M=p**2,T=m**2,Q=F**2,P=E**2,H=M*T-M*Q-T*P;let I=Math.abs(p),L=Math.abs(m);if(H<0){const K=Math.sqrt(1-H/(M*T));I*=K,L*=K}else w=(y===g?-1:1)*Math.sqrt(H/(M*Q+T*P));const R=w*I*F/L,V=-w*L*E/I,Y=k*R-_*V+.5*h,re=_*R+k*V+.5*f;let se=aL(1,0,(E-R)/I,(F-V)/L),ie=aL((E-R)/I,(F-V)/L,(-E-R)/I,(-F-V)/L);g===0&&ie>0?ie-=2*C:g===1&&ie<0&&(ie+=2*C);const Ae=Math.ceil(Math.abs(ie/C*2)),G=[],ae=ie/Ae,z=8/3*Math.sin(ae/4)*Math.sin(ae/4)/Math.sin(ae/2);let q=se+ae;for(let K=0;K<Ae;K++)G[K]=ywe(se,q,k,_,I,L,Y,re,z,x,b),x=G[K][5],b=G[K][6],se=q,q+=ae;return G})(c-t,u-e,i,s,a,l,o);for(let h=0,f=A.length;h<f;h++)A[h][1]+=t,A[h][2]+=e,A[h][3]+=t,A[h][4]+=e,A[h][5]+=t,A[h][6]+=e;return A},xwe=t=>{let e=0,r=0,n=0,i=0;const s=[];let o,a=0,l=0;for(const c of t){const u=[...c];let A;switch(u[0]){case"l":u[1]+=e,u[2]+=r;case"L":e=u[1],r=u[2],A=["L",e,r];break;case"h":u[1]+=e;case"H":e=u[1],A=["L",e,r];break;case"v":u[1]+=r;case"V":r=u[1],A=["L",e,r];break;case"m":u[1]+=e,u[2]+=r;case"M":e=u[1],r=u[2],n=u[1],i=u[2],A=["M",e,r];break;case"c":u[1]+=e,u[2]+=r,u[3]+=e,u[4]+=r,u[5]+=e,u[6]+=r;case"C":a=u[3],l=u[4],e=u[5],r=u[6],A=["C",u[1],u[2],a,l,e,r];break;case"s":u[1]+=e,u[2]+=r,u[3]+=e,u[4]+=r;case"S":o==="C"?(a=2*e-a,l=2*r-l):(a=e,l=r),e=u[3],r=u[4],A=["C",a,l,u[1],u[2],e,r],a=A[3],l=A[4];break;case"q":u[1]+=e,u[2]+=r,u[3]+=e,u[4]+=r;case"Q":a=u[1],l=u[2],e=u[3],r=u[4],A=["Q",a,l,e,r];break;case"t":u[1]+=e,u[2]+=r;case"T":o==="Q"?(a=2*e-a,l=2*r-l):(a=e,l=r),e=u[1],r=u[2],A=["Q",a,l,e,r];break;case"a":u[6]+=e,u[7]+=r;case"A":vwe(e,r,u).forEach(h=>s.push(h)),e=u[6],r=u[7];break;case"z":case"Z":e=n,r=i,A=["Z"]}A?(s.push(A),o=A[0]):o=""}return s},wb=(t,e,r,n)=>Math.sqrt((r-t)**2+(n-e)**2),Pz=(t,e,r,n,i,s,o,a)=>l=>{const c=l**3,u=(f=>3*f**2*(1-f))(l),A=(f=>3*f*(1-f)**2)(l),h=(f=>(1-f)**3)(l);return new Z(o*c+i*u+r*A+t*h,a*c+s*u+n*A+e*h)},Qz=t=>t**2,Rz=t=>2*t*(1-t),Hz=t=>(1-t)**2,bwe=(t,e,r,n,i,s,o,a)=>l=>{const c=Qz(l),u=Rz(l),A=Hz(l),h=3*(A*(r-t)+u*(i-r)+c*(o-i)),f=3*(A*(n-e)+u*(s-n)+c*(a-s));return Math.atan2(f,h)},wwe=(t,e,r,n,i,s)=>o=>{const a=Qz(o),l=Rz(o),c=Hz(o);return new Z(i*a+r*l+t*c,s*a+n*l+e*c)},Cwe=(t,e,r,n,i,s)=>o=>{const a=1-o,l=2*(a*(r-t)+o*(i-r)),c=2*(a*(n-e)+o*(s-n));return Math.atan2(c,l)},cL=(t,e,r)=>{let n=new Z(e,r),i=0;for(let s=1;s<=100;s+=1){const o=t(s/100);i+=wb(n.x,n.y,o.x,o.y),n=o}return i},Bwe=(t,e)=>{let r,n=0,i=0,s={x:t.x,y:t.y},o=U({},s),a=.01,l=0;const c=t.iterator,u=t.angleFinder;for(;i<e&&a>1e-4;)o=c(n),l=n,r=wb(s.x,s.y,o.x,o.y),r+i>e?(n-=a,a/=2):(s=o,n+=a,i+=r);return U(U({},o),{},{angle:u(l)})},$z=t=>{let e,r,n=0,i=0,s=0,o=0,a=0;const l=[];for(const c of t){const u={x:i,y:s,command:c[0],length:0};switch(c[0]){case"M":r=u,r.x=o=i=c[1],r.y=a=s=c[2];break;case"L":r=u,r.length=wb(i,s,c[1],c[2]),i=c[1],s=c[2];break;case"C":e=Pz(i,s,c[1],c[2],c[3],c[4],c[5],c[6]),r=u,r.iterator=e,r.angleFinder=bwe(i,s,c[1],c[2],c[3],c[4],c[5],c[6]),r.length=cL(e,i,s),i=c[5],s=c[6];break;case"Q":e=wwe(i,s,c[1],c[2],c[3],c[4]),r=u,r.iterator=e,r.angleFinder=Cwe(i,s,c[1],c[2],c[3],c[4]),r.length=cL(e,i,s),i=c[3],s=c[4];break;case"Z":r=u,r.destX=o,r.destY=a,r.length=wb(i,s,o,a),i=o,s=a}n+=r.length,l.push(r)}return l.push({length:n,x:i,y:s}),l},_we=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$z(t),n=0;for(;e-r[n].length>0&&n<r.length-2;)e-=r[n].length,n++;const i=r[n],s=e/i.length,o=t[n];switch(i.command){case"M":return{x:i.x,y:i.y,angle:0};case"Z":return U(U({},new Z(i.x,i.y).lerp(new Z(i.destX,i.destY),s)),{},{angle:Math.atan2(i.destY-i.y,i.destX-i.x)});case"L":return U(U({},new Z(i.x,i.y).lerp(new Z(o[1],o[2]),s)),{},{angle:Math.atan2(o[2]-i.y,o[1]-i.x)});case"C":case"Q":return Bwe(i,e)}},Swe=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),uL=new RegExp(mwe,"g"),kwe=new RegExp(Lu,"gi"),Ewe={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Fwe=t=>{var e;const r=[],n=(e=t.match(Swe))!==null&&e!==void 0?e:[];for(const i of n){const s=i[0];if(s==="z"||s==="Z"){r.push([s]);continue}const o=Ewe[s.toLowerCase()];let a=[];if(s==="a"||s==="A"){uL.lastIndex=0;for(let l=null;l=uL.exec(i);)a.push(...l.slice(1))}else a=i.match(kwe)||[];for(let l=0;l<a.length;l+=o){const c=new Array(o),u=gwe[s];c[0]=l>0&&u?u:s;for(let A=0;A<o;A++)c[A+1]=parseFloat(a[l+A]);r.push(c)}}return r},Mwe=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=new Z(t[0]),n=new Z(t[1]),i=1,s=0;const o=[],a=t.length,l=a>2;let c;for(l&&(i=t[2].x<n.x?-1:t[2].x===n.x?0:1,s=t[2].y<n.y?-1:t[2].y===n.y?0:1),o.push(["M",r.x-i*e,r.y-s*e]),c=1;c<a;c++){if(!r.eq(n)){const u=r.midPointFrom(n);o.push(["Q",r.x,r.y,u.x,u.y])}r=t[c],c+1<t.length&&(n=t[c+1])}return l&&(i=r.x>t[c-2].x?1:r.x===t[c-2].x?0:-1,s=r.y>t[c-2].y?1:r.y===t[c-2].y?0:-1),o.push(["L",r.x+i*e,r.y+s*e]),o},Vz=(t,e)=>t.map(r=>r.map((n,i)=>i===0||e===void 0?n:It(n,e)).join(" ")).join(" ");function E6(t,e){const r=t.style;r&&e&&(typeof e=="string"?r.cssText+=";"+e:Object.entries(e).forEach(n=>{let[i,s]=n;return r.setProperty(i,s)}))}let Twe=class extends yz{constructor(e){let{allowTouchScrolling:r=!1,containerClass:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e),j(this,"upper",void 0),j(this,"container",void 0);const{el:i}=this.lower,s=this.createUpperCanvas();this.upper={el:s,ctx:s.getContext("2d")},this.applyCanvasStyle(i,{allowTouchScrolling:r}),this.applyCanvasStyle(s,{allowTouchScrolling:r,styles:{position:"absolute",left:"0",top:"0"}});const o=this.createContainerElement();o.classList.add(n),i.parentNode&&i.parentNode.replaceChild(o,i),o.append(i,s),this.container=o}createUpperCanvas(){const{el:e}=this.lower,r=ks();return r.className=e.className,r.classList.remove("lower-canvas"),r.classList.add("upper-canvas"),r.setAttribute("data-fabric","top"),r.style.cssText=e.style.cssText,r.setAttribute("draggable","true"),r}createContainerElement(){const e=gh().createElement("div");return e.setAttribute("data-fabric","wrapper"),E6(e,{position:"relative"}),HD(e),e}applyCanvasStyle(e,r){const{styles:n,allowTouchScrolling:i}=r;E6(e,U(U({},n),{},{"touch-action":i?"manipulation":Wn})),HD(e)}setDimensions(e,r){super.setDimensions(e,r);const{el:n,ctx:i}=this.upper;gz(n,i,e,r)}setCSSDimensions(e){super.setCSSDimensions(e),g6(this.upper.el,e),g6(this.container,e)}cleanupDOM(e){const r=this.container,{el:n}=this.lower,{el:i}=this.upper;super.cleanupDOM(e),r.removeChild(i),r.removeChild(n),r.parentNode&&r.parentNode.replaceChild(n,r)}dispose(){super.dispose(),fo().dispose(this.upper.el),delete this.upper,delete this.container}},Kz=class zz extends B0{constructor(){super(...arguments),j(this,"targets",[]),j(this,"_hoveredTargets",[]),j(this,"_objectsToRender",void 0),j(this,"_currentTransform",null),j(this,"_groupSelector",null),j(this,"contextTopDirty",!1)}static getDefaults(){return U(U({},super.getDefaults()),zz.ownDefaults)}get upperCanvasEl(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.el}get contextTop(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.ctx}get wrapperEl(){return this.elements.container}initElements(e){this.elements=new Twe(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(e){this._objectsToRender=void 0,super._onObjectAdded(e)}_onObjectRemoved(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(e)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter(r=>!r.group&&r!==e).concat(e):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}renderTop(){const e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}setTargetFindTolerance(e){e=Math.round(e),this.targetFindTolerance=e;const r=this.getRetinaScaling(),n=Math.ceil((2*e+1)*r);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=n,this.pixelFindContext.scale(r,r)}isTargetTransparent(e,r,n){const i=this.targetFindTolerance,s=this.pixelFindContext;this.clearContext(s),s.save(),s.translate(-r+i,-n+i),s.transform(...this.viewportTransform);const o=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(s),e.selectionBackgroundColor=o,s.restore();const a=Math.round(i*this.getRetinaScaling());return N2e(s,a,a,a)}_isSelectionKeyPressed(e){const r=this.selectionKey;return!!r&&(Array.isArray(r)?!!r.find(n=>!!n&&e[n]===!0):e[r])}_shouldClearSelection(e,r){const n=this.getActiveObjects(),i=this._activeObject;return!!(!r||r&&i&&n.length>1&&n.indexOf(r)===-1&&i!==r&&!this._isSelectionKeyPressed(e)||r&&!r.evented||r&&!r.selectable&&i&&i!==r)}_shouldCenterTransform(e,r,n){if(!e)return;let i;return r===uw||r===Jn||r===Wi||r===Lm?i=this.centeredScaling||e.centeredScaling:r===Gk&&(i=this.centeredRotation||e.centeredRotation),i?!n:n}_getOriginFromCorner(e,r){const n={x:e.originX,y:e.originY};return r&&(["ml","tl","bl"].includes(r)?n.x=Xt:["mr","tr","br"].includes(r)&&(n.x=lt),["tl","mt","tr"].includes(r)?n.y=m6:["bl","mb","br"].includes(r)&&(n.y=zn)),n}_setupCurrentTransform(e,r,n){var i;const s=r.group?Cd(this.getScenePoint(e),void 0,r.group.calcTransformMatrix()):this.getScenePoint(e),{key:o="",control:a}=r.getActiveControl()||{},l=n&&a?(i=a.getActionHandler(e,r,a))===null||i===void 0?void 0:i.bind(a):t2e,c=((f,p,m,y)=>{if(!p||!f)return"drag";const g=y.controls[p];return g.getActionName(m,g,y)})(n,o,e,r),u=e[this.centeredKey],A=this._shouldCenterTransform(r,c,u)?{x:Ue,y:Ue}:this._getOriginFromCorner(r,o),h={target:r,action:c,actionHandler:l,actionPerformed:!1,corner:o,scaleX:r.scaleX,scaleY:r.scaleY,skewX:r.skewX,skewY:r.skewY,offsetX:s.x-r.left,offsetY:s.y-r.top,originX:A.x,originY:A.y,ex:s.x,ey:s.y,lastX:s.x,lastY:s.y,theta:tr(r.angle),width:r.width,height:r.height,shiftKey:e.shiftKey,altKey:u,original:U(U({},vz(r)),{},{originX:A.x,originY:A.y})};this._currentTransform=h,this.fire("before:transform",{e,transform:h})}setCursor(e){this.upperCanvasEl.style.cursor=e}_drawSelection(e){const{x:r,y:n,deltaX:i,deltaY:s}=this._groupSelector,o=new Z(r,n).transform(this.viewportTransform),a=new Z(r+i,n+s).transform(this.viewportTransform),l=this.selectionLineWidth/2;let c=Math.min(o.x,a.x),u=Math.min(o.y,a.y),A=Math.max(o.x,a.x),h=Math.max(o.y,a.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(c,u,A-c,h-u)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,c+=l,u+=l,A-=l,h-=l,un.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(c,u,A-c,h-u))}findTarget(e){if(this.skipTargetFind)return;const r=this.getViewportPoint(e),n=this._activeObject,i=this.getActiveObjects();if(this.targets=[],n&&i.length>=1){if(n.findControl(r,y6(e))||i.length>1&&this.searchPossibleTargets([n],r))return n;if(n===this.searchPossibleTargets([n],r)){if(this.preserveObjectStacking){const s=this.targets;this.targets=[];const o=this.searchPossibleTargets(this._objects,r);return e[this.altSelectionKey]&&o&&o!==n?(this.targets=s,n):o}return n}}return this.searchPossibleTargets(this._objects,r)}_pointIsInObjectSelectionArea(e,r){let n=e.getCoords();const i=this.getZoom(),s=e.padding/i;if(s){const[o,a,l,c]=n,u=Math.atan2(a.y-o.y,a.x-o.x),A=Aa(u)*s,h=da(u)*s,f=A+h,p=A-h;n=[new Z(o.x-p,o.y-f),new Z(a.x+f,a.y-p),new Z(l.x+p,l.y+f),new Z(c.x-f,c.y+p)]}return Mp.isPointInPolygon(r,n)}_checkTarget(e,r){return!!(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,Cd(r,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing||!this.isTargetTransparent(e,r.x,r.y)))}_searchPossibleTargets(e,r){let n=e.length;for(;n--;){const i=e[n];if(this._checkTarget(i,r)){if(Mv(i)&&i.subTargetCheck){const s=this._searchPossibleTargets(i._objects,r);s&&this.targets.push(s)}return i}}}searchPossibleTargets(e,r){const n=this._searchPossibleTargets(e,r);if(n&&Mv(n)&&n.interactive&&this.targets[0]){const i=this.targets;for(let s=i.length-1;s>0;s--){const o=i[s];if(!Mv(o)||!o.interactive)return o}return i[0]}return n}getViewportPoint(e){return this._pointer?this._pointer:this.getPointer(e,!0)}getScenePoint(e){return this._absolutePointer?this._absolutePointer:this.getPointer(e)}getPointer(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const n=this.upperCanvasEl,i=n.getBoundingClientRect();let s=Gbe(e),o=i.width||0,a=i.height||0;o&&a||(zn in i&&m6 in i&&(a=Math.abs(i.top-i.bottom)),Xt in i&&lt in i&&(o=Math.abs(i.right-i.left))),this.calcOffset(),s.x=s.x-this._offset.left,s.y=s.y-this._offset.top,r||(s=Cd(s,void 0,this.viewportTransform));const l=this.getRetinaScaling();l!==1&&(s.x/=l,s.y/=l);const c=o===0||a===0?new Z(1,1):new Z(n.width/o,n.height/a);return s.multiply(c)}_setDimensionsImpl(e,r){this._resetTransformEventData(),super._setDimensionsImpl(e,r),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=ks(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const e=this._activeObject;return Qc(e)?e.getObjects():e?[e]:[]}_fireSelectionEvents(e,r){let n=!1,i=!1;const s=this.getActiveObjects(),o=[],a=[];e.forEach(l=>{s.includes(l)||(n=!0,l.fire("deselected",{e:r,target:l}),a.push(l))}),s.forEach(l=>{e.includes(l)||(n=!0,l.fire("selected",{e:r,target:l}),o.push(l))}),e.length>0&&s.length>0?(i=!0,n&&this.fire("selection:updated",{e:r,selected:o,deselected:a})):s.length>0?(i=!0,this.fire("selection:created",{e:r,selected:o})):e.length>0&&(i=!0,this.fire("selection:cleared",{e:r,deselected:a})),i&&(this._objectsToRender=void 0)}setActiveObject(e,r){const n=this.getActiveObjects(),i=this._setActiveObject(e,r);return this._fireSelectionEvents(n,r),i}_setActiveObject(e,r){const n=this._activeObject;return n!==e&&!(!this._discardActiveObject(r,e)&&this._activeObject)&&!e.onSelect({e:r})&&(this._activeObject=e,Qc(e)&&n!==e&&e.set("canvas",this),e.setCoords(),!0)}_discardActiveObject(e,r){const n=this._activeObject;return!!n&&!n.onDeselect({e,object:r})&&(this._currentTransform&&this._currentTransform.target===n&&this.endCurrentTransform(e),Qc(n)&&n===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(e){const r=this.getActiveObjects(),n=this.getActiveObject();r.length&&this.fire("before:selection:cleared",{e,deselected:[n]});const i=this._discardActiveObject(e);return this._fireSelectionEvents(r,e),i}endCurrentTransform(e){const r=this._currentTransform;this._finalizeCurrentTransform(e),r&&r.target&&(r.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(e){const r=this._currentTransform,n=r.target,i={e,target:n,transform:r,action:r.action};n._scaling&&(n._scaling=!1),n.setCoords(),r.actionPerformed&&(this.fire("object:modified",i),n.fire(fb,i))}setViewportTransform(e){super.setViewportTransform(e);const r=this._activeObject;r&&r.setCoords()}destroy(){const e=this._activeObject;Qc(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(e){const r=this._activeObject;r&&r._renderControls(e)}_toObject(e,r,n){const i=this._realizeGroupTransformOnObject(e),s=super._toObject(e,r,n);return e.set(i),s}_realizeGroupTransformOnObject(e){const{group:r}=e;if(r&&Qc(r)&&this._activeObject===r){const n=xh(e,["angle","flipX","flipY",lt,Jn,Wi,yh,vh,zn]);return Xbe(e,r.calcOwnMatrix()),n}return{}}_setSVGObject(e,r,n){const i=this._realizeGroupTransformOnObject(r);super._setSVGObject(e,r,n),r.set(i)}};j(Kz,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});let Dwe=class{constructor(e){j(this,"targets",[]),j(this,"__disposer",void 0);const r=()=>{const{hiddenTextarea:i}=e.getActiveObject()||{};i&&i.focus()},n=e.upperCanvasEl;n.addEventListener("click",r),this.__disposer=()=>n.removeEventListener("click",r)}exitTextEditing(){this.target=void 0,this.targets.forEach(e=>{e.isEditing&&e.exitEditing()})}add(e){this.targets.push(e)}remove(e){this.unregister(e),FA(this.targets,e)}register(e){this.target=e}unregister(e){e===this.target&&(this.target=void 0)}onMouseMove(e){var r;!((r=this.target)===null||r===void 0)&&r.isEditing&&this.target.updateSelectionOnMouseMove(e)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}};const Lwe=["target","oldTarget","fireCanvas","e"],ei={passive:!1},sA=(t,e)=>{const r=t.getViewportPoint(e),n=t.getScenePoint(e);return{viewportPoint:r,scenePoint:n,pointer:r,absolutePointer:n}},Ea=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.addEventListener(...r)},Si=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.removeEventListener(...r)},jwe={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};let F6=class extends Kz{constructor(e){super(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),j(this,"_isClick",void 0),j(this,"textEditingManager",new Dwe(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(r=>{this[r]=this[r].bind(this)}),this.addOrRemove(Ea,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(e,r){const n=this.upperCanvasEl,i=this._getEventPrefix();e(mz(n),"resize",this._onResize),e(n,i+"down",this._onMouseDown),e(n,"".concat(i,"move"),this._onMouseMove,ei),e(n,"".concat(i,"out"),this._onMouseOut),e(n,"".concat(i,"enter"),this._onMouseEnter),e(n,"wheel",this._onMouseWheel),e(n,"contextmenu",this._onContextMenu),e(n,"dblclick",this._onDoubleClick),e(n,"dragstart",this._onDragStart),e(n,"dragend",this._onDragEnd),e(n,"dragover",this._onDragOver),e(n,"dragenter",this._onDragEnter),e(n,"dragleave",this._onDragLeave),e(n,"drop",this._onDrop),this.enablePointerEvents||e(n,"touchstart",this._onTouchStart,ei)}removeListeners(){this.addOrRemove(Si,"remove");const e=this._getEventPrefix(),r=As(this.upperCanvasEl);Si(r,"".concat(e,"up"),this._onMouseUp),Si(r,"touchend",this._onTouchEnd,ei),Si(r,"".concat(e,"move"),this._onMouseMove,ei),Si(r,"touchmove",this._onMouseMove,ei),clearTimeout(this._willAddMouseDown)}_onMouseWheel(e){this.__onMouseWheel(e)}_onMouseOut(e){const r=this._hoveredTarget,n=U({e},sA(this,e));this.fire("mouse:out",U(U({},n),{},{target:r})),this._hoveredTarget=void 0,r&&r.fire("mouseout",U({},n)),this._hoveredTargets.forEach(i=>{this.fire("mouse:out",U(U({},n),{},{target:i})),i&&i.fire("mouseout",U({},n))}),this._hoveredTargets=[]}_onMouseEnter(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",U({e},sA(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(e){this._isClick=!1;const r=this.getActiveObject();if(r&&r.onDragStart(e)){this._dragSource=r;const n={e,target:r};return this.fire("dragstart",n),r.fire("dragstart",n),void Ea(this.upperCanvasEl,"drag",this._onDragProgress)}v6(e)}_renderDragEffects(e,r,n){let i=!1;const s=this._dropTarget;s&&s!==r&&s!==n&&(s.clearContextTop(),i=!0),r==null||r.clearContextTop(),n!==r&&(n==null||n.clearContextTop());const o=this.contextTop;o.save(),o.transform(...this.viewportTransform),r&&(o.save(),r.transform(o),r.renderDragSourceEffect(e),o.restore(),i=!0),n&&(o.save(),n.transform(o),n.renderDropTargetEffect(e),o.restore(),i=!0),o.restore(),i&&(this.contextTopDirty=!0)}_onDragEnd(e){const r=!!e.dataTransfer&&e.dataTransfer.dropEffect!==Wn,n=r?this._activeObject:void 0,i={e,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:r,dropTarget:n};Si(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",i),this._dragSource&&this._dragSource.fire("dragend",i),delete this._dragSource,this._onMouseUp(e)}_onDragProgress(e){const r={e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",r),this._dragSource&&this._dragSource.fire("drag",r)}findDragTargets(e){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(e)),targets:[...this.targets]}}_onDragOver(e){const r="dragover",{target:n,targets:i}=this.findDragTargets(e),s=this._dragSource,o={e,target:n,subTargets:i,dragSource:s,canDrop:!1,dropTarget:void 0};let a;this.fire(r,o),this._fireEnterLeaveEvents(n,o),n&&(n.canDrop(e)&&(a=n),n.fire(r,o));for(let l=0;l<i.length;l++){const c=i[l];c.canDrop(e)&&(a=c),c.fire(r,o)}this._renderDragEffects(e,s,a),this._dropTarget=a}_onDragEnter(e){const{target:r,targets:n}=this.findDragTargets(e),i={e,target:r,subTargets:n,dragSource:this._dragSource};this.fire("dragenter",i),this._fireEnterLeaveEvents(r,i)}_onDragLeave(e){const r={e,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",r),this._fireEnterLeaveEvents(void 0,r),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(e){const{target:r,targets:n}=this.findDragTargets(e),i=this._basicEventHandler("drop:before",U({e,target:r,subTargets:n,dragSource:this._dragSource},sA(this,e)));i.didDrop=!1,i.dropTarget=void 0,this._basicEventHandler("drop",i),this.fire("drop:after",i)}_onContextMenu(e){const r=this.findTarget(e),n=this.targets||[],i=this._basicEventHandler("contextmenu:before",{e,target:r,subTargets:n});return this.stopContextMenu&&v6(e),this._basicEventHandler("contextmenu",i),!1}_onDoubleClick(e){this._cacheTransformEventData(e),this._handleEvent(e,"dblclick"),this._resetTransformEventData()}getPointerId(e){const r=e.changedTouches;return r?r[0]&&r[0].identifier:this.enablePointerEvents?e.pointerId:-1}_isMainEvent(e){return e.isPrimary===!0||e.isPrimary!==!1&&(e.type==="touchend"&&e.touches.length===0||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(e){let r=!this.allowTouchScrolling;const n=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),(this.isDrawingMode||n&&this._target===n)&&(r=!0),r&&e.preventDefault(),this._resetTransformEventData();const i=this.upperCanvasEl,s=this._getEventPrefix(),o=As(i);Ea(o,"touchend",this._onTouchEnd,ei),r&&Ea(o,"touchmove",this._onMouseMove,ei),Si(i,"".concat(s,"down"),this._onMouseDown)}_onMouseDown(e){this.__onMouseDown(e),this._resetTransformEventData();const r=this.upperCanvasEl,n=this._getEventPrefix();Si(r,"".concat(n,"move"),this._onMouseMove,ei);const i=As(r);Ea(i,"".concat(n,"up"),this._onMouseUp),Ea(i,"".concat(n,"move"),this._onMouseMove,ei)}_onTouchEnd(e){if(e.touches.length>0)return;this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;const r=this._getEventPrefix(),n=As(this.upperCanvasEl);Si(n,"touchend",this._onTouchEnd,ei),Si(n,"touchmove",this._onMouseMove,ei),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{Ea(this.upperCanvasEl,"".concat(r,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(e){this.__onMouseUp(e),this._resetTransformEventData();const r=this.upperCanvasEl,n=this._getEventPrefix();if(this._isMainEvent(e)){const i=As(this.upperCanvasEl);Si(i,"".concat(n,"up"),this._onMouseUp),Si(i,"".concat(n,"move"),this._onMouseMove,ei),Ea(r,"".concat(n,"move"),this._onMouseMove,ei)}}_onMouseMove(e){const r=this.getActiveObject();!this.allowTouchScrolling&&(!r||!r.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(e){const r=this.getActiveObject();return!!r!=!!e||r&&e&&r!==e}__onMouseUp(e){var r;this._cacheTransformEventData(e),this._handleEvent(e,"up:before");const n=this._currentTransform,i=this._isClick,s=this._target,{button:o}=e;if(o)return(this.fireMiddleClick&&o===1||this.fireRightClick&&o===2)&&this._handleEvent(e,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(e);if(!this._isMainEvent(e))return;let a,l,c=!1;if(n&&(this._finalizeCurrentTransform(e),c=n.actionPerformed),!i){const u=s===this._activeObject;this.handleSelection(e),c||(c=this._shouldRender(s)||!u&&s===this._activeObject)}if(s){const u=s.findControl(this.getViewportPoint(e),y6(e)),{key:A,control:h}=u||{};if(l=A,s.selectable&&s!==this._activeObject&&s.activeOn==="up")this.setActiveObject(s,e),c=!0;else if(h){const f=h.getMouseUpHandler(e,s,h);f&&(a=this.getScenePoint(e),f.call(h,e,n,a.x,a.y))}s.isMoving=!1}if(n&&(n.target!==s||n.corner!==l)){const u=n.target&&n.target.controls[n.corner],A=u&&u.getMouseUpHandler(e,n.target,u);a=a||this.getScenePoint(e),A&&A.call(u,e,n,a.x,a.y)}this._setCursorFromEvent(e,s),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,s&&(s.__corner=void 0),c?this.requestRenderAll():i||(r=this._activeObject)!==null&&r!==void 0&&r.isEditing||this.renderTop()}_basicEventHandler(e,r){const{target:n,subTargets:i=[]}=r;this.fire(e,r),n&&n.fire(e,r);for(let s=0;s<i.length;s++)i[s]!==n&&i[s].fire(e,r);return r}_handleEvent(e,r){const n=this._target,i=this.targets||[],s=U(U({e,target:n,subTargets:i},sA(this,e)),{},{transform:this._currentTransform},r==="up:before"||r==="up"?{isClick:this._isClick,currentTarget:this.findTarget(e),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(r),s),n&&n.fire("mouse".concat(r),s);for(let o=0;o<i.length;o++)i[o]!==n&&i[o].fire("mouse".concat(r),s)}_onMouseDownInDrawingMode(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());const r=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(r,{e,pointer:r}),this._handleEvent(e,"down")}_onMouseMoveInDrawingMode(e){if(this._isCurrentlyDrawing){const r=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(r,{e,pointer:r})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}_onMouseUpInDrawingMode(e){const r=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e,pointer:r}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}__onMouseDown(e){this._isClick=!0,this._cacheTransformEventData(e),this._handleEvent(e,"down:before");let r=this._target;const{button:n}=e;if(n)return(this.fireMiddleClick&&n===1||this.fireRightClick&&n===2)&&this._handleEvent(e,"down"),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(e);if(!this._isMainEvent(e)||this._currentTransform)return;let i=this._shouldRender(r),s=!1;if(this.handleMultiSelection(e,r)?(r=this._activeObject,s=!0,i=!0):this._shouldClearSelection(e,r)&&this.discardActiveObject(e),this.selection&&(!r||!r.selectable&&!r.isEditing&&r!==this._activeObject)){const o=this.getScenePoint(e);this._groupSelector={x:o.x,y:o.y,deltaY:0,deltaX:0}}if(r){const o=r===this._activeObject;r.selectable&&r.activeOn==="down"&&this.setActiveObject(r,e);const a=r.findControl(this.getViewportPoint(e),y6(e));if(r===this._activeObject&&(a||!s)){this._setupCurrentTransform(e,r,o);const l=a?a.control:void 0,c=this.getScenePoint(e),u=l&&l.getMouseDownHandler(e,r,l);u&&u.call(l,e,this._currentTransform,c.x,c.y)}}i&&(this._objectsToRender=void 0),this._handleEvent(e,"down"),i&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(e){this._resetTransformEventData(),this._pointer=this.getViewportPoint(e),this._absolutePointer=Cd(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)}__onMouseMove(e){if(this._isClick=!1,this._cacheTransformEventData(e),this._handleEvent(e,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(e);if(!this._isMainEvent(e))return;const r=this._groupSelector;if(r){const n=this.getScenePoint(e);r.deltaX=n.x-r.x,r.deltaY=n.y-r.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{const n=this.findTarget(e);this._setCursorFromEvent(e,n),this._fireOverOutEvents(e,n)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move"),this._resetTransformEventData()}_fireOverOutEvents(e,r){const n=this._hoveredTarget,i=this._hoveredTargets,s=this.targets,o=Math.max(i.length,s.length);this.fireSyntheticInOutEvents("mouse",{e,target:r,oldTarget:n,fireCanvas:!0});for(let a=0;a<o;a++)this.fireSyntheticInOutEvents("mouse",{e,target:s[a],oldTarget:i[a]});this._hoveredTarget=r,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(e,r){const n=this._draggedoverTarget,i=this._hoveredTargets,s=this.targets,o=Math.max(i.length,s.length);this.fireSyntheticInOutEvents("drag",U(U({},r),{},{target:e,oldTarget:n,fireCanvas:!0}));for(let a=0;a<o;a++)this.fireSyntheticInOutEvents("drag",U(U({},r),{},{target:s[a],oldTarget:i[a]}));this._draggedoverTarget=e}fireSyntheticInOutEvents(e,r){let{target:n,oldTarget:i,fireCanvas:s,e:o}=r,a=Lt(r,Lwe);const{targetIn:l,targetOut:c,canvasIn:u,canvasOut:A}=jwe[e],h=i!==n;if(i&&h){const f=U(U({},a),{},{e:o,target:i,nextTarget:n},sA(this,o));s&&this.fire(A,f),i.fire(c,f)}if(n&&h){const f=U(U({},a),{},{e:o,target:n,previousTarget:i},sA(this,o));s&&this.fire(u,f),n.fire(l,f)}}__onMouseWheel(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}_transformObject(e){const r=this.getScenePoint(e),n=this._currentTransform,i=n.target,s=i.group?Cd(r,void 0,i.group.calcTransformMatrix()):r;n.shiftKey=e.shiftKey,n.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,n,s),n.actionPerformed&&this.requestRenderAll()}_performTransformAction(e,r,n){const{action:i,actionHandler:s,target:o}=r,a=!!s&&s(e,r,n.x,n.y);a&&o.setCoords(),i==="drag"&&a&&(r.target.isMoving=!0,this.setCursor(r.target.moveCursor||this.moveCursor)),r.actionPerformed=r.actionPerformed||a}_setCursorFromEvent(e,r){if(!r)return void this.setCursor(this.defaultCursor);let n=r.hoverCursor||this.hoverCursor;const i=Qc(this._activeObject)?this._activeObject:null,s=(!i||r.group!==i)&&r.findControl(this.getViewportPoint(e));if(s){const o=s.control;this.setCursor(o.cursorStyleHandler(e,o,r))}else r.subTargetCheck&&this.targets.concat().reverse().map(o=>{n=o.hoverCursor||n}),this.setCursor(n)}handleMultiSelection(e,r){const n=this._activeObject,i=Qc(n);if(n&&this._isSelectionKeyPressed(e)&&this.selection&&r&&r.selectable&&(n!==r||i)&&(i||!r.isDescendantOf(n)&&!n.isDescendantOf(r))&&!r.onSelect({e})&&!n.getActiveControl()){if(i){const s=n.getObjects();if(r===n){const o=this.getViewportPoint(e);if(!(r=this.searchPossibleTargets(s,o)||this.searchPossibleTargets(this._objects,o))||!r.selectable)return!1}r.group===n?(n.remove(r),this._hoveredTarget=r,this._hoveredTargets=[...this.targets],n.size()===1&&this._setActiveObject(n.item(0),e)):(n.multiSelectAdd(r),this._hoveredTarget=n,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(s,e)}else{n.isEditing&&n.exitEditing();const s=new(we.getClass("ActiveSelection"))([],{canvas:this});s.multiSelectAdd(n,r),this._hoveredTarget=s,this._setActiveObject(s,e),this._fireSelectionEvents([n],e)}return!0}return!1}handleSelection(e){if(!this.selection||!this._groupSelector)return!1;const{x:r,y:n,deltaX:i,deltaY:s}=this._groupSelector,o=new Z(r,n),a=o.add(new Z(i,s)),l=o.min(a),c=o.max(a).subtract(l),u=this.collectObjects({left:l.x,top:l.y,width:c.x,height:c.y},{includeIntersecting:!this.selectionFullyContained}),A=o.eq(a)?u[0]?[u[0]]:[]:u.length>1?u.filter(h=>!h.onSelect({e})).reverse():u;if(A.length===1)this.setActiveObject(A[0],e);else if(A.length>1){const h=we.getClass("ActiveSelection");this.setActiveObject(new h(A,{canvas:this}),e)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}};const Wz={x1:0,y1:0,x2:0,y2:0},Owe=U(U({},Wz),{},{r1:0,r2:0}),ed=(t,e)=>isNaN(t)&&typeof e=="number"?e:t,Nwe=/^(\d+\.\d+)%|(\d+)%$/;function Gz(t){return t&&Nwe.test(t)}function qz(t,e){const r=typeof t=="number"?t:typeof t=="string"?parseFloat(t)/(Gz(t)?100:1):NaN;return Xd(0,ed(r,e),1)}const Iwe=/\s*;\s*/,Uwe=/\s*:\s*/;function Pwe(t,e){let r,n;const i=t.getAttribute("style");if(i){const o=i.split(Iwe);o[o.length-1]===""&&o.pop();for(let a=o.length;a--;){const[l,c]=o[a].split(Uwe).map(u=>u.trim());l==="stop-color"?r=c:l==="stop-opacity"&&(n=c)}}const s=new Zn(r||t.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:qz(t.getAttribute("offset"),0),color:s.toRgb(),opacity:ed(parseFloat(n||t.getAttribute("stop-opacity")||""),1)*s.getAlpha()*e}}function Qwe(t,e){const r=[],n=t.getElementsByTagName("stop"),i=qz(e,1);for(let s=n.length;s--;)r.push(Pwe(n[s],i));return r}function Xz(t){return t.nodeName==="linearGradient"||t.nodeName==="LINEARGRADIENT"?"linear":"radial"}function Yz(t){return t.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function Ji(t,e){return t.getAttribute(e)}function Rwe(t,e){return function(r,n){let i,{width:s,height:o,gradientUnits:a}=n;return Object.keys(r).reduce((l,c)=>{const u=r[c];return u==="Infinity"?i=1:u==="-Infinity"?i=0:(i=typeof u=="string"?parseFloat(u):u,typeof u=="string"&&Gz(u)&&(i*=.01,a==="pixels"&&(c!=="x1"&&c!=="x2"&&c!=="r2"||(i*=s),c!=="y1"&&c!=="y2"||(i*=o)))),l[c]=i,l},{})}(Xz(t)==="linear"?function(r){return{x1:Ji(r,"x1")||0,y1:Ji(r,"y1")||0,x2:Ji(r,"x2")||"100%",y2:Ji(r,"y2")||0}}(t):function(r){return{x1:Ji(r,"fx")||Ji(r,"cx")||"50%",y1:Ji(r,"fy")||Ji(r,"cy")||"50%",r1:0,x2:Ji(r,"cx")||"50%",y2:Ji(r,"cy")||"50%",r2:Ji(r,"r")||"50%"}}(t),U(U({},e),{},{gradientUnits:Yz(t)}))}let Tg=class{constructor(e){const{type:r="linear",gradientUnits:n="pixels",coords:i={},colorStops:s=[],offsetX:o=0,offsetY:a=0,gradientTransform:l,id:c}=e||{};Object.assign(this,{type:r,gradientUnits:n,coords:U(U({},r==="radial"?Owe:Wz),i),colorStops:s,offsetX:o,offsetY:a,gradientTransform:l,id:c?"".concat(c,"_").concat(Kl()):Kl()})}addColorStop(e){for(const r in e){const n=new Zn(e[r]);this.colorStops.push({offset:parseFloat(r),color:n.toRgb(),opacity:n.getAlpha()})}return this}toObject(e){return U(U({},xh(this,e)),{},{type:this.type,coords:U({},this.coords),colorStops:this.colorStops.map(r=>U({},r)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(e){let{additionalTransform:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=[],i=this.gradientTransform?this.gradientTransform.concat():_n.concat(),s=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",o=this.colorStops.map(A=>U({},A)).sort((A,h)=>A.offset-h.offset);let a=-this.offsetX,l=-this.offsetY;var c;s==="objectBoundingBox"?(a/=e.width,l/=e.height):(a+=e.width/2,l+=e.height/2),(c=e)&&typeof c._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(a-=e.pathOffset.x,l-=e.pathOffset.y),i[4]-=a,i[5]-=l;const u=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(s,'"'),'gradientTransform="'.concat(r?r+" ":"").concat(gb(i),'"'),""].join(" ");if(this.type==="linear"){const{x1:A,y1:h,x2:f,y2:p}=this.coords;n.push("<linearGradient ",u,' x1="',A,'" y1="',h,'" x2="',f,'" y2="',p,`">
`)}else if(this.type==="radial"){const{x1:A,y1:h,x2:f,y2:p,r1:m,r2:y}=this.coords,g=m>y;n.push("<radialGradient ",u,' cx="',g?A:f,'" cy="',g?h:p,'" r="',g?m:y,'" fx="',g?f:A,'" fy="',g?p:h,`">
`),g&&(o.reverse(),o.forEach(x=>{x.offset=1-x.offset}));const v=Math.min(m,y);if(v>0){const x=v/Math.max(m,y);o.forEach(b=>{b.offset+=x*(1-b.offset)})}}return o.forEach(A=>{let{color:h,offset:f,opacity:p}=A;n.push("<stop ",'offset="',100*f+"%",'" style="stop-color:',h,p!==void 0?";stop-opacity: "+p:";",`"/>
`)}),n.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),n.join("")}toLive(e){const{x1:r,y1:n,x2:i,y2:s,r1:o,r2:a}=this.coords,l=this.type==="linear"?e.createLinearGradient(r,n,i,s):e.createRadialGradient(r,n,o,i,s,a);return this.colorStops.forEach(c=>{let{color:u,opacity:A,offset:h}=c;l.addColorStop(h,A!==void 0?new Zn(u).setAlpha(A).toRgba():u)}),l}static async fromObject(e){const{colorStops:r,gradientTransform:n}=e;return new this(U(U({},e),{},{colorStops:r?r.map(i=>U({},i)):void 0,gradientTransform:n?[...n]:void 0}))}static fromElement(e,r,n){const i=Yz(e),s=r._findCenterFromElement();return new this(U({id:e.getAttribute("id")||void 0,type:Xz(e),coords:Rwe(e,{width:n.viewBoxWidth||n.width,height:n.viewBoxHeight||n.height}),colorStops:Qwe(e,n.opacity),gradientUnits:i,gradientTransform:C6(e.getAttribute("gradientTransform")||"")},i==="pixels"?{offsetX:r.width/2-s.x,offsetY:r.height/2-s.y}:{offsetX:0,offsetY:0}))}};j(Tg,"type","Gradient"),we.setClass(Tg,"gradient"),we.setClass(Tg,"linear"),we.setClass(Tg,"radial");const Hwe=["type","source","patternTransform"];let T3=class{get type(){return"pattern"}set type(e){Vl("warn","Setting type has no effect",e)}constructor(e){j(this,"repeat","repeat"),j(this,"offsetX",0),j(this,"offsetY",0),j(this,"crossOrigin",""),this.id=Kl(),Object.assign(this,e)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(e){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?e.createPattern(this.source,this.repeat):null}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:r,crossOrigin:n}=this;return U(U({},xh(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:r,crossOrigin:n,offsetX:It(this.offsetX,Je.NUM_FRACTION_DIGITS),offsetY:It(this.offsetY,Je.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(e){let{width:r,height:n}=e;const{source:i,repeat:s,id:o}=this,a=ed(this.offsetX/r,0),l=ed(this.offsetY/n,0),c=s==="repeat-y"||s==="no-repeat"?1+Math.abs(a||0):ed(i.width/r,0),u=s==="repeat-x"||s==="no-repeat"?1+Math.abs(l||0):ed(i.height/n,0);return['<pattern id="SVGID_'.concat(o,'" x="').concat(a,'" y="').concat(l,'" width="').concat(c,'" height="').concat(u,'">'),'<image x="0" y="0" width="'.concat(i.width,'" height="').concat(i.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(e,r){let{type:n,source:i,patternTransform:s}=e,o=Lt(e,Hwe);const a=await Dv(i,U(U({},r),{},{crossOrigin:o.crossOrigin}));return new this(U(U({},o),{},{patternTransform:s&&s.slice(0),source:a}))}};j(T3,"type","Pattern"),we.setClass(T3),we.setClass(T3,"pattern");let $we=class{constructor(e){j(this,"color","rgb(0, 0, 0)"),j(this,"width",1),j(this,"shadow",null),j(this,"strokeLineCap","round"),j(this,"strokeLineJoin","round"),j(this,"strokeMiterLimit",10),j(this,"strokeDashArray",null),j(this,"limitedToCanvasSize",!1),this.canvas=e}_setBrushStyles(e){e.strokeStyle=this.color,e.lineWidth=this.width,e.lineCap=this.strokeLineCap,e.miterLimit=this.strokeMiterLimit,e.lineJoin=this.strokeLineJoin,e.setLineDash(this.strokeDashArray||[])}_saveAndTransform(e){const r=this.canvas.viewportTransform;e.save(),e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}needsFullRender(){return new Zn(this.color).getAlpha()<1||!!this.shadow}_setShadow(){if(!this.shadow||!this.canvas)return;const e=this.canvas,r=this.shadow,n=e.contextTop,i=e.getZoom()*e.getRetinaScaling();n.shadowColor=r.color,n.shadowBlur=r.blur*i,n.shadowOffsetX=r.offsetX*i,n.shadowOffsetY=r.offsetY*i}_resetShadow(){const e=this.canvas.contextTop;e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0}_isOutSideCanvas(e){return e.x<0||e.x>this.canvas.getWidth()||e.y<0||e.y>this.canvas.getHeight()}};const Vwe=["path","left","top"],Kwe=["d"];let MA=class Jz extends un{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:n,left:i,top:s}=r,o=Lt(r,Vwe);super(),Object.assign(this,Jz.ownDefaults),this.setOptions(o),this._setPath(e||[],!0),typeof i=="number"&&this.set(lt,i),typeof s=="number"&&this.set(zn,s)}_setPath(e,r){this.path=xwe(Array.isArray(e)?e:Fwe(e)),this.setBoundingBox(r)}_findCenterFromElement(){const e=this._calcBoundsFromPath();return new Z(e.left+e.width/2,e.top+e.height/2)}_renderPathCommands(e){const r=-this.pathOffset.x,n=-this.pathOffset.y;e.beginPath();for(const i of this.path)switch(i[0]){case"L":e.lineTo(i[1]+r,i[2]+n);break;case"M":e.moveTo(i[1]+r,i[2]+n);break;case"C":e.bezierCurveTo(i[1]+r,i[2]+n,i[3]+r,i[4]+n,i[5]+r,i[6]+n);break;case"Q":e.quadraticCurveTo(i[1]+r,i[2]+n,i[3]+r,i[4]+n);break;case"Z":e.closePath()}}_render(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U(U({},super.toObject(e)),{},{path:this.path.map(r=>r.slice())})}toDatalessObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=this.toObject(e);return this.sourcePath&&(delete r.path,r.sourcePath=this.sourcePath),r}_toSVG(){const e=Vz(this.path,Je.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(e,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const e=Je.NUM_FRACTION_DIGITS;return" translate(".concat(It(-this.pathOffset.x,e),", ").concat(It(-this.pathOffset.y,e),")")}toClipPathSVG(e){const r=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:r})}toSVG(e){const r=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:r})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{width:r,height:n,pathOffset:i}=this._calcDimensions();this.set({width:r,height:n,pathOffset:i}),e&&this.setPositionByOrigin(i,Ue,Ue)}_calcBoundsFromPath(){const e=[];let r=0,n=0,i=0,s=0;for(const o of this.path)switch(o[0]){case"L":i=o[1],s=o[2],e.push({x:r,y:n},{x:i,y:s});break;case"M":i=o[1],s=o[2],r=i,n=s;break;case"C":e.push(...lL(i,s,o[1],o[2],o[3],o[4],o[5],o[6])),i=o[5],s=o[6];break;case"Q":e.push(...lL(i,s,o[1],o[2],o[1],o[2],o[3],o[4])),i=o[3],s=o[4];break;case"Z":i=r,s=n}return ta(e)}_calcDimensions(){const e=this._calcBoundsFromPath();return U(U({},e),{},{pathOffset:new Z(e.left+e.width/2,e.top+e.height/2)})}static fromObject(e){return this._fromObject(e,{extraParam:"path"})}static async fromElement(e,r,n){const i=ba(e,this.ATTRIBUTE_NAMES,n),{d:s}=i;return new this(s,U(U(U({},Lt(i,Kwe)),r),{},{left:void 0,top:void 0}))}};j(MA,"type","Path"),j(MA,"cacheProperties",[...xa,"path","fillRule"]),j(MA,"ATTRIBUTE_NAMES",[...oc,"d"]),we.setClass(MA),we.setSVGClass(MA);let Zz=class M6 extends $we{constructor(e){super(e),j(this,"decimate",.4),j(this,"drawStraightLine",!1),j(this,"straightLineKey","shiftKey"),this._points=[],this._hasStraightLine=!1}needsFullRender(){return super.needsFullRender()||this._hasStraightLine}static drawSegment(e,r,n){const i=r.midPointFrom(n);return e.quadraticCurveTo(r.x,r.y,i.x,i.y),i}onMouseDown(e,r){let{e:n}=r;this.canvas._isMainEvent(n)&&(this.drawStraightLine=!!this.straightLineKey&&n[this.straightLineKey],this._prepareForDrawing(e),this._addPoint(e),this._render())}onMouseMove(e,r){let{e:n}=r;if(this.canvas._isMainEvent(n)&&(this.drawStraightLine=!!this.straightLineKey&&n[this.straightLineKey],(this.limitedToCanvasSize!==!0||!this._isOutSideCanvas(e))&&this._addPoint(e)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{const i=this._points,s=i.length,o=this.canvas.contextTop;this._saveAndTransform(o),this.oldEnd&&(o.beginPath(),o.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=M6.drawSegment(o,i[s-2],i[s-1]),o.stroke(),o.restore()}}onMouseUp(e){let{e:r}=e;return!this.canvas._isMainEvent(r)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)}_prepareForDrawing(e){this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)}_addPoint(e){return!(this._points.length>1&&e.eq(this._points[this._points.length-1]))&&(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(e),!0)}_reset(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1}_render(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.canvas.contextTop,r=this._points[0],n=this._points[1];if(this._saveAndTransform(e),e.beginPath(),this._points.length===2&&r.x===n.x&&r.y===n.y){const i=this.width/1e3;r.x-=i,n.x+=i}e.moveTo(r.x,r.y);for(let i=1;i<this._points.length;i++)M6.drawSegment(e,r,n),r=this._points[i],n=this._points[i+1];e.lineTo(r.x,r.y),e.stroke(),e.restore()}convertPointsToSVGPath(e){const r=this.width/1e3;return Mwe(e,r)}createPath(e){const r=new MA(e,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,r.shadow=new Bd(this.shadow)),r}decimatePoints(e,r){if(e.length<=2)return e;let n,i=e[0];const s=this.canvas.getZoom(),o=Math.pow(r/s,2),a=e.length-1,l=[i];for(let c=1;c<a-1;c++)n=Math.pow(i.x-e[c].x,2)+Math.pow(i.y-e[c].y,2),n>=o&&(i=e[c],l.push(i));return l.push(e[a]),l}_finalizeAndAddPath(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));const e=this.convertPointsToSVGPath(this._points);if(function(n){return Vz(n)==="M 0 0 Q 0 0 0 0 L 0 0"}(e))return void this.canvas.requestRenderAll();const r=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:r}),this.canvas.add(r),this.canvas.requestRenderAll(),r.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:r})}};const zwe=["left","top","radius"],eW=["radius","startAngle","endAngle","counterClockwise"];let el=class T6 extends un{static getDefaults(){return U(U({},super.getDefaults()),T6.ownDefaults)}constructor(e){super(),Object.assign(this,T6.ownDefaults),this.setOptions(e)}_set(e,r){return super._set(e,r),e==="radius"&&this.setRadius(r),this}_render(e){e.beginPath(),e.arc(0,0,this.radius,tr(this.startAngle),tr(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}getRadiusX(){return this.get("radius")*this.get(Jn)}getRadiusY(){return this.get("radius")*this.get(Wi)}setRadius(e){this.radius=e,this.set({width:2*e,height:2*e})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...eW,...e])}_toSVG(){const e=(this.endAngle-this.startAngle)%360;if(e===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:r}=this,n=tr(this.startAngle),i=tr(this.endAngle),s=Aa(n)*r,o=da(n)*r,a=Aa(i)*r,l=da(i)*r,c=e>180?1:0,u=this.counterClockwise?0:1;return['<path d="M '.concat(s," ").concat(o," A ").concat(r," ").concat(r," 0 ").concat(c," ").concat(u," ").concat(a," ").concat(l,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(e,r,n){const i=ba(e,this.ATTRIBUTE_NAMES,n),{left:s=0,top:o=0,radius:a=0}=i;return new this(U(U({},Lt(i,zwe)),{},{radius:a,left:s-a,top:o-a}))}static fromObject(e){return super._fromObject(e)}};j(el,"type","Circle"),j(el,"cacheProperties",[...xa,...eW]),j(el,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),j(el,"ATTRIBUTE_NAMES",["cx","cy","r",...oc]),we.setClass(el),we.setSVGClass(el);const Wwe=["x1","y1","x2","y2"],Gwe=["x1","y1","x2","y2"],D6=["x1","x2","y1","y2"];let Rc=class tW extends un{constructor(){let[e,r,n,i]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,tW.ownDefaults),this.setOptions(s),this.x1=e,this.x2=n,this.y1=r,this.y2=i,this._setWidthHeight();const{left:o,top:a}=s;typeof o=="number"&&this.set(lt,o),typeof a=="number"&&this.set(zn,a)}_setWidthHeight(){const{x1:e,y1:r,x2:n,y2:i}=this;this.width=Math.abs(n-e),this.height=Math.abs(i-r);const{left:s,top:o,width:a,height:l}=ta([{x:e,y:r},{x:n,y:i}]),c=new Z(s+a/2,o+l/2);this.setPositionByOrigin(c,Ue,Ue)}_set(e,r){return super._set(e,r),D6.includes(e)&&this._setWidthHeight(),this}_render(e){e.beginPath();const r=this.calcLinePoints();e.moveTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineWidth=this.strokeWidth;const n=e.strokeStyle;var i;Ui(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=(i=this.stroke)!==null&&i!==void 0?i:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n}_findCenterFromElement(){return new Z((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U(U({},super.toObject(e)),this.calcLinePoints())}_getNonTransformedDimensions(){const e=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(e.y-=this.strokeWidth),this.height===0&&(e.x-=this.strokeWidth)),e}calcLinePoints(){const{x1:e,x2:r,y1:n,y2:i,width:s,height:o}=this,a=e<=r?-1:1,l=n<=i?-1:1;return{x1:a*s/2,x2:a*-s/2,y1:l*o/2,y2:l*-o/2}}_toSVG(){const{x1:e,x2:r,y1:n,y2:i}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(e,'" y1="').concat(n,'" x2="').concat(r,'" y2="').concat(i,`" />
`)]}static async fromElement(e,r,n){const i=ba(e,this.ATTRIBUTE_NAMES,n),{x1:s=0,y1:o=0,x2:a=0,y2:l=0}=i;return new this([s,o,a,l],Lt(i,Wwe))}static fromObject(e){let{x1:r,y1:n,x2:i,y2:s}=e,o=Lt(e,Gwe);return this._fromObject(U(U({},o),{},{points:[r,n,i,s]}),{extraParam:"points"})}};j(Rc,"type","Line"),j(Rc,"cacheProperties",[...xa,...D6]),j(Rc,"ATTRIBUTE_NAMES",oc.concat(D6)),we.setClass(Rc),we.setSVGClass(Rc);let td=class L6 extends un{static getDefaults(){return U(U({},super.getDefaults()),L6.ownDefaults)}constructor(e){super(),Object.assign(this,L6.ownDefaults),this.setOptions(e)}_render(e){const r=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-r,n),e.lineTo(0,-n),e.lineTo(r,n),e.closePath(),this._renderPaintInOrder(e)}_toSVG(){const e=this.width/2,r=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(r,",0 ").concat(-r,",").concat(e," ").concat(r),'" />']}};j(td,"type","Triangle"),j(td,"ownDefaults",{width:100,height:100}),we.setClass(td),we.setSVGClass(td);const rW=["rx","ry"];let Nc=class j6 extends un{static getDefaults(){return U(U({},super.getDefaults()),j6.ownDefaults)}constructor(e){super(),Object.assign(this,j6.ownDefaults),this.setOptions(e)}_set(e,r){switch(super._set(e,r),e){case"rx":this.rx=r,this.set("width",2*r);break;case"ry":this.ry=r,this.set("height",2*r)}return this}getRx(){return this.get("rx")*this.get(Jn)}getRy(){return this.get("ry")*this.get(Wi)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...rW,...e])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,db,!1),e.restore(),this._renderPaintInOrder(e)}static async fromElement(e,r,n){const i=ba(e,this.ATTRIBUTE_NAMES,n);return i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,new this(i)}};function qwe(t){if(!t)return[];const e=t.replace(/,/g," ").trim().split(/\s+/),r=[];for(let n=0;n<e.length;n+=2)r.push({x:parseFloat(e[n]),y:parseFloat(e[n+1])});return r}j(Nc,"type","Ellipse"),j(Nc,"cacheProperties",[...xa,...rW]),j(Nc,"ownDefaults",{rx:0,ry:0}),j(Nc,"ATTRIBUTE_NAMES",[...oc,"cx","cy","rx","ry"]),we.setClass(Nc),we.setSVGClass(Nc);const Xwe=["left","top"],nW={exactBoundingBox:!1};let Wa=class O6 extends un{static getDefaults(){return U(U({},super.getDefaults()),O6.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),j(this,"strokeDiff",void 0),Object.assign(this,O6.ownDefaults),this.setOptions(r),this.points=e;const{left:n,top:i}=r;this.initialized=!0,this.setBoundingBox(!0),typeof n=="number"&&this.set(lt,n),typeof i=="number"&&this.set(zn,i)}isOpen(){return!0}_projectStrokeOnPoints(e){return U2e(this.points,e,this.isOpen())}_calcDimensions(e){e=U({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});const r=this.exactBoundingBox?this._projectStrokeOnPoints(e).map(c=>c.projectedPoint):this.points;if(r.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new Z,strokeOffset:new Z,strokeDiff:new Z};const n=ta(r),i=Aw(U(U({},e),{},{scaleX:1,scaleY:1})),s=ta(this.points.map(c=>Nn(c,i,!0))),o=new Z(this.scaleX,this.scaleY);let a=n.left+n.width/2,l=n.top+n.height/2;return this.exactBoundingBox&&(a-=l*Math.tan(tr(this.skewX)),l-=a*Math.tan(tr(this.skewY))),U(U({},n),{},{pathOffset:new Z(a,l),strokeOffset:new Z(s.left,s.top).subtract(new Z(n.left,n.top)).multiply(o),strokeDiff:new Z(n.width,n.height).subtract(new Z(s.width,s.height)).multiply(o)})}_findCenterFromElement(){const e=ta(this.points);return new Z(e.left+e.width/2,e.top+e.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{left:r,top:n,width:i,height:s,pathOffset:o,strokeOffset:a,strokeDiff:l}=this._calcDimensions();this.set({width:i,height:s,pathOffset:o,strokeOffset:a,strokeDiff:l}),e&&this.setPositionByOrigin(new Z(r+i/2,n+s/2),Ue,Ue)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new Z(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let o;if(Object.keys(e).some(a=>this.strokeUniform||this.constructor.layoutProperties.includes(a))){var r,n;const{width:a,height:l}=this._calcDimensions(e);o=new Z((r=e.width)!==null&&r!==void 0?r:a,(n=e.height)!==null&&n!==void 0?n:l)}else{var i,s;o=new Z((i=e.width)!==null&&i!==void 0?i:this.width,(s=e.height)!==null&&s!==void 0?s:this.height)}return o.multiply(new Z(e.scaleX||this.scaleX,e.scaleY||this.scaleY))}return super._getTransformedDimensions(e)}_set(e,r){const n=this.initialized&&this[e]!==r,i=super._set(e,r);return this.exactBoundingBox&&n&&((e===Jn||e===Wi)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),i}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U(U({},super.toObject(e)),{},{points:this.points.map(r=>{let{x:n,y:i}=r;return{x:n,y:i}})})}_toSVG(){const e=[],r=this.pathOffset.x,n=this.pathOffset.y,i=Je.NUM_FRACTION_DIGITS;for(let s=0,o=this.points.length;s<o;s++)e.push(It(this.points[s].x-r,i),",",It(this.points[s].y-n,i)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),`" />
`)]}_render(e){const r=this.points.length,n=this.pathOffset.x,i=this.pathOffset.y;if(r&&!isNaN(this.points[r-1].y)){e.beginPath(),e.moveTo(this.points[0].x-n,this.points[0].y-i);for(let s=0;s<r;s++){const o=this.points[s];e.lineTo(o.x-n,o.y-i)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}complexity(){return this.points.length}static async fromElement(e,r,n){return new this(qwe(e.getAttribute("points")),U(U({},Lt(ba(e,this.ATTRIBUTE_NAMES,n),Xwe)),r))}static fromObject(e){return this._fromObject(e,{extraParam:"points"})}};j(Wa,"ownDefaults",nW),j(Wa,"type","Polyline"),j(Wa,"layoutProperties",[yh,vh,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),j(Wa,"cacheProperties",[...xa,"points"]),j(Wa,"ATTRIBUTE_NAMES",[...oc]),we.setClass(Wa),we.setSVGClass(Wa);let Dg=class extends Wa{isOpen(){return!1}};j(Dg,"ownDefaults",nW),j(Dg,"type","Polygon"),we.setClass(Dg),we.setSVGClass(Dg);const iW=["fontSize","fontWeight","fontFamily","fontStyle"],sW=["underline","overline","linethrough"],oW=[...iW,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],aW=[...oW,...sW,"textBackgroundColor","direction"],Ywe=[...iW,...sW,Gn,"strokeWidth",xr,"deltaY","textBackgroundColor"],Jwe={_reNewline:Wk,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:lt,fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:lt,pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},Js="justify",Cb="justify-left",Tp="justify-right",Dp="justify-center";let lW=class extends un{isEmptyStyles(e){if(!this.styles||e!==void 0&&!this.styles[e])return!0;const r=e===void 0?this.styles:{line:this.styles[e]};for(const n in r)for(const i in r[n])for(const s in r[n][i])return!1;return!0}styleHas(e,r){if(!this.styles||r!==void 0&&!this.styles[r])return!1;const n=r===void 0?this.styles:{0:this.styles[r]};for(const i in n)for(const s in n[i])if(n[i][s][e]!==void 0)return!0;return!1}cleanStyle(e){if(!this.styles)return!1;const r=this.styles;let n,i,s=0,o=!0,a=0;for(const l in r){n=0;for(const c in r[l]){const u=r[l][c]||{};s++,u[e]!==void 0?(i?u[e]!==i&&(o=!1):i=u[e],u[e]===this[e]&&delete u[e]):o=!1,Object.keys(u).length!==0?n++:delete r[l][c]}n===0&&delete r[l]}for(let l=0;l<this._textLines.length;l++)a+=this._textLines[l].length;o&&s===a&&(this[e]=i,this.removeStyle(e))}removeStyle(e){if(!this.styles)return;const r=this.styles;let n,i,s;for(i in r){for(s in n=r[i],n)delete n[s][e],Object.keys(n[s]).length===0&&delete n[s];Object.keys(n).length===0&&delete r[i]}}_extendStyles(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e);this._getLineStyle(n)||this._setLineStyle(n);const s=Jk(U(U({},this._getStyleDeclaration(n,i)),r),o=>o!==void 0);this._setStyleDeclaration(n,i,s)}getSelectionStyles(e,r,n){const i=[];for(let s=e;s<(r||e);s++)i.push(this.getStyleAtPosition(s,n));return i}getStyleAtPosition(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e);return r?this.getCompleteStyleDeclaration(n,i):this._getStyleDeclaration(n,i)}setSelectionStyles(e,r,n){for(let i=r;i<(n||r);i++)this._extendStyles(i,e);this._forceClearCache=!0}_getStyleDeclaration(e,r){var n;const i=this.styles&&this.styles[e];return i&&(n=i[r])!==null&&n!==void 0?n:{}}getCompleteStyleDeclaration(e,r){return U(U({},xh(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,r))}_setStyleDeclaration(e,r,n){this.styles[e][r]=n}_deleteStyleDeclaration(e,r){delete this.styles[e][r]}_getLineStyle(e){return!!this.styles[e]}_setLineStyle(e){this.styles[e]={}}_deleteLineStyle(e){delete this.styles[e]}};j(lW,"_styleProperties",Ywe);const Zwe=/  +/g,e4e=/"/g;function D3(t,e,r,n,i){return"		".concat(function(s,o){let{left:a,top:l,width:c,height:u}=o,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Je.NUM_FRACTION_DIGITS;const h=Om(xr,s,!1),[f,p,m,y]=[a,l,c,u].map(g=>It(g,A));return"<rect ".concat(h,' x="').concat(f,'" y="').concat(p,'" width="').concat(m,'" height="').concat(y,'"></rect>')}(t,{left:e,top:r,width:n,height:i}),`
`)}const t4e=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let L3,Hs=class Kf extends lW{static getDefaults(){return U(U({},super.getDefaults()),Kf.ownDefaults)}constructor(e,r){super(),j(this,"__charBounds",[]),Object.assign(this,Kf.ownDefaults),this.setOptions(r),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const e=this.path;e&&(e.segmentsInfo=$z(e.path))}_splitText(){const e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(Js)&&this.enlargeSpaces()}enlargeSpaces(){let e,r,n,i,s,o,a;for(let l=0,c=this._textLines.length;l<c;l++)if((this.textAlign===Js||l!==c-1&&!this.isEndOfWrapping(l))&&(i=0,s=this._textLines[l],r=this.getLineWidth(l),r<this.width&&(a=this.textLines[l].match(this._reSpacesAndTabs)))){n=a.length,e=(this.width-r)/n;for(let u=0;u<=s.length;u++)o=this.__charBounds[l][u],this._reSpaceAndTab.test(s[u])?(o.width+=e,o.kernedWidth+=e,o.left+=i,i+=e):o.left+=i}}isEndOfWrapping(e){return e===this._textLines.length-1}missingNewlineOffset(e){return 1}get2DCursorLocation(e,r){const n=r?this._unwrappedTextLines:this._textLines;let i;for(i=0;i<n.length;i++){if(e<=n[i].length)return{lineIndex:i,charIndex:e};e-=n[i].length+this.missingNewlineOffset(i,r)}return{lineIndex:i-1,charIndex:n[i-1].length<e?n[i-1].length:e}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const e=super._getCacheCanvasDimensions(),r=this.fontSize;return e.width+=r*e.zoomX,e.height+=r*e.zoomY,e}_render(e){const r=this.path;r&&!r.isNotVisible()&&r._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}_renderText(e){this.paintFirst===Gn?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}_setTextStyles(e,r,n){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case Ue:e.textBaseline="middle";break;case"ascender":e.textBaseline=zn;break;case"descender":e.textBaseline=m6}e.font=this._getFontDeclaration(r,n)}calcTextWidth(){let e=this.getLineWidth(0);for(let r=1,n=this._textLines.length;r<n;r++){const i=this.getLineWidth(r);i>e&&(e=i)}return e}_renderTextLine(e,r,n,i,s,o){this._renderChars(e,r,n,i,s,o)}_renderTextLinesBackground(e){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const r=e.fillStyle,n=this._getLeftOffset();let i=this._getTopOffset();for(let s=0,o=this._textLines.length;s<o;s++){const a=this.getHeightOfLine(s);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",s)){i+=a;continue}const l=this._textLines[s].length,c=this._getLineLeftOffset(s);let u,A,h=0,f=0,p=this.getValueOfPropertyAt(s,0,"textBackgroundColor");for(let m=0;m<l;m++){const y=this.__charBounds[s][m];A=this.getValueOfPropertyAt(s,m,"textBackgroundColor"),this.path?(e.save(),e.translate(y.renderLeft,y.renderTop),e.rotate(y.angle),e.fillStyle=A,A&&e.fillRect(-y.width/2,-a/this.lineHeight*(1-this._fontSizeFraction),y.width,a/this.lineHeight),e.restore()):A!==p?(u=n+c+f,this.direction==="rtl"&&(u=this.width-u-h),e.fillStyle=p,p&&e.fillRect(u,i,h,a/this.lineHeight),f=y.left,h=y.width,p=A):h+=y.kernedWidth}A&&!this.path&&(u=n+c+f,this.direction==="rtl"&&(u=this.width-u-h),e.fillStyle=A,e.fillRect(u,i,h,a/this.lineHeight)),i+=a}e.fillStyle=r,this._removeShadow(e)}_measureChar(e,r,n,i){const s=Ep.getFontCache(r),o=this._getFontDeclaration(r),a=n+e,l=n&&o===this._getFontDeclaration(i),c=r.fontSize/this.CACHE_FONT_SIZE;let u,A,h,f;if(n&&s[n]!==void 0&&(h=s[n]),s[e]!==void 0&&(f=u=s[e]),l&&s[a]!==void 0&&(A=s[a],f=A-h),u===void 0||h===void 0||A===void 0){const p=function(){return L3||(L3=po({width:0,height:0}).getContext("2d")),L3}();this._setTextStyles(p,r,!0),u===void 0&&(f=u=p.measureText(e).width,s[e]=u),h===void 0&&l&&n&&(h=p.measureText(n).width,s[n]=h),l&&A===void 0&&(A=p.measureText(a).width,s[a]=A,f=A-h)}return{width:u*c,kernedWidth:f*c}}getHeightOfChar(e,r){return this.getValueOfPropertyAt(e,r,"fontSize")}measureLine(e){const r=this._measureLine(e);return this.charSpacing!==0&&(r.width-=this._getWidthOfCharSpacing()),r.width<0&&(r.width=0),r}_measureLine(e){let r,n,i=0;const s=this.pathSide===Xt,o=this.path,a=this._textLines[e],l=a.length,c=new Array(l);this.__charBounds[e]=c;for(let u=0;u<l;u++){const A=a[u];n=this._getGraphemeBox(A,e,u,r),c[u]=n,i+=n.kernedWidth,r=A}if(c[l]={left:n?n.left+n.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},o&&o.segmentsInfo){let u=0;const A=o.segmentsInfo[o.segmentsInfo.length-1].length;switch(this.textAlign){case lt:u=s?A-i:0;break;case Ue:u=(A-i)/2;break;case Xt:u=s?0:A-i}u+=this.pathStartOffset*(s?-1:1);for(let h=s?l-1:0;s?h>=0:h<l;s?h--:h++)n=c[h],u>A?u%=A:u<0&&(u+=A),this._setGraphemeOnPath(u,n),u+=n.kernedWidth}return{width:i,numOfSpaces:0}}_setGraphemeOnPath(e,r){const n=e+r.kernedWidth/2,i=this.path,s=_we(i.path,n,i.segmentsInfo);r.renderLeft=s.x-i.pathOffset.x,r.renderTop=s.y-i.pathOffset.y,r.angle=s.angle+(this.pathSide===Xt?Math.PI:0)}_getGraphemeBox(e,r,n,i,s){const o=this.getCompleteStyleDeclaration(r,n),a=i?this.getCompleteStyleDeclaration(r,n-1):{},l=this._measureChar(e,o,i,a);let c,u=l.kernedWidth,A=l.width;this.charSpacing!==0&&(c=this._getWidthOfCharSpacing(),A+=c,u+=c);const h={width:A,left:0,height:o.fontSize,kernedWidth:u,deltaY:o.deltaY};if(n>0&&!s){const f=this.__charBounds[r][n-1];h.left=f.left+f.width+l.kernedWidth-l.width}return h}getHeightOfLine(e){if(this.__lineHeights[e])return this.__lineHeights[e];let r=this.getHeightOfChar(e,0);for(let n=1,i=this._textLines[e].length;n<i;n++)r=Math.max(this.getHeightOfChar(e,n),r);return this.__lineHeights[e]=r*this.lineHeight*this._fontSizeMult}calcTextHeight(){let e,r=0;for(let n=0,i=this._textLines.length;n<i;n++)e=this.getHeightOfLine(n),r+=n===i-1?e/this.lineHeight:e;return r}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(e,r){e.save();let n=0;const i=this._getLeftOffset(),s=this._getTopOffset();for(let o=0,a=this._textLines.length;o<a;o++){const l=this.getHeightOfLine(o),c=l/this.lineHeight,u=this._getLineLeftOffset(o);this._renderTextLine(r,e,this._textLines[o],i+u,s+n+c,o),n+=l}e.restore()}_renderTextFill(e){(this.fill||this.styleHas(xr))&&this._renderTextCommon(e,"fillText")}_renderTextStroke(e){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}_renderChars(e,r,n,i,s,o){const a=this.getHeightOfLine(o),l=this.textAlign.includes(Js),c=this.path,u=!l&&this.charSpacing===0&&this.isEmptyStyles(o)&&!c,A=this.direction==="ltr",h=this.direction==="ltr"?1:-1,f=r.direction;let p,m,y,g,v,x="",b=0;if(r.save(),f!==this.direction&&(r.canvas.setAttribute("dir",A?"ltr":"rtl"),r.direction=A?"ltr":"rtl",r.textAlign=A?lt:Xt),s-=a*this._fontSizeFraction/this.lineHeight,u)return this._renderChar(e,r,o,0,n.join(""),i,s),void r.restore();for(let w=0,C=n.length-1;w<=C;w++)g=w===C||this.charSpacing||c,x+=n[w],y=this.__charBounds[o][w],b===0?(i+=h*(y.kernedWidth-y.width),b+=y.width):b+=y.kernedWidth,l&&!g&&this._reSpaceAndTab.test(n[w])&&(g=!0),g||(p=p||this.getCompleteStyleDeclaration(o,w),m=this.getCompleteStyleDeclaration(o,w+1),g=oE(p,m,!1)),g&&(c?(r.save(),r.translate(y.renderLeft,y.renderTop),r.rotate(y.angle),this._renderChar(e,r,o,w,x,-b/2,0),r.restore()):(v=i,this._renderChar(e,r,o,w,x,v,s)),x="",p=m,i+=h*b,b=0);r.restore()}_applyPatternGradientTransformText(e){const r=this.width+this.strokeWidth,n=this.height+this.strokeWidth,i=po({width:r,height:n}),s=i.getContext("2d");return i.width=r,i.height=n,s.beginPath(),s.moveTo(0,0),s.lineTo(r,0),s.lineTo(r,n),s.lineTo(0,n),s.closePath(),s.translate(r/2,n/2),s.fillStyle=e.toLive(s),this._applyPatternGradientTransform(s,e),s.fill(),s.createPattern(i,"no-repeat")}handleFiller(e,r,n){let i,s;return Ui(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?(i=-this.width/2,s=-this.height/2,e.translate(i,s),e[r]=this._applyPatternGradientTransformText(n),{offsetX:i,offsetY:s}):(e[r]=n.toLive(e),this._applyPatternGradientTransform(e,n)):(e[r]=n,{offsetX:0,offsetY:0})}_setStrokeStyles(e,r){let{stroke:n,strokeWidth:i}=r;return e.lineWidth=i,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",n)}_setFillStyles(e,r){let{fill:n}=r;return this.handleFiller(e,"fillStyle",n)}_renderChar(e,r,n,i,s,o,a){const l=this._getStyleDeclaration(n,i),c=this.getCompleteStyleDeclaration(n,i),u=e==="fillText"&&c.fill,A=e==="strokeText"&&c.stroke&&c.strokeWidth;if(A||u){if(r.save(),r.font=this._getFontDeclaration(c),l.textBackgroundColor&&this._removeShadow(r),l.deltaY&&(a+=l.deltaY),u){const h=this._setFillStyles(r,c);r.fillText(s,o-h.offsetX,a-h.offsetY)}if(A){const h=this._setStrokeStyles(r,c);r.strokeText(s,o-h.offsetX,a-h.offsetY)}r.restore()}}setSuperscript(e,r){this._setScript(e,r,this.superscript)}setSubscript(e,r){this._setScript(e,r,this.subscript)}_setScript(e,r,n){const i=this.get2DCursorLocation(e,!0),s=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"fontSize"),o=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"deltaY"),a={fontSize:s*n.size,deltaY:o+s*n.baseline};this.setSelectionStyles(a,e,r)}_getLineLeftOffset(e){const r=this.getLineWidth(e),n=this.width-r,i=this.textAlign,s=this.direction,o=this.isEndOfWrapping(e);let a=0;return i===Js||i===Dp&&!o||i===Tp&&!o||i===Cb&&!o?0:(i===Ue&&(a=n/2),i===Xt&&(a=n),i===Dp&&(a=n/2),i===Tp&&(a=n),s==="rtl"&&(i===Xt||i===Js||i===Tp?a=0:i===lt||i===Cb?a=-n:i!==Ue&&i!==Dp||(a=-n/2)),a)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(e){if(this.__lineWidths[e]!==void 0)return this.__lineWidths[e];const{width:r}=this.measureLine(e);return this.__lineWidths[e]=r,r}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(e,r,n){var i;return(i=this._getStyleDeclaration(e,r)[n])!==null&&i!==void 0?i:this[n]}_renderTextDecoration(e,r){if(!this[r]&&!this.styleHas(r))return;let n=this._getTopOffset();const i=this._getLeftOffset(),s=this.path,o=this._getWidthOfCharSpacing(),a=this.offsets[r];for(let l=0,c=this._textLines.length;l<c;l++){const u=this.getHeightOfLine(l);if(!this[r]&&!this.styleHas(r,l)){n+=u;continue}const A=this._textLines[l],h=u/this.lineHeight,f=this._getLineLeftOffset(l);let p,m,y=0,g=0,v=this.getValueOfPropertyAt(l,0,r),x=this.getValueOfPropertyAt(l,0,xr);const b=n+h*(1-this._fontSizeFraction);let w=this.getHeightOfChar(l,0),C=this.getValueOfPropertyAt(l,0,"deltaY");for(let _=0,k=A.length;_<k;_++){const E=this.__charBounds[l][_];p=this.getValueOfPropertyAt(l,_,r),m=this.getValueOfPropertyAt(l,_,xr);const F=this.getHeightOfChar(l,_),M=this.getValueOfPropertyAt(l,_,"deltaY");if(s&&p&&m)e.save(),e.fillStyle=x,e.translate(E.renderLeft,E.renderTop),e.rotate(E.angle),e.fillRect(-E.kernedWidth/2,a*F+M,E.kernedWidth,this.fontSize/15),e.restore();else if((p!==v||m!==x||F!==w||M!==C)&&g>0){let T=i+f+y;this.direction==="rtl"&&(T=this.width-T-g),v&&x&&(e.fillStyle=x,e.fillRect(T,b+a*w+C,g,this.fontSize/15)),y=E.left,g=E.width,v=p,x=m,w=F,C=M}else g+=E.kernedWidth}let B=i+f+y;this.direction==="rtl"&&(B=this.width-B-g),e.fillStyle=m,p&&m&&e.fillRect(B,b+a*w+C,g-o,this.fontSize/15),n+=u}this._removeShadow(e)}_getFontDeclaration(){let{fontFamily:e=this.fontFamily,fontStyle:r=this.fontStyle,fontWeight:n=this.fontWeight,fontSize:i=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;const o=e.includes("'")||e.includes('"')||e.includes(",")||Kf.genericFonts.includes(e.toLowerCase())?e:'"'.concat(e,'"');return[r,n,"".concat(s?this.CACHE_FONT_SIZE:i,"px"),o].join(" ")}render(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(e)))}graphemeSplit(e){return sE(e)}_splitTextIntoLines(e){const r=e.split(this._reNewline),n=new Array(r.length),i=[`
`];let s=[];for(let o=0;o<r.length;o++)n[o]=this.graphemeSplit(r[o]),s=s.concat(n[o],i);return s.pop(),{_unwrappedLines:n,lines:r,graphemeText:s,graphemeLines:n}}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U(U({},super.toObject([...aW,...e])),{},{styles:R2e(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(e,r){const{textLayoutProperties:n}=this.constructor;super.set(e,r);let i=!1,s=!1;if(typeof e=="object")for(const o in e)o==="path"&&this.setPathInfo(),i=i||n.includes(o),s=s||o==="path";else i=n.includes(e),s=e==="path";return s&&this.setPathInfo(),i&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(e,r,n){const i=ba(e,Kf.ATTRIBUTE_NAMES,n),s=U(U({},r),i),{textAnchor:o=lt,textDecoration:a="",dx:l=0,dy:c=0,top:u=0,left:A=0,fontSize:h=zk,strokeWidth:f=1}=s,p=Lt(s,t4e),m=new this((e.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),U({left:A+l,top:u+c,underline:a.includes("underline"),overline:a.includes("overline"),linethrough:a.includes("line-through"),strokeWidth:0,fontSize:h},p)),y=m.getScaledHeight()/m.height,g=((m.height+m.strokeWidth)*m.lineHeight-m.height)*y,v=m.getScaledHeight()+g;let x=0;return o===Ue&&(x=m.getScaledWidth()/2),o===Xt&&(x=m.getScaledWidth()),m.set({left:m.left-x,top:m.top-(v-m.fontSize*(.07+m._fontSizeFraction))/m.lineHeight,strokeWidth:f}),m}static fromObject(e){return this._fromObject(U(U({},e),{},{styles:H2e(e.styles||{},e.text)}),{extraParam:"text"})}};j(Hs,"textLayoutProperties",oW),j(Hs,"cacheProperties",[...xa,...aW]),j(Hs,"ownDefaults",Jwe),j(Hs,"type","Text"),j(Hs,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),j(Hs,"ATTRIBUTE_NAMES",oc.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),Lz(Hs,[class extends Bz{_toSVG(){const t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)}toSVG(t){return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0})}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(t){let{textBgRects:e,textSpans:r}=t;const n=this.getSvgTextDecoration(this);return[e.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(e4e,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",n?'text-decoration="'.concat(n,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",r.join(""),`</text>
`]}_getSVGTextAndBg(t,e){const r=[],n=[];let i,s=t;this.backgroundColor&&n.push(...D3(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let o=0,a=this._textLines.length;o<a;o++)i=this._getLineLeftOffset(o),this.direction==="rtl"&&(i+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(n,o,e+i,s),this._setSVGTextLineText(r,o,e+i,s),s+=this.getHeightOfLine(o);return{textSpans:r,textBgRects:n}}_createTextCharSpan(t,e,r,n){const i=this.getSvgSpanStyles(e,t!==t.trim()||!!t.match(Zwe)),s=i?'style="'.concat(i,'"'):"",o=e.deltaY,a=o?' dy="'.concat(It(o,Je.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(It(r,Je.NUM_FRACTION_DIGITS),'" y="').concat(It(n,Je.NUM_FRACTION_DIGITS),'" ').concat(a).concat(s,">").concat(P2e(t),"</tspan>")}_setSVGTextLineText(t,e,r,n){const i=this.getHeightOfLine(e),s=this.textAlign.includes(Js),o=this._textLines[e];let a,l,c,u,A,h="",f=0;n+=i*(1-this._fontSizeFraction)/this.lineHeight;for(let p=0,m=o.length-1;p<=m;p++)A=p===m||this.charSpacing,h+=o[p],c=this.__charBounds[e][p],f===0?(r+=c.kernedWidth-c.width,f+=c.width):f+=c.kernedWidth,s&&!A&&this._reSpaceAndTab.test(o[p])&&(A=!0),A||(a=a||this.getCompleteStyleDeclaration(e,p),l=this.getCompleteStyleDeclaration(e,p+1),A=oE(a,l,!0)),A&&(u=this._getStyleDeclaration(e,p),t.push(this._createTextCharSpan(h,u,r,n)),h="",a=l,this.direction==="rtl"?r-=f:r+=f,f=0)}_setSVGTextLineBg(t,e,r,n){const i=this._textLines[e],s=this.getHeightOfLine(e)/this.lineHeight;let o,a=0,l=0,c=this.getValueOfPropertyAt(e,0,"textBackgroundColor");for(let u=0;u<i.length;u++){const{left:A,width:h,kernedWidth:f}=this.__charBounds[e][u];o=this.getValueOfPropertyAt(e,u,"textBackgroundColor"),o!==c?(c&&t.push(...D3(c,r+l,n,a,s)),l=A,a=h,c=o):a+=f}o&&t.push(...D3(c,r+l,n,a,s))}_getSVGLineTopOffset(t){let e,r=0;for(e=0;e<t;e++)r+=this.getHeightOfLine(e);const n=this.getHeightOfLine(e);return{lineTop:r,offset:(this._fontSizeMult-this._fontSizeFraction)*n/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(t){return"".concat(super.getSvgStyles(t)," white-space: pre;")}getSvgSpanStyles(t,e){const{fontFamily:r,strokeWidth:n,stroke:i,fill:s,fontSize:o,fontStyle:a,fontWeight:l,deltaY:c}=t,u=this.getSvgTextDecoration(t);return[i?Om(Gn,i):"",n?"stroke-width: ".concat(n,"; "):"",r?"font-family: ".concat(r.includes("'")||r.includes('"')?r:"'".concat(r,"'"),"; "):"",o?"font-size: ".concat(o,"px; "):"",a?"font-style: ".concat(a,"; "):"",l?"font-weight: ".concat(l,"; "):"",u&&"text-decoration: ".concat(u,"; "),s?Om(xr,s):"",c?"baseline-shift: ".concat(-c,"; "):"",e?"white-space: pre; ":""].join("")}getSvgTextDecoration(t){return["overline","underline","line-through"].filter(e=>t[e.replace("-","")]).join(" ")}}]),we.setClass(Hs),we.setSVGClass(Hs);let r4e=class{constructor(e){j(this,"target",void 0),j(this,"__mouseDownInPlace",!1),j(this,"__dragStartFired",!1),j(this,"__isDraggingOver",!1),j(this,"__dragStartSelection",void 0),j(this,"__dragImageDisposer",void 0),j(this,"_dispose",void 0),this.target=e;const r=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{r.forEach(n=>n()),this._dispose=void 0}}isPointerOverSelection(e){const r=this.target,n=r.getSelectionStartFromPointer(e);return r.isEditing&&n>=r.selectionStart&&n<=r.selectionEnd&&r.selectionStart<r.selectionEnd}start(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}isActive(){return this.__mouseDownInPlace}end(e){const r=this.isActive();return r&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,r}getDragStartSelection(){return this.__dragStartSelection}setDragImage(e,r){var n;let{selectionStart:i,selectionEnd:s}=r;const o=this.target,a=o.canvas,l=new Z(o.flipX?-1:1,o.flipY?-1:1),c=o._getCursorBoundaries(i),u=new Z(c.left+c.leftOffset,c.top+c.topOffset).multiply(l).transform(o.calcTransformMatrix()),A=a.getScenePoint(e).subtract(u),h=o.getCanvasRetinaScaling(),f=o.getBoundingRect(),p=u.subtract(new Z(f.left,f.top)),m=a.viewportTransform,y=p.add(A).transform(m,!0),g=o.backgroundColor,v=iE(o.styles);o.backgroundColor="";const x={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};o.setSelectionStyles(x,0,i),o.setSelectionStyles(x,s,o.text.length),o.dirty=!0;const b=o.toCanvasElement({enableRetinaScaling:a.enableRetinaScaling,viewportTransform:!0});o.backgroundColor=g,o.styles=v,o.dirty=!0,E6(b,{position:"fixed",left:"".concat(-b.width,"px"),border:Wn,width:"".concat(b.width/h,"px"),height:"".concat(b.height/h,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{b.remove()},As(e.target||this.target.hiddenTextarea).body.appendChild(b),(n=e.dataTransfer)===null||n===void 0||n.setDragImage(b,y.x,y.y)}onDragStart(e){this.__dragStartFired=!0;const r=this.target,n=this.isActive();if(n&&e.dataTransfer){const i=this.__dragStartSelection={selectionStart:r.selectionStart,selectionEnd:r.selectionEnd},s=r._text.slice(i.selectionStart,i.selectionEnd).join(""),o=U({text:r.text,value:s},i);e.dataTransfer.setData("text/plain",s),e.dataTransfer.setData("application/fabric",JSON.stringify({value:s,styles:r.getSelectionStyles(i.selectionStart,i.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,o)}return r.abortCursorAnimation(),n}canDrop(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const r=this.target.getSelectionStartFromPointer(e),n=this.__dragStartSelection;return r<n.selectionStart||r>n.selectionEnd}return!0}return!1}targetCanDrop(e){return this.target.canDrop(e)}dragEnterHandler(e){let{e:r}=e;const n=this.targetCanDrop(r);!this.__isDraggingOver&&n&&(this.__isDraggingOver=!0)}dragOverHandler(e){const{e:r}=e,n=this.targetCanDrop(r);!this.__isDraggingOver&&n?this.__isDraggingOver=!0:this.__isDraggingOver&&!n&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(r.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(e){var r;const{e:n}=e,i=n.defaultPrevented;this.__isDraggingOver=!1,n.preventDefault();let s=(r=n.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain");if(s&&!i){const o=this.target,a=o.canvas;let l=o.getSelectionStartFromPointer(n);const{styles:c}=n.dataTransfer.types.includes("application/fabric")?JSON.parse(n.dataTransfer.getData("application/fabric")):{},u=s[Math.max(0,s.length-1)],A=0;if(this.__dragStartSelection){const h=this.__dragStartSelection.selectionStart,f=this.__dragStartSelection.selectionEnd;l>h&&l<=f?l=h:l>f&&(l-=f-h),o.removeChars(h,f),delete this.__dragStartSelection}o._reNewline.test(u)&&(o._reNewline.test(o._text[l])||l===o._text.length)&&(s=s.trimEnd()),e.didDrop=!0,e.dropTarget=o,o.insertChars(s,c,l),a.setActiveObject(o),o.enterEditing(n),o.selectionStart=Math.min(l+A,o._text.length),o.selectionEnd=Math.min(o.selectionStart+s.length,o._text.length),o.hiddenTextarea.value=o.text,o._updateTextarea(),o.hiddenTextarea.focus(),o.fire(hb,{index:l+A,action:"drop"}),a.fire("text:changed",{target:o}),a.contextTopDirty=!0,a.requestRenderAll()}}dragEndHandler(e){let{e:r}=e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var n;const i=this.target,s=this.target.canvas,{selectionStart:o,selectionEnd:a}=this.__dragStartSelection,l=((n=r.dataTransfer)===null||n===void 0?void 0:n.dropEffect)||Wn;l===Wn?(i.selectionStart=o,i.selectionEnd=a,i._updateTextarea(),i.hiddenTextarea.focus()):(i.clearContextTop(),l==="move"&&(i.removeChars(o,a),i.selectionStart=i.selectionEnd=o,i.hiddenTextarea&&(i.hiddenTextarea.value=i.text),i._updateTextarea(),i.fire(hb,{index:o,action:"dragend"}),s.fire("text:changed",{target:i}),s.requestRenderAll()),i.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}};const AL=/[ \n\.,;!\?\-]/;let n4e=class extends Hs{constructor(){super(...arguments),j(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(e){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(e)}_animateCursor(e){let{toValue:r,duration:n,delay:i,onComplete:s}=e;return Ez({startValue:this._currentCursorOpacity,endValue:r,duration:n,delay:i,onComplete:s,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:o=>{this._currentCursorOpacity=o,this.renderCursorOrSelection()}})}_tick(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var e;(e=this._currentTickCompleteState)===null||e===void 0||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}abortCursorAnimation(){let e=!1;[this._currentTickState,this._currentTickCompleteState].forEach(r=>{r&&!r.isDone()&&(e=!0,r.abort())}),this._currentCursorOpacity=1,e&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(e=>!e||e.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(e){let r=0,n=e-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)r++,n--;for(;/\S/.test(this._text[n])&&n>-1;)r++,n--;return e-r}findWordBoundaryRight(e){let r=0,n=e;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)r++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)r++,n++;return e+r}findLineBoundaryLeft(e){let r=0,n=e-1;for(;!/\n/.test(this._text[n])&&n>-1;)r++,n--;return e-r}findLineBoundaryRight(e){let r=0,n=e;for(;!/\n/.test(this._text[n])&&n<this._text.length;)r++,n++;return e+r}searchWordBoundary(e,r){const n=this._text;let i=e>0&&this._reSpace.test(n[e])&&(r===-1||!Wk.test(n[e-1]))?e-1:e,s=n[i];for(;i>0&&i<n.length&&!AL.test(s);)i+=r,s=n[i];return r===-1&&AL.test(s)&&i++,i}selectWord(e){e=e||this.selectionStart;const r=this.searchWordBoundary(e,-1),n=Math.max(r,this.searchWordBoundary(e,1));this.selectionStart=r,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(e){e=e||this.selectionStart;const r=this.findLineBoundaryLeft(e),n=this.findLineBoundaryRight(e);return this.selectionStart=r,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this}enterEditing(e){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",e?{e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(e){if(this.getActiveControl())return;const r=this.hiddenTextarea;As(r).activeElement!==r&&r.focus();const n=this.getSelectionStartFromPointer(e),i=this.selectionStart,s=this.selectionEnd;(n===this.__selectionStartOnMouseDown&&i!==s||i!==n&&s!==n)&&(n>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=n):(this.selectionStart=n,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===i&&this.selectionEnd===s||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(e,r,n){const i=n.slice(0,e),s=this.graphemeSplit(i).length;if(e===r)return{selectionStart:s,selectionEnd:s};const o=n.slice(e,r);return{selectionStart:s,selectionEnd:s+this.graphemeSplit(o).length}}fromGraphemeToStringSelection(e,r,n){const i=n.slice(0,e).join("").length;return e===r?{selectionStart:i,selectionEnd:i}:{selectionStart:i,selectionEnd:i+n.slice(e,r).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const e=this.hiddenTextarea;this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const r=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=r.selectionEnd,this.inCompositionMode||(this.selectionStart=r.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const e=this.inCompositionMode?this.compositionStart:this.selectionStart,r=this._getCursorBoundaries(e),n=this.get2DCursorLocation(e),i=n.lineIndex,s=n.charIndex,o=this.getValueOfPropertyAt(i,s,"fontSize")*this.lineHeight,a=r.leftOffset,l=this.getCanvasRetinaScaling(),c=this.canvas.upperCanvasEl,u=c.width/l,A=c.height/l,h=u-o,f=A-o,p=new Z(r.left+a,r.top+r.topOffset+o).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new Z(c.clientWidth/u,c.clientHeight/A));return p.x<0&&(p.x=0),p.x>h&&(p.x=h),p.y<0&&(p.y=0),p.y>f&&(p.y=f),p.x+=this.canvas._offset.left,p.y+=this.canvas._offset.top,{left:"".concat(p.x,"px"),top:"".concat(p.y,"px"),fontSize:"".concat(o,"px"),charHeight:o}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const e=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),e&&this.fire(fb),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const e in this.styles)this._textLines[e]||delete this.styles[e]}removeStyleFromTo(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e,!0),{lineIndex:s,charIndex:o}=this.get2DCursorLocation(r,!0);if(n!==s){if(this.styles[n])for(let a=i;a<this._unwrappedTextLines[n].length;a++)delete this.styles[n][a];if(this.styles[s])for(let a=o;a<this._unwrappedTextLines[s].length;a++){const l=this.styles[s][a];l&&(this.styles[n]||(this.styles[n]={}),this.styles[n][i+a-o]=l)}for(let a=n+1;a<=s;a++)delete this.styles[a];this.shiftLineStyles(s,n-s)}else if(this.styles[n]){const a=this.styles[n],l=o-i;for(let c=i;c<o;c++)delete a[c];for(const c in this.styles[n]){const u=parseInt(c,10);u>=o&&(a[u-l]=a[c],delete a[c])}}}shiftLineStyles(e,r){const n=Object.assign({},this.styles);for(const i in this.styles){const s=parseInt(i,10);s>e&&(this.styles[s+r]=n[s],n[s-r]||delete this.styles[s])}}insertNewlineStyleObject(e,r,n,i){const s={},o=this._unwrappedTextLines[e].length,a=o===r;let l=!1;n||(n=1),this.shiftLineStyles(e,n);const c=this.styles[e]?this.styles[e][r===0?r:r-1]:void 0;for(const A in this.styles[e]){const h=parseInt(A,10);h>=r&&(l=!0,s[h-r]=this.styles[e][A],a&&r===0||delete this.styles[e][A])}let u=!1;for(l&&!a&&(this.styles[e+n]=s,u=!0),(u||o>r)&&n--;n>0;)i&&i[n-1]?this.styles[e+n]={0:U({},i[n-1])}:c?this.styles[e+n]={0:U({},c)}:delete this.styles[e+n],n--;this._forceClearCache=!0}insertCharStyleObject(e,r,n,i){this.styles||(this.styles={});const s=this.styles[e],o=s?U({},s):{};n||(n=1);for(const l in o){const c=parseInt(l,10);c>=r&&(s[c+n]=o[c],o[c-n]||delete s[c])}if(this._forceClearCache=!0,i){for(;n--;)Object.keys(i[n]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][r+n]=U({},i[n]));return}if(!s)return;const a=s[r?r-1:1];for(;a&&n--;)this.styles[e][r+n]=U({},a)}insertNewStyleBlock(e,r,n){const i=this.get2DCursorLocation(r,!0),s=[0];let o,a=0;for(let l=0;l<e.length;l++)e[l]===`
`?(a++,s[a]=0):s[a]++;for(s[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,s[0],n),n=n&&n.slice(s[0]+1)),a&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+s[0],a),o=1;o<a;o++)s[o]>0?this.insertCharStyleObject(i.lineIndex+o,0,s[o],n):n&&this.styles[i.lineIndex+o]&&n[0]&&(this.styles[i.lineIndex+o][0]=n[0]),n=n&&n.slice(s[o]+1);s[o]>0&&this.insertCharStyleObject(i.lineIndex+o,0,s[o],n)}removeChars(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e+1;this.removeStyleFromTo(e,r),this._text.splice(e,r-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;i>n&&this.removeStyleFromTo(n,i);const s=this.graphemeSplit(e);this.insertNewStyleBlock(s,n,r),this._text=[...this._text.slice(0,n),...s,...this._text.slice(i)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(e,r,n){n<=e?(r===e?this._selectionDirection=lt:this._selectionDirection===Xt&&(this._selectionDirection=lt,this.selectionEnd=e),this.selectionStart=n):n>e&&n<r?this._selectionDirection===Xt?this.selectionEnd=n:this.selectionStart=n:(r===e?this._selectionDirection=Xt:this._selectionDirection===lt&&(this._selectionDirection=Xt,this.selectionStart=r),this.selectionEnd=n)}},i4e=class extends n4e{initHiddenTextarea(){const e=this.canvas&&As(this.canvas.getElement())||gh(),r=e.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(o=>{let[a,l]=o;return r.setAttribute(a,l)});const{top:n,left:i,fontSize:s}=this._calcTextareaPosition();r.style.cssText="position: absolute; top: ".concat(n,"; left: ").concat(i,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(s,";"),(this.hiddenTextareaContainer||e.body).appendChild(r),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(o=>{let[a,l]=o;return r.addEventListener(a,this[l].bind(this))}),this.hiddenTextarea=r}blur(){this.abortCursorAnimation()}onKeyDown(e){if(!this.isEditing)return;const r=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(e.keyCode in r)this[r[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(e){const r=this.fromPaste;if(this.fromPaste=!1,e&&e.stopPropagation(),!this.isEditing)return;const n=()=>{this.updateFromTextArea(),this.fire(hb),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void n();const i=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,s=this._text.length,o=i.length,a=this.selectionStart,l=this.selectionEnd,c=a!==l;let u,A,h,f,p=o-s;const m=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),y=a>m.selectionStart;c?(A=this._text.slice(a,l),p+=l-a):o<s&&(A=y?this._text.slice(l+p,l):this._text.slice(a,a-p));const g=i.slice(m.selectionEnd-p,m.selectionEnd);if(A&&A.length&&(g.length&&(u=this.getSelectionStyles(a,a+1,!1),u=g.map(()=>u[0])),c?(h=a,f=l):y?(h=l-A.length,f=l):(h=l,f=l+A.length),this.removeStyleFromTo(h,f)),g.length){const{copyPasteData:v}=fo();r&&g.join("")===v.copiedText&&!Je.disableStyleCopyPaste&&(u=v.copiedTextStyle),this.insertNewStyleBlock(g,a,u)}n()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(e){let{target:r}=e;const{selectionStart:n,selectionEnd:i}=r;this.compositionStart=n,this.compositionEnd=i,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:e}=fo();e.copiedText=this.getSelectedText(),Je.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(e,r){let n,i=this._getLineLeftOffset(e);return r>0&&(n=this.__charBounds[e][r-1],i+=n.left+n.width),i}getDownCursorOffset(e,r){const n=this._getSelectionForOffset(e,r),i=this.get2DCursorLocation(n),s=i.lineIndex;if(s===this._textLines.length-1||e.metaKey||e.keyCode===34)return this._text.length-n;const o=i.charIndex,a=this._getWidthBeforeCursor(s,o),l=this._getIndexOnLine(s+1,a);return this._textLines[s].slice(o).length+l+1+this.missingNewlineOffset(s)}_getSelectionForOffset(e,r){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&r?this.selectionEnd:this.selectionStart}getUpCursorOffset(e,r){const n=this._getSelectionForOffset(e,r),i=this.get2DCursorLocation(n),s=i.lineIndex;if(s===0||e.metaKey||e.keyCode===33)return-n;const o=i.charIndex,a=this._getWidthBeforeCursor(s,o),l=this._getIndexOnLine(s-1,a),c=this._textLines[s].slice(0,o),u=this.missingNewlineOffset(s-1);return-this._textLines[s-1].length+l-c.length+(1-u)}_getIndexOnLine(e,r){const n=this._textLines[e];let i,s,o=this._getLineLeftOffset(e),a=0;for(let l=0,c=n.length;l<c;l++)if(i=this.__charBounds[e][l].width,o+=i,o>r){s=!0;const u=o-i,A=o,h=Math.abs(u-r);a=Math.abs(A-r)<h?l:l-1;break}return s||(a=n.length-1),a}moveCursorDown(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}moveCursorUp(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",e)}_moveCursorUpOrDown(e,r){const n=this["get".concat(e,"CursorOffset")](r,this._selectionDirection===Xt);if(r.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),n!==0){const i=this.text.length;this.selectionStart=Xd(0,this.selectionStart,i),this.selectionEnd=Xd(0,this.selectionEnd,i),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(e){const r=this._selectionDirection===lt?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,r),e!==0}moveCursorWithoutShift(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),e!==0}moveCursorLeft(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",e)}_move(e,r,n){let i;if(e.altKey)i=this["findWordBoundary".concat(n)](this[r]);else{if(!e.metaKey&&e.keyCode!==35&&e.keyCode!==36)return this[r]+=n==="Left"?-1:1,!0;i=this["findLineBoundary".concat(n)](this[r])}return i!==void 0&&this[r]!==i&&(this[r]=i,!0)}_moveLeft(e,r){return this._move(e,r,"Left")}_moveRight(e,r){return this._move(e,r,"Right")}moveCursorLeftWithoutShift(e){let r=!0;return this._selectionDirection=lt,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(r=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,r}moveCursorLeftWithShift(e){return this._selectionDirection===Xt&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=lt,this._moveLeft(e,"selectionStart")):void 0}moveCursorRight(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}_moveCursorLeftOrRight(e,r){const n="moveCursor".concat(e).concat(r.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[n](r)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(e){return this._selectionDirection===lt&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=Xt,this._moveRight(e,"selectionEnd")):void 0}moveCursorRightWithoutShift(e){let r=!0;return this._selectionDirection=Xt,this.selectionStart===this.selectionEnd?(r=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,r}};const j3=t=>!!t.button;let s4e=class extends i4e{constructor(){super(...arguments),j(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new r4e(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(e){return this.draggableTextDelegate.onDragStart(e)}canDrop(e){return this.draggableTextDelegate.canDrop(e)}onMouseDown(e){if(!this.canvas)return;this.__newClickTime=+new Date;const r=e.pointer;this.isTripleClick(r)&&(this.fire("tripleclick",e),v6(e.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=r,this.__lastSelected=this.selected&&!this.getActiveControl()}isTripleClick(e){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y}doubleClickHandler(e){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(e.e))}tripleClickHandler(e){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(e.e))}_mouseDownHandler(e){let{e:r}=e;this.canvas&&this.editable&&!j3(r)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(r)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(r)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}_mouseDownHandlerBefore(e){let{e:r}=e;this.canvas&&this.editable&&!j3(r)&&(this.selected=this===this.canvas._activeObject)}mouseUpHandler(e){let{e:r,transform:n}=e;const i=this.draggableTextDelegate.end(r);if(this.canvas){this.canvas.textEditingManager.unregister(this);const s=this.canvas._activeObject;if(s&&s!==this)return}!this.editable||this.group&&!this.group.interactive||n&&n.actionPerformed||j3(r)||i||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(r),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}setCursorByClick(e){const r=this.getSelectionStartFromPointer(e),n=this.selectionStart,i=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(n,i,r):(this.selectionStart=r,this.selectionEnd=r),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(e){const r=this.canvas.getScenePoint(e).transform(ps(this.calcTransformMatrix())).add(new Z(-this._getLeftOffset(),-this._getTopOffset()));let n=0,i=0,s=0;for(let c=0;c<this._textLines.length&&n<=r.y;c++)n+=this.getHeightOfLine(c),s=c,c>0&&(i+=this._textLines[c-1].length+this.missingNewlineOffset(c-1));let o=Math.abs(this._getLineLeftOffset(s));const a=this._textLines[s].length,l=this.__charBounds[s];for(let c=0;c<a;c++){const u=o+l[c].kernedWidth;if(r.x<=u){Math.abs(r.x-u)<=Math.abs(r.x-o)&&i++;break}o=u,i++}return Math.min(this.flipX?a-i:i,this._text.length)}};const Lg="moveCursorUp",jg="moveCursorDown",Og="moveCursorLeft",Ng="moveCursorRight",Ig="exitEditing",o4e=U({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:Ig,27:Ig,33:Lg,34:jg,35:Ng,36:Og,37:Og,38:Lg,39:Ng,40:jg},keysMapRtl:{9:Ig,27:Ig,33:Lg,34:jg,35:Og,36:Ng,37:Ng,38:Lg,39:Og,40:jg},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});let rd=class N6 extends s4e{static getDefaults(){return U(U({},super.getDefaults()),N6.ownDefaults)}get type(){const e=super.type;return e==="itext"?"i-text":e}constructor(e,r){super(e,U(U({},N6.ownDefaults),r)),this.initBehavior()}_set(e,r){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=r,this):(e==="canvas"&&(this.canvas instanceof F6&&this.canvas.textEditingManager.remove(this),r instanceof F6&&r.textEditingManager.add(this)),super._set(e,r))}setSelectionStart(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}setSelectionEnd(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}_updateAndFire(e,r){this[e]!==r&&(this._fireSelectionChanged(),this[e]=r),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,n=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(e,r,n)}setSelectionStyles(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(e,r,n)}get2DCursorLocation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(e,r)}render(e){super.render(e),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(e){const r=this.isEditing;this.isEditing=!1;const n=super.toCanvasElement(e);return this.isEditing=r,n}renderCursorOrSelection(){if(!this.isEditing)return;const e=this.clearContextTop(!0);if(!e)return;const r=this._getCursorBoundaries();this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(e,r):this.renderCursor(e,r),this.canvas.contextTopDirty=!0,e.restore()}_getCursorBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1?arguments[1]:void 0;const n=this._getLeftOffset(),i=this._getTopOffset(),s=this._getCursorBoundariesOffsets(e,r);return{left:n,top:i,leftOffset:s.left,topOffset:s.top}}_getCursorBoundariesOffsets(e,r){return r?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}__getCursorBoundariesOffsets(e){let r=0,n=0;const{charIndex:i,lineIndex:s}=this.get2DCursorLocation(e);for(let c=0;c<s;c++)r+=this.getHeightOfLine(c);const o=this._getLineLeftOffset(s),a=this.__charBounds[s][i];a&&(n=a.left),this.charSpacing!==0&&i===this._textLines[s].length&&(n-=this._getWidthOfCharSpacing());const l={top:r,left:o+(n>0?n:0)};return this.direction==="rtl"&&(this.textAlign===Xt||this.textAlign===Js||this.textAlign===Tp?l.left*=-1:this.textAlign===lt||this.textAlign===Cb?l.left=o-(n>0?n:0):this.textAlign!==Ue&&this.textAlign!==Dp||(l.left=o-(n>0?n:0))),l}renderCursorAt(e){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(e,!0),e)}renderCursor(e,r){this._renderCursor(e,r,this.selectionStart)}getCursorRenderingData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(e);const n=this.get2DCursorLocation(e),i=n.lineIndex,s=n.charIndex>0?n.charIndex-1:0,o=this.getValueOfPropertyAt(i,s,"fontSize"),a=this.getObjectScaling().x*this.canvas.getZoom(),l=this.cursorWidth/a,c=this.getValueOfPropertyAt(i,s,"deltaY"),u=r.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-o*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(i,s,"fill"),opacity:this._currentCursorOpacity,left:r.left+r.leftOffset-l/2,top:u+r.top+c,width:l,height:o}}_renderCursor(e,r,n){const{color:i,opacity:s,left:o,top:a,width:l,height:c}=this.getCursorRenderingData(n,r);e.fillStyle=i,e.globalAlpha=s,e.fillRect(o,a,l,c)}renderSelection(e,r){const n={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,n,r)}renderDragSourceEffect(){const e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}renderDropTargetEffect(e){const r=this.getSelectionStartFromPointer(e);this.renderCursorAt(r)}_renderSelection(e,r,n){const i=r.selectionStart,s=r.selectionEnd,o=this.textAlign.includes(Js),a=this.get2DCursorLocation(i),l=this.get2DCursorLocation(s),c=a.lineIndex,u=l.lineIndex,A=a.charIndex<0?0:a.charIndex,h=l.charIndex<0?0:l.charIndex;for(let f=c;f<=u;f++){const p=this._getLineLeftOffset(f)||0;let m=this.getHeightOfLine(f),y=0,g=0,v=0;if(f===c&&(g=this.__charBounds[c][A].left),f>=c&&f<u)v=o&&!this.isEndOfWrapping(f)?this.width:this.getLineWidth(f)||5;else if(f===u)if(h===0)v=this.__charBounds[u][h].left;else{const B=this._getWidthOfCharSpacing();v=this.__charBounds[u][h-1].left+this.__charBounds[u][h-1].width-B}y=m,(this.lineHeight<1||f===u&&this.lineHeight>1)&&(m/=this.lineHeight);let x=n.left+p+g,b=m,w=0;const C=v-g;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",b=1,w=m):e.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===Xt||this.textAlign===Js||this.textAlign===Tp?x=this.width-x-C:this.textAlign===lt||this.textAlign===Cb?x=n.left+p-v:this.textAlign!==Ue&&this.textAlign!==Dp||(x=n.left+p-v)),e.fillRect(x,n.top+n.topOffset+w,C,b),n.topOffset+=y}}getCurrentCharFontSize(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}getCurrentCharColor(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,xr)}_getCurrentCharIndex(){const e=this.get2DCursorLocation(this.selectionStart,!0),r=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:r}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}};j(rd,"ownDefaults",o4e),j(rd,"type","IText"),we.setClass(rd),we.setClass(rd,"i-text");let eu=class I6 extends rd{static getDefaults(){return U(U({},super.getDefaults()),I6.ownDefaults)}constructor(e,r){super(e,U(U({},I6.ownDefaults),r))}static createControls(){return{controls:O2e()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(Js)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(e){let r=0,n=0,i=0;const s={};for(let o=0;o<e.graphemeLines.length;o++)e.graphemeText[i]===`
`&&o>0?(n=0,i++,r++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[i])&&o>0&&(n++,i++),s[o]={line:r,offset:n},i+=e.graphemeLines[o].length,n+=e.graphemeLines[o].length;return s}styleHas(e,r){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[r];n&&(r=n.line)}return super.styleHas(e,r)}isEmptyStyles(e){if(!this.styles)return!0;let r,n=0,i=e+1,s=!1;const o=this._styleMap[e],a=this._styleMap[e+1];o&&(e=o.line,n=o.offset),a&&(i=a.line,s=i===e,r=a.offset);const l=e===void 0?this.styles:{line:this.styles[e]};for(const c in l)for(const u in l[c]){const A=parseInt(u,10);if(A>=n&&(!s||A<r))for(const h in l[c][u])return!1}return!0}_getStyleDeclaration(e,r){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[e];if(!n)return{};e=n.line,r=n.offset+r}return super._getStyleDeclaration(e,r)}_setStyleDeclaration(e,r,n){const i=this._styleMap[e];super._setStyleDeclaration(i.line,i.offset+r,n)}_deleteStyleDeclaration(e,r){const n=this._styleMap[e];super._deleteStyleDeclaration(n.line,n.offset+r)}_getLineStyle(e){const r=this._styleMap[e];return!!this.styles[r.line]}_setLineStyle(e){const r=this._styleMap[e];super._setLineStyle(r.line)}_wrapText(e,r){this.isWrapping=!0;const n=this.getGraphemeDataForRender(e),i=[];for(let s=0;s<n.wordsData.length;s++)i.push(...this._wrapLine(s,r,n));return this.isWrapping=!1,i}getGraphemeDataForRender(e){const r=this.splitByGrapheme,n=r?"":" ";let i=0;return{wordsData:e.map((s,o)=>{let a=0;const l=r?this.graphemeSplit(s):this.wordSplit(s);return l.length===0?[{word:[],width:0}]:l.map(c=>{const u=r?[c]:this.graphemeSplit(c),A=this._measureWord(u,o,a);return i=Math.max(A,i),a+=u.length+n.length,{word:u,width:A}})}),largestWordWidth:i}}_measureWord(e,r){let n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=0;for(let o=0,a=e.length;o<a;o++)s+=this._getGraphemeBox(e[o],r,o+i,n,!0).kernedWidth,n=e[o];return s}wordSplit(e){return e.split(this._wordJoiners)}_wrapLine(e,r,n){let{largestWordWidth:i,wordsData:s}=n,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const a=this._getWidthOfCharSpacing(),l=this.splitByGrapheme,c=[],u=l?"":" ";let A=0,h=[],f=0,p=0,m=!0;r-=o;const y=Math.max(r,i,this.dynamicMinWidth),g=s[e];let v;for(f=0,v=0;v<g.length;v++){const{word:x,width:b}=g[v];f+=x.length,A+=p+b-a,A>y&&!m?(c.push(h),h=[],A=b,m=!0):A+=a,m||l||h.push(u),h=h.concat(x),p=l?0:this._measureWord([u],e,f),f++,m=!1}return v&&c.push(h),i+o>this.dynamicMinWidth&&(this.dynamicMinWidth=i-a+o),c}isEndOfWrapping(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}missingNewlineOffset(e,r){return this.splitByGrapheme&&!r?this.isEndOfWrapping(e)?1:0:1}_splitTextIntoLines(e){const r=super._splitTextIntoLines(e),n=this._wrapText(r.lines,this.width),i=new Array(n.length);for(let s=0;s<n.length;s++)i[s]=n[s].join("");return r.lines=i,r.graphemeLines=n,r}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const e=new Map;for(const r in this._styleMap){const n=parseInt(r,10);if(this._textLines[n]){const i=this._styleMap[r].line;e.set("".concat(i),!0)}}for(const r in this.styles)e.has(r)||delete this.styles[r]}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...e])}};j(eu,"type","Textbox"),j(eu,"textLayoutProperties",[...rd.textLayoutProperties,"width"]),j(eu,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),we.setClass(eu);let dL=class extends mw{shouldPerformLayout(e){return!!e.target.clipPath&&super.shouldPerformLayout(e)}shouldLayoutClipPath(){return!1}calcLayoutResult(e,r){const{target:n}=e,{clipPath:i,group:s}=n;if(!i||!this.shouldPerformLayout(e))return;const{width:o,height:a}=ta(Iz(n,i)),l=new Z(o,a);if(i.absolutePositioned)return{center:Cd(i.getRelativeCenterPoint(),void 0,s?s.calcTransformMatrix():void 0),size:l};{const c=i.getRelativeCenterPoint().transform(n.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){const{center:u=new Z,correction:A=new Z}=this.calcBoundingBox(r,e)||{};return{center:u.add(c),correction:A.subtract(c),size:l}}return{center:n.getRelativeCenterPoint().add(c),size:l}}}};j(dL,"type","clip-path"),we.setClass(dL);let hL=class extends mw{getInitialSize(e,r){let{target:n}=e,{size:i}=r;return new Z(n.width||i.x,n.height||i.y)}};j(hL,"type","fixed"),we.setClass(hL);let a4e=class extends Nm{subscribeTargets(e){const r=e.target;e.targets.reduce((n,i)=>(i.parent&&n.add(i.parent),n),new Set).forEach(n=>{n.layoutManager.subscribeTargets({target:n,targets:[r]})})}unsubscribeTargets(e){const r=e.target,n=r.getObjects();e.targets.reduce((i,s)=>(s.parent&&i.add(s.parent),i),new Set).forEach(i=>{!n.some(s=>s.parent===i)&&i.layoutManager.unsubscribeTargets({target:i,targets:[r]})})}},Ug=class U6 extends Nv{static getDefaults(){return U(U({},super.getDefaults()),U6.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,U6.ownDefaults),this.setOptions(r);const{left:n,top:i,layoutManager:s}=r;this.groupInit(e,{left:n,top:i,layoutManager:s??new a4e})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.multiSelectionStacking==="selection-order"?this.add(...r):r.forEach(i=>{const s=this._objects.findIndex(a=>a.isInFrontOf(i)),o=s===-1?this.size():s;this.insertAt(o,i)})}canEnterGroup(e){return this.getObjects().some(r=>r.isDescendantOf(e)||e.isDescendantOf(r))?(Vl("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(e)}enterGroup(e,r){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,r)}exitGroup(e,r){this._exitGroup(e,r),e.parent&&e.parent._enterGroup(e,!0)}_onAfterObjectsChange(e,r){super._onAfterObjectsChange(e,r);const n=new Set;r.forEach(i=>{const{parent:s}=i;s&&n.add(s)}),e===lE?n.forEach(i=>{i._onAfterObjectsChange(xb,r)}):n.forEach(i=>{i._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(e,r,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const i=U(U({hasControls:!1},n),{},{forActiveSelection:!0});for(let s=0;s<this._objects.length;s++)this._objects[s]._renderControls(e,i);super._renderControls(e,r),e.restore()}};j(Ug,"type","ActiveSelection"),j(Ug,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),we.setClass(Ug),we.setClass(Ug,"activeSelection");let l4e=class{constructor(){j(this,"resources",{})}applyFilters(e,r,n,i,s){const o=s.getContext("2d");if(!o)return;o.drawImage(r,0,0,n,i);const a={sourceWidth:n,sourceHeight:i,imageData:o.getImageData(0,0,n,i),originalEl:r,originalImageData:o.getImageData(0,0,n,i),canvasEl:s,ctx:o,filterBackend:this};e.forEach(c=>{c.applyTo(a)});const{imageData:l}=a;return l.width===n&&l.height===i||(s.width=l.width,s.height=l.height),o.putImageData(l,0,0),a}},cW=class{constructor(){let{tileSize:e=Je.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};j(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),j(this,"resources",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(e,r){this.dispose(),this.createWebGLCanvas(e,r)}createWebGLCanvas(e,r){const n=po({width:e,height:r}),i=n.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});i&&(i.clearColor(0,0,0,0),this.canvas=n,this.gl=i)}applyFilters(e,r,n,i,s,o){const a=this.gl,l=s.getContext("2d");if(!a||!l)return;let c;o&&(c=this.getCachedTexture(o,r));const u={originalWidth:r.width||r.naturalWidth||0,originalHeight:r.height||r.naturalHeight||0,sourceWidth:n,sourceHeight:i,destinationWidth:n,destinationHeight:i,context:a,sourceTexture:this.createTexture(a,n,i,c?void 0:r),targetTexture:this.createTexture(a,n,i),originalTexture:c||this.createTexture(a,n,i,c?void 0:r),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:s},A=a.createFramebuffer();return a.bindFramebuffer(a.FRAMEBUFFER,A),e.forEach(h=>{h&&h.applyTo(u)}),function(h){const f=h.targetCanvas,p=f.width,m=f.height,y=h.destinationWidth,g=h.destinationHeight;p===y&&m===g||(f.width=y,f.height=g)}(u),this.copyGLTo2D(a,u),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(u.sourceTexture),a.deleteTexture(u.targetTexture),a.deleteFramebuffer(A),l.setTransform(1,0,0,1,0,0),u}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(e,r,n,i,s){const{NEAREST:o,TEXTURE_2D:a,RGBA:l,UNSIGNED_BYTE:c,CLAMP_TO_EDGE:u,TEXTURE_MAG_FILTER:A,TEXTURE_MIN_FILTER:h,TEXTURE_WRAP_S:f,TEXTURE_WRAP_T:p}=e,m=e.createTexture();return e.bindTexture(a,m),e.texParameteri(a,A,s||o),e.texParameteri(a,h,s||o),e.texParameteri(a,f,u),e.texParameteri(a,p,u),i?e.texImage2D(a,0,l,l,c,i):e.texImage2D(a,0,l,r,n,0,l,c,null),m}getCachedTexture(e,r,n){const{textureCache:i}=this;if(i[e])return i[e];{const s=this.createTexture(this.gl,r.width,r.height,r,n);return s&&(i[e]=s),s}}evictCachesForKey(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}copyGLTo2D(e,r){const n=e.canvas,i=r.targetCanvas,s=i.getContext("2d");if(!s)return;s.translate(0,i.height),s.scale(1,-1);const o=n.height-i.height;s.drawImage(n,0,o,i.width,i.height,0,0,i.width,i.height)}copyGLTo2DPutImageData(e,r){const n=r.targetCanvas.getContext("2d"),i=r.destinationWidth,s=r.destinationHeight,o=i*s*4;if(!n)return;const a=new Uint8Array(this.imageBuffer,0,o),l=new Uint8ClampedArray(this.imageBuffer,0,o);e.readPixels(0,0,i,s,e.RGBA,e.UNSIGNED_BYTE,a);const c=new ImageData(l,i,s);n.putImageData(c,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const e=this.gl,r={renderer:"",vendor:""};if(!e)return r;const n=e.getExtension("WEBGL_debug_renderer_info");if(n){const i=e.getParameter(n.UNMASKED_RENDERER_WEBGL),s=e.getParameter(n.UNMASKED_VENDOR_WEBGL);i&&(r.renderer=i.toLowerCase()),s&&(r.vendor=s.toLowerCase())}return this.gpuInfo=r,r}},O3;function c4e(){const{WebGLProbe:t}=fo();return t.queryWebGL(ks()),Je.enableGLFiltering&&t.isSupported(Je.textureSize)?new cW({tileSize:Je.textureSize}):new l4e}function N3(){return!O3&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(O3=c4e()),O3}const u4e=["filters","resizeFilter","src","crossOrigin","type"],uW=["cropX","cropY"];let xn=class Iv extends un{static getDefaults(){return U(U({},super.getDefaults()),Iv.ownDefaults)}constructor(e,r){super(),j(this,"_lastScaleX",1),j(this,"_lastScaleY",1),j(this,"_filterScalingX",1),j(this,"_filterScalingY",1),this.filters=[],Object.assign(this,Iv.ownDefaults),this.setOptions(r),this.cacheKey="texture".concat(Kl()),this.setElement(typeof e=="string"?(this.canvas&&As(this.canvas.getElement())||gh()).getElementById(e):e,r)}getElement(){return this._element}setElement(e){var r;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(n),(r=e.classList)===null||r===void 0||r.add(Iv.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(e){const r=N3(!1);r instanceof cW&&r.evictCachesForKey(e)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(e=>{const r=this[e];r&&fo().dispose(r),this[e]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}_stroke(e){if(!this.stroke||this.strokeWidth===0)return;const r=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-r,-n),e.lineTo(r,-n),e.lineTo(r,n),e.lineTo(-r,n),e.lineTo(-r,-n),e.closePath()}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=[];return this.filters.forEach(n=>{n&&r.push(n.toObject())}),U(U({},super.toObject([...uW,...e])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:r},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const e=[],r=this._element,n=-this.width/2,i=-this.height/2;let s=[],o=[],a="",l="";if(!r)return[];if(this.hasCrop()){const c=Kl();s.push('<clipPath id="imageCrop_'+c+`">
`,'	<rect x="'+n+'" y="'+i+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),a=' clip-path="url(#imageCrop_'+c+')" '}if(this.imageSmoothing||(l=' image-rendering="optimizeSpeed"'),e.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(n-this.cropX,'" y="').concat(i-this.cropY,'" width="').concat(r.width||r.naturalWidth,'" height="').concat(r.height||r.naturalHeight,'"').concat(l).concat(a,`></image>
`)),this.stroke||this.strokeDashArray){const c=this.fill;this.fill=null,o=['	<rect x="'.concat(n,'" y="').concat(i,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=c}return s=this.paintFirst!==xr?s.concat(o,e):s.concat(e,o),s}getSrc(e){const r=e?this._element:this._originalElement;return r?r.toDataURL?r.toDataURL():this.srcFromAttribute?r.getAttribute("src")||"":r.src:this.src||""}getSvgSrc(e){return this.getSrc(e)}setSrc(e){let{crossOrigin:r,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Dv(e,{crossOrigin:r,signal:n}).then(i=>{r!==void 0&&this.set({crossOrigin:r}),this.setElement(i)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const e=this.resizeFilter,r=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),i=n.x,s=n.y,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||i>r&&s>r)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=i,void(this._lastScaleY=s);const a=po(o),{width:l,height:c}=o;this._element=a,this._lastScaleX=e.scaleX=i,this._lastScaleY=e.scaleY=s,N3().applyFilters([e],o,l,c,this._element),this._filterScalingX=a.width/this._originalElement.width,this._filterScalingY=a.height/this._originalElement.height}applyFilters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(e=e.filter(s=>s&&!s.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),e.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const r=this._originalElement,n=r.naturalWidth||r.width,i=r.naturalHeight||r.height;if(this._element===this._originalElement){const s=po({width:n,height:i});this._element=s,this._filteredEl=s}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,i),this._lastScaleX=1,this._lastScaleY=1);N3().applyFilters(e,this._originalElement,n,i,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(e){e.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}drawCacheOnCanvas(e){e.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(e)}shouldCache(){return this.needsItsOwnCache()}_renderFill(e){const r=this._element;if(!r)return;const n=this._filterScalingX,i=this._filterScalingY,s=this.width,o=this.height,a=Math.max(this.cropX,0),l=Math.max(this.cropY,0),c=r.naturalWidth||r.width,u=r.naturalHeight||r.height,A=a*n,h=l*i,f=Math.min(s*n,c-A),p=Math.min(o*i,u-h),m=-s/2,y=-o/2,g=Math.min(s,c/n-a),v=Math.min(o,u/i-l);r&&e.drawImage(r,A,h,f,p,m,y,g,v)}_needsResize(){const e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:e,height:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this.getOriginalSize();this.width=e||n.width,this.height=r||n.height}parsePreserveAspectRatioAttribute(){const e=Kbe(this.preserveAspectRatio||""),r=this.width,n=this.height,i={width:r,height:n};let s,o=this._element.width,a=this._element.height,l=1,c=1,u=0,A=0,h=0,f=0;return!e||e.alignX===Wn&&e.alignY===Wn?(l=r/o,c=n/a):(e.meetOrSlice==="meet"&&(l=c=fwe(this._element,i),s=(r-o*l)/2,e.alignX==="Min"&&(u=-s),e.alignX==="Max"&&(u=s),s=(n-a*c)/2,e.alignY==="Min"&&(A=-s),e.alignY==="Max"&&(A=s)),e.meetOrSlice==="slice"&&(l=c=pwe(this._element,i),s=o-r/l,e.alignX==="Mid"&&(h=s/2),e.alignX==="Max"&&(h=s),s=a-n/c,e.alignY==="Mid"&&(f=s/2),e.alignY==="Max"&&(f=s),o=r/l,a=n/c)),{width:o,height:a,scaleX:l,scaleY:c,offsetLeft:u,offsetTop:A,cropX:h,cropY:f}}static fromObject(e,r){let{filters:n,resizeFilter:i,src:s,crossOrigin:o,type:a}=e,l=Lt(e,u4e);return Promise.all([Dv(s,U(U({},r),{},{crossOrigin:o})),n&&jm(n,r),i&&jm([i],r),dw(l,r)]).then(c=>{let[u,A=[],[h]=[],f={}]=c;return new this(u,U(U({},l),{},{src:s,filters:A,resizeFilter:h},f))})}static fromURL(e){let{crossOrigin:r=null,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return Dv(e,{crossOrigin:r,signal:n}).then(s=>new this(s,i))}static async fromElement(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i=ba(e,this.ATTRIBUTE_NAMES,n);return this.fromURL(i["xlink:href"],r,i).catch(s=>(Vl("log","Unable to parse Image",s),null))}};j(xn,"type","Image"),j(xn,"cacheProperties",[...xa,...uW]),j(xn,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),j(xn,"CSS_CANVAS","canvas-img"),j(xn,"ATTRIBUTE_NAMES",[...oc,"x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"]),we.setClass(xn),we.setSVGClass(xn);fw(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const gw=t=>t.webgl!==void 0,cE="precision highp float",A4e=`
    `.concat(cE,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),d4e=["type"],h4e=["type"],f4e=new RegExp(cE,"g");let br=class{get type(){return this.constructor.type}constructor(){let e=Lt(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d4e);Object.assign(this,this.constructor.defaults,e)}getFragmentSource(){return A4e}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:i="highp"}}=fo();i!=="highp"&&(r=r.replace(f4e,cE.replace("highp",i)));const s=e.createShader(e.VERTEX_SHADER),o=e.createShader(e.FRAGMENT_SHADER),a=e.createProgram();if(!s||!o||!a)throw new to("Vertex, fragment shader or program creation error");if(e.shaderSource(s,n),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS))throw new to("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(s)));if(e.shaderSource(o,r),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new to("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(o)));if(e.attachShader(a,s),e.attachShader(a,o),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw new to('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(a)));const l=this.getUniformLocations(e,a)||{};return l.uStepW=e.getUniformLocation(a,"uStepW"),l.uStepH=e.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:this.getAttributeLocations(e,a),uniformLocations:l}}getAttributeLocations(e,r){return{aPosition:e.getAttribLocation(r,"aPosition")}}getUniformLocations(e,r){const n=this.constructor.uniformLocations,i={};for(let s=0;s<n.length;s++)i[n[s]]=e.getUniformLocation(r,n[s]);return i}sendAttributeData(e,r,n){const i=r.aPosition,s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)}_setupFrameBuffer(e){const r=e.context;if(e.passes>1){const n=e.destinationWidth,i=e.destinationHeight;e.sourceWidth===n&&e.sourceHeight===i||(r.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(r,n,i)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e.targetTexture,0)}else r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish()}_swapTextures(e){e.passes--,e.pass++;const r=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=r}isNeutralState(e){return!1}applyTo(e){gw(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){}getCacheKey(){return this.type}retrieveShader(e){const r=this.getCacheKey();return e.programCache[r]||(e.programCache[r]=this.createProgram(e.context)),e.programCache[r]}applyToWebGL(e){const r=e.context,n=this.retrieveShader(e);e.pass===0&&e.originalTexture?r.bindTexture(r.TEXTURE_2D,e.originalTexture):r.bindTexture(r.TEXTURE_2D,e.sourceTexture),r.useProgram(n.program),this.sendAttributeData(r,n.attributeLocations,e.aPosition),r.uniform1f(n.uniformLocations.uStepW,1/e.sourceWidth),r.uniform1f(n.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(r,n.uniformLocations),r.viewport(0,0,e.destinationWidth,e.destinationHeight),r.drawArrays(r.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(e,r,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,r),e.activeTexture(e.TEXTURE0)}unbindAdditionalTexture(e,r){e.activeTexture(r),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}sendUniformData(e,r){}createHelpLayer(e){if(!e.helpLayer){const{sourceWidth:r,sourceHeight:n}=e,i=po({width:r,height:n});e.helpLayer=i}}toObject(){const e=Object.keys(this.constructor.defaults||{});return U({type:this.type},e.reduce((r,n)=>(r[n]=this[n],r),{}))}toJSON(){return this.toObject()}static async fromObject(e,r){return new this(Lt(e,h4e))}};j(br,"type","BaseFilter"),j(br,"uniformLocations",[]);const p4e={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};let Pg=class extends br{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(p4e[this.mode],`
        }
      }
      `)}applyTo2d(e){let{imageData:{data:r}}=e;const n=new Zn(this.color).getSource(),i=this.alpha,s=n[0]*i,o=n[1]*i,a=n[2]*i,l=1-i;for(let c=0;c<r.length;c+=4){const u=r[c],A=r[c+1],h=r[c+2];let f,p,m;switch(this.mode){case"multiply":f=u*s/255,p=A*o/255,m=h*a/255;break;case"screen":f=255-(255-u)*(255-s)/255,p=255-(255-A)*(255-o)/255,m=255-(255-h)*(255-a)/255;break;case"add":f=u+s,p=A+o,m=h+a;break;case"difference":f=Math.abs(u-s),p=Math.abs(A-o),m=Math.abs(h-a);break;case"subtract":f=u-s,p=A-o,m=h-a;break;case"darken":f=Math.min(u,s),p=Math.min(A,o),m=Math.min(h,a);break;case"lighten":f=Math.max(u,s),p=Math.max(A,o),m=Math.max(h,a);break;case"overlay":f=s<128?2*u*s/255:255-2*(255-u)*(255-s)/255,p=o<128?2*A*o/255:255-2*(255-A)*(255-o)/255,m=a<128?2*h*a/255:255-2*(255-h)*(255-a)/255;break;case"exclusion":f=s+u-2*s*u/255,p=o+A-2*o*A/255,m=a+h-2*a*h/255;break;case"tint":f=s+u*l,p=o+A*l,m=a+h*l}r[c]=f,r[c+1]=p,r[c+2]=m}}sendUniformData(e,r){const n=new Zn(this.color).getSource();n[0]=this.alpha*n[0]/255,n[1]=this.alpha*n[1]/255,n[2]=this.alpha*n[2]/255,n[3]=this.alpha,e.uniform4fv(r.uColor,n)}};j(Pg,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),j(Pg,"type","BlendColor"),j(Pg,"uniformLocations",["uColor"]),we.setClass(Pg);const m4e={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},g4e=["type","image"];let Qg=class extends br{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return m4e[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(e){const r=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(r,n,r.TEXTURE1),super.applyToWebGL(e),this.unbindAdditionalTexture(r,r.TEXTURE1)}createTexture(e,r){return e.getCachedTexture(r.cacheKey,r.getElement())}calculateMatrix(){const e=this.image,{width:r,height:n}=e.getElement();return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/r,-e.top/n,1]}applyTo2d(e){let{imageData:{data:r,width:n,height:i},filterBackend:{resources:s}}=e;const o=this.image;s.blendImage||(s.blendImage=ks());const a=s.blendImage,l=a.getContext("2d");a.width!==n||a.height!==i?(a.width=n,a.height=i):l.clearRect(0,0,n,i),l.setTransform(o.scaleX,0,0,o.scaleY,o.left,o.top),l.drawImage(o.getElement(),0,0,n,i);const c=l.getImageData(0,0,n,i).data;for(let u=0;u<r.length;u+=4){const A=r[u],h=r[u+1],f=r[u+2],p=r[u+3],m=c[u],y=c[u+1],g=c[u+2],v=c[u+3];switch(this.mode){case"multiply":r[u]=A*m/255,r[u+1]=h*y/255,r[u+2]=f*g/255,r[u+3]=p*v/255;break;case"mask":r[u+3]=v}}}sendUniformData(e,r){const n=this.calculateMatrix();e.uniform1i(r.uImage,1),e.uniformMatrix3fv(r.uTransformMatrix,!1,n)}toObject(){return U(U({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(e,r){let{type:n,image:i}=e,s=Lt(e,g4e);return xn.fromObject(i,r).then(o=>new this(U(U({},s),{},{image:o})))}};j(Qg,"type","BlendImage"),j(Qg,"defaults",{mode:"multiply",alpha:1}),j(Qg,"uniformLocations",["uTransformMatrix","uImage"]),we.setClass(Qg);let Rg=class extends br{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(e){gw(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){e.imageData=this.simpleBlur(e)}simpleBlur(e){let{ctx:r,imageData:n,filterBackend:{resources:i}}=e;const{width:s,height:o}=n;i.blurLayer1||(i.blurLayer1=ks(),i.blurLayer2=ks());const a=i.blurLayer1,l=i.blurLayer2;a.width===s&&a.height===o||(l.width=a.width=s,l.height=a.height=o);const c=a.getContext("2d"),u=l.getContext("2d"),A=15,h=.06*this.blur*.5;let f,p,m,y;for(c.putImageData(n,0,0),u.clearRect(0,0,s,o),y=-15;y<=A;y++)f=(Math.random()-.5)/4,p=y/A,m=h*p*s+f,u.globalAlpha=1-Math.abs(p),u.drawImage(a,m,f),c.drawImage(l,0,0),u.globalAlpha=1,u.clearRect(0,0,l.width,l.height);for(y=-15;y<=A;y++)f=(Math.random()-.5)/4,p=y/A,m=h*p*o+f,u.globalAlpha=1-Math.abs(p),u.drawImage(a,f,m),c.drawImage(l,0,0),u.globalAlpha=1,u.clearRect(0,0,l.width,l.height);r.drawImage(a,0,0);const g=r.getImageData(0,0,a.width,a.height);return c.globalAlpha=1,c.clearRect(0,0,a.width,a.height),g}sendUniformData(e,r){const n=this.chooseRightDelta();e.uniform2fv(r.uDelta,n)}isNeutralState(){return this.blur===0}chooseRightDelta(){let e=1;const r=[0,0];this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio);const n=e*this.blur*.12;return this.horizontal?r[0]=n:r[1]=n,r}};j(Rg,"type","Blur"),j(Rg,"defaults",{blur:0}),j(Rg,"uniformLocations",["uDelta"]),we.setClass(Rg);let Hg=class extends br{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=Math.round(255*this.brightness);for(let i=0;i<r.length;i+=4)r[i]+=n,r[i+1]+=n,r[i+2]+=n}isNeutralState(){return this.brightness===0}sendUniformData(e,r){e.uniform1f(r.uBrightness,this.brightness)}};j(Hg,"type","Brightness"),j(Hg,"defaults",{brightness:0}),j(Hg,"uniformLocations",["uBrightness"]),we.setClass(Hg);const AW={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};let nd=class extends br{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(e){const r=e.imageData.data,n=this.matrix,i=this.colorsOnly;for(let s=0;s<r.length;s+=4){const o=r[s],a=r[s+1],l=r[s+2];if(r[s]=o*n[0]+a*n[1]+l*n[2]+255*n[4],r[s+1]=o*n[5]+a*n[6]+l*n[7]+255*n[9],r[s+2]=o*n[10]+a*n[11]+l*n[12]+255*n[14],!i){const c=r[s+3];r[s]+=c*n[3],r[s+1]+=c*n[8],r[s+2]+=c*n[13],r[s+3]=o*n[15]+a*n[16]+l*n[17]+c*n[18]+255*n[19]}}}sendUniformData(e,r){const n=this.matrix,i=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],s=[n[4],n[9],n[14],n[19]];e.uniformMatrix4fv(r.uColorMatrix,!1,i),e.uniform4fv(r.uConstants,s)}toObject(){return U(U({},super.toObject()),{},{matrix:[...this.matrix]})}};function Vu(t,e){var r;const n=(j(r=class extends nd{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",t),j(r,"defaults",{colorsOnly:!1,matrix:e}),r);return we.setClass(n,t),n}j(nd,"type","ColorMatrix"),j(nd,"defaults",AW),j(nd,"uniformLocations",["uColorMatrix","uConstants"]),we.setClass(nd);Vu("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);Vu("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);Vu("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);Vu("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);Vu("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);Vu("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);Vu("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);let fL=class extends br{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.subFilters=e.subFilters||[]}applyTo(e){gw(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach(r=>{r.applyTo(e)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(e=>e.toObject())}}isNeutralState(){return!this.subFilters.some(e=>!e.isNeutralState())}static fromObject(e,r){return Promise.all((e.subFilters||[]).map(n=>we.getClass(n.type).fromObject(n,r))).then(n=>new this({subFilters:n}))}};j(fL,"type","Composed"),we.setClass(fL);let $g=class extends br{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(e){let{imageData:{data:r}}=e;const n=Math.floor(255*this.contrast),i=259*(n+255)/(255*(259-n));for(let s=0;s<r.length;s+=4)r[s]=i*(r[s]-128)+128,r[s+1]=i*(r[s+1]-128)+128,r[s+2]=i*(r[s+2]-128)+128}sendUniformData(e,r){e.uniform1f(r.uContrast,this.contrast)}};j($g,"type","Contrast"),j($g,"defaults",{contrast:0}),j($g,"uniformLocations",["uContrast"]),we.setClass($g);const y4e={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};let Vg=class extends br{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return y4e[this.getCacheKey()]}applyTo2d(e){const r=e.imageData,n=r.data,i=this.matrix,s=Math.round(Math.sqrt(i.length)),o=Math.floor(s/2),a=r.width,l=r.height,c=e.ctx.createImageData(a,l),u=c.data,A=this.opaque?1:0;let h,f,p,m,y,g,v,x,b,w,C,B,_;for(C=0;C<l;C++)for(w=0;w<a;w++){for(y=4*(C*a+w),h=0,f=0,p=0,m=0,_=0;_<s;_++)for(B=0;B<s;B++)v=C+_-o,g=w+B-o,v<0||v>=l||g<0||g>=a||(x=4*(v*a+g),b=i[_*s+B],h+=n[x]*b,f+=n[x+1]*b,p+=n[x+2]*b,A||(m+=n[x+3]*b));u[y]=h,u[y+1]=f,u[y+2]=p,u[y+3]=A?n[y+3]:m}e.imageData=c}sendUniformData(e,r){e.uniform1fv(r.uMatrix,this.matrix)}toObject(){return U(U({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}};j(Vg,"type","Convolute"),j(Vg,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),j(Vg,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),we.setClass(Vg);const dW="Gamma";let Kg=class extends br{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.gamma=e.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(e){let{imageData:{data:r}}=e;const n=this.gamma,i=1/n[0],s=1/n[1],o=1/n[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const a=this.rgbValues;for(let l=0;l<256;l++)a.r[l]=255*Math.pow(l/255,i),a.g[l]=255*Math.pow(l/255,s),a.b[l]=255*Math.pow(l/255,o);for(let l=0;l<r.length;l+=4)r[l]=a.r[r[l]],r[l+1]=a.g[r[l+1]],r[l+2]=a.b[r[l+2]]}sendUniformData(e,r){e.uniform3fv(r.uGamma,this.gamma)}isNeutralState(){const{gamma:e}=this;return e[0]===1&&e[1]===1&&e[2]===1}toObject(){return{type:dW,gamma:this.gamma.concat()}}};j(Kg,"type",dW),j(Kg,"defaults",{gamma:[1,1,1]}),j(Kg,"uniformLocations",["uGamma"]),we.setClass(Kg);const v4e={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};let zg=class extends br{applyTo2d(e){let{imageData:{data:r}}=e;for(let n,i=0;i<r.length;i+=4){const s=r[i],o=r[i+1],a=r[i+2];switch(this.mode){case"average":n=(s+o+a)/3;break;case"lightness":n=(Math.min(s,o,a)+Math.max(s,o,a))/2;break;case"luminosity":n=.21*s+.72*o+.07*a}r[i+2]=r[i+1]=r[i]=n}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return v4e[this.mode]}sendUniformData(e,r){e.uniform1i(r.uMode,1)}isNeutralState(){return!1}};j(zg,"type","Grayscale"),j(zg,"defaults",{mode:"average"}),j(zg,"uniformLocations",["uMode"]),we.setClass(zg);const x4e=U(U({},AW),{},{rotation:0});let I3=class extends nd{calculateMatrix(){const e=this.rotation*Math.PI,r=Aa(e),n=da(e),i=1/3,s=Math.sqrt(i)*n,o=1-r;this.matrix=[r+o/3,i*o-s,i*o+s,0,0,i*o+s,r+i*o,i*o-s,0,0,i*o-s,i*o+s,r+i*o,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(e){this.calculateMatrix(),super.applyTo(e)}toObject(){return{type:this.type,rotation:this.rotation}}};j(I3,"type","HueRotation"),j(I3,"defaults",x4e),we.setClass(I3);class Wg extends br{applyTo2d(e){let{imageData:{data:r}}=e;for(let n=0;n<r.length;n+=4)r[n]=255-r[n],r[n+1]=255-r[n+1],r[n+2]=255-r[n+2],this.alpha&&(r[n+3]=255-r[n+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(e,r){e.uniform1i(r.uInvert,Number(this.invert)),e.uniform1i(r.uAlpha,Number(this.alpha))}}j(Wg,"type","Invert"),j(Wg,"defaults",{alpha:!1,invert:!0}),j(Wg,"uniformLocations",["uInvert","uAlpha"]),we.setClass(Wg);let Gg=class extends br{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=this.noise;for(let i=0;i<r.length;i+=4){const s=(.5-Math.random())*n;r[i]+=s,r[i+1]+=s,r[i+2]+=s}}sendUniformData(e,r){e.uniform1f(r.uNoise,this.noise/255),e.uniform1f(r.uSeed,Math.random())}isNeutralState(){return this.noise===0}};j(Gg,"type","Noise"),j(Gg,"defaults",{noise:0}),j(Gg,"uniformLocations",["uNoise","uSeed"]),we.setClass(Gg);let qg=class extends br{applyTo2d(e){let{imageData:{data:r,width:n,height:i}}=e;for(let s=0;s<i;s+=this.blocksize)for(let o=0;o<n;o+=this.blocksize){const a=4*s*n+4*o,l=r[a],c=r[a+1],u=r[a+2],A=r[a+3];for(let h=s;h<Math.min(s+this.blocksize,i);h++)for(let f=o;f<Math.min(o+this.blocksize,n);f++){const p=4*h*n+4*f;r[p]=l,r[p+1]=c,r[p+2]=u,r[p+3]=A}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(e,r){e.uniform1f(r.uBlocksize,this.blocksize)}};j(qg,"type","Pixelate"),j(qg,"defaults",{blocksize:4}),j(qg,"uniformLocations",["uBlocksize"]),we.setClass(qg);class Xg extends br{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=255*this.distance,i=new Zn(this.color).getSource(),s=[i[0]-n,i[1]-n,i[2]-n],o=[i[0]+n,i[1]+n,i[2]+n];for(let a=0;a<r.length;a+=4){const l=r[a],c=r[a+1],u=r[a+2];l>s[0]&&c>s[1]&&u>s[2]&&l<o[0]&&c<o[1]&&u<o[2]&&(r[a+3]=0)}}sendUniformData(e,r){const n=new Zn(this.color).getSource(),i=this.distance,s=[0+n[0]/255-i,0+n[1]/255-i,0+n[2]/255-i,1],o=[n[0]/255+i,n[1]/255+i,n[2]/255+i,1];e.uniform4fv(r.uLow,s),e.uniform4fv(r.uHigh,o)}}j(Xg,"type","RemoveColor"),j(Xg,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),j(Xg,"uniformLocations",["uLow","uHigh"]),we.setClass(Xg);let Yg=class extends br{sendUniformData(e,r){e.uniform2fv(r.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(r.uTaps,this.taps)}getFilterWindow(){const e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}getCacheKey(){const e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}getFragmentSource(){const e=this.getFilterWindow();return this.generateShader(e)}getTaps(){const e=this.lanczosCreate(this.lanczosLobes),r=this.tempScale,n=this.getFilterWindow(),i=new Array(n);for(let s=1;s<=n;s++)i[s-1]=e(s*r);return i}generateShader(e){const r=new Array(e);for(let n=1;n<=e;n++)r[n-1]="".concat(n,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(e,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(r.map((n,i)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(n,") * uTaps[").concat(i,"] + texture2D(uTexture, vTexCoord - ").concat(n,") * uTaps[").concat(i,`];
              sum += 2.0 * uTaps[`).concat(i,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,super.applyTo(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,super.applyTo(e),e.sourceHeight=e.destinationHeight}applyTo(e){gw(e)?this.applyToForWebgl(e):this.applyTo2d(e)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(e){return r=>{if(r>=e||r<=-e)return 0;if(r<11920929e-14&&r>-11920929e-14)return 1;const n=(r*=Math.PI)/e;return Math.sin(r)/r*Math.sin(n)/n}}applyTo2d(e){const r=e.imageData,n=this.scaleX,i=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/i;const s=r.width,o=r.height,a=Math.round(s*n),l=Math.round(o*i);let c;c=this.resizeType==="sliceHack"?this.sliceByTwo(e,s,o,a,l):this.resizeType==="hermite"?this.hermiteFastResize(e,s,o,a,l):this.resizeType==="bilinear"?this.bilinearFiltering(e,s,o,a,l):this.resizeType==="lanczos"?this.lanczosResize(e,s,o,a,l):new ImageData(a,l),e.imageData=c}sliceByTwo(e,r,n,i,s){const o=e.imageData,a=.5;let l=!1,c=!1,u=r*a,A=n*a;const h=e.filterBackend.resources;let f=0,p=0;const m=r;let y=0;h.sliceByTwo||(h.sliceByTwo=ks());const g=h.sliceByTwo;(g.width<1.5*r||g.height<n)&&(g.width=1.5*r,g.height=n);const v=g.getContext("2d");for(v.clearRect(0,0,1.5*r,n),v.putImageData(o,0,0),i=Math.floor(i),s=Math.floor(s);!l||!c;)r=u,n=A,i<Math.floor(u*a)?u=Math.floor(u*a):(u=i,l=!0),s<Math.floor(A*a)?A=Math.floor(A*a):(A=s,c=!0),v.drawImage(g,f,p,r,n,m,y,u,A),f=m,p=y,y+=A;return v.getImageData(f,p,i,s)}lanczosResize(e,r,n,i,s){const o=e.imageData.data,a=e.ctx.createImageData(i,s),l=a.data,c=this.lanczosCreate(this.lanczosLobes),u=this.rcpScaleX,A=this.rcpScaleY,h=2/this.rcpScaleX,f=2/this.rcpScaleY,p=Math.ceil(u*this.lanczosLobes/2),m=Math.ceil(A*this.lanczosLobes/2),y={},g={x:0,y:0},v={x:0,y:0};return function x(b){let w,C,B,_,k,E,F,M,T,Q,P;for(g.x=(b+.5)*u,v.x=Math.floor(g.x),w=0;w<s;w++){for(g.y=(w+.5)*A,v.y=Math.floor(g.y),k=0,E=0,F=0,M=0,T=0,C=v.x-p;C<=v.x+p;C++)if(!(C<0||C>=r)){Q=Math.floor(1e3*Math.abs(C-g.x)),y[Q]||(y[Q]={});for(let H=v.y-m;H<=v.y+m;H++)H<0||H>=n||(P=Math.floor(1e3*Math.abs(H-g.y)),y[Q][P]||(y[Q][P]=c(Math.sqrt(Math.pow(Q*h,2)+Math.pow(P*f,2))/1e3)),B=y[Q][P],B>0&&(_=4*(H*r+C),k+=B,E+=B*o[_],F+=B*o[_+1],M+=B*o[_+2],T+=B*o[_+3]))}_=4*(w*i+b),l[_]=E/k,l[_+1]=F/k,l[_+2]=M/k,l[_+3]=T/k}return++b<i?x(b):a}(0)}bilinearFiltering(e,r,n,i,s){let o,a,l,c,u,A,h,f,p,m,y,g,v,x=0;const b=this.rcpScaleX,w=this.rcpScaleY,C=4*(r-1),B=e.imageData.data,_=e.ctx.createImageData(i,s),k=_.data;for(h=0;h<s;h++)for(f=0;f<i;f++)for(u=Math.floor(b*f),A=Math.floor(w*h),p=b*f-u,m=w*h-A,v=4*(A*r+u),y=0;y<4;y++)o=B[v+y],a=B[v+4+y],l=B[v+C+y],c=B[v+C+4+y],g=o*(1-p)*(1-m)+a*p*(1-m)+l*m*(1-p)+c*p*m,k[x++]=g;return _}hermiteFastResize(e,r,n,i,s){const o=this.rcpScaleX,a=this.rcpScaleY,l=Math.ceil(o/2),c=Math.ceil(a/2),u=e.imageData.data,A=e.ctx.createImageData(i,s),h=A.data;for(let f=0;f<s;f++)for(let p=0;p<i;p++){const m=4*(p+f*i);let y=0,g=0,v=0,x=0,b=0,w=0,C=0;const B=(f+.5)*a;for(let _=Math.floor(f*a);_<(f+1)*a;_++){const k=Math.abs(B-(_+.5))/c,E=(p+.5)*o,F=k*k;for(let M=Math.floor(p*o);M<(p+1)*o;M++){let T=Math.abs(E-(M+.5))/l;const Q=Math.sqrt(F+T*T);Q>1&&Q<-1||(y=2*Q*Q*Q-3*Q*Q+1,y>0&&(T=4*(M+_*r),C+=y*u[T+3],v+=y,u[T+3]<255&&(y=y*u[T+3]/250),x+=y*u[T],b+=y*u[T+1],w+=y*u[T+2],g+=y))}}h[m]=x/g,h[m+1]=b/g,h[m+2]=w/g,h[m+3]=C/v}return A}};j(Yg,"type","Resize"),j(Yg,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),j(Yg,"uniformLocations",["uDelta","uTaps"]),we.setClass(Yg);let Jg=class extends br{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=-this.saturation;for(let i=0;i<r.length;i+=4){const s=r[i],o=r[i+1],a=r[i+2],l=Math.max(s,o,a);r[i]+=l!==s?(l-s)*n:0,r[i+1]+=l!==o?(l-o)*n:0,r[i+2]+=l!==a?(l-a)*n:0}}sendUniformData(e,r){e.uniform1f(r.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}};j(Jg,"type","Saturation"),j(Jg,"defaults",{saturation:0}),j(Jg,"uniformLocations",["uSaturation"]),we.setClass(Jg);class Zg extends br{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=-this.vibrance;for(let i=0;i<r.length;i+=4){const s=r[i],o=r[i+1],a=r[i+2],l=Math.max(s,o,a),c=(s+o+a)/3,u=2*Math.abs(l-c)/255*n;r[i]+=l!==s?(l-s)*u:0,r[i+1]+=l!==o?(l-o)*u:0,r[i+2]+=l!==a?(l-a)*u:0}}sendUniformData(e,r){e.uniform1f(r.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}j(Zg,"type","Vibrance"),j(Zg,"defaults",{vibrance:0}),j(Zg,"uniformLocations",["uVibrance"]),we.setClass(Zg);function b4e(t,e,r){const n=new F6(t,{width:e,height:r,backgroundColor:"white"});ju.ownDefaults={...ju.ownDefaults,cornerStyle:"round",cornerStrokeColor:"blue",cornerColor:"red",cornerStyle:"circle",padding:10,transparentCorners:!1,borderColor:"orange",borderScaleFactor:2};const i=new eu("Welcome to Tooty!",{width:260,height:140,left:0,top:0,fontSize:30,backgroundColor:"lightgray",selectable:!1});return n.add(i),n}function yw(){globalThis.instaceReference.mouseDown=!1}function ac(t){t.off("mouse:down"),t.off("mouse:move"),t.off("mouse:up")}globalThis.instaceReference={drawInstance:null,origX:void 0,origY:void 0,mouseDown:!1};globalThis.selectedObject={id:null,object:null};function w4e({canvas:t,options:e,modes:r}){ac(t),t.on("mouse:down",n=>C4e({canvas:t,options:e,modes:r,event:n})),t.on("mouse:move",n=>B4e({canvas:t,event:n})),t.on("mouse:up",yw),t.selection=!1,t.hoverCursor="auto",t.isDrawingMode=!1,t.getObjects().map(n=>n.set({selectable:!1}))}function C4e({canvas:t,options:e,modes:r,event:n}){globalThis.instaceReference.mouseDown=!0,console.log("mouse in start",globalThis.instaceReference.mouseDown),e.currentMode=r.TRIANGLE,console.log("here fnciton even",t.getPointer(n.e));const i=t.getPointer(n.e);globalThis.instaceReference.origX=i==null?void 0:i.x,globalThis.instaceReference.origY=i==null?void 0:i.y,globalThis.instaceReference.drawInstance=new td({stroke:e.currentColor,strokeWidth:e.currentWidth,fill:e.fill?e.currentColor:"transparent",left:globalThis.instaceReference.origX,top:globalThis.instaceReference.origY,width:0,height:0,selectable:!1,controls:{...td.createControls().controls,delete:new ar({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,mouseUpHandler:(s,o,a,l)=>{t.remove(o.target)},cursorStyle:"pointer",render:(s,o,a,l,c)=>{s.save(),s.fillStyle="red",s.fillRect(o-10,a-10,20,20),s.strokeStyle="white",s.lineWidth=2,s.beginPath(),s.moveTo(o-5,a-5),s.lineTo(o+5,a+5),s.moveTo(o+5,a-5),s.lineTo(o-5,a+5),s.stroke(),s.restore()}})}}),console.log("coming here"),t.add(globalThis.instaceReference.drawInstance)}function B4e({canvas:t,event:e}){if(console.log("fuck",globalThis.instaceReference.mouseDown),globalThis.instaceReference.mouseDown){console.log("here fnciton even 2",t.getPointer(e.e));const r=t.getPointer(e.e);r.x<globalThis.instaceReference.origX&&globalThis.instaceReference.drawInstance.set("left",r.x),r.y<globalThis.instaceReference.origY&&globalThis.instaceReference.drawInstance.set("top",r.y),globalThis.instaceReference.drawInstance.set({width:Math.abs(r.x-globalThis.instaceReference.origX),height:Math.abs(r.y-globalThis.instaceReference.origY)}),globalThis.instaceReference.drawInstance.setCoords(),t.renderAll()}}function _4e({canvas:t,options:e,modes:r}){ac(t),t.on("mouse:down",n=>S4e({canvas:t,options:e,modes:r,event:n})),t.on("mouse:move",n=>k4e({canvas:t,event:n})),t.on("mouse:up",yw),t.selection=!1,t.hoverCursor="auto",t.isDrawingMode=!1,t.getObjects().map(n=>n.set({selectable:!1}))}function S4e({canvas:t,options:e,modes:r,event:n}){globalThis.instaceReference.mouseDown=!0,console.log("mouse in start",globalThis.instaceReference.mouseDown),e.currentMode=r.TRIANGLE,console.log("here fnciton even",t.getPointer(n.e));const i=t.getPointer(n.e);globalThis.instaceReference.origX=i==null?void 0:i.x,globalThis.instaceReference.origY=i==null?void 0:i.y,globalThis.instaceReference.drawInstance=new Po({stroke:e.currentColor,strokeWidth:e.currentWidth,fill:e.fill?e.currentColor:"transparent",left:globalThis.instaceReference.origX,top:globalThis.instaceReference.origY,width:0,height:0,selectable:!1,controls:{...Po.createControls().controls,delete:new ar({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,mouseUpHandler:(s,o,a,l)=>{t.remove(o.target)},cursorStyle:"pointer",render:(s,o,a,l,c)=>{s.save(),s.fillStyle="red",s.fillRect(o-10,a-10,20,20),s.strokeStyle="white",s.lineWidth=2,s.beginPath(),s.moveTo(o-5,a-5),s.lineTo(o+5,a+5),s.moveTo(o+5,a-5),s.lineTo(o-5,a+5),s.stroke(),s.restore()}})}}),console.log("coming here"),t.add(globalThis.instaceReference.drawInstance)}function k4e({canvas:t,event:e}){if(console.log("fuck",globalThis.instaceReference.mouseDown),globalThis.instaceReference.mouseDown){console.log("here fnciton even 2",t.getPointer(e.e));const r=t.getPointer(e.e);r.x<globalThis.instaceReference.origX&&globalThis.instaceReference.drawInstance.set("left",r.x),r.y<globalThis.instaceReference.origY&&globalThis.instaceReference.drawInstance.set("top",r.y),globalThis.instaceReference.drawInstance.set({width:Math.abs(r.x-globalThis.instaceReference.origX),height:Math.abs(r.y-globalThis.instaceReference.origY)}),globalThis.instaceReference.drawInstance.setCoords(),t.renderAll()}}function E4e({canvas:t,options:e,modes:r}){ac(t),t.on("mouse:down",n=>F4e({canvas:t,options:e,modes:r,event:n})),t.on("mouse:move",n=>M4e({canvas:t,event:n})),t.on("mouse:up",yw),t.selection=!1,t.hoverCursor="auto",t.isDrawingMode=!1,t.getObjects().map(n=>n.set({selectable:!1}))}function F4e({canvas:t,options:e,modes:r,event:n}){globalThis.instaceReference.mouseDown=!0,console.log("mouse in start",globalThis.instaceReference.mouseDown),e.currentMode=r.TRIANGLE,console.log("here fnciton even",t.getPointer(n.e));const i=t.getPointer(n.e);globalThis.instaceReference.origX=i==null?void 0:i.x,globalThis.instaceReference.origY=i==null?void 0:i.y,globalThis.instaceReference.drawInstance=new Nc({stroke:e.currentColor,strokeWidth:e.currentWidth,fill:e.fill?e.currentColor:"transparent",left:globalThis.instaceReference.origX,top:globalThis.instaceReference.origY,selectable:!1,controls:{...el.createControls().controls,delete:new ar({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,backgroundColor:"tranparent",mouseUpHandler:(s,o,a,l)=>{t.remove(o.target)},cursorStyle:"pointer",render:(s,o,a,l,c)=>{s.save(),s.fillStyle="red",s.fillRect(o-10,a-10,20,20),s.strokeStyle="white",s.lineWidth=2,s.beginPath(),s.moveTo(o-5,a-5),s.lineTo(o+5,a+5),s.moveTo(o+5,a-5),s.lineTo(o-5,a+5),s.stroke(),s.restore()}})}}),console.log("coming here"),t.add(globalThis.instaceReference.drawInstance)}function M4e({canvas:t,event:e}){if(console.log("fuck",globalThis.instaceReference.mouseDown),globalThis.instaceReference.mouseDown){console.log("here fnciton even 2",t.getPointer(e.e));const r=t.getPointer(e.e);r.x<globalThis.instaceReference.origX&&globalThis.instaceReference.drawInstance.set("left",r.x),r.y<globalThis.instaceReference.origY&&globalThis.instaceReference.drawInstance.set("top",r.y),globalThis.instaceReference.drawInstance.set({rx:Math.abs(r.x-globalThis.instaceReference.origX)/2,ry:Math.abs(r.y-globalThis.instaceReference.origY)/2}),globalThis.instaceReference.drawInstance.setCoords(),t.renderAll()}}function T4e({canvas:t,options:e,modes:r}){ac(t),t.on("mouse:down",n=>D4e({canvas:t,options:e,modes:r,event:n})),t.on("mouse:move",n=>L4e({canvas:t,event:n})),t.on("mouse:up",yw),t.selection=!1,t.hoverCursor="auto",t.isDrawingMode=!1,t.getObjects().map(n=>n.set({selectable:!1}))}function D4e({canvas:t,options:e,modes:r,event:n}){globalThis.instaceReference.mouseDown=!0,console.log("mouse in start",globalThis.instaceReference.mouseDown),e.currentMode=r.TRIANGLE,console.log("here fnciton even",t.getPointer(n.e));const i=t.getPointer(n.e);globalThis.instaceReference.origX=i==null?void 0:i.x,globalThis.instaceReference.origY=i==null?void 0:i.y,globalThis.instaceReference.drawInstance=new Rc([i.x,i.y,i.x,i.y],{strokeWidth:e.currentWidth,stroke:e.currentColor,selectable:!1,controls:{...Rc.createControls().controls,delete:new ar({x:.3,y:-.5,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,mouseUpHandler:(s,o,a,l)=>{t.remove(o.target)},cursorStyle:"pointer",render:(s,o,a,l,c)=>{s.save(),s.fillStyle="red",s.fillRect(o-10,a-10,20,20),s.strokeStyle="white",s.lineWidth=2,s.beginPath(),s.moveTo(o-5,a-5),s.lineTo(o+5,a+5),s.moveTo(o+5,a-5),s.lineTo(o-5,a+5),s.stroke(),s.restore()}})}}),console.log("coming here"),t.add(globalThis.instaceReference.drawInstance)}function L4e({canvas:t,event:e}){if(console.log("fuck",globalThis.instaceReference.mouseDown),globalThis.instaceReference.mouseDown){const r=t.getPointer(e.e);globalThis.instaceReference.drawInstance.set({x2:r.x,y2:r.y}),globalThis.instaceReference.drawInstance.setCoords(),t.requestRenderAll()}}function j4e({canvas:t,options:e}){ac(t),t.isDrawingMode=!1;const r=new eu("text",{left:100,top:100,width:100,height:100,fontSize:30,fill:e.currentColor,editable:!0,backgroundColor:"transparent",id:Date.now(),controls:{...eu.createControls().controls,delete:new ar({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,mouseUpHandler:(n,i,s,o)=>{t.remove(i.target)},cursorStyle:"pointer",render:(n,i,s,o,a)=>{n.save(),n.fillStyle="red",n.fillRect(i-10,s-10,20,20),n.strokeStyle="white",n.lineWidth=2,n.beginPath(),n.moveTo(i-5,s-5),n.lineTo(i+5,s+5),n.moveTo(i+5,s-5),n.lineTo(i-5,s+5),n.stroke(),n.restore()}})}});console.log("text",r),t.add(r),t.renderAll()}function O4e({canvas:t,options:e}){ac(t),t.freeDrawingBrush=new Zz(t),t.freeDrawingBrush.width=parseInt(e.currentWidth,10)||1,t.isDrawingMode=!0}function N4e({canvas:t,options:e}){e.currentMode="",t.isDrawingMode=!1,ac(t),t.getObjects().map(r=>(r==null?void 0:r.type)!="path"?r.set({selectable:!0}):r.set({selectable:!1})),console.log("eklee",t.getObjects()),t.hoverCursor="all-scroll"}function I4e({canvas:t}){ac(t),t.on("mouse:down",()=>t.isDrawingMode=!0),t.freeDrawingBrush=new Zz(t),t.freeDrawingBrush.color="white",t.freeDrawingBrush.width=10}var U4e=Object.defineProperty,P4e=Object.defineProperties,Q4e=Object.getOwnPropertyDescriptors,Bb=Object.getOwnPropertySymbols,hW=Object.prototype.hasOwnProperty,fW=Object.prototype.propertyIsEnumerable,pL=(t,e,r)=>e in t?U4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,D=(t,e)=>{for(var r in e||(e={}))hW.call(e,r)&&pL(t,r,e[r]);if(Bb)for(var r of Bb(e))fW.call(e,r)&&pL(t,r,e[r]);return t},N=(t,e)=>P4e(t,Q4e(e)),mL=t=>typeof t=="symbol"?t:t+"",_b=(t,e)=>{var r={};for(var n in t)hW.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Bb)for(var n of Bb(t))e.indexOf(n)<0&&fW.call(t,n)&&(r[n]=t[n]);return r};function Dr(t){return Array.isArray(t)}var R4e={en:{"keyboard.tooltip.symbols":"Symbols","keyboard.tooltip.greek":"Greek Letters","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.alphabetic":"Roman Letters","tooltip.copy to clipboard":"Copy to Clipboard","tooltip.cut to clipboard":"Cut to Clipboard","tooltip.paste from clipboard":"Paste from Clipboard","tooltip.redo":"Redo","tooltip.toggle virtual keyboard":"Toggle Virtual Keyboard","tooltip.menu":"Menu","tooltip.undo":"Undo","menu.borders":"Borders","menu.insert matrix":"Insert Matrix","menu.array.add row above":"Add Row Before","menu.array.add row below":"Add Row After","menu.array.add column after":"Add Column After","menu.array.add column before":"Add Column Before","menu.array.delete row":"Delete Row","menu.array.delete rows":"Delete Selected Rows","menu.array.delete column":"Delete Column","menu.array.delete columns":"Delete Selected Columns","menu.mode":"Mode","menu.mode-math":"Math","menu.mode-text":"Text","menu.mode-latex":"LaTeX","menu.insert":"Insert","menu.insert.abs":"Absolute Value","menu.insert.abs-template":"\\left|x\\right|","menu.insert.nth-root":"n<sup>th</sup> Root","menu.insert.nth-root-template":"\\sqrt[n]{x}","menu.insert.log-base":"Logarithm base a","menu.insert.log-base-template":"\\log_a(x)","menu.insert.heading-calculus":"Calculus","menu.insert.derivative":"Derivative","menu.insert.derivative-template":"\\dfrac{\\mathrm{d}}{\\mathrm{d}x}f(x)\\bigm|_{x=a}","menu.insert.nth-derivative":"n<sup>th</sup> derivative","menu.insert.nth-derivative-template":"\\dfrac{\\mathrm{d}^n}{\\mathrm{d}x^n}f(x)\\bigm|_{x=a}","menu.insert.integral":"Integral","menu.insert.integral-template":"$\\int_a^b f(x)\\,\\mathrm{d}x$","menu.insert.sum":"Sum","menu.insert.sum-template":"$\\sum_{i=1}^n x_i$","menu.insert.product":"Product","menu.insert.product-template":"\\prod_{i=1}^n x_i","menu.insert.heading-complex-numbers":"Complex Numbers","menu.insert.modulus":"Modulus","menu.insert.modulus-template":"\\lvert z \\rvert","menu.insert.argument":"Argument","menu.insert.argument-template":"\\arg(z)","menu.insert.real-part":"Real Part","menu.insert.real-part-template":"\\Re(z)","menu.insert.imaginary-part":"Imaginary Part","menu.insert.imaginary-part-template":"\\Im(z)","menu.insert.conjugate":"Conjugate","menu.insert.conjugate-template":"\\overline{z}","tooltip.blackboard":"Blackboard","tooltip.bold":"Bold","tooltip.italic":"Italic","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligraphic","tooltip.typewriter":"Typewriter","tooltip.roman-upright":"Roman Upright","tooltip.row-by-col":"%@  %@","menu.font-style":"Font Style","menu.accent":"Accent","menu.decoration":"Decoration","menu.color":"Color","menu.background-color":"Background","menu.evaluate":"Evaluate","menu.simplify":"Simplify","menu.solve":"Solve","menu.solve-for":"Solve for %@","menu.cut":"Cut","menu.copy":"Copy","menu.copy-as-latex":"Copy as LaTeX","menu.copy-as-ascii-math":"Copy as ASCII Math","menu.copy-as-mathml":"Copy as MathML","menu.paste":"Paste","menu.select-all":"Select All","color.red":"Red","color.orange":"Orange","color.yellow":"Yellow","color.lime":"Lime","color.green":"Green","color.teal":"Teal","color.cyan":"Cyan","color.blue":"Blue","color.indigo":"Indigo","color.purple":"Purple","color.magenta":"Magenta","color.black":"Black","color.dark-grey":"Dark Grey","color.grey":"Grey","color.light-grey":"Light Grey","color.white":"White"},ar:{"keyboard.tooltip.symbols":"  ","keyboard.tooltip.greek":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":"  ","tooltip.copy to clipboard":"  ","tooltip.cut to clipboard":"  ","tooltip.paste from clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":" ","menu.borders":" ","menu.array.add row above":"   ","menu.array.add row below":"  ","menu.array.add column after":"   ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":" ","tooltip.roman-upright":" ","tooltip.row-by-col":"%@  %@","menu.font-style":" ","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"  %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":"  LaTeX","menu.copy-as-ascii-math":"  ASCII Math","menu.copy-as-mathml":"  MathML","menu.paste":"","menu.select-all":" ","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":" ","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":" ","color.grey":"","color.light-grey":" ","color.white":""},de:{"keyboard.tooltip.symbols":"Symbole","keyboard.tooltip.greek":"Griechische Buchstaben","keyboard.tooltip.numeric":"Numerisch","keyboard.tooltip.alphabetic":"Rmische Buchstaben","tooltip.copy to clipboard":"In die Zwischenablage kopieren","tooltip.redo":"Wiederholen","tooltip.toggle virtual keyboard":"Virtuelle Tastatur umschalten","tooltip.undo":"Widerrufen","menu.insert matrix":"Matrix einfgen","menu.borders":"Matrixtrennzeichen","menu.array.add row above":"Zeile hinzufgen nach","menu.array.add row below":"Zeile hinzufgen vor","menu.array.add column after":"Spalte hinzufgen nach","menu.array.add column before":"Spalte hinzufgen vor","menu.array.delete row":"Zeile lschen","menu.array.delete rows":"Ausgewhlte Zeilen lschen","menu.array.delete column":"Spalte lschen","menu.array.delete columns":"Ausgewhlte Spalten lschen","menu.mode":"Modus","menu.mode-math":"Mathematik","menu.mode-text":"Text","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tafel","tooltip.bold":"Fett","tooltip.italic":"Kursiv","tooltip.fraktur":"Fraktur","tooltip.script":"Skript","tooltip.caligraphic":"Kalligraphie","tooltip.typewriter":"Schreibmaschine","tooltip.roman-upright":"Rmisch aufrecht","tooltip.row-by-col":"%@  %@","menu.font-style":"Schriftstil","menu.accent":"Akzent","menu.decoration":"Dekoration","menu.color":"Farbe","menu.background-color":"Hintergrund","menu.evaluate":"Auswerten","menu.simplify":"Vereinfachen","menu.solve":"Lsen","menu.solve-for":"Lsen fr %@","menu.cut":"Ausschneiden","menu.copy":"Kopieren","menu.copy-as-latex":"Als LaTeX kopieren","menu.copy-as-ascii-math":"Als ASCII Math kopieren","menu.copy-as-mathml":"Als MathML kopieren","menu.paste":"Einfgen","menu.select-all":"Alles auswhlen","color.red":"Rot","color.orange":"Orange","color.yellow":"Gelb","color.lime":"Limette","color.green":"Grn","color.teal":"Blaugrn","color.cyan":"Cyan","color.blue":"Blau","color.indigo":"Indigo","color.purple":"Lila","color.magenta":"Magenta","color.black":"Schwarz","color.dark-grey":"Dunkelgrau","color.grey":"Grau","color.light-grey":"Hellgrau","color.white":"Wei"},el:{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":"  ","tooltip.undo":"","menu.insert matrix":" ","menu.borders":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":" ","tooltip.roman-upright":" ","tooltip.row-by-col":"%@  %@","menu.font-style":" ","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":" ","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"  %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":"  LaTeX","menu.copy-as-ascii-math":"  ASCII Math","menu.copy-as-mathml":"  MathML","menu.paste":"","menu.select-all":" ","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":" ","color.grey":"","color.light-grey":" ","color.white":""},es:{"keyboard.tooltip.symbols":"Smbolos","keyboard.tooltip.greek":"Letras griegas","keyboard.tooltip.numeric":"Numrico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar al portapapeles","tooltip.redo":"Rehacer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Deshacer","menu.insert matrix":"Aadir Matriz","menu.borders":"Delimitadores de Matriz","menu.array.add row above":"Aadir Lnea Antes","menu.array.add row below":"Aadir Lnea Despues","menu.array.add column after":"Aadir Columna Despues","menu.array.add column before":"Aadir Columna Antes","menu.array.delete row":"Borrar Lnea","menu.array.delete rows":"Borrar Lneas Seleccionadas","menu.array.delete column":"Borrar Columna","menu.array.delete columns":"Borrar Columnas Seleccionadas","menu.mode":"Modo","menu.mode-math":"Matemticas","menu.mode-text":"Texto","menu.mode-latex":"LaTeX","tooltip.blackboard":"Pizarra","tooltip.bold":"Negrita","tooltip.italic":"Cursiva","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligrfico","tooltip.typewriter":"Mquina de escribir","tooltip.roman-upright":"Romano Vertical","tooltip.row-by-col":"%@  %@","menu.font-style":"Estilo de fuente","menu.accent":"Acento","menu.decoration":"Decoracin","menu.color":"Color","menu.background-color":"Fondo","menu.evaluate":"Evaluar","menu.simplify":"Simplificar","menu.solve":"Resolver","menu.solve-for":"Resolver para %@","menu.cut":"Cortar","menu.copy":"Copiar","menu.copy-as-latex":"Copiar como LaTeX","menu.copy-as-ascii-math":"Copiar como ASCII Math","menu.copy-as-mathml":"Copiar como MathML","menu.paste":"Pegar","menu.select-all":"Seleccionar todo","color.red":"Rojo","color.orange":"Naranja","color.yellow":"Amarillo","color.lime":"Lima","color.green":"Verde","color.teal":"Verde azulado","color.cyan":"Cian","color.blue":"Azul","color.indigo":"ndigo","color.purple":"Morado","color.magenta":"Magenta","color.black":"Negro","color.dark-grey":"Gris oscuro","color.grey":"Gris","color.light-grey":"Gris claro","color.white":"Blanco"},fr:{"keyboard.tooltip.symbols":"Symboles","keyboard.tooltip.greek":"Lettres grecques","keyboard.tooltip.numeric":"Numrique","keyboard.tooltip.alphabetic":"Lettres romaines","tooltip.menu":"Menu","tooltip.copy to clipboard":"Copier dans le presse-papiers","tooltip.redo":"Rtablir","tooltip.toggle virtual keyboard":"Afficher/Masquer le clavier virtuel","tooltip.undo":"Annuler","menu.insert matrix":"Insrer une Matrice","menu.borders":"Bords","menu.array.add row above":"Ajouter une Ligne Avant","menu.array.add row below":"Ajouter une Ligne Aprs","menu.array.add column before":"Ajouter une Colonne Avant","menu.array.add column after":"Ajouter une Colonne Aprs","menu.array.delete row":"Enlever une Ligne","menu.array.delete rows":"Enlever les Lignes Slectiones","menu.array.delete column":"Enlever une Colone","menu.array.delete columns":"Enlever les Colonnes Slectiones","menu.mode":"Mode","menu.mode-math":"Math","menu.mode-text":"Text","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tableau noir","tooltip.bold":"Gras","tooltip.italic":"Italique","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Calligraphique","tooltip.typewriter":"Machine  crire","tooltip.roman-upright":"Romain droit","tooltip.row-by-col":"%@  %@","menu.font-style":"Style de police","menu.accent":"Accent","menu.decoration":"Dcoration","menu.color":"Couleur","menu.background-color":"Arrire-plan","menu.evaluate":"valuer","menu.simplify":"Simplifier","menu.solve":"Rsoudre","menu.solve-for":"Rsoudre pour %@","menu.cut":"Couper","menu.copy":"Copier","menu.copy-as-latex":"Copier en LaTeX","menu.copy-as-ascii-math":"Copier en ASCII Math","menu.copy-as-mathml":"Copier en MathML","menu.paste":"Coller","menu.select-all":"Slectionner tout","color.red":"Rouge","color.orange":"Orange","color.yellow":"Jaune","color.lime":"Citron vert","color.green":"Vert","color.teal":"Turquoise","color.cyan":"Cyan","color.blue":"Bleu","color.indigo":"Indigo","color.purple":"Violet","color.magenta":"Magenta","color.black":"Noir","color.dark-grey":"Gris fonc","color.grey":"Gris","color.light-grey":"Gris clair","color.white":"Blanc"},he:{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":" ","tooltip.redo":" ","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":" ","menu.borders":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":" ","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":" ","tooltip.roman-upright":" ","tooltip.row-by-col":"%@  %@","menu.font-style":" ","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"  %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":" LaTeX","menu.copy-as-ascii-math":" ASCII Math","menu.copy-as-mathml":" MathML","menu.paste":"","menu.select-all":" ","color.red":"","color.orange":"","color.yellow":"","color.lime":" ","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":" ","color.grey":"","color.light-grey":" ","color.white":""},it:{"keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Lettere greche","keyboard.tooltip.numeric":"Numerico","keyboard.tooltip.alphabetic":"Lettere romane","tooltip.copy to clipboard":"Copia negli appunti","tooltip.redo":"Rifare","tooltip.toggle virtual keyboard":"Attiva / disattiva la tastiera virtuale","tooltip.undo":"Disfare","menu.insert matrix":"Inserisci una Matrice","menu.borders":"Delimitatori di Matrice","menu.array.add row above":"Aggiungi una Riga Prima","menu.array.add row below":"Aggiungi una Riga Dopo","menu.array.add column before":"Aggiungi una Colonna Prima","menu.array.add column after":"Aggiungi una Colonna Dopo","menu.array.delete row":"Rimuovi una Riga","menu.array.delete rows":"Rimuovi le Righe Selezionate","menu.array.delete column":"Rimuovi una Colonna","menu.array.delete columns":"Rimuovi le Colonne Selezionate","menu.mode":"Modalit","menu.mode-math":"Matematica","menu.mode-text":"Testo","menu.mode-latex":"LaTeX","tooltip.blackboard":"Lavagna","tooltip.bold":"Grassetto","tooltip.italic":"Corsivo","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligrafico","tooltip.typewriter":"Macchina da scrivere","tooltip.roman-upright":"Romano dritto","tooltip.row-by-col":"%@  %@","menu.font-style":"Stile del carattere","menu.accent":"Accento","menu.decoration":"Decorazione","menu.color":"Colore","menu.background-color":"Sfondo","menu.evaluate":"Valuta","menu.simplify":"Semplifica","menu.solve":"Risolvi","menu.solve-for":"Risolvi per %@","menu.cut":"Taglia","menu.copy":"Copia","menu.copy-as-latex":"Copia come LaTeX","menu.copy-as-ascii-math":"Copia come ASCII Math","menu.copy-as-mathml":"Copia come MathML","menu.paste":"Incolla","menu.select-all":"Seleziona tutto","color.red":"Rosso","color.orange":"Arancione","color.yellow":"Giallo","color.lime":"Lime","color.green":"Verde","color.teal":"Verde acqua","color.cyan":"Ciano","color.blue":"Blu","color.indigo":"Indaco","color.purple":"Viola","color.magenta":"Magenta","color.black":"Nero","color.dark-grey":"Grigio scuro","color.grey":"Grigio","color.light-grey":"Grigio chiaro","color.white":"Bianco"},ja:{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":"","tooltip.menu":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.borders":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":"","tooltip.roman-upright":"","tooltip.row-by-col":"%@  %@","menu.font-style":"","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"%@ ","menu.cut":"","menu.copy":"","menu.copy-as-latex":"LaTeX","menu.copy-as-ascii-math":"ASCII Math","menu.copy-as-mathml":"MathML","menu.paste":"","menu.select-all":"","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":"","color.grey":"","color.light-grey":"","color.white":""},ko:{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":"  ","tooltip.redo":" ","tooltip.toggle virtual keyboard":"  ","tooltip.undo":" ","menu.insert matrix":" ","menu.borders":"  ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":"","tooltip.roman-upright":" ","tooltip.row-by-col":"%@  %@","menu.font-style":" ","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"%@  ","menu.cut":"","menu.copy":"","menu.copy-as-latex":"LaTeX ","menu.copy-as-ascii-math":"ASCII Math ","menu.copy-as-mathml":"MathML ","menu.paste":"","menu.select-all":" ","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":" ","color.grey":"","color.light-grey":" ","color.white":""},pl:{"keyboard.tooltip.symbols":"Symbolika","keyboard.tooltip.greek":"Litery greckie","keyboard.tooltip.numeric":"Numeryczne","keyboard.tooltip.alphabetic":"Litery rzymskie","tooltip.copy to clipboard":"Kopiuj do Schowka","tooltip.redo":"Przywr","tooltip.toggle virtual keyboard":"Przecz wirtualn klawiatur","tooltip.undo":"Cofnij","menu.insert matrix":"Wstaw macierz","menu.borders":"Ograniczniki macierzy","menu.array.add row above":"Dodaj wiersz po","menu.array.add row below":"Dodaj wiersz przed","menu.array.add column after":"Dodaj kolumn po","menu.array.add column before":"Dodaj kolumn przed","menu.array.delete row":"Usu wiersz","menu.array.delete rows":"Usu wybrane wiersze","menu.array.delete column":"Usu kolumn","menu.array.delete columns":"Usu wybrane kolumny","menu.mode":"Tryb","menu.mode-math":"Formua","menu.mode-text":"Tekst","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tablica","tooltip.bold":"Pogrubienie","tooltip.italic":"Kursywa","tooltip.fraktur":"Fraktura","tooltip.script":"Skrypt","tooltip.caligraphic":"Kaligraficzny","tooltip.typewriter":"Maszynowy","tooltip.roman-upright":"Rzymski prosto","tooltip.row-by-col":"%@  %@","menu.font-style":"Styl czcionki","menu.accent":"Akcent","menu.decoration":"Dekoracja","menu.color":"Kolor","menu.background-color":"To","menu.evaluate":"Oblicz","menu.simplify":"Upro","menu.solve":"Rozwi","menu.solve-for":"Rozwi dla %@","menu.cut":"Wytnij","menu.copy":"Kopiuj","menu.copy-as-latex":"Kopiuj jako LaTeX","menu.copy-as-ascii-math":"Kopiuj jako ASCII Math","menu.copy-as-mathml":"Kopiuj jako MathML","menu.paste":"Wklej","menu.select-all":"Zaznacz wszystko","color.red":"Czerwony","color.orange":"Pomaraczowy","color.yellow":"ty","color.lime":"Limetkowy","color.green":"Zielony","color.teal":"Turkusowy","color.cyan":"Cyjan","color.blue":"Niebieski","color.indigo":"Indygo","color.purple":"Fioletowy","color.magenta":"Magenta","color.black":"Czarny","color.dark-grey":"Ciemnoszary","color.grey":"Szary","color.light-grey":"Jasnoszary","color.white":"Biay"},pt:{"keyboard.tooltip.symbols":"Smbolos","keyboard.tooltip.greek":"Letras gregas","keyboard.tooltip.numeric":"Numrico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar para rea de transferncia","tooltip.redo":"Refazer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Desfazer","menu.insert matrix":"Inserir Matriz","menu.borders":"Delimitadores de matriz","menu.array.add row above":"Adicionar linha depois","menu.array.add row below":"Adicionar linha antes","menu.array.add column after":"Adicionar coluna depois","menu.array.add column before":"Adicionar coluna antes","menu.array.delete row":"Excluir linha","menu.array.delete rows":"Excluir linhas selecionadas","menu.array.delete column":"Apagar Coluna","menu.array.delete columns":"Excluir Colunas Selecionadas","menu.mode":"Modo","menu.mode-math":"Frmula","menu.mode-text":"Texto","menu.mode-latex":"LaTeX","tooltip.blackboard":"Quadro Negro","tooltip.bold":"Negrito","tooltip.italic":"Itlico","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligrfico","tooltip.typewriter":"Mquina de Escrever","tooltip.roman-upright":"Romano Vertical","tooltip.row-by-col":"%@  %@","menu.font-style":"Estilo da Fonte","menu.accent":"Acento","menu.decoration":"Decorao","menu.color":"Cor","menu.background-color":"Cor de Fundo","menu.evaluate":"Avaliar","menu.simplify":"Simplificar","menu.solve":"Resolver","menu.solve-for":"Resolver para %@","menu.cut":"Recortar","menu.copy":"Copiar","menu.copy-as-latex":"Copiar como LaTeX","menu.copy-as-ascii-math":"Copiar como ASCII Math","menu.copy-as-mathml":"Copiar como MathML","menu.paste":"Colar","menu.select-all":"Selecionar Tudo","color.red":"Vermelho","color.orange":"Laranja","color.yellow":"Amarelo","color.lime":"Verde Lima","color.green":"Verde","color.teal":"Verde-azulado","color.cyan":"Ciano","color.blue":"Azul","color.indigo":"ndigo","color.purple":"Roxo","color.magenta":"Magenta","color.black":"Preto","color.dark-grey":"Cinza Escuro","color.grey":"Cinza","color.light-grey":"Cinza Claro","color.white":"Branco"},uk:{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":"   ","tooltip.redo":"","tooltip.toggle virtual keyboard":"  ","tooltip.undo":"","menu.insert matrix":" ","menu.borders":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":" ","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":"  ","tooltip.roman-upright":" ","tooltip.row-by-col":"%@  %@","menu.font-style":" ","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"  %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":"  LaTeX","menu.copy-as-ascii-math":"  ASCII Math","menu.copy-as-mathml":"  MathML","menu.paste":"","menu.select-all":" ","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"-","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":"-","color.grey":"","color.light-grey":"-","color.white":""},"zh-cn":{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.borders":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"r","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"Fraktur","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":"","tooltip.roman-upright":"","tooltip.row-by-col":"%@  %@","menu.font-style":"","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":" %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":" LaTeX","menu.copy-as-ascii-math":" ASCII Math","menu.copy-as-mathml":" MathML","menu.paste":"","menu.select-all":"","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":"","color.grey":"","color.light-grey":"","color.white":""},"zh-tw":{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.borders":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"Fraktur","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":"","tooltip.roman-upright":"","tooltip.row-by-col":"%@  %@","menu.font-style":"","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":" %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":" LaTeX","menu.copy-as-ascii-math":" ASCII Math","menu.copy-as-mathml":" MathML","menu.paste":"","menu.select-all":"","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":"","color.grey":"","color.light-grey":"","color.white":""}};function Gi(){return"window"in globalThis&&"document"in globalThis}function pW(){return"matchMedia"in window?window.matchMedia("(pointer: coarse)").matches:"ontouchstart"in window||navigator.maxTouchPoints>0}function H4e(){try{return window.self!==window.top}catch{return!0}}function mW(){return typeof navigator.vibrate=="function"}function Ch(){var t,e;if(!Gi())return"other";let r=(e=(t=navigator.userAgentData)==null?void 0:t.platform)!=null?e:navigator.platform;return/^mac/i.test(r)?navigator.maxTouchPoints===5?"ios":"macos":/^win/i.test(r)?"windows":/android/i.test(navigator.userAgent)?"android":/iphone|ipod|ipad/i.test(navigator.userAgent)?"ios":/\bcros\b/i.test(navigator.userAgent)?"chromeos":"other"}function $4e(){if(!Gi())return!0;if(/firefox/i.test(navigator.userAgent)){let t=navigator.userAgent.match(/firefox\/(\d+)/i);return t?parseInt(t[1])>=78:!1}if(/trident/i.test(navigator.userAgent))return!1;if(/edge/i.test(navigator.userAgent)){let t=navigator.userAgent.match(/edg\/(\d+)/i);return t?parseInt(t[1])>=79:!1}return!0}function gL(){return HTMLElement.prototype.hasOwnProperty("popover")}var De={strings:R4e,_locale:"",_dirty:!1,_subscribers:[],_numberFormatter:void 0,get locale(){return De._locale||(De._locale=Gi()?navigator.language.slice(0,5):"en-US"),De._locale},set locale(t){De._locale=t,De._numberFormatter=void 0,De.dirty=!0},get numberFormatter(){if(!De._numberFormatter)try{De._numberFormatter=new Intl.NumberFormat(De.locale)}catch{try{De._numberFormatter=new Intl.NumberFormat(De.locale.slice(0,2))}catch{De._numberFormatter=new Intl.NumberFormat("en-US")}}return De._numberFormatter},merge(t,e){if(typeof t=="string"&&e)De.strings[t]=D(D({},De.strings[t]),e),De.dirty=!0;else for(let r of Object.keys(t))De.merge(r,t[r])},get dirty(){return De._dirty},set dirty(t){De._dirty||De._dirty===t||(De._dirty=!0,setTimeout(()=>{De._dirty=!1,this._subscribers.forEach(e=>e==null?void 0:e())},0))},subscribe(t){return De._subscribers.push(t),De._subscribers.length-1},unsubscribe(t){t<0||t>=De._subscribers.length||(De._subscribers[t]=void 0)},update(t){let e=t.querySelectorAll("[data-l10n-tooltip]");for(let r of e){let n=r.getAttribute("data-l10n-tooltip");if(n){let i=Ee(n);i&&r.setAttribute("data-tooltip",i)}}e=t.querySelectorAll("[data-l10n-arial-label]");for(let r of e){let n=r.getAttribute("data-l10n-arial-label");if(n){let i=Ee(n);i&&r.setAttribute("aria-label",i)}}}};function Ee(t,...e){if(t===void 0)return;let r="",n=De.locale;De.strings[n]&&(r=De.strings[n][t]);let i=n.slice(0,2);if(!r&&De.strings[i]&&(r=De.strings[i][t]),r||(r=De.strings.en[t]),!r)return;let s=/(%@|%([0-9]+)\$@)/g,o=s.exec(r),a=0;for(;o;){if(e[a++]){let l=o[2]?parseInt(o[2],10)-1:a-1,c=e[l];typeof c=="number"&&(c=De.numberFormatter.format(c)),r=r.replace(o[1],c)}o=s.exec(r)}return r=r.replace(/%%/g,"%"),r}var V4e={m0:"#3F3D99",m1:"#993D71",m2:"#998B3D",m3:"#3D9956",m4:"#3D5A99",m5:"#993D90",m6:"#996D3D",m7:"#43993D",m8:"#3D7999",m9:"#843D99"},K4e={blue:"#0072BD",orange:"#D95319",yellow:"#EDB120",purple:"#7E2F8E",green:"#77AC30",cyan:"#4DBEEE",red:"#A2142F"},du={red:"#fbbbb6",orange:"#ffe0c2",yellow:"#fff1c2",lime:"#d0e8b9",green:"#bceac4",teal:"#b9f1f1",cyan:"#b8e5c9",blue:"#b6d9fb",indigo:"#d1c2f0",purple:"#e3baf8",magenta:"#f9c8e0",black:"#353535","dark-grey":"#8C8C8C",grey:"#D0D0D0","light-grey":"#F0F0F0",white:"#ffffff"},hu={red:"#d7170b",orange:"#fe8a2b",yellow:"#ffc02b",lime:"#63b215",green:"#21ba3a",teal:"#17cfcf",cyan:"#13a7ec",blue:"#0d80f2",indigo:"#63c",purple:"#a219e6",magenta:"#eb4799",black:"#000","dark-grey":"#666",grey:"#A6A6A6","light-grey":"#d4d5d2",white:"#ffffff"},gW={Red:"red",Orange:"orange",Yellow:"yellow",LimeGreen:"lime",Green:"green",TealBlue:"teal",Blue:"blue",Violet:"indigo",Purple:"purple",Magenta:"magenta",Black:"black",Gray:"grey",White:"white"},z4e={Apricot:"#FBB982",Aquamarine:"#00B5BE",Bittersweet:"#C04F17",Black:"#221E1F",Blue:"#2D2F92",BlueGreen:"#00B3B8",BlueViolet:"#473992",BrickRed:"#B6321C",Brown:"#792500",BurntOrange:"#F7921D",CadetBlue:"#74729A",CarnationPink:"#F282B4",Cerulean:"#00A2E3",CornflowerBlue:"#41B0E4",Cyan:"#00AEEF",Dandelion:"#FDBC42",DarkOrchid:"#A4538A",Emerald:"#00A99D",ForestGreen:"#009B55",Fuchsia:"#8C368C",Goldenrod:"#FFDF42",Gray:"#949698",Green:"#00A64F",GreenYellow:"#DFE674",JungleGreen:"#00A99A",Lavender:"#F49EC4",Limegreen:"#8DC73E",Magenta:"#EC008C",Mahogany:"#A9341F",Maroon:"#AF3235",Melon:"#F89E7B",MidnightBlue:"#006795",Mulberry:"#A93C93",NavyBlue:"#006EB8",OliveGreen:"#3C8031",Orange:"#F58137",OrangeRed:"#ED135A",Orchid:"#AF72B0",Peach:"#F7965A",Periwinkle:"#7977B8",PineGreen:"#008B72",Plum:"#92268F",ProcessBlue:"#00B0F0",Purple:"#99479B",RawSienna:"#974006",Red:"#ED1B23",RedOrange:"#F26035",RedViolet:"#A1246B",Rhodamine:"#EF559F",RoyalBlue:"#0071BC",RoyalPurple:"#613F99",RubineRed:"#ED017D",Salmon:"#F69289",SeaGreen:"#3FBC9D",Sepia:"#671800",SkyBlue:"#46C5DD",SpringGreen:"#C6DC67",Tan:"#DA9D76",TealBlue:"#00AEB3",Thistle:"#D883B7",Turquoise:"#00B4CE",Violet:"#58429B",VioletRed:"#EF58A0",White:"#FFFFFF",WildStrawberry:"#EE2967",Yellow:"#FFF200",YellowGreen:"#98CC70",YellowOrange:"#FAA21A"};function vw(t){var e,r,n,i,s,o;let a=t.split("!"),l,c,u,A=255,h=255,f=255,p=-1,m=a.length>0&&a[0].startsWith("-");m&&(a[0]=a[0].slice(1));for(let y=0;y<a.length;y++){l=A,c=h,u=f;let g=(e=a[y].trim().match(/^([A-Za-z\d-]+)/))==null?void 0:e[1],v=g==null?void 0:g.toLowerCase(),x=g&&(o=(s=(i=(n=(r=hu[v])!=null?r:hu[gW[g]])!=null?n:K4e[g])!=null?i:z4e[g])!=null?s:V4e[g])!=null?o:a[y].trim(),b=x.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);if(b!=null&&b[1]&&b[2]&&b[3])A=Math.max(0,Math.min(255,Number.parseInt(b[1],16))),h=Math.max(0,Math.min(255,Number.parseInt(b[2],16))),f=Math.max(0,Math.min(255,Number.parseInt(b[3],16)));else if(b=x.match(/^#([\da-f]{3})$/i),b!=null&&b[1]){let w=Number.parseInt(b[1][0],16),C=Number.parseInt(b[1][1],16),B=Number.parseInt(b[1][2],16);A=Math.max(0,Math.min(255,w*16+w)),h=Math.max(0,Math.min(255,C*16+C)),f=Math.max(0,Math.min(255,B*16+B))}else if(b=x.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),b!=null&&b[1]&&b[2]&&b[3])A=Math.max(0,Math.min(255,Number.parseInt(b[1]))),h=Math.max(0,Math.min(255,Number.parseInt(b[2]))),f=Math.max(0,Math.min(255,Number.parseInt(b[3])));else return;p>=0&&(A=(1-p)*A+p*l,h=(1-p)*h+p*c,f=(1-p)*f+p*u,p=-1),y+1<a.length&&(p=Math.max(0,Math.min(100,Number.parseInt(a[++y])))/100)}return p>=0&&(A=p*A+(1-p)*l,h=p*h+(1-p)*c,f=p*f+(1-p)*u),m&&(A=255-A,h=255-h,f=255-f),"#"+("00"+Math.round(A).toString(16)).slice(-2)+("00"+Math.round(h).toString(16)).slice(-2)+("00"+Math.round(f).toString(16)).slice(-2)}function uE(t){var e,r;return t=t.trim(),(r=(e=du[t.toLowerCase()])!=null?e:du[gW[t]])!=null?r:vw(t)}function W4e(t){if(!t||t[0]!=="#")return;t=t.slice(1);let e;return t.length<=4?(e={r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16)},t.length===4&&(e.a=parseInt(t[3]+t[3],16)/255)):(e={r:parseInt(t[0]+t[1],16),g:parseInt(t[2]+t[3],16),b:parseInt(t[4]+t[5],16)},t.length===8&&(e.a=parseInt(t[6]+t[7],16)/255)),e&&e.a===void 0&&(e.a=1),e}function U3(t,e,r){return r<0&&(r+=6),r>=6&&(r-=6),r<1?(e-t)*r+t:r<3?e:r<4?(e-t)*(4-r)+t:t}function G4e(t){let[e,r,n]=[t.h,t.s,t.l];e=(e+360)%360/60,n=Math.max(0,Math.min(n,1)),r=Math.max(0,Math.min(r,1));let i=n<=.5?n*(r+1):n+r-n*r,s=n*2-i;return{r:Math.round(255*U3(s,i,e+2)),g:Math.round(255*U3(s,i,e)),b:Math.round(255*U3(s,i,e-2))}}function P3(t){return t<0?0:t>255?255:Math.round(t)}function q4e(t){let{r:e,g:r,b:n}=t,i=((1<<24)+(P3(e)<<16)+(P3(r)<<8)+P3(n)).toString(16).slice(1);return i[0]===i[1]&&i[2]===i[3]&&i[4]===i[5]&&i[6]===i[7]&&(i=i[0]+i[2]+i[4]),"#"+i}function X4e(t){let{r:e,g:r,b:n}=t;e=e/255,r=r/255,n=n/255;let i=Math.min(e,r,n),s=Math.max(e,r,n),o=s-i,a,l;s===i?a=0:e===s?a=(r-n)/o:r===s?a=2+(n-e)/o:n===s&&(a=4+(e-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);let c=(i+s)/2;return s===i?l=0:c<=.5?l=o/(s+i):l=o/(2-s-i),{h:a,s:l,l:c}}function Y4e(t){let e=W4e(t);if(!e)return t;let{h:r,s:n,l:i}=X4e(e);return n+=.1,i-=.1,q4e(G4e({h:r,s:n,l:i}))}var yW={60:"\\lt",62:"\\gt",111:"o",38:"\\&",123:"\\lbrace",125:"\\rbrace",91:"\\lbrack",93:"\\rbrack",58:"\\colon",160:"~",172:"\\neg",183:"\\cdot",188:"\\frac{1}{4}",189:"\\frac{1}{2}",190:"\\frac{3}{4}",8304:"^{0}",8305:"^{i}",185:"^{1}",178:"^{2}",179:"^{3}",8224:"\\dagger",8225:"\\ddagger",8230:"\\ldots",8308:"^{4}",8309:"^{5}",8310:"^{6}",8311:"^{7}",8312:"^{8}",8313:"^{9}",8314:"^{+}",8315:"^{-}",8316:"^{=}",8319:"^{n}",8320:"_{0}",8321:"_{1}",8322:"_{2}",8323:"_{3}",8324:"_{4}",8325:"_{5}",8326:"_{6}",8327:"_{7}",8328:"_{8}",8329:"_{9}",8330:"_{+}",8331:"_{-}",8332:"_{=}",8336:"_{a}",8337:"_{e}",8338:"_{o}",8339:"_{x}",8242:"\\prime",39:"\\prime",8592:"\\gets",8594:"\\to",9651:"\\triangle",9661:"\\triangledown",8715:"\\owns",8727:"\\ast",8739:"\\vert",8741:"\\Vert",8743:"\\land",8744:"\\lor",8901:"\\cdot",8904:"\\bowtie",8800:"\\ne",8804:"\\le",8805:"\\ge",8869:"\\bot",10178:"\\perp",10231:"\\biconditional",10232:"\\impliedby",10233:"\\implies",10234:"\\iff",8450:"\\mathbb{C}",8469:"\\mathbb{N}",8473:"\\mathbb{P}",8474:"\\mathbb{Q}",8477:"\\mathbb{R}",8484:"\\mathbb{Z}",8461:"\\mathbb{H}",8476:"\\Re",8465:"\\Im",42:"\\ast",11036:"\\square",9633:"\\square",8720:"\\coprod",8716:"\\not\\ni",9671:"\\diamond",8846:"\\uplus",8851:"\\sqcap",8852:"\\sqcup",8768:"\\wr",8750:"\\oint",8226:"\\textbullet",8722:"-",978:"\\Upsilon"},P6={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},vW=[{start:119808,len:26,offset:65,style:"bold"},{start:119834,len:26,offset:97,style:"bold"},{start:120488,len:25,offset:913,style:"bold"},{start:120514,len:25,offset:945,style:"bold"},{start:119860,len:26,offset:65,style:"italic"},{start:119886,len:26,offset:97,style:"italic"},{start:120546,len:25,offset:913,style:"italic"},{start:120572,len:25,offset:945,style:"italic"},{start:119912,len:26,offset:65,style:"bolditalic"},{start:119938,len:26,offset:97,style:"bolditalic"},{start:120604,len:25,offset:913,style:"bolditalic"},{start:120630,len:25,offset:945,style:"bolditalic"},{start:120782,len:10,offset:48,variant:"main",style:"bold"},{start:119964,len:26,offset:65,variant:"script"},{start:119990,len:26,offset:97,variant:"script"},{start:120016,len:26,offset:65,variant:"script",style:"bold"},{start:120042,len:26,offset:97,variant:"script",style:"bold"},{start:120068,len:26,offset:65,variant:"fraktur"},{start:120094,len:26,offset:97,variant:"fraktur"},{start:120172,len:26,offset:65,variant:"fraktur",style:"bold"},{start:120198,len:26,offset:97,variant:"fraktur",style:"bold"},{start:120120,len:26,offset:65,variant:"double-struck"},{start:120146,len:26,offset:97,variant:"double-struck"},{start:120792,len:10,offset:48,variant:"double-struck"},{start:120432,len:26,offset:65,variant:"monospace"},{start:120458,len:26,offset:97,variant:"monospace"},{start:120822,len:10,offset:48,variant:"monospace"},{start:120224,len:26,offset:65,variant:"sans-serif"},{start:120250,len:26,offset:97,variant:"sans-serif"},{start:120276,len:26,offset:65,variant:"sans-serif",style:"bold"},{start:120302,len:26,offset:97,variant:"sans-serif",style:"bold"},{start:120328,len:26,offset:65,variant:"sans-serif",style:"italic"},{start:120354,len:26,offset:97,variant:"sans-serif",style:"italic"},{start:120380,len:26,offset:65,variant:"sans-serif",style:"bolditalic"},{start:120406,len:26,offset:97,variant:"sans-serif",style:"bolditalic"},{start:120662,len:25,offset:913,variant:"sans-serif",style:"bold"},{start:120688,len:25,offset:945,variant:"sans-serif",style:"bold"},{start:120720,len:25,offset:913,variant:"sans-serif",style:"bolditalic"},{start:120746,len:25,offset:945,variant:"sans-serif",style:"bolditalic"},{start:120803,len:10,offset:48,variant:"sans-serif"},{start:120812,len:10,offset:48,variant:"sans-serif",style:"bold"}];function Q6(t,e,r){if(!/[A-Za-z\d]/.test(t)||(r==="up"&&(r=void 0),!e&&!r))return;let n=t.codePointAt(0);if(n===void 0)return t;for(let i of vW)if((!e||i.variant===e)&&(!r||i.style===r)&&n>=i.offset&&n<i.offset+i.len){let s=i.start+n-i.offset;return String.fromCodePoint(P6[s]||s)}}function J4e(t){var e;if((t<119808||t>120831)&&(t<8448||t>8527))return{char:String.fromCodePoint(t)};for(let r in P6)if(P6[r]===t){t=(e=r.codePointAt(0))!=null?e:0;break}for(let r of vW)if(t>=r.start&&t<r.start+r.len)return{char:String.fromCodePoint(t-r.start+r.offset),variant:r.variant,style:r.style};return{char:String.fromCodePoint(t)}}function Z4e(t){var e;if("{}<>[]$&*#^_%:'".includes(t)||t.length>1)return;let r=(e=t.codePointAt(0))!=null?e:0,n=yW[r];if(n)return n;let{char:i,variant:s,style:o}=J4e(r);if(!(!s&&!o)){switch(n=i,s){case"double-struck":n=`\\mathbb{${n}}`;break;case"fraktur":n=`\\mathfrak{${n}}`;break;case"script":n=`\\mathscr{${n}}`;break;case"sans-serif":n=`\\mathsf{${n}}`;break;case"monospace":n=`\\mathtt{${n}}`;break;case"calligraphic":n=`\\mathcal{${n}}`;break}switch(o){case"bold":n=`\\mathbf{${n}}`;break;case"italic":n=`\\mathit{${n}}`;break;case"bolditalic":n=`\\mathbfit{${n}}`;break}return n}}function he(t){return t?Array.isArray(t)?t:typeof t=="object"&&"group"in t?t.group:[]:[]}var Im={},Sb=D({},yW),_d={},AE={},e3e={darr:"\\downarrow",dArr:"\\Downarrow",Darr:"\\Downarrow",lang:"\\langle",rang:"\\rangle",uarr:"\\uparrow",uArr:"\\Uparrow",Uarr:"\\Uparrow",C:"\\mathbb{C}",H:"\\mathbb{H}",N:"\\mathbb{N}",Q:"\\mathbb{Q}",R:"\\mathbb{R}",Z:"\\mathbb{Z}",alef:"\\aleph",alefsym:"\\aleph",Alpha:"\\mathrm{A}",Beta:"\\mathrm{B}",bull:"\\bullet",Chi:"\\mathrm{X}",clubs:"\\clubsuit",cnums:"\\mathbb{C}",Complex:"\\mathbb{C}",Dagger:"\\ddagger",diamonds:"\\diamondsuit",doublecap:"\\Cap",doublecup:"\\Cup",empty:"\\emptyset",Epsilon:"\\mathrm{E}",Eta:"\\mathrm{H}",exist:"\\exists",hAar:"\\Leftrightarrow",harr:"\\leftrightarrow",Harr:"\\Leftrightarrow",hearts:"\\heartsuit",image:"\\Im",infin:"\\infty",Iota:"\\mathrm{I}",isin:"\\in",Kappa:"\\mathrm{K}",larr:"\\leftarrow",Larr:"\\Leftarrow",lArr:"\\Leftarrow",lrarr:"\\leftrightarrow",Lrarr:"\\Leftrightarrow",lrArr:"\\Leftrightarrow",Mu:"\\mathrm{M}",natnums:"\\mathbb{N}",Nu:"\\mathrm{N}",Omicron:"\\mathrm{O}",part:"\\partial",plusmn:"\\pm",rarr:"\\rightarrow",Rarr:"\\Rightarrow",rArr:"\\Rightarrow",real:"\\Re",reals:"\\mathbb{R}",Reals:"\\mathbb{R}",restriction:"\\upharpoonright",Rho:"\\mathrm{P}",sdot:"\\cdot",sect:"\\S",spades:"\\spadesuit",sub:"\\subset",sube:"\\subseteq",supe:"\\supseteq",Tau:"\\mathrm{T}",thetasym:"\\vartheta",varcoppa:"\\coppa",weierp:"\\wp",Zeta:"\\mathrm{Z}"},t3e={varGamma:"\\mathit{\\Gamma}",varDelta:"\\mathit{\\Delta}",varTheta:"\\mathit{\\Theta}",varLambda:"\\mathit{\\Lambda}",varXi:"\\mathit{\\Xi}",varPi:"\\mathit{\\Pi}",varSigma:"\\mathit{\\Sigma}",varUpsilon:"\\mathit{\\Upsilon}",varPhi:"\\mathit{\\Phi}",varPsi:"\\mathit{\\Psi}",varOmega:"\\mathit{\\Omega}",pmod:{def:"\\quad(\\operatorname{mod}\\ #1)",args:1,expand:!1,captureSelection:!1},mod:{def:"\\quad\\operatorname{mod}\\,\\,#1",args:1,expand:!1},bmod:{def:"\\;\\mathbin{\\operatorname{mod }}",expand:!1}},r3e={bra:{def:"\\mathinner{\\langle{#1}|}",args:1,captureSelection:!1},ket:{def:"\\mathinner{|{#1}\\rangle}",args:1,captureSelection:!1},braket:{def:"\\mathinner{\\langle{#1}\\rangle}",args:1,captureSelection:!1},set:{def:"\\mathinner{\\lbrace #1 \\rbrace}",args:1,captureSelection:!1},Bra:{def:"\\left\\langle #1\\right|",args:1,captureSelection:!1},Ket:{def:"\\left|#1\\right\\rangle",args:1,captureSelection:!1},Braket:{def:"\\left\\langle{#1}\\right\\rangle",args:1,captureSelection:!1},Set:{def:"\\left\\lbrace #1 \\right\\rbrace",args:1,captureSelection:!1}},n3e={iff:{primitive:!0,captureSelection:!0,def:"\\;\\Longleftrightarrow\\;}"},nicefrac:"^{#1}\\!\\!/\\!_{#2}",phase:{def:"\\enclose{phasorangle}{#1}",args:1,captureSelection:!1},rd:"\\mathrm{d}",rD:"\\mathrm{D}",doubleStruckCapitalN:"\\mathbb{N}",doubleStruckCapitalR:"\\mathbb{R}",doubleStruckCapitalQ:"\\mathbb{Q}",doubleStruckCapitalZ:"\\mathbb{Z}",doubleStruckCapitalP:"\\mathbb{P}",scriptCapitalE:"\\mathscr{E}",scriptCapitalH:"\\mathscr{H}",scriptCapitalL:"\\mathscr{L}",gothicCapitalC:"\\mathfrak{C}",gothicCapitalH:"\\mathfrak{H}",gothicCapitalI:"\\mathfrak{I}",gothicCapitalR:"\\mathfrak{R}",imaginaryI:"\\mathrm{i}",imaginaryJ:"\\mathrm{j}",exponentialE:"\\mathrm{e}",differentialD:"\\mathrm{d}",capitalDifferentialD:"\\mathrm{D}",mathstrut:{def:"\\vphantom{(}",primitive:!0},angl:"\\enclose{actuarial}{#1}",angln:"\\enclose{actuarial}{n}",anglr:"\\enclose{actuarial}{r}",anglk:"\\enclose{actuarial}{k}",mathtools:{primitive:!0,package:{ordinarycolon:":",vcentcolon:"\\mathrel{\\mathop\\ordinarycolon}",dblcolon:'{\\mathop{\\char"2237}}',coloneqq:'{\\mathop{\\char"2254}}',Coloneqq:'{\\mathop{\\char"2a74}}',coloneq:'{\\mathop{\\char"2254}}',Coloneq:'{\\mathop{\\char"2A74}}',eqqcolon:'{\\mathop{\\char"2255}}',Eqqcolon:'{\\mathop{\\char"3D\\char"2237}}',eqcolon:'{\\mathop{\\char"2255}}',Eqcolon:'{\\mathop{\\char"3D\\char"2237}}',colonapprox:'{\\mathop{\\char"003A\\char"2248}}',Colonapprox:'{\\mathop{\\char"2237\\char"2248}}',colonsim:'{\\mathop{\\char"3A\\char"223C}}',Colonsim:'{\\mathop{\\char"2237\\char"223C}}',colondash:"\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}",Colondash:"\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}",dashcolon:"\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Dashcolon:"\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}"}},ratio:"\\vcentcolon",coloncolon:"\\dblcolon",colonequals:"\\coloneq",coloncolonequals:"\\Coloneq",equalscolon:"\\eqcolon",equalscoloncolon:"\\Eqcolon",colonminus:"\\colondash",coloncolonminus:"\\Colondash",minuscolon:"\\dashcolon",minuscoloncolon:"\\Dashcolon",coloncolonapprox:"\\Colonapprox",coloncolonsim:"\\Colonsim",simcolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Simcolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}",simcoloncolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}",approxcolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Approxcolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}",approxcoloncolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}",notni:"\\mathrel{\\char`}",limsup:"\\operatorname*{lim\\,sup}",liminf:"\\operatorname*{lim\\,inf}",injlim:"\\operatorname*{inj\\,lim}",projlim:"\\operatorname*{proj\\,lim}",varlimsup:"\\operatorname*{\\overline{lim}}",varliminf:"\\operatorname*{\\underline{lim}}",varinjlim:"\\operatorname*{\\underrightarrow{lim}}",varprojlim:"\\operatorname*{\\underleftarrow{lim}}",argmin:"\\operatorname*{arg\\,min}",argmax:"\\operatorname*{arg\\,max}",plim:"\\mathop{\\operatorname{plim}}\\limits",tripledash:{def:"\\vphantom{-}\\raise{4mu}{\\mkern1.5mu\\rule{2mu}{1.5mu}\\mkern{2.25mu}\\rule{2mu}{1.5mu}\\mkern{2.25mu}\\rule{2mu}{1.5mu}\\mkern{2mu}}",expand:!0},"braket.sty":{package:r3e},"amsmath.sty":{package:t3e,primitive:!0},"texvc.sty":{package:e3e,primitive:!1}},id={" ":32,"\\!":33,"\\#":35,"\\$":36,"\\%":37,"\\&":38,"\\_":95,"-":45,"\\textunderscore":95,"\\euro":8364,"\\maltese":10016,"\\{":123,"\\}":125,"\\textbraceleft":123,"\\textbraceright":125,"\\lbrace":123,"\\rbrace":125,"\\lbrack":91,"\\rbrack":93,"\\nobreakspace":160,"\\ldots":8230,"\\textellipsis":8230,"\\backslash":92,"`":8216,"'":8217,"``":8220,"''":8221,"\\degree":176,"\\textasciicircum":94,"\\textasciitilde":126,"\\textasteriskcentered":42,"\\textbackslash":92,"\\textbullet":8226,"\\textdollar":36,"\\textsterling":163,"\\textdagger":8224,"\\textdaggerdbl":8225,"":8211,"":8212,"":8216,"":8217,"":8220,"":8221,'"':8221,"\\ss":223,"\\ae":230,"\\oe":339,"\\AE":198,"\\OE":338,"\\O":216,"\\i":305,"\\j":567,"\\aa":229,"\\AA":197},i3e=/[\w!@*()-=+{}\[\]\\';:?/.,~<>`|$%#&^" ]/,R6,Um;$4e()?(R6=new RegExp("\\p{Letter}","u"),Um=new RegExp("[0-9\\p{Letter}]","u")):(R6=/[a-zA-Z]/,Um=/[\da-zA-Z]/);function H6(t,e,r="mord",n){e!==void 0&&(Im[t]={definitionType:"symbol",type:r,variant:n,codepoint:e},Sb[e]||(Sb[e]=t))}function wr(t,e,r){if(typeof t=="string"){for(let n=0;n<t.length;n++){let i=t.charAt(n);H6(i,i.codePointAt(0))}return}for(let[n,i,s,o]of t)H6(n,i,s??e,o??r)}function xW(t,e){for(let r=t;r<=e;r++)H6(String.fromCodePoint(r),r)}function s3e(t){var e;return(e=AE[t])!=null?e:null}function o3e(t,e){var r,n;if(e.length===0||e==="\\"||!e.startsWith("\\"))return[];let i=[];for(let o in _d)o.startsWith(e)&&!_d[o].infix&&i.push({match:o,frequency:(r=_d[o].frequency)!=null?r:0});for(let o in Im)o.startsWith(e)&&i.push({match:o,frequency:(n=Im[o].frequency)!=null?n:0});let s=e.substring(1);for(let o of Object.keys(t.options.macros))o.startsWith(s)&&i.push({match:"\\"+o,frequency:0});return i.sort((o,a)=>{var l,c;return o.frequency===a.frequency?o.match.length===a.match.length?o.match<a.match?-1:1:o.match.length-a.match.length:((l=a.frequency)!=null?l:0)-((c=o.frequency)!=null?c:0)}),i.map(o=>o.match)}function yL(t){let e="auto",r=t.match(/:([^=]+)/);return r&&(e=r[1].trim()),e}function kb(t){if(!t)return[];let e=[],r=t.split("]");if(r[0].startsWith("[")){e.push({isOptional:!0,type:yL(r[0].slice(1))});for(let n=1;n<=r.length;n++)e.push(...kb(r[n]))}else if(r=t.split("}"),r[0].startsWith("{")){e.push({isOptional:!1,type:yL(r[0].slice(1))});for(let n=1;n<=r.length;n++)e.push(...kb(r[n]))}return e}function bW(t){if(!t)return"";let e="",r=!0;for(let n of t)typeof n.value=="string"?e+=n.value:r=!1;return r?e:""}function wa(t,e,r){typeof t=="string"&&(t=[t]);let n={tabular:!0,rootOnly:!1,params:kb(e),createAtom:r};for(let i of t)AE[i]=n}function dE(t,e,r){var n;typeof t=="string"&&(t=[t]);let i={tabular:(n=r==null?void 0:r.tabular)!=null?n:!1,rootOnly:!0,params:[],createAtom:e};for(let s of t)AE[s]=i}function ee(t,e,r){var n,i;r||(r={});let s={definitionType:"function",params:kb(e),ifMode:r.ifMode,isFunction:(n=r.isFunction)!=null?n:!1,applyMode:r.applyMode,infix:(i=r.infix)!=null?i:!1,parse:r.parse,createAtom:r.createAtom,applyStyle:r.applyStyle,serialize:r.serialize,render:r.render};if(typeof t=="string")_d["\\"+t]=s;else for(let o of t)_d["\\"+o]=s}var e1;function hE(t){return e1||(e1=$6(n3e)),t?$6(D(D({},e1),t)):e1}function vL(t,e){var r,n,i,s;if(typeof t=="string"){let o=0,a=t;return/(^|[^\\])#1/.test(a)&&(o=1),/(^|[^\\])#2/.test(a)&&(o=2),/(^|[^\\])#3/.test(a)&&(o=3),/(^|[^\\])#4/.test(a)&&(o=4),/(^|[^\\])#5/.test(a)&&(o=5),/(^|[^\\])#6/.test(a)&&(o=6),/(^|[^\\])#7/.test(a)&&(o=7),/(^|[^\\])#8/.test(a)&&(o=8),/(^|[^\\])#9/.test(a)&&(o=9),{expand:(r=e==null?void 0:e.expand)!=null?r:!0,captureSelection:(n=e==null?void 0:e.captureSelection)!=null?n:!0,args:o,def:a}}return D({expand:(i=e==null?void 0:e.expand)!=null?i:!0,captureSelection:(s=e==null?void 0:e.captureSelection)!=null?s:!0,args:0},t)}function $6(t){if(!t)return{};let e={};for(let r of Object.keys(t)){let n=t[r];if(n==null)delete e[r];else if(typeof n=="object"&&"package"in n)for(let i of Object.keys(n.package))e[i]=vL(n.package[i],{expand:!n.primitive,captureSelection:n.captureSelection});else e[r]=vL(n)}return e}function Rr(t,e="math"){if(!t||t.length===0)return null;let r=null;if(t.startsWith("\\")){if(r=_d[t],r)return!r.ifMode||r.ifMode===e?r:null;e==="math"?r=Im[t]:id[t]&&(r={definitionType:"symbol",type:"mord",codepoint:id[t]})}else if(e==="math"){if(r=Im[t],!r&&t.length===1){let n=CW("math",t.codePointAt(0));return n.startsWith("\\")?N(D({},Rr(n,"math")),{command:n}):null}}else id[t]?r={definitionType:"symbol",type:"mord",codepoint:id[t]}:e==="text"&&(r={definitionType:"symbol",type:"mord",codepoint:t.codePointAt(0)});return r??null}function wW(t,e){if(!t.startsWith("\\"))return null;let r=t.slice(1);return e[r]}function CW(t,e){return e===void 0?"":t==="math"&&Sb[e]?Sb[e]:t==="text"&&Object.keys(id).find(n=>id[n]===e)||String.fromCodePoint(e)}var ki=[0,.68889,0,0,.72222],fc=[0,.68889,0,0,.66667],Q3=[0,.68889,0,0,.77778],t1=[0,.68889,0,0,.61111],xL=[.16667,.68889,0,0,.77778],tf=[0,.68889,0,0,.55556],Ge=[0,0,0,0,.25],bL=[0,.825,0,0,2.33334],wL=[0,.9,0,0,2.33334],r1=[0,.68889,0,0,.54028],R3=[-.03598,.46402,0,0,.5],Xr=[-.13313,.36687,0,0,1],n1=[.01354,.52239,0,0,1],CL=[.01354,.52239,0,0,1.11111],BL=[0,.54986,0,0,1],i1=[0,.69224,0,0,.5],H3=[0,.43056,0,0,1],Fa=[.08198,.58198,0,0,.77778],s1=[.19444,.69224,0,0,.41667],o1=[.1808,.675,0,0,1],_L=[.19444,.69224,0,0,.83334],SL=[.13667,.63667,0,0,1],kL=[-.064,.437,0,0,1.334],Ma=[.08167,.58167,0,0,.77778],rf=[0,.69224,0,0,.72222],$3=[0,.69224,0,0,.66667],a1=[-.13313,.36687,0,0,.77778],EL=[.06062,.54986,0,0,.77778],l1=[0,.69224,0,0,.77778],oA=[.25583,.75583,0,0,.77778],js=[.25142,.75726,0,0,.77778],aA=[.20576,.70576,0,0,.77778],Zi=[.30274,.79383,0,0,.77778],nf=[.22958,.72958,0,0,.77778],FL=[.1808,.675,0,0,.77778],Os=[.13667,.63667,0,0,.77778],Tn=[.13597,.63597,0,0,.77778],Ta=[.03517,.54986,0,0,.77778],lA=[0,.675,0,0,.77778],ML=[.19444,.69224,0,0,.61111],TL=[0,.54986,0,0,.76042],DL=[0,.54986,0,0,.66667],Da=[.0391,.5391,0,0,.77778],LL=[.03517,.54986,0,0,1.33334],jL=[.38569,.88569,0,0,.77778],c1=[.23222,.74111,0,0,.77778],OL=[.19444,.69224,0,0,.77778],NL=[0,.37788,0,0,.5],u1=[0,.54986,0,0,.72222],IL=[0,.69224,0,0,.83334],UL=[.11111,.69224,0,0,.66667],cA=[.26167,.75726,0,0,.77778],PL=[.48256,.98256,0,0,.77778],QL=[.28481,.79383,0,0,.77778],RL=[.08167,.58167,0,0,.22222],HL=[.08167,.58167,0,0,.38889],$L=[0,.43056,.04028,0,.66667],VL=[.41951,.91951,0,0,.77778],KL=[.24982,.74947,0,0,.38865],zL=[.08319,.58283,0,0,.75623],WL=[0,.10803,0,0,.27764],V3=[0,.47534,0,0,.50181],sf=[.18906,.47534,0,0,.50181],GL=[0,.69141,0,0,.50181],qL=[.24982,.74947,0,0,.27764],K3=[0,.69141,0,0,.21471],A1=[.25,.75,0,0,.44722],Ei=[0,.64444,0,0,.575],uA=[.08556,.58556,0,0,.89444],d1=[0,.69444,0,0,.89444],h1=[0,.68611,0,0,.9],z3=[0,.68611,0,0,.86944],La=[.25,.75,0,0,.575],f1=[.25,.75,0,0,.31944],pc=[0,.69444,0,0,.63889],AA=[0,.69444,0,0,.31944],XL=[0,.44444,0,0,.63889],YL=[0,.44444,0,0,.51111],ja=[0,.69444,0,0,.575],es=[.13333,.63333,0,0,.89444],JL=[0,.44444,0,0,.31944],ZL=[0,.69444,0,0,.86944],ej=[0,.68611,0,0,.69166],p1=[0,.68611,0,0,.83055],W3=[0,.68611,0,0,.89444],G3=[0,.69444,0,0,.60278],tj=[.19444,.69444,0,0,.51111],rj=[0,.69444,0,0,.83055],Ns=[-.10889,.39111,0,0,1.14999],nj=[.19444,.69444,0,0,.575],of=[.19444,.69444,0,0,1.14999],ij=[.19444,.69444,0,0,.70277],sj=[.05556,.75,0,0,.575],q3=[0,.68611,0,0,.95833],oj=[.08556,.58556,0,0,.76666],X3=[-.02639,.47361,0,0,.575],aj=[0,.44444,0,0,.89444],mc=[0,.55556,0,0,.76666],lj=[-.10889,.39111,0,0,.89444],Y3=[.00222,.50222,0,0,.89444],Oa=[.19667,.69667,0,0,.89444],cj=[.08556,.58556,0,0,1.14999],J3=[0,.69444,0,0,.70277],m1=[-.02778,.47222,0,0,.575],g1=[.25,.75,0,0,.51111],uj=[-.13889,.36111,0,0,1.14999],Aj=[.19444,.69444,0,0,1.02222],y1=[.12963,.69444,0,0,.89444],dj=[.19444,.69444,0,0,.44722],Na=[0,.64444,.13167,0,.59111],hj=[.19444,.64444,.13167,0,.59111],Z3=[0,.68611,.17208,0,.8961],fj=[.19444,.44444,.105,0,.53222],pj=[0,.44444,.085,0,.82666],mj=[0,.69444,.06709,0,.59111],v1=[0,.69444,.12945,0,.35555],gj=[0,.69444,0,0,.94888],eC=[0,.69444,.11472,0,.59111],yj=[0,.68611,.10778,0,.88555],vj=[0,.69444,.07939,0,.62055],x1=[0,.69444,.12417,0,.30667],Ia=[0,.64444,.13556,0,.51111],xj=[.19444,.64444,.13556,0,.51111],b1=[0,.68333,.16389,0,.74333],bj=[.19444,.43056,.08847,0,.46],wj=[0,.43056,.07514,0,.71555],Cj=[0,.69444,.06646,0,.51111],Bj=[0,.69444,0,0,.83129],_j=[0,.69444,.1225,0,.51111],Sj=[0,.68333,.09403,0,.76666],kj=[0,.68333,.11111,0,.76666],Ej=[0,.69444,.06961,0,.51444],Co=[0,.69444,0,0,.27778],dA=[.25,.75,0,0,.38889],Fi=[0,.64444,0,0,.5],gc=[0,.69444,0,0,.77778],yc=[0,.68333,0,0,.75],af=[0,.68333,0,0,.77778],Fj=[0,.68333,0,0,.68056],lf=[0,.68333,0,0,.72222],Bo=[.25,.75,0,0,.5],w1=[.25,.75,0,0,.27778],sr=[0,.69444,0,0,.5],hA=[0,.69444,0,0,.55556],tC=[0,.43056,0,0,.44445],cf=[0,.43056,0,0,.5],Mj=[.19444,.43056,0,0,.55556],Tj=[0,.43056,0,0,.55556],Mi=[.08333,.58333,0,0,.77778],Dj=[0,.43056,0,0,.27778],Lj=[0,.66786,0,0,.27778],jj=[0,.69444,0,0,.75],Oj=[0,.66786,0,0,.5],Nj=[0,.68333,0,0,.625],rC=[.19444,.69444,0,0,.44445],uf=[0,.69444,0,0,.72222],Ij=[.19444,.69444,0,0,.5],Af=[.19444,.69444,0,0,1],Uj=[.011,.511,0,0,1.126],nC=[.19444,.69444,0,0,.61111],iC=[.05556,.75,0,0,.5],Pj=[0,.68333,0,0,.83334],Qj=[.0391,.5391,0,0,.66667],sC=[-.05555,.44445,0,0,.5],Rj=[0,.43056,0,0,.77778],vc=[0,.55556,0,0,.66667],C1=[-.03625,.46375,0,0,.77778],Hj=[-.01688,.48312,0,0,.77778],$j=[.0391,.5391,0,0,1],Ua=[0,.69444,0,0,.61111],B1=[-.03472,.46528,0,0,.5],_1=[.25,.75,0,0,.44445],Vj=[-.14236,.35764,0,0,1],S1=[.244,.744,0,0,.412],Kj=[.19444,.69444,0,0,.88889],k1=[.12963,.69444,0,0,.77778],zj=[.19444,.69444,0,0,.38889],Wj=[.011,.511,0,0,1.638],Gj=[.19444,.69444,0,0,0],E1=[0,.44444,0,0,.575],df=[.19444,.44444,0,0,.575],qj=[0,.68611,0,0,.75555],Xj=[0,.69444,0,0,.66759],Yj=[0,.68611,0,0,.80555],Jj=[0,.68611,.08229,0,.98229],Zj=[0,.68611,0,0,.76666],eO=[0,.44444,0,0,.58472],tO=[.19444,.44444,0,0,.6118],hf=[.19444,.43056,0,0,.5],rO=[0,.68333,.02778,.08334,.76278],nO=[0,.68333,.08125,.05556,.83125],iO=[0,.43056,0,.05556,.48472],sO=[.19444,.43056,0,.08334,.51702],oO=[.25,.75,0,0,.42778],jr=[0,.69444,0,0,.55],_o=[0,.69444,0,0,.73334],Pa=[0,.69444,0,0,.79445],aO=[0,.69444,0,0,.51945],oC=[0,.69444,0,0,.70278],lO=[0,.69444,0,0,.76389],cO=[.25,.75,0,0,.34306],aC=[0,.69444,0,0,.56111],uO=[0,.69444,0,0,.25556],AO=[.19444,.45833,0,0,.56111],dO=[0,.45833,0,0,.56111],F1=[0,.69444,0,0,.30556],hO=[0,.69444,0,0,.58056],fO=[0,.69444,0,0,.67223],lC=[0,.69444,0,0,.85556],cC=[0,.69444,0,0,.55834],Is=[0,.65556,.11156,0,.5],uC=[0,.69444,.08094,0,.70834],AC=[.17014,0,0,0,.44445],pO=[0,.69444,.0799,0,.5],mO=[0,.69444,0,0,.73752],gO=[0,.69444,.09205,0,.5],yO=[0,.69444,.09031,0,.77778],dC=[0,.69444,.07816,0,.27778],vO=[0,.69444,.00316,0,.5],xO=[.19444,.69444,0,0,.83334],bO=[.05556,.75,0,0,.83334],wO=[0,.75,0,0,.5],CO=[.125,.08333,0,0,.27778],BO=[0,.08333,0,0,.27778],Us=[0,.65556,0,0,.5],hC=[0,.69444,0,0,.47222],So=[0,.69444,0,0,.66667],_O=[0,.69444,0,0,.59722],fC=[0,.69444,0,0,.54167],pC=[0,.69444,0,0,.70834],SO=[.25,.75,0,0,.28889],mC=[0,.69444,0,0,.51667],kO=[0,.44444,0,0,.44445],EO=[.19444,.44444,0,0,.51667],FO=[0,.44444,0,0,.38333],MO=[0,.44444,0,0,.51667],TO=[0,.69444,0,0,.83334],DO=[.35001,.85,0,0,.45834],LO=[.35001,.85,0,0,.57778],jO=[.35001,.85,0,0,.41667],OO=[.35001,.85,0,0,.58334],M1=[0,.72222,0,0,.55556],NO=[1e-5,.6,0,0,.66667],IO=[1e-5,.6,0,0,.77778],UO=[.25001,.75,0,0,.94445],PO=[.306,.805,.19445,0,.47222],QO=[.30612,.805,.19445,0,.47222],fA=[.25001,.75,0,0,.83334],pA=[.35001,.85,0,0,.47222],gC=[.25001,.75,0,0,1.11111],RO=[.65002,1.15,0,0,.59722],HO=[.65002,1.15,0,0,.81111],$O=[.65002,1.15,0,0,.47222],VO=[.65002,1.15,0,0,.66667],T1=[0,.75,0,0,1],KO=[.55001,1.05,0,0,1.27778],zO=[.862,1.36,.44445,0,.55556],WO=[.86225,1.36,.44445,0,.55556],mA=[.55001,1.05,0,0,1.11111],D1=[.65002,1.15,0,0,.52778],GO=[.65002,1.15,0,0,.61111],yC=[.55001,1.05,0,0,1.51112],qO=[.95003,1.45,0,0,.73611],XO=[.95003,1.45,0,0,1.04445],YO=[.95003,1.45,0,0,.52778],L1=[.95003,1.45,0,0,.75],j1=[0,.75,0,0,1.44445],O1=[.95003,1.45,0,0,.58334],JO=[1.25003,1.75,0,0,.79167],ZO=[1.25003,1.75,0,0,1.27778],eN=[1.25003,1.75,0,0,.58334],N1=[1.25003,1.75,0,0,.80556],I1=[0,.825,0,0,1.8889],U1=[1.25003,1.75,0,0,.63889],P1=[.64502,1.155,0,0,.875],tN=[1e-5,.6,0,0,.875],vC=[-99e-5,.601,0,0,.66667],Q1=[.64502,1.155,0,0,.66667],rN=[1e-5,.9,0,0,.88889],nN=[.65002,1.15,0,0,.88889],iN=[.90001,0,0,0,.88889],sN=[-.00499,.605,0,0,1.05556],R1=[0,.12,0,0,.45],me=[0,.61111,0,0,.525],ts=[.08333,.69444,0,0,.525],oN=[-.08056,.53055,0,0,.525],aN=[-.05556,.55556,0,0,.525],fn=[0,.43056,0,0,.525],ff=[.22222,.43056,0,0,.525],lN=[0,0,0,0,.525],a3e={"AMS-Regular":{32:Ge,65:ki,66:fc,67:ki,68:ki,69:fc,70:t1,71:Q3,72:Q3,73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:Q3,76:fc,77:[0,.68889,0,0,.94445],78:ki,79:xL,80:t1,81:xL,82:ki,83:tf,84:fc,85:ki,86:ki,87:[0,.68889,0,0,1],88:ki,89:ki,90:fc,107:tf,160:Ge,165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:tf,295:r1,710:bL,732:wL,770:bL,771:wL,989:Ma,1008:$L,8245:[0,.54986,0,0,.275],8463:r1,8487:ki,8498:tf,8502:fc,8503:[0,.68889,0,0,.44445],8504:fc,8513:[0,.68889,0,0,.63889],8592:R3,8594:R3,8602:Xr,8603:Xr,8606:n1,8608:n1,8610:CL,8611:CL,8619:BL,8620:BL,8621:[-.13313,.37788,0,0,1.38889],8622:Xr,8624:i1,8625:i1,8630:H3,8631:H3,8634:Fa,8635:Fa,8638:s1,8639:s1,8642:s1,8643:s1,8644:o1,8646:o1,8647:o1,8648:_L,8649:o1,8650:_L,8651:n1,8652:n1,8653:Xr,8654:Xr,8655:Xr,8666:SL,8667:SL,8669:[-.13313,.37788,0,0,1],8672:kL,8674:kL,8705:[0,.825,0,0,.5],8708:tf,8709:Ma,8717:[0,.43056,0,0,.42917],8722:R3,8724:[.08198,.69224,0,0,.77778],8726:Ma,8733:l1,8736:rf,8737:rf,8738:[.03517,.52239,0,0,.72222],8739:RL,8740:[.25142,.74111,0,0,.27778],8741:HL,8742:[.25142,.74111,0,0,.5],8756:$3,8757:$3,8764:a1,8765:[-.13313,.37788,0,0,.77778],8769:a1,8770:C1,8774:Zi,8776:Hj,8778:Ma,8782:EL,8783:EL,8785:Fa,8786:Fa,8787:Fa,8790:l1,8791:nf,8796:[.08198,.91667,0,0,.77778],8806:oA,8807:oA,8808:js,8809:js,8812:[.25583,.75583,0,0,.5],8814:aA,8815:aA,8816:Zi,8817:Zi,8818:nf,8819:nf,8822:FL,8823:FL,8828:Os,8829:Os,8830:nf,8831:nf,8832:aA,8833:aA,8840:Zi,8841:Zi,8842:Tn,8843:Tn,8847:Ta,8848:Ta,8858:Fa,8859:Fa,8861:Fa,8862:lA,8863:lA,8864:lA,8865:lA,8872:[0,.69224,0,0,.61111],8873:rf,8874:[0,.69224,0,0,.88889],8876:t1,8877:t1,8878:ki,8879:ki,8882:Ta,8883:Ta,8884:Os,8885:Os,8888:[0,.54986,0,0,1.11111],8890:Mj,8891:ML,8892:ML,8901:[0,.54986,0,0,.27778],8903:Ma,8905:Ma,8906:Ma,8907:l1,8908:l1,8909:[-.03598,.46402,0,0,.77778],8910:TL,8911:TL,8912:Ta,8913:Ta,8914:DL,8915:DL,8916:$3,8918:Da,8919:Da,8920:LL,8921:LL,8922:jL,8923:jL,8926:Os,8927:Os,8928:Zi,8929:Zi,8934:c1,8935:c1,8936:c1,8937:c1,8938:aA,8939:aA,8940:Zi,8941:Zi,8994:OL,8995:OL,9416:[.15559,.69224,0,0,.90222],9484:i1,9488:i1,9492:NL,9496:NL,9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:lA,9633:lA,9650:u1,9651:u1,9654:Ta,9660:u1,9661:u1,9664:Ta,9674:UL,9733:[.19444,.69224,0,0,.94445],10003:IL,10016:IL,10731:UL,10846:[.19444,.75583,0,0,.61111],10877:Os,10878:Os,10885:oA,10886:oA,10887:Tn,10888:Tn,10889:cA,10890:cA,10891:PL,10892:PL,10901:Os,10902:Os,10933:js,10934:js,10935:cA,10936:cA,10937:cA,10938:cA,10949:oA,10950:oA,10955:QL,10956:QL,57350:RL,57351:HL,57352:Ma,57353:$L,57356:js,57357:js,57358:VL,57359:Zi,57360:Zi,57361:VL,57366:js,57367:js,57368:js,57369:js,57370:Tn,57371:Tn},"Caligraphic-Regular":{32:Ge,65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:Ge},"Fraktur-Regular":{32:Ge,33:[0,.69141,0,0,.29574],34:K3,38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:KL,41:KL,42:[0,.62119,0,0,.27764],43:zL,44:WL,45:zL,46:WL,47:[.24982,.74947,0,0,.50181],48:V3,49:V3,50:V3,51:sf,52:sf,53:sf,54:GL,55:sf,56:GL,57:sf,58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:qL,93:qL,94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:Ge,8216:K3,8217:K3,58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:Ge,33:[0,.69444,0,0,.35],34:G3,35:[.19444,.69444,0,0,.95833],36:sj,37:[.05556,.75,0,0,.95833],38:d1,39:AA,40:A1,41:A1,42:[0,.75,0,0,.575],43:es,44:[.19444,.15556,0,0,.31944],45:FO,46:[0,.15556,0,0,.31944],47:La,48:Ei,49:Ei,50:Ei,51:Ei,52:Ei,53:Ei,54:Ei,55:Ei,56:Ei,57:Ei,58:JL,59:[.19444,.44444,0,0,.31944],60:uA,61:lj,62:uA,63:[0,.69444,0,0,.54305],64:d1,65:z3,66:[0,.68611,0,0,.81805],67:p1,68:[0,.68611,0,0,.88194],69:qj,70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:h1,73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:ej,77:[0,.68611,0,0,1.09166],78:h1,79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:z3,89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:f1,92:La,93:f1,94:ja,95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:pc,99:YL,100:pc,101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:pc,105:AA,106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:AA,109:[0,.44444,0,0,.95833],110:XL,111:E1,112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:XL,118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:YL,123:La,124:f1,125:La,126:[.35,.34444,0,0,.575],160:Ge,163:[0,.69444,0,0,.86853],168:ja,172:[0,.44444,0,0,.76666],176:ZL,177:es,184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:es,216:[.04861,.73472,0,0,.89444],223:_O,230:[0,.44444,0,0,.83055],247:es,248:[.09722,.54167,0,0,.575],305:JL,338:[0,.68611,0,0,1.16944],339:aj,567:[.19444,.44444,0,0,.35139],710:ja,711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:ja,715:ja,728:ja,729:AA,730:ZL,732:ja,733:ja,915:ej,916:q3,920:W3,923:Yj,926:Zj,928:h1,931:p1,933:W3,934:p1,936:W3,937:p1,8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:AA,8217:AA,8220:G3,8221:G3,8224:tj,8225:tj,8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:Xj,8465:rj,8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:rj,8501:J3,8592:Ns,8593:nj,8594:Ns,8595:nj,8596:Ns,8597:La,8598:of,8599:of,8600:of,8601:of,8636:Ns,8637:Ns,8640:Ns,8641:Ns,8656:Ns,8657:ij,8658:Ns,8659:ij,8660:Ns,8661:[.25,.75,0,0,.70277],8704:pc,8706:[0,.69444,.06389,0,.62847],8707:pc,8709:sj,8711:q3,8712:oj,8715:oj,8722:es,8723:es,8725:La,8726:La,8727:m1,8728:X3,8729:X3,8730:[.18,.82,0,0,.95833],8733:aj,8734:[0,.44444,0,0,1.14999],8736:rf,8739:f1,8741:La,8743:mc,8744:mc,8745:mc,8746:mc,8747:[.19444,.69444,.12778,0,.56875],8764:lj,8768:[.19444,.69444,0,0,.31944],8771:Y3,8776:[.02444,.52444,0,0,.89444],8781:Y3,8801:Y3,8804:Oa,8805:Oa,8810:cj,8811:cj,8826:uA,8827:uA,8834:uA,8835:uA,8838:Oa,8839:Oa,8846:mc,8849:Oa,8850:Oa,8851:mc,8852:mc,8853:es,8854:es,8855:es,8856:es,8857:es,8866:J3,8867:J3,8868:d1,8869:d1,8900:X3,8901:[-.02639,.47361,0,0,.31944],8902:m1,8968:g1,8969:g1,8970:g1,8971:g1,8994:uj,8995:uj,9651:Aj,9657:m1,9661:Aj,9667:m1,9711:of,9824:y1,9825:y1,9826:y1,9827:y1,9837:[0,.75,0,0,.44722],9838:dj,9839:dj,10216:A1,10217:A1,10815:h1,10927:Oa,10928:Oa,57376:Gj},"Main-BoldItalic":{32:Ge,33:[0,.69444,.11417,0,.38611],34:vj,35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:v1,40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:Na,49:Na,50:Na,51:Na,52:hj,53:Na,54:Na,55:hj,56:Na,57:Na,58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:eC,64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:Z3,73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:Z3,79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:mj,95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:fj,104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:fj,114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:Ge,168:[0,.69444,.11473,0,.59111],176:gj,184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:pj,248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:pj,567:[.19444,.44444,.04611,0,.385],710:mj,711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:v1,730:gj,732:eC,733:eC,915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:Z3,931:[0,.68611,.11431,0,.82666],933:yj,934:[0,.68611,.05632,0,.82666],936:yj,937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:v1,8217:v1,8220:[0,.69444,.16772,0,.62055],8221:vj},"Main-Italic":{32:Ge,33:x1,34:Ej,35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:x1,40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:Ia,49:Ia,50:Ia,51:Ia,52:xj,53:Ia,54:Ia,55:xj,56:Ia,57:Ia,58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:_j,64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:b1,73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:b1,79:Sj,80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:b1,86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:Cj,95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:bj,104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:bj,114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:Ge,168:[0,.66786,.10474,0,.51111],176:Bj,184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:wj,248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:wj,710:Cj,711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:Bj,732:[0,.66786,.11585,0,.51111],733:_j,915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:Sj,923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:b1,931:[0,.68333,.12028,0,.71555],933:kj,934:[0,.68333,.05986,0,.71555],936:kj,937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:x1,8217:x1,8220:[0,.69444,.1685,0,.51444],8221:Ej,8463:r1},"Main-Regular":{32:Ge,33:Co,34:sr,35:xO,36:iC,37:bO,38:gc,39:Co,40:dA,41:dA,42:wO,43:Mi,44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:Bo,48:Fi,49:Fi,50:Fi,51:Fi,52:Fi,53:Fi,54:Fi,55:Fi,56:Fi,57:Fi,58:Dj,59:[.19444,.43056,0,0,.27778],60:Da,61:a1,62:Da,63:hC,64:gc,65:yc,66:[0,.68333,0,0,.70834],67:lf,68:[0,.68333,0,0,.76389],69:Fj,70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:yc,73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:af,76:Nj,77:[0,.68333,0,0,.91667],78:yc,79:af,80:Fj,81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:lf,85:yc,86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:yc,89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:w1,92:Bo,93:w1,94:sr,95:[.31,.12056,.02778,0,.5],97:cf,98:hA,99:tC,100:hA,101:tC,102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:hA,105:Lj,106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:Co,109:[0,.43056,0,0,.83334],110:Tj,111:cf,112:Mj,113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:Tj,118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:tC,123:Bo,124:w1,125:Bo,126:[.35,.31786,0,0,.5],160:Ge,163:[0,.69444,0,0,.76909],167:rC,168:Oj,172:[0,.43056,0,0,.66667],176:jj,177:Mi,182:nC,184:AC,198:[0,.68333,0,0,.90278],215:Mi,216:[.04861,.73194,0,0,.77778],223:sr,230:[0,.43056,0,0,.72222],247:Mi,248:[.09722,.52778,0,0,.5],305:Dj,338:[0,.68333,0,0,1.01389],339:Rj,567:[.19444,.43056,0,0,.30556],710:sr,711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:sr,715:sr,728:sr,729:Lj,730:jj,732:Oj,733:sr,915:Nj,916:Pj,920:af,923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:yc,931:lf,933:af,934:lf,936:af,937:lf,8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:Co,8217:Co,8220:sr,8221:sr,8224:rC,8225:rC,8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:r1,8465:uf,8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:uf,8501:Ua,8592:Xr,8593:Ij,8594:Xr,8595:Ij,8596:Xr,8597:Bo,8598:Af,8599:Af,8600:Af,8601:Af,8614:[.011,.511,0,0,1],8617:Uj,8618:Uj,8636:Xr,8637:Xr,8640:Xr,8641:Xr,8652:[.011,.671,0,0,1],8656:Xr,8657:nC,8658:Xr,8659:nC,8660:Xr,8661:[.25,.75,0,0,.61111],8704:hA,8706:[0,.69444,.05556,.08334,.5309],8707:hA,8709:iC,8711:Pj,8712:Qj,8715:Qj,8722:Mi,8723:Mi,8725:Bo,8726:Bo,8727:B1,8728:sC,8729:sC,8730:[.2,.8,0,0,.83334],8733:Rj,8734:H3,8736:rf,8739:w1,8741:Bo,8743:vc,8744:vc,8745:vc,8746:vc,8747:[.19444,.69444,.11111,0,.41667],8764:a1,8768:[.19444,.69444,0,0,.27778],8771:C1,8773:[-.022,.589,0,0,1],8776:Hj,8781:C1,8784:[-.133,.67,0,0,.778],8801:C1,8804:Tn,8805:Tn,8810:$j,8811:$j,8826:Da,8827:Da,8834:Da,8835:Da,8838:Tn,8839:Tn,8846:vc,8849:Tn,8850:Tn,8851:vc,8852:vc,8853:Mi,8854:Mi,8855:Mi,8856:Mi,8857:Mi,8866:Ua,8867:Ua,8868:gc,8869:gc,8872:[.249,.75,0,0,.867],8900:sC,8901:[-.05555,.44445,0,0,.27778],8902:B1,8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:_1,8969:_1,8970:_1,8971:_1,8994:Vj,8995:Vj,9136:S1,9137:S1,9651:Kj,9657:B1,9661:Kj,9667:B1,9711:Af,9824:k1,9825:k1,9826:k1,9827:k1,9837:[0,.75,0,0,.38889],9838:zj,9839:zj,10216:dA,10217:dA,10222:S1,10223:S1,10229:[.011,.511,0,0,1.609],10230:Wj,10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:Wj,10815:yc,10927:Tn,10928:Tn,57376:Gj},"Math-BoldItalic":{32:Ge,48:E1,49:E1,50:E1,51:df,52:df,53:df,54:Ei,55:df,56:Ei,57:df,65:z3,66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:Jj,73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:qj,77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:Xj,105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:eO,112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:Ge,915:[0,.68611,.15972,0,.65694],916:q3,920:[0,.68611,.03194,0,.86722],923:Yj,926:[0,.68611,.07458,0,.84125],928:Jj,931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:Zj,936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:eO,960:[0,.44444,.03704,0,.68241],961:tO,962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:tO,1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:Ge,48:cf,49:cf,50:cf,51:hf,52:hf,53:hf,54:Fi,55:hf,56:Fi,57:hf,65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:nO,73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:rO,80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:iO,112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:Ge,915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:rO,923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:nO,931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:iO,960:[0,.43056,.03588,0,.57003],961:sO,962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:sO,1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:Ge,33:[0,.69444,0,0,.36667],34:cC,35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:F1,40:oO,41:oO,42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:jr,49:jr,50:jr,51:jr,52:jr,53:jr,54:jr,55:jr,56:jr,57:jr,58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:aO,64:_o,65:_o,66:_o,67:oC,68:Pa,69:[0,.69444,0,0,.64167],70:Ua,71:_o,72:Pa,73:[0,.69444,0,0,.33056],74:aO,75:lO,76:hO,77:[0,.69444,0,0,.97778],78:Pa,79:Pa,80:oC,81:[.10556,.69444,0,0,.79445],82:oC,83:Ua,84:_o,85:lO,86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:_o,89:[0,.69444,.0275,0,.73334],90:fO,91:cO,93:cO,94:jr,95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:aC,99:[0,.45833,0,0,.48889],100:aC,101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:aC,105:uO,106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:uO,109:[0,.45833,0,0,.86667],110:dO,111:[0,.45833,0,0,.55],112:AO,113:AO,114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:dO,118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:Ge,168:jr,176:_o,180:jr,184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:jr,711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:jr,729:F1,730:_o,732:jr,733:jr,915:hO,916:[0,.69444,0,0,.91667],920:lC,923:fO,926:_o,928:Pa,931:Pa,933:lC,934:Pa,936:lC,937:Pa,8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:F1,8217:F1,8220:cC,8221:cC},"SansSerif-Italic":{32:Ge,33:[0,.69444,.05733,0,.31945],34:vO,35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:dC,40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:CO,45:[0,.44444,.01946,0,.33333],46:BO,47:[.25,.75,.13164,0,.5],48:Is,49:Is,50:Is,51:Is,52:Is,53:Is,54:Is,55:Is,56:Is,57:Is,58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:So,66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:uC,73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:fC,77:[0,.69444,.08094,0,.875],78:uC,79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:pO,95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:Ge,168:[0,.67937,.06385,0,.5],176:mO,184:AC,305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:pO,711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:gO,715:sr,728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:mO,732:[0,.67659,.08826,0,.5],733:gO,915:[0,.69444,.13372,0,.54167],916:TO,920:[0,.69444,.07555,0,.77778],923:Ua,926:[0,.69444,.12816,0,.66667],928:uC,931:[0,.69444,.11983,0,.72222],933:yO,934:[0,.69444,.04603,0,.72222],936:yO,937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:dC,8217:dC,8220:[0,.69444,.14205,0,.5],8221:vO},"SansSerif-Regular":{32:Ge,33:[0,.69444,0,0,.31945],34:sr,35:xO,36:iC,37:bO,38:[0,.69444,0,0,.75834],39:Co,40:dA,41:dA,42:wO,43:Mi,44:CO,45:[0,.44444,0,0,.33333],46:BO,47:Bo,48:Us,49:Us,50:Us,51:Us,52:Us,53:Us,54:Us,55:Us,56:Us,57:Us,58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:hC,64:So,65:So,66:So,67:pc,68:[0,.69444,0,0,.72223],69:_O,70:[0,.69444,0,0,.56945],71:So,72:pC,73:Co,74:hC,75:[0,.69444,0,0,.69445],76:fC,77:[0,.69444,0,0,.875],78:pC,79:[0,.69444,0,0,.73611],80:pc,81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:hA,84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:So,89:[0,.69444,.025,0,.66667],90:Ua,91:SO,93:SO,94:sr,95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:mC,99:kO,100:mC,101:kO,102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:mC,105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:MO,111:[0,.44444,0,0,.5],112:EO,113:EO,114:[0,.44444,.01389,0,.34167],115:FO,116:[0,.57143,0,0,.36111],117:MO,118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:Ge,168:[0,.67937,0,0,.5],176:So,184:AC,305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:sr,711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:sr,715:sr,728:sr,729:[0,.67937,0,0,.27778],730:So,732:[0,.67659,0,0,.5],733:sr,915:fC,916:TO,920:gc,923:Ua,926:So,928:pC,931:uf,933:gc,934:uf,936:gc,937:uf,8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:Co,8217:Co,8220:sr,8221:sr},"Script-Regular":{32:Ge,65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:Ge},"Size1-Regular":{32:Ge,40:DO,41:DO,47:LO,91:jO,92:LO,93:jO,123:OO,125:OO,160:Ge,710:M1,732:M1,770:M1,771:M1,8214:[-99e-5,.601,0,0,.77778],8593:NO,8595:NO,8657:IO,8659:IO,8719:UO,8720:UO,8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:QO,8748:PO,8749:PO,8750:QO,8896:fA,8897:fA,8898:fA,8899:fA,8968:pA,8969:pA,8970:pA,8971:pA,9168:vC,10216:pA,10217:pA,10752:gC,10753:gC,10754:gC,10756:fA,10758:fA},"Size2-Regular":{32:Ge,40:RO,41:RO,47:HO,91:$O,92:HO,93:$O,123:VO,125:VO,160:Ge,710:T1,732:T1,770:T1,771:T1,8719:KO,8720:KO,8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:WO,8748:zO,8749:zO,8750:WO,8896:mA,8897:mA,8898:mA,8899:mA,8968:D1,8969:D1,8970:D1,8971:D1,10216:GO,10217:GO,10752:yC,10753:yC,10754:yC,10756:mA,10758:mA},"Size3-Regular":{32:Ge,40:qO,41:qO,47:XO,91:YO,92:XO,93:YO,123:L1,125:L1,160:Ge,710:j1,732:j1,770:j1,771:j1,8730:[.95003,1.45,0,0,1],8968:O1,8969:O1,8970:O1,8971:O1,10216:L1,10217:L1},"Size4-Regular":{32:Ge,40:JO,41:JO,47:ZO,91:eN,92:ZO,93:eN,123:N1,125:N1,160:Ge,710:I1,732:I1,770:I1,771:I1,8730:[1.25003,1.75,0,0,1],8968:U1,8969:U1,8970:U1,8971:U1,9115:P1,9116:tN,9117:P1,9118:P1,9119:tN,9120:P1,9121:Q1,9122:vC,9123:Q1,9124:Q1,9125:vC,9126:Q1,9127:rN,9128:nN,9129:iN,9130:[0,.3,0,0,.88889],9131:rN,9132:nN,9133:iN,9143:[.88502,.915,0,0,1.05556],10216:N1,10217:N1,57344:sN,57345:sN,57680:R1,57681:R1,57682:R1,57683:R1},"Typewriter-Regular":{32:lN,33:me,34:me,35:me,36:ts,37:ts,38:me,39:me,40:ts,41:ts,42:[0,.52083,0,0,.525],43:oN,44:[.13889,.125,0,0,.525],45:oN,46:[0,.125,0,0,.525],47:ts,48:me,49:me,50:me,51:me,52:me,53:me,54:me,55:me,56:me,57:me,58:fn,59:[.13889,.43056,0,0,.525],60:aN,61:[-.19549,.41562,0,0,.525],62:aN,63:me,64:me,65:me,66:me,67:me,68:me,69:me,70:me,71:me,72:me,73:me,74:me,75:me,76:me,77:me,78:me,79:me,80:me,81:[.13889,.61111,0,0,.525],82:me,83:me,84:me,85:me,86:me,87:me,88:me,89:me,90:me,91:ts,92:ts,93:ts,94:me,95:[.09514,0,0,0,.525],96:me,97:fn,98:me,99:fn,100:me,101:fn,102:me,103:ff,104:me,105:me,106:[.22222,.61111,0,0,.525],107:me,108:me,109:fn,110:fn,111:fn,112:ff,113:ff,114:fn,115:fn,116:[0,.55358,0,0,.525],117:fn,118:fn,119:fn,120:fn,121:ff,122:fn,123:ts,124:ts,125:ts,126:me,127:me,160:lN,176:me,184:[.19445,0,0,0,.525],305:fn,567:ff,711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:me,715:me,728:me,730:me,770:me,771:me,776:me,915:me,916:me,920:me,923:me,926:me,928:me,931:me,933:me,934:me,936:me,937:me,8216:me,8217:me,8242:me,9251:[.11111,.21944,0,0,.525]}},l3e=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,Yd=10,ws=.25,c3e=1.2,Fl=.431,cN={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[Fl,Fl,Fl],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.5,.732,.925],num2:[.394,.384,.5],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[ws,ws,ws],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04]},V6=[0,.5,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],fE=5,uN={"":" ","":" ",:"A",:"C",:"D",:"o",:"a",:"c",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function sd(t,e){t===void 0&&(t=77);let r=a3e[e][t];if(r)return{defaultMetrics:!1,depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]};if(t===11034)return{defaultMetrics:!0,depth:.2,height:.8,italic:0,skew:0,width:.8};let n=String.fromCodePoint(t);if(n in uN)t=uN[n].codePointAt(0);else if(l3e.test(n))return t=77,{defaultMetrics:!0,depth:.2,height:.9,italic:0,skew:0,width:1};return{defaultMetrics:!0,depth:.2,height:.7,italic:0,skew:0,width:.8}}var K6={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],longrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],longleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],longleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],longrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],longleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xleftrightarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],longleftrightarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xRightleftharpoons:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],longRightleftharpoons:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xLeftrightharpoons:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716],longLeftrightharpoons:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},z6={widehat1:[1062,239,.24],widehat2:[2364,300,.3],widehat3:[2364,360,.36],widehat4:[2364,420,.42],widecheck1:[1062,239,.24],widecheck2:[2364,300,.3],widecheck3:[2364,360,.36],widecheck4:[2364,420,.42],widetilde1:[600,260,.26],widetilde2:[1033,286,.286],widetilde3:[2339,306,.306],widetilde4:[2340,312,.34],overarc:[1061,159,.3],underarc:[1061,159,.3]},AN={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,overarc:"M529 0c179 0 524 115 524 115 5 1 9 5 9 10 0 1-1 2-1 3l-4 22c-1 5-5 9-11 9h-2s-338-93-512-92c-174 0-513 92-513 92h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13 0 0 342-115 520-115z",underarc:`m 529 160
  c -179 0 -524 -115 -524 -115
  c -5 -1 -9 -5 -9 -10
  c 0 -1 1 -2 1 -3
  l 4 -22
  c 1 -5 5 -9 11 -9
  h 2
  s 338 93 512 92
  c 174 0 513 -92 513 -92
  h 2
  c 5 0 9 4 11 9
  l 5 22
  c 1 6 -2 12 -8 13
  c 0 0 -342 115 -520 115
  z
  `,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,widetilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,widetilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,widetilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,widetilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`};function u3e(t){if(z6[t]){let[c,u,A]=z6[t],h=`<span class="ML__stretchy" style="height:${A}em"><svg width="100%" height="${A}em" viewBox="0 0 ${c} ${u}" preserveAspectRatio="none" ><path fill="currentcolor" d="${AN[t]}"></path></svg></span>`;return`<span style="display:inline-block;height:${Math.floor(100*A/2)/100}em;min-width:0">${h}</span>`}let[e,r,n,i]=K6[t],s,o,a=n/1e3;e.length===3?(s=["slice-1-of-3","slice-2-of-3","slice-3-of-3"],o=["xMinYMin","xMidYMin","xMaxYMin"]):e.length===2?(s=["slice-1-of-2","slice-2-of-2"],o=["xMinYMin","xMaxYMin"]):(s=["slice-1-of-1"],o=[i]);let l=e.map((c,u)=>`<span class="${s[u]}" style=height:${a}em><svg width=400em height=${a}em viewBox="0 0 400000 ${n}" preserveAspectRatio="${o[u]} slice"><path fill="currentcolor" d="${AN[c]}"></path></svg></span>`).join("");return`<span style="display:inline-block;height:${a}em;min-width:${r}em;">${l}</span>`}function A3e(t){return K6[t]?K6[t][2]/1e3:z6[t][2]}function d3e(t){let e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n===13&&t.charCodeAt(r+1)===10&&(n=10,r++),(n===13||n===12)&&(n=10),n===0&&(n=65533),n>=55296&&n<=56319){let i=t.charCodeAt(r+1);if(i>=56320&&i<=57343){let s=n-55296,o=i-56320;n=2**16+s*2**10+o,r++}}e.push(n)}return e}var Uv=8205,h3e=[[Uv,1],[65038,2],[127995,5],[129456,4],[917536,96]],H1,dN=[127462,127487];function hN(t){var e;if(H1===void 0){H1={};for(let r of h3e)for(let n=r[0];n<=r[0]+r[1]-1;n++)H1[n]=!0}return(e=H1[t])!=null?e:!1}function f3e(t){return t>=dN[0]&&t<=dN[1]}function BW(t){if(/^[\u0020-\u00FF]*$/.test(t))return t;let e=[],r=d3e(t),n=0;for(;n<r.length;){let i=r[n++],s=r[n];if(s===Uv){let o=n-1;for(n+=2;r[n]===Uv;)n+=2;e.push(String.fromCodePoint(...r.slice(o,n-o+1)))}else if(hN(s)){let o=n-1;for(;hN(r[n]);)n+=r[n]===Uv?2:1;e.push(String.fromCodePoint(...r.slice(o,2*n-o-1)))}else f3e(i)?(n+=1,e.push(String.fromCodePoint(...r.slice(n-2,2)))):e.push(String.fromCodePoint(i))}return e}var p3e=class{constructor(t){this.obeyspaces=!1,this.pos=0,this.s=BW(t)}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(t){let e=typeof this.s=="string"?t.exec(this.s.slice(this.pos)):t.exec(this.s.slice(this.pos).join(""));return e!=null&&e[0]?(this.pos+=e[0].length,e[0]):""}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]+/)||this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]/))return"<space>";let t=this.get();if(t==="\\"){if(!this.end()){let e=this.match(/^[a-zA-Z\*]+/);return e?this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]*/):e=this.get(),"\\"+e}}else{if(t==="{")return"<{>";if(t==="}")return"<}>";if(t==="^"){if(this.peek()==="^"){this.get();let e=this.match(/^(\^(\^(\^(\^[\da-f])?[\da-f])?[\da-f])?[\da-f])?[\da-f]{2}/);if(e)return String.fromCodePoint(Number.parseInt(e.slice(e.lastIndexOf("^")+1),16))}return t}else if(t==="#"){if(!this.end()){let e=!1;if(/[\d?@]/.test(this.peek())&&(e=!0,this.pos+1<this.s.length)){let r=this.s[this.pos+1];e=/[^\dA-Za-z]/.test(r)}return e?"#"+this.get():"#"}}else if(t==="$")return this.peek()==="$"?(this.get(),"<$$>"):"<$>"}return t}};function m3e(t,e){var r,n,i,s;let o=[],a=t.next();if(a&&a!=="\\relax"){if(a==="\\noexpand")a=t.next(),a&&o.push(a);else if(a==="\\obeyspaces")t.obeyspaces=!0;else if(a==="\\bgroup")o.push("<{>");else if(a==="\\egroup")o.push("<}>");else if(a==="\\string"){if(a=t.next(),a)if(a.startsWith("\\"))for(let l of a)o.push(l==="\\"?"\\backslash":l);else a==="<{>"?o.push("\\{"):a==="<space>"?o.push("~"):a==="<}>"&&o.push("\\}")}else if(a==="\\csname"){for(;t.peek()==="<space>";)t.next();let l="",c=!1,u=[];do{if(u.length===0)if(/^#[\d?@]$/.test(t.peek())){let A=t.get().slice(1);u=Pm((n=(r=e==null?void 0:e(A))!=null?r:e==null?void 0:e("?"))!=null?n:"\\placeholder{}",e),a=u[0]}else a=t.next(),u=a?[a]:[];c=u.length===0,!c&&a==="\\endcsname"&&(c=!0,u.shift()),c||(c=a==="<$>"||a==="<$$>"||a==="<{>"||a==="<}>"||typeof a=="string"&&a.length>1&&a.startsWith("\\")),c||(l+=u.shift())}while(!c);l&&o.push("\\"+l),o.push(...u)}else if(a!=="\\endcsname")if(a.length>1&&a.startsWith("#")){let l=a.slice(1);o.push(...Pm((s=(i=e==null?void 0:e(l))!=null?i:e==null?void 0:e("?"))!=null?s:"\\placeholder{}",e))}else o.push(a)}return o}function Pm(t,e=null){if(!t)return[];let r=[],n="";for(let o of t.toString().split(/\r?\n/)){n&&r.push(n),n=" ";let a=o.match(/((?:\\%)|[^%])*/);a!==null&&r.push(a[0])}let i=new p3e(r.join("")),s=[];do s.push(...m3e(i,e));while(!i.end());return s}function Le(t){let e="",r=[];for(let n of t)n&&(e&&/^[a-zA-Z\*]/.test(n)&&r.push(e),r.push(n),/^\\[a-zA-Z]+\*?[\"\'][^\ ]+$/.test(n)&&r.push(" "),e=/\\[a-zA-Z]+\*?$/.test(n)?" ":"");return r.join("")}function ct(t,...e){return t.startsWith("\\"),e.length===0?t:Le([t,...e.map(r=>`{${r}}`)])}function xc(t){return Le(t.map(e=>{var r;return(r={"<space>":" ","<$$>":"$$","<$>":"$","<{>":"{","<}>":"}"}[e])!=null?r:e}))}var _W=class zf{constructor(e){zf._registry[e]=this}static createAtom(e,r,n){return zf._registry[e].createAtom(r,Rr(r,e),n)}static serialize(e,r){var n;if(!e||e.length===0)return"";if((n=r.skipStyles)!=null&&n){let i=[];for(let s of SW(e)){let o=zf._registry[s[0].mode];i.push(...o.serialize(s,r))}return Le(i)}return Le(y3e(e,r))}static getFont(e,r,n){return zf._registry[e].getFont(r,n)}};_W._registry={};var ci=_W;function SW(t){let e=[],r=[],n="NONE";for(let i of t)i.type!=="first"&&(i.mode!==n?(r.length>0&&e.push(r),r=[i],n=i.mode):r.push(i));return r.length>0&&e.push(r),e}function W6(t){if(!t||t.mode!=="math")return"";let{style:e}=t;return!e||!e.variantStyle?"":e.variantStyle==="bold"||e.variantStyle==="bolditalic"?"bold":""}function G6(t){if(!t)return"";let{style:e}=t;if(!e)return"";let r=e.variant;return r===void 0?"normal":(!["calligraphic","fraktur","double-struck","script","monospace","sans-serif"].includes(r)&&e.variantStyle&&e.variantStyle!=="up"&&(r+="-"+e.variantStyle),r)}function Ca(t,e){let r=[],n=[],i;for(let s of t){if(s.type==="first")continue;let o;e==="variant"?o=G6(s):e==="bold"?o=W6(s):o=s.style[e],o===i?n.push(s):(n.length>0&&r.push(n),n=[s],i=o)}return n.length>0&&r.push(n),r}function fN(t,e){var r;let{parent:n}=t[0],i=n==null?void 0:n.style.color,s=[];for(let o of SW(t)){let a=e.defaultMode;for(let l of Ca(o,"color")){let c=l[0].style,u=ci._registry[l[0].mode].serialize(l,N(D({},e),{defaultMode:a==="text"?"text":"math"}));!e.skipStyles&&c.color&&c.color!=="none"&&(!n||i!==c.color)?s.push(ct("\\textcolor",(r=c.verbatimColor)!=null?r:c.color,Le(u))):s.push(Le(u))}}return s}function g3e(t,e){let{parent:r}=t[0],n=r==null?void 0:r.style.backgroundColor;return Ca(t,"backgroundColor").map(i=>{var s;if(i.length>0||i[0].type!=="box"){let o=i[0].style;if(o.backgroundColor&&o.backgroundColor!=="none"&&(!r||n!==o.backgroundColor))return ct("\\colorbox",(s=o.verbatimBackgroundColor)!=null?s:o.backgroundColor,Le(fN(i,N(D({},e),{defaultMode:"text"}))))}return Le(fN(i,e))})}function y3e(t,e){if(t.length===0)return[];let{parent:r}=t[0],n=r==null?void 0:r.style.fontSize,i=[];for(let s of Ca(t,"fontSize")){let o=s[0].style.fontSize,a=g3e(s,e);a&&(o&&o!=="auto"&&(!r||n!==o)?i.push(["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][o],...a):i.push(...a))}return i}function q6(t){return t?{mord:"ord",mbin:"bin",mop:"op",mrel:"rel",mopen:"open",mclose:"close",mpunct:"punct",minner:"inner",spacing:"ignore",latex:"latex",composition:"inner",error:"inner",placeholder:"ord",supsub:"ignore"}[t]:void 0}function _0(t){if(t.length===0)return"ord";let e=q6(t[0].type),r=q6(t[t.length-1].type);return e&&e===r?e:"ord"}function pf(t,e){if(typeof t=="string")return t;if(typeof t=="number"){let r=Math.ceil(100*t)/100;return r===0?"0":r.toString()+(e??"")}return""}var oe=class kW{constructor(e,r){var n,i,s,o,a;if(typeof e=="number"?this.value=String.fromCodePoint(e):typeof e=="string"?this.value=e:Dr(e)?this.children=e.filter(c=>c!==null):e&&e instanceof kW&&(this.children=[e]),this.children)for(let c of this.children)c.parent=this;this.type=(n=r==null?void 0:r.type)!=null?n:"ignore",this.isSelected=(r==null?void 0:r.isSelected)===!0,r!=null&&r.caret&&(this.caret=r.caret),this.classes=(i=r==null?void 0:r.classes)!=null?i:"",this.isTight=(s=r==null?void 0:r.isTight)!=null?s:!1,r!=null&&r.attributes&&(this.attributes=r.attributes);let l=r==null?void 0:r.fontFamily;r!=null&&r.style&&this.value&&(l=(a=ci.getFont((o=r.mode)!=null?o:"math",this,N(D({variant:"normal"},r.style),{letterShapeStyle:r.letterShapeStyle})))!=null?a:void 0),l||(l="Main-Regular"),this._height=0,this._depth=0,this._width=0,this.hasExplicitWidth=!1,this.skew=0,this.italic=0,this.maxFontSize=0,this.scale=1,(r==null?void 0:r.maxFontSize)!==void 0&&(this.maxFontSize=r.maxFontSize),v3e(this,l)}set atomID(e){e===void 0||e.length===0||(this.id=e)}selected(e){if(this.isSelected!==e&&(this.isSelected=e,this.children))for(let r of this.children)r.selected(e)}setStyle(e,r,n){if(r===void 0)return;let i=pf(r,n);i.length>0&&(this.cssProperties||(this.cssProperties={}),this.cssProperties[e]=i)}setTop(e){Number.isFinite(e)&&Math.abs(e)>.01&&(this.cssProperties||(this.cssProperties={}),this.cssProperties.top=pf(e,"em"),this.height-=e,this.depth+=e)}get left(){var e;return(e=this.cssProperties)!=null&&e["margin-left"]?Number.parseFloat(this.cssProperties["margin-left"]):0}set left(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-left"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-left"]=pf(e,"em")))}set right(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-right"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-right"]=pf(e,"em")))}set bottom(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-bottom"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-bottom"]=pf(e,"em")))}get width(){return this._width*this.scale}set width(e){this._width=e,this.hasExplicitWidth=!0}set softWidth(e){}get height(){return this._height*this.scale}set height(e){this._height=e}get depth(){return this._depth*this.scale}set depth(e){this._depth=e}wrap(e){let r=e.parent;if(!r)return this;e.isPhantom&&this.setStyle("opacity",0);let n=e.color;n&&n!==r.color&&this.setStyle("color",n);let i=e.backgroundColor;this.isSelected&&(i=Y4e(i)),i&&i!==r.backgroundColor&&(this.setStyle("background-color",i),this.setStyle("display","inline-block"));let s=e.scalingFactor;return this.scale=s,this.skew*=s,this.italic*=s,this}toMarkup(){var e,r,n,i;let s=(e=this.value)!=null?e:"";if(this.children)for(let f of this.children)s+=f.toMarkup();let o="";if(this.svgBody)o=u3e(this.svgBody);else if(this.svgOverlay){o='<span style="',o+="display: inline-block;",o+=`height:${Math.floor(100*(this.height+this.depth))/100}em;`,o+=`vertical-align:${Math.floor(100*this.depth)/100}em;`,o+='">',o+=s,o+="</span>",o+='<svg style="position:absolute;overflow:visible;',o+=`height:${Math.floor(100*(this.height+this.depth))/100}em;`;let f=(r=this.cssProperties)==null?void 0:r.padding;f?(o+=`top:${f};`,o+=`left:${f};`,o+=`width:calc(100% - 2 * ${f} );`):o+="top:0;left:0;width:100%;",o+="z-index:2;",o+='"',this.svgStyle&&(o+=this.svgStyle),o+=` viewBox="0 0 ${Math.floor(100*this.width)/100} ${Math.floor(100*(this.height+this.depth))/100}"`,o+=`>${this.svgOverlay}</svg>`}let a=[],l=this.classes.split(" ");l.push((n={latex:"ML__raw-latex",placeholder:"ML__placeholder",error:"ML__error"}[this.type])!=null?n:""),this.caret==="latex"&&l.push("ML__latex-caret"),this.isSelected&&l.push("ML__selected");let c=l.length===1?l[0]:l.filter((f,p,m)=>f.length>0&&m.indexOf(f)===p).join(" ");if(c.length>0&&a.push(`class=${gA(`"${c}"`)}`),this.id&&a.push(` data-atom-id=${gA(this.id)}`),this.cssId&&a.push(` id=${gA(`"${this.cssId.replace(/ /g,"-")}"`)}`),this.attributes&&a.concat(Object.keys(this.attributes).map(f=>`${xC(f)}=${gA(this.attributes[f])}`)),this.htmlData){let f=this.htmlData.split(",");for(let p of f){let m=p.match(/([^=]+)=(.+$)/);if(m){let y=xC(m[1]);if(y)if(y==="href"){let g=new URL(m[2]);if(g.protocol!=="http:"&&g.protocol!=="https:")throw new Error(`Invalid URL: ${m[2]}`);a.push(`href="${m[2].replace(/"/g,"&quot;")}"`)}else a.push(`data-${y}=${gA(m[2])}`)}else{let y=xC(p);y&&a.push(`data-${y} `)}}}let u=(i=this.cssProperties)!=null?i:{};this.hasExplicitWidth&&u.width===void 0&&(u.width=`${Math.ceil(this._width*100)/100}em`);let A=Object.keys(u).map(f=>`${f}:${u[f]}`);if(this.scale!==void 0&&this.scale!==1&&(s.length>0||o.length>0)&&A.push(`font-size: ${Math.ceil(this.scale*1e4)/100}%`),this.htmlStyle)for(let f of this.htmlStyle.split(";")){let p=f.match(/([^:]+):(.+$)/);if(p){let m=p[1].trim().replace(/ /g,"-");m&&A.push(`${m}:${p[2]}`)}}A.length>0&&a.push(`style=${gA(A.join(";"))}`);let h="";return a.length>0||o.length>0?h=`<span ${a.join(" ")}>${s}${o}</span>`:h=s,this.caret==="text"?h+='<span class="ML__text-caret"></span>':this.caret==="math"&&(h+='<span class="ML__caret"></span>'),h}tryCoalesceWith(e){if(this.svgBody||!this.value||e.svgBody||!e.value)return!1;let r=this.children&&this.children.length>0,n=e.children&&e.children.length>0;if(r||n)return!1;if(e.cssProperties||this.cssProperties){for(let l of["border","border-left","border-right","border-right-width","left","margin","margin-left","margin-right","padding","position","width"])if(e.cssProperties&&l in e.cssProperties||this.cssProperties&&l in this.cssProperties)return!1}let i=this.cssProperties?Object.keys(this.cssProperties).length:0,s=e.cssProperties?Object.keys(e.cssProperties).length:0;if(i!==s)return!1;if(i>0){for(let l of Object.keys(this.cssProperties))if(this.cssProperties[l]!==e.cssProperties[l])return!1}let o=this.classes.trim().replace(/\s+/g," ").split(" "),a=e.classes.trim().replace(/\s+/g," ").split(" ");if(o.length!==a.length)return!1;o.sort(),a.sort();for(let[l,c]of o.entries())if(c==="ML__vertical-separator"||c!==a[l])return!1;return this.value+=e.value,this.height=Math.max(this.height,e.height),this.depth=Math.max(this.depth,e.depth),this._width=this._width+e._width,this.maxFontSize=Math.max(this.maxFontSize,e.maxFontSize),this.italic=e.italic,!0}};function X6(t){if(!t||t.length===0)return[];t[0].children=X6(t[0].children);let e=[t[0]];for(let r=1;r<t.length;r++)e[e.length-1].tryCoalesceWith(t[r])||(t[r].children=X6(t[r].children),e.push(t[r]));return e}function xw(t){return t.children&&(t.children=X6(t.children)),t}function bw(t,e){if(!t)return new oe(null,e);let r=new oe(null,{classes:"ML__strut",type:"ignore"});r.setStyle("height",Math.max(0,t.height),"em");let n=[r];if(t.depth!==0){let i=new oe(null,{classes:"ML__strut--bottom",type:"ignore"});i.setStyle("height",t.height+t.depth,"em"),i.setStyle("vertical-align",-t.depth,"em"),n.push(i)}return n.push(t),new oe(n,N(D({},e),{type:"lift"}))}function Pv(t){let e=A3e(t)/2,r=new oe(null,{maxFontSize:0});return r.height=e+.166,r.depth=e-.166,r.svgBody=t,r}function v3e(t,e){var r;if(t.type==="latex"){t.height=.9,t.depth=.2,t._width=1;return}if(t.value){t.height=-1/0,t.depth=-1/0,t._width=0,t.skew=-1/0,t.italic=-1/0;for(let n=0;n<t.value.length;n++){let i=sd(t.value.codePointAt(n),e);t.height=Math.max(t.height,i.height),t.depth=Math.max(t.depth,i.depth),t._width+=i.width,t.skew=i.skew,t.italic=i.italic}return}if(t.children&&t.children.length>0){let n=-1/0,i=-1/0,s=0;for(let o of t.children)o.height>n&&(n=o.height),o.depth>i&&(i=o.depth),s=Math.max(s,(r=o.maxFontSize)!=null?r:0);t.height=n,t.depth=i,t._width=t.children.reduce((o,a)=>o+a.width,0),t.maxFontSize=s}}function xC(t){if(t=t.trim().replace(/ /g,"-"),t.length===0)throw new Error("Invalid empty attribute name");if(/[\x20\x09\x0a\x0c\x0d"'>/=\x00-\x1f]/.test(t))throw new Error(`Invalid attribute name "${t}"`);return t}function gA(t){if(t=t.trim(),t.startsWith('"')&&t.endsWith('"')){if(/"/.test(t.slice(1,-1)))throw new Error(`Invalid attribute value: ${t}`);return t}if(t.startsWith("'")&&t.endsWith("'")){if(/'/.test(t.slice(1,-1)))throw new Error(`Invalid attribute value: ${t}`);return t}if(t.length===0)throw new Error("Invalid empty attribute value");return`"${t.replace(/"/g,"&quot;")}"`}function x3e(t){if("individualShift"in t){let e=t.individualShift,r=e[0];if(r==null)return[null,0];let n=[r],i=-r.shift-r.box.depth,s=i;for(let o=1;o<e.length;o++){let a=e[o],l=-a.shift-s-a.box.depth,c=l-(r.box.height+r.box.depth);s=s+l,n.push(c),n.push(a),r=a}return[n,i]}if("top"in t){let e=t.top;for(let r of t.children)e-=typeof r=="number"?r:r.box.height+r.box.depth;return[t.children,e]}else{if("bottom"in t)return[t.children,-t.bottom];if("firstBaseline"in t){let e=t.firstBaseline[0];if(typeof e=="number")throw new Error("First child must be an element.");return[t.firstBaseline,-e.box.depth]}else if("shift"in t){let e=t.children[0];if(typeof e=="number")throw new Error("First child must be an element.");return[t.children,-e.box.depth-t.shift]}}return[null,0]}function b3e(t){var e;let[r,n]=x3e(t);if(!r)return[[],0,0];let i=new oe(null,{classes:"ML__pstrut"}),s=0;for(let p of r)if(typeof p!="number"){let m=p.box;s=Math.max(s,m.maxFontSize,m.height)}s+=2,i.height=s,i.setStyle("height",s,"em");let o=[],a=n,l=n,c=n,u=0;for(let p of r){if(typeof p=="number")c+=p;else{let m=p.box,y=(e=p.classes)!=null?e:[],g=new oe([i,m],{classes:y.join(" "),style:p.style});m.setStyle("height",m.height+m.depth,"em"),m.setStyle("display","inline-block"),g.setStyle("top",-s-c-m.depth,"em"),p.marginLeft&&g.setStyle("margin-left",p.marginLeft,"em"),p.marginRight&&g.setStyle("margin-right",p.marginRight,"em"),o.push(g),c+=m.height+m.depth,u=Math.max(u,g.width)}a=Math.min(a,c),l=Math.max(l,c)}o.forEach(p=>{p.softWidth=u});let A=new oe(o,{classes:"ML__vlist"});if(A.softWidth=u,A.height=l,A.setStyle("height",l,"em"),a>=0)return[[new oe(A,{classes:"ML__vlist-r"})],l,-a];let h=new oe(new oe(null),{classes:"ML__vlist"});h.height=-a,h.setStyle("height",-a,"em");let f=new oe(8203,{classes:"ML__vlist-s",maxFontSize:0});return f.softWidth=0,f.height=0,f.depth=0,[[new oe([A,f],{classes:"ML__vlist-r"}),new oe(h,{classes:"ML__vlist-r"})],l,-a]}var rr=class extends oe{constructor(t,e){var r;let[n,i,s]=b3e(t);super(n.length===1?n[0]:n,{type:e==null?void 0:e.type,classes:((r=e==null?void 0:e.classes)!=null?r:"")+" ML__vlist-t"+(n.length===2?" ML__vlist-t2":"")}),this.height=i,this.depth=s,this.softWidth=n.reduce((o,a)=>Math.max(o,a.width),0)}};function w3e(t,e){var r,n,i,s,o;let a=t.metrics,l=new oe(e.base),c=(r=e.baseShift)!=null?r:0,u=(n=e.slant)!=null?n:0,A=0,h=0;e.above&&(A=(i=e.aboveShift)!=null?i:Math.max(a.bigOpSpacing1,a.bigOpSpacing3-e.above.depth)),e.below&&(h=(s=e.belowShift)!=null?s:Math.max(a.bigOpSpacing2,a.bigOpSpacing4-e.below.height));let f=null;if(e.below&&e.above){let p=a.bigOpSpacing5+e.below.height+e.below.depth+h+l.depth+c;f=new rr({bottom:p,children:[a.bigOpSpacing5,{box:e.below,marginLeft:-u,classes:["ML__center"]},h,{box:l,classes:["ML__center"]},A,{box:e.above,marginLeft:u,classes:["ML__center"]},a.bigOpSpacing5]}).wrap(t)}else if(e.below&&!e.above)f=new rr({top:l.height-c,children:[a.bigOpSpacing5,{box:e.below,marginLeft:-u,classes:["ML__center"]},h,{box:l,classes:["ML__center"]}]}).wrap(t);else if(!e.below&&e.above){let p=l.depth+c;f=new rr({bottom:p,children:[{box:l,classes:["ML__center"]},A,{box:e.above,marginLeft:u,classes:["ML__center"]},a.bigOpSpacing5]}).wrap(t)}else{let p=l.depth+c;f=new rr({bottom:p,children:[{box:l},a.bigOpSpacing5]}).wrap(t)}return new oe(f,{type:(o=e.type)!=null?o:"op"})}var pE=7,Eb=6,ww=5,Hc=4,Sd=3,ii=2,tu=1,Zr=0,Qa=class{constructor(t,e,r){this.id=t,this.sizeDelta=e,this.cramped=r;let n={"-4":2,"-3":1,0:0}[e];this.metrics=Object.keys(cN).reduce((i,s)=>N(D({},i),{[s]:cN[s][n]}),{})}getFontSize(t){return Math.max(1,t+this.sizeDelta)}get sup(){return Zs[[Zr,tu,Zr,tu,ii,Sd,ii,Sd][this.id]]}get sub(){return Zs[[Zr,Zr,Zr,Zr,ii,ii,ii,ii][this.id]]}get fracNum(){return Zs[[Zr,tu,Zr,tu,ii,Sd,Hc,ww][this.id]]}get fracDen(){return Zs[[Zr,Zr,Zr,Zr,ii,ii,Hc,Hc][this.id]]}get cramp(){return Zs[[Zr,Zr,ii,ii,Hc,Hc,Eb,Eb][this.id]]}get isTight(){return this.sizeDelta<0}},mf={7:new Qa(pE,0,!1),6:new Qa(Eb,0,!0),5:new Qa(ww,0,!1),4:new Qa(Hc,0,!0),3:new Qa(Sd,-3,!1),2:new Qa(ii,-3,!0),1:new Qa(tu,-4,!1),0:new Qa(Zr,-4,!0)},Zs=N(D({},mf),{displaystyle:mf[pE],textstyle:mf[ww],scriptstyle:mf[Sd],scriptscriptstyle:mf[tu]});function EW(t,e){var r;if(!t)return 0;let n={pt:1,mm:7227/2540,cm:7227/254,ex:35271/8192,px:3/4,em:Yd,bp:803/800,dd:1238/1157,pc:12,in:72.27,mu:10/18}[(r=t.unit)!=null?r:"pt"];if(Number.isFinite(e)){let i=10**e;return Math.round(t.dimension/Yd*n*i)/i}return t.dimension*n}function FW(t,e){if(t===null)return 0;let r=EW(t)/Yd;if(Number.isFinite(e)){let n=10**e;return Math.round(r*n)/n}return r}function bC(t){var e;return`${t.dimension}${(e=t.unit)!=null?e:"pt"}`}function C3e(t){let e=bC(t.glue);return t.grow&&t.grow.dimension!==0&&(e+=` plus ${bC(t.grow)}`),t.shrink&&t.shrink.dimension!==0&&(e+=` minus ${bC(t.shrink)}`),e}function Mr(t){var e,r;if(t==null)return null;let n="";if("dimension"in t&&(n=`${t.dimension}${(e=t.unit)!=null?e:"pt"}`),"glue"in t&&(n=C3e(t)),"number"in t)if(!("base"in t)||t.base==="decimal")n=Number(t.number).toString();else if(t.base==="alpha")n=`\`${String.fromCodePoint(t.number)}`;else{let i=Math.round(t.number)>>>0;t.base==="hexadecimal"?(n=Number(i).toString(16).toUpperCase(),i<=255?n=n.padStart(2,"0"):i<=65535?n=n.padStart(4,"0"):i<=16777215?n=n.padStart(6,"0"):n=n.padStart(8,"0"),n=`"${n}`):t.base==="octal"&&(n=Number(i).toString(8),i<=63?n=n.padStart(2,"0"):i<=30583?n=n.padStart(4,"0"):n=n.padStart(8,"0"),n=`'${n}`)}return"register"in t&&("factor"in t&&(t.factor===-1?n="-":t.factor!==1&&(n=Number(t.factor).toString())),"global"in t&&t.global&&(n+="\\global"),n+=`\\${t.register}`),"string"in t&&(n=t.string),(r=t.relax)!=null&&r&&(n+="\\relax"),n}function zs(t,e){return t==null?null:"number"in t?N(D({},t),{number:t.number*e}):"register"in t?"factor"in t&&t.factor?N(D({},t),{factor:t.factor*e}):N(D({},t),{factor:e}):"dimension"in t?N(D({},t),{dimension:t.dimension*e}):"glue"in t?t.shrink&&t.grow?{glue:zs(t.glue,e),shrink:zs(t.shrink,e),grow:zs(t.grow,e)}:t.shrink?{glue:zs(t.glue,e),shrink:zs(t.shrink,e)}:t.grow?{glue:zs(t.glue,e),grow:zs(t.grow,e)}:{glue:zs(t.glue,e)}:null}var B3e={"p@":{dimension:1},"z@":{dimension:0},maxdimen:{dimension:16383.99999},hfuzz:{dimension:.1},vfuzz:{dimension:.1},overfullrule:{dimension:5},hsize:{dimension:6.5,unit:"in"},vsize:{dimension:8.9,unit:"in"},parindent:{dimension:20},maxdepth:{dimension:4},splitmaxdepth:{register:"maxdimen"},boxmaxdepth:{register:"maxdimen"},delimitershortfall:{dimension:5},nulldelimiterspace:{dimension:1.2,unit:"pt"},scriptspace:{dimension:.5},topskip:{dimension:10},splittopskip:{dimension:10},normalbaselineskip:{dimension:12},normallineskip:{dimension:1},normallineskiplimit:{dimension:0},jot:{dimension:3},doublerulesep:{dimension:2},arrayrulewidth:{dimension:.4},arraycolsep:{dimension:5},fboxsep:{dimension:3},fboxrule:{dimension:.4},"z@skip":{glue:{dimension:0},shrink:{dimension:0},grow:{dimension:0}},hideskip:{glue:{dimension:-1e3},grow:{dimension:1,unit:"fill"}},"@flushglue":{glue:{dimension:0},grow:{dimension:1,unit:"fill"}},parskip:{glue:{dimension:0},grow:{dimension:1}},abovedisplayskip:{glue:{dimension:12},grow:{dimension:3},shrink:{dimension:9}},abovedisplayshortskip:{glue:{dimension:0},grow:{dimension:3}},belowdisplayskip:{glue:{dimension:12},grow:{dimension:3},shrink:{dimension:9}},belowdisplayshortskip:{glue:{dimension:7},grow:{dimension:3},shrink:{dimension:4}},parfillskip:{glue:{dimension:0},grow:{dimension:1,unit:"fil"}},thinmuskip:{glue:{dimension:3,unit:"mu"}},medmuskip:{glue:{dimension:4,unit:"mu"},grow:{dimension:2,unit:"mu"},shrink:{dimension:4,unit:"mu"}},thickmuskip:{glue:{dimension:5,unit:"mu"},grow:{dimension:5,unit:"mu"}},smallskipamount:{glue:{dimension:3},grow:{dimension:1},shrink:{dimension:1}},medskipamount:{glue:{dimension:6},grow:{dimension:2},shrink:{dimension:3}},bigskipamount:{glue:{dimension:12},grow:{dimension:2},shrink:{dimension:4}},pretolerance:100,tolerance:200,hbadness:1e3,vbadness:1e3,linepenalty:10,hyphenpenalty:50,exhyphenpenalty:50,binoppenalty:700,relpenalty:500,clubpenalty:150,widowpenalty:150,displaywidowpenalty:50,brokenpenalty:100,predisplaypenalty:1e4,doublehyphendemerits:1e4,finalhyphendemerits:5e3,adjdemerits:1e4,tracinglostchars:1,uchyph:1,delimiterfactor:901,defaulthyphenchar:"\\-",defaultskewchar:-1,newlinechar:-1,showboxbreadth:5,showboxdepth:3,errorcontextlines:5,interdisplaylinepenalty:100,interfootnotelinepenalty:100,baselineSkip:1.2,arraystretch:1,month:new Date().getMonth()+1,day:new Date().getDate(),year:new Date().getFullYear()};function MW(){return D({},B3e)}function TW(){return{registers:MW(),smartFence:!1,renderPlaceholder:void 0,placeholderSymbol:"",letterShapeStyle:De.locale.startsWith("fr")?"french":"tex",minFontScale:0,maxMatrixCols:10,colorMap:vw,backgroundColorMap:uE,getMacro:t=>wW(t,hE())}}var Pe=class DW{constructor(e,r){var n,i,s,o,a,l,c,u,A,h,f,p,m,y,g;let v;e!=null&&e.parent?(this.parent=e.parent,v=e.parent,this.registers={}):(v=D(D({},TW()),(n=e==null?void 0:e.from)!=null?n:{}),this.registers=v.registers),v.atomIdsSettings&&(this.atomIdsSettings=D({},v.atomIdsSettings)),this.renderPlaceholder=v.renderPlaceholder,this.isPhantom=(o=(s=e==null?void 0:e.isPhantom)!=null?s:(i=this.parent)==null?void 0:i.isPhantom)!=null?o:!1,this.letterShapeStyle=v.letterShapeStyle,this.minFontScale=v.minFontScale,this.maxMatrixCols=v.maxMatrixCols,r!=null&&r.color&&r.color!=="none"?this.color=r.color:this.color=(l=(a=this.parent)==null?void 0:a.color)!=null?l:"",r!=null&&r.backgroundColor&&r.backgroundColor!=="none"?this.backgroundColor=r.backgroundColor:this.backgroundColor=(u=(c=this.parent)==null?void 0:c.backgroundColor)!=null?u:"",r!=null&&r.fontSize&&r.fontSize!=="auto"&&r.fontSize!==((A=this.parent)==null?void 0:A.size)?this.size=r.fontSize:this.size=(f=(h=this.parent)==null?void 0:h.size)!=null?f:fE;let x=(m=(p=this.parent)==null?void 0:p.mathstyle)!=null?m:Zs.displaystyle;if(typeof(e==null?void 0:e.mathstyle)=="string"){if(v instanceof DW)switch(e.mathstyle){case"cramp":x=x.cramp;break;case"superscript":x=x.sup;break;case"subscript":x=x.sub;break;case"numerator":x=x.fracNum;break;case"denominator":x=x.fracDen;break}switch(e.mathstyle){case"textstyle":x=Zs.textstyle;break;case"displaystyle":x=Zs.displaystyle;break;case"scriptstyle":x=Zs.scriptstyle;break;case"scriptscriptstyle":x=Zs.scriptscriptstyle;break}}this.mathstyle=x,this.smartFence=v.smartFence,this.placeholderSymbol=v.placeholderSymbol,this.colorMap=(y=v.colorMap)!=null?y:b=>b,this.backgroundColorMap=(g=v.backgroundColorMap)!=null?g:b=>b,this.getMacro=v.getMacro,this.parent!==void 0||this.registers}makeID(){if(!this.atomIdsSettings)return;if(this.atomIdsSettings.overrideID)return this.atomIdsSettings.overrideID;if(typeof this.atomIdsSettings.seed!="number")return`${Date.now().toString(36).slice(-2)}${Math.floor(Math.random()*1e5).toString(36)}`;let e=this.atomIdsSettings.seed.toString(36);return this.atomIdsSettings.seed+=1,e}scale(e){return e*this.effectiveFontSize}get scalingFactor(){return this.parent?this.effectiveFontSize/this.parent.effectiveFontSize:1}get isDisplayStyle(){return this.mathstyle.id===pE||this.mathstyle.id===Eb}get isCramped(){return this.mathstyle.cramped}get isTight(){return this.mathstyle.isTight}get metrics(){return this.mathstyle.metrics}get effectiveFontSize(){return Math.max(V6[Math.max(1,this.size+this.mathstyle.sizeDelta)],this.minFontScale)}getRegister(e){var r;if((r=this.registers)!=null&&r[e])return this.registers[e];if(this.parent)return this.parent.getRegister(e)}getRegisterAsNumber(e){let r=this.getRegister(e);if(typeof r=="number")return r;if(typeof r=="string")return Number(r)}getRegisterAsGlue(e){var r;if((r=this.registers)!=null&&r[e]){let n=this.registers[e];return typeof n=="object"&&"glue"in n?n:typeof n=="object"&&"dimension"in n?{glue:{dimension:n.dimension}}:typeof n=="number"?{glue:{dimension:n}}:void 0}if(this.parent)return this.parent.getRegisterAsGlue(e)}getRegisterAsEm(e,r){return FW(this.getRegisterAsDimension(e),r)}getRegisterAsDimension(e){var r;if((r=this.registers)!=null&&r[e]){let n=this.registers[e];return typeof n=="object"&&"glue"in n?n.glue:typeof n=="object"&&"dimension"in n?n:typeof n=="number"?{dimension:n}:void 0}if(this.parent)return this.parent.getRegisterAsDimension(e)}setRegister(e,r){if(r===void 0){delete this.registers[e];return}this.registers[e]=r}evaluate(e){if(!e||!("register"in e))return e;let r=this;if("global"in e&&e.global)for(;r.parent;)r=r.parent;let n=1;"factor"in e&&e.factor!==1&&e.factor!==void 0&&(n=e.factor);let i=r.getRegister(e.register);if(i===void 0)return;if(typeof i=="string")return{string:Number(i).toString()+i};if(typeof i=="number")return{number:n*i};let s=r.evaluate(i);if(s!==void 0)return"string"in s?{string:Number(i).toString()+s.string}:"number"in s?{number:n*s.number}:"dimension"in s?N(D({},s),{dimension:n*s.dimension}):"glue"in s?N(D({},s),{glue:N(D({},s.glue),{dimension:n*s.glue.dimension}),shrink:s.shrink?N(D({},s.shrink),{dimension:n*s.shrink.dimension}):void 0,grow:s.grow?N(D({},s.grow),{dimension:n*s.grow.dimension}):void 0}):e}toDimension(e){let r=this.evaluate(e);return r===void 0?null:"dimension"in r?r:"glue"in r?r.glue:"number"in r?{dimension:r.number}:null}toEm(e,r){if(e===null)return 0;let n=this.toDimension(e);return n===null?0:EW(n,r)/Yd}toNumber(e){if(e===null)return null;let r=this.evaluate(e);return r===void 0?null:"number"in r?r.number:"dimension"in r?r.dimension:"glue"in r?r.glue.dimension:"string"in r?Number(r.string):null}toColor(e){var r,n;if(e===null)return null;let i=this.evaluate(e);return i===void 0?null:"string"in i?(n=(r=this.colorMap)==null?void 0:r.call(this,i.string))!=null?n:i.string:null}toBackgroundColor(e){var r,n;if(e===null)return null;let i=this.evaluate(e);return i===void 0?null:"string"in i?(n=(r=this.backgroundColorMap)==null?void 0:r.call(this,i.string))!=null?n:i.string:null}},Jd=["body","above","below","superscript","subscript"];function Ic(t){return typeof t=="string"&&Jd.includes(t)}function ha(t){return t!==void 0&&Array.isArray(t)&&t.length===2}var X=class Do{constructor(e){this.isRoot=!1;var r,n,i,s,o,a,l;this.type=e.type,typeof e.value=="string"&&(this.value=e.value),this.command=(n=(r=e.command)!=null?r:this.value)!=null?n:"",this.mode=(i=e.mode)!=null?i:"math",e.isFunction&&(this.isFunction=!0),(e.isRoot||this.type==="root")&&(this.isRoot=!0),e.limits&&(this.subsupPlacement=e.limits),this.style=D({},(s=e.style)!=null?s:{}),this.displayContainsHighlight=(o=e.displayContainsHighlight)!=null?o:!1,this.captureSelection=(a=e.captureSelection)!=null?a:!1,this.skipBoundary=(l=e.skipBoundary)!=null?l:!1,e.verbatimLatex!==void 0&&e.verbatimLatex!==null&&(this.verbatimLatex=e.verbatimLatex),e.args&&(this.args=e.args),e.body&&(this.body=e.body),this._changeCounter=0}static createBox(e,r,n){var i;if(!r)return null;let s=_3e(r),o=[];for(let l of s){let c=l[0].style,u=S3e(e,l,{style:{color:c.color,backgroundColor:c.backgroundColor,fontSize:c.fontSize}});u&&o.push(u)}if(o.length===0)return null;let a=((i=n==null?void 0:n.classes)!=null?i:"").trim();return o.length===1&&!a&&!(n!=null&&n.type)?o[0].wrap(e):new oe(o,{classes:a,type:n==null?void 0:n.type}).wrap(e)}static serialize(e,r){return ci.serialize(e,r)}static commonAncestor(e,r){if(e===r||e.parent===r.parent)return e.parent;let n=new WeakSet,{parent:i}=e;for(;i;)n.add(i),i=i.parent;for(i=r.parent;i;){if(n.has(i))return i;i=i.parent}}static fromJson(e){return typeof e=="string"?new Do({type:"mord",value:e,mode:"math"}):new Do(e)}toJson(){if(this._json)return this._json;let e={};if(this.type&&(e.type=this.type),this.mode!=="math"&&(e.mode=this.mode),this.command&&this.command!==this.value&&(e.command=this.command),this.value!==void 0&&(e.value=this.value),this.style&&Object.keys(this.style).length>0&&(e.style=D({},this.style)),this.verbatimLatex!==void 0&&(e.verbatimLatex=this.verbatimLatex),this.subsupPlacement&&(e.subsupPlacement=this.subsupPlacement),this.explicitSubsupPlacement&&(e.explicitSubsupPlacement=!0),this.isFunction&&(e.isFunction=!0),this.displayContainsHighlight&&(e.displayContainsHighlight=!0),this.skipBoundary&&(e.skipBoundary=!0),this.captureSelection&&(e.captureSelection=!0),this.args&&(e.args=k3e(this.args)),this._branches)for(let r of Object.keys(this._branches))this._branches[r]&&(e[r]=this._branches[r].filter(n=>n.type!=="first").map(n=>n.toJson()));return e.type==="mord"&&Object.keys(e).length===2&&"value"in e?e.value:(this._json=e,e)}get changeCounter(){return this.parent?this.parent.changeCounter:this._changeCounter}set isDirty(e){e&&(this._json=void 0,this.parent||this._changeCounter++,"verbatimLatex"in this&&(this.verbatimLatex=void 0),this._children=void 0,this.parent&&(this.parent.isDirty=!0))}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Rr(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,e):this.body&&this.command?Le([ct(this.command,this.bodyToLatex(e)),this.supsubToLatex(e)]):this.body?Le([this.bodyToLatex(e),this.supsubToLatex(e)]):!this.value||this.value===""?"":this.command}bodyToLatex(e){var r;let n=(r=e.defaultMode)!=null?r:this.mode==="math"?"math":"text";return ci.serialize(this.body,N(D({},e),{defaultMode:n}))}aboveToLatex(e){return ci.serialize(this.above,e)}belowToLatex(e){return ci.serialize(this.below,e)}supsubToLatex(e){let r="";if(e=N(D({},e),{defaultMode:"math"}),this.branch("subscript")!==void 0){let n=ci.serialize(this.subscript,e);n.length===0?r+="_{}":n.length===1?/^[0-9]$/.test(n)?r+=`_${n}`:r+=`_{${n}}`:r+=`_{${n}}`}if(this.branch("superscript")!==void 0){let n=ci.serialize(this.superscript,e);n.length===0?r+="^{}":n.length===1?n===""?r+="^\\prime ":n===""?r+="^\\doubleprime ":/^[0-9]$/.test(n)?r+=`^${n}`:r+=`^{${n}}`:r+=`^{${n}}`}return r}get treeDepth(){let e=1,r=this.parent;for(;r;)r=r.parent,e+=1;return e}get inCaptureSelection(){let e=this;for(;e;){if(e.captureSelection)return!0;e=e.parent}return!1}get parentPrompt(){let e=this.parent;for(;e;){if(e.type==="prompt"&&!e.captureSelection)return e;e=e.parent}return null}branch(e){if(Ic(e)&&this._branches)return this._branches[e]}get branches(){if(!this._branches)return[];let e=[];for(let r of Jd)this._branches[r]&&e.push(r);return e}createBranch(e){return Ic(e),Ic(e)?(this._branches?this._branches[e]||(this._branches[e]=[this.makeFirstAtom(e)]):this._branches={[e]:[this.makeFirstAtom(e)]},this.isDirty=!0,this._branches[e]):[]}get row(){return ha(this.parentBranch)?this.parentBranch[0]:-1}get col(){return ha(this.parentBranch)?this.parentBranch[1]:-1}get body(){var e;return(e=this._branches)==null?void 0:e.body}set body(e){this.setChildren(e,"body")}get superscript(){var e;return(e=this._branches)==null?void 0:e.superscript}set superscript(e){this.setChildren(e,"superscript")}get subscript(){var e;return(e=this._branches)==null?void 0:e.subscript}set subscript(e){this.setChildren(e,"subscript")}get above(){var e;return(e=this._branches)==null?void 0:e.above}set above(e){this.setChildren(e,"above")}get below(){var e;return(e=this._branches)==null?void 0:e.below}set below(e){this.setChildren(e,"below")}applyStyle(e,r){this.isDirty=!0,r!=null&&r.unstyledOnly?(e.color&&!this.style.color&&(this.style.color=e.color),e.backgroundColor&&!this.style.backgroundColor&&(this.style.backgroundColor=e.backgroundColor),e.fontFamily&&!this.style.fontFamily&&(this.style.fontFamily=e.fontFamily),e.fontShape&&!this.style.fontShape&&(this.style.fontShape=e.fontShape),e.fontSeries&&!this.style.fontSeries&&(this.style.fontSeries=e.fontSeries),e.fontSize&&!this.style.fontSize&&(this.style.fontSize=e.fontSize),e.variant&&!this.style.variant&&(this.style.variant=e.variant),e.variantStyle&&!this.style.variantStyle&&(this.style.variantStyle=e.variantStyle)):this.style=D(D({},this.style),e),this.style.fontFamily==="none"&&delete this.style.fontFamily,this.style.fontShape==="auto"&&delete this.style.fontShape,this.style.fontSeries==="auto"&&delete this.style.fontSeries,this.style.color==="none"&&(delete this.style.color,delete this.style.verbatimColor),this.style.backgroundColor==="none"&&(delete this.style.backgroundColor,delete this.style.verbatimBackgroundColor),this.style.fontSize==="auto"&&delete this.style.fontSize;for(let n of this.children)n.applyStyle(e,r)}getInitialBaseElement(){var e,r,n;return this.hasEmptyBranch("body")?this:((e=this.body)==null||e[0].type,(n=(r=this.body[1])==null?void 0:r.getInitialBaseElement())!=null?n:this)}getFinalBaseElement(){return this.hasEmptyBranch("body")?this:this.body[this.body.length-1].getFinalBaseElement()}isCharacterBox(){return this.type==="leftright"||this.type==="genfrac"||this.type==="subsup"||this.type==="delim"||this.type==="array"||this.type==="surd"?!1:this.getFinalBaseElement().type==="mord"}hasEmptyBranch(e){let r=this.branch(e);return r?(r.length>0,r[0].type,r.length===1):!0}setChildren(e,r){var n;if(!e||(Ic(r),!Ic(r)))return;let i=((n=e[0])==null?void 0:n.type)==="first"?[...e]:[this.makeFirstAtom(r),...e];this._branches?this._branches[r]=i:this._branches={[r]:i};for(let s of e)s.parent=this,s.parentBranch=r;this.isDirty=!0}makeFirstAtom(e){let r=new Do({type:"first",mode:this.mode});return r.parent=this,r.parentBranch=e,r}addChild(e,r){e.type,this.createBranch(r).push(e),this.isDirty=!0,e.parent=this,e.parentBranch=r}addChildBefore(e,r){r.parentBranch;let n=this.createBranch(r.parentBranch);n.splice(n.indexOf(r),0,e),this.isDirty=!0,e.parent=this,e.parentBranch=r.parentBranch}addChildAfter(e,r){r.parentBranch;let n=this.createBranch(r.parentBranch);n.splice(n.indexOf(r)+1,0,e),this.isDirty=!0,e.parent=this,e.parentBranch=r.parentBranch}addChildren(e,r){let n=this.createBranch(r);for(let i of e)i.parent=this,i.parentBranch=r,n.push(i);this.isDirty=!0}addChildrenAfter(e,r){e.length===0||e[0].type,r.parentBranch;let n=this.createBranch(r.parentBranch);n.splice(n.indexOf(r)+1,0,...e),this.isDirty=!0;for(let i of e)i.parent=this,i.parentBranch=r.parentBranch;return e[e.length-1]}removeBranch(e){let r=this.branch(e);if(Ic(e)&&(this._branches[e]=void 0),!r)return[];for(let s of r)s.parent=void 0,s.parentBranch=void 0;r[0].type;let[n,...i]=r;return this.isDirty=!0,i}removeChild(e){if(e.parent,e.type==="first")return;let r=this.branch(e.parentBranch),n=r.indexOf(e);r.splice(n,1),this.isDirty=!0,e.parent=void 0,e.parentBranch=void 0}get siblings(){return this.parent?this.parent.branch(this.parentBranch):[]}get firstSibling(){return this.siblings[0]}get lastSibling(){let{siblings:e}=this;return e[e.length-1]}get isFirstSibling(){return this===this.firstSibling}get isLastSibling(){return this===this.lastSibling}get hasNoSiblings(){return this.siblings.length===1}get leftSibling(){this.parent;let e=this.parent.branch(this.parentBranch);return e[e.indexOf(this)-1]}get rightSibling(){this.parent;let e=this.parent.branch(this.parentBranch);return e[e.indexOf(this)+1]}get hasChildren(){return!!(this._branches&&this.children.length>0)}get firstChild(){return this.hasChildren,this.children[0]}get lastChild(){this.hasChildren;let{children:e}=this;return e[e.length-1]}get children(){if(this._children)return this._children;if(!this._branches)return[];let e=[];for(let r of Jd)if(this._branches[r])for(let n of this._branches[r])e.push(...n.children),e.push(n);return this._children=e,e}render(e){if(this.type==="first"&&!e.atomIdsSettings)return null;let r=Rr(this.command,this.mode);if(r!=null&&r.render)return r.render(this,e);let n=new Pe({parent:e},this.style),i=this.createBox(n,{classes:this.parent?"":"ML__base"});return i?(!this.subsupPlacement&&(this.superscript||this.subscript)&&(i=this.attachSupsub(n,{base:i})),i.wrap(n)):null}attachSupsub(e,r){var n;let i=r.base,s=this.superscript,o=this.subscript;if(!s&&!o)return i;let a=null,l=null,c=(n=r.isCharacterBox)!=null?n:this.isCharacterBox(),u=0;if(s){let m=new Pe({parent:e,mathstyle:"superscript"});a=Do.createBox(m,s),c||(u=i.height-e.metrics.supDrop*m.scalingFactor)}let A=0;if(o){let m=new Pe({parent:e,mathstyle:"subscript"});l=Do.createBox(m,o),c||(A=i.depth+e.metrics.subDrop*m.scalingFactor)}let h;e.isDisplayStyle?h=e.metrics.sup1:e.isCramped?h=e.metrics.sup3:h=e.metrics.sup2;let f=.5/Yd/e.scalingFactor,p=null;if(l&&a){u=Math.max(u,h,a.depth+.25*e.metrics.xHeight),A=Math.max(A,e.metrics.sub2);let m=e.metrics.defaultRuleThickness;if(u-a.depth-(l.height-A)<4*m){A=4*m-(u-a.depth)+l.height;let g=.8*e.metrics.xHeight-(u-a.depth);g>0&&(u+=g,A-=g)}let y=this.type==="extensible-symbol"&&i.italic?-i.italic:0;p=new rr({individualShift:[{box:l,shift:A,marginLeft:y},{box:a,shift:-u}]}).wrap(e)}else l&&!a?(A=Math.max(A,e.metrics.sub1,l.height-.8*Fl),p=new rr({shift:A,children:[{box:l,marginRight:f,marginLeft:this.isCharacterBox()?-i.italic:0}]})):!l&&a&&(u=Math.max(u,h,a.depth+.25*Fl),p=new rr({shift:-u,children:[{box:a,marginRight:f}]}));return new oe([i,new oe(p,{caret:this.caret,isSelected:this.isSelected,classes:"ML__msubsup"})],{type:r.type})}attachLimits(e,r){let n=this.superscript?Do.createBox(new Pe({parent:e,mathstyle:"superscript"},this.style),this.superscript):null,i=this.subscript?Do.createBox(new Pe({parent:e,mathstyle:"subscript"},this.style),this.subscript):null;return!n&&!i?r.base.wrap(e):w3e(e,N(D({},r),{above:n,below:i}))}bind(e,r){if(!r||e.isPhantom||this.value==="")return r;let n=this.parent;for(;n&&!n.captureSelection;)n=n.parent;return n!=null&&n.captureSelection||(this.id||(this.id=e.makeID()),r.atomID=this.id),r}createBox(e,r){var n,i,s,o;let a=(n=this.value)!=null?n:this.body,l=(i=r==null?void 0:r.boxType)!=null?i:q6(this.type),c=(s=r==null?void 0:r.classes)!=null?s:"";this.mode==="text"&&(c+=" ML__text");let u=typeof a=="string"||a===void 0?new oe(a??null,{type:l,isSelected:this.isSelected,mode:this.mode,maxFontSize:e.scalingFactor,style:N(D({variant:"normal"},this.style),{fontSize:Math.max(1,e.size+e.mathstyle.sizeDelta)}),letterShapeStyle:e.letterShapeStyle,classes:c}):(o=Do.createBox(e,a,{type:l,classes:c}))!=null?o:new oe(null);return e.isTight&&(u.isTight=!0),(this.mode!=="math"||this.style.variant==="main")&&(u.italic=0),u.right=u.italic,this.bind(e,u),this.caret&&!this.superscript&&!this.subscript&&(u.caret=this.caret),u}isDigit(){var e;return this.type==="mord"&&this.value?/^[\d,\.]$/.test(this.value):this.type==="group"&&((e=this.body)==null?void 0:e.length)===2?this.body[0].type==="first"&&this.body[1].value===",":!1}asDigit(){var e;return this.type==="mord"&&this.value&&/^[\d,\.]$/.test(this.value)?this.value:this.type==="group"&&((e=this.body)==null?void 0:e.length)===2&&this.body[0].type==="first"&&this.body[1].value===","?".":""}};function _3e(t){let e,r=[],n=[];for(let i of t)if(i.type==="first"&&n.push(i),!e&&!i.style)n.push(i);else{let s=i.style;e&&s.color===e.color&&s.backgroundColor===e.backgroundColor&&s.fontSize===e.fontSize?n.push(i):(n.length>0&&r.push(n),n=[i],e=s)}return n.length>0&&r.push(n),r}function S3e(t,e,r){var n,i,s,o,a;if(!e||e.length===0)return null;let l=new Pe({parent:t},r.style),c=!((n=l.atomIdsSettings)!=null&&n.groupNumbers),u=[];if(e.length===1){let h=e[0],f=h.render(l);f&&(c&&h.isSelected&&f.selected(!0),u=[f])}else{let h="",f=!0;for(let p of e){(i=l.atomIdsSettings)!=null&&i.groupNumbers&&h&&(f&&p.isDigit()||!f&&wC(p))&&(l.atomIdsSettings.overrideID=h);let m=p.render(l);l.atomIdsSettings&&(l.atomIdsSettings.overrideID=void 0),m&&((s=l.atomIdsSettings)!=null&&s.groupNumbers&&((p.isDigit()||wC(p))&&(!h||f!==p.isDigit())&&(f=p.isDigit(),h=(o=p.id)!=null?o:""),h&&(!(p.isDigit()||wC(p))||!p.hasEmptyBranch("superscript")||!p.hasEmptyBranch("subscript"))&&(h="")),c&&p.isSelected&&m.selected(!0),u.push(m))}}if(u.length===0)return null;let A=new oe(u,N(D({isTight:l.isTight},r),{type:(a=r.type)!=null?a:"lift"}));return A.isSelected=u.every(h=>h.isSelected),A.wrap(l)}function wC(t){return t.mode==="text"}function k3e(t){return t.map(e=>e===null?"<null>":Array.isArray(e)&&e[0]instanceof X?{atoms:e.map(r=>r.toJson())}:typeof e=="object"&&"group"in e?{group:e.group.map(r=>r.toJson())}:e)}var Bh=class LW extends X{constructor(e,r,n){super({type:"text",command:e,mode:"text",displayContainsHighlight:!0}),this.value=r,this.verbatimLatex=r,this.applyStyle(n)}static fromJson(e){return new LW(e.command,e.value,e.style)}render(e){let r=this.createBox(e);return this.caret&&(r.caret=this.caret),r}_serialize(e){var r;return(r=this.verbatimLatex)!=null?r:CW("text",this.value.codePointAt(0))}};function E3e(t,e){if(t.direction===e.direction){let r=t.ranges.length;if(e.ranges.length===r){let n=0;for(;n<r&&F3e(t.ranges[n],e.ranges[n])==="equal";)n++;return n===r?"equal":"different"}}return"different"}function F3e(t,e){return t[0]===e[0]&&t[1]===e[1]?"equal":"different"}function Kr(t){let e=1/0,r=-1/0;for(let n of t.ranges)e=Math.min(e,n[0],n[1]),r=Math.max(r,n[0],n[1]);return[e,r]}function tl(t){return typeof t=="number"&&!Number.isNaN(t)}function Fb(t){return Array.isArray(t)&&t.length===2}function Qv(t){return t!=null&&typeof t=="object"&&"ranges"in t&&Array.isArray(t.ranges)}function M3e(t,e){let r=t.at(e),n;if(r){n=r.mode;let i=r.parent;for(;!n&&i;)i&&(n=i.mode),i=i.parent}return n}function T3e(t,e){if(!e)return"";if(typeof e=="string")return e;if(!t||e.after===void 0)return e.value;let r=!1,n=!1,i=!1,s=!1,o=!1,a=!1,l=!1,c=!1,u=!1,A=!1,h=!1,f=!1,p=!1,m=!1,y=!1,g=t[0],v=0;for(;g!=null&&g.type&&/^(subsup|placeholder)$/.test(g.type);)v+=1,g=t[v];return r=!g||g.type==="first",g&&(m=g.mode==="text",n=!m&&g.type==="mord"&&R6.test(g.value),i=!m&&g.type==="mord"&&/\d+$/.test(g.value),s=!m&&g.isFunction,o=g.type==="genfrac",a=g.type==="surd",l=g.type==="mbin",c=g.type==="mrel",u=g.type==="mop"||g.type==="operator"||g.type==="extensible-symbol",A=g.type==="mpunct"||g.type==="minner",h=g.type==="array",f=g.type==="mopen",p=g.type==="mclose"||g.type==="leftright",y=g.type==="space"),e.after.includes("nothing")&&r||e.after.includes("letter")&&n||e.after.includes("digit")&&i||e.after.includes("function")&&s||e.after.includes("frac")&&o||e.after.includes("surd")&&a||e.after.includes("binop")&&l||e.after.includes("relop")&&c||e.after.includes("operator")&&u||e.after.includes("punct")&&A||e.after.includes("array")&&h||e.after.includes("openfence")&&f||e.after.includes("closefence")&&p||e.after.includes("text")&&m||e.after.includes("space")&&y?e.value:""}function mE(t,e,r){return r?T3e(t,r[e]):""}var jW={"&":"\\&","%":"\\%",$:"\\$","''":"^{\\doubleprime}","'''":"^{\\prime\\prime\\prime}","''''":"^{\\prime\\prime\\prime\\prime}",alpha:"\\alpha",delta:"\\delta",Delta:"\\Delta",pi:"\\pi",Pi:"\\Pi",theta:"\\theta",Theta:"\\Theta",ii:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryI"},jj:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryJ"},ee:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\exponentialE"},nabla:"\\nabla",grad:"\\nabla",del:"\\partial",deg:{after:"digit+space",value:"\\degree"},infty:"\\infty","":"\\infty",oo:{after:"nothing+digit+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\infty"},"":"\\sum",sum:"\\sum_{#?}^{#?}",int:"\\int_{#?}^{#?}",prod:"\\prod_{#?}^{#?}",sqrt:"\\sqrt{#?}","":"\\differentialD","":"\\differentialD",sin:"\\sin",cos:"\\cos",tan:"\\tan",arccos:"\\arccos",arcsin:"\\arcsin",arctan:"\\arctan",arctg:"\\operatorname{arctg}",arcsec:"\\operatorname{arcsec}",arccsc:"\\operatorname{arccsc}",arsinh:"\\operatorname{arsinh}",arccosh:"\\operatorname{arccosh}",arcosh:"\\operatorname{arcosh}",artanh:"\\operatorname{artanh}",arctanh:"\\operatorname{arctanh}",arcsech:"\\operatorname{arcsech}",arccsch:"\\operatorname{arccsch}",ch:"\\operatorname{ch}",cosec:"\\operatorname{cosec}",cosh:"\\cosh",cot:"\\cot",cotg:"\\operatorname{cotg}",coth:"\\coth",csc:"\\csc",ctg:"\\operatorname{ctg}",cth:"\\operatorname{cth}",sec:"\\sec",sech:"\\operatorname{sech}",sinh:"\\sinh",sh:"\\operatorname{sh}",tanh:"\\tanh",tg:"\\operatorname{tg}",th:"\\operatorname{th}",arg:"\\arg",lg:"\\lg",lb:"\\operatorname{lb}",log:"\\log_{#?}",ln:"\\ln",exp:"\\exp",lim:"\\lim_{#?\\to#?}",dx:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD x"},dy:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD y"},dt:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD t"},AA:"\\forall",EE:"\\exists","!EE":"\\nexists","&&":"\\land",xin:{after:"nothing+text+relop+punct+openfence+space",value:"x \\in"},sint:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\sin t"},in:{after:"nothing+letter+closefence",value:"\\in"},"!in":"\\notin",NN:"\\mathbb{N}",ZZ:"\\mathbb{Z}",QQ:"\\mathbb{Q}",RR:"\\mathbb{R}",CC:"\\mathbb{C}",xx:"\\times","+-":"\\pm","":"\\ne","!=":"\\ne","":"\\ge",">=":"\\ge","":"\\le","<=":"\\le","<<":"\\ll",">>":"\\gg","~~":"\\approx","":"\\approx","?=":"\\questeq","":"\\div","":"\\neg",":=":"\\coloneq","::":"\\Colon","(:":"\\langle",":)":"\\rangle",beta:"\\beta",chi:"\\chi",epsilon:"\\epsilon",varepsilon:"\\varepsilon",eta:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta"},gamma:"\\gamma",Gamma:"\\Gamma",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",Lambda:"\\Lambda",mu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu"},nu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\nu"},:"\\mu",phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\phi"},Phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Phi"},varphi:"\\varphi",psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\psi"},Psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Psi"},rho:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\rho"},sigma:"\\sigma",Sigma:"\\Sigma",tau:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\tau"},vartheta:"\\vartheta",upsilon:"\\upsilon",xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\xi"},Xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Xi"},zeta:"\\zeta",omega:"\\omega",Omega:"\\Omega",:"\\omega",forall:"\\forall",exists:"\\exists","!exists":"\\nexists",":.":"\\therefore",liminf:"\\liminf_{#?}",limsup:"\\limsup_{#?}",argmin:"\\operatorname*{arg~min}_{#?}",argmax:"\\operatorname*{arg~max}_{#?}",det:"\\det",mod:"\\bmod{#?}","(mod":"\\pmod{#?}",max:"\\max",min:"\\min",erf:"\\operatorname{erf}",erfc:"\\operatorname{erfc}",bessel:"\\operatorname{bessel}",mean:"\\operatorname{mean}",median:"\\operatorname{median}",fft:"\\operatorname{fft}",lcm:"\\operatorname{lcm}",gcd:"\\gcd",randomReal:"\\operatorname{randomReal}",randomInteger:"\\operatorname{randomInteger}",Re:"\\operatorname{Re}",Im:"\\operatorname{Im}",mm:{after:"nothing+digit+operator",value:"\\operatorname{mm}"},cm:{after:"nothing+digit+operator",value:"\\operatorname{cm}"},km:{after:"nothing+digit+operator",value:"\\operatorname{km}"},kg:{after:"nothing+digit+operator",value:"\\operatorname{kg}"},ft:{after:"nothing+digit+operator",value:"\\operatorname{ft}"},inch:{after:"nothing+digit+operator",value:"\\operatorname{inch}"},mi:{after:"nothing+digit+operator",value:"\\operatorname{mi}"},"...":"\\ldots","+...":"+\\cdots","-...":"-\\cdots","->...":"\\to\\cdots","-->...":"\\longrightarrow\\cdots","->":"\\to","|->":"\\mapsto","-->":"\\longrightarrow","<--":"\\longleftarrow","=>":"\\Rightarrow","==>":"\\Longrightarrow","<=>":"\\iff","<->":"\\leftrightarrow","(.)":"\\odot","(+)":"\\oplus","(/)":"\\oslash","(*)":"\\otimes","(-)":"\\ominus","||":"\\Vert","*":"\\cdot","**":"\\star","***":"\\ast","//":"\\slash","\\\\":"\\backslash",setminus:"\\backslash","|><":"\\ltimes","><|":"\\rtimes","|><|":"\\bowtie","-:":"\\div",divide:"\\div","@":"\\circ","^^":"\\wedge","^^^":"\\bigwedge",vv:"\\vee",vvv:"\\bigvee",nn:"\\cap",nnn:"\\bigcap",uu:"\\cup",uuu:"\\bigcup","-=":"\\equiv","~=":"\\cong",lt:"<","lt=":"\\leq",gt:">","gt=":"\\geq","-<":"\\prec","-lt":"\\prec","-<=":"\\preceq",">-=":"\\succeq",prop:"\\propto",diamond:"\\diamond",square:"\\square",iff:"\\iff",sub:"\\subset",sup:"\\supset",sube:"\\subseteq",supe:"\\supseteq",uarr:"\\uparrow",darr:"\\downarrow",rarr:"\\rightarrow",rArr:"\\Rightarrow",larr:"\\leftarrow",lArr:"\\Leftarrow",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",aleph:"\\aleph",and:"\\land",or:"\\lor",not:"\\neg","_|_":"\\bot",TT:"\\top","|--":"\\vdash","|==":"\\models","|__":"\\lfloor","__|":"\\rfloor","|~":"\\lceil","~|":"\\rceil",">->":"\\rightarrowtail","->>":"\\twoheadrightarrow",">->>":"\\twoheadrightarrowtail",times:"\\times",of:"\\circ",infinity:"\\infty",defint:"\\int_{#?}^{#?}",approaches:"\\to",ceil:"\\left\\lceil#?\\right\\rceil",floor:"\\left\\lfloor#?\\right\\rfloor",union:"\\cup",asterisk:"\\ast",frac:"\\frac{#?}{#?}",cbrt:"\\sqrt[3]{#?}",nthroot:"\\sqrt[#?]{#?}"};function Y6(t,e){var r;let n=(r=e==null?void 0:e.format)!=null?r:"auto";return n==="auto"&&([n,t]=D3e(t)),n==="ascii-math"?(t=t.replace(/\u2061/gu,""),t=t.replace(/\u3016/gu,"{"),t=t.replace(/\u3017/gu,"}"),t=t.replace(/([^\\])sinx/g,"$1\\sin x"),t=t.replace(/([^\\])cosx/g,"$1\\cos x "),t=t.replace(/\u2013/g,"-"),["ascii-math",Ln(t,{inlineShortcuts:e==null?void 0:e.inlineShortcuts})]):["latex",t]}function Ln(t,e){var r;if(t=t.trim(),!t)return"";let n=(r=e.inlineShortcuts)!=null?r:jW;if(t.startsWith("^")||t.startsWith("_")){let{match:a,rest:l}=bc(t.slice(1),{inlineShortcuts:n,noWrap:!0});return`${t[0]}{${a}}${Ln(l,e)}`}let i=t.match(/^(sqrt|\u221A)(.*)/);if(i){let{match:a,rest:l}=bc(i[2],{inlineShortcuts:n,noWrap:!0});return`\\sqrt{${a??"\\placeholder{}"}}${Ln(l,e)}`}if(i=t.match(/^(\\cbrt|\u221B)(.*)/),i){let{match:a,rest:l}=bc(i[2],{inlineShortcuts:n,noWrap:!0});return`\\sqrt[3]{${a??"\\placeholder{}"}}${Ln(l,e)}`}if(i=t.match(/^abs(.*)/),i){let{match:a,rest:l}=bc(i[1],{inlineShortcuts:n,noWrap:!0});return`\\left|${a??"\\placeholder{}"}\\right|${Ln(l,e)}`}if(i=t.match(/^["](.*?)["](.*)/),i)return`\\text{${i[1]}}${Ln(i[2],e)}`;if(i=t.match(/^([^a-zA-Z0-9\(\{\[\_\^\\\s"]+)(.*)/),i)return`${mN(i[1],n)}${Ln(i[2],e)}`;if(/^([fgh])[^a-zA-Z]/.test(t)){let{rest:a,match:l}=bc(t.slice(1),{inlineShortcuts:n,noWrap:!0}),c="";return t[1]==="("?c=`${t[0]}\\left(${l}\\right)`:c=t[0]+l,c+Ln(a,e)}if(i=t.match(/^([a-zA-Z]+)(.*)/),i)return mN(i[1],n)+Ln(i[2],e);let{match:s,rest:o}=bc(t,{inlineShortcuts:n,noWrap:!0});if(s&&o[0]==="/"){let a=bc(o.slice(1),{inlineShortcuts:n,noWrap:!0});if(a.match)return`\\frac{${s}}{${a.match}}${Ln(a.rest,e)}`}else return t.startsWith("(")?"\\left("+s+"\\right)"+Ln(o,e):s+Ln(o,e);return i=t.match(/^(\s+)(.*)$/),i?" "+Ln(i[2],e):t}var pN={"[":"\\lbrack","]":"\\rbrack","{":"\\lbrace","}":"\\rbrace"};function bc(t,e){var r,n;let i="";t=t.trim();let s=t,o=t.charAt(0),a={"(":")","{":"}","[":"]"}[o];if(a){let l=1,c=1;for(;c<t.length&&l>0;)t[c]===o&&l++,t[c]===a&&l--,c++;if(l===0){let u=Ln(t.substring(1,c-1),e);e.noWrap&&o==="("?i=u:i=`\\left${(r=pN[o])!=null?r:o}${u}\\right${(n=pN[a])!=null?n:a}`,s=t.slice(Math.max(0,c))}else i=t.substring(1,c),s=""}else{let l=t.match(/^([a-zA-Z]+)/);if(l){let c=mE(null,t,e.inlineShortcuts);if(c)return c=c.replace("_{#?}",""),c=c.replace("^{#?}",""),{match:c,rest:t.slice(c.length)}}if(l=t.match(/^([a-zA-Z])/),l)return{match:l[1],rest:t.slice(1)};if(l=t.match(/^(-)?\d+(\.\d*)?/),l)return{match:l[0],rest:t.slice(l[0].length)};/^\\(left|right)/.test(t)||(l=t.match(/^(\\[a-zA-Z]+)/),l&&(s=t.slice(l[1].length),i=l[1]))}return{match:i,rest:s}}function mN(t,e){let r=mE(null,t,e);return r?(r=r.replace("_{#?}",""),r=r.replace("^{#?}",""),r+=" "):r=t,r}var OW=[["\\[","\\]"],["\\(","\\)"],["$$","$$"],["$","$"],["\\begin{math}","\\end{math}"],["\\begin{displaymath}","\\end{displaymath}"],["\\begin{equation}","\\end{equation}"],["\\begin{equation*}","\\end{equation*}"]];function gE(t){let e=t.trim();for(let r of OW)if(e.startsWith(r[0])&&e.endsWith(r[1]))return[!0,e.substring(r[0].length,e.length-r[1].length)];return[!1,t]}function D3e(t){if(t=t.trim(),t.length<=1)return["latex",t];let e;return[e,t]=gE(t),e?["latex",t]:t.startsWith("`")&&t.endsWith("`")?(t=t.substring(1,t.length-1),["ascii-math",t]):t.includes("\\")?["latex",t]:/\$.+\$/.test(t)?["latex",`\\text{${t}}`]:[void 0,t]}var L3e="$$",j3e="$$",O3e=(t,e,r)=>(OW.some(n=>e.startsWith(n[0])&&e.endsWith(n[1]))||(e=`${L3e} ${e} ${j3e}`),e),NW=class Rv{constructor(e){Rv._modes[e]=this}static onPaste(e,r,n){var i;if(!r.contentEditable&&r.userSelect==="none")return r.model.announce("plonk"),!1;if(typeof n=="string"){let o=new DataTransfer;o.setData("text/plain",n),n=o}let s=new ClipboardEvent("paste",{clipboardData:n,cancelable:!0});return(i=r.host)!=null&&i.dispatchEvent(s)?Rv._modes[e].onPaste(r,n):!1}static copyToClipboard(e,r){if(!e.contentEditable&&e.userSelect==="none"){e.model.announce("plonk");return}let n=e.model,i=n.selectionIsCollapsed?[0,n.lastOffset]:Kr(n.selection),s=n.getValue(i,r);navigator.clipboard.writeText(s).then(()=>{},()=>e.model.announce("plonk"))}static onCopy(e,r){var n;if(!r.clipboardData)return;if(!e.contentEditable&&e.userSelect==="none"){e.model.announce("plonk");return}let i=e.model,s=i.selectionIsCollapsed?[0,i.lastOffset]:Kr(i.selection),o=i.getAtoms(s);if(o.every(a=>a.mode==="text"||!a.mode))r.clipboardData.setData("text/plain",o.filter(a=>a instanceof Bh).map(a=>a.value).join(""));else if(o.every(a=>a.mode==="latex"))r.clipboardData.setData("text/plain",i.getAtoms(s,{includeChildren:!0}).map(a=>{var l;return(l=a.value)!=null?l:""}).join(""));else{let a;o.length===1&&o[0].verbatimLatex!==void 0?a=o[0].verbatimLatex:a=i.getValue(s,"latex-expanded"),r.clipboardData.setData("application/x-latex",a);try{r.clipboardData.setData("text/plain",e.options.onExport(e,a,s))}catch{}if(o.length===1){let l=o[0];(l.type==="root"||l.type==="group")&&(o=l.body.filter(c=>c.type!=="first"))}try{r.clipboardData.setData("application/json+mathlive",JSON.stringify(o.map(l=>l.toJson())))}catch{}if((n=window[Symbol.for("io.cortexjs.compute-engine")])!=null&&n.ComputeEngine){let l=globalThis.MathfieldElement.computeEngine;if(l)try{let c=l.jsonSerializationOptions;l.jsonSerializationOptions={metadata:["latex"]};let u=l.parse(i.getValue(s,"latex-unstyled"));l.jsonSerializationOptions=c;let A=JSON.stringify(u.json);A&&r.clipboardData.setData("application/json",A)}catch{}}}r.preventDefault()}static insert(e,r,n={}){var i;let s=n.mode==="auto"?e.mode:(i=n.mode)!=null?i:e.mode;return Rv._modes[s].insert(e,r,n)}onPaste(e,r){return!1}insert(e,r,n){return!1}};NW._modes={};var at=NW,N3e=[{key:"left",command:"moveToPreviousChar"},{key:"right",command:"moveToNextChar"},{key:"up",command:"moveUp"},{key:"down",command:"moveDown"},{key:"shift+[ArrowLeft]",command:"extendSelectionBackward"},{key:"shift+[ArrowRight]",command:"extendSelectionForward"},{key:"shift+[ArrowUp]",command:"extendSelectionUpward"},{key:"shift+[ArrowDown]",command:"extendSelectionDownward"},{key:"[Backspace]",command:"deleteBackward"},{key:"alt+[Delete]",command:"deleteBackward"},{key:"[Delete]",command:"deleteForward"},{key:"alt+[Backspace]",command:"deleteForward"},{key:"alt+[ArrowLeft]",command:"moveToPreviousWord"},{key:"alt+[ArrowRight]",command:"moveToNextWord"},{key:"shift+alt+[ArrowLeft]",command:"extendToPreviousWord"},{key:"shift+alt+[ArrowRight]",command:"extendToNextWord"},{key:"ctrl+[ArrowLeft]",command:"moveToGroupStart"},{key:"ctrl+[ArrowRight]",command:"moveToGroupEnd"},{key:"shift+ctrl+[ArrowLeft]",command:"extendToGroupStart"},{key:"shift+ctrl+[ArrowRight]",command:"extendToGroupEnd"},{key:"[Home]",command:"moveToMathfieldStart"},{key:"cmd+[ArrowLeft]",command:"moveToMathfieldStart"},{key:"shift+[Home]",command:"extendToMathFieldStart"},{key:"shift+cmd+[ArrowLeft]",command:"extendToMathFieldStart"},{key:"[End]",command:"moveToMathfieldEnd"},{key:"cmd+[ArrowRight]",command:"moveToMathfieldEnd"},{key:"shift+[End]",command:"extendToMathFieldEnd"},{key:"shift+cmd+[ArrowRight]",command:"extendToMathFieldEnd"},{key:"[Pageup]",command:"moveToGroupStart"},{key:"[Pagedown]",command:"moveToGroupEnd"},{key:"[Tab]",command:"moveToNextGroup"},{key:"shift+[Tab]",command:"moveToPreviousGroup"},{key:"[Escape]",ifMode:"math",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"text",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"latex",command:["complete","complete",{selectItem:"true"}]},{key:"\\",ifMode:"math",command:["switchMode","latex","","\\"]},{key:"[IntlBackslash]",ifMode:"math",command:["switchMode","latex","","\\"]},{key:"[Tab]",ifMode:"latex",command:["complete","accept-suggestion"]},{key:"[Return]",ifMode:"latex",command:"complete"},{key:"[Enter]",ifMode:"latex",command:"complete"},{key:"shift+[Escape]",ifMode:"latex",command:["complete","reject"]},{key:"[ArrowDown]",ifMode:"latex",command:"nextSuggestion"},{key:"[ArrowUp]",ifMode:"latex",command:"previousSuggestion"},{key:"ctrl+a",ifPlatform:"!macos",command:"selectAll"},{key:"cmd+a",command:"selectAll"},{key:"[Cut]",command:"cutToClipboard"},{key:"[Copy]",command:"copyToClipboard"},{key:"[Paste]",command:"pasteFromClipboard"},{key:"[Clear]",command:"deleteBackward"},{key:"[Undo]",command:"undo"},{key:"[Redo]",command:"redo"},{key:"[EraseEof]",command:"deleteToGroupEnd"},{key:"ctrl+x",ifPlatform:"ios",command:"cutToClipboard"},{key:"cmd+x",ifPlatform:"ios",command:"cutToClipboard"},{key:"ctrl+c",ifPlatform:"ios",command:"copyToClipboard"},{key:"cmd+c",ifPlatform:"ios",command:"copyToClipboard"},{key:"ctrl+v",ifPlatform:"ios",command:"pasteFromClipboard"},{key:"cmd+v",ifPlatform:"ios",command:"pasteFromClipboard"},{key:"ctrl+z",ifPlatform:"!macos",command:"undo"},{key:"cmd+z",command:"undo"},{key:"ctrl+y",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+y",command:"redo"},{key:"shift+ctrl+z",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+z",command:"redo"},{key:"ctrl+b",ifPlatform:"macos",command:"moveToPreviousChar"},{key:"ctrl+f",ifPlatform:"macos",command:"moveToNextChar"},{key:"ctrl+p",ifPlatform:"macos",command:"moveUp"},{key:"ctrl+n",ifPlatform:"macos",command:"moveDown"},{key:"ctrl+a",ifPlatform:"macos",command:"moveToMathfieldStart"},{key:"ctrl+e",ifPlatform:"macos",command:"moveToMathfieldEnd"},{key:"shift+ctrl+b",ifPlatform:"macos",command:"extendSelectionBackward"},{key:"shift+ctrl+f",ifPlatform:"macos",command:"extendSelectionForward"},{key:"shift+ctrl+p",ifPlatform:"macos",command:"extendSelectionUpward"},{key:"shift+ctrl+n",ifPlatform:"macos",command:"extendSelectionDownward"},{key:"shift+ctrl+a",ifPlatform:"macos",command:"extendToMathFieldStart"},{key:"shift+ctrl+e",ifPlatform:"macos",command:"extendToMathFieldEnd"},{key:"alt+ctrl+b",ifPlatform:"macos",command:"moveToPreviousWord"},{key:"alt+ctrl+f",ifPlatform:"macos",command:"moveToNextWord"},{key:"shift+alt+ctrl+b",ifPlatform:"macos",command:"extendToPreviousWord"},{key:"shift+alt+ctrl+f",ifPlatform:"macos",command:"extendToNextWord"},{key:"ctrl+h",ifPlatform:"macos",command:"deleteBackward"},{key:"ctrl+d",ifPlatform:"macos",command:"deleteForward"},{key:"ctrl+l",ifPlatform:"macos",command:"scrollIntoView"},{key:"ctrl+[Digit2]",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"ctrl+[Digit5]",ifMode:"math",command:"moveToOpposite"},{key:"ctrl+[Digit6]",ifMode:"math",command:"moveToSuperscript"},{key:"ctrl+[Return]",ifMode:"math",command:"addRowAfter"},{key:"ctrl+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Return]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"alt+p",ifMode:"math",command:["insert","\\pi"]},{key:"alt+v",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"alt+o",ifMode:"math",command:["insert","\\emptyset"]},{key:"alt+d",ifMode:"math",command:["insert","\\differentialD"]},{key:"shift+alt+o",ifMode:"math",command:["insert","\\varnothing"]},{key:"shift+alt+d",ifMode:"math",command:["insert","\\partial"]},{key:"alt+[Backslash]",ifMode:"math",command:["insert","\\backslash"]},{key:"[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#?}{#@}"]},{key:"shift+alt+k",command:"toggleKeystrokeCaption"},{key:"alt+[Space]",command:"toggleContextMenu"},{key:"alt+shift+[Space]",command:"toggleVirtualKeyboard"},{key:"alt+ctrl+[ArrowUp]",command:["speak","all",{withHighlighting:!1}]},{key:"alt+ctrl+[ArrowDown]",command:["speak","selection",{withHighlighting:!1}]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["switchMode","text","",""]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["switchMode","math","",""]},{key:"shift+alt+[KeyT]",ifMode:"math",command:["switchMode","text"]},{key:"shift+alt+[KeyT]",ifMode:"text",command:["switchMode","math"]},{key:"/",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","/"]},{key:"alt+shift+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","/"]},{key:"alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrack #0 \\right\\rbrack"]},{key:"ctrl+[Minus]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"moveToSubscript"},{key:"shift+alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrace #0 \\right\\rbrace"]},{key:"ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"shift+ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"shift+cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"ctrl+[Backspace]",ifMode:"math",command:"removeRow"},{key:"cmd+[Backspace]",ifMode:"math",command:"removeRow"},{key:"alt+[Tab]",ifMode:"math",command:"addColumnAfter"},{key:"shift+alt+[Tab]",ifMode:"math",command:"addColumnBefore"},{key:"alt+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"shift+alt+[Enter]",ifMode:"math",command:"addRowBefore"},{key:"alt+[Return]",ifMode:"math",command:"addRowAfter"},{key:"shift+alt+[Return]",ifMode:"math",command:"addRowBefore"},{key:"shift+[Backspace]",ifMode:"math",command:"removeColumn"},{key:"alt+[Digit5]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$\\infty"]},{key:"alt+[Digit9]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","("]},{key:"alt+[Digit0]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert",")"]},{key:"alt+|",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","|"]},{key:"shift+[Backquote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\~"]},{key:"[Backquote]",ifLayout:["windows.french","linux.french"],ifMode:"math",command:["insert","^2"]},{key:"[Backquote]",ifLayout:["windows.german","linux.german"],ifMode:"math",command:["insert","^"]},{key:"[IntlBackslash]",ifLayout:["apple.german"],ifMode:"math",command:["insert","^"]}],I3e={"\\sqrt":["alt+v","ctrl+[Digit2]"],"\\pi":"alt+p","\\infty":"alt+[Digit5]","\\differentialD":"alt+d","\\partial":"shift+alt+d","\\frac":"Slash","\\emptyset":"alt+o","\\varnothing":"shift+alt+o","\\~":"~"};function ll(t){var e;return((e=t.element)==null?void 0:e.mathfield)===t}function U3e(t){var e,r;return(r=(e=t.querySelector(".ML__caret"))!=null?e:t.querySelector(".ML__text-caret"))!=null?r:t.querySelector(".ML__latex-caret")}function Hv(t){let e=U3e(t);if(!e)return null;let r=e.getBoundingClientRect();return{x:r.right,y:r.bottom,height:r.height}}function P3e(t){var e;if(!t.parent)return"root";let r=(e=t.parent.id)!=null?e:"";return r+=typeof t.parentBranch=="string"?"-"+t.parentBranch:`-${t.parentBranch[0]}/${t.parentBranch[0]}`,r}function IW(t,e,r){if(!e)return null;let n=t.field.getBoundingClientRect(),i=e.right-e.left,s=e.bottom-e.top,o=Math.ceil(e.left-n.left+t.field.scrollLeft*r),a=Math.ceil(e.top-n.top);return{left:o,right:o+i,top:a,bottom:a+s}}function UW(t){let e=t.getBoundingClientRect(),r=parseInt(getComputedStyle(t).marginRight),n={top:e.top-1,bottom:e.bottom,left:e.left,right:e.right-1+r};if(t.children.length===0||t.tagName.toUpperCase()==="SVG")return n;for(let i of t.children)if(i.nodeType===1&&"atomId"in i.dataset&&!i.classList.contains("ML__pstrut")){let s=UW(i);n.left=Math.min(n.left,s.left),n.right=Math.max(n.right,s.right),n.top=Math.min(n.top,s.top),n.bottom=Math.max(n.bottom,s.bottom)}return n}function _h(t,e){var r,n;if(!e.id)return null;let i=(n=(r=t.atomBoundsCache)==null?void 0:r.get(e.id))!=null?n:null;if(i!==null)return i;let s=t.field.querySelector(`[data-atom-id="${e.id}"]`);return i=s?UW(s):null,t.atomBoundsCache&&(i?t.atomBoundsCache.set(e.id,i):t.atomBoundsCache.delete(e.id)),i??null}function Q3e(t,e){let[r,n]=e,i=null;for(let s=r;s<=n;s++){let o=_h(t,t.model.at(s));o&&(i?(i.top=Math.min(i.top,o.top),i.bottom=Math.max(i.bottom,o.bottom),i.left=Math.min(i.left,o.left),i.right=Math.max(i.right,o.right)):i=o)}return i??{top:0,bottom:0,left:0,right:0}}function R3e(t,e,r){let n=new Map,i=t.field,s=i.offsetWidth,o=Math.floor(i.getBoundingClientRect().width)/s;o=isNaN(o)?1:o;for(let a of t.model.getAtoms(e,{includeChildren:!0})){if(r!=null&&r.excludeAtomsWithBackground&&a.style.backgroundColor)continue;let l=IW(t,_h(t,a),o);if(l){let c=P3e(a);if(n.has(c)){let u=n.get(c);n.set(c,{left:Math.min(u.left,l.left),right:Math.max(u.right,l.right),top:Math.min(u.top,l.top),bottom:Math.max(u.bottom,l.bottom)})}else n.set(c,l)}}return[...n.values()]}function PW(t,e){return t.model.selection.ranges.reduce((r,n)=>r.concat(...R3e(t,n,e)),[])}function yE(t,e){return t==="*"||e==="none"?!0:e==="same-origin"?!window.origin||t===window.origin:typeof e=="function"?e(t):!1}function QW(t){let e=0,r=0,n=t.offsetWidth,i=t.offsetHeight;for(;t instanceof HTMLElement;)e+=t.offsetTop,r+=t.offsetLeft,t=t.offsetParent;return new DOMRect(r,e,n,i)}function RW(t,e){if(!t)return;let r=t.model.at(e);if(!r)return;let n={},i=_h(t,r);i&&(n.bounds=new DOMRect(i.left,i.top,i.right-i.left,i.bottom-i.top)),n.depth=r.treeDepth-2,n.style=r.style;let s=r;for(;s;){if(s.command==="\\htmlData"&&s.args&&typeof s.args[0]=="string"){let o=s.args[0].split(",");for(let a of o){let l=a.match(/([^=]+)=(.+$)/);if(l){let c=l[1].trim().replace(/ /g,"-");c&&(n.data||(n.data={}),n.data[c]=l[2])}else{let c=a.trim().replace(/ /g,"-");c&&(n.data||(n.data={}),n.data[c]=void 0)}}}(s.command==="\\htmlId"||s.command==="\\cssId")&&!n.id&&s.args&&typeof s.args[0]=="string"&&(n.id=s.args[0]),s=s.parent}return(r.mode==="math"||r.mode==="text")&&(n.latex=X.serialize([r],{defaultMode:"math"})),n}function H3e(t,e){let r=t.model.at(e);for(;r;){if(r.command==="\\href"){let n=r.args[0];if(typeof n=="string")return n}r=r.parent}return""}var $3e=`@keyframes ML__caret-blink {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
}
.ML__container {
  display: inline-flex;
  flex-flow: row;
  justify-content: space-between;
  align-items: flex-end;
  min-height: 39px;
  /* Need some room for the virtual keyboard toggle */
  width: 100%;
  padding: 4px;
  box-sizing: border-box;
  /* This attribute is necessary to work around a Firefox issue where 
  where clicking multiple times on the border leads to a focused mathfield that cannot be edited until focus is lost and regained (also fixes the multiple cursor issue on firefox that can occur with the same sequence of events).
  */
  pointer-events: auto;
  /* Prevent the browser from trying to interpret touch gestures in the field */
  /* "Disabling double-tap to zoom removes the need for browsers to
        delay the generation of click events when the user taps the screen." */
  touch-action: none;
  --_caret-color: var(--caret-color, hsl(var(--_hue), 40%, 49%));
  --_selection-color: var(--selection-color, #000);
  --_selection-background-color: var(--selection-background-color, hsl(var(--_hue), 70%, 85%));
  --_text-highlight-background-color: var(--highlight-text, hsla(var(--_hue), 40%, 50%, 0.1));
  --_contains-highlight-background-color: var(--contains-highlight-background-color, hsl(var(--_hue), 40%, 95%));
  --_smart-fence-color: var(--smart-fence-color, currentColor);
  --_smart-fence-opacity: var(--smart-fence-opacity, 0.5);
  --_latex-color: var(--latex-color, hsl(var(--_hue), 80%, 40%));
  --_correct-color: var(--correct-color, #10a000);
  --_incorrect-color: var(--incorrect-color, #a01b00);
  --_composition-background-color: var(--composition-background-color, #fff1c2);
  --_composition-text-color: var(--composition-text-color, black);
  --_composition-underline-color: var(--composition-underline-color, transparent);
  --_tooltip-border: var(--tooltip-border, 1px solid transparent);
  --_tooltip-border-radius: var(--tooltip-border-radius, 8px);
  --_tooltip-background-color: var(--tooltip-background-color, #616161);
  --_tooltip-color: var(--tooltip-color, #fff);
  --_tooltip-box-shadow: var(--tooltip-box-shadow, 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2));
}
@media (hover: none) and (pointer: coarse) {
  :host(:not(:focus)) .ML__container {
    pointer-events: none;
  }
}
/* This is the actual field content (formula) */
.ML__content {
  display: flex;
  align-items: center;
  align-self: center;
  position: relative;
  overflow: hidden;
  padding: 2px 3px 2px 1px;
  width: 100%;
  /* Encourage the browser to use the GPU to render the field.
     Weirdly, this is required for prompts to be rendered correctly. 
   */
  isolation: isolate;
}
.ML__virtual-keyboard-toggle,
.ML__menu-toggle {
  box-sizing: border-box;
  display: flex;
  align-self: center;
  align-items: center;
  flex-shrink: 0;
  flex-direction: column;
  justify-content: center;
  width: 34px;
  height: 34px;
  padding: 0;
  margin-right: 4px;
  cursor: pointer;
  /* Avoid some weird blinking with :hover */
  border-radius: 8px;
  border: 1px solid transparent;
  transition: background 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);
  color: hsl(var(--_hue), 40%, 50%);
  fill: currentColor;
  background: transparent;
}
.ML__virtual-keyboard-toggle:hover,
.ML__menu-toggle:hover {
  background: hsla(0, 0%, 70%, 0.3);
  color: #333;
  fill: currentColor;
}
.ML__virtual-keyboard-toggle > span,
.ML__menu-toggle > span {
  display: flex;
  align-self: center;
  align-items: center;
}
@media (pointer: coarse) {
  .ML__virtual-keyboard-toggle,
  .ML__menu-toggle {
    min-width: 60px;
    min-height: 60px;
  }
}
/* The invisible element used to capture keyboard events. We're just trying
 really hard to make sure it doesn't show. */
.ML__keyboard-sink {
  display: inline-block;
  resize: none;
  outline: none;
  border: none;
  /* Need these for Microsoft Edge */
  position: fixed;
  clip: rect(0 0 0 0);
  /* Need this to prevent iOS Safari from auto-zooming */
  font-size: 1em;
  font-family: KaTeX_Main;
  line-height: 0.5;
  /* On Chromium, if this is 0, no keyboard events are received */
}
[part='placeholder'] {
  color: var(--neutral-400);
}
.ML__composition {
  background: var(--_composition-background-color);
  color: var(--_composition-text-color);
  text-decoration: underline var(--_composition-underline-color);
}
.ML__caret {
  display: inline-block;
}
.ML__caret::after {
  content: '';
  visibility: hidden;
  width: 0;
  display: inline-block;
  height: 0.76em;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_caret-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.045em;
  bottom: -0.05em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__text-caret::after {
  content: '';
  visibility: hidden;
  width: 0;
  display: inline-block;
  height: 0.76em;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_caret-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.045em;
  bottom: -0.05em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__latex-caret::after {
  content: '';
  visibility: hidden;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_latex-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.019em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__focused .ML__latex-caret::after,
.ML__focused .ML__text-caret::after,
.ML__focused .ML__caret::after {
  visibility: visible;
}
.ML__focused .ML__text {
  background: var(--_text-highlight-background-color);
}
/* When using smartFence, the anticipated closing fence is displayed
with this style */
.ML__smart-fence__close {
  opacity: var(--_smart-fence-opacity);
  color: var(--_smart-fence-color);
}
.ML__selected,
.ML__focused .ML__selected .ML__contains-caret,
.ML__focused .ML__selected .ML__smart-fence__close,
.ML__focused .ML__selected .ML__placeholder {
  color: var(--_selection-color);
  opacity: 1;
}
.ML__selection {
  box-sizing: border-box;
  background: transparent;
}
:host(:focus) .ML__selection {
  background: var(--_selection-background-color) !important;
}
.ML__contains-caret.ML__close,
.ML__contains-caret.ML__open,
.ML__contains-caret > .ML__close,
.ML__contains-caret > .ML__open,
.ML__contains-caret .ML__sqrt-sign,
.ML__contains-caret .ML__sqrt-line {
  color: var(--_caret-color);
}
.ML__contains-highlight {
  box-sizing: border-box;
  background: transparent;
}
.ML__focused .ML__contains-highlight {
  background: var(--_contains-highlight-background-color);
}
.ML__raw-latex {
  font-family: 'Berkeley Mono', 'IBM Plex Mono', 'Source Code Pro', Consolas, 'Roboto Mono', Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;
  font-weight: 400;
  font-size: 0.8em;
  letter-spacing: -0.05em;
  color: var(--_latex-color);
}
.ML__suggestion {
  color: var(--neutral-500);
}
.ML__virtual-keyboard-toggle.is-visible.is-pressed:hover {
  background: hsl(var(--_hue), 25%, 35%);
  color: #fafafa;
  fill: currentColor;
}
.ML__virtual-keyboard-toggle.is-pressed,
.ML__virtual-keyboard-toggle.is-active:hover,
.ML__virtual-keyboard-toggle.is-active {
  background: hsl(var(--_hue), 25%, 35%);
  color: #fafafa;
  fill: currentColor;
}
/* Add an attribute 'data-tooltip' to automatically show a
   tooltip over a element on hover.
*/
[data-tooltip] {
  position: relative;
}
[data-tooltip]::after {
  content: attr(data-tooltip);
  position: absolute;
  display: block;
  z-index: 2;
  pointer-events: none;
  right: auto;
  top: calc(-100% - 4px);
  width: max-content;
  max-width: 200px;
  padding: 8px 8px;
  border-radius: 4px;
  background: #616161;
  color: #fff;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  text-align: center;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-style: normal;
  font-weight: 400;
  font-size: 13px;
  /* Phone */
  opacity: 0;
  transform: scale(0.5);
}
@media only screen and (max-width: 767px) {
  [data-tooltip]::after {
    padding: 8px 16px;
    font-size: 16px;
  }
}
menu [data-tooltip]::after {
  left: 100%;
  top: 0%;
}
menu .ML__base {
  cursor: default;
}
/** Don't display if we're tracking, i.e. have the pointer down */
.tracking [data-tooltip]:hover::after {
  /* Use visibility, not display. Display will remove the after from the DOM, and the override below will not work */
  visibility: hidden;
}
/** But do display if tracking and inside a menu */
.tracking menu li[data-tooltip]:hover::after,
[data-tooltip]:hover::after {
  visibility: visible;
  opacity: 1;
  transform: scale(1);
  transition-property: opacity, scale;
  transition-duration: 0.15s;
  transition-delay: 1s;
  transition-timing-function: cubic-bezier(0.4, 0, 1, 1);
}
.ML__prompt {
  border-radius: 2px;
}
.ML__editablePromptBox {
  outline: 1px solid #acacac;
  border-radius: 2px;
  z-index: -1;
}
.ML__focused .ML__focusedPromptBox {
  outline: highlight auto 1px;
}
.ML__lockedPromptBox {
  background-color: rgba(142, 142, 141, 0.4);
  z-index: -1;
}
.ML__correctPromptBox {
  outline: 1px solid var(--_correct-color);
  box-shadow: 0 0 5px var(--_correct-color);
}
.ML__incorrectPromptBox {
  outline: 1px solid var(--_incorrect-color);
  box-shadow: 0 0 5px var(--_incorrect-color);
}
.variant-submenu {
  display: flex;
  flex-direction: column;
  padding: 8px;
}
.variant-submenu [part='menu-item'].ML__xl {
  font-size: 2rem;
  text-align: center;
  margin: 0;
}
.ML__center-menu .label {
  text-align: center;
}
.insert-matrix-submenu {
  /* Grid doesn't work on Safari */
  --_menu-item-size: 25px;
  width: calc(5 * var(--_menu-item-size));
  display: flex;
  flex-wrap: wrap;
  padding: 8px;
  align-content: center;
  justify-content: center;
}
.insert-matrix-submenu [part='menu-item'] {
  width: var(--_menu-item-size);
  height: var(--_menu-item-size);
  font-size: 21px;
  border: none;
  border-radius: 0;
  line-height: 21px;
  text-align: center;
  padding: 0;
  margin: 0;
}
.border-submenu [part='menu-item'] {
  font-size: 2rem;
  line-height: 1.2;
  text-align: center;
}
.swatches-submenu {
  --_swatch-size: 2rem;
  --_columns: 4;
  display: flex;
  flex-flow: wrap;
  padding: 8px;
  max-width: calc(var(--_columns) * (var(--_swatch-size) + 18px) + 16px);
  box-sizing: border-box;
}
.menu-swatch {
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  width: fit-content;
  height: fit-content;
  margin: 2px;
  padding: 0;
  background: var(--neutral-200);
}
.menu-swatch > .label {
  padding: 0;
  margin: 0;
  line-height: 0;
}
.menu-swatch > .label > span {
  display: inline-block;
  margin: 6px;
  min-width: var(--_swatch-size);
  min-height: var(--_swatch-size);
  border-radius: 50%;
}
.menu-swatch.active {
  background: var(--neutral-100);
  scale: 1.4;
}
.menu-swatch.active > .label > span {
  border-radius: 2px;
}
.menu-swatch .ui-checkmark,
.menu-swatch .ui-mixedmark {
  position: absolute;
  margin: 0;
  padding: 0;
  color: white;
}
.menu-swatch.dark-contrast .ui-checkmark,
.menu-swatch.dark-contrast .ui-mixedmark {
  color: #000;
}
.ML__insert-template {
  font-size: 1em;
}
.ML__insert-label {
  opacity: 0.5;
  margin-left: 2ex;
}
`,V3e=`.ML__container {
  min-height: auto !important;
  --_hue: var(--hue, 212);
  --_placeholder-color: var(--placeholder-color, hsl(var(--_hue), 40%, 49%));
  --_placeholder-opacity: var(--placeholder-opacity, 0.4);
  --_text-font-family: var(--text-font-family, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif);
}
.ML__sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  clip-path: inset(50%);
  white-space: nowrap;
  border: 0;
}
.ML__is-inline {
  display: inline-block;
}
.ML__base {
  visibility: inherit;
  display: inline-block;
  position: relative;
  cursor: text;
  padding: 0;
  margin: 0;
  box-sizing: content-box;
  border: 0;
  outline: 0;
  vertical-align: baseline;
  font-weight: inherit;
  font-family: inherit;
  font-style: inherit;
  text-decoration: none;
  width: min-content;
}
.ML__strut,
.ML__strut--bottom {
  display: inline-block;
  min-height: 0.5em;
}
.ML__small-delim {
  font-family: KaTeX_Main;
}
/* Text mode */
.ML__text {
  font-family: var(--_text-font-family);
  white-space: pre;
}
/* Use cmr for 'math upright' */
.ML__cmr {
  font-family: KaTeX_Main;
  font-style: normal;
}
.ML__mathit {
  font-family: KaTeX_Math;
  /* The KaTeX_Math font is italic by default, so the font-style below is only 
     useful when a fallback font is used
  */
  font-style: italic;
}
.ML__mathbf {
  font-family: KaTeX_Main;
  font-weight: bold;
}
/* Lowercase greek symbols should stick to math font when \\mathbf is applied 
   to match TeX idiosyncratic behavior */
.lcGreek.ML__mathbf {
  font-family: KaTeX_Math;
}
.ML__mathbfit {
  font-family: KaTeX_Math;
  font-weight: bold;
  font-style: italic;
}
.ML__ams {
  font-family: KaTeX_AMS;
}
/* Blackboard */
.ML__bb {
  font-family: KaTeX_AMS;
}
.ML__cal {
  font-family: KaTeX_Caligraphic;
}
.ML__frak {
  font-family: KaTeX_Fraktur;
}
.ML__tt {
  font-family: KaTeX_Typewriter;
}
.ML__script {
  font-family: KaTeX_Script;
}
.ML__sans {
  font-family: KaTeX_SansSerif;
}
.ML__series_ul {
  font-weight: 100;
}
.ML__series_el {
  font-weight: 100;
}
.ML__series_l {
  font-weight: 200;
}
.ML__series_sl {
  font-weight: 300;
}
.ML__series_sb {
  font-weight: 500;
}
.ML__bold {
  font-weight: 700;
}
.ML__series_eb {
  font-weight: 800;
}
.ML__series_ub {
  font-weight: 900;
}
.ML__series_uc {
  font-stretch: ultra-condensed;
}
.ML__series_ec {
  font-stretch: extra-condensed;
}
.ML__series_c {
  font-stretch: condensed;
}
.ML__series_sc {
  font-stretch: semi-condensed;
}
.ML__series_sx {
  font-stretch: semi-expanded;
}
.ML__series_x {
  font-stretch: expanded;
}
.ML__series_ex {
  font-stretch: extra-expanded;
}
.ML__series_ux {
  font-stretch: ultra-expanded;
}
.ML__it {
  font-style: italic;
}
.ML__shape_ol {
  -webkit-text-stroke: 1px black;
  text-stroke: 1px black;
  color: transparent;
}
.ML__shape_sc {
  font-variant: small-caps;
}
.ML__shape_sl {
  font-style: oblique;
}
/* First level emphasis */
.ML__emph {
  color: #bc2612;
}
/* Second level emphasis */
.ML__emph .ML__emph {
  color: #0c7f99;
}
.ML__highlight {
  color: #007cb2;
  background: #edd1b0;
}
.ML__center {
  text-align: center;
}
.ML__left {
  text-align: left;
}
.ML__right {
  text-align: right;
}
.ML__label_padding {
  padding: 0 0.5em;
}
.ML__frac-line {
  width: 100%;
  min-height: 1px;
}
.ML__frac-line:after {
  content: '';
  display: block;
  margin-top: max(-1px, -0.04em);
  min-height: max(1px, 0.04em);
  /* Ensure the line is visible when printing even if "turn off background images" is on*/
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  /* There's a bug since Chrome 62 where 
      sub-pixel border lines don't draw at some zoom 
      levels (110%, 90%). 
      Setting the min-height used to work around it, but that workaround
      broke in Chrome 84 or so.
      Setting the background (and the min-height) seems to work for now.
      */
  background: currentColor;
  box-sizing: content-box;
  /* Vuetify sets the box-sizing to inherit 
            causes the fraction line to not draw at all sizes (see #26) */
  /* On some versions of Firefox on Windows, the line fails to 
            draw at some zoom levels, but setting the transform triggers
            the hardware accelerated path, which works */
  transform: translate(0, 0);
}
.ML__sqrt {
  display: inline-block;
}
.ML__sqrt-sign {
  display: inline-block;
  position: relative;
}
.ML__sqrt-line {
  display: inline-block;
  height: max(1px, 0.04em);
  width: 100%;
}
.ML__sqrt-line:before {
  content: '';
  display: block;
  margin-top: min(-1px, -0.04em);
  min-height: max(1px, 0.04em);
  /* Ensure the line is visible when printing even if "turn off background images" is on*/
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  background: currentColor;
  /* On some versions of Firefox on Windows, the line fails to 
            draw at some zoom levels, but setting the transform triggers
            the hardware accelerated path, which works */
  transform: translate(0, 0);
}
.ML__sqrt-line:after {
  border-bottom-width: 1px;
  content: ' ';
  display: block;
  margin-top: -0.1em;
}
.ML__sqrt-index {
  margin-left: 0.27777778em;
  margin-right: -0.55555556em;
}
.ML__delim-size1 {
  font-family: KaTeX_Size1;
}
.ML__delim-size2 {
  font-family: KaTeX_Size2;
}
.ML__delim-size3 {
  font-family: KaTeX_Size3;
}
.ML__delim-size4 {
  font-family: KaTeX_Size4;
}
.ML__delim-mult .delim-size1 > span {
  font-family: KaTeX_Size1;
}
.ML__delim-mult .delim-size4 > span {
  font-family: KaTeX_Size4;
}
.ML__accent-body > span {
  font-family: KaTeX_Main;
  width: 0;
}
.ML__accent-combining-char {
  position: relative;
  left: 0.24em;
}
/** The markup for a LaTeX formula, either in an editable mathfield or 
    in a static display.
*/
.ML__latex {
  display: inline-block;
  direction: ltr;
  text-align: left;
  text-indent: 0;
  text-rendering: auto;
  font-family: inherit;
  font-style: normal;
  font-size-adjust: none;
  font-stretch: normal;
  font-variant-caps: normal;
  letter-spacing: normal;
  line-height: 1.2;
  word-wrap: normal;
  word-spacing: normal;
  white-space: nowrap;
  text-shadow: none;
  -webkit-user-select: none;
  user-select: none;
  width: min-content;
}
.ML__latex .style-wrap {
  position: relative;
}
.ML__latex .ML__mfrac {
  display: inline-block;
}
.ML__latex .ML__left-right {
  display: inline-block;
}
.ML__latex .ML__vlist-t {
  display: inline-table;
  table-layout: fixed;
  border-collapse: collapse;
}
.ML__latex .ML__vlist-r {
  display: table-row;
}
.ML__latex .ML__vlist {
  display: table-cell;
  vertical-align: bottom;
  position: relative;
}
.ML__latex .ML__vlist > span {
  display: block;
  height: 0;
  position: relative;
}
.ML__latex .ML__vlist > span > span {
  display: inline-block;
}
.ML__latex .ML__vlist > span > .ML__pstrut {
  overflow: hidden;
  width: 0;
}
.ML__latex .ML__vlist-t2 {
  margin-right: -2px;
}
.ML__latex .ML__vlist-s {
  display: table-cell;
  vertical-align: bottom;
  font-size: 1px;
  width: 2px;
  min-width: 2px;
}
.ML__latex .ML__msubsup {
  text-align: left;
}
.ML__latex .ML__negativethinspace {
  display: inline-block;
  margin-left: -0.16667em;
  height: 0.71em;
}
.ML__latex .ML__thinspace {
  display: inline-block;
  width: 0.16667em;
  height: 0.71em;
}
.ML__latex .ML__mediumspace {
  display: inline-block;
  width: 0.22222em;
  height: 0.71em;
}
.ML__latex .ML__thickspace {
  display: inline-block;
  width: 0.27778em;
  height: 0.71em;
}
.ML__latex .ML__enspace {
  display: inline-block;
  width: 0.5em;
  height: 0.71em;
}
.ML__latex .ML__quad {
  display: inline-block;
  width: 1em;
  height: 0.71em;
}
.ML__latex .ML__qquad {
  display: inline-block;
  width: 2em;
  height: 0.71em;
}
.ML__latex .ML__llap,
.ML__latex .ML__rlap {
  width: 0;
  position: relative;
  display: inline-block;
}
.ML__latex .ML__llap > .ML__inner,
.ML__latex .ML__rlap > .ML__inner {
  position: absolute;
}
.ML__latex .ML__llap > .ML__fix,
.ML__latex .ML__rlap > .ML__fix {
  display: inline-block;
}
.ML__latex .ML__llap > .ML__inner {
  right: 0;
}
.ML__latex .ML__rlap > .ML__inner {
  left: 0;
}
.ML__latex .ML__rule {
  display: inline-block;
  border: solid 0;
  position: relative;
  box-sizing: border-box;
}
.ML__latex .overline .overline-line,
.ML__latex .underline .underline-line {
  width: 100%;
}
.ML__latex .overline .overline-line:before,
.ML__latex .underline .underline-line:before {
  content: '';
  border-bottom-style: solid;
  border-bottom-width: max(1px, 0.04em);
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  display: block;
}
.ML__latex .overline .overline-line:after,
.ML__latex .underline .underline-line:after {
  border-bottom-style: solid;
  border-bottom-width: max(1px, 0.04em);
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  content: '';
  display: block;
  margin-top: -1px;
}
.ML__latex .ML__stretchy {
  display: block;
  position: absolute;
  width: 100%;
  left: 0;
  overflow: hidden;
}
.ML__latex .ML__stretchy:before,
.ML__latex .ML__stretchy:after {
  content: '';
}
.ML__latex .ML__stretchy svg {
  display: block;
  position: absolute;
  width: 100%;
  height: inherit;
  fill: currentColor;
  stroke: currentColor;
  fill-rule: nonzero;
  fill-opacity: 1;
  stroke-width: 1;
  stroke-linecap: butt;
  stroke-linejoin: miter;
  stroke-miterlimit: 4;
  stroke-dasharray: none;
  stroke-dashoffset: 0;
  stroke-opacity: 1;
}
.ML__latex .slice-1-of-2 {
  display: inline-flex;
  position: absolute;
  left: 0;
  width: 50.2%;
  overflow: hidden;
}
.ML__latex .slice-2-of-2 {
  display: inline-flex;
  position: absolute;
  right: 0;
  width: 50.2%;
  overflow: hidden;
}
.ML__latex .slice-1-of-3 {
  display: inline-flex;
  position: absolute;
  left: 0;
  width: 25.1%;
  overflow: hidden;
}
.ML__latex .slice-2-of-3 {
  display: inline-flex;
  position: absolute;
  left: 25%;
  width: 50%;
  overflow: hidden;
}
.ML__latex .slice-3-of-3 {
  display: inline-flex;
  position: absolute;
  right: 0;
  width: 25.1%;
  overflow: hidden;
}
.ML__latex .slice-1-of-1 {
  display: inline-flex;
  position: absolute;
  width: 100%;
  left: 0;
  overflow: hidden;
}
.ML__latex .ML__nulldelimiter {
  display: inline-block;
}
.ML__latex .ML__op-group {
  display: inline-block;
}
.ML__latex .ML__op-symbol {
  position: relative;
}
.ML__latex .ML__op-symbol.ML__small-op {
  font-family: KaTeX_Size1;
}
.ML__latex .ML__op-symbol.ML__large-op {
  font-family: KaTeX_Size2;
}
.ML__latex:has(.ML__center_environment),
.ML__latex:has(.ML__multiline_environment),
.ML__latex:has(.ML__align_environment),
.ML__latex:has(.ML__eqnarray_environment),
.ML__latex:has(.ML__gather_environment) {
  width: 100%;
}
.ML__latex .ML__multiline_environment {
  display: inline-flex;
  width: 100%;
}
.ML__latex .ML__center_environment {
  display: inline-flex;
  width: 100%;
  justify-content: center;
}
.ML__latex .ML__align_environment,
.ML__latex .ML__eqnarray_environment,
.ML__latex .ML__gather_environment {
  display: inline-block;
}
.ML__latex .ML__mtable .ML__vertical-separator {
  display: inline-block;
  min-width: 1px;
  box-sizing: border-box;
}
.ML__latex .ML__mtable .ML__arraycolsep {
  display: inline-block;
}
.ML__latex .ML__mtable .col-align-m > .ML__vlist-t {
  text-align: center;
}
.ML__latex .ML__mtable .col-align-c > .ML__vlist-t {
  text-align: center;
}
.ML__latex .ML__mtable .col-align-l > .ML__vlist-t {
  text-align: left;
}
.ML__latex .ML__mtable .col-align-r > .ML__vlist-t {
  text-align: right;
}
[data-href] {
  cursor: pointer;
}
.ML__error {
  display: inline-block;
  background-image: radial-gradient(ellipse at center, hsl(341, 100%, 40%), rgba(0, 0, 0, 0) 70%);
  background-color: hsla(341, 100%, 40%, 0.1);
  background-repeat: repeat-x;
  background-size: 3px 3px;
  padding-bottom: 3px;
  background-position: 0 100%;
}
.ML__error > .ML__error {
  background: transparent;
  padding: 0;
}
.ML__placeholder {
  color: var(--_placeholder-color);
  opacity: var(--_placeholder-opacity);
  padding-left: 0.4ex;
  padding-right: 0.4ex;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
}
.ML__notation {
  position: absolute;
  box-sizing: border-box;
  line-height: 0;
}
/* This class is used to implement the \`\\mathtip\` and \`\\texttip\` commands
   For UI elements, see \`[data-ML__tooltip]\`
*/
.ML__tooltip-container {
  position: relative;
  transform: scale(0);
}
.ML__tooltip-container .ML__tooltip-content {
  position: fixed;
  display: inline-table;
  visibility: hidden;
  z-index: 2;
  width: max-content;
  max-width: 400px;
  padding: 12px 12px;
  border: var(--tooltip-border);
  border-radius: var(--tooltip-border-radius);
  background: var(--tooltip-background-color);
  --_selection-color: var(--tooltip-color);
  color: var(--tooltip-color);
  box-shadow: var(--tooltip-box-shadow);
  opacity: 0;
  transition: opacity 0.15s cubic-bezier(0.4, 0, 1, 1);
}
.ML__tooltip-container .ML__tooltip-content .ML__text {
  white-space: normal;
}
.ML__tooltip-container .ML__tooltip-content .ML__base {
  display: contents;
}
.ML__tooltip-container:hover .ML__tooltip-content {
  visibility: visible;
  opacity: 1;
  font-size: 0.75em;
  transform: scale(1) translate(0, 3em);
}
`,K3e=`#mathlive-environment-popover.is-visible {
  visibility: visible;
}
#mathlive-environment-popover {
  --_environment-panel-height: var(--environment-panel-height, 70px);
  --_accent-color: var(--accent-color, #aaa);
  --_background: var(--environment-panel-background, #fff);
  --_button-background: var(--environment-panel-button-background, white);
  --_button-background-hover: var(--environment-panel-button-background-hover, #f5f5f7);
  --_button-background-active: var(--environment-panel-button-background-active, #f5f5f7);
  --_button-text: var(--environment-panel-button-text, #e3e4e8);
  position: absolute;
  width: calc(var(--_environment-panel-height) * 2);
  height: var(--_environment-panel-height);
  border-radius: 4px;
  border: 1.5px solid var(--_accent-color);
  background-color: var(--_background);
  box-shadow: 0 0 30px 0 var(--environment-shadow, rgba(0, 0, 0, 0.4));
  pointer-events: all;
  visibility: hidden;
}
#mathlive-environment-popover .MLEP__array-buttons {
  height: calc(var(--_environment-panel-height) * 5/4);
  width: calc(var(--_environment-panel-height) * 5/4);
  margin-left: calc(0px - var(--_environment-panel-height) * 0.16);
  margin-top: calc(0px - var(--_environment-panel-height) * 0.19);
}
#mathlive-environment-popover .MLEP__array-buttons .font {
  fill: white;
}
#mathlive-environment-popover .MLEP__array-buttons circle {
  fill: #7f7f7f;
  transition: fill 300ms;
}
#mathlive-environment-popover .MLEP__array-buttons .MLEP__array-insert-background {
  fill-opacity: 1;
  fill: var(--_background);
  stroke: var(--_accent-color);
  stroke-width: 3px;
}
#mathlive-environment-popover .MLEP__array-buttons line {
  stroke: var(--_accent-color);
  stroke-opacity: 0;
  stroke-width: 40;
  pointer-events: none;
  transition: stroke-opacity 300ms;
  stroke-linecap: round;
}
#mathlive-environment-popover .MLEP__array-buttons g[data-command]:hover circle {
  fill: var(--_accent-color);
}
#mathlive-environment-popover .MLEP__array-buttons g[data-command]:hover line {
  stroke-opacity: 1;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls {
  height: 100%;
  width: 50%;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options {
  width: var(--_environment-panel-height);
  height: var(--_environment-panel-height);
  display: flex;
  flex-wrap: wrap;
  flex-direction: row;
  justify-content: space-around;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg {
  pointer-events: all;
  margin-top: 2px;
  width: calc(var(--_environment-panel-height) / 3 * 28 / 24);
  height: calc(var(--_environment-panel-height) / 3 - 2px);
  border-radius: calc(var(--_environment-panel-height) / 25);
  background-color: var(--_button-background);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg:hover {
  background-color: var(--_button-background-hover);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg path,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg line {
  stroke: var(--_button-text);
  stroke-width: 2;
  stroke-linecap: round;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg rect,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg path {
  fill-opacity: 0;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active {
  pointer-events: none;
  background-color: var(--_button-background-active);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active path,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active line {
  stroke: var(--_accent-color);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active circle {
  fill: var(--_accent-color);
}
`,z3e=`/* The element that display info while in latex mode */
#mathlive-suggestion-popover {
  background-color: rgba(97, 97, 97);
  color: #fff;
  text-align: center;
  border-radius: 8px;
  position: fixed;
  z-index: 1;
  display: none;
  flex-direction: column;
  justify-content: center;
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
}
#mathlive-suggestion-popover.top-tip::after {
  content: '';
  position: absolute;
  top: -15px;
  left: calc(50% - 15px);
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-bottom: 15px solid rgba(97, 97, 97);
  font-size: 1rem;
}
#mathlive-suggestion-popover.bottom-tip::after {
  content: '';
  position: absolute;
  bottom: -15px;
  left: calc(50% - 15px);
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-top: 15px solid rgba(97, 97, 97);
  font-size: 1rem;
}
#mathlive-suggestion-popover.is-animated {
  transition: all 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);
  animation: ML__fade-in cubic-bezier(0, 0, 0.2, 1) 0.15s;
}
#mathlive-suggestion-popover.is-visible {
  display: flex;
}
@keyframes ML__fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
/* The wrapper class for the entire content of the popover panel */
#mathlive-suggestion-popover ul {
  display: flex;
  flex-flow: column;
  list-style: none;
  margin: 0;
  padding: 0;
  align-items: flex-start;
  max-height: 400px;
  overflow-y: auto;
}
#mathlive-suggestion-popover li {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  margin: 8px;
  padding: 8px;
  width: calc(100% - 16px - 16px);
  column-gap: 1em;
  border-radius: 8px;
  cursor: pointer;
  /* Since the content can be clicked on, provide feedback on hover */
}
#mathlive-suggestion-popover li a {
  color: #5ea6fd;
  padding-top: 0.3em;
  margin-top: 0.4em;
  display: block;
}
#mathlive-suggestion-popover li a:hover {
  color: #5ea6fd;
  text-decoration: underline;
}
#mathlive-suggestion-popover li:hover,
#mathlive-suggestion-popover li.is-pressed,
#mathlive-suggestion-popover li.is-active {
  background: rgba(255, 255, 255, 0.1);
}
/* The command inside a popover (inside a #mathlive-suggestion-popover) */
.ML__popover__command {
  font-size: 1.6rem;
  font-family: KaTeX_Main;
}
.ML__popover__current {
  background: #5ea6fd;
  color: #fff;
}
.ML__popover__latex {
  font-family: 'IBM Plex Mono', 'Source Code Pro', Consolas, 'Roboto Mono', Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;
  align-self: center;
}
/* The keyboard shortcuts for a symbol as displayed in the popover */
.ML__popover__keybinding {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 0.8em;
  opacity: 0.7;
}
/* Style for the character that joins the modifiers of a keyboard shortcut 
(usually a "+" sign)*/
.ML__shortcut-join {
  opacity: 0.5;
}
`,W3e=`/* The element that displays the keys as the user type them */
#mathlive-keystroke-caption-panel {
  visibility: hidden;
  /*min-width: 160px;*/
  /*background-color: rgba(97, 97, 200, .95);*/
  background: var(--secondary, hsl(var(--_hue), 19%, 26%));
  border-color: var(--secondary-border, hsl(0, 0%, 91%));
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
  text-align: center;
  border-radius: 6px;
  padding: 16px;
  position: absolute;
  z-index: 1;
  display: flex;
  flex-direction: row-reverse;
  justify-content: center;
  --keystroke: white;
  --on-keystroke: #555;
  --keystroke-border: #f7f7f7;
}
@media (prefers-color-scheme: dark) {
  body:not([theme='light']) #mathlive-keystroke-caption-panel {
    --keystroke: hsl(var(--_hue), 50%, 30%);
    --on-keystroke: hsl(0, 0%, 98%);
    --keystroke-border: hsl(var(--_hue), 50%, 25%);
  }
}
body[theme='dark'] #mathlive-keystroke-caption-panel {
  --keystroke: hsl(var(--_hue), 50%, 30%);
  --on-keystroke: hsl(0, 0%, 98%);
  --keystroke-border: hsl(var(--_hue), 50%, 25%);
}
#mathlive-keystroke-caption-panel > span {
  min-width: 14px;
  /*height: 8px;*/
  margin: 0 8px 0 0;
  padding: 4px;
  background-color: var(--keystroke);
  color: var(--on-keystroke);
  fill: currentColor;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 1em;
  border-radius: 6px;
  border: 2px solid var(--keystroke-border);
  /*box-shadow: 0 7px 14px rgba(0,0,0,0.25), 0 5px 5px rgba(0,0,0,0.22);*/
}
`,G3e=`.ML__keyboard {
  --_keyboard-height: 0;
  --_keyboard-zindex: var(--keyboard-zindex, 105);
  --_accent-color: var(--keyboard-accent-color, #0c75d8);
  --_background: var(--keyboard-background, #cacfd7);
  --_border: var(--keyboard-border, #ddd);
  --_padding-horizontal: var(--keyboard-padding-horizontal, 0px);
  --_padding-top: var(--keyboard-padding-top, 5px);
  --_padding-bottom: var(--keyboard-padding-bottom, 0px);
  --_row-padding-left: var(--keyboard-row-padding-left, 0px);
  --_row-padding-right: var(--keyboard-row-padding-right, 0px);
  --_toolbar-text: var(--keyboard-toolbar-text, #2c2e2f);
  --_toolbar-text-active: var(--keyboard-toolbar-text-active, var(--_accent-color));
  --_toolbar-background: var(--keyboard-toolbar-background, transparent);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #eee);
  --_toolbar-background-selected: var(--keyboard-toolbar-background-selected, transparent);
  --_toolbar-font-size: var(--keyboard-toolbar-font-size, '135%');
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #fff);
  --_keycap-background: var(--keycap-background, #f0f0f0);
  --_keycap-background-hover: var(--keycap-background-hover, #f5f5f7);
  --_keycap-background-active: var(--keycap-background-active, var(--_accent-color));
  --_keycap-background-pressed: var(--keycap-background-pressed, var(--_accent-color));
  --_keycap-border: var(--keycap-border, #e5e6e9);
  --_keycap-border-bottom: var(--keycap-border-bottom, #8d8f92);
  --_keycap-text: var(--keycap-text, #000);
  --_keycap-text-active: var(--keycap-text-active, #fff);
  --_keycap-text-hover: var(--keycap-text-hover, var(--_keycap-text));
  --_keycap-text-pressed: var(--keycap-text-pressed, #fff);
  --_keycap-shift-text: var(--keycap-shift-text, var(--_accent-color));
  --_keycap-primary-background: var(--keycap-primary-background, var(--_accent-color));
  --_keycap-primary-text: var(--keycap-primary-text, #ddd);
  --_keycap-primary-background-hover: var(--keycap-primary-background-hover, #0d80f2);
  --_keycap-secondary-background: var(--keycap-secondary-background, #a0a9b8);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #7d8795);
  --_keycap-secondary-text: var(--keycap-secondary-text, #060707);
  --_keycap-secondary-border: var(--keycap-secondary-border, #c5c9d0);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, #989da6);
  --_keycap-height: var(--keycap-height, 60px);
  /* Keycap width (incl. margin) */
  --_keycap-max-width: var(--keycap-max-width, 100px);
  --_keycap-gap: var(--keycap-gap, 8px);
  --_keycap-font-size: var(--keycap-font-size, clamp(16px, 4cqw, 24px));
  --_keycap-small-font-size: var(--keycap-small-font-size, calc(var(--keycap-font-size) * 0.8));
  --_keycap-extra-small-font-size: var(--keycap-extra-small-font-size, calc(var(--keycap-font-size) / 1.42));
  --_variant-panel-background: var(--variant-panel-background, #f0f0f0);
  --_variant-keycap-text: var(--variant-keycap-text, var(--_keycap-text));
  --_variant-keycap-text-active: var(--variant-keycap-text-active, var(--_keycap-text-active));
  --_variant-keycap-background-active: var(--variant-keycap-background-active, var(--_accent-color));
  --_variant-keycap-length: var(--variant-keycap-length, 70px);
  --_variant-keycap-font-size: var(--variant-keycap-font-size, 30px);
  --_variant-keycap-aside-font-size: var(--variant-keycap-aside-font-size, 12px);
  --_keycap-shift-font-size: var(--keycap-shift-font-size, 16px);
  --_keycap-shift-color: var(--keycap-shift-color, var(--_accent-color));
  --_box-placeholder-color: var(--box-placeholder-color, var(--_accent-color));
  --_box-placeholder-pressed-color: var(--box-placeholder-pressed-color, var(--keycap-text-pressed));
  --_keycap-glyph-size: var(--keycap-glyph-size, 20px);
  --_keycap-glyph-size-lg: var(--keycap-glyph-size-lg, 24px);
  --_keycap-glyph-size-xl: var(--keycap-glyph-size-xl, 50px);
}
.is-math-mode .MLK__rows .if-text-mode,
.is-text-mode .MLK__rows .if-math-mode {
  display: none;
}
.if-can-undo,
.if-can-redo,
.if-can-copy,
.if-can-cut,
.if-can-paste {
  opacity: 0.4;
  pointer-events: none;
}
.can-undo .if-can-undo,
.can-redo .if-can-redo,
.can-copy .if-can-copy,
.can-cut .if-can-cut,
.can-paste .if-can-paste {
  opacity: 1;
  pointer-events: all;
}
body > .ML__keyboard {
  position: fixed;
  --_padding-bottom: calc(var(--keyboard-padding-bottom, 0px) + env(safe-area-inset-bottom, 0));
}
body > .ML__keyboard.is-visible > .MLK__backdrop {
  box-shadow: 0 -5px 6px rgba(0, 0, 0, 0.08);
  border-top: 1px solid var(--_border);
}
body > .ML__keyboard.backdrop-is-transparent.is-visible > .MLK__backdrop {
  box-shadow: none;
  border: none;
}
body > .ML__keyboard.is-visible.animate > .MLK__backdrop {
  transition: 0.28s cubic-bezier(0, 0, 0.2, 1);
  transition-property: transform, opacity;
  transition-timing-function: cubic-bezier(0.4, 0, 1, 1);
}
.ML__keyboard {
  position: relative;
  overflow: hidden;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  z-index: var(--_keyboard-zindex);
  box-sizing: border-box;
  outline: none;
  border: none;
  margin: 0;
  padding: 0;
  line-height: 1;
  overflow-wrap: unset;
  text-align: left;
  vertical-align: baseline;
  cursor: auto;
  white-space: pre;
  box-shadow: none;
  opacity: 1;
  transform: none;
  pointer-events: none;
}
.ML__keyboard :where(div) {
  box-sizing: border-box;
  outline: none;
  border: none;
  margin: 0;
  padding: 0;
  line-height: 1;
  overflow-wrap: unset;
  text-align: left;
  vertical-align: baseline;
  cursor: auto;
  white-space: pre;
  box-shadow: none;
  transform: none;
}
.MLK__backdrop {
  position: absolute;
  bottom: calc(-1 * var(--_keyboard-height));
  width: 100%;
  height: var(--_keyboard-height);
  box-sizing: border-box;
  padding-top: var(--_padding-top);
  padding-bottom: var(--_padding-bottom);
  padding-left: var(--_padding-horizontal);
  padding-right: var(--_padding-horizontal);
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0);
  background: var(--_background);
}
.backdrop-is-transparent .MLK__backdrop {
  background: transparent;
}
/* If a custom layout has a custom container/backdrop
  (backdrop-is-transparent), make sure to let pointer event go through. */
.backdrop-is-transparent .MLK__plate {
  background: transparent;
  pointer-events: none;
}
/* If a custom layout has a custom container/backdrop, make sure to 
   allow pointer events on it. */
.backdrop-is-transparent .MLK__layer > div > div {
  pointer-events: all;
}
.ML__keyboard.is-visible > .MLK__backdrop {
  transform: translate(0, calc(-1 * var(--_keyboard-height)));
  opacity: 1;
  visibility: visible;
}
.caps-lock-indicator {
  display: none;
  width: 8px;
  height: 8px;
  background: #0cbc0c;
  box-shadow: inset 0 0 4px 0 #13ca13, 0 0 4px 0 #a9ef48;
  border-radius: 8px;
  right: 8px;
  top: 8px;
  position: absolute;
}
.ML__keyboard.is-caps-lock .caps-lock-indicator {
  display: block;
}
.ML__keyboard.is-caps-lock .shift {
  background: var(--_keycap-background-active);
  color: var(--_keycap-text-active);
}
.MLK__plate {
  position: absolute;
  top: var(--_padding-top);
  left: var(--_padding-horizontal);
  width: calc(100% - 2 * var(--_padding-horizontal));
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  container-type: inline-size;
  touch-action: none;
  -webkit-user-select: none;
  user-select: none;
  pointer-events: all;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 16px;
  /* Size of toolbar labels */
  font-weight: 400;
  text-shadow: none;
}
.ML__box-placeholder {
  color: var(--_box-placeholder-color);
}
.MLK__tex {
  font-family: KaTeX_Main, KaTeX_Math, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__tex-math {
  font-family: KaTeX_Math, KaTeX_Main, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
  font-style: italic;
}
.MLK__layer {
  display: none;
  outline: none;
}
.MLK__layer.is-visible {
  display: flex;
  flex-flow: column;
}
/* Keyboard layouts are made or rows of keys... */
.MLK__rows {
  --_keycap-width: var(--keycap-width, min(var(--_keycap-max-width), 10cqw));
  display: flex;
  flex-flow: column;
  align-items: center;
  border-collapse: separate;
  clear: both;
  border: 0;
  margin: 0;
  margin-bottom: var(--_keycap-gap);
  gap: var(--_keycap-gap);
  /* If the styling include, e.g., some shadows, they will be
  cut off by the overflow. In that case, set the padding to 
  compensate. */
  padding-left: var(--_row-padding-left);
  padding-right: var(--_row-padding-right);
  overflow: visible;
  touch-action: none;
}
.MLK__rows > .MLK__row {
  display: flex;
  flex-flow: row;
  justify-content: center;
  width: 100%;
  gap: var(--_keycap-gap);
  margin: 0;
  padding: 0;
  /* For the alignment of the text on some modifiers (e.g. shift) */
  /* Extra spacing between two adjacent keys */
}
.MLK__rows > .MLK__row .tex {
  font-family: KaTeX_Math, KaTeX_Main, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__rows > .MLK__row .tex-math {
  font-family: KaTeX_Math, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__rows > .MLK__row .big-op {
  font-size: calc(1.25 * var(--_keycap-font-size));
}
.MLK__rows > .MLK__row .small {
  font-size: var(--_keycap-small-font-size);
}
.MLK__rows > .MLK__row .bottom {
  justify-content: flex-end;
}
.MLK__rows > .MLK__row .left {
  align-items: flex-start;
  padding-left: 12px;
}
.MLK__rows > .MLK__row .right {
  align-items: flex-end;
  padding-right: 12px;
}
.MLK__rows > .MLK__row .w0 {
  width: 0;
}
.MLK__rows > .MLK__row .w5 {
  width: calc(0.5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w15 {
  width: calc(1.5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w20 {
  width: calc(2 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w40 {
  width: calc(4 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w50 {
  width: calc(5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .MLK__keycap.w50 {
  font-size: 80%;
  padding-top: 10px;
  font-weight: 100;
}
.MLK__rows > .MLK__row .separator {
  background: transparent;
  border: none;
  pointer-events: none;
}
.MLK__rows > .MLK__row .horizontal-rule {
  height: 6px;
  margin-top: 3px;
  margin-bottom: 0;
  width: 100%;
  border-radius: 0;
  border-top: var(--_horizontal-rule);
}
.MLK__rows > .MLK__row .ghost {
  background: var(--_toolbar-background);
  border: none;
  color: var(--_toolbar-text);
}
.MLK__rows > .MLK__row .ghost:hover {
  background: var(--_toolbar-background-hover);
}
.MLK__rows > .MLK__row .bigfnbutton {
  font-size: var(--_keycap-extra-small-font-size);
}
.MLK__rows > .MLK__row .shift,
.MLK__rows > .MLK__row .action {
  color: var(--_keycap-secondary-text);
  background: var(--_keycap-secondary-background);
  border-color: var(--_keycap-secondary-border);
  border-bottom-color: var(--_keycap-secondary-border-bottom);
  line-height: 0.8;
  font-size: min(1rem, var(--_keycap-small-font-size));
  font-weight: 600;
  padding: 8px 12px 8px 12px;
}
.MLK__rows > .MLK__row .shift:hover,
.MLK__rows > .MLK__row .action:hover {
  background: var(--_keycap-secondary-background-hover);
}
.MLK__rows > .MLK__row .action.primary {
  background: var(--_keycap-primary-background);
  color: var(--_keycap-primary-text);
}
.MLK__rows > .MLK__row .action.primary:hover {
  background: var(--_keycap-primary-background-hover);
  color: var(--_keycap-primary-text);
}
.MLK__rows > .MLK__row .shift.selected,
.MLK__rows > .MLK__row .action.selected {
  color: var(--_toolbar-text-active);
}
.MLK__rows > .MLK__row .shift.selected.is-pressed,
.MLK__rows > .MLK__row .action.selected.is-pressed,
.MLK__rows > .MLK__row .shift.selected.is-active,
.MLK__rows > .MLK__row .action.selected.is-active {
  color: white;
}
.MLK__rows > .MLK__row .warning {
  background: #cd0030;
  color: white;
}
.MLK__rows > .MLK__row .warning svg.svg-glyph {
  width: var(--_keycap-glyph-size-lg);
  height: var(--_keycap-glyph-size-lg);
  min-height: var(--_keycap-glyph-size-lg);
}
/** A regular keycap
 * Use the :where() pseudo-class to give it a very low specifity, 
 * so that it can be overriden by custom style.
 */
:where(.MLK__rows > .MLK__row div) {
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: space-evenly;
  width: calc(var(--_keycap-width) - var(--_keycap-gap));
  height: var(--_keycap-height);
  box-sizing: border-box;
  padding: 0;
  vertical-align: top;
  text-align: center;
  float: left;
  color: var(--_keycap-text);
  fill: currentColor;
  font-size: var(--_keycap-font-size);
  background: var(--_keycap-background);
  border: 1px solid var(--_keycap-border);
  border-bottom-color: var(--_keycap-border-bottom);
  border-radius: 6px;
  cursor: pointer;
  touch-action: none;
  /* Keys with a variants panel */
  position: relative;
  overflow: hidden;
  -webkit-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}
:where(.MLK__rows > .MLK__row div):hover {
  overflow: visible;
  background: var(--_keycap-background-hover);
}
:where(.MLK__rows > .MLK__row div) .ML__latex {
  pointer-events: none;
  touch-action: none;
}
:where(.MLK__rows > .MLK__row div) svg.svg-glyph {
  margin: 8px 0;
  width: var(--_keycap-glyph-size);
  height: var(--_keycap-glyph-size);
  min-height: var(--_keycap-glyph-size);
}
:where(.MLK__rows > .MLK__row div) svg.svg-glyph-lg {
  margin: 8px 0;
  width: var(--_keycap-glyph-size-lg);
  height: var(--_keycap-glyph-size-lg);
  min-height: var(--_keycap-glyph-size-lg);
}
:where(.MLK__rows > .MLK__row div).MLK__tex-math {
  font-size: 25px;
}
:where(.MLK__rows > .MLK__row div).is-pressed {
  background: var(--_keycap-background-pressed);
  color: var(--_keycap-text-pressed);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active,
:where(.MLK__rows > .MLK__row div).action.is-active,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed,
:where(.MLK__rows > .MLK__row div).action.is-pressed {
  z-index: calc(var(--_keyboard-zindex) - 5);
}
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active aside,
:where(.MLK__rows > .MLK__row div).action.is-active aside,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed aside,
:where(.MLK__rows > .MLK__row div).action.is-pressed aside {
  display: none;
}
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active .MLK__shift,
:where(.MLK__rows > .MLK__row div).action.is-active .MLK__shift,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed .MLK__shift,
:where(.MLK__rows > .MLK__row div).action.is-pressed .MLK__shift {
  display: none;
}
:where(.MLK__rows > .MLK__row div).shift.is-pressed,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed,
:where(.MLK__rows > .MLK__row div).action.is-pressed {
  background: var(--_keycap-background-pressed);
  color: var(--_keycap-text-pressed);
}
:where(.MLK__rows > .MLK__row div).shift.is-active,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active,
:where(.MLK__rows > .MLK__row div).action.is-active {
  background: var(--_keycap-background-active);
  color: var(--_keycap-text-active);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
:where(.MLK__rows > .MLK__row div) small {
  color: var(--_keycap-secondary-text);
}
:where(.MLK__rows > .MLK__row div) aside {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 10px;
  line-height: 10px;
  color: var(--_keycap-secondary-text);
}
/* Add an attribute 'data-tooltip' to display a tooltip on hover.
Note there are a different set of tooltip rules for the keyboard toggle
(it's in a different CSS tree) */
.ML__keyboard [data-tooltip] {
  position: relative;
}
.ML__keyboard [data-tooltip]::after {
  position: absolute;
  display: inline-table;
  content: attr(data-tooltip);
  top: inherit;
  bottom: 100%;
  width: max-content;
  max-width: 200px;
  padding: 8px 8px;
  background: #616161;
  color: #fff;
  text-align: center;
  z-index: 2;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  border-radius: 2px;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-weight: 400;
  font-size: 12px;
  transition: all 0.15s cubic-bezier(0.4, 0, 1, 1) 1s;
  opacity: 0;
  transform: scale(0.5);
}
.ML__keyboard [data-tooltip]:hover {
  position: relative;
}
.ML__keyboard [data-tooltip]:hover::after {
  opacity: 1;
  transform: scale(1);
}
.MLK__toolbar {
  align-self: center;
  display: flex;
  flex-flow: row;
  justify-content: space-between;
  width: 100%;
  max-width: 996px;
  min-height: 32px;
  /* Icons for undo/redo, etc. */
}
.MLK__toolbar svg {
  height: 20px;
  width: 20px;
}
.MLK__toolbar > .left {
  position: relative;
  display: flex;
  justify-content: flex-start;
  flex-flow: row;
}
.MLK__toolbar > .right {
  display: flex;
  justify-content: flex-end;
  flex-flow: row;
}
.MLK__toolbar > div > div {
  /* "button" in the toolbar */
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--_toolbar-text);
  fill: currentColor;
  background: var(--_toolbar-background);
  font-size: var(--_toolbar-font-size);
  padding: 4px 15px;
  cursor: pointer;
  width: max-content;
  min-width: 42px;
  min-height: 34px;
  border: none;
  padding-left: 10px;
  padding-right: 10px;
  padding-bottom: 8px;
  padding-top: 8px;
  margin-top: 0;
  margin-bottom: 4px;
  margin-left: 4px;
  margin-right: 4px;
  border-radius: 8px;
  box-shadow: none;
  border-bottom: 2px solid transparent;
}
.MLK__toolbar > div > div:not(.disabled):not(.selected):hover {
  background: var(--_toolbar-background-hover);
}
.MLK__toolbar > div > div.disabled svg,
.MLK__toolbar > div > div.disabled:hover svg,
.MLK__toolbar > div > div.disabled.is-pressed svg {
  color: var(--_toolbar-text);
  opacity: 0.2;
}
.MLK__toolbar > div > div:hover,
.MLK__toolbar > div > div:active,
.MLK__toolbar > div > div.is-pressed,
.MLK__toolbar > div > div.is-active {
  color: var(--_toolbar-text-active);
}
.MLK__toolbar > div > div.selected {
  color: var(--_toolbar-text-active);
  background: var(--_toolbar-background-selected);
  border-radius: 0;
  border-bottom-color: var(--_toolbar-text-active);
  padding-bottom: 4px;
  margin-bottom: 8px;
}
/* This is the element that displays variants on press+hold */
.MLK__variant-panel {
  visibility: hidden;
  position: fixed;
  display: flex;
  flex-flow: row wrap-reverse;
  justify-content: center;
  align-content: center;
  margin: 0;
  padding: 0;
  bottom: auto;
  top: 0;
  box-sizing: content-box;
  transform: none;
  z-index: calc(var(--_keyboard-zindex) + 1);
  touch-action: none;
  max-width: 350px;
  background: var(--_variant-panel-background);
  text-align: center;
  border-radius: 6px;
  padding: 6px;
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
  transition: none;
}
.MLK__variant-panel.is-visible {
  visibility: visible;
}
.MLK__variant-panel.compact {
  --_variant-keycap-length: var(--variant-keycap-length, 50px);
  --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
  --_variant-keycap-aside-font-size: var(--variant-keycap-aside-font-size, 10px);
}
.MLK__variant-panel .item {
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: center;
  font-size: var(--_variant-keycap-font-size);
  height: var(--_variant-keycap-length);
  width: var(--_variant-keycap-length);
  margin: 0;
  box-sizing: border-box;
  border-radius: 5px;
  border: 1px solid transparent;
  background: transparent;
  pointer-events: all;
  cursor: pointer;
  color: var(--_variant-keycap-text);
  fill: currentColor;
}
@media (max-height: 412px) {
  .MLK__variant-panel .item {
    --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
    --_variant-keycap-length: var(--variant-keycap-length, 50px);
  }
}
.MLK__variant-panel .item .ML__latex {
  pointer-events: none;
}
.MLK__variant-panel .item.is-active {
  background: var(--_variant-keycap-background-active);
  color: var(--_variant-keycap-text-active);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
.MLK__variant-panel .item.is-pressed {
  background: var(--_variant-keycap-background-pressed);
  color: var(--_variant-keycap-text-pressed);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
.MLK__variant-panel .item.small {
  font-size: var(--_keycap-small-font-size);
}
.MLK__variant-panel .item.swatch-button {
  box-sizing: border-box;
  background: #fbfbfb;
}
.MLK__variant-panel .item.swatch-button > span {
  display: inline-block;
  margin: 6px;
  width: calc(100% - 12px);
  height: calc(100% - 12px);
  border-radius: 50%;
}
.MLK__variant-panel .item.swatch-button:hover {
  background: #f0f0f0;
}
.MLK__variant-panel .item.swatch-button:hover > span {
  border-radius: 2px;
}
.MLK__variant-panel .item.box > div,
.MLK__variant-panel .item.box > span {
  border: 1px dashed rgba(0, 0, 0, 0.24);
}
.MLK__variant-panel .item .warning {
  min-height: 60px;
  min-width: 60px;
  background: #cd0030;
  color: white;
  padding: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 5px;
}
.MLK__variant-panel .item .warning.is-pressed,
.MLK__variant-panel .item .warning.is-active {
  background: red;
}
.MLK__variant-panel .item .warning svg.svg-glyph {
  width: var(--_keycap-glyph-size-xl);
  height: var(--_keycap-glyph-size-xl);
}
.MLK__variant-panel .item aside {
  font-size: var(--_variant-keycap-aside-font-size);
  line-height: 12px;
  opacity: 0.78;
  padding-top: 2px;
  width: 100%;
  text-align: center;
  text-wrap: wrap;
}
.MLK__keycap {
  position: relative;
}
.MLK__shift {
  display: block;
  position: absolute;
  right: 4px;
  top: 4px;
  font-size: var(--_keycap-shift-font-size);
  color: var(--_keycap-shift-color);
}
.hide-shift .MLK__shift {
  display: none;
}
@media (max-width: 414px) {
  .MLK__variant-panel {
    max-width: 350px;
    --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
    --_variant-keycap-length: var(--variant-keycap-length, 50px);
  }
}
/* @xs breakpoint: iPhone 5 */
@container (max-width: 414px) {
  .MLK__rows {
    --_keycap-gap: max(var(--_keycap-gap, 2px), 2px);
    --_keycap-height: max(var(--_keycap-height), 42px);
    --_keycap-width: var(--keycap-width, min(min(var(--_keycap-max-width)), 10cqw), 62px));
  }
  .MLK__toolbar > div > div {
    font-size: 100%;
    margin-left: 2px;
    margin-right: 2px;
  }
  .MLK__rows .shift,
  .MLK__rows .action {
    font-size: 65%;
  }
  .MLK__rows .warning svg.svg-glyph {
    width: 14px;
    height: 14px;
    min-height: 14px;
  }
}
@container (max-width: 744px) {
  .MLK__rows {
    --_keycap-gap: max(var(--keycap-gap, 2px), 2px);
    --_keycap-height: max(var(--keycap-height, 52px), 52px);
    --_keycap-width: var(--keycap-width, min(min(var(--_keycap-max-width), 10cqw), 62px));
  }
  .MLK__toolbar > div > div {
    padding-left: 0;
    padding-right: 0;
  }
  .MLK__tooltip::after {
    padding: 8px 16px;
    font-size: 16px;
  }
  .MLK__rows > .MLK__row > div.fnbutton {
    font-size: 16px;
  }
  .MLK__rows > .MLK__row > div.bigfnbutton {
    font-size: calc(var(--_keycap-extra-small-font-size) / 1.55);
  }
  .MLK__rows > .MLK__row > div.small {
    font-size: 13px;
  }
  .MLK__rows > .MLK__row > div > aside {
    display: none;
  }
  .MLK__shift {
    display: none;
  }
}
/* Medium breakpoint: larger phones */
@container (max-width: 768px) {
  .MLK__rows {
    --_keycap-height: max(var(--keycap-height, 42px), 42px);
  }
  .MLK__rows > .MLK__row > div > small {
    font-size: 14px;
  }
}
@media (max-height: 768px) {
  .MLK__rows {
    --_keycap-height: max(var(--keycap-height, 42px), 42px);
  }
  .MLK__rows > .MLK__row > div > small {
    font-size: 14px;
  }
}
@container (max-width: 1444px) {
  .MLK__rows .if-wide {
    display: none;
  }
}
@media (prefers-color-scheme: dark) {
  .ML__keyboard {
    --_accent-color: var(--keyboard-accent-color, #0b5c9c);
    --_background: var(--keyboard-background, #151515);
    --_border: var(--keyboard-border, transparent);
    --_toolbar-text: var(--keyboard-toolbar-text, #e3e4e8);
    --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #303030);
    --keyboard-toolbar-background-hover: #303030;
    --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #303030);
    --_keycap-background: var(--keycap-background, #1f2022);
    --_keycap-background-hover: var(--keycap-background-hover, #2f3032);
    --_keycap-border: var(--_keycap-border, transparent);
    --_keycap-border-bottom: var(--_keycap-border-bottom, transparent);
    --_keycap-text: var(--keycap-text, #e3e4e8);
    --_keycap-secondary-background: var(--keycap-secondary-background, #3d4144);
    --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #4d5154);
    --_keycap-secondary-text: var(--keycap-secondary-text, #e7ebee);
    --keycap-secondary-border: transparent;
    --keycap-secondary-border-bottom: transparent;
    --_keycap-secondary-border: var(--keycap-secondary-border, transparent);
    --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, transparent);
    --_variant-panel-background: var(--variant-panel-background, #303030);
    --_variant-keycap-text-active: var(--variant-keycap-text-active, #fff);
  }
}
/* Same as the media query, but with a class */
[theme='dark'] .ML__keyboard {
  --_accent-color: var(--keyboard-accent-color, #0b5c9c);
  --_background: var(--keyboard-background, #151515);
  --_border: var(--keyboard-border, transparent);
  --_toolbar-text: var(--keyboard-toolbar-text, #e3e4e8);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #303030);
  --keyboard-toolbar-background-hover: #303030;
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #303030);
  --_keycap-background: var(--keycap-background, #1f2022);
  --_keycap-background-hover: var(--keycap-background-hover, #2f3032);
  --_keycap-border: var(--_keycap-border, transparent);
  --_keycap-border-bottom: var(--_keycap-border-bottom, transparent);
  --_keycap-text: var(--keycap-text, #e3e4e8);
  --_keycap-secondary-background: var(--keycap-secondary-background, #3d4144);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #4d5154);
  --_keycap-secondary-text: var(--keycap-secondary-text, #e7ebee);
  --keycap-secondary-border: transparent;
  --keycap-secondary-border-bottom: transparent;
  --_keycap-secondary-border: var(--keycap-secondary-border, transparent);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, transparent);
  --_variant-panel-background: var(--variant-panel-background, #303030);
  --_variant-keycap-text-active: var(--variant-keycap-text-active, #fff);
}
[theme='light'] .ML__keyboard {
  --_accent-color: var(--keyboard-accent-color, #0c75d8);
  --_background: var(--keyboard-background, #cacfd7);
  --_border: var(--keyboard-border, #ddd);
  --_toolbar-text: var(--keyboard-toolbar-text, #2c2e2f);
  --_toolbar-background: var(--keyboard-toolbar-background, transparent);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #eee);
  --_toolbar-background-selected: var(--keyboard-toolbar-background-selected, transparent);
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #fff);
  --_keycap-background: var(--keycap-background, white);
  --_keycap-background-hover: var(--keycap-background-hover, #f5f5f7);
  --_keycap-background-active: var(--keycap-background-active, var(--_accent-color));
  --_keycap-background-pressed: var(--keycap-background-pressed, var(--_accent-color));
  --_keycap-border: var(--_keycap-border, #e5e6e9);
  --_keycap-border-bottom: var(--_keycap-border-bottom, #8d8f92);
  --_keycap-text: var(--keycap-text, #000);
  --_keycap-text-active: var(--keycap-text-active, #fff);
  --_keycap-text-hover: var(--keycap-text-hover, var(--_keycap-text));
  --_keycap-text-pressed: var(--keycap-text-pressed, #fff);
  --_keycap-shift-text: var(--keycap-shift-text, var(--_accent-color));
  --_keycap-secondary-background: var(--keycap-secondary-background, #a0a9b8);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #7d8795);
  --_keycap-secondary-text: var(--keycap-secondary-text, #060707);
  --_keycap-secondary-border: var(--keycap-secondary-border, #c5c9d0);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, #989da6);
  --_variant-panel-background: var(--variant-panel-background, #f0f0f0);
  --_variant-keycap-text: var(--variant-keycap-textvar, var(--_keycap-text));
  --_variant-keycap-text-active: var(--variant-keycap-text-active, var(--_keycap-text-active));
  --_variant-keycap-background-active: var(--variant-keycap-background-active, var(--_accent-color));
}
`,q3e=`:host {
  --primary-color: #5898ff;
  --primary-color-dimmed: #c0c0f0;
  --primary-color-dark: var(--blue-500);
  --primary-color-light: var(--blue-100);
  --primary-color-reverse: #ffffff;
  --secondary-color: #ff8a65;
  --secondary-color-dimmed: #f0d5c5;
  --secondary-color-dark: var(--orange-500);
  --secondary-color-light: var(--orange-100);
  --secondary-color-reverse: #ffffff;
  --link-color: #5898ff;
  --link-color-dimmed: #c5c5c5;
  --link-color-dark: #121212;
  --link-color-light: #e2e2e2;
  --link-color-reverse: #ffffff;
  --semantic-blue: var(--blue-700);
  --semantic-red: var(--red-400);
  --semantic-orange: var(--orange-400);
  --semantic-green: var(--green-700);
  --neutral-100: #f5f5f5;
  --neutral-200: #eeeeee;
  --neutral-300: #e0e0e0;
  --neutral-400: #bdbdbd;
  --neutral-500: #9e9e9e;
  --neutral-600: #757575;
  --neutral-700: #616161;
  --neutral-800: #424242;
  --neutral-900: #212121;
  --red-25: #fff8f7;
  --red-50: #fff1ef;
  --red-100: #ffeae6;
  --red-200: #ffcac1;
  --red-300: #ffa495;
  --red-400: #ff7865;
  --red-500: #f21c0d;
  --red-600: #e50018;
  --red-700: #d30024;
  --red-800: #bd002c;
  --red-900: #a1002f;
  --orange-25: #fffbf8;
  --orange-50: #fff7f1;
  --orange-100: #fff3ea;
  --orange-200: #ffe1c9;
  --orange-300: #ffcca2;
  --orange-400: #ffb677;
  --orange-500: #fe9310;
  --orange-600: #f58700;
  --orange-700: #ea7c00;
  --orange-800: #dc6d00;
  --orange-900: #ca5b00;
  --brown-25: #fff8ef;
  --brown-50: #fff1df;
  --brown-100: #ffe9ce;
  --brown-200: #ebcca6;
  --brown-300: #cdaf8a;
  --brown-400: #af936f;
  --brown-500: #856a47;
  --brown-600: #7f5e34;
  --brown-700: #78511f;
  --brown-800: #6e4200;
  --brown-900: #593200;
  --yellow-25: #fffdf9;
  --yellow-50: #fffcf2;
  --yellow-100: #fffaec;
  --yellow-200: #fff2ce;
  --yellow-300: #ffe8ab;
  --yellow-400: #ffdf85;
  --yellow-500: #ffcf33;
  --yellow-600: #f1c000;
  --yellow-700: #dfb200;
  --yellow-800: #c9a000;
  --yellow-900: #ad8a00;
  --lime-25: #f4ffee;
  --lime-50: #e9ffdd;
  --lime-100: #ddffca;
  --lime-200: #a8fb6f;
  --lime-300: #94e659;
  --lime-400: #80d142;
  --lime-500: #63b215;
  --lime-600: #45a000;
  --lime-700: #268e00;
  --lime-800: #007417;
  --lime-900: #005321;
  --green-25: #f5fff5;
  --green-50: #ebffea;
  --green-100: #e0ffdf;
  --green-200: #a7ffa7;
  --green-300: #5afa65;
  --green-400: #45e953;
  --green-500: #17cf36;
  --green-600: #00b944;
  --green-700: #00a34a;
  --green-800: #008749;
  --green-900: #00653e;
  --teal-25: #f3ffff;
  --teal-50: #e6fffe;
  --teal-100: #d9fffe;
  --teal-200: #8dfffe;
  --teal-300: #57f4f4;
  --teal-400: #43e5e5;
  --teal-500: #17cfcf;
  --teal-600: #00c2c0;
  --teal-700: #00b5b1;
  --teal-800: #00a49e;
  --teal-900: #009087;
  --cyan-25: #f7fcff;
  --cyan-50: #eff8ff;
  --cyan-100: #e7f5ff;
  --cyan-200: #c2e6ff;
  --cyan-300: #95d5ff;
  --cyan-400: #61c4ff;
  --cyan-500: #13a7ec;
  --cyan-600: #069eda;
  --cyan-700: #0095c9;
  --cyan-800: #0088b2;
  --cyan-900: #0a7897;
  --blue-25: #f7faff;
  --blue-50: #eef5ff;
  --blue-100: #e5f1ff;
  --blue-200: #bfdbff;
  --blue-300: #92c2ff;
  --blue-400: #63a8ff;
  --blue-500: #0d80f2;
  --blue-600: #0077db;
  --blue-700: #006dc4;
  --blue-800: #0060a7;
  --blue-900: #005086;
  --indigo-25: #f8f7ff;
  --indigo-50: #f1efff;
  --indigo-100: #eae7ff;
  --indigo-200: #ccc3ff;
  --indigo-300: #ac99ff;
  --indigo-400: #916aff;
  --indigo-500: #63c;
  --indigo-600: #5a21b2;
  --indigo-700: #4e0b99;
  --indigo-800: #3b0071;
  --indigo-900: #220040;
  --purple-25: #fbf7ff;
  --purple-50: #f8f0ff;
  --purple-100: #f4e8ff;
  --purple-200: #e4c4ff;
  --purple-300: #d49aff;
  --purple-400: #c36aff;
  --purple-500: #a219e6;
  --purple-600: #9000c4;
  --purple-700: #7c009f;
  --purple-800: #600073;
  --purple-900: #3d0043;
  --magenta-25: #fff8fb;
  --magenta-50: #fff2f6;
  --magenta-100: #ffebf2;
  --magenta-200: #ffcddf;
  --magenta-300: #ffa8cb;
  --magenta-400: #ff7fb7;
  --magenta-500: #eb4799;
  --magenta-600: #da3689;
  --magenta-700: #c82179;
  --magenta-800: #b00065;
  --magenta-900: #8a004c;
}
@media (prefers-color-scheme: dark) {
  :host {
    --semantic-blue: var(--blue-700);
    --semantic-red: var(--red-400);
    --semantic-orange: var(--orange-400);
    --semantic-green: var(--green-700);
    --semantic-bg-blue: var(--blue-25);
    --semantic-bg-red: var(--red-25);
    --semantic-bg-orange: var(--orange-25);
    --semantic-bg-green: var(--green-25);
    --neutral-100: #121212;
    --neutral-200: #424242;
    --neutral-300: #616161;
    --neutral-400: #757575;
    --neutral-500: #9e9e9e;
    --neutral-600: #bdbdbd;
    --neutral-700: #e0e0e0;
    --neutral-800: #eeeeee;
    --neutral-900: #f5f5f5;
  }
}
:host([theme='dark']) {
  --semantic-blue: var(--blue-700);
  --semantic-red: var(--red-400);
  --semantic-orange: var(--orange-400);
  --semantic-green: var(--green-700);
  --semantic-bg-blue: var(--blue-25);
  --semantic-bg-red: var(--red-25);
  --semantic-bg-orange: var(--orange-25);
  --semantic-bg-green: var(--green-25);
  --neutral-100: #121212;
  --neutral-200: #424242;
  --neutral-300: #616161;
  --neutral-400: #757575;
  --neutral-500: #9e9e9e;
  --neutral-600: #bdbdbd;
  --neutral-700: #e0e0e0;
  --neutral-800: #eeeeee;
  --neutral-900: #f5f5f5;
}
/* @media (prefers-color-scheme: dark) {
  :host {
      --label-color: #fff;
      --active-label-color: #000;
      --menu-bg: #525252;
      --active-bg: #5898ff;
      --active-bg-dimmed: #5c5c5c;
  }
} */
:host {
  --ui-font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont,
    'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol';
  --ui-font-size: 14px;
  --ui-line-height: 1.5;
  --ui-letter-spacing: 0.007em;
  --mono-font-family: 'Berkeley Mono', 'JetBrains Mono', 'IBM Plex Mono',
    'Source Code Pro', Menlo, Monaco, 'Courier New', monospace;
  --ui-layer-1: var(--neutral-100);
  --ui-layer-2: var(--neutral-200);
  --ui-layer-3: var(--neutral-300);
  --ui-layer-4: var(--neutral-400);
  --ui-layer-5: var(--neutral-500);
  --ui-layer-6: var(--neutral-600);
  --ui-border-color: var(--primary-color);
  --ui-border-radius: 4px;
  --ui-text: var(--neutral-900);
  --ui-text-secondary: var(--neutral-700);
  --ui-text-placeholder: var(--neutral-500);
  --ui-text-muted: var(--neutral-300);
  /** A field is a UI element in which a user can type data, for
  * example an input or textarea element.
  */
  --ui-field-bg: var(--neutral-100);
  --ui-field-bg-hover: var(--neutral-100);
  --ui-field-bg-disabled: var(--neutral-300);
  --ui-field-bg-invalid: var(--red-100);
  --ui-field-bg-focus: var(--neutral-100);
  --ui-field-border: 0.5px solid var(--border-color);
  --ui-field-border-hover: 0.5px solid var(--border-color);
  --ui-field-border-disabled: 0.5px solid var(--border-color);
  --ui-field-border-invalid: 0.5px solid var(--border-color);
  --ui-field-border-focus: 0.5px solid var(--border-color);
  --ui-menu-bg: var(--neutral-100);
  --ui-menu-text: var(--neutral-900);
  --ui-menu-bg-hover: var(--neutral-200);
  --ui-menu-text-hover: var(--neutral-900);
  /** The \`active\` state is used for the state of menu items
  * when they are selected.
  */
  --ui-menu-bg-active: var(--primary-color);
  --ui-menu-text-active: var(--primary-color-reverse);
  /** The \`active-muted\` set is used for the state of
  * submenus when they are open.
  */
  --ui-menu-bg-active-muted: var(--neutral-300);
  --ui-menu-text-active-muted: var(--neutral-900);
  /* --ui-menu-shadow: 0 1px 2px 0 rgba(60, 64, 67, 0.302),
0 2px 6px 2px rgba(60, 64, 67, 0.149); */
  --ui-menu-shadow: 0 0 2px rgba(0, 0, 0, 0.5), 0 0 20px rgba(0, 0, 0, 0.2);
  --ui-menu-divider: 0.5px solid #c7c7c7;
  /* var(--neutral-300); */
  --ui-menu-z-index: 10000;
  --page-bg: var(--neutral-100);
  --content-bg: var(--neutral-200);
}
@media (prefers-color-scheme: dark) {
  :host {
    --ui-menu-bg: var(--neutral-200);
  }
}
:host([theme='dark']) {
  --ui-menu-bg: var(--neutral-200);
}
/* PingFang SC is a macOS font. Microsoft Yahei is a Windows font. 
  Noto  is a Linux/Android font.
*/
:lang(zh-cn),
:lang(zh-sg),
:lang(zh-my),
:lang(zh) {
  --ui-font-family: -apple-system, system-ui, 'PingFang SC', 'Hiragino Sans GB',
    'Noto Sans CJK SC', 'Noto Sans SC', 'Noto Sans', 'Microsoft Yahei UI',
    'Microsoft YaHei New', 'Microsoft Yahei', '', SimSun, '',
    STXihei, '', sans-serif;
}
:lang(zh-tw),
:lang(zh-hk),
:lang(zh-mo) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans',
    'Microsoft JhengHei UI', 'Microsoft JhengHei', '', '',
    'PMingLiU', '', 'MingLiU', sans-serif;
}
:lang(ja),
:lang(ja-jp),
:lang(ja-jp-mac) {
  --ui-font-family: -apple-system, system-ui, 'Hiragino Sans',
    'Hiragino Kaku Gothic ProN', 'Noto Sans CJK JP', 'Noto Sans JP', 'Noto Sans',
    '', '', YuGothic, 'Yu Gothic', '', Meiryo,
    ' ', 'MS PGothic', sans-serif;
}
:lang(ko),
:lang(ko-kr),
:lang(ko-kr-std) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans CJK KR', 'Noto Sans KR',
    'Noto Sans', 'Malgun Gothic', ' ', 'Apple SD Gothic Neo',
    ' SD  Neo', 'Apple SD  Neo', '', Dotum, sans-serif;
}
:lang(ko-kr-apple) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans CJK KR', 'Noto Sans KR',
    'Noto Sans', 'Apple SD Gothic Neo', ' SD  Neo',
    'Apple SD  Neo', '', Dotum, sans-serif;
}
:lang(zh-cn),
:lang(zh-sg),
:lang(zh-my),
:lang(zh),
:lang(zh-tw),
:lang(zh-hk),
:lang(zh-mo),
:lang(ja),
:lang(ja-jp),
:lang(ja-jp-mac),
:lang(ko),
:lang(ko-kr),
:lang(ko-kr-std),
:lang(ko-kr-apple) {
  --ui-font-size: 1rem;
  --ui-line-height: 1.7;
  --ui-letter-spacing: 0;
}
:dir(rtl) {
  --ui-line-height: auto;
  --ui-letter-spacing: 0;
}
`,X3e=`.ui-menu *,
.ui-menu ::before,
.ui-menu ::after {
  box-sizing: border-box;
}
.ui-menu {
  display: none;
  color-scheme: light dark;
  -webkit-user-select: none;
  /* Important: Safari iOS doesn't respect user-select */
  user-select: none;
  cursor: default;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: rgba(0 0 0 0);
  --active-label-color: #fff;
  /* ui-menu-text-active */
  --label-color: #121212;
  /* ui-menu-text */
  --menu-bg: #e2e2e2;
  /* ui-menu-background */
  --active-bg: #5898ff;
  /* ui-menu-background-active */
  --active-bg-dimmed: #c5c5c5;
  /* ui-menu-background-active-muted */
}
/** Use the :where pseudo selector to make the specificity of the
 * selector 0, so that it can be overridden by the user.
 */
:where(.ui-menu-container) {
  position: absolute;
  overflow: visible;
  width: auto;
  height: auto;
  z-index: 10000;
  border-radius: 8px;
  background: var(--ui-menu-bg);
  box-shadow: var(--ui-menu-shadow);
  list-style: none;
  padding: 6px 0 6px 0;
  margin: 0;
  user-select: none;
  cursor: default;
  color: var(--ui-menu-text);
  font-weight: normal;
  font-style: normal;
  text-shadow: none;
  text-transform: none;
  letter-spacing: 0;
  outline: none;
  opacity: 1;
  /* The [popover] elements have a 1px solid black border. Ugh. */
  border: none;
  width: fit-content;
  height: fit-content;
}
:where(.ui-menu-container > li) {
  display: flex;
  flex-flow: row;
  align-items: center;
  padding: 1px 7px 1px 7px;
  margin-top: 0;
  margin-left: 6px;
  margin-right: 6px;
  border-radius: 4px;
  white-space: nowrap;
  position: relative;
  outline: none;
  fill: currentColor;
  user-select: none;
  cursor: default;
  text-align: left;
  color: inherit;
  font-family: var(--ui-font-family);
  font-size: var(--ui-font-size);
  line-height: var(--ui-line-height);
  letter-spacing: var(--ui-letter-spacing);
}
:where(.ui-menu-container > li > .label) {
  display: flex;
  align-items: center;
  justify-content: space-between;
  appearance: none;
  background: none;
  outline: none;
  width: 100%;
  margin: 0;
  padding: 1px 2px 1px 1px;
  overflow: visible;
  border: 1px solid transparent;
  white-space: nowrap;
  text-align: start;
  align-content: center;
}
:where(.ui-menu-container > li:has(.heading)) {
  margin-top: 0.5em;
}
:where(.ui-menu-container > li > .label.heading) {
  font-weight: bold;
  opacity: 0.4;
}
:where(.ui-menu-container > li.indent > .label) {
  margin-inline-start: 12px;
}
:where(.ui-menu-container > li > .label.indent) {
  margin-inline-start: 12px;
}
:where(.ui-menu-container > li[role='divider']) {
  border-bottom: 1px solid var(--ui-menu-divider);
  border-radius: 0;
  padding: 0;
  margin-left: 15px;
  margin-right: 15px;
  padding-top: 5px;
  margin-bottom: 5px;
  width: calc(100% - 30px);
  /** 100% - (margin-left + margin-right) */
}
:where(.ui-menu-container > li[aria-disabled='true']) {
  opacity: 0.5;
}
:where(.ui-menu-container > li.active) {
  background: var(--ui-menu-bg-active);
  background: -apple-system-control-accent;
  color: var(--ui-menu-text-active);
}
:where(.ui-menu-container > li.active.is-submenu-open) {
  background: var(--ui-menu-bg-active-muted);
  color: inherit;
}
:where(.ui-menu-container > li[aria-haspopup='true'] > .label) {
  padding-inline-end: 0;
}
:where(.ui-menu-container > li[aria-haspopup='true'].active::after) {
  color: var(--ui-menu-text-active);
}
/** Keyboard shortcut */
:where(.ui-menu-container > li > kbd) {
  font-family: var(--ui-font-family);
  margin-inline-start: 12px;
  opacity: 0.4;
}
:where(.ui-menu-container > li.active > kbd) {
  opacity: 0.85;
}
.ui-trailing-chevron {
  display: flex;
  margin-inline-start: 24px;
  width: 10px;
  height: 10px;
  margin-bottom: 4px;
}
.ui-trailing-chevron:dir(rtl) {
  transform: scaleX(-1);
}
.ui-checkmark {
  display: flex;
  margin-inline-end: -11px;
  margin-inline-start: -4px;
  margin-top: 2px;
  width: 16px;
  height: 16px;
}
.ui-mixedmark {
  display: flex;
  margin-inline-end: -11px;
  margin-inline-start: -4px;
  margin-top: 2px;
  width: 16px;
  height: 16px;
}
`,Uc;function $c(t){let e="";switch(t){case"mathfield-element":e=`
    :host { display: inline-block; background-color: field; color: fieldtext; border-width: 1px; border-style: solid; border-color: #acacac; border-radius: 2px;}
    :host([hidden]) { display: none; }
    :host([disabled]), :host([disabled]:focus), :host([disabled]:focus-within) { outline: none; opacity:  .5; }
    :host(:focus), :host(:focus-within) {
      outline: Highlight auto 1px;    /* For Firefox */
      outline: -webkit-focus-ring-color auto 1px;
    }
    :host([readonly]:focus), :host([readonly]:focus-within),
    :host([read-only]:focus), :host([read-only]:focus-within) {
      outline: none;
    }`;break;case"core":e=V3e;break;case"mathfield":e=$3e;break;case"environment-popover":e=K3e;break;case"suggestion-popover":e=z3e;break;case"keystroke-caption":e=W3e;break;case"virtual-keyboard":e=G3e;break;case"ui":e=q3e;break;case"menu":e=X3e;break}return e}function TA(t){return Uc||(Uc={}),Uc[t]||(Uc[t]=new CSSStyleSheet,Uc[t].replaceSync($c(t))),Uc[t]}var Ro;function zl(t){var e;try{if(!("adoptedStyleSheets"in document)){if(window.document.getElementById(`mathlive-style-${t}`))return;let r=window.document.createElement("style");r.id=`mathlive-style-${t}`,r.append(window.document.createTextNode($c(t))),window.document.head.appendChild(r);return}if(Ro||(Ro={}),((e=Ro[t])!=null?e:0)!==0)Ro[t]+=1;else{let r=TA(t);document.adoptedStyleSheets=[...document.adoptedStyleSheets,r],Ro[t]=1}}catch(r){console.error("Error injecting stylesheet",t,r)}}function Wl(t){if("adoptedStyleSheets"in document&&Ro!=null&&Ro[t]&&(Ro[t]-=1,Ro[t]<=0)){let e=Uc[t];document.adoptedStyleSheets=document.adoptedStyleSheets.filter(r=>r!==e)}}var Cw=class HW extends X{constructor(e){var r;super(N(D({},e),{type:"accent",body:(r=e.body)!=null?r:void 0})),e.accentChar?this.accent=e.accentChar:this.svgAccent=e==null?void 0:e.svgAccent,this.skipBoundary=!0,this.captureSelection=!0}static fromJson(e){return new HW(e)}toJson(){return N(D({},super.toJson()),{accentChar:this.accent,svgAccent:this.svgAccent})}render(e){var r;let n=new Pe({parent:e,mathstyle:"cramp"},this.style),i=(r=X.createBox(n,this.body))!=null?r:new oe("",{style:this.style}),s=0;!this.hasEmptyBranch("body")&&this.body.length===2&&this.body[1].isCharacterBox()&&(s=i.skew);let o=Math.min(i.height,Fl),a;if(this.svgAccent)a=Pv(this.svgAccent),o=n.metrics.bigOpSpacing1-o;else if(this.accent){let c=new oe(this.accent,{fontFamily:"Main-Regular"});c.italic=0;let u=this.accent===8407||this.accent===8411||this.accent===8412?" ML__accent-combining-char":"";a=new oe(new oe(c),{classes:"ML__accent-body"+u})}a=new rr({shift:0,children:[{box:new oe(i)},-o,{box:a,marginLeft:i.left+2*s,classes:["ML__center"]}]});let l=new oe(a,{type:"lift"});return this.caret&&(l.caret=this.caret),this.bind(n,l.wrap(n)),this.attachSupsub(n,{base:l})}},Bw={"(":")","{":"}","[":"]","|":"|","\\lbrace":"\\rbrace","\\lparen":"\\rparen","\\{":"\\}","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"},Mb=Object.fromEntries(Object.entries(Bw).map(([t,e])=>[e,t]));function _w(t){var e;return(e={"[":91,"]":93,"(":40,")":41,"\\mid":8739,"|":8739,"":8739,"":8741,"\\|":8739,"\\{":123,"\\}":125,"\\lbrace":123,"\\rbrace":125,"\\lparen":40,"\\rparen":41,"\\lbrack":91,"\\rbrack":93,"\\vert":8739,"\\lvert":8739,"\\mvert":8739,"\\rvert":8739,"\\Vert":8741,"\\lVert":8741,"\\mVert":8741,"\\rVert":8741,"\\parallel":8741,"\\shortparallel":8741,"\\langle":10216,"\\rangle":10217,"\\lfloor":8970,"\\rfloor":8971,"\\lceil":8968,"\\rceil":8969,"\\ulcorner":9484,"\\urcorner":9488,"\\llcorner":9492,"\\lrcorner":9496,"\\lgroup":10222,"\\rgroup":10223,"\\lmoustache":9136,"\\rmoustache":9137,"\\surd":8730}[t])!=null?e:t.codePointAt(0)}function Y3e(t,e,r,n){var i;let s=new oe(_w(t),{fontFamily:"Main-Regular",isSelected:n.isSelected,classes:"ML__small-delim "+((i=n.classes)!=null?i:"")}).wrap(e);return r&&s.setTop((1-e.scalingFactor)*ws),s}function $W(t,e,r,n,i){var s,o;let a=new Pe({parent:n,mathstyle:"textstyle"},i==null?void 0:i.style),l=new oe(_w(t),{fontFamily:`Size${e}-Regular`,isSelected:i.isSelected,classes:((s=i.classes)!=null?s:"")+` ML__delim-size${e}`,type:(o=i.type)!=null?o:"ignore"}).wrap(a);return r&&l.setTop((1-a.scalingFactor)*ws),l}function VW(t,e,r,n,i){var s;let o,a,l,c;o=l=c=_w(t),a=null;let u="Size1-Regular";t==="\\vert"||t==="\\lvert"||t==="\\rvert"||t==="\\mvert"||t==="\\mid"?l=o=c=8739:t==="\\Vert"||t==="\\lVert"||t==="\\rVert"||t==="\\mVert"||t==="\\|"?l=o=c=8741:t==="\\uparrow"?l=c=9168:t==="\\Uparrow"?l=c=8214:t==="\\downarrow"?o=l=9168:t==="\\Downarrow"?o=l=8214:t==="\\updownarrow"?(o=8593,l=9168,c=8595):t==="\\Updownarrow"?(o=8657,l=8214,c=8659):t==="["||t==="\\lbrack"?(o=9121,l=9122,c=9123,u="Size4-Regular"):t==="]"||t==="\\rbrack"?(o=9124,l=9125,c=9126,u="Size4-Regular"):t==="\\lfloor"||t===""?(l=o=9122,c=9123,u="Size4-Regular"):t==="\\lceil"||t===""?(o=9121,l=c=9122,u="Size4-Regular"):t==="\\rfloor"||t===""?(l=o=9125,c=9126,u="Size4-Regular"):t==="\\rceil"||t===""?(o=9124,l=c=9125,u="Size4-Regular"):t==="("||t==="\\lparen"?(o=9115,l=9116,c=9117,u="Size4-Regular"):t===")"||t==="\\rparen"?(o=9118,l=9119,c=9120,u="Size4-Regular"):t==="\\{"||t==="\\lbrace"?(o=9127,a=9128,c=9129,l=9130,u="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(o=9131,a=9132,c=9133,l=9130,u="Size4-Regular"):t==="\\lgroup"||t===""?(o=9127,c=9129,l=9130,u="Size4-Regular"):t==="\\rgroup"||t===""?(o=9131,c=9133,l=9130,u="Size4-Regular"):t==="\\lmoustache"||t===""?(o=9127,c=9133,l=9130,u="Size4-Regular"):t==="\\rmoustache"||t===""?(o=9131,c=9129,l=9130,u="Size4-Regular"):t==="\\surd"?(o=57345,c=9143,l=57344,u="Size4-Regular"):t==="\\ulcorner"?(o=9484,l=c=32):t==="\\urcorner"?(o=9488,l=c=32):t==="\\llcorner"?(c=9492,l=o=32):t==="\\lrcorner"&&(o=9496,l=o=32);let A=sd(o,u),h=A.height+A.depth,f=sd(l,u),p=f.height+f.depth,m=sd(c,u),y=m.height+m.depth,g=0,v=1;if(a!==null){let T=sd(a,u);g=T.height+T.depth,v=2}let x=h+y+g,b=Math.max(0,Math.ceil((e-x)/(v*p))),w=x+b*v*p,C=ws;r&&(C=C*n.scalingFactor);let B=w/2-C,_=.008,k=[];k.push({box:new oe(c,{fontFamily:u})}),k.push(-_);let E=new oe(l,{fontFamily:u});if(a===null)for(let T=0;T<b;T++)k.push({box:E});else{for(let T=0;T<b;T++)k.push({box:E});k.push(-_),k.push({box:new oe(a,{fontFamily:u})}),k.push(-_);for(let T=0;T<b;T++)k.push({box:E})}k.push(-_),k.push({box:new oe(o,{fontFamily:u})});let F="";u==="Size1-Regular"?F=" delim-size1":u==="Size4-Regular"&&(F=" delim-size4");let M=new rr({bottom:B,children:k},{classes:F});return new oe(M,N(D({},i??{}),{classes:((s=i==null?void 0:i.classes)!=null?s:"")+" ML__delim-mult"}))}var KW=new Set(["(",")","\\lparen","\\rparen","[","]","\\lbrack","\\rbrack","\\{","\\}","\\lbrace","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd","","","",""]),J3e=new Set(["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\mvert","\\mid","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","","","",""]),zW=new Set(["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"]),Z3e=[0,1.2,1.8,2.4,3];function eCe(t,e,r,n){return t===void 0||t==="."?Ou(r,n.classes):(t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle"),KW.has(t)||zW.has(t)?$W(t,e,!1,r,n):J3e.has(t)?VW(t,Z3e[e],!1,r,n):null)}var tCe=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],rCe=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"stack"}],nCe=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];function iCe(t){return t.type==="small"?"Main-Regular":t.type==="large"?"Size"+t.size+"-Regular":(t.type,"Size4-Regular")}function sCe(t,e,r,n){let i={"-4":0,"-3":1,0:2}[n.mathstyle.sizeDelta];for(let s=i;s<r.length&&r[s].type!=="stack";s++){let o=sd(t,iCe(r[s]));if(o.defaultMetrics)return{type:"small",mathstyle:"scriptstyle"};let a=o.height+o.depth;if(r[s].type==="small"&&(r[s].mathstyle==="scriptscriptstyle"?a*=Math.max(V6[Math.max(1,n.size-2)],n.minFontScale):r[s].mathstyle==="scriptstyle"&&(a*=Math.max(V6[Math.max(1,n.size-1)],n.minFontScale))),a>e)return r[s]}return r[r.length-1]}function Tb(t,e,r,n,i,s){if(!e||e.length===0||e===".")return Ou(i);e==="<"||e==="\\lt"?e="\\langle":(e===">"||e==="\\gt")&&(e="\\rangle");let o;zW.has(e)?o=tCe:KW.has(e)?o=nCe:o=rCe;let a=sCe(_w(e),r,o,i),l=new Pe({parent:i,mathstyle:a.mathstyle},s==null?void 0:s.style);return a.type==="small"?Y3e(e,l,n,N(D({},s),{type:t})):a.type==="large"?$W(e,a.size,n,l,N(D({},s),{type:t})):(a.type,VW(e,r,n,l,N(D({},s),{type:t})))}function Qm(t,e,r,n,i,s){if(e===".")return Ou(i,s==null?void 0:s.classes);let o=ws*i.scalingFactor,a=901,l=5/Yd,c=Math.max(r-o,n+o),u=Math.max(c/500*a,2*c-l);return Tb(t,e,u,!0,i,s)}function Ou(t,e){let r=new oe(null,{classes:" ML__nulldelimiter "+(e??""),type:"ignore"});return r.width=t.getRegisterAsEm("nulldelimiterspace"),r.wrap(new Pe({parent:t,mathstyle:"textstyle"}))}var mo=class WW extends X{constructor(e){var r;super({type:"placeholder",command:"\\placeholder",mode:(r=e==null?void 0:e.mode)!=null?r:"math",style:e==null?void 0:e.style}),this.captureSelection=!0}static fromJson(e){return new WW(e)}toJson(){return super.toJson()}render(e){let r;return this.value=e.placeholderSymbol,typeof e.renderPlaceholder=="function"?r=e.renderPlaceholder(e):r=this.createBox(e),this.caret&&(r.classes+=" ML__placeholder-selected"),r}_serialize(e){return e.skipPlaceholders?"":"\\placeholder{}"}},GW=["matrix","matrix*","pmatrix","pmatrix*","bmatrix","bmatrix*","Bmatrix","Bmatrix*","vmatrix","vmatrix*","Vmatrix","Vmatrix*"],J6=["cases","dcases","rcases"],qW=["align","align*","aligned","gather","gather*","gathered","split"],oCe=["array","subequations","eqnarray"];function aCe(t){return qW.includes(t)||J6.includes(t)||J6.includes(t)||GW.includes(t)||oCe.includes(t)}function XW(t){return GW.includes(t)}function lCe(t){return J6.includes(t)}function cCe(t){return qW.includes(t)}function uCe(t,e,r){let n=0;for(let c of r.columns)"align"in c&&(n+=1);n=Math.max(n,r.minColumns);let i=0,s=[];for(let c of e){i=Math.max(i,Math.min(c.length,n));let u=0;for(;u<c.length;){let A=[],h=Math.min(c.length,u+n);for(;u<h;)A.push(ACe(c[u],t.mode)),u+=1;if(A.length<r.minColumns)for(;A.length<r.minColumns;)A.push([new X({type:"first",mode:t.mode})]);s.push(A)}}!t.isMultiline&&s.length>0&&s[s.length-1].length===1&&dCe(s[s.length-1][0])&&s.pop();let o=[];for(let c of s){if(c.length!==i)for(let u=c.length;u<i;u++)t.isMultiline?c.push([new X({type:"first",mode:t.mode})]):c.push([new X({type:"first",mode:t.mode}),new mo]);o.push(c)}let a=0,l=0;for(let c of o){l=0;for(let u of c){for(let A of u)A.parent=t,A.parentBranch=[a,l];l+=1}a+=1}return t.isDirty=!0,o}function ACe(t,e){return t.length===0?[new X({type:"first",mode:e})]:t[0].type!=="first"?[new X({type:"first",mode:e}),...t]:(t.slice(1).some(r=>r.type==="first"),t)}function dCe(t){return t.length===1&&t[0].type==="first"}var Ne=class YW extends X{get isMultiline(){let e=this.environmentName;return["lines","multline","multline*","align","split","gather","gathered"].includes(e)}constructor(e,r,n,i={}){var s,o,a,l;if(super({type:"array",isRoot:i.isRoot}),this.environmentName=e,i.columns)i.columns.length===0?this.colFormat=[{align:"l"}]:this.colFormat=[...i.columns];else if(i.minColumns){let c=[];for(let u=0;u<i.minColumns;u++)c.push({align:"l"});this.colFormat=c}else this.colFormat=[{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"}];this.minColumns=(s=i.minColumns)!=null?s:1,this.minRows=(o=i.minRows)!=null?o:1,this.maxRows=(a=i.maxRows)!=null?a:1/0,this._rows=uCe(this,r,{columns:this.colFormat,minColumns:this.minColumns,minRows:this.minRows,maxRows:this.maxRows}),this.rowGaps=n,i.arraycolsep!==void 0&&(this.arraycolsep=i.arraycolsep),this.colSeparationType=i.colSeparationType,i.arraystretch!==void 0&&(this.arraystretch=i.arraystretch),i.mathstyleName&&(this.mathstyleName=i.mathstyleName),i.leftDelim&&(this.leftDelim=i.leftDelim),i.rightDelim&&(this.rightDelim=i.rightDelim),this.classes=(l=i.classes)!=null?l:[]}static fromJson(e){return new YW(e.environmentName,e.array,e.rowGaps,e)}toJson(){let e=N(D({},super.toJson()),{environmentName:this.environmentName,array:this._rows.map(r=>r.map(n=>n.map(i=>i.toJson()))),rowGaps:this.rowGaps,columns:this.colFormat,colSeparationType:this.colSeparationType,minColumns:this.minColumns,minRows:this.minRows,maxRows:this.maxRows});return this.arraystretch!==void 0&&(e.arraystretch=this.arraystretch),this.arraycolsep!==void 0&&(e.arraycolsep=this.arraycolsep),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),this.isRoot&&(e.isRoot=!0),e.minColumns=this.minColumns,e.minRows=this.minRows,e.maxRows=this.maxRows,this.mathstyleName&&(e.mathstyleName=this.mathstyleName),this.classes.length>0&&(e.classes=this.classes),e}branch(e){var r;if(ha(e))return(r=this._rows[e[0]][e[1]])!=null?r:void 0}createBranch(e){var r;return ha(e)?(this.isDirty=!0,(r=this.branch(e))!=null?r:[]):[]}get rowCount(){return this._rows.length}get colCount(){return this._rows[0].length}get maxColumns(){return this.colFormat.filter(e=>!!e.align).length}removeBranch(e){if(Ic(e))return super.removeBranch(e);let[r,...n]=this.branch(e);return r.type,this._rows[e[0]][e[1]]=void 0,n.forEach(i=>{i.parent=void 0,i.parentBranch=void 0}),this.isDirty=!0,n}get hasChildren(){return this.children.length>0}get children(){let e=[];for(let r of this._rows)for(let n of r)if(n)for(let i of n)e.push(...i.children),e.push(i);return[...e,...super.children]}render(e){var r,n,i,s,o,a;let l=new Pe({parent:e,mathstyle:this.mathstyleName},this.style),c=l.getRegisterAsEm("arrayrulewidth"),u=l.getRegisterAsEm("arraycolsep"),A=l.getRegisterAsEm("doublerulesep"),h=(n=(r=this.arraystretch)!=null?r:l.getRegisterAsNumber("arraystretch"))!=null?n:1,f=typeof this.arraycolsep=="number"?this.arraycolsep:u;this.colSeparationType==="small"&&(f=.2778*(new Pe({parent:e,mathstyle:"scriptstyle"}).scalingFactor/e.scalingFactor));let p=h*c3e,m=.7*p,y=.3*p,g=0,v=[],x=0,b=this._rows.length;for(let I=0;I<b;++I){let L=this._rows[I];x=Math.max(x,L.length);let R=new Pe({parent:l,mathstyle:this.mathstyleName},this.style),V=m/R.scalingFactor,Y=y/R.scalingFactor,re={cells:[],height:0,depth:0,pos:0};for(let ie of L){let Ae=(i=X.createBox(R,ie,{type:"ignore"}))!=null?i:new oe(null,{type:"ignore"});Y=Math.max(Y,Ae.depth),V=Math.max(V,Ae.height),re.cells.push(Ae)}let se=(s=FW(this.rowGaps[I]))!=null?s:0;se>0&&(se+=y,Y=Math.max(Y,se),se=0),I<b-1&&!XW(this.environmentName)&&this.environmentName!=="cases"&&this.environmentName!=="array"&&(Y+=l.getRegisterAsEm("jot")),re.height=V,re.depth=Y,g+=V,re.pos=g,g+=Y+se,v.push(re)}let w=g/2+ws,C=[];for(let I=0;I<x;I++){let L=[];for(let R of v){let V=R.cells[I];V&&(V.depth=R.depth,V.height=R.height,L.push({box:V,shift:R.pos-w}))}L.length>0&&C.push(new rr({individualShift:L}))}let B=[],_=!1,k=!1,E=0,F=!this.leftDelim,{colFormat:M}=this;for(let I of M){if("align"in I&&E>=C.length)break;if("align"in I)_?B.push(V1(2*f)):(k||F)&&B.push(V1(f)),B.push(new oe(C[E],{classes:"col-align-"+I.align})),E++,_=!0,k=!1,F=!1;else if("gap"in I){if(typeof I.gap=="number")B.push(V1(I.gap));else{let L=hCe(e,v,w,I.gap);L&&B.push(L)}_=!1,k=!1,F=!1}else if("separator"in I){let L=new oe(null,{classes:"ML__vertical-separator"});L.height=g,L.setStyle("height",g,"em"),L.setStyle("border-right",`${c}em ${I.separator} currentColor`),L.setStyle("vertical-align",-(g-w),"em");let R=0;k?R=A-c:_&&(R=f-c),L.left=R,B.push(L),_=!1,k=!0,F=!1}}_&&!this.rightDelim&&B.push(V1(f));let T=new oe(B,{classes:["ML__mtable",...this.classes].join(" ")});if((!this.leftDelim||this.leftDelim===".")&&(!this.rightDelim||this.rightDelim==="."))return this.caret&&(T.caret=this.caret),this.bind(e,T);let Q=T.height,P=T.depth,H=this.bind(e,new oe([this.bind(e,Qm("open",(o=this.leftDelim)!=null?o:".",Q,P,l,{isSelected:this.isSelected})),T,this.bind(e,Qm("close",(a=this.rightDelim)!=null?a:".",Q,P,l,{isSelected:this.isSelected}))],{type:"ord"}));return H?(H.setStyle("display","inline-block"),this.caret&&(H.caret=this.caret),this.bind(e,this.attachSupsub(e,{base:H}))):null}_serialize(e){var r;let n=[];if(this.environmentName==="lines"?n.push("\\displaylines{"):n.push(`\\begin{${this.environmentName}}`),this.environmentName==="array"){if(n.push("{"),this.colFormat!==void 0)for(let i of this.colFormat)"align"in i&&typeof i.align=="string"?n.push(i.align):"separator"in i&&i.separator==="solid"?n.push("|"):"separator"in i&&i.separator==="dashed"&&n.push(":");n.push("}")}for(let i=0;i<this._rows.length;i++){for(let s=0;s<this._rows[i].length;s++)s>0&&n.push(" & "),n.push(X.serialize(this._rows[i][s],e));if(i<this._rows.length-1){let s=this.rowGaps[i];s!=null&&s.dimension?n.push(`\\\\[${s.dimension} ${(r=s.unit)!=null?r:"pt"}] `):n.push("\\\\ ")}}return this.environmentName==="lines"?n.push("}"):n.push(`\\end{${this.environmentName}}`),Le(n)}forEachCell(e){for(let r=0;r<this.rowCount;r++)for(let n=0;n<this.colCount;n++)e(this._rows[r][n],r,n)}getCell(e,r){var n;return(n=this._rows[e])==null?void 0:n[r]}setCell(e,r,n){this.type==="array"&&Array.isArray(this._rows)&&this._rows[e][r];for(let s of this._rows[e][r])s.parent=void 0,s.parentBranch=void 0;let i=[new X({type:"first",mode:this.mode}),...n.filter(s=>s.type!=="first")];this._rows[e][r]=i,wc(this),this.isDirty=!0}addRowBefore(e){this.type==="array"&&Array.isArray(this._rows),this._rows.splice(e,0,new Array(this.colCount).fill($1(this,!this.isMultiline))),wc(this),this.isDirty=!0}addRowAfter(e){this.type==="array"&&Array.isArray(this._rows),this._rows.splice(e+1,0,new Array(this.colCount).fill($1(this,!this.isMultiline))),wc(this),this.isDirty=!0}removeRow(e){this.type==="array"&&Array.isArray(this._rows)&&this.rowCount>e;let r=this._rows.splice(e,1);for(let n of r)for(let i of n)if(i)for(let s of i)s.parent=void 0,s.parentBranch=void 0;wc(this),this.isDirty=!0}addColumnBefore(e){this.type==="array"&&Array.isArray(this._rows);for(let r of this._rows)r.splice(e,0,$1(this));wc(this),this.isDirty=!0}addColumnAfter(e){this.type==="array"&&Array.isArray(this._rows);for(let r of this._rows)r.splice(e+1,0,$1(this));wc(this),this.isDirty=!0}addColumn(){this.addColumnAfter(this.colCount-1)}removeColumn(e){this.type==="array"&&Array.isArray(this._rows)&&this.colCount>e;for(let r of this._rows){let n=r.splice(e,1);for(let i of n)if(i)for(let s of i)s.parent=void 0,s.parentBranch=void 0}wc(this),this.isDirty=!0}get cells(){let e=[];for(let r of this._rows)for(let n of r)n&&e.push(n.filter(i=>i.type!=="first"));return e}get rows(){return this._rows}};function $1(t,e=!1){let r=new X({type:"first",mode:t.mode});r.parent=t;let n=[r];if(e){let i=new mo;i.parent=t,n.push(i)}return n}function wc(t){for(let e=0;e<t.rowCount;e++)for(let r=0;r<t.colCount;r++){let n=t.getCell(e,r);if(n)for(let i of n)i&&(i.parent=t,i.parentBranch=[e,r])}}function V1(t){let e=new oe(null,{classes:"ML__arraycolsep"});return e.width=t,e}function hCe(t,e,r,n){if(!n)return null;let i=[];for(let s of e){let o=X.createBox(t,n,{type:"ignore"});o&&(o.depth=s.depth,o.height=s.height,i.push({box:o,shift:s.pos-r}))}return new rr({individualShift:i}).wrap(t)}var Gl=class JW extends X{constructor(e){super({mode:e.mode,command:e.command,style:e.style,body:e.body,type:"box"}),this.framecolor=e.framecolor,this.backgroundcolor=e.backgroundcolor,this.padding=e.padding,this.offset=e.offset,this.border=e.border}static fromJson(e){return new JW(e)}toJson(){return N(D({},super.toJson()),{framecolor:this.framecolor,backgroundcolor:this.backgroundcolor,padding:this.padding,offset:this.offset,border:this.border})}render(e){var r,n,i,s;let o=X.createBox(e,this.body,{type:"lift"});if(!o)return null;let a=e.toEm((r=this.offset)!=null?r:{dimension:0});o.depth+=a,o.setStyle("display","inline-block"),o.setStyle("position","relative"),o.setStyle("height",Math.floor(100*o.height+o.depth)/100,"em"),o.setStyle("vertical-align",-Math.floor(100*o.height)/100,"em");let l=new Pe({parent:e},this.style),c=l.toEm((n=this.padding)!=null?n:{register:"fboxsep"}),u=new oe(null,{classes:"ML__box"});u.height=o.height+c,u.depth=o.depth+c,u.setStyle("box-sizing","border-box"),u.setStyle("position","absolute"),u.setStyle("top",-c+.3,"em"),u.setStyle("left",0),u.setStyle("height",u.height+u.depth,"em"),u.setStyle("width","100%"),this.backgroundcolor&&u.setStyle("background-color",(i=l.toColor(this.backgroundcolor))!=null?i:"transparent"),this.framecolor&&u.setStyle("border",`${l.getRegisterAsEm("fboxrule",2)}em solid ${(s=l.toColor(this.framecolor))!=null?s:"black"}`),this.border&&u.setStyle("border",this.border);let A=new oe([u,o],{type:"lift"});return A.setStyle("display","inline-block"),A.setStyle("position","relative"),A.setStyle("line-height",0),A.height=o.height+c+(a>0?a:0),A.depth=o.depth+c+(a<0?-a:0),A.setStyle("padding-left",c,"em"),A.setStyle("padding-right",c,"em"),A.setStyle("height",Math.floor(100*(o.height+o.depth+2*c+Math.abs(a)))/100,"em"),A.setStyle("margin-top",-c,"em"),A.setStyle("top",Math.floor(100*(o.depth-o.height+2*c-a))/100,"em"),A.setStyle("vertical-align",Math.floor(100*(o.depth+2*c))/100,"em"),this.caret&&(A.caret=this.caret),this.attachSupsub(e,{base:A})}_serialize(e){return e.skipStyles?Le([this.bodyToLatex(e),this.supsubToLatex(e)]):super._serialize(e)}},ZW=class eG extends X{constructor(e,r){var n;super({type:"composition",mode:(n=r==null?void 0:r.mode)!=null?n:"math",value:e})}static fromJson(e){return new eG(e.value,e)}toJson(){return super.toJson()}render(e){let r=new oe(this.value,{classes:"ML__composition",type:"composition"});return this.bind(e,r),this.caret&&(r.caret=this.caret),r}_serialize(e){return""}},Pc=class tG extends X{constructor(e){super({type:"error",value:e,command:e,mode:"math"}),this.verbatimLatex=e}static fromJson(e){return new tG(e.command)}toJson(){return super.toJson()}render(e){let r=this.createBox(e,{classes:"ML__error"});return this.caret&&(r.caret=this.caret),r}},rG=class nG extends X{constructor(e,r){super({type:"group",mode:r}),this.body=e,this.boxType=e.length>1?"ord":"ignore",this.skipBoundary=!0,this.displayContainsHighlight=!1,e&&e.length===1&&e[0].command===","&&(this.captureSelection=!0)}static fromJson(e){return new nG(e.body,e.mode)}render(e){let r=X.createBox(e,this.body,{type:this.boxType});return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Rr(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,e):`{${this.bodyToLatex(e)}}`}},Et=class iG extends X{constructor(e,r,n){super({type:"leftright",style:n.style,displayContainsHighlight:!0}),this.variant=e,this.body=r,this.leftDelim=n.leftDelim,this.rightDelim=n.rightDelim}static fromJson(e){var r;return new iG((r=e.variant)!=null?r:"",e.body,e)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),e}_serialize(e){var r,n;let i=this.matchingRightDelim();return this.variant==="left...right"?Le(["\\left",(r=this.leftDelim)!=null?r:".",this.bodyToLatex(e),"\\right",i]):this.variant==="mleft...mright"?Le(["\\mleft",(n=this.leftDelim)!=null?n:".",this.bodyToLatex(e),"\\mright",i]):Le([!this.leftDelim||this.leftDelim==="."?"":this.leftDelim,this.bodyToLatex(e),i])}matchingRightDelim(){var e,r;if(this.rightDelim&&this.rightDelim!=="?")return this.rightDelim;let n=(e=this.leftDelim)!=null?e:".";return(r=Bw[n])!=null?r:n}render(e){var r,n;let i=new Pe({parent:e},this.style);this.body;let s=new Pe({parent:e,mathstyle:"textstyle"},this.style),o=(r=X.createBox(i,this.body,{type:"inner"}))!=null?r:new oe(null,{type:"inner"}),a=o.height/s.scalingFactor,l=o.depth/s.scalingFactor,c=[];if(this.leftDelim&&c.push(this.bind(s,Qm("open",this.leftDelim,a,l,s,{isSelected:this.isSelected,classes:"ML__open"+(this.containsCaret?" ML__contains-caret":""),mode:this.mode,style:this.style}))),o&&(sG(o.children,this,i,a,l),c.push(o)),this.rightDelim){let f=this.containsCaret?" ML__contains-caret":"",p=this.rightDelim;p==="?"&&(i.smartFence?(p=this.matchingRightDelim(),f+=" ML__smart-fence__close"):p="."),c.push(this.bind(s,Qm("close",p,a,l,s,{isSelected:this.isSelected,classes:f+" ML__close",mode:this.mode,style:this.style})))}let u=this.variant==="mleft...mright",A=this.leftSibling;A&&(!u&&A.isFunction&&(u=!0),!u&&A.type==="subsup"&&(n=A.leftSibling)!=null&&n.isFunction&&(u=!0));let h=new oe(c,{type:u?"close":"inner",classes:"ML__left-right"});return h.setStyle("margin-top",`${-o.depth}em`),h.setStyle("height",`${o.height+o.depth}em`),this.caret&&(h.caret=this.caret),this.bind(i,h.wrap(i))}};function sG(t,e,r,n,i){if(t)for(let s=0;s<t.length;s++){let o=t[s];o.type==="middle"?(t[s]=e.bind(r,Qm("inner",o.value,n,i,r,{isSelected:e.isSelected})),t[s].caret=o.caret,t[s].isSelected=o.isSelected,t[s].cssId=o.cssId,t[s].htmlData=o.htmlData,t[s].htmlStyle=o.htmlStyle,t[s].attributes=o.attributes,t[s].cssProperties=o.cssProperties):o.children&&sG(o.children,e,r,n,i)}}var oG=class aG extends X{constructor(e,r){var n;super({type:"macro",command:e,style:r.style}),this.body=r.body,r.captureSelection===void 0?r.args?this.captureSelection=!1:this.captureSelection=!0:this.captureSelection=r.captureSelection,this.macroArgs=r.args,this.expand=(n=r.expand)!=null?n:!1}static fromJson(e){return new aG(e.command,e)}toJson(){let e=super.toJson();return this.expand&&(e.expand=!0),this.captureSelection!==void 0&&(e.captureSelection=this.captureSelection),this.macroArgs&&(e.args=this.macroArgs),e}_serialize(e){var r;return e.expandMacro&&this.expand?this.bodyToLatex(e):this.command+((r=this.macroArgs)!=null?r:"")}applyStyle(e,r){let n={};e.color&&(n.color=e.color),e.backgroundColor&&(n.backgroundColor=e.backgroundColor),super.applyStyle(n,r)}render(e){let r=X.createBox(e,this.body,{type:"lift"});return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}},fCe=class lG extends X{constructor(){super({type:"macro-argument"})}static fromJson(e){return new lG}toJson(){return super.toJson()}_serialize(e){return""}render(e){return null}},cG=class uG extends X{constructor(e,r,n=!1,i,s){var o;super({type:"prompt",mode:(o=s==null?void 0:s.mode)!=null?o:"math",style:s==null?void 0:s.style,command:"\\placeholder"}),this.body=i,this.correctness=r,this.placeholderId=e,this.locked=n,this.captureSelection=this.locked}static fromJson(e){return new uG(e.placeholderId,e.correctness,e.locked,e.body,e)}toJson(){let e=super.toJson();return this.placeholderId&&(e.placeholderId=this.placeholderId),this.body||delete e.body,this.body&&(e.body=this.body.filter(r=>r.type!=="first").map(r=>r.toJson())),this.correctness&&(e.correctness=this.correctness),e.locked=this.locked,e}render(e){let r=new Pe({parent:e}),n=r.getRegisterAsEm("fboxsep"),i=n,s=n,o=X.createBox(e,this.body);if(!o)return null;o.height||(o.height=r.metrics.xHeight),o.setStyle("vertical-align",-o.height,"em"),this.correctness==="correct"?o.setStyle("color","var(--correct-color, var(--ML__correct-color))"):this.correctness==="incorrect"&&o.setStyle("color","var(--incorrect-color, var(--ML__incorrect-color))");let a=new oe(o,{type:"ord"});a.setStyle("display","inline-block"),a.setStyle("height",o.height+o.depth,"em"),a.setStyle("vertical-align",-s,"em");let l="ML__prompt ";this.locked?l+=" ML__lockedPromptBox ":l+=" ML__editablePromptBox ",this.correctness==="correct"?l+=" ML__correctPromptBox ":this.correctness==="incorrect"&&(l+=" ML__incorrectPromptBox "),this.containsCaret&&(l+=" ML__focusedPromptBox ");let c=new oe(null,{classes:l,attributes:{part:"prompt"}});c.height=a.height+s,c.depth=a.depth+s,c.width=a.width+2*i,c.setStyle("position","absolute"),c.setStyle("height",`calc(${a.height+a.depth+2*s}em - 2px)`),i===0&&c.setStyle("width","100%"),i!==0&&(c.setStyle("width",`calc(100% + ${2*i}em)`),c.setStyle("top",n,"em"),c.setStyle("left",-i,"em")),(!this.body||this.body.length===1)&&(c.width=3*i,c.setStyle("width",`calc(100% + ${3*i}em)`),c.setStyle("left",-1.5*i,"em"));let u="";this.correctness==="incorrect"&&(u+='<line x1="3%"  y1="97%" x2="97%" y2="3%" stroke-width="0.5" stroke="var(--incorrect-color, var(--ML__incorrect-color))" stroke-linecap="round" />'),u&&(c.svgOverlay=u);let A=new oe([c,a],{classes:"ML__prompt-atom"});return a.setStyle("line-height",1),A.setStyle("position","relative"),A.setStyle("display","inline-block"),A.setStyle("line-height",0),A.height=a.height+s+.2,A.depth=a.depth+s,A.left=i,A.right=i,A.setStyle("height",a.height+s,"em"),A.setStyle("top",a.depth-a.height,"em"),A.setStyle("vertical-align",a.depth+s,"em"),A.setStyle("margin-left",.5,"em"),A.setStyle("margin-right",.5,"em"),this.caret&&(A.caret=this.caret),this.bind(r,this.attachSupsub(e,{base:A}))}_serialize(e){var r;let n=(r=this.bodyToLatex(e))!=null?r:"";if(e.skipPlaceholders)return n;let i="\\placeholder";return this.placeholderId&&(i+=`[${this.placeholderId}]`),this.correctness==="correct"?i+="[correct]":this.correctness==="incorrect"&&(i+="[incorrect]"),this.locked&&(i+="[locked]"),ct(i,n)}},Sw=class AG extends X{constructor(e){super({type:"subsup",style:e==null?void 0:e.style}),this.subsupPlacement="auto"}get children(){if(!this._children){let e=[],r=this.branch("subscript");if(r)for(let i of r)e.push(...i.children),e.push(i);let n=this.branch("superscript");if(n)for(let i of n)e.push(...i.children),e.push(i);this._children=e}return this._children}static fromJson(e){let r=new AG(e);for(let n of Jd)e[n]&&r.setChildren(e[n],n);return r}render(e){var r;let n=new Pe({parent:e,isPhantom:!0}),i=this.leftSibling,s=(r=i.render(n))!=null?r:new oe(null),o=new oe(null);return o.height=s.height,o.depth=s.depth,this.attachSupsub(e,{base:o,isCharacterBox:i.isCharacterBox(),type:"ignore"})}_serialize(e){return this.supsubToLatex(e)}};function yA(t){return t?!/^(<$$>|<$>|<space>|<{>|<}>|#[0-9\?]|\\.+)$/.test(t):!1}var dG=class{constructor(t,e,r){this.errors=[],this.index=0,this.endCount=0;var n,i,s,o;r!=null||(r={}),this.tokens=t,this.context=e instanceof Pe&&!(r!=null&&r.parseMode)&&!r.mathstyle?e:new Pe({from:e,mathstyle:r.mathstyle},r.style),this.args=(n=r.args)!=null?n:void 0,this.smartFence=this.context.smartFence,this.parsingContext={parent:void 0,mathlist:[],style:(i=r.style)!=null?i:{},parseMode:(s=r.parseMode)!=null?s:"math",mathstyle:(o=r.mathstyle)!=null?o:"displaystyle",tabular:!1}}beginContext(t){var e,r,n,i,s,o;if(t!=null&&t.root){this.parsingContext={parent:this.parsingContext.parent,mathlist:[],style:{},parseMode:(e=t==null?void 0:t.mode)!=null?e:"math",mathstyle:(r=t==null?void 0:t.mathstyle)!=null?r:"displaystyle",tabular:(n=t==null?void 0:t.tabular)!=null?n:!1};return}let a=this.parsingContext,l={parent:a,mathlist:[],style:D({},a.style),parseMode:(i=t==null?void 0:t.mode)!=null?i:a.parseMode,mathstyle:(s=t==null?void 0:t.mathstyle)!=null?s:a.mathstyle,tabular:(o=t==null?void 0:t.tabular)!=null?o:!1};this.parsingContext=l}endContext(){this.parsingContext=this.parsingContext.parent}onError(t){this.errors.push(D({before:xc(this.tokens.slice(this.index,this.index+10)),after:xc(this.tokens.slice(Math.max(0,this.index-10),this.index))},t))}get mathlist(){return this.parsingContext.mathlist}set mathlist(t){this.parsingContext.mathlist=t}get parseMode(){return this.parsingContext.parseMode}set parseMode(t){this.parsingContext.parseMode=t}get tabularMode(){return this.parsingContext.tabular}get style(){let t=this.parsingContext;for(;t;){if(t.style)return D({},t.style);t=t.parent}return{}}set style(t){this.parsingContext.style=t}end(){return this.endCount++,this.index>=this.tokens.length||this.endCount>1e3}next(){this.index+=1}get(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:""}peek(){return this.tokens[this.index]}expandUnicode(){if(!this.peek()||this.parseMode!=="math")return;let t=Z4e(this.peek());t&&this.tokens.splice(this.index,1,...Pm(t))}match(t){return this.tokens[this.index]===t?(this.index++,!0):!1}lastSubsupAtom(){let t;return this.mathlist.length>0&&(t=this.mathlist[this.mathlist.length-1],t.type==="subsup"||t.subsupPlacement!==void 0)||(t=new Sw({style:this.style}),this.mathlist.push(t)),t}hasPattern(t){return t.test(this.tokens[this.index])}hasInfixCommand(){var t;let{index:e}=this;if(e<this.tokens.length&&this.tokens[e].startsWith("\\")){let r=Rr(this.tokens[e],this.parseMode);return!r||r.definitionType==="symbol"||r.ifMode&&!r.ifMode.includes(this.parseMode)?!1:(t=r.infix)!=null?t:!1}return!1}matchColumnSeparator(){return!this.tabularMode||this.peek()!=="&"?!1:(this.index++,!0)}matchRowSeparator(){if(!this.tabularMode)return!1;let t=this.peek();return t!=="\\\\"&&t!=="\\cr"&&t!=="\\tabularnewline"?!1:(this.index++,!0)}placeholder(){var t;let e=(t=this.args)==null?void 0:t.call(this,"?");return e?Vi(e,{parseMode:this.parseMode,mathstyle:"textstyle"}):[new mo({mode:this.parseMode,style:this.style})]}skipWhitespace(){for(;this.match("<space>"););}skipUntilToken(t){let e=this.tokens[this.index];for(;e&&e!==t;)e=this.tokens[++this.index];e===t&&this.index++}skipFiller(){for(;this.match("\\relax")||this.match("<space>"););}matchKeyword(t){let e=this.index,r=this.end(),n="";for(;!r;){let s=this.get();yA(s)?(n+=s,r=this.end()||n.length>=t.length):r=!0}let i=t.toUpperCase()===n.toUpperCase();return i||(this.index=e),i}scanString(){let t="";for(;!this.end();){let e=this.peek();if(e==="]")return t;if(e==="<space>")t+=" ";else if(e.startsWith("\\"))this.onError({code:"unexpected-command-in-string"}),t+=e.substring(1);else if(yA(e))t+=e;else return t;this.next()}return t}scanBalancedString(){let t="",e=this.end(),r=1;for(;!e;){let n=this.get();n==="<space>"?t+=" ":n==="<{>"?(t+="{",r+=1):n==="<}>"?(r-=1,r>0?t+="}":this.index-=1):n==="<$>"?t+="$":n==="<$$>"?t+="$$":t+=n,e=r===0||this.end()}return t}scanLiteralGroup(){var t;if(!this.match("<{>"))return"";let e="",r=1;for(;r>0&&!this.end();){let n=this.get();n==="<}>"?(r-=1,r>0&&(e+="}")):n==="<{>"?(r+=1,e+="{"):(/\\[a-zA-Z]+$/.test(e)&&/^[a-zA-Z]/.test(n)&&(e+=" "),e+=(t={"<space>":" ","<$$>":"$$","<$>":"$"}[n])!=null?t:n)}return e}scanNumber(t=!0){var e,r;let n=!1,i=this.peek();for(;i==="<space>"||i==="+"||i==="-";)this.get(),i==="-"&&(n=!n),i=this.peek();t=!!t;let s=10,o=/\d/;if(this.match("'"))s=8,o=/[0-7]/,t=!0;else if(this.match('"'))s=16,o=/[\dA-F]/,t=!0;else if(this.match("x"))s=16,o=/[\dA-Fa-f]/,t=!0;else if(this.match("`"))return i=this.get(),i?i.length===2&&i.startsWith("\\")?{number:(n?-1:1)*((e=i.codePointAt(1))!=null?e:0),base:"alpha"}:{number:(n?-1:1)*((r=i.codePointAt(0))!=null?r:0),base:"alpha"}:null;let a="";for(;this.hasPattern(o);)a+=this.get();if(!t&&(this.match(".")||this.match(",")))for(a+=".";this.hasPattern(o);)a+=this.get();let l=t?Number.parseInt(a,s):Number.parseFloat(a);return Number.isNaN(l)?null:{number:n?-l:l,base:s===16?"hexadecimal":s===8?"octal":"decimal"}}scanRegister(){var t;let e=this.index,r=this.scanNumber(!1);if(this.skipWhitespace(),this.match("\\relax"))return r;let n=!1;if(r===null)for(;;){let s=this.peek();if(s==="-")n=!n;else if(s!=="+")break;this.next(),this.skipWhitespace()}if(this.match("\\global")){this.skipWhitespace();let s=this.get();return s.startsWith("\\")?r?{register:s,global:!0,factor:(n?-1:1)*r.number}:n?{register:s,global:!0,factor:-1}:{register:s,global:!0}:(this.index=e,null)}let i=this.get();return i!=null&&i.startsWith("\\")?(i=i.substring(1),this.context.registers[i]?!n||r!==null?{register:i,factor:(n?-1:1)*((t=r==null?void 0:r.number)!=null?t:1)}:{register:i}:(this.index=e,null)):(this.index=e,null)}scanValue(){let t=this.scanRegister();if(t)return t;let e=this.index,r=this.scanGlueOrDimen();if(r&&("unit"in r||"glue"in r&&"unit"in r.glue))return r;this.index=e;let n=this.scanNumber();if(n)return n;if(this.end()||!yA(this.peek()))return null;let i=this.scanString();return i.length>0?{string:i}:null}scanDimen(){let t=this.scanNumber(!1);if(t===null)return null;let e=t.number;this.skipWhitespace(),this.matchKeyword("true"),this.skipWhitespace();let r;return this.matchKeyword("pt")?r="pt":this.matchKeyword("mm")?r="mm":this.matchKeyword("cm")?r="cm":this.matchKeyword("ex")?r="ex":this.matchKeyword("px")?r="px":this.matchKeyword("em")?r="em":this.matchKeyword("bp")?r="bp":this.matchKeyword("dd")?r="dd":this.matchKeyword("pc")?r="pc":this.matchKeyword("in")?r="in":this.matchKeyword("mu")&&(r="mu"),r?{dimension:e,unit:r}:{dimension:e}}scanGlueOrDimen(){let t=this.scanDimen();if(t===null)return null;if(this.skipWhitespace(),this.match("\\relax"))return t;let e={glue:t};if(this.matchKeyword("plus")){let r=this.scanDimen();if(r)e.grow=r;else return e}if(this.skipWhitespace(),this.match("\\relax"))return e;if(this.skipWhitespace(),this.matchKeyword("minus")){let r=this.scanDimen();if(r)e.shrink=r;else return e}return!e.grow&&!e.shrink?t:e}scanColspec(){this.skipWhitespace();let t=[];for(;!this.end()&&!(this.peek()==="<}>"||this.peek()==="]");){let e=this.get();e==="c"||e==="r"||e==="l"?t.push({align:e}):e==="|"?t.push({separator:"solid"}):e===":"?t.push({separator:"dashed"}):e==="@"&&(this.match("<{>")&&(this.beginContext({mode:"math"}),t.push({gap:this.scan(r=>r==="<}>")}),this.endContext()),this.match("<}>")||this.onError({code:"unbalanced-braces"}))}return t}scanModeSet(){let t;if(this.match("\\(")&&(t="textstyle"),!t&&this.match("\\[")&&(t="displaystyle"),!t)return null;this.beginContext({mode:"math",mathstyle:t});let e=this.scan(r=>r===(t==="displaystyle"?"\\]":"\\)"));return this.match(t==="displaystyle"?"\\]":"\\)")||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),e}scanModeShift(){let t="";if(this.match("<$>")&&(t="<$>"),!t&&this.match("<$$>")&&(t="<$$>"),!t)return null;this.beginContext({mode:"math",mathstyle:t==="<$>"?"textstyle":"displaystyle"});let e=this.scan(r=>r===t);return this.match(t)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),e}scanEnvironment(){if(!this.match("\\begin"))return null;let t=this.scanArgument("string");if(!t)return null;let e=s3e(t);if(!e)return this.onError({code:"unknown-environment",arg:t}),null;let r=[];if(e.params)for(let a of e.params)if(a.isOptional)r.push(this.scanOptionalArgument(a.type));else{let l=this.scanArgument(a.type);l||this.onError({code:"missing-argument",arg:t}),r.push(l)}this.beginContext({tabular:e.tabular,root:e.rootOnly});let n=[],i=[],s=[],o=!1;do if(this.end()&&(this.onError({code:"unbalanced-environment",arg:t}),o=!0),!o&&this.match("\\end")&&(this.scanArgument("string")!==t&&this.onError({code:"unbalanced-environment",arg:t}),o=!0),!o)if(this.matchColumnSeparator())s.push(this.mathlist),this.mathlist=[];else if(this.matchRowSeparator()){s.push(this.mathlist),this.mathlist=[];let a=null;this.skipWhitespace(),this.match("[")&&(a=this.scanDimen(),this.skipWhitespace(),this.match("]")),i.push(a??{dimension:0}),n.push(s),s=[]}else this.mathlist.push(...this.scan(a=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline"].includes(a)));while(!o);return s.push(this.mathlist),s.length>0&&n.push(s),this.endContext(),e.rootOnly&&(this.index=this.tokens.length),e.createAtom(t,n,i,r,this.context.maxMatrixCols)}scanExpression(){let t=this.mathlist;if(this.mathlist=[],this.parseExpression()){let e=this.mathlist;return this.mathlist=t,e}return this.mathlist=t,null}scan(t){this.beginContext(),t||(t=o=>o==="<}>");let e="",r=null,n=[],i=null;for(;!this.end()&&!t(this.peek());)this.hasInfixCommand()&&!e?(e=this.get(),r=Rr(e,"math"),r&&(n=this.scanArguments(r)[1]),i=this.mathlist,this.mathlist=[]):this.parseExpression();let s;return e?(n.unshift(this.mathlist),i&&n.unshift(i),s=[r.createAtom({command:e,args:n,style:this.style,mode:this.parseMode})]):s=this.mathlist,this.endContext(),s}scanGroup(){let t=this.index;if(!this.match("<{>"))return null;let e=this.scan(n=>n==="<}>");if(this.match("<}>")||this.onError({code:"unbalanced-braces"}),e.length===1&&e[0].type==="placeholder")return e[0];let r=new rG(e,this.parseMode);return r.verbatimLatex=xc(this.tokens.slice(t,this.index)),r}scanSmartFence(){if(this.skipWhitespace(),!this.match("("))return null;this.beginContext();let t=1;for(;!this.end()&&t!==0;)this.match("(")&&(t+=1),this.match(")")&&(t-=1),t!==0&&this.parseExpression();let e=new Et("",this.mathlist,{leftDelim:"(",rightDelim:t===0?")":"?"});return this.endContext(),e}scanDelim(){this.skipWhitespace();let t=this.peek();if(!t)return this.onError({code:"unexpected-end-of-string"}),null;if(!yA(t)&&!t.startsWith("\\"))return null;this.next();let e=Rr(t,"math");return e?e.definitionType==="function"&&e.ifMode&&!e.ifMode.includes(this.parseMode)?(this.onError({code:"unexpected-delimiter",arg:t}),null):e.definitionType==="symbol"&&(e.type==="mopen"||e.type==="mclose")||/^(\.|\?|\||<|>|\\vert|\\Vert|\\\||\\surd|\\uparrow|\\downarrow|\\Uparrow|\\Downarrow|\\updownarrow|\\Updownarrow|\\mid|\\mvert|\\mVert)$/.test(t)?t:(this.onError({code:"unexpected-delimiter",arg:t}),null):(this.onError({code:"unknown-command",arg:t}),null)}scanLeftRight(){var t;if(this.match("\\right"))return this.onError({code:"unbalanced-braces"}),new Pc("\\right");if(this.match("\\mright"))return this.onError({code:"unbalanced-braces"}),new Pc("\\mright");let e="\\right";if(!this.match("\\left")){if(!this.match("\\mleft"))return null;e="\\mright"}let r=this.scanDelim();if(!r)return this.onError({code:"unexpected-delimiter"}),new Pc(e==="\\right"?"\\left":"\\mleft");for(this.beginContext();!this.end()&&!this.match(e);)this.parseExpression();let n=this.mathlist;this.endContext();let i=(t=this.scanDelim())!=null?t:".";return new Et(e==="\\right"?"left...right":"mleft...mright",n,{leftDelim:r,rightDelim:i,style:this.style})}parseSupSub(){if(this.parseMode!=="math")return!1;let t=this.peek();if(t!=="^"&&t!=="_"&&t!=="'")return!1;let e=this.lastSubsupAtom();for(;t==="^"||t==="_"||t==="'";)this.match("'")?this.match("'")?e.addChild(new X({type:"mord",command:"\\doubleprime",mode:"math",value:""}),"superscript"):e.addChild(new X({type:"mord",command:"\\prime",mode:"math",value:""}),"superscript"):(this.match("^")||this.match("_"))&&e.addChildren(he(this.scanArgument("expression")),t==="_"?"subscript":"superscript"),t=this.peek();return!0}parseLimits(){if(this.parseMode!=="math")return!1;let t=this.match("\\limits"),e=!t&&this.match("\\nolimits"),r=!e&&!t&&this.match("\\displaylimits");if(!t&&!e&&!r)return!1;let n=this.mathlist.length>0?this.mathlist[this.mathlist.length-1]:null;return n===null?!1:(n.explicitSubsupPlacement=!0,t&&(n.subsupPlacement="over-under"),e&&(n.subsupPlacement="adjacent"),r&&(n.subsupPlacement="auto"),!0)}scanArguments(t){if(!(t!=null&&t.params))return[void 0,[]];let e,r=[],n=t.infix?2:0;for(;n<t.params.length;){let i=t.params[n];i.type==="rest"?r.push(this.scan(s=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline","\\right"].includes(s))):i.isOptional?r.push(this.scanOptionalArgument(i.type)):i.type.endsWith("*")?e=i.type.slice(0,-1):r.push(this.scanArgument(i.type)),n+=1}return[e,r]}scanSymbolOrLiteral(){let t=this.peek();if(!t)return null;this.next();let e;if(yA(t)){let r=ci.createAtom(this.parseMode,t,D({},this.style));return r?[r]:null}if(e=this.scanMacro(t),e)return[e];if(t.startsWith("\\")){let r=Rr(t,this.parseMode);if(!r)return this.onError({code:"unknown-command",arg:t}),[new Pc(t)];if(r.definitionType==="symbol"){let n=D({},this.style);r.variant&&(n.variant=r.variant),e=new X({type:r.type,command:t,style:n,value:String.fromCodePoint(r.codepoint),mode:this.parseMode,verbatimLatex:t})}else{if(r.applyMode||r.applyStyle||r.infix)return this.onError({code:"invalid-command",arg:t}),[new Pc(t)];r.createAtom&&(e=r.createAtom({command:t,args:[],style:this.style,mode:this.parseMode}))}}return e?[e]:null}scanArgument(t){var e;this.skipFiller();let r=this.parseMode;if(t==="auto"&&(t=r),!this.match("<{>")){if(t==="string")return this.scanString();if(t==="value")return this.scanValue();if(t==="delim")return(e=this.scanDelim())!=null?e:".";if(t==="expression")return this.scanExpression();if(t==="math"){t!==r&&this.beginContext({mode:"math"});let i=this.scanSymbolOrLiteral();return t!==r&&this.endContext(),i}if(t==="text"){t!==r&&this.beginContext({mode:"text"});let i=this.scanSymbolOrLiteral();return t!==r&&this.endContext(),i}return t==="balanced-string"?null:t==="rest"?this.scan(i=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline","\\right"].includes(i)):null}if(t==="text"){this.beginContext({mode:"text"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let i=this.mathlist;return this.endContext(),{group:i}}if(t==="math"){this.beginContext({mode:"math"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let i=this.mathlist;return this.endContext(),{group:i}}let n=null;if(t==="expression"){this.beginContext({mode:"math"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let i=this.mathlist;return this.endContext(),{group:i}}return t==="string"?n=this.scanString():t==="balanced-string"?n=this.scanBalancedString():t==="colspec"?n=this.scanColspec():t==="value"&&(n=this.scanValue()),this.skipUntilToken("<}>"),n}scanOptionalArgument(t){if(t=t==="auto"?this.parseMode:t,this.skipFiller(),!this.match("["))return null;let e=null;for(;!this.end()&&!this.match("]");)if(t==="string")e=this.scanString();else if(t==="value")e=this.scanValue();else if(t==="colspec")e=this.scanColspec();else if(t==="bbox"){let r={},n=this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(let i of n){let s=i.match(/^\s*([\d.]+)\s*([a-z]{2})/);if(s)r.padding={dimension:parseInt(s[1]),unit:s[2]};else{let o=i.match(/^\s*border\s*:\s*(.*)/);o?r.border=o[1]:r.backgroundcolor={string:i}}}e=r}else t==="math"&&(this.beginContext({mode:"math"}),e=this.mathlist.concat(this.scan(r=>r==="]")),this.endContext());return e}scanSymbolOrCommand(t){var e,r,n;if(t==="\\placeholder"){let a=this.scanOptionalArgument("string"),l=this.scanOptionalArgument("math"),c=X.serialize(l,{defaultMode:"math"}),u=[],A;!A&&c==="correct"?A="correct":!A&&c==="incorrect"?A="incorrect":c!==""&&(u=l);let h=this.scanOptionalArgument("string")==="locked",f=this.scanArgument("auto"),p;return f&&Array.isArray(f)&&f.length>0?p=f:f&&typeof f=="object"&&"group"in f?p=f.group:p=u,a?[new cG(a,A,h,p??u,{mode:this.parseMode,style:this.style})]:[new mo({mode:this.parseMode,style:this.style})]}if(t==="\\renewcommand"||t==="\\newcommand"||t==="\\providecommand"||t==="\\def"){let a=this.index,l=this.scanLiteralGroup()||this.next();if(!l)return null;if(this.context.registers[l.substring(1)]){let c=this.scanArgument("string");c!==null&&(this.context.registers[l.substring(1)]=c);let u=Le([t,xc(this.tokens.slice(a,this.index))]);return[new X({type:"text",value:"",verbatimLatex:u})]}}let i=this.scanMacro(t);if(i)return[i];let s=Rr(t,this.parseMode);if(!s)return this.parseMode==="text"?(/[a-zA-Z]/.test((e=this.peek())!=null?e:"")&&(t+=" "),[...t].map(a=>new X({type:"text",value:a,mode:"text",style:this.style}))):(this.onError({code:"unknown-command",arg:t}),[new Pc(t)]);let o=this.index;if(s.definitionType==="symbol"){let a=D({},this.style);s.variant&&(a.variant=s.variant),i=new X({type:s.type,command:t,style:a,value:String.fromCodePoint(s.codepoint),mode:this.parseMode})}else{if(s.ifMode&&!s.ifMode.includes(this.parseMode))return[];let a=this.parseMode;s.applyMode&&(this.parseMode=s.applyMode);let l,c=[];if(s.parse?c=s.parse(this):[l,c]=this.scanArguments(s),this.parseMode=a,s.applyMode&&!s.applyStyle&&!s.createAtom)return he(c[0]);if(s.infix)return this.onError({code:"too-many-infix-commands",arg:t}),null;if(typeof s.createAtom=="function")i=s.createAtom({command:t,args:c,style:this.style,mode:this.parseMode}),l&&(i.body=he(this.scanArgument(l)));else if(typeof s.applyStyle=="function"){let u=s.applyStyle(this.style,t,c,this.context),A=this.parseMode;if(s.applyMode&&(this.parseMode=s.applyMode),l){let h=this.style;this.style=u;let f=this.scanArgument(l);return this.style=h,this.parseMode=A,he(f)}this.style=u}else i=new X({type:"mord",command:(r=s.command)!=null?r:t,style:D({},this.style),value:t,mode:(n=s.applyMode)!=null?n:this.parseMode})}if(!i)return null;if(i instanceof X&&i.verbatimLatex===void 0&&!/^\\(llap|rlap|class|cssId|htmlData)$/.test(t)){let a=Le([t,xc(this.tokens.slice(o,this.index))]);a&&(i.verbatimLatex=a)}if(i.verbatimLatex===null&&(i.verbatimLatex=void 0),i.isFunction&&this.smartFence){let a=this.scanSmartFence();if(a)return[i,a]}return[i]}scanSymbolCommandOrLiteral(){this.expandUnicode();let t=this.get();if(!t)return null;if(yA(t)){let e=ci.createAtom(this.parseMode,t,D({},this.style));if(!e)return null;if(e.isFunction&&this.smartFence){let r=this.scanSmartFence();if(r)return[e,r]}return[e]}return t.startsWith("\\")?this.scanSymbolOrCommand(t):t==="<space>"?this.parseMode==="text"?[new Bh(" "," ",this.style)]:null:(t==="<}>"?this.onError({latex:"",code:"unbalanced-braces"}):this.onError({latex:"",code:"unexpected-token",arg:t}),null)}scanMacro(t){var e;let r=this.context.getMacro(t);if(!r)return null;let n=this.index,i=r.args,s={"?":(e=this.args)==null?void 0:e.call(this,"?")};for(let o=1;o<=i;o++){let a=this.scanLiteralGroup();if(!a){let l=this.index;this.scanExpression(),a=xc(this.tokens.slice(l,this.index))}s[o]=a}return new oG(t,{expand:r.expand,captureSelection:r.captureSelection,args:n===this.index?null:xc(this.tokens.slice(n,this.index)),style:this.parsingContext.style,body:Vi(r.def,{context:this.context,parseMode:this.parseMode,args:o=>s[o],mathstyle:this.parsingContext.mathstyle,style:this.parsingContext.style})})}parseExpression(){var t,e,r,n;let i=(n=(r=(e=(t=this.scanEnvironment())!=null?t:this.scanModeShift())!=null?e:this.scanModeSet())!=null?r:this.scanGroup())!=null?n:this.scanLeftRight();if(i===null){if(this.parseSupSub()||this.parseLimits())return!0;i=this.scanSymbolCommandOrLiteral()}return i?(Dr(i)?this.mathlist.push(...i):this.mathlist.push(i),!0):!1}};function Vi(t,e){var r,n,i,s;let o=(r=e==null?void 0:e.args)!=null?r:void 0,a=new dG(Pm(t,o),e==null?void 0:e.context,{args:o,mathstyle:(n=e==null?void 0:e.mathstyle)!=null?n:"displaystyle",parseMode:(i=e==null?void 0:e.parseMode)!=null?i:"math",style:(s=e==null?void 0:e.style)!=null?s:{}}),l=[];for(;!a.end();)l.push(...a.scan(()=>!1));return l}function pCe(t,e){var r;let n=new dG(Pm(t,null),e==null?void 0:e.context,{mathstyle:"displaystyle",parseMode:(r=e==null?void 0:e.parseMode)!=null?r:"math"});for(;!n.end();)n.scan();return n.errors}var hG=class fG extends X{constructor(e,r){super({type:"chem"},{command:e,mode:"math"});let n=mt.go(ne.go(r,e==="\\pu"?"pu":"ce"),!1);this.body=Vi(n),this._verbatimLatex=e+"{"+r+"}",this.arg=r,this.captureSelection=!0}static fromJson(e){return new fG(e.command,e.arg)}set verbatimLatex(e){}get verbatimLatex(){return this._verbatimLatex}toJson(){return N(D({},super.toJson()),{arg:this.arg})}render(e){let r=X.createBox(e,this.body,{type:"inner"});return this.caret&&(r.caret=this.caret),this.bind(e,r)}_serialize(e){return this.verbatimLatex,this.verbatimLatex}};ee(["ce","pu"],"{chemformula:balanced-string}",{createAtom:t=>{var e;return new hG(t.command,(e=t.args[0])!=null?e:"")}});var ne={go:function(t,e){if(!t)return[];e===void 0&&(e="ce");var r="0",n={};n.parenthesisLevel=0,t=t.replace(/\n/g," "),t=t.replace(/[\u2212\u2013\u2014\u2010]/g,"-"),t=t.replace(/[\u2026]/g,"...");for(var i,s=10,o=[];;){i!==t?(s=10,i=t):s--;var a=ne.stateMachines[e],l=a.transitions[r]||a.transitions["*"];e:for(var c=0;c<l.length;c++){var u=ne.patterns.match_(l[c].pattern,t);if(u){for(var A=l[c].task,h=0;h<A.action_.length;h++){var f;if(a.actions[A.action_[h].type_])f=a.actions[A.action_[h].type_](n,u.match_,A.action_[h].option);else if(ne.actions[A.action_[h].type_])f=ne.actions[A.action_[h].type_](n,u.match_,A.action_[h].option);else throw["MhchemBugA","mhchem bug A. Please report. ("+A.action_[h].type_+")"];ne.concatArray(o,f)}if(r=A.nextState||r,t.length>0){if(A.revisit||(t=u.remainder),!A.toContinue)break e}else return o}}if(s<=0)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(t,e){if(e)if(Object.prototype.toString.call(e)==="[object Array]")for(var r=0;r<e.length;r++)t.push(e[r]);else t.push(e)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(t){var e=t.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:(?:([eE])|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return e&&e[0]?{match_:e.slice(1),remainder:t.substr(e[0].length)}:null},"(-)(9)^(-9)":function(t){var e=t.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/);return e&&e[0]?{match_:e.slice(1),remainder:t.substr(e[0].length)}:null},"state of aggregation $":function(t){var e=ne.patterns.findObserveGroups(t,"",/^\([a-z]{1,3}(?=[\),])/,")","");if(e&&e.remainder.match(/^($|[\s,;\)\]\}])/))return e;var r=t.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/);return r?{match_:r[0],remainder:t.substr(r[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". ":/^([.\u22C5\u00B7\u2022])\s*/,"...":/^\.\.\.(?=$|[^.])/,"* ":/^([*])\s*/,"^{(...)}":function(t){return ne.patterns.findObserveGroups(t,"^{","","","}")},"^($...$)":function(t){return ne.patterns.findObserveGroups(t,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(t){return ne.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(t){return ne.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(t){return ne.patterns.findObserveGroups(t,"_{","","","}")},"_($...$)":function(t){return ne.patterns.findObserveGroups(t,"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(t){return ne.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(t){return ne.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|\_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(t){return ne.patterns.findObserveGroups(t,"","{","}","")},"{(...)}":function(t){return ne.patterns.findObserveGroups(t,"{","","","}")},"$...$":function(t){return ne.patterns.findObserveGroups(t,"","$","$","")},"${(...)}$":function(t){return ne.patterns.findObserveGroups(t,"${","","","}$")},"$(...)$":function(t){return ne.patterns.findObserveGroups(t,"$","","","$")},"=<>":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,"\\bond{(...)}":function(t){return ne.patterns.findObserveGroups(t,"\\bond{","","","}")},"->":/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(t){return ne.patterns.findObserveGroups(t,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[,\ ;:])/,"\\x{}{}":function(t){return ne.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(t){return ne.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(t){return ne.patterns.findObserveGroups(t,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(t){return ne.patterns.findObserveGroups(t,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(t){return ne.patterns.findObserveGroups(t,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(t){return ne.patterns.findObserveGroups(t,"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}0":function(t){return ne.patterns.findObserveGroups(t,"\\color{","","","}")},"\\color{(...)}{(...)}1":function(t){return ne.patterns.findObserveGroups(t,"\\color{","","","}","{","","","}")},"\\color(...){(...)}2":function(t){return ne.patterns.findObserveGroups(t,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(t){return ne.patterns.findObserveGroups(t,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(t){var e;if(e=t.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/),e)return{match_:e[0],remainder:t.substr(e[0].length)};var r=ne.patterns.findObserveGroups(t,"","$","$","");return r&&(e=r.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/),e)?{match_:e[0],remainder:t.substr(e[0].length)}:null},amount2:function(t){return this.amount(t)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(t){if(t.match(/^\([a-z]+\)$/))return null;var e=t.match(/^(?:[a-z]|(?:[0-9\ \+\-\,\.\(\)]+[a-z])+[0-9\ \+\-\,\.\(\)]*|(?:[a-z][0-9\ \+\-\,\.\(\)]+)+[a-z]?)$/);return e?{match_:e[0],remainder:t.substr(e[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(t,e,r,n,i,s,o,a,l,c){var u=function(g,v){if(typeof v=="string")return g.indexOf(v)!==0?null:v;var x=g.match(v);return x?x[0]:null},A=function(g,v,x){for(var b=0;v<g.length;){var w=g.charAt(v),C=u(g.substr(v),x);if(C!==null&&b===0)return{endMatchBegin:v,endMatchEnd:v+C.length};if(w==="{")b++;else if(w==="}"){if(b===0)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];b--}v++}return null},h=u(t,e);if(h===null||(t=t.substr(h.length),h=u(t,r),h===null))return null;var f=A(t,h.length,n||i);if(f===null)return null;var p=t.substring(0,n?f.endMatchEnd:f.endMatchBegin);if(s||o){var m=this.findObserveGroups(t.substr(f.endMatchEnd),s,o,a,l);if(m===null)return null;var y=[p,m.match_];return{match_:c?y.join(""):y,remainder:m.remainder}}else return{match_:p,remainder:t.substr(f.endMatchEnd)}},match_:function(t,e){var r=ne.patterns.patterns[t];if(r===void 0)throw["MhchemBugP","mhchem bug P. Please report. ("+t+")"];if(typeof r=="function")return ne.patterns.patterns[t](e);var n=e.match(r);if(n){var i;return n[2]?i=[n[1],n[2]]:n[1]?i=n[1]:i=n[0],{match_:i,remainder:e.substr(n[0].length)}}return null}},actions:{"a=":function(t,e){t.a=(t.a||"")+e},"b=":function(t,e){t.b=(t.b||"")+e},"p=":function(t,e){t.p=(t.p||"")+e},"o=":function(t,e){t.o=(t.o||"")+e},"q=":function(t,e){t.q=(t.q||"")+e},"d=":function(t,e){t.d=(t.d||"")+e},"rm=":function(t,e){t.rm=(t.rm||"")+e},"text=":function(t,e){t.text_=(t.text_||"")+e},insert:function(t,e,r){return{type_:r}},"insert+p1":function(t,e,r){return{type_:r,p1:e}},"insert+p1+p2":function(t,e,r){return{type_:r,p1:e[0],p2:e[1]}},copy:function(t,e){return e},rm:function(t,e){return{type_:"rm",p1:e||""}},text:function(t,e){return ne.go(e,"text")},"{text}":function(t,e){var r=["{"];return ne.concatArray(r,ne.go(e,"text")),r.push("}"),r},"tex-math":function(t,e){return ne.go(e,"tex-math")},"tex-math tight":function(t,e){return ne.go(e,"tex-math tight")},bond:function(t,e,r){return{type_:"bond",kind_:r||e}},"color0-output":function(t,e){return{type_:"color0",color:e[0]}},ce:function(t,e){return ne.go(e)},"1/2":function(t,e){var r=[];e.match(/^[+\-]/)&&(r.push(e.substr(0,1)),e=e.substr(1));var n=e.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return n[1]=n[1].replace(/\$/g,""),r.push({type_:"frac",p1:n[1],p2:n[2]}),n[3]&&(n[3]=n[3].replace(/\$/g,""),r.push({type_:"tex-math",p1:n[3]})),r},"9,9":function(t,e){return ne.go(e,"9,9")}},createTransitions:function(t){var e,r,n,i,s={};for(e in t)for(r in t[e])for(n=r.split("|"),t[e][r].stateArray=n,i=0;i<n.length;i++)s[n[i]]=[];for(e in t)for(r in t[e])for(n=t[e][r].stateArray||[],i=0;i<n.length;i++){var o=t[e][r];if(o.action_){o.action_=[].concat(o.action_);for(var a=0;a<o.action_.length;a++)typeof o.action_[a]=="string"&&(o.action_[a]={type_:o.action_[a]})}else o.action_=[];for(var l=e.split("|"),c=0;c<l.length;c++)if(n[i]==="*")for(var u in s)s[u].push({pattern:l[c],task:o});else s[n[i]].push({pattern:l[c],task:o})}return s},stateMachines:{}};ne.stateMachines={ce:{transitions:ne.createTransitions({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o=","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o=",nextState:"o"}},"->":{"0|1|2|3":{action_:"r=",nextState:"r"},"a|as":{action_:["output","r="],nextState:"r"},"*":{action_:["output","r="],nextState:"r"}},"+":{o:{action_:"d= kv",nextState:"d"},"d|D":{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},"qd|qD":{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a=",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb=false","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a=",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o=",nextState:"o"},"q|dq":{action_:["output","o="],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},"space A":{"b|p|bp":{}},space:{a:{nextState:"as"},0:{action_:"sb=false"},"1|2":{action_:"sb=true"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb=true"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd=",nextState:"rd"},"rd|rdt":{action_:"rq=",nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". |* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"*":{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o=","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},"d|D|qd|qD|dq":{action_:["output","d="],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},"d|qd|D|qD":{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},"3|o":{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"=<>":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o=",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"$...$":{a:{action_:"a="},"0|1|2|3|as|b|p|bp|o":{action_:"o=",nextState:"o"},"as|o":{action_:"o="},"q|d|D|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}0":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o=","output"],nextState:"3"},"*":{action_:["output","o=","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(t,e){var r;if((t.d||"").match(/^[0-9]+$/)){var n=t.d;t.d=void 0,r=this.output(t),t.b=n}else r=this.output(t);return ne.actions["o="](t,e),r},"d= kv":function(t,e){t.d=e,t.dType="kv"},"charge or bond":function(t,e){if(t.beginsWithBond){var r=[];return ne.concatArray(r,this.output(t)),ne.concatArray(r,ne.actions.bond(t,e,"-")),r}else t.d=e},"- after o/d":function(t,e,r){var n=ne.patterns.match_("orbital",t.o||""),i=ne.patterns.match_("one lowercase greek letter $",t.o||""),s=ne.patterns.match_("one lowercase latin letter $",t.o||""),o=ne.patterns.match_("$one lowercase latin letter$ $",t.o||""),a=e==="-"&&(n&&n.remainder===""||i||s||o);a&&!t.a&&!t.b&&!t.p&&!t.d&&!t.q&&!n&&s&&(t.o="$"+t.o+"$");var l=[];return a?(ne.concatArray(l,this.output(t)),l.push({type_:"hyphen"})):(n=ne.patterns.match_("digits",t.d||""),r&&n&&n.remainder===""?(ne.concatArray(l,ne.actions["d="](t,e)),ne.concatArray(l,this.output(t))):(ne.concatArray(l,this.output(t)),ne.concatArray(l,ne.actions.bond(t,e,"-")))),l},"a to o":function(t){t.o=t.a,t.a=void 0},"sb=true":function(t){t.sb=!0},"sb=false":function(t){t.sb=!1},"beginsWithBond=true":function(t){t.beginsWithBond=!0},"beginsWithBond=false":function(t){t.beginsWithBond=!1},"parenthesisLevel++":function(t){t.parenthesisLevel++},"parenthesisLevel--":function(t){t.parenthesisLevel--},"state of aggregation":function(t,e){return{type_:"state of aggregation",p1:ne.go(e,"o")}},comma:function(t,e){var r=e.replace(/\s*$/,""),n=r!==e;return n&&t.parenthesisLevel===0?{type_:"comma enumeration L",p1:r}:{type_:"comma enumeration M",p1:r}},output:function(t,e,r){var n;if(!t.r)n=[],!t.a&&!t.b&&!t.p&&!t.o&&!t.q&&!t.d&&!r||(t.sb&&n.push({type_:"entitySkip"}),!t.o&&!t.q&&!t.d&&!t.b&&!t.p&&r!==2?(t.o=t.a,t.a=void 0):!t.o&&!t.q&&!t.d&&(t.b||t.p)?(t.o=t.a,t.d=t.b,t.q=t.p,t.a=t.b=t.p=void 0):t.o&&t.dType==="kv"&&ne.patterns.match_("d-oxidation$",t.d||"")?t.dType="oxidation":t.o&&t.dType==="kv"&&!t.q&&(t.dType=void 0),n.push({type_:"chemfive",a:ne.go(t.a,"a"),b:ne.go(t.b,"bd"),p:ne.go(t.p,"pq"),o:ne.go(t.o,"o"),q:ne.go(t.q,"pq"),d:ne.go(t.d,t.dType==="oxidation"?"oxidation":"bd"),dType:t.dType}));else{var i;t.rdt==="M"?i=ne.go(t.rd,"tex-math"):t.rdt==="T"?i=[{type_:"text",p1:t.rd||""}]:i=ne.go(t.rd);var s;t.rqt==="M"?s=ne.go(t.rq,"tex-math"):t.rqt==="T"?s=[{type_:"text",p1:t.rq||""}]:s=ne.go(t.rq),n={type_:"arrow",r:t.r,rd:i,rq:s}}for(var o in t)o!=="parenthesisLevel"&&o!=="beginsWithBond"&&delete t[o];return n},"oxidation-output":function(t,e){var r=["{"];return ne.concatArray(r,ne.go(e,"oxidation")),r.push("}"),r},"frac-output":function(t,e){return{type_:"frac-ce",p1:ne.go(e[0]),p2:ne.go(e[1])}},"overset-output":function(t,e){return{type_:"overset",p1:ne.go(e[0]),p2:ne.go(e[1])}},"underset-output":function(t,e){return{type_:"underset",p1:ne.go(e[0]),p2:ne.go(e[1])}},"underbrace-output":function(t,e){return{type_:"underbrace",p1:ne.go(e[0]),p2:ne.go(e[1])}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:ne.go(e[1])}},"r=":function(t,e){t.r=e},"rdt=":function(t,e){t.rdt=e},"rd=":function(t,e){t.rd=e},"rqt=":function(t,e){t.rqt=e},"rq=":function(t,e){t.rq=e},operator:function(t,e,r){return{type_:"operator",kind_:r||e}}}},a:{transitions:ne.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},"$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:ne.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"{text}"}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:ne.createTransitions({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text="}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text="}}}),actions:{output:function(t){if(t.text_){var e={type_:"text",p1:t.text_};for(var r in t)delete t[r];return e}}}},pq:{transitions:ne.createTransitions({empty:{"*":{}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"!f",revisit:!0}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",option:"comma enumeration S"}}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(t,e){return{type_:"state of aggregation subscript",p1:ne.go(e,"o")}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:ne.go(e[1],"pq")}}}},bd:{transitions:ne.createTransitions({empty:{"*":{}},x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},else:{0:{nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(t,e){return{type_:"color",color1:e[0],color2:ne.go(e[1],"bd")}}}},oxidation:{transitions:ne.createTransitions({empty:{"*":{}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},else:{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(t,e){return{type_:"roman numeral",p1:e||""}}}},"tex-math":{transitions:ne.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},else:{"*":{action_:"o="}}}),actions:{output:function(t){if(t.o){var e={type_:"tex-math",p1:t.o};for(var r in t)delete t[r];return e}}}},"tex-math tight":{transitions:ne.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o="}}}),actions:{"tight operator":function(t,e){t.o=(t.o||"")+"{"+e+"}"},output:function(t){if(t.o){var e={type_:"tex-math",p1:t.o};for(var r in t)delete t[r];return e}}}},"9,9":{transitions:ne.createTransitions({empty:{"*":{}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:ne.createTransitions({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output","space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o=",nextState:"/"}},"/":{d:{action_:"o=",nextState:"/"}},"{...}|else":{"0|d":{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},"/|q":{action_:"q=",nextState:"q"}}}),actions:{enumber:function(t,e){var r=[];return e[0]==="+-"||e[0]==="+/-"?r.push("\\pm "):e[0]&&r.push(e[0]),e[1]&&(ne.concatArray(r,ne.go(e[1],"pu-9,9")),e[2]&&(e[2].match(/[,.]/)?ne.concatArray(r,ne.go(e[2],"pu-9,9")):r.push(e[2])),(e[3]||e[4])&&(e[3]==="e"||e[4]==="*"?r.push({type_:"cdot"}):r.push({type_:"times"}))),e[5]&&r.push("10^{"+e[5]+"}"),r},"number^":function(t,e){var r=[];return e[0]==="+-"||e[0]==="+/-"?r.push("\\pm "):e[0]&&r.push(e[0]),ne.concatArray(r,ne.go(e[1],"pu-9,9")),r.push("^{"+e[2]+"}"),r},operator:function(t,e,r){return{type_:"operator",kind_:r||e}},space:function(){return{type_:"pu-space-1"}},output:function(t){var e,r=ne.patterns.match_("{(...)}",t.d||"");r&&r.remainder===""&&(t.d=r.match_);var n=ne.patterns.match_("{(...)}",t.q||"");if(n&&n.remainder===""&&(t.q=n.match_),t.d&&(t.d=t.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.d=t.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),t.q){t.q=t.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.q=t.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");var i={d:ne.go(t.d,"pu"),q:ne.go(t.q,"pu")};t.o==="//"?e={type_:"pu-frac",p1:i.d,p2:i.q}:(e=i.d,i.d.length>1||i.q.length>1?e.push({type_:" / "}):e.push({type_:"/"}),ne.concatArray(e,i.q))}else e=ne.go(t.d,"pu-2");for(var s in t)delete t[s];return e}}},"pu-2":{transitions:ne.createTransitions({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm="}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},"-9.,9":{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(t,e){t.rm+="^{"+e+"}"},space:function(){return{type_:"pu-space-2"}},output:function(t){var e=[];if(t.rm){var r=ne.patterns.match_("{(...)}",t.rm||"");r&&r.remainder===""?e=ne.go(r.match_,"pu"):e={type_:"rm",p1:t.rm}}for(var n in t)delete t[n];return e}}},"pu-9,9":{transitions:ne.createTransitions({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(t){var e=[];if(t.text_=t.text_||"",t.text_.length>4){var r=t.text_.length%3;r===0&&(r=3);for(var n=t.text_.length-3;n>0;n-=3)e.push(t.text_.substr(n,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(0,r)),e.reverse()}else e.push(t.text_);for(var i in t)delete t[i];return e},"output-o":function(t){var e=[];if(t.text_=t.text_||"",t.text_.length>4){for(var r=t.text_.length-3,n=0;n<r;n+=3)e.push(t.text_.substr(n,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(n))}else e.push(t.text_);for(var i in t)delete t[i];return e}}}};var mt={go:function(t,e){if(!t)return"";for(var r="",n=!1,i=0;i<t.length;i++){var s=t[i];typeof s=="string"?r+=s:(r+=mt._go2(s),s.type_==="1st-level escape"&&(n=!0))}return!e&&!n&&r&&(r="{"+r+"}"),r},_goInner:function(t){return t&&mt.go(t,!0)},_go2:function(t){var e;switch(t.type_){case"chemfive":e="";var r={a:mt._goInner(t.a),b:mt._goInner(t.b),p:mt._goInner(t.p),o:mt._goInner(t.o),q:mt._goInner(t.q),d:mt._goInner(t.d)};r.a&&(r.a.match(/^[+\-]/)&&(r.a="{"+r.a+"}"),e+=r.a+"\\,"),(r.b||r.p)&&(e+="{\\vphantom{X}}",e+="^{\\hphantom{"+(r.b||"")+"}}_{\\hphantom{"+(r.p||"")+"}}",e+="{\\vphantom{X}}",e+="^{\\smash[t]{\\vphantom{2}}\\llap{"+(r.b||"")+"}}",e+="_{\\vphantom{2}\\llap{\\smash[t]{"+(r.p||"")+"}}}"),r.o&&(r.o.match(/^[+\-]/)&&(r.o="{"+r.o+"}"),e+=r.o),t.dType==="kv"?((r.d||r.q)&&(e+="{\\vphantom{X}}"),r.d&&(e+="^{"+r.d+"}"),r.q&&(e+="_{\\smash[t]{"+r.q+"}}")):t.dType==="oxidation"?(r.d&&(e+="{\\vphantom{X}}",e+="^{"+r.d+"}"),r.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+r.q+"}}")):(r.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+r.q+"}}"),r.d&&(e+="{\\vphantom{X}}",e+="^{"+r.d+"}"));break;case"rm":e="\\mathrm{"+t.p1+"}";break;case"text":t.p1.match(/[\^_]/)?(t.p1=t.p1.replace(" ","~").replace("-","\\text{-}"),e="\\mathrm{"+t.p1+"}"):e="\\text{"+t.p1+"}";break;case"roman numeral":e="\\mathrm{"+t.p1+"}";break;case"state of aggregation":e="\\mskip2mu "+mt._goInner(t.p1);break;case"state of aggregation subscript":e="\\mskip1mu "+mt._goInner(t.p1);break;case"bond":if(e=mt._getBond(t.kind_),!e)throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+t.kind_+")"];break;case"frac":var n="\\frac{"+t.p1+"}{"+t.p2+"}";e="\\mathchoice{\\textstyle"+n+"}{"+n+"}{"+n+"}{"+n+"}";break;case"pu-frac":var i="\\frac{"+mt._goInner(t.p1)+"}{"+mt._goInner(t.p2)+"}";e="\\mathchoice{\\textstyle"+i+"}{"+i+"}{"+i+"}{"+i+"}";break;case"tex-math":e=t.p1+" ";break;case"frac-ce":e="\\frac{"+mt._goInner(t.p1)+"}{"+mt._goInner(t.p2)+"}";break;case"overset":e="\\overset{"+mt._goInner(t.p1)+"}{"+mt._goInner(t.p2)+"}";break;case"underset":e="\\underset{"+mt._goInner(t.p1)+"}{"+mt._goInner(t.p2)+"}";break;case"underbrace":e="\\underbrace{"+mt._goInner(t.p1)+"}_{"+mt._goInner(t.p2)+"}";break;case"color":e="{\\color{"+t.color1+"}{"+mt._goInner(t.color2)+"}}";break;case"color0":e="\\color{"+t.color+"}";break;case"arrow":var s={rd:mt._goInner(t.rd),rq:mt._goInner(t.rq)},o=mt._getArrow(t.r);s.rd||s.rq?t.r==="<=>"||t.r==="<=>>"||t.r==="<<=>"||t.r==="<-->"?(o="\\long"+o,s.rd&&(o="\\overset{"+s.rd+"}{"+o+"}"),s.rq&&(t.r==="<-->"?o="\\underset{\\lower2mu{"+s.rq+"}}{"+o+"}":o="\\underset{\\lower6mu{"+s.rq+"}}{"+o+"}"),o=" {}\\mathrel{"+o+"}{} "):(s.rq&&(o+="[{"+s.rq+"}]"),o+="{"+s.rd+"}",o=" {}\\mathrel{\\x"+o+"}{} "):o=" {}\\mathrel{\\long"+o+"}{} ",e=o;break;case"operator":e=mt._getOperator(t.kind_);break;case"1st-level escape":e=t.p1+" ";break;case"space":e=" ";break;case"entitySkip":e="~";break;case"pu-space-1":e="~";break;case"pu-space-2":e="\\mkern3mu ";break;case"1000 separator":e="\\mkern2mu ";break;case"commaDecimal":e="{,}";break;case"comma enumeration L":e="{"+t.p1+"}\\mkern6mu ";break;case"comma enumeration M":e="{"+t.p1+"}\\mkern3mu ";break;case"comma enumeration S":e="{"+t.p1+"}\\mkern1mu ";break;case"hyphen":e="\\text{-}";break;case"addition compound":e="\\,{\\cdot}\\,";break;case"electron dot":e="\\mkern1mu \\bullet\\mkern1mu ";break;case"KV x":e="{\\times}";break;case"prime":e="\\prime ";break;case"cdot":e="\\cdot ";break;case"tight cdot":e="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":e="\\times ";break;case"circa":e="{\\sim}";break;case"^":e="uparrow";break;case"v":e="downarrow";break;case"ellipsis":e="\\ldots ";break;case"/":e="/";break;case" / ":e="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."]}return e},_getArrow:function(t){switch(t){case"->":return"rightarrow";case"":return"rightarrow";case"":return"rightarrow";case"<-":return"leftarrow";case"<->":return"leftrightarrow";case"<-->":return"leftrightarrows";case"<=>":return"rightleftharpoons";case"":return"rightleftharpoons";case"<=>>":return"Rightleftharpoons";case"<<=>":return"Leftrightharpoons";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(t){switch(t){case"-":return"{-}";case"1":return"{-}";case"=":return"{=}";case"2":return"{=}";case"#":return"{\\equiv}";case"3":return"{\\equiv}";case"~":return"{\\tripledash}";case"~-":return"{\\rlap{\\lower.1em{-}}\\raise.1em{\\tripledash}}";case"~=":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"~--":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"-~-":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{-}}\\tripledash}";case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return"{\\rightarrow}";case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(t){switch(t){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":return" {}\\approx{} ";case"$\\approx$":return" {}\\approx{} ";case"v":return" \\downarrow{} ";case"(v)":return" \\downarrow{} ";case"^":return" \\uparrow{} ";case"(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."]}}},pG=class mG extends X{constructor(e){super(N(D({},e),{type:"delim"})),this.value=e.delim,this.size=e.size}static fromJson(e){return new mG(e)}toJson(){return N(D({},super.toJson()),{delim:this.value,size:this.size})}render(e){return new oe(this.value,{type:"middle"})}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Rr(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,e):ct(this.command,this.value)}},gG=class yG extends X{constructor(e){super(N(D({},e),{type:"sizeddelim",value:e.delim})),this.delimType=e.delimType,this.size=e.size}static fromJson(e){return new yG(e)}toJson(){return N(D({},super.toJson()),{delim:this.value,size:this.size,delimType:this.delimType})}render(e){let r=eCe(this.value,this.size,e,{classes:{open:"ML__open",close:"ML__close"}[this.delimType],type:this.delimType,isSelected:this.isSelected});return r?(r=this.bind(e,r),this.caret&&(r.caret=this.caret),r):null}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Rr(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,e):ct(this.command,this.value)}},S0=class vG extends X{constructor(e,r,n,i){var s,o;super({type:"enclose",command:e,style:i.style}),this.body=r,this.backgroundcolor=i.backgroundcolor,n.updiagonalarrow&&(n.updiagonalstrike=!1),n.box&&(n.left=!1,n.right=!1,n.bottom=!1,n.top=!1),this.notation=n,this.shadow=(s=i.shadow)!=null?s:"none",this.strokeWidth=(o=i.strokeWidth)!=null?o:"0.06em",this.strokeWidth||(this.strokeWidth="0.06em"),this.strokeStyle=i.strokeStyle,this.svgStrokeStyle=i.svgStrokeStyle,this.strokeColor=i.strokeColor,this.borderStyle=i.borderStyle,this.padding=i.padding,this.captureSelection=!1}static fromJson(e){return new vG(e.command,e.body,e.notation,e)}toJson(){return N(D({},super.toJson()),{notation:this.notation,shadow:this.shadow,strokeWidth:this.strokeWidth,strokeStyle:this.strokeStyle,svgStrokeStyle:this.svgStrokeStyle,strokeColor:this.strokeColor,borderStyle:this.borderStyle,padding:this.padding})}_serialize(e){var r;if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let n=Rr(this.command,this.mode);if(n!=null&&n.serialize)return n.serialize(this,e);let i=(r=this.command)!=null?r:"";if(this.command==="\\enclose"){i+="{"+Object.keys(this.notation).join(" ")+"}";let s="",o="";this.backgroundcolor&&this.backgroundcolor!=="transparent"&&(s+=o+'mathbackground="'+this.backgroundcolor+'"',o=","),this.shadow&&this.shadow!=="auto"&&(s+=o+'shadow="'+this.shadow+'"',o=","),this.strokeWidth||this.strokeStyle!=="solid"?(s+=o+this.borderStyle,o=","):this.strokeColor&&this.strokeColor!=="currentColor"&&(s+=o+'mathcolor="'+this.strokeColor+'"',o=","),s&&(i+=`[${s}]`)}return ct(i,this.bodyToLatex(e))}render(e){let r=new Pe({parent:e},this.style),n=X.createBox(r,this.body);if(!n)return null;let i=mCe(this.borderStyle),s=r.toEm(!this.padding||this.padding==="auto"?{register:"fboxsep"}:{string:this.padding});n.setStyle("position","relative"),n.setStyle("display","inline-block"),n.setStyle("top",s,"em"),n.setStyle("height",n.height+n.depth,"em"),n.setStyle("width",n.width,"em");let o=new oe(null,{classes:"ML__notation"}),a=n.height+n.depth+2*s,l=n.width+2*s,c="";if(this.notation.horizontalstrike&&(c+=this.line(3,50,97,50)),this.notation.verticalstrike&&(c+=this.line(50,3,50,97)),this.notation.updiagonalstrike&&(c+=this.line(3,97,97,3)),this.notation.downdiagonalstrike&&(c+=this.line(3,3,97,97)),this.notation.updiagonalarrow){c+=this.line(s.toString(),(s+n.depth+n.height).toString(),(s+n.width).toString(),s.toString());let h=.03*Math.sqrt(l*l+a*a)*1,f=n.width*h,p=(n.depth+n.height)*h,m=s+n.width,y=s;y+p-.4*f<0&&(y=.4*f-p),c+='<polygon points="',c+=`${m},${y} ${m-f-.4*p},${y+p-.4*f} `,c+=`${m-.7*f},${y+.7*p} ${m-f+.4*p},${y+p+.4*f} `,c+=`${m},${y}`,c+=`" stroke='none' fill="${this.strokeColor}"`,c+="/>"}let u=0;if(this.notation.phasorangle){let h=gN(r),f=(n.height+n.depth+2*h+s).toString(),p=(n.height+n.depth)/2;c+=this.line(s.toString(),f,(s+p+n.width).toString(),f),c+=this.line(s.toString(),f,(s+p).toString(),(s-h).toString()),a+=h,u=p,n.left+=a/2-s}if(this.notation.longdiv){let h=gN(r);a+=h,c+=this.line(s.toString(),s.toString(),(s+n.width).toString(),s.toString());let f=.3;u=f+h,n.left+=f+h,n.setTop(s+h),c+='<path d="',c+=`M ${s} ${s}  a${f} ${(n.depth+n.height+2*h)/2}, 0, 1, 1, 0 ${n.depth+n.height+2*h} "`,c+=` stroke-width="${gCe(r)}" stroke="${this.strokeColor}" fill="none"`,c+="/>"}if(o.width=n.width+2*s+u,o.height=n.height+s,o.depth=n.depth+s,o.setStyle("box-sizing","border-box"),o.setStyle("left",`calc(-${i} / 2 )`),o.setStyle("height",`${Math.floor(100*a)/100}em`),o.setStyle("top",`calc(${i} / 2 )`),this.backgroundcolor&&o.setStyle("background-color",this.backgroundcolor),this.notation.box&&o.setStyle("border","1px solid red"),this.notation.actuarial&&(o.setStyle("border-top",this.borderStyle),o.setStyle("border-right",this.borderStyle)),this.notation.madruwb&&(o.setStyle("border-bottom",this.borderStyle),o.setStyle("border-right",this.borderStyle)),this.notation.roundedbox&&(o.setStyle("border-radius","8px"),o.setStyle("border",this.borderStyle)),this.notation.circle&&(o.setStyle("border-radius","50%"),o.setStyle("border",this.borderStyle)),this.notation.top&&o.setStyle("border-top",this.borderStyle),this.notation.left&&o.setStyle("border-left",this.borderStyle),this.notation.right&&o.setStyle("border-right",this.borderStyle),this.notation.bottom&&o.setStyle("border-bottom",this.borderStyle),c){let h="";this.shadow==="auto"&&(h+="filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)"),this.shadow!=="none"&&(h+=`filter: drop-shadow(${this.shadow})`),h+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,h+=' stroke-linecap="round"',this.svgStrokeStyle&&(h+=` stroke-dasharray="${this.svgStrokeStyle}"`),o.svgStyle=h,o.svgOverlay=c}let A=new oe([o,n]);return A.setStyle("position","relative"),A.setStyle("vertical-align",s,"em"),A.setStyle("height",`${Math.floor(100*(n.height+n.depth+2*s))/100}em`),A.setStyle("display","inline-block"),A.height=o.height,A.depth=o.depth,A.width=o.width-2*s,A.left=s,A.right=s,this.caret&&(A.caret=this.caret),A.wrap(r)}line(e,r,n,i){return`<line x1="${K1(e)}"  y1="${K1(r)}" x2="${K1(n)}" y2="${K1(i)}" vector-effect="non-scaling-stroke"></line>`}};function K1(t){return typeof t=="number"?`${Math.floor(100*t)/100}%`:t}function mCe(t){if(!t)return"1px";let e=t.match(/([0-9][a-zA-Z\%]+)/);return e===null?"1px":e[1]}function gCe(t){return(Math.floor(100*t.metrics.sqrtRuleThickness/t.scalingFactor)/100/10).toString()+"em"}function gN(t){let e=t.isDisplayStyle?Fl:t.metrics.defaultRuleThickness;return t.metrics.defaultRuleThickness+t.scalingFactor*e/4}var $v={fractionNavigationOrder:"numerator-denominator"},Ku=class xG extends X{constructor(e,r,n){var i,s,o;super(N(D({},n),{type:"genfrac",displayContainsHighlight:!0})),this.above=e,this.below=r,this.hasBarLine=(i=n==null?void 0:n.hasBarLine)!=null?i:!0,this.continuousFraction=(s=n==null?void 0:n.continuousFraction)!=null?s:!1,this.align=(o=n==null?void 0:n.align)!=null?o:"center",this.numerPrefix=n==null?void 0:n.numerPrefix,this.denomPrefix=n==null?void 0:n.denomPrefix,this.mathstyleName=n==null?void 0:n.mathstyleName,this.leftDelim=n==null?void 0:n.leftDelim,this.rightDelim=n==null?void 0:n.rightDelim}static fromJson(e){return new xG(e.above,e.below,e)}toJson(){let e={};return this.continuousFraction&&(e.continuousFraction=!0),this.align!=="center"&&(e.align=this.align),this.numerPrefix&&(e.numerPrefix=this.numerPrefix),this.denomPrefix&&(e.denomPrefix=this.denomPrefix),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),this.hasBarLine||(e.hasBarLine=!1),this.mathstyleName&&(e.mathstyleName=this.mathstyleName),D(D({},super.toJson()),e)}get children(){if(this._children)return this._children;let e=[];if($v.fractionNavigationOrder==="denominator-numerator"){for(let r of this.below)e.push(...r.children),e.push(r);for(let r of this.above)e.push(...r.children),e.push(r)}else{for(let r of this.above)e.push(...r.children),e.push(r);for(let r of this.below)e.push(...r.children),e.push(r)}return this._children=e,e}render(e){var r,n;let i=new Pe({parent:e,mathstyle:this.mathstyleName},this.style),s=i.metrics,o=new Pe({parent:i,mathstyle:this.continuousFraction?"":"numerator"},this.style),a=this.numerPrefix?new oe([new oe(this.numerPrefix),X.createBox(o,this.above)],{isTight:o.isTight,type:"ignore"}):(r=X.createBox(o,this.above,{type:"ignore"}))!=null?r:new oe(null,{type:"ignore"}),l=new Pe({parent:i,mathstyle:this.continuousFraction?"":"denominator"},this.style),c=this.denomPrefix?new oe([new oe(this.denomPrefix),X.createBox(l,this.below,{type:"ignore"})]):(n=X.createBox(l,this.below,{type:"ignore"}))!=null?n:new oe(null,{type:"ignore"}),u=this.hasBarLine?s.defaultRuleThickness:0,A,h=0,f;i.isDisplayStyle?(A=o.metrics.num1,h=u>0?3*u:7*u,f=l.metrics.denom1):(u>0?(A=o.metrics.num2,h=u):(A=o.metrics.num3,h=3*s.defaultRuleThickness),f=l.metrics.denom2);let p=[];this.isSelected&&p.push("ML__selected");let m=a.depth,y=c.height,g;if(u<=0){let B=A-m-(y-f);B<h&&(A+=(h-B)/2,f+=(h-B)/2),g=new rr({individualShift:[{box:a,shift:-A,classes:[...p,z1(this.align)]},{box:c,shift:f,classes:[...p,z1(this.align)]}]}).wrap(i)}else{let B=new oe(null,{classes:"ML__frac-line",mode:this.mode,style:this.style});B.softWidth=Math.max(a.width,c.width),B.height=u/2,B.depth=u/2;let _=ws+u/2;A<h+m+_&&(A=h+m+_);let k=ws-u/2;f<h+y-k&&(f=h+y-k),g=new rr({individualShift:[{box:c,shift:f,classes:[...p,z1(this.align)]},{box:B,shift:-k,classes:p},{box:a,shift:-A,classes:[...p,z1(this.align)]}]}).wrap(i)}let v=i.isDisplayStyle?s.delim1:s.delim2,x=this.leftDelim?this.bind(e,Tb("open",this.leftDelim,v,!0,e,{style:this.style,mode:this.mode,isSelected:this.isSelected})):Ou(i,"ML__open"),b=null;this.continuousFraction?b=new oe(null,{type:"close"}):this.rightDelim?b=this.bind(e,Tb("close",this.rightDelim,v,!0,e,{style:this.style,mode:this.mode,isSelected:this.isSelected})):b=Ou(i,"ML__close");let w=new oe([x,g,b],{isTight:i.isTight,type:"inner",classes:"ML__mfrac"}),C=this.bind(e,w);return this.caret&&(C.caret=this.caret),this.attachSupsub(e,{base:C})}};function z1(t){var e;return(e={left:"ML__left",right:"ML__right",center:"ML__center"}[t])!=null?e:"ML__center"}var mr=class bG extends X{constructor(e,r){var n;super({type:"latex",value:e,mode:"latex"}),this.isSuggestion=(n=r==null?void 0:r.isSuggestion)!=null?n:!1,this.isError=!1}static fromJson(e){let r=new bG(e.value);return e.isSuggestion&&(r.isSuggestion=!0),e.isError&&(r.isError=!0),r}toJson(){let e={};return this.isSuggestion&&(e.isSuggestion=!0),this.isError&&(e.isError=!0),D({type:"latex",value:this.value},e)}render(e){let r=new oe(this.value,{classes:this.isSuggestion?"ML__suggestion":this.isError?"ML__error":"",type:"latex",maxFontSize:1});return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}},Lp=class wG extends X{constructor(e=""){super({type:"latexgroup",mode:"latex"}),this.body=[...e].map(r=>new mr(r)),this.skipBoundary=!0}static fromJson(e){return new wG}toJson(){return super.toJson()}render(e){let r=X.createBox(e,this.body);return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}_serialize(e){var r,n;return(n=(r=this.body)==null?void 0:r.map(i=>i.value).join(""))!=null?n:""}},vE=class CG extends X{constructor(e,r){super(N(D({},r),{type:"extensible-symbol",isFunction:r==null?void 0:r.isFunction})),this.value=e,this.variant=r==null?void 0:r.variant,this.subsupPlacement=r==null?void 0:r.limits}static fromJson(e){return new CG(e.symbol,e)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.subsupPlacement&&(e.limits=this.subsupPlacement),this.value&&(e.symbol=this.value),e}render(e){var r;let n=e.isDisplayStyle&&this.value!=="\\smallint",i=new oe(this.value,{fontFamily:n?"Size2-Regular":"Size1-Regular",classes:"ML__op-symbol "+(n?"ML__large-op":"ML__small-op"),type:"op",maxFontSize:e.scalingFactor,isSelected:this.isSelected});if(!i)return null;i.right=i.italic;let s=(i.height-i.depth)/2-ws*e.scalingFactor,o=i.italic;i.setTop(s);let a=i;if(this.superscript||this.subscript){let l=(r=this.subsupPlacement)!=null?r:"auto";l==="auto"&&e.isDisplayStyle&&(l="over-under"),a=l==="over-under"?this.attachLimits(e,{base:i,baseShift:s,slant:o}):this.attachSupsub(e,{base:i})}return new oe(this.bind(e,a),{type:"op",caret:this.caret,isSelected:this.isSelected,classes:"ML__op-group"}).wrap(e)}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Rr(this.command,this.mode);if(r!=null&&r.serialize)return r.serialize(this,e);let n=[];return n.push(this.command),this.explicitSubsupPlacement&&(this.subsupPlacement==="over-under"&&n.push("\\limits"),this.subsupPlacement==="adjacent"&&n.push("\\nolimits"),this.subsupPlacement==="auto"&&n.push("\\displaylimits")),n.push(this.supsubToLatex(e)),Le(n)}},zu=class BG extends X{constructor(e){let r=e.body;super(N(D({},e),{type:"overlap",body:typeof r=="string"?[new X({value:r})]:r,style:e==null?void 0:e.style})),this.skipBoundary=!0,this.align=e==null?void 0:e.align,this.boxType=e==null?void 0:e.boxType}static fromJson(e){return new BG(e)}toJson(){let e={};return this.align&&(e.align=this.align),this.boxType&&(e.boxType=this.boxType),D(D({},super.toJson()),e)}render(e){let r=X.createBox(e,this.body,{classes:"ML__inner"});return r?(this.caret&&(r.caret=this.caret),this.bind(e,new oe([r,new oe(null,{classes:"ML__fix"})],{classes:this.align==="right"?"ML__rlap":"ML__llap",type:this.boxType}))):null}},Xi=class _G extends X{constructor(e){var r,n,i,s;super({type:"overunder",command:e.command,style:e.style,mode:e.mode,body:e.body,skipBoundary:(r=e.skipBoundary)!=null?r:!0}),this.subsupPlacement=e.supsubPlacement,this.svgAbove=e.svgAbove,this.svgBelow=e.svgBelow,this.svgBody=e.svgBody,this.above=e.above,this.below=e.below,this.boxType=(n=e.boxType)!=null?n:"ord",this.paddedBody=(i=e.paddedBody)!=null?i:!1,this.paddedLabels=(s=e.paddedLabels)!=null?s:!1}static fromJson(e){return new _G(e)}toJson(){let e=super.toJson();return this.skipBoundary||(e.skipBoundary=!1),this.subsupPlacement&&(e.subsupPlacement=this.subsupPlacement),this.svgAbove&&(e.svgAbove=this.svgAbove),this.svgBelow&&(e.svgBelow=this.svgBelow),this.svgBody&&(e.svgBody=this.svgBody),this.boxType!=="ord"&&(e.boxType=this.boxType),this.paddedBody&&(e.paddedBody=!0),this.paddedLabels&&(e.paddedLabels=!0),e}render(e){let r=this.svgBody?Pv(this.svgBody):X.createBox(e,this.body,{type:"ignore"}),n=new Pe({parent:e,mathstyle:"scriptstyle"},this.style),i=null;this.svgAbove?i=Pv(this.svgAbove):this.above&&(i=X.createBox(n,this.above,{type:"ignore"}));let s=null;this.svgBelow?s=Pv(this.svgBelow):this.below&&(s=X.createBox(n,this.below,{type:"ignore"})),this.paddedBody&&(r=new oe([Ou(e,"ML__open"),r,Ou(e,"ML__close")],{type:"ignore"}));let o=yCe(e,{base:r,above:i,below:s,type:this.boxType==="bin"||this.boxType==="rel"?this.boxType:"ord",paddedAboveBelow:this.paddedLabels});return o?(this.subsupPlacement==="over-under"?o=this.attachLimits(e,{base:o,type:o.type}):o=this.attachSupsub(e,{base:o}),this.caret&&(o.caret=this.caret),this.bind(e,o)):null}};function yCe(t,e){if(!e.base)return null;if(!e.above&&!e.below){let a=new oe(e.base,{type:e.type});return a.setStyle("position","relative"),a}let r=0;e.above&&(r=t.metrics.bigOpSpacing5);let n=null,i=e.base,s=0,o=["ML__center"];if(e.paddedAboveBelow&&o.push("ML__label_padding"),e.below&&e.above){let a=t.metrics.bigOpSpacing5+e.below.height+e.below.depth+i.depth+s;n=new rr({bottom:a,children:[t.metrics.bigOpSpacing5,{box:e.below,classes:o},{box:i,classes:["ML__center"]},r,{box:e.above,classes:o},t.metrics.bigOpSpacing5]})}else e.below?n=new rr({top:i.height-s,children:[t.metrics.bigOpSpacing5,{box:e.below,classes:o},{box:i,classes:["ML__center"]}]}):e.above&&(n=new rr({bottom:i.depth+s,children:[{box:i,classes:["ML__center"]},r,{box:e.above,classes:o},t.metrics.bigOpSpacing5]}));return new oe(n,{type:e.type})}var k0=class SG extends X{constructor(e){var r,n,i,s;super(N(D({},e),{type:"phantom"})),this.captureSelection=!0,this.isInvisible=(r=e.isInvisible)!=null?r:!1,this.smashDepth=(n=e.smashDepth)!=null?n:!1,this.smashHeight=(i=e.smashHeight)!=null?i:!1,this.smashWidth=(s=e.smashWidth)!=null?s:!1}static fromJson(e){return new SG(e)}toJson(){let e={};return this.isInvisible&&(e.isInvisible=!0),this.smashDepth&&(e.smashDepth=!0),this.smashHeight&&(e.smashHeight=!0),this.smashWidth&&(e.smashWidth=!0),D(D({},super.toJson()),e)}render(e){let r=new Pe({parent:e,isPhantom:!0});if(!this.smashDepth&&!this.smashHeight&&!this.smashWidth)return this.isInvisible,X.createBox(r,this.body,{classes:"ML__inner"});let n=X.createBox(this.isInvisible?r:e,this.body);if(!n)return null;if(this.smashWidth){let i=new oe(null,{classes:"ML__fix"});return new oe([n,i],{classes:"ML__rlap"}).wrap(e)}if(!this.smashHeight&&!this.smashDepth)return n;if(this.smashHeight&&(n.height=0),this.smashDepth&&(n.depth=0),n.children)for(let i of n.children)this.smashHeight&&(i.height=0),this.smashDepth&&(i.depth=0);return new rr({firstBaseline:[{box:n}]},{type:n.type}).wrap(e)}},E0=class kG extends X{constructor(e){var r;super(D({type:"spacing"},e)),this.width=e==null?void 0:e.width,this._braced=(r=e==null?void 0:e.braced)!=null?r:!1}static fromJson(e){return new kG(e)}toJson(){let e=super.toJson();return this.width!==void 0&&(e.width=this.width),this._braced&&(e.braced=!0),e}render(e){var r;if(this.command==="space")return new oe(this.mode==="math"?null:" ");let n;if(this.width!==void 0)n=new oe(null,{classes:"ML__mspace"}),n.left=e.toEm(this.width);else{let i=(r={"\\qquad":"ML__qquad","\\quad":"ML__quad","\\enspace":"ML__enspace","\\;":"ML__thickspace","\\:":"ML__mediumspace","\\>":"ML__mediumspace","\\,":"ML__thinspace","\\!":"ML__negativethinspace"}[this.command])!=null?r:"ML__mediumspace";n=new oe(null,{classes:i})}return n=this.bind(e,n),this.caret&&(n.caret=this.caret),n}_serialize(e){var r;if(!e.expandMacro&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let n=Rr(this.command,this.mode);if(n!=null&&n.serialize)return n.serialize(this,e);let i=(r=this.command)!=null?r:"";return this.width===void 0?i:this._braced&&!("register"in this.width)?`${i}{${Mr(this.width)}}`:`${i}${Mr(this.width)}`}},EG=class FG extends X{constructor(e){var r;super(N(D({},e),{type:"surd",mode:(r=e.mode)!=null?r:"math",style:e.style,displayContainsHighlight:!0,body:e.body})),this.above=e.index}static fromJson(e){return new FG(N(D({},e),{index:e.above}))}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Rr(this.command,this.mode);if(r!=null&&r.serialize)return r.serialize(this,e);let n=this.command,i=this.bodyToLatex(e);return this.above&&!this.hasEmptyBranch("above")?ct(`${n}[${this.aboveToLatex(e)}]`,i):/^[0-9]$/.test(i)?`${n}${i}`:ct(n,i)}get children(){if(this._children)return this._children;let e=[];if(this.above)for(let r of this.above)e.push(...r.children),e.push(r);if(this.body)for(let r of this.body)e.push(...r.children),e.push(r);return this._children=e,e}render(e){var r;let n=new Pe({parent:e,mathstyle:"cramp"},this.style),i=(r=X.createBox(n,this.body,{type:"inner"}))!=null?r:new oe(null),s=n.scalingFactor,o=n.metrics.defaultRuleThickness/s,a=e.isDisplayStyle?Fl:o,l=new oe(null,{classes:"ML__sqrt-line",style:this.style});l.height=o,l.softWidth=i.width;let c=s*(o+a/4),u=Math.max(s*2*a,i.height+i.depth)+c+o,A=new Pe({parent:e},this.style),h=this.bind(A,new oe(Tb("inner","\\surd",u,!1,A,{isSelected:this.isSelected}),{isSelected:this.isSelected,classes:"ML__sqrt-sign",style:this.style}));if(!h)return null;let f=h.height+h.depth-o;f>i.height+i.depth+c&&(c=(c+f-(i.height+i.depth))/2),h.setTop(h.height-i.height-c);let p=this.bind(e,new rr({firstBaseline:[{box:new oe(i)},c-2*o,{box:l},o]})),m=X.createBox(new Pe({parent:e,mathstyle:"scriptscriptstyle"}),this.above,{type:"ignore"});if(!m){let v=new oe([h,p],{classes:this.containsCaret?"ML__contains-caret":"",type:"inner"});return v.setStyle("display","inline-block"),v.setStyle("height",v.height+v.depth,"em"),this.caret&&(v.caret=this.caret),this.bind(e,v)}let y=new rr({shift:-.6*(Math.max(h.height,p.height)-Math.max(h.depth,p.depth)),children:[{box:m}]}),g=new oe([new oe(y,{classes:"ML__sqrt-index",type:"ignore"}),h,p],{type:"inner",classes:this.containsCaret?"ML__contains-caret":""});return g.height=h.height,g.depth=h.depth,this.caret&&(g.caret=this.caret),this.bind(e,g)}},vCe=class extends oe{constructor(t){super(null,{type:"skip"}),this._width=t}toMarkup(){return`<span style="display:inline-block;width:${Math.ceil(this.width*100)/100}em"></span>`}};function Vv(t,e){if(!t.parent)return;let r=t.parent.children,n=r.indexOf(t),i=n-1;for(;i>=0&&r[i].type==="ignore";)i-=1;if(i<0&&t.parent.parent&&t.parent.type==="lift"){Vv(t.parent,e);return}n>0&&r[n-1].type==="skip"?r[n-1].width+=e:r.splice(n,0,new vCe(e))}var xCe={ord:{op:3,bin:4,rel:5,inner:3},op:{ord:3,op:3,rel:5,inner:3},bin:{ord:4,op:4,open:4,inner:4},rel:{ord:5,op:5,open:5,inner:5},close:{op:3,bin:4,rel:5,inner:3},punct:{ord:3,op:3,rel:3,open:3,punct:3,inner:3},inner:{ord:3,op:3,bin:4,rel:5,open:3,punct:3,inner:3}},bCe={ord:{op:3},op:{ord:3,op:3},close:{op:3},inner:{op:3}};function wCe(t){jp(t,(e,r)=>{r.type==="bin"&&(!e||/^(middle|bin|op|rel|open|punct)$/.test(e.type))&&(r.type="ord"),(e==null?void 0:e.type)==="bin"&&/^(rel|close|punct)$/.test(r.type)&&(e.type="ord"),r.type!=="ignore"&&(e=r)})}function F0(t,e){if(!t.children)return t;let r=t.children;wCe(r);let n=e.getRegisterAsEm("thinmuskip"),i=e.getRegisterAsEm("medmuskip"),s=e.getRegisterAsEm("thickmuskip");return jp(r,(o,a)=>{var l,c,u;if(!o)return;let A=o.type,h=a.isTight?(l=bCe[A])!=null?l:null:(c=xCe[A])!=null?c:null,f=(u=h==null?void 0:h[a.type])!=null?u:null;f===3&&Vv(a,n),f===4&&Vv(a,i),f===5&&Vv(a,s)}),t}function jp(t,e,r=void 0){if(!t)return r;t=[...t];for(let n of t)n.type==="lift"?r=jp(n.children,e,r):n.type==="ignore"?jp(n.children,e):(e(r,n),jp(n.children,e),r=n);return r}var xE=class MG extends X{constructor(e){super({type:"tooltip",command:e.command,mode:e.mode,style:e.style,body:e.body,displayContainsHighlight:!0}),this.tooltip=new X({type:"root",mode:e.content,body:e.tooltip,style:{}}),this.skipBoundary=!0,this.captureSelection=!1}static fromJson(e){return new MG(N(D({},e),{tooltip:Ml(e.tooltip)}))}toJson(){var e;let r=(e=this.tooltip.body)==null?void 0:e.filter(n=>n.type!=="first").map(n=>n.toJson());return N(D({},super.toJson()),{tooltip:r})}render(e){let r=X.createBox(new Pe,this.body);if(!r)return null;let n=new Pe({parent:e,mathstyle:"displaystyle"},{fontSize:fE}),i=xw(F0(new oe(this.tooltip.render(n),{classes:"ML__tooltip-content"}),n)),s=new oe([i,r],{classes:"ML__tooltip-container"});return this.caret&&(s.caret=this.caret),this.bind(e,s)}},Wu=class TG extends X{constructor(e,r){super(N(D({},r),{type:"operator",isFunction:r==null?void 0:r.isFunction})),this.value=e,this.variant=r==null?void 0:r.variant,this.variantStyle=r==null?void 0:r.variantStyle,this.subsupPlacement=r==null?void 0:r.limits}static fromJson(e){return new TG(e.symbol,e)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.variantStyle&&(e.variantStyle=this.variantStyle),this.subsupPlacement&&(e.limits=this.subsupPlacement),this.value&&(e.symbol=this.value),e}render(e){var r;let n=new oe(this.value,{type:"op",mode:"math",maxFontSize:e.scalingFactor,style:{variant:this.variant,variantStyle:this.variantStyle},isSelected:this.isSelected,letterShapeStyle:e.letterShapeStyle}),i=n;if(this.superscript||this.subscript){let s=(r=this.subsupPlacement)!=null?r:"auto";i=s==="over-under"||s==="auto"&&e.isDisplayStyle?this.attachLimits(e,{base:n}):this.attachSupsub(e,{base:n})}return new oe(this.bind(e,i),{type:"op",caret:this.caret,isSelected:this.isSelected,classes:"ML__op-group"}).wrap(e)}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Rr(this.command,this.mode);if(r!=null&&r.serialize)return r.serialize(this,e);let n=[this.command];return this.explicitSubsupPlacement&&(this.subsupPlacement==="over-under"&&n.push("\\limits"),this.subsupPlacement==="adjacent"&&n.push("\\nolimits"),this.subsupPlacement==="auto"&&n.push("\\displaylimits")),n.push(this.supsubToLatex(e)),Le(n)}};function Ml(t){if(Dr(t))return t.map(n=>Ml(n));if(typeof t=="string")return X.fromJson(t);t=D({},t);for(let n of Jd)t[n]&&(t[n]=Ml(t[n]));t.args&&(t.args=CCe(t.args)),t.array&&(t.array=Ml(t.array));let e=t.type,r;e==="accent"&&(r=Cw.fromJson(t)),e==="array"&&(r=Ne.fromJson(t)),e==="box"&&(r=Gl.fromJson(t)),e==="chem"&&(r=hG.fromJson(t)),e==="composition"&&(r=ZW.fromJson(t)),e==="delim"&&(r=pG.fromJson(t)),e==="enclose"&&(r=S0.fromJson(t)),e==="error"&&(r=Pc.fromJson(t)),e==="extensible-symbol"&&(r=vE.fromJson(t)),e==="genfrac"&&(r=Ku.fromJson(t)),e==="group"&&(r=rG.fromJson(t)),e==="latex"&&(r=mr.fromJson(t)),e==="latexgroup"&&(r=Lp.fromJson(t)),e==="leftright"&&(r=Et.fromJson(t)),e==="macro"&&(r=oG.fromJson(t)),e==="macro-argument"&&(r=fCe.fromJson(t)),e==="operator"&&(r=Wu.fromJson(t)),e==="overlap"&&(r=zu.fromJson(t)),e==="overunder"&&(r=Xi.fromJson(t)),e==="placeholder"&&(r=mo.fromJson(t)),e==="prompt"&&(r=cG.fromJson(t)),e==="phantom"&&(r=k0.fromJson(t)),e==="sizeddelim"&&(r=gG.fromJson(t)),e==="spacing"&&(r=E0.fromJson(t)),e==="subsup"&&(r=Sw.fromJson(t)),e==="surd"&&(r=EG.fromJson(t)),e==="text"&&(r=Bh.fromJson(t)),e==="tooltip"&&(r=xE.fromJson(t)),r||(r=X.fromJson(t));for(let n of Jd)t[n]&&r.setChildren(t[n],n);return t.verbatimLatex!==void 0&&(r.verbatimLatex=t.verbatimLatex),t.subsupPlacement&&(r.subsupPlacement=t.subsupPlacement),t.explicitSubsupPlacement&&(r.explicitSubsupPlacement=!0),t.isFunction&&(r.isFunction=!0),t.skipBoundary&&(r.skipBoundary=!0),t.captureSelection&&(r.captureSelection=!0),r}function CCe(t){if(t&&Array.isArray(t))return t.map(e=>e==="<null>"?null:typeof e=="object"&&"group"in e?{group:e.group.map(r=>Ml(r))}:typeof e=="object"&&"atoms"in e?e.atoms.map(r=>Ml(r)):e)}function bE(t,e){!t||!e||(Dr(t)?t.forEach(r=>bE(r,e)):typeof t=="object"&&t.applyStyle(e,{unstyledOnly:!0}))}function Z6(t,e,r,n){function i(o,a){for(let l of s)if(l.style[o]!==a)return!1;return!0}if(e=t.normalizeRange(e),e[0]===e[1])return!1;let s=t.getAtoms(e,{includeChildren:!0});n.operation==="toggle"&&(r.color&&i("color",r.color)&&(r.color="none",delete r.verbatimColor),r.backgroundColor&&i("backgroundColor",r.backgroundColor)&&(r.backgroundColor="none",delete r.verbatimBackgroundColor),r.fontFamily&&i("fontFamily",r.fontFamily)&&(r.fontFamily="none"),r.fontSeries&&i("fontSeries",r.fontSeries)&&(r.fontSeries="auto"),r.fontShape&&i("fontShape",r.fontShape)&&(r.fontShape="auto"),r.fontSize&&i("fontSize",r.fontSize)&&(r.fontSize=fE),r.variant&&i("variant",r.variant)&&(r.variant="normal"),r.variantStyle&&i("variantStyle",r.variantStyle)&&(r.variantStyle=""));for(let o of s)o.applyStyle(r);return!0}function BCe(t){return{up:"italic",bold:"bolditalic",italic:"italic",bolditalic:"bolditalic","":"italic"}[t??""]}function kw(t){return{up:"up",bold:"bold",italic:void 0,bolditalic:"bold","":void 0}[t??""]}var yN={main:["Main-Regular","ML__cmr"],"main-italic":["Main-Italic","ML__cmr ML__it"],"main-bold":["Main-Bold","ML__cmr ML__bold"],"main-bolditalic":["Main-BoldItalic","ML__cmr ML__bold ML__it"],normal:["Main-Regular","ML__cmr"],"normal-bold":["Main-Bold","ML__mathbf"],"normal-italic":["Math-Italic","ML__mathit"],"normal-bolditalic":["Math-BoldItalic","ML__mathbfit"],ams:["AMS-Regular","ML__ams"],"ams-bold":["AMS-Regular","ML__ams ML__bold"],"ams-italic":["AMS-Regular","ML__ams ML__it"],"ams-bolditalic":["AMS-Regular","ML__ams ML__bold ML__it"],"sans-serif":["SansSerif-Regular","ML__sans"],"sans-serif-bold":["SansSerif-Regular","ML__sans ML__bold"],"sans-serif-italic":["SansSerif-Regular","ML__sans ML__it"],"sans-serif-bolditalic":["SansSerif-Regular","ML__sans ML__bold ML__it"],calligraphic:["Caligraphic-Regular","ML__cal"],"calligraphic-bold":["Caligraphic-Regular","ML__cal ML__bold"],"calligraphic-italic":["Caligraphic-Regular","ML__cal ML__it"],"calligraphic-bolditalic":["Caligraphic-Regular","ML__cal ML__bold ML__it"],script:["Script-Regular","ML__script"],"script-bold":["Script-Regular","ML__script ML__bold"],"script-italic":["Script-Regular","ML__script ML__it"],"script-bolditalic":["Script-Regular","ML__script ML__bold ML__it"],fraktur:["Fraktur-Regular","ML__frak"],"fraktur-bold":["Fraktur-Regular","ML__frak ML__bold"],"fraktur-italic":["Fraktur-Regular","ML__frak ML__it"],"fraktur-bolditalic":["Fraktur-Regular","ML__frak ML__bold ML__it"],monospace:["Typewriter-Regular","ML__tt"],"monospace-bold":["Typewriter-Regular","ML__tt ML__bold"],"monospace-italic":["Typewriter-Regular","ML__tt ML__it"],"monospace-bolditalic":["Typewriter-Regular","ML__tt ML__bold ML__it"],"double-struck":["AMS-Regular","ML__bb"],"double-struck-bold":["AMS-Regular","ML__bb ML__bold"],"double-struck-italic":["AMS-Regular","ML__bb ML_italic"],"double-struck-bolditalic":["AMS-Regular","ML__bb ML_bolditalic"]},e_={"double-struck":/^[A-Z ]$/,script:/^[A-Z ]$/,calligraphic:/^[\dA-Z ]$/,fraktur:/^[\dA-Za-z ]$|^[!"#$%&'()*+,\-./:;=?[]^]$/,monospace:/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/,"sans-serif":/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/},DG=/^[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5]$/,_Ce=/^[\u0393|\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A6\u03A8\u03A9]$/,SCe=[/^[a-z]$/,/^[A-Z]$/,DG,_Ce],kCe={iso:["it","it","it","it"],tex:["it","it","it","up"],french:["it","up","up","up"],upright:["up","up","up","up"]},ECe=class extends ci{constructor(){super("math")}createAtom(t,e,r){var n,i,s,o,a,l;if(e===null)return new X({type:"mord",mode:"math",command:t,value:t,style:r});let c;try{c=(s=(i=globalThis.MathfieldElement)==null?void 0:i.isFunction((n=e.command)!=null?n:t))!=null?s:!1}catch{c=!1}if(e.definitionType==="symbol"){let A=new X({type:(o=e.type)!=null?o:"mord",mode:"math",command:(a=e.command)!=null?a:t,value:String.fromCodePoint(e.codepoint),isFunction:c,style:r});return t.startsWith("\\")&&(A.verbatimLatex=t),A}let u=new X({type:"mord",mode:"math",command:(l=e.command)!=null?l:t,value:t,isFunction:c,style:r});return t.startsWith("\\")&&(u.verbatimLatex=t),u}serialize(t,e){let r=FCe(t,N(D({},e),{defaultMode:"math"}));return r.length===0||e.defaultMode!=="text"?r:["$ ",...r," $"]}getFont(t,e){var r,n;if(e.variant,e.fontFamily){let[c,u]=yN[e.fontFamily];return u&&(t.classes+=" "+u),c}let{variant:i}=e,{variantStyle:s}=e;if(i==="normal"&&!s&&/[\u00A3\u0131\u0237]/.test(t.value)&&(i="main",s="italic"),i==="normal"&&!s&&t.value.length===1){let c=!1;SCe.forEach((u,A)=>{var h;u.test(t.value)&&kCe[(h=e.letterShapeStyle)!=null?h:"tex"][A]==="it"&&(c=!0)}),c&&(s=BCe(s))}s==="up"&&(s=void 0);let o=s?i+"-"+s:i,[a,l]=yN[o];if(e_[i]&&!e_[i].test(t.value)){let c=Q6(t.value,i,s);return c||(c=(r=Q6(t.value,i))!=null?r:t.value,t.classes+=(n={bold:" ML__bold",italic:" ML__it","bold-italic":" ML__bold ML__it"}[s??""])!=null?n:""),t.value=c,null}return DG.test(t.value)&&(t.classes+=" lcGreek"),l&&(t.classes+=" "+l),a}};function FCe(t,e){return Ca(t,"bold").map(r=>{if(W6(r[0])!=="bold"||W6(r[0].parent)==="bold")return Le(W1(r,e));let n=Le(r.map(i=>{var s;return(s=i.value)!=null?s:""}));return/^[a-zA-Z0-9]+$/.test(n)?ct("\\mathbf",Le(W1(r,e))):ct("\\bm",Le(W1(r,e)))})}function W1(t,e){let{parent:r}=t[0],n=G6(r);return Ca(t,"variant").map(i=>{let s=G6(i[0]),o="";s&&s!==n&&(o={calligraphic:"\\mathcal","calligraphic-uo":"\\mathcal",fraktur:"\\mathfrak","fraktur-uo":"\\mathfrak","double-struck":"\\mathbb","double-struck-uo":"\\mathbb",script:"\\mathscr","script-uo":"\\mathscr",monospace:"\\mathtt","monospace-uo":"\\mathtt","sans-serif":"\\mathsf","sans-serif-uo":"\\mathsf",normal:"","normal-up":"\\mathrm","normal-italic":"\\mathnormal","normal-bold":"","normal-bolditalic":"\\mathbfit",ams:"","ams-up":"\\mathrm","ams-italic":"\\mathit","ams-bold":"","ams-bolditalic":"\\mathbfit",main:"","main-up":"\\mathrm","main-italic":"\\mathit","main-bold":"","main-bolditalic":"\\mathbfit"}[s]);let a=Le(i.map(l=>l._serialize(e)));return o?ct(o,a):a})}new ECe;function MCe(t,e){return t.map(r=>r._serialize(e))}function TCe(t,e){return Ca(t,"fontShape").map(r=>{let n=MCe(r,e),{fontShape:i}=r[0].style,s="";return i==="it"&&(s="\\textit"),i==="sl"&&(s="\\textsl"),i==="sc"&&(s="\\textsc"),i==="n"&&(s="\\textup"),!s&&i?`{${ct("\\fontshape",i)}${Le(n)}}`:s?ct(s,Le(n)):Le(n)})}function DCe(t,e){return Ca(t,"fontSeries").map(r=>{let n=TCe(r,e),{fontSeries:i}=r[0].style,s="";return i==="b"&&(s="\\textbf"),i==="l"&&(s="\\textlf"),i==="m"&&(s="\\textmd"),i&&!s?`{${ct("\\fontseries",i)}${Le(n)}}`:s?ct(s,Le(n)):Le(n)})}function LCe(t,e){return Ca(t,"fontSize").map(r=>{var n,i;let s=DCe(r,e),o=(i=["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][(n=r[0].style.fontSize)!=null?n:""])!=null?i:"";return o?`${o} ${Le(s)}`:Le(s)})}function jCe(t,e,r){return Ca(t,"fontFamily").map(n=>{var i;r=r&&!n.every(l=>l.style.fontFamily||l.style.fontShape||l.style.fontSeries||l.style.fontSize);let s=LCe(n,e),{fontFamily:o}=n[0].style,a=(i={roman:"textrm",monospace:"texttt","sans-serif":"textsf"}[o??""])!=null?i:"";return a?`\\${a}{${Le(s)}}`:o?`{\\fontfamily{${n[0].style.fontFamily}} ${Le(s)}}`:r?`\\text{${Le(s)}}`:Le(s)})}var vN={roman:"","sans-serif":"ML__sans",monospace:"ML__tt"},OCe=class extends ci{constructor(){super("text")}createAtom(t,e,r){return e&&e.definitionType==="symbol"?new Bh(t,String.fromCodePoint(e.codepoint),r??{}):null}serialize(t,e){return jCe(t,N(D({},e),{defaultMode:"text"}),e.defaultMode!=="text")}getFont(t,e){var r,n,i,s,o;let{fontFamily:a}=e;if(vN[a]?t.classes+=" "+vN[a]:a&&t.setStyle("font-family",a),e.fontShape&&(t.classes+=" ",t.classes+=(r={it:"ML__it",sl:"ML__shape_sl",sc:"ML__shape_sc",ol:"ML__shape_ol"}[e.fontShape])!=null?r:""),e.fontSeries){let l=e.fontSeries.match(/(.?[lbm])?(.?[cx])?/);l&&(t.classes+=" ",t.classes+=(i={ul:"ML__series_ul",el:"ML__series_el",l:"ML__series_l",sl:"ML__series_sl",m:"",sb:"ML__series_sb",b:"ML__bold",eb:"ML__series_eb",ub:"ML__series_ub"}[(n=l[1])!=null?n:""])!=null?i:"",t.classes+=" ",t.classes+=(o={uc:"ML__series_uc",ec:"ML__series_ec",c:"ML__series_c",sc:"ML__series_sc",n:"",sx:"ML__series_sx",x:"ML__series_x",ex:"ML__series_ex",ux:"ML__series_ux"}[(s=l[2])!=null?s:""])!=null?o:"")}return"Main-Regular"}};new OCe;var NCe=class extends ci{constructor(){super("latex")}createAtom(t){return new mr(t)}serialize(t,e){return t.filter(r=>r instanceof mr&&!r.isSuggestion).map(r=>r.value)}getFont(){return null}};new NCe;var ICe={id:"dvorak",locale:"en",displayName:"Dvorak",virtualLayout:"dvorak",platform:"",score:0,mapping:{KeyA:["a","A","",""],KeyB:["x","X","",""],KeyC:["j","J","",""],KeyD:["e","E","",""],KeyE:[".",">","",""],KeyF:["u","U","",""],KeyG:["i","I","",""],KeyH:["d","D","",""],KeyI:["c","C","",""],KeyJ:["h","H","",""],KeyK:["t","T","",""],KeyL:["n","N","",""],KeyM:["m","M","",""],KeyN:["b","B","",""],KeyO:["r","R","",""],KeyP:["l","L","",""],KeyQ:["'",'"',"",""],KeyR:["p","P","",""],KeyS:["o","O","",""],KeyT:["y","Y","",""],KeyU:["g","G","",""],KeyV:["k","K","",""],KeyW:[",","<","",""],KeyX:["q","Q","",""],KeyY:["f","F","",""],KeyZ:[";",":","",""],Digit1:["1","!","",""],Digit2:["2","@","",""],Digit3:["3","#","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","^","",""],Digit7:["7","&","",""],Digit8:["8","*","",""],Digit9:["9","(","",""],Digit0:["0",")","",""],Space:[" "," "," "," "],Minus:["[","{","",""],Equal:["]","}","",""],BracketLeft:["/","?","",""],BracketRight:["=","+","",""],Backslash:["\\","|","",""],Semicolon:["s","S","",""],Quote:["-","_","",""],Backquote:["`","~","`","`"],Comma:["w","W","",""],Period:["v","V","",""],Slash:["z","Z","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["","","",""],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}},t_={id:"apple.en-intl",displayName:"English (international)",virtualLayout:"qwerty",platform:"apple",locale:"en",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","",""],Digit2:["2","@","",""],Digit3:["3","#","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","^","",""],Digit7:["7","&","",""],Digit8:["8","*","",""],Digit9:["9","(","",""],Digit0:["0",")","",""],Space:[" "," "," "," "],Minus:["-","_","",""],Equal:["=","+","",""],BracketLeft:["[","{","",""],BracketRight:["]","}","",""],Backslash:["\\","|","",""],Semicolon:[";",":","",""],Quote:["'",'"',"",""],Backquote:["`","","`","`"],Comma:[",","<","",""],Period:[".",">","",""],Slash:["/","?","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["","","",""],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}},LG={id:"windows.en-intl",displayName:"English (international)",platform:"windows",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","",""],Digit2:["2","@","",""],Digit3:["3","#","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","^","",""],Digit7:["7","&","",""],Digit8:["8","*","",""],Digit9:["9","(","",""],Digit0:["0",")","",""],Space:[" "," ","",""],Minus:["-","_","",""],Equal:["=","+","",""],BracketLeft:["[","{","",""],BracketRight:["]","}","",""],Backslash:["\\","|","",""],Semicolon:[";",":","",""],Quote:["'",'"',"",""],Backquote:["`","~","",""],Comma:[",","<","",""],Period:[".",">","",""],Slash:["/","?","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\\","|","",""]}},jG={id:"linux.en",displayName:"English",platform:"linux",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","a","A"],KeyB:["b","B","b","B"],KeyC:["c","C","c","C"],KeyD:["d","D","d","D"],KeyE:["e","E","e","E"],KeyF:["f","F","f","F"],KeyG:["g","G","g","G"],KeyH:["h","H","h","H"],KeyI:["i","I","i","I"],KeyJ:["j","J","j","J"],KeyK:["k","K","k","K"],KeyL:["l","L","l","L"],KeyM:["m","M","m","M"],KeyN:["n","N","n","N"],KeyO:["o","O","o","O"],KeyP:["p","P","p","P"],KeyQ:["q","Q","q","Q"],KeyR:["r","R","r","R"],KeyS:["s","S","s","S"],KeyT:["t","T","t","T"],KeyU:["u","U","u","U"],KeyV:["v","V","v","V"],KeyW:["w","W","w","W"],KeyX:["x","X","x","X"],KeyY:["y","Y","y","Y"],KeyZ:["z","Z","z","Z"],Digit1:["1","!","1","!"],Digit2:["2","@","2","@"],Digit3:["3","#","3","#"],Digit4:["4","$","4","$"],Digit5:["5","%","5","%"],Digit6:["6","^","6","^"],Digit7:["7","&","7","&"],Digit8:["8","*","8","*"],Digit9:["9","(","9","("],Digit0:["0",")","0",")"],Space:[" "," "," "," "],Minus:["-","_","-","_"],Equal:["=","+","=","+"],BracketLeft:["[","{","[","{"],BracketRight:["]","}","]","}"],Backslash:["\\","|","\\","|"],Semicolon:[";",":",";",":"],Quote:["'",'"',"'",'"'],Backquote:["`","~","`","~"],Comma:[",","<",",","<"],Period:[".",">",".",">"],Slash:["/","?","/","?"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|",""],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}},UCe={id:"apple.french",locale:"fr",displayName:"French",platform:"apple",virtualLayout:"azerty",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","","|"],KeyM:[",","?","",""],KeyN:["n","N","~",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["","2","",""],Digit3:['"',"3","",""],Digit4:["'","4","",""],Digit5:["(","5","{","["],Digit6:["","6","",""],Digit7:["","7","",""],Digit8:["!","8","",""],Digit9:["","9","",""],Digit0:["","0","",""],Space:[" "," "," "," "],Minus:[")","","}","]"],Equal:["-","_","",""],BracketLeft:["^","","",""],BracketRight:["$","*","",""],Backslash:["`","","@","#"],Semicolon:["m","M","",""],Quote:["","%","",""],Backquote:["<",">","",""],Comma:[";",".","",""],Period:[":","/","","\\"],Slash:["=","+","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",".",",","."],IntlBackslash:["@","#","",""],NumpadEqual:["=","=","=","="]}},PCe={id:"windows.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"windows",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:[",","?","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{",""],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["","7","`",""],Digit8:["_","8","\\",""],Digit9:["","9","^",""],Digit0:["","0","@",""],Space:[" "," ","",""],Minus:[")","","]",""],Equal:["=","+","}",""],BracketLeft:["^","","",""],BracketRight:["$","","",""],Backslash:["*","","",""],Semicolon:["m","M","",""],Quote:["","%","",""],Backquote:["","","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}},QCe={id:"linux.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"linux",score:0,mapping:{KeyA:["q","Q","@",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","","&"],KeyL:["l","L","",""],KeyM:[",","?","",""],KeyN:["n","N","n","N"],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","","<"],KeyX:["x","X","",">"],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{","$"],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["","7","`",""],Digit8:["_","8","\\",""],Digit9:["","9","^",""],Digit0:["","0","@",""],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:[")","","]",""],Equal:["=","+","}",""],BracketLeft:["","","",""],BracketRight:["$","","",""],Backslash:["*","","",""],Semicolon:["m","M","",""],Quote:["","%","",""],Backquote:["","~","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","","",""],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|",""]}},RCe={id:"apple.german",locale:"de",displayName:"German",virtualLayout:"qwertz",platform:"apple",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","@",""],KeyM:["m","M","",""],KeyN:["n","N","~",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"",""],Digit3:["3","","","#"],Digit4:["4","$","",""],Digit5:["5","%","[",""],Digit6:["6","&","]","^"],Digit7:["7","/","|","\\"],Digit8:["8","(","{",""],Digit9:["9",")","}",""],Digit0:["0","=","",""],Space:[" "," "," "," "],Minus:["","?","",""],Equal:["","`","'",""],BracketLeft:["","","",""],BracketRight:["+","*","",""],Backslash:["#","'","",""],Semicolon:["","","",""],Quote:["","","",""],Backquote:["<",">","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",",",".","."],IntlBackslash:["^","","",""],NumpadEqual:["=","=","=","="]}},HCe={id:"windows.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"",""],Digit3:["3","","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","=","}",""],Space:[" "," ","",""],Minus:["","?","\\",""],Equal:["","`","",""],BracketLeft:["","","",""],BracketRight:["+","*","~",""],Backslash:["#","'","",""],Semicolon:["","","",""],Quote:["","","",""],Backquote:["^","","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","|",""]}},$Ce={id:"linux.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","","&"],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"",""],Digit3:["3","","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","=","}",""],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:["","?","\\",""],Equal:["","","",""],BracketLeft:["","","",""],BracketRight:["+","*","~",""],Backslash:["#","'","",""],Semicolon:["","","",""],Quote:["","","",""],Backquote:["","","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],PrintScreen:["","","",""],PageUp:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",",","",","],IntlBackslash:["<",">","|",""],AltRight:["\r","\r","\r","\r"],MetaRight:[".",".",".","."]}},VCe={id:"apple.spanish",locale:"es",displayName:"Spanish ISO",platform:"apple",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C",""," "],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H",""," "],KeyI:["i","I"," "," "],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L"," ",""],KeyM:["m","M","",""],KeyN:["n","N"," ",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R",""," "],KeyS:["s","S",""," "],KeyT:["t","T","",""],KeyU:["u","U"," "," "],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y",""," "],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","","#",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","&",""," "],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","=","",""],Space:[" "," "," "," "],Minus:["'","?","",""],Equal:["","","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["","","}",""],Semicolon:["","","~",""],Quote:["","","{",""],Backquote:["<",">","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[",",",",",",","],IntlBackslash:["","","\\",""]}},KCe={id:"windows.spanish",locale:"es",displayName:"Spanish",platform:"windows",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","","#",""],Digit4:["4","$","~",""],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","=","",""],Space:[" "," ","",""],Minus:["'","?","",""],Equal:["","","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["","","}",""],Semicolon:["","","",""],Quote:["","","{",""],Backquote:["","","\\",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}},zCe={id:"linux.spanish",locale:"es",displayName:"Spanish",platform:"linux",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","","&"],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","n","N"],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",">"],KeyY:["y","Y","",""],KeyZ:["z","Z","","<"],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","","#",""],Digit4:["4","$","~","$"],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","=","}",""],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:["'","?","\\",""],Equal:["","","","~"],BracketLeft:["","","[",""],BracketRight:["+","*","]",""],Backslash:["","","}",""],Semicolon:["","","~",""],Quote:["","","{","{"],Backquote:["","","\\","\\"],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadEnter:["\r","\r","\r","\r"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|",""],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}};function OG(t){let e=t.split("+"),r={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:e.pop()};return e.includes("shift")&&(r.shift=!0),e.includes("alt")&&(r.alt=!0),e.includes("ctrl")&&(r.ctrl=!0),e.includes("cmd")&&(r.cmd=!0),e.includes("win")&&(r.win=!0),e.includes("meta")&&(r.meta=!0),r}function od(t){let e="";return t.shift&&(e+="shift+"),t.alt&&(e+="alt+"),t.ctrl&&(e+="ctrl+"),t.cmd&&(e+="cmd+"),t.win&&(e+="win+"),t.meta&&(e+="meta+"),e+t.key}var WCe={enter:"[Enter]",escape:"[Escape]",backspace:"[Backspace]",tab:"[Tab]",space:"[Space]",pausebreak:"[Pause]",insert:"[Insert]",home:"[Home]",pageup:"[PageUp]",delete:"[Delete]",end:"[End]",pagedown:"[PageDown]",right:"[ArrowRight]",left:"[ArrowLeft]",down:"[ArrowDown]",up:"[ArrowUp]",numpad0:"[Numpad0]",numpad1:"[Numpad1]",numpad2:"[Numpad2]",numpad3:"[Numpad3]",numpad4:"[Numpad4]",numpad5:"[Numpad5]",numpad6:"[Numpad6]",numpad7:"[Numpad7]",numpad8:"[Numpad8]",numpad9:"[Numpad9]",numpad_divide:"[NumpadDivide]",numpad_multiply:"[NumpadMultiply]",numpad_subtract:"[NumpadSubtract]",numpad_add:"[NumpadAdd]",numpad_decimal:"[NumpadDecimal]",numpad_separator:"[NumpadComma]",capslock:"[Capslock]",f1:"[F1]",f2:"[F2]",f3:"[F3]",f4:"[F4]",f5:"[F5]",f6:"[F6]",f7:"[F7]",f8:"[F8]",f9:"[F9]",f10:"[F10]",f11:"[F11]",f12:"[F12]",f13:"[F13]",f14:"[F14]",f15:"[F15]",f16:"[F16]",f17:"[F17]",f18:"[F18]",f19:"[F19]"},Db=[];function wE(){switch(Ch()){case"macos":case"ios":return"apple";case"windows":return"windows"}return"linux"}function ri(t){(!t.platform||t.platform===wE())&&Db.push(t)}function GCe(t,e){var r;let n={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:""};if(!t)return n;for(let[i,s]of Object.entries(e.mapping)){if(s[0]===t)return n.key=`[${i}]`,n;if(s[1]===t)return n.shift=!0,n.key=`[${i}]`,n;if(s[2]===t)return n.alt=!0,n.key=`[${i}]`,n;if(s[3]===t)return n.shift=!0,n.alt=!0,n.key=`[${i}]`,n}return n.key=(r=WCe[t])!=null?r:"",n}function qCe(t){if(t.code)return t;let e=Object.entries(Rm().mapping),r=!1,n=!1,i="";for(let s=0;s<4;s++){for(let[o,a]of e)if(a[s]===t.key){i=o,s===3?(r=!0,n=!0):s===2?r=!0:s===1&&(n=!0);break}if(i)break}return new KeyboardEvent(t.type,N(D({},t),{altKey:r,shiftKey:n,code:i}))}function XCe(t){var e,r;if(!t||t.key==="Unidentified"||t.key==="Dead")return;let n=t.shiftKey&&t.altKey?3:t.altKey?2:t.shiftKey?1:0;for(let i of Db)((e=i.mapping[t.code])==null?void 0:e[n])===t.key?i.score+=1:(r=i.mapping[t.code])!=null&&r[n]&&(i.score=0);Db.sort((i,s)=>s.score-i.score)}function Rm(){return Db[0]}function YCe(){switch(wE()){case"apple":return t_;case"windows":return LG;case"linux":return jG}return t_}switch(wE()){case"apple":ri(t_),ri(UCe),ri(VCe),ri(RCe);break;case"windows":ri(LG),ri(PCe),ri(KCe),ri(HCe);break;case"linux":ri(jG),ri(QCe),ri(zCe),ri($Ce);break}ri(ICe);function CE(t){var e;let r=/macos|ios/.test(Ch()),n=t.split("+"),i="";for(let s of n)i&&(i+=r?"":'<span class="ML__shortcut-join">+</span>'),s.startsWith("[Key")?i+=s.slice(4,5):s.startsWith("Key")?i+=s.slice(3,4):s.startsWith("[Digit")?i+=s.slice(6,7):s.startsWith("Digit")?i+=s.slice(5,6):i+=(e={cmd:"",meta:r?"":"Ctrl",shift:r?"":"Shift",alt:r?"":"Alt",ctrl:r?"":"Ctrl","\n":r?"":"Return","[return]":r?"":"Return","[enter]":r?"":"Enter","[tab]":r?"":"Tab","[escape]":"Esc","[backspace]":r?"":"Backspace","[delete]":r?"":"Del","[pageup]":r?"":"Page Up","[pagedown]":r?"":"Page Down","[home]":r?"":"Home","[end]":r?"":"End","[space]":"Space","[equal]":"=","[minus]":"-","[comma]":",","[slash]":"/","[backslash]":"\\","[bracketleft]":"[","[bracketright]":"]",semicolon:";",period:".",comma:",",minus:"-",equal:"=",quote:"'",backslash:"\\",intlbackslash:"\\",backquote:"`",slash:"/",numpadmultiply:"* &#128290;",numpaddivide:"/ &#128290;",numpadsubtract:"- &#128290;",numpadadd:"+ &#128290;",numpaddecimal:". &#128290;",numpadcomma:", &#128290;",help:"help",left:"",up:"",right:"",down:"","[arrowleft]":"","[arrowup]":"","[arrowright]":"","[arrowdown]":""}[s.toLowerCase()])!=null?e:s.toUpperCase();return i}function Lb(t){if(t instanceof MouseEvent||t instanceof PointerEvent)return{x:t.clientX,y:t.clientY};if(typeof TouchEvent<"u"&&t instanceof TouchEvent){let e=[...t.touches].reduce((n,i)=>({x:n.x+i.clientX,y:n.y+i.clientY}),{x:0,y:0}),r=t.touches.length;return{x:e.x/r,y:e.y/r}}}function ru(t){let e={alt:!1,control:!1,shift:!1,meta:!1};return(t instanceof MouseEvent||t instanceof PointerEvent||typeof TouchEvent<"u"&&t instanceof TouchEvent||t instanceof KeyboardEvent)&&(t.altKey&&(e.alt=!0),t.ctrlKey&&(e.control=!0),t.metaKey&&(e.meta=!0),t.shiftKey&&(e.shift=!0)),e}function JCe(t,e){return!t&&e||t&&!e?!1:!t||!e?!0:t.alt===e.alt&&t.control===e.control&&t.shift===e.shift&&t.meta===e.meta}var ZCe=new Set(["Backquote","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Minus","Equal","IntlYen","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","IntlBackslash","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","IntlRo","Space","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadAdd","NumpadComma","NumpadDecimal","NumpadDivide","NumpadEqual","NumpadHash","NumpadMultiply","NumpadParenLeft","NumpadParenRight","NumpadStar","NumpadSubstract"]);function Ew(t){return t.ctrlKey||t.metaKey||["Dead","Process"].includes(t.key)?!1:t.code===""?!0:ZCe.has(t.code)}function jb(){var t;let e=document.activeElement;for(;(t=e==null?void 0:e.shadowRoot)!=null&&t.activeElement;)e=e.shadowRoot.activeElement;return e}var ds=class Lo{static get scrim(){return Lo._scrim||(Lo._scrim=new Lo),Lo._scrim}static open(e){Lo.scrim.open(e)}static close(){Lo.scrim.close()}static get state(){return Lo.scrim.state}static get element(){return Lo.scrim.element}constructor(e){var r,n;this.lightDismiss=(r=e==null?void 0:e.lightDismiss)!=null?r:!0,this.translucent=(n=e==null?void 0:e.translucent)!=null?n:!1,this.state="closed"}get element(){if(this._element)return this._element;let e=document.createElement("div");return e.setAttribute("role","presentation"),e.style.position="fixed",e.style.contain="content",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.zIndex="var(--scrim-zindex, 10099)",e.style.outline="none",this.translucent?(e.style.background="rgba(255, 255, 255, .2)",e.style.backdropFilter="contrast(40%)"):e.style.background="transparent",this._element=e,e}open(e){var r;if(this.state!=="closed")return;this.state="opening",this.onDismiss=e==null?void 0:e.onDismiss,this.savedActiveElement=jb();let{element:n}=this;((r=e==null?void 0:e.root)!=null?r:document.body).appendChild(n),n.addEventListener("click",this),document.addEventListener("touchmove",this,!1),document.addEventListener("scroll",this,!1);let i=window.innerWidth-document.documentElement.clientWidth;this.savedMarginRight=document.body.style.marginRight,this.savedOverflow=document.body.style.overflow,document.body.style.overflow="hidden";let s=Number.parseFloat(getComputedStyle(document.body).marginRight);document.body.style.marginRight=`${s+i}px`,e!=null&&e.child&&n.append(e.child),this.state="open"}close(){var e,r,n,i;if(this.state!=="open"){this.element.parentElement;return}this.state="closing",typeof this.onDismiss=="function"&&this.onDismiss(),this.onDismiss=void 0;let{element:s}=this;s.removeEventListener("click",this),document.removeEventListener("touchmove",this,!1),document.removeEventListener("scroll",this,!1),s.remove(),document.body.style.overflow=(e=this.savedOverflow)!=null?e:"",document.body.style.marginRight=(r=this.savedMarginRight)!=null?r:"",jb()!==this.savedActiveElement&&((i=(n=this.savedActiveElement)==null?void 0:n.focus)==null||i.call(n)),s.innerHTML="",this.state="closed"}handleEvent(e){this.lightDismiss&&(e.target===this._element&&e.type==="click"?(this.close(),e.preventDefault(),e.stopPropagation()):e.target===document&&(e.type==="touchmove"||e.type==="scroll")&&(this.close(),e.preventDefault(),e.stopPropagation()))}};function eBe(t,e,r){let n=null,i=null,s=!1,o=!1,a=!1,l=new AbortController,c=l.signal;return t.addEventListener("keydown",u=>{if(s||u.key==="Process"||u.code==="CapsLock"||/(Control|Meta|Alt|Shift)(Left|Right)/.test(u.code)){n=null;return}n=u,i=null,r.onKeystroke(u)?t.textContent="":n=null},{capture:!0,signal:c}),t.addEventListener("keypress",u=>{s||(n&&i&&r.onKeystroke(n),i=u)},{capture:!0,signal:c}),t.addEventListener("compositionstart",u=>{t.textContent="",s=!0,r.onCompositionStart(u.data)},{capture:!0,signal:c}),t.addEventListener("compositionupdate",u=>{s&&r.onCompositionUpdate(u.data)},{capture:!0,signal:c}),t.addEventListener("compositionend",u=>{t.textContent="",s&&(s=!1,r.onCompositionEnd(u.data))},{capture:!0,signal:c}),t.addEventListener("beforeinput",u=>u.stopImmediatePropagation(),{signal:c}),t.addEventListener("input",u=>{var A;if(!s&&(t.textContent="",u.inputType!=="insertCompositionText")){if(u.inputType==="insertFromPaste"){u.preventDefault(),u.stopPropagation();return}r.onInput((A=u.data)!=null?A:""),u.preventDefault(),u.stopPropagation()}},{signal:c}),t.addEventListener("paste",u=>{t.focus({preventScroll:!0}),t.textContent="",r.onPaste(u)||u.preventDefault(),u.stopImmediatePropagation()},{signal:c}),t.addEventListener("cut",u=>r.onCut(u),{capture:!0,signal:c}),t.addEventListener("copy",u=>r.onCopy(u),{capture:!0,signal:c}),t.addEventListener("blur",u=>{var A,h;if(((h=(A=u.relatedTarget)==null?void 0:A._mathfield)==null?void 0:h.element)===e){t.focus({preventScroll:!0}),u.preventDefault(),u.stopPropagation();return}let f=!1,p=u.relatedTarget;for(;p;){if(p.classList.contains("ML__keyboard")){f=!0;break}p=p.parentElement}if(f){t.focus({preventScroll:!0}),u.preventDefault(),u.stopPropagation();return}let m=ds.state;if(m==="open"||m==="opening"){u.preventDefault(),u.stopPropagation();return}if(u.relatedTarget===u.target.getRootNode().host){u.preventDefault(),u.stopPropagation();return}a||o||(a=!0,n=null,i=null,r.onBlur(),a=!1)},{capture:!0,signal:c}),t.addEventListener("focus",u=>{a||o||(o=!0,r.onFocus(),o=!1)},{capture:!0,signal:c}),{dispose:()=>l.abort(),cancelComposition:()=>{s&&(t.blur(),requestAnimationFrame(()=>t.focus({preventScroll:!0})))},blur:()=>{typeof t.blur=="function"&&t.blur()},focus:()=>{!o&&typeof t.focus=="function"&&t.focus({preventScroll:!0})},hasFocus:()=>jb()===t,setAriaLabel:u=>t.setAttribute("aria-label",u),setValue:u=>{var A;t.textContent!==u&&(t.textContent=u,t.style.left="-1000px",(A=window.getSelection())==null||A.selectAllChildren(t))},moveTo:(u,A)=>{t.style.top=`${A}px`,t.style.left=`${u}px`}}}function DA(t){var e;if(!t||!Ew(t))return"";let r;return t.key==="Unidentified"&&t.target&&(r=t.target.value),r=(e=r??t.key)!=null?e:t.code,/^(Dead|Return|Enter|Tab|Escape|Delete|PageUp|PageDown|Home|End|Help|ArrowLeft|ArrowRight|ArrowUp|ArrowDown)$/.test(r)&&(r=""),r}function NG(t){t=qCe(t);let e=[];return t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),t.altKey&&e.push("alt"),t.shiftKey&&e.push("shift"),e.length===0?`[${t.code}]`:(e.push(`[${t.code}]`),e.join("+"))}function tBe(t){if(Gi()){let e=Ch(),r=t.startsWith("!"),n=t.endsWith(e);if(r&&!n||!r&&n)return!0}return t==="!other"?!1:t==="other"}function rBe(t,e,r){if(t.length===0)return"";let n=od(OG(NG(r))),i=od({key:r.key,shift:r.shiftKey,alt:r.altKey,ctrl:r.ctrlKey,meta:r.metaKey||r.ctrlKey&&/macos|ios/.test(Ch()),cmd:!1,win:!1});for(let s=t.length-1;s>=0;s--)if((t[s].key===n||t[s].key===i)&&(!t[s].ifMode||t[s].ifMode===e))return t[s].command;return""}function xN(t){let e=t;return Dr(e)&&(e=e.length>0?e[0]+"("+e.slice(1).join("")+")":""),e}function nBe(t,e){let r=[];if(typeof e=="string"){let s=I3e[e];Dr(s)?r=s.slice():s&&r.push(s)}let n=xN(e),i=new RegExp("^"+n.replace("\\","\\\\").replace("|","\\|").replace("*","\\*").replace("$","\\$").replace("^","\\^")+"([^*a-zA-Z]|$)");for(let s of t)i.test(xN(s.command))&&r.push(s.key);return r.map(CE)}function iBe(t,e){if(t.ifPlatform&&!/^!?(macos|windows|android|ios|chromeos|other)$/.test(t.ifPlatform))throw new Error(`Unexpected platform "${t.ifPlatform}" for keybinding ${t.key}`);if(t.ifLayout!==void 0&&(e.score===0||!t.ifLayout.includes(e.id)))return;let r=OG(t.key),n=t.ifPlatform;if(r.cmd){if(n&&n!=="macos"&&n!=="ios")throw new Error('Unexpected "cmd" modifier with platform "'+n+`"
"cmd" modifier can only be used with macOS or iOS platform.`);n||(n=Ch()==="ios"?"ios":"macos"),r.win=!1,r.cmd=!1,r.meta=!0}if(r.win){if(n&&n!=="windows")throw new Error('Unexpected "win" modifier with platform "'+n+`"
"win" modifier can only be used with Windows platform.`);n="windows",r.win=!1,r.cmd=!1,r.meta=!0}if(n&&!tBe(n))return;if(/^\[.+\]$/.test(r.key))return N(D({},t),{key:od(r)});let i=GCe(r.key,e);if(!i)return N(D({},t),{key:od(r)});if(i.shift&&r.shift||i.alt&&r.alt)throw new Error(`The keybinding ${t.key} (${r_(t.command)}) is conflicting with the key combination ${od(i)} using the ${e.displayName} keyboard layout`);return i.shift=i.shift||r.shift,i.alt=i.alt||r.alt,i.meta=r.meta,i.ctrl=r.ctrl,N(D({},t),{key:od(i)})}function r_(t){if(Array.isArray(t)){let e=[...t];return e.shift()+"("+e.map(r=>typeof r=="string"?`"${r}"`:r.toString()).join(", ")+")"}return t}function sBe(t,e){let r=[],n=[];for(let i of t)try{let s=iBe(i,e);if(!s)continue;let o=n.find(a=>a.key===s.key&&a.ifMode===s.ifMode);if(o)throw new Error(`Ambiguous key binding ${i.key} (${r_(i.command)}) matches ${o.key} (${r_(o.command)}) with the ${e.displayName} keyboard layout`);n.push(s)}catch(s){s instanceof Error&&r.push(s.message)}return[n,r]}var oBe=class extends at{constructor(){super("latex")}createAtom(t){return new mr(t)}onPaste(t,e){if(!e)return!1;let r=typeof e=="string"?e:e.getData("application/x-latex")||e.getData("text/plain");return r&&t.model.contentWillChange({inputType:"insertFromPaste",data:r})?(t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,r)&&(t.startRecording(),t.snapshot("paste"),t.model.contentDidChange({inputType:"insertFromPaste"}),vt(t)),t.startRecording(),!0):!1}insert(t,e,r){if(!t.contentWillChange({data:e,inputType:"insertText"}))return!1;r||(r={}),r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder");let{silenceNotifications:n}=t;r.silenceNotifications&&(t.silenceNotifications=!0);let i=t.silenceNotifications;t.silenceNotifications=!0,r.insertionMode==="replaceSelection"&&!t.selectionIsCollapsed?t.deleteAtoms(Kr(t.selection)):r.insertionMode==="replaceAll"?(t.root.setChildren([],"body"),t.position=0):r.insertionMode==="insertBefore"?t.collapseSelection("backward"):r.insertionMode==="insertAfter"&&t.collapseSelection("forward");let s=[];for(let l of e)i3e.test(l)&&s.push(new mr(l));let o=t.at(t.position);if(o instanceof Lp&&(o=o.lastChild),!(o.parent instanceof Lp)){let l=new Lp;o.parent.addChildAfter(l,o),o=l.firstChild}let a=o.parent.addChildrenAfter(s,o);return t.silenceNotifications=i,r.selectionMode==="before"||(r.selectionMode==="item"?t.setSelection(t.anchor,t.offsetOf(a)):a&&(t.position=t.offsetOf(a))),t.contentDidChange({data:e,inputType:"insertText"}),t.silenceNotifications=n,!0}};function BE(t){return t.atoms.find(e=>e.type==="latexgroup")}function Ob(t){var e,r;let n=BE(t);return(r=(e=n==null?void 0:n.body)==null?void 0:e.filter(i=>i.type==="latex"))!=null?r:[]}function IG(t,e){var r;let n=0,i=!1,s=Number.isFinite(e==null?void 0:e.before)?(r=e==null?void 0:e.before)!=null?r:0:t.lastOffset;for(;n<=s&&!i;){let l=t.at(n);i=l instanceof mr&&l.isSuggestion,i||n++}if(!i)return[void 0,void 0];let o=n,a=!1;for(;o<=s&&!a;){let l=t.at(o);a=!(l instanceof mr&&l.isSuggestion),a||o++}return[n-1,o-1]}new oBe;function aBe(t,e){t.flushInlineShortcutBuffer(),t.stopCoalescingUndo();let r=n_(t,e),{model:n}=t;return n.selectionIsCollapsed?(t.defaultStyle.fontSeries&&r.fontSeries===t.defaultStyle.fontSeries&&(r.fontSeries="auto"),r.fontShape&&r.fontShape===t.defaultStyle.fontShape&&(r.fontShape="auto"),r.color&&r.color===t.defaultStyle.color&&(r.color="none"),r.backgroundColor&&r.backgroundColor===t.defaultStyle.backgroundColor&&(r.backgroundColor="none"),r.fontSize&&r.fontSize===t.defaultStyle.fontSize&&(r.fontSize="auto"),t.defaultStyle=D(D({},t.defaultStyle),r)):t.model.deferNotifications({content:!0,type:"insertText"},()=>{n.selection.ranges.forEach(i=>Z6(n,i,r,{operation:"toggle"})),t.snapshot("style-change")}),!0}En({applyStyle:aBe},{target:"mathfield",canUndo:!0,changeContent:!0});function n_(t,e){var r,n,i,s,o,a,l,c,u,A;let h={};if(typeof e.color=="string"){let p=(n=t.colorMap((r=e.color)!=null?r:e.verbatimColor))!=null?n:"none";p!==e.color&&(h.verbatimColor=(i=e.verbatimColor)!=null?i:e.color),h.color=p}if(typeof e.backgroundColor=="string"){let p=(o=t.backgroundColorMap((s=e.backgroundColor)!=null?s:e.verbatimBackgroundColor))!=null?o:"none";p!==e.backgroundColor&&(h.verbatimBackgroundColor=(a=e.verbatimBackgroundColor)!=null?a:e.backgroundColor),h.backgroundColor=p}typeof e.fontFamily=="string"&&(h.fontFamily=e.fontFamily),typeof e.series=="string"&&(h.fontSeries=e.series),typeof e.fontSeries=="string"&&(h.fontSeries=e.fontSeries.toLowerCase()),h.fontSeries&&(h.fontSeries=(l={bold:"b",medium:"m",normal:"m"}[h.fontSeries])!=null?l:h.fontSeries),typeof e.shape=="string"&&(h.fontShape=e.shape),typeof e.fontShape=="string"&&(h.fontShape=e.fontShape.toLowerCase()),h.fontShape&&(h.fontShape=(c={italic:"it",up:"n",upright:"n",normal:"n"}[h.fontShape])!=null?c:h.fontShape),e.variant&&(h.variant=e.variant.toLowerCase()),e.variantStyle&&(h.variantStyle=e.variantStyle.toLowerCase());let f=(u=e.size)!=null?u:e.fontSize;return typeof f=="number"?h.fontSize=Math.max(1,Math.min(10,f)):typeof f=="string"&&(h.fontSize=(A={size1:1,size2:2,size3:3,size4:4,size5:5,size6:6,size7:7,size8:8,size9:9,size10:10}[f.toLowerCase()])!=null?A:{tiny:1,scriptsize:2,footnotesize:3,small:4,normal:5,normalsize:5,large:6,Large:7,LARGE:8,huge:9,Huge:10}[f]),h}function _E(t,e,r){var n,i;let s=t.model;if(s.mode==="latex")return{};let o=t.styleBias;if(o==="none")return t.defaultStyle;if(s.mode==="text")return(i=(n=s.at(o==="right"?r.after:r.before))==null?void 0:n.style)!=null?i:t.defaultStyle;if(s.mode==="math"){let a=s.at(o==="right"?r.after:r.before);return a?N(D({},a.style),{variant:"normal"}):t.defaultStyle}return{}}function Zd(t){let e=t.options.onInsertStyle;if(e===null)return{};e===void 0&&(e=_E);let r=t.model,n=t.styleBias,i=r.at(r.position),s=bN(r,i,n),o=bN(r,i.rightSibling,n);return e(t,r.position,{before:s,after:o})}function bN(t,e,r){var n;return!e||e.type==="first"&&r!=="right"?-1:e.type!=="group"?t.offsetOf(e):!e.body||e.body.length<2?-1:((n=e.body)==null?void 0:n.length)===1||r!=="right"?t.offsetOf(e.body[0]):t.offsetOf(e.body[e.body.length-1])}function Fw(t){let e=Ob(t.model).filter(r=>r.isSuggestion);if(e.length!==0){t.model.position=t.model.offsetOf(e[0].leftSibling);for(let r of e)r.parent.removeChild(r)}}function M0(t,e){var r;let{model:n}=t;Fw(t);for(let u of Ob(n))u.isError=!1;if(!n.selectionIsCollapsed||t.options.popoverPolicy==="off"){th(t);return}let i=[],s=n.at(n.position);for(;s&&s instanceof mr&&/^[a-zA-Z\*]$/.test(s.value);)s=s.leftSibling;if(s&&s instanceof mr&&s.value==="\\")for(i.push(s),s=s.rightSibling;s&&s instanceof mr&&/^[a-zA-Z\*]$/.test(s.value);)i.push(s),s=s.rightSibling;let o=i.map(u=>u.value).join(""),a=o3e(t,o);if(a.length===0){if(/^\\[a-zA-Z\*]+$/.test(o))for(let u of i)u.isError=!0;th(t);return}let l=(r=e==null?void 0:e.atIndex)!=null?r:0;t.suggestionIndex=l<0?a.length-1:l%a.length;let c=a[t.suggestionIndex];if(c!==o){let u=i[i.length-1];u.parent.addChildrenAfter([...c.slice(o.length-c.length)].map(A=>new mr(A,{isSuggestion:!0})),u),fu(t,{interactive:!0})}cBe(t,a)}function wN(t){let[e,r]=IG(t,{before:t.position});if(e===void 0||r===void 0)return!1;let n=!1;return t.getAtoms([e,r]).forEach(i=>{i.isSuggestion&&(i.isSuggestion=!1,n=!0)}),n}function eh(t,e="accept",r){var n,i;th(t);let s=BE(t.model);if(!s)return!1;if(e==="accept-suggestion"||e==="accept-all"){let c=Ob(t.model).filter(u=>u.isSuggestion);if(c.length!==0){for(let u of c)u.isSuggestion=!1;t.model.position=t.model.offsetOf(c[c.length-1])}if(e==="accept-suggestion")return c.length!==0}let o=Ob(t.model).filter(c=>!c.isSuggestion).map(c=>c.value).join(""),a=s.leftSibling;if(s.parent.removeChild(s),t.model.position=t.model.offsetOf(a),t.switchMode((n=r==null?void 0:r.mode)!=null?n:"math"),e==="reject")return!0;let l=D({},Zd(t));return!/^[a-zA-Z0-9]$/.test(o)&&t.styleBias!=="none"&&(l.variant="normal",l.variantStyle=void 0),at.insert(t.model,o,{selectionMode:(i=r==null?void 0:r.selectItem)!=null&&i?"item":"placeholder",format:"latex",mode:"math",style:l}),t.snapshot(),t.model.announce("replacement"),t.switchMode("math"),!0}function Mw(t){var e;let r=document.getElementById(t);return r?r.dataset.refcount=Number(Number.parseInt((e=r.dataset.refcount)!=null?e:"0")+1).toString():(r=document.createElement("div"),r.setAttribute("aria-hidden","true"),r.dataset.refcount="1",r.id=t,document.body.append(r)),r}function SE(t){var e;let r=document.getElementById(t);if(!r)return;let n=Number.parseInt((e=r.getAttribute("data-refcount"))!=null?e:"0");n<=1?r.remove():r.dataset.refcount=Number(n-1).toString()}function lBe(t,e){let r=new Pe({from:t.context}),n=new X({mode:"math",type:"root",body:Vi(e,{context:r})}),i=xw(F0(new oe(n.render(r),{classes:"ML__base"}),r));return bw(i,{classes:"ML__latex"}).toMarkup()}function cBe(t,e){var r;if(e.length===0){th(t);return}let n="";for(let[s,o]of e.entries()){let a=o,l=lBe(t,o),c=nBe(t.keybindings,a).join("<br>");n+=`<li role="button" data-command="${a}" ${s===t.suggestionIndex?"class=ML__popover__current":""}><span class="ML__popover__latex">${a}</span><span class="ML__popover__command">${l}</span>`,c&&(n+=`<span class="ML__popover__keybinding">${c}</span>`),n+="</li>"}let i=uBe(t,`<ul>${n}</ul>`);i_()&&((r=i.querySelector(".ML__popover__current"))==null||r.scrollIntoView({block:"nearest",inline:"nearest"})),setTimeout(()=>{var s;i&&!i_()&&(i.classList.add("is-visible"),Tw(t),(s=i.querySelector(".ML__popover__current"))==null||s.scrollIntoView({block:"nearest",inline:"nearest"}))},32)}function i_(){let t=document.getElementById("mathlive-suggestion-popover");return t?t.classList.contains("is-visible"):!1}function Tw(t,e){var r,n,i;if(!t.element||t.element.mathfield!==t||!i_())return;if(((r=t.model.at(t.model.position))==null?void 0:r.type)!=="latex"){th(t);return}if(e!=null&&e.deferred){setTimeout(()=>Tw(t),32);return}let s=Hv(t.field);if(!s)return;let o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=window.innerWidth-document.documentElement.clientWidth,c=window.innerHeight-document.documentElement.clientHeight,u=(i=(n=window.mathVirtualKeyboard)==null?void 0:n.boundingRect.height)!=null?i:0,A=document.getElementById("mathlive-suggestion-popover");s.x+A.offsetWidth/2>a-l?A.style.left=`${a-A.offsetWidth-l}px`:s.x-A.offsetWidth/2<0?A.style.left="0":A.style.left=`${s.x-A.offsetWidth/2}px`;let h=s.y-s.height;o-c-u-s.y<h?(A.classList.add("ML__popover--reverse-direction"),A.classList.remove("top-tip"),A.classList.add("bottom-tip"),A.style.top=`${s.y-s.height-A.offsetHeight-15}px`):(A.classList.remove("ML__popover--reverse-direction"),A.classList.add("top-tip"),A.classList.remove("bottom-tip"),A.style.top=`${s.y+15}px`)}function th(t){t.suggestionIndex=0;let e=document.getElementById("mathlive-suggestion-popover");e&&(e.classList.remove("is-visible"),e.innerHTML="")}function uBe(t,e){let r=document.getElementById("mathlive-suggestion-popover");return r||(r=Mw("mathlive-suggestion-popover"),zl("suggestion-popover"),zl("core"),r.addEventListener("pointerdown",n=>n.preventDefault()),r.addEventListener("click",n=>{let i=n.target;for(;i&&!i.dataset.command;)i=i.parentElement;i&&(eh(t,"reject"),at.insert(t.model,i.dataset.command,{selectionMode:"placeholder",format:"latex",mode:"math"}),t.dirty=!0,t.focus())})),r.innerHTML=globalThis.MathfieldElement.createHTML(e),r}function ABe(){document.getElementById("mathlive-suggestion-popover")&&(SE("mathlive-suggestion-popover"),Wl("suggestion-popover"),Wl("core"))}function dBe(){let t=String(new Error().stack).replace(/^Error.*\n/,"").split(`
`);if(t.length===0)return console.error(`Can't use relative paths to specify assets location because the sourcefile location could not be determined (unexpected stack trace format "${new Error().stack}").`),"";let e=t[1],r=e.match(/http.*\.ts[\?:]/);return r&&(e=t[2]),r=e.match(/(https?:.*):[0-9]+:[0-9]+/),r||(r=e.match(/at (.*(\.ts))[\?:]/),r||(r=e.match(/at (.*(\.mjs|\.js))[\?:]/))),r?r[1]:(console.error(t),console.error(`Can't use relative paths to specify assets location because the source file location could not be determined (unexpected location "${e}").`),"")}var G1=null,CN,BN,CC=((BN=(CN=globalThis==null?void 0:globalThis.document)==null?void 0:CN.currentScript)==null?void 0:BN.src)||dBe();async function UG(t){if(/^(?:[a-z+]+:)?\/\//i.test(t)){try{return new URL(t).href}catch{}if(t.startsWith("//"))try{return new URL(`${window.location.protocol}${t}`).href}catch{}return t}if(G1===null)try{let e=await fetch(CC,{method:"HEAD"});e.status===200&&(G1=e.url)}catch{console.error(`Invalid URL "${t}" (relative to "${CC}")`)}return new URL(t,G1??CC).href}function hBe(t,e,r={}){return new FontFace(t,`url(${e}.woff2) format('woff2')`,r)}var ai="not-loaded";async function fBe(){return ai="not-loaded",kE()}async function kE(){var t;if(ai==="not-loaded"){if(ai="loading",(t=getComputedStyle(document.documentElement).getPropertyValue("--ML__static-fonts"))!=null?t:!1){ai="ready";return}if(document.body.classList.remove("ML__fonts-did-not-load"),"fonts"in document){let e=["KaTeX_Main","KaTeX_Math","KaTeX_AMS","KaTeX_Caligraphic","KaTeX_Fraktur","KaTeX_SansSerif","KaTeX_Script","KaTeX_Typewriter","KaTeX_Size1","KaTeX_Size2","KaTeX_Size3","KaTeX_Size4"],r=Array.from(document.fonts).map(s=>s.family);if(e.every(s=>r.includes(s))){ai="ready";return}if(!globalThis.MathfieldElement.fontsDirectory){ai="not-loaded";return}let n=await UG(globalThis.MathfieldElement.fontsDirectory);if(!n){document.body.classList.add("ML__fonts-did-not-load"),ai="error";return}let i=[["KaTeX_Main-Regular"],["KaTeX_Main-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_Main-Bold",{weight:"bold"}],["KaTeX_Main-Italic",{style:"italic"}],["KaTeX_Math-Italic",{style:"italic"}],["KaTeX_Math-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_AMS-Regular"],["KaTeX_Caligraphic-Regular"],["KaTeX_Caligraphic-Bold",{weight:"bold"}],["KaTeX_Fraktur-Regular"],["KaTeX_Fraktur-Bold",{weight:"bold"}],["KaTeX_SansSerif-Regular"],["KaTeX_SansSerif-Bold",{weight:"bold"}],["KaTeX_SansSerif-Italic",{style:"italic"}],["KaTeX_Script-Regular"],["KaTeX_Typewriter-Regular"],["KaTeX_Size1-Regular"],["KaTeX_Size2-Regular"],["KaTeX_Size3-Regular"],["KaTeX_Size4-Regular"]].map(s=>hBe(s[0].replace(/-[a-zA-Z]+$/,""),`${n}/${s[0]}`,s[1]));try{(await Promise.all(i.map(s=>{try{return s.load()}catch{}}))).forEach(s=>document.fonts.add(s)),ai="ready";return}catch(s){console.error(`MathLive 0.104.0: The math fonts could not be loaded from "${n}"`,{cause:s}),document.body.classList.add("ML__fonts-did-not-load")}ai="error"}}}function pBe(t,e=0){let r=3735928559^e,n=1103547991^e;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);r=Math.imul(r^s,2654435761),n=Math.imul(n^s,1597334677)}return r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909),4294967296*(2097151&n)+(r>>>0)}function vt(t,e){!t||t.dirty||(t.resizeObserver.unobserve(t.field),t.dirty=!0,requestAnimationFrame(()=>{ll(t)&&t.dirty&&(t.atomBoundsCache=new Map,fu(t,e),t.atomBoundsCache=void 0,t.resizeObserver.observe(t.field),t.resizeObserverStarted=!0)}))}function mBe(t,e){var r;e=e??{};let n=new Pe({from:N(D({},t.context),{atomIdsSettings:{seed:e.forHighlighting?pBe(X.serialize([t.model.root],{expandMacro:!1,defaultMode:t.options.defaultMode})):"random",groupNumbers:(r=e.forHighlighting)!=null?r:!1},letterShapeStyle:t.options.letterShapeStyle}),mathstyle:t.options.defaultMode==="inline-math"?"textstyle":"displaystyle"}),i=t.model.root.render(n);return bw(F0(i,n),{classes:t.hasEditablePrompts?"ML__latex ML__prompting":"ML__latex",attributes:{translate:"no","aria-hidden":"true"}})}function PG(t,e){try{let{model:r}=t;r.root.caret=void 0,r.root.isSelected=!1,r.root.containsCaret=!0;for(let n of r.atoms)n.caret=void 0,n.isSelected=!1,n.containsCaret=!1;if(r.selectionIsCollapsed){let n=r.at(r.position);n.caret=t.model.mode;let i=n.parent;for(;i;)i.containsCaret=!0,i=i.parent}else{let n=r.getAtoms(r.selection,{includeChildren:!0});for(let i of n)i.isSelected=!0}return mBe(t,e).toMarkup()}catch(r){return console.error(r),'<span class="ML__latex" translate="no" aria-hidden="true"></span>'}}function fu(t,e){if(!ll(t))return;e!=null||(e={});let r=t.element.querySelector("[part=virtual-keyboard-toggle]");r&&(r.style.display=t.hasEditableContent?"":"none");let n=t.field;if(!n)return;let i=t.isSelectionEditable&&t.hasFocus(),s=n.classList.contains("ML__focused");s&&!i?n.classList.remove("ML__focused"):!s&&i&&n.classList.add("ML__focused");let o=PG(t,e),a=t.element.querySelector("[part=menu-toggle]");if(a){let l=!1;(t.disabled||t.readOnly&&!t.hasEditableContent||t.userSelect==="none")&&(l=!0),!l&&n.offsetWidth<50&&(l=!0),a.style.display=l?"none":""}if(t.model.atoms.length<=1){let l=t.options.contentPlaceholder;l&&(o+=`<span part=placeholder class="ML__content-placeholder">${or(l)}</span>`)}n.innerHTML=globalThis.MathfieldElement.createHTML(o),Nb(t,e.interactive),t.dirty=!1}function Nb(t,e){let r=t.field;if(!r)return;for(let o of r.querySelectorAll(".ML__selection, .ML__contains-highlight"))o.remove();if(!(e!=null&&e)&&ai!=="error"&&ai!=="ready"){setTimeout(()=>{ai==="ready"?Nb(t):setTimeout(()=>Nb(t),128)},32);return}let n=t.model,i,s=()=>{if(i!==void 0)return i;let o=r.offsetWidth,a=r.getBoundingClientRect().width;return i=Math.floor(a)/o,isNaN(i)&&(i=1),i};if(n.selectionIsCollapsed){Tw(t,{deferred:!0});let o=n.at(n.position);for(;o&&o.type!=="prompt"&&!(o.containsCaret&&o.displayContainsHighlight);)o=o.parent;if(o!=null&&o.containsCaret&&o.displayContainsHighlight){let a=s(),l=IW(t,_h(t,o),a);if(l){l.left/=a,l.right/=a,l.top/=a,l.bottom/=a;let c=document.createElement("div");c.classList.add("ML__contains-highlight"),c.style.position="absolute",c.style.left=`${l.left+1}px`,c.style.top=`${Math.ceil(l.top)}px`,c.style.width=`${Math.ceil(l.right-l.left)}px`,c.style.height=`${Math.ceil(l.bottom-l.top)}px`,r.insertBefore(c,r.childNodes[0])}}return}for(let o of gBe(PW(t,{excludeAtomsWithBackground:!0}))){let a=s();o.left/=a,o.right/=a,o.top/=a,o.bottom/=a;let l=document.createElement("div");l.classList.add("ML__selection"),l.style.position="absolute",l.style.left=`${o.left}px`,l.style.top=`${o.top}px`,l.style.width=`${Math.ceil(o.right-o.left)}px`,l.style.height=`${Math.ceil(o.bottom-o.top-1)}px`,r.insertBefore(l,r.childNodes[0])}}function gBe(t){let e=[];for(let r of t){let n=!1;for(let i of e)if(r.left===i.left&&r.right===i.right&&r.top===i.top&&r.bottom===i.bottom){n=!0;break}n||e.push(r)}t=e,e=[];for(let r of t){let n=0;for(let i of t)if(r.left>=i.left&&r.right<=i.right&&r.top>=i.top&&r.bottom<=i.bottom&&(n+=1,n>1))break;n===1&&e.push(r)}return e}function QG(t){if(!t)return;let e=t.model,r=e.selection,n=X.serialize([e.root],{expandMacro:!1,defaultMode:t.options.defaultMode});at.insert(e,n,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",silenceNotifications:!0,mode:"math"});let i=e.silenceNotifications;e.silenceNotifications=!0,e.selection=r,e.silenceNotifications=i,vt(t)}function _N(){for(let t of document.querySelectorAll(".ML__mathfield"))"_mathfield"in t&&QG(t._mathfield)}var RG=3,ro;function En(t,e){e=D({target:"mathfield",canUndo:!1,audioFeedback:void 0,changeContent:!1,changeSelection:!1},e??{}),ro||(ro={});for(let r of Object.keys(t))ro[r],ro[r]=N(D({},e),{fn:t[r]})}function EE(t){let e;if(Array.isArray(t)){if(t[0]==="performWithFeedback")return EE(t[1]);e=t[0]}else e=t;return ro[e]}function kd(t){var e;return(e=EE(t))==null?void 0:e.target}function yBe(t,e){var r,n;if(e=Hm(e),!e)return!1;let i,s=[],o=!1,a=!1;Dr(e)?(i=e[0],s=e.slice(1)):i=e;let l=ro[i],c=l==null?void 0:l.target;if(c==="model"){if(!t.isSelectionEditable&&l!=null&&l.changeContent)return t.model.announce("plonk"),!1;/^(delete|add)/.test(i)&&(i!=="deleteBackward"&&t.flushInlineShortcutBuffer(),t.snapshot(i)),/^complete/.test(i)||Fw(t),ro[i].fn(t.model,...s),M0(t),a=!0,o=!0}else if(c==="virtual-keyboard")a=(n=(r=window.mathVirtualKeyboard)==null?void 0:r.executeCommand(e))!=null?n:!1,o=!0;else if(ro[i]){if(!t.isSelectionEditable&&l!=null&&l.changeContent)return t.model.announce("plonk"),!1;/^(undo|redo)/.test(i)&&t.flushInlineShortcutBuffer(),a=ro[i].fn(t,...s),o=!0}else throw new Error(`Unknown command "${i}"`);return c!=="virtual-keyboard"&&(!t.model.selectionIsCollapsed||l!=null&&l.changeSelection&&i!=="deleteBackward")&&(t.flushInlineShortcutBuffer(),l!=null&&l.changeContent||t.stopCoalescingUndo(),t.defaultStyle={}),a&&vt(t),o}function vBe(t,e){var r;if(!t)return!1;t.focus(),DE.keypressVibration&&mW()&&navigator.vibrate(RG);let n=EE(e);globalThis.MathfieldElement.playSound((r=n==null?void 0:n.audioFeedback)!=null?r:"keypress");let i=t.executeCommand(e);return t.scrollIntoView(),i}En({performWithFeedback:(t,e)=>vBe(t,e)});function xBe(t){return M0(t,{atIndex:t.suggestionIndex+1}),!1}function bBe(t){return M0(t,{atIndex:t.suggestionIndex-1}),!1}En({complete:eh},{target:"mathfield",audioFeedback:"return",canUndo:!0,changeContent:!0,changeSelection:!0});En({dispatchEvent:(t,e,r)=>{var n,i;return(i=(n=t.host)==null?void 0:n.dispatchEvent(new CustomEvent(e,{detail:r})))!=null?i:!1}},{target:"mathfield"});En({nextSuggestion:xBe,previousSuggestion:bBe},{target:"mathfield",audioFeedback:"keypress",changeSelection:!0});function Hm(t){if(!t)return;if(Dr(t)&&t.length>0){let n=t[0];return n.replace(/-\w/g,i=>i[1].toUpperCase()),n==="performWithFeedback"&&t.length===2?[n,Hm(t[1])]:[n,...t.slice(1)]}if(typeof t!="string")return;let e=t.trim().match(/^([a-zA-Z0-9-]+)\((.*)\)$/);if(e){let n=e[1];n.replace(/-\w/g,s=>s[1].toUpperCase());let i=e[2].split(",").map(s=>s.trim());return[n,...i.map(s=>{if(/"[^"]*"/.test(s)||/'[^']*'/.test(s))return s.slice(1,-1);if(/^true$/.test(s))return!0;if(/^false$/.test(s))return!1;if(/^[-]?\d+$/.test(s))return parseInt(s,10);if(/^\{.*\}$/.test(s))try{return JSON.parse(s)}catch{return console.error("Invalid argument:",s),s}return Hm(s)})]}let r=t;return r.replace(/-\w/g,n=>n[1].toUpperCase()),r}var Ib="mathlive#virtual-keyboard-message";function FE(t){var e;return t.type!=="message"?!1:((e=t.data)==null?void 0:e.type)===Ib}var wBe=class HG{constructor(){this.targetOrigin=window.origin,this.originValidator="none",this._boundingRect=new DOMRect(0,0,0,0),this._isShifted=!1,window.addEventListener("message",this),this.sendMessage("proxy-created"),this.listeners={}}static get singleton(){return this._singleton||(this._singleton=new HG),this._singleton}getKeycap(e){}setKeycap(e,r){this.sendMessage("update-setting",{setKeycap:{keycap:e,value:r}})}set alphabeticLayout(e){this.sendMessage("update-setting",{alphabeticLayout:e})}set layouts(e){this.sendMessage("update-setting",{layouts:e})}get normalizedLayouts(){return[]}set editToolbar(e){this.sendMessage("update-setting",{editToolbar:e})}set container(e){throw new Error("Container inside an iframe cannot be changed")}show(e){this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:!0},bubbles:!0,cancelable:!0,composed:!0}))&&(this.sendMessage("show",e),this.dispatchEvent(new Event("virtual-keyboard-toggle")))}hide(e){this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:!1},bubbles:!0,cancelable:!0,composed:!0}))&&(this.sendMessage("hide",e),this.dispatchEvent(new Event("virtual-keyboard-toggle")))}get isShifted(){return this._isShifted}get visible(){return this._boundingRect.height>0}set visible(e){e?this.show():this.hide()}get boundingRect(){return this._boundingRect}executeCommand(e){return this.sendMessage("execute-command",{command:e}),!0}updateToolbar(e){this.sendMessage("update-toolbar",e)}update(e){this.sendMessage("update-setting",e)}connect(){this.sendMessage("connect")}disconnect(){this.sendMessage("disconnect")}addEventListener(e,r,n){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].has(r)||this.listeners[e].add(r)}dispatchEvent(e){return!this.listeners[e.type]||this.listeners[e.type].size===0?!0:(this.listeners[e.type].forEach(r=>{typeof r=="function"?r(e):r==null||r.handleEvent(e)}),!e.defaultPrevented)}removeEventListener(e,r,n){this.listeners[e]&&this.listeners[e].delete(r)}handleEvent(e){if(FE(e)){if(!yE(e.origin,this.originValidator))throw new DOMException(`Message from unknown origin (${e.origin}) cannot be handled`,"SecurityError");this.handleMessage(e.data)}}handleMessage(e){let{action:r}=e;if(r==="execute-command"){let{command:n}=e;kd(n)==="virtual-keyboard"&&this.executeCommand(n);return}if(r==="synchronize-proxy"){this._boundingRect=e.boundingRect,this._isShifted=e.isShifted;return}if(r==="geometry-changed"){this._boundingRect=e.boundingRect,this.dispatchEvent(new Event("geometrychange"));return}}sendMessage(e,r={}){if(!window.top)throw new DOMException("A frame does not have access to the top window and cant communicate with the keyboard. Review virtualKeyboardTargetOrigin and originValidator on mathfields embedded in an iframe","SecurityError");window.top.postMessage(D({type:Ib,action:e},r),this.targetOrigin)}},SN={numeric:{label:"123",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.numeric",rows:[[{latex:"x",shift:"y",variants:["y","z","t","r","x^2","x^n","x^{#?}","x_n","x_i","x_{#?}",{latex:"f(#?)",class:"small"},{latex:"g(#?)",class:"small"}]},{latex:"n",shift:"a",variants:["i","j","p","k","a","u"]},"[separator-5]","[7]","[8]","[9]","[/]","[separator-5]",{latex:"\\exponentialE",shift:"\\ln",variants:["\\exp","\\times 10^{#?}","\\ln","\\log_{10}","\\log","\\lg","\\operatorname{lb}"]},{latex:"\\imaginaryI",variants:["\\Re","\\Im","\\imaginaryJ","\\Vert #0 \\Vert"]},{latex:"\\pi",shift:"\\sin",variants:["\\prod",{latex:"\\theta",aside:"theta"},{latex:"\\rho",aside:"rho"},{latex:"\\tau",aside:"tau"},"\\sin","\\cos","\\tan"]}],[{label:"<",latex:"<",class:"hide-shift",shift:{latex:"\\le",label:""}},{label:">",latex:">",class:"hide-shift",shift:{latex:"\\ge",label:""}},"[separator-5]","[4]","[5]","[6]","[*]","[separator-5]",{class:"hide-shift",latex:"#@^2}",shift:"#@^{\\prime}}"},{latex:"#@^{#0}}",class:"hide-shift",shift:"#@_{#?}"},{class:"hide-shift",latex:"\\sqrt{#0}",shift:{latex:"\\sqrt[#0]{#?}}"}}],["[(]","[)]","[separator-5]","[1]","[2]","[3]","[-]","[separator-5]",{latex:"\\int^{\\infty}_{0}\\!#?\\,\\mathrm{d}x",class:"small hide-shift",shift:"\\int",variants:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},"\\mathrm{d}x",{latex:"\\dfrac{\\mathrm{d}}{\\mathrm{d} x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\partial"]},{class:"hide-shift",latex:"\\forall",shift:"\\exists"},{label:"[backspace]",width:1}],[{label:"[shift]",width:2},"[separator-5]","[0]","[.]","[=]","[+]","[separator-5]","[left]","[right]",{label:"[action]",width:1}]]},greek:{label:"&alpha;&beta;&gamma;",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.greek",rows:[[{label:"<i>&#x03c6;</i>",class:"MLK__tex hide-shift",insert:"\\varphi",aside:"phi var.",shift:"\\Phi"},{label:"<i>&#x03c2;</i>",class:"MLK__tex hide-shift",insert:"\\varsigma",aside:"sigma var.",shift:"\\Sigma"},{label:"<i>&#x03f5;</i>",class:"MLK__tex hide-shift",insert:"\\epsilon",aside:"epsilon",shift:'\\char"0190'},{label:"<i>&rho;</i>",class:"MLK__tex hide-shift",insert:"\\rho",aside:"rho",shift:'\\char"3A1'},{label:"<i>&tau;</i>",class:"MLK__tex hide-shift",insert:"\\tau",aside:"tau",shift:'\\char"3A4'},{label:"<i>&upsilon;</i>",class:"MLK__tex hide-shift",insert:"\\upsilon",aside:"upsilon",shift:"\\Upsilon"},{label:"<i>&theta;</i>",class:"MLK__tex hide-shift",insert:"\\theta",aside:"theta",shift:"\\Theta"},{label:"<i>&iota;</i>",class:"MLK__tex hide-shift",insert:"\\iota",aside:"iota",shift:'\\char"399'},{label:"<i>&omicron;</i>",class:"MLK__tex hide-shift",insert:"\\omicron",aside:"omicron",shift:'\\char"39F'},{label:"<i>&pi;</i>",class:"MLK__tex hide-shift",insert:"\\pi",aside:"pi",shift:"\\Pi"}],["[separator-5]",{label:"<i>&alpha;</i>",class:"MLK__tex hide-shift",insert:"\\alpha",aside:"alpha",shift:'\\char"391'},{label:"<i>&sigma;</i>",class:"MLK__tex hide-shift",insert:"\\sigma",aside:"sigma",shift:"\\Sigma"},{label:"<i>&delta;</i>",class:"MLK__tex hide-shift",insert:"\\delta",aside:"delta",shift:"\\Delta"},{latex:"\\phi",class:"MLK__tex hide-shift",insert:"\\phi",aside:"phi",shift:"\\Phi"},{label:"<i>&gamma;</i>",class:"MLK__tex hide-shift",insert:"\\gamma",aside:"gamma",shift:"\\Gamma"},{label:"<i>&eta;</i>",class:"MLK__tex hide-shift",insert:"\\eta",aside:"eta",shift:'\\char"397'},{label:"<i>&xi;</i>",class:"MLK__tex hide-shift",insert:"\\xi",aside:"xi",shift:"\\Xi"},{label:"<i>&kappa;</i>",class:"MLK__tex hide-shift",insert:"\\kappa",aside:"kappa",shift:"\\Kappa"},{label:"<i>&lambda;</i>",class:"MLK__tex hide-shift",insert:"\\lambda",aside:"lambda",shift:"\\Lambda"},"[separator-5]"],["[shift]",{label:"<i>&zeta;</i>",class:"MLK__tex hide-shift",insert:"\\zeta",aside:"zeta",shift:'\\char"396'},{label:"<i>&chi;</i>",class:"MLK__tex hide-shift",insert:"\\chi",aside:"chi",shift:'\\char"3A7'},{label:"<i>&psi;</i>",class:"MLK__tex hide-shift",insert:"\\psi",aside:"zeta",shift:"\\Psi"},{label:"<i>&omega;</i>",class:"MLK__tex hide-shift",insert:"\\omega",aside:"omega",shift:"\\Omega"},{label:"<i>&beta;</i>",class:"MLK__tex hide-shift",insert:"\\beta",aside:"beta",shift:'\\char"392'},{label:"<i>&nu;</i>",class:"MLK__tex hide-shift",insert:"\\nu",aside:"nu",shift:'\\char"39D'},{label:"<i>&mu;</i>",class:"MLK__tex hide-shift",insert:"\\mu",aside:"mu",shift:'\\char"39C'},"[backspace]"],["[separator]",{label:"<i>&#x03b5;</i>",class:"MLK__tex",insert:"\\varepsilon",aside:"epsilon var."},{label:"<i>&#x03d1;</i>",class:"MLK__tex",insert:"\\vartheta",aside:"theta var."},{label:"<i>&#x3f0;</i>",class:"MLK__tex",insert:"\\varkappa",aside:"kappa var."},{label:"<i>&#x03d6;</i>",class:"MLK__tex",insert:"\\varpi",aside:"pi var."},{label:"<i>&#x03f1;</i>",class:"MLK__tex",insert:"\\varrho",aside:"rho var."},"[left]","[right]","[action]"]]},symbols:{label:"&infin;",labelClass:"MLK__tex",tooltip:"keyboard.tooltip.symbols",rows:[[{latex:"\\sin",shift:"\\sin^{-1}",variants:[{class:"small",latex:"\\sinh"},{class:"small",latex:"\\sin^{-1}"},{class:"small",latex:"\\operatorname{arsinh}"}]},"\\ln",{latex:"\\mathrm{abs}",insert:"\\mathrm{abs}\\left(#0\\right)"},{latex:"\\rightarrow",shift:"\\Rightarrow",variants:[{latex:"\\implies",aside:"implies"},{latex:"\\to",aside:"to"},"\\dashv",{latex:"\\roundimplies",aside:"round implies"}]},{latex:"\\exists",variants:["\\nexists"],shift:"\\nexists"},{latex:"\\in",shift:"\\notin",variants:["\\notin","\\owns"]},"\\cup",{latex:"\\overrightarrow{#@}",shift:"\\overleftarrow{#@}",variants:["\\overleftarrow{#@}","\\bar{#@}","\\vec{#@}","\\hat{#@}","\\check{#@}","\\dot{#@}","\\ddot{#@}","\\mathring{#@}","\\breve{#@}","\\acute{#@}","\\tilde{#@}","\\grave{#@}"]},{class:"small hide-shift",latex:"\\lim_{#?}",shift:"\\lim_{x\\to\\infty}",variants:[{class:"small",latex:"\\liminf_{#?}"},{class:"small",latex:"\\limsup_{#?}"}]},"\\exponentialE"],[{latex:"\\cos",shift:"\\cos^{-1}",variants:[{class:"small",latex:"\\cosh"},{class:"small",latex:"\\cos^{-1}"},{class:"small",latex:"\\operatorname{arcosh}"}]},{latex:"\\log",shift:"\\log_{10}",variants:["\\log_{#0}","\\log_{10}"]},"\\left\\vert#0\\right\\vert",{latex:"\\larr",shift:"\\lArr",variants:[{latex:"\\impliedby",aside:"implied by"},{latex:"\\gets",aside:"gets"},"\\lArr","\\vdash",{latex:"\\models",aside:"models"}]},{latex:"\\forall",shift:"\\lnot",variants:[{latex:"\\land",aside:"and"},{latex:"\\lor",aside:"or"},{latex:"\\oplus",aside:"xor"},{latex:"\\lnot",aside:"not"},{latex:"\\downarrow",aside:"nor"},{latex:"\\uparrow",aside:"nand"},{latex:"\\curlywedge",aside:"nor"},{latex:"\\bar\\curlywedge",aside:"nand"}]},{latex:"\\ni",shift:"\\not\\owns"},"\\cap",{latex:"\\overline{#@}",shift:"\\underline{#@}",variants:["\\overbrace{#@}","\\overlinesegment{#@}","\\overleftrightarrow{#@}","\\overrightarrow{#@}","\\overleftarrow{#@}","\\overgroup{#@}","\\underbrace{#@}","\\underlinesegment{#@}","\\underleftrightarrow{#@}","\\underrightarrow{#@}","\\underleftarrow{#@}","\\undergroup{#@}"]},{class:"hide-shift small",latex:"\\int",shift:"\\iint",variants:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\smallint",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},"\\intop","\\iiint","\\oiint","\\oiiint","\\intclockwise","\\varointclockwise","\\ointctrclockwise","\\intctrclockwise"]},{latex:"\\pi",shift:"\\tau",variants:["\\tau"]}],[{latex:"\\tan",shift:"\\tan^{-1}",variants:[{class:"small",latex:"\\tanh"},{class:"small",latex:"\\tan^{-1}"},{class:"small",latex:"\\operatorname{artanh}"},{class:"small",latex:"\\arctan"},{class:"small",latex:"\\operatorname{arctg}"},{class:"small",latex:"\\operatorname{tg}"}]},{latex:"\\exp",insert:"\\exp\\left(#0\\right)",variants:["\\exponentialE^{#0}"]},"\\left\\Vert#0\\right\\Vert",{latex:"\\lrArr",shift:"\\leftrightarrow",variants:[{latex:"\\iff",aside:"if and only if"},"\\leftrightarrow","\\leftrightarrows","\\Leftrightarrow",{latex:"^\\biconditional",aside:"biconditional"}]},{latex:"\\vert",shift:"!"},{latex:"#@^{\\complement}",aside:"complement",variants:[{latex:"\\setminus",aside:"set minus"},{latex:"\\smallsetminus",aside:"small set minus"}]},{latex:"\\subset",shift:"\\subseteq",variants:["\\subset","\\subseteq","\\subsetneq","\\varsubsetneq","\\subsetneqq","\\nsubset","\\nsubseteq","\\supset","\\supseteq","\\supsetneq","\\supsetneqq","\\nsupset","\\nsupseteq"]},{latex:"#@^{\\prime}",shift:"#@^{\\doubleprime}",variants:["#@^{\\doubleprime}","#@\\degree"]},{latex:"\\mathrm{d}",shift:"\\partial",variants:["\\mathrm{d}x",{latex:"\\dfrac{\\mathrm{d}}{\\mathrm{d} x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\partial"]},{latex:"\\infty",variants:["\\aleph_0","\\aleph_1","\\omega","\\mathfrak{m}"]}],[{label:"[shift]",width:2},{class:"box",latex:",",shift:";",variants:[";","?"]},{class:"box",latex:"\\colon",shift:"\\Colon",variants:[{latex:"\\Colon",aside:"such that",class:"box"},{latex:":",aside:"ratio",class:"box"},{latex:"\\vdots",aside:"",class:"box"},{latex:"\\ddots",aside:"",class:"box"},{latex:"\\ldotp",aside:"low dot",class:"box"},{latex:"\\cdotp",aside:"center dot",class:"box"},{latex:"\\ldots",aside:"low ellipsis",class:"box"},{latex:"\\cdots",aside:"center ellipsis",class:"box"},{latex:"\\therefore",aside:"therefore",class:"box"},{latex:"\\because",aside:"because",class:"box"}]},{class:"box",latex:"\\cdot",aside:"centered dot",shift:"\\ast",variants:["\\circ","\\bigcirc","\\bullet","\\odot","\\oslash","\\circledcirc","\\ast","\\star","\\times","\\doteq","\\doteqdot"]},"[separator]","[left]","[right]",{label:"[backspace]",width:1,class:"action hide-shift"},{label:"[action]",width:1}]]},compact:{label:"compact",rows:[["[+]","[-]","[*]","[/]","[=]","[.]","[(]","[)]","\\sqrt{#0}","#@^{#?}"],["[1]","[2]","[3]","[4]","[5]","[6]","[7]","[8]","[9]","[0]"],["[hr]"],["[undo]","[redo]","[separator]","[separator]","[separator]","[left]","[right]",{label:"[backspace]",class:"action hide-shift"},"[hide-keyboard]"]]},minimalist:{label:"minimalist",layers:[{style:`
          div.minimalist-backdrop {
            display: flex;
            justify-content: center;
          }          
          div.minimalist-container {
            --keycap-height: 40px;
            --keycap-max-width: 53px;
            --keycap-small-font-size: 12px;
            background: var(--keyboard-background);
            padding: 20px 20px 0px 20px;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            border: 1px solid var(--keyboard-border);
            box-shadow: 0 0 32px rgb(0 0 0 / 30%);
          }        
        `,backdrop:"minimalist-backdrop",container:"minimalist-container",rows:[["+","-","\\times",{latex:"\\frac{#@}{#0}",class:"small"},"=","[.]","(",")",{latex:"\\sqrt{#0}",class:"small"},{latex:"#@^{#?}",class:"small"}],["1","2","3","4","5","6","7","8","9","0"],["[hr]"],["[undo]","[redo]","[separator]","[separator]","[separator]","[left]","[right]",{label:"[backspace]",class:"action hide-shift"},"[hide-keyboard]"]]}]},"numeric-only":{label:"123",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.numeric",id:"numeric-only",rows:[["7","8","9","[separator]",{label:"[backspace]",width:2}],["4","5","6","[separator]","[separator]","[separator]"],["1","2","3","[separator]","[separator]","[separator]"],["0",{label:"[.]",variants:[]},"-","[separator]","[left]","[right]"]]}},Kv={0:["\\varnothing","\\infty"],1:["\\frac{1}{#@}","#@^{-1}","\\times 10^{#?}","\\phi","\\imaginaryI"],2:["\\frac{1}{2}","#@^2","\\sqrt2","\\exponentialE"],3:["\\frac{1}{3}","#@^3","\\sqrt3","\\pi"],4:["\\frac{1}{4}","#@^4"],5:["\\frac{1}{5}","#@^5","\\sqrt5"],6:["\\frac{1}{6}","#@^6"],7:["\\frac{1}{7}","#@^7"],8:["\\frac{1}{8}","#@^8"],9:["\\frac{1}{9}","#@^9"],".":[".",",",";","\\colon"],",":["{,}",".",";","\\colon"],a:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"},"","","","","",""],A:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"},"","","","","",""],b:[{latex:"\\beth",aside:"beth"}],c:[{latex:"\\C",aside:"set of complex numbers"},""],d:[{latex:"\\daleth",aside:"daleth"}],e:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isnt"},"","","",""],E:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isnt"},"","","",""],g:[{latex:"\\gimel",aside:"gimel"}],h:[{latex:"\\hbar",aside:"h bar"},{latex:"\\hslash",aside:"h slash"}],i:[{latex:"\\imaginaryI",aside:"imaginary i"},"","","",""],I:[{latex:"\\imaginaryI",aside:"imaginary i"},"","","",""],j:[{latex:"\\imaginaryJ",aside:"imaginary j"}],l:[{latex:"\\ell",aside:"ell"}],n:[{latex:"\\mathbb{N}",aside:"set of natural numbers"},""],o:["","","","","",""],O:["","","","","",""],p:[{latex:"\\mathbb{P}",aside:"set of primes"}],q:[{latex:"\\mathbb{Q}",aside:"set of rational numbers"}],r:[{latex:"\\mathbb{R}",aside:"set of real numbers"}],u:["","","",""],U:["","","",""],z:[{latex:"\\mathbb{Z}",aside:"set of integers"}],y:["",""],Y:[""],space:[{latex:'\\char"203A\\!\\char"2039',insert:"\\!",aside:"negative thin space<br> em"},{latex:'\\char"203A\\,\\char"2039',insert:"\\,",aside:"thin space<br> em"},{latex:'\\char"203A\\:\\char"2039',insert:"\\:",aside:"medium space<br> em"},{latex:'\\char"203A\\;\\char"2039',insert:"\\;",aside:"thick space<br> em"},{latex:'\\char"203A\\ \\char"2039',insert:"\\ ",aside:" em"},{latex:'\\char"203A\\enspace\\char"2039',insert:"\\enspace",aside:" em"},{latex:'\\char"203A\\quad\\char"2039',insert:"\\quad",aside:"1 em"},{latex:'\\char"203A\\qquad\\char"2039',insert:"\\qquad",aside:"2 em"}]},Op;function $G(t,e){var r,n,i,s,o;let a=lc.singleton;if(!a)return;let l=ld(t),c="";if(window.mathVirtualKeyboard.isShifted){let g=(r=a.getKeycap(l==null?void 0:l.id))==null?void 0:r.shift;typeof g=="object"&&"variants"in g&&(c=(n=g.variants)!=null?n:"")}else c=(s=(i=a.getKeycap(l==null?void 0:l.id))==null?void 0:i.variants)!=null?s:"";if(typeof c=="string"&&!s_(c)||Array.isArray(c)&&c.length===0){e==null||e();return}let u={},A="";for(let g of BBe(c)){let v=ME(g),x=Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36);u[x]=v;let[b,w]=Dw(v);A+=`<div id=${x} class="item ${w}">${b}</div>`}let h=document.createElement("div");h.setAttribute("aria-hidden","true"),h.className="MLK__variant-panel",h.style.height="auto";let f=Object.keys(u).length,p=5;f===1?p=1:f===2||f===4?p=2:f===3||f===5||f===6?p=3:f>=7&&f<14&&(p=4),h.style.width=`calc(var(--variant-keycap-length) * ${p} + 12px)`,h.innerHTML=DE.createHTML(A),ds.open({root:(o=a==null?void 0:a.container)==null?void 0:o.querySelector(".ML__keyboard"),child:h}),Op=new AbortController;let{signal:m}=Op,y=t==null?void 0:t.getBoundingClientRect();if(y){y.top-h.clientHeight<0&&(h.style.width="auto",f<=6?h.style.height="56px":f<=12?h.style.height="108px":f<=18?h.style.height="205px":h.classList.add("compact"));let g=Math.max(0,Math.min(window.innerWidth-h.offsetWidth,(y.left+y.right-h.offsetWidth)/2)),v=y.top-h.clientHeight+5;h.style.left=`${g}px`,h.style.top=`${v}px`,h.classList.add("is-visible"),requestAnimationFrame(()=>{var x;h.addEventListener("pointerup",b=>{let w=ld(b.target);!(w!=null&&w.id)||!u[w.id]||(o_(u[w.id]),ad(),e==null||e(),b.preventDefault())},{capture:!0,passive:!1,signal:m}),h.addEventListener("pointerenter",b=>{let w=ld(b.target);!(w!=null&&w.id)||!u[w.id]||w.classList.add("is-active")},{capture:!0,signal:m}),h.addEventListener("pointerleave",b=>{let w=ld(b.target);b.target&&"tagName"in b.target&&typeof b.target.tagName=="string"&&b.target.tagName.toUpperCase()==="ASIDE"||!(w!=null&&w.id)||!u[w.id]||w.classList.remove("is-active")},{capture:!0,signal:m}),(x=a.getKeycap(l==null?void 0:l.id))!=null&&x.stickyVariantPanel?window.addEventListener("pointerdown",b=>{if(!(b.target instanceof Node))return;let w=h.contains(b.target);b.target===h||w||(ad(),e==null||e())},{signal:m}):(window.addEventListener("pointercancel",()=>{ad(),e==null||e()},{signal:m}),window.addEventListener("pointerup",()=>{ad(),e==null||e()},{signal:m}))})}}function ad(){Op==null||Op.abort(),Op=null,ds.state==="open"&&ds.close()}function CBe(t){if(t==="foreground-color"){let e=[];for(let r of Object.keys(hu))e.push({class:"swatch-button",label:'<span style="border: 3px solid '+hu[r]+'"></span>',command:["applyStyle",{color:r}]});return e}if(t==="background-color"){let e=[];for(let r of Object.keys(du))e.push({class:"swatch-button",label:'<span style="background:'+du[r]+'"></span>',command:["applyStyle",{backgroundColor:r}]});return e}}function s_(t){return Kv[t]!==void 0}function BBe(t){var e;return typeof t!="string"?t:(Kv[t]||(Kv[t]=(e=CBe(t))!=null?e:[]),Kv[t])}function _Be(t){return typeof t=="string"?t:Object.entries(t).map(([e,r])=>`${e}:${r} !important`).join(";")}function SBe(t){return Object.keys(t).map(e=>`${e} {${_Be(t[e])}}`).join("")}function gf(t){if(!t)return"";let e=new Pe,r=new X({mode:"math",type:"root",body:Vi(t,{context:e,args:i=>i==="@"?"{\\class{ML__box-placeholder}{\\blacksquare}}":"\\placeholder{}"})}),n=xw(F0(new oe(r.render(e),{classes:"ML__base"}),e));return bw(n,{classes:"ML__latex"}).toMarkup()}function Np(t){if(Array.isArray(t))return t.map(r=>Np(r)).flat();let e=typeof t=="string"?{markup:t}:t;return"rows"in e&&Array.isArray(e.rows)&&(e.rows=e.rows.map(r=>r.map(n=>ME(n)))),e.id!=null||(e.id="ML__layer_"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36)),[e]}function kBe(){var t,e;let r=window.mathVirtualKeyboard.alphabeticLayout;if(r==="auto"){let o=Rm();o&&(r=o.virtualLayout),(!r||r==="auto")&&(r=(t={fr:"azerty",be:"azerty",al:"qwertz",ba:"qwertz",cz:"qwertz",de:"qwertz",hu:"qwertz",sk:"qwertz",ch:"qwertz"}[De.locale.slice(0,2)])!=null?t:"qwerty")}let n={qwerty:["qwertyuiop"," asdfghjkl ","^zxcvbnm~"],azerty:["azertyuiop","qsdfghjklm","^ wxcvbn ~"],qwertz:["qwertzuiop"," asdfghjkl ","^yxcvbnm~"],dvorak:["^  pyfgcrl ","aoeuidhtns","qjkxbmwvz~"],colemak:[" qwfpgjluy ","arstdhneio","^zxcvbkm~"]},i=(e=n[r])!=null?e:n.qwerty,s=r==="azerty"?[[{label:"1",variants:"1"},{label:"2",shift:{latex:""},variants:"2"},{label:"3",shift:{latex:""},variants:"3"},{label:"4",variants:"4"},{label:"5",shift:{label:"(",latex:"("},variants:"5"},{label:"6",shift:{label:")",latex:")"},variants:"6"},{label:"7",shift:{latex:""},variants:"7"},{label:"8",shift:{latex:""},variants:"8"},{label:"9",shift:{latex:""},variants:"9"},{label:"0",shift:{latex:""},variants:"0"}]]:[[{label:"1",variants:"1"},{label:"2",variants:"2"},{label:"3",variants:"3"},{label:"4",variants:"4"},{label:"5",shift:{latex:"\\frac{#@}{#?}"},variants:"5"},{label:"6",shift:{latex:"#@^#?"},variants:"6"},{label:"7",variants:"7"},{label:"8",shift:{latex:"\\times"},variants:"8"},{label:"9",shift:{label:"(",latex:"("},variants:"9"},{label:"0",shift:{label:")",latex:")"},variants:"0"}]];for(let o of i){let a=[];for(let l of o)/[a-z]/.test(l)?a.push({label:l,class:"hide-shift",shift:{label:l.toUpperCase(),variants:s_(l.toUpperCase())?l.toUpperCase():void 0},variants:s_(l)?l:void 0}):l==="~"?r!=="dvorak"?a.push("[backspace]"):a.push({label:"[backspace]",width:1}):l==="^"?a.push("[shift]"):l===" "&&a.push("[separator-5]");s.push(a)}return s.push(["[-]","[+]","[=]",{label:" ",width:1.5},{label:",",shift:";",variants:".",class:"hide-shift"},"[.]","[left]","[right]",{label:"[action]",width:1.5}]),{label:"abc",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.alphabetic",layers:Np({rows:s})}}function VG(t){if(t==="alphabetic")return kBe();if(typeof t=="string")return SN[t],VG(SN[t]);let e;if("rows"in t&&Array.isArray(t.rows)){let i=t,s=_b(i,["rows"]);e=N(D({},s),{layers:Np({rows:t.rows})})}else if("markup"in t&&typeof t.markup=="string"){let i=t,s=_b(i,["markup"]);e=N(D({},s),{layers:Np(t.markup)})}else e=D({},t),"layers"in t?e.layers=Np(t.layers):console.error('MathLive 0.104.0: provide either a "rows", "markup" or "layers" property');let r=!1,n=!1;for(let i of e.layers)if(i.rows)for(let s of i.rows.flat()){Ed(s)&&(r=!0);let o=s.command;typeof o=="string"&&["undo","redo","cut","copy","paste"].includes(o)&&(n=!0)}return(!("displayShiftedKeycaps"in t)||t.displayShiftedKeycaps===void 0)&&(e.displayShiftedKeycaps=r),(!("displayEditToolbar"in t)||t.displayEditToolbar===void 0)&&(e.displayEditToolbar=!n),e}function EBe(t,e){var r,n;let i='<div class="left">';if(t.normalizedLayouts.length>1)for(let[s,o]of t.normalizedLayouts.entries()){let a=o,l=[s===e?"selected":"layer-switch"];a.tooltip&&l.push("MLK__tooltip"),a.labelClass&&l.push(...a.labelClass.split(" ")),i+=`<div class="${l.join(" ")}"`,a.tooltip&&(i+=" data-tooltip='"+((r=Ee(a.tooltip))!=null?r:a.tooltip)+"' "),s!==e&&(i+=`data-layer="${a.layers[0].id}"`),i+=`>${(n=a.label)!=null?n:"untitled"}</div>`}return i+="</div>",i}function FBe(t,e){let r="";if(t.editToolbar==="none")return"";let n=[];e.selectionIsCollapsed?n.push("undo","redo","pasteFromClipboard"):n.push("cutToClipboard","copyToClipboard","pasteFromClipboard");let i={undo:`<div class='action ${e.canUndo===!1?"disabled":""}'
          data-command='"undo"'
          data-tooltip='${Ee("tooltip.undo")}'>
          <svg><use xlink:href='#svg-undo' /></svg>
      </div>`,redo:`<div class='action ${e.canRedo===!1?"disabled":""}'
          data-command='"redo"'
          data-tooltip='${Ee("tooltip.redo")}'>
          <svg><use xlink:href='#svg-redo' /></svg>
      </div>`,cutToClipboard:`
        <div class='action'
            data-command='"cutToClipboard"'
            data-tooltip='${Ee("tooltip.cut to clipboard")}'>
            <svg><use xlink:href='#svg-cut' /></svg>
        </div>
    `,copyToClipboard:`
        <div class='action'
            data-command='"copyToClipboard"'
            data-tooltip='${Ee("tooltip.copy to clipboard")}'>
            <svg><use xlink:href='#svg-copy' /></svg>
        </div>
    `,pasteFromClipboard:`
        <div class='action'
            data-command='"pasteFromClipboard"'
            data-tooltip='${Ee("tooltip.paste from clipboard")}'>
            <svg><use xlink:href='#svg-paste' /></svg>
        </div>
    `};return r+=n.map(s=>i[s]).join(""),r}function MBe(t){for(let e of t)TBe(e)}function TBe(t){let e=lc.singleton;if(!e)return;let r={};if(!t.id){if(t.hasAttribute("data-label")&&(r.label=t.dataset.label),t.hasAttribute("data-latex")&&(r.latex=t.dataset.latex),t.hasAttribute("data-key")&&(r.key=t.dataset.key),t.hasAttribute("data-insert")&&(r.insert=t.dataset.insert),t.hasAttribute("data-variants")&&(r.variants=t.dataset.variants),t.hasAttribute("data-aside")&&(r.aside=t.dataset.aside),t.className&&(r.class=t.className),!r.label&&!r.latex&&!r.key&&!r.insert&&(r.latex=t.innerText,r.label=t.innerHTML),t.hasAttribute("data-command"))try{r.command=JSON.parse(t.dataset.command)}catch{}t.id=e.registerKeycap(r)}if(!t.innerHTML){let[n,i]=Dw(r);t.innerHTML=globalThis.MathfieldElement.createHTML(n)}}function DBe(){zl("virtual-keyboard"),zl("core"),kE()}function LBe(){Wl("core"),Wl("virtual-keyboard")}var jBe=`<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">

<symbol id="svg-delete-backward" viewBox="0 0 576 512">
  <path d="M432.1 208.1L385.9 256L432.1 303C442.3 312.4 442.3 327.6 432.1 336.1C423.6 346.3 408.4 346.3 399 336.1L352 289.9L304.1 336.1C295.6 346.3 280.4 346.3 271 336.1C261.7 327.6 261.7 312.4 271 303L318.1 256L271 208.1C261.7 199.6 261.7 184.4 271 175C280.4 165.7 295.6 165.7 304.1 175L352 222.1L399 175C408.4 165.7 423.6 165.7 432.1 175C442.3 184.4 442.3 199.6 432.1 208.1V208.1zM512 64C547.3 64 576 92.65 576 128V384C576 419.3 547.3 448 512 448H205.3C188.3 448 172 441.3 160 429.3L9.372 278.6C3.371 272.6 0 264.5 0 256C0 247.5 3.372 239.4 9.372 233.4L160 82.75C172 70.74 188.3 64 205.3 64L512 64zM528 128C528 119.2 520.8 112 512 112H205.3C201 112 196.9 113.7 193.9 116.7L54.63 256L193.9 395.3C196.9 398.3 201 400 205.3 400H512C520.8 400 528 392.8 528 384V128z"/>
</symbol>

<symbol id="svg-shift" viewBox="0 0 384 512">
  <path d="M2.438 252.3C7.391 264.2 19.06 272 32 272h80v160c0 26.51 21.49 48 48 48h64C250.5 480 272 458.5 272 432v-160H352c12.94 0 24.61-7.797 29.56-19.75c4.953-11.97 2.219-25.72-6.938-34.88l-160-176C208.4 35.13 200.2 32 192 32S175.6 35.13 169.4 41.38l-160 176C.2188 226.5-2.516 240.3 2.438 252.3zM192 86.63L313.4 224H224v208H160V224H70.63L192 86.63z"/>
</symbol>

<symbol id="svg-commit" viewBox="0 0 512 512">
  <path d="M135 432.1l-128-128C2.344 300.3 0 294.2 0 288s2.344-12.28 7.031-16.97l128-128c9.375-9.375 24.56-9.375 33.94 0s9.375 24.56 0 33.94L81.94 264H464v-208C464 42.75 474.8 32 488 32S512 42.75 512 56V288c0 13.25-10.75 24-24 24H81.94l87.03 87.03c9.375 9.375 9.375 24.56 0 33.94S144.4 442.3 135 432.1z"/>
</symbol>


<symbol id="circle-plus" viewBox="0 0 512 512"><path d="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344c0 13.3 10.7 24 24 24s24-10.7 24-24V280h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H280V168c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H168c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"/></symbol>

<symbol id="svg-command" viewBox="0 0 640 512">
  <path d="M34.495 36.465l211.051 211.05c4.686 4.686 4.686 12.284 0 16.971L34.495 475.535c-4.686 4.686-12.284 4.686-16.97 0l-7.071-7.07c-4.686-4.686-4.686-12.284 0-16.971L205.947 256 10.454 60.506c-4.686-4.686-4.686-12.284 0-16.971l7.071-7.07c4.686-4.687 12.284-4.687 16.97 0zM640 468v-10c0-6.627-5.373-12-12-12H300c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h328c6.627 0 12-5.373 12-12z"/>
</symbol>

<symbol id="svg-undo" viewBox="0 0 512 512">
  <path d="M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z"/>
</symbol>
<symbol id="svg-redo" viewBox="0 0 512 512">
  <path d="M492 8h-10c-6.627 0-12 5.373-12 12v110.625C426.804 57.047 346.761 7.715 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.166 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-7.069-7.069c-4.503-4.503-11.749-4.714-16.482-.454C361.218 449.238 311.065 470 256 470c-117.744 0-214-95.331-214-214 0-117.744 95.331-214 214-214 82.862 0 154.737 47.077 190.289 116H332c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h160c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z"/>
</symbol>
<symbol id="svg-arrow-left" viewBox="0 0 320 512">
  <path d="M206.7 464.6l-183.1-191.1C18.22 267.1 16 261.1 16 256s2.219-11.97 6.688-16.59l183.1-191.1c9.152-9.594 24.34-9.906 33.9-.7187c9.625 9.125 9.938 24.37 .7187 33.91L73.24 256l168 175.4c9.219 9.5 8.906 24.78-.7187 33.91C231 474.5 215.8 474.2 206.7 464.6z"/>
</symbol>
<symbol id="svg-arrow-right" viewBox="0 0 320 512">
  <path d="M113.3 47.41l183.1 191.1c4.469 4.625 6.688 10.62 6.688 16.59s-2.219 11.97-6.688 16.59l-183.1 191.1c-9.152 9.594-24.34 9.906-33.9 .7187c-9.625-9.125-9.938-24.38-.7187-33.91l168-175.4L78.71 80.6c-9.219-9.5-8.906-24.78 .7187-33.91C88.99 37.5 104.2 37.82 113.3 47.41z"/>
</symbol>
<symbol id="svg-tab" viewBox="0 0 448 512">
  <path d="M32 217.1c0-8.8 7.2-16 16-16h144v-93.9c0-7.1 8.6-10.7 13.6-5.7l143.5 143.1c6.3 6.3 6.3 16.4 0 22.7L205.6 410.4c-5 5-13.6 1.5-13.6-5.7v-93.9H48c-8.8 0-16-7.2-16-16v-77.7m-32 0v77.7c0 26.5 21.5 48 48 48h112v61.9c0 35.5 43 53.5 68.2 28.3l143.6-143c18.8-18.8 18.8-49.2 0-68L228.2 78.9c-25.1-25.1-68.2-7.3-68.2 28.3v61.9H48c-26.5 0-48 21.6-48 48zM436 64h-8c-6.6 0-12 5.4-12 12v360c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12z"/>
</symbol>
<symbol id="svg-paste" viewBox="0 0 512 512"><path d="M160 32c11.6 0 21.3 8.2 23.5 19.2C185 58.6 191.6 64 199.2 64H208c8.8 0 16 7.2 16 16V96H96V80c0-8.8 7.2-16 16-16h8.8c7.6 0 14.2-5.4 15.7-12.8C138.7 40.2 148.4 32 160 32zM64 64h2.7C65 69 64 74.4 64 80V96c0 17.7 14.3 32 32 32H224c17.7 0 32-14.3 32-32V80c0-5.6-1-11-2.7-16H256c17.7 0 32 14.3 32 32h32c0-35.3-28.7-64-64-64H210.6c-9-18.9-28.3-32-50.6-32s-41.6 13.1-50.6 32H64C28.7 32 0 60.7 0 96V384c0 35.3 28.7 64 64 64H192V416H64c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32zM288 480c-17.7 0-32-14.3-32-32V192c0-17.7 14.3-32 32-32h96v56c0 22.1 17.9 40 40 40h56V448c0 17.7-14.3 32-32 32H288zM416 165.3L474.7 224H424c-4.4 0-8-3.6-8-8V165.3zM448 512c35.3 0 64-28.7 64-64V235.9c0-12.7-5.1-24.9-14.1-33.9l-59.9-59.9c-9-9-21.2-14.1-33.9-14.1H288c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H448z"/></symbol>
<symbol id="svg-cut" viewBox="0 0 512 512"><path d="M485.6 444.2L333.6 314.9C326.9 309.2 326.1 299.1 331.8 292.4C337.5 285.6 347.6 284.8 354.4 290.5L506.4 419.8C513.1 425.5 513.9 435.6 508.2 442.4C502.5 449.1 492.4 449.9 485.6 444.2zM485.7 67.76C492.5 62.07 502.5 62.94 508.2 69.69C513.9 76.45 513.1 86.55 506.3 92.24L208.5 343.1C218.3 359.7 224 379.2 224 400C224 461.9 173.9 512 112 512C50.14 512 0 461.9 0 400C0 338.1 50.14 288 112 288C141.5 288 168.4 299.4 188.4 318.1L262.2 256L188.4 193.9C168.4 212.6 141.5 224 112 224C50.14 224 0 173.9 0 112C0 50.14 50.14 0 112 0C173.9 0 224 50.14 224 112C224 132.8 218.3 152.3 208.5 168.9L287 235.1L485.7 67.76zM32 112C32 156.2 67.82 192 112 192C156.2 192 192 156.2 192 112C192 67.82 156.2 32 112 32C67.82 32 32 67.82 32 112zM112 480C156.2 480 192 444.2 192 400C192 355.8 156.2 320 112 320C67.82 320 32 355.8 32 400C32 444.2 67.82 480 112 480z"/></symbol>
<symbol id="svg-copy" viewBox="0 0 512 512"><path d="M272 416C263.2 416 256 423.2 256 432V448c0 17.67-14.33 32-32 32H64c-17.67 0-32-14.33-32-32V192c0-17.67 14.33-32 32-32h112C184.8 160 192 152.8 192 144C192 135.2 184.8 128 176 128H63.99c-35.35 0-64 28.65-64 64l.0098 256C0 483.3 28.65 512 64 512h160c35.35 0 64-28.65 64-64v-16C288 423.2 280.8 416 272 416zM502.6 86.63l-77.25-77.25C419.4 3.371 411.2 0 402.7 0H288C252.7 0 224 28.65 224 64v256c0 35.35 28.65 64 64 64h160c35.35 0 64-28.65 64-64V109.3C512 100.8 508.6 92.63 502.6 86.63zM416 45.25L466.7 96H416V45.25zM480 320c0 17.67-14.33 32-32 32h-160c-17.67 0-32-14.33-32-32V64c0-17.67 14.33-32 32-32h96l.0026 64c0 17.67 14.33 32 32 32H480V320z"/>
</symbol>
<symbol id="svg-angle-double-right" viewBox="0 0 512 512"><path d="M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"/>
</symbol>
<symbol id="svg-angle-double-left" viewBox="0 0 512 512"><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"/>
</symbol>
<symbol id="svg-trash" viewBox="0 0 448 512">
  <path d="M336 64l-33.6-44.8C293.3 7.1 279.1 0 264 0h-80c-15.1 0-29.3 7.1-38.4 19.2L112 64H24C10.7 64 0 74.7 0 88v2c0 3.3 2.7 6 6 6h26v368c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V96h26c3.3 0 6-2.7 6-6v-2c0-13.3-10.7-24-24-24h-88zM184 32h80c5 0 9.8 2.4 12.8 6.4L296 64H152l19.2-25.6c3-4 7.8-6.4 12.8-6.4zm200 432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V96h320v368zm-176-44V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm-80 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm160 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12z"/>
</symbol>
<symbol id="svg-keyboard-down" viewBox="0 0 576 512"><path d="M64 48c-8.8 0-16 7.2-16 16V240c0 8.8 7.2 16 16 16H512c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16H64zM0 64C0 28.7 28.7 0 64 0H512c35.3 0 64 28.7 64 64V240c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zM159 359c9.4-9.4 24.6-9.4 33.9 0l95 95 95-95c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9L305 505c-4.5 4.5-10.6 7-17 7s-12.5-2.5-17-7L159 393c-9.4-9.4-9.4-24.6 0-33.9zm1-167c0-8.8 7.2-16 16-16H400c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V192zM120 88h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H120c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16zm64 16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H200c-8.8 0-16-7.2-16-16V104zm96-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H280c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16zm64 16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H360c-8.8 0-16-7.2-16-16V104zm96-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H440c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16z"/></symbol>
</svg>`;function OBe(t){t.resetKeycapRegistry(),DBe();let e=document.createElement("div");e.className="ML__keyboard";let r=document.createElement("div");r.className="MLK__plate",r.innerHTML=globalThis.MathfieldElement.createHTML(jBe+t.normalizedLayouts.map((o,a)=>NBe(t,o,a)).join(""));let n=document.createElement("div");n.className="MLK__backdrop",n.appendChild(r),e.appendChild(n),e.addEventListener("pointerdown",UBe,{passive:!1});let i=e.querySelectorAll(".ML__edit-toolbar");if(i)for(let o of i)o.addEventListener("click",a=>{var l,c;let u=a.target,A="";for(;u&&!A;)A=(l=u==null?void 0:u.getAttribute("data-command"))!=null?l:"",u=(c=u==null?void 0:u.parentElement)!=null?c:null;A&&t.executeCommand(JSON.parse(A))});MBe(e.querySelectorAll(".MLK__keycap, .action, .fnbutton, .bigfnbutton"));let s=e.querySelectorAll(".MLK__layer");s.length>0;for(let o of s)o.addEventListener("pointerdown",a=>a.preventDefault());return t.currentLayer=t.latentLayer,e}function NBe(t,e,r){let n=[];if(!("layers"in e))return"";for(let i of e.layers)n.push(`<div tabindex="-1" class="MLK__layer" id="${i.id}">`),(t.normalizedLayouts.length>1||e.displayEditToolbar)&&(n.push("<div class='MLK__toolbar' role='toolbar'>"),n.push(EBe(t,r)),e.displayEditToolbar&&n.push('<div class="ML__edit-toolbar right"></div>'),n.push("</div>")),n.push(IBe(t,i)),n.push("</div>");return n.join("")}function IBe(t,e){if(typeof e=="string")return e;let r="";if(typeof e.style=="string"?r+=`<style>${e.style}</style>`:typeof e.style=="object"&&(r+=`<style>${SBe(e.style)}</style>`),e.backdrop&&(r+=`<div class='${e.backdrop}'>`),e.container&&(r+=`<div class='${e.container}'>`),e.rows){r+="<div class=MLK__rows>";for(let n of e.rows){r+='<div dir="ltr" class=MLK__row>';for(let i of n)if(i){let s=t.registerKeycap(i),[o,a]=Dw(i);/(^|\s)separator/.test(a)?r+=`<div class="${a}"`:r+=`<div tabindex="-1" id="${s}" class="${a}"`,i.tooltip&&(r+=` data-tooltip="${i.tooltip}"`),r+=`>${o}</div>`}r+="</div>"}r+="</div>"}else e.markup&&(r+=e.markup);return e.container&&(r+="</div>"),e.backdrop&&(r+="</div>"),r}function Dw(t,e={shifted:!1}){var r,n,i,s,o,a,l;let c="",u=(r=t.class)!=null?r:"";if(e.shifted&&Ed(t)&&(u+=" is-active"),e.shifted&&"shift"in t)typeof t.shift=="string"?c=gf(t.shift):typeof t.shift=="object"&&(c=t.shift.label?t.shift.label:(n=gf(t.shift.latex||t.shift.insert||"")||t.shift.key)!=null?n:""),typeof t.shift=="object"&&(u=(s=(i=t.shift.class)!=null?i:t.class)!=null?s:"");else{if(c=t.label?t.label:(o=gf(t.latex||t.insert||"")||t.key)!=null?o:"",t.shift){let A;typeof t.shift=="string"?A=gf(t.shift):t.shift.label?A=t.shift.label:A=(a=gf(t.shift.latex||t.shift.insert||"")||t.shift.key)!=null?a:"",c+=`<span class="MLK__shift">${A}</span>`}t.aside&&(c+=`<aside>${t.aside}</aside>`)}return t.layer&&!/layer-switch/.test(u)&&(u+=" layer-switch"),/(^|\s)(separator|action|shift|fnbutton|bigfnbutton)($|\s)/.test(u)||(u+=" MLK__keycap"),!/\bw[0-9]+\b/.test(u)&&t.width&&(u+=(l={0:" w0",.5:" w5",1.5:" w15",2:" w20",5:" w50"}[t.width])!=null?l:""),[c,u||"MLK__keycap"]}var Oo={"[left]":{class:"action hide-shift",label:"<svg class=svg-glyph><use xlink:href=#svg-arrow-left /></svg>",command:"performWithFeedback(moveToPreviousChar)",shift:{label:"<svg class=svg-glyph><use xlink:href=#svg-angle-double-left /></svg>",command:"performWithFeedback(extendSelectionBackward)"}},"[right]":{class:"action hide-shift",label:"<svg class=svg-glyph><use xlink:href=#svg-arrow-right /></svg>",command:"performWithFeedback(moveToNextChar)",shift:{label:"<svg class=svg-glyph><use xlink:href=#svg-angle-double-right /></svg>",command:"performWithFeedback(extendSelectionForward)"}},"[up]":{class:"action hide-shift",label:"",command:"performWithFeedback(moveUp)",shift:{label:"",command:"performWithFeedback(extendSelectionUpward)"}},"[down]":{class:"action hide-shift",label:"",command:"performWithFeedback(moveDown)",shift:{label:"",command:"performWithFeedback(extendSelectionDownward)"}},"[return]":{class:"action hide-shift",command:"performWithFeedback(commit)",shift:{command:"performWithFeedback(addRowAfter)"},width:1.5,label:"<svg class=svg-glyph><use xlink:href=#svg-commit /></svg>"},"[action]":{class:"action hide-shift",command:"performWithFeedback(commit)",shift:{label:"<svg class=svg-glyph><use xlink:href=#circle-plus /></svg>",command:"performWithFeedback(addRowAfter)"},width:1.5,label:"<svg class=svg-glyph><use xlink:href=#svg-commit /></svg>"},"[hr]":{class:"separator horizontal-rule"},"[hide-keyboard]":{class:"action",command:["hideVirtualKeyboard"],width:1.5,label:"<svg class=svg-glyph-lg><use xlink:href=#svg-keyboard-down /></svg>"},"[.]":{variants:".",command:"performWithFeedback(insertDecimalSeparator)",shift:",",class:"big-op hide-shift",label:"."},"[,]":{variants:",",command:"performWithFeedback(insertDecimalSeparator)",shift:".",class:"big-op hide-shift",label:","},"[+]":{variants:[{latex:"\\sum_{#0}^{#0}",class:"small"},"\\oplus"],latex:"+",label:"+",class:"big-op hide-shift",shift:{latex:"\\sum",insert:"\\sum",class:"small"}},"[-]":{variants:["\\pm","\\ominus"],latex:"-",label:"&#x2212;",shift:"\\pm",class:"big-op hide-shift"},"[/]":{class:"big-op hide-shift",shift:{class:"",latex:"\\frac{1}{#@}"},variants:["/","\\div","\\%","\\oslash"],latex:"\\frac{#@}{#?}",label:"&divide;"},"[*]":{variants:[{latex:"\\prod_{#0}^{#0}",class:"small"},"\\otimes","\\cdot"],latex:"\\cdot",label:"&times;",shift:{latex:"\\times"},class:"big-op hide-shift"},"[=]":{variants:["\\neq","\\equiv","\\varpropto","\\thickapprox","\\lt","\\gt","\\le","\\ge"],latex:"=",label:"=",shift:{label:"",latex:"\\ne"},class:"big-op hide-shift"},"[backspace]":{class:"action bottom right hide-shift",width:1.5,command:"performWithFeedback(deleteBackward)",label:"<svg class=svg-glyph><use xlink:href=#svg-delete-backward /></svg>",shift:{class:"action warning",label:"<svg class=svg-glyph><use xlink:href=#svg-trash /></svg>",command:"deleteAll"}},"[undo]":{class:"ghost if-can-undo",command:"undo",label:"<svg class=svg-glyph><use xlink:href=#svg-undo /></svg>",tooltip:"tooltip.undo"},"[redo]":{class:"ghost  if-can-redo",command:"redo",label:"<svg class=svg-glyph><use xlink:href=#svg-redo /></svg>",tooltip:"tooltip.redo"},"[(]":{variants:[{latex:"\\lbrack",key:"["},"\\langle","\\lfloor","\\lceil",{latex:"\\lbrace",key:"{"}],key:"(",label:"(",shift:{label:"[",key:"["},class:"hide-shift"},"[)]":{variants:[{latex:"\\rbrack",key:"]"},"\\rangle","\\rfloor","\\rceil",{latex:"\\rbrace",key:"}"}],key:")",label:")",shift:{label:"]",latex:"\\rbrack"},class:"hide-shift"},"[0]":{variants:"0",latex:"0",label:"0",shift:"\\infty",class:"hide-shift"},"[1]":{variants:"1",latex:"1",label:"1",shift:"#@^{-1}",class:"hide-shift"},"[2]":{variants:"2",latex:"2",label:"2",shift:"#@^2",class:"hide-shift"},"[3]":{variants:"3",latex:"3",label:"3",shift:"#@^3",class:"hide-shift"},"[4]":{variants:"4",latex:"4",label:"4",shift:"#@^4",class:"hide-shift"},"[5]":{variants:"5",latex:"5",label:"5",shift:"#@^5",class:"hide-shift"},"[6]":{variants:"6",latex:"6",label:"6",shift:"#@^6",class:"hide-shift"},"[7]":{variants:"7",latex:"7",label:"7",shift:"#@^7",class:"hide-shift"},"[8]":{variants:"8",latex:"8",label:"8",shift:"#@^8",class:"hide-shift"},"[9]":{variants:"9",latex:"9",label:"9",shift:"#@^9",class:"hide-shift"},"[separator-5]":{class:"separator",width:.5},"[separator]":{class:"separator"},"[separator-10]":{class:"separator"},"[separator-15]":{class:"separator",width:1.5},"[separator-20]":{class:"separator",width:2},"[separator-50]":{class:"separator",width:5},"[shift]":{class:"shift bottom left",width:1.5,label:"<span class=caps-lock-indicator></span><svg class=svg-glyph><use xlink:href=#svg-shift /></svg>"},"[foreground-color]":{variants:"foreground-color",command:["applyStyle",{color:"red"}],label:"<span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428; box-sizing: border-box'>"},"[background-color]":{variants:"background-color",command:["applyStyle",{backgroundColor:"yellow"}],label:"<span style='border-radius: 50%;width:22px;height:22px; background:#fff590; box-sizing: border-box'></span>"}};function ME(t){var e;if(typeof t=="string"){if(t==="[.]"&&globalThis.MathfieldElement.decimalSeparator===","&&(t="[,]"),!Oo[t])return{latex:t};t={label:t}}let r;return"label"in t&&t.label&&Oo[t.label]&&(r=N(D(D({},Oo[t.label]),t),{label:Oo[t.label].label})),"key"in t&&t.key&&Oo[t.key]&&(r=N(D(D({},Oo[t.key]),t),{key:Oo[t.key].key})),r?(r.command==="insertDecimalSeparator"&&(r.label=(e=globalThis.MathfieldElement.decimalSeparator)!=null?e:"."),(r.tooltip===void 0||r.tooltip===null||r.tooltip===!1)&&delete r.tooltip,(r.tooltip===void 0||r.tooltip===null||r.tooltip===!1)&&delete r.tooltip,(r.aside===void 0||r.aside===null||r.aside===!1)&&delete r.aside,(r.variants===void 0||r.variants===null||r.variants===!1)&&delete r.variants,(r.shift===void 0||r.shift===null||r.shift===!1)&&delete r.shift,r):t}var Ip;function UBe(t){var e;if(t.button!==0)return;let r=lc.singleton;if(!r)return;let n=t.target;for(;n&&!n.getAttribute("data-layer");)n=n.parentElement;if(n){r.currentLayer=(e=n.getAttribute("data-layer"))!=null?e:"",t.preventDefault();return}let i=ld(t.target);if(!(i!=null&&i.id))return;let s=r.getKeycap(i.id);if(!s)return;t.type;let o=new AbortController,a=o.signal;i.classList.add("is-pressed"),i.addEventListener("pointerenter",q1(o),{capture:!0,signal:a}),i.addEventListener("pointerleave",q1(o),{capture:!0,signal:a}),i.addEventListener("pointercancel",q1(o),{signal:a}),i.addEventListener("pointerup",q1(o),{signal:a}),Ed(s)&&(i.classList.add("is-active"),r.shiftPressCount++),s.variants&&(Ip&&clearTimeout(Ip),Ip=setTimeout(()=>{i.classList.contains("is-pressed")&&(i.classList.remove("is-pressed"),i.classList.add("is-active"),t.target&&"releasePointerCapture"in t.target&&t.target.releasePointerCapture(t.pointerId),$G(i,()=>{o.abort(),i==null||i.classList.remove("is-active")}))},s.stickyVariantPanel?0:300)),t.preventDefault()}function q1(t){return e=>{let r=ld(e.target);if(!(r!=null&&r.id))return;let n=lc.singleton;if(!n)return;let i=n.getKeycap(r.id);if(i){if(e.type==="pointerenter"&&e.target===r&&e.isPrimary&&r.classList.add("is-pressed"),e.type==="pointercancel"){r.classList.remove("is-pressed"),Ed(i)&&(n.shiftPressCount--,r.classList.toggle("is-active",n.isShifted)),t.abort();return}if(e.type==="pointerleave"&&e.target===r){r.classList.remove("is-pressed"),Ed(i)&&(n.shiftPressCount--,r.classList.toggle("is-active",n.isShifted));return}if(e.type==="pointerup"){Ip&&clearTimeout(Ip),Ed(i)?r.classList.toggle("is-active",n.isShifted):r.classList.contains("is-pressed")&&(r.classList.remove("is-pressed"),n.isShifted&&i.shift?typeof i.shift=="string"?n.executeCommand(["insert",i.shift,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]):o_(i.shift):o_(i),n.shiftPressCount===1&&!e.shiftKey&&(n.shiftPressCount=0)),t.abort(),e.preventDefault();return}}}}function o_(t){var e;let r=t.command;!r&&t.insert&&(r=["insert",t.insert,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]),!r&&t.key&&(r=["typedText",t.key,{focus:!0,feedback:!0,simulateKeystroke:!0}]),!r&&t.latex&&(r=["insert",t.latex,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]),r||(r=["typedText",t.label,{focus:!0,feedback:!0,simulateKeystroke:!0}]),(e=lc.singleton)==null||e.executeCommand(r)}function PBe(t){if(t.nodeType!==1)return!1;let e=t.classList;return e.contains("MLK__keycap")||e.contains("shift")||e.contains("action")||e.contains("fnbutton")||e.contains("bigfnbutton")}function ld(t){if(!t)return;let e=t;for(;e&&!PBe(e);)e=e.parentElement;return e??void 0}function Ed(t){return!!t.class&&/(^|\s)shift($|\s)/.test(t.class)}var lc=class KG{constructor(){this.originalContainerBottomPadding=null,this.keycapRegistry={},this._shiftPressCount=0;var e;this.targetOrigin=window.origin,this.originValidator="none",this._alphabeticLayout="auto",this._layouts=Object.freeze(["default"]),this._editToolbar="default",this._container=void 0,this._visible=!1,this._rebuilding=!1,this.observer=new ResizeObserver(r=>{this.adjustBoundingRect(),this.dispatchEvent(new Event("geometrychange")),this.sendMessage("geometry-changed",{boundingRect:this.boundingRect})}),this.listeners={};try{(e=window.top)==null||e.addEventListener("message",this)}catch{window.addEventListener("message",this)}document.addEventListener("focusin",r=>{let n=r.target;n!=null&&n.isConnected&&setTimeout(()=>{let i=kN();i&&!i.readOnly&&i.mathVirtualKeyboardPolicy==="auto"&&pW()&&this.show({animate:!0})},300)}),document.addEventListener("focusout",r=>{r.target instanceof ql&&r.target.mathVirtualKeyboardPolicy!=="manual"&&setTimeout(()=>{kN()||this.hide()},300)})}get currentLayer(){var e,r,n;return(n=(r=(e=this._element)==null?void 0:e.querySelector(".MLK__layer.is-visible"))==null?void 0:r.id)!=null?n:""}set currentLayer(e){var r;if(!this._element){this.latentLayer=e;return}let n=e?this._element.querySelector(`#${e}.MLK__layer`):null;n||(n=this._element.querySelector(".MLK__layer")),n&&((r=this._element.querySelector(".MLK__layer.is-visible"))==null||r.classList.remove("is-visible"),n.classList.add("is-visible")),this.render()}get shiftPressCount(){return this._shiftPressCount}set shiftPressCount(e){var r;this._shiftPressCount=e>2||e<0?0:e,(r=this._element)==null||r.classList.toggle("is-caps-lock",this.shiftPressCount===2),this.render()}get isShifted(){return this._shiftPressCount>0}resetKeycapRegistry(){this.keycapRegistry={}}registerKeycap(e){let r="ML__k"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36);return this.keycapRegistry[r]=e,r}setKeycap(e,r){Oo[e]=ME(r),this.rebuild()}getKeycap(e){var r;return e?(r=Oo[e])!=null?r:this.keycapRegistry[e]:void 0}getLayer(e){let r=this.normalizedLayouts;for(let n of r)for(let i of n.layers)if(i.id===e)return i}get alphabeticLayout(){return this._alphabeticLayout}set alphabeticLayout(e){this._alphabeticLayout=e,this._normalizedLayouts=void 0,this.rebuild()}get layouts(){return this._layouts}set layouts(e){this.updateNormalizedLayouts(e),this.rebuild()}updateNormalizedLayouts(e){let r=Array.isArray(e)?[...e]:[e],n=r.findIndex(i=>i==="default");n>=0&&r.splice(n,1,"numeric","symbols","alphabetic","greek"),this._layouts=Object.freeze(r),this._normalizedLayouts=r.map(i=>VG(i))}get normalizedLayouts(){return this._normalizedLayouts||this.updateNormalizedLayouts(this._layouts),this._normalizedLayouts}get editToolbar(){return this._editToolbar}set editToolbar(e){this._editToolbar=e,this.rebuild()}get container(){return this._container===void 0?window.document.body:this._container}set container(e){this._container=e,this.rebuild()}static get singleton(){if(this._singleton===void 0)try{this._singleton=new KG}catch{this._singleton=null}return this._singleton}get style(){return this._style}addEventListener(e,r,n){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].has(r)||this.listeners[e].add(r)}dispatchEvent(e){return!this.listeners[e.type]||this.listeners[e.type].size===0?!0:(this.listeners[e.type].forEach(r=>{typeof r=="function"?r(e):r==null||r.handleEvent(e)}),!e.defaultPrevented)}removeEventListener(e,r,n){this.listeners[e]&&this.listeners[e].delete(r)}get element(){return this._element}set element(e){var r;this._element!==e&&((r=this._element)==null||r.remove(),this._element=e)}get visible(){return this._visible}set visible(e){e?this.show():this.hide()}get boundingRect(){var e;if(!this._visible)return new DOMRect;let r=(e=this._element)==null?void 0:e.getElementsByClassName("MLK__plate")[0];return r?r.getBoundingClientRect():new DOMRect}adjustBoundingRect(){var e,r;let n=this.boundingRect.height;if(this.container===document.body){(e=this._element)==null||e.style.setProperty("--_keyboard-height",`calc(${n}px + var(--_padding-top) + var(--_padding-bottom) + env(safe-area-inset-bottom, 0))`);let i=n-1;this.container.style.paddingBottom=this.originalContainerBottomPadding?`calc(${this.originalContainerBottomPadding} + ${i}px)`:`${i}px`}else(r=this._element)==null||r.style.setProperty("--_keyboard-height",`${n}px`)}rebuild(){if(this._rebuilding||!this._element)return;this._rebuilding=!0;let e=this.currentLayer;requestAnimationFrame(()=>{this._rebuilding=!1,this._element&&(this._element.remove(),this._element=void 0),this.visible&&(this.buildAndAttachElement(),this.currentLayer=e,this.render(),this.adjustBoundingRect(),this._element.classList.add("is-visible"))})}render(){var e;if(!this._element)return;let r=this.getLayer(this.currentLayer);this._element.classList.toggle("backdrop-is-transparent",!!(r&&(r.backdrop||r.container)));let n=this._element.querySelectorAll(".MLK__layer.is-visible .MLK__keycap, .MLK__layer.is-visible .action, .fnbutton, .MLK__layer.is-visible .bigfnbutton, .MLK__layer.is-visible .shift");if(!n)return;let i=this.isShifted;for(let s of n){let o=this.getKeycap(s.id);if(o){let[a,l]=Dw(o,{shifted:i});s.innerHTML=globalThis.MathfieldElement.createHTML(a),s.className=l,i&&typeof o.shift=="object"&&(e=o.shift)!=null&&e.tooltip?s.dataset.tooltip=o.shift.tooltip:!i&&o.tooltip&&(s.dataset.tooltip=o.tooltip)}}}show(e){var r;if(this._visible)return;let n=this.container;if(n&&window.mathVirtualKeyboard&&this.stateWillChange(!0)){if(this._element||(this.buildAndAttachElement(),this.adjustBoundingRect()),!this._visible){let i=this._element.getElementsByClassName("MLK__plate")[0];if(i&&this.observer.observe(i),n===window.document.body){let s=n.style.paddingBottom;this.originalContainerBottomPadding=s;let o=i.offsetHeight-1;n.style.paddingBottom=s?`calc(${s} + ${o}px)`:`${o}px`}window.addEventListener("mouseup",this),window.addEventListener("blur",this),window.addEventListener("keydown",this,{capture:!0}),window.addEventListener("keyup",this,{capture:!0}),(r=this._element)==null||r.classList.toggle("is-caps-lock",this.shiftPressCount===2),this.currentLayer=this.latentLayer}this._visible=!0,e!=null&&e.animate?requestAnimationFrame(()=>{this._element&&(this._element.classList.add("animate"),this._element.addEventListener("transitionend",()=>{var i;return(i=this._element)==null?void 0:i.classList.remove("animate")},{once:!0}),this._element.classList.add("is-visible"),this.stateChanged())}):(this._element.classList.add("is-visible"),this.stateChanged())}}hide(e){var r;let n=this.container;if(n&&this._visible&&this.stateWillChange(!1)){if(this._visible=!1,this._element){this.latentLayer=this.currentLayer;let i=this._element.getElementsByClassName("MLK__plate")[0];i&&this.observer.unobserve(i),window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("keydown",this,{capture:!0}),window.removeEventListener("keyup",this,{capture:!0}),window.removeEventListener("contextmenu",this,{capture:!0}),ad(),LBe(),(r=this._element)==null||r.remove(),this._element=void 0,this.originalContainerBottomPadding!==null&&(n.style.paddingBottom=this.originalContainerBottomPadding)}this.stateChanged()}}get height(){var e,r;return(r=(e=this.element)==null?void 0:e.offsetHeight)!=null?r:0}buildAndAttachElement(){var e;this.element,this.element=OBe(this),window.addEventListener("contextmenu",this,{capture:!0}),this.element.addEventListener("contextmenu",r=>{r.shiftKey||((r.ctrlKey||r.button===2)&&$G(r.target),r.preventDefault(),r.stopPropagation())},{capture:!0}),(e=this.container)==null||e.appendChild(this.element)}handleEvent(e){if(FE(e)){if(!yE(e.origin,this.originValidator))throw new DOMException(`Message from unknown origin (${e.origin}) cannot be handled`,"SecurityError");e.data.action==="disconnect"?this.connectedMathfieldWindow=void 0:e.data.action!=="update-setting"&&e.data.action!=="proxy-created"&&e.data.action!=="execute-command"&&(e.source,this.connectedMathfieldWindow=e.source),this.handleMessage(e.data,e.source)}if(this._element)switch(e.type){case"mouseup":case"blur":document.body.style.userSelect="",this.shiftPressCount=0;break;case"contextmenu":e.button!==2&&e.preventDefault();break;case"keydown":{e.key==="Shift"&&!e.repeat&&(this.shiftPressCount=1);break}case"keyup":{(e.key==="Shift"||!e.getModifierState("Shift")&&this.shiftPressCount!==2)&&(this.shiftPressCount=0);break}}}handleMessage(e,r){let{action:n}=e;if(n==="execute-command"){let{command:i}=e,s=kd(i);if(window.top!==void 0&&s!=="virtual-keyboard")return;this.executeCommand(i);return}if((n==="connect"||n==="show")&&this.sendMessage("synchronize-proxy",{boundingRect:this.boundingRect,alphabeticLayout:this._alphabeticLayout,layouts:this._layouts,editToolbar:this._editToolbar},r),n!=="disconnect"&&window===window.top){if(n==="show"){typeof e.animate<"u"?this.show({animate:e.animate}):this.show();return}if(n==="hide"){typeof e.animate<"u"?this.hide({animate:e.animate}):this.hide();return}if(n==="update-setting"){if(e.alphabeticLayout&&(this.alphabeticLayout=e.alphabeticLayout),e.layouts&&(this.layouts=e.layouts),e.editToolbar&&(this.editToolbar=e.editToolbar),e.setKeycap){let{keycap:i,value:s}=e.setKeycap;this.setKeycap(i,s),this.render()}return}if(n==="proxy-created"){this.sendMessage("synchronize-proxy",{boundingRect:this.boundingRect,alphabeticLayout:this._alphabeticLayout,layouts:this._layouts,editToolbar:this._editToolbar},r);return}}}sendMessage(e,r,n){if(r.command&&this.dispatchEvent(new CustomEvent("math-virtual-keyboard-command",{detail:r.command})),n||(n=this.connectedMathfieldWindow),this.targetOrigin===null||this.targetOrigin==="null"||n===window){window.dispatchEvent(new MessageEvent("message",{source:window,data:D({type:Ib,action:e},r)}));return}if(n)n.postMessage(D({type:Ib,action:e},r),{targetOrigin:this.targetOrigin});else if(e==="execute-command"&&Array.isArray(r.command)&&r.command[0]==="insert"){let i=r.command[1].split("");for(let s of i)this.dispatchEvent(new KeyboardEvent("keydown",{key:s,bubbles:!0})),this.dispatchEvent(new KeyboardEvent("keyup",{key:s,bubbles:!0}))}}stateWillChange(e){return this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:e},bubbles:!0,cancelable:!0,composed:!0}))}stateChanged(){this.dispatchEvent(new Event("virtual-keyboard-toggle")),this._visible||(this.dispatchEvent(new Event("geometrychange")),this.sendMessage("geometry-changed",{boundingRect:this.boundingRect}))}focus(){this.sendMessage("focus",{})}blur(){this.sendMessage("blur",{})}updateToolbar(e){let r=this._element;if(!r)return;r.classList.toggle("is-math-mode",e.mode==="math"),r.classList.toggle("is-text-mode",e.mode==="text"),r.classList.toggle("can-undo",e.canUndo),r.classList.toggle("can-redo",e.canRedo),r.classList.toggle("can-copy",!e.selectionIsCollapsed),r.classList.toggle("can-copy",!e.selectionIsCollapsed),r.classList.toggle("can-paste",!0);let n=r.querySelectorAll(".ML__edit-toolbar");if(n)for(let i of n)i.innerHTML=FBe(this,e)}update(e){this._style=e.style,this.updateToolbar(e)}connect(){this.connectedMathfieldWindow=window}disconnect(){this.connectedMathfieldWindow=void 0}executeCommand(e){if(e=Hm(e),!e)return!1;let r,n=[],i=kd(e);return Dr(e)?(r=e[0],r==="performWithFeedback"&&(i=kd(e.slice(1))),n=e.slice(1)):r=e,i==="virtual-keyboard"?ro[r].fn(void 0,...n):(this.sendMessage("execute-command",{command:e}),!1)}dispose(){window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("message",this)}};function kN(){let t=jb(),e=null;for(;t;){if("host"in t&&t.host instanceof ql){e=t.host;break}t=t.parentNode}return e}if(Gi()&&!("mathVirtualKeyboard"in window))if(window===window.top){let t=lc.singleton;Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>t})}else Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>wBe.singleton,configurable:!0});function Ub(t){let e={};for(let r of Object.keys(t))switch(r){case"scriptDepth":let n=t.scriptDepth;if(Dr(n))e.scriptDepth=[n[0],n[1]];else if(typeof n=="number")e.scriptDepth=[n,n];else if(typeof n=="string"){let[s,o]=n.split(",").map(a=>parseInt(a.trim()));e.scriptDepth=[s,o]}else throw new TypeError("Unexpected value for scriptDepth");break;case"mathVirtualKeyboardPolicy":let i=t.mathVirtualKeyboardPolicy.toLowerCase();if(i==="sandboxed"){if(window!==window.top){let s=lc.singleton;Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>s})}i="manual"}e.mathVirtualKeyboardPolicy=i;break;case"letterShapeStyle":t.letterShapeStyle==="auto"?De.locale.startsWith("fr")?e.letterShapeStyle="french":e.letterShapeStyle="tex":e.letterShapeStyle=t.letterShapeStyle;break;case"defaultMode":["text","math","inline-math"].includes(t.defaultMode)?e.defaultMode=t.defaultMode:(console.error('MathLive 0.104.0:  valid values for defaultMode are "text", "math" or "inline-math"'),e.defaultMode="math");break;case"macros":e.macros=$6(t.macros);break;default:Dr(t[r])?e[r]=[...t[r]]:typeof t[r]=="object"&&!(t[r]instanceof Element)&&r!=="computeEngine"?e[r]=D({},t[r]):e[r]=t[r]}return e}function Vc(t,e){let r;typeof e=="string"?r=[e]:e===void 0?r=Object.keys(t):r=e;let n={};for(let i of r)t[i]===null?n[i]=null:Dr(t[i])?n[i]=[...t[i]]:typeof t[i]=="object"&&!(t[i]instanceof Element)&&i!=="computeEngine"?n[i]=D({},t[i]):n[i]=t[i];return typeof e=="string"?n[e]:n}function zv(){return{readOnly:!1,defaultMode:"math",macros:{},registers:{},colorMap:vw,backgroundColorMap:uE,letterShapeStyle:De.locale.startsWith("fr")?"french":"tex",minFontScale:0,maxMatrixCols:10,smartMode:!1,smartFence:!0,smartSuperscript:!0,scriptDepth:[1/0,1/0],removeExtraneousParentheses:!0,isImplicitFunction:t=>["\\sin","\\cos","\\tan","\\arcsin","\\arccos","\\arctan","\\arcsec","\\arccsc","\\arsinh","\\arcosh","\\artanh","\\arcsech","\\arccsch","\\arg","\\ch","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\sec","\\sinh","\\sh","\\tanh","\\tg","\\th","\\lg","\\lb","\\log","\\ln"].includes(t),mathModeSpace:"",placeholderSymbol:"",contentPlaceholder:"",popoverPolicy:"auto",environmentPopoverPolicy:"off",keybindings:N3e,inlineShortcuts:jW,inlineShortcutTimeout:0,mathVirtualKeyboardPolicy:"auto",virtualKeyboardTargetOrigin:window==null?void 0:window.origin,originValidator:"none",onInsertStyle:_E,onInlineShortcut:()=>"",onScrollIntoView:null,onExport:O3e,value:""}}function EN(t){return t.defaultMode==="inline-math"?"math":t.defaultMode}function QBe(t,e){let r=t.at(t.position);if(r.type==="composition")r.value=e;else{let{caret:n}=r;r.caret=void 0;let i=new ZW(e,{mode:r.mode});i.caret=n,r.parent.addChildAfter(i,r),t.position+=1}}function RBe(t){let e=t.at(t.position);e.type==="composition"&&(e.parent.removeChild(e),t.position-=1)}dE(["math","displaymath"],qn);dE("center",qn);wa(["multline","multline*"],"",qn);ee("displaylines","",{parse:t=>{if(t.skipWhitespace(),!t.match("<{>"))return[];let e=[],r=[];t.mathlist.length>0&&e.push([t.mathlist]),t.beginContext({tabular:!0,root:!0});do{if(t.end()||t.match("<}>"))break;t.matchColumnSeparator()||t.matchRowSeparator()?(e.push([r]),r=[]):r.push(...t.scan(i=>["<}>","&","\\cr","\\\\","\\tabularnewline"].includes(i)))}while(!0);t.endContext(),e.push([r]);let n=t.scan();return n.length>0&&e.push([n]),e},createAtom:t=>new Ne("lines",t.args,[],{leftDelim:".",rightDelim:".",columns:[{align:"l"}],classes:["ML__multiline_environment"],isRoot:!0,minColumns:1,maxColumns:1,minRows:1})});wa("split","",qn);wa(["gather","gather*","gathered"],"",qn);wa(["equation","equation*","subequations"],"",qn);dE(["align","align*","eqnarray"],qn,{tabular:!0});wa(["aligned"],"",qn);wa("array","{columns:colspec}",(t,e,r,n)=>new Ne(t,e,r,{columns:n[0],mathstyleName:"textstyle"}));wa(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],"[columns:colspec]",qn);wa(["smallmatrix","smallmatrix*"],"[columns:colspec]",qn);wa(["cases","dcases","rcases"],"",qn);function qn(t,e=[[[]]],r=[],n=[],i){switch(t){case"math":return new Ne(t,e,r,{mathstyleName:"textstyle",isRoot:!0,minColumns:1,maxColumns:1,minRows:1,maxRows:1});case"displaymath":return new Ne(t,e,r,{mathstyleName:"textstyle",isRoot:!0,minColumns:1,maxColumns:1,minRows:1,maxRows:1});case"center":return new Ne(t,e,r,{columns:[{align:"c"}],classes:["ML__center_environment"],isRoot:!0,minColumns:1,maxColumns:1,minRows:1,maxRows:1});case"multline":case"multline*":return new Ne(t,e,r,{columns:[{align:"m"}],leftDelim:".",rightDelim:".",isRoot:!0,minColumns:1,maxColumns:1,minRows:1});case"split":return new Ne(t,e,r,{columns:[{align:"r"},{align:"l"}],minColumns:2,minRows:1,isRoot:!1});case"gather":case"gather*":return new Ne(t,e,r,{columns:[{gap:.25},{align:"c"},{gap:0}],minColumns:1,maxColumns:1,minRows:1,isRoot:!0,classes:["ML__gather_environment"]});case"gathered":return new Ne(t,e,r,{columns:[{gap:.25},{align:"c"},{gap:0}],minColumns:1,maxColumns:1,minRows:1});case"equation":case"equation*":case"subequations":return new Ne(t,e,r,{columns:[{align:"c"}],isRoot:!0,minColumns:1,maxColumns:1,minRows:1});case"aligned":{let s=0;for(let l of e)s=Math.max(s,l.length);let o=[{gap:0},{align:"r"},{gap:.25},{align:"l"}],a=2;for(;a<s;)o.push({gap:1},{align:"r"},{gap:.25},{align:"l"}),a+=2;return o.push({gap:0}),new Ne(t,e,r,{arraycolsep:0,columns:o,minColumns:2,minRows:1,isRoot:t!=="aligned"})}case"eqnarray":return new Ne(t,e,r,{arraycolsep:0,columns:[{gap:0},{align:"r"},{align:"c"},{align:"l"}],minColumns:3,maxColumns:3,minRows:1,isRoot:!0,classes:["ML__eqnarray_environment"]});case"align":case"align*":return new Ne(t,e,r,{arraycolsep:0,columns:[{gap:0},{align:"r"},{gap:.25},{align:"l"}],minColumns:2,maxColumns:2,minRows:1,isRoot:!0,classes:["ML__align_environment"]});case"pmatrix":case"pmatrix*":return new Ne(t,e,r,{mathstyleName:"textstyle",leftDelim:"(",rightDelim:")",columns:Cc(n[0],i)});case"bmatrix":case"bmatrix*":return new Ne(t,e,r,{mathstyleName:"textstyle",leftDelim:"[",rightDelim:"]",columns:Cc(n[0],i)});case"Bmatrix":case"Bmatrix*":return new Ne(t,e,r,{mathstyleName:"textstyle",leftDelim:"\\lbrace",rightDelim:"\\rbrace",columns:Cc(n[0],i)});case"vmatrix":case"vmatrix*":return new Ne(t,e,r,{mathstyleName:"textstyle",leftDelim:"\\vert",rightDelim:"\\vert",columns:Cc(n[0],i)});case"Vmatrix":case"Vmatrix*":return new Ne(t,e,r,{mathstyleName:"textstyle",leftDelim:"\\Vert",rightDelim:"\\Vert",columns:Cc(n[0],i)});case"matrix":case"matrix*":return new Ne(t,e,r,{mathstyleName:"textstyle",leftDelim:".",rightDelim:".",columns:Cc(n==null?void 0:n[0],i)});case"smallmatrix":case"smallmatrix*":return new Ne(t,e,r,{mathstyleName:"scriptstyle",columns:Cc(n==null?void 0:n[0],i),colSeparationType:"small",arraystretch:.5});case"cases":case"dcases":return new Ne(t,e,r,{mathstyleName:t==="dcases"?"displaystyle":"textstyle",arraystretch:1.2,leftDelim:"\\lbrace",rightDelim:".",columns:[{align:"l"},{gap:1},{align:"l"}]});case"rcases":return new Ne(t,e,r,{arraystretch:1.2,leftDelim:".",rightDelim:"\\rbrace",columns:[{align:"l"},{gap:1},{align:"l"}]});case"lines":return new Ne(t,e,r,{leftDelim:".",rightDelim:".",columns:[{align:"l"}],isRoot:!0,minColumns:1,maxColumns:1,minRows:1})}return new Ne(t,e,r,{mathstyleName:"textstyle"})}function Cc(t,e=10){return t??Array(e).fill({align:"c"})}function HBe(t){let e=t.at(t.position);for(;e&&!ha(e.parentBranch);)e=e.parent;return[e.firstSibling,e.lastSibling]}function $Be(t,e){let r=t.at(t.position);for(;r&&!(r.parent instanceof Ne);)r=r.parent;if(r&&r.type==="array"&&r.environmentName,!r||!(r.parent instanceof Ne)){let n=t.at(t.position);if(r=n,!r.parent.parent){let i=t.extractAtoms([t.position,t.lastOffset]),s=t.extractAtoms([0,t.position]),o;return e.endsWith("column")?(s.length===0&&(s=Y1()),i.length===0&&(i=Y1()),o=qn("split",[[s,i]]),t.root=o,yf(o,0,0)?vA(t,o,0,0):yf(o,0,1)?vA(t,o,0,1):t.position=t.offsetOf(n)):(o=qn("lines",[[s],[i]]),t.root=o,vA(t,o,1,0)),[void 0,[0,0]]}if(r.parent instanceof Et){let i=r.parent,s=t.extractAtoms([t.position,t.offsetOf(i.lastChild)]),o=t.extractAtoms([t.offsetOf(i.firstChild),t.position]);o.length===0&&(o=Y1()),s.length===0&&(s=Y1());let a="pmatrix",l=i.leftDelim,c=i.rightDelim;l==="("&&(c===")"||c==="?")?a="pmatrix":(l==="["||l==="\\lbrack")&&(c==="]"||c==="\\rbrack"||c==="?")?a="bmatrix":l==="\\vert"&&c==="\\vert"?a="vmatrix":l==="\\Vert"&&c==="\\Vert"?a="Vmatrix":(l==="{"||l==="\\lbrace")&&(c==="."||c==="?")&&(a="cases");let u=qn(a,e.endsWith("column")?[[o,s]]:[[o],[s]]);return i.parent.addChildBefore(u,i),i.parent.removeChild(i),yf(u,0,0)?vA(t,u,0,0):e.endsWith("column")?yf(u,0,1)?vA(t,u,0,1):t.position=t.offsetOf(r):yf(u,1,0)?vA(t,u,1,0):t.position=t.offsetOf(r),[void 0,[0,0]]}}return r&&r.parent instanceof Ne?[r.parent,r.parentBranch]:[void 0,[0,0]]}function yf(t,e,r){let n=t.getCell(e,r);return!n||n.length!==2?!1:n[1].type==="placeholder"}function VBe(t,e,r,n){let i=e.getCell(r,n);return i?[t.offsetOf(i[0]),t.offsetOf(i[i.length-1])]:-1}function vA(t,e,r,n){let i=VBe(t,e,r,n);typeof i!="number"&&t.setSelection(i)}function X1(t,e,r,n,i){let s=e.getCell(r,n);s&&t.setPositionHandlingPlaceholder(t.offsetOf(s[i==="start"?0:s.length-1]))}function $m(t,e){let[r,[n,i]]=$Be(t,e);if(r)switch(e){case"after row":r.addRowAfter(n),X1(t,r,n+1,0,"end");break;case"after column":if(r.maxColumns<=r.colCount){t.announce("plonk");return}r.addColumnAfter(i),X1(t,r,n,i+1,"end");break;case"before row":r.addRowBefore(n),X1(t,r,n,0,"start");break;case"before column":if(r.maxColumns<=r.colCount){t.announce("plonk");return}r.addColumnBefore(i),X1(t,r,n,i,"start");break}}function zG(t){var e;let r=t.at(t.position);if(!ha(r.parentBranch)&&r.parent!==t.root&&t.root.type!=="root")return t.announce("plonk"),!1;if(!t.contentWillChange({inputType:"insertText"}))return!1;if((e=t.parentEnvironment)!=null&&e.isMultiline){t.selectionIsCollapsed||t.deleteAtoms(Kr(t.selection));let[n,i]=HBe(t),s=t.extractAtoms([t.position,t.offsetOf(i)]),o=t.extractAtoms([t.offsetOf(n),t.position]),a=n.parent,[l,c]=n.parentBranch;return a.setCell(l,c,o),$m(t,"after row"),a.setCell(l+1,c,s),t.position=t.offsetOf(a.getCell(l+1,c)[0]),t.contentDidChange({inputType:"insertText"}),!0}return $m(t,"after row"),t.contentDidChange({inputType:"insertText"}),!0}function KBe(t){return t.contentWillChange({inputType:"insertText"})?($m(t,"before row"),t.contentDidChange({inputType:"insertText"}),!0):!1}function WG(t){return t.contentWillChange({inputType:"insertText"})?($m(t,"after column"),t.contentDidChange({inputType:"insertText"}),!0):!1}function zBe(t){return t.contentWillChange({inputType:"insertText"})?($m(t,"before column"),t.contentDidChange({inputType:"insertText"}),!0):!1}function GG(t,e){if(!t.contentWillChange({}))return!1;t.mathfield.snapshot();let r=".",n=".";switch(e){case"pmatrix":case"pmatrix*":r="(",n=")";break;case"bmatrix":case"bmatrix*":r="[",n="]";break;case"Bmatrix":case"Bmatrix*":r="\\lbrace",n="\\rbrace";break;case"vmatrix":case"vmatrix*":r="\\vert",n="\\vert";break;case"Vmatrix":case"Vmatrix*":r="\\Vert",n="\\Vert";break;case"matrix":case"matrix*":r=".",n=".";break;case"cases":case"dcases":r="\\lbrace";break;case"rcases":n="\\rbrace";break}let i=t.at(t.position),s=i.type==="array"?i:t.parentEnvironment;return s.environmentName=e,s.leftDelim=r,s.rightDelim=n,t.contentDidChange({}),!0}function qG(t,e){let r=t.at(t.position);for(;r&&!(Array.isArray(r.parentBranch)&&r.parent instanceof Ne);)r=r.parent;if(Array.isArray(r==null?void 0:r.parentBranch)&&(r==null?void 0:r.parent)instanceof Ne){let n=r.parent,i=r.parentBranch,s;switch(e){case"row":if(n.rowCount>1){n.removeRow(i[0]);let o=n.getCell(Math.max(0,i[0]-1),i[1]);s=t.offsetOf(o[o.length-1])}break;case"column":if(n.colCount>n.minColumns){n.removeColumn(i[1]);let o=n.getCell(i[0],Math.max(0,i[1]-1));s=t.offsetOf(o[o.length-1])}break}s&&t.setPositionHandlingPlaceholder(s)}}function WBe(t){return t.contentWillChange({inputType:"deleteContent"})?(qG(t,"row"),t.contentDidChange({inputType:"deleteContent"}),!0):!1}function GBe(t){return t.contentWillChange({inputType:"deleteContent"})?(qG(t,"column"),t.contentDidChange({inputType:"deleteContent"}),!0):!1}En({addRowAfter:zG,addColumnAfter:WG,addRowBefore:KBe,addColumnBefore:zBe,removeRow:WBe,removeColumn:GBe,setEnvironment:GG},{target:"model",canUndo:!0,changeContent:!0,changeSelection:!0});function Y1(){return[new mo]}var XG=class YG{constructor(e){this.recording=!1,this.model=e,this.reset()}reset(){this.stack=[],this.index=-1,this.lastOp=""}startRecording(){this.recording=!0}stopRecording(){this.recording=!1}canUndo(){return this.index-1>=0}canRedo(){return this.stack.length-1>this.index}stopCoalescing(e){e&&this.index>=0&&(this.stack[this.index].selection=e),this.lastOp=""}undo(){return this.canUndo()?(this.model.setState(this.stack[this.index-1],{silenceNotifications:!1,type:"undo"}),this.index-=1,this.lastOp="",!0):!1}redo(){return this.canRedo()?(this.index+=1,this.model.setState(this.stack[this.index],{silenceNotifications:!1,type:"redo"}),this.lastOp="",!0):!1}pop(){this.canUndo()&&(this.stack.splice(this.index,this.stack.length-this.index),this.index-=1)}snapshot(e){return this.recording?(e&&e===this.lastOp&&this.pop(),this.stack.splice(this.index+1,this.stack.length-this.index-1),this.stack.push(this.model.getState()),this.index+=1,this.stack.length>YG.maximumDepth&&(this.stack.shift(),this.index-=1),this.lastOp=e??"",!0):!1}};XG.maximumDepth=1e3;var qBe=XG;function a_(t,e,r){if(t.at(e).mode!=="text")return e;let n=r==="backward"?-1:1,i;if(Um.test(t.at(e).value)){let s=e,o;do o=t.at(s).mode==="text"&&Um.test(t.at(s).value),s+=n;while(t.at(s)&&o);i=t.at(s)?s-2*n:s-n}else if(/\s/.test(t.at(e).value)){let s=e;for(;t.at(s)&&t.at(s).mode==="text"&&/\s/.test(t.at(s).value);)s+=n;if(!t.at(s))i=s-n;else{let o=!0;do o=t.at(s).mode==="text"&&!/\s/.test(t.at(s).value),s+=n;while(t.at(s)&&o);i=t.at(s)?s-2*n:s-n}}else{let s=e;for(;t.at(s)&&t.at(s).mode==="text"&&!/\s/.test(t.at(s).value);)s+=n;i=t.at(s)?s:s-n;let o=!0;for(;t.at(s)&&o;)o=t.at(s).mode==="text"&&/\s/.test(t.at(s).value),o&&(i=s),s+=n;i=t.at(s)?s-2*n:s-n}return i-(n>0?0:1)}function cd(t,e,r){var n,i,s,o,a,l,c;let u=t.position;(n=r==null?void 0:r.extend)!=null&&n||t.collapseSelection(e);let A=t.at(t.position);if(e==="forward"&&(A.type==="subsup"?(A=A.rightSibling,A||(A=t.at(t.position+1))):A=t.at(t.position+1)),!A)return t.announce("plonk"),!1;let h=t.offsetOf(A);if(A instanceof Bh)h=a_(t,h,e);else if(A instanceof mr)if(A.isSuggestion)for(;A&&A instanceof mr;)A.isSuggestion=!1,h=t.offsetOf(A),A=A.rightSibling;else if(e==="forward"){if(A=A.rightSibling,!A||!(A instanceof mr))return t.announce("plonk"),!1;for(;A&&A instanceof mr&&/[a-zA-Z\*]/.test(A.value);)h=t.offsetOf(A),A=A.rightSibling}else{if(A=A.leftSibling,!A||!(A instanceof mr))return t.announce("plonk"),!1;for(;A&&A instanceof mr&&/[a-zA-Z\*]/.test(A.value);)h=t.offsetOf(A),A=A.leftSibling}else if(e==="forward"&&A.type==="mopen"){let f=0;do A.type==="mopen"?f+=1:A.type==="mclose"&&(f-=1),A=A.rightSibling;while(!A.isLastSibling&&f!==0);h=t.offsetOf(A.leftSibling)}else if(e==="backward"&&A.type==="mclose"){let f=0;do A.type==="mopen"?f+=1:A.type==="mclose"&&(f-=1),A=A.leftSibling;while(!A.isFirstSibling&&f!==0);h=t.offsetOf(A)}else if(e==="backward")if(A.type==="first")for(;h>0&&A.type==="first";)h-=1,A=t.at(h);else{let f=A.type;A.type==="subsup"&&(h=t.offsetOf(t.at(h).leftSibling)),h-=1;let p=(i=t.at(h))==null?void 0:i.type;for(;h>=0&&p===f;)((s=t.at(h))==null?void 0:s.type)==="subsup"?h=t.offsetOf(t.at(h).leftSibling):h-=1,p=t.at(h).type}else{let{type:f}=A,p=(o=t.at(h))==null?void 0:o.type,{lastOffset:m}=t;for(;h<=m&&(p===f||p==="subsup");){for(;((a=t.at(h).rightSibling)==null?void 0:a.type)==="subsup";)h=t.offsetOf(t.at(h).rightSibling);h+=1,p=(l=t.at(h))==null?void 0:l.type}h-=1}if((c=r==null?void 0:r.extend)!=null&&c){if(!t.setSelection(t.anchor,h))return t.announce("plonk"),!1}else{if(h===t.position)return t.announce("plonk"),!1;t.position=h}return t.announce("move",u),t.mathfield.stopCoalescingUndo(),!0}function no(t,e,r){var n,i;if(r=r??{extend:!1},t.mathfield.styleBias=e==="backward"?"right":"left",e!=="forward"){let[a,l]=IG(t);a!==void 0&&l!==void 0&&t.deleteAtoms([a,l])}if(e==="upward")return YBe(t,r);if(e==="downward")return JBe(t,r);if(r.extend){let a=Wv(t,t.position,e);a<0&&(a=0),a>t.lastOffset&&(a=t.lastOffset);let l=t.setSelection(t.anchor,a);return t.mathfield.stopCoalescingUndo(),l}if(t.selectionIsPlaceholder){t.collapseSelection(e);let a=no(t,e);return t.mathfield.stopCoalescingUndo(),a}let s=t.position,o=s;if(t.collapseSelection(e)?(s=t.position,JG(t,s)||(s=Wv(t,s,e))):s=Wv(t,s,e),s<0||s>t.lastOffset){let a=!0;return t.silenceNotifications||(a=(i=(n=t.mathfield.host)==null?void 0:n.dispatchEvent(new CustomEvent("move-out",{detail:{direction:e},cancelable:!0,bubbles:!0,composed:!0})))!=null?i:!0),a&&t.announce("plonk"),a}return t.setPositionHandlingPlaceholder(s),t.mathfield.stopCoalescingUndo(),t.announce("move",o),!0}function Wv(t,e,r){return e=e+(r==="forward"?1:-1),e<0||e>t.lastOffset||JG(t,e)?e:Wv(t,e,r)}function JG(t,e){var r;let n=t.at(e),i=n.parent;for(;i&&!i.inCaptureSelection;)i=i.parent;return!(i!=null&&i.inCaptureSelection||(r=n.parent)!=null&&r.skipBoundary&&(!n.isFirstSibling&&n.isLastSibling||n.type==="first")||t.mathfield.hasEditablePrompts&&!n.parentPrompt)}function XBe(t,e,r){let n=1/0,i=0;for(;i<e.length;i++){let s=e[i],o=t.getHTMLElement(s);if(!o)continue;let a=QW(o).right,l=Math.abs(r-a);if(l<=n)n=l;else break}return e[i-1]}function Pb(t,e,r,n,i){let s=t.mathfield.hasEditablePrompts,o=s?r.filter(c=>c.type==="prompt"&&!c.captureSelection):r,a=QW(t.mathfield.getHTMLElement(e)).right,l=t.offsetOf(XBe(t.mathfield,o,a))-(s?1:0);if(n){let[c,u]=t.selection.ranges[0],A;l<(i==="up"?c:u)?A={ranges:[[l,u]],direction:"backward"}:A={ranges:[[c,l]],direction:"forward"},t.setSelection(A)}else t.setPositionHandlingPlaceholder(l);t.announce(`move ${i}`)}function YBe(t,e){var r,n;let i=(r=e==null?void 0:e.extend)!=null?r:!1;i||t.collapseSelection("backward");let s=()=>{var l,c;let u=!0;return t.silenceNotifications||(u=(c=(l=t.mathfield.host)==null?void 0:l.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"upward"},cancelable:!0,bubbles:!0,composed:!0})))!=null?c:!0),t.announce(u?"line":"plonk"),u},o=t.at(t.position),a=o;for(;a&&a.parentBranch!=="below"&&!(Array.isArray(a.parentBranch)&&a.parent instanceof Ne);)a=a.parent;if(Array.isArray(a==null?void 0:a.parentBranch)&&a.parent instanceof Ne){let l=a.parent;if(a.parentBranch[0]<1)return s();let c=a.parentBranch[0]-1,u=l.getCell(c,a.parentBranch[1]);if(!u.some(A=>A.type==="prompt"&&!A.captureSelection)&&t.mathfield.hasEditablePrompts)return s();Pb(t,o,u,i,"up")}else if(a){let l=(n=a.parent.branch("above"))!=null?n:a.parent.createBranch("above");if(!l.some(c=>c.type==="prompt"&&c.placeholderId)&&t.mathfield.hasEditablePrompts)return s();Pb(t,o,l,i,"up")}else return s();return t.mathfield.stopCoalescingUndo(),!0}function JBe(t,e){var r,n;let i=(r=e==null?void 0:e.extend)!=null?r:!1;i||t.collapseSelection("forward");let s=()=>{var l,c;let u=!0;return t.silenceNotifications||(u=(c=(l=t.mathfield.host)==null?void 0:l.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"downward"},cancelable:!0,bubbles:!0,composed:!0})))!=null?c:!0),t.announce(u?"line":"plonk"),u},o=t.at(t.position),a=o;for(;a&&a.parentBranch!=="above"&&!(ha(a.parentBranch)&&a.parent instanceof Ne);)a=a.parent;if(ha(a==null?void 0:a.parentBranch)&&a.parent instanceof Ne){let l=a.parent;if(a.parentBranch[0]+1>l.rows.length-1)return s();let c=a.parentBranch[0]+1,u=l.getCell(c,a.parentBranch[1]);if(!u.some(A=>A.type==="prompt"&&!A.captureSelection)&&t.mathfield.hasEditablePrompts)return s();Pb(t,o,u,i,"down")}else if(a){let l=(n=a.parent.branch("below"))!=null?n:a.parent.createBranch("below");if(!l.some(c=>c.type==="prompt")&&t.mathfield.hasEditablePrompts)return s();Pb(t,o,l,i,"down")}else return s();return!0}function ZG(t){let e=t.position,r=t.at(e).parent;return r!=null&&r.parent?(t.position=t.offsetOf(r),t.mathfield.stopCoalescingUndo(),t.announce("move",e),!0):(t.announce("plonk"),!1)}function ZBe(t){let e=0,r=t.at(t.position),n=!1;for(;r;)(!r.hasEmptyBranch("superscript")||!r.hasEmptyBranch("subscript"))&&(e+=1),r.hasEmptyBranch("superscript")?r.hasEmptyBranch("subscript")||(n=!1):n=!0,r=r.parent;return n?e:0}function e5e(t){let e=0,r=t.at(t.position),n=!1;for(;r;)(!r.hasEmptyBranch("superscript")||!r.hasEmptyBranch("subscript"))&&(e+=1),r.hasEmptyBranch("superscript")?r.hasEmptyBranch("subscript")||(n=!0):n=!1,r=r.parent;return n?e:0}function FN(t){var e;if(t.collapseSelection(),ZBe(t)>=t.mathfield.options.scriptDepth[1])return t.announce("plonk"),!1;let r=t.at(t.position);return r.subsupPlacement===void 0&&(((e=r.rightSibling)==null?void 0:e.type)!=="subsup"&&r.parent.addChildAfter(new Sw({style:r.style}),r),r=r.rightSibling),r.createBranch("superscript"),t.setSelection(t.getSiblingsRange(t.offsetOf(r.superscript[0]))),!0}function MN(t){var e;if(t.collapseSelection(),e5e(t)>=t.mathfield.options.scriptDepth[0])return t.announce("plonk"),!1;let r=t.at(t.position);return r.subsupPlacement===void 0&&(((e=t.at(t.position+1))==null?void 0:e.type)!=="subsup"&&r.parent.addChildAfter(new Sw({style:t.at(t.position).style}),r),r=t.at(t.position+1)),r.createBranch("subscript"),t.setSelection(t.getSiblingsRange(t.offsetOf(r.subscript[0]))),!0}function t5e(){function t(l){let c=[],u=[];return[...l.querySelectorAll(`input, select, textarea, a[href], button,
        [tabindex], audio[controls], video[controls],
        [contenteditable]:not([contenteditable="false"]), details>summary`)].filter(e).forEach((A,h)=>{let f=n(A);f===0?c.push(A):u.push({documentOrder:h,tabIndex:f,node:A})}),u.sort((A,h)=>A.tabIndex===h.tabIndex?A.documentOrder-h.documentOrder:A.tabIndex-h.tabIndex).map(A=>A.node).concat(c)}function e(l){return!(!r(l)||i(l)||n(l)<0)}function r(l){return!(l.disabled||l.type==="hidden"&&l.tagName.toUpperCase()==="INPUT"||a(l))}function n(l){var c;let u=Number.parseInt((c=l.getAttribute("tabindex"))!=null?c:"NaN",10);return Number.isNaN(u)?l.contentEditable==="true"||(l.nodeName==="AUDIO"||l.nodeName==="VIDEO")&&l.getAttribute("tabindex")===null?0:l.tabIndex:u}function i(l){return l.tagName.toUpperCase()==="INPUT"&&l.type==="radio"&&!o(l)}function s(l,c){for(let u of l)if(u.checked&&u.form===c)return u;return null}function o(l){var c;if(!l.name)return!0;let u=((c=l.form)!=null?c:l.ownerDocument).querySelectorAll('input[type="radio"][name="'+l.name+'"]'),A=s(u,l.form);return!A||A===l}function a(l){if(!Gi()||l===document.activeElement||l.contains(document.activeElement))return!1;if(getComputedStyle(l).visibility==="hidden")return!0;let c=l.getBoundingClientRect();if(c.width===0||c.height===0)return!0;for(;l;){if(getComputedStyle(l).display==="none")return!0;l=l.parentElement}return!1}return Gi()?t(document.body):[]}function en(t,e,r="forward"){let n=t.position;if(Dr(e)){let i=t.offsetOf(e[0]),s=t.offsetOf(e[e.length-1]);return r==="forward"?t.setSelection(i,s):t.setSelection(s,i),t.announce("move",n),t.mathfield.stopCoalescingUndo(),!0}return r==="forward"?en(t,[e.leftSibling,e]):en(t,[e,e.leftSibling])}function rs(t,e){let r=t.position;if(typeof e=="number"&&(e=t.at(e)),e.type==="prompt")t.setSelection(t.offsetOf(e.firstChild),t.offsetOf(e.lastChild));else{let n=t.offsetOf(e);e.type==="placeholder"?t.setSelection(n-1,n):t.position=n}return t.announce("move",r),t.mathfield.stopCoalescingUndo(),!0}function ud(t,e){var r,n;let i=e==="forward"?1:-1;t.at(t.anchor).type==="placeholder"&&no(t,e);let s,o=t.at(t.anchor).parentPrompt;o?e==="forward"?s=t.offsetOf(o)+1:s=t.offsetOf(o.leftSibling):s=Math.max(t.position+i,0);let a=l_(t,s,e);if(!a||e==="forward"&&t.offsetOf(a)<s||e==="backward"&&t.offsetOf(a)>s){if(!((n=(r=t.mathfield.host)==null?void 0:r.dispatchEvent(new CustomEvent("move-out",{detail:{direction:e},cancelable:!0,bubbles:!0,composed:!0})))==null||n))return t.announce("plonk"),!1;let l=t5e();if(!document.activeElement||l.length<=1)return t.announce("plonk"),!1;let c=l.indexOf(document.activeElement)+i;return c<0&&(c=l.length-1),c>=l.length&&(c=0),l[c].focus(),t.mathfield.stopCoalescingUndo(),!0}return rs(t,a),!0}function l_(t,e=0,r="forward"){return t.findAtom(n=>n.type==="placeholder"||n.type==="prompt"||!t.mathfield.readOnly&&n.treeDepth>2&&n.isFirstSibling&&n.isLastSibling,e,r)}En({moveToOpposite:t=>{let e={superscript:"subscript",subscript:"superscript",above:"below",below:"above"},r=t.at(t.position),{parent:n}=r;if(!n)return t.announce("plonk"),!1;let i=r.parentBranch,s;if(typeof i=="string"&&(s=e[i]),!s){let a=r.subsupPlacement?MN(t):FN(t);return t.mathfield.stopCoalescingUndo(),a}n.branch(s)||n.createBranch(s);let o=t.setSelection(t.getBranchRange(t.offsetOf(n),s));return t.mathfield.stopCoalescingUndo(),o},moveBeforeParent:t=>{let{parent:e}=t.at(t.position);return e?(t.position=t.offsetOf(e),t.mathfield.stopCoalescingUndo(),!0):(t.announce("plonk"),!1)},moveAfterParent:t=>ZG(t),moveToNextChar:t=>no(t,"forward"),moveToPreviousChar:t=>no(t,"backward"),moveUp:t=>no(t,"upward"),moveDown:t=>no(t,"downward"),moveToNextWord:t=>cd(t,"forward"),moveToPreviousWord:t=>cd(t,"backward"),moveToGroupStart:t=>{let e=t.offsetOf(t.at(t.position).firstSibling);return e===t.position?(t.announce("plonk"),!1):(t.position=e,t.mathfield.stopCoalescingUndo(),!0)},moveToGroupEnd:t=>{let e=t.offsetOf(t.at(t.position).lastSibling);return e===t.position?(t.announce("plonk"),!1):(t.position=e,t.mathfield.stopCoalescingUndo(),!0)},moveToNextGroup:t=>{var e,r,n,i;if(t.position===t.lastOffset&&t.anchor===t.lastOffset)return ud(t,"forward");let s=t.at(t.position);if(s.mode==="text"){if(t.selectionIsCollapsed){let A=s;for(;A&&A.mode==="text";)A=A.leftSibling;let h=s;for(;((e=h.rightSibling)==null?void 0:e.mode)==="text";)h=h.rightSibling;if(A&&h)return en(t,[A,h])}if(s.rightSibling.mode==="text"){let A=s;for(;A&&A.mode==="text";)A=A.rightSibling;return A?(rs(t,(r=A.leftSibling)!=null?r:A),t.mathfield.switchMode("math"),!0):rs(t,t.lastOffset)}}let o=t.at(t.anchor).parentPrompt,a=o?t.offsetOf(o)+1:Math.max(t.position+1,0),l=l_(t,a,"forward");if(l&&t.offsetOf(l)<a)return ud(t,"forward");if(l)return rs(t,l);let c=TN(t,s,A=>A.type==="leftright"||A.type==="text","forward");if(c){if(c.mode==="text"){let A=c;for(;A&&A.mode==="text";)A=A.rightSibling;return en(t,[(n=c.leftSibling)!=null?n:c,(i=A.leftSibling)!=null?i:A])}return en(t,c)}let u=s.parent;if(u){if(u.type==="leftright"||u.type==="surd")return en(t,u);if(s.parentBranch==="superscript"&&u.subscript)return en(t,u.subscript);if(s.parentBranch==="above"&&u.below)return en(t,u.below);if(s.parentBranch==="superscript"||s.parentBranch==="subscript")return rs(t,u);if(s.parentBranch==="above"||s.parentBranch==="below")return en(t,u)}return rs(t,t.lastOffset)},moveToPreviousGroup:t=>{var e;if(t.position===0&&t.anchor===0)return ud(t,"backward");let r=t.at(t.position),n=r.mode;if(n==="text"){if(t.selectionIsCollapsed){let a=r;for(;a&&a.mode==="text";)a=a.leftSibling;let l=r;for(;((e=l.rightSibling)==null?void 0:e.mode)==="text";)l=l.rightSibling;if(a&&l)return en(t,[a,l])}for(;r&&r.mode==="text";)r=r.leftSibling;return r?rs(t,r):rs(t,0)}let i=t.at(t.anchor).parentPrompt,s=i?t.offsetOf(i.leftSibling):Math.max(t.position-1,0),o=l_(t,s,"backward");if(o&&t.offsetOf(o)>s)return ud(t,"backward");if(o)return rs(t,o);if(n==="math"){let a=TN(t,r,c=>c.type==="leftright"||c.type==="text","backward");if(a){if(a.mode==="text"){let c=a;for(;c&&c.mode==="text";)c=c.leftSibling;return en(t,[a,c])}return en(t,a)}let l=r.parent;if(l){if(l.type==="leftright"||l.type==="surd")return en(t,l);if(r.parentBranch==="subscript"&&l.superscript)return en(t,l.superscript);if(r.parentBranch==="below"&&l.above)return en(t,l.above);if(r.parentBranch==="superscript"||r.parentBranch==="subscript")return rs(t,l);if(r.parentBranch==="above"||r.parentBranch==="below")return en(t,l)}return rs(t,0)}return!1},moveToMathfieldStart:t=>t.selectionIsCollapsed&&t.position===0?(t.announce("plonk"),!1):(t.position=0,t.mathfield.stopCoalescingUndo(),!0),moveToMathfieldEnd:t=>t.selectionIsCollapsed&&t.position===t.lastOffset?(t.announce("plonk"),!1):(t.position=t.lastOffset,t.mathfield.stopCoalescingUndo(),!0),moveToSuperscript:FN,moveToSubscript:MN},{target:"model",changeSelection:!0});En({moveToNextPlaceholder:t=>ud(t,"forward"),moveToPreviousPlaceholder:t=>ud(t,"backward")},{target:"model",changeSelection:!0,audioFeedback:"return"});function TN(t,e,r,n){if(n==="forward"){let s=e.rightSibling;for(;s&&!r(s);)s=s.rightSibling;return s}let i=e.leftSibling;for(;i&&!r(i);)i=i.leftSibling;return i}function J1(t,e,r){typeof e=="function"&&(r=e,e=1/0),e===void 0&&(e=1/0);let n=t.position,i=!1,s="";for(;!i;){let o=t.at(n);i=e===0||o===void 0||o.type==="first"||o.mode!=="math"||!(o.type&&/mord|mpunct|operator/.test(o.type)||o.type==="mop"&&/[a-zA-Z ]+/.test(o.value))||!o.hasEmptyBranch("superscript")||!o.hasEmptyBranch("subscript")||typeof r=="function"&&!r(o),i||(o.mode="text",o.command=o.value,o.verbatimLatex=void 0,s+=o.value),n-=1,e-=1}t.contentDidChange({data:s,inputType:"insertText"})}function vf(t,e,r){typeof e=="function"&&(r=e,e=1/0),e===void 0&&(e=1/0);let n=t.position,i=!1,s=[];for(;!i;){let o=t.at(n);i=e===0||!o||o.type==="first"||o.isFirstSibling||o.mode!=="text"||o.value===" "||typeof r=="function"&&!r(o),i||(s.push(X.serialize([o],{defaultMode:"math"})),o.mode="math"),n-=1,e-=1}TE(t),t.contentDidChange({data:Le(s),inputType:"insertText"})}function TE(t){var e;let r=t.position-1;for(;r>=0&&((e=t.at(r))==null?void 0:e.mode)==="math";)r-=1;if(!(r<0)&&t.at(r).mode==="text"&&t.at(r).value===" "&&t.at(r-1).mode==="math"){t.at(r-1).parent.removeChild(t.at(r-1));let n=t.silenceNotifications;t.silenceNotifications=!0,t.position-=1,t.silenceNotifications=n,t.contentDidChange({inputType:"deleteContent"})}}function r5e(t){let e="",r=t.position,n=!1;for(;!n;){let i=t.at(r);n=!(i&&(i.mode==="text"||i.mode==="math"&&i.type&&/mord|mpunct/.test(i.type))),n||(e=i.value+e),r-=1}return e}function n5e(t,e,r){let{model:n}=t;if(n.mode==="latex"||!n.at(n.position).isLastSibling||!r||!Ew(r))return!1;let i=DA(r);if(!n.selectionIsCollapsed)return!!(t.model.mode==="text"&&/[/_^]/.test(i));let s=r5e(n)+i;if(t.model.mode==="text"){if(e==="Esc"||/[/\\]/.test(i))return!0;if(/[\^_]/.test(i))return/(^|\s)[a-zA-Z][^_]$/.test(s)&&vf(n,1),!0;let o={")":"(","}":"{","]":"["}[i],{parent:a}=n.at(n.position);if(o&&a instanceof Et&&a.leftDelim===o)return!0;if(/(^|[^a-zA-Z])(a|I) $/.test(s))return!1;if(/[$]/u.test(i))return!0;if(/(^|[^a-zA-Z'])[a-zA-Z] $/.test(s))return vf(n,1),!1;if(/\D\.[^\d\s]$/.test(s)){vf(n,1);let l=n.at(n.position);return l.value="",l.style.variant="normal",l.command="\\cdot",l.verbatimLatex=void 0,n.contentDidChange({data:"\\cdot",inputType:"insertText"}),!0}if(/(^|\s)[a-zA-Z][^a-zA-Z]$/.test(s)||/\.\d$/.test(s)||/\([\d+\-.]$/.test(s))return vf(n,1),!0;if(/\([a-z][,;]$/.test(s))return vf(n,2),!0;if(/[\d+\-=><*|]$/.test(i))return TE(n),!0}else{if(e==="[Space]")return J1(n,void 0,o=>/[a-z][:,;.]$/.test(o.value)),!0;if(/[a-zA-Z]{3,}$/.test(s)&&!/(dxd|abc|xyz|uvw)$/.test(s))return J1(n,void 0,o=>/[a-zA-Z]/.test(o.value)),!0;if(/(^|\W)(if)$/i.test(s))return J1(n,1),!0;if(/(\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5){3,}$/u.test(s)&&!/()$/.test(s))return J1(n,void 0,o=>/(:|,|;|.|\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5)/u.test(o.value)),!0;if(i==="?"||i==="."&&!/[\d-+]\.$/.test(s))return!0}return!1}function i5e(t,e){if(!t.isSelectionEditable||!t.keystrokeCaptionVisible)return;let r=eq(),n=t.element.getBoundingClientRect();r.style.left=`${n.left}px`,r.style.top=`${n.top-64}px`,r.innerHTML=globalThis.MathfieldElement.createHTML("<span>"+(CE(e)||e)+"</span>"+r.innerHTML),r.style.visibility="visible",setTimeout(()=>{r.childNodes.length>0&&r.childNodes[r.childNodes.length-1].remove(),r.childNodes.length===0&&(r.style.visibility="hidden")},3e3)}function s5e(t){if(t.keystrokeCaptionVisible=!t.keystrokeCaptionVisible,t.keystrokeCaptionVisible){let e=eq();e.innerHTML=""}else{let e=Mw("mathlive-keystroke-caption-panel");e.style.visibility="hidden"}return!1}function eq(){return document.getElementById("mathlive-keystroke-caption-panel")||(zl("keystroke-caption"),zl("core"),Mw("mathlive-keystroke-caption-panel"))}function o5e(){document.getElementById("mathlive-keystroke-caption-panel")&&(SE("mathlive-keystroke-caption-panel"),Wl("core"),Wl("keystroke-caption"))}function tq(t,e){var r,n,i,s;let{model:o}=t,a=NG(e);if(e.isTrusted){XCe(e);let m=Rm();t.keyboardLayout!==m.id&&(t.keyboardLayout=m.id,t._keybindings=void 0)}if(clearTimeout(t.inlineShortcutBufferFlushTimer),t.inlineShortcutBufferFlushTimer=0,i5e(t,a),e.isTrusted&&e.defaultPrevented)return t.flushInlineShortcutBuffer(),!1;let l,c=0,u="",A=0,h=t.inlineShortcutBuffer;if(t.isSelectionEditable){if(o.mode==="math")if(a==="[Backspace]")t.undoManager.lastOp==="insert-shortcut"?u="undo":h.pop();else if(!Ew(e))t.flushInlineShortcutBuffer();else{let m=DA(e),y=[...(n=(r=h[h.length-1])==null?void 0:r.keystrokes)!=null?n:[],m];h.push({state:o.getState(),keystrokes:y,leftSiblings:a5e(t)}),c=0;let g="";for(;!l&&c<y.length;)A=h.length-(y.length-c),g=y.slice(c).join(""),l=mE(h[A].leftSiblings,g,t.options.inlineShortcuts),!l&&/^[a-zA-Z][a-zA-Z0-9]+?([_\^][a-zA-Z0-9\*\+\-]+?)?$/.test(g)&&(l=t.options.onInlineShortcut(t,g)),c+=1;t.flushInlineShortcutBuffer({defer:!0})}t.options.smartMode&&(l?t.switchMode("math"):n5e(t,a,e)&&(t.switchMode({math:"text",text:"math"}[o.mode]),u=""))}if(!l){if(u||(u=rBe(t.keybindings,o.mode,e)),!u&&(a==="[Enter]"||a==="[Return]")){let m=!0;return o.contentWillChange({inputType:"insertLineBreak"})&&(t.host&&(m=t.host.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),!m&&e.preventDefault?(e.preventDefault(),e.stopPropagation()):((i=o.parentEnvironment)!=null&&i.isMultiline&&t.executeCommand("addRowAfter"),o.contentDidChange({inputType:"insertLineBreak"}))),m}if((!u||a==="[Space]")&&o.mode==="math"){if(a==="[Space]"){if(t.styleBias="none",t.flushInlineShortcutBuffer(),t.options.mathModeSpace)return at.insert(o,t.options.mathModeSpace,{format:"latex",mode:"math"}),t.snapshot("insert-space"),u="",t.dirty=!0,t.scrollIntoView(),e.preventDefault&&(e.preventDefault(),e.stopPropagation()),!1;let m=o.at(o.position+1),y=o.at(o.position-1);if((m==null?void 0:m.mode)==="text"||(y==null?void 0:y.mode)==="text")return at.insert(o," ",{mode:"text"}),t.snapshot("insert-space"),t.dirty=!0,t.scrollIntoView(),!1}(s=o.at(o.position))!=null&&s.isDigit()&&globalThis.MathfieldElement.decimalSeparator===","&&DA(e)===","&&(u="insertDecimalSeparator")}}if(!l&&!u){if(o.mathfield.smartFence){if(u_(o,DA(e),Zd(t)))return t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}else{let{parent:m}=o.at(o.position);if(m instanceof Et&&m.rightDelim==="?"&&o.at(o.position).isLastSibling&&/^[)}\]|]$/.test(a))return t.snapshot(),m.isDirty=!0,m.rightDelim=a,o.position+=1,o.selectionDidChange(),o.contentDidChange({data:DA(e),inputType:"insertText"}),t.snapshot("insert-fence"),t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1;if(!o.selectionIsCollapsed){let y=DA(e);if(y==="("||y==="{"||y==="["){let g={"(":"(","{":"\\lbrace","[":"\\lbrack"}[y],v={"(":")","{":"\\rbrace","[":"\\rbrack"}[y],[x,b]=Kr(o.selection);return t.snapshot(),o.position=b,at.insert(o,v,{format:"latex"}),o.position=x,at.insert(o,g,{format:"latex"}),o.setSelection(x+1,b+1),o.contentDidChange({data:y,inputType:"insertText"}),t.snapshot("insert-fence"),t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}}}return!0}let f=o.at(Math.max(o.position,o.anchor)),{parent:p}=f;if(u==="moveAfterParent"&&(p==null?void 0:p.type)==="leftright"&&f.isLastSibling&&t.options.smartFence&&u_(o,".",t.defaultStyle)&&(u="",vt(t)),t.keyboardDelegate.cancelComposition(),u)t.executeCommand(u);else if(l){let m=Zd(t);o.setState(h[A].state);let y=h[h.length-1].keystrokes;y=y.slice(c-1);for(let g of y)at.insert(o,g,{silenceNotifications:!0,style:m});t.snapshot("insert-shortcut"),o.setState(h[A].state),o.deferNotifications({content:!0,selection:!0,data:l,type:"insertText"},()=>(at.insert(o,l,{format:"latex",style:m}),TE(t.model),l.endsWith(" ")&&(t.switchMode("text"),at.insert(o," ",{style:m,mode:"text"})),t.snapshot(),o.selectionIsCollapsed||t.flushInlineShortcutBuffer(),!0)),t.dirty=!0,o.announce("replacement")}return t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}function c_(t,e,r){let{model:n}=t;if(!t.isSelectionEditable){n.announce("plonk");return}r!=null||(r={}),r.focus&&t.focus(),r.feedback&&globalThis.MathfieldElement.playSound("keypress"),typeof r.mode=="string"&&(t.switchMode(r.mode),t.snapshot());let i=BW(e),s=window.mathVirtualKeyboard;if(s!=null&&s.isShifted&&(i=typeof i=="string"?i.toUpperCase():i.map(o=>o.toUpperCase())),r.simulateKeystroke){let o=!0;for(let a of i)tq(t,new KeyboardEvent("keypress",{key:a}))&&(o=!1);if(o)return}if(n.mode==="latex")n.deferNotifications({content:!0,selection:!0,data:e,type:"insertText"},()=>{Fw(t);for(let o of i)at.insert(n,o,{insertionMode:"replaceSelection"});t.snapshot("insert-latex"),M0(t)});else if(n.mode==="text"){let o=D(D({},c5e(n)),t.defaultStyle);for(let a of i)at.insert(n,a,{style:o,insertionMode:"replaceSelection"});t.snapshot("insert-text")}else if(n.mode==="math")for(let o of i)l5e(t,o);t.dirty=!0,t.scrollIntoView()}function a5e(t){let e=t.model,r=[],n=e.at(Math.min(e.position,e.anchor));for(;n.type!=="first";)r.push(n),n=n.leftSibling;return r}function l5e(t,e){let r=t.model,n={"^":"moveToSuperscript",_:"moveToSubscript"," ":t.options.mathModeSpace?["insert",t.options.mathModeSpace]:"moveAfterParent"}[e];if(n){t.executeCommand(n);return}let i=D({},Zd(t));!/[a-zA-Z0-9]/.test(e)&&t.styleBias!=="none"&&(i.variant="normal",i.variantStyle=void 0);let s=r.at(r.position);if(/\d/.test(e)&&t.options.smartSuperscript&&s.parentBranch==="superscript"&&s.parent.type!=="mop"&&s.parent.type!=="operator"&&s.parent.type!=="extensible-symbol"&&s.hasNoSiblings){if(!at.insert(r,e,{style:i,insertionMode:"replaceSelection"})){t.undoManager.pop();return}t.snapshot("insert-mord"),ZG(r);return}let o=e;o==="{"?o="\\lbrace":o==="}"?o="\\rbrace":o==="&"?o="\\&":o==="#"?o="\\#":o==="$"?o="\\$":o==="%"?o="\\%":o==="~"?o="\\~":o==="\\"&&(o="\\backslash"),at.insert(r,o,{style:i,insertionMode:"replaceSelection"})&&t.snapshot(`insert-${r.at(r.position).type}`)}function c5e(t){var e,r,n,i;if(t.selectionIsCollapsed)return(r=(e=t.at(t.position))==null?void 0:e.style)!=null?r:{};let s=Kr(t.selection)[0];return(i=(n=t.at(s+1))==null?void 0:n.style)!=null?i:{}}function u_(t,e,r){var n;if(!e||t.mode!=="math")return!1;let i=t.at(t.position),{parent:s}=i,o={"(":"(",")":")","{":"\\lbrace","}":"\\rbrace","[":"\\lbrack","]":"\\rbrack","|":"|"}[e];if(!o)return!1;let a=Mb[o],l=Bw[o];if(!t.selectionIsCollapsed){t.mathfield.snapshot();let[c,u]=Kr(t.selection),A=t.extractAtoms([c,u]),h=s.addChildrenAfter([new Et("left...right",A,{leftDelim:o,rightDelim:l})],t.at(c));return t.setSelection(t.offsetOf(h.firstChild),t.offsetOf(h.lastChild)),t.mathfield.snapshot("insert-fence"),t.contentDidChange({data:o,inputType:"insertText"}),!0}if(o==="|"){let c=s instanceof Et?s.leftDelim+s.rightDelim:"";if(c==="\\lbrace\\rbrace"||c==="\\{\\}"||c==="\\lbrace?")return t.mathfield.snapshot(),at.insert(t,"\\,\\middle\\vert\\,",{format:"latex",style:r}),t.mathfield.snapshot("insert-fence"),t.contentDidChange({data:o,inputType:"insertText"}),!0}if(l){if(s instanceof Et&&s.firstChild===i&&(s.leftDelim==="?"||s.leftDelim==="."))return s.leftDelim=o,s.isDirty=!0,t.mathfield.snapshot(),t.contentDidChange({data:o,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;if(!(s instanceof Et)){let h=i;for(;h&&!(h.type==="mclose"&&h.value===l);)h=h.rightSibling;if(h){t.mathfield.snapshot();let f=t.extractAtoms([t.offsetOf(i),t.offsetOf(h)]);return f.pop(),s.addChildrenAfter([new Et("left...right",f,{leftDelim:o,rightDelim:l})],i),t.position=t.offsetOf(s.firstChild)+1,t.contentDidChange({data:o,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}}let c=t.offsetOf(i.lastSibling),u;for(u=t.position;u<=c;u++){let h=t.at(u);if(h instanceof Et&&(h.leftDelim==="?"||h.leftDelim===".")&&DN(o,h.rightDelim))break}let A=t.at(u);if(u<=c&&A instanceof Et){A.leftDelim=o,t.mathfield.snapshot();let h=t.extractAtoms([t.position,u-1]);return h=h.filter(f=>f.type!=="first"),A.addChildren(h,A.parentBranch),t.position+=1,t.contentDidChange({data:o,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}if(s instanceof Et&&(s.leftDelim==="?"||s.leftDelim===".")&&DN(o,s.rightDelim)){s.isDirty=!0,s.leftDelim=o,t.mathfield.snapshot();let h=t.extractAtoms([t.offsetOf(i.firstSibling),t.position]);for(let f of h)s.parent.addChildBefore(f,s);return t.contentDidChange({data:o,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}if(!(s instanceof Et&&s.leftDelim==="|")){if(o==="("){let h=t.position-1,f=!1;for(;h>=0;){let p=t.at(h);if(p.type==="first")break;if(p.type==="mord"&&p.value&&/^[\d]$/.test(p.value)){h-=1;continue}if(p.type==="group"&&((n=p.body)==null?void 0:n.length)===2&&p.body[0].type==="first"&&p.body[1].value===","){f=!0;break}if(p.type==="mord"&&(p.value===","||p.value===".")){f=!0;break}break}if(f)return!1}if(t.mathfield.snapshot(),at.insert(t,`\\left${o}\\right?`,{format:"latex",style:r}),i.lastSibling.type!=="first"){let h=t.offsetOf(i.lastSibling),f=t.extractAtoms([t.position,h]);t.at(t.position).body=f,t.position-=1}return t.mathfield.snapshot("insert-fence"),!0}}if(a){if(o===")"){let p=t.position-1,m=!1;for(;p>=0;){let y=t.at(p);if(y.type==="first")break;if(y.type==="mord"&&y.value&&/^[\d]$/.test(y.value)){m=!0,p-=1;continue}break}if(m&&t.at(p).type==="mopen"&&t.at(p).value==="(")return!1}let c=i;for(;c;){if(c.type==="mopen"&&c.value===a){t.mathfield.snapshot();let p=c.leftSibling,m=t.extractAtoms([t.offsetOf(c.leftSibling),t.offsetOf(i)]);[,...m]=m;let y=new Et("left...right",m,{leftDelim:a,rightDelim:o});return s.addChildrenAfter([y],p),t.position=t.offsetOf(y),t.contentDidChange({data:o,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}c=c.leftSibling}if(s instanceof Et&&i.isLastSibling&&BC(s.leftDelim,o))return t.mathfield.snapshot(),s.isDirty=!0,s.rightDelim=o,t.position+=1,t.contentDidChange({data:o,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;let u=t.offsetOf(i.firstSibling),A;for(A=t.position;A>=u;A--){let p=t.at(A);if(p instanceof Et&&(p.rightDelim==="?"||p.rightDelim===".")&&BC(p.leftDelim,o))break}let h=t.at(A);if(A>=u&&h instanceof Et)return t.mathfield.snapshot(),h.rightDelim=o,h.addChildren(t.extractAtoms([A,t.position]),h.parentBranch),t.contentDidChange({data:o,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;if(s instanceof Et&&(s.rightDelim==="?"||s.rightDelim===".")&&BC(s.leftDelim,o))return t.mathfield.snapshot(),s.isDirty=!0,s.rightDelim=o,s.parent.addChildren(t.extractAtoms([t.position,t.offsetOf(i.lastSibling)]),s.parentBranch),t.position=t.offsetOf(s),t.contentDidChange({data:o,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;let f=s.parent;return f instanceof Et&&(f.rightDelim==="?"||f.rightDelim===".")&&t.at(t.position).isLastSibling?(t.position=t.offsetOf(f),u_(t,o,r)):!1}return!1}function BC(t,e){return t?["(","\\lparen","{","\\{","\\lbrace","[","\\lbrack"].includes(t)?[")","\\rparen","}","\\}","\\rbrace","]","\\rbrack"].includes(e):Bw[t]===e:!0}function DN(t,e){return e?[")","\\rparen","}","\\}","\\rbrace","]","\\rbrack"].includes(e)?["(","\\lparen","{","\\{","\\lbrace","[","\\lbrack"].includes(t):Mb[e]===t:!0}En({undo:t=>(t.undo(),!0),redo:t=>(t.redo(),!0),scrollIntoView:t=>(t.scrollIntoView(),!0),scrollToStart:t=>(t.field.scroll(0,0),!0),scrollToEnd:t=>{let e=t.field.getBoundingClientRect();return t.field.scroll(e.left-window.scrollX,0),!0},toggleKeystrokeCaption:s5e,toggleContextMenu:t=>{let e=t.toggleContextMenu();return e||t.model.announce("plonk"),e},plonk:t=>(t.model.announce("plonk"),!0),switchMode:(t,e,r,n)=>(t.switchMode(e,r,n),!0),insert:(t,e,r)=>t.insert(e,r),typedText:(t,e,r)=>(c_(t,e,r),!0),insertDecimalSeparator:t=>{let e=t.model;return e.mode==="math"&&globalThis.MathfieldElement.decimalSeparator===","&&e.at(Math.max(e.position,e.anchor)).isDigit()?(t.insert("{,}",{format:"latex"}),t.snapshot("insert-mord"),!0):(t.insert("."),!0)},commit:t=>{var e,r;let n=t.model;return n.contentWillChange({inputType:"insertLineBreak"})&&((e=t.host)==null||e.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),(r=n.parentEnvironment)!=null&&r.isMultiline&&t.executeCommand("addRowAfter"),n.contentDidChange({inputType:"insertLineBreak"})),!0},insertPrompt:(t,e,r)=>{let n=t.getPrompts(),i="prompt-"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36),s=0;for(;n.includes(i)&&s<100;){if(s===99)return console.error("could not find a unique ID after 100 tries"),!1;i="prompt-"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36),s++}return t.insert(`\\placeholder[${e??i}]{}`,r),!0}});En({copyToClipboard:t=>(t.focus(),t.model.selectionIsCollapsed&&t.select(),"queryCommandSupported"in document&&document.queryCommandSupported("copy")&&document.execCommand("copy")||t.element.querySelector(".ML__keyboard-sink").dispatchEvent(new ClipboardEvent("copy",{bubbles:!0,composed:!0})),!1)},{target:"mathfield"});En({cutToClipboard:t=>(t.focus(),"queryCommandSupported"in document&&document.queryCommandSupported("cut")&&document.execCommand("cut")||t.element.querySelector(".ML__keyboard-sink").dispatchEvent(new ClipboardEvent("cut",{bubbles:!0,composed:!0})),!0),pasteFromClipboard:t=>(t.focus(),"queryCommandSupported"in document&&document.queryCommandSupported("paste")?(document.execCommand("paste"),!0):(navigator.clipboard.readText().then(e=>{e&&t.model.contentWillChange({inputType:"insertFromPaste",data:e})?(t.stopCoalescingUndo(),t.stopRecording(),t.insert(e,{mode:t.model.mode})&&(M0(t),t.startRecording(),t.snapshot("paste"),t.model.contentDidChange({inputType:"insertFromPaste"}),vt(t))):t.model.announce("plonk"),t.startRecording()}),!0))},{target:"mathfield",canUndo:!0,changeContent:!0,changeSelection:!0});function A_(t){let[e,r]=Kr(t.selection);if(e=LN(t,e,"backward"),r=LN(t,r,"forward"),e===r){let n=t.at(e);if(n.type==="leftright")return t.setSelection(t.offsetOf(n.firstChild)-1,r);if(n.type==="first"&&(n.parent.type==="leftright"||n.parent.type==="surd"))return t.setSelection(e-1,t.offsetOf(n.parent.lastChild)+1);t.setSelection(e-1,r)}else t.setSelection(e,r);return!0}function LN(t,e,r){var n,i,s;let o=t.at(e);if(!o)return e;let a=r==="forward"?1:-1;if(o.mode==="text"){for(;o&&!(o.mode!=="text"||!Um.test(o.value));)e+=a,o=t.at(e);return r==="backward"?e-1:e}if(o.mode==="latex"){if(/[a-zA-Z\*]/.test(o.value))if(r==="backward")for(;o&&o.mode==="latex"&&o.value!=="\\"&&/[a-zA-Z]/.test(o.value);)e+=a,o=t.at(e);else for(;o&&o.mode==="latex"&&/[a-zA-Z\*]/.test(o.value);)e+=a,o=t.at(e);else if(o.value==="{"){if(r==="forward"){for(;o&&o.mode==="latex"&&o.value!=="}";)e+=a,o=t.at(e);return e}return e-1}else if(o.value==="}"){if(r==="backward"){for(;o&&o.mode==="latex"&&o.value!=="{";)e+=a,o=t.at(e);return e-1}return e}return e-1}if(o.mode==="math"){if(o.isDigit()){for(;(n=t.at(e+a))!=null&&n.isDigit();)e+=a;return r==="backward"?e-1:e}if(o.style.variant||o.style.variantStyle){let l=(i=t.at(e))==null?void 0:i.style;for(;l&&l.variant===o.style.variant&&l.variantStyle===o.style.variantStyle;)l=(s=t.at(e+a))==null?void 0:s.style,e+=a;return r==="backward"?e-1:e}return e}return e}En({selectGroup:t=>{let e=A_(t);return e||t.announce("plonk"),e},selectAll:t=>t.setSelection(0,t.lastOffset),extendSelectionForward:t=>no(t,"forward",{extend:!0}),extendSelectionBackward:t=>no(t,"backward",{extend:!0}),extendToNextWord:t=>cd(t,"forward",{extend:!0}),extendToPreviousWord:t=>cd(t,"backward",{extend:!0}),extendSelectionUpward:t=>no(t,"upward",{extend:!0}),extendSelectionDownward:t=>no(t,"downward",{extend:!0}),extendToNextBoundary:t=>cd(t,"forward",{extend:!0}),extendToPreviousBoundary:t=>cd(t,"backward",{extend:!0}),extendToGroupStart:t=>{let e=t.setSelection(t.anchor,t.offsetOf(t.at(t.position).firstSibling));return e||t.announce("plonk"),e},extendToGroupEnd:t=>{let e=t.setSelection(t.anchor,t.offsetOf(t.at(t.position).lastSibling));return e||t.announce("plonk"),e},extendToMathFieldStart:t=>{let e=t.setSelection(t.anchor,0);return e||t.announce("plonk"),e},extendToMathFieldEnd:t=>{let e=t.setSelection(t.anchor,t.lastOffset);return e||t.announce("plonk"),e}},{target:"model",changeSelection:!0});var Bc=null,xf=0,Qb=class Ti{static start(e,r,n,i){var s;Ti.element=e,(s=Ti.controller)==null||s.abort(),Ti.controller=new AbortController;let o={signal:Ti.controller.signal};"PointerEvent"in window?(e.addEventListener("pointermove",n,o),e.addEventListener("pointerup",i,o),e.addEventListener("pointercancel",i,o),d_(r)&&(Ti.pointerId=r.pointerId,e.setPointerCapture(r.pointerId))):(window.addEventListener("mousemove",n,o),window.addEventListener("blur",i,o),window.addEventListener("mouseup",i,o))}static stop(){var e;(e=Ti.controller)==null||e.abort(),Ti.controller=void 0,typeof Ti.pointerId=="number"&&(Ti.element.releasePointerCapture(Ti.pointerId),Ti.pointerId=void 0)}};function d_(t){return t!==null&&globalThis.PointerEvent!==void 0&&t instanceof PointerEvent}function jN(t,e){var r;if(e.buttons>1)return;t.atomBoundsCache=new Map;let n=t,i,s=!1,o=!1,a="none",l=!1,c=!1,u=e.clientX,A=e.clientY,h=Date.now(),f=n.field,p=setInterval(()=>{l?f.scroll({top:0,left:f.scrollLeft-16}):c&&f.scroll({top:0,left:f.scrollLeft+16})},32);function m(){Qb.stop(),s=!1,clearInterval(p),t.element.classList.remove("tracking"),e&&e.preventDefault()}function y(v){if(!n.hasFocus()){m();return}let x=v.clientX,b=v.clientY,w=d_(v)&&v.pointerType==="touch"?20:5;if(Date.now()<h+500&&Math.abs(u-x)<w&&Math.abs(A-b)<w){v.preventDefault(),v.stopPropagation();return}let C=f.getBoundingClientRect();c=x>C.right,l=x<C.left;let B=i;d_(v)&&(v.isPrimary||(B=Gv(n,v.clientX,v.clientY,{bias:0})));let _=Gv(n,x,b,{bias:x<=u?x===u?0:-1:1});B>=0&&_>=0&&(n.model.extendSelectionTo(B,_),vt(t)),o&&A_(n.model)}Bc&&Math.abs(Bc.x-u)<5&&Math.abs(Bc.y-A)<5&&Date.now()<Bc.time+500?(xf+=1,Bc.time=h):(Bc={x:u,y:A,time:h},xf=1);let g=f.getBoundingClientRect();if(u>=g.left&&u<=g.right&&A>=g.top&&A<=g.bottom){if(t.flushInlineShortcutBuffer(),i=Gv(t,u,A,{bias:0}),i!==t.model.anchor&&(t.defaultStyle={},t.styleBias="left"),i>=0){if(t.element.classList.add("tracking"),e.shiftKey){let v=t.model.selectionIsCollapsed;t.model.extendSelectionTo(t.model.anchor,i),wN(t.model)||v?a="all":a="selection"}else t.model.at(i).type==="placeholder"?(t.model.setSelection(i-1,i),a="selection"):((r=t.model.at(i).rightSibling)==null?void 0:r.type)==="placeholder"?(t.model.setSelection(i,i+1),a="selection"):(t.model.position=i,wN(t.model)?a="all":a="selection");e.detail===3||xf>2?(m(),(e.detail===3||xf===3)&&(t.model.selection={ranges:[[0,t.model.lastOffset]]},a="all")):s||(s=!0,Qb.start(f,e,y,m),(e.detail===2||xf===2)&&(o=!0,A_(t.model),a="all"))}t.hasFocus()||(a="none",t.focus({preventScroll:!0}))}else Bc=null;t.stopCoalescingUndo(),a!=="none"&&(t.model.selectionIsCollapsed&&(a="all"),vt(t)),e.preventDefault()}function u5e(t,e,r){if(t>=r.left&&t<=r.right&&e>=r.top&&e<=r.bottom)return 0;let n=t-(r.left+r.right)/2,i=e-(r.top+r.bottom)/2;return n*n+i*i}function h_(t,e,r,n,i){if(!r.id)return[1/0,null];if(e.has(r.id))return e.get(r.id);let s=_h(t,r);if(!s)return[1/0,null];let o=[1/0,null],a=t.model;if(r instanceof Ne)for(let l of r.rows)for(let c of l){let u=[a.offsetOf(c[0]),a.offsetOf(c[c.length-1])],A=Q3e(t,u);if(i>=A.top&&i<=A.bottom)for(let h of c){let f=h_(t,e,h,n,i);f[0]<=o[0]&&(o=f)}}else if(r.hasChildren&&!r.captureSelection&&n>=s.left&&n<=s.right){let l=r.children;for(let c of l){let u=h_(t,e,c,n,i);u[0]<=o[0]&&(o=u)}}return o[1]||(o=[u5e(n,i,s),r]),e.set(r.id,o),o}function A5e(t,e,r){let[,n]=h_(t,new Map,t.model.root,e,r);return n}function Gv(t,e,r,n){var i;let s=t.field.querySelector(".ML__latex").getBoundingClientRect();if(!s)return 0;if(e>s.right||r>s.bottom+8)return t.model.lastOffset;if(e<s.left||r<s.top-8)return 0;n=n??{},n.bias=(i=n.bias)!=null?i:0;let o=A5e(t,e,r),a=[],l=o;for(;l;)a.unshift(l),l=l.parent;for(let u of a)if(u.captureSelection){o=u;break}let c=t.model.offsetOf(o);if(c<0)return-1;if(o.leftSibling)if(n.bias===0&&o.type!=="placeholder"){let u=_h(t,o);u&&e<(u.left+u.right)/2&&(c=t.model.offsetOf(o.leftSibling))}else n.bias<0&&(c=t.model.offsetOf(o.leftSibling));return c}var d5e=class extends at{constructor(){super("math")}onPaste(t,e){if(!e||!t.model.contentWillChange({data:typeof e=="string"?e:null,dataTransfer:typeof e=="string"?null:e,inputType:"insertFromPaste"}))return!1;let r="",n="auto",i=typeof e!="string"?e.getData("application/json+mathlive"):"";if(i)try{let s=JSON.parse(i);if(s&&Array.isArray(s)){t.snapshot();let o=Ml(s),{model:a}=t;a.selectionIsCollapsed||a.deleteAtoms(Kr(a.selection));let l=a.at(a.position);if(l.parent instanceof Ne){l.parentBranch;let c=[],u=[];o[0].type==="first"&&o.shift(),o[o.length-1].type==="first"&&o.pop();for(let p of o)p.type==="first"&&u.length>0?(c.push(u),u=[p]):u.push(p);u.length>0&&c.push(u);let A=Number(l.parentBranch[0]),h=Number(l.parentBranch[1]),f=l.parent.maxColumns;for(;l.parent.colCount-h<c.length&&l.parent.colCount<f;)l.parent.addColumn();l.parent.addChildrenAfter(c[0],l);for(let p=1;p<c.length;p++)h++,h>=f&&(h=0,l.parent.addRowAfter(A),A++),l.parent.setCell(A,h,c[p])}else l.parent.addChildrenAfter(o.filter(c=>c.type!=="first"),l);return a.position=a.offsetOf(o[o.length-1]),a.contentDidChange({inputType:"insertFromPaste"}),vt(t),!0}}catch{}if(i=typeof e!="string"?e.getData("application/json"):"",i&&globalThis.MathfieldElement.computeEngine)try{let s=JSON.parse(i);if(typeof s=="object"&&"latex"in s&&s.latex&&(r=s.latex),!r){let o=globalThis.MathfieldElement.computeEngine.box(s);o&&!o.has("Error")&&(r=o.latex)}r||(n="latex")}catch{}if(!r&&typeof e!="string"&&(r=e.getData("application/x-latex"),r&&(n="latex")),r||(r=typeof e=="string"?e:e.getData("text/plain")),r){let s;return[s,r]=gE(r),n==="auto"&&s&&(n="latex"),t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,r,{format:n})&&(t.startRecording(),t.snapshot("paste"),vt(t)),t.startRecording(),!0}return!1}insert(t,e,r){var n,i;let s=typeof e=="string"?e:(i=(n=globalThis.MathfieldElement.computeEngine)==null?void 0:n.box(e).latex)!=null?i:"";if(!r.silenceNotifications&&!t.contentWillChange({data:s,inputType:"insertText"}))return!1;r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder"),r.format||(r.format="auto");let{silenceNotifications:o}=t;r.silenceNotifications&&(t.silenceNotifications=!0);let a=t.silenceNotifications;t.silenceNotifications=!0;let l={"?":"\\placeholder{}","@":"\\placeholder{}"};l[0]=r.insertionMode==="replaceAll"?"":t.getValue(t.selection,"latex-unstyled"),r.insertionMode==="replaceSelection"?t.deleteAtoms(Kr(t.selection)):r.insertionMode==="replaceAll"?t.deleteAtoms():r.insertionMode==="insertBefore"?t.collapseSelection("backward"):r.insertionMode==="insertAfter"&&t.collapseSelection("forward"),!t.at(t.position).isLastSibling&&t.at(t.position+1).type==="placeholder"?t.deleteAtoms([t.position,t.position+1]):t.at(t.position).type==="placeholder"&&t.deleteAtoms([t.position-1,t.position]);let c=-1;l[0]?l["@"]=l[0]:typeof e=="string"&&/(^|[^\\])#@/.test(e)&&(c=h5e(t),c>=0&&(l["@"]=t.getValue(c,t.position,"latex"))),l[0]||(l[0]=l["?"]);let u=!1,A=y=>(u=!0,l[y]),[h,f]=ON(t,e,A,r);if(!f)return!1;let p=f.length===1&&f[0].type==="genfrac";if(p&&c>=0&&typeof t.mathfield.options.isImplicitFunction=="function"&&t.mathfield.options.isImplicitFunction(t.at(t.position).command)?(l["@"]=l["?"],u=!1,[h,f]=ON(t,e,A,r)):c>=0&&t.deleteAtoms([c,t.position]),f.length===1&&f[0].isRoot)t.root=f[0];else{let{parent:y}=t.at(t.position),g=y.hasEmptyBranch("body");if(p&&h!=="latex"&&t.mathfield.options.removeExtraneousParentheses&&y instanceof Et&&y.leftDelim==="("&&g){let x=y.parent,b=y.parentBranch;x.removeChild(y),x.setChildren(f,b)}let v=t.at(t.position);v.parent.addChildrenAfter(f,v),h==="latex"&&typeof e=="string"&&(y==null?void 0:y.type)==="root"&&g&&!u&&(y.verbatimLatex=e)}t.silenceNotifications=a;let m=f[f.length-1];if(r.selectionMode==="placeholder"){let y=f.flatMap(g=>[g,...g.children]).find(g=>g.type==="placeholder");if(y){let g=t.offsetOf(y);t.setSelection(g-1,g),t.announce("move")}else m&&(t.position=t.offsetOf(m))}else r.selectionMode==="before"||(r.selectionMode==="after"?m&&(t.position=t.offsetOf(m)):r.selectionMode==="item"&&t.setSelection(t.anchor,t.offsetOf(m)));return t.contentDidChange({data:s,inputType:"insertText"}),t.silenceNotifications=o,!0}};function ON(t,e,r,n){var i;let s,o=[];if(typeof e!="string"||n.format==="math-json"){let a=globalThis.MathfieldElement.computeEngine;if(!a)return["math-json",[]];[s,e]=["latex",a.box(e).latex],o=Vi(e,{context:t.mathfield.context})}else typeof e=="string"&&n.format==="ascii-math"?([s,e]=Y6(e,{format:"ascii-math",inlineShortcuts:t.mathfield.options.inlineShortcuts}),o=Vi(e,{context:t.mathfield.context}),s!=="latex"&&t.mathfield.options.removeExtraneousParentheses&&(o=o.map(a=>Rb(a)))):(n.format==="auto"||(i=n.format)!=null&&i.startsWith("latex"))&&(n.format==="auto"&&([s,e]=Y6(e,{format:"auto",inlineShortcuts:t.mathfield.options.inlineShortcuts})),n.format==="latex"&&([,e]=gE(e)),o=Vi(e,{context:t.mathfield.context,args:r}),n.format!=="latex"&&t.mathfield.options.removeExtraneousParentheses&&(o=o.map(a=>Rb(a))));return bE(o,n.style),[s??"latex",o]}function Rb(t){var e;if(t instanceof Et&&t.leftDelim!=="("&&t.rightDelim===")"){let r=(e=t.body)==null?void 0:e.filter(n=>n.type!=="first");if((r==null?void 0:r.length)===1&&r[0].type==="genfrac")return r[0]}for(let r of t.branches)t.hasEmptyBranch(r)||t.setChildren(t.branch(r).map(n=>Rb(n)),r);return t instanceof Ne&&t.forEachCell((r,n,i)=>{t.setCell(n,i,r.map(s=>Rb(s)))}),t}function h5e(t){let e=t.at(t.position);if(e.mode==="text"){for(;!e.isFirstSibling&&e.mode==="text";)e=e.leftSibling;return t.offsetOf(e)}let r=e,n=!1;if(e.type==="mclose"){let i=Mb[e.value];for(;!e.isFirstSibling&&!(e.type==="mopen"&&e.value===i);)e=e.leftSibling;e.isFirstSibling||(e=e.leftSibling),n=!0}else e.type==="leftright"&&(e=e.leftSibling,n=!0);if(n)for(;!e.isFirstSibling&&(e.isFunction||NN(e));)e=e.leftSibling;else{let i=[];for(;!e.isFirstSibling&&(NN(e)||i.length>0);)e.type==="mclose"&&i.unshift(e.value),e.type==="mopen"&&i.length>0&&e.value===Mb[i[0]]&&i.shift(),e=e.leftSibling}return r===e?-1:t.offsetOf(e)}function NN(t){return t.isDigit()?!0:t.type&&/^(mord|surd|subsup|leftright|mop|mclose)$/.test(t.type)?t.type!=="extensible-symbol":!1}new d5e;var f5e=class extends at{constructor(){super("text")}onPaste(t,e){if(!e)return!1;let r=typeof e=="string"?e:e.getData("text/plain");return r&&t.model.contentWillChange({inputType:"insertFromPaste",data:r})?(t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,r)&&(t.model.contentDidChange({inputType:"insertFromPaste"}),t.startRecording(),t.snapshot("paste"),vt(t)),t.startRecording(),!0):!1}insert(t,e,r={}){if(!t.contentWillChange({data:e,inputType:"insertText"}))return!1;r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder"),r.format||(r.format="auto");let{silenceNotifications:n}=t;r.silenceNotifications&&(t.silenceNotifications=!0);let i=t.silenceNotifications;t.silenceNotifications=!0,r.insertionMode==="replaceSelection"&&!t.selectionIsCollapsed?t.deleteAtoms(Kr(t.selection)):r.insertionMode==="replaceAll"?(t.root.setChildren([],"body"),t.position=0):r.insertionMode==="insertBefore"?t.collapseSelection("backward"):r.insertionMode==="insertAfter"&&t.collapseSelection("forward");let s=p5e(e,t.mathfield.context);if(bE(s,r.style),!s)return!1;let o=t.at(t.position),a=o.parent.addChildrenAfter(s,o);return t.silenceNotifications=i,r.selectionMode==="before"||(r.selectionMode==="item"?t.setSelection(t.anchor,t.offsetOf(a)):a&&(t.position=t.offsetOf(a))),t.contentDidChange({data:e,inputType:"insertText"}),t.silenceNotifications=n,!0}};function p5e(t,e){return t=t.replace(/\\/g,"\\textbackslash "),t=t.replace(/#/g,"\\#"),t=t.replace(/\$/g,"\\$"),t=t.replace(/%/g,"\\%"),t=t.replace(/&/g,"\\&"),t=t.replace(/_/g,"\\_"),t=t.replace(/{/g,"\\textbraceleft "),t=t.replace(/}/g,"\\textbraceright "),t=t.replace(/lbrace/g,"\\textbraceleft "),t=t.replace(/rbrace/g,"\\textbraceright "),t=t.replace(/\^/g,"\\textasciicircum "),t=t.replace(/~/g,"\\textasciitilde "),t=t.replace(//g,"\\textsterling "),Vi(t,{context:e,parseMode:"text"})}new f5e;function rl(t){return{value:t.model.getValue(),selectionIsCollapsed:t.model.selectionIsCollapsed,canUndo:t.canUndo(),canRedo:t.canRedo(),style:m5e(t.model),mode:t.model.mode}}function m5e(t){var e;if(t.selectionIsCollapsed)return(e=t.at(t.position))==null?void 0:e.style;let r=t.getAtoms(t.selection);if(r.length===0)return{};let n=D({},r[0].style);for(let i of r)for(let[s,o]of Object.entries(i.style))n[s]!==o&&delete n[s];return n}var ut=4,wn=20,Qt=2*(wn+ut),Z1=(t,e)=>`
  <line x1="${t+wn}" y1="${e+wn}" 
    x2="${t>e?t+wn:7*wn+10*ut}" 
    y2="${t<e?e+wn:7*wn+10*ut}"/>
  <svg id="plus" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <path class="font" d="m33.33,20c0,1.84-1.49,3.34-3.33,3.34h-6.67v6.66c0,1.84-1.49,3.34-3.33,3.34s-3.34-1.5-3.34-3.34v-6.66h-6.66c-1.84,0-3.34-1.5-3.34-3.34s1.5-3.33,3.34-3.33h6.66v-6.67c0-1.84,1.5-3.33,3.34-3.33s3.33,1.49,3.33,3.33v6.67h6.67c1.84,0,3.33,1.49,3.33,3.33Z"/>
  </svg>`,IN=(t,e)=>`
  <line x1="${t+wn}" y1="${e+wn}" 
    x2="${t>e?t+wn:7*wn+10*ut}" 
    y2="${t<e?e+wn:7*wn+10*ut}"/>
  <svg id="minus" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <path class="font" d="m33.33,20c0,1.84-1.49,3.33-3.33,3.33H10c-1.84,0-3.34-1.49-3.34-3.33s1.5-3.34,3.34-3.34h20c1.84,0,3.33,1.5,3.33,3.34Z"/>
  </svg>`,ey=(t,e,r)=>`
  <svg id="arrow" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <g transform="rotate(${r})" transform-origin="20 20">
      <path class="font" d="m17.7,7.23h4.6c.52,0,.94.42.94.94v13.82c0,.52.42.94.94.94h3.39c.83,0,1.25,1.01.66,1.6l-7.56,7.56c-.37.37-.96.37-1.32,0l-7.56-7.56c-.59-.59-.17-1.6.66-1.6h3.39c.52,0,.94-.42.94-.94v-13.82c0-.52.42-.94.94-.94Z"/>
    </g>  
  </svg>`,g5e=`
<svg class="MLEP__array-buttons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
viewBox=
"-2 -2 ${8*wn+10*ut+5} ${8*wn+10*ut+5}">
  <rect 
      class="MLEP__array-insert-background rows"
      x="0" 
      y="${Qt+ut}" 
      height="${3*Qt}" 
      width="${Qt}" 
      rx="${Qt/2}"/>
      <rect 
      class="MLEP__array-insert-background columns"
      x="${Qt+ut}" 
      y="0" 
      height="${Qt}" 
      width="${3*Qt}" 
      rx="${Qt/2}"/>
  <g data-command='"moveDown"'>
  ${ey(2*(ut+Qt),2*ut+3*Qt,0)}
  </g>
  <g data-command='"moveUp"'>
  ${ey(2*(ut+Qt),2*ut+Qt,180)}
  </g>
  <g data-command='"moveToNextWord"'>
  ${ey(2*ut+3*Qt,2*(ut+Qt),-90)}
  </g>
  <g data-command='"moveToPreviousWord"'>
  ${ey(2*ut+Qt,2*(ut+Qt),90)}
  </g>
  <g>

  <g data-command='"addColumnBefore"'>
  ${Z1(2*ut+Qt,ut)}
  </g>
  <g data-command='"removeColumn"'>
  ${IN(2*ut+2*Qt,ut)}
  </g>
  <g data-command='"addColumnAfter"'>
  ${Z1(2*ut+3*Qt,ut)}
  </g>
  <g data-command='"addRowBefore"'>
  ${Z1(ut,2*ut+Qt)}
  </g>
  <g data-command='"removeRow"'>
  ${IN(ut,2*ut+2*Qt)}
  </g>
  <g data-command='"addRowAfter"'>
    ${Z1(ut,2*ut+3*Qt)}
  </g>
</svg>`,y5e=t=>`
<svg id="matrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","matrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/></svg>`,v5e=t=>`
<svg id="pmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
data-command='["setEnvironment","pmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4c-3.96,4.6-3.96,11.4,0,16"/>
  <path class="cls-2" d="m22,4c3.96,4.6,3.96,11.4,0,16"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/></svg>`,rq=t=>`
<svg id="Bmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","Bmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4c-1.1,0-2,.9-2,2v3c0,1.66-.9,3-2,3,1.1,0,2,1.34,2,3v3c0,1.1.9,2,2,2"/>
  <path class="cls-2" d="m22,4c1.1,0,2,.9,2,2v3c0,1.66.9,3,2,3-1.1,0-2,1.34-2,3v3c0,1.1-.9,2-2,2"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
</svg>`,x5e=t=>`
<svg id="bmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","bmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4h-3v16h3"/>
  <path class="cls-2" d="m22,4h3v16h-3"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
</svg>`,b5e=t=>`
<svg id="vmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","vmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
  <line class="cls-2" x1="4" y1="4" x2="4" y2="20"/>
  <line class="cls-2" x1="24" y1="4" x2="24" y2="20"/>
</svg>`,w5e=t=>`
<svg id="Vmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="-3.5 -3 35 30" 
  data-command='["setEnvironment","Vmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
  <line class="cls-2" x1="6" y1="4" x2="6" y2="20"/>
  <line class="cls-2" x1="22" y1="4" x2="22" y2="20"/>
  <line class="cls-2" x1="2" y1="4" x2="2" y2="20"/>
  <line class="cls-2" x1="26" y1="4" x2="26" y2="20"/>
</svg>`,C5e=t=>`
<svg id="cases" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","cases"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m10,4c-1.1,0-2,.9-2,2v3c0,1.66-.9,3-2,3,1.1,0,2,1.34,2,3v3c0,1.1.9,2,2,2"/>
  <circle cx="13" cy="8" r="1"/>
  <circle cx="13" cy="16" r="1"/>
  <circle cx="21" cy="8" r="1"/>
  <circle cx="21" cy="16" r="1"/>
</svg>`,B5e=t=>`
<svg id="rcases" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","rcases"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m18,20c1.1,0,2-.9,2-2v-3c0-1.66.9-3,2-3-1.1,0-2-1.34-2-3v-3c0-1.1-.9-2-2-2"/>
  <circle cx="15" cy="8" r="1"/>
  <circle cx="15" cy="16" r="1"/>
  <circle cx="7" cy="8" r="1"/>
  <circle cx="7" cy="16" r="1"/>
</svg>`,_C={matrix:y5e,pmatrix:v5e,bmatrix:x5e,Bmatrix:rq,vmatrix:b5e,Vmatrix:w5e},SC={cases:C5e,rcases:B5e,Bmatrix:rq};function _5e(t){var e,r;let n=(e=t.model.parentEnvironment)==null?void 0:e.rows;if(!n)return;let i=0;n.forEach(f=>{(!i||f.length>i)&&(i=f.length)});let s=document.getElementById("mathlive-environment-popover");s||(s=Mw("mathlive-environment-popover"),zl("environment-popover"),zl("core"),s.setAttribute("aria-hidden","true"));let o,a=s.querySelector(".MLEP__environment-controls");a?o=a:(o=document.createElement("div"),s.innerHTML="",s.appendChild(o)),o.className="MLEP__environment-controls",o.style.display="flex",o.style.width="100%",o.style.height="100%",o.style.boxSizing="border-box",o.innerHTML=g5e;let l=[],c="",u=t.model.parentEnvironment.environmentName;if(XW(u)){let f=k5e(u);c=_C[f]("active");let p=_C,m=_b(p,[mL(f)]);l=Object.values(m).map(y=>y("inactive"))}else if(lCe(u)){let f=E5e(u);c=SC[f]("active");let p=SC,m=_b(p,[mL(f)]);l=Object.values(m).map(y=>y("inactive"))}else cCe(u)&&(c=_C.matrix("active"),l=Object.values(SC).map(f=>f("inactive")));let A=document.createElement("div");A.className="MLEP__environment-delimiter-controls",A.style.display="flex",A.style.flexDirection="column",A.innerHTML=`
  <div class='MLEP__array-delimiter-options'>
  ${c}
  ${l.join("")}
  </div>`,c&&o.appendChild(A),o.querySelectorAll("[data-command]").forEach(f=>{let p=f.dataset.command,m=p;try{m=JSON.parse(p)}catch{}f.addEventListener("mousedown",y=>y.preventDefault()),m&&f.addEventListener("click",()=>t.executeCommand(m))});let h=(r=t.field)==null?void 0:r.getBoundingClientRect();h&&(s.style.top=`${window.scrollY+(h.top-s.clientHeight-15)}px`,s.style.left=`${h.left+20}px`,s.classList.add("is-visible"))}function f_(){let t=document.getElementById("mathlive-environment-popover");t==null||t.classList.remove("is-visible")}function S5e(){document.getElementById("mathlive-environment-popover")&&(SE("mathlive-environment-popover"),Wl("environment-popover"),Wl("core"))}function ty(t){if(!t.hasFocus())return;let e=!1;if(t.model.mode==="math"){let r=t.model.parentEnvironment;if(r!=null&&r.rows&&aCe(r.environmentName)){let n=t.options.environmentPopoverPolicy;e=n==="auto"||n==="on"}}e?_5e(t):f_()}function k5e(t){return t.replace("*","")}function E5e(t){return t==="dcases"?"cases":t}function nq(t){let e=getComputedStyle(t).direction;return e==="ltr"||e==="rtl"?e:"ltr"}function UN(t,e,r){return e==="left"||e==="leading"&&r==="ltr"||e==="trailing"&&r==="rtl"?t.left:t.right}function kC(t,e,r,n){return r==="middle"?t-e/2:r==="start"&&n==="rtl"||r==="end"&&n==="ltr"||r==="top"||r==="right"?Math.max(0,t-e):t}function F5e(t,e,r,n){return r==="middle"?t-e/2:r==="start"&&n==="ltr"||r==="end"&&n==="rtl"||r==="top"||r==="right"?t:t-e}function M5e(t,e){var r,n,i;let s=(r=nq(t))!=null?r:"ltr";t.style.position="fixed",t.style.left="",t.style.top="",t.style.right="",t.style.bottom="",t.style.height="",t.style.width="";let o=t.getBoundingClientRect(),a=Number.isFinite(e.maxHeight)?Math.min(e.maxHeight,window.innerHeight):window.innerHeight,l=Math.min(a,(n=e.height)!=null?n:o.height),c=kC(e.location.y,l,e.verticalPos,s);c+l>window.innerHeight-8&&(e.alternateLocation?(c=kC(e.alternateLocation.y,l,e.verticalPos,s),c+l>window.innerHeight-8&&(c=void 0)):c=void 0),Number.isFinite(c)||(c=Math.max(8,window.innerHeight-8-l),8+l>window.innerHeight-8&&(t.style.bottom="8px")),l=Math.min(c+l,window.innerHeight-8)-c;let u=Number.isFinite(e.maxWidth)?Math.min(e.maxWidth,window.innerWidth):window.innerWidth,A=Math.min(u,(i=e.width)!=null?i:o.width),h=kC(e.location.x,A,e.horizontalPos,s);h+A>window.innerWidth-8&&(e.alternateLocation?(h=F5e(e.alternateLocation.x,A,e.verticalPos,s),h+A>window.innerWidth-8&&(h=void 0)):h=void 0),Number.isFinite(h)||(h=Math.max(8,window.innerWidth-8-A),8+A>window.innerWidth-8&&(t.style.right="8px")),A=Math.min(h+A,window.innerWidth-8)-h,s==="rtl"?t.style.right=`${Math.ceil(window.innerWidth-h-A).toString()}px`:t.style.left=`${Math.ceil(h).toString()}px`,t.style.top=`${Math.ceil(c).toString()}px`,l!==o.height&&(t.style.height=`${Math.ceil(l).toString()}px`),A!==o.width&&(t.style.width=`${Math.ceil(A).toString()}px`)}function T5e(t,e){return Math.hypot(e.x-t.x,e.y-t.y)}function Ad(t){return"submenu"in t}function No(t){return"type"in t&&t.type==="command"||"onMenuSelect"in t||"id"in t}function p_(t){return"type"in t&&t.type==="divider"}function EC(t){return"type"in t&&t.type==="heading"}var PN={};function FC(t){let e=PN[t];if(!e){let r;switch(t){case"checkmark":r=`<span aria-hidden="true" class="ui-checkmark"><svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"></path></svg>
      </span>`;break;case"trailing-chevron":r='<span aria-hidden="true" class="ui-trailing-chevron"><svg focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"></path></svg></span>';break;case"mixedmark":r='<span aria-hidden="true" class="ui-mixedmark"><svg xmlns="http://www.w3.org/2000/svg" width="16" viewBox="0 0 512 512"><path fill="currentColor" d="M0 256c0-13.3 10.7-24 24-24H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H24c-13.3 0-24-10.7-24-24z"/></svg></span>'}if(r){let n=document.createElement("template");n.innerHTML=r,PN[t]=n,e=n}}if(e){if("content"in e)return e.content.cloneNode(!0);let r=document.createElement("svg");return r.innerHTML=e.innerHTML,r}}var QN=80,iq=class{constructor(t,e){this._className="",this._element=null;var r;this.parentMenu=e,this._declaration=t,Object.freeze(this._declaration),Ad(t)?(this.type="submenu",this.submenu=new sq(t.submenu,{parentMenu:e,submenuClass:t.submenuClass,columnCount:t.columnCount})):this.type=(r=t.type)!=null?r:"command",this.hasCheck=No(t)&&t.checked!==void 0}get rootMenu(){return this.parentMenu.rootMenu}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}dispose(){var t,e;(t=this._abortController)==null||t.abort(),this._abortController=void 0,(e=this._element)==null||e.remove(),this._element=null,this.submenu&&this.submenu.dispose(),this.submenu=void 0}get menuItem(){return this._declaration}get label(){var t;return(t=this._label)!=null?t:""}set label(t){t===void 0&&(t=""),t!==this._label&&(this._label=t,this.dirty=!0)}get visible(){return this._visible}set visible(t){t!==this._visible&&(this._visible=t,this.dirty=!0)}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this.element&&(t?this.element.removeAttribute("aria-disabled"):this.element.setAttribute("aria-disabled","true")),this.dirty=!0}get checked(){return this._checked}set checked(t){this._checked=t,this.dirty=!0}get tooltip(){return this._tooltip}set tooltip(t){t!==this._tooltip&&(this._tooltip=t,this.dirty=!0)}get ariaLabel(){return this._ariaLabel}set ariaLabel(t){t!==this._ariaLabel&&(this._ariaLabel=t,this.dirty=!0)}get active(){var t,e;return(e=(t=this.element)==null?void 0:t.classList.contains("active"))!=null?e:!1}set active(t){this.element&&this.element.classList.toggle("active",t)}updateState(t){var e,r,n;let i=this._declaration;if(p_(i)){this.enabled=!1,this.checked=!1;return}EC(i)&&(this.enabled=!1,this.checked=!1,this.visible=!0),No(i)&&(this.checked=(e=_c(i.checked,t))!=null?e:!1),(No(i)||Ad(i))&&(this.enabled=(r=_c(i.enabled,t))!=null?r:!0,this.visible=(n=_c(i.visible,t))!=null?n:!0,this.visible&&this.enabled&&this.submenu&&(this.submenu.updateState(t),this.submenu.visible||(this.visible=!1))),(No(i)||EC(i)||Ad(i))&&(this.label=_c(i.label,t),this._className=_c(i.class,t),this.tooltip=_c(i.tooltip,t),this.ariaLabel=_c(i.ariaLabel,t)),this._element&&this.updateElement()}set dirty(t){t&&this.parentMenu&&(this.parentMenu.dirty=!0)}updateElement(){var t;if(!this.visible||!this.element)return;let e=this.element;e.textContent="",e.className="",e.className=(t=this._className)!=null?t:"",this.enabled?e.removeAttribute("aria-disabled"):e.setAttribute("aria-disabled","true"),this.checked===!0?(e.setAttribute("aria-checked","true"),e.append(FC("checkmark"))):this.checked==="mixed"?(e.setAttribute("aria-checked","mixed"),e.append(FC("mixedmark"))):e.removeAttribute("aria-checked"),this.ariaLabel&&e.setAttribute("aria-label",this.ariaLabel);let r=document.createElement("span");if(r.className=this.parentMenu.hasCheck?"label indent":"label",this.type==="heading"&&r.classList.add("heading"),r.innerHTML=this.label,e.append(r),this._tooltip&&e.setAttribute("data-tooltip",this._tooltip),No(this._declaration)&&this._declaration.keyboardShortcut){let n=document.createElement("kbd");n.innerHTML=CE(this._declaration.keyboardShortcut),e.append(n)}this.type==="submenu"&&e.append(FC("trailing-chevron"))}get element(){if(this._element)return this._element;if(p_(this._declaration)){let r=document.createElement("li");return r.setAttribute("part","menu-divider"),r.setAttribute("role","divider"),this._element=r,r}let t=document.createElement("li");this._element=t,(No(this._declaration)||EC(this._declaration)||Ad(this._declaration))&&t.setAttribute("part","menu-item"),t.setAttribute("tabindex","-1"),this.hasCheck?t.setAttribute("role","menuitemcheckbox"):t.setAttribute("role","menuitem"),this.type==="submenu"&&(t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-expanded","false"));let e=this.abortController.signal;return t.addEventListener("pointerenter",this,{signal:e}),t.addEventListener("pointerleave",this,{signal:e}),t.addEventListener("pointerup",this,{signal:e}),t.addEventListener("click",this,{signal:e}),this._element}dispatchSelect(){var t;if(!No(this._declaration))return;let e=new CustomEvent("menu-select",{cancelable:!0,bubbles:!0,detail:{modifiers:this.rootMenu.modifiers,id:this._declaration.id,data:this._declaration.data}});this.parentMenu.dispatchEvent(e)&&typeof this._declaration.onMenuSelect=="function"&&this._declaration.onMenuSelect({target:(t=this.parentMenu.host)!=null?t:void 0,modifiers:this.rootMenu.modifiers,id:this._declaration.id,data:this._declaration.data})}handleEvent(t){var e;if(!(!this.visible||!this.enabled)){if(t.type==="click"){this.rootMenu.state==="modal"&&this.select(),t.stopPropagation(),t.preventDefault();return}if(t.type==="pointerenter"){let r=t;this.rootMenu.cancelDelayedOperation(),this.parentMenu.isSubmenuOpen&&(e=this.parentMenu.activeMenuItem)!=null&&e.movingTowardSubmenu(r)?this.rootMenu.scheduleOperation(()=>{this.parentMenu.activeMenuItem=this,this.openSubmenu()}):(this.parentMenu.activeMenuItem=this,this.openSubmenu({withDelay:!0}));return}if(t.type==="pointerleave"){this.rootMenu.activeSubmenu===this.parentMenu&&(this.parentMenu.activeMenuItem=null);return}if(t.type==="pointerup"){this.rootMenu.state!=="modal"&&this.select(),t.stopPropagation(),t.preventDefault();return}}}select(){if(this.rootMenu.cancelDelayedOperation(),this.type==="submenu"){this.openSubmenu();return}this.active=!1,setTimeout(()=>{this.active=!0,setTimeout(()=>{this.active=!1,this.rootMenu.hide(),this.dispatchSelect()},QN)},QN)}openSubmenu(t){var e;if(this.type!=="submenu"||!this.element)return;if((e=t==null?void 0:t.withDelay)!=null&&e){this.rootMenu.scheduleOperation(()=>this.openSubmenu());return}let r=this.element.getBoundingClientRect(),n=nq(this.element);this.submenu.show({container:this.rootMenu.element.parentNode,location:{x:UN(r,"trailing",n),y:r.top-4},alternateLocation:{x:UN(r,"leading",n),y:r.top-4}})}movingTowardSubmenu(t){if(!this.element||this.type!=="submenu")return!1;let e=this.rootMenu.lastMoveEvent;if(!e)return!1;let r=t.timeStamp-e.timeStamp;if(r>500)return!1;let n=t.clientX-e.clientX;if(D5e(n,e.clientY-t.clientY,r)<=.2)return!1;let i="right";if(this.submenu.element){let s=this.submenu.element.getBoundingClientRect(),o=this.element.getBoundingClientRect();s.left<o.left+o.width/2&&(i="left")}return i==="right"?n>0:n<0}};function D5e(t,e,r){return Math.hypot(t,e)/r}function _c(t,e){return t===void 0||typeof t!="function"?t:(e!=null||(e={alt:!1,control:!1,shift:!1,meta:!1}),t(e))}var sq=class Wf{constructor(e,r){this._element=null,this._activeMenuItem=null,this._dirty=!0;var n,i;this.parentMenu=(n=r==null?void 0:r.parentMenu)!=null?n:null,this._submenuClass=r==null?void 0:r.submenuClass,this.columnCount=(i=r==null?void 0:r.columnCount)!=null?i:1,this.isSubmenuOpen=!1,this.menuItems=e}get children(){return Object.freeze([...this._menuItems])}set menuItems(e){let r=this.parentMenu;this.dispose(),this.parentMenu=r,e=[...e],this._menuItems=e.map(n=>n.onCreate?n.onCreate(n,this):new iq(n,this)),this.hasCheck=void 0,this.dirty=!0}dispose(){var e;this.hide(),this._element&&this._element.remove(),this._abortController&&this._abortController.abort(),(e=this._menuItems)==null||e.forEach(r=>r.dispose()),this._menuItems=[],this._activeMenuItem=null,this.parentMenu=null}handleEvent(e){if(e.type==="wheel"&&this._element){let r=e;this._element.scrollBy(0,r.deltaY),e.stopPropagation()}}dispatchEvent(e){return this.rootMenu.dispatchEvent(e)}get host(){return this.rootMenu.host}get rootMenu(){return this.parentMenu.rootMenu}updateState(e){var r,n,i;this._menuItems.forEach(c=>c.updateState(e));let s=this.hasCheck;this.hasCheck=this._menuItems.some(c=>c.visible&&c.hasCheck),this.hasCheck!==s&&this._menuItems.forEach(c=>c.updateState(e));let o,a=0;for(let c of this._menuItems)c.type==="heading"?(o&&a===0&&(o.visible=!1),o=c,a=0):c.type==="divider"&&o?(o.visible=a>0,o=void 0,a=0):o&&c.visible&&(a+=1);o&&(o.visible=a>0);let l=!0;for(let c of this._menuItems)c.type==="divider"?(c.visible=!l,l=!0):c.visible&&(l=!1);(r=this.activeMenuItem)!=null&&r.visible||(this.activeMenuItem=null),!((n=this.activeMenuItem)!=null&&n.enabled)&&((i=this.activeMenuItem)==null?void 0:i.type)==="submenu"&&this._activeMenuItem.submenu.hide(),this._dirty=!1}get enabled(){return this.updateIfDirty(),this._menuItems.some(e=>e.type!=="divider"&&e.visible&&e.enabled)}get visible(){return this.updateIfDirty(),this._menuItems.some(e=>e.type!=="divider"&&e.visible)}set dirty(e){this._dirty!==e&&e&&this.parentMenu&&(this._dirty=!0,this.parentMenu.dirty=!0)}updateIfDirty(){this._dirty&&this.updateState(this.rootMenu.modifiers)}updateElement(){var e;if(this._element){this._element.textContent="";for(let{element:r,visible:n}of this._menuItems)r&&n&&this._element.append(r);(e=this._element.querySelector("li:first-of-type"))==null||e.setAttribute("tabindex","0")}}get element(){if(this._element)return this._element;let e=document.createElement("menu");e.setAttribute("role","menu"),e.setAttribute("tabindex","-1"),e.setAttribute("aria-orientation","vertical"),e.setAttribute("part","ui-menu-container"),this._submenuClass&&e.classList.add(this._submenuClass),e.classList.add("ui-menu-container"),this._abortController||(this._abortController=new AbortController);let r=this._abortController.signal;return e.addEventListener("focus",this,{signal:r}),e.addEventListener("wheel",this,{passive:!0,signal:r}),this._element=e,this.updateElement(),e}get activeMenuItem(){return this._activeMenuItem}set activeMenuItem(e){var r,n,i,s;if(this.rootMenu.cancelDelayedOperation(),e!==this._activeMenuItem){if(this.activeMenuItem){let o=this.activeMenuItem;o.active=!1,(r=o.submenu)==null||r.hide()}if(!((n=e==null?void 0:e.visible)==null||n)){this._activeMenuItem=null;return}this._activeMenuItem=e,e&&(e.active=!0)}e?(i=e.element)==null||i.focus({preventScroll:!0}):(s=this._element)==null||s.focus({preventScroll:!0})}get firstMenuItem(){this.updateIfDirty();let e=0,r=!1,n=this._menuItems;for(;!r&&e<=n.length-1;){let i=n[e];r=i.type!=="divider"&&i.visible&&i.enabled,e+=1}return r?n[e-1]:null}get lastMenuItem(){this.updateIfDirty();let e=this._menuItems,r=e.length-1,n=!1;for(;!n&&r>=0;){let i=e[r];n=i.type!=="divider"&&i.visible&&i.enabled,r-=1}return n?e[r+1]:null}nextMenuItem(e){if(e===0)return this._activeMenuItem;if(!this._activeMenuItem)return e>0?this.firstMenuItem:this.lastMenuItem;if(!this.firstMenuItem||!this.lastMenuItem||!this._activeMenuItem)return null;this.updateIfDirty();let r=this._menuItems.indexOf(this.firstMenuItem),n=this._menuItems.indexOf(this.lastMenuItem),i=this._menuItems.indexOf(this._activeMenuItem),s=1;for(;i>=r&&i<=n;){i+=e>0?1:-1;let o=this._menuItems[i];if(!o)break;if(o.visible&&o.enabled){if(s===Math.abs(e))return this._menuItems[i];s+=1}}return e>0?this.lastMenuItem:this.firstMenuItem}getMenuItemColumn(e){this.updateIfDirty();let r=this._menuItems.filter(n=>n.visible&&n.enabled).indexOf(e);return r<0?-1:r%this.columnCount}static get collator(){return Wf._collator||(Wf._collator=new Intl.Collator(void 0,{usage:"search",sensitivity:"base"})),Wf._collator}findMenuItem(e){var r;this.updateIfDirty();let n=this._menuItems.filter(a=>a.type!=="divider"&&a.visible&&a.enabled);if(n.length===0)return null;let i=Math.max(...n.map(a=>a.label.length))-e.length;if(i<0)return null;let s=null,o=0;for(;o<i&&!s;)s=(r=n.find(a=>Wf.collator.compare(e,a.label.substring(o,e.length))===0))!=null?r:null,o++;return s}show(e){return!this.visible||!e.container?!1:(this.updateElement(),e.container.appendChild(this.element),gL()&&(this.element.popover="manual",this.element.showPopover()),e.location&&M5e(this.element,{location:e.location,alternateLocation:e.alternateLocation,verticalPos:"bottom",horizontalPos:"start"}),RN(),this.element.focus({preventScroll:!0}),HN(),this.parentMenu&&(this.parentMenu.openSubmenu=this),!0)}hide(){var e,r,n,i,s,o;this.openSubmenu=null,this.activeMenuItem=null,this.parentMenu&&(this.parentMenu.openSubmenu=null),!(!((e=this._element)!=null&&e.isConnected)||!this._element.parentElement)&&(gL()&&(r=this._element)!=null&&r.popover&&this._element.hidePopover(),RN(),(i=(n=this.parentMenu)==null?void 0:n.element)==null||i.focus(),(o=(s=this._element)==null?void 0:s.parentNode)==null||o.removeChild(this._element),HN())}set openSubmenu(e){var r,n,i,s;let o=e!==null;((r=this.activeMenuItem)==null?void 0:r.type)==="submenu"&&((n=this.activeMenuItem.element)==null||n.setAttribute("aria-expanded",o.toString())),(s=(i=this.activeMenuItem)==null?void 0:i.element)==null||s.classList.toggle("is-submenu-open",o),this.isSubmenuOpen=o}};function RN(){document.addEventListener("focusin",pl,!0),document.addEventListener("focusout",pl,!0),document.addEventListener("focus",pl,!0),document.addEventListener("blur",pl,!0)}function pl(t){t.stopImmediatePropagation(),t.preventDefault()}function HN(){document.removeEventListener("focusin",pl,!0),document.removeEventListener("focusout",pl,!0),document.removeEventListener("focus",pl,!0),document.removeEventListener("blur",pl,!0)}var oq=class aq extends sq{constructor(e,r){var n;super(e),this.state="closed",this.typingBufferResetTimer=0,this.hysteresisTimer=0,this._updating=!1,this._host=(n=r==null?void 0:r.host)!=null?n:null,this.isDynamic=e.some(lq),this._modifiers={shift:!1,control:!1,alt:!1,meta:!1},this.typingBuffer="",this.state="closed"}get modifiers(){return this._modifiers}set modifiers(e){JCe(this._modifiers,e)||(this._modifiers=e,this.dirty=!0)}get activeSubmenu(){let e=this;for(;e.isSubmenuOpen;)e=e.activeMenuItem.submenu;return e}set dirty(e){this._updating||this._dirty!==e&&(this._dirty=!0,e&&setTimeout(()=>{this.updateState(this.modifiers),this.updateElement()}))}updateState(e){this._updating=!0,this.modifiers=e??this.modifiers,super.updateState(this.modifiers),this._updating=!1}handleKeyupEvent(e){this.isDynamic&&(this.modifiers=ru(e)),e.stopImmediatePropagation()}handleKeydownEvent(e){var r,n,i;if(e.key==="Tab"||e.key==="Escape"){this.hide();return}this.isDynamic&&(this.modifiers=ru(e));let s=!0,o=this.activeSubmenu,a=o.activeMenuItem;switch(e.key){case" ":case"Space":case"Return":case"Enter":a==null||a.select(ru(e));break;case"ArrowRight":if((a==null?void 0:a.type)==="submenu")a.select(ru(e)),this.activeSubmenu.activeMenuItem=this.activeSubmenu.firstMenuItem;else if(!a)o.activeMenuItem=o.firstMenuItem;else{let l=(r=o.getMenuItemColumn(a))!=null?r:-1;if(l>=0&&l<((n=o.columnCount)!=null?n:1)-1){let c=o.nextMenuItem(1);c&&(o.activeMenuItem=c)}}break;case"ArrowLeft":if(o===this.rootMenu)a||(o.activeMenuItem=o.firstMenuItem);else if((a&&(i=o.getMenuItemColumn(a))!=null?i:-1)<=0||!a){o.hide();let l=o.parentMenu.activeMenuItem;if(l){let{element:c}=l;c==null||c.focus(),c==null||c.classList.remove("is-submenu-open")}}else{let l=o.nextMenuItem(-1);l&&(o.activeMenuItem=l)}break;case"ArrowDown":o.activeMenuItem=o.nextMenuItem(o.columnCount);break;case"ArrowUp":o.activeMenuItem=o.nextMenuItem(-o.columnCount);break;case"Home":case"PageUp":o.activeMenuItem=o.firstMenuItem;break;case"End":case"PageDown":o.activeMenuItem=o.lastMenuItem;break;case"Backspace":if(this.typingBuffer&&(this.typingBuffer=this.typingBuffer.slice(0,-1),this.typingBuffer)){clearTimeout(this.typingBufferResetTimer);let l=o.findMenuItem(this.typingBuffer);l&&(o.activeMenuItem=l),this.typingBufferResetTimer=setTimeout(()=>{this.typingBuffer=""},500)}break;default:if(Ew(e)){isFinite(this.typingBufferResetTimer)&&clearTimeout(this.typingBufferResetTimer),this.typingBuffer+=e.key;let l=o.findMenuItem(this.typingBuffer);l&&(o.activeMenuItem=l),this.typingBufferResetTimer=setTimeout(()=>{this.typingBuffer=""},500)}else s=!1}s&&(e.preventDefault(),e.stopPropagation())}handleEvent(e){if(e.type==="keydown")this.handleKeydownEvent(e);else if(e.type==="keyup")this.handleKeyupEvent(e);else if(e.type==="pointermove")this.lastMoveEvent=e;else if(e.type==="pointerup"&&e.target===this.scrim)Number.isFinite(this.rootMenu._openTimestamp)&&Date.now()-this.rootMenu._openTimestamp<120?this.state="modal":this.state==="modal"&&this.hide();else if(e.type==="contextmenu"){e.preventDefault(),e.stopPropagation();return}super.handleEvent(e)}dispatchEvent(e){return this._host?this._host.dispatchEvent(e):!0}get host(){return this._host}get scrim(){return ds.element}connectScrim(e){let r=this.scrim;r.addEventListener("pointerup",this),r.addEventListener("contextmenu",this),r.addEventListener("keydown",this),r.addEventListener("keyup",this),r.addEventListener("pointermove",this),ds.open({root:e,onDismiss:()=>this.hide()})}disconnectScrim(){let e=this.scrim;e.removeEventListener("pointerup",this),e.removeEventListener("contextmenu",this),e.removeEventListener("keydown",this),e.removeEventListener("keyup",this),e.removeEventListener("pointermove",this),ds.state==="open"&&ds.scrim.close()}get rootMenu(){return this}show(e){return this._onDismiss=e==null?void 0:e.onDismiss,e!=null&&e.modifiers&&(this.modifiers=e.modifiers),this.updateState(),this.connectScrim(e==null?void 0:e.target),super.show(N(D({},e),{container:this.scrim}))?(this._openTimestamp=Date.now(),this.state="open",!0):(this.disconnectScrim(),!1)}hide(){this.cancelDelayedOperation(),this.state!==void 0&&(this.state!=="closed"&&(this.activeMenuItem=null,ds.element.parentElement.focus(),super.hide(),this.state="closed",this.disconnectScrim()),this._onDismiss&&(this._onDismiss(),this._onDismiss=void 0))}scheduleOperation(e){this.cancelDelayedOperation();let r=aq.SUBMENU_DELAY;if(r<=0){e();return}this.hysteresisTimer=setTimeout(()=>{this.hysteresisTimer=0,e()},r)}cancelDelayedOperation(){this.hysteresisTimer&&(clearTimeout(this.hysteresisTimer),this.hysteresisTimer=0)}};oq.SUBMENU_DELAY=120;var $N=oq;function lq(t){return p_(t)?!1:typeof t.label=="function"||typeof t.ariaLabel=="function"||typeof t.tooltip=="function"||(No(t)||Ad(t))&&(typeof t.enabled=="function"||typeof t.visible=="function")||No(t)&&typeof t.checked=="function"?!0:Ad(t)?t.submenu.some(lq):!1}var Hb=class{};Hb.DELAY=300,Hb.MAX_DISTANCE=10;function L5e(t){return new Promise((e,r)=>{let n=Lb(t);n||e(!1);let i=n,s=setTimeout(()=>{o.abort(),e(T5e(i,n)<Hb.MAX_DISTANCE)},Hb.DELAY),o=new AbortController,a=o.signal;for(let l of["pointermove","pointerup","pointercancel"])window.addEventListener(l,c=>{if(c.type==="pointerup"||c.type==="pointercancel")clearTimeout(s),o.abort(),e(!1);else if(c.type==="pointermove"){let u=Lb(c);u&&(i=u)}},{passive:!0,signal:a})})}async function VN(t,e,r){if(t.defaultPrevented)return!1;if(t.type==="contextmenu"){let n=t;if(r.show({target:e,location:Lb(n),modifiers:ru(n)}))return t.preventDefault(),t.stopPropagation(),!0}if(t.type==="keydown"){let n=t;if(n.code==="ContextMenu"||n.code==="F10"&&n.shiftKey){let i=e==null?void 0:e.getBoundingClientRect();if(KN(e)&&i&&r.show({target:e,location:{x:Math.ceil(i.left+i.width/2),y:Math.ceil(i.top+i.height/2)},modifiers:ru(n)}))return t.preventDefault(),t.stopPropagation(),!0}}if(t.type==="pointerdown"&&t.pointerType!=="mouse"&&t.button===0){let n=t.target;for(;n&&e!==n;)n=n.parentNode;if(!n||!r.visible)return!1;let i=Lb(t);if(await L5e(t))return r.state!=="closed"||!KN(e)?!1:(r.show({target:e,location:i}),!0)}return!1}function KN(t){return t.dispatchEvent(new Event("contextmenu",{cancelable:!0}))}var zN={acute:714,grave:715,dot:729,ddot:168,dddot:8411,ddddot:8412,mathring:730,tilde:126,bar:713,breve:728,check:711,hat:94,vec:8407};ee(Object.keys(zN),"{body:auto}",{createAtom:t=>new Cw(N(D({},t),{body:he(t.args[0]),accentChar:zN[t.command.slice(1)]}))});ee(["widehat","widecheck","widetilde"],"{body:auto}",{createAtom:t=>{let e=bW(he(t.args[0]));return new Cw(N(D({},t),{body:he(t.args[0]),svgAccent:t.command.slice(1)+(e.length>5?"4":["1","1","2","2","3","3"][e.length])}))}});ee(["overarc","overparen","wideparen"],"{body:auto}",{createAtom:t=>new Cw(N(D({},t),{body:he(t.args[0]),svgAccent:"overarc"}))});ee(["underarc","underparen"],"{body:auto}",{createAtom:t=>new Xi(N(D({},t),{body:he(t.args[0]),svgBelow:"underarc"}))});ee("utilde","{body:auto}",{createAtom:t=>{let e=he(t.args[0]),r=bW(e),n="widetilde"+(r.length>5?"4":["1","1","2","2","3","3"][r.length]);return new Xi(N(D({},t),{body:e,svgBelow:n,boxType:_0(e)}))}});ee("^","{:string}",{createAtom:t=>{var e;return new X(N(D({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[t.args[0]])!=null?e:"^"}))}});ee("`","{:string}",{createAtom:t=>{var e;return new X(N(D({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[t.args[0]])!=null?e:"`"}))}});ee("'","{:string}",{createAtom:t=>{var e;return new X(N(D({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[t.args[0]])!=null?e:"'"}))}});ee('"',"{:string}",{createAtom:t=>{var e,r;return new X(N(D({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:(e=t.args)!=null&&e[0]?(r={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[t.args[0]])!=null?r:'"'+t.args[0]:'"'}))}});ee(".","{:string}",{createAtom:t=>{var e,r;return new X(N(D({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:(e=t.args)!=null&&e[0]?(r={a:"",e:"",i:"i",o:"",u:"u",A:"",E:"",I:"",O:"",U:"U"}[t.args[0]])!=null?r:"."+t.args[0]:"."}))}});ee("=","{:string}",{createAtom:t=>{var e,r;return new X(N(D({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:(e=t.args)!=null&&e[0]?(r={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[t.args[0]])!=null?r:"="+t.args[0]:"="}))}});ee("~","{:string}",{createAtom:t=>{var e;return new X(N(D({type:"mord"},t),{isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={n:"",N:"",a:"",o:"",A:"",O:""}[t.args[0]])!=null?e:""}))}});ee("c","{:string}",{createAtom:t=>{var e;return new X(N(D({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={c:"",C:""}[t.args[0]])!=null?e:""}))}});ee("enclose","{notation:string}[style:string]{body:auto}",{createAtom:t=>{var e,r;let n=t.args,i={strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",backgroundcolor:"transparent",padding:"auto",shadow:"none",svgStrokeStyle:void 0,borderStyle:void 0,style:(e=t.style)!=null?e:{}};if(n[1]){let o=n[1].split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(let a of o){let l=a.match(/\s*(\S+)\s+(\S+)\s+(.*)/);if(l)i.strokeWidth=l[1],i.strokeStyle=l[2],i.strokeColor=l[3];else{let c=a.match(/\s*([a-z]*)\s*=\s*"(.*)"/);c&&(c[1]==="mathbackground"?i.backgroundcolor=c[2]:c[1]==="mathcolor"?i.strokeColor=c[2]:c[1]==="padding"?i.padding=c[2]:c[1]==="shadow"&&(i.shadow=c[2]))}}i.strokeStyle==="dashed"?i.svgStrokeStyle="5,5":i.strokeStyle==="dotted"&&(i.svgStrokeStyle="1,5")}i.borderStyle=`${i.strokeWidth} ${i.strokeStyle} ${i.strokeColor}`;let s={};return((r=n[0])!=null?r:"").split(/[, ]/).filter(o=>o.length>0).forEach(o=>{s[o.toLowerCase()]=!0}),new S0(t.command,he(n[2]),s,i)}});ee("cancel","{body:auto}",{createAtom:t=>{var e;return new S0(t.command,he(t.args[0]),{updiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(e=t.style)!=null?e:{}})}});ee("bcancel","{body:auto}",{createAtom:t=>{var e;return new S0(t.command,he(t.args[0]),{downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(e=t.style)!=null?e:{}})}});ee("xcancel","{body:auto}",{createAtom:t=>{var e;return new S0(t.command,he(t.args[0]),{updiagonalstrike:!0,downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(e=t.style)!=null?e:{}})}});ee(["overrightarrow","overleftarrow","Overrightarrow","overleftharpoon","overrightharpoon","overleftrightarrow","overlinesegment","overgroup"],"{:auto}",{createAtom:t=>{var e;return new Xi(N(D({},t),{body:he((e=t.args)==null?void 0:e[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",svgAbove:t.command.slice(1)}))}});ee("overbrace","{:auto}",{createAtom:t=>new Xi(N(D({},t),{body:he(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",svgAbove:t.command.slice(1)}))});ee(["underrightarrow","underleftarrow","underleftrightarrow","underlinesegment","undergroup"],"{:auto}",{createAtom:t=>new Xi(N(D({},t),{body:he(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",svgBelow:t.command.slice(1)}))});ee(["underbrace"],"{:auto}",{createAtom:t=>new Xi(N(D({},t),{body:he(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",svgBelow:t.command.slice(1)}))});ee(["xrightarrow","longrightarrow","xleftarrow","longleftarrow","xRightarrow","xLeftarrow","xleftharpoonup","xleftharpoondown","xrightharpoonup","xrightharpoondown","xlongequal","xtwoheadleftarrow","xtwoheadrightarrow","xleftrightarrow","longleftrightarrow","xLeftrightarrow","xrightleftharpoons","longrightleftharpoons","xleftrightharpoons","xhookleftarrow","xhookrightarrow","xmapsto","xtofrom","xleftrightarrows","longleftrightarrows","xRightleftharpoons","longRightleftharpoons","xLeftrightharpoons","longLeftrightharpoons"],"[:auto]{:auto}",{createAtom:t=>{var e,r,n,i,s;return new Xi(N(D({},t),{svgBody:t.command.slice(1),above:((r=he((e=t.args)==null?void 0:e[1]))==null?void 0:r.length)===0?void 0:he((n=t.args)==null?void 0:n[1]),below:(s=he((i=t.args)==null?void 0:i[0]))!=null?s:null,skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,paddedLabels:!0,boxType:"rel"}))},serialize:(t,e)=>t.command+(t.hasEmptyBranch("below")?"":`[${t.belowToLatex(e)}]`)+`{${t.aboveToLatex(e)}}${t.supsubToLatex(e)}`});ee(["arccos","arcsin","arctan","arctg","arcctg","arg","ch","cos","cosh","cot","cotg","coth","ctg","cth","csc","cosec","deg","dim","exp","gcd","hom","inf","ker","lb","lg","ln","log","Pr","sec","sh","sin","sinh","sup","tan","tanh","tg","th","arcsec","arccsc","arsinh","arcosh","artanh","arcsech","arccsch"],"",{isFunction:!0,ifMode:"math",createAtom:t=>new Wu(t.command.slice(1),N(D({},t),{limits:"adjacent",isFunction:!0,variant:"main",variantStyle:"up"}))});ee(["liminf","limsup"],"",{ifMode:"math",createAtom:t=>new Wu({"\\liminf":"lim inf","\\limsup":"lim sup"}[t.command],N(D({},t),{limits:"over-under",variant:"main"}))});ee(["lim","mod"],"",{ifMode:"math",createAtom:t=>new Wu(t.command.slice(1),N(D({},t),{limits:"over-under",variant:"main"}))});ee(["det","max","min"],"",{ifMode:"math",isFunction:!0,createAtom:t=>new Wu(t.command.slice(1),N(D({},t),{limits:"over-under",isFunction:!0,variant:"main"}))});ee("ang","{:math}",{ifMode:"math",createAtom:t=>new X(N(D({},t),{body:he(t.args[0])})),serialize:(t,e)=>`\\ang{${t.bodyToLatex(e)}}`,render:(t,e)=>{let r=t.createBox(e),n=r.caret;r.caret=void 0;let i=new oe("",{style:N(D({},t.style),{variant:"normal",variantStyle:"up"})});return new oe([r,i],{type:"inner",isSelected:t.isSelected,caret:n})}});ee("sqrt","[index:auto]{radicand:expression}",{ifMode:"math",createAtom:t=>new EG(N(D({},t),{body:he(t.args[1]),index:t.args[0]?he(t.args[0]):void 0}))});ee(["frac","dfrac","tfrac","binom","dbinom","tbinom"],"{:expression}{:expression}",{ifMode:"math",createAtom:t=>{let e=D({},t),r=t.command,n=t.args;switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":e.hasBarLine=!0;break;case"\\atopfrac":e.hasBarLine=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":e.hasBarLine=!1,e.leftDelim="(",e.rightDelim=")";break;case"\\cfrac":e.hasBarLine=!0,e.continuousFraction=!0;break}switch(r){case"\\dfrac":case"\\dbinom":e.mathstyleName="displaystyle";break;case"\\tfrac":case"\\tbinom":e.mathstyleName="textstyle";break}return new Ku(n[0]?he(n[0]):[new mo],n[1]?he(n[1]):[new mo],e)},serialize:(t,e)=>{let r=t.aboveToLatex(e),n=t.belowToLatex(e);return/^[0-9]$/.test(r)&&/^[0-9]$/.test(n)?`${t.command}${r}${n}`:ct(t.command,r,n)}});ee(["cfrac"],"[:string]{:expression}{:expression}",{ifMode:"math",createAtom:t=>{let e=D({},t),r=t.args;return e.hasBarLine=!0,e.continuousFraction=!0,r[0]==="r"&&(e.align="right"),r[0]==="l"&&(e.align="left"),new Ku(r[1]?he(r[1]):[new mo],r[2]?he(r[2]):[new mo],e)},serialize:(t,e)=>{let r=t.aboveToLatex(e),n=t.belowToLatex(e);return ct(t.command,r,n)}});ee(["brace","brack"],"",{infix:!0,createAtom:t=>new Ku(he(t.args[0]),he(t.args[1]),N(D({},t),{hasBarLine:!1,leftDelim:t.command==="\\brace"?"\\lbrace":"\\lbrack",rightDelim:t.command==="\\brace"?"\\rbrace":"\\rbrack"})),serialize:(t,e)=>Le([t.aboveToLatex(e),t.command,t.belowToLatex(e)])});ee(["over","atop","choose"],"",{infix:!0,createAtom:t=>{let e,r,n=t.args;return t.command==="\\choose"&&(e="(",r=")"),new Ku(he(n[0]),he(n[1]),N(D({},t),{hasBarLine:t.command==="\\over",leftDelim:e,rightDelim:r}))},serialize:(t,e)=>Le([t.aboveToLatex(e),t.command,t.belowToLatex(e)])});ee(["overwithdelims","atopwithdelims"],"{numer:auto}{denom:auto}{left-delim:delim}{right-delim:delim}",{infix:!0,createAtom:t=>{var e,r;let n=t.args;return new Ku(he(n[0]),he(n[1]),N(D({},t),{leftDelim:(e=n[2])!=null?e:".",rightDelim:(r=n[3])!=null?r:".",hasBarLine:!1}))},serialize:(t,e)=>`${t.aboveToLatex(e)} ${t.command}${t.leftDelim}${t.rightDelim}${t.belowToLatex(e)}`});ee("pdiff","{numerator}{denominator}",{ifMode:"math",createAtom:t=>new Ku(he(t.args[0]),he(t.args[1]),N(D({},t),{hasBarLine:!0,numerPrefix:"",denomPrefix:""}))});ee(["sum","prod","bigcup","bigcap","coprod","bigvee","bigwedge","biguplus","bigotimes","bigoplus","bigodot","bigsqcup","intop"],"",{ifMode:"math",createAtom:t=>new vE({coprod:"",bigvee:"",bigwedge:"",biguplus:"",bigcap:"",bigcup:"",intop:"",prod:"",sum:"",bigotimes:"",bigoplus:"",bigodot:"",bigsqcup:"",smallint:""}[t.command.slice(1)],N(D({},t),{limits:"auto",variant:"main"}))});ee("smallint","",{ifMode:"math",createAtom:t=>new Wu("",N(D({},t),{limits:"adjacent",variant:"main"}))});var WN={int:"",iint:"",iiint:"",oint:"",oiint:"",oiiint:"",intclockwise:"",varointclockwise:"",ointctrclockwise:"",intctrclockwise:"",sqcup:"",sqcap:"",uplus:"",wr:"",amalg:"",Cap:"",Cup:"",doublecap:"",doublecup:""};ee(Object.keys(WN),"",{ifMode:"math",createAtom:t=>{let e=t.command,r=WN[e.slice(1)];return new vE(r,N(D({},t),{limits:"adjacent",variant:{"":"ams","":"ams"}[r]}))}});ee(["Re","Im"],"",{ifMode:"math",createAtom:t=>new Wu({"\\Re":"","\\Im":""}[t.command],N(D({},t),{limits:"adjacent",isFunction:!0,variant:"fraktur"}))});ee("middle","{:delim}",{ifMode:"math",createAtom:t=>{var e;return new pG(N(D({},t),{delim:(e=t.args[0])!=null?e:"|",size:1}))}});ee("the","{:value}",{createAtom:t=>new X(N(D({},t),{captureSelection:!0,verbatimLatex:null})),render:(t,e)=>{var r;let n=new Pe({parent:e},t.style),i="";t.isSelected&&(i+=" ML__selected");let s=n.evaluate(t.args[0]);return new oe(((r=Mr(s))!=null?r:"").split("").map(o=>new oe(o,{type:"ord",classes:i,mode:t.mode,isSelected:t.isSelected,style:D({variant:"main"},t.style)})),{type:"lift",style:t.style,caret:t.caret,isSelected:t.isSelected,classes:i}).wrap(n)},serialize:t=>{var e;return`\\the${(e=Mr(t.args[0]))!=null?e:"\\relax"}`}});ee("mathtip","{:auto}{:math}",{createAtom:t=>new xE(N(D({},t),{body:he(t.args[0]),tooltip:he(t.args[1]),content:"math"})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\mathtip{${t.bodyToLatex(e)}}{${X.serialize([t.tooltip],N(D({},e),{defaultMode:"math"}))}}`});ee("texttip","{:auto}{:text}",{createAtom:t=>new xE(N(D({},t),{body:he(t.args[0]),tooltip:he(t.args[1]),content:"text"})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\texttip{${t.bodyToLatex(e)}}{${X.serialize([t.tooltip],N(D({},e),{defaultMode:"text"}))}}`});ee("error","{:math}",{createAtom:t=>new X(N(D({},t),{body:he(t.args[0])})),serialize:(t,e)=>`\\error{${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__error"})});ee("ensuremath","{:math}",{createAtom:t=>new X(N(D({},t),{body:he(t.args[0])})),serialize:(t,e)=>`${t.command}{${t.bodyToLatex(N(D({},e),{defaultMode:"math"}))}}`});ee("color","{:value}",{applyStyle:(t,e,r,n)=>{var i,s;return N(D({},t),{verbatimColor:(i=Mr(r[0]))!=null?i:void 0,color:n.toColor((s=r[0])!=null?s:{string:"red"})})}});ee("textcolor","{:value}{content:auto*}",{applyStyle:(t,e,r,n)=>{var i,s;return N(D({},t),{verbatimColor:(i=Mr(r[0]))!=null?i:void 0,color:n.toColor((s=r[0])!=null?s:{string:"red"})})}});ee("boxed","{content:math}",{createAtom:t=>new Gl(N(D({},t),{body:he(t.args[0]),framecolor:{string:"black"}}))});ee("colorbox","{:value}{:text*}",{applyStyle:(t,e,r,n)=>{var i,s;return N(D({},t),{verbatimBackgroundColor:(i=Mr(r[0]))!=null?i:void 0,backgroundColor:n.toBackgroundColor((s=r[0])!=null?s:{string:"yellow"})})}});ee("fcolorbox","{frame-color:value}{background-color:value}{content:text}",{applyMode:"text",createAtom:t=>{var e,r;return new Gl(N(D({},t),{body:he(t.args[2]),framecolor:(e=t.args[0])!=null?e:{string:"blue"},backgroundcolor:(r=t.args[1])!=null?r:{string:"yellow"}}))},serialize:(t,e)=>{var r,n;return e.skipStyles?t.bodyToLatex(N(D({},e),{defaultMode:"text"})):ct(t.command,(r=Mr(t.framecolor))!=null?r:"",(n=Mr(t.backgroundcolor))!=null?n:"",t.bodyToLatex(N(D({},e),{defaultMode:"text"})))}});ee("bbox","[:bbox]{body:auto}",{createAtom:t=>{var e;let r=t.args[0],n=he(t.args[1]);return r?new Gl(N(D({},t),{body:n,padding:r.padding,border:r.border,backgroundcolor:(e=r.backgroundcolor)!=null?e:void 0})):new Gl(N(D({},t),{body:n}))},serialize:(t,e)=>{var r,n;if(e.skipStyles)return t.bodyToLatex(e);let i=t.command;if(Number.isFinite(t.padding)||t.border!==void 0||t.backgroundcolor!==void 0){let s=[];t.padding&&s.push((r=Mr(t.padding))!=null?r:""),t.border&&s.push(`border: ${t.border}`),t.backgroundcolor&&s.push((n=Mr(t.backgroundcolor))!=null?n:""),i+=`[${s.join(",")}]`}return ct(i,t.bodyToLatex(e))}});ee(["displaystyle","textstyle","scriptstyle","scriptscriptstyle"],"{:rest}",{createAtom:t=>new X(N(D({},t),{body:he(t.args[0])})),render:(t,e)=>{let r=new Pe({parent:e,mathstyle:t.command.slice(1)},t.style),n=X.createBox(r,t.body,{type:"lift"});return t.caret&&(n.caret=t.caret),t.bind(e,n)},serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`{${Le([t.command,t.bodyToLatex(e)])}}`});ee(["tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"],"",{applyStyle:(t,e)=>N(D({},t),{fontSize:{"\\tiny":1,"\\scriptsize":2,"\\footnotesize":3,"\\small":4,"\\normalsize":5,"\\large":6,"\\Large":7,"\\LARGE":8,"\\huge":9,"\\Huge":10}[e]})});ee("fontseries","{:string}",{ifMode:"text",applyStyle:(t,e,r)=>{var n;return N(D({},t),{fontSeries:(n=r[0])!=null?n:"auto"})}});ee("fontshape","{:string}",{ifMode:"text",applyStyle:(t,e,r)=>{var n;return N(D({},t),{fontShape:(n=r[0])!=null?n:"auto"})}});ee("fontfamily","{:string}",{ifMode:"text",applyStyle:(t,e,r)=>{var n;return N(D({},t),{fontFamily:(n=r[0])!=null?n:"roman"})}});ee("selectfont","",{ifMode:"text",applyStyle:t=>t});ee("bf","{:rest*}",{applyStyle:t=>N(D({},t),{fontSeries:"b",fontShape:"n",fontFamily:"roman"})});ee(["boldsymbol","bm","bold"],"{:math*}",{applyMode:"math",applyStyle:t=>N(D({},t),{variantStyle:"bold"})});ee("bfseries","{:rest*}",{applyMode:"text",applyStyle:t=>N(D({},t),{fontSeries:"b"})});ee("mdseries","{:rest*}",{applyMode:"text",applyStyle:t=>N(D({},t),{fontSeries:"m"})});ee("upshape","{:rest*}",{applyMode:"text",applyStyle:t=>N(D({},t),{fontShape:"n"})});ee("slshape","{:rest*}",{applyMode:"text",applyStyle:t=>N(D({},t),{fontShape:"sl"})});ee("scshape","{:rest*}",{applyMode:"text",applyStyle:t=>N(D({},t),{fontShape:"sc"})});ee("textbf","{:text*}",{applyMode:"text",applyStyle:t=>N(D({},t),{fontSeries:"b"})});ee("textmd","{:text*}",{applyMode:"text",applyStyle:t=>N(D({},t),{fontSeries:"m"})});ee("textup","{:text*}",{applyMode:"text",applyStyle:t=>N(D({},t),{fontShape:"n"})});ee("textnormal","{:text*}",{applyMode:"text",applyStyle:t=>N(D({},t),{fontShape:"n",fontSeries:"m"})});ee("textsl","{:text*}",{applyMode:"text",applyStyle:t=>N(D({},t),{fontShape:"sl"})});ee("textit","{:text*}",{applyMode:"text",applyStyle:t=>N(D({},t),{fontShape:"it"})});ee("textsc","{:text*}",{applyMode:"text",applyStyle:t=>N(D({},t),{fontShape:"sc"})});ee("textrm","{:text*}",{applyMode:"text",applyStyle:t=>N(D({},t),{fontFamily:"roman"})});ee("textsf","{:text*}",{applyMode:"text",applyStyle:t=>N(D({},t),{fontFamily:"sans-serif"})});ee("texttt","{:text*}",{applyMode:"text",applyStyle:t=>N(D({},t),{fontFamily:"monospace"})});ee("mathbf","{:math*}",{applyMode:"math",applyStyle:t=>N(D({},t),{variant:"normal",variantStyle:"bold"})});ee("mathit","{:math*}",{applyMode:"math",applyStyle:t=>N(D({},t),{variant:"main",variantStyle:"italic"})});ee("mathnormal","{:math*}",{applyMode:"math",applyStyle:t=>N(D({},t),{variant:"normal",variantStyle:"italic"})});ee("mathbfit","{:math*}",{applyMode:"math",applyStyle:t=>N(D({},t),{variant:"main",variantStyle:"bolditalic"})});ee("mathrm","{:math*}",{applyMode:"math",applyStyle:t=>N(D({},t),{variant:"normal",variantStyle:"up"})});ee("mathsf","{:math*}",{applyMode:"math",applyStyle:t=>N(D({},t),{variant:"sans-serif",variantStyle:"up"})});ee("mathtt","{:math*}",{applyMode:"math",applyStyle:t=>N(D({},t),{variant:"monospace",variantStyle:"up"})});ee("it","{:rest*}",{applyStyle:t=>N(D({},t),{fontSeries:"m",fontShape:"it",fontFamily:"roman",variantStyle:"italic"})});ee("rmfamily","{:rest*}",{applyStyle:t=>N(D({},t),{fontFamily:"roman"})});ee("sffamily","{:rest*}",{applyStyle:t=>N(D({},t),{fontFamily:"sans-serif"})});ee("ttfamily","{:rest*}",{applyStyle:t=>N(D({},t),{fontFamily:"monospace"})});ee(["Bbb","mathbb"],"{:math*}",{applyStyle:t=>N(D({},t),{variant:"double-struck",variantStyle:kw(t.variantStyle)})});ee(["frak","mathfrak"],"{:math*}",{applyStyle:t=>N(D({},t),{variant:"fraktur",variantStyle:kw(t.variantStyle)})});ee("mathcal","{:math*}",{applyStyle:t=>N(D({},t),{variant:"calligraphic",variantStyle:kw(t.variantStyle)})});ee("mathscr","{:math*}",{applyStyle:t=>N(D({},t),{variant:"script",variantStyle:kw(t.variantStyle)})});ee("mbox","{:text}",{ifMode:"math",createAtom:t=>new X(N(D({},t),{type:"mord",body:he(t.args[0]),mode:"math"})),serialize:(t,e)=>ct("\\mbox",t.bodyToLatex(N(D({},e),{defaultMode:"text"})))});ee("text","{:text}",{ifMode:"math",applyMode:"text"});ee(["class","htmlClass"],"{name:string}{content:auto}",{createAtom:t=>new X(N(D({},t),{body:he(t.args[1])})),serialize:(t,e)=>!t.args[0]||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`,render:(t,e)=>{var r;return t.createBox(e,{classes:(r=t.args[0])!=null?r:""})}});ee(["cssId","htmlId"],"{id:string}{content:auto}",{createAtom:t=>new X(N(D({},t),{body:he(t.args[1])})),serialize:(t,e)=>{var r;return!((r=t.args)!=null&&r[0])||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var r;let n=t.createBox(e);return n.cssId=(r=t.args[0])!=null?r:"",n}});ee("htmlData","{data:string}{content:auto}",{createAtom:t=>new X(N(D({},t),{body:he(t.args[1])})),serialize:(t,e)=>{var r;return!((r=t.args)!=null&&r[0])||e.skipStyles?t.bodyToLatex(e):`\\htmlData{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var r;let n=t.createBox(e);return n.htmlData=(r=t.args[0])!=null?r:"",n}});ee(["style","htmlStyle"],"{data:string}{content:auto}",{createAtom:t=>new X(N(D({},t),{body:he(t.args[1])})),serialize:(t,e)=>{var r;return!((r=t.args)!=null&&r[0])||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var r;let n=t.createBox(e);return n.htmlStyle=(r=t.args[0])!=null?r:"",n}});ee("href","{url:string}{content:auto}",{createAtom:t=>new X(N(D({},t),{body:he(t.args[1])})),render:(t,e)=>{var r;let n=t.createBox(e),i=(r=t.args[0])!=null?r:"";return i&&(n.htmlData=`href=${i}`),n}});ee("em","{:rest}",{createAtom:t=>new X(N(D({},t),{body:he(t.args[0])})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`{\\em ${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__emph",boxType:"lift"})});ee("emph","{:auto}",{createAtom:t=>new X(N(D({},t),{body:he(t.args[1])})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\emph{${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__emph",boxType:"lift"})});var GN={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};ee(["bigl","Bigl","biggl","Biggl","bigr","Bigr","biggr","Biggr","bigm","Bigm","biggm","Biggm","big","Big","bigg","Bigg"],"{:delim}",{createAtom:t=>{var e;return new gG(N(D({},t),{delim:(e=t.args[0])!=null?e:".",size:GN[t.command].size,delimType:GN[t.command].mclass}))}});ee(["hspace","hspace*"],"{width:value}",{createAtom:t=>{var e;return new E0(N(D({},t),{width:(e=t.args[0])!=null?e:{dimension:0}}))}});ee(["mkern","kern","mskip","hskip","mspace"],"{width:value}",{createAtom:t=>{var e;return new E0(N(D({},t),{width:(e=t.args[0])!=null?e:{dimension:0}}))}});ee("mathchoice","{:math}{:math}{:math}{:math}",{createAtom:t=>new X(t),render:(t,e)=>{let r=0,n=e.mathstyle.id;(n===ww||n===Hc)&&(r=1),(n===Sd||n===ii)&&(r=2),(n===tu||n===Zr)&&(r=3);let i=he(t.args[r]);return X.createBox(e,i)},serialize:(t,e)=>`\\mathchoice{${X.serialize(t.args[0],e)}}{${X.serialize(t.args[1],e)}}{${X.serialize(t.args[2],e)}}{${X.serialize(t.args[3],e)}}`});ee("mathop","{:auto}",{createAtom:t=>new X(N(D({},t),{type:"mop",body:he(t.args[0]),limits:"over-under",isFunction:!0,captureSelection:!0})),render:(t,e)=>{var r;let n=X.createBox(e,t.body);if(t.superscript||t.subscript){let i=(r=t.subsupPlacement)!=null?r:"auto";n=i==="over-under"||i==="auto"&&e.isDisplayStyle?t.attachLimits(e,{base:n}):t.attachSupsub(e,{base:n})}return t.caret&&(n.caret=t.caret),new oe(t.bind(e,n),{type:"op",isSelected:t.isSelected,classes:"ML__op-group"})},serialize:(t,e)=>{let r=[ct(t.command,t.bodyToLatex(e))];return t.explicitSubsupPlacement&&(t.subsupPlacement==="over-under"&&r.push("\\limits"),t.subsupPlacement==="adjacent"&&r.push("\\nolimits"),t.subsupPlacement==="auto"&&r.push("\\displaylimits")),r.push(t.supsubToLatex(e)),Le(r)}});ee(["mathbin","mathrel","mathopen","mathclose","mathpunct","mathord","mathinner"],"{:auto}",{createAtom:t=>new X(N(D({},t),{type:{"\\mathbin":"mbin","\\mathrel":"mrel","\\mathopen":"mopen","\\mathclose":"mclose","\\mathpunct":"mpunct","\\mathord":"mord","\\mathinner":"minner"}[t.command],body:he(t.args[0])}))});ee(["operatorname","operatorname*"],"{operator:math}",{createAtom:t=>{let e=he(t.args[0]).map(r=>{var n;return r.type!=="first"&&(r.type="mord",r.value=(n={"":"*","":"-"}[r.value])!=null?n:r.value,r.isFunction=!1,!r.style.variant&&!r.style.variantStyle&&(r.style.variant="main",r.style.variantStyle="up")),r});return new X(N(D({},t),{type:"mop",body:e,isFunction:!0,limits:t.command==="\\operatorname"?"adjacent":"over-under"}))},render:(t,e)=>{var r;let n=X.createBox(e,t.body);if(t.superscript||t.subscript){let i=(r=t.subsupPlacement)!=null?r:"auto";n=i==="over-under"||i==="auto"&&e.isDisplayStyle?t.attachLimits(e,{base:n}):t.attachSupsub(e,{base:n})}return t.caret&&(n.caret=t.caret),new oe(t.bind(e,n),{type:"op",isSelected:t.isSelected,classes:"ML__op-group"})},serialize:(t,e)=>{let r=[ct(t.command,t.bodyToLatex(e))];return t.explicitSubsupPlacement&&(t.subsupPlacement==="over-under"&&r.push("\\limits"),t.subsupPlacement==="adjacent"&&r.push("\\nolimits"),t.subsupPlacement==="auto"&&r.push("\\displaylimits")),r.push(t.supsubToLatex(e)),Le(r)}});ee(["char","unicode"],"{charcode:value}",{createAtom:t=>new X(N(D({},t),{type:t.mode==="text"?"text":"mord"})),serialize:t=>{var e;return`${t.command}${Mr((e=t.args[0])!=null?e:{number:10067,base:"hexadecimal"})}`},render:(t,e)=>{let r=e.evaluate(t.args[0]);return(!r||!("number"in r))&&(r={number:10067,base:"hexadecimal"}),t.value=String.fromCodePoint(r.number),t.createBox(e)}});ee("rule","[raise:value]{width:value}{thickness:value}",{createAtom:t=>new X(t),render:(t,e)=>{var r,n,i;let s=new Pe({parent:e,mathstyle:"textstyle"},t.style),o=s.toEm((r=t.args[0])!=null?r:{dimension:0}),a=s.toEm((n=t.args[1])!=null?n:{dimension:10}),l=s.toEm((i=t.args[2])!=null?i:{dimension:10}),c=new oe(null,{classes:"ML__rule",type:"ord"});return c.width=a,c.height=l+o,c.depth=-o,c.setStyle("border-right-width",a,"em"),c.setStyle("border-top-width",l,"em"),c.setStyle("border-color",t.style.color),c.setStyle("vertical-align",o,"em"),t.isSelected&&c.setStyle("opacity","50%"),t.bind(s,c),t.caret&&(c.caret=t.caret),c.wrap(e)},serialize:t=>`\\rule${t.args[0]?`[${Mr(t.args[0])}]`:""}{${Mr(t.args[1])}}{${Mr(t.args[2])}}`});ee(["overline","underline"],"{:auto}",{createAtom:t=>new X(N(D({},t),{body:he(t.args[0])})),render:(t,e)=>{let r=t.command.substring(1),n=new Pe({parent:e,mathstyle:"cramp"},t.style),i=X.createBox(n,t.body);if(!i)return null;let s=n.metrics.defaultRuleThickness/n.scalingFactor,o=new oe(null,{classes:r+"-line"});o.height=s,o.maxFontSize=s*1.125*n.scalingFactor;let a;return r==="overline"?a=new rr({shift:0,children:[{box:i},3*s,{box:o},s]}):a=new rr({top:i.height,children:[s,{box:o},3*s,{box:i}]}),t.caret&&(a.caret=t.caret),new oe(a,{classes:r,type:"ignore"})}});ee("overset","{:auto}{base:auto}",{createAtom:t=>{let e=he(t.args[1]);return new Xi(N(D({},t),{above:he(t.args[0]),body:e,skipBoundary:!1,boxType:_0(e)}))},serialize:(t,e)=>ct(t.command,t.aboveToLatex(e),t.bodyToLatex(e))});ee("underset","{:auto}{base:auto}",{createAtom:t=>{let e=he(t.args[1]);return new Xi(N(D({},t),{below:he(t.args[0]),body:e,skipBoundary:!1,boxType:_0(e)}))},serialize:(t,e)=>ct(t.command,t.belowToLatex(e),t.bodyToLatex(e))});ee("overunderset","{above:auto}{below:auto}{base:auto}",{createAtom:t=>{let e=he(t.args[2]);return new Xi(N(D({},t),{above:he(t.args[0]),below:he(t.args[1]),body:e,skipBoundary:!1,boxType:_0(e)}))},serialize:(t,e)=>ct(t.command,t.belowToLatex(e),t.bodyToLatex(e))});ee(["stackrel","stackbin"],"[below:auto]{above:auto}{base:auto}",{createAtom:t=>new Xi(N(D({},t),{body:he(t.args[2]),above:he(t.args[1]),below:he(t.args[0]),skipBoundary:!1,boxType:t.command==="\\stackrel"?"rel":"bin"})),serialize:(t,e)=>ct(t.command,t.aboveToLatex(e),t.bodyToLatex(e))});ee("smash","[:string]{:auto}",{createAtom:t=>{var e,r,n,i;return new k0(N(D({},t),{body:he(t.args[1]),smashHeight:(r=(e=t.args[0])==null?void 0:e.includes("t"))!=null?r:!0,smashDepth:(i=(n=t.args[0])==null?void 0:n.includes("b"))!=null?i:!0}))}});ee(["vphantom"],"{:auto}",{createAtom:t=>new k0(N(D({},t),{body:he(t.args[0]),isInvisible:!0,smashWidth:!0}))});ee(["hphantom"],"{:auto}",{createAtom:t=>new k0(N(D({},t),{body:he(t.args[0]),isInvisible:!0,smashHeight:!0,smashDepth:!0}))});ee(["phantom"],"{:auto}",{createAtom:t=>new k0(N(D({},t),{body:he(t.args[0]),isInvisible:!0}))});ee("not","{:math}",{createAtom:t=>{let e=he(t.args[0]);return e.length===0?new X(N(D({},t),{type:"mrel",value:""})):new X(N(D({},t),{body:[new zu(N(D({},t),{body:"",align:"right"})),...e],captureSelection:!0}))},serialize:(t,e)=>{let r=t.args[0],n=r&&typeof r=="object"&&"group"in r;return t.value!==""?n?`\\not{${X.serialize(r.group,e)}}`:`\\not${X.serialize(r,e)}`:n?"\\not{}":"\\not"},render:(t,e)=>{if(t.value)return t.createBox(e);let r=t.args[0]&&typeof t.args[0]=="object"&&"group"in t.args[0]?"ord":_0(he(t.args[0])),n=X.createBox(e,t.body,{type:r});return t.caret&&(n.caret=t.caret),t.bind(e,n)}});ee(["ne","neq"],"",{createAtom:t=>new X(N(D({},t),{type:"mrel",body:[new zu(N(D({},t),{body:"",align:"right",boxType:"rel"})),new X(N(D({},t),{value:"="}))],captureSelection:!0})),serialize:t=>t.command});ee("rlap","{:auto}",{createAtom:t=>new zu(N(D({},t),{body:he(t.args[0]),align:"right"}))});ee("llap","{:auto}",{createAtom:t=>new zu(N(D({},t),{body:he(t.args[0]),align:"left"}))});ee("mathrlap","{:math}",{createAtom:t=>new zu(N(D({},t),{body:he(t.args[0]),align:"right"}))});ee("mathllap","{:math}",{createAtom:t=>new zu(N(D({},t),{body:he(t.args[0]),align:"left"}))});ee("raisebox","{:value}{:text}",{createAtom:t=>{var e;return new Gl(N(D({},t),{body:he(t.args[1]),padding:{dimension:0},offset:(e=t.args[0])!=null?e:{dimension:0}}))},serialize:(t,e)=>{var r;return ct("\\raisebox",(r=Mr(t.offset))!=null?r:"0pt",t.bodyToLatex(e))}});ee("raise","{:value}{:auto}",{createAtom:t=>{var e;return new Gl(N(D({},t),{body:he(t.args[1]),padding:{dimension:0},offset:(e=t.args[0])!=null?e:{dimension:0}}))},serialize:(t,e)=>{var r;return ct("\\raise",(r=Mr(t.offset))!=null?r:"0pt",t.bodyToLatex(e))}});ee("lower","{:value}{:auto}",{createAtom:t=>{var e;return new Gl(N(D({},t),{body:he(t.args[1]),padding:{dimension:0},offset:(e=zs(t.args[0],-1))!=null?e:{dimension:0}}))},serialize:(t,e)=>{var r,n;return ct("\\lower",(n=Mr(zs((r=t.offset)!=null?r:{dimension:0},-1)))!=null?n:"0pt",t.bodyToLatex(e))}});wr("0123456789/@.?!");xW(65,90);xW(97,122);wr([["\\forall",8704],["\\exists",8707],["\\nexists",8708,"mord","ams"],["\\mid",8739,"mrel"],["\\top",8868],["\\bot",8869]]);wr([["\\#",35],["\\&",38],["\\parallelogram",9649],["\\spadesuit",9824],["\\heartsuit",9825],["\\diamondsuit",9826],["\\clubsuit",9827],["\\flat",9837],["\\natural",9838],["\\sharp",9839]]);wr([["\\backslash",92],["\\nabla",8711],["\\partial",8706],["\\ell",8467],["\\hbar",8463],["\\pounds",163],["\\euro",8364]]);wr([["\\rightarrow",8594],["\\to",8594],["\\leftarrow",8592],["\\gets",8592],["\\Rightarrow",8658],["\\Leftarrow",8656],["\\longrightarrow",10230],["\\longleftarrow",10229],["\\Longrightarrow",10233],["\\implies",10233],["\\Longleftarrow",10232],["\\impliedby",10232],["\\longleftrightarrow",10231],["\\biconditional",10231],["\\Longleftrightarrow",10234],["\\mapsto",8614],["\\longmapsto",10236],["\\uparrow",8593],["\\downarrow",8595],["\\Uparrow",8657],["\\Downarrow",8659],["\\updownarrow",8597],["\\Updownarrow",8661],["\\hookrightarrow",8618],["\\hookleftarrow",8617],["\\rightharpoonup",8640],["\\leftharpoonup",8636],["\\rightharpoondown",8641],["\\leftharpoondown",8637],["\\searrow",8600],["\\nearrow",8599],["\\swarrow",8601],["\\nwarrow",8598],["\\originalof",8886],["\\laplace",8886],["\\imageof",8887],["\\Laplace",8887]],"mrel");wr([["\\mapsfrom",8612,"mrel"],["\\Mapsfrom",10502,"mrel"],["\\MapsTo",10503,"mrel"],["\\Yup",8516,"mord"],["\\lightning",8623,"mrel"],["\\leftarrowtriangle",8701,"mrel"],["\\rightarrowtriangle",8702,"mrel"],["\\leftrightarrowtriangle",8703,"mrel"],["\\boxdot",8865,"mbin"],["\\bigtriangleup",9651,"mbin"],["\\bigtriangledown",9661,"mbin"],["\\boxbar",9707,"mbin"],["\\Lbag",10181,"mopen"],["\\Rbag",10182,"mclose"],["\\llbracket",10214,"mopen"],["\\rrbracket",10215,"mclose"],["\\longmapsfrom",10235,"mrel"],["\\Longmapsfrom",10237,"mrel"],["\\Longmapsto",10238,"mrel"],["\\boxslash",10692,"mbin"],["\\boxbslash",10693,"mbin"],["\\boxast",10694,"mbin"],["\\boxcircle",10695,"mbin"],["\\boxbox",10696,"mbin"],["\\fatsemi",10783,"mop"],["\\leftslice",10918,"mrel"],["\\rightslice",10919,"mrel"],["\\interleave",10996,"mbin"],["\\biginterleave",11004,"mop"],["\\sslash",11005,"mbin"],["\\talloblong",11006,"mbin"]]);wr([["\\lbrace",123,"mopen"],["\\rbrace",125,"mclose"],["\\lparen",40,"mopen"],["\\rparen",41,"mclose"],["\\langle",10216,"mopen"],["\\rangle",10217,"mclose"],["\\lfloor",8970,"mopen"],["\\rfloor",8971,"mclose"],["\\lceil",8968,"mopen"],["\\rceil",8969,"mclose"],["\\vert",8739],["\\lvert",8739,"mopen"],["\\rvert",8739,"mclose"],["\\|",8741],["\\Vert",8741],["\\mVert",8741],["\\lVert",8741,"mopen"],["\\rVert",8741,"mclose"],["\\lbrack",91,"mopen"],["\\rbrack",93,"mclose"],["\\{",123,"mopen"],["\\}",125,"mclose"],["(",40,"mopen"],[")",41,"mclose"],["[",91,"mopen"],["]",93,"mclose"],["\\ulcorner",9484,"mopen","ams"],["\\urcorner",9488,"mclose","ams"],["\\llcorner",9492,"mopen","ams"],["\\lrcorner",9496,"mclose","ams"],["\\lgroup",10222,"mopen"],["\\rgroup",10223,"mclose"],["\\lmoustache",9136,"mopen"],["\\rmoustache",9137,"mclose"]]);wr([["\\dashrightarrow",8674],["\\dashleftarrow",8672],["\\Rrightarrow",8667],["\\Lleftarrow",8666],["\\leftrightarrows",8646],["\\rightleftarrows",8644],["\\curvearrowright",8631],["\\curvearrowleft",8630],["\\rightrightarrows",8649],["\\leftleftarrows",8647],["\\upuparrows",8648],["\\downdownarrows",8650],["\\vartriangle",9651],["\\triangleq",8796],["\\vartriangleleft",8882],["\\trianglelefteq",8884],["\\ntriangleleft",8938],["\\ntrianglelefteq",8940],["\\vartriangleright",8883],["\\trianglerighteq",8885],["\\ntriangleright",8939],["\\ntrianglerighteq",8941],["\\blacktriangleleft",9664],["\\blacktriangleright",9654],["\\leftarrowtail",8610],["\\rightarrowtail",8611],["\\looparrowright",8620],["\\looparrowleft",8619],["\\twoheadleftarrow",8606],["\\twoheadrightarrow",8608],["\\twoheadrightarrowtail",10518],["\\rightleftharpoons",8652],["\\leftrightharpoons",8651],["\\Rsh",8625],["\\Lsh",8624],["\\circlearrowright",8635],["\\circlearrowleft",8634],["\\restriction",8638],["\\upharpoonright",8638],["\\upharpoonleft",8639],["\\downharpoonright",8642],["\\downharpoonleft",8643],["\\rightsquigarrow",8669],["\\leadsto",8669],["\\leftrightsquigarrow",8621],["\\multimap",8888],["\\nleftarrow",8602],["\\nrightarrow",8603],["\\nRightarrow",8655],["\\nLeftarrow",8653],["\\nleftrightarrow",8622],["\\nLeftrightarrow",8654],["\\nvrightarrow",8696],["\\nvtwoheadrightarrow",10496],["\\nvrightarrowtail",10516],["\\nvtwoheadrightarrowtail",10519],["\\shortparallel",8741],["\\nless",8814],["\\nleqslant",57360],["\\lneq",10887],["\\lneqq",8808],["\\nleqq",57361],["\\lvertneqq",57356],["\\lnsim",8934],["\\lnapprox",10889],["\\nprec",8832],["\\npreceq",8928],["\\precnsim",8936],["\\precnapprox",10937],["\\nsim",8769],["\\nshortmid",57350],["\\nmid",8740],["\\nvdash",8876],["\\nvDash",8877],["\\ngtr",8815],["\\ngeqslant",57359],["\\ngeqq",57358],["\\gneq",10888],["\\gneqq",8809],["\\gvertneqq",57357],["\\gnsim",8935],["\\gnapprox",10890],["\\nsucc",8833],["\\nsucceq",8929],["\\succnsim",8937],["\\succnapprox",10938],["\\ncong",8774],["\\nshortparallel",57351],["\\nparallel",8742],["\\nVDash",8879],["\\nsupseteqq",57368],["\\supsetneq",8843],["\\varsupsetneq",57371],["\\supsetneqq",10956],["\\varsupsetneqq",57369],["\\nVdash",8878],["\\precneqq",10933],["\\succneqq",10934],["\\nsubseteqq",57366],["\\leqslant",10877],["\\geqslant",10878],["\\gtrsim",8819],["\\approxeq",8778],["\\thickapprox",8776],["\\lessapprox",10885],["\\gtrapprox",10886],["\\precapprox",10935],["\\succapprox",10936],["\\thicksim",8764],["\\succsim",8831],["\\precsim",8830],["\\backsim",8765],["\\eqsim",8770],["\\backsimeq",8909],["\\lesssim",8818],["\\nleq",8816],["\\ngeq",8817],["\\smallsmile",8995],["\\smallfrown",8994],["\\leqq",8806],["\\eqslantless",10901],["\\lll",8920],["\\lessgtr",8822],["\\lesseqgtr",8922],["\\lesseqqgtr",10891],["\\risingdotseq",8787],["\\fallingdotseq",8786],["\\subseteqq",10949],["\\Subset",8912],["\\sqsubset",8847],["\\preccurlyeq",8828],["\\curlyeqprec",8926],["\\vDash",8872],["\\Vvdash",8874],["\\bumpeq",8783],["\\Bumpeq",8782],["\\geqq",8807],["\\eqslantgtr",10902],["\\ggg",8921],["\\gtrless",8823],["\\gtreqless",8923],["\\gtreqqless",10892],["\\supseteqq",10950],["\\Supset",8913],["\\sqsupset",8848],["\\succcurlyeq",8829],["\\curlyeqsucc",8927],["\\Vdash",8873],["\\shortmid",8739],["\\between",8812],["\\pitchfork",8916],["\\varpropto",8733],["\\backepsilon",8717],["\\llless",8920],["\\gggtr",8921],["\\doteqdot",8785],["\\Doteq",8785],["\\eqcirc",8790],["\\circeq",8791],["\\therefore",8756],["\\because",8757]],"mrel","ams");wr([["+",43],["-",8722],["",8722],["\\pm",177],["\\mp",8723],["*",8727],["\\times",215],["\\div",247],["\\divides",8739],["\\cdot",8901],["\\cap",8745],["\\cup",8746],["\\setminus",8726],["\\land",8743],["\\wedge",8743],["\\lor",8744],["\\vee",8744],["\\circ",8728],["\\bigcirc",9711],["\\bullet",8729],["\\oplus",8853],["\\ominus",8854],["\\otimes",8855],["\\odot",8857],["\\oslash",8856],["\\bigtriangleup",9651],["\\bigtriangledown",9661],["\\triangleleft",9667],["\\triangleright",9657],["\\And",38],["\\dagger",8224],["\\dag",8224],["\\ddag",8225],["\\ddagger",8225],["\\ast",8727],["\\star",8902],["\\bigstar",9733],["\\diamond",8900]],"mbin");wr([["\\lhd",8882],["\\rhd",8883],["\\lessdot",8918],["\\gtrdot",8919],["\\ltimes",8905],["\\rtimes",8906],["\\leftthreetimes",8907],["\\rightthreetimes",8908],["\\intercal",8890],["\\dotplus",8724],["\\doublebarwedge",10846],["\\divideontimes",8903],["\\centerdot",8901],["\\smallsetminus",8726],["\\barwedge",8892],["\\veebar",8891],["\\nor",8891],["\\curlywedge",8911],["\\curlyvee",8910],["\\boxminus",8863],["\\boxplus",8862],["\\boxtimes",8864],["\\boxdot",8865],["\\circleddash",8861],["\\circledast",8859],["\\circledcirc",8858],["\\unlhd",8884],["\\unrhd",8885]],"mbin","ams");wr([["\\surd",8730],["\\S",167],["\\infty",8734],["\\prime",8242],["\\doubleprime",8243],["\\angle",8736],["`",8216],["\\$",36],["\\%",37],["\\_",95],["\\alpha",945],["\\beta",946],["\\gamma",947],["\\delta",948],["\\epsilon",1013],["\\varepsilon",949],["\\zeta",950],["\\eta",951],["\\theta",952],["\\vartheta",977],["\\iota",953],["\\kappa",954],["\\varkappa",1008,"mord","ams"],["\\lambda",955],["\\mu",956],["\\nu",957],["\\xi",958],["\\omicron",111],["\\pi",960],["\\varpi",982],["\\rho",961],["\\varrho",1009],["\\sigma",963],["\\varsigma",962],["\\tau",964],["\\phi",981],["\\varphi",966],["\\upsilon",965],["\\chi",967],["\\psi",968],["\\omega",969],["\\Gamma",915],["\\Delta",916],["\\Theta",920],["\\Lambda",923],["\\Xi",926],["\\Pi",928],["\\Sigma",931],["\\Upsilon",933],["\\Phi",934],["\\Psi",936],["\\Omega",937],["\\digamma",989,"mord","ams"],["\\varkappa",1008,"mord","ams"],["\\coppa",985,"mord","ams"],["\\koppa",985,"mord","ams"],["\\Coppa",984,"mord","ams"],["\\Koppa",984,"mord","ams"],["\\sampi",993,"mord","ams"],["\\Sampi",992,"mord","ams"],["\\emptyset",8709]]);wr([["=",61],["<",60],["\\lt",60],[">",62],["\\gt",62],["\\le",8804],["\\leq",8804],["\\ge",8805],["\\geq",8805],["\\ll",8810],["\\gg",8811],["\\coloneq",8788],["\\coloneqq",8788],["\\colonequals",8788],["\\measeq",8797],["\\eqdef",8798],["\\questeq",8799],[":",58],["\\cong",8773],["\\equiv",8801],["\\prec",8826],["\\preceq",10927],["\\succ",8827],["\\succeq",10928],["\\perp",10178],["\\propto",8733],["\\Colon",8759],["\\smile",8995],["\\frown",8994],["\\sim",8764],["\\doteq",8784],["\\bowtie",8904],["\\Join",8904],["\\asymp",8781],["\\sqsubseteq",8849],["\\sqsupseteq",8850],["\\approx",8776],["\\~",126],["\\leftrightarrow",8596],["\\Leftrightarrow",8660],["\\models",8872],["\\vdash",8866],["\\dashv",8867],["\\roundimplies",10608],["\\in",8712],["\\notin",8713],["\\ni",8715],["\\owns",8715],["\\subset",8834],["\\supset",8835],["\\subseteq",8838],["\\supseteq",8839],["\\differencedelta",8710],["\\mvert",8739],["\\parallel",8741],["\\simeq",8771]],"mrel");wr([["\\lnot",172],["\\neg",172],["\\triangle",9651],["\\subsetneq",8842],["\\varsubsetneq",57370],["\\subsetneqq",10955],["\\varsubsetneqq",57367],["\\nsubset",8836],["\\nsupset",8837],["\\nsubseteq",8840],["\\nsupseteq",8841]],"mrel","ams");wr([["\\wp",8472],["\\aleph",8501]]);wr([["\\blacktriangle",9650],["\\hslash",8463],["\\Finv",8498],["\\Game",8513],["\\eth",240],["\\mho",8487],["\\Bbbk",107],["\\yen",165],["\\square",9633],["\\Box",9633],["\\blacksquare",9632],["\\circledS",9416],["\\circledR",174],["\\triangledown",9661],["\\blacktriangledown",9660],["\\checkmark",10003],["\\diagup",9585],["\\measuredangle",8737],["\\sphericalangle",8738],["\\backprime",8245],["\\backdoubleprime",8246],["\\Diamond",9674],["\\lozenge",9674],["\\blacklozenge",10731],["\\varnothing",8709],["\\complement",8705],["\\maltese",10016],["\\beth",8502],["\\daleth",8504],["\\gimel",8503]],"mord","ams");wr([["\\ ",160],["~",160]],"space");ee(["!",",",":",";",">","enskip","enspace","quad","qquad"],"",{createAtom:t=>new E0(t)});ee("space","",{createAtom:t=>new E0(t)});wr([["\\colon",58],["\\cdotp",8901],["\\vdots",8942,"mord"],["\\ldotp",46],[",",44],[";",59]],"mpunct");wr([["\\cdots",8943],["\\ddots",8945],["\\ldots",8230],["\\mathellipsis",8230]],"minner");wr([["\\/",47],["|",8739,"mord"],["\\imath",305],["\\jmath",567],["\\degree",176],["'",8242],['"',8221]]);var cq="<mo>&#x2061;</mo>",$b="<mo>&#8290;</mo>";function qv(t){return t.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function rt(t,e){return!t||!e.generateID?"":` extid="${t}"`}function j5e(t,e,r){var n,i,s,o,a,l,c,u;let A=!1;e=e??t.atoms.length;let h="",f="",p=t.atoms[t.index],m=(n=p.style)==null?void 0:n.variant,y=(i=p.style)==null?void 0:i.variantStyle,g="";if(p.value&&(m||y)){let x=(s=Q6(p.value,m,y))!=null?s:p.value;if(x!==p.value)return t.index+=1,h=`<mi${rt(p.id,r)}>${x}</mi>`,io(h,t,r)||(t.mathML+=h,t.lastType="mi"),!0;g=(o={upnormal:"normal",boldnormal:"bold",italicmain:"italic",bolditalicmain:"bold-italic","updouble-struck":"double-struck","double-struck":"double-struck",boldfraktur:"bold-fraktur",calligraphic:"script",upcalligraphic:"script",script:"script",boldscript:"bold-script",boldcalligraphic:"bold-script",fraktur:"fraktur","upsans-serif":"sans-serif","boldsans-serif":"bold-sans-serif","italicsans-serif":"sans-serif-italic","bolditalicsans-serif":"sans-serif-bold-italic",monospace:"monospace"}[(y??"")+(m??"")])!=null?o:"",g&&(g=` mathvariant="${g}"`)}let v={"\\exponentialE":"&#x02147;","\\imaginaryI":"&#x2148;","\\differentialD":"&#x2146;","\\capitalDifferentialD":"&#x2145;","\\alpha":"&#x03b1;","\\pi":"&#x03c0;","\\infty":"&#x221e;","\\forall":"&#x2200;","\\nexists":"&#x2204;","\\exists":"&#x2203;","\\hbar":"","\\cdotp":"","\\ldots":"","\\cdots":"","\\ddots":"","\\vdots":"","\\ldotp":"."};if(p.command==="!")return t.index+=1,h="<mo>!</mo>",io(h,t,r)||(t.mathML+=h,t.lastType="mo"),!0;if(v[p.command]){t.index+=1;let x=`<mi${rt(p.id,r)}${g}>${v[p.command]}</mi>`;return(t.lastType==="mi"||t.lastType==="mn"||t.lastType==="mtext"||t.lastType==="fence")&&(x=$b+x),io(x,t,r)||(t.mathML+=x,t.lastType="mi"),!0}if(p.command==="\\operatorname")f=Fd(p.body),t.index+=1;else if(m||y)for(;t.index<e&&(p.type==="mord"||p.type==="macro")&&!p.isDigit()&&m===((l=(a=p.style)==null?void 0:a.variant)!=null?l:"")&&y===((u=(c=p.style)==null?void 0:c.variantStyle)!=null?u:"");)f+=Fd([p]),t.index+=1,p=t.atoms[t.index];else(p.type==="mord"||p.type==="macro")&&!p.isDigit()&&(f+=Fd([p]),t.index+=1);if(f.length>0){A=!0,h=`<mi${g}>${f}</mi>`;let x=t.lastType;h.endsWith(">f</mi>")||h.endsWith(">g</mi>")?(h+=cq,t.lastType="applyfunction"):t.lastType=/^<mo>(.*)<\/mo>$/.test(h)?"mo":"mi",io(h,t,r)||((x==="mi"||x==="mn"||x==="mtext"||x==="fence")&&(h=$b+h),t.mathML+=h)}return A}function uq(t){return t.index<t.atoms.length&&t.atoms[t.index].superscript&&t.atoms[t.index].type==="subsup"}function Aq(t){let e=-1,r=t.index,n=!1,i=!1;for(;r<t.atoms.length&&!n&&!i;){let s=t.atoms[r];n=!s.isDigit(),i=!n&&s.superscript!==void 0,r++}return i&&(e=r-1),e}function io(t,e,r){var n;let i=e.atoms[e.index-1];if(!i)return!1;if(!i.superscript&&!i.subscript)if(((n=e.atoms[e.index])==null?void 0:n.type)==="subsup")i=e.atoms[e.index],e.index+=1;else return!1;let s=e.lastType;e.lastType="";let o=We(i.superscript,r);e.lastType="";let a=We(i.subscript,r);if(e.lastType=s,!o&&!a)return!1;let l="";return o&&a?l=`<msubsup>${t}${a}${o}</msubsup>`:o?l=`<msup>${t}${o}</msup>`:a&&(l=`<msub>${t}${a}</msub>`),e.mathML+=l,e.lastType="",!0}function O5e(t,e,r){e=e??t.atoms.length;let n=t.index,i="",s=Aq(t);for(s>=0&&s<e&&(e=s);t.index<e&&t.atoms[t.index].mode==="text";)i+=t.atoms[t.index].value?t.atoms[t.index].value:" ",t.index+=1;return i.length>0?(i=`<mtext ${rt(t.atoms[n].id,r)}>${i}</mtext>`,s<0&&uq(t)&&(s=t.index,t.index+=1),io(i,t,r)||(t.mathML+=i,t.lastType="mtext"),!0):!1}function N5e(t,e,r){e=e??t.atoms.length;let n=t.index,i="",s=Aq(t);for(s>=0&&s<e&&(e=s);t.index<e&&t.atoms[t.index].isDigit();)i+=t.atoms[t.index].asDigit(),t.index+=1;return i.length<=0?!1:(i="<mn"+rt(t.atoms[n].id,r)+">"+i+"</mn>",s<0&&uq(t)&&(s=t.index,t.index+=1),io(i,t,r)||(t.mathML+=i,t.lastType="mn"),!0)}function I5e(t,e,r){let n=!1;e=e??t.atoms.length;let i="",s="";if(t.index<e&&t.atoms[t.index].type==="mopen"){let o=!1,a=0,l=t.index,c=-1,u=l+1;for(;u<e&&!o;)t.atoms[u].type==="mopen"?a+=1:t.atoms[u].type==="mclose"&&(a-=1),a===-1&&(o=!0,c=u),u+=1;o&&(i="<mrow>",i+=pu(t.atoms[l],r),i+=We(t.atoms,r,l+1,c),i+=pu(t.atoms[c],r),i+="</mrow>",t.index=c+1,(t.lastType==="mi"||t.lastType==="mn"||t.lastType==="mfrac"||t.lastType==="fence")&&(t.mathML+=$b),io(i,t,r)&&(n=!0,t.lastType="",i=""),s="fence")}return i.length>0&&(n=!0,t.mathML+=i,t.lastType=s),n}function U5e(t,e,r){let n=!1;e=e??t.atoms.length;let i="",s="",o=t.atoms[t.index];if(!o)return!1;let a={"\\ne":"&ne;","\\neq":"&ne;","\\pm":"&#177;","\\times":"&#215;","\\colon":":","\\vert":"|","\\Vert":"","\\mid":"","\\{":"{","\\}":"}","\\lbrace":"{","\\rbrace":"}","\\lbrack":"[","\\rbrack":"]","\\lparen":"(","\\rparen":")","\\langle":"","\\rangle":"","\\lfloor":"","\\rfloor":"","\\lceil":"","\\rceil":""};if(a[o.command]){t.index+=1;let l=`<mo${rt(o.id,r)}>${a[o.command]}</mo>`;return io(l,t,r)||(t.mathML+=l,t.lastType="mo"),!0}if(t.index<e&&(o.type==="mbin"||o.type==="mrel"))i+=m_(t.atoms[t.index],r),t.index+=1,s="mo";else if(t.index<e&&(o.type==="mop"||o.type==="operator"||o.type==="extensible-symbol")){if(o.subsupPlacement==="over-under"&&(o.superscript||o.subscript)){let l=pu(o,r);return o.superscript&&o.subscript?(i+="<munderover>"+l,i+=We(o.subscript,r),i+=We(o.superscript,r),i+="</munderover>"):o.superscript?(i+="<mover>"+l,i+=We(o.superscript,r),i+="</mover>"):o.subscript&&(i+="<munder>"+l,i+=We(o.subscript,r),i+="</munder>"),t.mathML+=i,t.lastType="mo",t.index+=1,!0}{let l=t.atoms[t.index],c=l.value==="\\operatorname",u=c?'<mi class="MathML-Unit"'+rt(l.id,r)+">"+Fd(l.value)+"</mi>":pu(l,r);i+=u,!c&&!/^<mo>(.*)<\/mo>$/.test(u)?(i+=cq,s="applyfunction"):s=c?"mi":"mo"}(t.lastType==="mi"||t.lastType==="mn")&&!/^<mo>(.*)<\/mo>$/.test(i)&&(i=$b+i),t.index+=1}return i.length>0&&(n=!0,io(i,t,r)||(t.mathML+=i,t.lastType=s)),n}function We(t,e,r,n){e!=null||(e={});let i={atoms:[],index:r??0,mathML:"",lastType:""};if(typeof t=="number"||typeof t=="boolean")i.mathML=t.toString();else if(typeof t=="string")i.mathML=t;else if(t instanceof X)i.mathML=m_(t,e);else if(Array.isArray(t)){i.atoms=t;let s=0;for(n=n||(t?t.length:0);i.index<n;)if(O5e(i,n,e)||N5e(i,n,e)||j5e(i,n,e)||U5e(i,n,e)||I5e(i,n,e))s+=1;else if(i.index<n){let o=m_(i.atoms[i.index],e);i.lastType==="mn"&&o.length>0&&i.atoms[i.index].type==="genfrac"&&(o="<mo>&#x2064;</mo>"+o),i.atoms[i.index].type==="genfrac"?i.lastType="mfrac":i.lastType="",i.index+=1,io(o,i,e)?s+=1:o.length>0&&(i.mathML+=o,s+=1)}s>1&&(i.mathML="<mrow>"+i.mathML+"</mrow>")}return i.mathML}function pu(t,e){let r="",n=Fd(t.value);return n&&(r="<mo"+rt(t.id,e)+">"+n+"</mo>"),r}function Fd(t){if(!t)return"";if(typeof t=="string")return qv(t);if(!Array.isArray(t)&&typeof t.body=="string")return qv(t.body);let e="";for(let r of t)typeof r.value=="string"&&(e+=r.value);return qv(e)}function m_(t,e){var r,n,i,s,o,a,l,c,u,A,h,f,p,m,y,g,v,x,b,w,C,B;if(t.mode==="text")return`<mi${rt(t.id,e)}>${t.value}</mi>`;let _={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",longleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",longrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",longrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xleftrightarrows:"",xRightleftharpoons:"",longRightleftharpoons:"",xLeftrightharpoons:"",longLeftrightharpoons:""},k={"\\!":-3/18,"\\ ":6/18,"\\,":3/18,"\\:":4/18,"\\>":4/18,"\\;":5/18,"\\enspace":.5,"\\quad":1,"\\qquad":2,"\\enskip":.5},E="",F="",M,T,Q,P,H,I,{command:L}=t;if(t.command==="\\error")return`<merror${rt(t.id,e)}>${We(t.body,e)}</merror>`;let R={"\\vert":"|","\\Vert":"","\\mid":"","\\lbrack":"[","\\rbrack":"]","\\{":"{","\\}":"}","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"","\\rangle":"","\\lfloor":"","\\rfloor":"","\\lceil":"","\\rceil":""},V={"\\vec":"&#x20d7;","\\acute":"&#x00b4;","\\grave":"&#x0060;","\\dot":"&#x02d9;","\\ddot":"&#x00a8;","\\tilde":"&#x007e;","\\bar":"&#x00af;","\\breve":"&#x02d8;","\\check":"&#x02c7;","\\hat":"&#x005e;"};switch(t.type){case"first":break;case"group":case"root":E=We(t.body,e);break;case"array":let Y=t;if((Y.leftDelim&&Y.leftDelim!=="."||Y.rightDelim&&Y.rightDelim!==".")&&(E+="<mrow>",Y.leftDelim&&Y.leftDelim!=="."&&(E+="<mo>"+(R[Y.leftDelim]||Y.leftDelim)+"</mo>")),E+="<mtable",Y.colFormat){for(E+=' columnalign="',Q=0;Q<Y.colFormat.length;Q++){let K=Y.colFormat[Q];"align"in K&&(E+={l:"left",c:"center",r:"right"}[K.align]+" ")}E+='"'}for(E+=">",T=0;T<Y.rows.length;T++){for(E+="<mtr>",M=0;M<Y.rows[T].length;M++)E+="<mtd>"+We(Y.rows[T][M],e)+"</mtd>";E+="</mtr>"}E+="</mtable>",(Y.leftDelim&&Y.leftDelim!=="."||Y.rightDelim&&Y.rightDelim!==".")&&(Y.rightDelim&&Y.rightDelim!=="."&&(E+="<mo>"+(R[Y.leftDelim]||Y.rightDelim)+"</mo>"),E+="</mrow>");break;case"genfrac":let re=t;(re.leftDelim||re.rightDelim)&&(E+="<mrow>"),re.leftDelim&&re.leftDelim!=="."&&(E+="<mo"+rt(t.id,e)+">"+(R[re.leftDelim]||re.leftDelim)+"</mo>"),re.hasBarLine?(E+="<mfrac>",E+=We(t.above,e)||"<mi>&nbsp;</mi>",E+=We(t.below,e)||"<mi>&nbsp;</mi>",E+="</mfrac>"):(E+="<mtable"+rt(t.id,e)+">",E+="<mtr>"+We(t.above,e)+"</mtr>",E+="<mtr>"+We(t.below,e)+"</mtr>",E+="</mtable>"),re.rightDelim&&re.rightDelim!=="."&&(E+="<mo"+rt(t.id,e)+">"+(R[re.rightDelim]||re.rightDelim)+"</mo>"),(re.leftDelim||re.rightDelim)&&(E+="</mrow>");break;case"surd":t.hasEmptyBranch("above")?(E+="<msqrt"+rt(t.id,e)+">",E+=We(t.body,e),E+="</msqrt>"):(E+="<mroot"+rt(t.id,e)+">",E+=We(t.body,e),E+=We(t.above,e),E+="</mroot>");break;case"leftright":let se=t,ie=se.leftDelim;E="<mrow>",ie&&ie!=="."&&(E+=`<mo${rt(t.id,e)}>${(r=R[ie])!=null?r:ie}</mo>`),t.body&&(E+=We(t.body,e));let Ae=se.matchingRightDelim();Ae&&Ae!=="."&&(E+=`<mo${rt(t.id,e)}>${(n=R[Ae])!=null?n:Ae}</mo>`),E+="</mrow>";break;case"sizeddelim":case"delim":E+=`<mo${rt(t.id,e)}>${R[t.value]||t.value}</mo>`;break;case"accent":let G=t;E+='<mover accent="true"'+rt(t.id,e)+">",E+=We(t.body,e),E+="<mo>"+(V[L]||G.accent)+"</mo>",E+="</mover>";break;case"line":case"overlap":break;case"overunder":let ae=t;H=t.above,P=t.below,(ae.svgAbove||H)&&(ae.svgBelow||P)?I=t.body:H&&H.length>0?(I=t.body,(s=(i=t.body)==null?void 0:i[0])!=null&&s.below?(P=t.body[0].below,I=t.body[0].body):((a=(o=t.body)==null?void 0:o[0])==null?void 0:a.type)==="first"&&(c=(l=t.body)==null?void 0:l[1])!=null&&c.below&&(P=t.body[1].below,I=t.body[1].body)):P&&P.length>0&&(I=t.body,(A=(u=t.body)==null?void 0:u[0])!=null&&A.above?(H=t.body[0].above,I=t.body[0].body):((f=(h=t.body)==null?void 0:h[0])==null?void 0:f.type)==="first"&&(m=(p=t.body)==null?void 0:p[1])!=null&&m.above&&(H=t.body[1].above,I=t.body[1].body)),(ae.svgAbove||H)&&(ae.svgBelow||P)?(E+=`<munderover ${rt(t.id,e)}>`,E+=(y=_[ae.svgBody])!=null?y:We(I,e),E+=(g=_[ae.svgBelow])!=null?g:We(P,e),E+=(v=_[ae.svgAbove])!=null?v:We(H,e),E+="</munderover>"):ae.svgAbove||H?(E+=`<mover ${rt(t.id,e)}>`+((x=_[ae.svgBody])!=null?x:We(I,e)),E+=(b=_[ae.svgAbove])!=null?b:We(H,e),E+="</mover>"):(ae.svgBelow||P)&&(E+=`<munder ${rt(t.id,e)}>`+((w=_[ae.svgBody])!=null?w:We(I,e)),E+=(C=_[ae.svgBelow])!=null?C:We(P,e),E+="</munder>");break;case"placeholder":E+="?";break;case"mord":{E=typeof t.value=="string"?t.value:L,E.length>0&&E.startsWith("\\")&&(typeof t.value=="string"&&t.value.charCodeAt(0)>255?E="&#x"+("000000"+t.value.charCodeAt(0).toString(16)).slice(-4)+";":typeof t.value=="string"?E=t.value.charAt(0):(console.error("Did not expect this"),E=""));let K=/\d/.test(E)?"mn":"mi";E=`<${K}${rt(t.id,e)}>${qv(E)}</${K}>`;break}case"mbin":case"mrel":case"minner":E=pu(t,e);break;case"mpunct":E='<mo separator="true"'+rt(t.id,e)+">"+L+"</mo>";break;case"mop":case"operator":case"extensible-symbol":t.value!==""&&(E="<mo"+rt(t.id,e)+">",E+=L==="\\operatorname"?t.body:L||t.body,E+="</mo>");break;case"box":let z=t;E='<menclose notation="box"',z.backgroundcolor&&(E+=' mathbackground="'+z.backgroundcolor+'"'),E+=rt(t.id,e)+">"+We(t.body,e)+"</menclose>";break;case"spacing":E+='<mspace width="'+((B=k[L])!=null?B:0)+'em"/>';break;case"enclose":let q=t;E='<menclose notation="';for(let K in q.notation)Object.prototype.hasOwnProperty.call(q.notation,K)&&q.notation[K]&&(E+=F+K,F=" ");E+=rt(t.id,e)+'">'+We(t.body,e)+"</menclose>";break;case"prompt":E='<menclose notation="roundexbox""">'+We(t.body,e)+"</menclose>";break;case"space":E+="&nbsp;";break;case"subsup":break;case"phantom":break;case"composition":break;case"rule":break;case"chem":break;case"mopen":E+=pu(t,e);break;case"mclose":E+=pu(t,e);break;case"macro":{let K=t.command+Fd(t.macroArgs);K&&(E+=`<mo ${rt(t.id,e)}>${K}</mo>`)}break;case"latexgroup":E+=We(t.body,e);break;case"latex":E+="<mtext"+rt(t.id,e)+">"+t.value+"</mtext>";break;case"tooltip":E+=We(t.body,e);break;case"text":E+=`<mtext ${rt(t.id,e)}x>${t.value}</mtext>`;break;default:if(t.command==="\\displaystyle")return`<mrow ${rt(t.id,e)} displaystyle="true">${We(t.body,e)}</mrow>`;if(t.command==="\\textstyle")return`<mrow ${rt(t.id,e)} displaystyle="false">${We(t.body,e)}</mrow>`;console.info("Unexpected element in conversion to MathML:",t)}return E}var xA={"\\alpha":"alpha ","\\mu":"mew ","\\sigma":"sigma ","\\pi":"pie ","\\imaginaryI":"imaginary eye ","\\imaginaryJ":"imaginary jay ","\\sum":"Summation ","\\prod":"Product ","+":"plus ","-":"minus ",";":'<break time="150ms"/> semi-colon <break time="150ms"/>',",":'<break time="150ms"/> comma  <break time="150ms"/>',"|":'<break time="150ms"/>Vertical bar<break time="150ms"/>',"(":'<break time="150ms"/>Open paren. <break time="150ms"/>',")":'<break time="150ms"/> Close paren. <break time="150ms"/>',"=":"equals ","<":"is less than ","\\lt":"is less than ","<=":"is less than or equal to ","\\le":"is less than or equal to ","\\gt":"is greater than ",">":"is greater than ","\\pm":"plus or minus","\\mp":"minus or plus","\\ge":"is greater than or equal to ","\\geq":"is greater than or equal to ","\\leq":"is less than or equal to ","\\ne":"is not equal to ","\\neq":"is not equal to ","!":"factorial ","\\sin":"sine ","\\cos":"cosine ","":"","":"minus ",":":'<break time="150ms"/> such that <break time="200ms"/> ',"\\colon":'<break time="150ms"/> such that <break time="200ms"/> ',"\\hbar":"etch bar ","\\iff":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\Longleftrightarrow":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\land":"and ","\\lor":"or ","\\neg":"not ","\\div":"divided by ","\\forall":"for all ","\\exists":"there exists ","\\nexists":"there does not exists ","\\in":"element of ","\\N":'the set <break time="150ms"/><say-as interpret-as="character">n</say-as>',"\\C":'the set <break time="150ms"/><say-as interpret-as="character">c</say-as>',"\\Z":'the set <break time="150ms"/><say-as interpret-as="character">z</say-as>',"\\Q":'the set <break time="150ms"/><say-as interpret-as="character">q</say-as>',"\\infty":"infinity ","\\nabla":"nabla ","\\partial":"partial derivative of ","\\cdot":"times ","\\cdots":"dot dot dot ","\\Rightarrow":"implies ","\\lparen":'<break time="150ms"/>open paren<break time="150ms"/>',"\\rparen":'<break time="150ms"/>close paren<break time="150ms"/>',"\\lbrace":'<break time="150ms"/>open brace<break time="150ms"/>',"\\{":'<break time="150ms"/>open brace<break time="150ms"/>',"\\rbrace":'<break time="150ms"/>close brace<break time="150ms"/>',"\\}":'<break time="150ms"/>close brace<break time="150ms"/>',"\\langle":'<break time="150ms"/>left angle bracket<break time="150ms"/>',"\\rangle":'<break time="150ms"/>right angle bracket<break time="150ms"/>',"\\lfloor":'<break time="150ms"/>open floor<break time="150ms"/>',"\\rfloor":'<break time="150ms"/>close floor<break time="150ms"/>',"\\lceil":'<break time="150ms"/>open ceiling<break time="150ms"/>',"\\rceil":'<break time="150ms"/>close ceiling<break time="150ms"/>',"\\vert":'<break time="150ms"/>vertical bar<break time="150ms"/>',"\\mvert":'<break time="150ms"/>divides<break time="150ms"/>',"\\lvert":'<break time="150ms"/>left vertical bar<break time="150ms"/>',"\\rvert":'<break time="150ms"/>right vertical bar<break time="150ms"/>',"\\lbrack":'<break time="150ms"/> open square bracket <break time="150ms"/>',"\\rbrack":'<break time="150ms"/> close square bracket <break time="150ms"/>',mm:"millimeters",cm:"centimeters",km:"kilometers",kg:"kilograms"},MC={array:"array",matrix:"matrix",pmatrix:"parenthesis matrix",bmatrix:"square brackets matrix",Bmatrix:"braces matrix",vmatrix:"bars matrix",Vmatrix:"double bars matrix","matrix*":"matrix",smallmatrix:"small matrix"};function P5e(t){let e="";return t.startsWith("\\")&&(e=" "+t.replace("\\","")+" "),e}function bf(t){let e=0;if(Dr(t))for(let r of t)r.type!=="first"&&(e+=1);return e===1}function Q5e(t){if(Dr(t)){for(let e of t)if(e.type!=="first"&&e.id)return e.id.toString()}return""}function qN(t){let e="";if(Dr(t))for(let r of t)r.type!=="first"&&typeof r.value=="string"&&(e+=r.value);return e}function R5e(t){return t?t.map(e=>e.value).join(""):""}function ry(t){if(t&&!t.some(e=>e.type!=="first"&&e.value===void 0))return t.map(e=>e.value).join("")}function g_(t){return`<emphasis>${t}</emphasis>`}function H5e(t,e){var r;let n="",i=!1,s=!1;for(let o=0;o<e.length;o++)e[o].type!=="first"&&(e[o].mode!=="text"&&(s=!1),o<e.length-2&&e[o].type==="mopen"&&e[o+2].type==="mclose"&&e[o+1].type==="mord"?(n+=" of ",n+=g_(Te(t,e[o+1])),o+=2):e[o].mode==="text"?s?n+=(r=e[o].value)!=null?r:" ":(s=!0,n+=Te("text",e[o])):e[o].isDigit()?i?n+=e[o].asDigit():(i=!0,n+=Te(t,e[o])):(i=!1,n+=Te(t,e[o])));return n}function Te(t,e){var r,n,i,s,o,a,l,c;function u(g){return globalThis.MathfieldElement.textToSpeechMarkup?/[a-z]/.test(g)?` <say-as interpret-as="character">${g}</say-as>`:/[A-Z]/.test(g)?`capital <say-as interpret-as="character">${g.toLowerCase()}</say-as>`:g:/[a-z]/.test(g)?" '"+g.toUpperCase()+"'":/[A-Z]/.test(g)?" 'capital "+g.toUpperCase()+"'":g}if(!e)return"";if(Dr(e))return H5e(t,e);let A="";if(e.id&&t==="math"&&(A+='<mark name="'+e.id.toString()+'"/>'),e.mode==="text")return A+e.value;let h="",f="",p="",m=!1,{command:y}=e;switch(y){case"\\vec":return"vector "+Te(t,e.body);case"\\acute":return Te(t,e.body)+" acute";case"\\grave":return Te(t,e.body)+" grave";case"\\dot":return"dot over"+Te(t,e.body);case"\\ddot":return"double dot over"+Te(t,e.body);case"\\mathring":return"ring over"+Te(t,e.body);case"\\tilde":case"\\widetilde":return"tilde over"+Te(t,e.body);case"\\bar":return Te(t,e.body)+" bar";case"\\breve":return Te(t,e.body)+" breve";case"\\check":case"\\widecheck":return"check over "+Te(t,e.body);case"\\hat":case"\\widehat":return"hat over"+Te(t,e.body);case"\\overarc":case"\\overparen":case"\\wideparen":return"arc over "+Te(t,e.body);case"\\underarc":case"\\underparen":return"arc under "+Te(t,e.body);case"\\mathop":return(r=ry(e.body))!=null?r:Te(t,e.body);case"\\mathit":return(n=ry(e.body))!=null?n:Te(t,e.body);case"\\mathrm":return(i=ry(e.body))!=null?i:Te(t,e.body);case"\\mathbb":return"blackboard"+((s=ry(e.body))!=null?s:Te(t,e.body))}switch(e.type){case"prompt":let g=e.body.length>1?'start input . <break time="500ms"/> '+Te(t,e.body)+'. <break time="500ms"/> end input':"blank";A+=' <break time="300ms"/> '+g+'. <break time="700ms"/>'+((o=e.correctness)!=null?o:"")+' . <break time="700ms"/> ';break;case"array":let v=e.rows,x=e.environmentName;if(Object.keys(MC).includes(x)){A+=` begin ${MC[x]} `;for(let C=0;C<v.length;C++){C>0&&(A+=","),A+=` row ${C+1} `;for(let B=0;B<v[C].length;B++)B>0&&(A+=","),A+=` column ${B+1}: `,A+=Te("math",v[C][B])}A+=` end ${MC[x]} `}break;case"group":y==="\\ne"?A+=" not equal ":(y==="\\not"&&(A+=" not "),A+=Te("math",e.body));break;case"root":A+=Te("math",e.body);break;case"genfrac":if(h=Te("math",e.above),f=Te("math",e.below),bf(e.above)&&bf(e.below)){let C={"1/2":" half ","1/3":" one third ","2/3":" two third","1/4":" one quarter ","3/4":" three quarter ","1/5":" one fifth ","2/5":" two fifths ","3/5":" three fifths ","4/5":" four fifths ","1/6":" one sixth ","5/6":" five sixths ","1/8":" one eight ","3/8":" three eights ","5/8":" five eights ","7/8":" seven eights ","1/9":" one ninth ","2/9":" two ninths ","4/9":" four ninths ","5/9":" five ninths ","7/9":" seven ninths ","8/9":" eight ninths "}[qN(e.above)+"/"+qN(e.below)];C?A=C:A+=h+" over "+f}else A+=' the fraction <break time="150ms"/>'+h+' over <break time="150ms"/>'+f+'.<break time="150ms"/> End fraction.<break time="150ms"/>';break;case"surd":if(p=Te("math",e.body),e.hasEmptyBranch("above"))A+=bf(e.body)?" the square root of "+p+" , ":' the square root of <break time="200ms"/>'+p+'. <break time="200ms"/> End square root';else{let C=Te("math",e.above);C=C.trim();let B=C.replace(/<mark([^/]*)\/>/g,"");B==="3"?A+=' the cube root of <break time="200ms"/>'+p+'. <break time="200ms"/> End cube root':B==="n"?A+=' the nth root of <break time="200ms"/>'+p+'. <break time="200ms"/> End root':A+=' the root with index: <break time="200ms"/>'+C+', of <break time="200ms"/>'+p+'. <break time="200ms"/> End root'}break;case"leftright":{let C=e;A+=(a=C.leftDelim?xA[C.leftDelim]:void 0)!=null?a:C.leftDelim,A+=Te("math",e.body),A+=(l=C.rightDelim?xA[C.rightDelim]:void 0)!=null?l:C.rightDelim}break;case"rule":break;case"overunder":break;case"overlap":break;case"macro":let b=y.replace(/^\\/g,""),w=hE()[b];w&&(w!=null&&w.expand?A+=Te("math",e.body):A+=`${b} `);break;case"placeholder":A+="placeholder ";break;case"delim":case"sizeddelim":case"mord":case"minner":case"mbin":case"mrel":case"mpunct":case"mopen":case"mclose":{if(y==="\\mathbin"||y==="\\mathrel"||y==="\\mathopen"||y==="\\mathclose"||y==="\\mathpunct"||y==="\\mathord"||y==="\\mathinner"){A=Te(t,e.body);break}let C=e.isDigit()?e.asDigit():e.value,B=e.command;if((e.type==="delim"||e.type==="sizeddelim")&&(B=e.value,C=B),t==="text")A+=C;else{if(e.type==="mbin"&&(A+='<break time="150ms"/>'),C){let _=xA[C]||(B?xA[B.trim()]:"");if(_)A+=" "+_;else{let k=B?P5e(B.trim()):"";A+=k||u(C)}}else A+=Te("math",e.body);e.type==="mbin"&&(A+='<break time="150ms"/>')}break}case"mop":case"operator":case"extensible-symbol":if(e.value!==""){let C=e.command;if(C==="\\sum")if(!e.hasEmptyBranch("superscript")&&!e.hasEmptyBranch("subscript")){let B=Te("math",e.superscript);B=B.trim();let _=Te("math",e.subscript);_=_.trim(),A+=' the summation from <break time="200ms"/>'+_+'<break time="200ms"/> to  <break time="200ms"/>'+B+'<break time="200ms"/> of <break time="150ms"/>',m=!0}else if(e.hasEmptyBranch("subscript"))A+=" the summation of";else{let B=Te("math",e.subscript);B=B.trim(),A+=' the summation from <break time="200ms"/>'+B+'<break time="200ms"/> of <break time="150ms"/>',m=!0}else if(C==="\\prod")if(!e.hasEmptyBranch("superscript")&&!e.hasEmptyBranch("subscript")){let B=Te("math",e.superscript);B=B.trim();let _=Te("math",e.subscript);_=_.trim(),A+=' the product from <break time="200ms"/>'+_+'<break time="200ms"/> to <break time="200ms"/>'+B+'<break time="200ms"/> of <break time="150ms"/>',m=!0}else if(e.hasEmptyBranch("subscript"))A+=" the product  of ";else{let B=Te("math",e.subscript);B=B.trim(),A+=' the product from <break time="200ms"/>'+B+'<break time="200ms"/> of <break time="150ms"/>',m=!0}else if(C==="\\int")if(!e.hasEmptyBranch("superscript")&&!e.hasEmptyBranch("subscript")){let B=Te("math",e.superscript);B=B.trim();let _=Te("math",e.subscript);_=_.trim(),A+=' the integral from <break time="200ms"/>'+g_(_)+'<break time="200ms"/> to <break time="200ms"/>'+g_(B)+' <break time="200ms"/> of ',m=!0}else A+=' the integral of <break time="200ms"/> ';else if(C==="\\operatorname"||C==="\\operatorname*")A+=R5e(e.body)+" ";else if(typeof e.value=="string"){let B=(c=xA[e.value])!=null?c:e.command?xA[e.command]:void 0;A+=B||" "+e.value}else e.command&&(e.command==="\\mathop"?A+=Te("math",e.body):A+=e.command.startsWith("\\")?" "+e.command.slice(1):" "+e.command)}break;case"enclose":p=Te("math",e.body),A+=" crossed out "+p+". End crossed out.";break}if(!m&&!e.hasEmptyBranch("superscript")){let g=Te(t,e.superscript);g=g.trim();let v=g.replace(/<[^>]*>/g,"");if(bf(e.superscript)){if(t==="math"){let x=Q5e(e.superscript);x&&(A+='<mark name="'+x+'"/>')}v===""?A+=" prime ":v==="2"?A+=" squared ":v==="3"?A+=" cubed ":Number.isNaN(Number.parseInt(v))?A+=" to the "+g+"; ":A+=' to the <say-as interpret-as="ordinal">'+v+"</say-as> power; "}else Number.isNaN(Number.parseInt(v))?A+=" raised to the "+g+"; ":A+=' raised to the <say-as interpret-as="ordinal">'+v+"</say-as> power; "}if(!m&&!e.hasEmptyBranch("subscript")){let g=Te("math",e.subscript);g=g.trim(),A+=bf(e.subscript)?" sub "+g:" subscript "+g+". End subscript. "}return A}function Md(t){var e,r;let n=globalThis.MathfieldElement;if(n.textToSpeechRules==="sre"&&("sre"in window||"SRE"in window)){let s=We(t);if(s){n.textToSpeechMarkup&&(n.textToSpeechRulesOptions=(e=n.textToSpeechRulesOptions)!=null?e:{},n.textToSpeechRulesOptions=N(D({},n.textToSpeechRulesOptions),{markup:n.textToSpeechMarkup}),n.textToSpeechRulesOptions.markup==="ssml"&&(n.textToSpeechRulesOptions=N(D({},n.textToSpeechRulesOptions),{markup:"ssml_step"})),n.textToSpeechRulesOptions=N(D({},n.textToSpeechRulesOptions),{rate:n.speechEngineRate}));let o=(r=window.SRE)!=null?r:globalThis.sre.System.getInstance();n.textToSpeechRulesOptions&&o.setupEngine(n.textToSpeechRulesOptions);let a="";try{a=o.toSpeech(s)}catch(l){console.error("MathLive 0.104.0: `SRE.toSpeech()` runtime error",l)}return a}return""}let i=Te("math",t);if(n.textToSpeechMarkup==="ssml"){let s="";n.speechEngineRate&&(s='<prosody rate="'+n.speechEngineRate+'">'),i='<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="en-US"><amazon:auto-breaths>'+s+"<p><s>"+i+"</s></p>"+(s?"</prosody>":"")+"</amazon:auto-breaths></speak>"}else n.textToSpeechMarkup==="mac"&&Ch()==="macos"?i=i.replace(/<mark([^/]*)\/>/g,"").replace(/<emphasis>/g,"[[emph+]]").replace(/<\/emphasis>/g,"").replace(/<break time="(\d*)ms"\/>/g,"[[slc $1]]").replace(/<say-as[^>]*>/g,"").replace(/<\/say-as>/g,""):i=i.replace(/<[^>]*>/g,"").replace(/\s{2,}/g," ");return i}var Ps={"\\ne":"","\\neq":"","":"-","-":"-","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\delta":"delta","\\epsilon":"epsilon","\\varepsilon":"varepsilon","\\zeta":"zeta","\\eta":"eta","\\theta":"theta","\\vartheta":"vartheta","\\iota":"iota","\\kappa":"kappa","\\lambda":"lambda","\\mu":"mu","\\nu":"nu","\\xi":"xi","\\pi":"pi","\\rho":"rho","\\sigma":"sigma","\\tau":"tau","\\upsilon":"upsilon","\\phi":"phi","\\varphi":"varphi","\\chi":"chi","\\psi":"psi","\\omega":"omega","\\Gamma":"Gamma","\\Delta":"Delta","\\Theta":"Theta","\\Lambda":"Lambda","\\Xi":"Xi","\\Pi":"Pi","\\Sigma":"Sigma","\\Phi":"Phi","\\Psi":"Psi","\\Omega":"Omega","\\exponentialE":"e","\\imaginaryI":"i","\\imaginaryJ":"j","\\!":" ","\\,":" ","\\:":" ","\\>":" ","\\;":" ","\\enskip":" ","\\enspace":" ","\\qquad":" ","\\quad":" ","\\infty":"oo","\\R":"RR","\\mathbb{R}":"RR","\\N":"NN","\\mathbb{N}":"NN","\\Z":"ZZ","\\mathbb{Z}":"ZZ","\\Q":"QQ","\\mathbb{Q}":"QQ","\\C":"CC","\\mathbb{C}":"CC","\\emptyset":"O/","\\varnothing":"O/","\\varDelta":"Delta","\\varTheta":"Theta","\\varLambda":"Lambda","\\varXi":"Xi","\\varPi":"Pi","\\varSigma":"Sigma","\\varUpsilon":"Upsilon","\\varPhi":"Phi","\\varPsi":"Psi","\\varOmega":"Omega"},wf={"\\pm":"+-","\\colon":" : ","\\sum":" sum ","\\prod":" prod ","\\bigcap":" nnn ","\\bigcup":" uuu ","\\int":" int ","\\oint":" oint ","\\ge":">=","\\le":"<=","\\ne":"!=","\\neq":"!=","\\lt":"<","\\gt":">","\\gets":"<-","\\to":"->","\\land":" and ","\\lor":" or ","\\lnot":" not ","\\forall":" AA ","\\exists":" EE ","\\in":" in ","\\notin":" !in ","\\mapsto":"|->","\\implies":"=>","\\iff":"<=>","\\cdot":" * ","\\ast":" ** ","\\star":" *** ","\\times":" * ","\\div":" -: ","\\ltimes":" |>< ","\\rtimes":" ><| ","\\bowtie":" |><| ","\\circ":"@"},ny={"\\vert":"|","\\Vert":"||","\\mid":"|","\\lbrack":"[","\\rbrack":"]","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"(:","\\rangle":":)"};function $5e(t){let e="";for(let r of t){let n=e[e.length-1];n!==void 0&&(/\d$/.test(n)&&/^\d/.test(r)||/[a-zA-Z]$/.test(n)&&/^[a-zA-Z]/.test(r))&&(e+=" "),e+=r}return e}function gt(t,e){var r,n,i,s,o,a,l,c,u,A,h,f,p,m,y,g,v;if(!t)return"";if(Dr(t)){if(t.length===0)return"";if(t[0].mode==="latex")return t.map(k=>gt(k)).join("");if(t[0].mode==="text"){let k=0,E="";for(;((r=t[k])==null?void 0:r.mode)==="text";)E+=t[k].body?gt(t[k].body,e):t[k].value,k++;return e!=null&&e.plain?E+gt(t.slice(k),e):`"${E}" ${gt(t.slice(k))}`}let B=0,_=[];for(;t[B]&&t[B].mode==="math";){let k="";for(;t[B]&&t[B].type==="mord"&&/\d/.test(t[B].value);)k+=t[B++].value;k?_.push(k):_.push(gt(t[B++],e))}return _.push(gt(t.slice(B),e)),$5e(_)}if(t.mode==="text")return e!=null&&e.plain?t.value:`"${t.value}"`;let x="",{command:b}=t,w;if(b==="\\placeholder")return`(${gt(t.body,e)})`;let C=X.serialize([t],{expandMacro:!1,defaultMode:"math"});switch(t.type){case"accent":let B={"\\vec":"vec","\\dot":"dot","\\ddot":"ddot","\\bar":"bar","\\hat":"hat","\\acute":"acute;","\\grave":"grave","\\tilde":"tilde","\\breve":"breave","\\check":"check"}[b];x=`${B??""} ${gt(t.body,e)} `;break;case"first":return"";case"latexgroup":return t.body.map(k=>k.value).join("");case"group":case"root":x=(n=Ps[b])!=null?n:gt(t.body,e);break;case"genfrac":{let k=t;(k.leftDelim||k.rightDelim)&&(x=k.leftDelim==="."||!k.leftDelim?"{:":k.leftDelim),k.hasBarLine?(x+="(",x+=gt(k.above,e),x+=")/(",x+=gt(k.below,e),x+=")"):(x+="((",x+=gt(k.above,e),x+=") choose (",x+=gt(k.below,e),x+="))"),(k.leftDelim||k.rightDelim)&&(x+=k.rightDelim==="."||!k.rightDelim?"{:":k.rightDelim)}break;case"surd":t.hasEmptyBranch("above")?x+=`sqrt(${gt(t.body,e)})`:x+=`root(${gt(t.above,e)})(${gt(t.body,e)})`;break;case"latex":x=t.value;break;case"leftright":{let k=t,E=k.leftDelim;E&&ny[E]&&(E=ny[E]),x+=E==="."||!E?"{:":E,x+=gt(k.body,e);let F=k.matchingRightDelim();F&&ny[F]&&(F=ny[F]),x+=F==="."||!F?":}":F}break;case"sizeddelim":case"delim":x=t.value;break;case"overlap":break;case"overunder":break;case"mord":if(Ps[C])return Ps[C];x=(o=(s=(i=Ps[b])!=null?i:b)!=null?s:b)!=null?o:typeof t.value=="string"?t.value:"",x.startsWith("\\")&&(x+=" "),w=b?b.match(/{?\\char"([\dabcdefABCDEF]+)}?/):null,w?x=String.fromCodePoint(Number.parseInt("0x"+w[1])):x.length>0&&x.startsWith("\\")&&(x=typeof t.value=="string"?t.value.charAt(0):t.command),x=V5e(x,t.style);break;case"mbin":case"mrel":case"minner":x=(c=(l=(a=Ps[C])!=null?a:Ps[b])!=null?l:wf[b])!=null?c:t.value;break;case"mopen":case"mclose":x=t.value;break;case"mpunct":x=(u=wf[b])!=null?u:b;break;case"mop":case"operator":case"extensible-symbol":t.value!==""&&(wf[b]?x=wf[b]:x=b==="\\operatorname"?gt(t.body,e):(A=t.value)!=null?A:b,x+=" ");break;case"array":let _=t.environmentName;if(t.isMultiline)x=t.rows.map(k=>k.map(E=>gt(E,e)).join("")).join(`
`);else{let k=(h={bmatrix:["[","]"],"bmatrix*":["[","]"]}[_])!=null?h:["(",")"],E=[],F=t.rows;for(let T of F){let Q=[];for(let P of T)Q.push(gt(P,e));E.push(k[0]+Q.join(",")+k[1])}let M=(f={bmatrix:["[","]"],"bmatrix*":["[","]"],cases:["{",":}"]}[_])!=null?f:["(",")"];x=M[0]+E.join(",")+M[1]}break;case"box":break;case"spacing":x=(m=(p=Ps[C])!=null?p:Ps[b])!=null?m:" ";break;case"enclose":x="("+gt(t.body,e)+")";break;case"space":x=" ";break;case"subsup":x="";break;case"macro":x=(v=(g=(y=Ps[C])!=null?y:Ps[b])!=null?g:wf[b])!=null?v:gt(t.body,e);break}if(!t.hasEmptyBranch("subscript")){x+="_";let B=gt(t.subscript,e);x+=B.length!==1?`(${B})`:B}if(!t.hasEmptyBranch("superscript")){x+="^";let B=gt(t.superscript,e);x+=B.length!==1?`(${B})`:B}return x}function V5e(t,e){if(!e)return t;let r=t;return e.variant==="double-struck"&&(r=`bbb "${r}"`),e.variant==="script"&&(r=`cc "${r}"`),e.variant==="fraktur"&&(r=`fr "${r}"`),e.variant==="sans-serif"&&(r=`sf "${r}"`),e.variant==="monospace"&&(r=`tt "${r}"`),e.variantStyle==="bold"&&(r=`bb "${r}"`),e.color?`color({${e.color}})(${r})`:r}function or(t,e){var r;let n=N(D({},TW()),{renderPlaceholder:()=>new oe(160,{maxFontSize:1})}),i=(r=void 0)!=null?r:"math",s="math",o="displaystyle";i==="inline-math"?o="textstyle":i==="math"?o="displaystyle":i==="text"&&(o="textstyle",s="text");let a=new Pe({from:n}),l=new X({type:"root",mode:s,body:Vi(t,{context:a,parseMode:s,mathstyle:o})}).render(a);return l?(xw(F0(l,a)),bw(l,{classes:"ML__latex"}).toMarkup()):""}function y_(t){if(typeof t=="string"){let e=K5e(t);if(!e)throw new Error(`Invalid color: ${t}`);return e}return"C"in t?W5e(t):"a"in t?dq(t):t}function Td(t){return t<0?0:t>255?255:Math.round(t)}function K5e(t){if(!t||t[0]!=="#")return;t=t.slice(1);let e;return t.length<=4?(e={r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16)},t.length===4&&(e.a=parseInt(t[3]+t[3],16)/255)):(e={r:parseInt(t[0]+t[1],16),g:parseInt(t[2]+t[3],16),b:parseInt(t[4]+t[5],16)},t.length===8&&(e.a=parseInt(t[6]+t[7],16)/255)),e&&typeof e.a>"u"&&(e.a=1),e}function v_(t){let[e,r,n]=[t.L,t.C,t.H],i=n*Math.PI/180,s={L:e,a:r*Math.cos(i),b:r*Math.sin(i)};return t.alpha!==void 0&&(s.alpha=t.alpha),s}function z5e(t){let[e,r,n]=[t.L,t.a,t.b],i=Math.sqrt(r*r+n*n),s=Math.atan2(n,r)*180/Math.PI,o={L:e,C:i,H:s};return t.alpha!==void 0&&(o.alpha=t.alpha),o}function TC(t){let[e,r,n]=[t.L,t.a,t.b],i=Math.pow(.9999999984505198*e+.39633779217376786*r+.2158037580607588*n,3),s=Math.pow(1.00000000888176*e-.10556134232365635*r-.0638541747717059*n,3),o=Math.pow(e*1.000000054672411-.0894841820949657*r-1.2914855378640917*n,3),a=4.076741661347994*i-3.307711590408193*s+.230969928729428*o,l=-1.2684380040921763*i+2.6097574006633715*s-.3413193963102197*o,c=-.004196086541837188*i-.7034186144594493*s+1.7076147009309444*o,u=A=>{let h=Math.abs(A);return h<=.0031308?A*12.92:(Math.sign(A)||1)*(1.055*Math.pow(h,1/2.4)-.055)};return[u(a),u(l),u(c)]}function DC(t){let[e,r,n]=t;return e>=0&&e<=1&&r>=0&&r<=1&&n>=0&&n<=1}function LC(t,e){let[r,n,i]=t;return r=Td(r*255),n=Td(n*255),i=Td(i*255),e!==void 0?{r,g:n,b:i,alpha:e}:{r,g:n,b:i}}function dq(t){let[e,r,n]=TC(t);if(DC([e,r,n]))return LC([e,r,n],t.alpha);let i=z5e(t);if(i.C=0,[e,r,n]=TC(v_(i)),!DC([e,r,n]))return LC([e,r,n],t.alpha);let s=0,o=t.L,a=(s+o)/2;i.C=a;let l=.36/Math.pow(2,12);for(;o-s>l;)a=(s+o)/2,i.C=a,[e,r,n]=TC(v_(i)),DC([e,r,n])?s=a:o=a;return LC([e,r,n],t.alpha)}function W5e(t){return dq(v_(t))}function XN(t,e){let r=y_(t),n=y_(e),i=.56,s=.57,o=.62,a=.65,l=.022,c=1.414,u=.1,A=5e-4,h=1.14,f=.027,p=1.14,m=.027;function y(B){return B>=l?B:B+(l-B)**c}function g(B){return(B<0?-1:1)*Math.pow(Math.abs(B),2.4)}let v=y(g(n.r/255)*.2126729+g(n.g/255)*.7151522+g(n.b/255)*.072175),x=y(g(r.r/255)*.2126729+g(r.g/255)*.7151522+g(r.b/255)*.072175),b,w,C;return Math.abs(x-v)<A?w=0:x>v?(b=x**i-v**s,w=b*h):(b=x**a-v**o,w=b*p),Math.abs(w)<u?C=0:w>0?C=w-m:C=w+f,C*100}function hq(t,e,r){r!=null||(r="#fff"),e!=null||(e="#000");let n=XN(t,r),i=XN(t,e);return Math.abs(n)>Math.abs(i)?r:e}function G5e(t){let e=y_(t),r=((1<<24)+(Td(e.r)<<16)+(Td(e.g)<<8)+Td(e.b)).toString(16).slice(1);return e.alpha!==void 0&&e.alpha<1&&(r+=("00"+Math.round(e.alpha*255).toString(16)).slice(-2)),r[0]===r[1]&&r[2]===r[3]&&r[4]===r[5]&&r[6]===r[7]&&(r=r[0]+r[2]+r[4]+(e.alpha!==void 0&&e.alpha<1?r[6]:"")),"#"+r}function nt(t){let e=fq(t),r="";for(let n of e){if(typeof n.value!="string")return"";r+=n.value}return r}function fq(t){let e=t.model.selection.ranges;if(e.length!==1)return[];let r=t.model.getAtoms(e[0]);return r.length===1&&r[0].isRoot&&(r=r[0].children),r.filter(n=>n.type!=="first")}function q5e(t,e){let r=fq(t);if(r.length!==1)return!1;let n=e_[e];return n?!!n.test(r[0].value):!1}function X5e(t){return nt(t).length>0}function Y5e(t){return[OC(t,"double-struck","mathbb","tooltip.blackboard"),OC(t,"fraktur","mathfrak","tooltip.fraktur"),OC(t,"calligraphic","mathcal","tooltip.caligraphic"),NC(t,"up","mathrm","tooltip.roman-upright"),NC(t,"bold","bm","tooltip.bold"),NC(t,"italic","mathit","tooltip.italic")]}function J5e(t){return[{id:"accent-vec",class:"ML__center-menu",label:()=>or(`\\vec{${nt(t)}}`),visible:()=>nt(t).length===1,onMenuSelect:()=>t.insert("\\vec{#@}",{selectionMode:"item"})},{id:"accent-overrightarrow",class:"ML__center-menu",label:()=>or(`\\overrightarrow{${nt(t)}}`),visible:()=>nt(t).length>0,onMenuSelect:()=>t.insert("\\overrightarrow{#@}",{selectionMode:"item"})},{id:"accent-overleftarrow",class:"ML__center-menu",label:()=>or(`\\overleftarrow{${nt(t)}}`),visible:()=>nt(t).length>0,onMenuSelect:()=>t.insert("\\overleftarrow{#@}",{selectionMode:"item"})},{id:"accent-dot",class:"ML__center-menu",label:()=>or(`\\dot{${nt(t)}}`),visible:()=>nt(t).length===1,onMenuSelect:()=>t.insert("\\dot{#@}",{selectionMode:"item"})},{id:"accent-ddot",class:"ML__center-menu",label:()=>or(`\\ddot{${nt(t)}}`),visible:()=>nt(t).length===1,onMenuSelect:()=>t.insert("\\ddot{#@}",{selectionMode:"item"})},{id:"accent-bar",class:"ML__center-menu",label:()=>or(`\\bar{${nt(t)}}`),visible:()=>nt(t).length===1,onMenuSelect:()=>t.insert("\\bar{#@}",{selectionMode:"item"})},{id:"accent-overline",class:"ML__center-menu",label:()=>or(`\\overline{${nt(t)}}`),visible:()=>nt(t).length>0,onMenuSelect:()=>t.insert("\\overline{#@}",{selectionMode:"item"})},{id:"accent-overgroup",class:"ML__center-menu",label:()=>or(`\\overgroup{${nt(t)}}`),visible:()=>nt(t).length>0,onMenuSelect:()=>t.insert("\\overgroup{#@}",{selectionMode:"item"})},{id:"accent-overbrace",class:"ML__center-menu",label:()=>or(`\\overbrace{${nt(t)}}`),visible:()=>nt(t).length>0,onMenuSelect:()=>t.insert("\\overbrace{#@}",{selectionMode:"item"})},{id:"accent-underline",class:"ML__center-menu",label:()=>or(`\\underline{${nt(t)}}`),visible:()=>nt(t).length>0,onMenuSelect:()=>t.insert("\\underline{#@}",{selectionMode:"item"})},{id:"accent-undergroup",class:"ML__center-menu",label:()=>or(`\\undergroup{${nt(t)}}`),visible:()=>nt(t).length>0,onMenuSelect:()=>t.insert("\\undergroup{#@}",{selectionMode:"item"})},{id:"accent-underbrace",class:"ML__center-menu",label:()=>or(`\\underbrace{${nt(t)}}`),visible:()=>nt(t).length>0,onMenuSelect:()=>t.insert("\\underbrace{#@}",{selectionMode:"item"})}]}function Z5e(t){return[{id:"decoration-boxed",label:()=>or(`\\boxed{${t.getValue(t.model.selection)}}}`),onMenuSelect:()=>t.insert("\\boxed{#@}",{selectionMode:"item"})},{id:"decoration-red-box",label:()=>or(`\\bbox[5px, border: 2px solid red]{${t.getValue(t.model.selection)}}`),onMenuSelect:()=>t.insert("\\bbox[5px, border: 2px solid red]{#@}",{selectionMode:"item"})},{id:"decoration-dashed-black-box",label:()=>or(`\\bbox[5px, border: 2px dashed black]{${t.getValue(t.model.selection)}}`),onMenuSelect:()=>t.insert("\\bbox[5px, border: 2px dashed black]{#@}",{selectionMode:"item"})}]}function e6e(t){let e=[];for(let r of Object.keys(du))e.push({id:`background-color-${r}`,class:(G5e(hq(du[r]))==="#000"?"dark-contrast":"light-contrast")+" menu-swatch",label:`<span style="background:${du[r]} "></span>`,ariaLabel:()=>{var n;return(n=Ee(r))!=null?n:r},checked:()=>{var n;return(n={some:"mixed",all:!0}[t.queryStyle({backgroundColor:r})])!=null?n:!1},onMenuSelect:()=>t.applyStyle({backgroundColor:r},{operation:"toggle"})});return e}function t6e(t){let e=[];for(let r of Object.keys(hu))e.push({id:`color-${r}`,class:(hq(hu[r])==="#000"?"dark-contrast":"light-contrast")+" menu-swatch",label:`<span style="background:${hu[r]} "></span>`,ariaLabel:()=>{var n;return(n=Ee(r))!=null?n:r},checked:()=>{var n;return(n={some:"mixed",all:!0}[t.queryStyle({color:r})])!=null?n:!1},onMenuSelect:()=>t.applyStyle({color:r},{operation:"toggle"})});return e}var r6e=class extends iq{constructor(t,e,r,n){super(t,e),this.row=r,this.col=n}set active(t){let e=this.parentMenu.children;if(t)for(let r of e)r.element.classList.toggle("active",r.row<=this.row&&r.col<=this.col);else for(let r of e)r.element.classList.remove("active")}};function n6e(t){let e=[];for(let r=1;r<=5;r++)for(let n=1;n<=5;n++)e.push({id:`insert-matrix-${r}x${n}`,onCreate:(i,s)=>new r6e(i,s,r,n),label:"",tooltip:()=>Ee("tooltip.row-by-col",r,n),data:{row:r,col:n},onMenuSelect:()=>{t.insert(`\\begin{pmatrix}${Array(r).fill(Array(n).fill("#?").join(" & ")).join("\\\\")}\\end{pmatrix}`,{selectionMode:"item"})}});return e}function i6e(t){return[{label:()=>Ee("menu.array.add row above"),id:"add-row-above",onMenuSelect:()=>t.executeCommand("addRowBefore"),keyboardShortcut:"shift+alt+[Return]",visible:()=>{if(!t.isSelectionEditable||!Sc(t))return!1;let[e,r]=Ra(t),[n,i]=bA(t);return e!==n}},{label:()=>Ee("menu.array.add row below"),id:"add-row-below",onMenuSelect:()=>t.executeCommand("addRowAfter"),keyboardShortcut:"alt+[Return]",visible:()=>{if(!t.isSelectionEditable||!Sc(t))return!1;let[e,r]=Ra(t),[n,i]=bA(t);return e!==n}},{label:()=>Ee("menu.array.add column before"),id:"add-column-before",onMenuSelect:()=>t.executeCommand("addColumnBefore"),visible:()=>{if(!t.isSelectionEditable||!Sc(t))return!1;let[e,r]=Ra(t),[n,i]=bA(t);return r!==i},keyboardShortcut:"shift+alt+[Tab]",enabled:()=>{let e=t.model.parentEnvironment;if(!e)return!1;let[r,n]=jC(t);return r<e.maxColumns}},{label:()=>Ee("menu.array.add column after"),id:"add-column-after",onMenuSelect:()=>t.executeCommand("addColumnAfter"),keyboardShortcut:"alt+[Tab]",visible:()=>{if(!t.isSelectionEditable||!Sc(t))return!1;let[e,r]=Ra(t),[n,i]=bA(t);return r!==i}},{type:"divider"},{label:()=>Ee("menu.array.delete row"),id:"delete-row",onMenuSelect:()=>t.executeCommand("removeRow"),enabled:()=>{let[e,r]=Ra(t),[n,i]=jC(t);return n>e},visible:()=>{if(!t.isSelectionEditable||!Sc(t))return!1;let[e,r]=Ra(t),[n,i]=bA(t);return e!==n}},{label:()=>Ee("menu.array.delete column"),id:"delete-column",onMenuSelect:()=>t.executeCommand("removeColumn"),enabled:()=>{let[e,r]=Ra(t),[n,i]=jC(t);return i>r},visible:()=>{if(!t.isSelectionEditable||!Sc(t))return!1;let[e,r]=Ra(t),[n,i]=bA(t);return r!==i}},{type:"divider"},{label:()=>Ee("menu.borders"),visible:()=>(s6e(t)||Sc(t))&&t.isSelectionEditable,submenu:[{label:"  ",id:"environment-no-border",onMenuSelect:()=>Cf(t,"matrix")},{label:"()",id:"environment-parentheses",onMenuSelect:()=>Cf(t,"pmatrix")},{label:"[]",id:"environment-brackets",onMenuSelect:()=>Cf(t,"bmatrix")},{label:"||",id:"environment-bar",onMenuSelect:()=>Cf(t,"vmatrix")},{label:"{}",id:"environment-braces",onMenuSelect:()=>Cf(t,"Bmatrix")}],submenuClass:"border-submenu"},{type:"divider"},{label:()=>Ee("menu.insert matrix"),id:"insert-matrix",visible:()=>t.isSelectionEditable,submenu:n6e(t),submenuClass:"insert-matrix-submenu",columnCount:5},{type:"divider"},{label:()=>Ee("menu.insert"),id:"insert",submenu:a6e(t)},{type:"divider"},{label:()=>Ee("menu.mode"),id:"mode",visible:()=>t.isSelectionEditable&&t.model.selectionIsCollapsed,submenu:[{label:()=>Ee("menu.mode-math"),id:"mode-math",onMenuSelect:()=>{eh(t,"accept-all"),t.executeCommand(["switchMode","math"])},checked:()=>t.model.mode==="math"},{label:()=>Ee("menu.mode-text"),id:"mode-text",onMenuSelect:()=>{eh(t,"accept-all"),t.executeCommand(["switchMode","text"])},checked:()=>t.model.mode==="text"},{label:()=>Ee("menu.mode-latex"),id:"mode-latex",onMenuSelect:()=>t.executeCommand(["switchMode","latex"]),checked:()=>t.model.mode==="latex"}]},{type:"divider"},{label:()=>Ee("menu.font-style"),id:"variant",visible:()=>t.isSelectionEditable,submenu:Y5e(t),submenuClass:"variant-submenu"},{label:()=>Ee("menu.color"),id:"color",visible:()=>t.isSelectionEditable,submenu:t6e(t),columnCount:4,submenuClass:"swatches-submenu"},{label:()=>Ee("menu.background-color"),id:"background-color",visible:()=>t.isSelectionEditable,submenu:e6e(t),columnCount:4,submenuClass:"swatches-submenu"},{label:()=>Ee("menu.accent"),id:"accent",visible:()=>t.isSelectionEditable,submenu:J5e(t),submenuClass:"variant-submenu"},{label:()=>Ee("menu.decoration"),id:"decoration",visible:()=>t.isSelectionEditable&&nt(t).length>0,submenu:Z5e(t),submenuClass:"variant-submenu"},{type:"divider"},{label:()=>Ee("menu.evaluate"),id:"ce-evaluate",visible:()=>t.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null,onMenuSelect:()=>{let e=o6e(t);if(!e){t.model.announce("plonk");return}t.model.selectionIsCollapsed?(t.model.position=t.model.lastOffset,t.insert(`=${e}`,{insertionMode:"insertAfter",selectionMode:"item"})):t.insert(e,{insertionMode:"replaceSelection",selectionMode:"item"})}},{label:()=>Ee("menu.simplify"),id:"ce-simplify",visible:()=>t.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null,onMenuSelect:()=>{var e,r;if(t.model.selectionIsCollapsed){let n=(e=t.expression)==null?void 0:e.simplify();if(t.model.position=t.model.lastOffset,!n){t.model.announce("plonk");return}t.insert(`=${n.latex}`,{insertionMode:"insertAfter",selectionMode:"item"})}else{let n=(r=globalThis.MathfieldElement.computeEngine)==null?void 0:r.parse(t.getValue(t.model.selection)).simplify();if(!n){t.model.announce("plonk");return}t.insert(n.latex,{insertionMode:"replaceSelection",selectionMode:"item"})}}},{label:()=>{var e;let r=globalThis.MathfieldElement.computeEngine;if(r===null)return"";let n=(e=t.expression)==null?void 0:e.unknowns[0];if(n){let i=r.box(n).latex;return Ee("menu.solve-for",or(i))}return Ee("menu.solve")},id:"ce-solve",visible:()=>{var e;return t.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null&&((e=t.expression)==null?void 0:e.unknowns.length)===1&&t.expression.unknowns[0]!=="Nothing"},onMenuSelect:()=>{var e;let r=t.expression,n=r==null?void 0:r.unknowns[0],i=(e=r.solve(n))==null?void 0:e.map(s=>{var o;return(o=s.simplify().latex)!=null?o:""});if(!i){t.model.announce("plonk");return}t.insert(`${n}=${i.length===1?i[0]:"\\left\\lbrace"+(i==null?void 0:i.join(", "))+"\\right\\rbrace"}`,{insertionMode:"replaceAll",selectionMode:"item"})}},{type:"divider"},{label:()=>Ee("menu.cut"),id:"cut",onMenuSelect:()=>t.executeCommand("cutToClipboard"),visible:()=>!t.options.readOnly&&t.isSelectionEditable,keyboardShortcut:"meta+X"},{label:()=>Ee("menu.copy"),id:"copy",submenu:[{label:()=>Ee("menu.copy-as-latex"),id:"copy-latex",onMenuSelect:()=>at.copyToClipboard(t,"latex"),keyboardShortcut:"meta+C"},{label:()=>Ee("menu.copy-as-ascii-math"),id:"copy-ascii-math",onMenuSelect:()=>at.copyToClipboard(t,"ascii-math")},{label:()=>Ee("menu.copy-as-mathml"),id:"copy-math-ml",onMenuSelect:()=>at.copyToClipboard(t,"math-ml")}]},{label:()=>Ee("menu.paste"),id:"paste",onMenuSelect:()=>t.executeCommand("pasteFromClipboard"),visible:()=>t.hasEditableContent,keyboardShortcut:"meta+V"},{label:()=>Ee("menu.select-all"),id:"select-all",keyboardShortcut:"meta+A",onMenuSelect:()=>t.executeCommand("selectAll")}]}function Sc(t){var e,r;let n=(r=(e=t.model.parentEnvironment)==null?void 0:e.environmentName)!=null?r:"";return["array","matrix","pmatrix","bmatrix","vmatrix","Bmatrix"].includes(n)}function s6e(t){let e=t.model.at(t.model.position);if(e.type!=="array")return!1;let r=e.environmentName;return["matrix","pmatrix","bmatrix","vmatrix","Bmatrix"].includes(r)}function jC(t){var e;let r=(e=t.model.parentEnvironment)==null?void 0:e.rows;return r?[r.length,r.reduce((n,i)=>Math.max(n,i.length),0)]:[0,0]}function Ra(t){let e=t.model.parentEnvironment;return e?[e.minRows,e.minColumns]:[0,0]}function bA(t){let e=t.model.parentEnvironment;return e?[e.maxRows,e.maxColumns]:[0,0]}function Cf(t,e){Fw(t),t.flushInlineShortcutBuffer(),GG(t.model,e),vt(t)}function o6e(t){var e,r;let n;if(t.model.selectionIsCollapsed?n=(e=globalThis.MathfieldElement.computeEngine)==null?void 0:e.parse(t.getValue(),{canonical:!1}):n=(r=globalThis.MathfieldElement.computeEngine)==null?void 0:r.parse(t.getValue(t.model.selection),{canonical:!1}),!n)return"";let i=n.evaluate();return i.isSame(n)&&(i=n.N()),i.latex}function OC(t,e,r,n){return{id:`variant-${e}`,label:()=>{var i;return nt(t).length<12?or(`\\${r}{${nt(t)}}`):(i=Ee(n))!=null?i:n},class:"ML__xl",tooltip:()=>{var i;return(i=Ee(n))!=null?i:n},visible:()=>q5e(t,e),checked:()=>{var i;return(i={some:"mixed",all:!0}[t.queryStyle({variant:e})])!=null?i:!1},onMenuSelect:()=>t.applyStyle({variant:e},{operation:"toggle"})}}function NC(t,e,r,n){return{id:`variant-style-${e}`,label:()=>{var i;let s=nt(t);return s.length>0&&s.length<12?or(`\\${r}{${nt(t)}}`):(i=Ee(n))!=null?i:n},class:()=>{let i=nt(t);return i.length>0&&i.length<12?"ML__xl":""},tooltip:()=>{var i;return(i=Ee(n))!=null?i:n},visible:e==="bold"?!0:()=>X5e(t),checked:()=>{var i;return(i={some:"mixed",all:!0}[t.queryStyle({variantStyle:e})])!=null?i:!1},onMenuSelect:()=>t.applyStyle({variantStyle:e},{operation:"toggle"})}}function a6e(t){return[{label:()=>ti("abs"),id:"insert-abs",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("|#?|")},{label:()=>ti("nth-root"),id:"insert-nth-root",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\sqrt[#?]{#?}")},{label:()=>ti("log-base"),id:"insert-log-base",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\log_{#?}{#?}")},{type:"heading",label:()=>Ee("menu.insert.heading-calculus")},{label:()=>ti("derivative"),id:"insert-derivative",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\dfrac{\\mathrm{d}}{\\mathrm{d}x}#?\\bigm|_{x=#?}")},{label:()=>ti("nth-derivative"),id:"insert-nth-derivative",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\dfrac{\\mathrm{d}^#?}{\\mathrm{d}x^#?}#?\\bigm|_{x=#?}")},{label:()=>ti("integral"),id:"insert-integral",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\int_#?^#?#?\\,\\mathrm{d}#?")},{label:()=>ti("sum"),id:"insert-sum",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\sum_#?^#?#?")},{label:()=>ti("product"),id:"insert-product",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\prod_#?^#?#?")},{type:"heading",label:()=>Ee("menu.insert.heading-complex-numbers")},{label:()=>ti("modulus"),id:"insert-modulus",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\lvert#?\\rvert")},{label:()=>ti("argument"),id:"insert-argument",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\arg(#?)")},{label:()=>ti("real-part"),id:"insert-real-part",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\Re(#?)")},{label:()=>ti("imaginary-part"),id:"insert-imaginary-part",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\Im(#?)")},{label:()=>ti("conjugate"),id:"insert-conjugate",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\overline{#?}")}]}function ti(t){return`<span class='ML__insert-template'> ${or(Ee(`menu.insert.${t}-template`))}</span><span class="ML__insert-label">${Ee(`menu.insert.${t}`)}</span>`}function ml(t,e){return typeof t=="string"?t+Md(e):Md(t)}function x_(t){var e;let r;if(t.parent.type==="prompt")t.parentBranch==="body"&&(r="prompt");else if(t.parentBranch==="body"){if(t.type==="first"&&(t.parent.type==="root"?r="mathfield":t.parent.type==="surd"?r="radicand":t.parent.type==="genfrac"?r="fraction":t.parent.type==="sizeddelim"&&(r="delimiter"),r))return r;t.type==="subsup"?t.superscript&&t.subscript?r="superscript and subscript":t.superscript?r="superscript":t.subscript&&(r="subscript"):t.type&&(r=(e={accent:"accented",array:"array",box:"box",chem:"chemical formula",delim:"delimiter",enclose:"cross out","extensible-symbol":"extensible symbol",error:"error",first:"first",genfrac:"fraction",group:"group",latex:"LaTeX",leftright:"delimiter",line:"line",subsup:"subscript-superscript",operator:"operator",overunder:"over-under",placeholder:"placeholder",rule:"rule",sizeddelim:"delimiter",space:"space",spacing:"spacing",surd:"square root",text:"text",prompt:"prompt",root:"math field",mop:"operator"}[t.type])!=null?e:"parent")}else if(t.parent.type==="genfrac"){if(t.parentBranch==="above")return"numerator";if(t.parentBranch==="below")return"denominator"}else t.parent.type==="surd"?t.parentBranch==="above"&&(r="index"):t.parentBranch==="superscript"?r="superscript":t.parentBranch==="subscript"&&(r="subscript");return r??"parent"}function l6e(t,e,r,n){let i="";if(e==="plonk"){globalThis.MathfieldElement.playSound("plonk"),t.flushInlineShortcutBuffer();return}if(e==="delete")i=ml("deleted: ",n);else if(e==="focus"||e.includes("move"))i=c6e(t.model,r),i+=u6e(t.model);else if(e==="replacement")i=ml(t.model.at(t.model.position));else if(e==="line"){let s=ml(t.model.root);t.keyboardDelegate.setAriaLabel(s)}else i=n?ml(e+" ",n):e;if(i){let s=t.ariaLiveText.textContent.includes("")?"  ":"  ";t.ariaLiveText.textContent=i+s}}function c6e(t,e){if(Number.isNaN(e))return"";let r=t.at(e);if(!r||r.treeDepth<=t.at(t.position).treeDepth)return"";let n="",i=r.parent,s=t.at(t.position).parent;for(;i!==t.root&&i!==s;)n+=`out of ${x_(i)};`,i=i.parent;return n}function u6e(t){if(!t.selectionIsCollapsed)return`selected: ${ml(t.getAtoms(t.selection))}`;let e="",r=t.at(t.position);if(r.isFirstSibling&&(e=`start of ${x_(r)}: `),r.isLastSibling){if(!r.isFirstSibling){if(!r.parent.parent)return`${ml(r)}; end of mathfield`;e=`${ml(r)}; end of ${x_(r)}`}}else e+=ml(r);return e}var A6e=class{constructor(t,e,r){this.mathfield=t,this.mode=e,this.silenceNotifications=!1,this._selection={ranges:[[0,0]],direction:"none"},this._anchor=0,this._position=0,this.root=r}dispose(){this.mathfield=void 0}getState(){let t={ranges:[...this._selection.ranges]};return this.selection.direction&&this.selection.direction!=="none"&&(t.direction=this.selection.direction),{content:this.root.toJson(),selection:t,mode:this.mode}}setState(t,e){var r;let n=this.silenceNotifications;this.silenceNotifications=(r=e==null?void 0:e.silenceNotifications)!=null?r:!0;let i={};if((e==null?void 0:e.type)==="undo"&&(i={inputType:"historyUndo"}),(e==null?void 0:e.type)==="redo"&&(i={inputType:"historyRedo"}),this.contentWillChange(i)){let s=this.silenceNotifications;this.silenceNotifications=!0,this.mode=t.mode,this.root=Ml(t.content),this.selection=t.selection,this.silenceNotifications=s,this.contentDidChange(i),this.selectionDidChange()}this.silenceNotifications=n}get atoms(){return this.root.children}get selection(){return this._selection}set selection(t){this.setSelection(t)}setSelection(t,e){return!this.mathfield.contentEditable&&this.mathfield.userSelect==="none"?!1:this.deferNotifications({selection:!0,content:!0},()=>{var r,n,i;let s=this.normalizeSelection(t,e);if(s===void 0)throw new TypeError("Invalid selection");if(s.ranges.length===1&&s.ranges[0][0]===s.ranges[0][1]){let u=s.ranges[0][0];if(!this.mathfield.dirty&&!((r=this.at(u))!=null&&r.parentPrompt)&&this.mathfield.hasEditablePrompts){if((n=this.at(u-1))!=null&&n.parentPrompt){this._anchor=this.normalizeOffset(u-1),this._position=this._anchor,this._selection=this.normalizeSelection(this._anchor);return}if((i=this.at(u+1))!=null&&i.parentPrompt){this._anchor=this.normalizeOffset(u+1),this._position=this._anchor,this._selection=this.normalizeSelection(this._anchor);return}this._anchor=0,this._position=0,this._selection={ranges:[[0,0]]};return}this._anchor=u,this._position=u,this._selection=s;return}let o=Kr(s);s.direction==="backward"?[this._position,this._anchor]=o:[this._anchor,this._position]=o;let a=this.at(o[0]+1),l=this.at(o[1]),c=X.commonAncestor(a,l);(c==null?void 0:c.type)==="array"&&a.parent===c&&l.parent===c?this._selection={ranges:[o],direction:s.direction}:this._selection={ranges:[o],direction:s.direction},this._position>=0&&this._position<=this.lastOffset})}setPositionHandlingPlaceholder(t){var e;let r=this.at(t);(r==null?void 0:r.type)==="placeholder"?this.setSelection(t-1,t):((e=r==null?void 0:r.rightSibling)==null?void 0:e.type)==="placeholder"?this.setSelection(t,t+1):this.position=t,r instanceof mr&&r.isSuggestion&&(r.isSuggestion=!1),this.mathfield.stopCoalescingUndo()}get position(){return this._position}set position(t){this.setSelection(t,t)}get anchor(){return this._anchor}get selectionIsCollapsed(){return this._anchor===this._position}get selectionIsPlaceholder(){return Math.abs(this._anchor-this._position)===1?this.at(Math.max(this._anchor,this._position)).type==="placeholder":!1}collapseSelection(t="forward"){return this._anchor===this._position?!1:(t==="backward"?this.position=Math.min(this._anchor,this._position):this.position=Math.max(this._anchor,this._position),!0)}get lastOffset(){return this.atoms.length-1}at(t){return this.atoms[t]}offsetOf(t){return this.atoms.indexOf(t)}getSiblingsRange(t){let e=this.at(t),{parent:r}=e;if(!r)return[0,this.lastOffset];let n=e.parent.branch(e.parentBranch);return[this.offsetOf(n[0]),this.offsetOf(n[n.length-1])]}getBranchRange(t,e){let r=this.at(t).branch(e);return[this.offsetOf(r[0]),this.offsetOf(r[r.length-1])]}getCellRange(t){var e;this.getParentCell(t);let r=this.at(t);if(r){for(;r&&((e=r.parent)==null?void 0:e.type)!=="array";)r=r.parent;if(!(!(r!=null&&r.parent)||r.parent.type!=="array"))return[this.offsetOf(r.firstSibling),this.offsetOf(r.lastSibling)]}}getAtoms(t,e,r){let n=r??{};if(Qv(t)){if(n=e??{},t.ranges.length>1)return t.ranges.reduce((c,u)=>[...c,...this.getAtoms(u,n)],[]);t=t.ranges[0]}let i,s;if(tl(t)){if(i=t,!tl(e))return[];s=e}else[i,s]=t,n=e??{};if(!Number.isFinite(i))return[];n.includeChildren===void 0&&(n.includeChildren=!1),i<0&&(i=this.lastOffset-i+1),s<0&&(s=this.lastOffset+s+1);let o=Math.min(i,s)+1,a=Math.max(i,s);if(!n.includeChildren&&o===1&&a===this.lastOffset)return[this.root];let l=[];for(let c=o;c<=a;c++){let u=this.atoms[c];YN(this,u,o,a)&&l.push(u)}return n.includeChildren||(l=l.filter(c=>{let u=!1,{parent:A}=c;for(;A&&!u;)u=YN(this,A,o,a),A=A.parent;return!u})),l}findAtom(t,e=0,r="forward"){let n,i=this.lastOffset;if(r==="forward"){for(let s=e;s<=i;s++)if(n=this.atoms[s],t(n))return n;for(let s=0;s<e;s++)if(n=this.atoms[s],t(n))return n;return}for(let s=e;s>=0;s--)if(n=this.atoms[s],t(n))return n;for(let s=i;s>e;s--)if(n=this.atoms[s],t(n))return n}extractAtoms(t){var e;let r=this.getAtoms(t);r.length===1&&!r[0].parent&&r[0].isRoot&&(r=[...(e=r[0].body)!=null?e:r[0].children],r.shift());for(let n of r)n.parent.removeChild(n);return r}deleteAtoms(t){t!=null||(t=[0,-1]),this.extractAtoms(t),this.position=t[0]}atomToString(t,e){let r=e??"latex";if(r.startsWith("latex"))return X.serialize([t],{expandMacro:r==="latex-expanded",skipStyles:r==="latex-unstyled",skipPlaceholders:r==="latex-without-placeholders",defaultMode:this.mathfield.options.defaultMode});if(r==="math-ml")return We(t);if(r==="spoken")return Md(t);if(r==="spoken-text"){let n=globalThis.MathfieldElement.textToSpeechMarkup;globalThis.MathfieldElement.textToSpeechMarkup="";let i=Md(t);return globalThis.MathfieldElement.textToSpeechMarkup=n,i}if(r==="spoken-ssml"||r==="spoken-ssml-with-highlighting"){let n=globalThis.MathfieldElement.textToSpeechMarkup;globalThis.MathfieldElement.textToSpeechMarkup="ssml";let i=Md(t);return globalThis.MathfieldElement.textToSpeechMarkup=n,i}return r==="plain-text"?gt(t,{plain:!0}):r==="ascii-math"?gt(t):(console.error(`MathLive 0.104.0: Unexpected format "${r}`),"")}getValue(t,e,r){if(t===void 0)return this.atomToString(this.root,"latex");if(typeof t=="string"&&t!=="math-json")return this.atomToString(this.root,t);let n,i;if(tl(t)&&tl(e)?(n=[this.normalizeRange([t,e])],i=r):Fb(t)?(n=[this.normalizeRange(t)],i=e):Qv(t)?(n=t.ranges,i=e):(n=[this.normalizeRange([0,-1])],i=t),i!=null||(i="latex"),i==="math-json"){if(!globalThis.MathfieldElement.computeEngine)return window[Symbol.for("io.cortexjs.compute-engine")]||console.error(`The CortexJS Compute Engine library is not available.
Load the library, for example with:
import "https://unpkg.com/@cortex-js/compute-engine?module"`),'["Error", "compute-engine-not-available"]';let s=this.getValue({ranges:n},"latex-unstyled");try{let o=globalThis.MathfieldElement.computeEngine.parse(s);return JSON.stringify(o.json)}catch(o){return JSON.stringify(["Error",`'${o.toString()}'`])}}if(i.startsWith("latex")){let s={expandMacro:i==="latex-expanded",skipStyles:i==="latex-unstyled",skipPlaceholders:i==="latex-without-placeholders",defaultMode:this.mathfield.options.defaultMode};return Le(n.map(o=>X.serialize(this.getAtoms(o),s)))}return n.map(s=>this.getAtoms(s).map(o=>this.atomToString(o,i)).join("")).join("")}extendSelectionTo(t,e){return!this.mathfield.contentEditable&&this.mathfield.userSelect==="none"?!1:this.deferNotifications({selection:!0},()=>{let r=this.normalizeRange([t,e]),[n,i]=r,{parent:s}=this.at(i);if(s&&(s.type==="genfrac"||s.type==="subsup"))for(;s!==this.root&&IC(this,s,[n,i]);)i=this.offsetOf(s),s=s.parent;for(s=this.at(n).parent;s!==this.root&&IC(this,s,[n,i]);)n=this.offsetOf(s.leftSibling),s=s.parent;if(s=this.at(i).parent,(s==null?void 0:s.type)==="genfrac")for(;s!==this.root&&IC(this,s,[n,i]);)i=this.offsetOf(s),s=s.parent;this._position=this.normalizeOffset(e),this._selection={ranges:[[n,i]],direction:"none"}})}announce(t,e,r=[]){var n,i;((i=(n=this.mathfield.host)==null?void 0:n.dispatchEvent(new CustomEvent("announce",{detail:{command:t,previousPosition:e,atoms:r},cancelable:!0,bubbles:!0,composed:!0})))==null||i)&&l6e(this.mathfield,t,e,r)}deferNotifications(t,e){let r=this._selection,n=this._anchor,i=this._position,s=this.silenceNotifications;this.silenceNotifications=!0;let o=this.root.changeCounter;e(),this.silenceNotifications=s;let a=n!==this._anchor||i!==this._position||E3e(this._selection,r)==="different";t.selection&&a&&this.selectionDidChange();let l=this.root.changeCounter!==o;return t.content&&l&&this.contentDidChange({inputType:t.type}),l||a}normalizeOffset(t){return t>0?t=Math.min(t,this.lastOffset):t<0&&(t=this.lastOffset+t+1),t}normalizeRange(t){let[e,r]=t;return e=this.normalizeOffset(e),r=this.normalizeOffset(r),e<r?[e,r]:[r,e]}normalizeSelection(t,e){var r;let n;if(tl(t)){let i=this.normalizeOffset(t);if(tl(e)){let s=this.normalizeOffset(e);n=i<=s?{ranges:[[i,s]],direction:"none"}:{ranges:[[s,i]],direction:"backward"}}else n={ranges:[[i,i]],direction:"none"}}else if(Fb(t)){let i=this.normalizeOffset(t[0]),s=this.normalizeOffset(t[1]);n=i<=s?{ranges:[[i,s]],direction:"none"}:{ranges:[[s,i]],direction:"backward"}}else Qv(t)&&(n={ranges:t.ranges.map(i=>this.normalizeRange(i)),direction:(r=t.direction)!=null?r:"none"});return n}get parentEnvironment(){let t=this.at(this.position).parent;if(t){for(;t.parent&&t.type!=="array";)t=t.parent;if(t.type==="array")return t}}get parentCell(){return this.getParentCell(this.position)}getParentCell(t){var e;let r=this.at(t);if(r){for(;r&&((e=r.parent)==null?void 0:e.type)!=="array";)r=r.parent;if(!(!(r!=null&&r.parent)||r.parent.type!=="array"))return r.parentBranch}}contentWillChange(t={}){if(this.silenceNotifications||!this.mathfield)return!0;let e=this.silenceNotifications;this.silenceNotifications=!0;let r=this.mathfield.onContentWillChange(t);return this.silenceNotifications=e,r}contentDidChange(t){if(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(rl(this.mathfield)),this.silenceNotifications||!this.mathfield.host||!this.mathfield)return;let e=this.silenceNotifications;this.silenceNotifications=!0,setTimeout(()=>{var r;!this.mathfield||!ll(this.mathfield)||!this.mathfield.host||this.mathfield.host.dispatchEvent(new InputEvent("input",N(D({},t),{data:t.data?t.data:(r=t.inputType)!=null?r:"",bubbles:!0,composed:!0})))},0),this.silenceNotifications=e}selectionDidChange(){if(!this.mathfield||(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(rl(this.mathfield)),this.silenceNotifications))return;let t=this.silenceNotifications;this.silenceNotifications=!0,this.mathfield.onSelectionDidChange(),this.silenceNotifications=t}};function YN(t,e,r,n){let i=t.offsetOf(e);if(i<r||i>n)return!1;if(!e.hasChildren)return!0;let s=t.offsetOf(e.firstChild);if(s>=r&&s<=n){let o=t.offsetOf(e.lastChild);if(o>=r&&o<=n)return!0}return!1}function IC(t,e,r){if(!(e!=null&&e.hasChildren))return!1;let[n,i]=r,s=t.offsetOf(e.firstChild),o=t.offsetOf(e.lastChild);return s>=n&&s<=i&&o>=s&&o<=i}function Up(t,e,r,n){var i,s,o,a,l,c;let u=r.parent;if(ha(n)&&u&&u instanceof Ne&&u.isMultiline&&u.rows.length>1){let[A,h]=n;if(u.rows[A].length===1){let f=u.getCell(A,h);if(u.removeRow(A),e==="backward"){let p=u.getCell(A-1,0);t.position=t.offsetOf(p[p.length-1]),u.setCell(A-1,0,[...p,...f])}else{let p=u.getCell(A,0);t.position=t.offsetOf(p[0]),u.setCell(A,0,[...f,...p])}return!0}}if(u&&r instanceof Et){let A=!n&&e==="forward"||n==="body"&&e==="backward",h=A?t.offsetOf(r.firstChild):t.offsetOf(r.lastChild);return A?r.rightDelim!=="?"&&r.rightDelim!=="."?(r.leftDelim=".",r.isDirty=!0):(u.addChildrenAfter(r.removeBranch("body"),r),u.removeChild(r),h--):r.leftDelim!=="?"&&r.leftDelim!=="."?(r.rightDelim=".",r.isDirty=!0):(u.addChildrenAfter(r.removeBranch("body"),r),u.removeChild(r),h--),t.position=h,!0}if(u&&r.type==="surd"){if(e==="forward"&&!n||e==="backward"&&n==="body"){let A=r.leftSibling;r.hasChildren&&u.addChildrenAfter(r.removeBranch("body"),r),u.removeChild(r),t.position=t.offsetOf(A)}else e==="forward"&&n==="body"?t.position=t.offsetOf(r):!n&&e==="backward"?r.hasChildren?t.position=t.offsetOf(r.lastChild):(t.position=Math.max(0,t.offsetOf(r)-1),u.removeChild(r)):n==="above"&&(r.hasEmptyBranch("above")&&r.removeBranch("above"),e==="backward"?t.position=t.offsetOf(r.leftSibling):t.position=t.offsetOf(r.body[0]));return!0}if(u&&(r.type==="box"||r.type==="enclose")){let A=n&&e==="backward"||!n&&e==="forward"?r.leftSibling:r.lastChild;return u.addChildrenAfter(r.removeBranch("body"),r),u.removeChild(r),t.position=t.offsetOf(A),!0}if(r.type==="genfrac"||r.type==="overunder"){if(!n)return r.type==="overunder"&&r.hasEmptyBranch("body")||r.type==="genfrac"&&r.hasEmptyBranch("below")&&r.hasEmptyBranch("above")?!1:(t.position=t.offsetOf(e==="forward"?r.firstChild:r.lastChild),!0);let A=ql.fractionNavigationOrder==="numerator-denominator"?"above":"below",h=A==="above"?"below":"above";if(u&&(e==="forward"&&n===A||e==="backward"&&n===h)){let f=r.removeBranch(A),p=r.removeBranch(h);return u.addChildrenAfter([...f,...p],r),u.removeChild(r),t.position=t.offsetOf(f.length>0?f[f.length-1]:p[0]),!0}return e==="backward"?t.position=t.offsetOf(r.leftSibling):t.position=t.offsetOf(r),!0}if(r.type==="extensible-symbol"||r.type==="subsup"){if(!n&&e==="forward")return!1;if(!n){if(r.subscript||r.superscript){let A=e==="forward"?(o=(i=r.superscript)==null?void 0:i[0])!=null?o:(s=r.subscript)==null?void 0:s[0]:(c=(a=r.subscript)==null?void 0:a[0].lastSibling)!=null?c:(l=r.superscript)==null?void 0:l[0].lastSibling;return A&&(t.position=t.offsetOf(A)),!0}return!1}if(!r.hasChildren&&r.type==="subsup"){let A=e==="forward"?t.offsetOf(r):Math.max(0,t.offsetOf(r)-1);return r.parent.removeChild(r),t.position=A,!0}if(n==="superscript")if(e==="backward"){let A=t.offsetOf(r.firstChild)-1;t.position=A}else r.subscript?t.position=t.offsetOf(r.subscript[0]):t.position=t.offsetOf(r);else n==="subscript"&&(e==="backward"&&r.superscript?t.position=t.offsetOf(r.superscript[0].lastSibling):e==="backward"?t.position=t.offsetOf(r.firstChild)-1:t.position=t.offsetOf(r));if(n&&r.hasEmptyBranch(n)&&(r.removeBranch(n),r.type==="subsup"&&!r.subscript&&!r.superscript)){let A=e==="forward"?t.offsetOf(r):Math.max(0,t.offsetOf(r)-1);r.parent.removeChild(r),t.position=A}return!0}if((u==null?void 0:u.type)==="genfrac"&&!n&&r.type!=="first"){let A=t.offsetOf(r.leftSibling);return u.removeChild(r),u.hasEmptyBranch("above")&&u.hasEmptyBranch("below")?(A=t.offsetOf(u.leftSibling),u.parent.removeChild(u),t.announce("delete",void 0,[u]),t.position=A,!0):(t.announce("delete",void 0,[r]),t.position=A,!0)}if(e==="backward"&&((u==null?void 0:u.command)==="\\ln"||(u==null?void 0:u.command)==="\\log")&&r.parentBranch!=="body"){let A=t.offsetOf(u.leftSibling);return u.parent.removeChild(u),t.announce("delete",void 0,[u]),t.position=A,!0}return!1}function d6e(t){return!t.mathfield.isSelectionEditable||!t.contentWillChange({inputType:"deleteContentBackward"})?!1:t.selectionIsCollapsed?t.deferNotifications({content:!0,selection:!0,type:"deleteContentBackward"},()=>{let e=t.at(t.position);if(!(e&&Up(t,"backward",e))){if(e!=null&&e.isFirstSibling){if(Up(t,"backward",e.parent,e.parentBranch))return;e=null}if(!e){t.announce("plonk");return}t.position=t.offsetOf(e.leftSibling),e.parent.removeChild(e),t.announce("delete",void 0,[e])}}):ls(t,Kr(t.selection),"deleteContentBackward")}function h6e(t){return!t.mathfield.isSelectionEditable||!t.contentWillChange({inputType:"deleteContentForward"})?!1:t.selectionIsCollapsed?t.deferNotifications({content:!0,selection:!0,type:"deleteContentForward"},()=>{var e,r;let n=t.at(t.position).rightSibling;if(n&&Up(t,"forward",n))return;if(n){if(t.at(t.position).isLastSibling&&Up(t,"forward",n.parent,n.parentBranch))return}else{if(n=t.at(t.position),n.isLastSibling&&Up(t,"forward",n.parent,n.parentBranch))return;n=void 0}if(t.position===t.lastOffset||!n){t.announce("plonk");return}n.parent.removeChild(n);let i=(e=t.at(t.position))==null?void 0:e.rightSibling;for(;(i==null?void 0:i.type)==="subsup";)i.parent.removeChild(i),i=(r=t.at(t.position))==null?void 0:r.rightSibling;t.announce("delete",void 0,[n])}):ls(t,Kr(t.selection),"deleteContentForward")}function ls(t,e,r){let n=t.getAtoms(e);if(n.length>0&&n[0].parent){let i=n[0];for(;i&&!(i instanceof Ne);)i=i.parent;let s=n[n.length-1];for(;s&&!(s instanceof Ne);)s=s.parent;if(i&&i instanceof Ne){let u=i;if(u&&s===u&&u.isMultiline){let[A,h]=[Math.min(t.position,t.anchor),Math.max(t.position,t.anchor)],[f,p]=t.at(A).parentBranch,[m,y]=t.at(h).parentBranch;if(m-f+1>2){t.extractAtoms([A,h]);for(let v=f+1;v<m;v++)u.removeRow(v);return t.position=A,!0}}}let o=n[0].parent.firstChild;o.type==="first"&&(o=o.rightSibling);let a=n[n.length-1].parent.lastChild,l=n[0];l.type==="first"&&(l=l.rightSibling);let c=n[n.length-1];if(l===o&&c===a){let u=n[0].parent;u.parent&&u.type!=="prompt"&&(e=[t.offsetOf(u.leftSibling),t.offsetOf(u)])}if(n.length===1&&n[0].type==="placeholder"&&n[0].parent.type==="genfrac"){let u=n[0].parent,A=n[0].parentBranch==="below"?"above":"below",h=t.offsetOf(u.leftSibling);return t.deferNotifications({content:!0,selection:!0,type:r},()=>{var f,p;let m=u.removeBranch(A);if(m.length===1&&m[0].type==="placeholder")(p=u.parent)==null||p.removeChild(u),t.position=Math.max(0,h);else{let y=u.parent.addChildrenAfter(m,u);(f=u.parent)==null||f.removeChild(u),t.position=t.offsetOf(y)}})}}return t.deferNotifications({content:!0,selection:!0,type:r},()=>t.deleteAtoms(e))}En({deleteAll:t=>t.contentWillChange({inputType:"deleteContent"})&&ls(t,[0,-1],"deleteContent"),deleteForward:t=>h6e(t),deleteBackward:t=>d6e(t),deleteNextWord:t=>t.contentWillChange({inputType:"deleteWordForward"})&&ls(t,[t.anchor,a_(t,t.position,"forward")],"deleteWordForward"),deletePreviousWord:t=>t.contentWillChange({inputType:"deleteWordBackward"})&&ls(t,[t.anchor,a_(t,t.position,"backward")],"deleteWordBackward"),deleteToGroupStart:t=>t.contentWillChange({inputType:"deleteSoftLineBackward"})&&ls(t,[t.anchor,t.offsetOf(t.at(t.position).firstSibling)],"deleteSoftLineBackward"),deleteToGroupEnd:t=>t.contentWillChange({inputType:"deleteSoftLineForward"})&&ls(t,[t.anchor,t.offsetOf(t.at(t.position).lastSibling)],"deleteSoftLineForward"),deleteToMathFieldStart:t=>t.contentWillChange({inputType:"deleteHardLineBackward"})&&ls(t,[t.anchor,0],"deleteHardLineBackward"),deleteToMathFieldEnd:t=>t.contentWillChange({inputType:"deleteHardLineForward"})&&ls(t,[t.anchor,-1],"deleteHardLineForward")},{target:"model",audioFeedback:"delete",canUndo:!0,changeContent:!0,changeSelection:!0});var f6e=`<svg xmlns="http://www.w3.org/2000/svg" style="width: 21px;"  viewBox="0 0 576 512" role="img" aria-label="${Ee("tooltip.toggle virtual keyboard")}"><path d="M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/></svg>`,p6e=`<svg xmlns="http://www.w3.org/2000/svg" style="height: 18px;" viewBox="0 0 448 512" role="img" aria-label="${Ee("tooltip.menu")}"><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg>`,m6e=class{constructor(t,e){this.focusBlurInProgress=!1;var r,n,i;this.options=D(N(D({},zv()),{macros:hE(),registers:MW()}),Ub(e)),this.eventController=new AbortController;let s=this.eventController.signal;e.eventSink&&(this.host=e.eventSink),this.element=t,t.mathfield=this,this.blurred=!0,this.keystrokeCaptionVisible=!1,this.suggestionIndex=0,this.inlineShortcutBuffer=[],this.inlineShortcutBufferFlushTimer=0,this.defaultStyle={},this.styleBias="left",this.options.defaultMode==="inline-math"?this.element.classList.add("ML__is-inline"):this.element.classList.remove("ML__is-inline"),this.dirty=!1;let o=(n=(r=e.value)!=null?r:this.element.textContent)!=null?n:"";o=o.trim();let a=EN(this.options),l=Vi(o,{context:this.context}),c;l.length===1&&l[0].isRoot?c=l[0]:c=new X({type:"root",mode:a,body:l}),this.model=new A6e(this,a,c),this.undoManager=new qBe(this.model);let u=[];if(u.push("<span contenteditable=true role=textbox aria-autocomplete=none aria-multiline=false part=keyboard-sink class=ML__keyboard-sink autocapitalize=off autocomplete=off autocorrect=off spellcheck=false inputmode=none tabindex=0></span>"),u.push('<span part=container class=ML__container aria-hidden=true  style="visibility:hidden">'),u.push("<span part=content class=ML__content>"),u.push(PG(this)),u.push("</span>"),window.mathVirtualKeyboard&&(u.push(`<div part=virtual-keyboard-toggle class=ML__virtual-keyboard-toggle role=button ${this.hasEditableContent?"":'style="display:none;"'} data-l10n-tooltip="tooltip.toggle virtual keyboard">`),u.push(f6e),u.push("</div>")),u.push('<div part=menu-toggle class=ML__menu-toggle role=button data-l10n-tooltip="tooltip.menu">'),u.push(p6e),u.push("</div>"),u.push("</span>"),u.push("<span class=ML__sr-only>"),u.push("<span role=status aria-live=assertive aria-atomic=true></span>"),u.push("</span>"),this.element.innerHTML=globalThis.MathfieldElement.createHTML(u.join("")),!this.element.children){console.error("%cMathLive 0.104.0: Something went wrong and the mathfield could not be created.%c\nIf you are using Vue, this may be because you are using the runtime-only build of Vue. Make sure to include `runtimeCompiler: true` in your Vue configuration. There may a warning from Vue in the log above.","color:red;font-family:system-ui;font-size:1.2rem;font-weight:bold","color:inherit;font-family:system-ui;font-size:inherit;font-weight:inherit");return}this._l10Subscription=De.subscribe(()=>De.update(this.element)),De.update(this.element),this.field=this.element.querySelector("[part=content]"),this.field.addEventListener("click",h=>h.stopImmediatePropagation(),{capture:!1,signal:s}),this.field.addEventListener("wheel",this,{passive:!1,signal:s}),"PointerEvent"in window?this.field.addEventListener("pointerdown",this,{signal:s}):this.field.addEventListener("mousedown",this,{signal:s}),(i=this.element.querySelector("[part=virtual-keyboard-toggle]"))==null||i.addEventListener("click",()=>{window.mathVirtualKeyboard.visible?window.mathVirtualKeyboard.hide():(window.mathVirtualKeyboard.show({animate:!0}),window.mathVirtualKeyboard.update(rl(this)))},{signal:s}),this.field.addEventListener("contextmenu",this,{signal:s});let A=this.element.querySelector("[part=menu-toggle]");A==null||A.addEventListener("pointerdown",h=>{if(h.currentTarget!==A)return;let f=this.menu;if(f.state!=="closed")return;this.element.classList.add("tracking");let p=A.getBoundingClientRect();f.modifiers=ru(h),f.show({target:A,location:{x:p.left,y:p.bottom},onDismiss:()=>this.element.classList.remove("tracking")}),h.preventDefault(),h.stopPropagation()},{signal:s}),(this.model.atoms.length<=1||this.disabled||this.readOnly&&!this.hasEditableContent||this.userSelect==="none")&&(A.style.display="none"),this.ariaLiveText=this.element.querySelector("[role=status]"),this.keyboardDelegate=eBe(this.element.querySelector(".ML__keyboard-sink"),this.element,this),window.addEventListener("resize",this,{signal:s}),document.addEventListener("scroll",this,{signal:s}),this.resizeObserver=new ResizeObserver(h=>{if(this.resizeObserverStarted){this.resizeObserverStarted=!1;return}vt(this)}),this.resizeObserverStarted=!0,this.resizeObserver.observe(this.field),window.mathVirtualKeyboard.addEventListener("virtual-keyboard-toggle",this,{signal:s}),ai!=="ready"&&document.fonts.ready.then(()=>Nb(this)),t.querySelector("[part=container]").style.removeProperty("visibility"),this.undoManager.startRecording(),this.undoManager.snapshot("set-value"),vt(this)}connectToVirtualKeyboard(){this.connectedToVirtualKeyboard||(this.connectedToVirtualKeyboard=!0,window.addEventListener("message",this,{signal:this.eventController.signal}),window.mathVirtualKeyboard.connect(),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(rl(this)),ty(this))}disconnectFromVirtualKeyboard(){this.connectedToVirtualKeyboard&&(window.removeEventListener("message",this),window.mathVirtualKeyboard.disconnect(),this.connectedToVirtualKeyboard=!1,f_())}showMenu(t){var e,r;let n=(r=(e=t==null?void 0:t.location)!=null?e:Hv(this.field))!=null?r:void 0,i=t==null?void 0:t.modifiers,s=this.element.querySelector("[part=container]");return this._menu.show({target:s,location:n,modifiers:i})}get colorMap(){return t=>{var e,r,n;return(n=(r=(e=this.options).colorMap)==null?void 0:r.call(e,t))!=null?n:vw(t)}}get backgroundColorMap(){return t=>{var e,r,n,i,s,o;return(o=(s=(r=(e=this.options).backgroundColorMap)==null?void 0:r.call(e,t))!=null?s:(i=(n=this.options).colorMap)==null?void 0:i.call(n,t))!=null?o:uE(t)}}get smartFence(){var t;return(t=this.options.smartFence)!=null?t:!1}get readOnly(){var t;return(t=this.options.readOnly)!=null?t:!1}get disabled(){var t,e;return(e=(t=this.host)==null?void 0:t.disabled)!=null?e:!1}get contentEditable(){return this.host?this.host.getAttribute("contenteditable")!=="false":!1}get userSelect(){if(!this.host)return"";let t=getComputedStyle(this.host);return t.getPropertyValue("user-select")||t.getPropertyValue("-webkit-user-select")}get hasEditableContent(){return this.disabled||!this.contentEditable?!1:!this.readOnly||this.hasEditablePrompts}get hasEditablePrompts(){return this.readOnly&&!this.disabled&&this.contentEditable&&this.model.findAtom(t=>t.type==="prompt"&&!t.locked)!==void 0}get isSelectionEditable(){if(this.disabled||!this.contentEditable)return!1;if(!this.readOnly)return!0;let t=this.model.at(this.model.anchor),e=this.model.at(this.model.position),r=X.commonAncestor(t,e);return!!((r==null?void 0:r.type)==="prompt"||r!=null&&r.parentPrompt)}get letterShapeStyle(){var t;return(t=this.options.letterShapeStyle)!=null?t:"tex"}get minFontScale(){return this.options.minFontScale}get maxMatrixCols(){return this.options.maxMatrixCols}queryStyle(t){let e=n_(this,t);"verbatimColor"in e&&delete e.verbatimColor,"verbatimBackgroundColor"in e&&delete e.verbatimBackgroundColor;let r=Object.keys(e).length;if(r===0)return"all";if(r>1){for(let l of Object.keys(e)){let c=this.queryStyle({[l]:e[l]});if(c==="none")return"none";if(c==="some")return"some"}return"all"}let n=Object.keys(e)[0],i=e[n];if(this.model.selectionIsCollapsed)return Zd(this)[n]===i?"all":"none";let s=this.model.getAtoms(this.model.selection,{includeChildren:!0}),o=s.length;if(o===0)return"none";let a=0;for(let l of s){if(l.type==="first"){o-=1;continue}l.style[n]===i&&(a+=1)}return a===0?"none":a===o?"all":"some"}get keybindings(){var t,e;if(this._keybindings)return this._keybindings;let[r,n]=sBe(this.options.keybindings,(t=Rm())!=null?t:YCe());return((e=Rm())==null?void 0:e.score)>0&&(this._keybindings=r,n.length>0&&console.error("MathLive 0.104.0: Invalid keybindings for current keyboard layout",n)),r}get menu(){return this._menu!=null||(this._menu=new $N(i6e(this),{host:this.host})),this._menu}set menuItems(t){this._menu?this._menu.menuItems=t:this._menu=new $N(t,{host:this.host})}setOptions(t){var e;this.options=D(D({},this.options),Ub(t)),this._keybindings=void 0,this.options.defaultMode==="inline-math"?this.element.classList.add("ML__is-inline"):this.element.classList.remove("ML__is-inline");let r=this.options.defaultMode;r==="inline-math"&&(r="math"),((e=this.model.root.firstChild)==null?void 0:e.mode)!==r&&(this.model.root.firstChild.mode=r),this.options.readOnly&&this.hasFocus()&&window.mathVirtualKeyboard.visible&&this.executeCommand("hideVirtualKeyboard");let n=X.serialize([this.model.root],{expandMacro:!1,defaultMode:this.options.defaultMode});("macros"in t||this.model.getValue()!==n)&&QG(this),("value"in t||"registers"in t||"colorMap"in t||"backgroundColorMap"in t||"letterShapeStyle"in t||"minFontScale"in t||"maxMatrixCols"in t||"readOnly"in t||"placeholderContent"in t||"placeholderSymbol"in t)&&vt(this)}getOptions(t){return Vc(this.options,t)}getOption(t){return Vc(this.options,t)}async handleEvent(t){var e;if(ll(this)){if(FE(t)){if(!yE(t.origin,(e=this.options.originValidator)!=null?e:"none"))throw new DOMException(`Message from unknown origin (${t.origin}) cannot be handled`,"SecurityError");let{action:r}=t.data;if(r==="execute-command"){let n=Hm(t.data.command);if(!n||kd(n)==="virtual-keyboard")return;this.executeCommand(n)}else r==="update-state"||(r==="focus"?this.focus({preventScroll:!0}):r==="blur"&&this.blur());return}switch(t.type){case"focus":this.onFocus();break;case"blur":this.onBlur();break;case"mousedown":this.userSelect!=="none"&&jN(this,t);break;case"pointerdown":!t.defaultPrevented&&this.userSelect!=="none"&&(jN(this,t),t.shiftKey===!1&&await VN(t,this.element.querySelector("[part=container]"),this.menu)&&Qb.stop());break;case"contextmenu":this.userSelect!=="none"&&t.shiftKey===!1&&await VN(t,this.element.querySelector("[part=container]"),this.menu)&&Qb.stop();break;case"virtual-keyboard-toggle":this.hasFocus()&&ty(this);break;case"resize":this.geometryChangeTimer&&cancelAnimationFrame(this.geometryChangeTimer),this.geometryChangeTimer=requestAnimationFrame(()=>ll(this)&&this.onGeometryChange());break;case"scroll":this.geometryChangeTimer&&cancelAnimationFrame(this.geometryChangeTimer),this.geometryChangeTimer=requestAnimationFrame(()=>ll(this)&&this.onGeometryChange());break;case"wheel":this.onWheel(t);break;case"message":break;default:console.warn("Unexpected event type",t.type)}}}dispose(){if(!ll(this))return;De.unsubscribe(this._l10Subscription),this.keyboardDelegate.dispose(),this.keyboardDelegate=void 0,this.eventController.abort(),this.eventController=void 0,this.resizeObserver.disconnect(),window.mathVirtualKeyboard.removeEventListener("virtual-keyboard-toggle",this),this.disconnectFromVirtualKeyboard(),this.model.dispose();let t=this.element;delete t.mathfield,this.element=void 0,this.host=void 0,this.field=void 0,this.ariaLiveText=void 0,o5e(),ABe(),S5e()}flushInlineShortcutBuffer(t){if(t!=null||(t={defer:!1}),!t.defer){this.inlineShortcutBuffer=[],clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=0;return}this.options.inlineShortcutTimeout>0&&(clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=setTimeout(()=>this.flushInlineShortcutBuffer(),this.options.inlineShortcutTimeout))}executeCommand(t){return kd(t)==="virtual-keyboard"?(this.focus({preventScroll:!0}),window.mathVirtualKeyboard.executeCommand(t),requestAnimationFrame(()=>window.mathVirtualKeyboard.update(rl(this))),!1):yBe(this,t)}get errors(){return pCe(this.model.getValue(),{context:this.context})}getValue(t,e,r){return this.model.getValue(t,e,r)}setValue(t,e){var r;e=e??{mode:"math"},e.insertionMode===void 0&&(e.insertionMode="replaceAll"),(e.format===void 0||e.format==="auto")&&(e.format="latex"),(e.mode===void 0||e.mode==="auto")&&(e.mode=(r=M3e(this.model,this.model.position))!=null?r:"math");let n=this.undoManager.canUndo();at.insert(this.model,t,e)&&(vt(this),n||this.undoManager.reset(),this.undoManager.snapshot("set-value"))}get expression(){let t=globalThis.MathfieldElement.computeEngine;return t?t.box(t.parse(this.model.getValue("latex-unstyled"))):(console.error("MathLive 0.104.0:  no compute engine available. Make sure the Compute Engine library is loaded."),null)}scrollIntoView(){var t;if(!this.element)return;if(this.host){if(this.options.onScrollIntoView)this.options.onScrollIntoView(this);else if(this.host.scrollIntoView({block:"nearest",inline:"nearest"}),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.container===window.document.body){let n=window.mathVirtualKeyboard.boundingRect,i=this.host.getBoundingClientRect();i.bottom>n.top&&((t=window.document.scrollingElement)==null||t.scrollBy(0,i.bottom-n.top+8))}}this.dirty&&fu(this,{interactive:!0});let e=this.field.getBoundingClientRect(),r=null;if(this.model.selectionIsCollapsed)r=Hv(this.field);else{let n=PW(this);if(n.length>0){let i=-1/0,s=-1/0;for(let o of n)o.right>i&&(i=o.right),o.top<s&&(s=o.top);r={x:i+e.left-this.field.scrollLeft,y:s+e.top-this.field.scrollTop,height:0}}}if(this.host&&r){let n=this.host.getBoundingClientRect(),i=r.y,s=this.host.scrollTop;i<n.top?s=i-n.top+this.host.scrollTop:i>n.bottom&&(s=i-n.bottom+this.host.scrollTop+r.height),this.host.scroll({top:s,left:0})}if(r){let n=r.x-window.scrollX,i=this.field.scrollLeft;n<e.left?i=n-e.left+this.field.scrollLeft-20:n>e.right&&(i=n-e.right+this.field.scrollLeft+20),this.field.scroll({top:this.field.scrollTop,left:i})}}insert(t,e){if(typeof t!="string"||t.length===0&&((e==null?void 0:e.insertionMode)==="insertBefore"||(e==null?void 0:e.insertionMode)==="insertAfter")||t.length===0&&this.model.selectionIsCollapsed)return!1;if(this.flushInlineShortcutBuffer(),e=e??{mode:"math"},e.focus&&this.focus(),e.feedback&&(globalThis.MathfieldElement.keypressVibration&&mW()&&navigator.vibrate(RG),globalThis.MathfieldElement.playSound("keypress")),t==="\\\\")zG(this.model);else if(t==="&")WG(this.model);else if(this.model.selectionIsCollapsed){let r=D({},Zd(this));!/^[a-zA-Z0-9]$/.test(t)&&this.styleBias!=="none"&&(r.variant="normal",r.variantStyle=void 0),at.insert(this.model,t,D({style:r},e))}else at.insert(this.model,t,e);return this.snapshot(`insert-${this.model.at(this.model.position).type}`),vt(this),e.scrollIntoView&&this.scrollIntoView(),!0}switchMode(t,e="",r=""){if(this.model.mode===t||!this.hasEditableContent||!this.contentEditable||this.disabled)return;let{model:n}=this,i=n.mode;if(n.mode=t,this.host&&!this.host.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0}))){n.mode=i;return}n.mode=i,n.deferNotifications({content:!!r||!!e,selection:!0,type:"insertText"},()=>{let s=n.at(n.position),o=(u,A)=>{if(!u)return;let h=n.mode==="math"?Vi(Y6(u,{format:"ascii-math"})[1],{context:this.context}):[...u].map(f=>new Bh(f,f,{}));if(A.select){let f=s.parent.addChildrenAfter(h,s);n.setSelection(n.offsetOf(h[0].leftSibling),n.offsetOf(f))}else n.position=n.offsetOf(s.parent.addChildrenAfter(h,s));c=!0},a=(u,A)=>{let h=new Lp(u);s.parent.addChildAfter(h,s),A.select?n.setSelection(n.offsetOf(h.firstChild),n.offsetOf(h.lastChild)):n.position=n.offsetOf(h.lastChild),c=!0},l=()=>{let u=t==="latex"?"latex":t==="math"?"plain-text":"ascii-math",A=Kr(n.selection),h=this.model.getValue(A,u),f=this.model.extractAtoms(A);return f.length===1&&f[0].type==="placeholder"&&(h=r),s=n.at(A[0]),h},c=!1;if(this.flushInlineShortcutBuffer(),this.stopCoalescingUndo(),eh(this,"accept"),n.selectionIsCollapsed)o(e,{select:!1}),n.mode=t,t==="latex"?a(r,{select:!1}):o(r,{select:!1});else{let u=l();n.mode=t,t==="latex"?a(u,{select:!0}):o(u,{select:!0})}return vt(this),this.undoManager.snapshot(t==="latex"?"insert-latex":"insert"),c}),n.mode=t,window.mathVirtualKeyboard.update(rl(this))}hasFocus(){return!this.blurred}focus(t){var e;this.hasFocus()||(this.keyboardDelegate.focus(),this.connectToVirtualKeyboard(),this.onFocus(),this.model.announce("line")),(e=t==null?void 0:t.preventScroll)!=null&&e||this.scrollIntoView()}blur(){this.disconnectFromVirtualKeyboard(),this.hasFocus()&&this.keyboardDelegate.blur()}select(){this.model.selection={ranges:[[0,this.model.lastOffset]]},this.focus()}applyStyle(t,e={}){var r;let n,i="set",s=!1;Fb(e)?n=e:(e.operation==="toggle"&&(i="toggle"),n=e.range,s=(r=e.silenceNotifications)!=null?r:!1),n&&(n=this.model.normalizeRange(n)),n&&n[0]===n[1]&&(n=void 0);let o=n_(this,t);if(n===void 0&&this.model.selectionIsCollapsed){if(i==="set"){let l=D({},this.defaultStyle);"color"in o&&delete l.verbatimColor,"backgroundColor"in o&&delete l.verbatimBackgroundColor,this.defaultStyle=D(D({},l),o),this.styleBias="none";return}let a=D({},this.defaultStyle);for(let l of Object.keys(o))a[l]===o[l]?(l==="color"&&delete a.verbatimColor,l==="backgroundColor"&&delete a.verbatimBackgroundColor,delete a[l]):a[l]=o[l];this.defaultStyle=a,this.styleBias="none";return}this.model.deferNotifications({content:!s,type:"insertText"},()=>{if(n===void 0)for(let a of this.model.selection.ranges)Z6(this.model,a,o,{operation:i});else Z6(this.model,n,o,{operation:i})}),vt(this)}toggleContextMenu(){var t;let e=this.menu;if(!e.visible)return!1;if(e.state==="open")return e.hide(),!0;let r=(t=RW(this,this.model.position))==null?void 0:t.bounds;if(!r)return!1;let n={x:r.right,y:r.bottom};return e.show({target:this.element.querySelector("[part=container]"),location:n,onDismiss:()=>{var i;return(i=this.element)==null?void 0:i.focus()}}),!0}getPrompt(t){return this.model.findAtom(r=>r.type==="prompt"&&r.placeholderId===t)}getPromptValue(t,e){let r=this.getPrompt(t);if(!r)return"";let n=this.model.offsetOf(r.firstChild),i=this.model.offsetOf(r.lastChild);return this.model.getValue(n,i,e)}getPrompts(t){return this.model.atoms.filter(e=>e.type!=="prompt"?!1:t?!(t.id&&e.placeholderId!==t.id||t.locked&&e.locked!==t.locked||t.correctness==="undefined"&&e.correctness||t.correctness&&e.correctness!==t.correctness):!0).map(e=>e.placeholderId)}setPromptValue(t,e,r){if(e!==void 0){let n=this.getPrompt(t);if(!n){console.error(`MathLive 0.104.0: unknown prompt ${t}`);return}let i=this.model.getBranchRange(this.model.offsetOf(n),"body");this.model.setSelection(i),this.insert(e,N(D({},r),{insertionMode:"replaceSelection"}))}r!=null&&r.silenceNotifications&&(this.valueOnFocus=this.getValue()),vt(this)}setPromptState(t,e,r){let n=this.getPrompt(t);if(!n){console.error(`MathLive 0.104.0: unknown prompt ${t}`);return}e==="undefined"?n.correctness=void 0:typeof e=="string"&&(n.correctness=e),typeof r=="boolean"&&(n.locked=r,n.captureSelection=r),vt(this)}getPromptState(t){let e=this.getPrompt(t);return e?[e.correctness,e.locked]:(console.error(`MathLive 0.104.0: unknown prompt ${t}`),[void 0,!0])}getPromptRange(t){let e=this.getPrompt(t);return e?this.model.getBranchRange(this.model.offsetOf(e),"body"):(console.error(`MathLive 0.104.0: unknown prompt ${t}`),[0,0])}canUndo(){return this.undoManager.canUndo()}canRedo(){return this.undoManager.canRedo()}popUndoStack(){this.undoManager.pop()}snapshot(t){var e;this.undoManager.snapshot(t)&&(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(rl(this)),(e=this.host)==null||e.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"snapshot"}})))}stopCoalescingUndo(){this.undoManager.stopCoalescing(this.model.selection)}stopRecording(){this.undoManager.stopRecording()}startRecording(){this.undoManager.startRecording()}undo(){var t;this.undoManager.undo()&&((t=this.host)==null||t.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}redo(){var t;this.undoManager.redo()&&((t=this.host)==null||t.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"redo"}})))}resetUndo(){var t;(t=this.undoManager)==null||t.reset()}onSelectionDidChange(){var t,e;let r=this.model;if(this.keyboardDelegate.setValue(r.getValue(r.selection,"latex-expanded")),r.selectionIsCollapsed){let n=BE(r),i=r.position,s=r.at(i),o=(t=s.mode)!=null?t:EN(this.options);if(n&&(i<r.offsetOf(n.firstChild)-1||i>r.offsetOf(n.lastChild)+1))eh(this,"accept",{mode:o}),r.position=r.offsetOf(s);else{let a=r.at(i+1);(a==null?void 0:a.type)==="first"&&a.mode==="latex"?r.position=i+1:n&&(a==null?void 0:a.mode)!=="latex"?r.position=i-1:this.switchMode(o)}}(e=this.host)==null||e.dispatchEvent(new Event("selection-change",{bubbles:!0,composed:!0})),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(rl(this)),ty(this)}onContentWillChange(t){var e,r,n;return(n=(r=this.host)==null?void 0:r.dispatchEvent(new InputEvent("beforeinput",N(D({},t),{data:t.data?t.data:(e=t.inputType)!=null?e:"",cancelable:!0,bubbles:!0,composed:!0}))))!=null?n:!0}onFocus(){this.focusBlurInProgress||!this.blurred||(this.focusBlurInProgress=!0,this.blurred=!1,this.keyboardDelegate.focus(),this.stopCoalescingUndo(),fu(this,{interactive:!0}),this.valueOnFocus=this.model.getValue(),this.hasEditablePrompts&&!this.model.at(this.model.anchor).parentPrompt&&this.executeCommand("moveToNextPlaceholder"),this.focusBlurInProgress=!1)}onBlur(){var t,e,r;if(!(this.focusBlurInProgress||this.blurred)&&(this.focusBlurInProgress=!0,this.stopCoalescingUndo(),this.blurred=!0,this.ariaLiveText.textContent="",th(this),this.model.getValue()!==this.valueOnFocus&&((t=this.host)==null||t.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),this.disconnectFromVirtualKeyboard(),(e=this.host)==null||e.dispatchEvent(new Event("blur",{bubbles:!1,composed:!0})),(r=this.host)==null||r.dispatchEvent(new UIEvent("focusout",{bubbles:!0,composed:!0})),vt(this),this.focusBlurInProgress=!1,f_(),DE.restoreFocusWhenDocumentFocused)){let n=new AbortController,i=n.signal;window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{ll(this)&&this.focus({preventScroll:!0})},{once:!0,signal:i})},{once:!0,signal:i}),document.addEventListener("focusin",()=>n.abort(),{once:!0}),document.addEventListener("click",()=>n.abort(),{once:!0})}}onInput(t){c_(this,t)}onKeystroke(t){return tq(this,t)}onCompositionStart(t){ls(this.model,Kr(this.model.selection),"insertText");let e=Hv(this.field);e&&requestAnimationFrame(()=>{fu(this),this.keyboardDelegate.moveTo(e.x,e.y-e.height)})}onCompositionUpdate(t){QBe(this.model,t),vt(this)}onCompositionEnd(t){RBe(this.model),c_(this,t,{simulateKeystroke:!0})}onCut(t){if(!this.isSelectionEditable){this.model.announce("plonk");return}this.model.contentWillChange({inputType:"deleteByCut"})&&(this.stopCoalescingUndo(),t.clipboardData?at.onCopy(this,t):at.copyToClipboard(this,"latex"),ls(this.model,Kr(this.model.selection),"deleteByCut"),this.snapshot("cut"),vt(this))}onCopy(t){t.clipboardData?at.onCopy(this,t):at.copyToClipboard(this,"latex")}onPaste(t){let e=this.isSelectionEditable;return e&&(e=at.onPaste(this.model.at(this.model.position).mode,this,t.clipboardData)),e||this.model.announce("plonk"),t.preventDefault(),t.stopPropagation(),e}onGeometryChange(){var t;(t=this._menu)==null||t.hide(),Tw(this),ty(this)}onWheel(t){let e=5*t.deltaX;if(!Number.isFinite(e)||e===0)return;let r=this.field;e<0&&r.scrollLeft===0||e>0&&r.offsetWidth+r.scrollLeft>=r.scrollWidth||(r.scrollBy({top:0,left:e}),t.preventDefault(),t.stopPropagation())}getHTMLElement(t){let e=t;for(;!e.id&&e.hasChildren;)e=t.children[0];return this.field.querySelector(`[data-atom-id="${e.id}"]`)}get context(){var t,e;return{registers:(t=this.options.registers)!=null?t:{},smartFence:this.smartFence,letterShapeStyle:this.letterShapeStyle,minFontScale:this.minFontScale,maxMatrixCols:this.maxMatrixCols,placeholderSymbol:(e=this.options.placeholderSymbol)!=null?e:"",colorMap:r=>this.colorMap(r),backgroundColorMap:r=>this.backgroundColorMap(r),getMacro:r=>wW(r,this.options.macros),atomIdsSettings:{seed:"random",groupNumbers:!1}}}};En({speak:(t,e,r)=>g6e(t,e,r)},{target:"mathfield"});function g6e(t,e,r){var n;r=r??{withHighlighting:!1};let{model:i}=t;function s(u){let A=null;switch(u){case"all":A=i.root;break;case"selection":A=i.getAtoms(i.selection);break;case"left":{A=i.getAtoms(i.offsetOf(i.at(i.position).leftSibling),i.position);break}case"right":{A=i.getAtoms(i.position,i.offsetOf(i.at(i.position).rightSibling));break}case"group":A=i.getAtoms(i.getSiblingsRange(i.position));break;case"parent":{let{parent:h}=i.at(i.position);h!=null&&h.parent?A=h:A=i.root;break}default:A=i.root}return A}function o(u){let A="";switch(u){case"all":console.error("Internal failure: speak all failed");break;case"selection":A="no selection";break;case"left":A="at start";break;case"right":A="at end";break;case"group":console.error("Internal failure: speak group failed");break;case"parent":A="no parent";break;default:console.error('unknown speak_ param value: "'+u+'"');break}return A}let a=globalThis.MathfieldElement,l=s(e);if(l===null)return(n=a.speakHook)==null||n.call(a,o(e)),!1;(r.withHighlighting||a.speechEngine==="amazon")&&(a.textToSpeechMarkup=globalThis.sre&&a.textToSpeechRules==="sre"?"ssml_step":"ssml");let c=Md(l);return Gi()&&r.withHighlighting?(qa().readAloudMathfield=t,fu(t,{forHighlighting:!0}),a.readAloudHook&&a.readAloudHook(t.field,c)):a.speakHook&&a.speakHook(c),!1}function y6e(t){var e,r;if(!Gi())return;let n=globalThis.MathfieldElement;if(!n.speechEngine||n.speechEngine==="local"){let i=new SpeechSynthesisUtterance(t);globalThis.speechSynthesis.speak(i)}else if(n.speechEngine==="amazon")if(!("AWS"in window))console.error("MathLive 0.104.0: AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");else{let i=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),s={OutputFormat:"mp3",VoiceId:(e=n.speechEngineVoice)!=null?e:"Joanna",Engine:["Amy","Emma","Brian","Ivy","Joanna","Kendra","Kimberly","Salli","Joey","Justin","Matthew"].includes((r=n.speechEngineVoice)!=null?r:"Joanna")?"neural":"standard",Text:t,TextType:"ssml"};i.synthesizeSpeech(s,(o,a)=>{if(o)console.trace(`MathLive 0.104.0: \`polly.synthesizeSpeech()\` error: ${o}`);else if(a!=null&&a.AudioStream){let l=new Uint8Array(a.AudioStream),c=new Blob([l.buffer],{type:"audio/mpeg"}),u=URL.createObjectURL(c);new Audio(u).play().catch(A=>console.error(A))}})}else n.speechEngine==="google"&&console.error("MathLive 0.104.0: The Google speech engine is not supported yet. Please come again.")}function pq(t){if(t&&(t.classList.remove("ML__highlight"),t.children))for(let e of t.children)pq(e)}function b_(t,e){var r;t&&(!e||((r=t.dataset)==null?void 0:r.atomId)===e?(t.classList.add("ML__highlight"),t.children&&t.children.length>0&&[...t.children].forEach(n=>{n instanceof HTMLElement&&b_(n)})):(t.classList.remove("ML__highlight"),t.children&&t.children.length>0&&[...t.children].forEach(n=>{n instanceof HTMLElement&&b_(n,e)})))}function v6e(t,e){var r;if(!Gi())return;if(globalThis.MathfieldElement.speechEngine!=="amazon"){console.error("MathLive 0.104.0: Use Amazon TTS Engine for synchronized highlighting"),typeof globalThis.MathfieldElement.speakHook=="function"&&globalThis.MathfieldElement.speakHook(e);return}if(!globalThis.AWS){console.error("MathLive 0.104.0: AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");return}let n=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),i={OutputFormat:"json",VoiceId:(r=globalThis.MathfieldElement.speechEngineVoice)!=null?r:"Joanna",Engine:"standard",Text:e,TextType:"ssml",SpeechMarkTypes:["ssml"]};qa().readAloudElement=t,n.synthesizeSpeech(i,(s,o)=>{if(s){console.trace(`MathLive 0.104.0: \`polly.synthesizeSpeech()\` error: ${s}`);return}if(!(o!=null&&o.AudioStream))return;let a=new TextDecoder("utf-8").decode(new Uint8Array(o.AudioStream));qa().readAloudMarks=a.split(`
`).map(l=>l?JSON.parse(l):{}),qa().readAloudTokens=[];for(let l of qa().readAloudMarks)l.value&&qa().readAloudTokens.push(l.value);qa().readAloudCurrentMark="",i.OutputFormat="mp3",i.SpeechMarkTypes=[],n.synthesizeSpeech(i,(l,c)=>{if(l){console.trace(`MathLive 0.104.0: \`polly.synthesizeSpeech("${e}") error:${l}`);return}if(!(c!=null&&c.AudioStream))return;let u=new Uint8Array(c.AudioStream),A=new Blob([u.buffer],{type:"audio/mpeg"}),h=URL.createObjectURL(A),f=qa();f.readAloudAudio?f.readAloudAudio.pause():(f.readAloudAudio=new Audio,f.readAloudAudio.addEventListener("ended",()=>{let p=f.readAloudMathfield;f.readAloudStatus="ended",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),p?(fu(p),f.readAloudElement=null,f.readAloudMathfield=null,f.readAloudTokens=[],f.readAloudMarks=[],f.readAloudCurrentMark=""):pq(f.readAloudElement)}),f.readAloudAudio.addEventListener("timeupdate",()=>{let p="",m=f.readAloudAudio.currentTime*1e3+100;for(let y of f.readAloudMarks)y.time<m&&(p=y.value);f.readAloudCurrentMark!==p&&(f.readAloudCurrentToken=p,p&&p===f.readAloudFinalToken?f.readAloudAudio.pause():(f.readAloudCurrentMark=p,b_(f.readAloudElement,f.readAloudCurrentMark)))})),f.readAloudAudio.src=h,f.readAloudStatus="playing",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),f.readAloudAudio.play()})})}Gi()||console.error('MathLive 0.104.0: this version of the MathLive library is for use in the browser. A subset of the API is available on the server side in the "mathlive-ssr" library. If using server side rendering (with React for example) you may want to do a dynamic import of the MathLive library inside a `useEffect()` call.');var qe=new WeakMap,x6e=.5,Ha={letterShapeStyle:"mf.letterShapeStyle = ...",horizontalSpacingScale:'Removed. Use `"thinmuskip"`, `"medmuskip"`, and `"thickmuskip"` registers ',macros:"mf.macros = ...",registers:"mf.registers = ...",backgroundColorMap:"mf.backgroundColorMap = ...",colorMap:"mf.colorMap = ...",enablePopover:"mf.popoverPolicy = ...",mathModeSpace:"mf.mathModeSpace = ...",placeholderSymbol:"mf.placeholderSymbol = ...",readOnly:"mf.readOnly = ...",removeExtraneousParentheses:"mf.removeExtraneousParentheses = ...",scriptDepth:"mf.scriptDepth = ...",smartFence:"mf.smartFence = ...",smartMode:"mf.smartMode = ...",smartSuperscript:"mf.smartSuperscript = ...",inlineShortcutTimeout:"mf.inlineShortcutTimeout = ...",inlineShortcuts:"mf.inlineShortcuts = ...",keybindings:"mf.keybindings = ...",virtualKeyboardMode:"mf.mathVirtualKeyboardPolicy = ...",customVirtualKeyboardLayers:"mathVirtualKeyboard.layers = ...",customVirtualKeyboards:"mathVirtualKeyboard.layouts = ...",keypressSound:"mathVirtualKeyboard.keypressSound = ...",keypressVibration:"mathVirtualKeyboard.keypressVibration = ...",plonkSound:"mathVirtualKeyboard.plonkSound = ...",virtualKeyboardContainer:"mathVirtualKeyboard.container = ...",virtualKeyboardLayout:"mathVirtualKeyboard.alphabeticLayout = ...",virtualKeyboardTheme:"No longer supported",virtualKeyboardToggleGlyph:"No longer supported",virtualKeyboardToolbar:"mathVirtualKeyboard.editToolbar = ...",virtualKeyboards:"Use `mathVirtualKeyboard.layouts`",speechEngine:"`MathfieldElement.speechEngine`",speechEngineRate:"`MathfieldElement.speechEngineRate`",speechEngineVoice:"`MathfieldElement.speechEngineVoice`",textToSpeechMarkup:"`MathfieldElement.textToSpeechMarkup`",textToSpeechRules:"`MathfieldElement.textToSpeechRules`",textToSpeechRulesOptions:"`MathfieldElement.textToSpeechRulesOptions`",readAloudHook:"`MathfieldElement.readAloudHook`",speakHook:"`MathfieldElement.speakHook`",computeEngine:"`MathfieldElement.computeEngine`",fontsDirectory:"`MathfieldElement.fontsDirectory`",soundsDirectory:"`MathfieldElement.soundsDirectory`",createHTML:"`MathfieldElement.createHTML`",onExport:"`mf.onExport`",onInlineShortcut:"`mf.onInlineShortcut`",onScrollIntoView:"`mf.onScrollIntoView`",locale:"MathfieldElement.locale = ...",strings:"MathfieldElement.strings = ...",decimalSeparator:"MathfieldElement.decimalSeparator = ...",fractionNavigationOrder:"MathfieldElement.fractionNavigationOrder = ..."},zt=class Ga extends HTMLElement{constructor(e){if(super(),this._observer=null,e){let r=[];for(let n of Object.keys(e))if(Ha[n])if(Ha[n].startsWith("mf."))if(Ha[n].startsWith(`mf.${n}`))r.push(`Option \`${n}\` cannot be used as a constructor option. Use ${Ha[n]}`);else{let i=Ha[n].match(/([a-zA-Z]+) =/);r.push(`Option \`${n}\` has been renamed \`${i[1]}\``)}else r.push(`Option \`${n}\` cannot be used as a constructor option. Use ${Ha[n]}`);if(r.length>0){console.group("%cMathLive 0.104.0: %cInvalid Options","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),console.warn("Some of the options passed to `new MathfieldElement(...)` are invalid. \n          See mathfield/changelog/ for details.");for(let n of r)console.warn(n);console.groupEnd()}}if(wA()&&(this._internals=this.attachInternals(),this._internals.role="math",this._internals.ariaLabel="math input field",this._internals.ariaMultiLine="false"),this.attachShadow({mode:"open",delegatesFocus:!0}),this.shadowRoot&&"adoptedStyleSheets"in this.shadowRoot){this.shadowRoot.adoptedStyleSheets=[TA("core"),TA("mathfield"),TA("mathfield-element"),TA("ui"),TA("menu")],this.shadowRoot.appendChild(document.createElement("span"));let r=document.createElement("slot");r.style.display="none",this.shadowRoot.appendChild(r)}else this.shadowRoot.innerHTML="<style>"+$c("core")+$c("mathfield")+$c("mathfield-element")+$c("ui")+$c("menu")+'</style><span></span><slot style="display:none"></slot>';e&&this._setOptions(e)}static get formAssociated(){return wA()}static get optionsAttributes(){return{"default-mode":"string","letter-shape-style":"string","min-font-scale":"number","max-matrix-cols":"number","popover-policy":"string","math-mode-space":"string","read-only":"boolean","remove-extraneous-parentheses":"on/off","smart-fence":"on/off","smart-mode":"on/off","smart-superscript":"on/off","inline-shortcut-timeout":"string","script-depth":"string",placeholder:"string","virtual-keyboard-target-origin":"string","math-virtual-keyboard-policy":"string"}}static get observedAttributes(){return[...Object.keys(this.optionsAttributes),"contenteditable","disabled","readonly","read-only"]}static get fontsDirectory(){return this._fontsDirectory}static set fontsDirectory(e){e!==this._fontsDirectory&&(this._fontsDirectory=e,fBe())}get fontsDirectory(){throw new Error("Use MathfieldElement.fontsDirectory instead")}set fontsDirectory(e){throw new Error("Use MathfieldElement.fontsDirectory instead")}static get soundsDirectory(){return this._soundsDirectory}static set soundsDirectory(e){this._soundsDirectory=e,this.audioBuffers={}}get soundsDirectory(){throw new Error("Use MathfieldElement.soundsDirectory instead")}set soundsDirectory(e){throw new Error("Use MathfieldElement.soundsDirectory instead")}static get keypressSound(){return this._keypressSound}static set keypressSound(e){var r,n,i;this.audioBuffers={},e===null?this._keypressSound={spacebar:null,return:null,delete:null,default:null}:typeof e=="string"?this._keypressSound={spacebar:e,return:e,delete:e,default:e}:typeof e=="object"&&"default"in e&&(this._keypressSound={spacebar:(r=e.spacebar)!=null?r:e.default,return:(n=e.return)!=null?n:e.default,delete:(i=e.delete)!=null?i:e.default,default:e.default})}static get plonkSound(){return this._plonkSound}static set plonkSound(e){this.audioBuffers={},this._plonkSound=e}static get audioContext(){return this._audioContext||(this._audioContext=new AudioContext),this._audioContext}static get speechEngine(){return this._speechEngine}static set speechEngine(e){this._speechEngine=e}static get speechEngineRate(){return this._speechEngineRate}static set speechEngineRate(e){this._speechEngineRate=e}static get speechEngineVoice(){return this._speechEngineVoice}static set speechEngineVoice(e){this._speechEngineVoice=e}static get textToSpeechMarkup(){return this._textToSpeechMarkup}static set textToSpeechMarkup(e){this._textToSpeechMarkup=e}static get textToSpeechRules(){return this._textToSpeechRules}static set textToSpeechRules(e){this._textToSpeechRules=e}static get textToSpeechRulesOptions(){return this._textToSpeechRulesOptions}static set textToSpeechRulesOptions(e){this._textToSpeechRulesOptions=e}static get locale(){return De.locale}static set locale(e){e==="auto"&&(e=navigator.language.slice(0,5)),De.locale=e}get locale(){throw new Error("Use MathfieldElement.locale instead")}set locale(e){throw new Error("Use MathfieldElement.locale instead")}static get strings(){return De.strings}static set strings(e){De.merge(e)}get strings(){throw new Error("Use MathfieldElement.strings instead")}set strings(e){throw new Error("Use MathfieldElement.strings instead")}static get decimalSeparator(){return this._decimalSeparator}static set decimalSeparator(e){this._decimalSeparator=e,this._computeEngine&&(this._computeEngine.decimalSeparator=this.decimalSeparator===","?"{,}":".")}get decimalSeparator(){throw new Error("Use MathfieldElement.decimalSeparator instead")}set decimalSeparator(e){throw new Error("Use MathfieldElement.decimalSeparator instead")}static get fractionNavigationOrder(){return $v.fractionNavigationOrder}static set fractionNavigationOrder(e){if(e!=="numerator-denominator"&&e!=="denominator-numerator")throw new Error("Invalid value");$v.fractionNavigationOrder!==e&&($v.fractionNavigationOrder=e,_N())}static get computeEngine(){var e,r;if(this._computeEngine===void 0){let n=(e=window[Symbol.for("io.cortexjs.compute-engine")])==null?void 0:e.ComputeEngine;if(!n)return null;this._computeEngine=new n,this._computeEngine&&this.decimalSeparator===","&&(this._computeEngine.decimalSeparator="{,}")}return(r=this._computeEngine)!=null?r:null}static set computeEngine(e){this._computeEngine=e}get computeEngine(){throw new Error("Use MathfieldElement.computeEngine instead")}set computeEngine(e){throw new Error("Use MathfieldElement.computeEngine instead")}static get isFunction(){return typeof this._isFunction!="function"?()=>!1:this._isFunction}static set isFunction(e){this._isFunction=e,_N()}static async loadSound(e){delete this.audioBuffers[e];let r="";switch(e){case"keypress":r=this._keypressSound.default;break;case"return":r=this._keypressSound.return;break;case"spacebar":r=this._keypressSound.spacebar;break;case"delete":r=this._keypressSound.delete;break;case"plonk":r=this.plonkSound;break}if(typeof r!="string")return;r=r.trim();let n=this.soundsDirectory;if(!(n==null||n==="null"||r==="none"||r==="null"))try{let i=await(await fetch(await UG(`${n}/${r}`))).arrayBuffer(),s=await this.audioContext.decodeAudioData(i);this.audioBuffers[e]=s}catch{}}static async playSound(e){if((this.audioContext.state==="suspended"||this.audioContext.state==="interrupted")&&await this.audioContext.resume(),this.audioBuffers[e]||await this.loadSound(e),!this.audioBuffers[e])return;let r=this.audioContext.createBufferSource();r.buffer=this.audioBuffers[e];let n=this.audioContext.createGain();n.gain.value=x6e,r.connect(n).connect(this.audioContext.destination),r.start()}showMenu(e){var r,n;return(n=(r=this._mathfield)==null?void 0:r.showMenu(e))!=null?n:!1}get mathVirtualKeyboard(){throw new Error("The `mathVirtualKeyboard` property is not available on the MathfieldElement. Use `window.mathVirtualKeyboard` instead.")}onPointerDown(){window.addEventListener("pointerup",e=>{let r=this._mathfield;if(r&&e.target===this&&!r.disabled){this.dispatchEvent(new MouseEvent("click",{altKey:e.altKey,button:e.button,buttons:e.buttons,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,movementX:e.movementX,movementY:e.movementY,relatedTarget:e.relatedTarget,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey}));let n=this.getOffsetFromPoint(e.clientX,e.clientY);n>=0&&Ga.openUrl(H3e(r,n)),e.pointerType==="touch"&&this.selectionIsCollapsed&&(this.position=n)}},{once:!0})}getPromptValue(e,r){var n,i;return(i=(n=this._mathfield)==null?void 0:n.getPromptValue(e,r))!=null?i:""}setPromptValue(e,r,n){var i;(i=this._mathfield)==null||i.setPromptValue(e,r,n)}getPromptRange(e){var r,n;return(n=(r=this._mathfield)==null?void 0:r.getPromptRange(e))!=null?n:null}getPrompts(e){var r,n;return(n=(r=this._mathfield)==null?void 0:r.getPrompts(e))!=null?n:[]}get form(){var e;return(e=this._internals)==null?void 0:e.form}get name(){var e;return(e=this.getAttribute("name"))!=null?e:""}get type(){return this.localName}get mode(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.model.mode)!=null?r:this.defaultMode==="text"?"text":"math"}set mode(e){var r;(r=this._mathfield)==null||r.switchMode(e)}get expression(){if(this._mathfield)return window[Symbol.for("io.cortexjs.compute-engine")]?this._mathfield.expression:(console.error(`MathLive 0.104.0: The CortexJS Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://unpkg.com/@cortex-js/compute-engine?module"`),null)}set expression(e){var r,n;if(!this._mathfield)return;let i=(n=(r=Ga.computeEngine)==null?void 0:r.box(e).latex)!=null?n:null;i!==null&&this._mathfield.setValue(i),window[Symbol.for("io.cortexjs.compute-engine")]||console.error(`MathLive 0.104.0: The Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://unpkg.com/@cortex-js/compute-engine?module"`)}get errors(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.errors)!=null?r:[]}_getOptions(e){return this._mathfield?Vc(this._mathfield.options,e):qe.has(this)?D({},Vc(D(D({},zv()),Ub(qe.get(this).options)),e)):null}getOptions(e){return console.warn("%cMathLive 0.104.0: %cDeprecated Usage%c\n      `mf.getOptions()` is deprecated. Read the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem","color: inherit, font-size: 1rem"),this._mathfield?Vc(this._mathfield.options,e):qe.has(this)?Vc(D(D({},zv()),Ub(qe.get(this).options)),e):null}reflectAttributes(){let e=zv(),r=this._getOptions();Object.keys(Ga.optionsAttributes).forEach(n=>{let i=Qo(n);Ga.optionsAttributes[n]==="on/off"?e[i]!==r[i]?this.setAttribute(n,r[i]?"on":"off"):this.removeAttribute(n):e[i]!==r[i]&&(Ga.optionsAttributes[n]==="boolean"?r[i]?this.setAttribute(n,""):this.removeAttribute(n):(typeof r[i]=="string"||typeof r[i]=="number")&&this.setAttribute(n,r[i].toString()))})}getOption(e){return console.warn("%cMathLive 0.104.0: %cDeprecated Usage%c\n      `mf.getOption()` is deprecated. Read the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem","color: inherit, font-size: 1rem"),this._getOptions([e])[e]}_getOption(e){return this._getOptions([e])[e]}_setOptions(e){if(this._mathfield)this._mathfield.setOptions(e);else if(qe.has(this)){let r=D(D({},qe.get(this).options),e);qe.set(this,N(D({},qe.get(this)),{selection:{ranges:r.readOnly?[[0,0]]:[[0,-1]]},options:r}))}else qe.set(this,{value:void 0,selection:{ranges:[[0,0]]},options:e,menuItems:void 0});this.reflectAttributes()}setOptions(e){console.group("%cMathLive 0.104.0: %cDeprecated Usage","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),console.warn(" `mf.setOptions()` is deprecated. Set the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.");for(let r of Object.keys(e))Ha[r]&&console.warn(`\`mf.setOptions({${r}:...})\` -> ${Ha[r]}`);console.groupEnd(),this._setOptions(e)}executeCommand(...e){var r,n;let i;if(e.length===1?i=e[0]:i=[e[0],...e.slice(1)],i)return(n=(r=this._mathfield)==null?void 0:r.executeCommand(i))!=null?n:!1;throw new Error("Invalid selector")}getValue(e,r,n){var i,s;if(this._mathfield)return this._mathfield.model.getValue(e,r,n);if(qe.has(this)){let o,a,l;if(Qv(e)?([o,a]=e.ranges[0],l=r):Fb(e)?([o,a]=e,l=r):tl(e)&&tl(r)?(o=e,a=r,l=n):(o=0,a=-1,l=e),(l===void 0||l==="latex")&&o===0&&a===-1)return(s=(i=qe.get(this).value)!=null?i:this.textContent)!=null?s:""}return""}setValue(e,r){if(this._mathfield&&e!==void 0){if(this._mathfield.model.getValue()===e)return;r!=null||(r={silenceNotifications:!0,mode:"math"}),this._mathfield.setValue(e,r);return}if(qe.has(this)){let i=qe.get(this).options;qe.set(this,{value:e,selection:{ranges:[[-1,-1]],direction:"forward"},options:i,menuItems:void 0});return}let n=iy(this);qe.set(this,{value:e,selection:{ranges:[[-1,-1]],direction:"forward"},options:n,menuItems:void 0})}hasFocus(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.hasFocus())!=null?r:!1}focus(){var e;(e=this._mathfield)==null||e.focus()}blur(){var e;(e=this._mathfield)==null||e.blur()}select(){var e;(e=this._mathfield)==null||e.select()}insert(e,r){var n,i;return(i=(n=this._mathfield)==null?void 0:n.insert(e,r))!=null?i:!1}applyStyle(e,r){var n;return(n=this._mathfield)==null?void 0:n.applyStyle(e,r)}queryStyle(e){var r,n;return(n=(r=this._mathfield)==null?void 0:r.queryStyle(e))!=null?n:"none"}getOffsetFromPoint(e,r,n){return this._mathfield?Gv(this._mathfield,e,r,n):-1}getElementInfo(e){return RW(this._mathfield,e)}resetUndo(){var e;(e=this._mathfield)==null||e.resetUndo()}canUndo(){return this._mathfield?this._mathfield.canUndo():!1}canRedo(){return this._mathfield?this._mathfield.canRedo():!1}handleEvent(e){var r,n,i,s,o,a;if(ds.state!=="closed"||((n=(r=this._mathfield)==null?void 0:r.menu)==null?void 0:n.state)!=="closed"||(e.type==="pointerdown"&&this.onPointerDown(),e.type==="focus"&&((i=this._mathfield)==null||i.focus()),e.type!=="blur"))return;let l=pW();l&&(s=window==null?void 0:window.mathVirtualKeyboard)!=null&&s.visible||((o=ds.scrim)==null?void 0:o.state)!=="closed"||l&&H4e()||(a=this._mathfield)==null||a.blur()}connectedCallback(){var e,r,n,i;let s=this.shadowRoot,o=s.host,a=window.getComputedStyle(this).userSelect!=="none";if(a)o.addEventListener("pointerdown",this,!0);else{let u=s.querySelector("span");u.style.pointerEvents="none"}o.addEventListener("focus",this,!0),o.addEventListener("blur",this,!0),this._observer=new MutationObserver(()=>{var u;this.value=(u=this.textContent)!=null?u:""}),this._observer.observe(this,{childList:!0,characterData:!0,subtree:!0}),wA()||(this.hasAttribute("role")||this.setAttribute("role","math"),this.hasAttribute("aria-label")||this.setAttribute("aria-label","math input field"),this.setAttribute("aria-multiline","false")),a&&!this.hasAttribute("contenteditable")&&this.setAttribute("contenteditable","true"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0");let l=s.querySelector("slot:not([name])");if(l)try{this._style=l.assignedElements().filter(u=>u.tagName.toLowerCase()==="style").map(u=>u.textContent).join("")}catch(u){console.error(u)}if(this._style){let u=document.createElement("style");u.textContent=this._style,s.appendChild(u)}let c="";if(this.hasAttribute("value")?c=this.getAttribute("value"):c=(e=l==null?void 0:l.assignedNodes().map(u=>u.nodeType===3?u.textContent:"").join("").trim())!=null?e:"",this._mathfield=new m6e(s.querySelector(":host > span"),N(D({},(n=(r=qe.get(this))==null?void 0:r.options)!=null?n:iy(this)),{eventSink:this,value:c})),!qe.has(this)){this.upgradeProperty("disabled"),this.upgradeProperty("readonly");for(let u of Object.keys(Ga.optionsAttributes))this.upgradeProperty(Qo(u))}if(!((i=this._mathfield)!=null&&i.model)){this._mathfield=null;return}if(qe.has(this)){let u=this._mathfield,A=qe.get(this),h=A.menuItems;u.model.deferNotifications({content:!1,selection:!1},()=>{let f=A.value;f!==void 0&&u.setValue(f),u.model.selection=A.selection,qe.delete(this)}),h&&(this.menuItems=h)}window.queueMicrotask(()=>{this.isConnected&&this.dispatchEvent(new Event("mount",{cancelable:!1,bubbles:!0,composed:!0}))}),kE()}disconnectedCallback(){var e,r,n;if(this.shadowRoot.host.removeEventListener("pointerdown",this,!0),!this._mathfield)return;(e=this._observer)==null||e.disconnect(),this._observer=null,window.queueMicrotask(()=>this.dispatchEvent(new Event("unmount",{cancelable:!1,bubbles:!0,composed:!0})));let i=Vc(this._mathfield.options,Object.keys(Ga.optionsAttributes).map(s=>Qo(s)));qe.set(this,{value:this._mathfield.getValue(),selection:this._mathfield.model.selection,menuItems:(n=(r=this._mathfield.menu)==null?void 0:r.menuItems)!=null?n:void 0,options:i}),this._mathfield.dispose(),this._mathfield=null}upgradeProperty(e){if(this.hasOwnProperty(e)){let r=this[e];delete this[e],(e==="readonly"||e==="read-only")&&(e="readOnly"),this[e]=r}}attributeChangedCallback(e,r,n){if(r===n)return;let i=n!==null;switch(e){case"contenteditable":vt(this._mathfield);break;case"placeholder":n===!1&&(n=""),this.placeholder=n;break;case"disabled":this.disabled=i;break;case"read-only":case"readonly":this.readOnly=i;break}}get readonly(){return this.hasAttribute("readonly")||this.hasAttribute("read-only")}set readonly(e){let r=!!e;r?(this.setAttribute("readonly",""),wA()?this._internals.ariaReadOnly="true":this.setAttribute("aria-readonly","true"),this.setAttribute("aria-readonly","true")):(wA()?this._internals.ariaReadOnly="false":this.removeAttribute("aria-readonly"),this.removeAttribute("readonly"),this.removeAttribute("read-only")),this._setOptions({readOnly:r})}get disabled(){return this.hasAttribute("disabled")}set disabled(e){var r;let n=!!e;n?this.setAttribute("disabled",""):this.removeAttribute("disabled"),wA()?this._internals.ariaDisabled=n?"true":"false":this.setAttribute("aria-disabled",n?"true":"false"),n&&(r=this._mathfield)!=null&&r.hasFocus&&window.mathVirtualKeyboard.visible&&this._mathfield.executeCommand("hideVirtualKeyboard")}get value(){return this.getValue()}set value(e){this.setValue(e)}get defaultMode(){return this._getOption("defaultMode")}set defaultMode(e){this._setOptions({defaultMode:e})}get macros(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("macros")}set macros(e){this._setOptions({macros:e})}get registers(){if(!this._mathfield)throw new Error("Mathfield not mounted");let e=this;return new Proxy({},{get:(r,n)=>{if(typeof n=="string")return e._getOption("registers")[n]},set(r,n,i){return typeof n!="string"?!1:(e._setOptions({registers:N(D({},e._getOption("registers")),{[n]:i})}),!0)},ownKeys:()=>Reflect.ownKeys(e._getOption("registers")),getOwnPropertyDescriptor:(r,n)=>{let i=e._getOption("registers")[n];if(i!==void 0)return{configurable:!0,enumerable:!0,value:i,writable:!0}}})}set registers(e){this._setOptions({registers:e})}get colorMap(){return this._getOption("colorMap")}set colorMap(e){this._setOptions({colorMap:e})}get backgroundColorMap(){return this._getOption("backgroundColorMap")}set backgroundColorMap(e){this._setOptions({backgroundColorMap:e})}get letterShapeStyle(){return this._getOption("letterShapeStyle")}set letterShapeStyle(e){this._setOptions({letterShapeStyle:e})}get minFontScale(){return this._getOption("minFontScale")}set minFontScale(e){this._setOptions({minFontScale:e})}get maxMatrixCols(){return this._getOption("maxMatrixCols")}set maxMatrixCols(e){this._setOptions({maxMatrixCols:e})}get smartMode(){return this._getOption("smartMode")}set smartMode(e){this._setOptions({smartMode:e})}get smartFence(){return this._getOption("smartFence")}set smartFence(e){this._setOptions({smartFence:e})}get smartSuperscript(){return this._getOption("smartSuperscript")}set smartSuperscript(e){this._setOptions({smartSuperscript:e})}get scriptDepth(){return this._getOption("scriptDepth")}set scriptDepth(e){this._setOptions({scriptDepth:e})}get removeExtraneousParentheses(){return this._getOption("removeExtraneousParentheses")}set removeExtraneousParentheses(e){this._setOptions({removeExtraneousParentheses:e})}get mathModeSpace(){return this._getOption("mathModeSpace")}set mathModeSpace(e){this._setOptions({mathModeSpace:e})}get placeholderSymbol(){return this._getOption("placeholderSymbol")}set placeholderSymbol(e){this._setOptions({placeholderSymbol:e})}get placeholder(){var e;return(e=this.getAttribute("placeholder"))!=null?e:""}set placeholder(e){var r;typeof e=="string"&&((r=this._mathfield)==null||r.setOptions({contentPlaceholder:e}))}get popoverPolicy(){return this._getOption("popoverPolicy")}set popoverPolicy(e){this._setOptions({popoverPolicy:e})}get environmentPopoverPolicy(){return this._getOption("environmentPopoverPolicy")}set environmentPopoverPolicy(e){this._setOptions({environmentPopoverPolicy:e})}get menuItems(){var e;if(!this._mathfield)throw new Error("Mathfield not mounted");return(e=this._mathfield.menu._menuItems.map(r=>r.menuItem))!=null?e:[]}set menuItems(e){var r;if(!this._mathfield)throw new Error("Mathfield not mounted");if(this._mathfield){let n=(r=this._mathfield.element)==null?void 0:r.querySelector("[part=menu-toggle]");n&&(n.style.display=e.length===0?"none":""),this._mathfield.menu.menuItems=e}}get mathVirtualKeyboardPolicy(){return this._getOption("mathVirtualKeyboardPolicy")}set mathVirtualKeyboardPolicy(e){this._setOptions({mathVirtualKeyboardPolicy:e})}get inlineShortcuts(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("inlineShortcuts")}set inlineShortcuts(e){if(!this._mathfield)throw new Error("Mathfield not mounted");this._setOptions({inlineShortcuts:e})}get inlineShortcutTimeout(){return this._getOption("inlineShortcutTimeout")}set inlineShortcutTimeout(e){this._setOptions({inlineShortcutTimeout:e})}get keybindings(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("keybindings")}set keybindings(e){if(!this._mathfield)throw new Error("Mathfield not mounted");this._setOptions({keybindings:e})}get onInsertStyle(){let e=this._getOption("onInsertStyle");return e===void 0?_E:e}set onInsertStyle(e){this._setOptions({onInsertStyle:e})}get onInlineShortcut(){return this._getOption("onInlineShortcut")}set onInlineShortcut(e){this._setOptions({onInlineShortcut:e})}get onScrollIntoView(){return this._getOption("onScrollIntoView")}set onScrollIntoView(e){this._setOptions({onScrollIntoView:e})}get onExport(){return this._getOption("onExport")}set onExport(e){this._setOptions({onExport:e})}get readOnly(){return this._getOption("readOnly")}set readOnly(e){this._setOptions({readOnly:e})}get isSelectionEditable(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.isSelectionEditable)!=null?r:!1}setPromptState(e,r,n){var i;(i=this._mathfield)==null||i.setPromptState(e,r,n)}getPromptState(e){var r,n;return(n=(r=this._mathfield)==null?void 0:r.getPromptState(e))!=null?n:[void 0,!0]}get virtualKeyboardTargetOrigin(){return this._getOption("virtualKeyboardTargetOrigin")}set virtualKeyboardTargetOrigin(e){this._setOptions({virtualKeyboardTargetOrigin:e})}get selection(){return this._mathfield?this._mathfield.model.selection:qe.has(this)?qe.get(this).selection:{ranges:[[0,0]],direction:"forward"}}set selection(e){if(typeof e=="number"&&(e={ranges:[[e,e]]}),this._mathfield){this._mathfield.model.selection=e,vt(this._mathfield);return}if(qe.has(this)){qe.set(this,N(D({},qe.get(this)),{selection:e}));return}qe.set(this,{value:void 0,selection:e,options:iy(this),menuItems:void 0})}get selectionIsCollapsed(){let e=this.selection;return e.ranges.length===1&&e.ranges[0][0]===e.ranges[0][1]}get position(){return this._mathfield?this._mathfield.model.position:qe.has(this)?qe.get(this).selection.ranges[0][0]:0}set position(e){if(this._mathfield&&(this._mathfield.model.position=e,vt(this._mathfield)),qe.has(this)){qe.set(this,N(D({},qe.get(this)),{selection:{ranges:[[e,e]]}}));return}qe.set(this,{value:void 0,selection:{ranges:[[e,e]]},options:iy(this),menuItems:void 0})}get lastOffset(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.model.lastOffset)!=null?r:-1}};zt.version="0.104.0",zt.openUrl=t=>{if(!t)return;let e=new URL(t);if(!["http:","https:","file:"].includes(e.protocol.toLowerCase())){zt.playSound("plonk");return}window.open(e,"_blank")},zt._fontsDirectory="./fonts",zt._soundsDirectory="./sounds",zt.keypressVibration=!0,zt._keypressSound={spacebar:"keypress-spacebar.wav",return:"keypress-return.wav",delete:"keypress-delete.wav",default:"keypress-standard.wav"},zt._plonkSound="plonk.wav",zt.audioBuffers={},zt.createHTML=t=>t,zt._speechEngineRate="100%",zt._speechEngineVoice="Joanna",zt._textToSpeechMarkup="",zt._textToSpeechRules="mathlive",zt._textToSpeechRulesOptions={},zt.speakHook=y6e,zt.readAloudHook=v6e,zt.restoreFocusWhenDocumentFocused=!0,zt._decimalSeparator=".",zt._isFunction=t=>{var e,r;let n=globalThis.MathfieldElement.computeEngine;return(r=(e=n==null?void 0:n.parse(t).domain)==null?void 0:e.isFunction)!=null?r:!1};var ql=zt;function Qo(t){return t.replace(/[^a-zA-Z\d]+(.)/g,(e,r)=>r.toUpperCase())}function iy(t){let e={readOnly:!1},r=ql.optionsAttributes;return Object.keys(r).forEach(n=>{var i;if(t.hasAttribute(n)){let s=t.getAttribute(n);n==="placeholder"?e.contentPlaceholder=s??"":r[n]==="boolean"?e[Qo(n)]=!0:r[n]==="on/off"?(s=(i=s==null?void 0:s.toLowerCase())!=null?i:"",s==="on"||s==="true"?e[Qo(n)]=!0:s==="off"||s==="false"?e[Qo(n)]=!1:e[Qo(n)]=void 0):r[n]==="number"?e[Qo(n)]=Number.parseFloat(s??"0"):e[Qo(n)]=s}}),e}function wA(){return!(!("ElementInternals"in window)||!HTMLElement.prototype.attachInternals||!("role"in window.ElementInternals.prototype))}var DE=ql,JN,ZN,eI;if(Gi()&&!((JN=window.customElements)!=null&&JN.get("math-field"))){window[ZN=Symbol.for("io.cortexjs.mathlive")]!=null||(window[ZN]={});let t=window[Symbol.for("io.cortexjs.mathlive")];t.version="0.104.0",globalThis.MathfieldElement=ql,(eI=window.customElements)==null||eI.define("math-field",ql)}function b6e(t,e){let r=lc.singleton;return r?(r.show(),ad(),r.currentLayer=e,r.render(),r.focus(),!0):!1}function w6e(){let t=window.mathVirtualKeyboard;return t.visible?t.hide({animate:!0}):t.show({animate:!0}),!1}En({switchKeyboardLayer:b6e,toggleVirtualKeyboard:w6e,hideVirtualKeyboard:()=>(window.mathVirtualKeyboard.hide({animate:!0}),!1),showVirtualKeyboard:()=>(window.mathVirtualKeyboard.show({animate:!0}),!1)},{target:"virtual-keyboard"});function qa(){var t;return globalThis[t=Symbol.for("io.cortexjs.mathlive")]!=null||(globalThis[t]={}),globalThis[Symbol.for("io.cortexjs.mathlive")]}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w_=function(t,e){return w_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},w_(t,e)};function Ts(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");w_(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var C_=function(){return C_=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},C_.apply(this,arguments)};function mn(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(A){o(A)}}function l(u){try{c(n.throw(u))}catch(A){o(A)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,[])).next())})}function tn(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function sy(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var fa=function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),Lw=function(t,e){return fa.fromClientRect(t,e.getBoundingClientRect())},C6e=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new fa(0,0,n,i)},jw=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},Gt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var o=t[i];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},tI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B6e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var oy=0;oy<tI.length;oy++)B6e[tI.charCodeAt(oy)]=oy;var rI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ay=0;ay<rI.length;ay++)Gf[rI.charCodeAt(ay)]=ay;var _6e=function(t){var e=t.length*.75,r=t.length,n,i=0,s,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)s=Gf[t.charCodeAt(n)],o=Gf[t.charCodeAt(n+1)],a=Gf[t.charCodeAt(n+2)],l=Gf[t.charCodeAt(n+3)],u[i++]=s<<2|o>>4,u[i++]=(o&15)<<4|a>>2,u[i++]=(a&3)<<6|l&63;return c},S6e=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},k6e=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},mu=5,LE=11,UC=2,E6e=LE-mu,mq=65536>>mu,F6e=1<<mu,PC=F6e-1,M6e=1024>>mu,T6e=mq+M6e,D6e=T6e,L6e=32,j6e=D6e+L6e,O6e=65536>>LE,N6e=1<<E6e,I6e=N6e-1,nI=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},U6e=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},P6e=function(t,e){var r=_6e(t),n=Array.isArray(r)?k6e(r):new Uint32Array(r),i=Array.isArray(r)?S6e(r):new Uint16Array(r),s=24,o=nI(i,s/2,n[4]/2),a=n[5]===2?nI(i,(s+n[4])/2):U6e(n,Math.ceil((s+n[4])/4));return new Q6e(n[0],n[1],n[2],n[3],o,a)},Q6e=function(){function t(e,r,n,i,s,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>mu],r=(r<<UC)+(e&PC),this.data[r];if(e<=65535)return r=this.index[mq+(e-55296>>mu)],r=(r<<UC)+(e&PC),this.data[r];if(e<this.highStart)return r=j6e-O6e+(e>>LE),r=this.index[r],r+=e>>mu&I6e,r=this.index[r],r=(r<<UC)+(e&PC),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),iI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R6e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ly=0;ly<iI.length;ly++)R6e[iI.charCodeAt(ly)]=ly;var H6e="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",sI=50,$6e=1,gq=2,yq=3,V6e=4,K6e=5,oI=7,vq=8,aI=9,gl=10,B_=11,lI=12,__=13,z6e=14,qf=15,S_=16,cy=17,Bf=18,W6e=19,cI=20,k_=21,_f=22,QC=23,CA=24,ni=25,Xf=26,Yf=27,BA=28,G6e=29,Kc=30,q6e=31,uy=32,Ay=33,E_=34,F_=35,M_=36,Vm=37,T_=38,Xv=39,Yv=40,RC=41,xq=42,X6e=43,Y6e=[9001,65288],bq="!",Ve="",dy="",D_=P6e(H6e),ko=[Kc,M_],L_=[$6e,gq,yq,K6e],wq=[gl,vq],uI=[Yf,Xf],J6e=L_.concat(wq),AI=[T_,Xv,Yv,E_,F_],Z6e=[qf,__],e_e=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(s,o){var a=D_.get(s);if(a>sI?(i.push(!0),a-=sI):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(o),r.push(S_);if(a===V6e||a===B_){if(o===0)return n.push(o),r.push(Kc);var l=r[o-1];return J6e.indexOf(l)===-1?(n.push(n[o-1]),r.push(l)):(n.push(o),r.push(Kc))}if(n.push(o),a===q6e)return r.push(e==="strict"?k_:Vm);if(a===xq||a===G6e)return r.push(Kc);if(a===X6e)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(Vm):r.push(Kc);r.push(a)}),[n,r,i]},HC=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=r;s<=n.length;){s++;var o=n[s];if(o===e)return!0;if(o!==gl)break}if(i===gl)for(var s=r;s>0;){s--;var a=n[s];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var l=r;l<=n.length;){l++;var o=n[l];if(o===e)return!0;if(o!==gl)break}if(a!==gl)break}return!1},dI=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===gl)r--;else return n}return 0},t_e=function(t,e,r,n,i){if(r[n]===0)return Ve;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return Ve;var o=s-1,a=s+1,l=e[s],c=o>=0?e[o]:0,u=e[a];if(l===gq&&u===yq)return Ve;if(L_.indexOf(l)!==-1)return bq;if(L_.indexOf(u)!==-1||wq.indexOf(u)!==-1)return Ve;if(dI(s,e)===vq)return dy;if(D_.get(t[s])===B_||(l===uy||l===Ay)&&D_.get(t[a])===B_||l===oI||u===oI||l===aI||[gl,__,qf].indexOf(l)===-1&&u===aI||[cy,Bf,W6e,CA,BA].indexOf(u)!==-1||dI(s,e)===_f||HC(QC,_f,s,e)||HC([cy,Bf],k_,s,e)||HC(lI,lI,s,e))return Ve;if(l===gl)return dy;if(l===QC||u===QC)return Ve;if(u===S_||l===S_)return dy;if([__,qf,k_].indexOf(u)!==-1||l===z6e||c===M_&&Z6e.indexOf(l)!==-1||l===BA&&u===M_||u===cI||ko.indexOf(u)!==-1&&l===ni||ko.indexOf(l)!==-1&&u===ni||l===Yf&&[Vm,uy,Ay].indexOf(u)!==-1||[Vm,uy,Ay].indexOf(l)!==-1&&u===Xf||ko.indexOf(l)!==-1&&uI.indexOf(u)!==-1||uI.indexOf(l)!==-1&&ko.indexOf(u)!==-1||[Yf,Xf].indexOf(l)!==-1&&(u===ni||[_f,qf].indexOf(u)!==-1&&e[a+1]===ni)||[_f,qf].indexOf(l)!==-1&&u===ni||l===ni&&[ni,BA,CA].indexOf(u)!==-1)return Ve;if([ni,BA,CA,cy,Bf].indexOf(u)!==-1)for(var A=s;A>=0;){var h=e[A];if(h===ni)return Ve;if([BA,CA].indexOf(h)!==-1)A--;else break}if([Yf,Xf].indexOf(u)!==-1)for(var A=[cy,Bf].indexOf(l)!==-1?o:s;A>=0;){var h=e[A];if(h===ni)return Ve;if([BA,CA].indexOf(h)!==-1)A--;else break}if(T_===l&&[T_,Xv,E_,F_].indexOf(u)!==-1||[Xv,E_].indexOf(l)!==-1&&[Xv,Yv].indexOf(u)!==-1||[Yv,F_].indexOf(l)!==-1&&u===Yv||AI.indexOf(l)!==-1&&[cI,Xf].indexOf(u)!==-1||AI.indexOf(u)!==-1&&l===Yf||ko.indexOf(l)!==-1&&ko.indexOf(u)!==-1||l===CA&&ko.indexOf(u)!==-1||ko.concat(ni).indexOf(l)!==-1&&u===_f&&Y6e.indexOf(t[a])===-1||ko.concat(ni).indexOf(u)!==-1&&l===Bf)return Ve;if(l===RC&&u===RC){for(var f=r[s],p=1;f>0&&(f--,e[f]===RC);)p++;if(p%2!==0)return Ve}return l===uy&&u===Ay?Ve:dy},r_e=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=e_e(t,e.lineBreak),n=r[0],i=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(a){return[ni,Kc,xq].indexOf(a)!==-1?Vm:a}));var o=e.wordBreak==="keep-all"?s.map(function(a,l){return a&&t[l]>=19968&&t[l]<=40959}):void 0;return[n,i,o]},n_e=function(){function t(e,r,n,i){this.codePoints=e,this.required=r===bq,this.start=n,this.end=i}return t.prototype.slice=function(){return Gt.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),i_e=function(t,e){var r=jw(t),n=r_e(r,e),i=n[0],s=n[1],o=n[2],a=r.length,l=0,c=0;return{next:function(){if(c>=a)return{done:!0,value:null};for(var u=Ve;c<a&&(u=t_e(r,s,i,++c,o))===Ve;);if(u!==Ve||c===a){var A=new n_e(r,u,l,c);return l=c,{value:A,done:!1}}return{done:!0,value:null}}}},s_e=1,o_e=2,T0=4,hI=8,Vb=10,fI=47,Pp=92,a_e=9,l_e=32,hy=34,Sf=61,c_e=35,u_e=36,A_e=37,fy=39,py=40,kf=41,d_e=95,In=45,h_e=33,f_e=60,p_e=62,m_e=64,g_e=91,y_e=93,v_e=61,x_e=123,my=63,b_e=125,pI=124,w_e=126,C_e=128,mI=65533,$C=42,nu=43,B_e=44,__e=58,S_e=59,Km=46,k_e=0,E_e=8,F_e=11,M_e=14,T_e=31,D_e=127,Qs=-1,Cq=48,Bq=97,_q=101,L_e=102,j_e=117,O_e=122,Sq=65,kq=69,Eq=70,N_e=85,I_e=90,sn=function(t){return t>=Cq&&t<=57},U_e=function(t){return t>=55296&&t<=57343},_A=function(t){return sn(t)||t>=Sq&&t<=Eq||t>=Bq&&t<=L_e},P_e=function(t){return t>=Bq&&t<=O_e},Q_e=function(t){return t>=Sq&&t<=I_e},R_e=function(t){return P_e(t)||Q_e(t)},H_e=function(t){return t>=C_e},gy=function(t){return t===Vb||t===a_e||t===l_e},Kb=function(t){return R_e(t)||H_e(t)||t===d_e},gI=function(t){return Kb(t)||sn(t)||t===In},$_e=function(t){return t>=k_e&&t<=E_e||t===F_e||t>=M_e&&t<=T_e||t===D_e},nl=function(t,e){return t!==Pp?!1:e!==Vb},yy=function(t,e,r){return t===In?Kb(e)||nl(e,r):Kb(t)?!0:!!(t===Pp&&nl(t,e))},VC=function(t,e,r){return t===nu||t===In?sn(e)?!0:e===Km&&sn(r):sn(t===Km?e:t)},V_e=function(t){var e=0,r=1;(t[e]===nu||t[e]===In)&&(t[e]===In&&(r=-1),e++);for(var n=[];sn(t[e]);)n.push(t[e++]);var i=n.length?parseInt(Gt.apply(void 0,n),10):0;t[e]===Km&&e++;for(var s=[];sn(t[e]);)s.push(t[e++]);var o=s.length,a=o?parseInt(Gt.apply(void 0,s),10):0;(t[e]===kq||t[e]===_q)&&e++;var l=1;(t[e]===nu||t[e]===In)&&(t[e]===In&&(l=-1),e++);for(var c=[];sn(t[e]);)c.push(t[e++]);var u=c.length?parseInt(Gt.apply(void 0,c),10):0;return r*(i+a*Math.pow(10,-o))*Math.pow(10,l*u)},K_e={type:2},z_e={type:3},W_e={type:4},G_e={type:13},q_e={type:8},X_e={type:21},Y_e={type:9},J_e={type:10},Z_e={type:11},eSe={type:12},tSe={type:14},vy={type:23},rSe={type:1},nSe={type:25},iSe={type:24},sSe={type:26},oSe={type:27},aSe={type:28},lSe={type:29},cSe={type:31},j_={type:32},Fq=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(jw(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==j_;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case hy:return this.consumeStringToken(hy);case c_e:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(gI(r)||nl(n,i)){var s=yy(r,n,i)?o_e:s_e,o=this.consumeName();return{type:5,value:o,flags:s}}break;case u_e:if(this.peekCodePoint(0)===Sf)return this.consumeCodePoint(),G_e;break;case fy:return this.consumeStringToken(fy);case py:return K_e;case kf:return z_e;case $C:if(this.peekCodePoint(0)===Sf)return this.consumeCodePoint(),tSe;break;case nu:if(VC(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case B_e:return W_e;case In:var a=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(VC(a,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(yy(a,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===In&&c===p_e)return this.consumeCodePoint(),this.consumeCodePoint(),iSe;break;case Km:if(VC(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case fI:if(this.peekCodePoint(0)===$C)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===$C&&(u=this.consumeCodePoint(),u===fI))return this.consumeToken();if(u===Qs)return this.consumeToken()}break;case __e:return sSe;case S_e:return oSe;case f_e:if(this.peekCodePoint(0)===h_e&&this.peekCodePoint(1)===In&&this.peekCodePoint(2)===In)return this.consumeCodePoint(),this.consumeCodePoint(),nSe;break;case m_e:var A=this.peekCodePoint(0),h=this.peekCodePoint(1),f=this.peekCodePoint(2);if(yy(A,h,f)){var o=this.consumeName();return{type:7,value:o}}break;case g_e:return aSe;case Pp:if(nl(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case y_e:return lSe;case v_e:if(this.peekCodePoint(0)===Sf)return this.consumeCodePoint(),q_e;break;case x_e:return Z_e;case b_e:return eSe;case j_e:case N_e:var p=this.peekCodePoint(0),m=this.peekCodePoint(1);return p===nu&&(_A(m)||m===my)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case pI:if(this.peekCodePoint(0)===Sf)return this.consumeCodePoint(),Y_e;if(this.peekCodePoint(0)===pI)return this.consumeCodePoint(),X_e;break;case w_e:if(this.peekCodePoint(0)===Sf)return this.consumeCodePoint(),J_e;break;case Qs:return j_}return gy(e)?(this.consumeWhiteSpace(),cSe):sn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Kb(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Gt(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();_A(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===my&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Gt.apply(void 0,e.map(function(l){return l===my?Cq:l})),16),s=parseInt(Gt.apply(void 0,e.map(function(l){return l===my?Eq:l})),16);return{type:30,start:i,end:s}}var o=parseInt(Gt.apply(void 0,e),16);if(this.peekCodePoint(0)===In&&_A(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var a=[];_A(r)&&a.length<6;)a.push(r),r=this.consumeCodePoint();var s=parseInt(Gt.apply(void 0,a),16);return{type:30,start:o,end:s}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===py?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===py?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Qs)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===fy||r===hy){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Qs||this.peekCodePoint(0)===kf)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),vy)}for(;;){var i=this.consumeCodePoint();if(i===Qs||i===kf)return{type:22,value:Gt.apply(void 0,e)};if(gy(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Qs||this.peekCodePoint(0)===kf?(this.consumeCodePoint(),{type:22,value:Gt.apply(void 0,e)}):(this.consumeBadUrlRemnants(),vy);if(i===hy||i===fy||i===py||$_e(i))return this.consumeBadUrlRemnants(),vy;if(i===Pp)if(nl(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),vy;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;gy(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===kf||e===Qs)return;nl(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=Gt.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===Qs||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===Vb)return this._value.splice(0,n),rSe;if(i===Pp){var s=this._value[n+1];s!==Qs&&s!==void 0&&(s===Vb?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):nl(i,s)&&(r+=this.consumeStringSlice(n),r+=Gt(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=T0,n=this.peekCodePoint(0);for((n===nu||n===In)&&e.push(this.consumeCodePoint());sn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===Km&&sn(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=hI;sn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===kq||n===_q)&&((i===nu||i===In)&&sn(s)||sn(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=hI;sn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[V_e(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),o=this.peekCodePoint(2);if(yy(i,s,o)){var a=this.consumeName();return{type:15,number:r,flags:n,unit:a}}return i===A_e?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(_A(e)){for(var r=Gt(e);_A(this.peekCodePoint(0))&&r.length<6;)r+=Gt(this.consumeCodePoint());gy(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||U_e(n)||n>1114111?mI:n}return e===Qs?mI:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(gI(r))e+=Gt(r);else if(nl(r,this.peekCodePoint(0)))e+=Gt(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),Mq=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new Fq;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||ASe(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?j_:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),D0=function(t){return t.type===15},Sh=function(t){return t.type===17},ft=function(t){return t.type===20},uSe=function(t){return t.type===0},O_=function(t,e){return ft(t)&&t.value===e},Tq=function(t){return t.type!==31},rh=function(t){return t.type!==31&&t.type!==4},yo=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},ASe=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Xl=function(t){return t.type===17||t.type===15},ur=function(t){return t.type===16||Xl(t)},Dq=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},$r={type:17,number:0,flags:T0},jE={type:16,number:50,flags:T0},yl={type:16,number:100,flags:T0},Jf=function(t,e,r){var n=t[0],i=t[1];return[xt(n,e),xt(typeof i<"u"?i:n,r)]},xt=function(t,e){if(t.type===16)return t.number/100*e;if(D0(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},Lq="deg",jq="grad",Oq="rad",Nq="turn",Ow={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case Lq:return Math.PI*e.number/180;case jq:return Math.PI/200*e.number;case Oq:return e.number;case Nq:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Iq=function(t){return t.type===15&&(t.unit===Lq||t.unit===jq||t.unit===Oq||t.unit===Nq)},Uq=function(t){var e=t.filter(ft).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[$r,$r];case"to top":case"bottom":return Qi(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[$r,yl];case"to right":case"left":return Qi(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[yl,yl];case"to bottom":case"top":return Qi(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[yl,$r];case"to left":case"right":return Qi(270)}return 0},Qi=function(t){return Math.PI*t/180},Tl={name:"color",parse:function(t,e){if(e.type===18){var r=dSe[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return vl(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),o=e.value.substring(3,4);return vl(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(o+o,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return vl(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),o=e.value.substring(6,8);return vl(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(o,16)/255)}}if(e.type===20){var a=ra[e.value.toUpperCase()];if(typeof a<"u")return a}return ra.TRANSPARENT}},Dl=function(t){return(255&t)===0},Sr=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},vl=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},yI=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},vI=function(t,e){var r=e.filter(rh);if(r.length===3){var n=r.map(yI),i=n[0],s=n[1],o=n[2];return vl(i,s,o,1)}if(r.length===4){var a=r.map(yI),i=a[0],s=a[1],o=a[2],l=a[3];return vl(i,s,o,l)}return 0};function KC(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var xI=function(t,e){var r=e.filter(rh),n=r[0],i=r[1],s=r[2],o=r[3],a=(n.type===17?Qi(n.number):Ow.parse(t,n))/(Math.PI*2),l=ur(i)?i.number/100:0,c=ur(s)?s.number/100:0,u=typeof o<"u"&&ur(o)?xt(o,1):1;if(l===0)return vl(c*255,c*255,c*255,1);var A=c<=.5?c*(l+1):c+l-c*l,h=c*2-A,f=KC(h,A,a+1/3),p=KC(h,A,a),m=KC(h,A,a-1/3);return vl(f*255,p*255,m*255,u)},dSe={hsl:xI,hsla:xI,rgb:vI,rgba:vI},Qp=function(t,e){return Tl.parse(t,Mq.create(e).parseComponentValue())},ra={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},hSe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(ft(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fSe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Nw=function(t,e){var r=Tl.parse(t,e[0]),n=e[1];return n&&ur(n)?{color:r,stop:n}:{color:r,stop:null}},bI=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=$r),n.stop===null&&(n.stop=yl);for(var i=[],s=0,o=0;o<t.length;o++){var a=t[o].stop;if(a!==null){var l=xt(a,e);l>s?i.push(l):i.push(s),s=l}else i.push(null)}for(var c=null,o=0;o<i.length;o++){var u=i[o];if(u===null)c===null&&(c=o);else if(c!==null){for(var A=o-c,h=i[c-1],f=(u-h)/(A+1),p=1;p<=A;p++)i[c+p-1]=f*p;c=null}}return t.map(function(m,y){var g=m.color;return{color:g,stop:Math.max(Math.min(1,i[y]/e),0)}})},pSe=function(t,e,r){var n=e/2,i=r/2,s=xt(t[0],e)-n,o=i-xt(t[1],r);return(Math.atan2(o,s)+Math.PI*2)%(Math.PI*2)},mSe=function(t,e,r){var n=typeof t=="number"?t:pSe(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,o=r/2,a=i/2,l=Math.sin(n-Math.PI/2)*a,c=Math.cos(n-Math.PI/2)*a;return[i,s-c,s+c,o-l,o+l]},ns=function(t,e){return Math.sqrt(t*t+e*e)},wI=function(t,e,r,n,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(o,a){var l=a[0],c=a[1],u=ns(r-l,n-c);return(i?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:a,optimumDistance:u}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},gSe=function(t,e,r,n,i){var s=0,o=0;switch(t.size){case 0:t.shape===0?s=o=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),o=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)s=o=Math.min(ns(e,r),ns(e,r-i),ns(e-n,r),ns(e-n,r-i));else if(t.shape===1){var a=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),l=wI(n,i,e,r,!0),c=l[0],u=l[1];s=ns(c-e,(u-r)/a),o=a*s}break;case 1:t.shape===0?s=o=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),o=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)s=o=Math.max(ns(e,r),ns(e,r-i),ns(e-n,r),ns(e-n,r-i));else if(t.shape===1){var a=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),A=wI(n,i,e,r,!1),c=A[0],u=A[1];s=ns(c-e,(u-r)/a),o=a*s}break}return Array.isArray(t.size)&&(s=xt(t.size[0],n),o=t.size.length===2?xt(t.size[1],i):s),[s,o]},ySe=function(t,e){var r=Qi(180),n=[];return yo(e).forEach(function(i,s){if(s===0){var o=i[0];if(o.type===20&&o.value==="to"){r=Uq(i);return}else if(Iq(o)){r=Ow.parse(t,o);return}}var a=Nw(t,i);n.push(a)}),{angle:r,stops:n,type:1}},xy=function(t,e){var r=Qi(180),n=[];return yo(e).forEach(function(i,s){if(s===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=Uq(i);return}else if(Iq(o)){r=(Ow.parse(t,o)+Qi(270))%Qi(360);return}}var a=Nw(t,i);n.push(a)}),{angle:r,stops:n,type:1}},vSe=function(t,e){var r=Qi(180),n=[],i=1,s=0,o=3,a=[];return yo(e).forEach(function(l,c){var u=l[0];if(c===0){if(ft(u)&&u.value==="linear"){i=1;return}else if(ft(u)&&u.value==="radial"){i=2;return}}if(u.type===18){if(u.name==="from"){var A=Tl.parse(t,u.values[0]);n.push({stop:$r,color:A})}else if(u.name==="to"){var A=Tl.parse(t,u.values[0]);n.push({stop:yl,color:A})}else if(u.name==="color-stop"){var h=u.values.filter(rh);if(h.length===2){var A=Tl.parse(t,h[1]),f=h[0];Sh(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:A})}}}}),i===1?{angle:(r+Qi(180))%Qi(360),stops:n,type:i}:{size:o,shape:s,stops:n,position:a,type:i}},Pq="closest-side",Qq="farthest-side",Rq="closest-corner",Hq="farthest-corner",$q="circle",Vq="ellipse",Kq="cover",zq="contain",xSe=function(t,e){var r=0,n=3,i=[],s=[];return yo(e).forEach(function(o,a){var l=!0;if(a===0){var c=!1;l=o.reduce(function(A,h){if(c)if(ft(h))switch(h.value){case"center":return s.push(jE),A;case"top":case"left":return s.push($r),A;case"right":case"bottom":return s.push(yl),A}else(ur(h)||Xl(h))&&s.push(h);else if(ft(h))switch(h.value){case $q:return r=0,!1;case Vq:return r=1,!1;case"at":return c=!0,!1;case Pq:return n=0,!1;case Kq:case Qq:return n=1,!1;case zq:case Rq:return n=2,!1;case Hq:return n=3,!1}else if(Xl(h)||ur(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return A},l)}if(l){var u=Nw(t,o);i.push(u)}}),{size:n,shape:r,stops:i,position:s,type:2}},by=function(t,e){var r=0,n=3,i=[],s=[];return yo(e).forEach(function(o,a){var l=!0;if(a===0?l=o.reduce(function(u,A){if(ft(A))switch(A.value){case"center":return s.push(jE),!1;case"top":case"left":return s.push($r),!1;case"right":case"bottom":return s.push(yl),!1}else if(ur(A)||Xl(A))return s.push(A),!1;return u},l):a===1&&(l=o.reduce(function(u,A){if(ft(A))switch(A.value){case $q:return r=0,!1;case Vq:return r=1,!1;case zq:case Pq:return n=0,!1;case Qq:return n=1,!1;case Rq:return n=2,!1;case Kq:case Hq:return n=3,!1}else if(Xl(A)||ur(A))return Array.isArray(n)||(n=[]),n.push(A),!1;return u},l)),l){var c=Nw(t,o);i.push(c)}}),{size:n,shape:r,stops:i,position:s,type:2}},bSe=function(t){return t.type===1},wSe=function(t){return t.type===2},OE={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=Wq[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function CSe(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!Wq[t.name])}var Wq={"linear-gradient":ySe,"-moz-linear-gradient":xy,"-ms-linear-gradient":xy,"-o-linear-gradient":xy,"-webkit-linear-gradient":xy,"radial-gradient":xSe,"-moz-radial-gradient":by,"-ms-radial-gradient":by,"-o-radial-gradient":by,"-webkit-radial-gradient":by,"-webkit-gradient":vSe},BSe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return rh(n)&&CSe(n)}).map(function(n){return OE.parse(t,n)})}},_Se={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(ft(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},SSe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return yo(e).map(function(r){return r.filter(ur)}).map(Dq)}},kSe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return yo(e).map(function(r){return r.filter(ft).map(function(n){return n.value}).join(" ")}).map(ESe)}},ESe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Dd;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Dd||(Dd={}));var FSe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return yo(e).map(function(r){return r.filter(MSe)})}},MSe=function(t){return ft(t)||ur(t)},Iw=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},TSe=Iw("top"),DSe=Iw("right"),LSe=Iw("bottom"),jSe=Iw("left"),Uw=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return Dq(r.filter(ur))}}},OSe=Uw("top-left"),NSe=Uw("top-right"),ISe=Uw("bottom-right"),USe=Uw("bottom-left"),Pw=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},PSe=Pw("top"),QSe=Pw("right"),RSe=Pw("bottom"),HSe=Pw("left"),Qw=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return D0(r)?r.number:0}}},$Se=Qw("top"),VSe=Qw("right"),KSe=Qw("bottom"),zSe=Qw("left"),WSe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},GSe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},qSe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(ft).reduce(function(r,n){return r|XSe(n.value)},0)}},XSe=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},YSe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},JSe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},zb;(function(t){t.NORMAL="normal",t.STRICT="strict"})(zb||(zb={}));var ZSe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return zb.STRICT;case"normal":default:return zb.NORMAL}}},e8e={name:"line-height",initialValue:"normal",prefix:!1,type:4},CI=function(t,e){return ft(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:ur(t)?xt(t,e):e},t8e={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:OE.parse(t,e)}},r8e={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},N_={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Rw=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},n8e=Rw("top"),i8e=Rw("right"),s8e=Rw("bottom"),o8e=Rw("left"),a8e={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(ft).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},l8e={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Hw=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},c8e=Hw("top"),u8e=Hw("right"),A8e=Hw("bottom"),d8e=Hw("left"),h8e={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},f8e={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},p8e={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&O_(e[0],"none")?[]:yo(e).map(function(r){for(var n={color:ra.TRANSPARENT,offsetX:$r,offsetY:$r,blur:$r},i=0,s=0;s<r.length;s++){var o=r[s];Xl(o)?(i===0?n.offsetX=o:i===1?n.offsetY=o:n.blur=o,i++):n.color=Tl.parse(t,o)}return n})}},m8e={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},g8e={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=x8e[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},y8e=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},v8e=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],a=e[13];return e[14],e[15],e.length===16?[r,n,i,s,o,a]:null},x8e={matrix:y8e,matrix3d:v8e},BI={type:16,number:50,flags:T0},b8e=[BI,BI],w8e={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(ur);return r.length!==2?b8e:[r[0],r[1]]}},C8e={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Rp;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Rp||(Rp={}));var B8e={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Rp.BREAK_ALL;case"keep-all":return Rp.KEEP_ALL;case"normal":default:return Rp.NORMAL}}},_8e={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Sh(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Gq={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},S8e={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Sh(e)?e.number:1}},k8e={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},E8e={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(ft).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},F8e={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},M8e={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},T8e={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Sh(e))return e.number;if(ft(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},D8e={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(ft).map(function(r){return r.value})}},L8e={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},gr=function(t,e){return(t&e)!==0},j8e={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},O8e={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(Tq),s=0;s<i.length;s++){var o=i[s],a=i[s+1];if(o.type===20){var l=a&&Sh(a)?a.number:1;n.push({counter:o.value,increment:l})}}return n}},N8e={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(Tq),i=0;i<n.length;i++){var s=n[i],o=n[i+1];if(ft(s)&&s.value!=="none"){var a=o&&Sh(o)?o.number:0;r.push({counter:s.value,reset:a})}}return r}},I8e={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(D0).map(function(r){return Gq.parse(t,r)})}},U8e={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(uSe);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var o=i[s].value,a=i[s+1].value;n.push({open:o,close:a})}return n}},_I=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},P8e={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&O_(e[0],"none")?[]:yo(e).map(function(r){for(var n={color:255,offsetX:$r,offsetY:$r,blur:$r,spread:$r,inset:!1},i=0,s=0;s<r.length;s++){var o=r[s];O_(o,"inset")?n.inset=!0:Xl(o)?(i===0?n.offsetX=o:i===1?n.offsetY=o:i===2?n.blur=o:n.spread=o,i++):n.color=Tl.parse(t,o)}return n})}},Q8e={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(ft).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},R8e={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},H8e={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return D0(e)?e.number:0}},$8e=function(){function t(e,r){var n,i;this.animationDuration=ve(e,I8e,r.animationDuration),this.backgroundClip=ve(e,hSe,r.backgroundClip),this.backgroundColor=ve(e,fSe,r.backgroundColor),this.backgroundImage=ve(e,BSe,r.backgroundImage),this.backgroundOrigin=ve(e,_Se,r.backgroundOrigin),this.backgroundPosition=ve(e,SSe,r.backgroundPosition),this.backgroundRepeat=ve(e,kSe,r.backgroundRepeat),this.backgroundSize=ve(e,FSe,r.backgroundSize),this.borderTopColor=ve(e,TSe,r.borderTopColor),this.borderRightColor=ve(e,DSe,r.borderRightColor),this.borderBottomColor=ve(e,LSe,r.borderBottomColor),this.borderLeftColor=ve(e,jSe,r.borderLeftColor),this.borderTopLeftRadius=ve(e,OSe,r.borderTopLeftRadius),this.borderTopRightRadius=ve(e,NSe,r.borderTopRightRadius),this.borderBottomRightRadius=ve(e,ISe,r.borderBottomRightRadius),this.borderBottomLeftRadius=ve(e,USe,r.borderBottomLeftRadius),this.borderTopStyle=ve(e,PSe,r.borderTopStyle),this.borderRightStyle=ve(e,QSe,r.borderRightStyle),this.borderBottomStyle=ve(e,RSe,r.borderBottomStyle),this.borderLeftStyle=ve(e,HSe,r.borderLeftStyle),this.borderTopWidth=ve(e,$Se,r.borderTopWidth),this.borderRightWidth=ve(e,VSe,r.borderRightWidth),this.borderBottomWidth=ve(e,KSe,r.borderBottomWidth),this.borderLeftWidth=ve(e,zSe,r.borderLeftWidth),this.boxShadow=ve(e,P8e,r.boxShadow),this.color=ve(e,WSe,r.color),this.direction=ve(e,GSe,r.direction),this.display=ve(e,qSe,r.display),this.float=ve(e,YSe,r.cssFloat),this.fontFamily=ve(e,F8e,r.fontFamily),this.fontSize=ve(e,M8e,r.fontSize),this.fontStyle=ve(e,L8e,r.fontStyle),this.fontVariant=ve(e,D8e,r.fontVariant),this.fontWeight=ve(e,T8e,r.fontWeight),this.letterSpacing=ve(e,JSe,r.letterSpacing),this.lineBreak=ve(e,ZSe,r.lineBreak),this.lineHeight=ve(e,e8e,r.lineHeight),this.listStyleImage=ve(e,t8e,r.listStyleImage),this.listStylePosition=ve(e,r8e,r.listStylePosition),this.listStyleType=ve(e,N_,r.listStyleType),this.marginTop=ve(e,n8e,r.marginTop),this.marginRight=ve(e,i8e,r.marginRight),this.marginBottom=ve(e,s8e,r.marginBottom),this.marginLeft=ve(e,o8e,r.marginLeft),this.opacity=ve(e,S8e,r.opacity);var s=ve(e,a8e,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=ve(e,l8e,r.overflowWrap),this.paddingTop=ve(e,c8e,r.paddingTop),this.paddingRight=ve(e,u8e,r.paddingRight),this.paddingBottom=ve(e,A8e,r.paddingBottom),this.paddingLeft=ve(e,d8e,r.paddingLeft),this.paintOrder=ve(e,Q8e,r.paintOrder),this.position=ve(e,f8e,r.position),this.textAlign=ve(e,h8e,r.textAlign),this.textDecorationColor=ve(e,k8e,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=ve(e,E8e,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=ve(e,p8e,r.textShadow),this.textTransform=ve(e,m8e,r.textTransform),this.transform=ve(e,g8e,r.transform),this.transformOrigin=ve(e,w8e,r.transformOrigin),this.visibility=ve(e,C8e,r.visibility),this.webkitTextStrokeColor=ve(e,R8e,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=ve(e,H8e,r.webkitTextStrokeWidth),this.wordBreak=ve(e,B8e,r.wordBreak),this.zIndex=ve(e,_8e,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Dl(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return gr(this.display,4)||gr(this.display,33554432)||gr(this.display,268435456)||gr(this.display,536870912)||gr(this.display,67108864)||gr(this.display,134217728)},t}(),V8e=function(){function t(e,r){this.content=ve(e,j8e,r.content),this.quotes=ve(e,U8e,r.quotes)}return t}(),SI=function(){function t(e,r){this.counterIncrement=ve(e,O8e,r.counterIncrement),this.counterReset=ve(e,N8e,r.counterReset)}return t}(),ve=function(t,e,r){var n=new Fq,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var s=new Mq(n.read());switch(e.type){case 2:var o=s.parseComponentValue();return e.parse(t,ft(o)?o.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return Ow.parse(t,s.parseComponentValue());case"color":return Tl.parse(t,s.parseComponentValue());case"image":return OE.parse(t,s.parseComponentValue());case"length":var a=s.parseComponentValue();return Xl(a)?a:$r;case"length-percentage":var l=s.parseComponentValue();return ur(l)?l:$r;case"time":return Gq.parse(t,s.parseComponentValue())}break}},K8e="data-html2canvas-debug",z8e=function(t){var e=t.getAttribute(K8e);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},I_=function(t,e){var r=z8e(t);return r===1||e===r},vo=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,I_(r,3))debugger;this.styles=new $8e(e,window.getComputedStyle(r,null)),Q_(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Lw(this.context,r),I_(r,4)&&(this.flags|=16)}return t}(),W8e="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",kI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var wy=0;wy<kI.length;wy++)Zf[kI.charCodeAt(wy)]=wy;var G8e=function(t){var e=t.length*.75,r=t.length,n,i=0,s,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)s=Zf[t.charCodeAt(n)],o=Zf[t.charCodeAt(n+1)],a=Zf[t.charCodeAt(n+2)],l=Zf[t.charCodeAt(n+3)],u[i++]=s<<2|o>>4,u[i++]=(o&15)<<4|a>>2,u[i++]=(a&3)<<6|l&63;return c},q8e=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},X8e=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},gu=5,NE=11,zC=2,Y8e=NE-gu,qq=65536>>gu,J8e=1<<gu,WC=J8e-1,Z8e=1024>>gu,eke=qq+Z8e,tke=eke,rke=32,nke=tke+rke,ike=65536>>NE,ske=1<<Y8e,oke=ske-1,EI=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},ake=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},lke=function(t,e){var r=G8e(t),n=Array.isArray(r)?X8e(r):new Uint32Array(r),i=Array.isArray(r)?q8e(r):new Uint16Array(r),s=24,o=EI(i,s/2,n[4]/2),a=n[5]===2?EI(i,(s+n[4])/2):ake(n,Math.ceil((s+n[4])/4));return new cke(n[0],n[1],n[2],n[3],o,a)},cke=function(){function t(e,r,n,i,s,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>gu],r=(r<<zC)+(e&WC),this.data[r];if(e<=65535)return r=this.index[qq+(e-55296>>gu)],r=(r<<zC)+(e&WC),this.data[r];if(e<this.highStart)return r=nke-ike+(e>>NE),r=this.index[r],r+=e>>gu&oke,r=this.index[r],r=(r<<zC)+(e&WC),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),FI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uke=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Cy=0;Cy<FI.length;Cy++)uke[FI.charCodeAt(Cy)]=Cy;var Ake=1,GC=2,qC=3,MI=4,TI=5,dke=7,DI=8,XC=9,YC=10,LI=11,jI=12,OI=13,NI=14,JC=15,hke=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},fke=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var o=t[i];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},pke=lke(W8e),Li="",ZC="",mke=function(t){return pke.get(t)},gke=function(t,e,r){var n=r-2,i=e[n],s=e[r-1],o=e[r];if(s===GC&&o===qC)return Li;if(s===GC||s===qC||s===MI||o===GC||o===qC||o===MI)return ZC;if(s===DI&&[DI,XC,LI,jI].indexOf(o)!==-1||(s===LI||s===XC)&&(o===XC||o===YC)||(s===jI||s===YC)&&o===YC||o===OI||o===TI||o===dke||s===Ake)return Li;if(s===OI&&o===NI){for(;i===TI;)i=e[--n];if(i===NI)return Li}if(s===JC&&o===JC){for(var a=0;i===JC;)a++,i=e[--n];if(a%2===0)return Li}return ZC},yke=function(t){var e=hke(t),r=e.length,n=0,i=0,s=e.map(mke);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=Li;n<r&&(o=gke(e,s,++n))===Li;);if(o!==Li||n===r){var a=fke.apply(null,e.slice(i,n));return i=n,{value:a,done:!1}}return{done:!0,value:null}}}},vke=function(t){for(var e=yke(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},xke=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(n),s===e)return!0}}return!1},bke=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=jw(n.data).map(function(l){return Gt(l)}),s=0,o={},a=i.every(function(l,c){r.setStart(n,s),r.setEnd(n,s+l.length);var u=r.getBoundingClientRect();s+=l.length;var A=u.x>o.x||u.y>o.y;return o=u,c===0?!0:A});return t.body.removeChild(e),a},wke=function(){return typeof new Image().crossOrigin<"u"},Cke=function(){return typeof new XMLHttpRequest().responseType=="string"},Bke=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},II=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},_ke=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,s=e.toDataURL();i.src=s;var o=U_(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),UI(o).then(function(a){n.drawImage(a,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var c=t.createElement("div");return c.style.backgroundImage="url("+s+")",c.style.height=r+"px",II(l)?UI(U_(r,r,0,0,c)):Promise.reject(!1)}).then(function(a){return n.drawImage(a,0,0),II(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},U_=function(t,e,r,n,i){var s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),a=document.createElementNS(s,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",r.toString()),a.setAttributeNS(null,"y",n.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(i),o},UI=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Ur={get SUPPORT_RANGE_BOUNDS(){var t=xke(document);return Object.defineProperty(Ur,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Ur.SUPPORT_RANGE_BOUNDS&&bke(document);return Object.defineProperty(Ur,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Bke(document);return Object.defineProperty(Ur,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?_ke(document):Promise.resolve(!1);return Object.defineProperty(Ur,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=wke();return Object.defineProperty(Ur,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Cke();return Object.defineProperty(Ur,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ur,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ur,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Hp=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),Ske=function(t,e,r,n){var i=Fke(e,r),s=[],o=0;return i.forEach(function(a){if(r.textDecorationLine.length||a.trim().length>0)if(Ur.SUPPORT_RANGE_BOUNDS){var l=PI(n,o,a.length).getClientRects();if(l.length>1){var c=IE(a),u=0;c.forEach(function(h){s.push(new Hp(h,fa.fromDOMRectList(t,PI(n,u+o,h.length).getClientRects()))),u+=h.length})}else s.push(new Hp(a,fa.fromDOMRectList(t,l)))}else{var A=n.splitText(a.length);s.push(new Hp(a,kke(t,n))),n=A}else Ur.SUPPORT_RANGE_BOUNDS||(n=n.splitText(a.length));o+=a.length}),s},kke=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=Lw(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return fa.EMPTY},PI=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},IE=function(t){if(Ur.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return vke(t)},Eke=function(t,e){if(Ur.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return Tke(t,e)},Fke=function(t,e){return e.letterSpacing!==0?IE(t):Eke(t,e)},Mke=[32,160,4961,65792,65793,4153,4241],Tke=function(t,e){for(var r=i_e(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var o=i.value.slice(),a=jw(o),l="";a.forEach(function(c){Mke.indexOf(c)===-1?l+=Gt(c):(l.length&&n.push(l),n.push(Gt(c)),l="")}),l.length&&n.push(l)}};!(i=r.next()).done;)s();return n},Dke=function(){function t(e,r,n){this.text=Lke(r.data,n.textTransform),this.textBounds=Ske(e,this.text,n,r)}return t}(),Lke=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(jke,Oke);case 2:return t.toUpperCase();default:return t}},jke=/(^|\s|:|-|\(|\))([a-z])/g,Oke=function(t,e,r){return t.length>0?e+r.toUpperCase():t},Xq=function(t){Ts(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(vo),Yq=function(t){Ts(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(vo),Jq=function(t){Ts(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=new XMLSerializer,o=Lw(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(vo),Zq=function(t){Ts(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(vo),P_=function(t){Ts(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(vo),Nke=[{type:15,flags:0,unit:"px",number:3}],Ike=[{type:16,flags:0,number:50}],Uke=function(t){return t.width>t.height?new fa(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new fa(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Pke=function(t){var e=t.type===Qke?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},Wb="checkbox",Gb="radio",Qke="password",QI=707406591,UE=function(t){Ts(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=Pke(n),(i.type===Wb||i.type===Gb)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Uke(i.bounds)),i.type){case Wb:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Nke;break;case Gb:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Ike;break}return i}return e}(vo),eX=function(t){Ts(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(vo),tX=function(t){Ts(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(vo),rX=function(t){Ts(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=iX(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?Qp(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):ra.TRANSPARENT,o=n.contentWindow.document.body?Qp(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):ra.TRANSPARENT;i.backgroundColor=Dl(s)?Dl(o)?i.styles.backgroundColor:o:s}}catch{}return i}return e}(vo),Rke=["OL","UL","MENU"],Jv=function(t,e,r,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,sX(i)&&i.data.trim().length>0)r.textNodes.push(new Dke(t,i,r.styles));else if(dd(i))if(cX(i)&&i.assignedNodes)i.assignedNodes().forEach(function(a){return Jv(t,a,r,n)});else{var o=nX(t,i);o.styles.isVisible()&&(Hke(i,o,n)?o.flags|=4:$ke(o.styles)&&(o.flags|=2),Rke.indexOf(i.tagName)!==-1&&(o.flags|=8),r.elements.push(o),i.slot,i.shadowRoot?Jv(t,i.shadowRoot,o,n):!qb(i)&&!oX(i)&&!Xb(i)&&Jv(t,i,o,n))}},nX=function(t,e){return R_(e)?new Xq(t,e):aX(e)?new Yq(t,e):oX(e)?new Jq(t,e):Vke(e)?new Zq(t,e):Kke(e)?new P_(t,e):zke(e)?new UE(t,e):Xb(e)?new eX(t,e):qb(e)?new tX(t,e):lX(e)?new rX(t,e):new vo(t,e)},iX=function(t,e){var r=nX(t,e);return r.flags|=4,Jv(t,e,r,r),r},Hke=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||PE(t)&&r.styles.isTransparent()},$ke=function(t){return t.isPositioned()||t.isFloating()},sX=function(t){return t.nodeType===Node.TEXT_NODE},dd=function(t){return t.nodeType===Node.ELEMENT_NODE},Q_=function(t){return dd(t)&&typeof t.style<"u"&&!Zv(t)},Zv=function(t){return typeof t.className=="object"},Vke=function(t){return t.tagName==="LI"},Kke=function(t){return t.tagName==="OL"},zke=function(t){return t.tagName==="INPUT"},Wke=function(t){return t.tagName==="HTML"},oX=function(t){return t.tagName==="svg"},PE=function(t){return t.tagName==="BODY"},aX=function(t){return t.tagName==="CANVAS"},RI=function(t){return t.tagName==="VIDEO"},R_=function(t){return t.tagName==="IMG"},lX=function(t){return t.tagName==="IFRAME"},HI=function(t){return t.tagName==="STYLE"},Gke=function(t){return t.tagName==="SCRIPT"},qb=function(t){return t.tagName==="TEXTAREA"},Xb=function(t){return t.tagName==="SELECT"},cX=function(t){return t.tagName==="SLOT"},$I=function(t){return t.tagName.indexOf("-")>0},qke=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(a){var l=r.counters[a.counter];l&&a.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=a.increment)});var o=[];return s&&i.forEach(function(a){var l=r.counters[a.counter];o.push(a.counter),l||(l=r.counters[a.counter]=[]),l.push(a.reset)}),o},t}(),VI={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},KI={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Xke={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Yke={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},SA=function(t,e,r,n,i,s){return t<e||t>r?zm(t,i,s.length>0):n.integers.reduce(function(o,a,l){for(;t>=a;)t-=a,o+=n.values[l];return o},"")+s},uX=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},Kt=function(t,e,r,n,i){var s=r-e+1;return(t<0?"-":"")+(uX(Math.abs(t),s,n,function(o){return Gt(Math.floor(o%s)+e)})+i)},kc=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return uX(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},LA=1,Xa=2,Ya=4,ep=8,Eo=function(t,e,r,n,i,s){if(t<-9999||t>9999)return zm(t,4,i.length>0);var o=Math.abs(t),a=i;if(o===0)return e[0]+a;for(var l=0;o>0&&l<=4;l++){var c=o%10;c===0&&gr(s,LA)&&a!==""?a=e[c]+a:c>1||c===1&&l===0||c===1&&l===1&&gr(s,Xa)||c===1&&l===1&&gr(s,Ya)&&t>100||c===1&&l>1&&gr(s,ep)?a=e[c]+(l>0?r[l-1]:"")+a:c===1&&l>0&&(a=r[l-1]+a),o=Math.floor(o/10)}return(t<0?n:"")+a},zI="",WI="",GI="",eB="",zm=function(t,e,r){var n=r?". ":"",i=r?"":"",s=r?", ":"",o=r?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var a=Kt(t,48,57,!0,n);return a.length<4?"0"+a:a;case 4:return kc(t,"",i);case 6:return SA(t,1,3999,VI,3,n).toLowerCase();case 7:return SA(t,1,3999,VI,3,n);case 8:return Kt(t,945,969,!1,n);case 9:return Kt(t,97,122,!1,n);case 10:return Kt(t,65,90,!1,n);case 11:return Kt(t,1632,1641,!0,n);case 12:case 49:return SA(t,1,9999,KI,3,n);case 35:return SA(t,1,9999,KI,3,n).toLowerCase();case 13:return Kt(t,2534,2543,!0,n);case 14:case 30:return Kt(t,6112,6121,!0,n);case 15:return kc(t,"",i);case 16:return kc(t,"",i);case 17:case 48:return Eo(t,"",zI,"",i,Xa|Ya|ep);case 47:return Eo(t,"",WI,"",i,LA|Xa|Ya|ep);case 42:return Eo(t,"",zI,"",i,Xa|Ya|ep);case 41:return Eo(t,"",WI,"",i,LA|Xa|Ya|ep);case 26:return Eo(t,"","",GI,i,0);case 25:return Eo(t,"","",GI,i,LA|Xa|Ya);case 31:return Eo(t,"","",eB,s,LA|Xa|Ya);case 33:return Eo(t,"","",eB,s,0);case 32:return Eo(t,"","",eB,s,LA|Xa|Ya);case 18:return Kt(t,2406,2415,!0,n);case 20:return SA(t,1,19999,Yke,3,n);case 21:return Kt(t,2790,2799,!0,n);case 22:return Kt(t,2662,2671,!0,n);case 22:return SA(t,1,10999,Xke,3,n);case 23:return kc(t,"");case 24:return kc(t,"");case 27:return Kt(t,3302,3311,!0,n);case 28:return kc(t,"",i);case 29:return kc(t,"",i);case 34:return Kt(t,3792,3801,!0,n);case 37:return Kt(t,6160,6169,!0,n);case 38:return Kt(t,4160,4169,!0,n);case 39:return Kt(t,2918,2927,!0,n);case 40:return Kt(t,1776,1785,!0,n);case 43:return Kt(t,3046,3055,!0,n);case 44:return Kt(t,3174,3183,!0,n);case 45:return Kt(t,3664,3673,!0,n);case 46:return Kt(t,3872,3881,!0,n);case 3:default:return Kt(t,48,57,!0,n)}},AX="data-html2canvas-ignore",qI=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new qke,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=Jke(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,a=i.contentWindow,l=a.document,c=tEe(i).then(function(){return mn(n,void 0,void 0,function(){var u,A;return tn(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(sEe),a&&(a.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==r.top||a.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-r.left,a.scrollY-r.top,0,0))),u=this.options.onclone,A=this.clonedReferenceElement,typeof A>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,eEe(l)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,A)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(nEe(document.doctype)+"<html></html>"),iEe(this.referenceElement.ownerDocument,s,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},t.prototype.createElementClone=function(e){if(I_(e,2))debugger;if(aX(e))return this.createCanvasClone(e);if(RI(e))return this.createVideoClone(e);if(HI(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return R_(r)&&(R_(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),$I(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return tB(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,o){return o&&typeof o.cssText=="string"?s+o.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&s)o.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var a=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(a){var l=a.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!dd(r)||!Gke(r)&&!r.hasAttribute(AX)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!dd(r)||!HI(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(dd(s)&&cX(s)&&typeof s.assignedNodes=="function"){var o=s.assignedNodes();o.length&&o.forEach(function(a){return i.appendChildNode(r,a,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(sX(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&dd(e)&&(Q_(e)||Zv(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),a=n.getComputedStyle(e,":after");this.referenceElement===e&&Q_(i)&&(this.clonedReferenceElement=i),PE(i)&&lEe(i);var l=this.counters.parse(new SI(this.context,s)),c=this.resolvePseudoContent(e,i,o,$p.BEFORE);$I(e)&&(r=!0),RI(e)||this.cloneChildNodes(e,i,r),c&&i.insertBefore(c,i.firstChild);var u=this.resolvePseudoContent(e,i,a,$p.AFTER);return u&&i.appendChild(u),this.counters.pop(l),(s&&(this.options.copyStyles||Zv(e))&&!lX(e)||r)&&tB(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(qb(e)||Xb(e))&&(qb(i)||Xb(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var s=this;if(n){var o=n.content,a=r.ownerDocument;if(!(!a||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new SI(this.context,n));var l=new V8e(this.context,n),c=a.createElement("html2canvaspseudoelement");tB(n,c),l.content.forEach(function(A){if(A.type===0)c.appendChild(a.createTextNode(A.value));else if(A.type===22){var h=a.createElement("img");h.src=A.value,h.style.opacity="1",c.appendChild(h)}else if(A.type===18){if(A.name==="attr"){var f=A.values.filter(ft);f.length&&c.appendChild(a.createTextNode(e.getAttribute(f[0].value)||""))}else if(A.name==="counter"){var p=A.values.filter(rh),m=p[0],y=p[1];if(m&&ft(m)){var g=s.counters.getCounterValue(m.value),v=y&&ft(y)?N_.parse(s.context,y.value):3;c.appendChild(a.createTextNode(zm(g,v,!1)))}}else if(A.name==="counters"){var x=A.values.filter(rh),m=x[0],b=x[1],y=x[2];if(m&&ft(m)){var w=s.counters.getCounterValues(m.value),C=y&&ft(y)?N_.parse(s.context,y.value):3,B=b&&b.type===0?b.value:"",_=w.map(function(F){return zm(F,C,!1)}).join(B);c.appendChild(a.createTextNode(_))}}}else if(A.type===20)switch(A.value){case"open-quote":c.appendChild(a.createTextNode(_I(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":c.appendChild(a.createTextNode(_I(l.quotes,--s.quoteDepth,!1)));break;default:c.appendChild(a.createTextNode(A.value))}}),c.className=H_+" "+$_;var u=i===$p.BEFORE?" "+H_:" "+$_;return Zv(r)?r.className.baseValue+=u:r.className+=u,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),$p;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})($p||($p={}));var Jke=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(AX,"true"),t.body.appendChild(r),r},Zke=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},eEe=function(t){return Promise.all([].slice.call(t.images,0).map(Zke))},tEe=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},rEe=["all","d","content"],tB=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);rEe.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},nEe=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},iEe=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},sEe=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},oEe=":before",aEe=":after",H_="___html2canvas___pseudoelement_before",$_="___html2canvas___pseudoelement_after",XI=`{
    content: "" !important;
    display: none !important;
}`,lEe=function(t){cEe(t,"."+H_+oEe+XI+`
         .`+$_+aEe+XI)},cEe=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},dX=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),uEe=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(nB(e)||fEe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return mn(this,void 0,void 0,function(){var r,n,i,s,o=this;return tn(this,function(a){switch(a.label){case 0:return r=dX.isSameOrigin(e),n=!rB(e)&&this._options.useCORS===!0&&Ur.SUPPORT_CORS_IMAGES&&!r,i=!rB(e)&&!r&&!nB(e)&&typeof this._options.proxy=="string"&&Ur.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!rB(e)&&!nB(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var u=new Image;u.onload=function(){return l(u)},u.onerror=c,(pEe(s)||n)&&(u.crossOrigin="anonymous"),u.src=s,u.complete===!0&&setTimeout(function(){return l(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,o){var a=Ur.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(a==="text")s(l.response);else{var A=new FileReader;A.addEventListener("load",function(){return s(A.result)},!1),A.addEventListener("error",function(h){return o(h)},!1),A.readAsDataURL(l.response)}else o("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=o;var c=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=a),r._options.imageTimeout){var u=r._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+i)}}l.send()})},t}(),AEe=/^data:image\/svg\+xml/i,dEe=/^data:image\/.*;base64,/i,hEe=/^data:image\/.*/i,fEe=function(t){return Ur.SUPPORT_SVG_DRAWING||!mEe(t)},rB=function(t){return hEe.test(t)},pEe=function(t){return dEe.test(t)},nB=function(t){return t.substr(0,4)==="blob"},mEe=function(t){return t.substr(-3).toLowerCase()==="svg"||AEe.test(t)},ge=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),kA=function(t,e,r){return new ge(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},By=function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=kA(this.start,this.startControl,e),i=kA(this.startControl,this.endControl,e),s=kA(this.endControl,this.end,e),o=kA(n,i,e),a=kA(i,s,e),l=kA(o,a,e);return r?new t(this.start,n,o,l):new t(l,a,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Ii=function(t){return t.type===1},gEe=function(){function t(e){var r=e.styles,n=e.bounds,i=Jf(r.borderTopLeftRadius,n.width,n.height),s=i[0],o=i[1],a=Jf(r.borderTopRightRadius,n.width,n.height),l=a[0],c=a[1],u=Jf(r.borderBottomRightRadius,n.width,n.height),A=u[0],h=u[1],f=Jf(r.borderBottomLeftRadius,n.width,n.height),p=f[0],m=f[1],y=[];y.push((s+l)/n.width),y.push((p+A)/n.width),y.push((o+m)/n.height),y.push((c+h)/n.height);var g=Math.max.apply(Math,y);g>1&&(s/=g,o/=g,l/=g,c/=g,A/=g,h/=g,p/=g,m/=g);var v=n.width-l,x=n.height-h,b=n.width-A,w=n.height-m,C=r.borderTopWidth,B=r.borderRightWidth,_=r.borderBottomWidth,k=r.borderLeftWidth,E=xt(r.paddingTop,e.bounds.width),F=xt(r.paddingRight,e.bounds.width),M=xt(r.paddingBottom,e.bounds.width),T=xt(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||o>0?kt(n.left+k/3,n.top+C/3,s-k/3,o-C/3,st.TOP_LEFT):new ge(n.left+k/3,n.top+C/3),this.topRightBorderDoubleOuterBox=s>0||o>0?kt(n.left+v,n.top+C/3,l-B/3,c-C/3,st.TOP_RIGHT):new ge(n.left+n.width-B/3,n.top+C/3),this.bottomRightBorderDoubleOuterBox=A>0||h>0?kt(n.left+b,n.top+x,A-B/3,h-_/3,st.BOTTOM_RIGHT):new ge(n.left+n.width-B/3,n.top+n.height-_/3),this.bottomLeftBorderDoubleOuterBox=p>0||m>0?kt(n.left+k/3,n.top+w,p-k/3,m-_/3,st.BOTTOM_LEFT):new ge(n.left+k/3,n.top+n.height-_/3),this.topLeftBorderDoubleInnerBox=s>0||o>0?kt(n.left+k*2/3,n.top+C*2/3,s-k*2/3,o-C*2/3,st.TOP_LEFT):new ge(n.left+k*2/3,n.top+C*2/3),this.topRightBorderDoubleInnerBox=s>0||o>0?kt(n.left+v,n.top+C*2/3,l-B*2/3,c-C*2/3,st.TOP_RIGHT):new ge(n.left+n.width-B*2/3,n.top+C*2/3),this.bottomRightBorderDoubleInnerBox=A>0||h>0?kt(n.left+b,n.top+x,A-B*2/3,h-_*2/3,st.BOTTOM_RIGHT):new ge(n.left+n.width-B*2/3,n.top+n.height-_*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||m>0?kt(n.left+k*2/3,n.top+w,p-k*2/3,m-_*2/3,st.BOTTOM_LEFT):new ge(n.left+k*2/3,n.top+n.height-_*2/3),this.topLeftBorderStroke=s>0||o>0?kt(n.left+k/2,n.top+C/2,s-k/2,o-C/2,st.TOP_LEFT):new ge(n.left+k/2,n.top+C/2),this.topRightBorderStroke=s>0||o>0?kt(n.left+v,n.top+C/2,l-B/2,c-C/2,st.TOP_RIGHT):new ge(n.left+n.width-B/2,n.top+C/2),this.bottomRightBorderStroke=A>0||h>0?kt(n.left+b,n.top+x,A-B/2,h-_/2,st.BOTTOM_RIGHT):new ge(n.left+n.width-B/2,n.top+n.height-_/2),this.bottomLeftBorderStroke=p>0||m>0?kt(n.left+k/2,n.top+w,p-k/2,m-_/2,st.BOTTOM_LEFT):new ge(n.left+k/2,n.top+n.height-_/2),this.topLeftBorderBox=s>0||o>0?kt(n.left,n.top,s,o,st.TOP_LEFT):new ge(n.left,n.top),this.topRightBorderBox=l>0||c>0?kt(n.left+v,n.top,l,c,st.TOP_RIGHT):new ge(n.left+n.width,n.top),this.bottomRightBorderBox=A>0||h>0?kt(n.left+b,n.top+x,A,h,st.BOTTOM_RIGHT):new ge(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=p>0||m>0?kt(n.left,n.top+w,p,m,st.BOTTOM_LEFT):new ge(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||o>0?kt(n.left+k,n.top+C,Math.max(0,s-k),Math.max(0,o-C),st.TOP_LEFT):new ge(n.left+k,n.top+C),this.topRightPaddingBox=l>0||c>0?kt(n.left+Math.min(v,n.width-B),n.top+C,v>n.width+B?0:Math.max(0,l-B),Math.max(0,c-C),st.TOP_RIGHT):new ge(n.left+n.width-B,n.top+C),this.bottomRightPaddingBox=A>0||h>0?kt(n.left+Math.min(b,n.width-k),n.top+Math.min(x,n.height-_),Math.max(0,A-B),Math.max(0,h-_),st.BOTTOM_RIGHT):new ge(n.left+n.width-B,n.top+n.height-_),this.bottomLeftPaddingBox=p>0||m>0?kt(n.left+k,n.top+Math.min(w,n.height-_),Math.max(0,p-k),Math.max(0,m-_),st.BOTTOM_LEFT):new ge(n.left+k,n.top+n.height-_),this.topLeftContentBox=s>0||o>0?kt(n.left+k+T,n.top+C+E,Math.max(0,s-(k+T)),Math.max(0,o-(C+E)),st.TOP_LEFT):new ge(n.left+k+T,n.top+C+E),this.topRightContentBox=l>0||c>0?kt(n.left+Math.min(v,n.width+k+T),n.top+C+E,v>n.width+k+T?0:l-k+T,c-(C+E),st.TOP_RIGHT):new ge(n.left+n.width-(B+F),n.top+C+E),this.bottomRightContentBox=A>0||h>0?kt(n.left+Math.min(b,n.width-(k+T)),n.top+Math.min(x,n.height+C+E),Math.max(0,A-(B+F)),h-(_+M),st.BOTTOM_RIGHT):new ge(n.left+n.width-(B+F),n.top+n.height-(_+M)),this.bottomLeftContentBox=p>0||m>0?kt(n.left+k+T,n.top+w,Math.max(0,p-(k+T)),m-(_+M),st.BOTTOM_LEFT):new ge(n.left+k+T,n.top+n.height-(_+M))}return t}(),st;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(st||(st={}));var kt=function(t,e,r,n,i){var s=4*((Math.sqrt(2)-1)/3),o=r*s,a=n*s,l=t+r,c=e+n;switch(i){case st.TOP_LEFT:return new By(new ge(t,c),new ge(t,c-a),new ge(l-o,e),new ge(l,e));case st.TOP_RIGHT:return new By(new ge(t,e),new ge(t+o,e),new ge(l,c-a),new ge(l,c));case st.BOTTOM_RIGHT:return new By(new ge(l,e),new ge(l,e+a),new ge(t+o,c),new ge(t,c));case st.BOTTOM_LEFT:default:return new By(new ge(l,c),new ge(l-o,c),new ge(t,e+a),new ge(t,e))}},Yb=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},yEe=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Jb=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},vEe=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),_y=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),xEe=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),bEe=function(t){return t.type===0},hX=function(t){return t.type===1},wEe=function(t){return t.type===2},YI=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},CEe=function(t,e,r,n,i){return t.map(function(s,o){switch(o){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+i);case 3:return s.add(e,r+i)}return s})},fX=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),pX=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new gEe(this.container),this.container.styles.opacity<1&&this.effects.push(new xEe(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new vEe(n,i,s))}if(this.container.styles.overflowX!==0){var o=Yb(this.curves),a=Jb(this.curves);YI(o,a)?this.effects.push(new _y(o,6)):(this.effects.push(new _y(o,2)),this.effects.push(new _y(a,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(l){return!hX(l)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=Yb(n.curves),a=Jb(n.curves);YI(o,a)||i.unshift(new _y(a,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(l){return gr(l.target,e)})},t}(),V_=function(t,e,r,n){t.container.elements.forEach(function(i){var s=gr(i.flags,4),o=gr(i.flags,2),a=new pX(i,t);gr(i.styles.display,2048)&&n.push(a);var l=gr(i.flags,8)?[]:n;if(s||o){var c=s||i.styles.isPositioned()?r:e,u=new fX(a);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var A=i.styles.zIndex.order;if(A<0){var h=0;c.negativeZIndex.some(function(p,m){return A>p.element.container.styles.zIndex.order?(h=m,!1):h>0}),c.negativeZIndex.splice(h,0,u)}else if(A>0){var f=0;c.positiveZIndex.some(function(p,m){return A>=p.element.container.styles.zIndex.order?(f=m+1,!1):f>0}),c.positiveZIndex.splice(f,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);V_(a,u,s?u:r,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),V_(a,e,r,l);gr(i.flags,8)&&mX(i,l)})},mX=function(t,e){for(var r=t instanceof P_?t.start:1,n=t instanceof P_?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof Zq&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=zm(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},BEe=function(t){var e=new pX(t,null),r=new fX(e),n=[];return V_(e,r,r,n),mX(e.container,n),r},JI=function(t,e){switch(e){case 0:return Ri(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Ri(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Ri(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Ri(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},_Ee=function(t,e){switch(e){case 0:return Ri(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Ri(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Ri(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Ri(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},SEe=function(t,e){switch(e){case 0:return Ri(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Ri(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Ri(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Ri(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},kEe=function(t,e){switch(e){case 0:return Sy(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Sy(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Sy(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Sy(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Sy=function(t,e){var r=[];return Ii(t)?r.push(t.subdivide(.5,!1)):r.push(t),Ii(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Ri=function(t,e,r,n){var i=[];return Ii(t)?i.push(t.subdivide(.5,!1)):i.push(t),Ii(r)?i.push(r.subdivide(.5,!0)):i.push(r),Ii(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Ii(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},gX=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Zb=function(t){var e=t.styles,r=t.bounds,n=xt(e.paddingLeft,r.width),i=xt(e.paddingRight,r.width),s=xt(e.paddingTop,r.width),o=xt(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+o))},EEe=function(t,e){return t===0?e.bounds:t===2?Zb(e):gX(e)},FEe=function(t,e){return t===0?e.bounds:t===2?Zb(e):gX(e)},iB=function(t,e,r){var n=EEe(jA(t.styles.backgroundOrigin,e),t),i=FEe(jA(t.styles.backgroundClip,e),t),s=MEe(jA(t.styles.backgroundSize,e),r,n),o=s[0],a=s[1],l=Jf(jA(t.styles.backgroundPosition,e),n.width-o,n.height-a),c=TEe(jA(t.styles.backgroundRepeat,e),l,s,n,i),u=Math.round(n.left+l[0]),A=Math.round(n.top+l[1]);return[c,u,A,o,a]},EA=function(t){return ft(t)&&t.value===Dd.AUTO},ky=function(t){return typeof t=="number"},MEe=function(t,e,r){var n=e[0],i=e[1],s=e[2],o=t[0],a=t[1];if(!o)return[0,0];if(ur(o)&&a&&ur(a))return[xt(o,r.width),xt(a,r.height)];var l=ky(s);if(ft(o)&&(o.value===Dd.CONTAIN||o.value===Dd.COVER)){if(ky(s)){var c=r.width/r.height;return c<s!=(o.value===Dd.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var u=ky(n),A=ky(i),h=u||A;if(EA(o)&&(!a||EA(a))){if(u&&A)return[n,i];if(!l&&!h)return[r.width,r.height];if(h&&l){var f=u?n:i*s,p=A?i:n/s;return[f,p]}var m=u?n:r.width,y=A?i:r.height;return[m,y]}if(l){var g=0,v=0;return ur(o)?g=xt(o,r.width):ur(a)&&(v=xt(a,r.height)),EA(o)?g=v*s:(!a||EA(a))&&(v=g/s),[g,v]}var x=null,b=null;if(ur(o)?x=xt(o,r.width):a&&ur(a)&&(b=xt(a,r.height)),x!==null&&(!a||EA(a))&&(b=u&&A?x/n*i:r.height),b!==null&&EA(o)&&(x=u&&A?b/i*n:r.width),x!==null&&b!==null)return[x,b];throw new Error("Unable to calculate background-size for element")},jA=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},TEe=function(t,e,r,n,i){var s=e[0],o=e[1],a=r[0],l=r[1];switch(t){case 2:return[new ge(Math.round(n.left),Math.round(n.top+o)),new ge(Math.round(n.left+n.width),Math.round(n.top+o)),new ge(Math.round(n.left+n.width),Math.round(l+n.top+o)),new ge(Math.round(n.left),Math.round(l+n.top+o))];case 3:return[new ge(Math.round(n.left+s),Math.round(n.top)),new ge(Math.round(n.left+s+a),Math.round(n.top)),new ge(Math.round(n.left+s+a),Math.round(n.height+n.top)),new ge(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new ge(Math.round(n.left+s),Math.round(n.top+o)),new ge(Math.round(n.left+s+a),Math.round(n.top+o)),new ge(Math.round(n.left+s+a),Math.round(n.top+o+l)),new ge(Math.round(n.left+s),Math.round(n.top+o+l))];default:return[new ge(Math.round(i.left),Math.round(i.top)),new ge(Math.round(i.left+i.width),Math.round(i.top)),new ge(Math.round(i.left+i.width),Math.round(i.height+i.top)),new ge(Math.round(i.left),Math.round(i.height+i.top))]}},DEe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ZI="Hidden Text",LEe=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),i.src=DEe,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(ZI)),n.appendChild(s),n.appendChild(i);var a=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(ZI)),n.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:a,middle:l}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),yX=function(){function t(e,r){this.context=e,this.options=r}return t}(),jEe=1e4,OEe=function(t){Ts(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new LEe(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),wEe(r)&&(this.ctx.globalAlpha=r.opacity),bEe(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),hX(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return mn(this,void 0,void 0,function(){var n;return tn(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return mn(this,void 0,void 0,function(){return tn(this,function(n){switch(n.label){case 0:if(gr(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var o=IE(r.text);o.reduce(function(a,l){return s.ctx.fillText(l,a,r.bounds.top+i),a+s.ctx.measureText(l).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=QEe(r.fontFamily).join(", "),s=D0(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(r,n){return mn(this,void 0,void 0,function(){var i,s,o,a,l,c,u,A,h=this;return tn(this,function(f){return i=this.createFontStyle(n),s=i[0],o=i[1],a=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(o,a),c=l.baseline,u=l.middle,A=n.paintOrder,r.textBounds.forEach(function(p){A.forEach(function(m){switch(m){case 0:h.ctx.fillStyle=Sr(n.color),h.renderTextWithLetterSpacing(p,n.letterSpacing,c);var y=n.textShadow;y.length&&p.text.trim().length&&(y.slice(0).reverse().forEach(function(g){h.ctx.shadowColor=Sr(g.color),h.ctx.shadowOffsetX=g.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=g.offsetY.number*h.options.scale,h.ctx.shadowBlur=g.blur.number,h.renderTextWithLetterSpacing(p,n.letterSpacing,c)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),n.textDecorationLine.length&&(h.ctx.fillStyle=Sr(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(g){switch(g){case 1:h.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+c),p.bounds.width,1);break;case 2:h.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:h.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+u),p.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&p.text.trim().length&&(h.ctx.strokeStyle=Sr(n.webkitTextStrokeColor),h.ctx.lineWidth=n.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+c)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=Zb(r),o=Jb(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return mn(this,void 0,void 0,function(){var n,i,s,o,a,l,v,v,c,u,A,h,b,f,p,w,m,y,g,v,x,b,w;return tn(this,function(C){switch(C.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,s=n.styles,o=0,a=n.textNodes,C.label=1;case 1:return o<a.length?(l=a[o],[4,this.renderTextNode(l,s)]):[3,4];case 2:C.sent(),C.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof Xq))return[3,8];C.label=5;case 5:return C.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return v=C.sent(),this.renderReplacedElement(n,i,v),[3,8];case 7:return C.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Yq&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof Jq))return[3,12];C.label=9;case 9:return C.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return v=C.sent(),this.renderReplacedElement(n,i,v),[3,12];case 11:return C.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof rX&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:u=C.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),C.label=14;case 14:if(n instanceof UE&&(A=Math.min(n.bounds.width,n.bounds.height),n.type===Wb?n.checked&&(this.ctx.save(),this.path([new ge(n.bounds.left+A*.39363,n.bounds.top+A*.79),new ge(n.bounds.left+A*.16,n.bounds.top+A*.5549),new ge(n.bounds.left+A*.27347,n.bounds.top+A*.44071),new ge(n.bounds.left+A*.39694,n.bounds.top+A*.5649),new ge(n.bounds.left+A*.72983,n.bounds.top+A*.23),new ge(n.bounds.left+A*.84,n.bounds.top+A*.34085),new ge(n.bounds.left+A*.39363,n.bounds.top+A*.79)]),this.ctx.fillStyle=Sr(QI),this.ctx.fill(),this.ctx.restore()):n.type===Gb&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+A/2,n.bounds.top+A/2,A/4,0,Math.PI*2,!0),this.ctx.fillStyle=Sr(QI),this.ctx.fill(),this.ctx.restore())),NEe(n)&&n.value.length){switch(h=this.createFontStyle(s),b=h[0],f=h[1],p=this.fontMetrics.getMetrics(b,f).baseline,this.ctx.font=b,this.ctx.fillStyle=Sr(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=UEe(n.styles.textAlign),w=Zb(n),m=0,n.styles.textAlign){case 1:m+=w.width/2;break;case 2:m+=w.width;break}y=w.add(m,0,0,-w.height/2+1),this.ctx.save(),this.path([new ge(w.left,w.top),new ge(w.left+w.width,w.top),new ge(w.left+w.width,w.top+w.height),new ge(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Hp(n.value,y),s.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!gr(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(g=n.styles.listStyleImage,g.type!==0)return[3,18];v=void 0,x=g.url,C.label=15;case 15:return C.trys.push([15,17,,18]),[4,this.context.cache.match(x)];case 16:return v=C.sent(),this.ctx.drawImage(v,n.bounds.left-(v.width+10),n.bounds.top),[3,18];case 17:return C.sent(),this.context.logger.error("Error loading list-style-image "+x),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(b=this.createFontStyle(s)[0],this.ctx.font=b,this.ctx.fillStyle=Sr(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new fa(n.bounds.left,n.bounds.top+xt(n.styles.paddingTop,n.bounds.width),n.bounds.width,CI(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Hp(r.listValue,w),s.letterSpacing,CI(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),C.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return mn(this,void 0,void 0,function(){var n,i,g,s,o,g,a,l,g,c,u,g,A,h,g,f,p,g,m,y,g;return tn(this,function(v){switch(v.label){case 0:if(gr(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:v.sent(),n=0,i=r.negativeZIndex,v.label=2;case 2:return n<i.length?(g=i[n],[4,this.renderStack(g)]):[3,5];case 3:v.sent(),v.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:v.sent(),s=0,o=r.nonInlineLevel,v.label=7;case 7:return s<o.length?(g=o[s],[4,this.renderNode(g)]):[3,10];case 8:v.sent(),v.label=9;case 9:return s++,[3,7];case 10:a=0,l=r.nonPositionedFloats,v.label=11;case 11:return a<l.length?(g=l[a],[4,this.renderStack(g)]):[3,14];case 12:v.sent(),v.label=13;case 13:return a++,[3,11];case 14:c=0,u=r.nonPositionedInlineLevel,v.label=15;case 15:return c<u.length?(g=u[c],[4,this.renderStack(g)]):[3,18];case 16:v.sent(),v.label=17;case 17:return c++,[3,15];case 18:A=0,h=r.inlineLevel,v.label=19;case 19:return A<h.length?(g=h[A],[4,this.renderNode(g)]):[3,22];case 20:v.sent(),v.label=21;case 21:return A++,[3,19];case 22:f=0,p=r.zeroOrAutoZIndexOrTransformedOrOpacity,v.label=23;case 23:return f<p.length?(g=p[f],[4,this.renderStack(g)]):[3,26];case 24:v.sent(),v.label=25;case 25:return f++,[3,23];case 26:m=0,y=r.positiveZIndex,v.label=27;case 27:return m<y.length?(g=y[m],[4,this.renderStack(g)]):[3,30];case 28:v.sent(),v.label=29;case 29:return m++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,s){var o=Ii(i)?i.start:i;s===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),Ii(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(r,n,i){var s;if(r.width===n&&r.height===i)return r;var o=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,a=o.createElement("canvas");a.width=Math.max(1,n),a.height=Math.max(1,i);var l=a.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,i),a},e.prototype.renderBackgroundImage=function(r){return mn(this,void 0,void 0,function(){var n,i,s,o,a,l;return tn(this,function(c){switch(c.label){case 0:n=r.styles.backgroundImage.length-1,i=function(u){var A,h,f,E,H,I,T,Q,_,p,E,H,I,T,Q,m,y,g,v,x,b,w,C,B,_,k,E,F,M,T,Q,P,H,I,L,R,V,Y,re,se,ie,Ae;return tn(this,function(G){switch(G.label){case 0:if(u.type!==0)return[3,5];A=void 0,h=u.url,G.label=1;case 1:return G.trys.push([1,3,,4]),[4,s.context.cache.match(h)];case 2:return A=G.sent(),[3,4];case 3:return G.sent(),s.context.logger.error("Error loading background-image "+h),[3,4];case 4:return A&&(f=iB(r,n,[A.width,A.height,A.width/A.height]),E=f[0],H=f[1],I=f[2],T=f[3],Q=f[4],_=s.ctx.createPattern(s.resizeImage(A,T,Q),"repeat"),s.renderRepeat(E,_,H,I)),[3,6];case 5:bSe(u)?(p=iB(r,n,[null,null,null]),E=p[0],H=p[1],I=p[2],T=p[3],Q=p[4],m=mSe(u.angle,T,Q),y=m[0],g=m[1],v=m[2],x=m[3],b=m[4],w=document.createElement("canvas"),w.width=T,w.height=Q,C=w.getContext("2d"),B=C.createLinearGradient(g,x,v,b),bI(u.stops,y).forEach(function(ae){return B.addColorStop(ae.stop,Sr(ae.color))}),C.fillStyle=B,C.fillRect(0,0,T,Q),T>0&&Q>0&&(_=s.ctx.createPattern(w,"repeat"),s.renderRepeat(E,_,H,I))):wSe(u)&&(k=iB(r,n,[null,null,null]),E=k[0],F=k[1],M=k[2],T=k[3],Q=k[4],P=u.position.length===0?[jE]:u.position,H=xt(P[0],T),I=xt(P[P.length-1],Q),L=gSe(u,H,I,T,Q),R=L[0],V=L[1],R>0&&V>0&&(Y=s.ctx.createRadialGradient(F+H,M+I,0,F+H,M+I,R),bI(u.stops,R*2).forEach(function(ae){return Y.addColorStop(ae.stop,Sr(ae.color))}),s.path(E),s.ctx.fillStyle=Y,R!==V?(re=r.bounds.left+.5*r.bounds.width,se=r.bounds.top+.5*r.bounds.height,ie=V/R,Ae=1/ie,s.ctx.save(),s.ctx.translate(re,se),s.ctx.transform(1,0,0,ie,0,0),s.ctx.translate(-re,-se),s.ctx.fillRect(F,Ae*(M-se)+se,T,Q*Ae),s.ctx.restore()):s.ctx.fill())),G.label=6;case 6:return n--,[2]}})},s=this,o=0,a=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return o<a.length?(l=a[o],[5,i(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return mn(this,void 0,void 0,function(){return tn(this,function(s){return this.path(JI(i,n)),this.ctx.fillStyle=Sr(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,s){return mn(this,void 0,void 0,function(){var o,a;return tn(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,s)]:[3,2];case 1:return l.sent(),[2];case 2:return o=_Ee(s,i),this.path(o),this.ctx.fillStyle=Sr(r),this.ctx.fill(),a=SEe(s,i),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return mn(this,void 0,void 0,function(){var n,i,s,o,a,l,c,u,A=this;return tn(this,function(h){switch(h.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!Dl(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=IEe(jA(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Dl(n.backgroundColor)||(this.ctx.fillStyle=Sr(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){A.ctx.save();var p=Yb(r.curves),m=f.inset?0:jEe,y=CEe(p,-m+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(A.path(p),A.ctx.clip(),A.mask(y)):(A.mask(p),A.ctx.clip(),A.path(y)),A.ctx.shadowOffsetX=f.offsetX.number+m,A.ctx.shadowOffsetY=f.offsetY.number,A.ctx.shadowColor=Sr(f.color),A.ctx.shadowBlur=f.blur.number,A.ctx.fillStyle=f.inset?Sr(f.color):"rgba(0,0,0,1)",A.ctx.fill(),A.ctx.restore()}),h.label=2;case 2:a=0,l=0,c=s,h.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!Dl(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,a,r.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,a,r.curves,3)];case 6:return h.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,a,r.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,a,r.curves)];case 10:h.sent(),h.label=11;case 11:a++,h.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,s,o){return mn(this,void 0,void 0,function(){var a,l,c,u,A,h,f,p,m,y,g,v,x,b,w,C,w,C;return tn(this,function(B){return this.ctx.save(),a=kEe(s,i),l=JI(s,i),o===2&&(this.path(l),this.ctx.clip()),Ii(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),Ii(l[1])?(A=l[1].end.x,h=l[1].end.y):(A=l[1].x,h=l[1].y),i===0||i===2?f=Math.abs(c-A):f=Math.abs(u-h),this.ctx.beginPath(),o===3?this.formatPath(a):this.formatPath(l.slice(0,2)),p=n<3?n*3:n*2,m=n<3?n*2:n,o===3&&(p=n,m=n),y=!0,f<=p*2?y=!1:f<=p*2+m?(g=f/(2*p+m),p*=g,m*=g):(v=Math.floor((f+m)/(p+m)),x=(f-v*p)/(v-1),b=(f-(v+1)*p)/v,m=b<=0||Math.abs(m-x)<Math.abs(m-b)?x:b),y&&(o===3?this.ctx.setLineDash([0,p+m]):this.ctx.setLineDash([p,m])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Sr(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Ii(l[0])&&(w=l[3],C=l[0],this.ctx.beginPath(),this.formatPath([new ge(w.end.x,w.end.y),new ge(C.start.x,C.start.y)]),this.ctx.stroke()),Ii(l[1])&&(w=l[1],C=l[2],this.ctx.beginPath(),this.formatPath([new ge(w.end.x,w.end.y),new ge(C.start.x,C.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return mn(this,void 0,void 0,function(){var n;return tn(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Sr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=BEe(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(yX),NEe=function(t){return t instanceof tX||t instanceof eX?!0:t instanceof UE&&t.type!==Gb&&t.type!==Wb},IEe=function(t,e){switch(t){case 0:return Yb(e);case 2:return yEe(e);case 1:default:return Jb(e)}},UEe=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},PEe=["-apple-system","system-ui"],QEe=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return PEe.indexOf(e)===-1}):t},REe=function(t){Ts(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return mn(this,void 0,void 0,function(){var n,i;return tn(this,function(s){switch(s.label){case 0:return n=U_(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,HEe(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Sr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(yX),HEe=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},$Ee=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,sy([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,sy([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,sy([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,sy([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),VEe=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new $Ee({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new uEe(this,e)}return t.instanceCount=1,t}(),QE=function(t,e){return e===void 0&&(e={}),KEe(t,e)};typeof window<"u"&&dX.setContext(window);var KEe=function(t,e){return mn(void 0,void 0,void 0,function(){var r,n,i,s,o,a,l,c,u,A,h,f,p,m,y,g,v,x,b,w,B,C,B,_,k,E,F,M,T,Q,P,H,I,L,R,V,Y,re,se,ie;return tn(this,function(Ae){switch(Ae.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(_=e.allowTaint)!==null&&_!==void 0?_:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(E=e.useCORS)!==null&&E!==void 0?E:!1},s=C_({logging:(F=e.logging)!==null&&F!==void 0?F:!0,cache:e.cache},i),o={windowWidth:(M=e.windowWidth)!==null&&M!==void 0?M:n.innerWidth,windowHeight:(T=e.windowHeight)!==null&&T!==void 0?T:n.innerHeight,scrollX:(Q=e.scrollX)!==null&&Q!==void 0?Q:n.pageXOffset,scrollY:(P=e.scrollY)!==null&&P!==void 0?P:n.pageYOffset},a=new fa(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),l=new VEe(s,a),c=(H=e.foreignObjectRendering)!==null&&H!==void 0?H:!1,u={allowTaint:(I=e.allowTaint)!==null&&I!==void 0?I:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),A=new qI(l,t,u),h=A.clonedReferenceElement,h?[4,A.toIFrame(r,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=Ae.sent(),p=PE(h)||Wke(h)?C6e(h.ownerDocument):Lw(l,h),m=p.width,y=p.height,g=p.left,v=p.top,x=zEe(l,h,e.backgroundColor),b={canvas:e.canvas,backgroundColor:x,scale:(R=(L=e.scale)!==null&&L!==void 0?L:n.devicePixelRatio)!==null&&R!==void 0?R:1,x:((V=e.x)!==null&&V!==void 0?V:0)+g,y:((Y=e.y)!==null&&Y!==void 0?Y:0)+v,width:(re=e.width)!==null&&re!==void 0?re:Math.ceil(m),height:(se=e.height)!==null&&se!==void 0?se:Math.ceil(y)},c?(l.logger.debug("Document cloned, using foreign object rendering"),B=new REe(l,b),[4,B.render(h)]):[3,3];case 2:return w=Ae.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+g+","+v+" with size "+m+"x"+y+" using computed rendering"),l.logger.debug("Starting DOM parsing"),C=iX(l,h),x===C.styles.backgroundColor&&(C.styles.backgroundColor=ra.TRANSPARENT),l.logger.debug("Starting renderer for element at "+b.x+","+b.y+" with size "+b.width+"x"+b.height),B=new OEe(l,b),[4,B.render(C)];case 4:w=Ae.sent(),Ae.label=5;case 5:return(!((ie=e.removeContainer)!==null&&ie!==void 0)||ie)&&(qI.destroy(f)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,w]}})})},zEe=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?Qp(t,getComputedStyle(n.documentElement).backgroundColor):ra.TRANSPARENT,s=n.body?Qp(t,getComputedStyle(n.body).backgroundColor):ra.TRANSPARENT,o=typeof r=="string"?Qp(t,r):r===null?ra.TRANSPARENT:4294967295;return e===n.documentElement?Dl(i)?Dl(s)?o:s:i:o};function WEe(t){let e=new ql;e.setOptions({virtualKeyboardMode:"off",hideVirtualKeyboardToggle:!0,readOnly:!1,customFontsDirectory:null}),document.body.appendChild(e),Object.assign(e.style,{position:"absolute",left:"100px",top:"100px",zIndex:"1000",fontSize:"20px",padding:"5px",background:"transparent",overflow:"hidden",resize:"none"}),e.focus(),mathVirtualKeyboard.show(),setTimeout(()=>{var r,n,i,s;(n=(r=e.shadowRoot)==null?void 0:r.querySelector(".ML__virtual-keyboard-toggle"))==null||n.remove(),(s=(i=e.shadowRoot)==null?void 0:i.querySelector(".ML__menu-toggle"))==null||s.remove()},100),e.addEventListener("keydown",r=>{if(r.key==="Enter"){r.preventDefault();let n=e.getValue("latex");n.includes("\\begin{array}")?n=n.replace("\\end{array}"," \\\\ \\end{array}"):n="\\begin{array}{l}"+n+" \\\\ \\end{array}",e.setValue(n)}if(r.key==="Enter"&&r.shiftKey){r.preventDefault();let n=e.getValue("latex");n.includes("\\begin{array}")?n=n.replace("\\end{array}","\\\\ \\end{array}"):n="\\begin{array}{l}"+n+"\\\\ \\end{array}",e.setValue(n),GEe(e,t,n)}})}function GEe(t,e,r){console.log("Captured LaTeX:",t.getValue("latex")),setTimeout(()=>{var i;const n=(i=t.shadowRoot)==null?void 0:i.querySelector(".ML__container");n&&(QE(n).then(s=>{const o=new xn(s,{left:100,top:100,selectable:!1,backgroundColor:"tranparent",latex:r,controls:{...el.createControls().controls,delete:new ar({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,mouseUpHandler:(a,l,c,u)=>{e.remove(l.target)},cursorStyle:"pointer",render:(a,l,c,u,A)=>{a.save(),a.fillStyle="red",a.fillRect(l-10,c-10,20,20),a.strokeStyle="white",a.lineWidth=2,a.beginPath(),a.moveTo(l-5,c-5),a.lineTo(l+5,c+5),a.moveTo(l+5,c-5),a.lineTo(l-5,c+5),a.stroke(),a.restore()}})}});console.log("Fabric Image created from screenshot:",o),e.add(o),e.renderAll()}),t.remove())},100)}function qEe({canvas:t}){WEe(t)}const XEe=({canvas:t})=>{const e=document.getElementById("chartPreviewContainer");e&&QE(e,{scrollY:-window.scrollY}).then(r=>{const n=new xn(r,{left:100,top:100,selectable:!1,controls:{...xn.createControls().controls,delete:new ar({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,backgroundColor:"tranparent",mouseUpHandler:(i,s,o,a)=>{t.remove(s.target)},cursorStyle:"pointer",render:(i,s,o,a,l)=>{i.save(),i.fillStyle="red",i.fillRect(s-10,o-10,20,20),i.strokeStyle="white",i.lineWidth=2,i.beginPath(),i.moveTo(s-5,o-5),i.lineTo(s+5,o+5),i.moveTo(s+5,o-5),i.lineTo(s-5,o+5),i.stroke(),i.restore()}})}});t.add(n),t.renderAll()})};function YEe(t){XEe(t)}const JEe=({isOpen:t,onClose:e,parameters:r})=>{const[n,i]=S.useState({title:"",labels:"",data:"",colors:""}),[s,o]=S.useState(null),a=S.useRef(null),[l,c]=S.useState(null),u=f=>{i({...n,[f.target.name]:f.target.value})},A=f=>{f.preventDefault();const p=n.labels.split(",").map(v=>v.trim()),m=n.data.split(",").map(v=>parseFloat(v.trim())),y=n.colors.split(",").map(v=>v.trim()),g={type:"pie",data:{labels:p,datasets:[{data:m,backgroundColor:y,label:n.title}]},options:{responsive:!1,maintainAspectRatio:!1}};o(g)};S.useEffect(()=>{if(s&&a.current){l&&l.destroy();const f=new mh(a.current.getContext("2d"),s);c(f)}},[s]);const h=()=>{YEe(r),o(null),i({title:"",labels:"",data:"",colors:""}),l&&(l.destroy(),c(null))};return t?d.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[d.jsx("div",{className:"absolute inset-0 bg-gray-900 opacity-50",onClick:e}),d.jsx("div",{className:"bg-white rounded shadow-lg p-6 z-10 w-11/12 md:w-1/2",children:s?d.jsxs(d.Fragment,{children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Chart Preview"}),d.jsx("div",{id:"chartPreviewContainer",style:{padding:"10px",background:"transparent",overflow:"visible",display:"flex",justifyContent:"center"},children:d.jsx("canvas",{id:"chartPreviewCanvas",ref:a,width:"400",height:"400"})}),d.jsxs("div",{className:"flex justify-end mt-4",children:[d.jsx("button",{type:"button",onClick:()=>o(null),className:"mr-2 bg-gray-500 text-white px-4 py-2 rounded",children:"Edit"}),d.jsx("button",{type:"button",onClick:h,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Add"})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Create Pie Chart"}),d.jsxs("form",{onSubmit:A,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Title"}),d.jsx("input",{type:"text",name:"title",className:"w-full px-3 py-2 border rounded",value:n.title,onChange:u,placeholder:"Enter chart title",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Labels (comma separated)"}),d.jsx("input",{type:"text",name:"labels",className:"w-full px-3 py-2 border rounded",value:n.labels,onChange:u,placeholder:"e.g., Red, Blue, Green",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Data (comma separated numbers)"}),d.jsx("input",{type:"text",name:"data",className:"w-full px-3 py-2 border rounded",value:n.data,onChange:u,placeholder:"e.g., 10, 20, 30",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Colors (comma separated hex codes)"}),d.jsx("input",{type:"text",name:"colors",className:"w-full px-3 py-2 border rounded",value:n.colors,onChange:u,placeholder:"e.g., #FF6384, #36A2EB, #FFCE56",required:!0})]}),d.jsxs("div",{className:"flex justify-end",children:[d.jsx("button",{type:"button",onClick:e,className:"mr-2 bg-gray-500 text-white px-4 py-2 rounded",children:"Cancel"}),d.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Preview"})]})]})]})})]}):null},ZEe=({canvas:t})=>{const e=document.getElementById("chartPreviewContainer");e&&QE(e,{scrollY:-window.scrollY}).then(r=>{const n=new xn(r,{left:100,top:100,selectable:!1,controls:{...xn.createControls().controls,delete:new ar({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,backgroundColor:"tranparent",mouseUpHandler:(i,s,o,a)=>{t.remove(s.target)},cursorStyle:"pointer",render:(i,s,o,a,l)=>{i.save(),i.fillStyle="red",i.fillRect(s-10,o-10,20,20),i.strokeStyle="white",i.lineWidth=2,i.beginPath(),i.moveTo(s-5,o-5),i.lineTo(s+5,o+5),i.moveTo(s+5,o-5),i.lineTo(s-5,o+5),i.stroke(),i.restore()}})}});t.add(n),t.renderAll()})};function e7e(t){ZEe(t)}const t7e=({isOpen:t,onClose:e,parameters:r})=>{const[n,i]=S.useState({title:"",labels:"",data:"",colors:""}),[s,o]=S.useState(null),a=S.useRef(null),[l,c]=S.useState(null),u=f=>{i({...n,[f.target.name]:f.target.value})},A=f=>{f.preventDefault();const p=n.labels.split(",").map(v=>v.trim()),m=n.data.split(",").map(v=>parseFloat(v.trim())),y=n.colors.split(",").map(v=>v.trim()),g={type:"bar",data:{labels:p,datasets:[{data:m,backgroundColor:y,label:n.title}]},options:{responsive:!1,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}};o(g)};S.useEffect(()=>{if(s&&a.current){l&&l.destroy();const f=new mh(a.current.getContext("2d"),s);c(f)}},[s]);const h=()=>{e7e(r),o(null),i({title:"",labels:"",data:"",colors:""}),l&&(l.destroy(),c(null))};return t?d.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[d.jsx("div",{className:"absolute inset-0 bg-gray-900 opacity-50",onClick:e}),d.jsx("div",{className:"bg-white rounded shadow-lg p-6 z-10 w-11/12 md:w-1/2",children:s?d.jsxs(d.Fragment,{children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Chart Preview"}),d.jsx("div",{id:"chartPreviewContainer",style:{padding:"10px",background:"transparent",overflow:"visible",display:"flex",justifyContent:"center"},children:d.jsx("canvas",{id:"chartPreviewCanvas",ref:a,width:"400",height:"400"})}),d.jsxs("div",{className:"flex justify-end mt-4",children:[d.jsx("button",{type:"button",onClick:()=>o(null),className:"mr-2 bg-gray-500 text-white px-4 py-2 rounded",children:"Edit"}),d.jsx("button",{type:"button",onClick:h,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Add"})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Create Bar Chart"}),d.jsxs("form",{onSubmit:A,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Title"}),d.jsx("input",{type:"text",name:"title",className:"w-full px-3 py-2 border rounded",value:n.title,onChange:u,placeholder:"Enter chart title",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Labels (comma separated)"}),d.jsx("input",{type:"text",name:"labels",className:"w-full px-3 py-2 border rounded",value:n.labels,onChange:u,placeholder:"e.g., Q1, Q2, Q3, Q4",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Data (comma separated numbers)"}),d.jsx("input",{type:"text",name:"data",className:"w-full px-3 py-2 border rounded",value:n.data,onChange:u,placeholder:"e.g., 150, 200, 250, 300",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Colors (comma separated hex codes)"}),d.jsx("input",{type:"text",name:"colors",className:"w-full px-3 py-2 border rounded",value:n.colors,onChange:u,placeholder:"e.g., #4CAF50, #2196F3, #FFC107, #F44336",required:!0})]}),d.jsxs("div",{className:"flex justify-end",children:[d.jsx("button",{type:"button",onClick:e,className:"mr-2 bg-gray-500 text-white px-4 py-2 rounded",children:"Cancel"}),d.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Preview"})]})]})]})})]}):null},r7e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20width='100'%20height='100'%3e%3crect%20x='20'%20y='10'%20width='60'%20height='10'%20fill='black'%20/%3e%3cline%20x1='50'%20y1='20'%20x2='50'%20y2='60'%20stroke='black'%20stroke-width='3'%20/%3e%3cline%20x1='20'%20y1='60'%20x2='80'%20y2='60'%20stroke='black'%20stroke-width='3'%20/%3e%3cline%20x1='30'%20y1='70'%20x2='30'%20y2='90'%20stroke='black'%20stroke-width='3'%20/%3e%3cline%20x1='70'%20y1='70'%20x2='70'%20y2='90'%20stroke='black'%20stroke-width='3'%20/%3e%3c/svg%3e",n7e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20width='100'%20height='100'%3e%3crect%20x='20'%20y='10'%20width='60'%20height='10'%20fill='black'%20/%3e%3cline%20x1='50'%20y1='20'%20x2='50'%20y2='60'%20stroke='black'%20stroke-width='3'%20/%3e%3ccircle%20cx='50'%20cy='60'%20r='10'%20fill='black'%20/%3e%3c/svg%3e",i7e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20width='100'%20height='100'%3e%3crect%20x='30'%20y='40'%20width='40'%20height='20'%20fill='gray'%20/%3e%3cline%20x1='30'%20y1='50'%20x2='20'%20y2='50'%20stroke='black'%20stroke-width='3'%20/%3e%3cline%20x1='70'%20y1='50'%20x2='80'%20y2='50'%20stroke='black'%20stroke-width='3'%20/%3e%3c/svg%3e",s7e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20width='100'%20height='100'%3e%3cline%20x1='10'%20y1='10'%20x2='90'%20y2='90'%20stroke='black'%20stroke-width='3'%20/%3e%3c/svg%3e",o7e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20width='100'%20height='100'%3e%3crect%20x='35'%20y='30'%20width='30'%20height='40'%20fill='blue'%20/%3e%3cline%20x1='35'%20y1='30'%20x2='10'%20y2='30'%20stroke='black'%20stroke-width='3'%20/%3e%3cline%20x1='65'%20y1='30'%20x2='90'%20y2='30'%20stroke='black'%20stroke-width='3'%20/%3e%3c/svg%3e",a7e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20width='100'%20height='100'%3e%3crect%20x='30'%20y='10'%20width='40'%20height='60'%20fill='gray'%20/%3e%3crect%20x='45'%20y='5'%20width='10'%20height='5'%20fill='black'%20/%3e%3cline%20x1='50'%20y1='70'%20x2='50'%20y2='80'%20stroke='black'%20stroke-width='3'%20/%3e%3c/svg%3e",l7e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20width='100'%20height='100'%3e%3crect%20x='30'%20y='40'%20width='40'%20height='20'%20fill='gray'%20/%3e%3cline%20x1='50'%20y1='40'%20x2='50'%20y2='60'%20stroke='black'%20stroke-width='3'%20/%3e%3ccircle%20cx='50'%20cy='30'%20r='5'%20fill='black'%20/%3e%3ccircle%20cx='50'%20cy='70'%20r='5'%20fill='black'%20/%3e%3c/svg%3e",c7e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20width='100'%20height='100'%3e%3ccircle%20cx='50'%20cy='30'%20r='20'%20fill='yellow'%20stroke='black'%20stroke-width='3'%20/%3e%3crect%20x='40'%20y='50'%20width='20'%20height='30'%20fill='silver'%20/%3e%3cline%20x1='50'%20y1='80'%20x2='50'%20y2='90'%20stroke='black'%20stroke-width='3'%20/%3e%3c/svg%3e",$a=(t,e)=>{var r=document.getElementById(`${t}`);r&&console.log("found");var n=new xn(r,{left:100,top:100,selectable:!1,controls:{...xn.createControls().controls,delete:new ar({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,backgroundColor:"tranparent",mouseUpHandler:(i,s,o,a)=>{e.remove(s.target)},cursorStyle:"pointer",render:(i,s,o,a,l)=>{i.save(),i.fillStyle="red",i.fillRect(s-10,o-10,20,20),i.strokeStyle="white",i.lineWidth=2,i.beginPath(),i.moveTo(s-5,o-5),i.lineTo(s+5,o+5),i.moveTo(s+5,o-5),i.lineTo(s-5,o+5),i.stroke(),i.restore()}})}});e.add(n),e.renderAll()},u7e=({parameters:t})=>{const[e,r]=S.useState(!1),[n,i]=S.useState(!1),[s,o]=S.useState(!1);S.useRef(null);const a=()=>{r(!1)},l=()=>{i(!1)},c=()=>{o(f=>!f)},u=()=>{o(!1)},A=[{name:"Pointer",icon:d.jsx(ebe,{className:"w-6 h-6 text-gray-700"}),action:()=>N4e(t)},{name:"Eraser",icon:d.jsx(qxe,{className:"w-6 h-6 text-gray-700"}),action:()=>I4e(t)},{name:"Pencil",icon:d.jsx(Jxe,{className:"w-6 h-6 text-gray-700"}),action:()=>O4e(t)},{name:"Line",icon:d.jsx(Yxe,{className:"w-6 h-6 text-gray-700"}),action:()=>T4e(t)},{name:"Text Box",icon:d.jsx(Ixe,{className:"w-6 h-6 text-gray-700"}),action:()=>j4e(t)},{name:"Rectangle",icon:d.jsx(rbe,{className:"w-6 h-6 text-gray-700"}),action:()=>_4e(t)},{name:"Triangle",icon:d.jsx(sbe,{className:"w-6 h-6 text-gray-700"}),action:()=>w4e(t)},{name:"Ellipse",icon:d.jsx(Gxe,{className:"w-6 h-6 text-gray-700"}),action:()=>E4e(t)},{name:"Pie Chart",icon:d.jsx(Hxe,{className:"w-6 h-6 text-gray-700"}),action:()=>r(!0)},{name:"Bar Chart",icon:d.jsx(Qxe,{className:"w-6 h-6 text-gray-700"}),action:()=>i(!0)},{name:"Equation",icon:d.jsx(nbe,{className:"w-6 h-6 text-gray-700"}),action:()=>qEe(t)},{name:"Graph",icon:d.jsx(Rxe,{className:"w-6 h-6 text-gray-700"}),action:"graph"},{name:"Electronics",icon:d.jsx($xe,{className:"w-6 h-6 text-gray-700"}),action:c}],h=[{name:"Ground",icon:d.jsx("img",{src:r7e,alt:"Ground",id:"ground",className:"w-6 h-6"}),action:()=>$a("ground",t.canvas)},{name:"VCC",icon:d.jsx("img",{src:n7e,alt:"VCC",id:"vcc",className:"w-6 h-6"}),action:()=>$a("vcc",t.canvas)},{name:"Resistor",icon:d.jsx("img",{src:i7e,alt:"Resistor",id:"resistor",className:"w-6 h-6"}),action:()=>$a("resistor",t.canvas)},{name:"Wire",icon:d.jsx("img",{src:s7e,alt:"Wire",id:"wire",className:"w-6 h-6"}),action:()=>$a("wire",t.canvas)},{name:"Capacitor",icon:d.jsx("img",{src:o7e,alt:"Capacitor",id:"capacitor",className:"w-6 h-6"}),action:()=>$a("capacitor",t.canvas)},{name:"Battery",icon:d.jsx("img",{src:a7e,alt:"Battery",id:"battery",className:"w-6 h-6"}),action:()=>$a("battery",t.canvas)},{name:"Switch",icon:d.jsx("img",{src:l7e,alt:"Switch",id:"switch",className:"w-6 h-6"}),action:()=>$a("switch",t.canvas)},{name:"Bulb",icon:d.jsx("img",{src:c7e,alt:"Bulb",id:"bulb",className:"w-6 h-6"}),action:()=>$a("bulb",t.canvas)}];return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative w-[150px] min-h-[70vh] bg-gray-100 border border-2 border-gray-300 shadow-lg p-4 flex flex-wrap items-center justify-center gap-x-3 overflow-y-none rounded-lg",children:[A.map((f,p)=>d.jsx("button",{className:"flex flex-col items-center border-2 border-gray-300 justify-center p-2 w-[50px] h-[50px] hover:bg-gray-200 rounded-lg transition",onClick:()=>f.action(),children:f.icon},p)),s&&d.jsxs("div",{className:"absolute mb-8 ml-12 w-[150px] bg-gray-100 shadow-lg border border-2 border-gray-300 shadow-lg p-2 rounded-lg",children:[d.jsx("button",{className:"absolute top-0 right-0 text-white bg-red-600 p-1 rounded-full",onClick:u,children:""}),h.map((f,p)=>d.jsx("button",{className:"flex flex-col items-center border-2 border-gray-300 justify-center p-2 w-[50px] h-[50px] hover:bg-gray-200 rounded-lg transition",onClick:()=>f.action(),children:f.icon},p))]})]}),d.jsx(JEe,{isOpen:e,onClose:a,parameters:t}),d.jsx(t7e,{isOpen:n,onClose:l,parameters:t})]})};let A7e={drawInstance:null,origX:void 0,origY:void 0,mouseDown:!1};const d7e={currentMode:"",currentColor:"#000000",currentWidth:5,fill:!1,group:{}},h7e={RECTANGLE:"RECTANGLE",TRIANGLE:"TRIANGLE",ELLIPSE:"ELLIPSE",LINE:"LINE",PENCIL:"PENCIL",ERASER:"ERASER"};function f7e({aspectRatio:t=4/3}){const e=Ze(),[r,n]=S.useState(null),i=S.useRef(),s=S.useRef(),o=S.useRef(!0);return S.useEffect(()=>{if(!r&&i.current&&o.current){console.log("here canvas");const a=b4e(i.current,s.current.clientWidth,s.current.clientHeight);n(()=>a),o.current=!1}},[i]),d.jsxs("div",{className:"relative flex w-full min-h-[95vh] items-center justify-center p-2 bg-[whitesmoke]",children:[d.jsx("div",{className:"absolute flex w-[60px] h-[60px] items-center justify-center top-2 left-2 cursor-pointer bg-white hover:bg-purple-300 border rounded-lg ",onClick:()=>e("/admin"),children:d.jsx(Uxe,{})}),d.jsx("div",{className:"flex p-8 h-full",children:d.jsx(u7e,{parameters:{canvas:r,options:d7e,modes:h7e,instaceReference:A7e}})}),d.jsx("div",{ref:s,className:"w-full h-full flex items-center justify-center bg-transparent shadow-lg rounded-lg border",children:d.jsx("canvas",{ref:i,id:"canvas",className:"w-full h-full border border-gray-300 border-4 rounded-lg"})})]})}const p7e=()=>{const{user:t,isLoading:e}=dn(),r=Il(n=>n.auth.isAuthenticated);return e?d.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100",children:d.jsx(ir,{className:"inline animate-spin text-[#6925EF]"})}):r?d.jsxs(oF,{children:[(t==null?void 0:t.role)===le.SUPER_ADMIN&&d.jsxs(xe,{path:"/admin/",element:d.jsx(nA,{}),children:[d.jsx(xe,{index:!0,element:d.jsx(q4,{})}),d.jsx(xe,{path:"users",element:d.jsx(u3,{})}),d.jsx(xe,{path:"users/:user_id",element:d.jsx(n3,{})}),d.jsx(xe,{path:"users/create",element:d.jsx(c3,{})}),d.jsx(xe,{path:"districts",element:d.jsx(Bbe,{})}),d.jsx(xe,{path:"districts/:district_id",element:d.jsx(Ebe,{})}),d.jsx(xe,{path:"districts/create",element:d.jsx(Sbe,{})}),d.jsx(xe,{path:"chat-screen/:bot_id",element:d.jsx(Qh,{})}),d.jsx(xe,{path:"settings",element:d.jsx(lT,{})}),d.jsx(xe,{path:"whiteboard",element:d.jsx(f7e,{})}),d.jsx(xe,{path:"new-bot",element:d.jsx(rAe,{})}),d.jsx(xe,{path:"bots",element:d.jsx(Qme,{})}),d.jsx(xe,{path:"bots/:bot_id",element:d.jsx(Hme,{})}),d.jsx(xe,{path:"files",element:d.jsx($me,{})}),d.jsx(xe,{path:"files/new-file",element:d.jsx(Dbe,{})}),d.jsx(xe,{path:"levels",element:d.jsx(Gme,{})}),d.jsx(xe,{path:"levels/create",element:d.jsx(Xme,{})}),d.jsx(xe,{path:"levels/:id",element:d.jsx(Jme,{})}),d.jsx(xe,{path:"subjects",element:d.jsx(Zme,{})}),d.jsx(xe,{path:"subjects/create",element:d.jsx(t0e,{})}),d.jsx(xe,{path:"subjects/:id",element:d.jsx(n0e,{})}),d.jsx(xe,{path:"deepgram-models",element:d.jsx(l0e,{})})]}),(t==null?void 0:t.role)===le.SUPER_INTENDENT&&d.jsxs(xe,{path:"/admin/",element:d.jsx(nA,{}),children:[d.jsx(xe,{index:!0,element:d.jsx(q4,{})}),d.jsx(xe,{path:"users",element:d.jsx(u3,{})}),d.jsx(xe,{path:"users/:user_id",element:d.jsx(n3,{})}),d.jsx(xe,{path:"users/create",element:d.jsx(c3,{})}),d.jsx(xe,{path:"schools",element:d.jsx(Fxe,{})}),d.jsx(xe,{path:"schools/create",element:d.jsx(Txe,{})}),d.jsx(xe,{path:"schools/:school_id",element:d.jsx(Lxe,{})}),d.jsx(xe,{path:"chat-screen/:bot_id",element:d.jsx(Qh,{})}),d.jsx(xe,{path:"settings",element:d.jsx(lT,{})})]}),(t==null?void 0:t.role)===le.ADMIN&&d.jsxs(xe,{path:"/admin/",element:d.jsx(nA,{}),children:[d.jsx(xe,{index:!0,element:d.jsx(q4,{})}),d.jsx(xe,{path:"users",element:d.jsx(u3,{})}),d.jsx(xe,{path:"users/:user_id",element:d.jsx(n3,{})}),d.jsx(xe,{path:"users/create",element:d.jsx(c3,{})}),d.jsx(xe,{path:"chat-screen/:bot_id",element:d.jsx(Qh,{})}),d.jsx(xe,{path:"settings",element:d.jsx(xv,{})})]}),(t==null?void 0:t.role)===le.TEACHER&&d.jsxs(xe,{path:"/teacher/",element:d.jsx(nA,{}),children:[d.jsx(xe,{index:!0,element:d.jsx(s0e,{})}),d.jsx(xe,{path:"subject",element:d.jsx(o0e,{})}),d.jsx(xe,{path:"subject/:subject_id",element:d.jsx(a0e,{})}),d.jsx(xe,{path:"subject/:subject_id/:user_id/:bot_id",element:d.jsx(kxe,{})}),d.jsx(xe,{path:"subject/:subject_id/:user_id/:bot_id/:quiz_attempt_id",element:d.jsx(hbe,{})}),d.jsx(xe,{path:"chat-screen/:bot_id",element:d.jsx(Qh,{})}),d.jsx(xe,{path:"quiz",element:d.jsx(Exe,{})}),d.jsx(xe,{path:"quiz/:quiz_id",element:d.jsx(cbe,{})}),d.jsx(xe,{path:"settings",element:d.jsx(xv,{})}),d.jsx(xe,{path:"quiz/create",element:d.jsx(zue,{})})]}),(t==null?void 0:t.role)===le.PARENT&&d.jsxs(xe,{path:"/parent/children",element:d.jsx(nA,{}),children:[d.jsx(xe,{index:!0,element:d.jsx(ube,{})}),d.jsx(xe,{path:":child_id",element:d.jsx(dbe,{})})]}),(t==null?void 0:t.role)===le.USER&&d.jsxs(xe,{path:"/",element:d.jsx(nA,{}),children:[d.jsx(xe,{index:!0,element:d.jsx(zme,{})}),d.jsx(xe,{path:"chat-screen/:bot_id",element:d.jsx(Qh,{})}),d.jsx(xe,{path:"profile",element:d.jsx(Wue,{})}),d.jsx(xe,{path:"quiz",element:d.jsx(obe,{})}),d.jsx(xe,{path:"quiz/:quizId",element:d.jsx(abe,{})}),d.jsx(xe,{path:"quiz-history",element:d.jsx(Mbe,{})}),d.jsx(xe,{path:"settings",element:d.jsx(xv,{})})]}),d.jsx(xe,{path:"*",element:d.jsx(sF,{to:(t==null?void 0:t.role)===le.SUPER_ADMIN||(t==null?void 0:t.role)===le.ADMIN||(t==null?void 0:t.role)===le.SUPER_INTENDENT?"/admin":(t==null?void 0:t.role)===le.TEACHER?"/teacher":(t==null?void 0:t.role)===le.PARENT?"/parent/children":"/",replace:!0})})]}):d.jsxs(oF,{children:[d.jsx(xe,{path:"/login",element:d.jsx(pse,{})}),d.jsx(xe,{path:"/forget-password",element:d.jsx(mse,{})}),d.jsx(xe,{path:"/email-verification",element:d.jsx(Ose,{})}),d.jsx(xe,{path:"*",element:d.jsx(sF,{to:"/login",replace:!0})})]})},m7e=()=>d.jsx(Ene,{children:d.jsx(vee,{children:d.jsx(p7e,{})})}),g7e=une({reducer:{[Gy.reducerPath]:Gy.reducer,[Jy.reducerPath]:Jy.reducer,[Yy.reducerPath]:Yy.reducer,[Nf.reducerPath]:Nf.reducer,[rv.reducerPath]:rv.reducer,[lv.reducerPath]:lv.reducer,[av.reducerPath]:av.reducer,[iv.reducerPath]:iv.reducer,[nv.reducerPath]:nv.reducer,[sv.reducerPath]:sv.reducer,[fv.reducerPath]:fv.reducer,[ov.reducerPath]:ov.reducer,[hv.reducerPath]:hv.reducer,auth:gR.reducer},middleware:t=>t().concat(Gy.middleware,Jy.middleware,Yy.middleware,Nf.middleware,rv.middleware,lv.middleware,av.middleware,iv.middleware,Nf.middleware,nv.middleware,sv.middleware,fv.middleware,ov.middleware,hv.middleware)});hQ(document.getElementById("root")).render(d.jsx(S.StrictMode,{children:d.jsxs(_re,{store:g7e,children:[d.jsx(cie,{position:"top-right",autoClose:1500,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),d.jsx(m7e,{})]})}));
