var wie=Object.defineProperty;var Cie=(t,e,r)=>e in t?wie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var _e=(t,e,r)=>Cie(t,typeof e!="symbol"?e+"":e,r);function Sie(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var AT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function K3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o$={exports:{}},q3={},l$={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1=Symbol.for("react.element"),Bie=Symbol.for("react.portal"),_ie=Symbol.for("react.fragment"),kie=Symbol.for("react.strict_mode"),Eie=Symbol.for("react.profiler"),Mie=Symbol.for("react.provider"),Fie=Symbol.for("react.context"),Tie=Symbol.for("react.forward_ref"),Die=Symbol.for("react.suspense"),Lie=Symbol.for("react.memo"),Nie=Symbol.for("react.lazy"),fT=Symbol.iterator;function jie(t){return t===null||typeof t!="object"?null:(t=fT&&t[fT]||t["@@iterator"],typeof t=="function"?t:null)}var c$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u$=Object.assign,d$={};function nf(t,e,r){this.props=t,this.context=e,this.refs=d$,this.updater=r||c$}nf.prototype.isReactComponent={};nf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function h$(){}h$.prototype=nf.prototype;function U_(t,e,r){this.props=t,this.context=e,this.refs=d$,this.updater=r||c$}var Q_=U_.prototype=new h$;Q_.constructor=U_;u$(Q_,nf.prototype);Q_.isPureReactComponent=!0;var pT=Array.isArray,A$=Object.prototype.hasOwnProperty,R_={current:null},f$={key:!0,ref:!0,__self:!0,__source:!0};function p$(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)A$.call(e,n)&&!f$.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:u1,type:t,key:s,ref:a,props:i,_owner:R_.current}}function Iie(t,e){return{$$typeof:u1,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function H_(t){return typeof t=="object"&&t!==null&&t.$$typeof===u1}function Oie(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var mT=/\/+/g;function K5(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Oie(""+t.key):e.toString(36)}function c4(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case u1:case Bie:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+K5(a,0):n,pT(i)?(r="",t!=null&&(r=t.replace(mT,"$&/")+"/"),c4(i,e,r,"",function(c){return c})):i!=null&&(H_(i)&&(i=Iie(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(mT,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",pT(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+K5(s,o);a+=c4(s,e,r,l,i)}else if(l=jie(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+K5(s,o++),a+=c4(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ey(t,e,r){if(t==null)return t;var n=[],i=0;return c4(t,n,"","",function(s){return e.call(r,s,i++)}),n}function Pie(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yi={current:null},u4={transition:null},Uie={ReactCurrentDispatcher:yi,ReactCurrentBatchConfig:u4,ReactCurrentOwner:R_};function m$(){throw Error("act(...) is not supported in production builds of React.")}vt.Children={map:ey,forEach:function(t,e,r){ey(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ey(t,function(){e++}),e},toArray:function(t){return ey(t,function(e){return e})||[]},only:function(t){if(!H_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};vt.Component=nf;vt.Fragment=_ie;vt.Profiler=Eie;vt.PureComponent=U_;vt.StrictMode=kie;vt.Suspense=Die;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uie;vt.act=m$;vt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=u$({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=R_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)A$.call(e,l)&&!f$.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:u1,type:t.type,key:i,ref:s,props:n,_owner:a}};vt.createContext=function(t){return t={$$typeof:Fie,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Mie,_context:t},t.Consumer=t};vt.createElement=p$;vt.createFactory=function(t){var e=p$.bind(null,t);return e.type=t,e};vt.createRef=function(){return{current:null}};vt.forwardRef=function(t){return{$$typeof:Tie,render:t}};vt.isValidElement=H_;vt.lazy=function(t){return{$$typeof:Nie,_payload:{_status:-1,_result:t},_init:Pie}};vt.memo=function(t,e){return{$$typeof:Lie,type:t,compare:e===void 0?null:e}};vt.startTransition=function(t){var e=u4.transition;u4.transition={};try{t()}finally{u4.transition=e}};vt.unstable_act=m$;vt.useCallback=function(t,e){return yi.current.useCallback(t,e)};vt.useContext=function(t){return yi.current.useContext(t)};vt.useDebugValue=function(){};vt.useDeferredValue=function(t){return yi.current.useDeferredValue(t)};vt.useEffect=function(t,e){return yi.current.useEffect(t,e)};vt.useId=function(){return yi.current.useId()};vt.useImperativeHandle=function(t,e,r){return yi.current.useImperativeHandle(t,e,r)};vt.useInsertionEffect=function(t,e){return yi.current.useInsertionEffect(t,e)};vt.useLayoutEffect=function(t,e){return yi.current.useLayoutEffect(t,e)};vt.useMemo=function(t,e){return yi.current.useMemo(t,e)};vt.useReducer=function(t,e,r){return yi.current.useReducer(t,e,r)};vt.useRef=function(t){return yi.current.useRef(t)};vt.useState=function(t){return yi.current.useState(t)};vt.useSyncExternalStore=function(t,e,r){return yi.current.useSyncExternalStore(t,e,r)};vt.useTransition=function(){return yi.current.useTransition()};vt.version="18.3.1";l$.exports=vt;var _=l$.exports;const Pe=K3(_),gT=Sie({__proto__:null,default:Pe},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qie=_,Rie=Symbol.for("react.element"),Hie=Symbol.for("react.fragment"),zie=Object.prototype.hasOwnProperty,$ie=Qie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vie={key:!0,ref:!0,__self:!0,__source:!0};function g$(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)zie.call(e,n)&&!Vie.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Rie,type:t,key:s,ref:a,props:i,_owner:$ie.current}}q3.Fragment=Hie;q3.jsx=g$;q3.jsxs=g$;o$.exports=q3;var h=o$.exports,y$={exports:{}},Cs={},v$={exports:{}},x$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,q){var N=P.length;P.push(q);e:for(;0<N;){var ae=N-1>>>1,oe=P[ae];if(0<i(oe,q))P[ae]=q,P[N]=oe,N=ae;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var q=P[0],N=P.pop();if(N!==q){P[0]=N;e:for(var ae=0,oe=P.length,O=oe>>>1;ae<O;){var fe=2*(ae+1)-1,Se=P[fe],ie=fe+1,pe=P[ie];if(0>i(Se,N))ie<oe&&0>i(pe,Se)?(P[ae]=pe,P[ie]=N,ae=ie):(P[ae]=Se,P[fe]=N,ae=fe);else if(ie<oe&&0>i(pe,N))P[ae]=pe,P[ie]=N,ae=ie;else break e}}return q}function i(P,q){var N=P.sortIndex-q.sortIndex;return N!==0?N:P.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,A=3,f=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var q=r(c);q!==null;){if(q.callback===null)n(c);else if(q.startTime<=P)n(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=r(c)}}function b(P){if(m=!1,x(P),!p)if(r(l)!==null)p=!0,Y(w);else{var q=r(c);q!==null&&$(b,q.startTime-P)}}function w(P,q){p=!1,m&&(m=!1,g(B),B=-1),f=!0;var N=A;try{for(x(q),d=r(l);d!==null&&(!(d.expirationTime>q)||P&&!D());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,A=d.priorityLevel;var oe=ae(d.expirationTime<=q);q=t.unstable_now(),typeof oe=="function"?d.callback=oe:d===r(l)&&n(l),x(q)}else n(l);d=r(l)}if(d!==null)var O=!0;else{var fe=r(c);fe!==null&&$(b,fe.startTime-q),O=!1}return O}finally{d=null,A=N,f=!1}}var C=!1,S=null,B=-1,E=5,M=-1;function D(){return!(t.unstable_now()-M<E)}function L(){if(S!==null){var P=t.unstable_now();M=P;var q=!0;try{q=S(!0,P)}finally{q?I():(C=!1,S=null)}}else C=!1}var I;if(typeof v=="function")I=function(){v(L)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,R=z.port2;z.port1.onmessage=L,I=function(){R.postMessage(null)}}else I=function(){y(L,0)};function Y(P){S=P,C||(C=!0,I())}function $(P,q){B=y(function(){P(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,Y(w))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(P){switch(A){case 1:case 2:case 3:var q=3;break;default:q=A}var N=A;A=q;try{return P()}finally{A=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,q){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var N=A;A=P;try{return q()}finally{A=N}},t.unstable_scheduleCallback=function(P,q,N){var ae=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?ae+N:ae):N=ae,P){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=N+oe,P={id:u++,callback:q,priorityLevel:P,startTime:N,expirationTime:oe,sortIndex:-1},N>ae?(P.sortIndex=N,e(c,P),r(l)===null&&P===r(c)&&(m?(g(B),B=-1):m=!0,$(b,N-ae))):(P.sortIndex=oe,e(l,P),p||f||(p=!0,Y(w))),P},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(P){var q=A;return function(){var N=A;A=q;try{return P.apply(this,arguments)}finally{A=N}}}})(x$);v$.exports=x$;var Kie=v$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qie=_,vs=Kie;function we(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b$=new Set,rg={};function _h(t,e){DA(t,e),DA(t+"Capture",e)}function DA(t,e){for(rg[t]=e,t=0;t<e.length;t++)b$.add(e[t])}var Ml=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),LC=Object.prototype.hasOwnProperty,Wie=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yT={},vT={};function Gie(t){return LC.call(vT,t)?!0:LC.call(yT,t)?!1:Wie.test(t)?vT[t]=!0:(yT[t]=!0,!1)}function Xie(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Yie(t,e,r,n){if(e===null||typeof e>"u"||Xie(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vi(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var In={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){In[t]=new vi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];In[e]=new vi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){In[t]=new vi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){In[t]=new vi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){In[t]=new vi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){In[t]=new vi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){In[t]=new vi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){In[t]=new vi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){In[t]=new vi(t,5,!1,t.toLowerCase(),null,!1,!1)});var z_=/[\-:]([a-z])/g;function $_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(z_,$_);In[e]=new vi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(z_,$_);In[e]=new vi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(z_,$_);In[e]=new vi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){In[t]=new vi(t,1,!1,t.toLowerCase(),null,!1,!1)});In.xlinkHref=new vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){In[t]=new vi(t,1,!1,t.toLowerCase(),null,!0,!0)});function V_(t,e,r,n){var i=In.hasOwnProperty(e)?In[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Yie(e,r,i,n)&&(r=null),n||i===null?Gie(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var $l=qie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ty=Symbol.for("react.element"),F0=Symbol.for("react.portal"),T0=Symbol.for("react.fragment"),K_=Symbol.for("react.strict_mode"),NC=Symbol.for("react.profiler"),w$=Symbol.for("react.provider"),C$=Symbol.for("react.context"),q_=Symbol.for("react.forward_ref"),jC=Symbol.for("react.suspense"),IC=Symbol.for("react.suspense_list"),W_=Symbol.for("react.memo"),Dc=Symbol.for("react.lazy"),S$=Symbol.for("react.offscreen"),xT=Symbol.iterator;function Lf(t){return t===null||typeof t!="object"?null:(t=xT&&t[xT]||t["@@iterator"],typeof t=="function"?t:null)}var _r=Object.assign,q5;function jp(t){if(q5===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);q5=e&&e[1]||""}return`
`+q5+t}var W5=!1;function G5(t,e){if(!t||W5)return"";W5=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{W5=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?jp(t):""}function Jie(t){switch(t.tag){case 5:return jp(t.type);case 16:return jp("Lazy");case 13:return jp("Suspense");case 19:return jp("SuspenseList");case 0:case 2:case 15:return t=G5(t.type,!1),t;case 11:return t=G5(t.type.render,!1),t;case 1:return t=G5(t.type,!0),t;default:return""}}function OC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T0:return"Fragment";case F0:return"Portal";case NC:return"Profiler";case K_:return"StrictMode";case jC:return"Suspense";case IC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C$:return(t.displayName||"Context")+".Consumer";case w$:return(t._context.displayName||"Context")+".Provider";case q_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W_:return e=t.displayName||null,e!==null?e:OC(t.type)||"Memo";case Dc:e=t._payload,t=t._init;try{return OC(t(e))}catch{}}return null}function Zie(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return OC(e);case 8:return e===K_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function B$(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ese(t){var e=B$(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ry(t){t._valueTracker||(t._valueTracker=ese(t))}function _$(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=B$(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Px(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function PC(t,e){var r=e.checked;return _r({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function bT(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=fu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function k$(t,e){e=e.checked,e!=null&&V_(t,"checked",e,!1)}function UC(t,e){k$(t,e);var r=fu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?QC(t,e.type,r):e.hasOwnProperty("defaultValue")&&QC(t,e.type,fu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wT(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function QC(t,e,r){(e!=="number"||Px(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ip=Array.isArray;function lA(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+fu(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function RC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(we(91));return _r({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function CT(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(we(92));if(Ip(r)){if(1<r.length)throw Error(we(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:fu(r)}}function E$(t,e){var r=fu(e.value),n=fu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function ST(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function M$(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function HC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?M$(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ny,F$=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ny=ny||document.createElement("div"),ny.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ny.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ng(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var cm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tse=["Webkit","ms","Moz","O"];Object.keys(cm).forEach(function(t){tse.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cm[e]=cm[t]})});function T$(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||cm.hasOwnProperty(t)&&cm[t]?(""+e).trim():e+"px"}function D$(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=T$(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var rse=_r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zC(t,e){if(e){if(rse[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(we(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(we(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(we(61))}if(e.style!=null&&typeof e.style!="object")throw Error(we(62))}}function $C(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var VC=null;function G_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var KC=null,cA=null,uA=null;function BT(t){if(t=A1(t)){if(typeof KC!="function")throw Error(we(280));var e=t.stateNode;e&&(e=J3(e),KC(t.stateNode,t.type,e))}}function L$(t){cA?uA?uA.push(t):uA=[t]:cA=t}function N$(){if(cA){var t=cA,e=uA;if(uA=cA=null,BT(t),e)for(t=0;t<e.length;t++)BT(e[t])}}function j$(t,e){return t(e)}function I$(){}var X5=!1;function O$(t,e,r){if(X5)return t(e,r);X5=!0;try{return j$(t,e,r)}finally{X5=!1,(cA!==null||uA!==null)&&(I$(),N$())}}function ig(t,e){var r=t.stateNode;if(r===null)return null;var n=J3(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(we(231,e,typeof r));return r}var qC=!1;if(Ml)try{var Nf={};Object.defineProperty(Nf,"passive",{get:function(){qC=!0}}),window.addEventListener("test",Nf,Nf),window.removeEventListener("test",Nf,Nf)}catch{qC=!1}function nse(t,e,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var um=!1,Ux=null,Qx=!1,WC=null,ise={onError:function(t){um=!0,Ux=t}};function sse(t,e,r,n,i,s,a,o,l){um=!1,Ux=null,nse.apply(ise,arguments)}function ase(t,e,r,n,i,s,a,o,l){if(sse.apply(this,arguments),um){if(um){var c=Ux;um=!1,Ux=null}else throw Error(we(198));Qx||(Qx=!0,WC=c)}}function kh(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function P$(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _T(t){if(kh(t)!==t)throw Error(we(188))}function ose(t){var e=t.alternate;if(!e){if(e=kh(t),e===null)throw Error(we(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return _T(i),t;if(s===n)return _T(i),e;s=s.sibling}throw Error(we(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(we(189))}}if(r.alternate!==n)throw Error(we(190))}if(r.tag!==3)throw Error(we(188));return r.stateNode.current===r?t:e}function U$(t){return t=ose(t),t!==null?Q$(t):null}function Q$(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Q$(t);if(e!==null)return e;t=t.sibling}return null}var R$=vs.unstable_scheduleCallback,kT=vs.unstable_cancelCallback,lse=vs.unstable_shouldYield,cse=vs.unstable_requestPaint,Qr=vs.unstable_now,use=vs.unstable_getCurrentPriorityLevel,X_=vs.unstable_ImmediatePriority,H$=vs.unstable_UserBlockingPriority,Rx=vs.unstable_NormalPriority,dse=vs.unstable_LowPriority,z$=vs.unstable_IdlePriority,W3=null,bo=null;function hse(t){if(bo&&typeof bo.onCommitFiberRoot=="function")try{bo.onCommitFiberRoot(W3,t,void 0,(t.current.flags&128)===128)}catch{}}var ka=Math.clz32?Math.clz32:pse,Ase=Math.log,fse=Math.LN2;function pse(t){return t>>>=0,t===0?32:31-(Ase(t)/fse|0)|0}var iy=64,sy=4194304;function Op(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hx(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Op(o):(s&=a,s!==0&&(n=Op(s)))}else a=r&~i,a!==0?n=Op(a):s!==0&&(n=Op(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ka(e),i=1<<r,n|=t[r],e&=~i;return n}function mse(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gse(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ka(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=mse(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function GC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $$(){var t=iy;return iy<<=1,!(iy&4194240)&&(iy=64),t}function Y5(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function d1(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ka(e),t[e]=r}function yse(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ka(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Y_(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ka(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Kt=0;function V$(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var K$,J_,q$,W$,G$,XC=!1,ay=[],tu=null,ru=null,nu=null,sg=new Map,ag=new Map,Pc=[],vse="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ET(t,e){switch(t){case"focusin":case"focusout":tu=null;break;case"dragenter":case"dragleave":ru=null;break;case"mouseover":case"mouseout":nu=null;break;case"pointerover":case"pointerout":sg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ag.delete(e.pointerId)}}function jf(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=A1(e),e!==null&&J_(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xse(t,e,r,n,i){switch(e){case"focusin":return tu=jf(tu,t,e,r,n,i),!0;case"dragenter":return ru=jf(ru,t,e,r,n,i),!0;case"mouseover":return nu=jf(nu,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return sg.set(s,jf(sg.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ag.set(s,jf(ag.get(s)||null,t,e,r,n,i)),!0}return!1}function X$(t){var e=Id(t.target);if(e!==null){var r=kh(e);if(r!==null){if(e=r.tag,e===13){if(e=P$(r),e!==null){t.blockedOn=e,G$(t.priority,function(){q$(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function d4(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=YC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);VC=n,r.target.dispatchEvent(n),VC=null}else return e=A1(r),e!==null&&J_(e),t.blockedOn=r,!1;e.shift()}return!0}function MT(t,e,r){d4(t)&&r.delete(e)}function bse(){XC=!1,tu!==null&&d4(tu)&&(tu=null),ru!==null&&d4(ru)&&(ru=null),nu!==null&&d4(nu)&&(nu=null),sg.forEach(MT),ag.forEach(MT)}function If(t,e){t.blockedOn===e&&(t.blockedOn=null,XC||(XC=!0,vs.unstable_scheduleCallback(vs.unstable_NormalPriority,bse)))}function og(t){function e(i){return If(i,t)}if(0<ay.length){If(ay[0],t);for(var r=1;r<ay.length;r++){var n=ay[r];n.blockedOn===t&&(n.blockedOn=null)}}for(tu!==null&&If(tu,t),ru!==null&&If(ru,t),nu!==null&&If(nu,t),sg.forEach(e),ag.forEach(e),r=0;r<Pc.length;r++)n=Pc[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Pc.length&&(r=Pc[0],r.blockedOn===null);)X$(r),r.blockedOn===null&&Pc.shift()}var dA=$l.ReactCurrentBatchConfig,zx=!0;function wse(t,e,r,n){var i=Kt,s=dA.transition;dA.transition=null;try{Kt=1,Z_(t,e,r,n)}finally{Kt=i,dA.transition=s}}function Cse(t,e,r,n){var i=Kt,s=dA.transition;dA.transition=null;try{Kt=4,Z_(t,e,r,n)}finally{Kt=i,dA.transition=s}}function Z_(t,e,r,n){if(zx){var i=YC(t,e,r,n);if(i===null)o6(t,e,n,$x,r),ET(t,n);else if(xse(i,t,e,r,n))n.stopPropagation();else if(ET(t,n),e&4&&-1<vse.indexOf(t)){for(;i!==null;){var s=A1(i);if(s!==null&&K$(s),s=YC(t,e,r,n),s===null&&o6(t,e,n,$x,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else o6(t,e,n,null,r)}}var $x=null;function YC(t,e,r,n){if($x=null,t=G_(n),t=Id(t),t!==null)if(e=kh(t),e===null)t=null;else if(r=e.tag,r===13){if(t=P$(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $x=t,null}function Y$(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(use()){case X_:return 1;case H$:return 4;case Rx:case dse:return 16;case z$:return 536870912;default:return 16}default:return 16}}var zc=null,ek=null,h4=null;function J$(){if(h4)return h4;var t,e=ek,r=e.length,n,i="value"in zc?zc.value:zc.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return h4=i.slice(t,1<n?1-n:void 0)}function A4(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oy(){return!0}function FT(){return!1}function Ss(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?oy:FT,this.isPropagationStopped=FT,this}return _r(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=oy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=oy)},persist:function(){},isPersistent:oy}),e}var sf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tk=Ss(sf),h1=_r({},sf,{view:0,detail:0}),Sse=Ss(h1),J5,Z5,Of,G3=_r({},h1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Of&&(Of&&t.type==="mousemove"?(J5=t.screenX-Of.screenX,Z5=t.screenY-Of.screenY):Z5=J5=0,Of=t),J5)},movementY:function(t){return"movementY"in t?t.movementY:Z5}}),TT=Ss(G3),Bse=_r({},G3,{dataTransfer:0}),_se=Ss(Bse),kse=_r({},h1,{relatedTarget:0}),e6=Ss(kse),Ese=_r({},sf,{animationName:0,elapsedTime:0,pseudoElement:0}),Mse=Ss(Ese),Fse=_r({},sf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tse=Ss(Fse),Dse=_r({},sf,{data:0}),DT=Ss(Dse),Lse={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nse={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jse={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ise(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jse[t])?!!e[t]:!1}function rk(){return Ise}var Ose=_r({},h1,{key:function(t){if(t.key){var e=Lse[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=A4(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nse[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rk,charCode:function(t){return t.type==="keypress"?A4(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?A4(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pse=Ss(Ose),Use=_r({},G3,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LT=Ss(Use),Qse=_r({},h1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rk}),Rse=Ss(Qse),Hse=_r({},sf,{propertyName:0,elapsedTime:0,pseudoElement:0}),zse=Ss(Hse),$se=_r({},G3,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vse=Ss($se),Kse=[9,13,27,32],nk=Ml&&"CompositionEvent"in window,dm=null;Ml&&"documentMode"in document&&(dm=document.documentMode);var qse=Ml&&"TextEvent"in window&&!dm,Z$=Ml&&(!nk||dm&&8<dm&&11>=dm),NT=" ",jT=!1;function eV(t,e){switch(t){case"keyup":return Kse.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var D0=!1;function Wse(t,e){switch(t){case"compositionend":return tV(e);case"keypress":return e.which!==32?null:(jT=!0,NT);case"textInput":return t=e.data,t===NT&&jT?null:t;default:return null}}function Gse(t,e){if(D0)return t==="compositionend"||!nk&&eV(t,e)?(t=J$(),h4=ek=zc=null,D0=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Z$&&e.locale!=="ko"?null:e.data;default:return null}}var Xse={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xse[t.type]:e==="textarea"}function rV(t,e,r,n){L$(n),e=Vx(e,"onChange"),0<e.length&&(r=new tk("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var hm=null,lg=null;function Yse(t){AV(t,0)}function X3(t){var e=j0(t);if(_$(e))return t}function Jse(t,e){if(t==="change")return e}var nV=!1;if(Ml){var t6;if(Ml){var r6="oninput"in document;if(!r6){var OT=document.createElement("div");OT.setAttribute("oninput","return;"),r6=typeof OT.oninput=="function"}t6=r6}else t6=!1;nV=t6&&(!document.documentMode||9<document.documentMode)}function PT(){hm&&(hm.detachEvent("onpropertychange",iV),lg=hm=null)}function iV(t){if(t.propertyName==="value"&&X3(lg)){var e=[];rV(e,lg,t,G_(t)),O$(Yse,e)}}function Zse(t,e,r){t==="focusin"?(PT(),hm=e,lg=r,hm.attachEvent("onpropertychange",iV)):t==="focusout"&&PT()}function eae(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return X3(lg)}function tae(t,e){if(t==="click")return X3(e)}function rae(t,e){if(t==="input"||t==="change")return X3(e)}function nae(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Na=typeof Object.is=="function"?Object.is:nae;function cg(t,e){if(Na(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!LC.call(e,i)||!Na(t[i],e[i]))return!1}return!0}function UT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function QT(t,e){var r=UT(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=UT(r)}}function sV(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sV(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aV(){for(var t=window,e=Px();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Px(t.document)}return e}function ik(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iae(t){var e=aV(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&sV(r.ownerDocument.documentElement,r)){if(n!==null&&ik(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=QT(r,s);var a=QT(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sae=Ml&&"documentMode"in document&&11>=document.documentMode,L0=null,JC=null,Am=null,ZC=!1;function RT(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ZC||L0==null||L0!==Px(n)||(n=L0,"selectionStart"in n&&ik(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Am&&cg(Am,n)||(Am=n,n=Vx(JC,"onSelect"),0<n.length&&(e=new tk("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=L0)))}function ly(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var N0={animationend:ly("Animation","AnimationEnd"),animationiteration:ly("Animation","AnimationIteration"),animationstart:ly("Animation","AnimationStart"),transitionend:ly("Transition","TransitionEnd")},n6={},oV={};Ml&&(oV=document.createElement("div").style,"AnimationEvent"in window||(delete N0.animationend.animation,delete N0.animationiteration.animation,delete N0.animationstart.animation),"TransitionEvent"in window||delete N0.transitionend.transition);function Y3(t){if(n6[t])return n6[t];if(!N0[t])return t;var e=N0[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in oV)return n6[t]=e[r];return t}var lV=Y3("animationend"),cV=Y3("animationiteration"),uV=Y3("animationstart"),dV=Y3("transitionend"),hV=new Map,HT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ju(t,e){hV.set(t,e),_h(e,[t])}for(var i6=0;i6<HT.length;i6++){var s6=HT[i6],aae=s6.toLowerCase(),oae=s6[0].toUpperCase()+s6.slice(1);ju(aae,"on"+oae)}ju(lV,"onAnimationEnd");ju(cV,"onAnimationIteration");ju(uV,"onAnimationStart");ju("dblclick","onDoubleClick");ju("focusin","onFocus");ju("focusout","onBlur");ju(dV,"onTransitionEnd");DA("onMouseEnter",["mouseout","mouseover"]);DA("onMouseLeave",["mouseout","mouseover"]);DA("onPointerEnter",["pointerout","pointerover"]);DA("onPointerLeave",["pointerout","pointerover"]);_h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_h("onBeforeInput",["compositionend","keypress","textInput","paste"]);_h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lae=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pp));function zT(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,ase(n,e,void 0,t),t.currentTarget=null}function AV(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;zT(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;zT(i,o,c),s=l}}}if(Qx)throw t=WC,Qx=!1,WC=null,t}function sr(t,e){var r=e[iS];r===void 0&&(r=e[iS]=new Set);var n=t+"__bubble";r.has(n)||(fV(e,t,2,!1),r.add(n))}function a6(t,e,r){var n=0;e&&(n|=4),fV(r,t,n,e)}var cy="_reactListening"+Math.random().toString(36).slice(2);function ug(t){if(!t[cy]){t[cy]=!0,b$.forEach(function(r){r!=="selectionchange"&&(lae.has(r)||a6(r,!1,t),a6(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cy]||(e[cy]=!0,a6("selectionchange",!1,e))}}function fV(t,e,r,n){switch(Y$(e)){case 1:var i=wse;break;case 4:i=Cse;break;default:i=Z_}r=i.bind(null,e,r,t),i=void 0,!qC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function o6(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Id(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}O$(function(){var c=s,u=G_(r),d=[];e:{var A=hV.get(t);if(A!==void 0){var f=tk,p=t;switch(t){case"keypress":if(A4(r)===0)break e;case"keydown":case"keyup":f=Pse;break;case"focusin":p="focus",f=e6;break;case"focusout":p="blur",f=e6;break;case"beforeblur":case"afterblur":f=e6;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=TT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=_se;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Rse;break;case lV:case cV:case uV:f=Mse;break;case dV:f=zse;break;case"scroll":f=Sse;break;case"wheel":f=Vse;break;case"copy":case"cut":case"paste":f=Tse;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=LT}var m=(e&4)!==0,y=!m&&t==="scroll",g=m?A!==null?A+"Capture":null:A;m=[];for(var v=c,x;v!==null;){x=v;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,g!==null&&(b=ig(v,g),b!=null&&m.push(dg(v,b,x)))),y)break;v=v.return}0<m.length&&(A=new f(A,p,null,r,u),d.push({event:A,listeners:m}))}}if(!(e&7)){e:{if(A=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",A&&r!==VC&&(p=r.relatedTarget||r.fromElement)&&(Id(p)||p[Fl]))break e;if((f||A)&&(A=u.window===u?u:(A=u.ownerDocument)?A.defaultView||A.parentWindow:window,f?(p=r.relatedTarget||r.toElement,f=c,p=p?Id(p):null,p!==null&&(y=kh(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(m=TT,b="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=LT,b="onPointerLeave",g="onPointerEnter",v="pointer"),y=f==null?A:j0(f),x=p==null?A:j0(p),A=new m(b,v+"leave",f,r,u),A.target=y,A.relatedTarget=x,b=null,Id(u)===c&&(m=new m(g,v+"enter",p,r,u),m.target=x,m.relatedTarget=y,b=m),y=b,f&&p)t:{for(m=f,g=p,v=0,x=m;x;x=Rh(x))v++;for(x=0,b=g;b;b=Rh(b))x++;for(;0<v-x;)m=Rh(m),v--;for(;0<x-v;)g=Rh(g),x--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=Rh(m),g=Rh(g)}m=null}else m=null;f!==null&&$T(d,A,f,m,!1),p!==null&&y!==null&&$T(d,y,p,m,!0)}}e:{if(A=c?j0(c):window,f=A.nodeName&&A.nodeName.toLowerCase(),f==="select"||f==="input"&&A.type==="file")var w=Jse;else if(IT(A))if(nV)w=rae;else{w=eae;var C=Zse}else(f=A.nodeName)&&f.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(w=tae);if(w&&(w=w(t,c))){rV(d,w,r,u);break e}C&&C(t,A,c),t==="focusout"&&(C=A._wrapperState)&&C.controlled&&A.type==="number"&&QC(A,"number",A.value)}switch(C=c?j0(c):window,t){case"focusin":(IT(C)||C.contentEditable==="true")&&(L0=C,JC=c,Am=null);break;case"focusout":Am=JC=L0=null;break;case"mousedown":ZC=!0;break;case"contextmenu":case"mouseup":case"dragend":ZC=!1,RT(d,r,u);break;case"selectionchange":if(sae)break;case"keydown":case"keyup":RT(d,r,u)}var S;if(nk)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else D0?eV(t,r)&&(B="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(B="onCompositionStart");B&&(Z$&&r.locale!=="ko"&&(D0||B!=="onCompositionStart"?B==="onCompositionEnd"&&D0&&(S=J$()):(zc=u,ek="value"in zc?zc.value:zc.textContent,D0=!0)),C=Vx(c,B),0<C.length&&(B=new DT(B,t,null,r,u),d.push({event:B,listeners:C}),S?B.data=S:(S=tV(r),S!==null&&(B.data=S)))),(S=qse?Wse(t,r):Gse(t,r))&&(c=Vx(c,"onBeforeInput"),0<c.length&&(u=new DT("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=S))}AV(d,e)})}function dg(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Vx(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ig(t,r),s!=null&&n.unshift(dg(t,s,i)),s=ig(t,e),s!=null&&n.push(dg(t,s,i))),t=t.return}return n}function Rh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $T(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=ig(r,s),l!=null&&a.unshift(dg(r,l,o))):i||(l=ig(r,s),l!=null&&a.push(dg(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var cae=/\r\n?/g,uae=/\u0000|\uFFFD/g;function VT(t){return(typeof t=="string"?t:""+t).replace(cae,`
`).replace(uae,"")}function uy(t,e,r){if(e=VT(e),VT(t)!==e&&r)throw Error(we(425))}function Kx(){}var eS=null,tS=null;function rS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var nS=typeof setTimeout=="function"?setTimeout:void 0,dae=typeof clearTimeout=="function"?clearTimeout:void 0,KT=typeof Promise=="function"?Promise:void 0,hae=typeof queueMicrotask=="function"?queueMicrotask:typeof KT<"u"?function(t){return KT.resolve(null).then(t).catch(Aae)}:nS;function Aae(t){setTimeout(function(){throw t})}function l6(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),og(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);og(e)}function iu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var af=Math.random().toString(36).slice(2),lo="__reactFiber$"+af,hg="__reactProps$"+af,Fl="__reactContainer$"+af,iS="__reactEvents$"+af,fae="__reactListeners$"+af,pae="__reactHandles$"+af;function Id(t){var e=t[lo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Fl]||r[lo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=qT(t);t!==null;){if(r=t[lo])return r;t=qT(t)}return e}t=r,r=t.parentNode}return null}function A1(t){return t=t[lo]||t[Fl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function j0(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(we(33))}function J3(t){return t[hg]||null}var sS=[],I0=-1;function Iu(t){return{current:t}}function ar(t){0>I0||(t.current=sS[I0],sS[I0]=null,I0--)}function nr(t,e){I0++,sS[I0]=t.current,t.current=e}var pu={},ei=Iu(pu),Ii=Iu(!1),lh=pu;function LA(t,e){var r=t.type.contextTypes;if(!r)return pu;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Oi(t){return t=t.childContextTypes,t!=null}function qx(){ar(Ii),ar(ei)}function WT(t,e,r){if(ei.current!==pu)throw Error(we(168));nr(ei,e),nr(Ii,r)}function pV(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(we(108,Zie(t)||"Unknown",i));return _r({},r,n)}function Wx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pu,lh=ei.current,nr(ei,t),nr(Ii,Ii.current),!0}function GT(t,e,r){var n=t.stateNode;if(!n)throw Error(we(169));r?(t=pV(t,e,lh),n.__reactInternalMemoizedMergedChildContext=t,ar(Ii),ar(ei),nr(ei,t)):ar(Ii),nr(Ii,r)}var al=null,Z3=!1,c6=!1;function mV(t){al===null?al=[t]:al.push(t)}function mae(t){Z3=!0,mV(t)}function Ou(){if(!c6&&al!==null){c6=!0;var t=0,e=Kt;try{var r=al;for(Kt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}al=null,Z3=!1}catch(i){throw al!==null&&(al=al.slice(t+1)),R$(X_,Ou),i}finally{Kt=e,c6=!1}}return null}var O0=[],P0=0,Gx=null,Xx=0,Us=[],Qs=0,ch=null,hl=1,Al="";function gd(t,e){O0[P0++]=Xx,O0[P0++]=Gx,Gx=t,Xx=e}function gV(t,e,r){Us[Qs++]=hl,Us[Qs++]=Al,Us[Qs++]=ch,ch=t;var n=hl;t=Al;var i=32-ka(n)-1;n&=~(1<<i),r+=1;var s=32-ka(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,hl=1<<32-ka(e)+i|r<<i|n,Al=s+t}else hl=1<<s|r<<i|n,Al=t}function sk(t){t.return!==null&&(gd(t,1),gV(t,1,0))}function ak(t){for(;t===Gx;)Gx=O0[--P0],O0[P0]=null,Xx=O0[--P0],O0[P0]=null;for(;t===ch;)ch=Us[--Qs],Us[Qs]=null,Al=Us[--Qs],Us[Qs]=null,hl=Us[--Qs],Us[Qs]=null}var ps=null,As=null,fr=!1,xa=null;function yV(t,e){var r=$s(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function XT(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ps=t,As=iu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ps=t,As=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ch!==null?{id:hl,overflow:Al}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=$s(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ps=t,As=null,!0):!1;default:return!1}}function aS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function oS(t){if(fr){var e=As;if(e){var r=e;if(!XT(t,e)){if(aS(t))throw Error(we(418));e=iu(r.nextSibling);var n=ps;e&&XT(t,e)?yV(n,r):(t.flags=t.flags&-4097|2,fr=!1,ps=t)}}else{if(aS(t))throw Error(we(418));t.flags=t.flags&-4097|2,fr=!1,ps=t}}}function YT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ps=t}function dy(t){if(t!==ps)return!1;if(!fr)return YT(t),fr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rS(t.type,t.memoizedProps)),e&&(e=As)){if(aS(t))throw vV(),Error(we(418));for(;e;)yV(t,e),e=iu(e.nextSibling)}if(YT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(we(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){As=iu(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}As=null}}else As=ps?iu(t.stateNode.nextSibling):null;return!0}function vV(){for(var t=As;t;)t=iu(t.nextSibling)}function NA(){As=ps=null,fr=!1}function ok(t){xa===null?xa=[t]:xa.push(t)}var gae=$l.ReactCurrentBatchConfig;function Pf(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(we(309));var n=r.stateNode}if(!n)throw Error(we(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(we(284));if(!r._owner)throw Error(we(290,t))}return t}function hy(t,e){throw t=Object.prototype.toString.call(e),Error(we(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function JT(t){var e=t._init;return e(t._payload)}function xV(t){function e(g,v){if(t){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function r(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=lu(g,v),g.index=0,g.sibling=null,g}function s(g,v,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=2,v):x):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,v,x,b){return v===null||v.tag!==6?(v=m6(x,g.mode,b),v.return=g,v):(v=i(v,x),v.return=g,v)}function l(g,v,x,b){var w=x.type;return w===T0?u(g,v,x.props.children,b,x.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Dc&&JT(w)===v.type)?(b=i(v,x.props),b.ref=Pf(g,v,x),b.return=g,b):(b=x4(x.type,x.key,x.props,null,g.mode,b),b.ref=Pf(g,v,x),b.return=g,b)}function c(g,v,x,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=g6(x,g.mode,b),v.return=g,v):(v=i(v,x.children||[]),v.return=g,v)}function u(g,v,x,b,w){return v===null||v.tag!==7?(v=Gd(x,g.mode,b,w),v.return=g,v):(v=i(v,x),v.return=g,v)}function d(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=m6(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ty:return x=x4(v.type,v.key,v.props,null,g.mode,x),x.ref=Pf(g,null,v),x.return=g,x;case F0:return v=g6(v,g.mode,x),v.return=g,v;case Dc:var b=v._init;return d(g,b(v._payload),x)}if(Ip(v)||Lf(v))return v=Gd(v,g.mode,x,null),v.return=g,v;hy(g,v)}return null}function A(g,v,x,b){var w=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:o(g,v,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ty:return x.key===w?l(g,v,x,b):null;case F0:return x.key===w?c(g,v,x,b):null;case Dc:return w=x._init,A(g,v,w(x._payload),b)}if(Ip(x)||Lf(x))return w!==null?null:u(g,v,x,b,null);hy(g,x)}return null}function f(g,v,x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(x)||null,o(v,g,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ty:return g=g.get(b.key===null?x:b.key)||null,l(v,g,b,w);case F0:return g=g.get(b.key===null?x:b.key)||null,c(v,g,b,w);case Dc:var C=b._init;return f(g,v,x,C(b._payload),w)}if(Ip(b)||Lf(b))return g=g.get(x)||null,u(v,g,b,w,null);hy(v,b)}return null}function p(g,v,x,b){for(var w=null,C=null,S=v,B=v=0,E=null;S!==null&&B<x.length;B++){S.index>B?(E=S,S=null):E=S.sibling;var M=A(g,S,x[B],b);if(M===null){S===null&&(S=E);break}t&&S&&M.alternate===null&&e(g,S),v=s(M,v,B),C===null?w=M:C.sibling=M,C=M,S=E}if(B===x.length)return r(g,S),fr&&gd(g,B),w;if(S===null){for(;B<x.length;B++)S=d(g,x[B],b),S!==null&&(v=s(S,v,B),C===null?w=S:C.sibling=S,C=S);return fr&&gd(g,B),w}for(S=n(g,S);B<x.length;B++)E=f(S,g,B,x[B],b),E!==null&&(t&&E.alternate!==null&&S.delete(E.key===null?B:E.key),v=s(E,v,B),C===null?w=E:C.sibling=E,C=E);return t&&S.forEach(function(D){return e(g,D)}),fr&&gd(g,B),w}function m(g,v,x,b){var w=Lf(x);if(typeof w!="function")throw Error(we(150));if(x=w.call(x),x==null)throw Error(we(151));for(var C=w=null,S=v,B=v=0,E=null,M=x.next();S!==null&&!M.done;B++,M=x.next()){S.index>B?(E=S,S=null):E=S.sibling;var D=A(g,S,M.value,b);if(D===null){S===null&&(S=E);break}t&&S&&D.alternate===null&&e(g,S),v=s(D,v,B),C===null?w=D:C.sibling=D,C=D,S=E}if(M.done)return r(g,S),fr&&gd(g,B),w;if(S===null){for(;!M.done;B++,M=x.next())M=d(g,M.value,b),M!==null&&(v=s(M,v,B),C===null?w=M:C.sibling=M,C=M);return fr&&gd(g,B),w}for(S=n(g,S);!M.done;B++,M=x.next())M=f(S,g,B,M.value,b),M!==null&&(t&&M.alternate!==null&&S.delete(M.key===null?B:M.key),v=s(M,v,B),C===null?w=M:C.sibling=M,C=M);return t&&S.forEach(function(L){return e(g,L)}),fr&&gd(g,B),w}function y(g,v,x,b){if(typeof x=="object"&&x!==null&&x.type===T0&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ty:e:{for(var w=x.key,C=v;C!==null;){if(C.key===w){if(w=x.type,w===T0){if(C.tag===7){r(g,C.sibling),v=i(C,x.props.children),v.return=g,g=v;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Dc&&JT(w)===C.type){r(g,C.sibling),v=i(C,x.props),v.ref=Pf(g,C,x),v.return=g,g=v;break e}r(g,C);break}else e(g,C);C=C.sibling}x.type===T0?(v=Gd(x.props.children,g.mode,b,x.key),v.return=g,g=v):(b=x4(x.type,x.key,x.props,null,g.mode,b),b.ref=Pf(g,v,x),b.return=g,g=b)}return a(g);case F0:e:{for(C=x.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(g,v.sibling),v=i(v,x.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else e(g,v);v=v.sibling}v=g6(x,g.mode,b),v.return=g,g=v}return a(g);case Dc:return C=x._init,y(g,v,C(x._payload),b)}if(Ip(x))return p(g,v,x,b);if(Lf(x))return m(g,v,x,b);hy(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,x),v.return=g,g=v):(r(g,v),v=m6(x,g.mode,b),v.return=g,g=v),a(g)):r(g,v)}return y}var jA=xV(!0),bV=xV(!1),Yx=Iu(null),Jx=null,U0=null,lk=null;function ck(){lk=U0=Jx=null}function uk(t){var e=Yx.current;ar(Yx),t._currentValue=e}function lS(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function hA(t,e){Jx=t,lk=U0=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ji=!0),t.firstContext=null)}function Js(t){var e=t._currentValue;if(lk!==t)if(t={context:t,memoizedValue:e,next:null},U0===null){if(Jx===null)throw Error(we(308));U0=t,Jx.dependencies={lanes:0,firstContext:t}}else U0=U0.next=t;return e}var Od=null;function dk(t){Od===null?Od=[t]:Od.push(t)}function wV(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,dk(e)):(r.next=i.next,i.next=r),e.interleaved=r,Tl(t,n)}function Tl(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Lc=!1;function hk(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CV(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function su(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Et&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Tl(t,r)}return i=n.interleaved,i===null?(e.next=e,dk(n)):(e.next=i.next,i.next=e),n.interleaved=e,Tl(t,r)}function f4(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Y_(t,r)}}function ZT(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Zx(t,e,r,n){var i=t.updateQueue;Lc=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,u=c=l=null,o=s;do{var A=o.lane,f=o.eventTime;if((n&A)===A){u!==null&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,m=o;switch(A=e,f=r,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(f,d,A);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,A=typeof p=="function"?p.call(f,d,A):p,A==null)break e;d=_r({},d,A);break e;case 2:Lc=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,A=i.effects,A===null?i.effects=[o]:A.push(o))}else f={eventTime:f,lane:A,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,a|=A;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;A=o,o=A.next,A.next=null,i.lastBaseUpdate=A,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);dh|=a,t.lanes=a,t.memoizedState=d}}function eD(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(we(191,i));i.call(n)}}}var f1={},wo=Iu(f1),Ag=Iu(f1),fg=Iu(f1);function Pd(t){if(t===f1)throw Error(we(174));return t}function Ak(t,e){switch(nr(fg,e),nr(Ag,t),nr(wo,f1),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:HC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=HC(e,t)}ar(wo),nr(wo,e)}function IA(){ar(wo),ar(Ag),ar(fg)}function SV(t){Pd(fg.current);var e=Pd(wo.current),r=HC(e,t.type);e!==r&&(nr(Ag,t),nr(wo,r))}function fk(t){Ag.current===t&&(ar(wo),ar(Ag))}var br=Iu(0);function eb(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var u6=[];function pk(){for(var t=0;t<u6.length;t++)u6[t]._workInProgressVersionPrimary=null;u6.length=0}var p4=$l.ReactCurrentDispatcher,d6=$l.ReactCurrentBatchConfig,uh=0,Br=null,sn=null,gn=null,tb=!1,fm=!1,pg=0,yae=0;function On(){throw Error(we(321))}function mk(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Na(t[r],e[r]))return!1;return!0}function gk(t,e,r,n,i,s){if(uh=s,Br=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,p4.current=t===null||t.memoizedState===null?wae:Cae,t=r(n,i),fm){s=0;do{if(fm=!1,pg=0,25<=s)throw Error(we(301));s+=1,gn=sn=null,e.updateQueue=null,p4.current=Sae,t=r(n,i)}while(fm)}if(p4.current=rb,e=sn!==null&&sn.next!==null,uh=0,gn=sn=Br=null,tb=!1,e)throw Error(we(300));return t}function yk(){var t=pg!==0;return pg=0,t}function Za(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Br.memoizedState=gn=t:gn=gn.next=t,gn}function Zs(){if(sn===null){var t=Br.alternate;t=t!==null?t.memoizedState:null}else t=sn.next;var e=gn===null?Br.memoizedState:gn.next;if(e!==null)gn=e,sn=t;else{if(t===null)throw Error(we(310));sn=t,t={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},gn===null?Br.memoizedState=gn=t:gn=gn.next=t}return gn}function mg(t,e){return typeof e=="function"?e(t):e}function h6(t){var e=Zs(),r=e.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=t;var n=sn,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((uh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=n):l=l.next=d,Br.lanes|=u,dh|=u}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,Na(n,e.memoizedState)||(ji=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Br.lanes|=s,dh|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function A6(t){var e=Zs(),r=e.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Na(s,e.memoizedState)||(ji=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function BV(){}function _V(t,e){var r=Br,n=Zs(),i=e(),s=!Na(n.memoizedState,i);if(s&&(n.memoizedState=i,ji=!0),n=n.queue,vk(MV.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||gn!==null&&gn.memoizedState.tag&1){if(r.flags|=2048,gg(9,EV.bind(null,r,n,i,e),void 0,null),vn===null)throw Error(we(349));uh&30||kV(r,e,i)}return i}function kV(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Br.updateQueue,e===null?(e={lastEffect:null,stores:null},Br.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function EV(t,e,r,n){e.value=r,e.getSnapshot=n,FV(e)&&TV(t)}function MV(t,e,r){return r(function(){FV(e)&&TV(t)})}function FV(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Na(t,r)}catch{return!0}}function TV(t){var e=Tl(t,1);e!==null&&Ea(e,t,1,-1)}function tD(t){var e=Za();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mg,lastRenderedState:t},e.queue=t,t=t.dispatch=bae.bind(null,Br,t),[e.memoizedState,t]}function gg(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Br.updateQueue,e===null?(e={lastEffect:null,stores:null},Br.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function DV(){return Zs().memoizedState}function m4(t,e,r,n){var i=Za();Br.flags|=t,i.memoizedState=gg(1|e,r,void 0,n===void 0?null:n)}function ew(t,e,r,n){var i=Zs();n=n===void 0?null:n;var s=void 0;if(sn!==null){var a=sn.memoizedState;if(s=a.destroy,n!==null&&mk(n,a.deps)){i.memoizedState=gg(e,r,s,n);return}}Br.flags|=t,i.memoizedState=gg(1|e,r,s,n)}function rD(t,e){return m4(8390656,8,t,e)}function vk(t,e){return ew(2048,8,t,e)}function LV(t,e){return ew(4,2,t,e)}function NV(t,e){return ew(4,4,t,e)}function jV(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IV(t,e,r){return r=r!=null?r.concat([t]):null,ew(4,4,jV.bind(null,e,t),r)}function xk(){}function OV(t,e){var r=Zs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&mk(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function PV(t,e){var r=Zs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&mk(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function UV(t,e,r){return uh&21?(Na(r,e)||(r=$$(),Br.lanes|=r,dh|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ji=!0),t.memoizedState=r)}function vae(t,e){var r=Kt;Kt=r!==0&&4>r?r:4,t(!0);var n=d6.transition;d6.transition={};try{t(!1),e()}finally{Kt=r,d6.transition=n}}function QV(){return Zs().memoizedState}function xae(t,e,r){var n=ou(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},RV(t))HV(e,r);else if(r=wV(t,e,r,n),r!==null){var i=mi();Ea(r,t,n,i),zV(r,e,n)}}function bae(t,e,r){var n=ou(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(RV(t))HV(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Na(o,a)){var l=e.interleaved;l===null?(i.next=i,dk(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=wV(t,e,i,n),r!==null&&(i=mi(),Ea(r,t,n,i),zV(r,e,n))}}function RV(t){var e=t.alternate;return t===Br||e!==null&&e===Br}function HV(t,e){fm=tb=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function zV(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Y_(t,r)}}var rb={readContext:Js,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},wae={readContext:Js,useCallback:function(t,e){return Za().memoizedState=[t,e===void 0?null:e],t},useContext:Js,useEffect:rD,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,m4(4194308,4,jV.bind(null,e,t),r)},useLayoutEffect:function(t,e){return m4(4194308,4,t,e)},useInsertionEffect:function(t,e){return m4(4,2,t,e)},useMemo:function(t,e){var r=Za();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Za();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=xae.bind(null,Br,t),[n.memoizedState,t]},useRef:function(t){var e=Za();return t={current:t},e.memoizedState=t},useState:tD,useDebugValue:xk,useDeferredValue:function(t){return Za().memoizedState=t},useTransition:function(){var t=tD(!1),e=t[0];return t=vae.bind(null,t[1]),Za().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Br,i=Za();if(fr){if(r===void 0)throw Error(we(407));r=r()}else{if(r=e(),vn===null)throw Error(we(349));uh&30||kV(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,rD(MV.bind(null,n,s,t),[t]),n.flags|=2048,gg(9,EV.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Za(),e=vn.identifierPrefix;if(fr){var r=Al,n=hl;r=(n&~(1<<32-ka(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=pg++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=yae++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Cae={readContext:Js,useCallback:OV,useContext:Js,useEffect:vk,useImperativeHandle:IV,useInsertionEffect:LV,useLayoutEffect:NV,useMemo:PV,useReducer:h6,useRef:DV,useState:function(){return h6(mg)},useDebugValue:xk,useDeferredValue:function(t){var e=Zs();return UV(e,sn.memoizedState,t)},useTransition:function(){var t=h6(mg)[0],e=Zs().memoizedState;return[t,e]},useMutableSource:BV,useSyncExternalStore:_V,useId:QV,unstable_isNewReconciler:!1},Sae={readContext:Js,useCallback:OV,useContext:Js,useEffect:vk,useImperativeHandle:IV,useInsertionEffect:LV,useLayoutEffect:NV,useMemo:PV,useReducer:A6,useRef:DV,useState:function(){return A6(mg)},useDebugValue:xk,useDeferredValue:function(t){var e=Zs();return sn===null?e.memoizedState=t:UV(e,sn.memoizedState,t)},useTransition:function(){var t=A6(mg)[0],e=Zs().memoizedState;return[t,e]},useMutableSource:BV,useSyncExternalStore:_V,useId:QV,unstable_isNewReconciler:!1};function pa(t,e){if(t&&t.defaultProps){e=_r({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function cS(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:_r({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var tw={isMounted:function(t){return(t=t._reactInternals)?kh(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=mi(),i=ou(t),s=vl(n,i);s.payload=e,r!=null&&(s.callback=r),e=su(t,s,i),e!==null&&(Ea(e,t,i,n),f4(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=mi(),i=ou(t),s=vl(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=su(t,s,i),e!==null&&(Ea(e,t,i,n),f4(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=mi(),n=ou(t),i=vl(r,n);i.tag=2,e!=null&&(i.callback=e),e=su(t,i,n),e!==null&&(Ea(e,t,n,r),f4(e,t,n))}};function nD(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!cg(r,n)||!cg(i,s):!0}function $V(t,e,r){var n=!1,i=pu,s=e.contextType;return typeof s=="object"&&s!==null?s=Js(s):(i=Oi(e)?lh:ei.current,n=e.contextTypes,s=(n=n!=null)?LA(t,i):pu),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tw,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function iD(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&tw.enqueueReplaceState(e,e.state,null)}function uS(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},hk(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Js(s):(s=Oi(e)?lh:ei.current,i.context=LA(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(cS(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&tw.enqueueReplaceState(i,i.state,null),Zx(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function OA(t,e){try{var r="",n=e;do r+=Jie(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function f6(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function dS(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Bae=typeof WeakMap=="function"?WeakMap:Map;function VV(t,e,r){r=vl(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ib||(ib=!0,bS=n),dS(t,e)},r}function KV(t,e,r){r=vl(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){dS(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){dS(t,e),typeof n!="function"&&(au===null?au=new Set([this]):au.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function sD(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Bae;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Uae.bind(null,t,e,r),e.then(t,t))}function aD(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function oD(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=vl(-1,1),e.tag=2,su(r,e,1))),r.lanes|=1),t)}var _ae=$l.ReactCurrentOwner,ji=!1;function ci(t,e,r,n){e.child=t===null?bV(e,null,r,n):jA(e,t.child,r,n)}function lD(t,e,r,n,i){r=r.render;var s=e.ref;return hA(e,i),n=gk(t,e,r,n,s,i),r=yk(),t!==null&&!ji?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dl(t,e,i)):(fr&&r&&sk(e),e.flags|=1,ci(t,e,n,i),e.child)}function cD(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Ek(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,qV(t,e,s,n,i)):(t=x4(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:cg,r(a,n)&&t.ref===e.ref)return Dl(t,e,i)}return e.flags|=1,t=lu(s,n),t.ref=e.ref,t.return=e,e.child=t}function qV(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(cg(s,n)&&t.ref===e.ref)if(ji=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(ji=!0);else return e.lanes=t.lanes,Dl(t,e,i)}return hS(t,e,r,n,i)}function WV(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nr(R0,os),os|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nr(R0,os),os|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,nr(R0,os),os|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,nr(R0,os),os|=n;return ci(t,e,i,r),e.child}function GV(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function hS(t,e,r,n,i){var s=Oi(r)?lh:ei.current;return s=LA(e,s),hA(e,i),r=gk(t,e,r,n,s,i),n=yk(),t!==null&&!ji?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dl(t,e,i)):(fr&&n&&sk(e),e.flags|=1,ci(t,e,r,i),e.child)}function uD(t,e,r,n,i){if(Oi(r)){var s=!0;Wx(e)}else s=!1;if(hA(e,i),e.stateNode===null)g4(t,e),$V(e,r,n),uS(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Js(c):(c=Oi(r)?lh:ei.current,c=LA(e,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&iD(e,a,n,c),Lc=!1;var A=e.memoizedState;a.state=A,Zx(e,n,a,i),l=e.memoizedState,o!==n||A!==l||Ii.current||Lc?(typeof u=="function"&&(cS(e,r,u,n),l=e.memoizedState),(o=Lc||nD(e,r,o,n,A,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,CV(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:pa(e.type,o),a.props=c,d=e.pendingProps,A=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Js(l):(l=Oi(r)?lh:ei.current,l=LA(e,l));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||A!==l)&&iD(e,a,n,l),Lc=!1,A=e.memoizedState,a.state=A,Zx(e,n,a,i);var p=e.memoizedState;o!==d||A!==p||Ii.current||Lc?(typeof f=="function"&&(cS(e,r,f,n),p=e.memoizedState),(c=Lc||nD(e,r,c,n,A,p,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&A===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&A===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),a.props=n,a.state=p,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&A===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&A===t.memoizedState||(e.flags|=1024),n=!1)}return AS(t,e,r,n,s,i)}function AS(t,e,r,n,i,s){GV(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&GT(e,r,!1),Dl(t,e,s);n=e.stateNode,_ae.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=jA(e,t.child,null,s),e.child=jA(e,null,o,s)):ci(t,e,o,s),e.memoizedState=n.state,i&&GT(e,r,!0),e.child}function XV(t){var e=t.stateNode;e.pendingContext?WT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&WT(t,e.context,!1),Ak(t,e.containerInfo)}function dD(t,e,r,n,i){return NA(),ok(i),e.flags|=256,ci(t,e,r,n),e.child}var fS={dehydrated:null,treeContext:null,retryLane:0};function pS(t){return{baseLanes:t,cachePool:null,transitions:null}}function YV(t,e,r){var n=e.pendingProps,i=br.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nr(br,i&1),t===null)return oS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=iw(a,n,0,null),t=Gd(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=pS(r),e.memoizedState=fS,t):bk(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return kae(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=lu(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=lu(o,s):(s=Gd(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?pS(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=fS,n}return s=t.child,t=s.sibling,n=lu(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function bk(t,e){return e=iw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ay(t,e,r,n){return n!==null&&ok(n),jA(e,t.child,null,r),t=bk(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kae(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=f6(Error(we(422))),Ay(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=iw({mode:"visible",children:n.children},i,0,null),s=Gd(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&jA(e,t.child,null,a),e.child.memoizedState=pS(a),e.memoizedState=fS,s);if(!(e.mode&1))return Ay(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(we(419)),n=f6(s,n,void 0),Ay(t,e,a,n)}if(o=(a&t.childLanes)!==0,ji||o){if(n=vn,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Tl(t,i),Ea(n,t,i,-1))}return kk(),n=f6(Error(we(421))),Ay(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Qae.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,As=iu(i.nextSibling),ps=e,fr=!0,xa=null,t!==null&&(Us[Qs++]=hl,Us[Qs++]=Al,Us[Qs++]=ch,hl=t.id,Al=t.overflow,ch=e),e=bk(e,n.children),e.flags|=4096,e)}function hD(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),lS(t.return,e,r)}function p6(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function JV(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(ci(t,e,n.children,r),n=br.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hD(t,r,e);else if(t.tag===19)hD(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(nr(br,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&eb(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),p6(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&eb(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}p6(e,!0,r,null,s);break;case"together":p6(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function g4(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dl(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),dh|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(we(153));if(e.child!==null){for(t=e.child,r=lu(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=lu(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Eae(t,e,r){switch(e.tag){case 3:XV(e),NA();break;case 5:SV(e);break;case 1:Oi(e.type)&&Wx(e);break;case 4:Ak(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;nr(Yx,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(nr(br,br.current&1),e.flags|=128,null):r&e.child.childLanes?YV(t,e,r):(nr(br,br.current&1),t=Dl(t,e,r),t!==null?t.sibling:null);nr(br,br.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return JV(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nr(br,br.current),n)break;return null;case 22:case 23:return e.lanes=0,WV(t,e,r)}return Dl(t,e,r)}var ZV,mS,eK,tK;ZV=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};mS=function(){};eK=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Pd(wo.current);var s=null;switch(r){case"input":i=PC(t,i),n=PC(t,n),s=[];break;case"select":i=_r({},i,{value:void 0}),n=_r({},n,{value:void 0}),s=[];break;case"textarea":i=RC(t,i),n=RC(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Kx)}zC(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(rg.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(rg.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&sr("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};tK=function(t,e,r,n){r!==n&&(e.flags|=4)};function Uf(t,e){if(!fr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Pn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Mae(t,e,r){var n=e.pendingProps;switch(ak(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(e),null;case 1:return Oi(e.type)&&qx(),Pn(e),null;case 3:return n=e.stateNode,IA(),ar(Ii),ar(ei),pk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(dy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xa!==null&&(SS(xa),xa=null))),mS(t,e),Pn(e),null;case 5:fk(e);var i=Pd(fg.current);if(r=e.type,t!==null&&e.stateNode!=null)eK(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(we(166));return Pn(e),null}if(t=Pd(wo.current),dy(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[lo]=e,n[hg]=s,t=(e.mode&1)!==0,r){case"dialog":sr("cancel",n),sr("close",n);break;case"iframe":case"object":case"embed":sr("load",n);break;case"video":case"audio":for(i=0;i<Pp.length;i++)sr(Pp[i],n);break;case"source":sr("error",n);break;case"img":case"image":case"link":sr("error",n),sr("load",n);break;case"details":sr("toggle",n);break;case"input":bT(n,s),sr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},sr("invalid",n);break;case"textarea":CT(n,s),sr("invalid",n)}zC(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&uy(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&uy(n.textContent,o,t),i=["children",""+o]):rg.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&sr("scroll",n)}switch(r){case"input":ry(n),wT(n,s,!0);break;case"textarea":ry(n),ST(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Kx)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=M$(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[lo]=e,t[hg]=n,ZV(t,e,!1,!1),e.stateNode=t;e:{switch(a=$C(r,n),r){case"dialog":sr("cancel",t),sr("close",t),i=n;break;case"iframe":case"object":case"embed":sr("load",t),i=n;break;case"video":case"audio":for(i=0;i<Pp.length;i++)sr(Pp[i],t);i=n;break;case"source":sr("error",t),i=n;break;case"img":case"image":case"link":sr("error",t),sr("load",t),i=n;break;case"details":sr("toggle",t),i=n;break;case"input":bT(t,n),i=PC(t,n),sr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=_r({},n,{value:void 0}),sr("invalid",t);break;case"textarea":CT(t,n),i=RC(t,n),sr("invalid",t);break;default:i=n}zC(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?D$(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&F$(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ng(t,l):typeof l=="number"&&ng(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(rg.hasOwnProperty(s)?l!=null&&s==="onScroll"&&sr("scroll",t):l!=null&&V_(t,s,l,a))}switch(r){case"input":ry(t),wT(t,n,!1);break;case"textarea":ry(t),ST(t);break;case"option":n.value!=null&&t.setAttribute("value",""+fu(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?lA(t,!!n.multiple,s,!1):n.defaultValue!=null&&lA(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Kx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pn(e),null;case 6:if(t&&e.stateNode!=null)tK(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(we(166));if(r=Pd(fg.current),Pd(wo.current),dy(e)){if(n=e.stateNode,r=e.memoizedProps,n[lo]=e,(s=n.nodeValue!==r)&&(t=ps,t!==null))switch(t.tag){case 3:uy(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&uy(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[lo]=e,e.stateNode=n}return Pn(e),null;case 13:if(ar(br),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(fr&&As!==null&&e.mode&1&&!(e.flags&128))vV(),NA(),e.flags|=98560,s=!1;else if(s=dy(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(we(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(we(317));s[lo]=e}else NA(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pn(e),s=!1}else xa!==null&&(SS(xa),xa=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||br.current&1?ln===0&&(ln=3):kk())),e.updateQueue!==null&&(e.flags|=4),Pn(e),null);case 4:return IA(),mS(t,e),t===null&&ug(e.stateNode.containerInfo),Pn(e),null;case 10:return uk(e.type._context),Pn(e),null;case 17:return Oi(e.type)&&qx(),Pn(e),null;case 19:if(ar(br),s=e.memoizedState,s===null)return Pn(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Uf(s,!1);else{if(ln!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=eb(t),a!==null){for(e.flags|=128,Uf(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return nr(br,br.current&1|2),e.child}t=t.sibling}s.tail!==null&&Qr()>PA&&(e.flags|=128,n=!0,Uf(s,!1),e.lanes=4194304)}else{if(!n)if(t=eb(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Uf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!fr)return Pn(e),null}else 2*Qr()-s.renderingStartTime>PA&&r!==1073741824&&(e.flags|=128,n=!0,Uf(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Qr(),e.sibling=null,r=br.current,nr(br,n?r&1|2:r&1),e):(Pn(e),null);case 22:case 23:return _k(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?os&1073741824&&(Pn(e),e.subtreeFlags&6&&(e.flags|=8192)):Pn(e),null;case 24:return null;case 25:return null}throw Error(we(156,e.tag))}function Fae(t,e){switch(ak(e),e.tag){case 1:return Oi(e.type)&&qx(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return IA(),ar(Ii),ar(ei),pk(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fk(e),null;case 13:if(ar(br),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(we(340));NA()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ar(br),null;case 4:return IA(),null;case 10:return uk(e.type._context),null;case 22:case 23:return _k(),null;case 24:return null;default:return null}}var fy=!1,Gn=!1,Tae=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Q0(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Tr(t,e,n)}else r.current=null}function gS(t,e,r){try{r()}catch(n){Tr(t,e,n)}}var AD=!1;function Dae(t,e){if(eS=zx,t=aV(),ik(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=t,A=null;t:for(;;){for(var f;d!==r||i!==0&&d.nodeType!==3||(o=a+i),d!==s||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(f=d.firstChild)!==null;)A=d,d=f;for(;;){if(d===t)break t;if(A===r&&++c===i&&(o=a),A===s&&++u===n&&(l=a),(f=d.nextSibling)!==null)break;d=A,A=d.parentNode}d=f}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(tS={focusedElem:t,selectionRange:r},zx=!1,Qe=e;Qe!==null;)if(e=Qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Qe=t;else for(;Qe!==null;){e=Qe;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:pa(e.type,m),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(b){Tr(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Qe=t;break}Qe=e.return}return p=AD,AD=!1,p}function pm(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&gS(e,r,s)}i=i.next}while(i!==n)}}function rw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function yS(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function rK(t){var e=t.alternate;e!==null&&(t.alternate=null,rK(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lo],delete e[hg],delete e[iS],delete e[fae],delete e[pae])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nK(t){return t.tag===5||t.tag===3||t.tag===4}function fD(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nK(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Kx));else if(n!==4&&(t=t.child,t!==null))for(vS(t,e,r),t=t.sibling;t!==null;)vS(t,e,r),t=t.sibling}function xS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(xS(t,e,r),t=t.sibling;t!==null;)xS(t,e,r),t=t.sibling}var _n=null,ma=!1;function rc(t,e,r){for(r=r.child;r!==null;)iK(t,e,r),r=r.sibling}function iK(t,e,r){if(bo&&typeof bo.onCommitFiberUnmount=="function")try{bo.onCommitFiberUnmount(W3,r)}catch{}switch(r.tag){case 5:Gn||Q0(r,e);case 6:var n=_n,i=ma;_n=null,rc(t,e,r),_n=n,ma=i,_n!==null&&(ma?(t=_n,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):_n.removeChild(r.stateNode));break;case 18:_n!==null&&(ma?(t=_n,r=r.stateNode,t.nodeType===8?l6(t.parentNode,r):t.nodeType===1&&l6(t,r),og(t)):l6(_n,r.stateNode));break;case 4:n=_n,i=ma,_n=r.stateNode.containerInfo,ma=!0,rc(t,e,r),_n=n,ma=i;break;case 0:case 11:case 14:case 15:if(!Gn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&gS(r,e,a),i=i.next}while(i!==n)}rc(t,e,r);break;case 1:if(!Gn&&(Q0(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Tr(r,e,o)}rc(t,e,r);break;case 21:rc(t,e,r);break;case 22:r.mode&1?(Gn=(n=Gn)||r.memoizedState!==null,rc(t,e,r),Gn=n):rc(t,e,r);break;default:rc(t,e,r)}}function pD(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Tae),e.forEach(function(n){var i=Rae.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function oa(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:_n=o.stateNode,ma=!1;break e;case 3:_n=o.stateNode.containerInfo,ma=!0;break e;case 4:_n=o.stateNode.containerInfo,ma=!0;break e}o=o.return}if(_n===null)throw Error(we(160));iK(s,a,i),_n=null,ma=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Tr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sK(e,t),e=e.sibling}function sK(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(oa(e,t),Ha(t),n&4){try{pm(3,t,t.return),rw(3,t)}catch(m){Tr(t,t.return,m)}try{pm(5,t,t.return)}catch(m){Tr(t,t.return,m)}}break;case 1:oa(e,t),Ha(t),n&512&&r!==null&&Q0(r,r.return);break;case 5:if(oa(e,t),Ha(t),n&512&&r!==null&&Q0(r,r.return),t.flags&32){var i=t.stateNode;try{ng(i,"")}catch(m){Tr(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&k$(i,s),$C(o,a);var c=$C(o,s);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?D$(i,d):u==="dangerouslySetInnerHTML"?F$(i,d):u==="children"?ng(i,d):V_(i,u,d,c)}switch(o){case"input":UC(i,s);break;case"textarea":E$(i,s);break;case"select":var A=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?lA(i,!!s.multiple,f,!1):A!==!!s.multiple&&(s.defaultValue!=null?lA(i,!!s.multiple,s.defaultValue,!0):lA(i,!!s.multiple,s.multiple?[]:"",!1))}i[hg]=s}catch(m){Tr(t,t.return,m)}}break;case 6:if(oa(e,t),Ha(t),n&4){if(t.stateNode===null)throw Error(we(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Tr(t,t.return,m)}}break;case 3:if(oa(e,t),Ha(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{og(e.containerInfo)}catch(m){Tr(t,t.return,m)}break;case 4:oa(e,t),Ha(t);break;case 13:oa(e,t),Ha(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Sk=Qr())),n&4&&pD(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Gn=(c=Gn)||u,oa(e,t),Gn=c):oa(e,t),Ha(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Qe=t,u=t.child;u!==null;){for(d=Qe=u;Qe!==null;){switch(A=Qe,f=A.child,A.tag){case 0:case 11:case 14:case 15:pm(4,A,A.return);break;case 1:Q0(A,A.return);var p=A.stateNode;if(typeof p.componentWillUnmount=="function"){n=A,r=A.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Tr(n,r,m)}}break;case 5:Q0(A,A.return);break;case 22:if(A.memoizedState!==null){gD(d);continue}}f!==null?(f.return=A,Qe=f):gD(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=T$("display",a))}catch(m){Tr(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Tr(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:oa(e,t),Ha(t),n&4&&pD(t);break;case 21:break;default:oa(e,t),Ha(t)}}function Ha(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(nK(r)){var n=r;break e}r=r.return}throw Error(we(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ng(i,""),n.flags&=-33);var s=fD(t);xS(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=fD(t);vS(t,o,a);break;default:throw Error(we(161))}}catch(l){Tr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Lae(t,e,r){Qe=t,aK(t)}function aK(t,e,r){for(var n=(t.mode&1)!==0;Qe!==null;){var i=Qe,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||fy;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Gn;o=fy;var c=Gn;if(fy=a,(Gn=l)&&!c)for(Qe=i;Qe!==null;)a=Qe,l=a.child,a.tag===22&&a.memoizedState!==null?yD(i):l!==null?(l.return=a,Qe=l):yD(i);for(;s!==null;)Qe=s,aK(s),s=s.sibling;Qe=i,fy=o,Gn=c}mD(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Qe=s):mD(t)}}function mD(t){for(;Qe!==null;){var e=Qe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gn||rw(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Gn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:pa(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&eD(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}eD(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&og(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}Gn||e.flags&512&&yS(e)}catch(A){Tr(e,e.return,A)}}if(e===t){Qe=null;break}if(r=e.sibling,r!==null){r.return=e.return,Qe=r;break}Qe=e.return}}function gD(t){for(;Qe!==null;){var e=Qe;if(e===t){Qe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Qe=r;break}Qe=e.return}}function yD(t){for(;Qe!==null;){var e=Qe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{rw(4,e)}catch(l){Tr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Tr(e,i,l)}}var s=e.return;try{yS(e)}catch(l){Tr(e,s,l)}break;case 5:var a=e.return;try{yS(e)}catch(l){Tr(e,a,l)}}}catch(l){Tr(e,e.return,l)}if(e===t){Qe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Qe=o;break}Qe=e.return}}var Nae=Math.ceil,nb=$l.ReactCurrentDispatcher,wk=$l.ReactCurrentOwner,Ws=$l.ReactCurrentBatchConfig,Et=0,vn=null,en=null,Nn=0,os=0,R0=Iu(0),ln=0,yg=null,dh=0,nw=0,Ck=0,mm=null,Di=null,Sk=0,PA=1/0,nl=null,ib=!1,bS=null,au=null,py=!1,$c=null,sb=0,gm=0,wS=null,y4=-1,v4=0;function mi(){return Et&6?Qr():y4!==-1?y4:y4=Qr()}function ou(t){return t.mode&1?Et&2&&Nn!==0?Nn&-Nn:gae.transition!==null?(v4===0&&(v4=$$()),v4):(t=Kt,t!==0||(t=window.event,t=t===void 0?16:Y$(t.type)),t):1}function Ea(t,e,r,n){if(50<gm)throw gm=0,wS=null,Error(we(185));d1(t,r,n),(!(Et&2)||t!==vn)&&(t===vn&&(!(Et&2)&&(nw|=r),ln===4&&Uc(t,Nn)),Pi(t,n),r===1&&Et===0&&!(e.mode&1)&&(PA=Qr()+500,Z3&&Ou()))}function Pi(t,e){var r=t.callbackNode;gse(t,e);var n=Hx(t,t===vn?Nn:0);if(n===0)r!==null&&kT(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&kT(r),e===1)t.tag===0?mae(vD.bind(null,t)):mV(vD.bind(null,t)),hae(function(){!(Et&6)&&Ou()}),r=null;else{switch(V$(n)){case 1:r=X_;break;case 4:r=H$;break;case 16:r=Rx;break;case 536870912:r=z$;break;default:r=Rx}r=fK(r,oK.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function oK(t,e){if(y4=-1,v4=0,Et&6)throw Error(we(327));var r=t.callbackNode;if(AA()&&t.callbackNode!==r)return null;var n=Hx(t,t===vn?Nn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ab(t,n);else{e=n;var i=Et;Et|=2;var s=cK();(vn!==t||Nn!==e)&&(nl=null,PA=Qr()+500,Wd(t,e));do try{Oae();break}catch(o){lK(t,o)}while(!0);ck(),nb.current=s,Et=i,en!==null?e=0:(vn=null,Nn=0,e=ln)}if(e!==0){if(e===2&&(i=GC(t),i!==0&&(n=i,e=CS(t,i))),e===1)throw r=yg,Wd(t,0),Uc(t,n),Pi(t,Qr()),r;if(e===6)Uc(t,n);else{if(i=t.current.alternate,!(n&30)&&!jae(i)&&(e=ab(t,n),e===2&&(s=GC(t),s!==0&&(n=s,e=CS(t,s))),e===1))throw r=yg,Wd(t,0),Uc(t,n),Pi(t,Qr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(we(345));case 2:yd(t,Di,nl);break;case 3:if(Uc(t,n),(n&130023424)===n&&(e=Sk+500-Qr(),10<e)){if(Hx(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){mi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=nS(yd.bind(null,t,Di,nl),e);break}yd(t,Di,nl);break;case 4:if(Uc(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-ka(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Qr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nae(n/1960))-n,10<n){t.timeoutHandle=nS(yd.bind(null,t,Di,nl),n);break}yd(t,Di,nl);break;case 5:yd(t,Di,nl);break;default:throw Error(we(329))}}}return Pi(t,Qr()),t.callbackNode===r?oK.bind(null,t):null}function CS(t,e){var r=mm;return t.current.memoizedState.isDehydrated&&(Wd(t,e).flags|=256),t=ab(t,e),t!==2&&(e=Di,Di=r,e!==null&&SS(e)),t}function SS(t){Di===null?Di=t:Di.push.apply(Di,t)}function jae(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Na(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Uc(t,e){for(e&=~Ck,e&=~nw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ka(e),n=1<<r;t[r]=-1,e&=~n}}function vD(t){if(Et&6)throw Error(we(327));AA();var e=Hx(t,0);if(!(e&1))return Pi(t,Qr()),null;var r=ab(t,e);if(t.tag!==0&&r===2){var n=GC(t);n!==0&&(e=n,r=CS(t,n))}if(r===1)throw r=yg,Wd(t,0),Uc(t,e),Pi(t,Qr()),r;if(r===6)throw Error(we(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yd(t,Di,nl),Pi(t,Qr()),null}function Bk(t,e){var r=Et;Et|=1;try{return t(e)}finally{Et=r,Et===0&&(PA=Qr()+500,Z3&&Ou())}}function hh(t){$c!==null&&$c.tag===0&&!(Et&6)&&AA();var e=Et;Et|=1;var r=Ws.transition,n=Kt;try{if(Ws.transition=null,Kt=1,t)return t()}finally{Kt=n,Ws.transition=r,Et=e,!(Et&6)&&Ou()}}function _k(){os=R0.current,ar(R0)}function Wd(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,dae(r)),en!==null)for(r=en.return;r!==null;){var n=r;switch(ak(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qx();break;case 3:IA(),ar(Ii),ar(ei),pk();break;case 5:fk(n);break;case 4:IA();break;case 13:ar(br);break;case 19:ar(br);break;case 10:uk(n.type._context);break;case 22:case 23:_k()}r=r.return}if(vn=t,en=t=lu(t.current,null),Nn=os=e,ln=0,yg=null,Ck=nw=dh=0,Di=mm=null,Od!==null){for(e=0;e<Od.length;e++)if(r=Od[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Od=null}return t}function lK(t,e){do{var r=en;try{if(ck(),p4.current=rb,tb){for(var n=Br.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}tb=!1}if(uh=0,gn=sn=Br=null,fm=!1,pg=0,wk.current=null,r===null||r.return===null){ln=1,yg=e,en=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=Nn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var A=u.alternate;A?(u.updateQueue=A.updateQueue,u.memoizedState=A.memoizedState,u.lanes=A.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=aD(a);if(f!==null){f.flags&=-257,oD(f,a,o,s,e),f.mode&1&&sD(s,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){sD(s,c,e),kk();break e}l=Error(we(426))}}else if(fr&&o.mode&1){var y=aD(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),oD(y,a,o,s,e),ok(OA(l,o));break e}}s=l=OA(l,o),ln!==4&&(ln=2),mm===null?mm=[s]:mm.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=VV(s,l,e);ZT(s,g);break e;case 1:o=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(au===null||!au.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=KV(s,o,e);ZT(s,b);break e}}s=s.return}while(s!==null)}dK(r)}catch(w){e=w,en===r&&r!==null&&(en=r=r.return);continue}break}while(!0)}function cK(){var t=nb.current;return nb.current=rb,t===null?rb:t}function kk(){(ln===0||ln===3||ln===2)&&(ln=4),vn===null||!(dh&268435455)&&!(nw&268435455)||Uc(vn,Nn)}function ab(t,e){var r=Et;Et|=2;var n=cK();(vn!==t||Nn!==e)&&(nl=null,Wd(t,e));do try{Iae();break}catch(i){lK(t,i)}while(!0);if(ck(),Et=r,nb.current=n,en!==null)throw Error(we(261));return vn=null,Nn=0,ln}function Iae(){for(;en!==null;)uK(en)}function Oae(){for(;en!==null&&!lse();)uK(en)}function uK(t){var e=AK(t.alternate,t,os);t.memoizedProps=t.pendingProps,e===null?dK(t):en=e,wk.current=null}function dK(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Fae(r,e),r!==null){r.flags&=32767,en=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ln=6,en=null;return}}else if(r=Mae(r,e,os),r!==null){en=r;return}if(e=e.sibling,e!==null){en=e;return}en=e=t}while(e!==null);ln===0&&(ln=5)}function yd(t,e,r){var n=Kt,i=Ws.transition;try{Ws.transition=null,Kt=1,Pae(t,e,r,n)}finally{Ws.transition=i,Kt=n}return null}function Pae(t,e,r,n){do AA();while($c!==null);if(Et&6)throw Error(we(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(we(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(yse(t,s),t===vn&&(en=vn=null,Nn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||py||(py=!0,fK(Rx,function(){return AA(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ws.transition,Ws.transition=null;var a=Kt;Kt=1;var o=Et;Et|=4,wk.current=null,Dae(t,r),sK(r,t),iae(tS),zx=!!eS,tS=eS=null,t.current=r,Lae(r),cse(),Et=o,Kt=a,Ws.transition=s}else t.current=r;if(py&&(py=!1,$c=t,sb=i),s=t.pendingLanes,s===0&&(au=null),hse(r.stateNode),Pi(t,Qr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ib)throw ib=!1,t=bS,bS=null,t;return sb&1&&t.tag!==0&&AA(),s=t.pendingLanes,s&1?t===wS?gm++:(gm=0,wS=t):gm=0,Ou(),null}function AA(){if($c!==null){var t=V$(sb),e=Ws.transition,r=Kt;try{if(Ws.transition=null,Kt=16>t?16:t,$c===null)var n=!1;else{if(t=$c,$c=null,sb=0,Et&6)throw Error(we(331));var i=Et;for(Et|=4,Qe=t.current;Qe!==null;){var s=Qe,a=s.child;if(Qe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Qe=c;Qe!==null;){var u=Qe;switch(u.tag){case 0:case 11:case 15:pm(8,u,s)}var d=u.child;if(d!==null)d.return=u,Qe=d;else for(;Qe!==null;){u=Qe;var A=u.sibling,f=u.return;if(rK(u),u===c){Qe=null;break}if(A!==null){A.return=f,Qe=A;break}Qe=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Qe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Qe=a;else e:for(;Qe!==null;){if(s=Qe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:pm(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Qe=g;break e}Qe=s.return}}var v=t.current;for(Qe=v;Qe!==null;){a=Qe;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,Qe=x;else e:for(a=v;Qe!==null;){if(o=Qe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:rw(9,o)}}catch(w){Tr(o,o.return,w)}if(o===a){Qe=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,Qe=b;break e}Qe=o.return}}if(Et=i,Ou(),bo&&typeof bo.onPostCommitFiberRoot=="function")try{bo.onPostCommitFiberRoot(W3,t)}catch{}n=!0}return n}finally{Kt=r,Ws.transition=e}}return!1}function xD(t,e,r){e=OA(r,e),e=VV(t,e,1),t=su(t,e,1),e=mi(),t!==null&&(d1(t,1,e),Pi(t,e))}function Tr(t,e,r){if(t.tag===3)xD(t,t,r);else for(;e!==null;){if(e.tag===3){xD(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(au===null||!au.has(n))){t=OA(r,t),t=KV(e,t,1),e=su(e,t,1),t=mi(),e!==null&&(d1(e,1,t),Pi(e,t));break}}e=e.return}}function Uae(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=mi(),t.pingedLanes|=t.suspendedLanes&r,vn===t&&(Nn&r)===r&&(ln===4||ln===3&&(Nn&130023424)===Nn&&500>Qr()-Sk?Wd(t,0):Ck|=r),Pi(t,e)}function hK(t,e){e===0&&(t.mode&1?(e=sy,sy<<=1,!(sy&130023424)&&(sy=4194304)):e=1);var r=mi();t=Tl(t,e),t!==null&&(d1(t,e,r),Pi(t,r))}function Qae(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),hK(t,r)}function Rae(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(we(314))}n!==null&&n.delete(e),hK(t,r)}var AK;AK=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ii.current)ji=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ji=!1,Eae(t,e,r);ji=!!(t.flags&131072)}else ji=!1,fr&&e.flags&1048576&&gV(e,Xx,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;g4(t,e),t=e.pendingProps;var i=LA(e,ei.current);hA(e,r),i=gk(null,e,n,t,i,r);var s=yk();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Oi(n)?(s=!0,Wx(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hk(e),i.updater=tw,e.stateNode=i,i._reactInternals=e,uS(e,n,t,r),e=AS(null,e,n,!0,s,r)):(e.tag=0,fr&&s&&sk(e),ci(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(g4(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=zae(n),t=pa(n,t),i){case 0:e=hS(null,e,n,t,r);break e;case 1:e=uD(null,e,n,t,r);break e;case 11:e=lD(null,e,n,t,r);break e;case 14:e=cD(null,e,n,pa(n.type,t),r);break e}throw Error(we(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pa(n,i),hS(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pa(n,i),uD(t,e,n,i,r);case 3:e:{if(XV(e),t===null)throw Error(we(387));n=e.pendingProps,s=e.memoizedState,i=s.element,CV(t,e),Zx(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=OA(Error(we(423)),e),e=dD(t,e,n,r,i);break e}else if(n!==i){i=OA(Error(we(424)),e),e=dD(t,e,n,r,i);break e}else for(As=iu(e.stateNode.containerInfo.firstChild),ps=e,fr=!0,xa=null,r=bV(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(NA(),n===i){e=Dl(t,e,r);break e}ci(t,e,n,r)}e=e.child}return e;case 5:return SV(e),t===null&&oS(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,rS(n,i)?a=null:s!==null&&rS(n,s)&&(e.flags|=32),GV(t,e),ci(t,e,a,r),e.child;case 6:return t===null&&oS(e),null;case 13:return YV(t,e,r);case 4:return Ak(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=jA(e,null,n,r):ci(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pa(n,i),lD(t,e,n,i,r);case 7:return ci(t,e,e.pendingProps,r),e.child;case 8:return ci(t,e,e.pendingProps.children,r),e.child;case 12:return ci(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,nr(Yx,n._currentValue),n._currentValue=a,s!==null)if(Na(s.value,a)){if(s.children===i.children&&!Ii.current){e=Dl(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=vl(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),lS(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(we(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),lS(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}ci(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,hA(e,r),i=Js(i),n=n(i),e.flags|=1,ci(t,e,n,r),e.child;case 14:return n=e.type,i=pa(n,e.pendingProps),i=pa(n.type,i),cD(t,e,n,i,r);case 15:return qV(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pa(n,i),g4(t,e),e.tag=1,Oi(n)?(t=!0,Wx(e)):t=!1,hA(e,r),$V(e,n,i),uS(e,n,i,r),AS(null,e,n,!0,t,r);case 19:return JV(t,e,r);case 22:return WV(t,e,r)}throw Error(we(156,e.tag))};function fK(t,e){return R$(t,e)}function Hae(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $s(t,e,r,n){return new Hae(t,e,r,n)}function Ek(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zae(t){if(typeof t=="function")return Ek(t)?1:0;if(t!=null){if(t=t.$$typeof,t===q_)return 11;if(t===W_)return 14}return 2}function lu(t,e){var r=t.alternate;return r===null?(r=$s(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function x4(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")Ek(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case T0:return Gd(r.children,i,s,e);case K_:a=8,i|=8;break;case NC:return t=$s(12,r,e,i|2),t.elementType=NC,t.lanes=s,t;case jC:return t=$s(13,r,e,i),t.elementType=jC,t.lanes=s,t;case IC:return t=$s(19,r,e,i),t.elementType=IC,t.lanes=s,t;case S$:return iw(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w$:a=10;break e;case C$:a=9;break e;case q_:a=11;break e;case W_:a=14;break e;case Dc:a=16,n=null;break e}throw Error(we(130,t==null?t:typeof t,""))}return e=$s(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Gd(t,e,r,n){return t=$s(7,t,n,e),t.lanes=r,t}function iw(t,e,r,n){return t=$s(22,t,n,e),t.elementType=S$,t.lanes=r,t.stateNode={isHidden:!1},t}function m6(t,e,r){return t=$s(6,t,null,e),t.lanes=r,t}function g6(t,e,r){return e=$s(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $ae(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Y5(0),this.expirationTimes=Y5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Y5(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mk(t,e,r,n,i,s,a,o,l){return t=new $ae(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=$s(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hk(s),t}function Vae(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F0,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function pK(t){if(!t)return pu;t=t._reactInternals;e:{if(kh(t)!==t||t.tag!==1)throw Error(we(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Oi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(we(171))}if(t.tag===1){var r=t.type;if(Oi(r))return pV(t,r,e)}return e}function mK(t,e,r,n,i,s,a,o,l){return t=Mk(r,n,!0,t,i,s,a,o,l),t.context=pK(null),r=t.current,n=mi(),i=ou(r),s=vl(n,i),s.callback=e??null,su(r,s,i),t.current.lanes=i,d1(t,i,n),Pi(t,n),t}function sw(t,e,r,n){var i=e.current,s=mi(),a=ou(i);return r=pK(r),e.context===null?e.context=r:e.pendingContext=r,e=vl(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=su(i,e,a),t!==null&&(Ea(t,i,a,s),f4(t,i,a)),a}function ob(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bD(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Fk(t,e){bD(t,e),(t=t.alternate)&&bD(t,e)}var gK=typeof reportError=="function"?reportError:function(t){console.error(t)};function Tk(t){this._internalRoot=t}aw.prototype.render=Tk.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(we(409));sw(t,e,null,null)};aw.prototype.unmount=Tk.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hh(function(){sw(null,t,null,null)}),e[Fl]=null}};function aw(t){this._internalRoot=t}aw.prototype.unstable_scheduleHydration=function(t){if(t){var e=W$();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Pc.length&&e!==0&&e<Pc[r].priority;r++);Pc.splice(r,0,t),r===0&&X$(t)}};function Dk(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ow(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wD(){}function Kae(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=ob(a);s.call(c)}}var a=mK(e,n,t,0,null,!1,!1,"",wD);return t._reactRootContainer=a,t[Fl]=a.current,ug(t.nodeType===8?t.parentNode:t),hh(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=ob(l);o.call(c)}}var l=Mk(t,0,!1,null,null,!1,!1,"",wD);return t._reactRootContainer=l,t[Fl]=l.current,ug(t.nodeType===8?t.parentNode:t),hh(function(){sw(e,l,r,n)}),l}function lw(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=ob(a);o.call(l)}}sw(e,a,t,i)}else a=Kae(r,e,t,i,n);return ob(a)}K$=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Op(e.pendingLanes);r!==0&&(Y_(e,r|1),Pi(e,Qr()),!(Et&6)&&(PA=Qr()+500,Ou()))}break;case 13:hh(function(){var n=Tl(t,1);if(n!==null){var i=mi();Ea(n,t,1,i)}}),Fk(t,1)}};J_=function(t){if(t.tag===13){var e=Tl(t,134217728);if(e!==null){var r=mi();Ea(e,t,134217728,r)}Fk(t,134217728)}};q$=function(t){if(t.tag===13){var e=ou(t),r=Tl(t,e);if(r!==null){var n=mi();Ea(r,t,e,n)}Fk(t,e)}};W$=function(){return Kt};G$=function(t,e){var r=Kt;try{return Kt=t,e()}finally{Kt=r}};KC=function(t,e,r){switch(e){case"input":if(UC(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=J3(n);if(!i)throw Error(we(90));_$(n),UC(n,i)}}}break;case"textarea":E$(t,r);break;case"select":e=r.value,e!=null&&lA(t,!!r.multiple,e,!1)}};j$=Bk;I$=hh;var qae={usingClientEntryPoint:!1,Events:[A1,j0,J3,L$,N$,Bk]},Qf={findFiberByHostInstance:Id,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wae={bundleType:Qf.bundleType,version:Qf.version,rendererPackageName:Qf.rendererPackageName,rendererConfig:Qf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$l.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=U$(t),t===null?null:t.stateNode},findFiberByHostInstance:Qf.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var my=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!my.isDisabled&&my.supportsFiber)try{W3=my.inject(Wae),bo=my}catch{}}Cs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qae;Cs.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dk(e))throw Error(we(200));return Vae(t,e,null,r)};Cs.createRoot=function(t,e){if(!Dk(t))throw Error(we(299));var r=!1,n="",i=gK;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mk(t,1,!1,null,null,r,!1,n,i),t[Fl]=e.current,ug(t.nodeType===8?t.parentNode:t),new Tk(e)};Cs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(we(188)):(t=Object.keys(t).join(","),Error(we(268,t)));return t=U$(e),t=t===null?null:t.stateNode,t};Cs.flushSync=function(t){return hh(t)};Cs.hydrate=function(t,e,r){if(!ow(e))throw Error(we(200));return lw(null,t,e,!0,r)};Cs.hydrateRoot=function(t,e,r){if(!Dk(t))throw Error(we(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=gK;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=mK(e,null,t,1,r??null,i,!1,s,a),t[Fl]=e.current,ug(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new aw(e)};Cs.render=function(t,e,r){if(!ow(e))throw Error(we(200));return lw(null,t,e,!1,r)};Cs.unmountComponentAtNode=function(t){if(!ow(t))throw Error(we(40));return t._reactRootContainer?(hh(function(){lw(null,null,t,!1,function(){t._reactRootContainer=null,t[Fl]=null})}),!0):!1};Cs.unstable_batchedUpdates=Bk;Cs.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ow(r))throw Error(we(200));if(t==null||t._reactInternals===void 0)throw Error(we(38));return lw(t,e,r,!1,n)};Cs.version="18.3.1-next-f1338f8080-20240426";function yK(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yK)}catch(t){console.error(t)}}yK(),y$.exports=Cs;var vK=y$.exports,xK,CD=vK;xK=CD.createRoot,CD.hydrateRoot;var Lk={};Object.defineProperty(Lk,"__esModule",{value:!0});Lk.parse=toe;Lk.serialize=roe;const Gae=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Xae=/^[\u0021-\u003A\u003C-\u007E]*$/,Yae=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Jae=/^[\u0020-\u003A\u003D-\u007E]*$/,Zae=Object.prototype.toString,eoe=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function toe(t,e){const r=new eoe,n=t.length;if(n<2)return r;const i=(e==null?void 0:e.decode)||noe;let s=0;do{const a=t.indexOf("=",s);if(a===-1)break;const o=t.indexOf(";",s),l=o===-1?n:o;if(a>l){s=t.lastIndexOf(";",a-1)+1;continue}const c=SD(t,s,a),u=BD(t,a,c),d=t.slice(c,u);if(r[d]===void 0){let A=SD(t,a+1,l),f=BD(t,l,A);const p=i(t.slice(A,f));r[d]=p}s=l+1}while(s<n);return r}function SD(t,e,r){do{const n=t.charCodeAt(e);if(n!==32&&n!==9)return e}while(++e<r);return r}function BD(t,e,r){for(;e>r;){const n=t.charCodeAt(--e);if(n!==32&&n!==9)return e+1}return r}function roe(t,e,r){const n=(r==null?void 0:r.encode)||encodeURIComponent;if(!Gae.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=n(e);if(!Xae.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!r)return s;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);s+="; Max-Age="+r.maxAge}if(r.domain){if(!Yae.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);s+="; Domain="+r.domain}if(r.path){if(!Jae.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);s+="; Path="+r.path}if(r.expires){if(!ioe(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.partitioned&&(s+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return s}function noe(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function ioe(t){return Zae.call(t)==="[object Date]"}/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _D="popstate";function soe(t={}){function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return BS("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:vg(i)}return ooe(e,r,null,t)}function gr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ja(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aoe(){return Math.random().toString(36).substring(2,10)}function kD(t,e){return{usr:t.state,key:t.key,idx:e}}function BS(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?of(e):e,state:r,key:e&&e.key||n||aoe()}}function vg({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function of(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function ooe(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o="POP",l=null,c=u();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function u(){return(a.state||{idx:null}).idx}function d(){o="POP";let y=u(),g=y==null?null:y-c;c=y,l&&l({action:o,location:m.location,delta:g})}function A(y,g){o="PUSH";let v=BS(m.location,y,g);c=u()+1;let x=kD(v,c),b=m.createHref(v);try{a.pushState(x,"",b)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(b)}s&&l&&l({action:o,location:m.location,delta:1})}function f(y,g){o="REPLACE";let v=BS(m.location,y,g);c=u();let x=kD(v,c),b=m.createHref(v);a.replaceState(x,"",b),s&&l&&l({action:o,location:m.location,delta:0})}function p(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:vg(y);return v=v.replace(/ $/,"%20"),gr(g,`No window.location.(origin|href) available to create URL for href: ${v}`),new URL(v,g)}let m={get action(){return o},get location(){return t(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(_D,d),l=y,()=>{i.removeEventListener(_D,d),l=null}},createHref(y){return e(i,y)},createURL:p,encodeLocation(y){let g=p(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:A,replace:f,go(y){return a.go(y)}};return m}function bK(t,e,r="/"){return loe(t,e,r,!1)}function loe(t,e,r,n){let i=typeof e=="string"?of(e):e,s=mu(i.pathname||"/",r);if(s==null)return null;let a=wK(t);coe(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=xoe(s);o=yoe(a[l],c,n)}return o}function wK(t,e=[],r=[],n=""){let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(gr(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let c=xl([n,l.relativePath]),u=r.concat(l);s.children&&s.children.length>0&&(gr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),wK(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:moe(c,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of CK(s.path))i(s,a,l)}),e}function CK(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=CK(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function coe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:goe(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var uoe=/^:[\w-]+$/,doe=3,hoe=2,Aoe=1,foe=10,poe=-2,ED=t=>t==="*";function moe(t,e){let r=t.split("/"),n=r.length;return r.some(ED)&&(n+=poe),e&&(n+=hoe),r.filter(i=>!ED(i)).reduce((i,s)=>i+(uoe.test(s)?doe:s===""?Aoe:foe),n)}function goe(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function yoe(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=lb({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),A=l.route;if(!d&&c&&r&&!n[n.length-1].route.index&&(d=lb({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:xl([s,d.pathname]),pathnameBase:Soe(xl([s,d.pathnameBase])),route:A}),d.pathnameBase!=="/"&&(s=xl([s,d.pathnameBase]))}return a}function lb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=voe(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,{paramName:u,isOptional:d},A)=>{if(u==="*"){let p=o[A]||"";a=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const f=o[A];return d&&!f?c[u]=void 0:c[u]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function voe(t,e=!1,r=!0){ja(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function xoe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ja(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function mu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function boe(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?of(t):t;return{pathname:r?r.startsWith("/")?r:woe(r,e):e,search:Boe(n),hash:_oe(i)}}function woe(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function y6(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Coe(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Nk(t){let e=Coe(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function jk(t,e,r,n=!1){let i;typeof t=="string"?i=of(t):(i={...t},gr(!i.pathname||!i.pathname.includes("?"),y6("?","pathname","search",i)),gr(!i.pathname||!i.pathname.includes("#"),y6("#","pathname","hash",i)),gr(!i.search||!i.search.includes("#"),y6("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let d=e.length-1;if(!n&&a.startsWith("..")){let A=a.split("/");for(;A[0]==="..";)A.shift(),d-=1;i.pathname=A.join("/")}o=d>=0?e[d]:"/"}let l=boe(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var xl=t=>t.join("/").replace(/\/\/+/g,"/"),Soe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Boe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_oe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function koe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var SK=["POST","PUT","PATCH","DELETE"];new Set(SK);var Eoe=["GET",...SK];new Set(Eoe);var lf=_.createContext(null);lf.displayName="DataRouter";var cw=_.createContext(null);cw.displayName="DataRouterState";var BK=_.createContext({isTransitioning:!1});BK.displayName="ViewTransition";var Moe=_.createContext(new Map);Moe.displayName="Fetchers";var Foe=_.createContext(null);Foe.displayName="Await";var Pa=_.createContext(null);Pa.displayName="Navigation";var p1=_.createContext(null);p1.displayName="Location";var sa=_.createContext({outlet:null,matches:[],isDataRoute:!1});sa.displayName="Route";var Ik=_.createContext(null);Ik.displayName="RouteError";function Toe(t,{relative:e}={}){gr(cf(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=_.useContext(Pa),{hash:i,pathname:s,search:a}=m1(t,{relative:e}),o=s;return r!=="/"&&(o=s==="/"?r:xl([r,s])),n.createHref({pathname:o,search:a,hash:i})}function cf(){return _.useContext(p1)!=null}function Ua(){return gr(cf(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(p1).location}var _K="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kK(t){_.useContext(Pa).static||_.useLayoutEffect(t)}function xt(){let{isDataRoute:t}=_.useContext(sa);return t?Koe():Doe()}function Doe(){gr(cf(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(lf),{basename:e,navigator:r}=_.useContext(Pa),{matches:n}=_.useContext(sa),{pathname:i}=Ua(),s=JSON.stringify(Nk(n)),a=_.useRef(!1);return kK(()=>{a.current=!0}),_.useCallback((l,c={})=>{if(ja(a.current,_K),!a.current)return;if(typeof l=="number"){r.go(l);return}let u=jk(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:xl([e,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[e,r,s,i,t])}var Loe=_.createContext(null);function Noe(t){let e=_.useContext(sa).outlet;return e&&_.createElement(Loe.Provider,{value:t},e)}function ur(){let{matches:t}=_.useContext(sa),e=t[t.length-1];return e?e.params:{}}function m1(t,{relative:e}={}){let{matches:r}=_.useContext(sa),{pathname:n}=Ua(),i=JSON.stringify(Nk(r));return _.useMemo(()=>jk(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function joe(t,e){return EK(t,e)}function EK(t,e,r,n){var g;gr(cf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=_.useContext(Pa),{matches:s}=_.useContext(sa),a=s[s.length-1],o=a?a.params:{},l=a?a.pathname:"/",c=a?a.pathnameBase:"/",u=a&&a.route;{let v=u&&u.path||"";MK(l,!u||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let d=Ua(),A;if(e){let v=typeof e=="string"?of(e):e;gr(c==="/"||((g=v.pathname)==null?void 0:g.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${v.pathname}" was given in the \`location\` prop.`),A=v}else A=d;let f=A.pathname||"/",p=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=bK(t,{pathname:p});ja(u||m!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),ja(m==null||m[m.length-1].route.element!==void 0||m[m.length-1].route.Component!==void 0||m[m.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=Qoe(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:xl([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:xl([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return e&&y?_.createElement(p1.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},y):y}function Ioe(){let t=Voe(),e=koe(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:s},"ErrorBoundary")," or"," ",_.createElement("code",{style:s},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),r?_.createElement("pre",{style:i},r):null,a)}var Ooe=_.createElement(Ioe,null),Poe=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?_.createElement(sa.Provider,{value:this.props.routeContext},_.createElement(Ik.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Uoe({routeContext:t,match:e,children:r}){let n=_.useContext(lf);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(sa.Provider,{value:t},r)}function Qoe(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,s=r==null?void 0:r.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);gr(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let a=!1,o=-1;if(r)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(o=l),c.route.id){let{loaderData:u,errors:d}=r,A=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||A){a=!0,o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let d,A=!1,f=null,p=null;r&&(d=s&&c.route.id?s[c.route.id]:void 0,f=c.route.errorElement||Ooe,a&&(o<0&&u===0?(MK("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,p=null):o===u&&(A=!0,p=c.route.hydrateFallbackElement||null)));let m=e.concat(i.slice(0,u+1)),y=()=>{let g;return d?g=f:A?g=p:c.route.Component?g=_.createElement(c.route.Component,null):c.route.element?g=c.route.element:g=l,_.createElement(Uoe,{match:c,routeContext:{outlet:l,matches:m,isDataRoute:r!=null},children:g})};return r&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?_.createElement(Poe,{location:r.location,revalidation:r.revalidation,component:f,error:d,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}function Ok(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Roe(t){let e=_.useContext(lf);return gr(e,Ok(t)),e}function Hoe(t){let e=_.useContext(cw);return gr(e,Ok(t)),e}function zoe(t){let e=_.useContext(sa);return gr(e,Ok(t)),e}function Pk(t){let e=zoe(t),r=e.matches[e.matches.length-1];return gr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function $oe(){return Pk("useRouteId")}function Voe(){var n;let t=_.useContext(Ik),e=Hoe("useRouteError"),r=Pk("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Koe(){let{router:t}=Roe("useNavigate"),e=Pk("useNavigate"),r=_.useRef(!1);return kK(()=>{r.current=!0}),_.useCallback(async(i,s={})=>{ja(r.current,_K),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var MD={};function MK(t,e,r){!e&&!MD[t]&&(MD[t]=!0,ja(!1,r))}_.memo(qoe);function qoe({routes:t,future:e,state:r}){return EK(t,void 0,r,e)}function FD({to:t,replace:e,state:r,relative:n}){gr(cf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(Pa);ja(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=_.useContext(sa),{pathname:a}=Ua(),o=xt(),l=jk(t,Nk(s),a,n==="path"),c=JSON.stringify(l);return _.useEffect(()=>{o(JSON.parse(c),{replace:e,state:r,relative:n})},[o,c,n,e,r]),null}function Woe(t){return Noe(t.context)}function Te(t){gr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Goe({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){gr(!cf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=_.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof r=="string"&&(r=of(r));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:A="default"}=r,f=_.useMemo(()=>{let p=mu(l,a);return p==null?null:{location:{pathname:p,search:c,hash:u,state:d,key:A},navigationType:n}},[a,l,c,u,d,A,n]);return ja(f!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:_.createElement(Pa.Provider,{value:o},_.createElement(p1.Provider,{children:e,value:f}))}function TD({children:t,location:e}){return joe(_S(t),e)}function _S(t,e=[]){let r=[];return _.Children.forEach(t,(n,i)=>{if(!_.isValidElement(n))return;let s=[...e,i];if(n.type===_.Fragment){r.push.apply(r,_S(n.props.children,s));return}gr(n.type===Te,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=_S(n.props.children,s)),r.push(a)}),r}var b4="get",w4="application/x-www-form-urlencoded";function uw(t){return t!=null&&typeof t.tagName=="string"}function Xoe(t){return uw(t)&&t.tagName.toLowerCase()==="button"}function Yoe(t){return uw(t)&&t.tagName.toLowerCase()==="form"}function Joe(t){return uw(t)&&t.tagName.toLowerCase()==="input"}function Zoe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ele(t,e){return t.button===0&&(!e||e==="_self")&&!Zoe(t)}var gy=null;function tle(){if(gy===null)try{new FormData(document.createElement("form"),0),gy=!1}catch{gy=!0}return gy}var rle=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function v6(t){return t!=null&&!rle.has(t)?(ja(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${w4}"`),null):t}function nle(t,e){let r,n,i,s,a;if(Yoe(t)){let o=t.getAttribute("action");n=o?mu(o,e):null,r=t.getAttribute("method")||b4,i=v6(t.getAttribute("enctype"))||w4,s=new FormData(t)}else if(Xoe(t)||Joe(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(n=l?mu(l,e):null,r=t.getAttribute("formmethod")||o.getAttribute("method")||b4,i=v6(t.getAttribute("formenctype"))||v6(o.getAttribute("enctype"))||w4,s=new FormData(o,t),!tle()){let{name:c,type:u,value:d}=t;if(u==="image"){let A=c?`${c}.`:"";s.append(`${A}x`,"0"),s.append(`${A}y`,"0")}else c&&s.append(c,d)}}else{if(uw(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=b4,n=null,i=w4,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:a}}function Uk(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function ile(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sle(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ale(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await ile(s,r);return a.links?a.links():[]}return[]}));return ule(n.flat(1).filter(sle).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function DD(t,e,r,n,i,s){let a=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,o=(l,c)=>{var u;return r[c].pathname!==l.pathname||((u=r[c].route.path)==null?void 0:u.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):s==="data"?e.filter((l,c)=>{var d;let u=n.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let A=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function ole(t,e){return lle(t.map(r=>{let n=e.routes[r.route.id];if(!n)return[];let i=[n.module];return n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function lle(t){return[...new Set(t)]}function cle(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function ule(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(cle(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function dle(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function hle(){let t=_.useContext(lf);return Uk(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ale(){let t=_.useContext(cw);return Uk(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Qk=_.createContext(void 0);Qk.displayName="FrameworkContext";function FK(){let t=_.useContext(Qk);return Uk(t,"You must render this element inside a <HydratedRouter> element"),t}function fle(t,e){let r=_.useContext(Qk),[n,i]=_.useState(!1),[s,a]=_.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=e,A=_.useRef(null);_.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let m=g=>{g.forEach(v=>{a(v.isIntersecting)})},y=new IntersectionObserver(m,{threshold:.5});return A.current&&y.observe(A.current),()=>{y.disconnect()}}},[t]),_.useEffect(()=>{if(n){let m=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(m)}}},[n]);let f=()=>{i(!0)},p=()=>{i(!1),a(!1)};return r?t!=="intent"?[s,A,{}]:[s,A,{onFocus:Rf(o,f),onBlur:Rf(l,p),onMouseEnter:Rf(c,f),onMouseLeave:Rf(u,p),onTouchStart:Rf(d,f)}]:[!1,A,{}]}function Rf(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function ple({page:t,...e}){let{router:r}=hle(),n=_.useMemo(()=>bK(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?_.createElement(gle,{page:t,matches:n,...e}):null}function mle(t){let{manifest:e,routeModules:r}=FK(),[n,i]=_.useState([]);return _.useEffect(()=>{let s=!1;return ale(t,e,r).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,r]),n}function gle({page:t,matches:e,...r}){let n=Ua(),{manifest:i,routeModules:s}=FK(),{loaderData:a,matches:o}=Ale(),l=_.useMemo(()=>DD(t,e,o,i,n,"data"),[t,e,o,i,n]),c=_.useMemo(()=>DD(t,e,o,i,n,"assets"),[t,e,o,i,n]),u=_.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let f=new Set,p=!1;if(e.forEach(y=>{var v;let g=i.routes[y.route.id];!g||!g.hasLoader||(!l.some(x=>x.route.id===y.route.id)&&y.route.id in a&&((v=s[y.route.id])!=null&&v.shouldRevalidate)||g.hasClientLoader?p=!0:f.add(y.route.id))}),f.size===0)return[];let m=dle(t);return p&&f.size>0&&m.searchParams.set("_routes",e.filter(y=>f.has(y.route.id)).map(y=>y.route.id).join(",")),[m.pathname+m.search]},[a,n,i,l,e,t,s]),d=_.useMemo(()=>ole(c,i),[c,i]),A=mle(c);return _.createElement(_.Fragment,null,u.map(f=>_.createElement("link",{key:f,rel:"prefetch",as:"fetch",href:f,...r})),d.map(f=>_.createElement("link",{key:f,rel:"modulepreload",href:f,...r})),A.map(({key:f,link:p})=>_.createElement("link",{key:f,...p})))}function yle(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var TK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TK&&(window.__reactRouterVersion="7.1.1")}catch{}function vle({basename:t,children:e,window:r}){let n=_.useRef();n.current==null&&(n.current=soe({window:r,v5Compat:!0}));let i=n.current,[s,a]=_.useState({action:i.action,location:i.location}),o=_.useCallback(l=>{_.startTransition(()=>a(l))},[a]);return _.useLayoutEffect(()=>i.listen(o),[i,o]),_.createElement(Goe,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var DK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uf=_.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d,...A},f){let{basename:p}=_.useContext(Pa),m=typeof c=="string"&&DK.test(c),y,g=!1;if(typeof c=="string"&&m&&(y=c,TK))try{let E=new URL(window.location.href),M=c.startsWith("//")?new URL(E.protocol+c):new URL(c),D=mu(M.pathname,p);M.origin===E.origin&&D!=null?c=D+M.search+M.hash:g=!0}catch{ja(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=Toe(c,{relative:i}),[x,b,w]=fle(n,A),C=Cle(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:d});function S(E){e&&e(E),E.defaultPrevented||C(E)}let B=_.createElement("a",{...A,...w,href:y||v,onClick:g||s?e:S,ref:yle(f,b),target:l,"data-discover":!m&&r==="render"?"true":void 0});return x&&!m?_.createElement(_.Fragment,null,B,_.createElement(ple,{page:v})):B});uf.displayName="Link";var xle=_.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...c},u){let d=m1(a,{relative:c.relative}),A=Ua(),f=_.useContext(cw),{navigator:p,basename:m}=_.useContext(Pa),y=f!=null&&Ele(d)&&o===!0,g=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,v=A.pathname,x=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(v=v.toLowerCase(),x=x?x.toLowerCase():null,g=g.toLowerCase()),x&&m&&(x=mu(x,m)||x);const b=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let w=v===g||!i&&v.startsWith(g)&&v.charAt(b)==="/",C=x!=null&&(x===g||!i&&x.startsWith(g)&&x.charAt(g.length)==="/"),S={isActive:w,isPending:C,isTransitioning:y},B=w?e:void 0,E;typeof n=="function"?E=n(S):E=[n,w?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let M=typeof s=="function"?s(S):s;return _.createElement(uf,{...c,"aria-current":B,className:E,ref:u,style:M,to:a,viewTransition:o},typeof l=="function"?l(S):l)});xle.displayName="NavLink";var ble=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:a=b4,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...A},f)=>{let p=_le(),m=kle(o,{relative:c}),y=a.toLowerCase()==="get"?"get":"post",g=typeof o=="string"&&DK.test(o),v=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let b=x.nativeEvent.submitter,w=(b==null?void 0:b.getAttribute("formmethod"))||a;p(b||x.currentTarget,{fetcherKey:e,method:w,navigate:r,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:d})};return _.createElement("form",{ref:f,method:y,action:m,onSubmit:n?l:v,...A,"data-discover":!g&&t==="render"?"true":void 0})});ble.displayName="Form";function wle(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LK(t){let e=_.useContext(lf);return gr(e,wle(t)),e}function Cle(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=xt(),l=Ua(),c=m1(t,{relative:s});return _.useCallback(u=>{if(ele(u,e)){u.preventDefault();let d=r!==void 0?r:vg(l)===vg(c);o(t,{replace:d,state:n,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,c,r,n,e,t,i,s,a])}var Sle=0,Ble=()=>`__${String(++Sle)}__`;function _le(){let{router:t}=LK("useSubmit"),{basename:e}=_.useContext(Pa),r=$oe();return _.useCallback(async(n,i={})=>{let{action:s,method:a,encType:o,formData:l,body:c}=nle(n,e);if(i.navigate===!1){let u=i.fetcherKey||Ble();await t.fetch(u,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function kle(t,{relative:e}={}){let{basename:r}=_.useContext(Pa),n=_.useContext(sa);gr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...m1(t||".",{relative:e})},a=Ua();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(d=>d).forEach(d=>o.append("index",d));let u=o.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:xl([r,s.pathname])),vg(s)}function Ele(t,e={}){let r=_.useContext(BK);gr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=LK("useViewTransitionState"),i=m1(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=mu(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=mu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return lb(i.pathname,a)!=null||lb(i.pathname,s)!=null}new TextEncoder;const ve={SUPER_ADMIN:"superAdmin",SUPER_INTENDENT:"superIntendent",ADMIN:"admin",USER:"user",TEACHER:"teacher",PARENT:"parent"},Mle=t=>{switch(t){case ve.SUPER_ADMIN:return"Super Admin";case ve.SUPER_INTENDENT:return"Super Intendent";case ve.ADMIN:return"Principal";case ve.TEACHER:return"Teacher";case ve.PARENT:return"Parent";case ve.USER:return"Student";default:return"Unknown Role"}},ga={MCQS:"multiple-choice",QA:"question-answer"};function NK(t,e){return function(){return t.apply(e,arguments)}}const{toString:Fle}=Object.prototype,{getPrototypeOf:Rk}=Object,dw=(t=>e=>{const r=Fle.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Qa=t=>(t=t.toLowerCase(),e=>dw(e)===t),hw=t=>e=>typeof e===t,{isArray:df}=Array,xg=hw("undefined");function Tle(t){return t!==null&&!xg(t)&&t.constructor!==null&&!xg(t.constructor)&&ms(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const jK=Qa("ArrayBuffer");function Dle(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&jK(t.buffer),e}const Lle=hw("string"),ms=hw("function"),IK=hw("number"),Aw=t=>t!==null&&typeof t=="object",Nle=t=>t===!0||t===!1,C4=t=>{if(dw(t)!=="object")return!1;const e=Rk(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},jle=Qa("Date"),Ile=Qa("File"),Ole=Qa("Blob"),Ple=Qa("FileList"),Ule=t=>Aw(t)&&ms(t.pipe),Qle=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ms(t.append)&&((e=dw(t))==="formdata"||e==="object"&&ms(t.toString)&&t.toString()==="[object FormData]"))},Rle=Qa("URLSearchParams"),[Hle,zle,$le,Vle]=["ReadableStream","Request","Response","Headers"].map(Qa),Kle=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function g1(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),df(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function OK(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Ud=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,PK=t=>!xg(t)&&t!==Ud;function kS(){const{caseless:t}=PK(this)&&this||{},e={},r=(n,i)=>{const s=t&&OK(e,i)||i;C4(e[s])&&C4(n)?e[s]=kS(e[s],n):C4(n)?e[s]=kS({},n):df(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&g1(arguments[n],r);return e}const qle=(t,e,r,{allOwnKeys:n}={})=>(g1(e,(i,s)=>{r&&ms(i)?t[s]=NK(i,r):t[s]=i},{allOwnKeys:n}),t),Wle=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Gle=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Xle=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&Rk(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Yle=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Jle=t=>{if(!t)return null;if(df(t))return t;let e=t.length;if(!IK(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Zle=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Rk(Uint8Array)),ece=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},tce=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},rce=Qa("HTMLFormElement"),nce=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),LD=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),ice=Qa("RegExp"),UK=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};g1(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},sce=t=>{UK(t,(e,r)=>{if(ms(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(ms(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ace=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return df(t)?n(t):n(String(t).split(e)),r},oce=()=>{},lce=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,x6="abcdefghijklmnopqrstuvwxyz",ND="0123456789",QK={DIGIT:ND,ALPHA:x6,ALPHA_DIGIT:x6+x6.toUpperCase()+ND},cce=(t=16,e=QK.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function uce(t){return!!(t&&ms(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const dce=t=>{const e=new Array(10),r=(n,i)=>{if(Aw(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=df(n)?[]:{};return g1(n,(a,o)=>{const l=r(a,i+1);!xg(l)&&(s[o]=l)}),e[i]=void 0,s}}return n};return r(t,0)},hce=Qa("AsyncFunction"),Ace=t=>t&&(Aw(t)||ms(t))&&ms(t.then)&&ms(t.catch),RK=((t,e)=>t?setImmediate:e?((r,n)=>(Ud.addEventListener("message",({source:i,data:s})=>{i===Ud&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Ud.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ms(Ud.postMessage)),fce=typeof queueMicrotask<"u"?queueMicrotask.bind(Ud):typeof process<"u"&&process.nextTick||RK,ce={isArray:df,isArrayBuffer:jK,isBuffer:Tle,isFormData:Qle,isArrayBufferView:Dle,isString:Lle,isNumber:IK,isBoolean:Nle,isObject:Aw,isPlainObject:C4,isReadableStream:Hle,isRequest:zle,isResponse:$le,isHeaders:Vle,isUndefined:xg,isDate:jle,isFile:Ile,isBlob:Ole,isRegExp:ice,isFunction:ms,isStream:Ule,isURLSearchParams:Rle,isTypedArray:Zle,isFileList:Ple,forEach:g1,merge:kS,extend:qle,trim:Kle,stripBOM:Wle,inherits:Gle,toFlatObject:Xle,kindOf:dw,kindOfTest:Qa,endsWith:Yle,toArray:Jle,forEachEntry:ece,matchAll:tce,isHTMLForm:rce,hasOwnProperty:LD,hasOwnProp:LD,reduceDescriptors:UK,freezeMethods:sce,toObjectSet:ace,toCamelCase:nce,noop:oce,toFiniteNumber:lce,findKey:OK,global:Ud,isContextDefined:PK,ALPHABET:QK,generateString:cce,isSpecCompliantForm:uce,toJSONObject:dce,isAsyncFn:hce,isThenable:Ace,setImmediate:RK,asap:fce};function ct(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}ce.inherits(ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ce.toJSONObject(this.config),code:this.code,status:this.status}}});const HK=ct.prototype,zK={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{zK[t]={value:t}});Object.defineProperties(ct,zK);Object.defineProperty(HK,"isAxiosError",{value:!0});ct.from=(t,e,r,n,i,s)=>{const a=Object.create(HK);return ce.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),ct.call(a,t.message,e,r,n,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const pce=null;function ES(t){return ce.isPlainObject(t)||ce.isArray(t)}function $K(t){return ce.endsWith(t,"[]")?t.slice(0,-2):t}function jD(t,e,r){return t?t.concat(e).map(function(i,s){return i=$K(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function mce(t){return ce.isArray(t)&&!t.some(ES)}const gce=ce.toFlatObject(ce,{},null,function(e){return/^is[A-Z]/.test(e)});function fw(t,e,r){if(!ce.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ce.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!ce.isUndefined(y[m])});const n=r.metaTokens,i=r.visitor||u,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&ce.isSpecCompliantForm(e);if(!ce.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(ce.isDate(p))return p.toISOString();if(!l&&ce.isBlob(p))throw new ct("Blob is not supported. Use a Buffer instead.");return ce.isArrayBuffer(p)||ce.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,y){let g=p;if(p&&!y&&typeof p=="object"){if(ce.endsWith(m,"{}"))m=n?m:m.slice(0,-2),p=JSON.stringify(p);else if(ce.isArray(p)&&mce(p)||(ce.isFileList(p)||ce.endsWith(m,"[]"))&&(g=ce.toArray(p)))return m=$K(m),g.forEach(function(x,b){!(ce.isUndefined(x)||x===null)&&e.append(a===!0?jD([m],b,s):a===null?m:m+"[]",c(x))}),!1}return ES(p)?!0:(e.append(jD(y,m,s),c(p)),!1)}const d=[],A=Object.assign(gce,{defaultVisitor:u,convertValue:c,isVisitable:ES});function f(p,m){if(!ce.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),ce.forEach(p,function(g,v){(!(ce.isUndefined(g)||g===null)&&i.call(e,g,ce.isString(v)?v.trim():v,m,A))===!0&&f(g,m?m.concat(v):[v])}),d.pop()}}if(!ce.isObject(t))throw new TypeError("data must be an object");return f(t),e}function ID(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Hk(t,e){this._pairs=[],t&&fw(t,this,e)}const VK=Hk.prototype;VK.append=function(e,r){this._pairs.push([e,r])};VK.toString=function(e){const r=e?function(n){return e.call(this,n,ID)}:ID;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function yce(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function KK(t,e,r){if(!e)return t;const n=r&&r.encode||yce;ce.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=ce.isURLSearchParams(e)?e.toString():new Hk(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class OD{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ce.forEach(this.handlers,function(n){n!==null&&e(n)})}}const qK={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vce=typeof URLSearchParams<"u"?URLSearchParams:Hk,xce=typeof FormData<"u"?FormData:null,bce=typeof Blob<"u"?Blob:null,wce={isBrowser:!0,classes:{URLSearchParams:vce,FormData:xce,Blob:bce},protocols:["http","https","file","blob","url","data"]},zk=typeof window<"u"&&typeof document<"u",MS=typeof navigator=="object"&&navigator||void 0,Cce=zk&&(!MS||["ReactNative","NativeScript","NS"].indexOf(MS.product)<0),Sce=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Bce=zk&&window.location.href||"http://localhost",_ce=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zk,hasStandardBrowserEnv:Cce,hasStandardBrowserWebWorkerEnv:Sce,navigator:MS,origin:Bce},Symbol.toStringTag,{value:"Module"})),Xn={..._ce,...wce};function kce(t,e){return fw(t,new Xn.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return Xn.isNode&&ce.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Ece(t){return ce.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Mce(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function WK(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&ce.isArray(i)?i.length:a,l?(ce.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!ce.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&ce.isArray(i[a])&&(i[a]=Mce(i[a])),!o)}if(ce.isFormData(t)&&ce.isFunction(t.entries)){const r={};return ce.forEachEntry(t,(n,i)=>{e(Ece(n),i,r,0)}),r}return null}function Fce(t,e,r){if(ce.isString(t))try{return(e||JSON.parse)(t),ce.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(t)}const y1={transitional:qK,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=ce.isObject(e);if(s&&ce.isHTMLForm(e)&&(e=new FormData(e)),ce.isFormData(e))return i?JSON.stringify(WK(e)):e;if(ce.isArrayBuffer(e)||ce.isBuffer(e)||ce.isStream(e)||ce.isFile(e)||ce.isBlob(e)||ce.isReadableStream(e))return e;if(ce.isArrayBufferView(e))return e.buffer;if(ce.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return kce(e,this.formSerializer).toString();if((o=ce.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return fw(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),Fce(e)):e}],transformResponse:[function(e){const r=this.transitional||y1.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(ce.isResponse(e)||ce.isReadableStream(e))return e;if(e&&ce.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?ct.from(o,ct.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xn.classes.FormData,Blob:Xn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ce.forEach(["delete","get","head","post","put","patch"],t=>{y1.headers[t]={}});const Tce=ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Dce=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&Tce[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},PD=Symbol("internals");function Hf(t){return t&&String(t).trim().toLowerCase()}function S4(t){return t===!1||t==null?t:ce.isArray(t)?t.map(S4):String(t)}function Lce(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Nce=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function b6(t,e,r,n,i){if(ce.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!ce.isString(e)){if(ce.isString(n))return e.indexOf(n)!==-1;if(ce.isRegExp(n))return n.test(e)}}function jce(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Ice(t,e){const r=ce.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}class Ui{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,l,c){const u=Hf(l);if(!u)throw new Error("header name must be a non-empty string");const d=ce.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=S4(o))}const a=(o,l)=>ce.forEach(o,(c,u)=>s(c,u,l));if(ce.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(ce.isString(e)&&(e=e.trim())&&!Nce(e))a(Dce(e),r);else if(ce.isHeaders(e))for(const[o,l]of e.entries())s(l,o,n);else e!=null&&s(r,e,n);return this}get(e,r){if(e=Hf(e),e){const n=ce.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return Lce(i);if(ce.isFunction(r))return r.call(this,i,n);if(ce.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Hf(e),e){const n=ce.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||b6(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=Hf(a),a){const o=ce.findKey(n,a);o&&(!r||b6(n,n[o],o,r))&&(delete n[o],i=!0)}}return ce.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||b6(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return ce.forEach(this,(i,s)=>{const a=ce.findKey(n,s);if(a){r[a]=S4(i),delete r[s];return}const o=e?jce(s):String(s).trim();o!==s&&delete r[s],r[o]=S4(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ce.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&ce.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[PD]=this[PD]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=Hf(a);n[o]||(Ice(i,a),n[o]=!0)}return ce.isArray(e)?e.forEach(s):s(e),this}}Ui.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ce.reduceDescriptors(Ui.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});ce.freezeMethods(Ui);function w6(t,e){const r=this||y1,n=e||r,i=Ui.from(n.headers);let s=n.data;return ce.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function GK(t){return!!(t&&t.__CANCEL__)}function hf(t,e,r){ct.call(this,t??"canceled",ct.ERR_CANCELED,e,r),this.name="CanceledError"}ce.inherits(hf,ct,{__CANCEL__:!0});function XK(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new ct("Request failed with status code "+r.status,[ct.ERR_BAD_REQUEST,ct.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Oce(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Pce(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=n[s];a||(a=c),r[i]=l,n[i]=c;let d=s,A=0;for(;d!==i;)A+=r[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-a<e)return;const f=u&&c-u;return f?Math.round(A*1e3/f):void 0}}function Uce(t,e){let r=0,n=1e3/e,i,s;const a=(c,u=Date.now())=>{r=u,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-r;d>=n?a(c,u):(i=c,s||(s=setTimeout(()=>{s=null,a(i)},n-d)))},()=>i&&a(i)]}const cb=(t,e,r=3)=>{let n=0;const i=Pce(50,250);return Uce(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,c=i(l),u=a<=o;n=a;const d={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(d)},r)},UD=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},QD=t=>(...e)=>ce.asap(()=>t(...e)),Qce=Xn.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Xn.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Xn.origin),Xn.navigator&&/(msie|trident)/i.test(Xn.navigator.userAgent)):()=>!0,Rce=Xn.hasStandardBrowserEnv?{write(t,e,r,n,i,s){const a=[t+"="+encodeURIComponent(e)];ce.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),ce.isString(n)&&a.push("path="+n),ce.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Hce(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function zce(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function YK(t,e){return t&&!Hce(e)?zce(t,e):e}const RD=t=>t instanceof Ui?{...t}:t;function Ah(t,e){e=e||{};const r={};function n(c,u,d,A){return ce.isPlainObject(c)&&ce.isPlainObject(u)?ce.merge.call({caseless:A},c,u):ce.isPlainObject(u)?ce.merge({},u):ce.isArray(u)?u.slice():u}function i(c,u,d,A){if(ce.isUndefined(u)){if(!ce.isUndefined(c))return n(void 0,c,d,A)}else return n(c,u,d,A)}function s(c,u){if(!ce.isUndefined(u))return n(void 0,u)}function a(c,u){if(ce.isUndefined(u)){if(!ce.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function o(c,u,d){if(d in e)return n(c,u);if(d in t)return n(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,u,d)=>i(RD(c),RD(u),d,!0)};return ce.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,A=d(t[u],e[u],u);ce.isUndefined(A)&&d!==o||(r[u]=A)}),r}const JK=t=>{const e=Ah({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;e.headers=a=Ui.from(a),e.url=KK(YK(e.baseURL,e.url),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(ce.isFormData(r)){if(Xn.hasStandardBrowserEnv||Xn.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Xn.hasStandardBrowserEnv&&(n&&ce.isFunction(n)&&(n=n(e)),n||n!==!1&&Qce(e.url))){const c=i&&s&&Rce.read(s);c&&a.set(i,c)}return e},$ce=typeof XMLHttpRequest<"u",Vce=$ce&&function(t){return new Promise(function(r,n){const i=JK(t);let s=i.data;const a=Ui.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=i,u,d,A,f,p;function m(){f&&f(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function g(){if(!y)return;const x=Ui.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:x,config:t,request:y};XK(function(S){r(S),m()},function(S){n(S),m()},w),y=null}"onloadend"in y?y.onloadend=g:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(g)},y.onabort=function(){y&&(n(new ct("Request aborted",ct.ECONNABORTED,t,y)),y=null)},y.onerror=function(){n(new ct("Network Error",ct.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const w=i.transitional||qK;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new ct(b,w.clarifyTimeoutError?ct.ETIMEDOUT:ct.ECONNABORTED,t,y)),y=null},s===void 0&&a.setContentType(null),"setRequestHeader"in y&&ce.forEach(a.toJSON(),function(b,w){y.setRequestHeader(w,b)}),ce.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),o&&o!=="json"&&(y.responseType=i.responseType),c&&([A,p]=cb(c,!0),y.addEventListener("progress",A)),l&&y.upload&&([d,f]=cb(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(u=x=>{y&&(n(!x||x.type?new hf(null,t,y):x),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const v=Oce(i.url);if(v&&Xn.protocols.indexOf(v)===-1){n(new ct("Unsupported protocol "+v+":",ct.ERR_BAD_REQUEST,t));return}y.send(s||null)})},Kce=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(c){if(!i){i=!0,o();const u=c instanceof Error?c:this.reason;n.abort(u instanceof ct?u:new hf(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,s(new ct(`timeout ${e} of ms exceeded`,ct.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>ce.asap(o),l}},qce=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},Wce=async function*(t,e){for await(const r of Gce(t))yield*qce(r,e)},Gce=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},HD=(t,e,r,n)=>{const i=Wce(t,e);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){o(),l.close();return}let d=u.byteLength;if(r){let A=s+=d;r(A)}l.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},pw=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ZK=pw&&typeof ReadableStream=="function",Xce=pw&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),eq=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Yce=ZK&&eq(()=>{let t=!1;const e=new Request(Xn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),zD=64*1024,FS=ZK&&eq(()=>ce.isReadableStream(new Response("").body)),ub={stream:FS&&(t=>t.body)};pw&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ub[e]&&(ub[e]=ce.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new ct(`Response type '${e}' is not supported`,ct.ERR_NOT_SUPPORT,n)})})})(new Response);const Jce=async t=>{if(t==null)return 0;if(ce.isBlob(t))return t.size;if(ce.isSpecCompliantForm(t))return(await new Request(Xn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ce.isArrayBufferView(t)||ce.isArrayBuffer(t))return t.byteLength;if(ce.isURLSearchParams(t)&&(t=t+""),ce.isString(t))return(await Xce(t)).byteLength},Zce=async(t,e)=>{const r=ce.toFiniteNumber(t.getContentLength());return r??Jce(e)},eue=pw&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:A}=JK(t);c=c?(c+"").toLowerCase():"text";let f=Kce([i,s&&s.toAbortSignal()],a),p;const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let y;try{if(l&&Yce&&r!=="get"&&r!=="head"&&(y=await Zce(u,n))!==0){let w=new Request(e,{method:"POST",body:n,duplex:"half"}),C;if(ce.isFormData(n)&&(C=w.headers.get("content-type"))&&u.setContentType(C),w.body){const[S,B]=UD(y,cb(QD(l)));n=HD(w.body,zD,S,B)}}ce.isString(d)||(d=d?"include":"omit");const g="credentials"in Request.prototype;p=new Request(e,{...A,signal:f,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:g?d:void 0});let v=await fetch(p);const x=FS&&(c==="stream"||c==="response");if(FS&&(o||x&&m)){const w={};["status","statusText","headers"].forEach(E=>{w[E]=v[E]});const C=ce.toFiniteNumber(v.headers.get("content-length")),[S,B]=o&&UD(C,cb(QD(o),!0))||[];v=new Response(HD(v.body,zD,S,()=>{B&&B(),m&&m()}),w)}c=c||"text";let b=await ub[ce.findKey(ub,c)||"text"](v,t);return!x&&m&&m(),await new Promise((w,C)=>{XK(w,C,{data:b,headers:Ui.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:p})})}catch(g){throw m&&m(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new ct("Network Error",ct.ERR_NETWORK,t,p),{cause:g.cause||g}):ct.from(g,g&&g.code,t,p)}}),TS={http:pce,xhr:Vce,fetch:eue};ce.forEach(TS,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const $D=t=>`- ${t}`,tue=t=>ce.isFunction(t)||t===null||t===!1,tq={getAdapter:t=>{t=ce.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let s=0;s<e;s++){r=t[s];let a;if(n=r,!tue(r)&&(n=TS[(a=String(r)).toLowerCase()],n===void 0))throw new ct(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+s]=n}if(!n){const s=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map($D).join(`
`):" "+$D(s[0]):"as no adapter specified";throw new ct("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:TS};function C6(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new hf(null,t)}function VD(t){return C6(t),t.headers=Ui.from(t.headers),t.data=w6.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),tq.getAdapter(t.adapter||y1.adapter)(t).then(function(n){return C6(t),n.data=w6.call(t,t.transformResponse,n),n.headers=Ui.from(n.headers),n},function(n){return GK(n)||(C6(t),n&&n.response&&(n.response.data=w6.call(t,t.transformResponse,n.response),n.response.headers=Ui.from(n.response.headers))),Promise.reject(n)})}const rq="1.7.9",mw={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{mw[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const KD={};mw.transitional=function(e,r,n){function i(s,a){return"[Axios v"+rq+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new ct(i(a," has been removed"+(r?" in "+r:"")),ct.ERR_DEPRECATED);return r&&!KD[a]&&(KD[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};mw.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function rue(t,e,r){if(typeof t!="object")throw new ct("options must be an object",ct.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new ct("option "+s+" must be "+l,ct.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ct("Unknown option "+s,ct.ERR_BAD_OPTION)}}const B4={assertOptions:rue,validators:mw},za=B4.validators;class Xd{constructor(e){this.defaults=e,this.interceptors={request:new OD,response:new OD}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ah(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&B4.assertOptions(n,{silentJSONParsing:za.transitional(za.boolean),forcedJSONParsing:za.transitional(za.boolean),clarifyTimeoutError:za.transitional(za.boolean)},!1),i!=null&&(ce.isFunction(i)?r.paramsSerializer={serialize:i}:B4.assertOptions(i,{encode:za.function,serialize:za.function},!0)),B4.assertOptions(r,{baseUrl:za.spelling("baseURL"),withXsrfToken:za.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&ce.merge(s.common,s[r.method]);s&&ce.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=Ui.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(l=l&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,A;if(!l){const p=[VD.bind(this),void 0];for(p.unshift.apply(p,o),p.push.apply(p,c),A=p.length,u=Promise.resolve(r);d<A;)u=u.then(p[d++],p[d++]);return u}A=o.length;let f=r;for(d=0;d<A;){const p=o[d++],m=o[d++];try{f=p(f)}catch(y){m.call(this,y);break}}try{u=VD.call(this,f)}catch(p){return Promise.reject(p)}for(d=0,A=c.length;d<A;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Ah(this.defaults,e);const r=YK(e.baseURL,e.url);return KK(r,e.params,e.paramsSerializer)}}ce.forEach(["delete","get","head","options"],function(e){Xd.prototype[e]=function(r,n){return this.request(Ah(n||{},{method:e,url:r,data:(n||{}).data}))}});ce.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(Ah(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Xd.prototype[e]=r(),Xd.prototype[e+"Form"]=r(!0)});class $k{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new hf(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new $k(function(i){e=i}),cancel:e}}}function nue(t){return function(r){return t.apply(null,r)}}function iue(t){return ce.isObject(t)&&t.isAxiosError===!0}const DS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(DS).forEach(([t,e])=>{DS[e]=t});function nq(t){const e=new Xd(t),r=NK(Xd.prototype.request,e);return ce.extend(r,Xd.prototype,e,{allOwnKeys:!0}),ce.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return nq(Ah(t,i))},r}const Bt=nq(y1);Bt.Axios=Xd;Bt.CanceledError=hf;Bt.CancelToken=$k;Bt.isCancel=GK;Bt.VERSION=rq;Bt.toFormData=fw;Bt.AxiosError=ct;Bt.Cancel=Bt.CanceledError;Bt.all=function(e){return Promise.all(e)};Bt.spread=nue;Bt.isAxiosError=iue;Bt.mergeConfig=Ah;Bt.AxiosHeaders=Ui;Bt.formToJSON=t=>WK(ce.isHTMLForm(t)?new FormData(t):t);Bt.getAdapter=tq.getAdapter;Bt.HttpStatusCode=DS;Bt.default=Bt;const Tt="https://edu.tooty.ai/backend";localStorage.getItem("accessToken");const _4=["gpt-3.5-turbo","gpt-4o-mini","o1-mini","gpt-4-turbo","gpt-4-turbo-preview"],bg=async(t,e,r,n,i)=>{var s,a;try{return await t(r,e,{headers:n})}catch(o){if(((a=(s=o.response)==null?void 0:s.data)==null?void 0:a.statusCode)===4001)try{const l=await sue(),c={...n,token:l};return await t(r,e,{headers:c})}catch(l){throw console.error("Token refresh failed:",l),await aue(i),new Error("Token refresh failed. Please log in again.")}else throw o}},sue=async()=>{var r,n;const t=localStorage.getItem("refreshToken");if(!t)throw new Error("No refresh token available");const e=await Bt.post(`${Tt}/auth/refresh-access-token`,{refresh_token:t},{headers:{"Content-Type":"application/json",token:t}});if(((r=e==null?void 0:e.data)==null?void 0:r.statusCode)===200)return localStorage.setItem("accessToken",(n=e==null?void 0:e.data)==null?void 0:n.accessToken),e==null?void 0:e.data.accessToken;throw new Error("Token refresh failed")},aue=async t=>{try{await Bt.post(`${Tt}/auth/logout`,{refresh_token:`${localStorage.getItem("refreshToken")}`}),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),t(setAuthenticated(!1))}catch(e){console.error("Logout failed:",e)}};class iq{static async UserLogout(e){console.log(e);const r=await Bt.post(`${Tt}/auth/logout`,e,{Headers:{"Content-Type":"applicaiton/json"},headers:{token:localStorage.getItem("accessToken")}});return console.log("res logout",r),r}static async UpdateAvatar(e,r){const n={"Content-Type":"multipart/form-data",token:localStorage.getItem("accessToken")};return bg((i,s,a)=>Bt.put(i,s,a),e,`${Tt}/auth/update-avatar`,n,r)}}var sq={exports:{}},aq={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1=_;function oue(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lue=typeof Object.is=="function"?Object.is:oue,cue=v1.useSyncExternalStore,uue=v1.useRef,due=v1.useEffect,hue=v1.useMemo,Aue=v1.useDebugValue;aq.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=uue(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=hue(function(){function l(f){if(!c){if(c=!0,u=f,f=n(f),i!==void 0&&a.hasValue){var p=a.value;if(i(p,f))return d=p}return d=f}if(p=d,lue(u,f))return p;var m=n(f);return i!==void 0&&i(p,m)?(u=f,p):(u=f,d=m)}var c=!1,u,d,A=r===void 0?null:r;return[function(){return l(e())},A===null?void 0:function(){return l(A())}]},[e,r,n,i]);var o=cue(t,s[0],s[1]);return due(function(){a.hasValue=!0,a.value=o},[o]),Aue(o),o};sq.exports=aq;var fue=sq.exports;function oq(t){t()}function pue(){let t=null,e=null;return{clear(){t=null,e=null},notify(){oq(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var qD={notify(){},get:()=>[]};function mue(t,e){let r,n=qD,i=0,s=!1;function a(m){u();const y=n.subscribe(m);let g=!1;return()=>{g||(g=!0,y(),d())}}function o(){n.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return s}function u(){i++,r||(r=t.subscribe(l),n=pue())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=qD)}function A(){s||(s=!0,u())}function f(){s&&(s=!1,d())}const p={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:A,tryUnsubscribe:f,getListeners:()=>n};return p}var gue=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yue=gue(),vue=()=>typeof navigator<"u"&&navigator.product==="ReactNative",xue=vue(),bue=()=>yue||xue?_.useLayoutEffect:_.useEffect,wue=bue();function WD(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function ym(t,e){if(WD(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!WD(t[r[i]],e[r[i]]))return!1;return!0}var S6=Symbol.for("react-redux-context"),B6=typeof globalThis<"u"?globalThis:{};function Cue(){if(!_.createContext)return{};const t=B6[S6]??(B6[S6]=new Map);let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var gu=Cue();function Sue(t){const{children:e,context:r,serverState:n,store:i}=t,s=_.useMemo(()=>{const l=mue(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),a=_.useMemo(()=>i.getState(),[i]);wue(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=r||gu;return _.createElement(o.Provider,{value:s},e)}var Bue=Sue;function Vk(t=gu){return function(){return _.useContext(t)}}var lq=Vk();function cq(t=gu){const e=t===gu?lq:Vk(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var uq=cq();function _ue(t=gu){const e=t===gu?uq:cq(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var Af=_ue(),kue=(t,e)=>t===e;function Eue(t=gu){const e=t===gu?lq:Vk(t),r=(n,i={})=>{const{equalityFn:s=kue}=typeof i=="function"?{equalityFn:i}:i,a=e(),{store:o,subscription:l,getServerState:c}=a;_.useRef(!0);const u=_.useCallback({[n.name](A){return n(A)}}[n.name],[n]),d=fue.useSyncExternalStoreWithSelector(l.addNestedSub,o.getState,c||o.getState,u,s);return _.useDebugValue(d),d};return Object.assign(r,{withTypes:()=>r}),r}var yu=Eue(),Mue=oq;function Bn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Fue=typeof Symbol=="function"&&Symbol.observable||"@@observable",GD=Fue,_6=()=>Math.random().toString(36).substring(7).split("").join("."),Tue={INIT:`@@redux/INIT${_6()}`,REPLACE:`@@redux/REPLACE${_6()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${_6()}`},db=Tue;function ko(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function dq(t,e,r){if(typeof t!="function")throw new Error(Bn(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Bn(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Bn(1));return r(dq)(t,e)}let n=t,i=e,s=new Map,a=s,o=0,l=!1;function c(){a===s&&(a=new Map,s.forEach((y,g)=>{a.set(g,y)}))}function u(){if(l)throw new Error(Bn(3));return i}function d(y){if(typeof y!="function")throw new Error(Bn(4));if(l)throw new Error(Bn(5));let g=!0;c();const v=o++;return a.set(v,y),function(){if(g){if(l)throw new Error(Bn(6));g=!1,c(),a.delete(v),s=null}}}function A(y){if(!ko(y))throw new Error(Bn(7));if(typeof y.type>"u")throw new Error(Bn(8));if(typeof y.type!="string")throw new Error(Bn(17));if(l)throw new Error(Bn(9));try{l=!0,i=n(i,y)}finally{l=!1}return(s=a).forEach(v=>{v()}),y}function f(y){if(typeof y!="function")throw new Error(Bn(10));n=y,A({type:db.REPLACE})}function p(){const y=d;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(Bn(11));function v(){const b=g;b.next&&b.next(u())}return v(),{unsubscribe:y(v)}},[GD](){return this}}}return A({type:db.INIT}),{dispatch:A,subscribe:d,getState:u,replaceReducer:f,[GD]:p}}function Due(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:db.INIT})>"u")throw new Error(Bn(12));if(typeof r(void 0,{type:db.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Bn(13))})}function hq(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(r[a]=t[a])}const n=Object.keys(r);let i;try{Due(r)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const c={};for(let u=0;u<n.length;u++){const d=n[u],A=r[d],f=a[d],p=A(f,o);if(typeof p>"u")throw o&&o.type,new Error(Bn(14));c[d]=p,l=l||p!==f}return l=l||n.length!==Object.keys(a).length,l?c:a}}function hb(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function Lue(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(Bn(15))};const a={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},o=t.map(l=>l(a));return s=hb(...o)(i.dispatch),{...i,dispatch:s}}}function Aq(t){return ko(t)&&"type"in t&&typeof t.type=="string"}var Kk=Symbol.for("immer-nothing"),vm=Symbol.for("immer-draftable"),Vi=Symbol.for("immer-state");function Fn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var fh=Object.getPrototypeOf;function Eo(t){return!!t&&!!t[Vi]}function Ia(t){var e;return t?fq(t)||Array.isArray(t)||!!t[vm]||!!((e=t.constructor)!=null&&e[vm])||x1(t)||b1(t):!1}var Nue=Object.prototype.constructor.toString();function fq(t){if(!t||typeof t!="object")return!1;const e=fh(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Nue}function jue(t){return Eo(t)||Fn(15,t),t[Vi].base_}function wg(t,e){ph(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function ph(t){const e=t[Vi];return e?e.type_:Array.isArray(t)?1:x1(t)?2:b1(t)?3:0}function Cg(t,e){return ph(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function k6(t,e){return ph(t)===2?t.get(e):t[e]}function pq(t,e,r){const n=ph(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function Iue(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function x1(t){return t instanceof Map}function b1(t){return t instanceof Set}function vd(t){return t.copy_||t.base_}function LS(t,e){if(x1(t))return new Map(t);if(b1(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=fq(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Vi];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(fh(t),n)}else{const n=fh(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function qk(t,e=!1){return gw(t)||Eo(t)||!Ia(t)||(ph(t)>1&&(t.set=t.add=t.clear=t.delete=Oue),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>qk(n,!0))),t}function Oue(){Fn(2)}function gw(t){return Object.isFrozen(t)}var NS={};function mh(t){const e=NS[t];return e||Fn(0,t),e}function Pue(t,e){NS[t]||(NS[t]=e)}var Sg;function mq(){return Sg}function Uue(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function XD(t,e){e&&(mh("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function jS(t){IS(t),t.drafts_.forEach(Que),t.drafts_=null}function IS(t){t===Sg&&(Sg=t.parent_)}function YD(t){return Sg=Uue(Sg,t)}function Que(t){const e=t[Vi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function JD(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Vi].modified_&&(jS(e),Fn(4)),Ia(t)&&(t=Ab(e,t),e.parent_||fb(e,t)),e.patches_&&mh("Patches").generateReplacementPatches_(r[Vi].base_,t,e.patches_,e.inversePatches_)):t=Ab(e,r,[]),jS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Kk?t:void 0}function Ab(t,e,r){if(gw(e))return e;const n=e[Vi];if(!n)return wg(e,(i,s)=>ZD(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return fb(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),wg(s,(o,l)=>ZD(t,n,i,o,l,r,a)),fb(t,i,!1),r&&t.patches_&&mh("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function ZD(t,e,r,n,i,s,a){if(Eo(i)){const o=s&&e&&e.type_!==3&&!Cg(e.assigned_,n)?s.concat(n):void 0,l=Ab(t,i,o);if(pq(r,n,l),Eo(l))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Ia(i)&&!gw(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Ab(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&fb(t,i)}}function fb(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&qk(e,r)}function Rue(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:mq(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=Wk;r&&(i=[n],s=Bg);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var Wk={get(t,e){if(e===Vi)return t;const r=vd(t);if(!Cg(r,e))return Hue(t,r,e);const n=r[e];return t.finalized_||!Ia(n)?n:n===E6(t.base_,e)?(M6(t),t.copy_[e]=PS(n,t)):n},has(t,e){return e in vd(t)},ownKeys(t){return Reflect.ownKeys(vd(t))},set(t,e,r){const n=gq(vd(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=E6(vd(t),e),s=i==null?void 0:i[Vi];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(Iue(r,i)&&(r!==void 0||Cg(t.base_,e)))return!0;M6(t),OS(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return E6(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,M6(t),OS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=vd(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Fn(11)},getPrototypeOf(t){return fh(t.base_)},setPrototypeOf(){Fn(12)}},Bg={};wg(Wk,(t,e)=>{Bg[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Bg.deleteProperty=function(t,e){return Bg.set.call(this,t,e,void 0)};Bg.set=function(t,e,r){return Wk.set.call(this,t[0],e,r,t[0])};function E6(t,e){const r=t[Vi];return(r?vd(r):t)[e]}function Hue(t,e,r){var i;const n=gq(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function gq(t,e){if(!(e in t))return;let r=fh(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=fh(r)}}function OS(t){t.modified_||(t.modified_=!0,t.parent_&&OS(t.parent_))}function M6(t){t.copy_||(t.copy_=LS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var zue=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(l=s,...c){return a.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&Fn(6),n!==void 0&&typeof n!="function"&&Fn(7);let i;if(Ia(e)){const s=YD(this),a=PS(e,void 0);let o=!0;try{i=r(a),o=!1}finally{o?jS(s):IS(s)}return XD(s,n),JD(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===Kk&&(i=void 0),this.autoFreeze_&&qk(i,!0),n){const s=[],a=[];mh("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else Fn(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let n,i;return[this.produce(e,r,(a,o)=>{n=a,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ia(t)||Fn(8),Eo(t)&&(t=$ue(t));const e=YD(this),r=PS(t,void 0);return r[Vi].isManual_=!0,IS(e),r}finishDraft(t,e){const r=t&&t[Vi];(!r||!r.isManual_)&&Fn(9);const{scope_:n}=r;return XD(n,e),JD(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=mh("Patches").applyPatches_;return Eo(t)?n(t,e):this.produce(t,i=>n(i,e))}};function PS(t,e){const r=x1(t)?mh("MapSet").proxyMap_(t,e):b1(t)?mh("MapSet").proxySet_(t,e):Rue(t,e);return(e?e.scope_:mq()).drafts_.push(r),r}function $ue(t){return Eo(t)||Fn(10,t),yq(t)}function yq(t){if(!Ia(t)||gw(t))return t;const e=t[Vi];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=LS(t,e.scope_.immer_.useStrictShallowCopy_)}else r=LS(t,!0);return wg(r,(n,i)=>{pq(r,n,yq(i))}),e&&(e.finalized_=!1),r}function Vue(){const e="replace",r="add",n="remove";function i(A,f,p,m){switch(A.type_){case 0:case 2:return a(A,f,p,m);case 1:return s(A,f,p,m);case 3:return o(A,f,p,m)}}function s(A,f,p,m){let{base_:y,assigned_:g}=A,v=A.copy_;v.length<y.length&&([y,v]=[v,y],[p,m]=[m,p]);for(let x=0;x<y.length;x++)if(g[x]&&v[x]!==y[x]){const b=f.concat([x]);p.push({op:e,path:b,value:d(v[x])}),m.push({op:e,path:b,value:d(y[x])})}for(let x=y.length;x<v.length;x++){const b=f.concat([x]);p.push({op:r,path:b,value:d(v[x])})}for(let x=v.length-1;y.length<=x;--x){const b=f.concat([x]);m.push({op:n,path:b})}}function a(A,f,p,m){const{base_:y,copy_:g}=A;wg(A.assigned_,(v,x)=>{const b=k6(y,v),w=k6(g,v),C=x?Cg(y,v)?e:r:n;if(b===w&&C===e)return;const S=f.concat(v);p.push(C===n?{op:C,path:S}:{op:C,path:S,value:w}),m.push(C===r?{op:n,path:S}:C===n?{op:r,path:S,value:d(b)}:{op:e,path:S,value:d(b)})})}function o(A,f,p,m){let{base_:y,copy_:g}=A,v=0;y.forEach(x=>{if(!g.has(x)){const b=f.concat([v]);p.push({op:n,path:b,value:x}),m.unshift({op:r,path:b,value:x})}v++}),v=0,g.forEach(x=>{if(!y.has(x)){const b=f.concat([v]);p.push({op:r,path:b,value:x}),m.unshift({op:n,path:b,value:x})}v++})}function l(A,f,p,m){p.push({op:e,path:[],value:f===Kk?void 0:f}),m.push({op:e,path:[],value:A})}function c(A,f){return f.forEach(p=>{const{path:m,op:y}=p;let g=A;for(let w=0;w<m.length-1;w++){const C=ph(g);let S=m[w];typeof S!="string"&&typeof S!="number"&&(S=""+S),(C===0||C===1)&&(S==="__proto__"||S==="constructor")&&Fn(19),typeof g=="function"&&S==="prototype"&&Fn(19),g=k6(g,S),typeof g!="object"&&Fn(18,m.join("/"))}const v=ph(g),x=u(p.value),b=m[m.length-1];switch(y){case e:switch(v){case 2:return g.set(b,x);case 3:Fn(16);default:return g[b]=x}case r:switch(v){case 1:return b==="-"?g.push(x):g.splice(b,0,x);case 2:return g.set(b,x);case 3:return g.add(x);default:return g[b]=x}case n:switch(v){case 1:return g.splice(b,1);case 2:return g.delete(b);case 3:return g.delete(p.value);default:return delete g[b]}default:Fn(17,y)}}),A}function u(A){if(!Ia(A))return A;if(Array.isArray(A))return A.map(u);if(x1(A))return new Map(Array.from(A.entries()).map(([p,m])=>[p,u(m)]));if(b1(A))return new Set(Array.from(A).map(u));const f=Object.create(fh(A));for(const p in A)f[p]=u(A[p]);return Cg(A,vm)&&(f[vm]=A[vm]),f}function d(A){return Eo(A)?u(A):A}Pue("Patches",{applyPatches_:c,generatePatches_:i,generateReplacementPatches_:l})}var xs=new zue,w1=xs.produce,vq=xs.produceWithPatches.bind(xs);xs.setAutoFreeze.bind(xs);xs.setUseStrictShallowCopy.bind(xs);var eL=xs.applyPatches.bind(xs);xs.createDraft.bind(xs);xs.finishDraft.bind(xs);function Kue(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function que(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Wue(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var tL=t=>Array.isArray(t)?t:[t];function Gue(t){const e=Array.isArray(t[0])?t[0]:t;return Wue(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Xue(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var Yue=class{constructor(t){this.value=t}deref(){return this.value}},Jue=typeof WeakRef<"u"?WeakRef:Yue,Zue=0,rL=1;function yy(){return{s:Zue,v:void 0,o:null,p:null}}function pb(t,e={}){let r=yy();const{resultEqualityCheck:n}=e;let i,s=0;function a(){var d;let o=r;const{length:l}=arguments;for(let A=0,f=l;A<f;A++){const p=arguments[A];if(typeof p=="function"||typeof p=="object"&&p!==null){let m=o.o;m===null&&(o.o=m=new WeakMap);const y=m.get(p);y===void 0?(o=yy(),m.set(p,o)):o=y}else{let m=o.p;m===null&&(o.p=m=new Map);const y=m.get(p);y===void 0?(o=yy(),m.set(p,o)):o=y}}const c=o;let u;if(o.s===rL)u=o.v;else if(u=t.apply(null,arguments),s++,n){const A=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;A!=null&&n(A,u)&&(u=A,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new Jue(u):u}return c.s=rL,c.v=u,u}return a.clearCache=()=>{r=yy(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function ede(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),Kue(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:d,memoizeOptions:A=[],argsMemoize:f=pb,argsMemoizeOptions:p=[],devModeChecks:m={}}=u,y=tL(A),g=tL(p),v=Gue(i),x=d(function(){return s++,c.apply(null,arguments)},...y),b=f(function(){a++;const C=Xue(v,arguments);return o=x.apply(null,C),o},...g);return Object.assign(b,{resultFunc:c,memoizedResultFunc:x,dependencies:v,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:f})};return Object.assign(n,{withTypes:()=>n}),n}var Gk=ede(pb),tde=Object.assign((t,e=Gk)=>{que(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,o,l)=>(a[r[l]]=o,a),{}))},{withTypes:()=>tde});function xq(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var rde=xq(),nde=xq,ide=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?hb:hb.apply(null,arguments)},sde=t=>t&&typeof t.match=="function";function Ma(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Fa(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>Aq(n)&&n.type===t,r}var bq=class Up extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Up.prototype)}static get[Symbol.species](){return Up}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Up(...e[0].concat(this)):new Up(...e.concat(this))}};function nL(t){return Ia(t)?w1(t,()=>{}):t}function iL(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function ade(t){return typeof t=="boolean"}var ode=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new bq;return r&&(ade(r)?a.push(rde):a.push(nde(r.extraArgument))),a},Qd="RTK_autoBatch",zf=()=>t=>({payload:t,meta:{[Qd]:!0}}),sL=t=>e=>{setTimeout(e,t)},lde=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,a=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:sL(10):t.type==="callback"?t.queueNotification:sL(t.timeout),c=()=>{a=!1,s&&(s=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const d=()=>i&&u(),A=n.subscribe(d);return o.add(u),()=>{A(),o.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[Qd]),s=!i,s&&(a||(a=!0,l(c))),n.dispatch(u)}finally{i=!0}}})},cde=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new bq(t);return n&&i.push(lde(typeof n=="object"?n:void 0)),i};function ude(t){const e=ode(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t;let o;if(typeof r=="function")o=r;else if(ko(r))o=hq(r);else throw new Error(Fa(1));let l;typeof n=="function"?l=n(e):l=e();let c=hb;i&&(c=ide({trace:!1,...typeof i=="object"&&i}));const u=Lue(...l),d=cde(u);let A=typeof a=="function"?a(d):d();const f=c(...A);return dq(o,s,f)}function wq(t){const e={},r=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Fa(28));if(o in e)throw new Error(Fa(29));return e[o]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function dde(t){return typeof t=="function"}function hde(t,e){let[r,n,i]=wq(e),s;if(dde(t))s=()=>nL(t());else{const o=nL(t);s=()=>o}function a(o=s(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(Eo(u)){const f=d(u,l);return f===void 0?u:f}else{if(Ia(u))return w1(u,A=>d(A,l));{const A=d(u,l);if(A===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return A}}return u},o)}return a.getInitialState=s,a}var Cq=(t,e)=>sde(t)?t.match(e):t(e);function Ll(...t){return e=>t.some(r=>Cq(r,e))}function xm(...t){return e=>t.every(r=>Cq(r,e))}function yw(t,e){if(!t||!t.meta)return!1;const r=typeof t.meta.requestId=="string",n=e.indexOf(t.meta.requestStatus)>-1;return r&&n}function C1(t){return typeof t[0]=="function"&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function Xk(...t){return t.length===0?e=>yw(e,["pending"]):C1(t)?Ll(...t.map(e=>e.pending)):Xk()(t[0])}function UA(...t){return t.length===0?e=>yw(e,["rejected"]):C1(t)?Ll(...t.map(e=>e.rejected)):UA()(t[0])}function vw(...t){const e=r=>r&&r.meta&&r.meta.rejectedWithValue;return t.length===0?xm(UA(...t),e):C1(t)?xm(UA(...t),e):vw()(t[0])}function vu(...t){return t.length===0?e=>yw(e,["fulfilled"]):C1(t)?Ll(...t.map(e=>e.fulfilled)):vu()(t[0])}function US(...t){return t.length===0?e=>yw(e,["pending","fulfilled","rejected"]):C1(t)?Ll(...t.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):US()(t[0])}var Ade="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Yk=(t=21)=>{let e="",r=t;for(;r--;)e+=Ade[Math.random()*64|0];return e},fde=["name","message","stack","code"],F6=class{constructor(t,e){_e(this,"_type");this.payload=t,this.meta=e}},aL=class{constructor(t,e){_e(this,"_type");this.payload=t,this.meta=e}},pde=t=>{if(typeof t=="object"&&t!==null){const e={};for(const r of fde)typeof t[r]=="string"&&(e[r]=t[r]);return e}return{message:String(t)}},oL=(()=>{function t(e,r,n){const i=Ma(e+"/fulfilled",(l,c,u,d)=>({payload:l,meta:{...d||{},arg:u,requestId:c,requestStatus:"fulfilled"}})),s=Ma(e+"/pending",(l,c,u)=>({payload:void 0,meta:{...u||{},arg:c,requestId:l,requestStatus:"pending"}})),a=Ma(e+"/rejected",(l,c,u,d,A)=>({payload:d,error:(n&&n.serializeError||pde)(l||"Rejected"),meta:{...A||{},arg:u,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function o(l){return(c,u,d)=>{const A=n!=null&&n.idGenerator?n.idGenerator(l):Yk(),f=new AbortController;let p,m;function y(v){m=v,f.abort()}const g=async function(){var b,w;let v;try{let C=(b=n==null?void 0:n.condition)==null?void 0:b.call(n,l,{getState:u,extra:d});if(gde(C)&&(C=await C),C===!1||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const S=new Promise((B,E)=>{p=()=>{E({name:"AbortError",message:m||"Aborted"})},f.signal.addEventListener("abort",p)});c(s(A,l,(w=n==null?void 0:n.getPendingMeta)==null?void 0:w.call(n,{requestId:A,arg:l},{getState:u,extra:d}))),v=await Promise.race([S,Promise.resolve(r(l,{dispatch:c,getState:u,extra:d,requestId:A,signal:f.signal,abort:y,rejectWithValue:(B,E)=>new F6(B,E),fulfillWithValue:(B,E)=>new aL(B,E)})).then(B=>{if(B instanceof F6)throw B;return B instanceof aL?i(B.payload,A,l,B.meta):i(B,A,l)})])}catch(C){v=C instanceof F6?a(null,A,l,C.payload,C.meta):a(C,A,l)}finally{p&&f.signal.removeEventListener("abort",p)}return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||c(v),v}();return Object.assign(g,{abort:y,requestId:A,arg:l,unwrap(){return g.then(mde)}})}}return Object.assign(o,{pending:s,rejected:a,fulfilled:i,settled:Ll(a,i),typePrefix:e})}return t.withTypes=()=>t,t})();function mde(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function gde(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var yde=Symbol.for("rtk-slice-createasyncthunk");function vde(t,e){return`${t}/${e}`}function xde({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[yde];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Fa(11));const o=(typeof i.reducers=="function"?i.reducers(wde()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(x,b){const w=typeof x=="string"?x:x.type;if(!w)throw new Error(Fa(12));if(w in c.sliceCaseReducersByType)throw new Error(Fa(13));return c.sliceCaseReducersByType[w]=b,u},addMatcher(x,b){return c.sliceMatchers.push({matcher:x,reducer:b}),u},exposeAction(x,b){return c.actionCreators[x]=b,u},exposeCaseReducer(x,b){return c.sliceCaseReducersByName[x]=b,u}};l.forEach(x=>{const b=o[x],w={reducerName:x,type:vde(s,x),createNotation:typeof i.reducers=="function"};Sde(b)?_de(w,b,u,e):Cde(w,b,u)});function d(){const[x={},b=[],w=void 0]=typeof i.extraReducers=="function"?wq(i.extraReducers):[i.extraReducers],C={...x,...c.sliceCaseReducersByType};return hde(i.initialState,S=>{for(let B in C)S.addCase(B,C[B]);for(let B of c.sliceMatchers)S.addMatcher(B.matcher,B.reducer);for(let B of b)S.addMatcher(B.matcher,B.reducer);w&&S.addDefaultCase(w)})}const A=x=>x,f=new Map;let p;function m(x,b){return p||(p=d()),p(x,b)}function y(){return p||(p=d()),p.getInitialState()}function g(x,b=!1){function w(S){let B=S[x];return typeof B>"u"&&b&&(B=y()),B}function C(S=A){const B=iL(f,b,()=>new WeakMap);return iL(B,S,()=>{const E={};for(const[M,D]of Object.entries(i.selectors??{}))E[M]=bde(D,S,y,b);return E})}return{reducerPath:x,getSelectors:C,get selectors(){return C(w)},selectSlice:w}}const v={name:s,reducer:m,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:y,...g(a),injectInto(x,{reducerPath:b,...w}={}){const C=b??a;return x.inject({reducerPath:C,reducer:m},w),{...v,...g(C,!0)}}};return v}}function bde(t,e,r,n){function i(s,...a){let o=e(s);return typeof o>"u"&&n&&(o=r()),t(o,...a)}return i.unwrapped=t,i}var xd=xde();function wde(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function Cde({type:t,reducerName:e,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!Bde(n))throw new Error(Fa(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Ma(t,a):Ma(t))}function Sde(t){return t._reducerDefinitionType==="asyncThunk"}function Bde(t){return t._reducerDefinitionType==="reducerWithPrepare"}function _de({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Fa(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:c,options:u}=r,d=i(t,s,u);n.exposeAction(e,d),a&&n.addCase(d.fulfilled,a),o&&n.addCase(d.pending,o),l&&n.addCase(d.rejected,l),c&&n.addMatcher(d.settled,c),n.exposeCaseReducer(e,{fulfilled:a||vy,pending:o||vy,rejected:l||vy,settled:c||vy})}function vy(){}function Fa(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const kde={isAuthenticated:!1,avatar_url:""},Sq=xd({name:"auth",initialState:kde,reducers:{setAuthenticated:(t,e)=>{t.isAuthenticated=e.payload},setAvatar:(t,e)=>{t.avatar_url=e.payload}}}),{setAuthenticated:k4,setAvatar:xy}=Sq.actions,Bq=_.createContext(null),Ede=({children:t})=>{const e=Af(),r=yu(p=>p.auth.isAuthenticated),n=yu(p=>p.auth.avatar_url),[i,s]=_.useState(null),[a,o]=_.useState(!0),[l,c]=_.useState({accessToken:"",refreshToken:""});_.useEffect(()=>{const p=localStorage.getItem("accessToken"),m=localStorage.getItem("refreshToken"),y=localStorage.getItem("user");if(p&&y&&m)try{const g=JSON.parse(y);e(k4(!0)),e(xy(g==null?void 0:g.user_image_url)),s(g),c({accessToken:p,refreshToken:m})}catch{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user")}o(!1)},[e]);const u=p=>{p!=null&&p.accessToken&&(localStorage.setItem("accessToken",p.accessToken),c(m=>({...m,accessToken:p.accessToken})))},d=p=>{if(p!=null&&p.userAvatar){const m=JSON.parse(localStorage.getItem("user"));e(xy(p==null?void 0:p.userAvatar));const y={...m,user_image_url:p==null?void 0:p.userAvatar};console.log("user in update lcoa vatar",y),localStorage.setItem("user",JSON.stringify(y))}},A=p=>{var m;localStorage.setItem("accessToken",p.accessToken),localStorage.setItem("refreshToken",p.refreshToken),localStorage.setItem("user",JSON.stringify(p.user)),e(k4(!0)),e(xy((m=p==null?void 0:p.user)==null?void 0:m.user_image_url)),s(p.user),c({accessToken:p.accessToken,refreshToken:p.refreshToken}),o(!1)},f=async()=>{await iq.UserLogout({refresh_token:localStorage.getItem("refreshToken")}),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),e(k4(!1)),e(xy("")),s(null),c({accessToken:"",refreshToken:""}),o(!1)};return h.jsx(Bq.Provider,{value:{isAuthenticated:r,avatar_url:n,user:i,isLoading:a,tokens:l,login:A,logout:f,updateToken:u,updateAvatarLocal:d},children:t})},ti=()=>{const t=_.useContext(Bq);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};function _q(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=_q(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Yd(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=_q(t))&&(n&&(n+=" "),n+=e);return n}function Mde(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Mde(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var S1=t=>typeof t=="number"&&!isNaN(t),gh=t=>typeof t=="string",Nl=t=>typeof t=="function",Fde=t=>gh(t)||S1(t),QS=t=>gh(t)||Nl(t)?t:null,Tde=(t,e)=>t===!1||S1(t)&&t>0?t:e,RS=t=>_.isValidElement(t)||gh(t)||Nl(t)||S1(t);function Dde(t,e,r=300){let{scrollHeight:n,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${r}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,r)})})}function Lde({enter:t,exit:e,appendPosition:r=!1,collapse:n=!0,collapseDuration:i=300}){return function({children:s,position:a,preventExitTransition:o,done:l,nodeRef:c,isIn:u,playToast:d}){let A=r?`${t}--${a}`:t,f=r?`${e}--${a}`:e,p=_.useRef(0);return _.useLayoutEffect(()=>{let m=c.current,y=A.split(" "),g=v=>{v.target===c.current&&(d(),m.removeEventListener("animationend",g),m.removeEventListener("animationcancel",g),p.current===0&&v.type!=="animationcancel"&&m.classList.remove(...y))};m.classList.add(...y),m.addEventListener("animationend",g),m.addEventListener("animationcancel",g)},[]),_.useEffect(()=>{let m=c.current,y=()=>{m.removeEventListener("animationend",y),n?Dde(m,l,i):l()};u||(o?y():(p.current=1,m.className+=` ${f}`,m.addEventListener("animationend",y)))},[u]),Pe.createElement(Pe.Fragment,null,s)}}function lL(t,e){return{content:kq(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function kq(t,e,r=!1){return _.isValidElement(t)&&!gh(t.type)?_.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:r}):Nl(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:r}):t}function Nde({closeToast:t,theme:e,ariaLabel:r="close"}){return Pe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:n=>{n.stopPropagation(),t(!0)},"aria-label":r},Pe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Pe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function jde({delay:t,isRunning:e,closeToast:r,type:n="default",hide:i,className:s,controlledProgress:a,progress:o,rtl:l,isIn:c,theme:u}){let d=i||a&&o===0,A={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};a&&(A.transform=`scaleX(${o})`);let f=Yd("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":l}),p=Nl(s)?s({rtl:l,type:n,defaultClassName:f}):Yd(f,s),m={[a&&o>=1?"onTransitionEnd":"onAnimationEnd"]:a&&o<1?null:()=>{c&&r()}};return Pe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":d},Pe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${n}`}),Pe.createElement("div",{role:"progressbar","aria-hidden":d?"true":"false","aria-label":"notification timer",className:p,style:A,...m}))}var Ide=1,Eq=()=>`${Ide++}`;function Ode(t,e,r){let n=1,i=0,s=[],a=[],o=e,l=new Map,c=new Set,u=v=>(c.add(v),()=>c.delete(v)),d=()=>{a=Array.from(l.values()),c.forEach(v=>v())},A=({containerId:v,toastId:x,updateId:b})=>{let w=v?v!==t:t!==1,C=l.has(x)&&b==null;return w||C},f=(v,x)=>{l.forEach(b=>{var w;(x==null||x===b.props.toastId)&&((w=b.toggle)==null||w.call(b,v))})},p=v=>{var x,b;(b=(x=v.props)==null?void 0:x.onClose)==null||b.call(x,v.removalReason),v.isActive=!1},m=v=>{if(v==null)l.forEach(p);else{let x=l.get(v);x&&p(x)}d()},y=()=>{i-=s.length,s=[]},g=v=>{var x,b;let{toastId:w,updateId:C}=v.props,S=C==null;v.staleId&&l.delete(v.staleId),v.isActive=!0,l.set(w,v),d(),r(lL(v,S?"added":"updated")),S&&((b=(x=v.props).onOpen)==null||b.call(x))};return{id:t,props:o,observe:u,toggle:f,removeToast:m,toasts:l,clearQueue:y,buildToast:(v,x)=>{if(A(x))return;let{toastId:b,updateId:w,data:C,staleId:S,delay:B}=x,E=w==null;E&&i++;let M={...o,style:o.toastStyle,key:n++,...Object.fromEntries(Object.entries(x).filter(([L,I])=>I!=null)),toastId:b,updateId:w,data:C,isIn:!1,className:QS(x.className||o.toastClassName),progressClassName:QS(x.progressClassName||o.progressClassName),autoClose:x.isLoading?!1:Tde(x.autoClose,o.autoClose),closeToast(L){l.get(b).removalReason=L,m(b)},deleteToast(){let L=l.get(b);if(L!=null){if(r(lL(L,"removed")),l.delete(b),i--,i<0&&(i=0),s.length>0){g(s.shift());return}d()}}};M.closeButton=o.closeButton,x.closeButton===!1||RS(x.closeButton)?M.closeButton=x.closeButton:x.closeButton===!0&&(M.closeButton=RS(o.closeButton)?o.closeButton:!0);let D={content:v,props:M,staleId:S};o.limit&&o.limit>0&&i>o.limit&&E?s.push(D):S1(B)?setTimeout(()=>{g(D)},B):g(D)},setProps(v){o=v},setToggle:(v,x)=>{let b=l.get(v);b&&(b.toggle=x)},isToastActive:v=>{var x;return(x=l.get(v))==null?void 0:x.isActive},getSnapshot:()=>a}}var fi=new Map,_g=[],HS=new Set,Pde=t=>HS.forEach(e=>e(t)),Mq=()=>fi.size>0;function Ude(){_g.forEach(t=>Tq(t.content,t.options)),_g=[]}var Qde=(t,{containerId:e})=>{var r;return(r=fi.get(e||1))==null?void 0:r.toasts.get(t)};function Fq(t,e){var r;if(e)return!!((r=fi.get(e))!=null&&r.isToastActive(t));let n=!1;return fi.forEach(i=>{i.isToastActive(t)&&(n=!0)}),n}function Rde(t){if(!Mq()){_g=_g.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||Fde(t))fi.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=fi.get(t.containerId);e?e.removeToast(t.id):fi.forEach(r=>{r.removeToast(t.id)})}}var Hde=(t={})=>{fi.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function Tq(t,e){RS(t)&&(Mq()||_g.push({content:t,options:e}),fi.forEach(r=>{r.buildToast(t,e)}))}function zde(t){var e;(e=fi.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function Dq(t,e){fi.forEach(r=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===r.id)&&r.toggle(t,e==null?void 0:e.id)})}function $de(t){let e=t.containerId||1;return{subscribe(r){let n=Ode(e,t,Pde);fi.set(e,n);let i=n.observe(r);return Ude(),()=>{i(),fi.delete(e)}},setProps(r){var n;(n=fi.get(e))==null||n.setProps(r)},getSnapshot(){var r;return(r=fi.get(e))==null?void 0:r.getSnapshot()}}}function Vde(t){return HS.add(t),()=>{HS.delete(t)}}function Kde(t){return t&&(gh(t.toastId)||S1(t.toastId))?t.toastId:Eq()}function B1(t,e){return Tq(t,e),e.toastId}function xw(t,e){return{...e,type:e&&e.type||t,toastId:Kde(e)}}function bw(t){return(e,r)=>B1(e,xw(t,r))}function Z(t,e){return B1(t,xw("default",e))}Z.loading=(t,e)=>B1(t,xw("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function qde(t,{pending:e,error:r,success:n},i){let s;e&&(s=gh(e)?Z.loading(e,i):Z.loading(e.render,{...i,...e}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(c,u,d)=>{if(u==null){Z.dismiss(s);return}let A={type:c,...a,...i,data:d},f=gh(u)?{render:u}:u;return s?Z.update(s,{...A,...f}):Z(f.render,{...A,...f}),d},l=Nl(t)?t():t;return l.then(c=>o("success",n,c)).catch(c=>o("error",r,c)),l}Z.promise=qde;Z.success=bw("success");Z.info=bw("info");Z.error=bw("error");Z.warning=bw("warning");Z.warn=Z.warning;Z.dark=(t,e)=>B1(t,xw("default",{theme:"dark",...e}));function Wde(t){Rde(t)}Z.dismiss=Wde;Z.clearWaitingQueue=Hde;Z.isActive=Fq;Z.update=(t,e={})=>{let r=Qde(t,e);if(r){let{props:n,content:i}=r,s={delay:100,...n,...e,toastId:e.toastId||t,updateId:Eq()};s.toastId!==t&&(s.staleId=t);let a=s.render||i;delete s.render,B1(a,s)}};Z.done=t=>{Z.update(t,{progress:1})};Z.onChange=Vde;Z.play=t=>Dq(!0,t);Z.pause=t=>Dq(!1,t);function Gde(t){var e;let{subscribe:r,getSnapshot:n,setProps:i}=_.useRef($de(t)).current;i(t);let s=(e=_.useSyncExternalStore(r,n,n))==null?void 0:e.slice();function a(o){if(!s)return[];let l=new Map;return t.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:u}=c.props;l.has(u)||l.set(u,[]),l.get(u).push(c)}),Array.from(l,c=>o(c[0],c[1]))}return{getToastToRender:a,isToastActive:Fq,count:s==null?void 0:s.length}}function Xde(t){let[e,r]=_.useState(!1),[n,i]=_.useState(!1),s=_.useRef(null),a=_.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:d}=t;zde({id:t.toastId,containerId:t.containerId,fn:r}),_.useEffect(()=>{if(t.pauseOnFocusLoss)return A(),()=>{f()}},[t.pauseOnFocusLoss]);function A(){document.hasFocus()||g(),window.addEventListener("focus",y),window.addEventListener("blur",g)}function f(){window.removeEventListener("focus",y),window.removeEventListener("blur",g)}function p(S){if(t.draggable===!0||t.draggable===S.pointerType){v();let B=s.current;a.canCloseOnClick=!0,a.canDrag=!0,B.style.transition="none",t.draggableDirection==="x"?(a.start=S.clientX,a.removalDistance=B.offsetWidth*(t.draggablePercent/100)):(a.start=S.clientY,a.removalDistance=B.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function m(S){let{top:B,bottom:E,left:M,right:D}=s.current.getBoundingClientRect();S.nativeEvent.type!=="touchend"&&t.pauseOnHover&&S.clientX>=M&&S.clientX<=D&&S.clientY>=B&&S.clientY<=E?g():y()}function y(){r(!0)}function g(){r(!1)}function v(){a.didMove=!1,document.addEventListener("pointermove",b),document.addEventListener("pointerup",w)}function x(){document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",w)}function b(S){let B=s.current;if(a.canDrag&&B){a.didMove=!0,e&&g(),t.draggableDirection==="x"?a.delta=S.clientX-a.start:a.delta=S.clientY-a.start,a.start!==S.clientX&&(a.canCloseOnClick=!1);let E=t.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;B.style.transform=`translate3d(${E},0)`,B.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function w(){x();let S=s.current;if(a.canDrag&&a.didMove&&S){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}S.style.transition="transform 0.2s, opacity 0.2s",S.style.removeProperty("transform"),S.style.removeProperty("opacity")}}let C={onPointerDown:p,onPointerUp:m};return o&&l&&(C.onMouseEnter=g,t.stacked||(C.onMouseLeave=y)),d&&(C.onClick=S=>{u&&u(S),a.canCloseOnClick&&c(!0)}),{playToast:y,pauseToast:g,isRunning:e,preventExitTransition:n,toastRef:s,eventHandlers:C}}var Yde=typeof window<"u"?_.useLayoutEffect:_.useEffect,ww=({theme:t,type:e,isLoading:r,...n})=>Pe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...n});function Jde(t){return Pe.createElement(ww,{...t},Pe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Zde(t){return Pe.createElement(ww,{...t},Pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function ehe(t){return Pe.createElement(ww,{...t},Pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function the(t){return Pe.createElement(ww,{...t},Pe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function rhe(){return Pe.createElement("div",{className:"Toastify__spinner"})}var zS={info:Zde,warning:Jde,success:ehe,error:the,spinner:rhe},nhe=t=>t in zS;function ihe({theme:t,type:e,isLoading:r,icon:n}){let i=null,s={theme:t,type:e};return n===!1||(Nl(n)?i=n({...s,isLoading:r}):_.isValidElement(n)?i=_.cloneElement(n,s):r?i=zS.spinner():nhe(e)&&(i=zS[e](s))),i}var she=t=>{let{isRunning:e,preventExitTransition:r,toastRef:n,eventHandlers:i,playToast:s}=Xde(t),{closeButton:a,children:o,autoClose:l,onClick:c,type:u,hideProgressBar:d,closeToast:A,transition:f,position:p,className:m,style:y,progressClassName:g,updateId:v,role:x,progress:b,rtl:w,toastId:C,deleteToast:S,isIn:B,isLoading:E,closeOnClick:M,theme:D,ariaLabel:L}=t,I=Yd("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":w},{"Toastify__toast--close-on-click":M}),z=Nl(m)?m({rtl:w,position:p,type:u,defaultClassName:I}):Yd(I,m),R=ihe(t),Y=!!b||!l,$={closeToast:A,type:u,theme:D},P=null;return a===!1||(Nl(a)?P=a($):_.isValidElement(a)?P=_.cloneElement(a,$):P=Nde($)),Pe.createElement(f,{isIn:B,done:S,position:p,preventExitTransition:r,nodeRef:n,playToast:s},Pe.createElement("div",{id:C,tabIndex:0,onClick:c,"data-in":B,className:z,...i,style:y,ref:n,...B&&{role:x,"aria-label":L}},R!=null&&Pe.createElement("div",{className:Yd("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!E})},R),kq(o,t,!e),P,!t.customProgressBar&&Pe.createElement(jde,{...v&&!Y?{key:`p-${v}`}:{},rtl:w,theme:D,delay:l,isRunning:e,isIn:B,closeToast:A,hide:d,type:u,className:g,controlledProgress:Y,progress:b||0})))},ahe=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),ohe=Lde(ahe("bounce",!0)),lhe={position:"top-right",transition:ohe,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function che(t){let e={...lhe,...t},r=t.stacked,[n,i]=_.useState(!0),s=_.useRef(null),{getToastToRender:a,isToastActive:o,count:l}=Gde(e),{className:c,style:u,rtl:d,containerId:A,hotKeys:f}=e;function p(y){let g=Yd("Toastify__toast-container",`Toastify__toast-container--${y}`,{"Toastify__toast-container--rtl":d});return Nl(c)?c({position:y,rtl:d,defaultClassName:g}):Yd(g,QS(c))}function m(){r&&(i(!0),Z.play())}return Yde(()=>{var y;if(r){let g=s.current.querySelectorAll('[data-in="true"]'),v=12,x=(y=e.position)==null?void 0:y.includes("top"),b=0,w=0;Array.from(g).reverse().forEach((C,S)=>{let B=C;B.classList.add("Toastify__toast--stacked"),S>0&&(B.dataset.collapsed=`${n}`),B.dataset.pos||(B.dataset.pos=x?"top":"bot");let E=b*(n?.2:1)+(n?0:v*S);B.style.setProperty("--y",`${x?E:E*-1}px`),B.style.setProperty("--g",`${v}`),B.style.setProperty("--s",`${1-(n?w:0)}`),b+=B.offsetHeight,w+=.025})}},[n,l,r]),_.useEffect(()=>{function y(g){var v;let x=s.current;f(g)&&((v=x.querySelector('[tabIndex="0"]'))==null||v.focus(),i(!1),Z.pause()),g.key==="Escape"&&(document.activeElement===x||x!=null&&x.contains(document.activeElement))&&(i(!0),Z.play())}return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[f]),Pe.createElement("section",{ref:s,className:"Toastify",id:A,onMouseEnter:()=>{r&&(i(!1),Z.pause())},onMouseLeave:m,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},a((y,g)=>{let v=g.length?{...u}:{...u,pointerEvents:"none"};return Pe.createElement("div",{tabIndex:-1,className:p(y),"data-stacked":r,style:v,key:`c-${y}`},g.map(({content:x,props:b})=>Pe.createElement(she,{...b,stacked:r,collapseAll:m,isIn:o(b.toastId,b.containerId),key:`t-${b.key}`},x)))}))}const Eh="/assets/tooty-new-logo-CILz-_WG.svg",uhe="/assets/sign_in-CjgmJBQl.png";var Lq=(t=>(t.uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected",t))(Lq||{});function dhe(t){return{status:t,isUninitialized:t==="uninitialized",isLoading:t==="pending",isSuccess:t==="fulfilled",isError:t==="rejected"}}var cL=ko;function Nq(t,e){if(t===e||!(cL(t)&&cL(e)||Array.isArray(t)&&Array.isArray(e)))return e;const r=Object.keys(e),n=Object.keys(t);let i=r.length===n.length;const s=Array.isArray(e)?[]:{};for(const a of r)s[a]=Nq(t[a],e[a]),i&&(i=t[a]===s[a]);return i?t:s}function fA(t){let e=0;for(const r in t)e++;return e}var uL=t=>[].concat(...t);function hhe(t){return new RegExp("(^|:)//").test(t)}function Ahe(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function mb(t){return t!=null}function fhe(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var phe=t=>t.replace(/\/$/,""),mhe=t=>t.replace(/^\//,"");function ghe(t,e){if(!t)return e;if(!e)return t;if(hhe(e))return e;const r=t.endsWith("/")||!e.startsWith("?")?"/":"";return t=phe(t),e=mhe(e),`${t}${r}${e}`}function yhe(t,e,r){return t.has(e)?t.get(e):t.set(e,r).get(e)}var dL=(...t)=>fetch(...t),vhe=t=>t.status>=200&&t.status<=299,xhe=t=>/ion\/(vnd\.api\+)?json/.test(t.get("content-type")||"");function hL(t){if(!ko(t))return t;const e={...t};for(const[r,n]of Object.entries(e))n===void 0&&delete e[r];return e}function jq({baseUrl:t,prepareHeaders:e=d=>d,fetchFn:r=dL,paramsSerializer:n,isJsonContentType:i=xhe,jsonContentType:s="application/json",jsonReplacer:a,timeout:o,responseHandler:l,validateStatus:c,...u}={}){return typeof fetch>"u"&&r===dL&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(A,f,p)=>{const{getState:m,extra:y,endpoint:g,forced:v,type:x}=f;let b,{url:w,headers:C=new Headers(u.headers),params:S=void 0,responseHandler:B=l??"json",validateStatus:E=c??vhe,timeout:M=o,...D}=typeof A=="string"?{url:A}:A,L,I=f.signal;M&&(L=new AbortController,f.signal.addEventListener("abort",L.abort),I=L.signal);let z={...u,signal:I,...D};C=new Headers(hL(C)),z.headers=await e(C,{getState:m,arg:A,extra:y,endpoint:g,forced:v,type:x,extraOptions:p})||C;const R=fe=>typeof fe=="object"&&(ko(fe)||Array.isArray(fe)||typeof fe.toJSON=="function");if(!z.headers.has("content-type")&&R(z.body)&&z.headers.set("content-type",s),R(z.body)&&i(z.headers)&&(z.body=JSON.stringify(z.body,a)),S){const fe=~w.indexOf("?")?"&":"?",Se=n?n(S):new URLSearchParams(hL(S));w+=fe+Se}w=ghe(t,w);const Y=new Request(w,z);b={request:new Request(w,z)};let P,q=!1,N=L&&setTimeout(()=>{q=!0,L.abort()},M);try{P=await r(Y)}catch(fe){return{error:{status:q?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(fe)},meta:b}}finally{N&&clearTimeout(N),L==null||L.signal.removeEventListener("abort",L.abort)}const ae=P.clone();b.response=ae;let oe,O="";try{let fe;if(await Promise.all([d(P,B).then(Se=>oe=Se,Se=>fe=Se),ae.text().then(Se=>O=Se,()=>{})]),fe)throw fe}catch(fe){return{error:{status:"PARSING_ERROR",originalStatus:P.status,data:O,error:String(fe)},meta:b}}return E(P,oe)?{data:oe,meta:b}:{error:{status:P.status,data:oe},meta:b}};async function d(A,f){if(typeof f=="function")return f(A);if(f==="content-type"&&(f=i(A.headers)?"json":"text"),f==="json"){const p=await A.text();return p.length?JSON.parse(p):null}return A.text()}}var AL=class{constructor(t,e=void 0){this.value=t,this.meta=e}},Jk=Ma("__rtkq/focused"),Iq=Ma("__rtkq/unfocused"),Zk=Ma("__rtkq/online"),Oq=Ma("__rtkq/offline");function Pq(t){return t.type==="query"}function bhe(t){return t.type==="mutation"}function eE(t,e,r,n,i,s){return whe(t)?t(e,r,n,i).filter(mb).map($S).map(s):Array.isArray(t)?t.map($S).map(s):[]}function whe(t){return typeof t=="function"}function $S(t){return typeof t=="string"?{type:t}:t}function Che(t,e){return t.catch(e)}var kg=Symbol("forceQueryFn"),VS=t=>typeof t[kg]=="function";function She({serializeQueryArgs:t,queryThunk:e,mutationThunk:r,api:n,context:i}){const s=new Map,a=new Map,{unsubscribeQueryResult:o,removeMutationResult:l,updateSubscriptionOptions:c}=n.internalActions;return{buildInitiateQuery:p,buildInitiateMutation:m,getRunningQueryThunk:u,getRunningMutationThunk:d,getRunningQueriesThunk:A,getRunningMutationsThunk:f};function u(y,g){return v=>{var w;const x=i.endpointDefinitions[y],b=t({queryArgs:g,endpointDefinition:x,endpointName:y});return(w=s.get(v))==null?void 0:w[b]}}function d(y,g){return v=>{var x;return(x=a.get(v))==null?void 0:x[g]}}function A(){return y=>Object.values(s.get(y)||{}).filter(mb)}function f(){return y=>Object.values(a.get(y)||{}).filter(mb)}function p(y,g){const v=(x,{subscribe:b=!0,forceRefetch:w,subscriptionOptions:C,[kg]:S,...B}={})=>(E,M)=>{var oe;const D=t({queryArgs:x,endpointDefinition:g,endpointName:y}),L=e({...B,type:"query",subscribe:b,forceRefetch:w,subscriptionOptions:C,endpointName:y,originalArgs:x,queryCacheKey:D,[kg]:S}),I=n.endpoints[y].select(x),z=E(L),R=I(M()),{requestId:Y,abort:$}=z,P=R.requestId!==Y,q=(oe=s.get(E))==null?void 0:oe[D],N=()=>I(M()),ae=Object.assign(S?z.then(N):P&&!q?Promise.resolve(R):Promise.all([q,z]).then(N),{arg:x,requestId:Y,subscriptionOptions:C,queryCacheKey:D,abort:$,async unwrap(){const O=await ae;if(O.isError)throw O.error;return O.data},refetch:()=>E(v(x,{subscribe:!1,forceRefetch:!0})),unsubscribe(){b&&E(o({queryCacheKey:D,requestId:Y}))},updateSubscriptionOptions(O){ae.subscriptionOptions=O,E(c({endpointName:y,requestId:Y,queryCacheKey:D,options:O}))}});if(!q&&!P&&!S){const O=yhe(s,E,{});O[D]=ae,ae.then(()=>{delete O[D],fA(O)||s.delete(E)})}return ae};return v}function m(y){return(g,{track:v=!0,fixedCacheKey:x}={})=>(b,w)=>{const C=r({type:"mutation",endpointName:y,originalArgs:g,track:v,fixedCacheKey:x}),S=b(C),{requestId:B,abort:E,unwrap:M}=S,D=Che(S.unwrap().then(R=>({data:R})),R=>({error:R})),L=()=>{b(l({requestId:B,fixedCacheKey:x}))},I=Object.assign(D,{arg:S.arg,requestId:B,abort:E,unwrap:M,reset:L}),z=a.get(b)||{};return a.set(b,z),z[B]=I,I.then(()=>{delete z[B],fA(z)||a.delete(b)}),x&&(z[x]=I,I.then(()=>{z[x]===I&&(delete z[x],fA(z)||a.delete(b))})),I}}}function fL(t){return t}function Bhe({reducerPath:t,baseQuery:e,context:{endpointDefinitions:r},serializeQueryArgs:n,api:i,assertTagType:s}){const a=(v,x,b,w)=>(C,S)=>{const B=r[v],E=n({queryArgs:x,endpointDefinition:B,endpointName:v});if(C(i.internalActions.queryResultPatched({queryCacheKey:E,patches:b})),!w)return;const M=i.endpoints[v].select(x)(S()),D=eE(B.providesTags,M.data,void 0,x,{},s);C(i.internalActions.updateProvidedBy({queryCacheKey:E,providedTags:D}))},o=(v,x,b,w=!0)=>(C,S)=>{const E=i.endpoints[v].select(x)(S()),M={patches:[],inversePatches:[],undo:()=>C(i.util.patchQueryData(v,x,M.inversePatches,w))};if(E.status==="uninitialized")return M;let D;if("data"in E)if(Ia(E.data)){const[L,I,z]=vq(E.data,b);M.patches.push(...I),M.inversePatches.push(...z),D=L}else D=b(E.data),M.patches.push({op:"replace",path:[],value:D}),M.inversePatches.push({op:"replace",path:[],value:E.data});return M.patches.length===0||C(i.util.patchQueryData(v,x,M.patches,w)),M},l=(v,x,b)=>w=>w(i.endpoints[v].initiate(x,{subscribe:!1,forceRefetch:!0,[kg]:()=>({data:b})})),c=async(v,{signal:x,abort:b,rejectWithValue:w,fulfillWithValue:C,dispatch:S,getState:B,extra:E})=>{const M=r[v.endpointName];try{let D=fL,L;const I={signal:x,abort:b,dispatch:S,getState:B,extra:E,endpoint:v.endpointName,type:v.type,forced:v.type==="query"?u(v,B()):void 0,queryCacheKey:v.type==="query"?v.queryCacheKey:void 0},z=v.type==="query"?v[kg]:void 0;if(z?L=z():M.query?(L=await e(M.query(v.originalArgs),I,M.extraOptions),M.transformResponse&&(D=M.transformResponse)):L=await M.queryFn(v.originalArgs,I,M.extraOptions,R=>e(R,I,M.extraOptions)),typeof process<"u",L.error)throw new AL(L.error,L.meta);return C(await D(L.data,L.meta,v.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:L.meta,[Qd]:!0})}catch(D){let L=D;if(L instanceof AL){let I=fL;M.query&&M.transformErrorResponse&&(I=M.transformErrorResponse);try{return w(await I(L.value,L.meta,v.originalArgs),{baseQueryMeta:L.meta,[Qd]:!0})}catch(z){L=z}}throw console.error(L),L}};function u(v,x){var B,E,M;const b=(E=(B=x[t])==null?void 0:B.queries)==null?void 0:E[v.queryCacheKey],w=(M=x[t])==null?void 0:M.config.refetchOnMountOrArgChange,C=b==null?void 0:b.fulfilledTimeStamp,S=v.forceRefetch??(v.subscribe&&w);return S?S===!0||(Number(new Date)-Number(C))/1e3>=S:!1}const d=oL(`${t}/executeQuery`,c,{getPendingMeta(){return{startedTimeStamp:Date.now(),[Qd]:!0}},condition(v,{getState:x}){var M,D,L;const b=x(),w=(D=(M=b[t])==null?void 0:M.queries)==null?void 0:D[v.queryCacheKey],C=w==null?void 0:w.fulfilledTimeStamp,S=v.originalArgs,B=w==null?void 0:w.originalArgs,E=r[v.endpointName];return VS(v)?!0:(w==null?void 0:w.status)==="pending"?!1:u(v,b)||Pq(E)&&((L=E==null?void 0:E.forceRefetch)!=null&&L.call(E,{currentArg:S,previousArg:B,endpointState:w,state:b}))?!0:!C},dispatchConditionRejection:!0}),A=oL(`${t}/executeMutation`,c,{getPendingMeta(){return{startedTimeStamp:Date.now(),[Qd]:!0}}}),f=v=>"force"in v,p=v=>"ifOlderThan"in v,m=(v,x,b)=>(w,C)=>{const S=f(b)&&b.force,B=p(b)&&b.ifOlderThan,E=(D=!0)=>{const L={forceRefetch:D,isPrefetch:!0};return i.endpoints[v].initiate(x,L)},M=i.endpoints[v].select(x)(C());if(S)w(E());else if(B){const D=M==null?void 0:M.fulfilledTimeStamp;if(!D){w(E());return}(Number(new Date)-Number(new Date(D)))/1e3>=B&&w(E())}else w(E(!1))};function y(v){return x=>{var b,w;return((w=(b=x==null?void 0:x.meta)==null?void 0:b.arg)==null?void 0:w.endpointName)===v}}function g(v,x){return{matchPending:xm(Xk(v),y(x)),matchFulfilled:xm(vu(v),y(x)),matchRejected:xm(UA(v),y(x))}}return{queryThunk:d,mutationThunk:A,prefetch:m,updateQueryData:o,upsertQueryData:l,patchQueryData:a,buildMatchThunkActions:g}}function Uq(t,e,r,n){return eE(r[t.meta.arg.endpointName][e],vu(t)?t.payload:void 0,vw(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,n)}function by(t,e,r){const n=t[e];n&&r(n)}function Eg(t){return("arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)??t.requestId}function pL(t,e,r){const n=t[Eg(e)];n&&r(n)}var $f={};function _he({reducerPath:t,queryThunk:e,mutationThunk:r,serializeQueryArgs:n,context:{endpointDefinitions:i,apiUid:s,extractRehydrationInfo:a,hasRehydrationInfo:o},assertTagType:l,config:c}){const u=Ma(`${t}/resetApiState`);function d(C,S,B,E){var M;C[M=S.queryCacheKey]??(C[M]={status:"uninitialized",endpointName:S.endpointName}),by(C,S.queryCacheKey,D=>{D.status="pending",D.requestId=B&&D.requestId?D.requestId:E.requestId,S.originalArgs!==void 0&&(D.originalArgs=S.originalArgs),D.startedTimeStamp=E.startedTimeStamp})}function A(C,S,B){by(C,S.arg.queryCacheKey,E=>{if(E.requestId!==S.requestId&&!VS(S.arg))return;const{merge:M}=i[S.arg.endpointName];if(E.status="fulfilled",M)if(E.data!==void 0){const{fulfilledTimeStamp:D,arg:L,baseQueryMeta:I,requestId:z}=S;let R=w1(E.data,Y=>M(Y,B,{arg:L.originalArgs,baseQueryMeta:I,fulfilledTimeStamp:D,requestId:z}));E.data=R}else E.data=B;else E.data=i[S.arg.endpointName].structuralSharing??!0?Nq(Eo(E.data)?jue(E.data):E.data,B):B;delete E.error,E.fulfilledTimeStamp=S.fulfilledTimeStamp})}const f=xd({name:`${t}/queries`,initialState:$f,reducers:{removeQueryResult:{reducer(C,{payload:{queryCacheKey:S}}){delete C[S]},prepare:zf()},cacheEntriesUpserted:{reducer(C,S){for(const B of S.payload){const{queryDescription:E,value:M}=B;d(C,E,!0,{arg:E,requestId:S.meta.requestId,startedTimeStamp:S.meta.timestamp}),A(C,{arg:E,requestId:S.meta.requestId,fulfilledTimeStamp:S.meta.timestamp,baseQueryMeta:{}},M)}},prepare:C=>({payload:C.map(E=>{const{endpointName:M,arg:D,value:L}=E,I=i[M];return{queryDescription:{type:"query",endpointName:M,originalArgs:E.arg,queryCacheKey:n({queryArgs:D,endpointDefinition:I,endpointName:M})},value:L}}),meta:{[Qd]:!0,requestId:Yk(),timestamp:Date.now()}})},queryResultPatched:{reducer(C,{payload:{queryCacheKey:S,patches:B}}){by(C,S,E=>{E.data=eL(E.data,B.concat())})},prepare:zf()}},extraReducers(C){C.addCase(e.pending,(S,{meta:B,meta:{arg:E}})=>{const M=VS(E);d(S,E,M,B)}).addCase(e.fulfilled,(S,{meta:B,payload:E})=>{A(S,B,E)}).addCase(e.rejected,(S,{meta:{condition:B,arg:E,requestId:M},error:D,payload:L})=>{by(S,E.queryCacheKey,I=>{if(!B){if(I.requestId!==M)return;I.status="rejected",I.error=L??D}})}).addMatcher(o,(S,B)=>{const{queries:E}=a(B);for(const[M,D]of Object.entries(E))((D==null?void 0:D.status)==="fulfilled"||(D==null?void 0:D.status)==="rejected")&&(S[M]=D)})}}),p=xd({name:`${t}/mutations`,initialState:$f,reducers:{removeMutationResult:{reducer(C,{payload:S}){const B=Eg(S);B in C&&delete C[B]},prepare:zf()}},extraReducers(C){C.addCase(r.pending,(S,{meta:B,meta:{requestId:E,arg:M,startedTimeStamp:D}})=>{M.track&&(S[Eg(B)]={requestId:E,status:"pending",endpointName:M.endpointName,startedTimeStamp:D})}).addCase(r.fulfilled,(S,{payload:B,meta:E})=>{E.arg.track&&pL(S,E,M=>{M.requestId===E.requestId&&(M.status="fulfilled",M.data=B,M.fulfilledTimeStamp=E.fulfilledTimeStamp)})}).addCase(r.rejected,(S,{payload:B,error:E,meta:M})=>{M.arg.track&&pL(S,M,D=>{D.requestId===M.requestId&&(D.status="rejected",D.error=B??E)})}).addMatcher(o,(S,B)=>{const{mutations:E}=a(B);for(const[M,D]of Object.entries(E))((D==null?void 0:D.status)==="fulfilled"||(D==null?void 0:D.status)==="rejected")&&M!==(D==null?void 0:D.requestId)&&(S[M]=D)})}}),m=xd({name:`${t}/invalidation`,initialState:$f,reducers:{updateProvidedBy:{reducer(C,S){var M,D;const{queryCacheKey:B,providedTags:E}=S.payload;for(const L of Object.values(C))for(const I of Object.values(L)){const z=I.indexOf(B);z!==-1&&I.splice(z,1)}for(const{type:L,id:I}of E){const z=(M=C[L]??(C[L]={}))[D=I||"__internal_without_id"]??(M[D]=[]);z.includes(B)||z.push(B)}},prepare:zf()}},extraReducers(C){C.addCase(f.actions.removeQueryResult,(S,{payload:{queryCacheKey:B}})=>{for(const E of Object.values(S))for(const M of Object.values(E)){const D=M.indexOf(B);D!==-1&&M.splice(D,1)}}).addMatcher(o,(S,B)=>{var M,D;const{provided:E}=a(B);for(const[L,I]of Object.entries(E))for(const[z,R]of Object.entries(I)){const Y=(M=S[L]??(S[L]={}))[D=z||"__internal_without_id"]??(M[D]=[]);for(const $ of R)Y.includes($)||Y.push($)}}).addMatcher(Ll(vu(e),vw(e)),(S,B)=>{const E=Uq(B,"providesTags",i,l),{queryCacheKey:M}=B.meta.arg;m.caseReducers.updateProvidedBy(S,m.actions.updateProvidedBy({queryCacheKey:M,providedTags:E}))})}}),y=xd({name:`${t}/subscriptions`,initialState:$f,reducers:{updateSubscriptionOptions(C,S){},unsubscribeQueryResult(C,S){},internal_getRTKQSubscriptions(){}}}),g=xd({name:`${t}/internalSubscriptions`,initialState:$f,reducers:{subscriptionsUpdated:{reducer(C,S){return eL(C,S.payload)},prepare:zf()}}}),v=xd({name:`${t}/config`,initialState:{online:fhe(),focused:Ahe(),middlewareRegistered:!1,...c},reducers:{middlewareRegistered(C,{payload:S}){C.middlewareRegistered=C.middlewareRegistered==="conflict"||s!==S?"conflict":!0}},extraReducers:C=>{C.addCase(Zk,S=>{S.online=!0}).addCase(Oq,S=>{S.online=!1}).addCase(Jk,S=>{S.focused=!0}).addCase(Iq,S=>{S.focused=!1}).addMatcher(o,S=>({...S}))}}),x=hq({queries:f.reducer,mutations:p.reducer,provided:m.reducer,subscriptions:g.reducer,config:v.reducer}),b=(C,S)=>x(u.match(S)?void 0:C,S),w={...v.actions,...f.actions,...y.actions,...g.actions,...p.actions,...m.actions,resetApiState:u};return{reducer:b,actions:w}}var Qc=Symbol.for("RTKQ/skipToken"),Qq={status:"uninitialized"},mL=w1(Qq,()=>{}),gL=w1(Qq,()=>{});function khe({serializeQueryArgs:t,reducerPath:e,createSelector:r}){const n=d=>mL,i=d=>gL;return{buildQuerySelector:o,buildMutationSelector:l,selectInvalidatedBy:c,selectCachedArgsForQuery:u};function s(d){return{...d,...dhe(d.status)}}function a(d){return d[e]}function o(d,A){return f=>{if(f===Qc)return r(n,s);const p=t({queryArgs:f,endpointDefinition:A,endpointName:d});return r(y=>{var g,v;return((v=(g=a(y))==null?void 0:g.queries)==null?void 0:v[p])??mL},s)}}function l(){return d=>{let A;return typeof d=="object"?A=Eg(d)??Qc:A=d,r(A===Qc?i:m=>{var y,g;return((g=(y=a(m))==null?void 0:y.mutations)==null?void 0:g[A])??gL},s)}}function c(d,A){const f=d[e],p=new Set;for(const m of A.filter(mb).map($S)){const y=f.provided[m.type];if(!y)continue;let g=(m.id!==void 0?y[m.id]:uL(Object.values(y)))??[];for(const v of g)p.add(v)}return uL(Array.from(p.values()).map(m=>{const y=f.queries[m];return y?[{queryCacheKey:m,endpointName:y.endpointName,originalArgs:y.originalArgs}]:[]}))}function u(d,A){return Object.values(d[e].queries).filter(f=>(f==null?void 0:f.endpointName)===A&&f.status!=="uninitialized").map(f=>f.originalArgs)}}var Hh=WeakMap?new WeakMap:void 0,yL=({endpointName:t,queryArgs:e})=>{let r="";const n=Hh==null?void 0:Hh.get(e);if(typeof n=="string")r=n;else{const i=JSON.stringify(e,(s,a)=>(a=typeof a=="bigint"?{$bigint:a.toString()}:a,a=ko(a)?Object.keys(a).sort().reduce((o,l)=>(o[l]=a[l],o),{}):a,a));ko(e)&&(Hh==null||Hh.set(e,i)),r=i}return`${t}(${r})`};function Ehe(...t){return function(r){const n=pb(c=>{var u;return(u=r.extractRehydrationInfo)==null?void 0:u.call(r,c,{reducerPath:r.reducerPath??"api"})}),i={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...r,extractRehydrationInfo:n,serializeQueryArgs(c){let u=yL;if("serializeQueryArgs"in c.endpointDefinition){const d=c.endpointDefinition.serializeQueryArgs;u=A=>{const f=d(A);return typeof f=="string"?f:yL({...A,queryArgs:f})}}else r.serializeQueryArgs&&(u=r.serializeQueryArgs);return u(c)},tagTypes:[...r.tagTypes||[]]},s={endpointDefinitions:{},batch(c){c()},apiUid:Yk(),extractRehydrationInfo:n,hasRehydrationInfo:pb(c=>n(c)!=null)},a={injectEndpoints:l,enhanceEndpoints({addTagTypes:c,endpoints:u}){if(c)for(const d of c)i.tagTypes.includes(d)||i.tagTypes.push(d);if(u)for(const[d,A]of Object.entries(u))typeof A=="function"?A(s.endpointDefinitions[d]):Object.assign(s.endpointDefinitions[d]||{},A);return a}},o=t.map(c=>c.init(a,i,s));function l(c){const u=c.endpoints({query:d=>({...d,type:"query"}),mutation:d=>({...d,type:"mutation"})});for(const[d,A]of Object.entries(u)){if(c.overrideExisting!==!0&&d in s.endpointDefinitions){if(c.overrideExisting==="throw")throw new Error(Fa(39));continue}s.endpointDefinitions[d]=A;for(const f of o)f.injectEndpoint(d,A)}return a}return a.injectEndpoints({endpoints:r.endpoints})}}function nc(t,...e){return Object.assign(t,...e)}var Mhe=({api:t,queryThunk:e,internalState:r})=>{const n=`${t.reducerPath}/subscriptions`;let i=null,s=null;const{updateSubscriptionOptions:a,unsubscribeQueryResult:o}=t.internalActions,l=(f,p)=>{var y,g,v;if(a.match(p)){const{queryCacheKey:x,requestId:b,options:w}=p.payload;return(y=f==null?void 0:f[x])!=null&&y[b]&&(f[x][b]=w),!0}if(o.match(p)){const{queryCacheKey:x,requestId:b}=p.payload;return f[x]&&delete f[x][b],!0}if(t.internalActions.removeQueryResult.match(p))return delete f[p.payload.queryCacheKey],!0;if(e.pending.match(p)){const{meta:{arg:x,requestId:b}}=p,w=f[g=x.queryCacheKey]??(f[g]={});return w[`${b}_running`]={},x.subscribe&&(w[b]=x.subscriptionOptions??w[b]??{}),!0}let m=!1;if(e.fulfilled.match(p)||e.rejected.match(p)){const x=f[p.meta.arg.queryCacheKey]||{},b=`${p.meta.requestId}_running`;m||(m=!!x[b]),delete x[b]}if(e.rejected.match(p)){const{meta:{condition:x,arg:b,requestId:w}}=p;if(x&&b.subscribe){const C=f[v=b.queryCacheKey]??(f[v]={});C[w]=b.subscriptionOptions??C[w]??{},m=!0}}return m},c=()=>r.currentSubscriptions,A={getSubscriptions:c,getSubscriptionCount:f=>{const m=c()[f]??{};return fA(m)},isRequestSubscribed:(f,p)=>{var y;const m=c();return!!((y=m==null?void 0:m[f])!=null&&y[p])}};return(f,p)=>{if(i||(i=JSON.parse(JSON.stringify(r.currentSubscriptions))),t.util.resetApiState.match(f))return i=r.currentSubscriptions={},s=null,[!0,!1];if(t.internalActions.internal_getRTKQSubscriptions.match(f))return[!1,A];const m=l(r.currentSubscriptions,f);let y=!0;if(m){s||(s=setTimeout(()=>{const x=JSON.parse(JSON.stringify(r.currentSubscriptions)),[,b]=vq(i,()=>x);p.next(t.internalActions.subscriptionsUpdated(b)),i=x,s=null},500));const g=typeof f.type=="string"&&!!f.type.startsWith(n),v=e.rejected.match(f)&&f.meta.condition&&!!f.meta.arg.subscribe;y=!g&&!v}return[y,!1]}};function Fhe(t){for(const e in t)return!1;return!0}var The=2147483647/1e3-1,Dhe=({reducerPath:t,api:e,queryThunk:r,context:n,internalState:i})=>{const{removeQueryResult:s,unsubscribeQueryResult:a,cacheEntriesUpserted:o}=e.internalActions,l=Ll(a.match,r.fulfilled,r.rejected,o.match);function c(f){const p=i.currentSubscriptions[f];return!!p&&!Fhe(p)}const u={},d=(f,p,m)=>{var y;if(l(f)){const g=p.getState()[t];let v;if(o.match(f))v=f.payload.map(x=>x.queryDescription.queryCacheKey);else{const{queryCacheKey:x}=a.match(f)?f.payload:f.meta.arg;v=[x]}for(const x of v)A(x,(y=g.queries[x])==null?void 0:y.endpointName,p,g.config)}if(e.util.resetApiState.match(f))for(const[g,v]of Object.entries(u))v&&clearTimeout(v),delete u[g];if(n.hasRehydrationInfo(f)){const g=p.getState()[t],{queries:v}=n.extractRehydrationInfo(f);for(const[x,b]of Object.entries(v))A(x,b==null?void 0:b.endpointName,p,g.config)}};function A(f,p,m,y){const g=n.endpointDefinitions[p],v=(g==null?void 0:g.keepUnusedDataFor)??y.keepUnusedDataFor;if(v===1/0)return;const x=Math.max(0,Math.min(v,The));if(!c(f)){const b=u[f];b&&clearTimeout(b),u[f]=setTimeout(()=>{c(f)||m.dispatch(s({queryCacheKey:f})),delete u[f]},x*1e3)}}return d},vL=new Error("Promise never resolved before cacheEntryRemoved."),Lhe=({api:t,reducerPath:e,context:r,queryThunk:n,mutationThunk:i,internalState:s})=>{const a=US(n),o=US(i),l=vu(n,i),c={};function u(m,y,g){const v=c[m];v!=null&&v.valueResolved&&(v.valueResolved({data:y,meta:g}),delete v.valueResolved)}function d(m){const y=c[m];y&&(delete c[m],y.cacheEntryRemoved())}const A=(m,y,g)=>{const v=f(m);function x(b,w,C,S){const B=g[e].queries[w],E=y.getState()[e].queries[w];!B&&E&&p(b,S,w,y,C)}if(n.pending.match(m))x(m.meta.arg.endpointName,v,m.meta.requestId,m.meta.arg.originalArgs);else if(t.internalActions.cacheEntriesUpserted.match(m))for(const{queryDescription:b,value:w}of m.payload){const{endpointName:C,originalArgs:S,queryCacheKey:B}=b;x(C,B,m.meta.requestId,S),u(B,w,{})}else if(i.pending.match(m))y.getState()[e].mutations[v]&&p(m.meta.arg.endpointName,m.meta.arg.originalArgs,v,y,m.meta.requestId);else if(l(m))u(v,m.payload,m.meta.baseQueryMeta);else if(t.internalActions.removeQueryResult.match(m)||t.internalActions.removeMutationResult.match(m))d(v);else if(t.util.resetApiState.match(m))for(const b of Object.keys(c))d(b)};function f(m){return a(m)?m.meta.arg.queryCacheKey:o(m)?m.meta.arg.fixedCacheKey??m.meta.requestId:t.internalActions.removeQueryResult.match(m)?m.payload.queryCacheKey:t.internalActions.removeMutationResult.match(m)?Eg(m.payload):""}function p(m,y,g,v,x){const b=r.endpointDefinitions[m],w=b==null?void 0:b.onCacheEntryAdded;if(!w)return;const C={},S=new Promise(I=>{C.cacheEntryRemoved=I}),B=Promise.race([new Promise(I=>{C.valueResolved=I}),S.then(()=>{throw vL})]);B.catch(()=>{}),c[g]=C;const E=t.endpoints[m].select(b.type==="query"?y:g),M=v.dispatch((I,z,R)=>R),D={...v,getCacheEntry:()=>E(v.getState()),requestId:x,extra:M,updateCachedData:b.type==="query"?I=>v.dispatch(t.util.updateQueryData(m,y,I)):void 0,cacheDataLoaded:B,cacheEntryRemoved:S},L=w(y,D);Promise.resolve(L).catch(I=>{if(I!==vL)throw I})}return A},Nhe=({api:t,context:{apiUid:e},reducerPath:r})=>(n,i)=>{t.util.resetApiState.match(n)&&i.dispatch(t.internalActions.middlewareRegistered(e))},jhe=({reducerPath:t,context:e,context:{endpointDefinitions:r},mutationThunk:n,queryThunk:i,api:s,assertTagType:a,refetchQuery:o,internalState:l})=>{const{removeQueryResult:c}=s.internalActions,u=Ll(vu(n),vw(n)),d=Ll(vu(n,i),UA(n,i));let A=[];const f=(y,g)=>{u(y)?m(Uq(y,"invalidatesTags",r,a),g):d(y)?m([],g):s.util.invalidateTags.match(y)&&m(eE(y.payload,void 0,void 0,void 0,void 0,a),g)};function p(y){var g,v;for(const x in y.queries)if(((g=y.queries[x])==null?void 0:g.status)==="pending")return!0;for(const x in y.mutations)if(((v=y.mutations[x])==null?void 0:v.status)==="pending")return!0;return!1}function m(y,g){const v=g.getState(),x=v[t];if(A.push(...y),x.config.invalidationBehavior==="delayed"&&p(x))return;const b=A;if(A=[],b.length===0)return;const w=s.util.selectInvalidatedBy(v,b);e.batch(()=>{const C=Array.from(w.values());for(const{queryCacheKey:S}of C){const B=x.queries[S],E=l.currentSubscriptions[S]??{};B&&(fA(E)===0?g.dispatch(c({queryCacheKey:S})):B.status!=="uninitialized"&&g.dispatch(o(B)))}})}return f},Ihe=({reducerPath:t,queryThunk:e,api:r,refetchQuery:n,internalState:i})=>{const s={},a=(A,f)=>{(r.internalActions.updateSubscriptionOptions.match(A)||r.internalActions.unsubscribeQueryResult.match(A))&&l(A.payload,f),(e.pending.match(A)||e.rejected.match(A)&&A.meta.condition)&&l(A.meta.arg,f),(e.fulfilled.match(A)||e.rejected.match(A)&&!A.meta.condition)&&o(A.meta.arg,f),r.util.resetApiState.match(A)&&u()};function o({queryCacheKey:A},f){const p=f.getState()[t],m=p.queries[A],y=i.currentSubscriptions[A];if(!m||m.status==="uninitialized")return;const{lowestPollingInterval:g,skipPollingIfUnfocused:v}=d(y);if(!Number.isFinite(g))return;const x=s[A];x!=null&&x.timeout&&(clearTimeout(x.timeout),x.timeout=void 0);const b=Date.now()+g;s[A]={nextPollTimestamp:b,pollingInterval:g,timeout:setTimeout(()=>{(p.config.focused||!v)&&f.dispatch(n(m)),o({queryCacheKey:A},f)},g)}}function l({queryCacheKey:A},f){const m=f.getState()[t].queries[A],y=i.currentSubscriptions[A];if(!m||m.status==="uninitialized")return;const{lowestPollingInterval:g}=d(y);if(!Number.isFinite(g)){c(A);return}const v=s[A],x=Date.now()+g;(!v||x<v.nextPollTimestamp)&&o({queryCacheKey:A},f)}function c(A){const f=s[A];f!=null&&f.timeout&&clearTimeout(f.timeout),delete s[A]}function u(){for(const A of Object.keys(s))c(A)}function d(A={}){let f=!1,p=Number.POSITIVE_INFINITY;for(let m in A)A[m].pollingInterval&&(p=Math.min(A[m].pollingInterval,p),f=A[m].skipPollingIfUnfocused||f);return{lowestPollingInterval:p,skipPollingIfUnfocused:f}}return a},Ohe=({api:t,context:e,queryThunk:r,mutationThunk:n})=>{const i=Xk(r,n),s=UA(r,n),a=vu(r,n),o={};return(c,u)=>{var d,A;if(i(c)){const{requestId:f,arg:{endpointName:p,originalArgs:m}}=c.meta,y=e.endpointDefinitions[p],g=y==null?void 0:y.onQueryStarted;if(g){const v={},x=new Promise((S,B)=>{v.resolve=S,v.reject=B});x.catch(()=>{}),o[f]=v;const b=t.endpoints[p].select(y.type==="query"?m:f),w=u.dispatch((S,B,E)=>E),C={...u,getCacheEntry:()=>b(u.getState()),requestId:f,extra:w,updateCachedData:y.type==="query"?S=>u.dispatch(t.util.updateQueryData(p,m,S)):void 0,queryFulfilled:x};g(m,C)}}else if(a(c)){const{requestId:f,baseQueryMeta:p}=c.meta;(d=o[f])==null||d.resolve({data:c.payload,meta:p}),delete o[f]}else if(s(c)){const{requestId:f,rejectedWithValue:p,baseQueryMeta:m}=c.meta;(A=o[f])==null||A.reject({error:c.payload??c.error,isUnhandledError:!p,meta:m}),delete o[f]}}},Phe=({reducerPath:t,context:e,api:r,refetchQuery:n,internalState:i})=>{const{removeQueryResult:s}=r.internalActions,a=(l,c)=>{Jk.match(l)&&o(c,"refetchOnFocus"),Zk.match(l)&&o(c,"refetchOnReconnect")};function o(l,c){const u=l.getState()[t],d=u.queries,A=i.currentSubscriptions;e.batch(()=>{for(const f of Object.keys(A)){const p=d[f],m=A[f];if(!m||!p)continue;(Object.values(m).some(g=>g[c]===!0)||Object.values(m).every(g=>g[c]===void 0)&&u.config[c])&&(fA(m)===0?l.dispatch(s({queryCacheKey:f})):p.status!=="uninitialized"&&l.dispatch(n(p)))}})}return a};function Uhe(t){const{reducerPath:e,queryThunk:r,api:n,context:i}=t,{apiUid:s}=i,a={invalidateTags:Ma(`${e}/invalidateTags`)},o=d=>d.type.startsWith(`${e}/`),l=[Nhe,Dhe,jhe,Ihe,Lhe,Ohe];return{middleware:d=>{let A=!1;const p={...t,internalState:{currentSubscriptions:{}},refetchQuery:u,isThisApiSliceAction:o},m=l.map(v=>v(p)),y=Mhe(p),g=Phe(p);return v=>x=>{if(!Aq(x))return v(x);A||(A=!0,d.dispatch(n.internalActions.middlewareRegistered(s)));const b={...d,next:v},w=d.getState(),[C,S]=y(x,b,w);let B;if(C?B=v(x):B=S,d.getState()[e]&&(g(x,b,w),o(x)||i.hasRehydrationInfo(x)))for(const E of m)E(x,b,w);return B}},actions:a};function u(d){return t.api.endpoints[d.endpointName].initiate(d.originalArgs,{subscribe:!1,forceRefetch:!0})}}var xL=Symbol(),Qhe=({createSelector:t=Gk}={})=>({name:xL,init(e,{baseQuery:r,tagTypes:n,reducerPath:i,serializeQueryArgs:s,keepUnusedDataFor:a,refetchOnMountOrArgChange:o,refetchOnFocus:l,refetchOnReconnect:c,invalidationBehavior:u},d){Vue();const A=P=>P;Object.assign(e,{reducerPath:i,endpoints:{},internalActions:{onOnline:Zk,onOffline:Oq,onFocus:Jk,onFocusLost:Iq},util:{}});const{queryThunk:f,mutationThunk:p,patchQueryData:m,updateQueryData:y,upsertQueryData:g,prefetch:v,buildMatchThunkActions:x}=Bhe({baseQuery:r,reducerPath:i,context:d,api:e,serializeQueryArgs:s,assertTagType:A}),{reducer:b,actions:w}=_he({context:d,queryThunk:f,mutationThunk:p,serializeQueryArgs:s,reducerPath:i,assertTagType:A,config:{refetchOnFocus:l,refetchOnReconnect:c,refetchOnMountOrArgChange:o,keepUnusedDataFor:a,reducerPath:i,invalidationBehavior:u}});nc(e.util,{patchQueryData:m,updateQueryData:y,upsertQueryData:g,prefetch:v,resetApiState:w.resetApiState,upsertQueryEntries:w.cacheEntriesUpserted}),nc(e.internalActions,w);const{middleware:C,actions:S}=Uhe({reducerPath:i,context:d,queryThunk:f,mutationThunk:p,api:e,assertTagType:A});nc(e.util,S),nc(e,{reducer:b,middleware:C});const{buildQuerySelector:B,buildMutationSelector:E,selectInvalidatedBy:M,selectCachedArgsForQuery:D}=khe({serializeQueryArgs:s,reducerPath:i,createSelector:t});nc(e.util,{selectInvalidatedBy:M,selectCachedArgsForQuery:D});const{buildInitiateQuery:L,buildInitiateMutation:I,getRunningMutationThunk:z,getRunningMutationsThunk:R,getRunningQueriesThunk:Y,getRunningQueryThunk:$}=She({queryThunk:f,mutationThunk:p,api:e,serializeQueryArgs:s,context:d});return nc(e.util,{getRunningMutationThunk:z,getRunningMutationsThunk:R,getRunningQueryThunk:$,getRunningQueriesThunk:Y}),{name:xL,injectEndpoint(P,q){var ae;const N=e;(ae=N.endpoints)[P]??(ae[P]={}),Pq(q)?nc(N.endpoints[P],{name:P,select:B(P,q),initiate:L(P,q)},x(f,P)):bhe(q)&&nc(N.endpoints[P],{name:P,select:E(),initiate:I(P)},x(p,P))}}}});function T6(t){return t.replace(t[0],t[0].toUpperCase())}function Rhe(t){return t.type==="query"}function Hhe(t){return t.type==="mutation"}function wy(t,...e){return Object.assign(t,...e)}var zh=WeakMap?new WeakMap:void 0,zhe=({endpointName:t,queryArgs:e})=>{let r="";const n=zh==null?void 0:zh.get(e);if(typeof n=="string")r=n;else{const i=JSON.stringify(e,(s,a)=>(a=typeof a=="bigint"?{$bigint:a.toString()}:a,a=ko(a)?Object.keys(a).sort().reduce((o,l)=>(o[l]=a[l],o),{}):a,a));ko(e)&&(zh==null||zh.set(e,i)),r=i}return`${t}(${r})`},D6=Symbol();function bL(t,e,r,n){const i=_.useMemo(()=>({queryArgs:t,serialized:typeof t=="object"?e({queryArgs:t,endpointDefinition:r,endpointName:n}):t}),[t,e,r,n]),s=_.useRef(i);return _.useEffect(()=>{s.current.serialized!==i.serialized&&(s.current=i)},[i]),s.current.serialized===i.serialized?s.current.queryArgs:t}function L6(t){const e=_.useRef(t);return _.useEffect(()=>{ym(e.current,t)||(e.current=t)},[t]),ym(e.current,t)?e.current:t}var $he=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vhe=$he(),Khe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qhe=Khe(),Whe=()=>Vhe||qhe?_.useLayoutEffect:_.useEffect,Ghe=Whe(),Xhe=t=>t.isUninitialized?{...t,isUninitialized:!1,isFetching:!0,isLoading:t.data===void 0,status:Lq.pending}:t;function Yhe({api:t,moduleOptions:{batch:e,hooks:{useDispatch:r,useSelector:n,useStore:i},unstable__sideEffectsInRender:s,createSelector:a},serializeQueryArgs:o,context:l}){const c=s?p=>p():_.useEffect;return{buildQueryHooks:A,buildMutationHook:f,usePrefetch:d};function u(p,m,y){if(m!=null&&m.endpointName&&p.isUninitialized){const{endpointName:C}=m,S=l.endpointDefinitions[C];y!==Qc&&o({queryArgs:m.originalArgs,endpointDefinition:S,endpointName:C})===o({queryArgs:y,endpointDefinition:S,endpointName:C})&&(m=void 0)}let g=p.isSuccess?p.data:m==null?void 0:m.data;g===void 0&&(g=p.data);const v=g!==void 0,x=p.isLoading,b=(!m||m.isLoading||m.isUninitialized)&&!v&&x,w=p.isSuccess||v&&(x&&!(m!=null&&m.isError)||p.isUninitialized);return{...p,data:g,currentData:p.data,isFetching:x,isLoading:b,isSuccess:w}}function d(p,m){const y=r(),g=L6(m);return _.useCallback((v,x)=>y(t.util.prefetch(p,v,{...g,...x})),[p,y,g])}function A(p){const m=(v,{refetchOnReconnect:x,refetchOnFocus:b,refetchOnMountOrArgChange:w,skip:C=!1,pollingInterval:S=0,skipPollingIfUnfocused:B=!1}={})=>{const{initiate:E}=t.endpoints[p],M=r(),D=_.useRef(void 0);if(!D.current){const N=M(t.internalActions.internal_getRTKQSubscriptions());D.current=N}const L=bL(C?Qc:v,zhe,l.endpointDefinitions[p],p),I=L6({refetchOnReconnect:x,refetchOnFocus:b,pollingInterval:S,skipPollingIfUnfocused:B}),z=_.useRef(!1),R=_.useRef(void 0);let{queryCacheKey:Y,requestId:$}=R.current||{},P=!1;Y&&$&&(P=D.current.isRequestSubscribed(Y,$));const q=!P&&z.current;return c(()=>{z.current=P}),c(()=>{q&&(R.current=void 0)},[q]),c(()=>{var oe;const N=R.current;if(L===Qc){N==null||N.unsubscribe(),R.current=void 0;return}const ae=(oe=R.current)==null?void 0:oe.subscriptionOptions;if(!N||N.arg!==L){N==null||N.unsubscribe();const O=M(E(L,{subscriptionOptions:I,forceRefetch:w}));R.current=O}else I!==ae&&N.updateSubscriptionOptions(I)},[M,E,w,L,I,q]),_.useEffect(()=>()=>{var N;(N=R.current)==null||N.unsubscribe(),R.current=void 0},[]),_.useMemo(()=>({refetch:()=>{var N;if(!R.current)throw new Error(Fa(38));return(N=R.current)==null?void 0:N.refetch()}}),[])},y=({refetchOnReconnect:v,refetchOnFocus:x,pollingInterval:b=0,skipPollingIfUnfocused:w=!1}={})=>{const{initiate:C}=t.endpoints[p],S=r(),[B,E]=_.useState(D6),M=_.useRef(void 0),D=L6({refetchOnReconnect:v,refetchOnFocus:x,pollingInterval:b,skipPollingIfUnfocused:w});c(()=>{var Y,$;const R=(Y=M.current)==null?void 0:Y.subscriptionOptions;D!==R&&(($=M.current)==null||$.updateSubscriptionOptions(D))},[D]);const L=_.useRef(D);c(()=>{L.current=D},[D]);const I=_.useCallback(function(R,Y=!1){let $;return e(()=>{var P;(P=M.current)==null||P.unsubscribe(),M.current=$=S(C(R,{subscriptionOptions:L.current,forceRefetch:!Y})),E(R)}),$},[S,C]),z=_.useCallback(()=>{var R,Y;(R=M.current)!=null&&R.queryCacheKey&&S(t.internalActions.removeQueryResult({queryCacheKey:(Y=M.current)==null?void 0:Y.queryCacheKey}))},[S]);return _.useEffect(()=>()=>{var R;(R=M==null?void 0:M.current)==null||R.unsubscribe()},[]),_.useEffect(()=>{B!==D6&&!M.current&&I(B,!0)},[B,I]),_.useMemo(()=>[I,B,{reset:z}],[I,B,z])},g=(v,{skip:x=!1,selectFromResult:b}={})=>{const{select:w}=t.endpoints[p],C=bL(x?Qc:v,o,l.endpointDefinitions[p],p),S=_.useRef(void 0),B=_.useMemo(()=>a([w(C),(I,z)=>z,I=>C],u,{memoizeOptions:{resultEqualityCheck:ym}}),[w,C]),E=_.useMemo(()=>b?a([B],b,{devModeChecks:{identityFunctionCheck:"never"}}):B,[B,b]),M=n(I=>E(I,S.current),ym),D=i(),L=B(D.getState(),S.current);return Ghe(()=>{S.current=L},[L]),M};return{useQueryState:g,useQuerySubscription:m,useLazyQuerySubscription:y,useLazyQuery(v){const[x,b,{reset:w}]=y(v),C=g(b,{...v,skip:b===D6}),S=_.useMemo(()=>({lastArg:b}),[b]);return _.useMemo(()=>[x,{...C,reset:w},S],[x,C,w,S])},useQuery(v,x){const b=m(v,x),w=g(v,{selectFromResult:v===Qc||x!=null&&x.skip?void 0:Xhe,...x}),{data:C,status:S,isLoading:B,isSuccess:E,isError:M,error:D}=w;return _.useDebugValue({data:C,status:S,isLoading:B,isSuccess:E,isError:M,error:D}),_.useMemo(()=>({...w,...b}),[w,b])}}}function f(p){return({selectFromResult:m,fixedCacheKey:y}={})=>{const{select:g,initiate:v}=t.endpoints[p],x=r(),[b,w]=_.useState();_.useEffect(()=>()=>{b!=null&&b.arg.fixedCacheKey||b==null||b.reset()},[b]);const C=_.useCallback(function(ae){const oe=x(v(ae,{fixedCacheKey:y}));return w(oe),oe},[x,v,y]),{requestId:S}=b||{},B=_.useMemo(()=>g({fixedCacheKey:y,requestId:b==null?void 0:b.requestId}),[y,b,g]),E=_.useMemo(()=>m?a([B],m):B,[m,B]),M=n(E,ym),D=y==null?b==null?void 0:b.arg.originalArgs:void 0,L=_.useCallback(()=>{e(()=>{b&&w(void 0),y&&x(t.internalActions.removeMutationResult({requestId:S,fixedCacheKey:y}))})},[x,y,b,S]),{endpointName:I,data:z,status:R,isLoading:Y,isSuccess:$,isError:P,error:q}=M;_.useDebugValue({endpointName:I,data:z,status:R,isLoading:Y,isSuccess:$,isError:P,error:q});const N=_.useMemo(()=>({...M,originalArgs:D,reset:L}),[M,D,L]);return _.useMemo(()=>[C,N],[C,N])}}}var Jhe=Symbol(),Zhe=({batch:t=Mue,hooks:e={useDispatch:Af,useSelector:yu,useStore:uq},createSelector:r=Gk,unstable__sideEffectsInRender:n=!1,...i}={})=>({name:Jhe,init(s,{serializeQueryArgs:a},o){const l=s,{buildQueryHooks:c,buildMutationHook:u,usePrefetch:d}=Yhe({api:s,moduleOptions:{batch:t,hooks:e,unstable__sideEffectsInRender:n,createSelector:r},serializeQueryArgs:a,context:o});return wy(l,{usePrefetch:d}),wy(o,{batch:t}),{injectEndpoint(A,f){if(Rhe(f)){const{useQuery:p,useLazyQuery:m,useLazyQuerySubscription:y,useQueryState:g,useQuerySubscription:v}=c(A);wy(l.endpoints[A],{useQuery:p,useLazyQuery:m,useLazyQuerySubscription:y,useQueryState:g,useQuerySubscription:v}),s[`use${T6(A)}Query`]=p,s[`useLazy${T6(A)}Query`]=m}else if(Hhe(f)){const p=u(A);wy(l.endpoints[A],{useMutation:p}),s[`use${T6(A)}Mutation`]=p}}}}}),Gi=Ehe(Qhe(),Zhe());const e0e=async()=>{var r,n;const t=localStorage.getItem("refreshToken");if(!t)throw new Error("No refresh token available");const e=await Bt.post(`${Tt}/auth/refresh-access-token`,{refresh_token:t},{headers:{"Content-Type":"application/json",token:t}});if(((r=e==null?void 0:e.data)==null?void 0:r.statusCode)===200)return localStorage.setItem("accessToken",(n=e==null?void 0:e.data)==null?void 0:n.accessToken),e==null?void 0:e.data.accessToken;throw new Error("Token refresh failed")},t0e=jq({baseUrl:`${Tt}`,prepareHeaders:(t,{meta:e})=>{const r=localStorage.getItem("accessToken");return e!=null&&e.file?t.set("Content-Type","multipart/form-data"):t.set("Content-Type","application/json"),r&&t.set("token",r),t}}),r0e=jq({baseUrl:`${Tt}`}),Xi=async(t,e,r)=>{var a,o;const{meta:n}=t,i=n!=null&&n.skipHeaders?r0e:t0e;let s=await i(t,e,r);if(((o=(a=s.error)==null?void 0:a.data)==null?void 0:o.statusCode)===4001)try{const l=await e0e(),c={...t.headers,token:l},u={...t,headers:c,meta:{...n,skipHeaders:!1}};s=await i(u,e,r),console.log("Retry result after token refresh:",s)}catch(l){console.error("Token refresh failed:",l),await Bt.post(`${Tt}/auth/logout`,{refresh_token:`${localStorage.getItem("refreshToken")}`}),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),e.dispatch(k4(!1)),s={error:{message:"Token refresh failed. Please log in again.",statusCode:1010}},console.log("result refresh token failure",s)}return s},E4=Gi({reducerPath:"user",baseQuery:Xi,endpoints:t=>({updateAvatar:t.mutation({query:e=>({url:"/auth/update-avatar",method:"PUT",body:e,headers:{"Content-Type":"multipart/form-data"}}),meta:{skipToken:!0,skipHeaders:!0}}),userSignUp:t.mutation({query:e=>({url:"/auth/signup",method:"POST",body:e}),meta:{skipToken:!0,skipHeaders:!0}}),createUser:t.mutation({query:e=>({url:"/auth/create-user",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),createAdmin:t.mutation({query:e=>({url:"/auth/create-admin",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),deleteUser:t.mutation({query:e=>({url:"/auth/delete-user",method:"DELETE",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),userLogIn:t.mutation({query:e=>({url:"/auth/login",method:"POST",body:e}),meta:{skipToken:!0,skipHeaders:!0}}),userLogOut:t.mutation({query:e=>({url:"/auth/logout",method:"POST",body:e}),meta:{skipToken:!0,skipHeaders:!0}}),updateProfile:t.mutation({query:e=>({url:"/auth/update-profile",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),updateUser:t.mutation({query:e=>({url:"/auth/update-user",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),updatePassword:t.mutation({query:e=>({url:"/auth/update-password",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),verifyUser:t.mutation({query:e=>({url:"/auth/verify-user",method:"POST",body:e}),meta:{skipToken:!0,skipHeaders:!1}}),verifyOtp:t.mutation({query:e=>({url:"/auth/verify-otp",method:"POST",body:e}),meta:{skipToken:!0,skipHeaders:!1}}),sendOtpToEmail:t.mutation({query:e=>({url:"/auth/send-otp",method:"POST",body:e}),meta:{skipToken:!0,skipHeaders:!1}}),getUser:t.query({query:({user_id:e})=>({url:`/auth/get-user/${e}`,method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}}),getAllParents:t.query({query:({page:e,limit:r})=>{const n={};return e!==void 0&&(n.page=e),r!==void 0&&(n.limit=r),{url:"/auth/get-all-parents",method:"GET",params:n}},meta:{skipToken:!1,skipHeaders:!1}}),getAllTeachers:t.query({query:({page:e,limit:r})=>{const n={};return e!==void 0&&(n.page=e),r!==void 0&&(n.limit=r),{url:"/auth/get-all-teachers",method:"GET",params:n}},meta:{skipToken:!1,skipHeaders:!1}}),getAllStudents:t.query({query:({page:e,limit:r})=>{const n={};return e!==void 0&&(n.page=e),r!==void 0&&(n.limit=r),{url:"/auth/get-all-students",method:"GET",params:n}},meta:{skipToken:!1,skipHeaders:!1}})})}),{useUserLogOutMutation:n0e,useUpdateProfileMutation:i0e,useGetAllParentsQuery:tE,useUpdateAvatarMutation:s0e,useDeleteUserMutation:a0e,useCreateUserMutation:o0e,useCreateAdminMutation:JHe,useUpdateUserMutation:l0e,useUserSignUpMutation:ZHe,useUserLogInMutation:c0e,useUpdatePasswordMutation:Rq,useVerifyUserMutation:u0e,useVerifyOtpMutation:d0e,useSendOtpToEmailMutation:h0e,useGetUserQuery:Hq,useGetAllStudentsQuery:A0e,useGetAllTeachersQuery:f0e}=E4,p0e=()=>{const t=xt(),{login:e}=ti(),[r,{isLoading:n}]=c0e(),[i,s]=_.useState({email:"",password:""}),a=async o=>{var l,c,u;if(o.preventDefault(),i.email!==""&&i.password!=="")try{const d=await r(i).unwrap();if((d==null?void 0:d.statusCode)===200){const A=d.data.user,f={user:A,accessToken:(l=d==null?void 0:d.data)==null?void 0:l.accessToken,refreshToken:(c=d==null?void 0:d.data)==null?void 0:c.refreshToken,isAuthenticated:!0};e(f),Z.success("Sign-in successful!",{position:"top-right",autoClose:3e3}),A.role===ve.SUPER_ADMIN||A.role===ve.ADMIN?t("/admin/"):A.role===ve.USER?t("/"):A.role===ve.PARENT&&t("/parent")}}catch(d){console.error("Error during sign-in",d),Z.error(`${((u=d.data)==null?void 0:u.message)||(d==null?void 0:d.message)||"An error occurred. Please try again."}`,{position:"top-right",autoClose:3e3})}else Z.error("Please fill in both email and password fields.",{position:"top-right",autoClose:3e3})};return h.jsxs("div",{className:"min-h-screen relative bg-custom-gradient overflow-hidden",children:[h.jsxs("div",{className:"absolute inset-0",children:[h.jsx("div",{className:"h-1/2 bg-bg-gradient"}),h.jsx("div",{className:"h-1/2 bg-white"})]}),h.jsxs("div",{className:"relative px-6 py-4 lg:flex lg:justify-center lg:items-center lg:min-h-screen",children:[h.jsxs("div",{className:"lg:w-1/2 lg:pl-12 items-start mb-1 lg:mb-0 order-2 lg:order-9 z-20 hidden lg:block",children:[h.jsx("img",{src:Eh,alt:"Tooty Logo",className:"w-32 h-auto mb-8"}),h.jsxs("div",{className:"text-white max-w-xl",children:[h.jsx("h1",{className:"font-paytone text-[32px] sm:text-[40px] font-bold leading-tight mb-4",children:"Meet Tooty"}),h.jsx("p",{className:"font-rubik text-[16px] sm:text-[18px] font-normal leading-relaxed mb-8",children:"Improving Grades, Building Confidence, and Empowering Success."}),h.jsx("div",{className:"relative -right-20 transform lg:translate-x-0",children:h.jsx("img",{src:uhe,alt:"Sign-in Animation",className:"max-w-[20rem] h-auto"})})]})]}),h.jsxs("div",{className:"font-poppins bg-white shadow-xl rounded-3xl p-6 sm:p-8 lg:w-[440px] w-full max-w-[400px] mx-auto mt-4 lg:mt-0 z-30",children:[h.jsxs("div",{className:"text-start mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold font-paytone text-gray-600",children:"Welcome to Tooty!"}),h.jsx("h1",{className:"text-lg font-normal font-rubik text-gray-600 mt-1.5",children:"Please enter your details"}),h.jsx("h1",{className:"text-3xl font-bold font-paytone mt-2",children:"Sign In"})]}),h.jsxs("form",{onSubmit:a,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Enter your Email address"}),h.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"mt-1 block w-full rounded-lg border border-gray-300 px-4 py-2.5 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500",placeholder:"Email address",value:i.email,onChange:o=>s({...i,email:o.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Enter your Password"}),h.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"mt-1 block w-full rounded-lg border border-gray-300 px-4 py-2.5 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500",placeholder:"Password",value:i.password,onChange:o=>s({...i,password:o.target.value})})]}),h.jsx("div",{className:"flex items-end justify-end",children:h.jsx(uf,{to:"/forget-password",className:"text-[13px] text-black hover:text-[#3B1E76]",children:"Forgot Password"})}),h.jsx("button",{disabled:n,className:`w-full rounded-lg py-2.5 text-white transition-all focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 ${n?"bg-gray-400 cursor-not-allowed":"bg-bg-gradient hover:bg-hover-gradient"}`,children:n?"Signing in...":"Sign in"}),h.jsx("div",{className:"text-center mt-4",children:h.jsx("p",{className:"text-sm text-gray-600",children:"No Account? Contact your School Administration."})})]})]})]})]})},zq="/assets/logo-CE3pLYgU.png",$q="/assets/signin-CPN8mZs1.png",m0e=()=>{const[t,e]=_.useState(1),[r,n]=_.useState(""),[i,s]=_.useState(""),[a,o]=_.useState(""),[l,c]=_.useState(""),[u,d]=_.useState(!1),[A,{isLoading:f}]=Rq(),[p,{isLoading:m}]=d0e(),[y,{isLoading:g}]=h0e(),v=async w=>{var S;w.preventDefault();const C={email:r};if(r!=="")try{const B=await y(C).unwrap();(B==null?void 0:B.statusCode)===200&&e(2)}catch(B){Z.error(((S=B==null?void 0:B.data)==null?void 0:S.message)||(B==null?void 0:B.message)||"Error Sending OTP to email")}},x=async w=>{var S;w.preventDefault();const C={email:r,otp:i};if(r!==""&&i!=="")try{const B=await p(C).unwrap();(B==null?void 0:B.statusCode)===200&&(B!=null&&B.data.success)&&(d(!0),e(3))}catch(B){Z.error(((S=B==null?void 0:B.data)==null?void 0:S.message)||(B==null?void 0:B.message)||"Invalid OTP")}},b=async w=>{var C;if(w.preventDefault(),a!=""&&l!=""){if(a!==l){Z.error("Passwords do not match. Please try again.");return}const S={email:r,otp:i,password:a};try{const B=await A(S).unwrap();(B==null?void 0:B.statusCode)===200&&e(4)}catch(B){Z.error(((C=B==null?void 0:B.data)==null?void 0:C.message)||(B==null?void 0:B.message)||"Failed to update password")}}};return h.jsxs("div",{className:"min-h-full relative bg-bg-gradient",children:[h.jsxs("div",{className:"absolute inset-0",children:[h.jsx("div",{className:"h-1/2 bg-background-colour"}),h.jsx("div",{className:"h-1/2 bg-white"})]}),h.jsx("div",{className:"absolute top-8 transform translate-x-40 z-10 hidden lg:block",children:h.jsx("img",{src:$q,alt:"Sign-in Animation",className:"max-w-[38rem] h-auto max-h-[30rem]"})}),h.jsxs("div",{className:"relative px-8 flex flex-col lg:flex-row justify-center lg:justify-between items-center",children:[h.jsxs("div",{className:"lg:w-1/2 top-0 pb-36 items-start mb-10 lg:mb-36 hidden lg:block",children:[h.jsx("img",{src:zq,alt:"Tooty Logo",width:120,height:80}),h.jsxs("div",{className:"text-white max-w-2xl",children:[h.jsx("h1",{className:"font-poppins text-[34px] font-normal leading-[51px] text-left mb-0 lg:mb-0",children:"Forget password"}),h.jsx("p",{className:"font-poppins text-[13px] font-light leading-[19.5px] text-left mb-8",children:"Complete the following steps to reset your password."})]})]}),h.jsxs("div",{className:"font-poppins bg-white shadow-xl rounded-3xl p-8 lg:w-[480px] w-full max-w-[400px] lg:mr-12 mt-5 z-20",children:[t===1&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl text-black",children:"Enter Your Email"}),h.jsxs("form",{onSubmit:v,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Enter your email address"}),h.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"mt-2 block w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500",placeholder:"Email address",value:r,onChange:w=>n(w.target.value)})]}),h.jsx("button",{type:"submit",className:`w-full rounded-lg ${g?"bg-gray-400 cursor-not-allowed":"bg-bg-gradient hover:bg-hover-gradient"} py-3 text-white  focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all`,children:g?"Sending OTP...":"Send OTP"})]})]}),t===2&&!u&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl text-black",children:"Enter OTP"}),h.jsxs("form",{onSubmit:x,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-700",children:["Enter the OTP sent to ",r]}),h.jsx("div",{className:"flex justify-center space-x-2 mt-4",children:[...Array(6)].map((w,C)=>h.jsx("input",{type:"number",maxLength:"1",value:i[C]||"",onChange:S=>{const B=i.split("");if(B[C]=S.target.value,S.target.value&&C<5){const E=document.getElementById(`otp-input-${C+1}`);E&&E.focus()}s(B.join(""))},onKeyDown:S=>{const B=S.key;if(B==="Backspace"&&!i[C]&&C>0){const E=document.getElementById(`otp-input-${C-1}`);E&&E.focus()}!/^\d$/.test(B)&&B!=="Backspace"&&B!=="ArrowLeft"&&B!=="ArrowRight"&&S.preventDefault()},id:`otp-input-${C}`,className:"w-9 h-9 lg:w-12 lg:h-12 text-center text-xl border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none"},C))})]}),h.jsx("button",{type:"submit",className:`w-full rounded-lg  py-3 text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all ${m?"bg-gray-400 cursor-not-allowed":"bg-bg-gradient hover:bg-hover-gradient"}`,children:"Verify OTP"})]})]}),t===2&&u&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl text-black",children:"OTP Verified"}),h.jsx("p",{className:"text-green-500 mt-4",children:"Your OTP has been successfully verified!"})]}),t===3&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl text-black mb-4 font-semibold",children:"Set New Password"}),h.jsxs("form",{onSubmit:b,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"new-password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),h.jsx("input",{id:"new-password",name:"new-password",type:"password",required:!0,className:"mt-2 block w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500",placeholder:"New password",value:a,onChange:w=>o(w.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),h.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",required:!0,className:"mt-2 block w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500",placeholder:"Confirm new password",value:l,onChange:w=>c(w.target.value)})]}),h.jsx("button",{type:"submit",className:`w-full rounded-lg py-3 text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all ${f?"bg-gray-400 cursor-not-allowed":"bg-bg-gradient hover:bg-hover-gradient"}`,children:"Reset Password"})]})]}),t===4&&h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-xl text-black",children:"Password Reset Complete"}),h.jsx("p",{className:"mt-4 text-green-500",children:"Your password has been reset successfully."}),h.jsx(uf,{to:"/login",className:"text-blue-500 underline mt-6 block",children:"Go to Login"})]})]})]})]})};var Vq={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wL=Pe.createContext&&Pe.createContext(Vq),g0e=["attr","size","title"];function y0e(t,e){if(t==null)return{};var r=v0e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function v0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gb(){return gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gb.apply(this,arguments)}function CL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(r),!0).forEach(function(n){x0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x0e(t,e,r){return e=b0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b0e(t){var e=w0e(t,"string");return typeof e=="symbol"?e:e+""}function w0e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kq(t){return t&&t.map((e,r)=>Pe.createElement(e.tag,yb({key:r},e.attr),Kq(e.child)))}function tt(t){return e=>Pe.createElement(C0e,gb({attr:yb({},t.attr)},e),Kq(t.child))}function C0e(t){var e=r=>{var{attr:n,size:i,title:s}=t,a=y0e(t,g0e),o=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),Pe.createElement("svg",gb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:l,style:yb(yb({color:t.color||r.color},r.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&Pe.createElement("title",null,s),t.children)};return wL!==void 0?Pe.createElement(wL.Consumer,null,r=>e(r)):e(Vq)}function S0e(t){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function rE(t){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(t)}function KS(t){return tt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M208 0c-29.9 0-54.7 20.5-61.8 48.2-.8 0-1.4-.2-2.2-.2-35.3 0-64 28.7-64 64 0 4.8.6 9.5 1.7 14C52.5 138 32 166.6 32 200c0 12.6 3.2 24.3 8.3 34.9C16.3 248.7 0 274.3 0 304c0 33.3 20.4 61.9 49.4 73.9-.9 4.6-1.4 9.3-1.4 14.1 0 39.8 32.2 72 72 72 4.1 0 8.1-.5 12-1.2 9.6 28.5 36.2 49.2 68 49.2 39.8 0 72-32.2 72-72V64c0-35.3-28.7-64-64-64zm368 304c0-29.7-16.3-55.3-40.3-69.1 5.2-10.6 8.3-22.3 8.3-34.9 0-33.4-20.5-62-49.7-74 1-4.5 1.7-9.2 1.7-14 0-35.3-28.7-64-64-64-.8 0-1.5.2-2.2.2C422.7 20.5 397.9 0 368 0c-35.3 0-64 28.6-64 64v376c0 39.8 32.2 72 72 72 31.8 0 58.4-20.7 68-49.2 3.9.7 7.9 1.2 12 1.2 39.8 0 72-32.2 72-72 0-4.8-.5-9.5-1.4-14.1 29-12 49.4-40.6 49.4-73.9z"},child:[]}]})(t)}function qq(t){return tt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"},child:[]}]})(t)}function B0e(t){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function _0e(t){return tt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M616 192H480V24c0-13.26-10.74-24-24-24H312c-13.26 0-24 10.74-24 24v72h-64V16c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v80h-64V16c0-8.84-7.16-16-16-16H80c-8.84 0-16 7.16-16 16v80H24c-13.26 0-24 10.74-24 24v360c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V216c0-13.26-10.75-24-24-24zM128 404c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm128 192c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12V76c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 288c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40z"},child:[]}]})(t)}function ea(t){return tt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function nE(t){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function pA(t){return tt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function M4(t){return tt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function Sa(t){return tt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function vb(t){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"},child:[]}]})(t)}function k0e(t){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(t)}function iE(t){return tt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(t)}function E0e(t){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(t)}function QA(t){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function N6(t){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(t)}function sE(t){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"},child:[]}]})(t)}function bm(t){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function qS(t){return tt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function M0e(t){return tt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function Wq(t){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function aE(t){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function Gq(t){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function _1(t){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function xb(t){return tt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M519.442 288.651c-41.519 0-59.5 31.593-82.058 31.593C377.409 320.244 432 144 432 144s-196.288 80-196.288-3.297c0-35.827 36.288-46.25 36.288-85.985C272 19.216 243.885 0 210.539 0c-34.654 0-66.366 18.891-66.366 56.346 0 41.364 31.711 59.277 31.711 81.75C175.885 207.719 0 166.758 0 166.758v333.237s178.635 41.047 178.635-28.662c0-22.473-40-40.107-40-81.471 0-37.456 29.25-56.346 63.577-56.346 33.673 0 61.788 19.216 61.788 54.717 0 39.735-36.288 50.158-36.288 85.985 0 60.803 129.675 25.73 181.23 25.73 0 0-34.725-120.101 25.827-120.101 35.962 0 46.423 36.152 86.308 36.152C556.712 416 576 387.99 576 354.443c0-34.199-18.962-65.792-56.558-65.792z"},child:[]}]})(t)}function SL(t){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(t)}function Gs(t){return tt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(t)}function ff(t){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function yh(t){return tt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M0 224v272c0 8.84 7.16 16 16 16h80V192H32c-17.67 0-32 14.33-32 32zm360-48h-24v-40c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v64c0 4.42 3.58 8 8 8h48c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zm137.75-63.96l-160-106.67a32.02 32.02 0 0 0-35.5 0l-160 106.67A32.002 32.002 0 0 0 128 138.66V512h128V368c0-8.84 7.16-16 16-16h96c8.84 0 16 7.16 16 16v144h128V138.67c0-10.7-5.35-20.7-14.25-26.63zM320 256c-44.18 0-80-35.82-80-80s35.82-80 80-80 80 35.82 80 80-35.82 80-80 80zm288-64h-64v320h80c8.84 0 16-7.16 16-16V224c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function F0e(t){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function kr(t){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function WS(t){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"},child:[]}]})(t)}function T0e(t){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(t)}function D0e(t){return tt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Pu(t){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function L0e(t){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z"},child:[]}]})(t)}function RA(t){return tt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function N0e(t){return tt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M630.6 364.9l-90.3-90.2c-12-12-28.3-18.7-45.3-18.7h-79.3c-17.7 0-32 14.3-32 32v79.2c0 17 6.7 33.2 18.7 45.2l90.3 90.2c12.5 12.5 32.8 12.5 45.3 0l92.5-92.5c12.6-12.5 12.6-32.7.1-45.2zm-182.8-21c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24c0 13.2-10.7 24-24 24zm-223.8-88c70.7 0 128-57.3 128-128C352 57.3 294.7 0 224 0S96 57.3 96 128c0 70.6 57.3 127.9 128 127.9zm127.8 111.2V294c-12.2-3.6-24.9-6.2-38.2-6.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 287.9 0 348.1 0 422.3v41.6c0 26.5 21.5 48 48 48h352c15.5 0 29.1-7.5 37.9-18.9l-58-58c-18.1-18.1-28.1-42.2-28.1-67.9z"},child:[]}]})(t)}function ui(t){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const j0e=()=>{const t=Ua(),{userEmail:e}=t.state,[r,n]=_.useState(1),[i,s]=_.useState(""),[a,o]=_.useState(!1),[l,c]=_.useState(!1),[u,{isLoading:d,error:A}]=u0e(),f=async m=>{m.preventDefault();const y={email:e,otp:i};if(e&&i.length===6){c(!0);try{const g=await u(y).unwrap();(g==null?void 0:g.statusCode)===200&&(g!=null&&g.data.success)?(o(!0),n(2)):(o(!1),Z.error("Invalid OTP, please try again."))}catch(g){console.error("Verification error:",g),Z.error("Could Not verify OTP")}finally{c(!1)}}else Z.error("Please enter a valid 6-digit OTP.")},p=(m,y)=>{const g=m.target.value;if(/^\d*$/.test(g)&&g.length<=1){const v=i.split("");v[y]=g,s(v.join("")),g&&y<5&&document.getElementById(`otp-input-${y+1}`).focus()}};return h.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-bg-gradient",children:[h.jsxs("div",{className:"absolute inset-0",children:[h.jsx("div",{className:"h-1/2 bg-background-colour"}),h.jsx("div",{className:"h-1/2 bg-white"})]}),h.jsx("div",{className:"absolute top-8 transform translate-x-40 z-10 hidden lg:block",children:h.jsx("img",{src:$q,alt:"Sign-in Animation",className:"max-w-[38rem] h-auto max-h-[30rem]"})}),h.jsxs("div",{className:"relative px-4 lg:px-8 flex flex-col lg:flex-row justify-between items-center w-full max-w-5xl",children:[h.jsxs("div",{className:"lg:w-1/2 top-0 pb-36 items-start mb-10 lg:mb-36 hidden lg:block",children:[h.jsx("img",{src:zq,alt:"Tooty Logo",width:120,height:80}),h.jsxs("div",{className:"text-white max-w-2xl",children:[h.jsx("h1",{className:"font-poppins text-3xl font-normal leading-tight text-left mb-0 lg:mb-0",children:"Email Verification"}),h.jsx("p",{className:"font-poppins text-sm font-light leading-relaxed text-left mb-8",children:"Complete the following step to verify your email."})]})]}),h.jsxs("div",{className:"font-poppins bg-white shadow-xl rounded-3xl p-8 lg:w-[480px] w-full max-w-[400px] mr-12 mt-5 z-20",children:[r===1&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl text-black",children:"OTP Sent"}),h.jsx("p",{className:"text-gray-500 mt-4",children:"We have sent an OTP to your email. Please enter it below to verify your email."}),h.jsxs("form",{onSubmit:f,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-700",children:"Enter the OTP sent to your email"}),h.jsx("div",{className:"flex justify-center space-x-2 mt-4",children:[...Array(6)].map((m,y)=>h.jsx("input",{id:`otp-input-${y}`,type:"text",maxLength:"1",value:i[y]||"",onChange:g=>p(g,y),className:"w-12 h-12 text-center text-xl border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none"},y))})]}),h.jsx("button",{type:"submit",className:`w-full rounded-lg bg-bg-gradient py-3 text-white hover:bg-hover-gradient focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all ${l?"opacity-50 cursor-not-allowed":""}`,disabled:d,children:d?"Verifying...":"Verify OTP"})]})]}),r===2&&!a&&h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-xl text-black",children:"Invalid OTP"}),h.jsx("p",{className:"text-red-500 mt-4",children:"The OTP you entered is invalid. Please try again."}),h.jsx("div",{className:"text-red-500 mt-4",children:h.jsx(T0e,{className:"inline-block text-4xl"})}),h.jsx("button",{onClick:()=>n(1),className:"w-full rounded-lg bg-bg-gradient py-3 text-white mt-6 hover:bg-hover-gradient focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all",children:"Try Again"})]}),r===2&&a&&h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-xl text-black",children:"OTP Verified"}),h.jsx("p",{className:"text-green-500 mt-4",children:"Your OTP has been successfully verified!"}),h.jsx("div",{className:"text-green-500 mt-4",children:h.jsx(B0e,{className:"inline-block text-4xl"})}),h.jsxs(uf,{to:"/login",className:"w-full rounded-lg bg-bg-gradient py-3 text-white mt-6 hover:bg-hover-gradient focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all flex justify-center items-center gap-2",children:[h.jsx(S0e,{})," Back to Login"]})]})]})]})]})},oE="/assets/user-default-image-UXuvzQ4k.jpeg";function I0e({subject:t}){yu(r=>r.auth.avatar_url);const{user:e}=ti();return console.log("user",e),h.jsxs("div",{className:"border-b bg-white border-gray-200 p-4 flex items-center justify-between sticky top-0 z-10",children:[h.jsx("div",{className:"flex items-center gap-3 ml-[25px]",children:h.jsx("h1",{className:"text-2xl font-semibold text-[#434C56]",children:t})}),h.jsx("div",{className:"relative"})]})}function BL(t){const e=[],r=String(t||"");let n=r.indexOf(","),i=0,s=!1;for(;!s;){n===-1&&(n=r.length,s=!0);const a=r.slice(i,n).trim();(a||!s)&&e.push(a),i=n+1,n=r.indexOf(",",i)}return e}function O0e(t,e){const r={};return(t[t.length-1]===""?[...t,""]:t).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const P0e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,U0e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Q0e={};function _L(t,e){return(Q0e.jsx?U0e:P0e).test(t)}const R0e=/[ \t\n\f\r]/g;function H0e(t){return typeof t=="object"?t.type==="text"?kL(t.value):!1:kL(t)}function kL(t){return t.replace(R0e,"")===""}let k1=class{constructor(e,r,n){this.normal=r,this.property=e,n&&(this.space=n)}};k1.prototype.normal={};k1.prototype.property={};k1.prototype.space=void 0;function Xq(t,e){const r={},n={};for(const i of t)Object.assign(r,i.property),Object.assign(n,i.normal);return new k1(r,n,e)}function Mg(t){return t.toLowerCase()}class Yi{constructor(e,r){this.attribute=r,this.property=e}}Yi.prototype.attribute="";Yi.prototype.booleanish=!1;Yi.prototype.boolean=!1;Yi.prototype.commaOrSpaceSeparated=!1;Yi.prototype.commaSeparated=!1;Yi.prototype.defined=!1;Yi.prototype.mustUseProperty=!1;Yi.prototype.number=!1;Yi.prototype.overloadedBoolean=!1;Yi.prototype.property="";Yi.prototype.spaceSeparated=!1;Yi.prototype.space=void 0;let z0e=0;const lt=Mh(),Wr=Mh(),Yq=Mh(),Ce=Mh(),Zt=Mh(),mA=Mh(),rs=Mh();function Mh(){return 2**++z0e}const GS=Object.freeze(Object.defineProperty({__proto__:null,boolean:lt,booleanish:Wr,commaOrSpaceSeparated:rs,commaSeparated:mA,number:Ce,overloadedBoolean:Yq,spaceSeparated:Zt},Symbol.toStringTag,{value:"Module"})),j6=Object.keys(GS);class lE extends Yi{constructor(e,r,n,i){let s=-1;if(super(e,r),EL(this,"space",i),typeof n=="number")for(;++s<j6.length;){const a=j6[s];EL(this,j6[s],(n&GS[a])===GS[a])}}}lE.prototype.defined=!0;function EL(t,e,r){r&&(t[e]=r)}function pf(t){const e={},r={};for(const[n,i]of Object.entries(t.properties)){const s=new lE(n,t.transform(t.attributes||{},n),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(n)&&(s.mustUseProperty=!0),e[n]=s,r[Mg(n)]=n,r[Mg(s.attribute)]=n}return new k1(e,r,t.space)}const Jq=pf({properties:{ariaActiveDescendant:null,ariaAtomic:Wr,ariaAutoComplete:null,ariaBusy:Wr,ariaChecked:Wr,ariaColCount:Ce,ariaColIndex:Ce,ariaColSpan:Ce,ariaControls:Zt,ariaCurrent:null,ariaDescribedBy:Zt,ariaDetails:null,ariaDisabled:Wr,ariaDropEffect:Zt,ariaErrorMessage:null,ariaExpanded:Wr,ariaFlowTo:Zt,ariaGrabbed:Wr,ariaHasPopup:null,ariaHidden:Wr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Zt,ariaLevel:Ce,ariaLive:null,ariaModal:Wr,ariaMultiLine:Wr,ariaMultiSelectable:Wr,ariaOrientation:null,ariaOwns:Zt,ariaPlaceholder:null,ariaPosInSet:Ce,ariaPressed:Wr,ariaReadOnly:Wr,ariaRelevant:null,ariaRequired:Wr,ariaRoleDescription:Zt,ariaRowCount:Ce,ariaRowIndex:Ce,ariaRowSpan:Ce,ariaSelected:Wr,ariaSetSize:Ce,ariaSort:null,ariaValueMax:Ce,ariaValueMin:Ce,ariaValueNow:Ce,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Zq(t,e){return e in t?t[e]:e}function eW(t,e){return Zq(t,e.toLowerCase())}const $0e=pf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:mA,acceptCharset:Zt,accessKey:Zt,action:null,allow:null,allowFullScreen:lt,allowPaymentRequest:lt,allowUserMedia:lt,alt:null,as:null,async:lt,autoCapitalize:null,autoComplete:Zt,autoFocus:lt,autoPlay:lt,blocking:Zt,capture:null,charSet:null,checked:lt,cite:null,className:Zt,cols:Ce,colSpan:null,content:null,contentEditable:Wr,controls:lt,controlsList:Zt,coords:Ce|mA,crossOrigin:null,data:null,dateTime:null,decoding:null,default:lt,defer:lt,dir:null,dirName:null,disabled:lt,download:Yq,draggable:Wr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:lt,formTarget:null,headers:Zt,height:Ce,hidden:lt,high:Ce,href:null,hrefLang:null,htmlFor:Zt,httpEquiv:Zt,id:null,imageSizes:null,imageSrcSet:null,inert:lt,inputMode:null,integrity:null,is:null,isMap:lt,itemId:null,itemProp:Zt,itemRef:Zt,itemScope:lt,itemType:Zt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:lt,low:Ce,manifest:null,max:null,maxLength:Ce,media:null,method:null,min:null,minLength:Ce,multiple:lt,muted:lt,name:null,nonce:null,noModule:lt,noValidate:lt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:lt,optimum:Ce,pattern:null,ping:Zt,placeholder:null,playsInline:lt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:lt,referrerPolicy:null,rel:Zt,required:lt,reversed:lt,rows:Ce,rowSpan:Ce,sandbox:Zt,scope:null,scoped:lt,seamless:lt,selected:lt,shadowRootClonable:lt,shadowRootDelegatesFocus:lt,shadowRootMode:null,shape:null,size:Ce,sizes:null,slot:null,span:Ce,spellCheck:Wr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ce,step:null,style:null,tabIndex:Ce,target:null,title:null,translate:null,type:null,typeMustMatch:lt,useMap:null,value:Wr,width:Ce,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Zt,axis:null,background:null,bgColor:null,border:Ce,borderColor:null,bottomMargin:Ce,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:lt,declare:lt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ce,leftMargin:Ce,link:null,longDesc:null,lowSrc:null,marginHeight:Ce,marginWidth:Ce,noResize:lt,noHref:lt,noShade:lt,noWrap:lt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ce,rules:null,scheme:null,scrolling:Wr,standby:null,summary:null,text:null,topMargin:Ce,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ce,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:lt,disableRemotePlayback:lt,prefix:null,property:null,results:Ce,security:null,unselectable:null},space:"html",transform:eW}),V0e=pf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:rs,accentHeight:Ce,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ce,amplitude:Ce,arabicForm:null,ascent:Ce,attributeName:null,attributeType:null,azimuth:Ce,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ce,by:null,calcMode:null,capHeight:Ce,className:Zt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ce,diffuseConstant:Ce,direction:null,display:null,dur:null,divisor:Ce,dominantBaseline:null,download:lt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ce,enableBackground:null,end:null,event:null,exponent:Ce,externalResourcesRequired:null,fill:null,fillOpacity:Ce,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:mA,g2:mA,glyphName:mA,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ce,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ce,horizOriginX:Ce,horizOriginY:Ce,id:null,ideographic:Ce,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ce,k:Ce,k1:Ce,k2:Ce,k3:Ce,k4:Ce,kernelMatrix:rs,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ce,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ce,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ce,overlineThickness:Ce,paintOrder:null,panose1:null,path:null,pathLength:Ce,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Zt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ce,pointsAtY:Ce,pointsAtZ:Ce,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:rs,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:rs,rev:rs,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:rs,requiredFeatures:rs,requiredFonts:rs,requiredFormats:rs,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ce,specularExponent:Ce,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ce,strikethroughThickness:Ce,string:null,stroke:null,strokeDashArray:rs,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ce,strokeOpacity:Ce,strokeWidth:null,style:null,surfaceScale:Ce,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:rs,tabIndex:Ce,tableValues:null,target:null,targetX:Ce,targetY:Ce,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:rs,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ce,underlineThickness:Ce,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ce,values:null,vAlphabetic:Ce,vMathematical:Ce,vectorEffect:null,vHanging:Ce,vIdeographic:Ce,version:null,vertAdvY:Ce,vertOriginX:Ce,vertOriginY:Ce,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ce,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Zq}),tW=pf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),rW=pf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:eW}),nW=pf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),K0e={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},q0e=/[A-Z]/g,ML=/-[a-z]/g,W0e=/^data[-\w.:]+$/i;function iW(t,e){const r=Mg(e);let n=e,i=Yi;if(r in t.normal)return t.property[t.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&W0e.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(ML,X0e);n="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!ML.test(s)){let a=s.replace(q0e,G0e);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=lE}return new i(n,e)}function G0e(t){return"-"+t.toLowerCase()}function X0e(t){return t.charAt(1).toUpperCase()}const sW=Xq([Jq,$0e,tW,rW,nW],"html"),Cw=Xq([Jq,V0e,tW,rW,nW],"svg");function FL(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function Y0e(t){return t.join(" ").trim()}var aW={},TL=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,J0e=/\n/g,Z0e=/^\s*/,eAe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,tAe=/^:\s*/,rAe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,nAe=/^[;\s]*/,iAe=/^\s+|\s+$/g,sAe=`
`,DL="/",LL="*",Md="",aAe="comment",oAe="declaration",lAe=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var r=1,n=1;function i(p){var m=p.match(J0e);m&&(r+=m.length);var y=p.lastIndexOf(sAe);n=~y?p.length-y:n+p.length}function s(){var p={line:r,column:n};return function(m){return m.position=new a(p),c(),m}}function a(p){this.start=p,this.end={line:r,column:n},this.source=e.source}a.prototype.content=t;function o(p){var m=new Error(e.source+":"+r+":"+n+": "+p);if(m.reason=p,m.filename=e.source,m.line=r,m.column=n,m.source=t,!e.silent)throw m}function l(p){var m=p.exec(t);if(m){var y=m[0];return i(y),t=t.slice(y.length),m}}function c(){l(Z0e)}function u(p){var m;for(p=p||[];m=d();)m!==!1&&p.push(m);return p}function d(){var p=s();if(!(DL!=t.charAt(0)||LL!=t.charAt(1))){for(var m=2;Md!=t.charAt(m)&&(LL!=t.charAt(m)||DL!=t.charAt(m+1));)++m;if(m+=2,Md===t.charAt(m-1))return o("End of comment missing");var y=t.slice(2,m-2);return n+=2,i(y),t=t.slice(m),n+=2,p({type:aAe,comment:y})}}function A(){var p=s(),m=l(eAe);if(m){if(d(),!l(tAe))return o("property missing ':'");var y=l(rAe),g=p({type:oAe,property:NL(m[0].replace(TL,Md)),value:y?NL(y[0].replace(TL,Md)):Md});return l(nAe),g}}function f(){var p=[];u(p);for(var m;m=A();)m!==!1&&(p.push(m),u(p));return p}return c(),f()};function NL(t){return t?t.replace(iAe,Md):Md}var cAe=AT&&AT.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(aW,"__esModule",{value:!0});var jL=aW.default=dAe,uAe=cAe(lAe);function dAe(t,e){var r=null;if(!t||typeof t!="string")return r;var n=(0,uAe.default)(t),i=typeof e=="function";return n.forEach(function(s){if(s.type==="declaration"){var a=s.property,o=s.value;i?e(a,o,s):o&&(r=r||{},r[a]=o)}}),r}const hAe=jL.default||jL,oW=lW("end"),cE=lW("start");function lW(t){return e;function e(r){const n=r&&r.position&&r.position[t]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function AAe(t){const e=cE(t),r=oW(t);if(e&&r)return{start:e,end:r}}function wm(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?IL(t.position):"start"in t||"end"in t?IL(t):"line"in t||"column"in t?XS(t):""}function XS(t){return OL(t&&t.line)+":"+OL(t&&t.column)}function IL(t){return XS(t&&t.start)+"-"+XS(t&&t.end)}function OL(t){return t&&typeof t=="number"?t:1}class ni extends Error{constructor(e,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",s={},a=!1;if(r&&("line"in r&&"column"in r?s={place:r}:"start"in r&&"end"in r?s={place:r}:"type"in r?s={ancestors:[r],place:r.position}:s={...r}),typeof e=="string"?i=e:!s.cause&&e&&(a=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?s.ruleId=n:(s.source=n.slice(0,l),s.ruleId=n.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=o?o.line:void 0,this.name=wm(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}ni.prototype.file="";ni.prototype.name="";ni.prototype.reason="";ni.prototype.message="";ni.prototype.stack="";ni.prototype.column=void 0;ni.prototype.line=void 0;ni.prototype.ancestors=void 0;ni.prototype.cause=void 0;ni.prototype.fatal=void 0;ni.prototype.place=void 0;ni.prototype.ruleId=void 0;ni.prototype.source=void 0;const uE={}.hasOwnProperty,fAe=new Map,pAe=/[A-Z]/g,mAe=/-([a-z])/g,gAe=new Set(["table","tbody","thead","tfoot","tr"]),yAe=new Set(["td","th"]),cW="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function vAe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=e.filePath||void 0;let n;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=kAe(r,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=_Ae(r,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:n,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Cw:sW,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=uW(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function uW(t,e,r){if(e.type==="element")return xAe(t,e,r);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return bAe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return CAe(t,e,r);if(e.type==="mdxjsEsm")return wAe(t,e);if(e.type==="root")return SAe(t,e,r);if(e.type==="text")return BAe(t,e)}function xAe(t,e,r){const n=t.schema;let i=n;e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=Cw,t.schema=i),t.ancestors.push(e);const s=hW(t,e.tagName,!1),a=EAe(t,e);let o=hE(t,e);return gAe.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!H0e(l):!0})),dW(t,a,s,e),dE(a,o),t.ancestors.pop(),t.schema=n,t.create(e,s,a,r)}function bAe(t,e){if(e.data&&e.data.estree&&t.evaluater){const n=e.data.estree.body[0];return n.type,t.evaluater.evaluateExpression(n.expression)}Fg(t,e.position)}function wAe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Fg(t,e.position)}function CAe(t,e,r){const n=t.schema;let i=n;e.name==="svg"&&n.space==="html"&&(i=Cw,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:hW(t,e.name,!0),a=MAe(t,e),o=hE(t,e);return dW(t,a,s,e),dE(a,o),t.ancestors.pop(),t.schema=n,t.create(e,s,a,r)}function SAe(t,e,r){const n={};return dE(n,hE(t,e)),t.create(e,t.Fragment,n,r)}function BAe(t,e){return e.value}function dW(t,e,r,n){typeof r!="string"&&r!==t.Fragment&&t.passNode&&(e.node=n)}function dE(t,e){if(e.length>0){const r=e.length>1?e:e[0];r&&(t.children=r)}}function _Ae(t,e,r){return n;function n(i,s,a,o){const c=Array.isArray(a.children)?r:e;return o?c(s,a,o):c(s,a)}}function kAe(t,e){return r;function r(n,i,s,a){const o=Array.isArray(s.children),l=cE(n);return e(i,s,a,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function EAe(t,e){const r={};let n,i;for(i in e.properties)if(i!=="children"&&uE.call(e.properties,i)){const s=FAe(t,i,e.properties[i]);if(s){const[a,o]=s;t.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&yAe.has(e.tagName)?n=o:r[a]=o}}if(n){const s=r.style||(r.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function MAe(t,e){const r={};for(const n of e.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&t.evaluater){const s=n.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(r,t.evaluater.evaluateExpression(o.argument))}else Fg(t,e.position);else{const i=n.name;let s;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&t.evaluater){const o=n.value.data.estree.body[0];o.type,s=t.evaluater.evaluateExpression(o.expression)}else Fg(t,e.position);else s=n.value===null?!0:n.value;r[i]=s}return r}function hE(t,e){const r=[];let n=-1;const i=t.passKeys?new Map:fAe;for(;++n<e.children.length;){const s=e.children[n];let a;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;a=l+"-"+c,i.set(l,c+1)}}const o=uW(t,s,a);o!==void 0&&r.push(o)}return r}function FAe(t,e,r){const n=iW(t.schema,e);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?O0e(r):Y0e(r)),n.property==="style"){let i=typeof r=="object"?r:TAe(t,String(r));return t.stylePropertyNameCase==="css"&&(i=DAe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&n.space?K0e[n.property]||n.property:n.attribute,r]}}function TAe(t,e){const r={};try{hAe(e,n)}catch(i){if(!t.ignoreInvalidStyle){const s=i,a=new ni("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=cW+"#cannot-parse-style-attribute",a}}return r;function n(i,s){let a=i;a.slice(0,2)!=="--"&&(a.slice(0,4)==="-ms-"&&(a="ms-"+a.slice(4)),a=a.replace(mAe,NAe)),r[a]=s}}function hW(t,e,r){let n;if(!r)n={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,a;for(;++s<i.length;){const o=_L(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}n=a}else n=_L(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(n.type==="Literal"){const i=n.value;return uE.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(n);Fg(t)}function Fg(t,e){const r=new ni("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=cW+"#cannot-handle-mdx-estrees-without-createevaluater",r}function DAe(t){const e={};let r;for(r in t)uE.call(t,r)&&(e[LAe(r)]=t[r]);return e}function LAe(t){let e=t.replace(pAe,jAe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function NAe(t,e){return e.toUpperCase()}function jAe(t){return"-"+t.toLowerCase()}const I6={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},IAe={};function OAe(t,e){const r=IAe,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return AW(t,n,i)}function AW(t,e,r){if(PAe(t)){if("value"in t)return t.type==="html"&&!r?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return PL(t.children,e,r)}return Array.isArray(t)?PL(t,e,r):""}function PL(t,e,r){const n=[];let i=-1;for(;++i<t.length;)n[i]=AW(t[i],e,r);return n.join("")}function PAe(t){return!!(t&&typeof t=="object")}const UL=document.createElement("i");function AE(t){const e="&"+t+";";UL.innerHTML=e;const r=UL.textContent;return r.charCodeAt(r.length-1)===59&&t!=="semi"||r===e?!1:r}function Mo(t,e,r,n){const i=t.length;let s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,r=r>0?r:0,n.length<1e4)a=Array.from(n),a.unshift(e,r),t.splice(...a);else for(r&&t.splice(e,r);s<n.length;)a=n.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}function Rs(t,e){return t.length>0?(Mo(t,t.length,0,e),t):e}const QL={}.hasOwnProperty;function UAe(t){const e={};let r=-1;for(;++r<t.length;)QAe(e,t[r]);return e}function QAe(t,e){let r;for(r in e){const i=(QL.call(t,r)?t[r]:void 0)||(t[r]={}),s=e[r];let a;if(s)for(a in s){QL.call(i,a)||(i[a]=[]);const o=s[a];RAe(i[a],Array.isArray(o)?o:o?[o]:[])}}}function RAe(t,e){let r=-1;const n=[];for(;++r<e.length;)(e[r].add==="after"?t:n).push(e[r]);Mo(t,0,0,n)}function fW(t,e){const r=Number.parseInt(t,e);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function gA(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const co=Uu(/[A-Za-z]/),fs=Uu(/[\dA-Za-z]/),HAe=Uu(/[#-'*+\--9=?A-Z^-~]/);function YS(t){return t!==null&&(t<32||t===127)}const JS=Uu(/\d/),zAe=Uu(/[\dA-Fa-f]/),$Ae=Uu(/[!-/:-@[-`{-~]/);function $e(t){return t!==null&&t<-2}function Qi(t){return t!==null&&(t<0||t===32)}function Ot(t){return t===-2||t===-1||t===32}const VAe=Uu(new RegExp("\\p{P}|\\p{S}","u")),KAe=Uu(/\s/);function Uu(t){return e;function e(r){return r!==null&&r>-1&&t.test(String.fromCharCode(r))}}function mf(t){const e=[];let r=-1,n=0,i=0;for(;++r<t.length;){const s=t.charCodeAt(r);let a="";if(s===37&&fs(t.charCodeAt(r+1))&&fs(t.charCodeAt(r+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=t.charCodeAt(r+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(e.push(t.slice(n,r),encodeURIComponent(a)),n=r+i+1,a=""),i&&(r+=i,i=0)}return e.join("")+t.slice(n)}function Rt(t,e,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return Ot(l)?(t.enter(r),o(l)):e(l)}function o(l){return Ot(l)&&s++<i?(t.consume(l),o):(t.exit(r),e(l))}}const qAe={tokenize:WAe};function WAe(t){const e=t.attempt(this.parser.constructs.contentInitial,n,i);let r;return e;function n(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Rt(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),s(o)}function s(o){const l=t.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,a(o)}function a(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return $e(o)?(t.consume(o),t.exit("chunkText"),s):(t.consume(o),a)}}const GAe={tokenize:XAe},RL={tokenize:YAe};function XAe(t){const e=this,r=[];let n=0,i,s,a;return o;function o(x){if(n<r.length){const b=r[n];return e.containerState=b[1],t.attempt(b[0].continuation,l,c)(x)}return c(x)}function l(x){if(n++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&v();const b=e.events.length;let w=b,C;for(;w--;)if(e.events[w][0]==="exit"&&e.events[w][1].type==="chunkFlow"){C=e.events[w][1].end;break}g(n);let S=b;for(;S<e.events.length;)e.events[S][1].end={...C},S++;return Mo(e.events,w+1,0,e.events.slice(b)),e.events.length=S,c(x)}return o(x)}function c(x){if(n===r.length){if(!i)return A(x);if(i.currentConstruct&&i.currentConstruct.concrete)return p(x);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(RL,u,d)(x)}function u(x){return i&&v(),g(n),A(x)}function d(x){return e.parser.lazy[e.now().line]=n!==r.length,a=e.now().offset,p(x)}function A(x){return e.containerState={},t.attempt(RL,f,p)(x)}function f(x){return n++,r.push([e.currentConstruct,e.containerState]),A(x)}function p(x){if(x===null){i&&v(),g(0),t.consume(x);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),m(x)}function m(x){if(x===null){y(t.exit("chunkFlow"),!0),g(0),t.consume(x);return}return $e(x)?(t.consume(x),y(t.exit("chunkFlow")),n=0,e.interrupt=void 0,o):(t.consume(x),m)}function y(x,b){const w=e.sliceStream(x);if(b&&w.push(null),x.previous=s,s&&(s.next=x),s=x,i.defineSkip(x.start),i.write(w),e.parser.lazy[x.start.line]){let C=i.events.length;for(;C--;)if(i.events[C][1].start.offset<a&&(!i.events[C][1].end||i.events[C][1].end.offset>a))return;const S=e.events.length;let B=S,E,M;for(;B--;)if(e.events[B][0]==="exit"&&e.events[B][1].type==="chunkFlow"){if(E){M=e.events[B][1].end;break}E=!0}for(g(n),C=S;C<e.events.length;)e.events[C][1].end={...M},C++;Mo(e.events,B+1,0,e.events.slice(S)),e.events.length=C}}function g(x){let b=r.length;for(;b-- >x;){const w=r[b];e.containerState=w[1],w[0].exit.call(e,t)}r.length=x}function v(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function YAe(t,e,r){return Rt(t,t.attempt(this.parser.constructs.document,e,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function HL(t){if(t===null||Qi(t)||KAe(t))return 1;if(VAe(t))return 2}function fE(t,e,r){const n=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!n.includes(s)&&(e=s(e,r),n.push(s))}return e}const ZS={name:"attention",resolveAll:JAe,tokenize:ZAe};function JAe(t,e){let r=-1,n,i,s,a,o,l,c,u;for(;++r<t.length;)if(t[r][0]==="enter"&&t[r][1].type==="attentionSequence"&&t[r][1]._close){for(n=r;n--;)if(t[n][0]==="exit"&&t[n][1].type==="attentionSequence"&&t[n][1]._open&&e.sliceSerialize(t[n][1]).charCodeAt(0)===e.sliceSerialize(t[r][1]).charCodeAt(0)){if((t[n][1]._close||t[r][1]._open)&&(t[r][1].end.offset-t[r][1].start.offset)%3&&!((t[n][1].end.offset-t[n][1].start.offset+t[r][1].end.offset-t[r][1].start.offset)%3))continue;l=t[n][1].end.offset-t[n][1].start.offset>1&&t[r][1].end.offset-t[r][1].start.offset>1?2:1;const d={...t[n][1].end},A={...t[r][1].start};zL(d,-l),zL(A,l),a={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[n][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[r][1].start},end:A},s={type:l>1?"strongText":"emphasisText",start:{...t[n][1].end},end:{...t[r][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},t[n][1].end={...a.start},t[r][1].start={...o.end},c=[],t[n][1].end.offset-t[n][1].start.offset&&(c=Rs(c,[["enter",t[n][1],e],["exit",t[n][1],e]])),c=Rs(c,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),c=Rs(c,fE(e.parser.constructs.insideSpan.null,t.slice(n+1,r),e)),c=Rs(c,[["exit",s,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[r][1].end.offset-t[r][1].start.offset?(u=2,c=Rs(c,[["enter",t[r][1],e],["exit",t[r][1],e]])):u=0,Mo(t,n-1,r-n+3,c),r=n+c.length-u-2;break}}for(r=-1;++r<t.length;)t[r][1].type==="attentionSequence"&&(t[r][1].type="data");return t}function ZAe(t,e){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=HL(n);let s;return a;function a(l){return s=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===s)return t.consume(l),o;const c=t.exit("attentionSequence"),u=HL(l),d=!u||u===2&&i||r.includes(l),A=!i||i===2&&u||r.includes(n);return c._open=!!(s===42?d:d&&(i||!A)),c._close=!!(s===42?A:A&&(u||!d)),e(l)}}function zL(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const efe={name:"autolink",tokenize:tfe};function tfe(t,e,r){let n=0;return i;function i(f){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(f){return co(f)?(t.consume(f),a):f===64?r(f):c(f)}function a(f){return f===43||f===45||f===46||fs(f)?(n=1,o(f)):c(f)}function o(f){return f===58?(t.consume(f),n=0,l):(f===43||f===45||f===46||fs(f))&&n++<32?(t.consume(f),o):(n=0,c(f))}function l(f){return f===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):f===null||f===32||f===60||YS(f)?r(f):(t.consume(f),l)}function c(f){return f===64?(t.consume(f),u):HAe(f)?(t.consume(f),c):r(f)}function u(f){return fs(f)?d(f):r(f)}function d(f){return f===46?(t.consume(f),n=0,u):f===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):A(f)}function A(f){if((f===45||fs(f))&&n++<63){const p=f===45?A:d;return t.consume(f),p}return r(f)}}const Sw={partial:!0,tokenize:rfe};function rfe(t,e,r){return n;function n(s){return Ot(s)?Rt(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||$e(s)?e(s):r(s)}}const pW={continuation:{tokenize:ife},exit:sfe,name:"blockQuote",tokenize:nfe};function nfe(t,e,r){const n=this;return i;function i(a){if(a===62){const o=n.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return r(a)}function s(a){return Ot(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function ife(t,e,r){const n=this;return i;function i(a){return Ot(a)?Rt(t,s,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(pW,e,r)(a)}}function sfe(t){t.exit("blockQuote")}const mW={name:"characterEscape",tokenize:afe};function afe(t,e,r){return n;function n(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return $Ae(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):r(s)}}const gW={name:"characterReference",tokenize:ofe};function ofe(t,e,r){const n=this;let i=0,s,a;return o;function o(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,a=fs,u(d))}function c(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=zAe,u):(t.enter("characterReferenceValue"),s=7,a=JS,u(d))}function u(d){if(d===59&&i){const A=t.exit("characterReferenceValue");return a===fs&&!AE(n.sliceSerialize(A))?r(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(d)&&i++<s?(t.consume(d),u):r(d)}}const $L={partial:!0,tokenize:cfe},VL={concrete:!0,name:"codeFenced",tokenize:lfe};function lfe(t,e,r){const n=this,i={partial:!0,tokenize:w};let s=0,a=0,o;return l;function l(C){return c(C)}function c(C){const S=n.events[n.events.length-1];return s=S&&S[1].type==="linePrefix"?S[2].sliceSerialize(S[1],!0).length:0,o=C,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(C)}function u(C){return C===o?(a++,t.consume(C),u):a<3?r(C):(t.exit("codeFencedFenceSequence"),Ot(C)?Rt(t,d,"whitespace")(C):d(C))}function d(C){return C===null||$e(C)?(t.exit("codeFencedFence"),n.interrupt?e(C):t.check($L,m,b)(C)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),A(C))}function A(C){return C===null||$e(C)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(C)):Ot(C)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Rt(t,f,"whitespace")(C)):C===96&&C===o?r(C):(t.consume(C),A)}function f(C){return C===null||$e(C)?d(C):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),p(C))}function p(C){return C===null||$e(C)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(C)):C===96&&C===o?r(C):(t.consume(C),p)}function m(C){return t.attempt(i,b,y)(C)}function y(C){return t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),g}function g(C){return s>0&&Ot(C)?Rt(t,v,"linePrefix",s+1)(C):v(C)}function v(C){return C===null||$e(C)?t.check($L,m,b)(C):(t.enter("codeFlowValue"),x(C))}function x(C){return C===null||$e(C)?(t.exit("codeFlowValue"),v(C)):(t.consume(C),x)}function b(C){return t.exit("codeFenced"),e(C)}function w(C,S,B){let E=0;return M;function M(R){return C.enter("lineEnding"),C.consume(R),C.exit("lineEnding"),D}function D(R){return C.enter("codeFencedFence"),Ot(R)?Rt(C,L,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):L(R)}function L(R){return R===o?(C.enter("codeFencedFenceSequence"),I(R)):B(R)}function I(R){return R===o?(E++,C.consume(R),I):E>=a?(C.exit("codeFencedFenceSequence"),Ot(R)?Rt(C,z,"whitespace")(R):z(R)):B(R)}function z(R){return R===null||$e(R)?(C.exit("codeFencedFence"),S(R)):B(R)}}}function cfe(t,e,r){const n=this;return i;function i(a){return a===null?r(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return n.parser.lazy[n.now().line]?r(a):e(a)}}const O6={name:"codeIndented",tokenize:dfe},ufe={partial:!0,tokenize:hfe};function dfe(t,e,r){const n=this;return i;function i(c){return t.enter("codeIndented"),Rt(t,s,"linePrefix",5)(c)}function s(c){const u=n.events[n.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?a(c):r(c)}function a(c){return c===null?l(c):$e(c)?t.attempt(ufe,a,l)(c):(t.enter("codeFlowValue"),o(c))}function o(c){return c===null||$e(c)?(t.exit("codeFlowValue"),a(c)):(t.consume(c),o)}function l(c){return t.exit("codeIndented"),e(c)}}function hfe(t,e,r){const n=this;return i;function i(a){return n.parser.lazy[n.now().line]?r(a):$e(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):Rt(t,s,"linePrefix",5)(a)}function s(a){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):$e(a)?i(a):r(a)}}const Afe={name:"codeText",previous:pfe,resolve:ffe,tokenize:mfe};function ffe(t){let e=t.length-4,r=3,n,i;if((t[r][1].type==="lineEnding"||t[r][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(n=r;++n<e;)if(t[n][1].type==="codeTextData"){t[r][1].type="codeTextPadding",t[e][1].type="codeTextPadding",r+=2,e-=2;break}}for(n=r-1,e++;++n<=e;)i===void 0?n!==e&&t[n][1].type!=="lineEnding"&&(i=n):(n===e||t[n][1].type==="lineEnding")&&(t[i][1].type="codeTextData",n!==i+2&&(t[i][1].end=t[n-1][1].end,t.splice(i+2,n-i-2),e-=n-i-2,n=i+2),i=void 0);return t}function pfe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function mfe(t,e,r){let n=0,i,s;return a;function a(d){return t.enter("codeText"),t.enter("codeTextSequence"),o(d)}function o(d){return d===96?(t.consume(d),n++,o):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?r(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(s=t.enter("codeTextSequence"),i=0,u(d)):$e(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||$e(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),c)}function u(d){return d===96?(t.consume(d),i++,u):i===n?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",c(d))}}class gfe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,r,n){const i=r||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&Vf(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Vf(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Vf(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const r=this.left.splice(e,Number.POSITIVE_INFINITY);Vf(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Vf(this.left,r.reverse())}}}function Vf(t,e){let r=0;if(e.length<1e4)t.push(...e);else for(;r<e.length;)t.push(...e.slice(r,r+1e4)),r+=1e4}function yW(t){const e={};let r=-1,n,i,s,a,o,l,c;const u=new gfe(t);for(;++r<u.length;){for(;r in e;)r=e[r];if(n=u.get(r),r&&n[1].type==="chunkFlow"&&u.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(n[0]==="enter")n[1].contentType&&(Object.assign(e,yfe(u,r)),r=e[r],c=!0);else if(n[1]._container){for(s=r,i=void 0;s--;)if(a=u.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(a[1].type!=="linePrefix")break;i&&(n[1].end={...u.get(i)[1].start},o=u.slice(i,r),o.unshift(n),u.splice(i,r-i+1,o))}}return Mo(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function yfe(t,e){const r=t.get(e)[1],n=t.get(e)[2];let i=e-1;const s=[],a=r._tokenizer||n.parser[r.contentType](r.start),o=a.events,l=[],c={};let u,d,A=-1,f=r,p=0,m=0;const y=[m];for(;f;){for(;t.get(++i)[1]!==f;);s.push(i),f._tokenizer||(u=n.sliceStream(f),f.next||u.push(null),d&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=r;++A<o.length;)o[A][0]==="exit"&&o[A-1][0]==="enter"&&o[A][1].type===o[A-1][1].type&&o[A][1].start.line!==o[A][1].end.line&&(m=A+1,y.push(m),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):y.pop(),A=y.length;A--;){const g=o.slice(y[A],y[A+1]),v=s.pop();l.push([v,v+g.length-1]),t.splice(v,2,g)}for(l.reverse(),A=-1;++A<l.length;)c[p+l[A][0]]=p+l[A][1],p+=l[A][1]-l[A][0]-1;return c}const vfe={resolve:bfe,tokenize:wfe},xfe={partial:!0,tokenize:Cfe};function bfe(t){return yW(t),t}function wfe(t,e){let r;return n;function n(o){return t.enter("content"),r=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):$e(o)?t.check(xfe,a,s)(o):(t.consume(o),i)}function s(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function a(o){return t.consume(o),t.exit("chunkContent"),r.next=t.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function Cfe(t,e,r){const n=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Rt(t,s,"linePrefix")}function s(a){if(a===null||$e(a))return r(a);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):t.interrupt(n.parser.constructs.flow,r,e)(a)}}function vW(t,e,r,n,i,s,a,o,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(g){return g===60?(t.enter(n),t.enter(i),t.enter(s),t.consume(g),t.exit(s),A):g===null||g===32||g===41||YS(g)?r(g):(t.enter(n),t.enter(a),t.enter(o),t.enter("chunkString",{contentType:"string"}),m(g))}function A(g){return g===62?(t.enter(s),t.consume(g),t.exit(s),t.exit(i),t.exit(n),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===62?(t.exit("chunkString"),t.exit(o),A(g)):g===null||g===60||$e(g)?r(g):(t.consume(g),g===92?p:f)}function p(g){return g===60||g===62||g===92?(t.consume(g),f):f(g)}function m(g){return!u&&(g===null||g===41||Qi(g))?(t.exit("chunkString"),t.exit(o),t.exit(a),t.exit(n),e(g)):u<c&&g===40?(t.consume(g),u++,m):g===41?(t.consume(g),u--,m):g===null||g===32||g===40||YS(g)?r(g):(t.consume(g),g===92?y:m)}function y(g){return g===40||g===41||g===92?(t.consume(g),m):m(g)}}function xW(t,e,r,n,i,s){const a=this;let o=0,l;return c;function c(f){return t.enter(n),t.enter(i),t.consume(f),t.exit(i),t.enter(s),u}function u(f){return o>999||f===null||f===91||f===93&&!l||f===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?r(f):f===93?(t.exit(s),t.enter(i),t.consume(f),t.exit(i),t.exit(n),e):$e(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===null||f===91||f===93||$e(f)||o++>999?(t.exit("chunkString"),u(f)):(t.consume(f),l||(l=!Ot(f)),f===92?A:d)}function A(f){return f===91||f===92||f===93?(t.consume(f),o++,d):d(f)}}function bW(t,e,r,n,i,s){let a;return o;function o(A){return A===34||A===39||A===40?(t.enter(n),t.enter(i),t.consume(A),t.exit(i),a=A===40?41:A,l):r(A)}function l(A){return A===a?(t.enter(i),t.consume(A),t.exit(i),t.exit(n),e):(t.enter(s),c(A))}function c(A){return A===a?(t.exit(s),l(a)):A===null?r(A):$e(A)?(t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),Rt(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(A))}function u(A){return A===a||A===null||$e(A)?(t.exit("chunkString"),c(A)):(t.consume(A),A===92?d:u)}function d(A){return A===a||A===92?(t.consume(A),u):u(A)}}function Cm(t,e){let r;return n;function n(i){return $e(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),r=!0,n):Ot(i)?Rt(t,n,r?"linePrefix":"lineSuffix")(i):e(i)}}const Sfe={name:"definition",tokenize:_fe},Bfe={partial:!0,tokenize:kfe};function _fe(t,e,r){const n=this;let i;return s;function s(f){return t.enter("definition"),a(f)}function a(f){return xW.call(n,t,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function o(f){return i=gA(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),f===58?(t.enter("definitionMarker"),t.consume(f),t.exit("definitionMarker"),l):r(f)}function l(f){return Qi(f)?Cm(t,c)(f):c(f)}function c(f){return vW(t,u,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function u(f){return t.attempt(Bfe,d,d)(f)}function d(f){return Ot(f)?Rt(t,A,"whitespace")(f):A(f)}function A(f){return f===null||$e(f)?(t.exit("definition"),n.parser.defined.push(i),e(f)):r(f)}}function kfe(t,e,r){return n;function n(o){return Qi(o)?Cm(t,i)(o):r(o)}function i(o){return bW(t,s,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return Ot(o)?Rt(t,a,"whitespace")(o):a(o)}function a(o){return o===null||$e(o)?e(o):r(o)}}const Efe={name:"hardBreakEscape",tokenize:Mfe};function Mfe(t,e,r){return n;function n(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return $e(s)?(t.exit("hardBreakEscape"),e(s)):r(s)}}const Ffe={name:"headingAtx",resolve:Tfe,tokenize:Dfe};function Tfe(t,e){let r=t.length-2,n=3,i,s;return t[n][1].type==="whitespace"&&(n+=2),r-2>n&&t[r][1].type==="whitespace"&&(r-=2),t[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&t[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:t[n][1].start,end:t[r][1].end},s={type:"chunkText",start:t[n][1].start,end:t[r][1].end,contentType:"text"},Mo(t,n,r-n+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function Dfe(t,e,r){let n=0;return i;function i(u){return t.enter("atxHeading"),s(u)}function s(u){return t.enter("atxHeadingSequence"),a(u)}function a(u){return u===35&&n++<6?(t.consume(u),a):u===null||Qi(u)?(t.exit("atxHeadingSequence"),o(u)):r(u)}function o(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||$e(u)?(t.exit("atxHeading"),e(u)):Ot(u)?Rt(t,o,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),o(u))}function c(u){return u===null||u===35||Qi(u)?(t.exit("atxHeadingText"),o(u)):(t.consume(u),c)}}const Lfe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],KL=["pre","script","style","textarea"],Nfe={concrete:!0,name:"htmlFlow",resolveTo:Ofe,tokenize:Pfe},jfe={partial:!0,tokenize:Qfe},Ife={partial:!0,tokenize:Ufe};function Ofe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Pfe(t,e,r){const n=this;let i,s,a,o,l;return c;function c(O){return u(O)}function u(O){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(O),d}function d(O){return O===33?(t.consume(O),A):O===47?(t.consume(O),s=!0,m):O===63?(t.consume(O),i=3,n.interrupt?e:N):co(O)?(t.consume(O),a=String.fromCharCode(O),y):r(O)}function A(O){return O===45?(t.consume(O),i=2,f):O===91?(t.consume(O),i=5,o=0,p):co(O)?(t.consume(O),i=4,n.interrupt?e:N):r(O)}function f(O){return O===45?(t.consume(O),n.interrupt?e:N):r(O)}function p(O){const fe="CDATA[";return O===fe.charCodeAt(o++)?(t.consume(O),o===fe.length?n.interrupt?e:L:p):r(O)}function m(O){return co(O)?(t.consume(O),a=String.fromCharCode(O),y):r(O)}function y(O){if(O===null||O===47||O===62||Qi(O)){const fe=O===47,Se=a.toLowerCase();return!fe&&!s&&KL.includes(Se)?(i=1,n.interrupt?e(O):L(O)):Lfe.includes(a.toLowerCase())?(i=6,fe?(t.consume(O),g):n.interrupt?e(O):L(O)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(O):s?v(O):x(O))}return O===45||fs(O)?(t.consume(O),a+=String.fromCharCode(O),y):r(O)}function g(O){return O===62?(t.consume(O),n.interrupt?e:L):r(O)}function v(O){return Ot(O)?(t.consume(O),v):M(O)}function x(O){return O===47?(t.consume(O),M):O===58||O===95||co(O)?(t.consume(O),b):Ot(O)?(t.consume(O),x):M(O)}function b(O){return O===45||O===46||O===58||O===95||fs(O)?(t.consume(O),b):w(O)}function w(O){return O===61?(t.consume(O),C):Ot(O)?(t.consume(O),w):x(O)}function C(O){return O===null||O===60||O===61||O===62||O===96?r(O):O===34||O===39?(t.consume(O),l=O,S):Ot(O)?(t.consume(O),C):B(O)}function S(O){return O===l?(t.consume(O),l=null,E):O===null||$e(O)?r(O):(t.consume(O),S)}function B(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||Qi(O)?w(O):(t.consume(O),B)}function E(O){return O===47||O===62||Ot(O)?x(O):r(O)}function M(O){return O===62?(t.consume(O),D):r(O)}function D(O){return O===null||$e(O)?L(O):Ot(O)?(t.consume(O),D):r(O)}function L(O){return O===45&&i===2?(t.consume(O),Y):O===60&&i===1?(t.consume(O),$):O===62&&i===4?(t.consume(O),ae):O===63&&i===3?(t.consume(O),N):O===93&&i===5?(t.consume(O),q):$e(O)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(jfe,oe,I)(O)):O===null||$e(O)?(t.exit("htmlFlowData"),I(O)):(t.consume(O),L)}function I(O){return t.check(Ife,z,oe)(O)}function z(O){return t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),R}function R(O){return O===null||$e(O)?I(O):(t.enter("htmlFlowData"),L(O))}function Y(O){return O===45?(t.consume(O),N):L(O)}function $(O){return O===47?(t.consume(O),a="",P):L(O)}function P(O){if(O===62){const fe=a.toLowerCase();return KL.includes(fe)?(t.consume(O),ae):L(O)}return co(O)&&a.length<8?(t.consume(O),a+=String.fromCharCode(O),P):L(O)}function q(O){return O===93?(t.consume(O),N):L(O)}function N(O){return O===62?(t.consume(O),ae):O===45&&i===2?(t.consume(O),N):L(O)}function ae(O){return O===null||$e(O)?(t.exit("htmlFlowData"),oe(O)):(t.consume(O),ae)}function oe(O){return t.exit("htmlFlow"),e(O)}}function Ufe(t,e,r){const n=this;return i;function i(a){return $e(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):r(a)}function s(a){return n.parser.lazy[n.now().line]?r(a):e(a)}}function Qfe(t,e,r){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Sw,e,r)}}const Rfe={name:"htmlText",tokenize:Hfe};function Hfe(t,e,r){const n=this;let i,s,a;return o;function o(N){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(N),l}function l(N){return N===33?(t.consume(N),c):N===47?(t.consume(N),w):N===63?(t.consume(N),x):co(N)?(t.consume(N),B):r(N)}function c(N){return N===45?(t.consume(N),u):N===91?(t.consume(N),s=0,p):co(N)?(t.consume(N),v):r(N)}function u(N){return N===45?(t.consume(N),f):r(N)}function d(N){return N===null?r(N):N===45?(t.consume(N),A):$e(N)?(a=d,$(N)):(t.consume(N),d)}function A(N){return N===45?(t.consume(N),f):d(N)}function f(N){return N===62?Y(N):N===45?A(N):d(N)}function p(N){const ae="CDATA[";return N===ae.charCodeAt(s++)?(t.consume(N),s===ae.length?m:p):r(N)}function m(N){return N===null?r(N):N===93?(t.consume(N),y):$e(N)?(a=m,$(N)):(t.consume(N),m)}function y(N){return N===93?(t.consume(N),g):m(N)}function g(N){return N===62?Y(N):N===93?(t.consume(N),g):m(N)}function v(N){return N===null||N===62?Y(N):$e(N)?(a=v,$(N)):(t.consume(N),v)}function x(N){return N===null?r(N):N===63?(t.consume(N),b):$e(N)?(a=x,$(N)):(t.consume(N),x)}function b(N){return N===62?Y(N):x(N)}function w(N){return co(N)?(t.consume(N),C):r(N)}function C(N){return N===45||fs(N)?(t.consume(N),C):S(N)}function S(N){return $e(N)?(a=S,$(N)):Ot(N)?(t.consume(N),S):Y(N)}function B(N){return N===45||fs(N)?(t.consume(N),B):N===47||N===62||Qi(N)?E(N):r(N)}function E(N){return N===47?(t.consume(N),Y):N===58||N===95||co(N)?(t.consume(N),M):$e(N)?(a=E,$(N)):Ot(N)?(t.consume(N),E):Y(N)}function M(N){return N===45||N===46||N===58||N===95||fs(N)?(t.consume(N),M):D(N)}function D(N){return N===61?(t.consume(N),L):$e(N)?(a=D,$(N)):Ot(N)?(t.consume(N),D):E(N)}function L(N){return N===null||N===60||N===61||N===62||N===96?r(N):N===34||N===39?(t.consume(N),i=N,I):$e(N)?(a=L,$(N)):Ot(N)?(t.consume(N),L):(t.consume(N),z)}function I(N){return N===i?(t.consume(N),i=void 0,R):N===null?r(N):$e(N)?(a=I,$(N)):(t.consume(N),I)}function z(N){return N===null||N===34||N===39||N===60||N===61||N===96?r(N):N===47||N===62||Qi(N)?E(N):(t.consume(N),z)}function R(N){return N===47||N===62||Qi(N)?E(N):r(N)}function Y(N){return N===62?(t.consume(N),t.exit("htmlTextData"),t.exit("htmlText"),e):r(N)}function $(N){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),P}function P(N){return Ot(N)?Rt(t,q,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):q(N)}function q(N){return t.enter("htmlTextData"),a(N)}}const pE={name:"labelEnd",resolveAll:Kfe,resolveTo:qfe,tokenize:Wfe},zfe={tokenize:Gfe},$fe={tokenize:Xfe},Vfe={tokenize:Yfe};function Kfe(t){let e=-1;const r=[];for(;++e<t.length;){const n=t[e][1];if(r.push(t[e]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",e+=i}}return t.length!==r.length&&Mo(t,0,t.length,r),t}function qfe(t,e){let r=t.length,n=0,i,s,a,o;for(;r--;)if(i=t[r][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(a=r);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[a][1].end}},u={type:"labelText",start:{...t[s+n+2][1].end},end:{...t[a-2][1].start}};return o=[["enter",l,e],["enter",c,e]],o=Rs(o,t.slice(s+1,s+n+3)),o=Rs(o,[["enter",u,e]]),o=Rs(o,fE(e.parser.constructs.insideSpan.null,t.slice(s+n+4,a-3),e)),o=Rs(o,[["exit",u,e],t[a-2],t[a-1],["exit",c,e]]),o=Rs(o,t.slice(a+1)),o=Rs(o,[["exit",l,e]]),Mo(t,s,t.length,o),t}function Wfe(t,e,r){const n=this;let i=n.events.length,s,a;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){s=n.events[i][1];break}return o;function o(A){return s?s._inactive?d(A):(a=n.parser.defined.includes(gA(n.sliceSerialize({start:s.end,end:n.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(A),t.exit("labelMarker"),t.exit("labelEnd"),l):r(A)}function l(A){return A===40?t.attempt(zfe,u,a?u:d)(A):A===91?t.attempt($fe,u,a?c:d)(A):a?u(A):d(A)}function c(A){return t.attempt(Vfe,u,d)(A)}function u(A){return e(A)}function d(A){return s._balanced=!0,r(A)}}function Gfe(t,e,r){return n;function n(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return Qi(d)?Cm(t,s)(d):s(d)}function s(d){return d===41?u(d):vW(t,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function a(d){return Qi(d)?Cm(t,l)(d):u(d)}function o(d){return r(d)}function l(d){return d===34||d===39||d===40?bW(t,c,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return Qi(d)?Cm(t,u)(d):u(d)}function u(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):r(d)}}function Xfe(t,e,r){const n=this;return i;function i(o){return xW.call(n,t,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return n.parser.defined.includes(gA(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?e(o):r(o)}function a(o){return r(o)}}function Yfe(t,e,r){return n;function n(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):r(s)}}const Jfe={name:"labelStartImage",resolveAll:pE.resolveAll,tokenize:Zfe};function Zfe(t,e,r){const n=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),s}function s(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),a):r(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):e(o)}}const epe={name:"labelStartLink",resolveAll:pE.resolveAll,tokenize:tpe};function tpe(t,e,r){const n=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(a):e(a)}}const P6={name:"lineEnding",tokenize:rpe};function rpe(t,e){return r;function r(n){return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),Rt(t,e,"linePrefix")}}const F4={name:"thematicBreak",tokenize:npe};function npe(t,e,r){let n=0,i;return s;function s(c){return t.enter("thematicBreak"),a(c)}function a(c){return i=c,o(c)}function o(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):n>=3&&(c===null||$e(c))?(t.exit("thematicBreak"),e(c)):r(c)}function l(c){return c===i?(t.consume(c),n++,l):(t.exit("thematicBreakSequence"),Ot(c)?Rt(t,o,"whitespace")(c):o(c))}}const Si={continuation:{tokenize:ope},exit:cpe,name:"list",tokenize:ape},ipe={partial:!0,tokenize:upe},spe={partial:!0,tokenize:lpe};function ape(t,e,r){const n=this,i=n.events[n.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(f){const p=n.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!n.containerState.marker||f===n.containerState.marker:JS(f)){if(n.containerState.type||(n.containerState.type=p,t.enter(p,{_container:!0})),p==="listUnordered")return t.enter("listItemPrefix"),f===42||f===45?t.check(F4,r,c)(f):c(f);if(!n.interrupt||f===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(f)}return r(f)}function l(f){return JS(f)&&++a<10?(t.consume(f),l):(!n.interrupt||a<2)&&(n.containerState.marker?f===n.containerState.marker:f===41||f===46)?(t.exit("listItemValue"),c(f)):r(f)}function c(f){return t.enter("listItemMarker"),t.consume(f),t.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||f,t.check(Sw,n.interrupt?r:u,t.attempt(ipe,A,d))}function u(f){return n.containerState.initialBlankLine=!0,s++,A(f)}function d(f){return Ot(f)?(t.enter("listItemPrefixWhitespace"),t.consume(f),t.exit("listItemPrefixWhitespace"),A):r(f)}function A(f){return n.containerState.size=s+n.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(f)}}function ope(t,e,r){const n=this;return n.containerState._closeFlow=void 0,t.check(Sw,i,s);function i(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,Rt(t,e,"listItemIndent",n.containerState.size+1)(o)}function s(o){return n.containerState.furtherBlankLines||!Ot(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,a(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,t.attempt(spe,e,a)(o))}function a(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,Rt(t,t.attempt(Si,e,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function lpe(t,e,r){const n=this;return Rt(t,i,"listItemIndent",n.containerState.size+1);function i(s){const a=n.events[n.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===n.containerState.size?e(s):r(s)}}function cpe(t){t.exit(this.containerState.type)}function upe(t,e,r){const n=this;return Rt(t,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=n.events[n.events.length-1];return!Ot(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):r(s)}}const qL={name:"setextUnderline",resolveTo:dpe,tokenize:hpe};function dpe(t,e){let r=t.length,n,i,s;for(;r--;)if(t[r][0]==="enter"){if(t[r][1].type==="content"){n=r;break}t[r][1].type==="paragraph"&&(i=r)}else t[r][1].type==="content"&&t.splice(r,1),!s&&t[r][1].type==="definition"&&(s=r);const a={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",a,e]),t.splice(s+1,0,["exit",t[n][1],e]),t[n][1].end={...t[s][1].end}):t[n][1]=a,t.push(["exit",a,e]),t}function hpe(t,e,r){const n=this;let i;return s;function s(c){let u=n.events.length,d;for(;u--;)if(n.events[u][1].type!=="lineEnding"&&n.events[u][1].type!=="linePrefix"&&n.events[u][1].type!=="content"){d=n.events[u][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||d)?(t.enter("setextHeadingLine"),i=c,a(c)):r(c)}function a(c){return t.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(t.consume(c),o):(t.exit("setextHeadingLineSequence"),Ot(c)?Rt(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||$e(c)?(t.exit("setextHeadingLine"),e(c)):r(c)}}const Ape={tokenize:fpe};function fpe(t){const e=this,r=t.attempt(Sw,n,t.attempt(this.parser.constructs.flowInitial,i,Rt(t,t.attempt(this.parser.constructs.flow,i,t.attempt(vfe,i)),"linePrefix")));return r;function n(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,r}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,r}}const ppe={resolveAll:CW()},mpe=wW("string"),gpe=wW("text");function wW(t){return{resolveAll:CW(t==="text"?ype:void 0),tokenize:e};function e(r){const n=this,i=this.parser.constructs[t],s=r.attempt(i,a,o);return a;function a(u){return c(u)?s(u):o(u)}function o(u){if(u===null){r.consume(u);return}return r.enter("data"),r.consume(u),l}function l(u){return c(u)?(r.exit("data"),s(u)):(r.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let A=-1;if(d)for(;++A<d.length;){const f=d[A];if(!f.previous||f.previous.call(n,n.previous))return!0}return!1}}}function CW(t){return e;function e(r,n){let i=-1,s;for(;++i<=r.length;)s===void 0?r[i]&&r[i][1].type==="data"&&(s=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==s+2&&(r[s][1].end=r[i-1][1].end,r.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(r,n):r}}function ype(t,e){let r=0;for(;++r<=t.length;)if((r===t.length||t[r][1].type==="lineEnding")&&t[r-1][1].type==="data"){const n=t[r-1][1],i=e.sliceStream(n);let s=i.length,a=-1,o=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(c===-2)l=!0,o++;else if(c!==-1){s++;break}}if(o){const c={type:r===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:n.start._bufferIndex+a,_index:n.start._index+s,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...c.start},n.start.offset===n.end.offset?Object.assign(n,c):(t.splice(r,0,["enter",c,e],["exit",c,e]),r+=2)}r++}return t}const vpe={42:Si,43:Si,45:Si,48:Si,49:Si,50:Si,51:Si,52:Si,53:Si,54:Si,55:Si,56:Si,57:Si,62:pW},xpe={91:Sfe},bpe={[-2]:O6,[-1]:O6,32:O6},wpe={35:Ffe,42:F4,45:[qL,F4],60:Nfe,61:qL,95:F4,96:VL,126:VL},Cpe={38:gW,92:mW},Spe={[-5]:P6,[-4]:P6,[-3]:P6,33:Jfe,38:gW,42:ZS,60:[efe,Rfe],91:epe,92:[Efe,mW],93:pE,95:ZS,96:Afe},Bpe={null:[ZS,ppe]},_pe={null:[42,95]},kpe={null:[]},Epe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:_pe,contentInitial:xpe,disable:kpe,document:vpe,flow:wpe,flowInitial:bpe,insideSpan:Bpe,string:Cpe,text:Spe},Symbol.toStringTag,{value:"Module"}));function Mpe(t,e,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},s=[];let a=[],o=[];const l={attempt:S(w),check:S(C),consume:v,enter:x,exit:b,interrupt:S(C,{interrupt:!0})},c={code:null,containerState:{},defineSkip:m,events:[],now:p,parser:t,previous:null,sliceSerialize:A,sliceStream:f,write:d};let u=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function d(D){return a=Rs(a,D),y(),a[a.length-1]!==null?[]:(B(e,0),c.events=fE(s,c.events,c),c.events)}function A(D,L){return Tpe(f(D),L)}function f(D){return Fpe(a,D)}function p(){const{_bufferIndex:D,_index:L,line:I,column:z,offset:R}=n;return{_bufferIndex:D,_index:L,line:I,column:z,offset:R}}function m(D){i[D.line]=D.column,M()}function y(){let D;for(;n._index<a.length;){const L=a[n._index];if(typeof L=="string")for(D=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===D&&n._bufferIndex<L.length;)g(L.charCodeAt(n._bufferIndex));else g(L)}}function g(D){u=u(D)}function v(D){$e(D)?(n.line++,n.column=1,n.offset+=D===-3?2:1,M()):D!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===a[n._index].length&&(n._bufferIndex=-1,n._index++)),c.previous=D}function x(D,L){const I=L||{};return I.type=D,I.start=p(),c.events.push(["enter",I,c]),o.push(I),I}function b(D){const L=o.pop();return L.end=p(),c.events.push(["exit",L,c]),L}function w(D,L){B(D,L.from)}function C(D,L){L.restore()}function S(D,L){return I;function I(z,R,Y){let $,P,q,N;return Array.isArray(z)?oe(z):"tokenize"in z?oe([z]):ae(z);function ae(ie){return pe;function pe(J){const re=J!==null&&ie[J],ee=J!==null&&ie.null,nt=[...Array.isArray(re)?re:re?[re]:[],...Array.isArray(ee)?ee:ee?[ee]:[]];return oe(nt)(J)}}function oe(ie){return $=ie,P=0,ie.length===0?Y:O(ie[P])}function O(ie){return pe;function pe(J){return N=E(),q=ie,ie.partial||(c.currentConstruct=ie),ie.name&&c.parser.constructs.disable.null.includes(ie.name)?Se():ie.tokenize.call(L?Object.assign(Object.create(c),L):c,l,fe,Se)(J)}}function fe(ie){return D(q,N),R}function Se(ie){return N.restore(),++P<$.length?O($[P]):Y}}}function B(D,L){D.resolveAll&&!s.includes(D)&&s.push(D),D.resolve&&Mo(c.events,L,c.events.length-L,D.resolve(c.events.slice(L),c)),D.resolveTo&&(c.events=D.resolveTo(c.events,c))}function E(){const D=p(),L=c.previous,I=c.currentConstruct,z=c.events.length,R=Array.from(o);return{from:z,restore:Y};function Y(){n=D,c.previous=L,c.currentConstruct=I,c.events.length=z,o=R,M()}}function M(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function Fpe(t,e){const r=e.start._index,n=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let a;if(r===i)a=[t[r].slice(n,s)];else{if(a=t.slice(r,i),n>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(n):a.shift()}s>0&&a.push(t[i].slice(0,s))}return a}function Tpe(t,e){let r=-1;const n=[];let i;for(;++r<t.length;){const s=t[r];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,n.push(a)}return n.join("")}function Dpe(t){const n={constructs:UAe([Epe,...(t||{}).extensions||[]]),content:i(qAe),defined:[],document:i(GAe),flow:i(Ape),lazy:{},string:i(mpe),text:i(gpe)};return n;function i(s){return a;function a(o){return Mpe(n,s,o)}}}function Lpe(t){for(;!yW(t););return t}const WL=/[\0\t\n\r]/g;function Npe(){let t=1,e="",r=!0,n;return i;function i(s,a,o){const l=[];let c,u,d,A,f;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),d=0,e="",r&&(s.charCodeAt(0)===65279&&d++,r=void 0);d<s.length;){if(WL.lastIndex=d,c=WL.exec(s),A=c&&c.index!==void 0?c.index:s.length,f=s.charCodeAt(A),!c){e=s.slice(d);break}if(f===10&&d===A&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),d<A&&(l.push(s.slice(d,A)),t+=A-d),f){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:n=!0,t=1}d=A+1}return o&&(n&&l.push(-5),e&&l.push(e),l.push(null)),l}}const jpe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Ipe(t){return t.replace(jpe,Ope)}function Ope(t,e,r){if(e)return e;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),s=i===120||i===88;return fW(r.slice(s?2:1),s?16:10)}return AE(r)||t}const SW={}.hasOwnProperty;function Ppe(t,e,r){return typeof e!="string"&&(r=e,e=void 0),Upe(r)(Lpe(Dpe(r).document().write(Npe()(t,e,!0))))}function Upe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ne),autolinkProtocol:E,autolinkEmail:E,atxHeading:s(ze),blockQuote:s(ee),characterEscape:E,characterReference:E,codeFenced:s(nt),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(nt,a),codeText:s(Re,a),codeTextData:E,data:E,codeFlowValue:E,definition:s(st),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(He),hardBreakEscape:s(dr),hardBreakTrailing:s(dr),htmlFlow:s(Cn,a),htmlFlowData:E,htmlText:s(Cn,a),htmlTextData:E,image:s(V),label:a,link:s(ne),listItem:s(Ne),listItemValue:A,listOrdered:s(he,d),listUnordered:s(he),paragraph:s(Fe),reference:O,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(ze),strong:s(Be),thematicBreak:s(At)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:re,autolinkProtocol:J,blockQuote:l(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:Se,characterReferenceMarkerNumeric:Se,characterReferenceValue:ie,characterReference:pe,codeFenced:l(y),codeFencedFence:m,codeFencedFenceInfo:f,codeFencedFenceMeta:p,codeFlowValue:M,codeIndented:l(g),codeText:l(R),codeTextData:M,data:M,definition:l(),definitionDestinationString:b,definitionLabelString:v,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(L),hardBreakTrailing:l(L),htmlFlow:l(I),htmlFlowData:M,htmlText:l(z),htmlTextData:M,image:l($),label:q,labelText:P,lineEnding:D,link:l(Y),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:fe,resourceDestinationString:N,resourceTitleString:ae,resource:oe,setextHeading:l(B),setextHeadingLineSequence:S,setextHeadingText:C,strong:l(),thematicBreak:l()}};BW(e,(t||{}).mdastExtensions||[]);const r={};return n;function n(le){let ye={type:"root",children:[]};const We={stack:[ye],tokenStack:[],config:e,enter:o,exit:c,buffer:a,resume:u,data:r},gt=[];let Dt=-1;for(;++Dt<le.length;)if(le[Dt][1].type==="listOrdered"||le[Dt][1].type==="listUnordered")if(le[Dt][0]==="enter")gt.push(Dt);else{const ii=gt.pop();Dt=i(le,ii,Dt)}for(Dt=-1;++Dt<le.length;){const ii=e[le[Dt][0]];SW.call(ii,le[Dt][1].type)&&ii[le[Dt][1].type].call(Object.assign({sliceSerialize:le[Dt][2].sliceSerialize},We),le[Dt][1])}if(We.tokenStack.length>0){const ii=We.tokenStack[We.tokenStack.length-1];(ii[1]||GL).call(We,void 0,ii[0])}for(ye.position={start:ic(le.length>0?le[0][1].start:{line:1,column:1,offset:0}),end:ic(le.length>0?le[le.length-2][1].end:{line:1,column:1,offset:0})},Dt=-1;++Dt<e.transforms.length;)ye=e.transforms[Dt](ye)||ye;return ye}function i(le,ye,We){let gt=ye-1,Dt=-1,ii=!1,Qo,ks,Gu,tc;for(;++gt<=We;){const Zi=le[gt];switch(Zi[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Zi[0]==="enter"?Dt++:Dt--,tc=void 0;break}case"lineEndingBlank":{Zi[0]==="enter"&&(Qo&&!tc&&!Dt&&!Gu&&(Gu=gt),tc=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:tc=void 0}if(!Dt&&Zi[0]==="enter"&&Zi[1].type==="listItemPrefix"||Dt===-1&&Zi[0]==="exit"&&(Zi[1].type==="listUnordered"||Zi[1].type==="listOrdered")){if(Qo){let Qh=gt;for(ks=void 0;Qh--;){const Ro=le[Qh];if(Ro[1].type==="lineEnding"||Ro[1].type==="lineEndingBlank"){if(Ro[0]==="exit")continue;ks&&(le[ks][1].type="lineEndingBlank",ii=!0),Ro[1].type="lineEnding",ks=Qh}else if(!(Ro[1].type==="linePrefix"||Ro[1].type==="blockQuotePrefix"||Ro[1].type==="blockQuotePrefixWhitespace"||Ro[1].type==="blockQuoteMarker"||Ro[1].type==="listItemIndent"))break}Gu&&(!ks||Gu<ks)&&(Qo._spread=!0),Qo.end=Object.assign({},ks?le[ks][1].start:Zi[1].end),le.splice(ks||gt,0,["exit",Qo,Zi[2]]),gt++,We++}if(Zi[1].type==="listItemPrefix"){const Qh={type:"listItem",_spread:!1,start:Object.assign({},Zi[1].start),end:void 0};Qo=Qh,le.splice(gt,0,["enter",Qh,Zi[2]]),gt++,We++,Gu=void 0,tc=!0}}}return le[ye][1]._spread=ii,We}function s(le,ye){return We;function We(gt){o.call(this,le(gt),gt),ye&&ye.call(this,gt)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(le,ye,We){this.stack[this.stack.length-1].children.push(le),this.stack.push(le),this.tokenStack.push([ye,We||void 0]),le.position={start:ic(ye.start),end:void 0}}function l(le){return ye;function ye(We){le&&le.call(this,We),c.call(this,We)}}function c(le,ye){const We=this.stack.pop(),gt=this.tokenStack.pop();if(gt)gt[0].type!==le.type&&(ye?ye.call(this,le,gt[0]):(gt[1]||GL).call(this,le,gt[0]));else throw new Error("Cannot close `"+le.type+"` ("+wm({start:le.start,end:le.end})+"): its not open");We.position.end=ic(le.end)}function u(){return OAe(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function A(le){if(this.data.expectingFirstListItemValue){const ye=this.stack[this.stack.length-2];ye.start=Number.parseInt(this.sliceSerialize(le),10),this.data.expectingFirstListItemValue=void 0}}function f(){const le=this.resume(),ye=this.stack[this.stack.length-1];ye.lang=le}function p(){const le=this.resume(),ye=this.stack[this.stack.length-1];ye.meta=le}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const le=this.resume(),ye=this.stack[this.stack.length-1];ye.value=le.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const le=this.resume(),ye=this.stack[this.stack.length-1];ye.value=le.replace(/(\r?\n|\r)$/g,"")}function v(le){const ye=this.resume(),We=this.stack[this.stack.length-1];We.label=ye,We.identifier=gA(this.sliceSerialize(le)).toLowerCase()}function x(){const le=this.resume(),ye=this.stack[this.stack.length-1];ye.title=le}function b(){const le=this.resume(),ye=this.stack[this.stack.length-1];ye.url=le}function w(le){const ye=this.stack[this.stack.length-1];if(!ye.depth){const We=this.sliceSerialize(le).length;ye.depth=We}}function C(){this.data.setextHeadingSlurpLineEnding=!0}function S(le){const ye=this.stack[this.stack.length-1];ye.depth=this.sliceSerialize(le).codePointAt(0)===61?1:2}function B(){this.data.setextHeadingSlurpLineEnding=void 0}function E(le){const We=this.stack[this.stack.length-1].children;let gt=We[We.length-1];(!gt||gt.type!=="text")&&(gt=qe(),gt.position={start:ic(le.start),end:void 0},We.push(gt)),this.stack.push(gt)}function M(le){const ye=this.stack.pop();ye.value+=this.sliceSerialize(le),ye.position.end=ic(le.end)}function D(le){const ye=this.stack[this.stack.length-1];if(this.data.atHardBreak){const We=ye.children[ye.children.length-1];We.position.end=ic(le.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ye.type)&&(E.call(this,le),M.call(this,le))}function L(){this.data.atHardBreak=!0}function I(){const le=this.resume(),ye=this.stack[this.stack.length-1];ye.value=le}function z(){const le=this.resume(),ye=this.stack[this.stack.length-1];ye.value=le}function R(){const le=this.resume(),ye=this.stack[this.stack.length-1];ye.value=le}function Y(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const ye=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=ye,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function $(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const ye=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=ye,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function P(le){const ye=this.sliceSerialize(le),We=this.stack[this.stack.length-2];We.label=Ipe(ye),We.identifier=gA(ye).toLowerCase()}function q(){const le=this.stack[this.stack.length-1],ye=this.resume(),We=this.stack[this.stack.length-1];if(this.data.inReference=!0,We.type==="link"){const gt=le.children;We.children=gt}else We.alt=ye}function N(){const le=this.resume(),ye=this.stack[this.stack.length-1];ye.url=le}function ae(){const le=this.resume(),ye=this.stack[this.stack.length-1];ye.title=le}function oe(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function fe(le){const ye=this.resume(),We=this.stack[this.stack.length-1];We.label=ye,We.identifier=gA(this.sliceSerialize(le)).toLowerCase(),this.data.referenceType="full"}function Se(le){this.data.characterReferenceType=le.type}function ie(le){const ye=this.sliceSerialize(le),We=this.data.characterReferenceType;let gt;We?(gt=fW(ye,We==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):gt=AE(ye);const Dt=this.stack[this.stack.length-1];Dt.value+=gt}function pe(le){const ye=this.stack.pop();ye.position.end=ic(le.end)}function J(le){M.call(this,le);const ye=this.stack[this.stack.length-1];ye.url=this.sliceSerialize(le)}function re(le){M.call(this,le);const ye=this.stack[this.stack.length-1];ye.url="mailto:"+this.sliceSerialize(le)}function ee(){return{type:"blockquote",children:[]}}function nt(){return{type:"code",lang:null,meta:null,value:""}}function Re(){return{type:"inlineCode",value:""}}function st(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function He(){return{type:"emphasis",children:[]}}function ze(){return{type:"heading",depth:0,children:[]}}function dr(){return{type:"break"}}function Cn(){return{type:"html",value:""}}function V(){return{type:"image",title:null,url:"",alt:null}}function ne(){return{type:"link",title:null,url:"",children:[]}}function he(le){return{type:"list",ordered:le.type==="listOrdered",start:null,spread:le._spread,children:[]}}function Ne(le){return{type:"listItem",spread:le._spread,checked:null,children:[]}}function Fe(){return{type:"paragraph",children:[]}}function Be(){return{type:"strong",children:[]}}function qe(){return{type:"text",value:""}}function At(){return{type:"thematicBreak"}}}function ic(t){return{line:t.line,column:t.column,offset:t.offset}}function BW(t,e){let r=-1;for(;++r<e.length;){const n=e[r];Array.isArray(n)?BW(t,n):Qpe(t,n)}}function Qpe(t,e){let r;for(r in e)if(SW.call(e,r))switch(r){case"canContainEols":{const n=e[r];n&&t[r].push(...n);break}case"transforms":{const n=e[r];n&&t[r].push(...n);break}case"enter":case"exit":{const n=e[r];n&&Object.assign(t[r],n);break}}}function GL(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+wm({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+wm({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+wm({start:e.start,end:e.end})+") is still open")}function Rpe(t){const e=this;e.parser=r;function r(n){return Ppe(n,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Hpe(t,e){const r={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,r),t.applyData(e,r)}function zpe(t,e){const r={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,r),[t.applyData(e,r),{type:"text",value:`
`}]}function $pe(t,e){const r=e.value?e.value+`
`:"",n={};e.lang&&(n.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function Vpe(t,e){const r={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Kpe(t,e){const r={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function qpe(t,e){const r=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=String(e.identifier).toUpperCase(),i=mf(n.toLowerCase()),s=t.footnoteOrder.indexOf(n);let a,o=t.footnoteCounts.get(n);o===void 0?(o=0,t.footnoteOrder.push(n),a=t.footnoteOrder.length):a=s+1,o+=1,t.footnoteCounts.set(n,o);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function Wpe(t,e){const r={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Gpe(t,e){if(t.options.allowDangerousHtml){const r={type:"raw",value:e.value};return t.patch(e,r),t.applyData(e,r)}}function _W(t,e){const r=e.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+n}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=n:i.push({type:"text",value:n}),i}function Xpe(t,e){const r=String(e.identifier).toUpperCase(),n=t.definitionById.get(r);if(!n)return _W(t,e);const i={src:mf(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function Ype(t,e){const r={src:mf(e.url)};e.alt!==null&&e.alt!==void 0&&(r.alt=e.alt),e.title!==null&&e.title!==void 0&&(r.title=e.title);const n={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,n),t.applyData(e,n)}function Jpe(t,e){const r={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return t.patch(e,n),t.applyData(e,n)}function Zpe(t,e){const r=String(e.identifier).toUpperCase(),n=t.definitionById.get(r);if(!n)return _W(t,e);const i={href:mf(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function eme(t,e){const r={href:mf(e.url)};e.title!==null&&e.title!==void 0&&(r.title=e.title);const n={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function tme(t,e,r){const n=t.all(e),i=r?rme(r):kW(e),s={},a=[];if(typeof e.checked=="boolean"){const u=n[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},n.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const u=n[o];(i||o!==0||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?a.push(...u.children):a.push(u)}const l=n[n.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:a};return t.patch(e,c),t.applyData(e,c)}function rme(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const r=t.children;let n=-1;for(;!e&&++n<r.length;)e=kW(r[n])}return e}function kW(t){const e=t.spread;return e??t.children.length>1}function nme(t,e){const r={},n=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(r.start=e.start);++i<n.length;){const a=n[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:r,children:t.wrap(n,!0)};return t.patch(e,s),t.applyData(e,s)}function ime(t,e){const r={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function sme(t,e){const r={type:"root",children:t.wrap(t.all(e))};return t.patch(e,r),t.applyData(e,r)}function ame(t,e){const r={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function ome(t,e){const r=t.all(e),n=r.shift(),i=[];if(n){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([n],!0)};t.patch(e.children[0],a),i.push(a)}if(r.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(r,!0)},o=cE(e.children[1]),l=oW(e.children[e.children.length-1]);o&&l&&(a.position={start:o,end:l}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function lme(t,e,r){const n=r?r.children:void 0,s=(n?n.indexOf(e):1)===0?"th":"td",a=r&&r.type==="table"?r.align:void 0,o=a?a.length:e.children.length;let l=-1;const c=[];for(;++l<o;){const d=e.children[l],A={},f=a?a[l]:void 0;f&&(A.align=f);let p={type:"element",tagName:s,properties:A,children:[]};d&&(p.children=t.all(d),t.patch(d,p),p=t.applyData(d,p)),c.push(p)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,u),t.applyData(e,u)}function cme(t,e){const r={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}const XL=9,YL=32;function ume(t){const e=String(t),r=/\r?\n|\r/g;let n=r.exec(e),i=0;const s=[];for(;n;)s.push(JL(e.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(e);return s.push(JL(e.slice(i),i>0,!1)),s.join("")}function JL(t,e,r){let n=0,i=t.length;if(e){let s=t.codePointAt(n);for(;s===XL||s===YL;)n++,s=t.codePointAt(n)}if(r){let s=t.codePointAt(i-1);for(;s===XL||s===YL;)i--,s=t.codePointAt(i-1)}return i>n?t.slice(n,i):""}function dme(t,e){const r={type:"text",value:ume(String(e.value))};return t.patch(e,r),t.applyData(e,r)}function hme(t,e){const r={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,r),t.applyData(e,r)}const Ame={blockquote:Hpe,break:zpe,code:$pe,delete:Vpe,emphasis:Kpe,footnoteReference:qpe,heading:Wpe,html:Gpe,imageReference:Xpe,image:Ype,inlineCode:Jpe,linkReference:Zpe,link:eme,listItem:tme,list:nme,paragraph:ime,root:sme,strong:ame,table:ome,tableCell:cme,tableRow:lme,text:dme,thematicBreak:hme,toml:Cy,yaml:Cy,definition:Cy,footnoteDefinition:Cy};function Cy(){}const EW=-1,Bw=0,Sm=1,bb=2,mE=3,gE=4,yE=5,vE=6,MW=7,FW=8,ZL=typeof self=="object"?self:globalThis,fme=(t,e)=>{const r=(i,s)=>(t.set(s,i),i),n=i=>{if(t.has(i))return t.get(i);const[s,a]=e[i];switch(s){case Bw:case EW:return r(a,i);case Sm:{const o=r([],i);for(const l of a)o.push(n(l));return o}case bb:{const o=r({},i);for(const[l,c]of a)o[n(l)]=n(c);return o}case mE:return r(new Date(a),i);case gE:{const{source:o,flags:l}=a;return r(new RegExp(o,l),i)}case yE:{const o=r(new Map,i);for(const[l,c]of a)o.set(n(l),n(c));return o}case vE:{const o=r(new Set,i);for(const l of a)o.add(n(l));return o}case MW:{const{name:o,message:l}=a;return r(new ZL[o](l),i)}case FW:return r(BigInt(a),i);case"BigInt":return r(Object(BigInt(a)),i);case"ArrayBuffer":return r(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return r(new DataView(o),a)}}return r(new ZL[s](a),i)};return n},eN=t=>fme(new Map,t)(0),$h="",{toString:pme}={},{keys:mme}=Object,Kf=t=>{const e=typeof t;if(e!=="object"||!t)return[Bw,e];const r=pme.call(t).slice(8,-1);switch(r){case"Array":return[Sm,$h];case"Object":return[bb,$h];case"Date":return[mE,$h];case"RegExp":return[gE,$h];case"Map":return[yE,$h];case"Set":return[vE,$h];case"DataView":return[Sm,r]}return r.includes("Array")?[Sm,r]:r.includes("Error")?[MW,r]:[bb,r]},Sy=([t,e])=>t===Bw&&(e==="function"||e==="symbol"),gme=(t,e,r,n)=>{const i=(a,o)=>{const l=n.push(a)-1;return r.set(o,l),l},s=a=>{if(r.has(a))return r.get(a);let[o,l]=Kf(a);switch(o){case Bw:{let u=a;switch(l){case"bigint":o=FW,u=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([EW],a)}return i([o,u],a)}case Sm:{if(l){let A=a;return l==="DataView"?A=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(A=new Uint8Array(a)),i([l,[...A]],a)}const u=[],d=i([o,u],a);for(const A of a)u.push(s(A));return d}case bb:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(e&&"toJSON"in a)return s(a.toJSON());const u=[],d=i([o,u],a);for(const A of mme(a))(t||!Sy(Kf(a[A])))&&u.push([s(A),s(a[A])]);return d}case mE:return i([o,a.toISOString()],a);case gE:{const{source:u,flags:d}=a;return i([o,{source:u,flags:d}],a)}case yE:{const u=[],d=i([o,u],a);for(const[A,f]of a)(t||!(Sy(Kf(A))||Sy(Kf(f))))&&u.push([s(A),s(f)]);return d}case vE:{const u=[],d=i([o,u],a);for(const A of a)(t||!Sy(Kf(A)))&&u.push(s(A));return d}}const{message:c}=a;return i([o,{name:l,message:c}],a)};return s},tN=(t,{json:e,lossy:r}={})=>{const n=[];return gme(!(e||r),!!e,new Map,n)(t),n},wb=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?eN(tN(t,e)):structuredClone(t):(t,e)=>eN(tN(t,e));function yme(t,e){const r=[{type:"text",value:""}];return e>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),r}function vme(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function xme(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=t.options.footnoteBackContent||yme,n=t.options.footnoteBackLabel||vme,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const u=t.all(c),d=String(c.identifier).toUpperCase(),A=mf(d.toLowerCase());let f=0;const p=[],m=t.footnoteCounts.get(d);for(;m!==void 0&&++f<=m;){p.length>0&&p.push({type:"text",value:" "});let v=typeof r=="string"?r:r(l,f);typeof v=="string"&&(v={type:"text",value:v}),p.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+A+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,f),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const y=u[u.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const v=y.children[y.children.length-1];v&&v.type==="text"?v.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...p)}else u.push(...p);const g={type:"element",tagName:"li",properties:{id:e+"fn-"+A},children:t.wrap(u,!0)};t.patch(c,g),o.push(g)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...wb(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const xE=function(t){if(t==null)return Sme;if(typeof t=="function")return _w(t);if(typeof t=="object")return Array.isArray(t)?bme(t):wme(t);if(typeof t=="string")return Cme(t);throw new Error("Expected function, string, or object as test")};function bme(t){const e=[];let r=-1;for(;++r<t.length;)e[r]=xE(t[r]);return _w(n);function n(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function wme(t){const e=t;return _w(r);function r(n){const i=n;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function Cme(t){return _w(e);function e(r){return r&&r.type===t}}function _w(t){return e;function e(r,n,i){return!!(Bme(r)&&t.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function Sme(){return!0}function Bme(t){return t!==null&&typeof t=="object"&&"type"in t}const TW=[],_me=!0,rN=!1,DW="skip";function LW(t,e,r,n){let i;typeof e=="function"&&typeof r!="function"?(n=r,r=e):i=e;const s=xE(i),a=n?-1:1;o(t,void 0,[])();function o(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(A,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return A;function A(){let f=TW,p,m,y;if((!e||s(l,c,u[u.length-1]||void 0))&&(f=kme(r(l,u)),f[0]===rN))return f;if("children"in l&&l.children){const g=l;if(g.children&&f[0]!==DW)for(m=(n?g.children.length:-1)+a,y=u.concat(g);m>-1&&m<g.children.length;){const v=g.children[m];if(p=o(v,m,y)(),p[0]===rN)return p;m=typeof p[1]=="number"?p[1]:m+a}}return f}}}function kme(t){return Array.isArray(t)?t:typeof t=="number"?[_me,t]:t==null?TW:[t]}function NW(t,e,r,n){let i,s,a;typeof e=="function"&&typeof r!="function"?(s=void 0,a=e,i=r):(s=e,a=r,i=n),LW(t,s,o,i);function o(l,c){const u=c[c.length-1],d=u?u.children.indexOf(l):void 0;return a(l,d,u)}}const eB={}.hasOwnProperty,Eme={};function Mme(t,e){const r=e||Eme,n=new Map,i=new Map,s=new Map,a={...Ame,...r.handlers},o={all:c,applyData:Tme,definitionById:n,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:l,options:r,patch:Fme,wrap:Lme};return NW(t,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const d=u.type==="definition"?n:i,A=String(u.identifier).toUpperCase();d.has(A)||d.set(A,u)}}),o;function l(u,d){const A=u.type,f=o.handlers[A];if(eB.call(o.handlers,A)&&f)return f(o,u,d);if(o.options.passThrough&&o.options.passThrough.includes(A)){if("children"in u){const{children:m,...y}=u,g=wb(y);return g.children=o.all(u),g}return wb(u)}return(o.options.unknownHandler||Dme)(o,u,d)}function c(u){const d=[];if("children"in u){const A=u.children;let f=-1;for(;++f<A.length;){const p=o.one(A[f],u);if(p){if(f&&A[f-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=nN(p.value)),!Array.isArray(p)&&p.type==="element")){const m=p.children[0];m&&m.type==="text"&&(m.value=nN(m.value))}Array.isArray(p)?d.push(...p):d.push(p)}}}return d}}function Fme(t,e){t.position&&(e.position=AAe(t))}function Tme(t,e){let r=e;if(t&&t.data){const n=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const a="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:a}}r.type==="element"&&s&&Object.assign(r.properties,wb(s)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function Dme(t,e){const r=e.data||{},n="value"in e&&!(eB.call(r,"hProperties")||eB.call(r,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Lme(t,e){const r=[];let n=-1;for(e&&r.push({type:"text",value:`
`});++n<t.length;)n&&r.push({type:"text",value:`
`}),r.push(t[n]);return e&&t.length>0&&r.push({type:"text",value:`
`}),r}function nN(t){let e=0,r=t.charCodeAt(e);for(;r===9||r===32;)e++,r=t.charCodeAt(e);return t.slice(e)}function iN(t,e){const r=Mme(t,e),n=r.one(t,void 0),i=xme(r),s=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Nme(t,e){return t&&"run"in t?async function(r,n){const i=iN(r,{file:n,...e});await t.run(i,n)}:function(r,n){return iN(r,{file:n,...t||e})}}function sN(t){if(t)throw t}var T4=Object.prototype.hasOwnProperty,jW=Object.prototype.toString,aN=Object.defineProperty,oN=Object.getOwnPropertyDescriptor,lN=function(e){return typeof Array.isArray=="function"?Array.isArray(e):jW.call(e)==="[object Array]"},cN=function(e){if(!e||jW.call(e)!=="[object Object]")return!1;var r=T4.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&T4.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;var i;for(i in e);return typeof i>"u"||T4.call(e,i)},uN=function(e,r){aN&&r.name==="__proto__"?aN(e,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):e[r.name]=r.newValue},dN=function(e,r){if(r==="__proto__")if(T4.call(e,r)){if(oN)return oN(e,r).value}else return;return e[r]},jme=function t(){var e,r,n,i,s,a,o=arguments[0],l=1,c=arguments.length,u=!1;for(typeof o=="boolean"&&(u=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(e=arguments[l],e!=null)for(r in e)n=dN(o,r),i=dN(e,r),o!==i&&(u&&i&&(cN(i)||(s=lN(i)))?(s?(s=!1,a=n&&lN(n)?n:[]):a=n&&cN(n)?n:{},uN(o,{name:r,newValue:t(u,a,i)})):typeof i<"u"&&uN(o,{name:r,newValue:i}));return o};const U6=K3(jme);function tB(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Ime(){const t=[],e={run:r,use:n};return e;function r(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(l,...c){const u=t[++s];let d=-1;if(l){a(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?Ome(u,o)(...c):a(null,...c)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Ome(t,e){let r;return n;function n(...a){const o=t.length>a.length;let l;o&&a.push(i);try{l=t.apply(this,a)}catch(c){const u=c;if(o&&r)throw u;return i(u)}o||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(a,...o){r||(r=!0,e(a,...o))}function s(a){i(null,a)}}const eo={basename:Pme,dirname:Ume,extname:Qme,join:Rme,sep:"/"};function Pme(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');E1(t);let r=0,n=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){r=i+1;break}}else n<0&&(s=!0,n=i+1);return n<0?"":t.slice(r,n)}if(e===t)return"";let a=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){r=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(n=i):(o=-1,n=a));return r===n?n=a:n<0&&(n=t.length),t.slice(r,n)}function Ume(t){if(E1(t),t.length===0)return".";let e=-1,r=t.length,n;for(;--r;)if(t.codePointAt(r)===47){if(n){e=r;break}}else n||(n=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Qme(t){E1(t);let e=t.length,r=-1,n=0,i=-1,s=0,a;for(;e--;){const o=t.codePointAt(e);if(o===47){if(a){n=e+1;break}continue}r<0&&(a=!0,r=e+1),o===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||r<0||s===0||s===1&&i===r-1&&i===n+1?"":t.slice(i,r)}function Rme(...t){let e=-1,r;for(;++e<t.length;)E1(t[e]),t[e]&&(r=r===void 0?t[e]:r+"/"+t[e]);return r===void 0?".":Hme(r)}function Hme(t){E1(t);const e=t.codePointAt(0)===47;let r=zme(t,!e);return r.length===0&&!e&&(r="."),r.length>0&&t.codePointAt(t.length-1)===47&&(r+="/"),e?"/"+r:r}function zme(t,e){let r="",n=0,i=-1,s=0,a=-1,o,l;for(;++a<=t.length;){if(a<t.length)o=t.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length>0){r="",n=0,i=a,s=0;continue}}e&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+t.slice(i+1,a):r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return r}function E1(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const $me={cwd:Vme};function Vme(){return"/"}function rB(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Kme(t){if(typeof t=="string")t=new URL(t);else if(!rB(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return qme(t)}function qme(t){if(t.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const e=t.pathname;let r=-1;for(;++r<e.length;)if(e.codePointAt(r)===37&&e.codePointAt(r+1)===50){const n=e.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Q6=["history","path","basename","stem","extname","dirname"];class IW{constructor(e){let r;e?rB(e)?r={path:e}:typeof e=="string"||Wme(e)?r={value:e}:r=e:r={},this.cwd="cwd"in r?"":$me.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<Q6.length;){const s=Q6[n];s in r&&r[s]!==void 0&&r[s]!==null&&(this[s]=s==="history"?[...r[s]]:r[s])}let i;for(i in r)Q6.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?eo.basename(this.path):void 0}set basename(e){H6(e,"basename"),R6(e,"basename"),this.path=eo.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?eo.dirname(this.path):void 0}set dirname(e){hN(this.basename,"dirname"),this.path=eo.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?eo.extname(this.path):void 0}set extname(e){if(R6(e,"extname"),hN(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=eo.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){rB(e)&&(e=Kme(e)),H6(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?eo.basename(this.path,this.extname):void 0}set stem(e){H6(e,"stem"),R6(e,"stem"),this.path=eo.join(this.dirname||"",e+(this.extname||""))}fail(e,r,n){const i=this.message(e,r,n);throw i.fatal=!0,i}info(e,r,n){const i=this.message(e,r,n);return i.fatal=void 0,i}message(e,r,n){const i=new ni(e,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function R6(t,e){if(t&&t.includes(eo.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+eo.sep+"`")}function H6(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function hN(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Wme(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Gme=function(t){const n=this.constructor.prototype,i=n[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,n),s},Xme={}.hasOwnProperty;class bE extends Gme{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Ime()}copy(){const e=new bE;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];e.use(...n)}return e.data(U6(!0,{},this.namespace)),e}data(e,r){return typeof e=="string"?arguments.length===2?(V6("data",this.frozen),this.namespace[e]=r,this):Xme.call(this.namespace,e)&&this.namespace[e]||void 0:e?(V6("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(e,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const r=By(e),n=this.parser||this.Parser;return z6("parse",n),n(String(r),r)}process(e,r){const n=this;return this.freeze(),z6("process",this.parser||this.Parser),$6("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(s,a){const o=By(e),l=n.parse(o);n.run(l,o,function(u,d,A){if(u||!d||!A)return c(u);const f=d,p=n.stringify(f,A);Zme(p)?A.value=p:A.result=p,c(u,A)});function c(u,d){u||!d?a(u):s?s(d):r(void 0,d)}}}processSync(e){let r=!1,n;return this.freeze(),z6("processSync",this.parser||this.Parser),$6("processSync",this.compiler||this.Compiler),this.process(e,i),fN("processSync","process",r),n;function i(s,a){r=!0,sN(s),n=a}}run(e,r,n){AN(e),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?s(void 0,n):new Promise(s);function s(a,o){const l=By(r);i.run(e,l,c);function c(u,d,A){const f=d||e;u?o(u):a?a(f):n(void 0,f,A)}}}runSync(e,r){let n=!1,i;return this.run(e,r,s),fN("runSync","run",n),i;function s(a,o){sN(a),i=o,n=!0}}stringify(e,r){this.freeze();const n=By(r),i=this.compiler||this.Compiler;return $6("stringify",i),AN(e),i(e,n)}use(e,...r){const n=this.attachers,i=this.namespace;if(V6("use",this.frozen),e!=null)if(typeof e=="function")l(e,r);else if(typeof e=="object")Array.isArray(e)?o(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...d]=c;l(u,d)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=U6(!0,i.settings,c.settings))}function o(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const d=c[u];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let d=-1,A=-1;for(;++d<n.length;)if(n[d][0]===c){A=d;break}if(A===-1)n.push([c,...u]);else if(u.length>0){let[f,...p]=u;const m=n[A][1];tB(m)&&tB(f)&&(f=U6(!0,m,f)),n[A]=[c,f,...p]}}}}const Yme=new bE().freeze();function z6(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function $6(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function V6(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function AN(t){if(!tB(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function fN(t,e,r){if(!r)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function By(t){return Jme(t)?t:new IW(t)}function Jme(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Zme(t){return typeof t=="string"||ege(t)}function ege(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const tge="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",pN=[],mN={allowDangerousHtml:!0},rge=/^(https?|ircs?|mailto|xmpp)$/i,nge=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ige(t){const e=sge(t),r=age(t);return oge(e.runSync(e.parse(r),r),t)}function sge(t){const e=t.rehypePlugins||pN,r=t.remarkPlugins||pN,n=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...mN}:mN;return Yme().use(Rpe).use(r).use(Nme,n).use(e)}function age(t){const e=t.children||"",r=new IW;return typeof e=="string"&&(r.value=e),r}function oge(t,e){const r=e.allowedElements,n=e.allowElement,i=e.components,s=e.disallowedElements,a=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||lge;for(const u of nge)Object.hasOwn(e,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+tge+u.id,void 0);return NW(t,c),vAe(t,{Fragment:h.Fragment,components:i,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function c(u,d,A){if(u.type==="raw"&&A&&typeof d=="number")return a?A.children.splice(d,1):A.children[d]={type:"text",value:u.value},d;if(u.type==="element"){let f;for(f in I6)if(Object.hasOwn(I6,f)&&Object.hasOwn(u.properties,f)){const p=u.properties[f],m=I6[f];(m===null||m.includes(u.tagName))&&(u.properties[f]=l(String(p||""),f,u))}}if(u.type==="element"){let f=r?!r.includes(u.tagName):s?s.includes(u.tagName):!1;if(!f&&n&&typeof d=="number"&&(f=!n(u,d,A)),f&&A&&typeof d=="number")return o&&u.children?A.children.splice(d,1,...u.children):A.children.splice(d,1),d}}}function lge(t){const e=t.indexOf(":"),r=t.indexOf("?"),n=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||r!==-1&&e>r||n!==-1&&e>n||rge.test(t.slice(0,e))?t:""}const cge="/assets/icon-BJdMBtym.png";function uge(t,e){const r=String(t);let n=r.indexOf(e),i=n,s=0,a=0;for(;n!==-1;)n===i?++s>a&&(a=s):s=1,i=n+e.length,n=r.indexOf(e,i);return a}function dge(){return{enter:{mathFlow:t,mathFlowFenceMeta:e,mathText:s},exit:{mathFlow:i,mathFlowFence:n,mathFlowFenceMeta:r,mathFlowValue:o,mathText:a,mathTextData:o}};function t(l){const c={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[c]}},l)}function e(){this.buffer()}function r(){const l=this.resume(),c=this.stack[this.stack.length-1];c.type,c.meta=l}function n(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(l){const c=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),u=this.stack[this.stack.length-1];u.type,this.exit(l),u.value=c;const d=u.data.hChildren[0];d.type,d.tagName,d.children.push({type:"text",value:c}),this.data.mathFlowInside=void 0}function s(l){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},l),this.buffer()}function a(l){const c=this.resume(),u=this.stack[this.stack.length-1];u.type,this.exit(l),u.value=c,u.data.hChildren.push({type:"text",value:c})}function o(l){this.config.enter.data.call(this,l),this.config.exit.data.call(this,l)}}function hge(t){let e=(t||{}).singleDollarTextMath;return e==null&&(e=!0),n.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:e?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:r,inlineMath:n}};function r(s,a,o,l){const c=s.value||"",u=o.createTracker(l),d="$".repeat(Math.max(uge(c,"$")+1,2)),A=o.enter("mathFlow");let f=u.move(d);if(s.meta){const p=o.enter("mathFlowMeta");f+=u.move(o.safe(s.meta,{after:`
`,before:f,encode:["$"],...u.current()})),p()}return f+=u.move(`
`),c&&(f+=u.move(c+`
`)),f+=u.move(d),A(),f}function n(s,a,o){let l=s.value||"",c=1;for(e||c++;new RegExp("(^|[^$])"+"\\$".repeat(c)+"([^$]|$)").test(l);)c++;const u="$".repeat(c);/[^ \r\n]/.test(l)&&(/^[ \r\n]/.test(l)&&/[ \r\n]$/.test(l)||/^\$|\$$/.test(l))&&(l=" "+l+" ");let d=-1;for(;++d<o.unsafe.length;){const A=o.unsafe[d];if(!A.atBreak)continue;const f=o.compilePattern(A);let p;for(;p=f.exec(l);){let m=p.index;l.codePointAt(m)===10&&l.codePointAt(m-1)===13&&m--,l=l.slice(0,m)+" "+l.slice(p.index+1)}}return u+l+u}function i(){return"$"}}const Age={tokenize:fge,concrete:!0,name:"mathFlow"},gN={tokenize:pge,partial:!0};function fge(t,e,r){const n=this,i=n.events[n.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let a=0;return o;function o(v){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),l(v)}function l(v){return v===36?(t.consume(v),a++,l):a<2?r(v):(t.exit("mathFlowFenceSequence"),Rt(t,c,"whitespace")(v))}function c(v){return v===null||$e(v)?d(v):(t.enter("mathFlowFenceMeta"),t.enter("chunkString",{contentType:"string"}),u(v))}function u(v){return v===null||$e(v)?(t.exit("chunkString"),t.exit("mathFlowFenceMeta"),d(v)):v===36?r(v):(t.consume(v),u)}function d(v){return t.exit("mathFlowFence"),n.interrupt?e(v):t.attempt(gN,A,y)(v)}function A(v){return t.attempt({tokenize:g,partial:!0},y,f)(v)}function f(v){return(s?Rt(t,p,"linePrefix",s+1):p)(v)}function p(v){return v===null?y(v):$e(v)?t.attempt(gN,A,y)(v):(t.enter("mathFlowValue"),m(v))}function m(v){return v===null||$e(v)?(t.exit("mathFlowValue"),p(v)):(t.consume(v),m)}function y(v){return t.exit("mathFlow"),e(v)}function g(v,x,b){let w=0;return Rt(v,C,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function C(E){return v.enter("mathFlowFence"),v.enter("mathFlowFenceSequence"),S(E)}function S(E){return E===36?(w++,v.consume(E),S):w<a?b(E):(v.exit("mathFlowFenceSequence"),Rt(v,B,"whitespace")(E))}function B(E){return E===null||$e(E)?(v.exit("mathFlowFence"),x(E)):b(E)}}}function pge(t,e,r){const n=this;return i;function i(a){return a===null?e(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return n.parser.lazy[n.now().line]?r(a):e(a)}}function mge(t){let r=t.singleDollarTextMath;return r==null&&(r=!0),{tokenize:n,resolve:gge,previous:yge,name:"mathText"};function n(i,s,a){let o=0,l,c;return u;function u(m){return i.enter("mathText"),i.enter("mathTextSequence"),d(m)}function d(m){return m===36?(i.consume(m),o++,d):o<2&&!r?a(m):(i.exit("mathTextSequence"),A(m))}function A(m){return m===null?a(m):m===36?(c=i.enter("mathTextSequence"),l=0,p(m)):m===32?(i.enter("space"),i.consume(m),i.exit("space"),A):$e(m)?(i.enter("lineEnding"),i.consume(m),i.exit("lineEnding"),A):(i.enter("mathTextData"),f(m))}function f(m){return m===null||m===32||m===36||$e(m)?(i.exit("mathTextData"),A(m)):(i.consume(m),f)}function p(m){return m===36?(i.consume(m),l++,p):l===o?(i.exit("mathTextSequence"),i.exit("mathText"),s(m)):(c.type="mathTextData",f(m))}}}function gge(t){let e=t.length-4,r=3,n,i;if((t[r][1].type==="lineEnding"||t[r][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(n=r;++n<e;)if(t[n][1].type==="mathTextData"){t[e][1].type="mathTextPadding",t[r][1].type="mathTextPadding",r+=2,e-=2;break}}for(n=r-1,e++;++n<=e;)i===void 0?n!==e&&t[n][1].type!=="lineEnding"&&(i=n):(n===e||t[n][1].type==="lineEnding")&&(t[i][1].type="mathTextData",n!==i+2&&(t[i][1].end=t[n-1][1].end,t.splice(i+2,n-i-2),e-=n-i-2,n=i+2),i=void 0);return t}function yge(t){return t!==36||this.events[this.events.length-1][1].type==="characterEscape"}function vge(t){return{flow:{36:Age},text:{36:mge(t)}}}class cs{constructor(e,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=n}static range(e,r){return r?!e||!e.loc||!r.loc||e.loc.lexer!==r.loc.lexer?null:new cs(e.loc.lexer,e.loc.start,r.loc.end):e&&e.loc}}class Xs{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new Xs(r,cs.range(this,e))}}class be{constructor(e,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+e,i,s,a=r&&r.loc;if(a&&a.start<=a.end){var o=a.lexer.input;i=a.start,s=a.end,i===o.length?n+=" at end of input: ":n+=" at position "+(i+1)+": ";var l=o.slice(i,s).replace(/[^]/g,"$&"),c;i>15?c=""+o.slice(i-15,i):c=o.slice(0,i);var u;s+15<o.length?u=o.slice(s,s+15)+"":u=o.slice(s),n+=c+l+u}var d=new Error(n);return d.name="ParseError",d.__proto__=be.prototype,d.position=i,i!=null&&s!=null&&(d.length=s-i),d.rawMessage=e,d}}be.prototype.__proto__=Error.prototype;var xge=function(e,r){return e.indexOf(r)!==-1},bge=function(e,r){return e===void 0?r:e},wge=/([A-Z])/g,Cge=function(e){return e.replace(wge,"-$1").toLowerCase()},Sge={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Bge=/[&><"']/g;function _ge(t){return String(t).replace(Bge,e=>Sge[e])}var OW=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},kge=function(e){var r=OW(e);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},Ege=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},Mge=function(e){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},Ke={contains:xge,deflt:bge,escape:_ge,hyphenate:Cge,getBaseElem:OW,isCharacterBox:kge,protocolFromUrl:Mge},D4={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function Fge(t){if(t.default)return t.default;var e=t.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class wE{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var r in D4)if(D4.hasOwnProperty(r)){var n=D4[r];this[r]=e[r]!==void 0?n.processor?n.processor(e[r]):e[r]:Fge(n)}}reportNonstrict(e,r,n){var i=this.strict;if(typeof i=="function"&&(i=i(e,r,n)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new be("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+e+"]"),n);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]"))}}useStrictBehavior(e,r,n){var i=this.strict;if(typeof i=="function")try{i=i(e,r,n)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var r=Ke.protocolFromUrl(e.url);if(r==null)return!1;e.protocol=r}var n=typeof this.trust=="function"?this.trust(e):this.trust;return!!n}}class sc{constructor(e,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=n}sup(){return so[Tge[this.id]]}sub(){return so[Dge[this.id]]}fracNum(){return so[Lge[this.id]]}fracDen(){return so[Nge[this.id]]}cramp(){return so[jge[this.id]]}text(){return so[Ige[this.id]]}isTight(){return this.size>=2}}var CE=0,Cb=1,yA=2,bl=3,Tg=4,Vs=5,HA=6,pi=7,so=[new sc(CE,0,!1),new sc(Cb,0,!0),new sc(yA,1,!1),new sc(bl,1,!0),new sc(Tg,2,!1),new sc(Vs,2,!0),new sc(HA,3,!1),new sc(pi,3,!0)],Tge=[Tg,Vs,Tg,Vs,HA,pi,HA,pi],Dge=[Vs,Vs,Vs,Vs,pi,pi,pi,pi],Lge=[yA,bl,Tg,Vs,HA,pi,HA,pi],Nge=[bl,bl,Vs,Vs,pi,pi,pi,pi],jge=[Cb,Cb,bl,bl,Vs,Vs,pi,pi],Ige=[CE,Cb,yA,bl,yA,bl,yA,bl],Ye={DISPLAY:so[CE],TEXT:so[yA],SCRIPT:so[Tg],SCRIPTSCRIPT:so[HA]},nB=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function Oge(t){for(var e=0;e<nB.length;e++)for(var r=nB[e],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(t>=i[0]&&t<=i[1])return r.name}return null}var L4=[];nB.forEach(t=>t.blocks.forEach(e=>L4.push(...e)));function PW(t){for(var e=0;e<L4.length;e+=2)if(t>=L4[e]&&t<=L4[e+1])return!0;return!1}var Vh=80,Pge=function(e,r){return"M95,"+(622+e+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},Uge=function(e,r){return"M263,"+(601+e+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},Qge=function(e,r){return"M983 "+(10+e+r)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},Rge=function(e,r){return"M424,"+(2398+e+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+r+`
h400000v`+(40+e)+"h-400000z"},Hge=function(e,r){return"M473,"+(2713+e+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+r+"h400000v"+(40+e)+"H1017.7z"},zge=function(e){var r=e/2;return"M400000 "+e+" H0 L"+r+" 0 l65 45 L145 "+(e-80)+" H400000z"},$ge=function(e,r,n){var i=n-54-r-e;return"M702 "+(e+r)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+e)+"H742z"},Vge=function(e,r,n){r=1e3*r;var i="";switch(e){case"sqrtMain":i=Pge(r,Vh);break;case"sqrtSize1":i=Uge(r,Vh);break;case"sqrtSize2":i=Qge(r,Vh);break;case"sqrtSize3":i=Rge(r,Vh);break;case"sqrtSize4":i=Hge(r,Vh);break;case"sqrtTall":i=$ge(r,Vh,n)}return i},Kge=function(e,r){switch(e){case"":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},yN={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},qge=function(e,r){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class M1{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return Ke.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){var e=r=>r.toText();return this.children.map(e).join("")}}var fo={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},_y={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},vN={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function Wge(t,e){fo[t]=e}function SE(t,e,r){if(!fo[e])throw new Error("Font metrics not found for font: "+e+".");var n=t.charCodeAt(0),i=fo[e][n];if(!i&&t[0]in vN&&(n=vN[t[0]].charCodeAt(0),i=fo[e][n]),!i&&r==="text"&&PW(n)&&(i=fo[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var K6={};function Gge(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!K6[e]){var r=K6[e]={cssEmPerMu:_y.quad[e]/18};for(var n in _y)_y.hasOwnProperty(n)&&(r[n]=_y[n][e])}return K6[e]}var Xge=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],xN=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],bN=function(e,r){return r.size<2?e:Xge[e-1][r.size-1]};class ol{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||ol.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=xN[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return new ol(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:bN(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:xN[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=bN(ol.BASESIZE,e);return this.size===r&&this.textSize===ol.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==ol.BASESIZE?["sizing","reset-size"+this.size,"size"+ol.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Gge(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}ol.BASESIZE=6;var iB={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Yge={ex:!0,em:!0,mu:!0},UW=function(e){return typeof e!="string"&&(e=e.unit),e in iB||e in Yge||e==="ex"},wr=function(e,r){var n;if(e.unit in iB)n=iB[e.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(e.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var i;if(r.style.isTight()?i=r.havingStyle(r.style.text()):i=r,e.unit==="ex")n=i.fontMetrics().xHeight;else if(e.unit==="em")n=i.fontMetrics().quad;else throw new be("Invalid unit: '"+e.unit+"'");i!==r&&(n*=i.sizeMultiplier/r.sizeMultiplier)}return Math.min(e.number*n,r.maxSize)},ke=function(e){return+e.toFixed(4)+"em"},xu=function(e){return e.filter(r=>r).join(" ")},QW=function(e,r,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var i=r.getColor();i&&(this.style.color=i)}},RW=function(e){var r=document.createElement(e);r.className=xu(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&r.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)r.appendChild(this.children[s].toNode());return r},Jge=/[\s"'>/=\x00-\x1f]/,HW=function(e){var r="<"+e;this.classes.length&&(r+=' class="'+Ke.escape(xu(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=Ke.hyphenate(i)+":"+this.style[i]+";");n&&(r+=' style="'+Ke.escape(n)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(Jge.test(s))throw new be("Invalid attribute name '"+s+"'");r+=" "+s+'="'+Ke.escape(this.attributes[s])+'"'}r+=">";for(var a=0;a<this.children.length;a++)r+=this.children[a].toMarkup();return r+="</"+e+">",r};class F1{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,QW.call(this,e,n,i),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return Ke.contains(this.classes,e)}toNode(){return RW.call(this,"span")}toMarkup(){return HW.call(this,"span")}}class BE{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,QW.call(this,r,i),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return Ke.contains(this.classes,e)}toNode(){return RW.call(this,"a")}toMarkup(){return HW.call(this,"a")}}class Zge{constructor(e,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return Ke.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e='<img src="'+Ke.escape(this.src)+'"'+(' alt="'+Ke.escape(this.alt)+'"'),r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=Ke.hyphenate(n)+":"+this.style[n]+";");return r&&(e+=' style="'+Ke.escape(r)+'"'),e+="'/>",e}}var e1e={:"",:"",:"",:""};class ta{constructor(e,r,n,i,s,a,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=n||0,this.italic=i||0,this.skew=s||0,this.width=a||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var c=Oge(this.text.charCodeAt(0));c&&this.classes.push(c+"_fallback"),/[]/.test(this.text)&&(this.text=e1e[this.text])}hasClass(e){return Ke.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=ke(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=xu(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=Ke.escape(xu(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=Ke.hyphenate(i)+":"+this.style[i]+";");n&&(e=!0,r+=' style="'+Ke.escape(n)+'"');var s=Ke.escape(this.text);return e?(r+=">",r+=s,r+="</span>",r):s}}class jl{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+Ke.escape(this.attributes[r])+'"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}}class bu{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",yN[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+Ke.escape(this.alternate)+'"/>':'<path d="'+Ke.escape(yN[this.pathName])+'"/>'}}class sB{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+Ke.escape(this.attributes[r])+'"');return e+="/>",e}}function wN(t){if(t instanceof ta)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function t1e(t){if(t instanceof F1)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var r1e={bin:1,close:1,inner:1,open:1,punct:1,rel:1},n1e={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},ir={math:{},text:{}};function k(t,e,r,n,i,s){ir[t][i]={font:e,group:r,replace:n},s&&n&&(ir[t][n]=ir[t][i])}var F="math",me="text",T="main",Q="ams",vr="accent-token",Oe="bin",xi="close",gf="inner",Ge="mathord",tn="op-token",Bs="open",kw="punct",H="rel",Vl="spacing",G="textord";k(F,T,H,"","\\equiv",!0);k(F,T,H,"","\\prec",!0);k(F,T,H,"","\\succ",!0);k(F,T,H,"","\\sim",!0);k(F,T,H,"","\\perp");k(F,T,H,"","\\preceq",!0);k(F,T,H,"","\\succeq",!0);k(F,T,H,"","\\simeq",!0);k(F,T,H,"","\\mid",!0);k(F,T,H,"","\\ll",!0);k(F,T,H,"","\\gg",!0);k(F,T,H,"","\\asymp",!0);k(F,T,H,"","\\parallel");k(F,T,H,"","\\bowtie",!0);k(F,T,H,"","\\smile",!0);k(F,T,H,"","\\sqsubseteq",!0);k(F,T,H,"","\\sqsupseteq",!0);k(F,T,H,"","\\doteq",!0);k(F,T,H,"","\\frown",!0);k(F,T,H,"","\\ni",!0);k(F,T,H,"","\\propto",!0);k(F,T,H,"","\\vdash",!0);k(F,T,H,"","\\dashv",!0);k(F,T,H,"","\\owns");k(F,T,kw,".","\\ldotp");k(F,T,kw,"","\\cdotp");k(F,T,G,"#","\\#");k(me,T,G,"#","\\#");k(F,T,G,"&","\\&");k(me,T,G,"&","\\&");k(F,T,G,"","\\aleph",!0);k(F,T,G,"","\\forall",!0);k(F,T,G,"","\\hbar",!0);k(F,T,G,"","\\exists",!0);k(F,T,G,"","\\nabla",!0);k(F,T,G,"","\\flat",!0);k(F,T,G,"","\\ell",!0);k(F,T,G,"","\\natural",!0);k(F,T,G,"","\\clubsuit",!0);k(F,T,G,"","\\wp",!0);k(F,T,G,"","\\sharp",!0);k(F,T,G,"","\\diamondsuit",!0);k(F,T,G,"","\\Re",!0);k(F,T,G,"","\\heartsuit",!0);k(F,T,G,"","\\Im",!0);k(F,T,G,"","\\spadesuit",!0);k(F,T,G,"","\\S",!0);k(me,T,G,"","\\S");k(F,T,G,"","\\P",!0);k(me,T,G,"","\\P");k(F,T,G,"","\\dag");k(me,T,G,"","\\dag");k(me,T,G,"","\\textdagger");k(F,T,G,"","\\ddag");k(me,T,G,"","\\ddag");k(me,T,G,"","\\textdaggerdbl");k(F,T,xi,"","\\rmoustache",!0);k(F,T,Bs,"","\\lmoustache",!0);k(F,T,xi,"","\\rgroup",!0);k(F,T,Bs,"","\\lgroup",!0);k(F,T,Oe,"","\\mp",!0);k(F,T,Oe,"","\\ominus",!0);k(F,T,Oe,"","\\uplus",!0);k(F,T,Oe,"","\\sqcap",!0);k(F,T,Oe,"","\\ast");k(F,T,Oe,"","\\sqcup",!0);k(F,T,Oe,"","\\bigcirc",!0);k(F,T,Oe,"","\\bullet",!0);k(F,T,Oe,"","\\ddagger");k(F,T,Oe,"","\\wr",!0);k(F,T,Oe,"","\\amalg");k(F,T,Oe,"&","\\And");k(F,T,H,"","\\longleftarrow",!0);k(F,T,H,"","\\Leftarrow",!0);k(F,T,H,"","\\Longleftarrow",!0);k(F,T,H,"","\\longrightarrow",!0);k(F,T,H,"","\\Rightarrow",!0);k(F,T,H,"","\\Longrightarrow",!0);k(F,T,H,"","\\leftrightarrow",!0);k(F,T,H,"","\\longleftrightarrow",!0);k(F,T,H,"","\\Leftrightarrow",!0);k(F,T,H,"","\\Longleftrightarrow",!0);k(F,T,H,"","\\mapsto",!0);k(F,T,H,"","\\longmapsto",!0);k(F,T,H,"","\\nearrow",!0);k(F,T,H,"","\\hookleftarrow",!0);k(F,T,H,"","\\hookrightarrow",!0);k(F,T,H,"","\\searrow",!0);k(F,T,H,"","\\leftharpoonup",!0);k(F,T,H,"","\\rightharpoonup",!0);k(F,T,H,"","\\swarrow",!0);k(F,T,H,"","\\leftharpoondown",!0);k(F,T,H,"","\\rightharpoondown",!0);k(F,T,H,"","\\nwarrow",!0);k(F,T,H,"","\\rightleftharpoons",!0);k(F,Q,H,"","\\nless",!0);k(F,Q,H,"","\\@nleqslant");k(F,Q,H,"","\\@nleqq");k(F,Q,H,"","\\lneq",!0);k(F,Q,H,"","\\lneqq",!0);k(F,Q,H,"","\\@lvertneqq");k(F,Q,H,"","\\lnsim",!0);k(F,Q,H,"","\\lnapprox",!0);k(F,Q,H,"","\\nprec",!0);k(F,Q,H,"","\\npreceq",!0);k(F,Q,H,"","\\precnsim",!0);k(F,Q,H,"","\\precnapprox",!0);k(F,Q,H,"","\\nsim",!0);k(F,Q,H,"","\\@nshortmid");k(F,Q,H,"","\\nmid",!0);k(F,Q,H,"","\\nvdash",!0);k(F,Q,H,"","\\nvDash",!0);k(F,Q,H,"","\\ntriangleleft");k(F,Q,H,"","\\ntrianglelefteq",!0);k(F,Q,H,"","\\subsetneq",!0);k(F,Q,H,"","\\@varsubsetneq");k(F,Q,H,"","\\subsetneqq",!0);k(F,Q,H,"","\\@varsubsetneqq");k(F,Q,H,"","\\ngtr",!0);k(F,Q,H,"","\\@ngeqslant");k(F,Q,H,"","\\@ngeqq");k(F,Q,H,"","\\gneq",!0);k(F,Q,H,"","\\gneqq",!0);k(F,Q,H,"","\\@gvertneqq");k(F,Q,H,"","\\gnsim",!0);k(F,Q,H,"","\\gnapprox",!0);k(F,Q,H,"","\\nsucc",!0);k(F,Q,H,"","\\nsucceq",!0);k(F,Q,H,"","\\succnsim",!0);k(F,Q,H,"","\\succnapprox",!0);k(F,Q,H,"","\\ncong",!0);k(F,Q,H,"","\\@nshortparallel");k(F,Q,H,"","\\nparallel",!0);k(F,Q,H,"","\\nVDash",!0);k(F,Q,H,"","\\ntriangleright");k(F,Q,H,"","\\ntrianglerighteq",!0);k(F,Q,H,"","\\@nsupseteqq");k(F,Q,H,"","\\supsetneq",!0);k(F,Q,H,"","\\@varsupsetneq");k(F,Q,H,"","\\supsetneqq",!0);k(F,Q,H,"","\\@varsupsetneqq");k(F,Q,H,"","\\nVdash",!0);k(F,Q,H,"","\\precneqq",!0);k(F,Q,H,"","\\succneqq",!0);k(F,Q,H,"","\\@nsubseteqq");k(F,Q,Oe,"","\\unlhd");k(F,Q,Oe,"","\\unrhd");k(F,Q,H,"","\\nleftarrow",!0);k(F,Q,H,"","\\nrightarrow",!0);k(F,Q,H,"","\\nLeftarrow",!0);k(F,Q,H,"","\\nRightarrow",!0);k(F,Q,H,"","\\nleftrightarrow",!0);k(F,Q,H,"","\\nLeftrightarrow",!0);k(F,Q,H,"","\\vartriangle");k(F,Q,G,"","\\hslash");k(F,Q,G,"","\\triangledown");k(F,Q,G,"","\\lozenge");k(F,Q,G,"","\\circledS");k(F,Q,G,"","\\circledR");k(me,Q,G,"","\\circledR");k(F,Q,G,"","\\measuredangle",!0);k(F,Q,G,"","\\nexists");k(F,Q,G,"","\\mho");k(F,Q,G,"","\\Finv",!0);k(F,Q,G,"","\\Game",!0);k(F,Q,G,"","\\backprime");k(F,Q,G,"","\\blacktriangle");k(F,Q,G,"","\\blacktriangledown");k(F,Q,G,"","\\blacksquare");k(F,Q,G,"","\\blacklozenge");k(F,Q,G,"","\\bigstar");k(F,Q,G,"","\\sphericalangle",!0);k(F,Q,G,"","\\complement",!0);k(F,Q,G,"","\\eth",!0);k(me,T,G,"","");k(F,Q,G,"","\\diagup");k(F,Q,G,"","\\diagdown");k(F,Q,G,"","\\square");k(F,Q,G,"","\\Box");k(F,Q,G,"","\\Diamond");k(F,Q,G,"","\\yen",!0);k(me,Q,G,"","\\yen",!0);k(F,Q,G,"","\\checkmark",!0);k(me,Q,G,"","\\checkmark");k(F,Q,G,"","\\beth",!0);k(F,Q,G,"","\\daleth",!0);k(F,Q,G,"","\\gimel",!0);k(F,Q,G,"","\\digamma",!0);k(F,Q,G,"","\\varkappa");k(F,Q,Bs,"","\\@ulcorner",!0);k(F,Q,xi,"","\\@urcorner",!0);k(F,Q,Bs,"","\\@llcorner",!0);k(F,Q,xi,"","\\@lrcorner",!0);k(F,Q,H,"","\\leqq",!0);k(F,Q,H,"","\\leqslant",!0);k(F,Q,H,"","\\eqslantless",!0);k(F,Q,H,"","\\lesssim",!0);k(F,Q,H,"","\\lessapprox",!0);k(F,Q,H,"","\\approxeq",!0);k(F,Q,Oe,"","\\lessdot");k(F,Q,H,"","\\lll",!0);k(F,Q,H,"","\\lessgtr",!0);k(F,Q,H,"","\\lesseqgtr",!0);k(F,Q,H,"","\\lesseqqgtr",!0);k(F,Q,H,"","\\doteqdot");k(F,Q,H,"","\\risingdotseq",!0);k(F,Q,H,"","\\fallingdotseq",!0);k(F,Q,H,"","\\backsim",!0);k(F,Q,H,"","\\backsimeq",!0);k(F,Q,H,"","\\subseteqq",!0);k(F,Q,H,"","\\Subset",!0);k(F,Q,H,"","\\sqsubset",!0);k(F,Q,H,"","\\preccurlyeq",!0);k(F,Q,H,"","\\curlyeqprec",!0);k(F,Q,H,"","\\precsim",!0);k(F,Q,H,"","\\precapprox",!0);k(F,Q,H,"","\\vartriangleleft");k(F,Q,H,"","\\trianglelefteq");k(F,Q,H,"","\\vDash",!0);k(F,Q,H,"","\\Vvdash",!0);k(F,Q,H,"","\\smallsmile");k(F,Q,H,"","\\smallfrown");k(F,Q,H,"","\\bumpeq",!0);k(F,Q,H,"","\\Bumpeq",!0);k(F,Q,H,"","\\geqq",!0);k(F,Q,H,"","\\geqslant",!0);k(F,Q,H,"","\\eqslantgtr",!0);k(F,Q,H,"","\\gtrsim",!0);k(F,Q,H,"","\\gtrapprox",!0);k(F,Q,Oe,"","\\gtrdot");k(F,Q,H,"","\\ggg",!0);k(F,Q,H,"","\\gtrless",!0);k(F,Q,H,"","\\gtreqless",!0);k(F,Q,H,"","\\gtreqqless",!0);k(F,Q,H,"","\\eqcirc",!0);k(F,Q,H,"","\\circeq",!0);k(F,Q,H,"","\\triangleq",!0);k(F,Q,H,"","\\thicksim");k(F,Q,H,"","\\thickapprox");k(F,Q,H,"","\\supseteqq",!0);k(F,Q,H,"","\\Supset",!0);k(F,Q,H,"","\\sqsupset",!0);k(F,Q,H,"","\\succcurlyeq",!0);k(F,Q,H,"","\\curlyeqsucc",!0);k(F,Q,H,"","\\succsim",!0);k(F,Q,H,"","\\succapprox",!0);k(F,Q,H,"","\\vartriangleright");k(F,Q,H,"","\\trianglerighteq");k(F,Q,H,"","\\Vdash",!0);k(F,Q,H,"","\\shortmid");k(F,Q,H,"","\\shortparallel");k(F,Q,H,"","\\between",!0);k(F,Q,H,"","\\pitchfork",!0);k(F,Q,H,"","\\varpropto");k(F,Q,H,"","\\blacktriangleleft");k(F,Q,H,"","\\therefore",!0);k(F,Q,H,"","\\backepsilon");k(F,Q,H,"","\\blacktriangleright");k(F,Q,H,"","\\because",!0);k(F,Q,H,"","\\llless");k(F,Q,H,"","\\gggtr");k(F,Q,Oe,"","\\lhd");k(F,Q,Oe,"","\\rhd");k(F,Q,H,"","\\eqsim",!0);k(F,T,H,"","\\Join");k(F,Q,H,"","\\Doteq",!0);k(F,Q,Oe,"","\\dotplus",!0);k(F,Q,Oe,"","\\smallsetminus");k(F,Q,Oe,"","\\Cap",!0);k(F,Q,Oe,"","\\Cup",!0);k(F,Q,Oe,"","\\doublebarwedge",!0);k(F,Q,Oe,"","\\boxminus",!0);k(F,Q,Oe,"","\\boxplus",!0);k(F,Q,Oe,"","\\divideontimes",!0);k(F,Q,Oe,"","\\ltimes",!0);k(F,Q,Oe,"","\\rtimes",!0);k(F,Q,Oe,"","\\leftthreetimes",!0);k(F,Q,Oe,"","\\rightthreetimes",!0);k(F,Q,Oe,"","\\curlywedge",!0);k(F,Q,Oe,"","\\curlyvee",!0);k(F,Q,Oe,"","\\circleddash",!0);k(F,Q,Oe,"","\\circledast",!0);k(F,Q,Oe,"","\\centerdot");k(F,Q,Oe,"","\\intercal",!0);k(F,Q,Oe,"","\\doublecap");k(F,Q,Oe,"","\\doublecup");k(F,Q,Oe,"","\\boxtimes",!0);k(F,Q,H,"","\\dashrightarrow",!0);k(F,Q,H,"","\\dashleftarrow",!0);k(F,Q,H,"","\\leftleftarrows",!0);k(F,Q,H,"","\\leftrightarrows",!0);k(F,Q,H,"","\\Lleftarrow",!0);k(F,Q,H,"","\\twoheadleftarrow",!0);k(F,Q,H,"","\\leftarrowtail",!0);k(F,Q,H,"","\\looparrowleft",!0);k(F,Q,H,"","\\leftrightharpoons",!0);k(F,Q,H,"","\\curvearrowleft",!0);k(F,Q,H,"","\\circlearrowleft",!0);k(F,Q,H,"","\\Lsh",!0);k(F,Q,H,"","\\upuparrows",!0);k(F,Q,H,"","\\upharpoonleft",!0);k(F,Q,H,"","\\downharpoonleft",!0);k(F,T,H,"","\\origof",!0);k(F,T,H,"","\\imageof",!0);k(F,Q,H,"","\\multimap",!0);k(F,Q,H,"","\\leftrightsquigarrow",!0);k(F,Q,H,"","\\rightrightarrows",!0);k(F,Q,H,"","\\rightleftarrows",!0);k(F,Q,H,"","\\twoheadrightarrow",!0);k(F,Q,H,"","\\rightarrowtail",!0);k(F,Q,H,"","\\looparrowright",!0);k(F,Q,H,"","\\curvearrowright",!0);k(F,Q,H,"","\\circlearrowright",!0);k(F,Q,H,"","\\Rsh",!0);k(F,Q,H,"","\\downdownarrows",!0);k(F,Q,H,"","\\upharpoonright",!0);k(F,Q,H,"","\\downharpoonright",!0);k(F,Q,H,"","\\rightsquigarrow",!0);k(F,Q,H,"","\\leadsto");k(F,Q,H,"","\\Rrightarrow",!0);k(F,Q,H,"","\\restriction");k(F,T,G,"","`");k(F,T,G,"$","\\$");k(me,T,G,"$","\\$");k(me,T,G,"$","\\textdollar");k(F,T,G,"%","\\%");k(me,T,G,"%","\\%");k(F,T,G,"_","\\_");k(me,T,G,"_","\\_");k(me,T,G,"_","\\textunderscore");k(F,T,G,"","\\angle",!0);k(F,T,G,"","\\infty",!0);k(F,T,G,"","\\prime");k(F,T,G,"","\\triangle");k(F,T,G,"","\\Gamma",!0);k(F,T,G,"","\\Delta",!0);k(F,T,G,"","\\Theta",!0);k(F,T,G,"","\\Lambda",!0);k(F,T,G,"","\\Xi",!0);k(F,T,G,"","\\Pi",!0);k(F,T,G,"","\\Sigma",!0);k(F,T,G,"","\\Upsilon",!0);k(F,T,G,"","\\Phi",!0);k(F,T,G,"","\\Psi",!0);k(F,T,G,"","\\Omega",!0);k(F,T,G,"A","");k(F,T,G,"B","");k(F,T,G,"E","");k(F,T,G,"Z","");k(F,T,G,"H","");k(F,T,G,"I","");k(F,T,G,"K","");k(F,T,G,"M","");k(F,T,G,"N","");k(F,T,G,"O","");k(F,T,G,"P","");k(F,T,G,"T","");k(F,T,G,"X","");k(F,T,G,"","\\neg",!0);k(F,T,G,"","\\lnot");k(F,T,G,"","\\top");k(F,T,G,"","\\bot");k(F,T,G,"","\\emptyset");k(F,Q,G,"","\\varnothing");k(F,T,Ge,"","\\alpha",!0);k(F,T,Ge,"","\\beta",!0);k(F,T,Ge,"","\\gamma",!0);k(F,T,Ge,"","\\delta",!0);k(F,T,Ge,"","\\epsilon",!0);k(F,T,Ge,"","\\zeta",!0);k(F,T,Ge,"","\\eta",!0);k(F,T,Ge,"","\\theta",!0);k(F,T,Ge,"","\\iota",!0);k(F,T,Ge,"","\\kappa",!0);k(F,T,Ge,"","\\lambda",!0);k(F,T,Ge,"","\\mu",!0);k(F,T,Ge,"","\\nu",!0);k(F,T,Ge,"","\\xi",!0);k(F,T,Ge,"","\\omicron",!0);k(F,T,Ge,"","\\pi",!0);k(F,T,Ge,"","\\rho",!0);k(F,T,Ge,"","\\sigma",!0);k(F,T,Ge,"","\\tau",!0);k(F,T,Ge,"","\\upsilon",!0);k(F,T,Ge,"","\\phi",!0);k(F,T,Ge,"","\\chi",!0);k(F,T,Ge,"","\\psi",!0);k(F,T,Ge,"","\\omega",!0);k(F,T,Ge,"","\\varepsilon",!0);k(F,T,Ge,"","\\vartheta",!0);k(F,T,Ge,"","\\varpi",!0);k(F,T,Ge,"","\\varrho",!0);k(F,T,Ge,"","\\varsigma",!0);k(F,T,Ge,"","\\varphi",!0);k(F,T,Oe,"","*",!0);k(F,T,Oe,"+","+");k(F,T,Oe,"","-",!0);k(F,T,Oe,"","\\cdot",!0);k(F,T,Oe,"","\\circ",!0);k(F,T,Oe,"","\\div",!0);k(F,T,Oe,"","\\pm",!0);k(F,T,Oe,"","\\times",!0);k(F,T,Oe,"","\\cap",!0);k(F,T,Oe,"","\\cup",!0);k(F,T,Oe,"","\\setminus",!0);k(F,T,Oe,"","\\land");k(F,T,Oe,"","\\lor");k(F,T,Oe,"","\\wedge",!0);k(F,T,Oe,"","\\vee",!0);k(F,T,G,"","\\surd");k(F,T,Bs,"","\\langle",!0);k(F,T,Bs,"","\\lvert");k(F,T,Bs,"","\\lVert");k(F,T,xi,"?","?");k(F,T,xi,"!","!");k(F,T,xi,"","\\rangle",!0);k(F,T,xi,"","\\rvert");k(F,T,xi,"","\\rVert");k(F,T,H,"=","=");k(F,T,H,":",":");k(F,T,H,"","\\approx",!0);k(F,T,H,"","\\cong",!0);k(F,T,H,"","\\ge");k(F,T,H,"","\\geq",!0);k(F,T,H,"","\\gets");k(F,T,H,">","\\gt",!0);k(F,T,H,"","\\in",!0);k(F,T,H,"","\\@not");k(F,T,H,"","\\subset",!0);k(F,T,H,"","\\supset",!0);k(F,T,H,"","\\subseteq",!0);k(F,T,H,"","\\supseteq",!0);k(F,Q,H,"","\\nsubseteq",!0);k(F,Q,H,"","\\nsupseteq",!0);k(F,T,H,"","\\models");k(F,T,H,"","\\leftarrow",!0);k(F,T,H,"","\\le");k(F,T,H,"","\\leq",!0);k(F,T,H,"<","\\lt",!0);k(F,T,H,"","\\rightarrow",!0);k(F,T,H,"","\\to");k(F,Q,H,"","\\ngeq",!0);k(F,Q,H,"","\\nleq",!0);k(F,T,Vl,"","\\ ");k(F,T,Vl,"","\\space");k(F,T,Vl,"","\\nobreakspace");k(me,T,Vl,"","\\ ");k(me,T,Vl,""," ");k(me,T,Vl,"","\\space");k(me,T,Vl,"","\\nobreakspace");k(F,T,Vl,null,"\\nobreak");k(F,T,Vl,null,"\\allowbreak");k(F,T,kw,",",",");k(F,T,kw,";",";");k(F,Q,Oe,"","\\barwedge",!0);k(F,Q,Oe,"","\\veebar",!0);k(F,T,Oe,"","\\odot",!0);k(F,T,Oe,"","\\oplus",!0);k(F,T,Oe,"","\\otimes",!0);k(F,T,G,"","\\partial",!0);k(F,T,Oe,"","\\oslash",!0);k(F,Q,Oe,"","\\circledcirc",!0);k(F,Q,Oe,"","\\boxdot",!0);k(F,T,Oe,"","\\bigtriangleup");k(F,T,Oe,"","\\bigtriangledown");k(F,T,Oe,"","\\dagger");k(F,T,Oe,"","\\diamond");k(F,T,Oe,"","\\star");k(F,T,Oe,"","\\triangleleft");k(F,T,Oe,"","\\triangleright");k(F,T,Bs,"{","\\{");k(me,T,G,"{","\\{");k(me,T,G,"{","\\textbraceleft");k(F,T,xi,"}","\\}");k(me,T,G,"}","\\}");k(me,T,G,"}","\\textbraceright");k(F,T,Bs,"{","\\lbrace");k(F,T,xi,"}","\\rbrace");k(F,T,Bs,"[","\\lbrack",!0);k(me,T,G,"[","\\lbrack",!0);k(F,T,xi,"]","\\rbrack",!0);k(me,T,G,"]","\\rbrack",!0);k(F,T,Bs,"(","\\lparen",!0);k(F,T,xi,")","\\rparen",!0);k(me,T,G,"<","\\textless",!0);k(me,T,G,">","\\textgreater",!0);k(F,T,Bs,"","\\lfloor",!0);k(F,T,xi,"","\\rfloor",!0);k(F,T,Bs,"","\\lceil",!0);k(F,T,xi,"","\\rceil",!0);k(F,T,G,"\\","\\backslash");k(F,T,G,"","|");k(F,T,G,"","\\vert");k(me,T,G,"|","\\textbar",!0);k(F,T,G,"","\\|");k(F,T,G,"","\\Vert");k(me,T,G,"","\\textbardbl");k(me,T,G,"~","\\textasciitilde");k(me,T,G,"\\","\\textbackslash");k(me,T,G,"^","\\textasciicircum");k(F,T,H,"","\\uparrow",!0);k(F,T,H,"","\\Uparrow",!0);k(F,T,H,"","\\downarrow",!0);k(F,T,H,"","\\Downarrow",!0);k(F,T,H,"","\\updownarrow",!0);k(F,T,H,"","\\Updownarrow",!0);k(F,T,tn,"","\\coprod");k(F,T,tn,"","\\bigvee");k(F,T,tn,"","\\bigwedge");k(F,T,tn,"","\\biguplus");k(F,T,tn,"","\\bigcap");k(F,T,tn,"","\\bigcup");k(F,T,tn,"","\\int");k(F,T,tn,"","\\intop");k(F,T,tn,"","\\iint");k(F,T,tn,"","\\iiint");k(F,T,tn,"","\\prod");k(F,T,tn,"","\\sum");k(F,T,tn,"","\\bigotimes");k(F,T,tn,"","\\bigoplus");k(F,T,tn,"","\\bigodot");k(F,T,tn,"","\\oint");k(F,T,tn,"","\\oiint");k(F,T,tn,"","\\oiiint");k(F,T,tn,"","\\bigsqcup");k(F,T,tn,"","\\smallint");k(me,T,gf,"","\\textellipsis");k(F,T,gf,"","\\mathellipsis");k(me,T,gf,"","\\ldots",!0);k(F,T,gf,"","\\ldots",!0);k(F,T,gf,"","\\@cdots",!0);k(F,T,gf,"","\\ddots",!0);k(F,T,G,"","\\varvdots");k(me,T,G,"","\\varvdots");k(F,T,vr,"","\\acute");k(F,T,vr,"","\\grave");k(F,T,vr,"","\\ddot");k(F,T,vr,"~","\\tilde");k(F,T,vr,"","\\bar");k(F,T,vr,"","\\breve");k(F,T,vr,"","\\check");k(F,T,vr,"^","\\hat");k(F,T,vr,"","\\vec");k(F,T,vr,"","\\dot");k(F,T,vr,"","\\mathring");k(F,T,Ge,"","\\@imath");k(F,T,Ge,"","\\@jmath");k(F,T,G,"","");k(F,T,G,"","");k(me,T,G,"","\\i",!0);k(me,T,G,"","\\j",!0);k(me,T,G,"","\\ss",!0);k(me,T,G,"","\\ae",!0);k(me,T,G,"","\\oe",!0);k(me,T,G,"","\\o",!0);k(me,T,G,"","\\AE",!0);k(me,T,G,"","\\OE",!0);k(me,T,G,"","\\O",!0);k(me,T,vr,"","\\'");k(me,T,vr,"","\\`");k(me,T,vr,"","\\^");k(me,T,vr,"","\\~");k(me,T,vr,"","\\=");k(me,T,vr,"","\\u");k(me,T,vr,"","\\.");k(me,T,vr,"","\\c");k(me,T,vr,"","\\r");k(me,T,vr,"","\\v");k(me,T,vr,"",'\\"');k(me,T,vr,"","\\H");k(me,T,vr,"","\\textcircled");var zW={"--":!0,"---":!0,"``":!0,"''":!0};k(me,T,G,"","--",!0);k(me,T,G,"","\\textendash");k(me,T,G,"","---",!0);k(me,T,G,"","\\textemdash");k(me,T,G,"","`",!0);k(me,T,G,"","\\textquoteleft");k(me,T,G,"","'",!0);k(me,T,G,"","\\textquoteright");k(me,T,G,"","``",!0);k(me,T,G,"","\\textquotedblleft");k(me,T,G,"","''",!0);k(me,T,G,"","\\textquotedblright");k(F,T,G,"","\\degree",!0);k(me,T,G,"","\\degree");k(me,T,G,"","\\textdegree",!0);k(F,T,G,"","\\pounds");k(F,T,G,"","\\mathsterling",!0);k(me,T,G,"","\\pounds");k(me,T,G,"","\\textsterling",!0);k(F,Q,G,"","\\maltese");k(me,Q,G,"","\\maltese");var CN='0123456789/@."';for(var q6=0;q6<CN.length;q6++){var SN=CN.charAt(q6);k(F,T,G,SN,SN)}var BN='0123456789!@*()-=+";:?/.,';for(var W6=0;W6<BN.length;W6++){var _N=BN.charAt(W6);k(me,T,G,_N,_N)}var Sb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var G6=0;G6<Sb.length;G6++){var ky=Sb.charAt(G6);k(F,T,Ge,ky,ky),k(me,T,G,ky,ky)}k(F,Q,G,"C","");k(me,Q,G,"C","");k(F,Q,G,"H","");k(me,Q,G,"H","");k(F,Q,G,"N","");k(me,Q,G,"N","");k(F,Q,G,"P","");k(me,Q,G,"P","");k(F,Q,G,"Q","");k(me,Q,G,"Q","");k(F,Q,G,"R","");k(me,Q,G,"R","");k(F,Q,G,"Z","");k(me,Q,G,"Z","");k(F,T,Ge,"h","");k(me,T,Ge,"h","");var rt="";for(var si=0;si<Sb.length;si++){var Er=Sb.charAt(si);rt=String.fromCharCode(55349,56320+si),k(F,T,Ge,Er,rt),k(me,T,G,Er,rt),rt=String.fromCharCode(55349,56372+si),k(F,T,Ge,Er,rt),k(me,T,G,Er,rt),rt=String.fromCharCode(55349,56424+si),k(F,T,Ge,Er,rt),k(me,T,G,Er,rt),rt=String.fromCharCode(55349,56580+si),k(F,T,Ge,Er,rt),k(me,T,G,Er,rt),rt=String.fromCharCode(55349,56684+si),k(F,T,Ge,Er,rt),k(me,T,G,Er,rt),rt=String.fromCharCode(55349,56736+si),k(F,T,Ge,Er,rt),k(me,T,G,Er,rt),rt=String.fromCharCode(55349,56788+si),k(F,T,Ge,Er,rt),k(me,T,G,Er,rt),rt=String.fromCharCode(55349,56840+si),k(F,T,Ge,Er,rt),k(me,T,G,Er,rt),rt=String.fromCharCode(55349,56944+si),k(F,T,Ge,Er,rt),k(me,T,G,Er,rt),si<26&&(rt=String.fromCharCode(55349,56632+si),k(F,T,Ge,Er,rt),k(me,T,G,Er,rt),rt=String.fromCharCode(55349,56476+si),k(F,T,Ge,Er,rt),k(me,T,G,Er,rt))}rt="";k(F,T,Ge,"k",rt);k(me,T,G,"k",rt);for(var Xu=0;Xu<10;Xu++){var ac=Xu.toString();rt=String.fromCharCode(55349,57294+Xu),k(F,T,Ge,ac,rt),k(me,T,G,ac,rt),rt=String.fromCharCode(55349,57314+Xu),k(F,T,Ge,ac,rt),k(me,T,G,ac,rt),rt=String.fromCharCode(55349,57324+Xu),k(F,T,Ge,ac,rt),k(me,T,G,ac,rt),rt=String.fromCharCode(55349,57334+Xu),k(F,T,Ge,ac,rt),k(me,T,G,ac,rt)}var aB="";for(var X6=0;X6<aB.length;X6++){var Ey=aB.charAt(X6);k(F,T,Ge,Ey,Ey),k(me,T,G,Ey,Ey)}var My=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],kN=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],i1e=function(e,r){var n=e.charCodeAt(0),i=e.charCodeAt(1),s=(n-55296)*1024+(i-56320)+65536,a=r==="math"?0:1;if(119808<=s&&s<120484){var o=Math.floor((s-119808)/26);return[My[o][2],My[o][a]]}else if(120782<=s&&s<=120831){var l=Math.floor((s-120782)/10);return[kN[l][2],kN[l][a]]}else{if(s===120485||s===120486)return[My[0][2],My[0][a]];if(120486<s&&s<120782)return["",""];throw new be("Unsupported character: "+e)}},Ew=function(e,r,n){return ir[n][e]&&ir[n][e].replace&&(e=ir[n][e].replace),{value:e,metrics:SE(e,r,n)}},ya=function(e,r,n,i,s){var a=Ew(e,r,n),o=a.metrics;e=a.value;var l;if(o){var c=o.italic;(n==="text"||i&&i.font==="mathit")&&(c=0),l=new ta(e,o.height,o.depth,c,o.skew,o.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+r+"' and mode '"+n+"'")),l=new ta(e,0,0,0,0,0,s);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var u=i.getColor();u&&(l.style.color=u)}return l},s1e=function(e,r,n,i){return i===void 0&&(i=[]),n.font==="boldsymbol"&&Ew(e,"Main-Bold",r).metrics?ya(e,"Main-Bold",r,n,i.concat(["mathbf"])):e==="\\"||ir[r][e].font==="main"?ya(e,"Main-Regular",r,n,i):ya(e,"AMS-Regular",r,n,i.concat(["amsrm"]))},a1e=function(e,r,n,i,s){return s!=="textord"&&Ew(e,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},o1e=function(e,r,n){var i=e.mode,s=e.text,a=["mord"],o=i==="math"||i==="text"&&r.font,l=o?r.font:r.fontFamily,c="",u="";if(s.charCodeAt(0)===55349&&([c,u]=i1e(s,i)),c.length>0)return ya(s,c,i,r,a.concat(u));if(l){var d,A;if(l==="boldsymbol"){var f=a1e(s,i,r,a,n);d=f.fontName,A=[f.fontClass]}else o?(d=KW[l].fontName,A=[l]):(d=Fy(l,r.fontWeight,r.fontShape),A=[l,r.fontWeight,r.fontShape]);if(Ew(s,d,i).metrics)return ya(s,d,i,r,a.concat(A));if(zW.hasOwnProperty(s)&&d.slice(0,10)==="Typewriter"){for(var p=[],m=0;m<s.length;m++)p.push(ya(s[m],d,i,r,a.concat(A)));return VW(p)}}if(n==="mathord")return ya(s,"Math-Italic",i,r,a.concat(["mathnormal"]));if(n==="textord"){var y=ir[i][s]&&ir[i][s].font;if(y==="ams"){var g=Fy("amsrm",r.fontWeight,r.fontShape);return ya(s,g,i,r,a.concat("amsrm",r.fontWeight,r.fontShape))}else if(y==="main"||!y){var v=Fy("textrm",r.fontWeight,r.fontShape);return ya(s,v,i,r,a.concat(r.fontWeight,r.fontShape))}else{var x=Fy(y,r.fontWeight,r.fontShape);return ya(s,x,i,r,a.concat(x,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},l1e=(t,e)=>{if(xu(t.classes)!==xu(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in t.style)if(t.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},c1e=t=>{for(var e=0;e<t.length-1;e++){var r=t[e],n=t[e+1];r instanceof ta&&n instanceof ta&&l1e(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,t.splice(e+1,1),e--)}return t},_E=function(e){for(var r=0,n=0,i=0,s=0;s<e.children.length;s++){var a=e.children[s];a.height>r&&(r=a.height),a.depth>n&&(n=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}e.height=r,e.depth=n,e.maxFontSize=i},Ei=function(e,r,n,i){var s=new F1(e,r,n,i);return _E(s),s},$W=(t,e,r,n)=>new F1(t,e,r,n),u1e=function(e,r,n){var i=Ei([e],[],r);return i.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),i.style.borderBottomWidth=ke(i.height),i.maxFontSize=1,i},d1e=function(e,r,n,i){var s=new BE(e,r,n,i);return _E(s),s},VW=function(e){var r=new M1(e);return _E(r),r},h1e=function(e,r){return e instanceof M1?Ei([],[e],r):e},A1e=function(e){if(e.positionType==="individualShift"){for(var r=e.children,n=[r[0]],i=-r[0].shift-r[0].elem.depth,s=i,a=1;a<r.length;a++){var o=-r[a].shift-s-r[a].elem.depth,l=o-(r[a-1].elem.height+r[a-1].elem.depth);s=s+o,n.push({type:"kern",size:l}),n.push(r[a])}return{children:n,depth:i}}var c;if(e.positionType==="top"){for(var u=e.positionData,d=0;d<e.children.length;d++){var A=e.children[d];u-=A.type==="kern"?A.size:A.elem.height+A.elem.depth}c=u}else if(e.positionType==="bottom")c=-e.positionData;else{var f=e.children[0];if(f.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")c=-f.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")c=-f.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:c}},f1e=function(e,r){for(var{children:n,depth:i}=A1e(e),s=0,a=0;a<n.length;a++){var o=n[a];if(o.type==="elem"){var l=o.elem;s=Math.max(s,l.maxFontSize,l.height)}}s+=2;var c=Ei(["pstrut"],[]);c.style.height=ke(s);for(var u=[],d=i,A=i,f=i,p=0;p<n.length;p++){var m=n[p];if(m.type==="kern")f+=m.size;else{var y=m.elem,g=m.wrapperClasses||[],v=m.wrapperStyle||{},x=Ei(g,[c,y],void 0,v);x.style.top=ke(-s-f-y.depth),m.marginLeft&&(x.style.marginLeft=m.marginLeft),m.marginRight&&(x.style.marginRight=m.marginRight),u.push(x),f+=y.height+y.depth}d=Math.min(d,f),A=Math.max(A,f)}var b=Ei(["vlist"],u);b.style.height=ke(A);var w;if(d<0){var C=Ei([],[]),S=Ei(["vlist"],[C]);S.style.height=ke(-d);var B=Ei(["vlist-s"],[new ta("")]);w=[Ei(["vlist-r"],[b,B]),Ei(["vlist-r"],[S])]}else w=[Ei(["vlist-r"],[b])];var E=Ei(["vlist-t"],w);return w.length===2&&E.classes.push("vlist-t2"),E.height=A,E.depth=-d,E},p1e=(t,e)=>{var r=Ei(["mspace"],[],e),n=wr(t,e);return r.style.marginRight=ke(n),r},Fy=function(e,r,n){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return r==="textbf"&&n==="textit"?s="BoldItalic":r==="textbf"?s="Bold":r==="textit"?s="Italic":s="Regular",i+"-"+s},KW={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},qW={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},m1e=function(e,r){var[n,i,s]=qW[e],a=new bu(n),o=new jl([a],{width:ke(i),height:ke(s),style:"width:"+ke(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),l=$W(["overlay"],[o],r);return l.height=s,l.style.height=ke(s),l.style.width=ke(i),l},te={fontMap:KW,makeSymbol:ya,mathsym:s1e,makeSpan:Ei,makeSvgSpan:$W,makeLineSpan:u1e,makeAnchor:d1e,makeFragment:VW,wrapFragment:h1e,makeVList:f1e,makeOrd:o1e,makeGlue:p1e,staticSvg:m1e,svgData:qW,tryCombineChars:c1e},xr={number:3,unit:"mu"},Yu={number:4,unit:"mu"},Ho={number:5,unit:"mu"},g1e={mord:{mop:xr,mbin:Yu,mrel:Ho,minner:xr},mop:{mord:xr,mop:xr,mrel:Ho,minner:xr},mbin:{mord:Yu,mop:Yu,mopen:Yu,minner:Yu},mrel:{mord:Ho,mop:Ho,mopen:Ho,minner:Ho},mopen:{},mclose:{mop:xr,mbin:Yu,mrel:Ho,minner:xr},mpunct:{mord:xr,mop:xr,mrel:Ho,mopen:xr,mclose:xr,mpunct:xr,minner:xr},minner:{mord:xr,mop:xr,mbin:Yu,mrel:Ho,mopen:xr,mpunct:xr,minner:xr}},y1e={mord:{mop:xr},mop:{mord:xr,mop:xr},mbin:{},mrel:{},mopen:{},mclose:{mop:xr},mpunct:{},minner:{mop:xr}},WW={},Bb={},_b={};function Le(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:s,mathmlBuilder:a}=t,o={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},l=0;l<r.length;++l)WW[r[l]]=o;e&&(s&&(Bb[e]=s),a&&(_b[e]=a))}function Fh(t){var{type:e,htmlBuilder:r,mathmlBuilder:n}=t;Le({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var kb=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Hr=function(e){return e.type==="ordgroup"?e.body:[e]},Il=te.makeSpan,v1e=["leftmost","mbin","mopen","mrel","mop","mpunct"],x1e=["rightmost","mrel","mclose","mpunct"],b1e={display:Ye.DISPLAY,text:Ye.TEXT,script:Ye.SCRIPT,scriptscript:Ye.SCRIPTSCRIPT},w1e={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},dn=function(e,r,n,i){i===void 0&&(i=[null,null]);for(var s=[],a=0;a<e.length;a++){var o=Ft(e[a],r);if(o instanceof M1){var l=o.children;s.push(...l)}else s.push(o)}if(te.tryCombineChars(s),!n)return s;var c=r;if(e.length===1){var u=e[0];u.type==="sizing"?c=r.havingSize(u.size):u.type==="styling"&&(c=r.havingStyle(b1e[u.style]))}var d=Il([i[0]||"leftmost"],[],r),A=Il([i[1]||"rightmost"],[],r),f=n==="root";return EN(s,(p,m)=>{var y=m.classes[0],g=p.classes[0];y==="mbin"&&Ke.contains(x1e,g)?m.classes[0]="mord":g==="mbin"&&Ke.contains(v1e,y)&&(p.classes[0]="mord")},{node:d},A,f),EN(s,(p,m)=>{var y=oB(m),g=oB(p),v=y&&g?p.hasClass("mtight")?y1e[y][g]:g1e[y][g]:null;if(v)return te.makeGlue(v,c)},{node:d},A,f),s},EN=function t(e,r,n,i,s){i&&e.push(i);for(var a=0;a<e.length;a++){var o=e[a],l=GW(o);if(l){t(l.children,r,n,null,s);continue}var c=!o.hasClass("mspace");if(c){var u=r(o,n.node);u&&(n.insertAfter?n.insertAfter(u):(e.unshift(u),a++))}c?n.node=o:s&&o.hasClass("newline")&&(n.node=Il(["leftmost"])),n.insertAfter=(d=>A=>{e.splice(d+1,0,A),a++})(a)}i&&e.pop()},GW=function(e){return e instanceof M1||e instanceof BE||e instanceof F1&&e.hasClass("enclosing")?e:null},C1e=function t(e,r){var n=GW(e);if(n){var i=n.children;if(i.length){if(r==="right")return t(i[i.length-1],"right");if(r==="left")return t(i[0],"left")}}return e},oB=function(e,r){return e?(r&&(e=C1e(e,r)),w1e[e.classes[0]]||null):null},Dg=function(e,r){var n=["nulldelimiter"].concat(e.baseSizingClasses());return Il(r.concat(n))},Ft=function(e,r,n){if(!e)return Il();if(Bb[e.type]){var i=Bb[e.type](e,r);if(n&&r.size!==n.size){i=Il(r.sizingClasses(n),[i],r);var s=r.sizeMultiplier/n.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new be("Got group of unknown type: '"+e.type+"'")};function Ty(t,e){var r=Il(["base"],t,e),n=Il(["strut"]);return n.style.height=ke(r.height+r.depth),r.depth&&(n.style.verticalAlign=ke(-r.depth)),r.children.unshift(n),r}function lB(t,e){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var n=dn(t,e,"root"),i;n.length===2&&n[1].hasClass("tag")&&(i=n.pop());for(var s=[],a=[],o=0;o<n.length;o++)if(a.push(n[o]),n[o].hasClass("mbin")||n[o].hasClass("mrel")||n[o].hasClass("allowbreak")){for(var l=!1;o<n.length-1&&n[o+1].hasClass("mspace")&&!n[o+1].hasClass("newline");)o++,a.push(n[o]),n[o].hasClass("nobreak")&&(l=!0);l||(s.push(Ty(a,e)),a=[])}else n[o].hasClass("newline")&&(a.pop(),a.length>0&&(s.push(Ty(a,e)),a=[]),s.push(n[o]));a.length>0&&s.push(Ty(a,e));var c;r?(c=Ty(dn(r,e,!0)),c.classes=["tag"],s.push(c)):i&&s.push(i);var u=Il(["katex-html"],s);if(u.setAttribute("aria-hidden","true"),c){var d=c.children[0];d.style.height=ke(u.height+u.depth),u.depth&&(d.style.verticalAlign=ke(-u.depth))}return u}function XW(t){return new M1(t)}class hs{constructor(e,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=xu(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof po&&this.children[n+1]instanceof po){for(var i=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof po;)i+=this.children[++n].toText();e.appendChild(new po(i).toNode())}else e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=Ke.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+Ke.escape(xu(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class po{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ke.escape(this.toText())}toText(){return this.text}}class S1e{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",ke(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ke(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var xe={MathNode:hs,TextNode:po,SpaceNode:S1e,newDocumentFragment:XW},ra=function(e,r,n){return ir[r][e]&&ir[r][e].replace&&e.charCodeAt(0)!==55349&&!(zW.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(e=ir[r][e].replace),new xe.TextNode(e)},kE=function(e){return e.length===1?e[0]:new xe.MathNode("mrow",e)},EE=function(e,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var i=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var s=e.text;if(Ke.contains(["\\imath","\\jmath"],s))return null;ir[i][s]&&ir[i][s].replace&&(s=ir[i][s].replace);var a=te.fontMap[n].fontName;return SE(s,a,i)?te.fontMap[n].variant:null};function Y6(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof po&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var r=t.children[0];return r instanceof po&&r.text===","}else return!1}var Ji=function(e,r,n){if(e.length===1){var i=Yt(e[0],r);return n&&i instanceof hs&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],a,o=0;o<e.length;o++){var l=Yt(e[o],r);if(l instanceof hs&&a instanceof hs){if(l.type==="mtext"&&a.type==="mtext"&&l.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...l.children);continue}else if(l.type==="mn"&&a.type==="mn"){a.children.push(...l.children);continue}else if(Y6(l)&&a.type==="mn"){a.children.push(...l.children);continue}else if(l.type==="mn"&&Y6(a))l.children=[...a.children,...l.children],s.pop();else if((l.type==="msup"||l.type==="msub")&&l.children.length>=1&&(a.type==="mn"||Y6(a))){var c=l.children[0];c instanceof hs&&c.type==="mn"&&(c.children=[...a.children,...c.children],s.pop())}else if(a.type==="mi"&&a.children.length===1){var u=a.children[0];if(u instanceof po&&u.text===""&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof po&&d.text.length>0&&(d.text=d.text.slice(0,1)+""+d.text.slice(1),s.pop())}}}s.push(l),a=l}return s},wu=function(e,r,n){return kE(Ji(e,r,n))},Yt=function(e,r){if(!e)return new xe.MathNode("mrow");if(_b[e.type]){var n=_b[e.type](e,r);return n}else throw new be("Got group of unknown type: '"+e.type+"'")};function MN(t,e,r,n,i){var s=Ji(t,r),a;s.length===1&&s[0]instanceof hs&&Ke.contains(["mrow","mtable"],s[0].type)?a=s[0]:a=new xe.MathNode("mrow",s);var o=new xe.MathNode("annotation",[new xe.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var l=new xe.MathNode("semantics",[a,o]),c=new xe.MathNode("math",[l]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&c.setAttribute("display","block");var u=i?"katex":"katex-mathml";return te.makeSpan([u],[c])}var YW=function(e){return new ol({style:e.displayMode?Ye.DISPLAY:Ye.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},JW=function(e,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),e=te.makeSpan(n,[e])}return e},B1e=function(e,r,n){var i=YW(n),s;if(n.output==="mathml")return MN(e,r,i,n.displayMode,!0);if(n.output==="html"){var a=lB(e,i);s=te.makeSpan(["katex"],[a])}else{var o=MN(e,r,i,n.displayMode,!1),l=lB(e,i);s=te.makeSpan(["katex"],[o,l])}return JW(s,n)},_1e=function(e,r,n){var i=YW(n),s=lB(e,i),a=te.makeSpan(["katex"],[s]);return JW(a,n)},k1e={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},E1e=function(e){var r=new xe.MathNode("mo",[new xe.TextNode(k1e[e.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},M1e={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},F1e=function(e){return e.type==="ordgroup"?e.body.length:1},T1e=function(e,r){function n(){var o=4e5,l=e.label.slice(1);if(Ke.contains(["widehat","widecheck","widetilde","utilde"],l)){var c=e,u=F1e(c.base),d,A,f;if(u>5)l==="widehat"||l==="widecheck"?(d=420,o=2364,f=.42,A=l+"4"):(d=312,o=2340,f=.34,A="tilde4");else{var p=[1,1,2,2,3,3][u];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][p],d=[0,239,300,360,420][p],f=[0,.24,.3,.3,.36,.42][p],A=l+p):(o=[0,600,1033,2339,2340][p],d=[0,260,286,306,312][p],f=[0,.26,.286,.3,.306,.34][p],A="tilde"+p)}var m=new bu(A),y=new jl([m],{width:"100%",height:ke(f),viewBox:"0 0 "+o+" "+d,preserveAspectRatio:"none"});return{span:te.makeSvgSpan([],[y],r),minWidth:0,height:f}}else{var g=[],v=M1e[l],[x,b,w]=v,C=w/1e3,S=x.length,B,E;if(S===1){var M=v[3];B=["hide-tail"],E=[M]}else if(S===2)B=["halfarrow-left","halfarrow-right"],E=["xMinYMin","xMaxYMin"];else if(S===3)B=["brace-left","brace-center","brace-right"],E=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+S+" children.");for(var D=0;D<S;D++){var L=new bu(x[D]),I=new jl([L],{width:"400em",height:ke(C),viewBox:"0 0 "+o+" "+w,preserveAspectRatio:E[D]+" slice"}),z=te.makeSvgSpan([B[D]],[I],r);if(S===1)return{span:z,minWidth:b,height:C};z.style.height=ke(C),g.push(z)}return{span:te.makeSpan(["stretchy"],g,r),minWidth:b,height:C}}}var{span:i,minWidth:s,height:a}=n();return i.height=a,i.style.height=ke(a),s>0&&(i.style.minWidth=ke(s)),i},D1e=function(e,r,n,i,s){var a,o=e.height+e.depth+n+i;if(/fbox|color|angl/.test(r)){if(a=te.makeSpan(["stretchy",r],[],s),r==="fbox"){var l=s.color&&s.getColor();l&&(a.style.borderColor=l)}}else{var c=[];/^[bx]cancel$/.test(r)&&c.push(new sB({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&c.push(new sB({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var u=new jl(c,{width:"100%",height:ke(o)});a=te.makeSvgSpan([],[u],s)}return a.height=o,a.style.height=ke(o),a},Ol={encloseSpan:D1e,mathMLnode:E1e,svgSpan:T1e};function ht(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function ME(t){var e=Mw(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function Mw(t){return t&&(t.type==="atom"||n1e.hasOwnProperty(t.type))?t:null}var FE=(t,e)=>{var r,n,i;t&&t.type==="supsub"?(n=ht(t.base,"accent"),r=n.base,t.base=r,i=t1e(Ft(t,e)),t.base=n):(n=ht(t,"accent"),r=n.base);var s=Ft(r,e.havingCrampedStyle()),a=n.isShifty&&Ke.isCharacterBox(r),o=0;if(a){var l=Ke.getBaseElem(r),c=Ft(l,e.havingCrampedStyle());o=wN(c).skew}var u=n.label==="\\c",d=u?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),A;if(n.isStretchy)A=Ol.svgSpan(n,e),A=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:A,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+ke(2*o)+")",marginLeft:ke(2*o)}:void 0}]},e);else{var f,p;n.label==="\\vec"?(f=te.staticSvg("vec",e),p=te.svgData.vec[1]):(f=te.makeOrd({mode:n.mode,text:n.label},e,"textord"),f=wN(f),f.italic=0,p=f.width,u&&(d+=f.depth)),A=te.makeSpan(["accent-body"],[f]);var m=n.label==="\\textcircled";m&&(A.classes.push("accent-full"),d=s.height);var y=o;m||(y-=p/2),A.style.left=ke(y),n.label==="\\textcircled"&&(A.style.top=".2em"),A=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-d},{type:"elem",elem:A}]},e)}var g=te.makeSpan(["mord","accent"],[A],e);return i?(i.children[0]=g,i.height=Math.max(g.height,i.height),i.classes[0]="mord",i):g},ZW=(t,e)=>{var r=t.isStretchy?Ol.mathMLnode(t.label):new xe.MathNode("mo",[ra(t.label,t.mode)]),n=new xe.MathNode("mover",[Yt(t.base,e),r]);return n.setAttribute("accent","true"),n},L1e=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Le({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var r=kb(e[0]),n=!L1e.test(t.funcName),i=!n||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:n,isShifty:i,base:r}},htmlBuilder:FE,mathmlBuilder:ZW});Le({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var r=e[0],n=t.parser.mode;return n==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:FE,mathmlBuilder:ZW});Le({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},htmlBuilder:(t,e)=>{var r=Ft(t.base,e),n=Ol.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,s=te.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},e);return te.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var r=Ol.mathMLnode(t.label),n=new xe.MathNode("munder",[Yt(t.base,e),r]);return n.setAttribute("accentunder","true"),n}});var Dy=t=>{var e=new xe.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Le({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n,funcName:i}=t;return{type:"xArrow",mode:n.mode,label:i,body:e[0],below:r[0]}},htmlBuilder(t,e){var r=e.style,n=e.havingStyle(r.sup()),i=te.wrapFragment(Ft(t.body,n,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var a;t.below&&(n=e.havingStyle(r.sub()),a=te.wrapFragment(Ft(t.below,n,e),e),a.classes.push(s+"-arrow-pad"));var o=Ol.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*o.height,c=-e.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(c-=i.depth);var u;if(a){var d=-e.fontMetrics().axisHeight+a.height+.5*o.height+.111;u=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:o,shift:l},{type:"elem",elem:a,shift:d}]},e)}else u=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:o,shift:l}]},e);return u.children[0].children[0].children[1].classes.push("svg-align"),te.makeSpan(["mrel","x-arrow"],[u],e)},mathmlBuilder(t,e){var r=Ol.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(t.body){var i=Dy(Yt(t.body,e));if(t.below){var s=Dy(Yt(t.below,e));n=new xe.MathNode("munderover",[r,s,i])}else n=new xe.MathNode("mover",[r,i])}else if(t.below){var a=Dy(Yt(t.below,e));n=new xe.MathNode("munder",[r,a])}else n=Dy(),n=new xe.MathNode("mover",[r,n]);return n}});var N1e=te.makeSpan;function eG(t,e){var r=dn(t.body,e,!0);return N1e([t.mclass],r,e)}function tG(t,e){var r,n=Ji(t.body,e);return t.mclass==="minner"?r=new xe.MathNode("mpadded",n):t.mclass==="mord"?t.isCharacterBox?(r=n[0],r.type="mi"):r=new xe.MathNode("mi",n):(t.isCharacterBox?(r=n[0],r.type="mo"):r=new xe.MathNode("mo",n),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}Le({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:Hr(i),isCharacterBox:Ke.isCharacterBox(i)}},htmlBuilder:eG,mathmlBuilder:tG});var Fw=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Le({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:Fw(e[0]),body:Hr(e[1]),isCharacterBox:Ke.isCharacterBox(e[1])}}});Le({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:r,funcName:n}=t,i=e[1],s=e[0],a;n!=="\\stackrel"?a=Fw(i):a="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:Hr(i)},l={type:"supsub",mode:s.mode,base:o,sup:n==="\\underset"?null:s,sub:n==="\\underset"?s:null};return{type:"mclass",mode:r.mode,mclass:a,body:[l],isCharacterBox:Ke.isCharacterBox(l)}},htmlBuilder:eG,mathmlBuilder:tG});Le({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"pmb",mode:r.mode,mclass:Fw(e[0]),body:Hr(e[0])}},htmlBuilder(t,e){var r=dn(t.body,e,!0),n=te.makeSpan([t.mclass],r,e);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(t,e){var r=Ji(t.body,e),n=new xe.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var j1e={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},FN=()=>({type:"styling",body:[],mode:"math",style:"display"}),TN=t=>t.type==="textord"&&t.text==="@",I1e=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function O1e(t,e,r){var n=j1e[t];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=r.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:n,mode:"math",family:"rel"},a=r.callFunction("\\Big",[s],[]),o=r.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,a,o]};return r.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var c={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[c],[])}default:return{type:"textord",text:" ",mode:"math"}}}function P1e(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new be("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var n=[],i=[n],s=0;s<e.length;s++){for(var a=e[s],o=FN(),l=0;l<a.length;l++)if(!TN(a[l]))o.body.push(a[l]);else{n.push(o),l+=1;var c=ME(a[l]).text,u=new Array(2);if(u[0]={type:"ordgroup",mode:"math",body:[]},u[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(c)>-1))if("<>AV".indexOf(c)>-1)for(var d=0;d<2;d++){for(var A=!0,f=l+1;f<a.length;f++){if(I1e(a[f],c)){A=!1,l=f;break}if(TN(a[f]))throw new be("Missing a "+c+" character to complete a CD arrow.",a[f]);u[d].body.push(a[f])}if(A)throw new be("Missing a "+c+" character to complete a CD arrow.",a[l])}else throw new be('Expected one of "<>AV=|." after @',a[l]);var p=O1e(c,u,t),m={type:"styling",body:[p],mode:"math",style:"display"};n.push(m),o=FN()}s%2===0?n.push(o):n.shift(),n=[],i.push(n)}t.gullet.endGroup(),t.gullet.endGroup();var y=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:y,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}Le({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:e[0]}},htmlBuilder(t,e){var r=e.havingStyle(e.style.sup()),n=te.wrapFragment(Ft(t.label,r,e),e);return n.classes.push("cd-label-"+t.side),n.style.bottom=ke(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(t,e){var r=new xe.MathNode("mrow",[Yt(t.label,e)]);return r=new xe.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new xe.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});Le({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(t,e){var r=te.wrapFragment(Ft(t.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,e){return new xe.MathNode("mrow",[Yt(t.fragment,e)])}});Le({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:r}=t,n=ht(e[0],"ordgroup"),i=n.body,s="",a=0;a<i.length;a++){var o=ht(i[a],"textord");s+=o.text}var l=parseInt(s),c;if(isNaN(l))throw new be("\\@char has non-numeric argument "+s);if(l<0||l>=1114111)throw new be("\\@char with invalid code point "+s);return l<=65535?c=String.fromCharCode(l):(l-=65536,c=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:r.mode,text:c}}});var rG=(t,e)=>{var r=dn(t.body,e.withColor(t.color),!1);return te.makeFragment(r)},nG=(t,e)=>{var r=Ji(t.body,e.withColor(t.color)),n=new xe.MathNode("mstyle",r);return n.setAttribute("mathcolor",t.color),n};Le({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:r}=t,n=ht(e[0],"color-token").color,i=e[1];return{type:"color",mode:r.mode,color:n,body:Hr(i)}},htmlBuilder:rG,mathmlBuilder:nG});Le({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:r,breakOnTokenText:n}=t,i=ht(e[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var s=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:s}},htmlBuilder:rG,mathmlBuilder:nG});Le({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,r){var{parser:n}=t,i=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,s=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:s,size:i&&ht(i,"size").value}},htmlBuilder(t,e){var r=te.makeSpan(["mspace"],[],e);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=ke(wr(t.size,e)))),r},mathmlBuilder(t,e){var r=new xe.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",ke(wr(t.size,e)))),r}});var cB={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},iG=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new be("Expected a control sequence",t);return e},U1e=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},sG=(t,e,r,n)=>{var i=t.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(e,i,n)};Le({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:r}=t;e.consumeSpaces();var n=e.fetch();if(cB[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=cB[n.text]),ht(e.parseFunction(),"internal");throw new be("Invalid token after macro prefix",n)}});Le({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=e.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new be("Expected a control sequence",n);for(var s=0,a,o=[[]];e.gullet.future().text!=="{";)if(n=e.gullet.popToken(),n.text==="#"){if(e.gullet.future().text==="{"){a=e.gullet.future(),o[s].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new be('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==s+1)throw new be('Argument number "'+n.text+'" out of order');s++,o.push([])}else{if(n.text==="EOF")throw new be("Expected a macro definition");o[s].push(n.text)}var{tokens:l}=e.gullet.consumeArg();return a&&l.unshift(a),(r==="\\edef"||r==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:s,delimiters:o},r===cB[r]),{type:"internal",mode:e.mode}}});Le({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=iG(e.gullet.popToken());e.gullet.consumeSpaces();var i=U1e(e);return sG(e,n,i,r==="\\\\globallet"),{type:"internal",mode:e.mode}}});Le({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=iG(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return sG(e,n,s,r==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Qp=function(e,r,n){var i=ir.math[e]&&ir.math[e].replace,s=SE(i||e,r,n);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+r+".");return s},TE=function(e,r,n,i){var s=n.havingBaseStyle(r),a=te.makeSpan(i.concat(s.sizingClasses(n)),[e],n),o=s.sizeMultiplier/n.sizeMultiplier;return a.height*=o,a.depth*=o,a.maxFontSize=s.sizeMultiplier,a},aG=function(e,r,n){var i=r.havingBaseStyle(n),s=(1-r.sizeMultiplier/i.sizeMultiplier)*r.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=ke(s),e.height-=s,e.depth+=s},Q1e=function(e,r,n,i,s,a){var o=te.makeSymbol(e,"Main-Regular",s,i),l=TE(o,r,i,a);return n&&aG(l,i,r),l},R1e=function(e,r,n,i){return te.makeSymbol(e,"Size"+r+"-Regular",n,i)},oG=function(e,r,n,i,s,a){var o=R1e(e,r,s,i),l=TE(te.makeSpan(["delimsizing","size"+r],[o],i),Ye.TEXT,i,a);return n&&aG(l,i,Ye.TEXT),l},J6=function(e,r,n){var i;r==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=te.makeSpan(["delimsizinginner",i],[te.makeSpan([],[te.makeSymbol(e,r,n)])]);return{type:"elem",elem:s}},Z6=function(e,r,n){var i=fo["Size4-Regular"][e.charCodeAt(0)]?fo["Size4-Regular"][e.charCodeAt(0)][4]:fo["Size1-Regular"][e.charCodeAt(0)][4],s=new bu("inner",Kge(e,Math.round(1e3*r))),a=new jl([s],{width:ke(i),height:ke(r),style:"width:"+ke(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),o=te.makeSvgSpan([],[a],n);return o.height=r,o.style.height=ke(r),o.style.width=ke(i),{type:"elem",elem:o}},uB=.008,Ly={type:"kern",size:-1*uB},H1e=["|","\\lvert","\\rvert","\\vert"],z1e=["\\|","\\lVert","\\rVert","\\Vert"],lG=function(e,r,n,i,s,a){var o,l,c,u,d="",A=0;o=c=u=e,l=null;var f="Size1-Regular";e==="\\uparrow"?c=u="":e==="\\Uparrow"?c=u="":e==="\\downarrow"?o=c="":e==="\\Downarrow"?o=c="":e==="\\updownarrow"?(o="\\uparrow",c="",u="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",c="",u="\\Downarrow"):Ke.contains(H1e,e)?(c="",d="vert",A=333):Ke.contains(z1e,e)?(c="",d="doublevert",A=556):e==="["||e==="\\lbrack"?(o="",c="",u="",f="Size4-Regular",d="lbrack",A=667):e==="]"||e==="\\rbrack"?(o="",c="",u="",f="Size4-Regular",d="rbrack",A=667):e==="\\lfloor"||e===""?(c=o="",u="",f="Size4-Regular",d="lfloor",A=667):e==="\\lceil"||e===""?(o="",c=u="",f="Size4-Regular",d="lceil",A=667):e==="\\rfloor"||e===""?(c=o="",u="",f="Size4-Regular",d="rfloor",A=667):e==="\\rceil"||e===""?(o="",c=u="",f="Size4-Regular",d="rceil",A=667):e==="("||e==="\\lparen"?(o="",c="",u="",f="Size4-Regular",d="lparen",A=875):e===")"||e==="\\rparen"?(o="",c="",u="",f="Size4-Regular",d="rparen",A=875):e==="\\{"||e==="\\lbrace"?(o="",l="",u="",c="",f="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="",l="",u="",c="",f="Size4-Regular"):e==="\\lgroup"||e===""?(o="",u="",c="",f="Size4-Regular"):e==="\\rgroup"||e===""?(o="",u="",c="",f="Size4-Regular"):e==="\\lmoustache"||e===""?(o="",u="",c="",f="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(o="",u="",c="",f="Size4-Regular");var p=Qp(o,f,s),m=p.height+p.depth,y=Qp(c,f,s),g=y.height+y.depth,v=Qp(u,f,s),x=v.height+v.depth,b=0,w=1;if(l!==null){var C=Qp(l,f,s);b=C.height+C.depth,w=2}var S=m+x+b,B=Math.max(0,Math.ceil((r-S)/(w*g))),E=S+B*w*g,M=i.fontMetrics().axisHeight;n&&(M*=i.sizeMultiplier);var D=E/2-M,L=[];if(d.length>0){var I=E-m-x,z=Math.round(E*1e3),R=qge(d,Math.round(I*1e3)),Y=new bu(d,R),$=(A/1e3).toFixed(3)+"em",P=(z/1e3).toFixed(3)+"em",q=new jl([Y],{width:$,height:P,viewBox:"0 0 "+A+" "+z}),N=te.makeSvgSpan([],[q],i);N.height=z/1e3,N.style.width=$,N.style.height=P,L.push({type:"elem",elem:N})}else{if(L.push(J6(u,f,s)),L.push(Ly),l===null){var ae=E-m-x+2*uB;L.push(Z6(c,ae,i))}else{var oe=(E-m-x-b)/2+2*uB;L.push(Z6(c,oe,i)),L.push(Ly),L.push(J6(l,f,s)),L.push(Ly),L.push(Z6(c,oe,i))}L.push(Ly),L.push(J6(o,f,s))}var O=i.havingBaseStyle(Ye.TEXT),fe=te.makeVList({positionType:"bottom",positionData:D,children:L},O);return TE(te.makeSpan(["delimsizing","mult"],[fe],O),Ye.TEXT,i,a)},e8=80,t8=.08,r8=function(e,r,n,i,s){var a=Vge(e,i,n),o=new bu(e,a),l=new jl([o],{width:"400em",height:ke(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return te.makeSvgSpan(["hide-tail"],[l],s)},$1e=function(e,r){var n=r.havingBaseSizing(),i=hG("\\surd",e*n.sizeMultiplier,dG,n),s=n.sizeMultiplier,a=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),o,l=0,c=0,u=0,d;return i.type==="small"?(u=1e3+1e3*a+e8,e<1?s=1:e<1.4&&(s=.7),l=(1+a+t8)/s,c=(1+a)/s,o=r8("sqrtMain",l,u,a,r),o.style.minWidth="0.853em",d=.833/s):i.type==="large"?(u=(1e3+e8)*Bm[i.size],c=(Bm[i.size]+a)/s,l=(Bm[i.size]+a+t8)/s,o=r8("sqrtSize"+i.size,l,u,a,r),o.style.minWidth="1.02em",d=1/s):(l=e+a+t8,c=e+a,u=Math.floor(1e3*e+a)+e8,o=r8("sqrtTall",l,u,a,r),o.style.minWidth="0.742em",d=1.056),o.height=c,o.style.height=ke(l),{span:o,advanceWidth:d,ruleWidth:(r.fontMetrics().sqrtRuleThickness+a)*s}},cG=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],V1e=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],uG=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Bm=[0,1.2,1.8,2.4,3],K1e=function(e,r,n,i,s){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),Ke.contains(cG,e)||Ke.contains(uG,e))return oG(e,r,!1,n,i,s);if(Ke.contains(V1e,e))return lG(e,Bm[r],!1,n,i,s);throw new be("Illegal delimiter: '"+e+"'")},q1e=[{type:"small",style:Ye.SCRIPTSCRIPT},{type:"small",style:Ye.SCRIPT},{type:"small",style:Ye.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],W1e=[{type:"small",style:Ye.SCRIPTSCRIPT},{type:"small",style:Ye.SCRIPT},{type:"small",style:Ye.TEXT},{type:"stack"}],dG=[{type:"small",style:Ye.SCRIPTSCRIPT},{type:"small",style:Ye.SCRIPT},{type:"small",style:Ye.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],G1e=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},hG=function(e,r,n,i){for(var s=Math.min(2,3-i.style.size),a=s;a<n.length&&n[a].type!=="stack";a++){var o=Qp(e,G1e(n[a]),"math"),l=o.height+o.depth;if(n[a].type==="small"){var c=i.havingBaseStyle(n[a].style);l*=c.sizeMultiplier}if(l>r)return n[a]}return n[n.length-1]},AG=function(e,r,n,i,s,a){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var o;Ke.contains(uG,e)?o=q1e:Ke.contains(cG,e)?o=dG:o=W1e;var l=hG(e,r,o,i);return l.type==="small"?Q1e(e,l.style,n,i,s,a):l.type==="large"?oG(e,l.size,n,i,s,a):lG(e,r,n,i,s,a)},X1e=function(e,r,n,i,s,a){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,c=5/i.fontMetrics().ptPerEm,u=Math.max(r-o,n+o),d=Math.max(u/500*l,2*u-c);return AG(e,d,!0,i,s,a)},wl={sqrtImage:$1e,sizedDelim:K1e,sizeToMaxHeight:Bm,customSizedDelim:AG,leftRightDelim:X1e},DN={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Y1e=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Tw(t,e){var r=Mw(t);if(r&&Ke.contains(Y1e,r.text))return r;throw r?new be("Invalid delimiter '"+r.text+"' after '"+e.funcName+"'",t):new be("Invalid delimiter type '"+t.type+"'",t)}Le({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var r=Tw(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:DN[t.funcName].size,mclass:DN[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,e)=>t.delim==="."?te.makeSpan([t.mclass]):wl.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(ra(t.delim,t.mode));var r=new xe.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=ke(wl.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}});function LN(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Le({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new be("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Tw(e[0],t).text,color:r}}});Le({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=Tw(e[0],t),n=t.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var s=ht(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{LN(t);for(var r=dn(t.body,e,!0,["mopen","mclose"]),n=0,i=0,s=!1,a=0;a<r.length;a++)r[a].isMiddle?s=!0:(n=Math.max(r[a].height,n),i=Math.max(r[a].depth,i));n*=e.sizeMultiplier,i*=e.sizeMultiplier;var o;if(t.left==="."?o=Dg(e,["mopen"]):o=wl.leftRightDelim(t.left,n,i,e,t.mode,["mopen"]),r.unshift(o),s)for(var l=1;l<r.length;l++){var c=r[l],u=c.isMiddle;u&&(r[l]=wl.leftRightDelim(u.delim,n,i,u.options,t.mode,[]))}var d;if(t.right===".")d=Dg(e,["mclose"]);else{var A=t.rightColor?e.withColor(t.rightColor):e;d=wl.leftRightDelim(t.right,n,i,A,t.mode,["mclose"])}return r.push(d),te.makeSpan(["minner"],r,e)},mathmlBuilder:(t,e)=>{LN(t);var r=Ji(t.body,e);if(t.left!=="."){var n=new xe.MathNode("mo",[ra(t.left,t.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(t.right!=="."){var i=new xe.MathNode("mo",[ra(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),r.push(i)}return kE(r)}});Le({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=Tw(e[0],t);if(!t.parser.leftrightDepth)throw new be("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,e)=>{var r;if(t.delim===".")r=Dg(e,[]);else{r=wl.sizedDelim(t.delim,1,e,t.mode,[]);var n={delim:t.delim,options:e};r.isMiddle=n}return r},mathmlBuilder:(t,e)=>{var r=t.delim==="\\vert"||t.delim==="|"?ra("|","text"):ra(t.delim,t.mode),n=new xe.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var DE=(t,e)=>{var r=te.wrapFragment(Ft(t.body,e),e),n=t.label.slice(1),i=e.sizeMultiplier,s,a=0,o=Ke.isCharacterBox(t.body);if(n==="sout")s=te.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,a=-.5*e.fontMetrics().xHeight;else if(n==="phase"){var l=wr({number:.6,unit:"pt"},e),c=wr({number:.35,unit:"ex"},e),u=e.havingBaseSizing();i=i/u.sizeMultiplier;var d=r.height+r.depth+l+c;r.style.paddingLeft=ke(d/2+l);var A=Math.floor(1e3*d*i),f=zge(A),p=new jl([new bu("phase",f)],{width:"400em",height:ke(A/1e3),viewBox:"0 0 400000 "+A,preserveAspectRatio:"xMinYMin slice"});s=te.makeSvgSpan(["hide-tail"],[p],e),s.style.height=ke(d),a=r.depth+l+c}else{/cancel/.test(n)?o||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var m=0,y=0,g=0;/box/.test(n)?(g=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),m=e.fontMetrics().fboxsep+(n==="colorbox"?0:g),y=m):n==="angl"?(g=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),m=4*g,y=Math.max(0,.25-r.depth)):(m=o?.2:0,y=m),s=Ol.encloseSpan(r,n,m,y,e),/fbox|boxed|fcolorbox/.test(n)?(s.style.borderStyle="solid",s.style.borderWidth=ke(g)):n==="angl"&&g!==.049&&(s.style.borderTopWidth=ke(g),s.style.borderRightWidth=ke(g)),a=r.depth+y,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var v;if(t.backgroundColor)v=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:a},{type:"elem",elem:r,shift:0}]},e);else{var x=/cancel|phase/.test(n)?["svg-align"]:[];v=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:s,shift:a,wrapperClasses:x}]},e)}return/cancel/.test(n)&&(v.height=r.height,v.depth=r.depth),/cancel/.test(n)&&!o?te.makeSpan(["mord","cancel-lap"],[v],e):te.makeSpan(["mord"],[v],e)},LE=(t,e)=>{var r=0,n=new xe.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Yt(t.body,e)]);switch(t.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&n.setAttribute("mathbackground",t.backgroundColor),n};Le({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,s=ht(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:s,body:a}},htmlBuilder:DE,mathmlBuilder:LE});Le({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,s=ht(e[0],"color-token").color,a=ht(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:a,borderColor:s,body:o}},htmlBuilder:DE,mathmlBuilder:LE});Le({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}});Le({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:DE,mathmlBuilder:LE});Le({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});var fG={};function Lo(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:s,mathmlBuilder:a}=t,o={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<r.length;++l)fG[r[l]]=o;s&&(Bb[e]=s),a&&(_b[e]=a)}var pG={};function j(t,e){pG[t]=e}function NN(t){var e=[];t.consumeSpaces();var r=t.fetch().text;for(r==="\\relax"&&(t.consume(),t.consumeSpaces(),r=t.fetch().text);r==="\\hline"||r==="\\hdashline";)t.consume(),e.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return e}var Dw=t=>{var e=t.parser.settings;if(!e.displayMode)throw new be("{"+t.envName+"} can be used only in display mode.")};function NE(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Qu(t,e,r){var{hskipBeforeAndAfter:n,addJot:i,cols:s,arraystretch:a,colSeparationType:o,autoTag:l,singleRow:c,emptySingleRow:u,maxNumCols:d,leqno:A}=e;if(t.gullet.beginGroup(),c||t.gullet.macros.set("\\cr","\\\\\\relax"),!a){var f=t.gullet.expandMacroAsText("\\arraystretch");if(f==null)a=1;else if(a=parseFloat(f),!a||a<0)throw new be("Invalid \\arraystretch: "+f)}t.gullet.beginGroup();var p=[],m=[p],y=[],g=[],v=l!=null?[]:void 0;function x(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function b(){v&&(t.gullet.macros.get("\\df@tag")?(v.push(t.subparse([new Xs("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):v.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(x(),g.push(NN(t));;){var w=t.parseExpression(!1,c?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),w={type:"ordgroup",mode:t.mode,body:w},r&&(w={type:"styling",mode:t.mode,style:r,body:[w]}),p.push(w);var C=t.fetch().text;if(C==="&"){if(d&&p.length===d){if(c||o)throw new be("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(C==="\\end"){b(),p.length===1&&w.type==="styling"&&w.body[0].body.length===0&&(m.length>1||!u)&&m.pop(),g.length<m.length+1&&g.push([]);break}else if(C==="\\\\"){t.consume();var S=void 0;t.gullet.future().text!==" "&&(S=t.parseSizeGroup(!0)),y.push(S?S.value:null),b(),g.push(NN(t)),p=[],m.push(p),x()}else throw new be("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:a,body:m,cols:s,rowGaps:y,hskipBeforeAndAfter:n,hLinesBeforeRow:g,colSeparationType:o,tags:v,leqno:A}}function jE(t){return t.slice(0,1)==="d"?"display":"text"}var No=function(e,r){var n,i,s=e.body.length,a=e.hLinesBeforeRow,o=0,l=new Array(s),c=[],u=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),d=1/r.fontMetrics().ptPerEm,A=5*d;if(e.colSeparationType&&e.colSeparationType==="small"){var f=r.havingStyle(Ye.SCRIPT).sizeMultiplier;A=.2778*(f/r.sizeMultiplier)}var p=e.colSeparationType==="CD"?wr({number:3,unit:"ex"},r):12*d,m=3*d,y=e.arraystretch*p,g=.7*y,v=.3*y,x=0;function b(V){for(var ne=0;ne<V.length;++ne)ne>0&&(x+=.25),c.push({pos:x,isDashed:V[ne]})}for(b(a[0]),n=0;n<e.body.length;++n){var w=e.body[n],C=g,S=v;o<w.length&&(o=w.length);var B=new Array(w.length);for(i=0;i<w.length;++i){var E=Ft(w[i],r);S<E.depth&&(S=E.depth),C<E.height&&(C=E.height),B[i]=E}var M=e.rowGaps[n],D=0;M&&(D=wr(M,r),D>0&&(D+=v,S<D&&(S=D),D=0)),e.addJot&&(S+=m),B.height=C,B.depth=S,x+=C,B.pos=x,x+=S+D,l[n]=B,b(a[n+1])}var L=x/2+r.fontMetrics().axisHeight,I=e.cols||[],z=[],R,Y,$=[];if(e.tags&&e.tags.some(V=>V))for(n=0;n<s;++n){var P=l[n],q=P.pos-L,N=e.tags[n],ae=void 0;N===!0?ae=te.makeSpan(["eqn-num"],[],r):N===!1?ae=te.makeSpan([],[],r):ae=te.makeSpan([],dn(N,r,!0),r),ae.depth=P.depth,ae.height=P.height,$.push({type:"elem",elem:ae,shift:q})}for(i=0,Y=0;i<o||Y<I.length;++i,++Y){for(var oe=I[Y]||{},O=!0;oe.type==="separator";){if(O||(R=te.makeSpan(["arraycolsep"],[]),R.style.width=ke(r.fontMetrics().doubleRuleSep),z.push(R)),oe.separator==="|"||oe.separator===":"){var fe=oe.separator==="|"?"solid":"dashed",Se=te.makeSpan(["vertical-separator"],[],r);Se.style.height=ke(x),Se.style.borderRightWidth=ke(u),Se.style.borderRightStyle=fe,Se.style.margin="0 "+ke(-u/2);var ie=x-L;ie&&(Se.style.verticalAlign=ke(-ie)),z.push(Se)}else throw new be("Invalid separator type: "+oe.separator);Y++,oe=I[Y]||{},O=!1}if(!(i>=o)){var pe=void 0;(i>0||e.hskipBeforeAndAfter)&&(pe=Ke.deflt(oe.pregap,A),pe!==0&&(R=te.makeSpan(["arraycolsep"],[]),R.style.width=ke(pe),z.push(R)));var J=[];for(n=0;n<s;++n){var re=l[n],ee=re[i];if(ee){var nt=re.pos-L;ee.depth=re.depth,ee.height=re.height,J.push({type:"elem",elem:ee,shift:nt})}}J=te.makeVList({positionType:"individualShift",children:J},r),J=te.makeSpan(["col-align-"+(oe.align||"c")],[J]),z.push(J),(i<o-1||e.hskipBeforeAndAfter)&&(pe=Ke.deflt(oe.postgap,A),pe!==0&&(R=te.makeSpan(["arraycolsep"],[]),R.style.width=ke(pe),z.push(R)))}}if(l=te.makeSpan(["mtable"],z),c.length>0){for(var Re=te.makeLineSpan("hline",r,u),st=te.makeLineSpan("hdashline",r,u),He=[{type:"elem",elem:l,shift:0}];c.length>0;){var ze=c.pop(),dr=ze.pos-L;ze.isDashed?He.push({type:"elem",elem:st,shift:dr}):He.push({type:"elem",elem:Re,shift:dr})}l=te.makeVList({positionType:"individualShift",children:He},r)}if($.length===0)return te.makeSpan(["mord"],[l],r);var Cn=te.makeVList({positionType:"individualShift",children:$},r);return Cn=te.makeSpan(["tag"],[Cn],r),te.makeFragment([l,Cn])},J1e={c:"center ",l:"left ",r:"right "},jo=function(e,r){for(var n=[],i=new xe.MathNode("mtd",[],["mtr-glue"]),s=new xe.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var o=e.body[a],l=[],c=0;c<o.length;c++)l.push(new xe.MathNode("mtd",[Yt(o[c],r)]));e.tags&&e.tags[a]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(s):l.push(s)),n.push(new xe.MathNode("mtr",l))}var u=new xe.MathNode("mtable",n),d=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);u.setAttribute("rowspacing",ke(d));var A="",f="";if(e.cols&&e.cols.length>0){var p=e.cols,m="",y=!1,g=0,v=p.length;p[0].type==="separator"&&(A+="top ",g=1),p[p.length-1].type==="separator"&&(A+="bottom ",v-=1);for(var x=g;x<v;x++)p[x].type==="align"?(f+=J1e[p[x].align],y&&(m+="none "),y=!0):p[x].type==="separator"&&y&&(m+=p[x].separator==="|"?"solid ":"dashed ",y=!1);u.setAttribute("columnalign",f.trim()),/[sd]/.test(m)&&u.setAttribute("columnlines",m.trim())}if(e.colSeparationType==="align"){for(var b=e.cols||[],w="",C=1;C<b.length;C++)w+=C%2?"0em ":"1em ";u.setAttribute("columnspacing",w.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?u.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?u.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?u.setAttribute("columnspacing","0.5em"):u.setAttribute("columnspacing","1em");var S="",B=e.hLinesBeforeRow;A+=B[0].length>0?"left ":"",A+=B[B.length-1].length>0?"right ":"";for(var E=1;E<B.length-1;E++)S+=B[E].length===0?"none ":B[E][0]?"dashed ":"solid ";return/[sd]/.test(S)&&u.setAttribute("rowlines",S.trim()),A!==""&&(u=new xe.MathNode("menclose",[u]),u.setAttribute("notation",A.trim())),e.arraystretch&&e.arraystretch<1&&(u=new xe.MathNode("mstyle",[u]),u.setAttribute("scriptlevel","1")),u},mG=function(e,r){e.envName.indexOf("ed")===-1&&Dw(e);var n=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",a=Qu(e.parser,{cols:n,addJot:!0,autoTag:s?void 0:NE(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),o,l=0,c={type:"ordgroup",mode:e.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var u="",d=0;d<r[0].body.length;d++){var A=ht(r[0].body[d],"textord");u+=A.text}o=Number(u),l=o*2}var f=!l;a.body.forEach(function(g){for(var v=1;v<g.length;v+=2){var x=ht(g[v],"styling"),b=ht(x.body[0],"ordgroup");b.body.unshift(c)}if(f)l<g.length&&(l=g.length);else{var w=g.length/2;if(o<w)throw new be("Too many math in a row: "+("expected "+o+", but got "+w),g[0])}});for(var p=0;p<l;++p){var m="r",y=0;p%2===1?m="l":p>0&&f&&(y=1),n[p]={type:"align",align:m,pregap:y,postgap:0}}return a.colSeparationType=f?"align":"alignat",a};Lo({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var r=Mw(e[0]),n=r?[e[0]]:ht(e[0],"ordgroup").body,i=n.map(function(a){var o=ME(a),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new be("Unknown column alignment: "+l,a)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Qu(t.parser,s,jE(t.envName))},htmlBuilder:No,mathmlBuilder:jo});Lo({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new be("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var s=Qu(t.parser,n,jE(t.envName)),a=Math.max(0,...s.body.map(o=>o.length));return s.cols=new Array(a).fill({type:"align",align:r}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:No,mathmlBuilder:jo});Lo({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},r=Qu(t.parser,e,"script");return r.colSeparationType="small",r},htmlBuilder:No,mathmlBuilder:jo});Lo({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var r=Mw(e[0]),n=r?[e[0]]:ht(e[0],"ordgroup").body,i=n.map(function(a){var o=ME(a),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new be("Unknown column alignment: "+l,a)});if(i.length>1)throw new be("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=Qu(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new be("{subarray} can contain only one column");return s},htmlBuilder:No,mathmlBuilder:jo});Lo({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=Qu(t.parser,e,jE(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:No,mathmlBuilder:jo});Lo({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:mG,htmlBuilder:No,mathmlBuilder:jo});Lo({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){Ke.contains(["gather","gather*"],t.envName)&&Dw(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:NE(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Qu(t.parser,e,"display")},htmlBuilder:No,mathmlBuilder:jo});Lo({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:mG,htmlBuilder:No,mathmlBuilder:jo});Lo({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){Dw(t);var e={autoTag:NE(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Qu(t.parser,e,"display")},htmlBuilder:No,mathmlBuilder:jo});Lo({type:"array",names:["CD"],props:{numArgs:0},handler(t){return Dw(t),P1e(t.parser)},htmlBuilder:No,mathmlBuilder:jo});j("\\nonumber","\\gdef\\@eqnsw{0}");j("\\notag","\\nonumber");Le({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new be(t.funcName+" valid only within array environment")}});var jN=fG;Le({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];if(i.type!=="ordgroup")throw new be("Invalid environment name",i);for(var s="",a=0;a<i.body.length;++a)s+=ht(i.body[a],"textord").text;if(n==="\\begin"){if(!jN.hasOwnProperty(s))throw new be("No such environment: "+s,i);var o=jN[s],{args:l,optArgs:c}=r.parseArguments("\\begin{"+s+"}",o),u={mode:r.mode,envName:s,parser:r},d=o.handler(u,l,c);r.expect("\\end",!1);var A=r.nextToken,f=ht(r.parseFunction(),"environment");if(f.name!==s)throw new be("Mismatch: \\begin{"+s+"} matched by \\end{"+f.name+"}",A);return d}return{type:"environment",mode:r.mode,name:s,nameGroup:i}}});var gG=(t,e)=>{var r=t.font,n=e.withFont(r);return Ft(t.body,n)},yG=(t,e)=>{var r=t.font,n=e.withFont(r);return Yt(t.body,n)},IN={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Le({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=kb(e[0]),s=n;return s in IN&&(s=IN[s]),{type:"font",mode:r.mode,font:s.slice(1),body:i}},htmlBuilder:gG,mathmlBuilder:yG});Le({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:r}=t,n=e[0],i=Ke.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:Fw(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}}});Le({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,breakOnTokenText:i}=t,{mode:s}=r,a=r.parseExpression(!0,i),o="math"+n.slice(1);return{type:"font",mode:s,font:o,body:{type:"ordgroup",mode:r.mode,body:a}}},htmlBuilder:gG,mathmlBuilder:yG});var vG=(t,e)=>{var r=e;return t==="display"?r=r.id>=Ye.SCRIPT.id?r.text():Ye.DISPLAY:t==="text"&&r.size===Ye.DISPLAY.size?r=Ye.TEXT:t==="script"?r=Ye.SCRIPT:t==="scriptscript"&&(r=Ye.SCRIPTSCRIPT),r},IE=(t,e)=>{var r=vG(t.size,e.style),n=r.fracNum(),i=r.fracDen(),s;s=e.havingStyle(n);var a=Ft(t.numer,s,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;a.height=a.height<o?o:a.height,a.depth=a.depth<l?l:a.depth}s=e.havingStyle(i);var c=Ft(t.denom,s,e),u,d,A;t.hasBarLine?(t.barSize?(d=wr(t.barSize,e),u=te.makeLineSpan("frac-line",e,d)):u=te.makeLineSpan("frac-line",e),d=u.height,A=u.height):(u=null,d=0,A=e.fontMetrics().defaultRuleThickness);var f,p,m;r.size===Ye.DISPLAY.size||t.size==="display"?(f=e.fontMetrics().num1,d>0?p=3*A:p=7*A,m=e.fontMetrics().denom1):(d>0?(f=e.fontMetrics().num2,p=A):(f=e.fontMetrics().num3,p=3*A),m=e.fontMetrics().denom2);var y;if(u){var v=e.fontMetrics().axisHeight;f-a.depth-(v+.5*d)<p&&(f+=p-(f-a.depth-(v+.5*d))),v-.5*d-(c.height-m)<p&&(m+=p-(v-.5*d-(c.height-m)));var x=-(v-.5*d);y=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:m},{type:"elem",elem:u,shift:x},{type:"elem",elem:a,shift:-f}]},e)}else{var g=f-a.depth-(c.height-m);g<p&&(f+=.5*(p-g),m+=.5*(p-g)),y=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:m},{type:"elem",elem:a,shift:-f}]},e)}s=e.havingStyle(r),y.height*=s.sizeMultiplier/e.sizeMultiplier,y.depth*=s.sizeMultiplier/e.sizeMultiplier;var b;r.size===Ye.DISPLAY.size?b=e.fontMetrics().delim1:r.size===Ye.SCRIPTSCRIPT.size?b=e.havingStyle(Ye.SCRIPT).fontMetrics().delim2:b=e.fontMetrics().delim2;var w,C;return t.leftDelim==null?w=Dg(e,["mopen"]):w=wl.customSizedDelim(t.leftDelim,b,!0,e.havingStyle(r),t.mode,["mopen"]),t.continued?C=te.makeSpan([]):t.rightDelim==null?C=Dg(e,["mclose"]):C=wl.customSizedDelim(t.rightDelim,b,!0,e.havingStyle(r),t.mode,["mclose"]),te.makeSpan(["mord"].concat(s.sizingClasses(e)),[w,te.makeSpan(["mfrac"],[y]),C],e)},OE=(t,e)=>{var r=new xe.MathNode("mfrac",[Yt(t.numer,e),Yt(t.denom,e)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var n=wr(t.barSize,e);r.setAttribute("linethickness",ke(n))}var i=vG(t.size,e.style);if(i.size!==e.style.size){r=new xe.MathNode("mstyle",[r]);var s=i.size===Ye.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",s),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var a=[];if(t.leftDelim!=null){var o=new xe.MathNode("mo",[new xe.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),a.push(o)}if(a.push(r),t.rightDelim!=null){var l=new xe.MathNode("mo",[new xe.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return kE(a)}return r};Le({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],s=e[1],a,o=null,l=null,c="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,o="(",l=")";break;case"\\\\bracefrac":a=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":a=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:s,hasBarLine:a,leftDelim:o,rightDelim:l,size:c,barSize:null}},htmlBuilder:IE,mathmlBuilder:OE});Le({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],s=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Le({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:r,token:n}=t,i;switch(r){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:n}}});var ON=["display","text","script","scriptscript"],PN=function(e){var r=null;return e.length>0&&(r=e,r=r==="."?null:r),r};Le({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:r}=t,n=e[4],i=e[5],s=kb(e[0]),a=s.type==="atom"&&s.family==="open"?PN(s.text):null,o=kb(e[1]),l=o.type==="atom"&&o.family==="close"?PN(o.text):null,c=ht(e[2],"size"),u,d=null;c.isBlank?u=!0:(d=c.value,u=d.number>0);var A="auto",f=e[3];if(f.type==="ordgroup"){if(f.body.length>0){var p=ht(f.body[0],"textord");A=ON[Number(p.text)]}}else f=ht(f,"textord"),A=ON[Number(f.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:i,continued:!1,hasBarLine:u,barSize:d,leftDelim:a,rightDelim:l,size:A}},htmlBuilder:IE,mathmlBuilder:OE});Le({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:r,funcName:n,token:i}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:ht(e[0],"size").value,token:i}}});Le({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],s=Ege(ht(e[1],"infix").size),a=e[2],o=s.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:a,continued:!1,hasBarLine:o,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:IE,mathmlBuilder:OE});var xG=(t,e)=>{var r=e.style,n,i;t.type==="supsub"?(n=t.sup?Ft(t.sup,e.havingStyle(r.sup()),e):Ft(t.sub,e.havingStyle(r.sub()),e),i=ht(t.base,"horizBrace")):i=ht(t,"horizBrace");var s=Ft(i.base,e.havingBaseStyle(Ye.DISPLAY)),a=Ol.svgSpan(i,e),o;if(i.isOver?(o=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=te.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),n){var l=te.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e);i.isOver?o=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:n}]},e):o=te.makeVList({positionType:"bottom",positionData:l.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return te.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e)},Z1e=(t,e)=>{var r=Ol.mathMLnode(t.label);return new xe.MathNode(t.isOver?"mover":"munder",[Yt(t.base,e),r])};Le({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:xG,mathmlBuilder:Z1e});Le({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[1],i=ht(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:Hr(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var r=dn(t.body,e,!1);return te.makeAnchor(t.href,[],r,e)},mathmlBuilder:(t,e)=>{var r=wu(t.body,e);return r instanceof hs||(r=new hs("mrow",[r])),r.setAttribute("href",t.href),r}});Le({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=ht(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<n.length;s++){var a=n[s];a==="~"&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var o={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:Hr(o)}}});Le({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:Hr(e[0])}},htmlBuilder(t,e){var r=dn(t.body,e,!1);return te.makeFragment(r)},mathmlBuilder(t,e){return new xe.MathNode("mrow",Ji(t.body,e))}});Le({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,token:i}=t,s=ht(e[0],"raw").string,a=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(n){case"\\htmlClass":l.class=s,o={command:"\\htmlClass",class:s};break;case"\\htmlId":l.id=s,o={command:"\\htmlId",id:s};break;case"\\htmlStyle":l.style=s,o={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var c=s.split(","),u=0;u<c.length;u++){var d=c[u].split("=");if(d.length!==2)throw new be("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(o)?{type:"html",mode:r.mode,attributes:l,body:Hr(a)}:r.formatUnsupportedCmd(n)},htmlBuilder:(t,e)=>{var r=dn(t.body,e,!1),n=["enclosing"];t.attributes.class&&n.push(...t.attributes.class.trim().split(/\s+/));var i=te.makeSpan(n,r,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&i.setAttribute(s,t.attributes[s]);return i},mathmlBuilder:(t,e)=>wu(t.body,e)});Le({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:Hr(e[0]),mathml:Hr(e[1])}},htmlBuilder:(t,e)=>{var r=dn(t.html,e,!1);return te.makeFragment(r)},mathmlBuilder:(t,e)=>wu(t.mathml,e)});var n8=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!r)throw new be("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!UW(n))throw new be("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};Le({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,r)=>{var{parser:n}=t,i={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},o="";if(r[0])for(var l=ht(r[0],"raw").string,c=l.split(","),u=0;u<c.length;u++){var d=c[u].split("=");if(d.length===2){var A=d[1].trim();switch(d[0].trim()){case"alt":o=A;break;case"width":i=n8(A);break;case"height":s=n8(A);break;case"totalheight":a=n8(A);break;default:throw new be("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var f=ht(e[0],"url").url;return o===""&&(o=f,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:f})?{type:"includegraphics",mode:n.mode,alt:o,width:i,height:s,totalheight:a,src:f}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var r=wr(t.height,e),n=0;t.totalheight.number>0&&(n=wr(t.totalheight,e)-r);var i=0;t.width.number>0&&(i=wr(t.width,e));var s={height:ke(r+n)};i>0&&(s.width=ke(i)),n>0&&(s.verticalAlign=ke(-n));var a=new Zge(t.src,t.alt,s);return a.height=r,a.depth=n,a},mathmlBuilder:(t,e)=>{var r=new xe.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var n=wr(t.height,e),i=0;if(t.totalheight.number>0&&(i=wr(t.totalheight,e)-n,r.setAttribute("valign",ke(-i))),r.setAttribute("height",ke(n+i)),t.width.number>0){var s=wr(t.width,e);r.setAttribute("width",ke(s))}return r.setAttribute("src",t.src),r}});Le({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=ht(e[0],"size");if(r.settings.strict){var s=n[1]==="m",a=i.value.unit==="mu";s?(a||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+i.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):a&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder(t,e){return te.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var r=wr(t.dimension,e);return new xe.SpaceNode(r)}});Le({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},htmlBuilder:(t,e)=>{var r;t.alignment==="clap"?(r=te.makeSpan([],[Ft(t.body,e)]),r=te.makeSpan(["inner"],[r],e)):r=te.makeSpan(["inner"],[Ft(t.body,e)]);var n=te.makeSpan(["fix"],[]),i=te.makeSpan([t.alignment],[r,n],e),s=te.makeSpan(["strut"]);return s.style.height=ke(i.height+i.depth),i.depth&&(s.style.verticalAlign=ke(-i.depth)),i.children.unshift(s),i=te.makeSpan(["thinbox"],[i],e),te.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var r=new xe.MathNode("mpadded",[Yt(t.body,e)]);if(t.alignment!=="rlap"){var n=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}});Le({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:r,parser:n}=t,i=n.mode;n.switchMode("math");var s=r==="\\("?"\\)":"$",a=n.parseExpression(!1,s);return n.expect(s),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:a}}});Le({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new be("Mismatched "+t.funcName)}});var UN=(t,e)=>{switch(e.style.size){case Ye.DISPLAY.size:return t.display;case Ye.TEXT.size:return t.text;case Ye.SCRIPT.size:return t.script;case Ye.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Le({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:Hr(e[0]),text:Hr(e[1]),script:Hr(e[2]),scriptscript:Hr(e[3])}},htmlBuilder:(t,e)=>{var r=UN(t,e),n=dn(r,e,!1);return te.makeFragment(n)},mathmlBuilder:(t,e)=>{var r=UN(t,e);return wu(r,e)}});var bG=(t,e,r,n,i,s,a)=>{t=te.makeSpan([],[t]);var o=r&&Ke.isCharacterBox(r),l,c;if(e){var u=Ft(e,n.havingStyle(i.sup()),n);c={elem:u,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-u.depth)}}if(r){var d=Ft(r,n.havingStyle(i.sub()),n);l={elem:d,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-d.height)}}var A;if(c&&l){var f=n.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+a;A=te.makeVList({positionType:"bottom",positionData:f,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:ke(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:ke(s)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(l){var p=t.height-a;A=te.makeVList({positionType:"top",positionData:p,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:ke(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},n)}else if(c){var m=t.depth+a;A=te.makeVList({positionType:"bottom",positionData:m,children:[{type:"elem",elem:t},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:ke(s)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return t;var y=[A];if(l&&s!==0&&!o){var g=te.makeSpan(["mspace"],[],n);g.style.marginRight=ke(s),y.unshift(g)}return te.makeSpan(["mop","op-limits"],y,n)},wG=["\\smallint"],yf=(t,e)=>{var r,n,i=!1,s;t.type==="supsub"?(r=t.sup,n=t.sub,s=ht(t.base,"op"),i=!0):s=ht(t,"op");var a=e.style,o=!1;a.size===Ye.DISPLAY.size&&s.symbol&&!Ke.contains(wG,s.name)&&(o=!0);var l;if(s.symbol){var c=o?"Size2-Regular":"Size1-Regular",u="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(u=s.name.slice(1),s.name=u==="oiint"?"\\iint":"\\iiint"),l=te.makeSymbol(s.name,c,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),u.length>0){var d=l.italic,A=te.staticSvg(u+"Size"+(o?"2":"1"),e);l=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:A,shift:o?.08:0}]},e),s.name="\\"+u,l.classes.unshift("mop"),l.italic=d}}else if(s.body){var f=dn(s.body,e,!0);f.length===1&&f[0]instanceof ta?(l=f[0],l.classes[0]="mop"):l=te.makeSpan(["mop"],f,e)}else{for(var p=[],m=1;m<s.name.length;m++)p.push(te.mathsym(s.name[m],s.mode,e));l=te.makeSpan(["mop"],p,e)}var y=0,g=0;return(l instanceof ta||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(y=(l.height-l.depth)/2-e.fontMetrics().axisHeight,g=l.italic),i?bG(l,r,n,e,a,g,y):(y&&(l.style.position="relative",l.style.top=ke(y)),l)},T1=(t,e)=>{var r;if(t.symbol)r=new hs("mo",[ra(t.name,t.mode)]),Ke.contains(wG,t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new hs("mo",Ji(t.body,e));else{r=new hs("mi",[new po(t.name.slice(1))]);var n=new hs("mo",[ra("","text")]);t.parentIsSupSub?r=new hs("mrow",[r,n]):r=XW([r,n])}return r},eye={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Le({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=n;return i.length===1&&(i=eye[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:yf,mathmlBuilder:T1});Le({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Hr(n)}},htmlBuilder:yf,mathmlBuilder:T1});var tye={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Le({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:yf,mathmlBuilder:T1});Le({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:yf,mathmlBuilder:T1});Le({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t,n=r;return n.length===1&&(n=tye[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:yf,mathmlBuilder:T1});var CG=(t,e)=>{var r,n,i=!1,s;t.type==="supsub"?(r=t.sup,n=t.sub,s=ht(t.base,"operatorname"),i=!0):s=ht(t,"operatorname");var a;if(s.body.length>0){for(var o=s.body.map(d=>{var A=d.text;return typeof A=="string"?{type:"textord",mode:d.mode,text:A}:d}),l=dn(o,e.withFont("mathrm"),!0),c=0;c<l.length;c++){var u=l[c];u instanceof ta&&(u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=te.makeSpan(["mop"],l,e)}else a=te.makeSpan(["mop"],[],e);return i?bG(a,r,n,e,e.style,0,0):a},rye=(t,e)=>{for(var r=Ji(t.body,e.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var s=r[i];if(!(s instanceof xe.SpaceNode))if(s instanceof xe.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=s.children[0];s.children.length===1&&a instanceof xe.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var o=r.map(u=>u.toText()).join("");r=[new xe.TextNode(o)]}var l=new xe.MathNode("mi",r);l.setAttribute("mathvariant","normal");var c=new xe.MathNode("mo",[ra("","text")]);return t.parentIsSupSub?new xe.MathNode("mrow",[l,c]):xe.newDocumentFragment([l,c])};Le({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"operatorname",mode:r.mode,body:Hr(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:CG,mathmlBuilder:rye});j("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Fh({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?te.makeFragment(dn(t.body,e,!1)):te.makeSpan(["mord"],dn(t.body,e,!0),e)},mathmlBuilder(t,e){return wu(t.body,e,!0)}});Le({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:r}=t,n=e[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(t,e){var r=Ft(t.body,e.havingCrampedStyle()),n=te.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},e);return te.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var r=new xe.MathNode("mo",[new xe.TextNode("")]);r.setAttribute("stretchy","true");var n=new xe.MathNode("mover",[Yt(t.body,e),r]);return n.setAttribute("accent","true"),n}});Le({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"phantom",mode:r.mode,body:Hr(n)}},htmlBuilder:(t,e)=>{var r=dn(t.body,e.withPhantom(),!1);return te.makeFragment(r)},mathmlBuilder:(t,e)=>{var r=Ji(t.body,e);return new xe.MathNode("mphantom",r)}});Le({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=te.makeSpan([],[Ft(t.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),te.makeSpan(["mord"],[r],e)},mathmlBuilder:(t,e)=>{var r=Ji(Hr(t.body),e),n=new xe.MathNode("mphantom",r),i=new xe.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});Le({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=te.makeSpan(["inner"],[Ft(t.body,e.withPhantom())]),n=te.makeSpan(["fix"],[]);return te.makeSpan(["mord","rlap"],[r,n],e)},mathmlBuilder:(t,e)=>{var r=Ji(Hr(t.body),e),n=new xe.MathNode("mphantom",r),i=new xe.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i}});Le({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t,n=ht(e[0],"size").value,i=e[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(t,e){var r=Ft(t.body,e),n=wr(t.dy,e);return te.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){var r=new xe.MathNode("mpadded",[Yt(t.body,e)]),n=t.dy.number+t.dy.unit;return r.setAttribute("voffset",n),r}});Le({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});Le({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,r){var{parser:n}=t,i=r[0],s=ht(e[0],"size"),a=ht(e[1],"size");return{type:"rule",mode:n.mode,shift:i&&ht(i,"size").value,width:s.value,height:a.value}},htmlBuilder(t,e){var r=te.makeSpan(["mord","rule"],[],e),n=wr(t.width,e),i=wr(t.height,e),s=t.shift?wr(t.shift,e):0;return r.style.borderRightWidth=ke(n),r.style.borderTopWidth=ke(i),r.style.bottom=ke(s),r.width=n,r.height=i+s,r.depth=-s,r.maxFontSize=i*1.125*e.sizeMultiplier,r},mathmlBuilder(t,e){var r=wr(t.width,e),n=wr(t.height,e),i=t.shift?wr(t.shift,e):0,s=e.color&&e.getColor()||"black",a=new xe.MathNode("mspace");a.setAttribute("mathbackground",s),a.setAttribute("width",ke(r)),a.setAttribute("height",ke(n));var o=new xe.MathNode("mpadded",[a]);return i>=0?o.setAttribute("height",ke(i)):(o.setAttribute("height",ke(i)),o.setAttribute("depth",ke(-i))),o.setAttribute("voffset",ke(i)),o}});function SG(t,e,r){for(var n=dn(t,e,!1),i=e.sizeMultiplier/r.sizeMultiplier,s=0;s<n.length;s++){var a=n[s].classes.indexOf("sizing");a<0?Array.prototype.push.apply(n[s].classes,e.sizingClasses(r)):n[s].classes[a+1]==="reset-size"+e.size&&(n[s].classes[a+1]="reset-size"+r.size),n[s].height*=i,n[s].depth*=i}return te.makeFragment(n)}var QN=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],nye=(t,e)=>{var r=e.havingSize(t.size);return SG(t.body,r,e)};Le({type:"sizing",names:QN,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:r,funcName:n,parser:i}=t,s=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:QN.indexOf(n)+1,body:s}},htmlBuilder:nye,mathmlBuilder:(t,e)=>{var r=e.havingSize(t.size),n=Ji(t.body,r),i=new xe.MathNode("mstyle",n);return i.setAttribute("mathsize",ke(r.sizeMultiplier)),i}});Le({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,r)=>{var{parser:n}=t,i=!1,s=!1,a=r[0]&&ht(r[0],"ordgroup");if(a)for(var o="",l=0;l<a.body.length;++l){var c=a.body[l];if(o=c.text,o==="t")i=!0;else if(o==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var u=e[0];return{type:"smash",mode:n.mode,body:u,smashHeight:i,smashDepth:s}},htmlBuilder:(t,e)=>{var r=te.makeSpan([],[Ft(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var s=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return te.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var r=new xe.MathNode("mpadded",[Yt(t.body,e)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}});Le({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n}=t,i=r[0],s=e[0];return{type:"sqrt",mode:n.mode,body:s,index:i}},htmlBuilder(t,e){var r=Ft(t.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=te.wrapFragment(r,e);var n=e.fontMetrics(),i=n.defaultRuleThickness,s=i;e.style.id<Ye.TEXT.id&&(s=e.fontMetrics().xHeight);var a=i+s/4,o=r.height+r.depth+a+i,{span:l,ruleWidth:c,advanceWidth:u}=wl.sqrtImage(o,e),d=l.height-c;d>r.height+r.depth+a&&(a=(a+d-r.height-r.depth)/2);var A=l.height-r.height-a-c;r.style.paddingLeft=ke(u);var f=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+A)},{type:"elem",elem:l},{type:"kern",size:c}]},e);if(t.index){var p=e.havingStyle(Ye.SCRIPTSCRIPT),m=Ft(t.index,p,e),y=.6*(f.height-f.depth),g=te.makeVList({positionType:"shift",positionData:-y,children:[{type:"elem",elem:m}]},e),v=te.makeSpan(["root"],[g]);return te.makeSpan(["mord","sqrt"],[v,f],e)}else return te.makeSpan(["mord","sqrt"],[f],e)},mathmlBuilder(t,e){var{body:r,index:n}=t;return n?new xe.MathNode("mroot",[Yt(r,e),Yt(n,e)]):new xe.MathNode("msqrt",[Yt(r,e)])}});var RN={display:Ye.DISPLAY,text:Ye.TEXT,script:Ye.SCRIPT,scriptscript:Ye.SCRIPTSCRIPT};Le({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:r,funcName:n,parser:i}=t,s=i.parseExpression(!0,r),a=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:a,body:s}},htmlBuilder(t,e){var r=RN[t.style],n=e.havingStyle(r).withFont("");return SG(t.body,n,e)},mathmlBuilder(t,e){var r=RN[t.style],n=e.havingStyle(r),i=Ji(t.body,n),s=new xe.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=a[t.style];return s.setAttribute("scriptlevel",o[0]),s.setAttribute("displaystyle",o[1]),s}});var iye=function(e,r){var n=e.base;if(n)if(n.type==="op"){var i=n.limits&&(r.style.size===Ye.DISPLAY.size||n.alwaysHandleSupSub);return i?yf:null}else if(n.type==="operatorname"){var s=n.alwaysHandleSupSub&&(r.style.size===Ye.DISPLAY.size||n.limits);return s?CG:null}else{if(n.type==="accent")return Ke.isCharacterBox(n.base)?FE:null;if(n.type==="horizBrace"){var a=!e.sub;return a===n.isOver?xG:null}else return null}else return null};Fh({type:"supsub",htmlBuilder(t,e){var r=iye(t,e);if(r)return r(t,e);var{base:n,sup:i,sub:s}=t,a=Ft(n,e),o,l,c=e.fontMetrics(),u=0,d=0,A=n&&Ke.isCharacterBox(n);if(i){var f=e.havingStyle(e.style.sup());o=Ft(i,f,e),A||(u=a.height-f.fontMetrics().supDrop*f.sizeMultiplier/e.sizeMultiplier)}if(s){var p=e.havingStyle(e.style.sub());l=Ft(s,p,e),A||(d=a.depth+p.fontMetrics().subDrop*p.sizeMultiplier/e.sizeMultiplier)}var m;e.style===Ye.DISPLAY?m=c.sup1:e.style.cramped?m=c.sup3:m=c.sup2;var y=e.sizeMultiplier,g=ke(.5/c.ptPerEm/y),v=null;if(l){var x=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(a instanceof ta||x)&&(v=ke(-a.italic))}var b;if(o&&l){u=Math.max(u,m,o.depth+.25*c.xHeight),d=Math.max(d,c.sub2);var w=c.defaultRuleThickness,C=4*w;if(u-o.depth-(l.height-d)<C){d=C-(u-o.depth)+l.height;var S=.8*c.xHeight-(u-o.depth);S>0&&(u+=S,d-=S)}var B=[{type:"elem",elem:l,shift:d,marginRight:g,marginLeft:v},{type:"elem",elem:o,shift:-u,marginRight:g}];b=te.makeVList({positionType:"individualShift",children:B},e)}else if(l){d=Math.max(d,c.sub1,l.height-.8*c.xHeight);var E=[{type:"elem",elem:l,marginLeft:v,marginRight:g}];b=te.makeVList({positionType:"shift",positionData:d,children:E},e)}else if(o)u=Math.max(u,m,o.depth+.25*c.xHeight),b=te.makeVList({positionType:"shift",positionData:-u,children:[{type:"elem",elem:o,marginRight:g}]},e);else throw new Error("supsub must have either sup or sub.");var M=oB(a,"right")||"mord";return te.makeSpan([M],[a,te.makeSpan(["msupsub"],[b])],e)},mathmlBuilder(t,e){var r=!1,n,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(r=!0,n=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[Yt(t.base,e)];t.sub&&s.push(Yt(t.sub,e)),t.sup&&s.push(Yt(t.sup,e));var a;if(r)a=n?"mover":"munder";else if(t.sub)if(t.sup){var c=t.base;c&&c.type==="op"&&c.limits&&e.style===Ye.DISPLAY||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(e.style===Ye.DISPLAY||c.limits)?a="munderover":a="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===Ye.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===Ye.DISPLAY)?a="munder":a="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===Ye.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===Ye.DISPLAY)?a="mover":a="msup"}return new xe.MathNode(a,s)}});Fh({type:"atom",htmlBuilder(t,e){return te.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var r=new xe.MathNode("mo",[ra(t.text,t.mode)]);if(t.family==="bin"){var n=EE(t,e);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});var BG={mi:"italic",mn:"normal",mtext:"normal"};Fh({type:"mathord",htmlBuilder(t,e){return te.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var r=new xe.MathNode("mi",[ra(t.text,t.mode,e)]),n=EE(t,e)||"italic";return n!==BG[r.type]&&r.setAttribute("mathvariant",n),r}});Fh({type:"textord",htmlBuilder(t,e){return te.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var r=ra(t.text,t.mode,e),n=EE(t,e)||"normal",i;return t.mode==="text"?i=new xe.MathNode("mtext",[r]):/[0-9]/.test(t.text)?i=new xe.MathNode("mn",[r]):t.text==="\\prime"?i=new xe.MathNode("mo",[r]):i=new xe.MathNode("mi",[r]),n!==BG[i.type]&&i.setAttribute("mathvariant",n),i}});var i8={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},s8={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Fh({type:"spacing",htmlBuilder(t,e){if(s8.hasOwnProperty(t.text)){var r=s8[t.text].className||"";if(t.mode==="text"){var n=te.makeOrd(t,e,"textord");return n.classes.push(r),n}else return te.makeSpan(["mspace",r],[te.mathsym(t.text,t.mode,e)],e)}else{if(i8.hasOwnProperty(t.text))return te.makeSpan(["mspace",i8[t.text]],[],e);throw new be('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var r;if(s8.hasOwnProperty(t.text))r=new xe.MathNode("mtext",[new xe.TextNode("")]);else{if(i8.hasOwnProperty(t.text))return new xe.MathNode("mspace");throw new be('Unknown type of space "'+t.text+'"')}return r}});var HN=()=>{var t=new xe.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Fh({type:"tag",mathmlBuilder(t,e){var r=new xe.MathNode("mtable",[new xe.MathNode("mtr",[HN(),new xe.MathNode("mtd",[wu(t.body,e)]),HN(),new xe.MathNode("mtd",[wu(t.tag,e)])])]);return r.setAttribute("width","100%"),r}});var zN={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},$N={"\\textbf":"textbf","\\textmd":"textmd"},sye={"\\textit":"textit","\\textup":"textup"},VN=(t,e)=>{var r=t.font;if(r){if(zN[r])return e.withTextFontFamily(zN[r]);if($N[r])return e.withTextFontWeight($N[r]);if(r==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(sye[r])};Le({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"text",mode:r.mode,body:Hr(i),font:n}},htmlBuilder(t,e){var r=VN(t,e),n=dn(t.body,r,!0);return te.makeSpan(["mord","text"],n,r)},mathmlBuilder(t,e){var r=VN(t,e);return wu(t.body,r)}});Le({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Ft(t.body,e),n=te.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=te.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},e);return te.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var r=new xe.MathNode("mo",[new xe.TextNode("")]);r.setAttribute("stretchy","true");var n=new xe.MathNode("munder",[Yt(t.body,e),r]);return n.setAttribute("accentunder","true"),n}});Le({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Ft(t.body,e),n=e.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return te.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){return new xe.MathNode("mpadded",[Yt(t.body,e)],["vcenter"])}});Le({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,r){throw new be("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var r=KN(t),n=[],i=e.havingStyle(e.style.text()),s=0;s<r.length;s++){var a=r[s];a==="~"&&(a="\\textasciitilde"),n.push(te.makeSymbol(a,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return te.makeSpan(["mord","text"].concat(i.sizingClasses(e)),te.tryCombineChars(n),i)},mathmlBuilder(t,e){var r=new xe.TextNode(KN(t)),n=new xe.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var KN=t=>t.body.replace(/ /g,t.star?"":""),Vc=WW,_G=`[ \r
	]`,aye="\\\\[a-zA-Z@]+",oye="\\\\[^\uD800-\uDFFF]",lye="("+aye+")"+_G+"*",cye=`\\\\(
|[ \r	]+
?)[ \r	]*`,dB="[-]",uye=new RegExp(dB+"+$"),dye="("+_G+"+)|"+(cye+"|")+"([!-\\[\\]---]"+(dB+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(dB+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+lye)+("|"+oye+")");class qN{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(dye,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new Xs("EOF",new cs(this,r,r));var n=this.tokenRegex.exec(e);if(n===null||n.index!==r)throw new be("Unexpected character: '"+e[r]+"'",new Xs(e[r],new cs(this,r,r+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new Xs(i,new cs(this,r,this.tokenRegex.lastIndex))}}class hye{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new be("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,n){if(n===void 0&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}}var Aye=pG;j("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});j("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});j("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});j("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});j("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});j("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");j("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var WN={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};j("\\char",function(t){var e=t.popToken(),r,n="";if(e.text==="'")r=8,e=t.popToken();else if(e.text==='"')r=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")n=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new be("\\char` missing argument");n=e.text.charCodeAt(0)}else r=10;if(r){if(n=WN[e.text],n==null||n>=r)throw new be("Invalid base-"+r+" digit "+e.text);for(var i;(i=WN[t.future().text])!=null&&i<r;)n*=r,n+=i,t.popToken()}return"\\@char{"+n+"}"});var PE=(t,e,r,n)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new be("\\newcommand's first argument must be a macro name");var s=i[0].text,a=t.isDefined(s);if(a&&!e)throw new be("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!a&&!r)throw new be("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var o=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var l="",c=t.expandNextToken();c.text!=="]"&&c.text!=="EOF";)l+=c.text,c=t.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new be("Invalid number of arguments: "+l);o=parseInt(l),i=t.consumeArg().tokens}return a&&n||t.macros.set(s,{tokens:i,numArgs:o}),""};j("\\newcommand",t=>PE(t,!1,!0,!1));j("\\renewcommand",t=>PE(t,!0,!1,!1));j("\\providecommand",t=>PE(t,!0,!0,!0));j("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""});j("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""});j("\\show",t=>{var e=t.popToken(),r=e.text;return console.log(e,t.macros.get(r),Vc[r],ir.math[r],ir.text[r]),""});j("\\bgroup","{");j("\\egroup","}");j("~","\\nobreakspace");j("\\lq","`");j("\\rq","'");j("\\aa","\\r a");j("\\AA","\\r A");j("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");j("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");j("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");j("","\\mathscr{B}");j("","\\mathscr{E}");j("","\\mathscr{F}");j("","\\mathscr{H}");j("","\\mathscr{I}");j("","\\mathscr{L}");j("","\\mathscr{M}");j("","\\mathscr{R}");j("","\\mathfrak{C}");j("","\\mathfrak{H}");j("","\\mathfrak{Z}");j("\\Bbbk","\\Bbb{k}");j("","\\cdotp");j("\\llap","\\mathllap{\\textrm{#1}}");j("\\rlap","\\mathrlap{\\textrm{#1}}");j("\\clap","\\mathclap{\\textrm{#1}}");j("\\mathstrut","\\vphantom{(}");j("\\underbar","\\underline{\\text{#1}}");j("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');j("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");j("\\ne","\\neq");j("","\\neq");j("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");j("","\\notin");j("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");j("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");j("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");j("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");j("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");j("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");j("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");j("","\\perp");j("","\\mathclose{!\\mkern-0.8mu!}");j("","\\notni");j("","\\ulcorner");j("","\\urcorner");j("","\\llcorner");j("","\\lrcorner");j("","\\copyright");j("","\\textregistered");j("","\\textregistered");j("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');j("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');j("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');j("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');j("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");j("","\\vdots");j("\\varGamma","\\mathit{\\Gamma}");j("\\varDelta","\\mathit{\\Delta}");j("\\varTheta","\\mathit{\\Theta}");j("\\varLambda","\\mathit{\\Lambda}");j("\\varXi","\\mathit{\\Xi}");j("\\varPi","\\mathit{\\Pi}");j("\\varSigma","\\mathit{\\Sigma}");j("\\varUpsilon","\\mathit{\\Upsilon}");j("\\varPhi","\\mathit{\\Phi}");j("\\varPsi","\\mathit{\\Psi}");j("\\varOmega","\\mathit{\\Omega}");j("\\substack","\\begin{subarray}{c}#1\\end{subarray}");j("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");j("\\boxed","\\fbox{$\\displaystyle{#1}$}");j("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");j("\\implies","\\DOTSB\\;\\Longrightarrow\\;");j("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");j("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");j("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var GN={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};j("\\dots",function(t){var e="\\dotso",r=t.expandAfterFuture().text;return r in GN?e=GN[r]:(r.slice(0,4)==="\\not"||r in ir.math&&Ke.contains(["bin","rel"],ir.math[r].group))&&(e="\\dotsb"),e});var UE={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};j("\\dotso",function(t){var e=t.future().text;return e in UE?"\\ldots\\,":"\\ldots"});j("\\dotsc",function(t){var e=t.future().text;return e in UE&&e!==","?"\\ldots\\,":"\\ldots"});j("\\cdots",function(t){var e=t.future().text;return e in UE?"\\@cdots\\,":"\\@cdots"});j("\\dotsb","\\cdots");j("\\dotsm","\\cdots");j("\\dotsi","\\!\\cdots");j("\\dotsx","\\ldots\\,");j("\\DOTSI","\\relax");j("\\DOTSB","\\relax");j("\\DOTSX","\\relax");j("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");j("\\,","\\tmspace+{3mu}{.1667em}");j("\\thinspace","\\,");j("\\>","\\mskip{4mu}");j("\\:","\\tmspace+{4mu}{.2222em}");j("\\medspace","\\:");j("\\;","\\tmspace+{5mu}{.2777em}");j("\\thickspace","\\;");j("\\!","\\tmspace-{3mu}{.1667em}");j("\\negthinspace","\\!");j("\\negmedspace","\\tmspace-{4mu}{.2222em}");j("\\negthickspace","\\tmspace-{5mu}{.277em}");j("\\enspace","\\kern.5em ");j("\\enskip","\\hskip.5em\\relax");j("\\quad","\\hskip1em\\relax");j("\\qquad","\\hskip2em\\relax");j("\\tag","\\@ifstar\\tag@literal\\tag@paren");j("\\tag@paren","\\tag@literal{({#1})}");j("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new be("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});j("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");j("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");j("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");j("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");j("\\newline","\\\\\\relax");j("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var kG=ke(fo["Main-Regular"][84][1]-.7*fo["Main-Regular"][65][1]);j("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+kG+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");j("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+kG+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");j("\\hspace","\\@ifstar\\@hspacer\\@hspace");j("\\@hspace","\\hskip #1\\relax");j("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");j("\\ordinarycolon",":");j("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");j("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');j("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');j("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');j("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');j("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');j("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');j("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');j("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');j("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');j("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');j("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');j("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');j("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');j("","\\dblcolon");j("","\\eqcolon");j("","\\coloneqq");j("","\\eqqcolon");j("","\\Coloneqq");j("\\ratio","\\vcentcolon");j("\\coloncolon","\\dblcolon");j("\\colonequals","\\coloneqq");j("\\coloncolonequals","\\Coloneqq");j("\\equalscolon","\\eqqcolon");j("\\equalscoloncolon","\\Eqqcolon");j("\\colonminus","\\coloneq");j("\\coloncolonminus","\\Coloneq");j("\\minuscolon","\\eqcolon");j("\\minuscoloncolon","\\Eqcolon");j("\\coloncolonapprox","\\Colonapprox");j("\\coloncolonsim","\\Colonsim");j("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");j("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");j("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");j("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");j("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");j("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");j("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");j("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");j("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");j("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");j("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");j("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");j("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");j("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");j("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");j("\\ngeqq","\\html@mathml{\\@ngeqq}{}");j("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");j("\\nleqq","\\html@mathml{\\@nleqq}{}");j("\\nleqslant","\\html@mathml{\\@nleqslant}{}");j("\\nshortmid","\\html@mathml{\\@nshortmid}{}");j("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");j("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");j("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");j("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");j("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");j("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");j("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");j("\\imath","\\html@mathml{\\@imath}{}");j("\\jmath","\\html@mathml{\\@jmath}{}");j("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");j("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");j("","\\llbracket");j("","\\rrbracket");j("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");j("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");j("","\\lBrace");j("","\\rBrace");j("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");j("","\\minuso");j("\\darr","\\downarrow");j("\\dArr","\\Downarrow");j("\\Darr","\\Downarrow");j("\\lang","\\langle");j("\\rang","\\rangle");j("\\uarr","\\uparrow");j("\\uArr","\\Uparrow");j("\\Uarr","\\Uparrow");j("\\N","\\mathbb{N}");j("\\R","\\mathbb{R}");j("\\Z","\\mathbb{Z}");j("\\alef","\\aleph");j("\\alefsym","\\aleph");j("\\Alpha","\\mathrm{A}");j("\\Beta","\\mathrm{B}");j("\\bull","\\bullet");j("\\Chi","\\mathrm{X}");j("\\clubs","\\clubsuit");j("\\cnums","\\mathbb{C}");j("\\Complex","\\mathbb{C}");j("\\Dagger","\\ddagger");j("\\diamonds","\\diamondsuit");j("\\empty","\\emptyset");j("\\Epsilon","\\mathrm{E}");j("\\Eta","\\mathrm{H}");j("\\exist","\\exists");j("\\harr","\\leftrightarrow");j("\\hArr","\\Leftrightarrow");j("\\Harr","\\Leftrightarrow");j("\\hearts","\\heartsuit");j("\\image","\\Im");j("\\infin","\\infty");j("\\Iota","\\mathrm{I}");j("\\isin","\\in");j("\\Kappa","\\mathrm{K}");j("\\larr","\\leftarrow");j("\\lArr","\\Leftarrow");j("\\Larr","\\Leftarrow");j("\\lrarr","\\leftrightarrow");j("\\lrArr","\\Leftrightarrow");j("\\Lrarr","\\Leftrightarrow");j("\\Mu","\\mathrm{M}");j("\\natnums","\\mathbb{N}");j("\\Nu","\\mathrm{N}");j("\\Omicron","\\mathrm{O}");j("\\plusmn","\\pm");j("\\rarr","\\rightarrow");j("\\rArr","\\Rightarrow");j("\\Rarr","\\Rightarrow");j("\\real","\\Re");j("\\reals","\\mathbb{R}");j("\\Reals","\\mathbb{R}");j("\\Rho","\\mathrm{P}");j("\\sdot","\\cdot");j("\\sect","\\S");j("\\spades","\\spadesuit");j("\\sub","\\subset");j("\\sube","\\subseteq");j("\\supe","\\supseteq");j("\\Tau","\\mathrm{T}");j("\\thetasym","\\vartheta");j("\\weierp","\\wp");j("\\Zeta","\\mathrm{Z}");j("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");j("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");j("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");j("\\bra","\\mathinner{\\langle{#1}|}");j("\\ket","\\mathinner{|{#1}\\rangle}");j("\\braket","\\mathinner{\\langle{#1}\\rangle}");j("\\Bra","\\left\\langle#1\\right|");j("\\Ket","\\left|#1\\right\\rangle");var EG=t=>e=>{var r=e.consumeArg().tokens,n=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,a=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var l=d=>A=>{t&&(A.macros.set("|",a),i.length&&A.macros.set("\\|",o));var f=d;if(!d&&i.length){var p=A.future();p.text==="|"&&(A.popToken(),f=!0)}return{tokens:f?i:n,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var c=e.consumeArg().tokens,u=e.expandTokens([...s,...c,...r]);return e.macros.endGroup(),{tokens:u.reverse(),numArgs:0}};j("\\bra@ket",EG(!1));j("\\bra@set",EG(!0));j("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");j("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");j("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");j("\\angln","{\\angl n}");j("\\blue","\\textcolor{##6495ed}{#1}");j("\\orange","\\textcolor{##ffa500}{#1}");j("\\pink","\\textcolor{##ff00af}{#1}");j("\\red","\\textcolor{##df0030}{#1}");j("\\green","\\textcolor{##28ae7b}{#1}");j("\\gray","\\textcolor{gray}{#1}");j("\\purple","\\textcolor{##9d38bd}{#1}");j("\\blueA","\\textcolor{##ccfaff}{#1}");j("\\blueB","\\textcolor{##80f6ff}{#1}");j("\\blueC","\\textcolor{##63d9ea}{#1}");j("\\blueD","\\textcolor{##11accd}{#1}");j("\\blueE","\\textcolor{##0c7f99}{#1}");j("\\tealA","\\textcolor{##94fff5}{#1}");j("\\tealB","\\textcolor{##26edd5}{#1}");j("\\tealC","\\textcolor{##01d1c1}{#1}");j("\\tealD","\\textcolor{##01a995}{#1}");j("\\tealE","\\textcolor{##208170}{#1}");j("\\greenA","\\textcolor{##b6ffb0}{#1}");j("\\greenB","\\textcolor{##8af281}{#1}");j("\\greenC","\\textcolor{##74cf70}{#1}");j("\\greenD","\\textcolor{##1fab54}{#1}");j("\\greenE","\\textcolor{##0d923f}{#1}");j("\\goldA","\\textcolor{##ffd0a9}{#1}");j("\\goldB","\\textcolor{##ffbb71}{#1}");j("\\goldC","\\textcolor{##ff9c39}{#1}");j("\\goldD","\\textcolor{##e07d10}{#1}");j("\\goldE","\\textcolor{##a75a05}{#1}");j("\\redA","\\textcolor{##fca9a9}{#1}");j("\\redB","\\textcolor{##ff8482}{#1}");j("\\redC","\\textcolor{##f9685d}{#1}");j("\\redD","\\textcolor{##e84d39}{#1}");j("\\redE","\\textcolor{##bc2612}{#1}");j("\\maroonA","\\textcolor{##ffbde0}{#1}");j("\\maroonB","\\textcolor{##ff92c6}{#1}");j("\\maroonC","\\textcolor{##ed5fa6}{#1}");j("\\maroonD","\\textcolor{##ca337c}{#1}");j("\\maroonE","\\textcolor{##9e034e}{#1}");j("\\purpleA","\\textcolor{##ddd7ff}{#1}");j("\\purpleB","\\textcolor{##c6b9fc}{#1}");j("\\purpleC","\\textcolor{##aa87ff}{#1}");j("\\purpleD","\\textcolor{##7854ab}{#1}");j("\\purpleE","\\textcolor{##543b78}{#1}");j("\\mintA","\\textcolor{##f5f9e8}{#1}");j("\\mintB","\\textcolor{##edf2df}{#1}");j("\\mintC","\\textcolor{##e0e5cc}{#1}");j("\\grayA","\\textcolor{##f6f7f7}{#1}");j("\\grayB","\\textcolor{##f0f1f2}{#1}");j("\\grayC","\\textcolor{##e3e5e6}{#1}");j("\\grayD","\\textcolor{##d6d8da}{#1}");j("\\grayE","\\textcolor{##babec2}{#1}");j("\\grayF","\\textcolor{##888d93}{#1}");j("\\grayG","\\textcolor{##626569}{#1}");j("\\grayH","\\textcolor{##3b3e40}{#1}");j("\\grayI","\\textcolor{##21242c}{#1}");j("\\kaBlue","\\textcolor{##314453}{#1}");j("\\kaGreen","\\textcolor{##71B307}{#1}");var MG={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class fye{constructor(e,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new hye(Aye,r.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new qN(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,n,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:i,end:n}=this.consumeArg(["]"])}else({tokens:i,start:r,end:n}=this.consumeArg());return this.pushToken(new Xs("EOF",n.loc)),this.pushTokens(i),r.range(n,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var r=[],n=e&&e.length>0;n||this.consumeSpaces();var i=this.future(),s,a=0,o=0;do{if(s=this.popToken(),r.push(s),s.text==="{")++a;else if(s.text==="}"){if(--a,a===-1)throw new be("Extra }",s)}else if(s.text==="EOF")throw new be("Unexpected end of input in a macro argument, expected '"+(e&&n?e[o]:"}")+"'",s);if(e&&n)if((a===0||a===1&&e[o]==="{")&&s.text===e[o]){if(++o,o===e.length){r.splice(-o,o);break}}else o=0}while(a!==0||n);return i.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:i,end:s}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new be("The length of delimiters doesn't match the number of args!");for(var n=r[0],i=0;i<n.length;i++){var s=this.popToken();if(n[i]!==s.text)throw new be("Use of the macro doesn't match its definition",s)}}for(var a=[],o=0;o<e;o++)a.push(this.consumeArg(r&&r[o+1]).tokens);return a}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new be("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var r=this.popToken(),n=r.text,i=r.noexpand?null:this._getExpansion(n);if(i==null||e&&i.unexpandable){if(e&&i==null&&n[0]==="\\"&&!this.isDefined(n))throw new be("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var s=i.tokens,a=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var o=s.length-1;o>=0;--o){var l=s[o];if(l.text==="#"){if(o===0)throw new be("Incomplete placeholder at end of macro body",l);if(l=s[--o],l.text==="#")s.splice(o+1,1);else if(/^[1-9]$/.test(l.text))s.splice(o,2,...a[+l.text-1]);else throw new be("Not a valid argument number",l)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Xs(e)]):void 0}expandTokens(e){var r=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),r.push(i)}return this.countExpansion(r.length),r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(n=>n.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var i=typeof r=="function"?r(this):r;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var a=i.replace(/##/g,"");a.indexOf("#"+(s+1))!==-1;)++s;for(var o=new qN(i,this.settings),l=[],c=o.lex();c.text!=="EOF";)l.push(c),c=o.lex();l.reverse();var u={tokens:l,numArgs:s};return u}return i}isDefined(e){return this.macros.has(e)||Vc.hasOwnProperty(e)||ir.math.hasOwnProperty(e)||ir.text.hasOwnProperty(e)||MG.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:Vc.hasOwnProperty(e)&&!Vc[e].primitive}}var XN=/^[]/,Ny=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),a8={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},YN={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};let FG=class TG{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new fye(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new be("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new Xs("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(e,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(TG.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||e&&Vc[i.text]&&Vc[i.text].infix)break;var s=this.parseAtom(r);if(s){if(s.type==="internal")continue}else break;n.push(s)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var r=-1,n,i=0;i<e.length;i++)if(e[i].type==="infix"){if(r!==-1)throw new be("only one infix operator per group",e[i].token);r=i,n=e[i].replaceWith}if(r!==-1&&n){var s,a,o=e.slice(0,r),l=e.slice(r+1);o.length===1&&o[0].type==="ordgroup"?s=o[0]:s={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?a=l[0]:a={type:"ordgroup",mode:this.mode,body:l};var c;return n==="\\\\abovefrac"?c=this.callFunction(n,[s,e[r],a],[]):c=this.callFunction(n,[s,a],[]),[c]}else return e}handleSupSubscript(e){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new be("Expected group after '"+n+"'",r);return i}formatUnsupportedCmd(e){for(var r=[],n=0;n<e.length;n++)r.push({type:"textord",mode:"text",text:e[n]});var i={type:"text",mode:this.mode,body:r},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(e){var r=this.parseGroup("atom",e);if(this.mode==="text")return r;for(var n,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(r&&r.type==="op"){var a=s.text==="\\limits";r.limits=a,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=s.text==="\\limits");else throw new be("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(n)throw new be("Double superscript",s);n=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new be("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(n)throw new be("Double superscript",s);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:l}}else if(Ny[s.text]){var c=XN.test(s.text),u=[];for(u.push(new Xs(Ny[s.text])),this.consume();;){var d=this.fetch().text;if(!Ny[d]||XN.test(d)!==c)break;u.unshift(new Xs(Ny[d])),this.consume()}var A=this.subparse(u);c?i={type:"ordgroup",mode:"math",body:A}:n={type:"ordgroup",mode:"math",body:A}}else break}return n||i?{type:"supsub",mode:this.mode,base:r,sup:n,sub:i}:r}parseFunction(e,r){var n=this.fetch(),i=n.text,s=Vc[i];if(!s)return null;if(this.consume(),r&&r!=="atom"&&!s.allowedInArgument)throw new be("Got function '"+i+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!s.allowedInText)throw new be("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&s.allowedInMath===!1)throw new be("Can't use function '"+i+"' in math mode",n);var{args:a,optArgs:o}=this.parseArguments(i,s);return this.callFunction(i,a,o,n,e)}callFunction(e,r,n,i,s){var a={funcName:e,parser:this,token:i,breakOnTokenText:s},o=Vc[e];if(o&&o.handler)return o.handler(a,r,n);throw new be("No function handler for "+e)}parseArguments(e,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],s=[],a=0;a<n;a++){var o=r.argTypes&&r.argTypes[a],l=a<r.numOptionalArgs;(r.primitive&&o==null||r.type==="sqrt"&&a===1&&s[0]==null)&&(o="primitive");var c=this.parseGroupOfType("argument to '"+e+"'",o,l);if(l)s.push(c);else if(c!=null)i.push(c);else throw new be("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(e,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",n);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(n)throw new be("A primitive argument cannot be optional");var a=this.parseGroup(e);if(a==null)throw new be("Expected group as "+e,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new be("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(e,r){for(var n=this.fetch(),i=n,s="",a;(a=this.fetch()).text!=="EOF"&&e.test(s+a.text);)i=a,s+=i.text,this.consume();if(s==="")throw new be("Invalid "+r+": '"+n.text+"'",n);return n.range(i,s)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new be("Invalid color: '"+r.text+"'",r);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var r,n=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",e),!r)return null;!e&&r.text.length===0&&(r.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new be("Invalid size: '"+r.text+"'",r);var s={number:+(i[1]+i[2]),unit:i[3]};if(!UW(s))throw new be("Invalid unit: '"+s.unit+"'",r);return{type:"size",mode:this.mode,value:s,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,r){var n=this.gullet.scanArgument(e);if(n==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:n.loc,body:s};return r&&this.switchMode(i),a}parseGroup(e,r){var n=this.fetch(),i=n.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var a=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,a),l=this.fetch();this.expect(a),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:cs.range(n,l),body:o,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(r,e)||this.parseSymbol(),s==null&&i[0]==="\\"&&!MG.hasOwnProperty(i)){if(this.settings.throwOnError)throw new be("Undefined control sequence: "+i,n);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(e){for(var r=e.length-1,n=0;n<r;++n){var i=e[n],s=i.text;s==="-"&&e[n+1].text==="-"&&(n+1<r&&e[n+2].text==="-"?(e.splice(n,3,{type:"textord",mode:"text",loc:cs.range(i,e[n+2]),text:"---"}),r-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:cs.range(i,e[n+1]),text:"--"}),r-=1)),(s==="'"||s==="`")&&e[n+1].text===s&&(e.splice(n,2,{type:"textord",mode:"text",loc:cs.range(i,e[n+1]),text:s+s}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new be(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:i}}YN.hasOwnProperty(r[0])&&!ir[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=YN[r[0]]+r.slice(1));var s=uye.exec(r);s&&(r=r.substring(0,s.index),r==="i"?r="":r==="j"&&(r=""));var a;if(ir[this.mode][r]){this.settings.strict&&this.mode==="math"&&aB.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var o=ir[this.mode][r].group,l=cs.range(e),c;if(r1e.hasOwnProperty(o)){var u=o;c={type:"atom",mode:this.mode,family:u,loc:l,text:r}}else c={type:o,mode:this.mode,loc:l,text:r};a=c}else if(r.charCodeAt(0)>=128)this.settings.strict&&(PW(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),e)),a={type:"textord",mode:"text",loc:cs.range(e),text:r};else return null;if(this.consume(),s)for(var d=0;d<s[0].length;d++){var A=s[0][d];if(!a8[A])throw new be("Unknown accent ' "+A+"'",e);var f=a8[A][this.mode]||a8[A].text;if(!f)throw new be("Accent "+A+" unsupported in "+this.mode+" mode",e);a={type:"accent",mode:this.mode,loc:cs.range(e),label:f,isStretchy:!1,isShifty:!0,base:a}}return a}};FG.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var QE=function(e,r){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new FG(e,r);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new be("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new Xs("\\df@tag")])}]}return i},DG=function(e,r,n){r.textContent="";var i=RE(e,n).toNode();r.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),DG=function(){throw new be("KaTeX doesn't work in quirks mode.")});var pye=function(e,r){var n=RE(e,r).toMarkup();return n},mye=function(e,r){var n=new wE(r);return QE(e,n)},LG=function(e,r,n){if(n.throwOnError||!(e instanceof be))throw e;var i=te.makeSpan(["katex-error"],[new ta(r)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+n.errorColor),i},RE=function(e,r){var n=new wE(r);try{var i=QE(e,n);return B1e(i,e,n)}catch(s){return LG(s,e,n)}},gye=function(e,r){var n=new wE(r);try{var i=QE(e,n);return _1e(i,e,n)}catch(s){return LG(s,e,n)}},yye="0.16.21",vye={Span:F1,Anchor:BE,SymbolNode:ta,SvgNode:jl,PathNode:bu,LineNode:sB},JN={version:yye,render:DG,renderToString:pye,ParseError:be,SETTINGS_SCHEMA:D4,__parse:mye,__renderToDomTree:RE,__renderToHTMLTree:gye,__setFontMetrics:Wge,__defineSymbol:k,__defineFunction:Le,__defineMacro:j,__domTree:vye};const xye={};function bye(t){const e=this,r=t||xye,n=e.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(vge(r)),s.push(dge()),a.push(hge(r))}const ZN=/[#.]/g;function wye(t,e){const r=t||"",n={};let i=0,s,a;for(;i<r.length;){ZN.lastIndex=i;const o=ZN.exec(r),l=r.slice(i,o?o.index:r.length);l&&(s?s==="#"?n.id=l:Array.isArray(n.className)?n.className.push(l):n.className=[l]:a=l,i+=l.length),o&&(s=o[0],i++)}return{type:"element",tagName:a||e||"div",properties:n,children:[]}}function NG(t,e,r){const n=r?_ye(r):void 0;function i(s,a,...o){let l;if(s==null){l={type:"root",children:[]};const c=a;o.unshift(c)}else{l=wye(s,e);const c=l.tagName.toLowerCase(),u=n?n.get(c):void 0;if(l.tagName=u||c,Cye(a))o.unshift(a);else for(const[d,A]of Object.entries(a))Sye(t,l.properties,d,A)}for(const c of o)hB(l.children,c);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function Cye(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,r=Object.keys(t);for(const n of r){const i=e[n];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const a of s)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function Sye(t,e,r,n){const i=iW(t,r);let s;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;s=n}else typeof n=="boolean"?s=n:typeof n=="string"?i.spaceSeparated?s=FL(n):i.commaSeparated?s=BL(n):i.commaOrSpaceSeparated?s=FL(BL(n).join(" ")):s=ej(i,i.property,n):Array.isArray(n)?s=[...n]:s=i.property==="style"?Bye(n):String(n);if(Array.isArray(s)){const a=[];for(const o of s)a.push(ej(i,i.property,o));s=a}i.property==="className"&&Array.isArray(e.className)&&(s=e.className.concat(s)),e[i.property]=s}}function hB(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const r of e)hB(t,r);else if(typeof e=="object"&&"type"in e)e.type==="root"?hB(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function ej(t,e,r){if(typeof r=="string"){if(t.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((t.boolean||t.overloadedBoolean)&&(r===""||Mg(r)===Mg(e)))return!0}return r}function Bye(t){const e=[];for(const[r,n]of Object.entries(t))e.push([r,n].join(": "));return e.join("; ")}function _ye(t){const e=new Map;for(const r of t)e.set(r.toLowerCase(),r);return e}const kye=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Eye=NG(sW,"div"),Mye=NG(Cw,"g",kye),o8={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Fye(t,e){return jG(t,{})||{type:"root",children:[]}}function jG(t,e){const r=Tye(t,e);return r&&e.afterTransform&&e.afterTransform(t,r),r}function Tye(t,e){switch(t.nodeType){case 1:return jye(t,e);case 3:return Lye(t);case 8:return Nye(t);case 9:return tj(t,e);case 10:return Dye();case 11:return tj(t,e);default:return}}function tj(t,e){return{type:"root",children:IG(t,e)}}function Dye(){return{type:"doctype"}}function Lye(t){return{type:"text",value:t.nodeValue||""}}function Nye(t){return{type:"comment",value:t.nodeValue||""}}function jye(t,e){const r=t.namespaceURI,n=r===o8.svg?Mye:Eye,i=r===o8.html?t.tagName.toLowerCase():t.tagName,s=r===o8.html&&i==="template"?t.content:t,a=t.getAttributeNames(),o={};let l=-1;for(;++l<a.length;)o[a[l]]=t.getAttribute(a[l])||"";return n(i,o,IG(s,e))}function IG(t,e){const r=t.childNodes,n=[];let i=-1;for(;++i<r.length;){const s=jG(r[i],e);s!==void 0&&n.push(s)}return n}new DOMParser;function Iye(t,e){const r=Oye(t);return Fye(r)}function Oye(t){const e=document.createElement("template");return e.innerHTML=t,e.content}const rj=function(t,e,r){const n=xE(r);if(!t||!t.type||!t.children)throw new Error("Expected parent node");if(typeof e=="number"){if(e<0||e===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(e=t.children.indexOf(e),e<0)throw new Error("Expected child node or index");for(;++e<t.children.length;)if(n(t.children[e],e,t))return t.children[e]},Th=function(t){if(t==null)return Qye;if(typeof t=="string")return Uye(t);if(typeof t=="object")return Pye(t);if(typeof t=="function")return HE(t);throw new Error("Expected function, string, or array as `test`")};function Pye(t){const e=[];let r=-1;for(;++r<t.length;)e[r]=Th(t[r]);return HE(n);function n(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function Uye(t){return HE(e);function e(r){return r.tagName===t}}function HE(t){return e;function e(r,n,i){return!!(Rye(r)&&t.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function Qye(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="element"&&"tagName"in t&&typeof t.tagName=="string")}function Rye(t){return t!==null&&typeof t=="object"&&"type"in t&&"tagName"in t}const nj=/\n/g,ij=/[\t ]+/g,AB=Th("br"),sj=Th(Gye),Hye=Th("p"),aj=Th("tr"),zye=Th(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",Wye,Xye]),OG=Th(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function $ye(t,e){const r=e,n="children"in t?t.children:[],i=OG(t),s=QG(t,{whitespace:r.whitespace||"normal",breakBefore:!1,breakAfter:!1}),a=[];(t.type==="text"||t.type==="comment")&&a.push(...UG(t,{whitespace:s,breakBefore:!0,breakAfter:!0}));let o=-1;for(;++o<n.length;)a.push(...PG(n[o],t,{whitespace:s,breakBefore:o?void 0:i,breakAfter:o<n.length-1?AB(n[o+1]):i}));const l=[];let c;for(o=-1;++o<a.length;){const u=a[o];typeof u=="number"?c!==void 0&&u>c&&(c=u):u&&(c!==void 0&&c>-1&&l.push(`
`.repeat(c)||" "),c=-1,l.push(u))}return l.join("")}function PG(t,e,r){return t.type==="element"?Vye(t,e,r):t.type==="text"?r.whitespace==="normal"?UG(t,r):Kye(t):[]}function Vye(t,e,r){const n=QG(t,r),i=t.children||[];let s=-1,a=[];if(zye(t))return a;let o,l;for(AB(t)||aj(t)&&rj(e,t,aj)?l=`
`:Hye(t)?(o=2,l=2):OG(t)&&(o=1,l=1);++s<i.length;)a=a.concat(PG(i[s],t,{whitespace:n,breakBefore:s?void 0:o,breakAfter:s<i.length-1?AB(i[s+1]):l}));return sj(t)&&rj(e,t,sj)&&a.push("	"),o&&a.unshift(o),l&&a.push(l),a}function UG(t,e){const r=String(t.value),n=[],i=[];let s=0;for(;s<=r.length;){nj.lastIndex=s;const l=nj.exec(r),c=l&&"index"in l?l.index:r.length;n.push(qye(r.slice(s,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),s===0?e.breakBefore:!0,c===r.length?e.breakAfter:!0)),s=c+1}let a=-1,o;for(;++a<n.length;)n[a].charCodeAt(n[a].length-1)===8203||a<n.length-1&&n[a+1].charCodeAt(0)===8203?(i.push(n[a]),o=void 0):n[a]?(typeof o=="number"&&i.push(o),i.push(n[a]),o=0):(a===0||a===n.length-1)&&i.push(0);return i}function Kye(t){return[String(t.value)]}function qye(t,e,r){const n=[];let i=0,s;for(;i<t.length;){ij.lastIndex=i;const a=ij.exec(t);s=a?a.index:t.length,!i&&!s&&a&&!e&&n.push(""),i!==s&&n.push(t.slice(i,s)),i=a?s+a[0].length:s}return i!==s&&!r&&n.push(""),n.join(" ")}function QG(t,e){if(t.type==="element"){const r=t.properties||{};switch(t.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":e.whitespace;case"textarea":return"pre-wrap"}}return e.whitespace}function Wye(t){return!!(t.properties||{}).hidden}function Gye(t){return t.tagName==="td"||t.tagName==="th"}function Xye(t){return t.tagName==="dialog"&&!(t.properties||{}).open}const Yye={},Jye=[];function Zye(t){const e=t||Yye;return function(r,n){LW(r,"element",function(i,s){const a=Array.isArray(i.properties.className)?i.properties.className:Jye,o=a.includes("language-math"),l=a.includes("math-display"),c=a.includes("math-inline");let u=l;if(!o&&!l&&!c)return;let d=s[s.length-1],A=i;if(i.tagName==="code"&&o&&d&&d.type==="element"&&d.tagName==="pre"&&(A=d,d=s[s.length-2],u=!0),!d)return;const f=$ye(A,{whitespace:"pre"});let p;try{p=JN.renderToString(f,{...e,displayMode:u,throwOnError:!0})}catch(y){const g=y,v=g.name.toLowerCase();n.message("Could not render math with KaTeX",{ancestors:[...s,i],cause:g,place:i.position,ruleId:v,source:"rehype-katex"});try{p=JN.renderToString(f,{...e,displayMode:u,strict:"ignore",throwOnError:!1})}catch{p=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(e.errorColor||"#cc0000"),title:String(y)},children:[{type:"text",value:f}]}]}}typeof p=="string"&&(p=Iye(p).children);const m=d.children.indexOf(A);return d.children.splice(m,1,...p),DW})}}function e2e({chat:t}){const e=yu(r=>r.auth.avatar_url);return _.useState(t.message),h.jsxs("div",{className:`flex gap-3 sm:gap-4 w-full ${t.is_bot?"flex-row":"flex-row-reverse"} items-start mb-[20px]`,children:[t.is_bot?h.jsx("img",{src:cge,alt:"Bot",className:"w-10 h-10 sm:w-12 sm:h-12 lg:w-14 lg:h-14 rounded-full mt-1"}):h.jsx("img",{src:e?`${Tt}/images/${e}`:oE,alt:"User",className:"w-10 h-10 sm:w-12 sm:h-12 lg:w-14 lg:h-14 rounded-full mt-1"}),h.jsx("div",{className:`max-w-[90%] sm:max-w-[70%] lg:max-w-[60%] w-auto ${t.is_bot?"bg-slate-50 shadow-md":"bg-[#E6E6E6] shadow-md ml-4"} p-3 sm:p-4 rounded-lg`,children:t!=null&&t.image_url||t!=null&&t.image?h.jsx("div",{className:"mb-4",children:t.loading?h.jsx("div",{className:"text-gray-600 text-sm",children:"Bot is generating image..."}):h.jsx("img",{src:Tt+"/images/"+t.image_url,className:"object-cover w-[220px] sm:w-[250px] h-[150px] sm:h-[200px] rounded-lg shadow-md mx-auto",alt:t.isError?t.message:"Generated Content"})}):h.jsx("div",{children:h.jsx(ige,{children:t.loading?t!=null&&t.is_bot?"Bot is typing...":"...":t.isError?`<span style="color:red;">${t.message}</span>`:t.message,remarkPlugins:[bye],rehypePlugins:[Zye]})})})]})}const t2e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAT8SURBVHgB1ZRJjBRlFMf/tVdv1dXDbMDs4DAsOsAMDBoG9KAmxBiNZkKCJsQlHjwZz0aiid70YjKYYOIBJeEIB4wHE1EJjoQ4MBvDLD1LzzDTS1VXdXVX1+qbNkYFVLyY+F2689X3/d77v//7HvB/Xcw/HQhHR2OVhcrDvlHaz0djrs+hHHK47gaelbJXM8zQkP/A8PDaNcG+ZR71rMqgpCaedz2/RWxQUwHDIGRZlBdXkejYgrDiwHfc2dDzhiOCNMw821/+W7jzzY2+IKt9FDjeEUYQwNbFUdENxLs74OaKWB2fQsvTg+C8AMXpOSgtW8HwHKqF4g1SdCLxRO/YfeGl85dP5mbmP27Y+ZAqtzbCNcooLGbQfHg/wHEIDQshx4BV4giXs2DUeG0fjksUwpiVK/aadjz63MGlP8GLpy8e42PRLwKBVUVVQWBaYAjCEYBzqaTJGEK9RL8ENMtgIxLCENBHxiBGIpA7t9CeCC+nzwpK/AhzuGelBs98eiEaKdtpSU02yHUK/HIVXH0K8H0wsQhCgjEE9Sggl4jB1wzwm5KkhEock8BEZQR5A6zIIyQFfqk8rbfJfY179pR4r2jsC1i+gQ0CwKrCMUzE6pIIXBd+wQXrB3SpBM8qg8wD45GSUuVXyVUXnm7WjPYdBwypoeDd0fXCY/T1a1ZfyT4eksbV9CJcyoq6hILYCOhiaT1LmVgAqWFtB9rMPELa9wnoFYqwbqXhr2uAZhLUhHZjCgLDgXP8k7WyfPfGe1e7WtsHZInqSNnrhQJau7vBCCzMvIaSrqO+rRWM62FmYgI6Kdu8uQk2BZRjUWzr2AbXcyCQV6D7pTtZSNGorVn5dn56eiYpgkUiEYcoSjCLBuYmJ2v/C7ksrt8cRXdHFxJKEk3tbejp7wdPrcjwPNXAg191kL59G+2dXRB4oXZHVVOyb7vdvBQRiqNTE1CjcUiiAIHjMXZ5EgN9B7B9905sam2pAbp27ABDmYWOh9mpKUQkGaIso6hpsKh0i3NzqNtUT76Qer3o69XyPL+Qybzb1bjlkmEYDC0s3slgYG8fDh44UGs3ISWSXGrXzCq0Qh4uGb1xrkpZj1z5Hq0tLdi1dy+W0gtkjY2KXYEXwuwdt9Zqpp9+dGjY8/2X80U9FqVsjg4cgiRFUDINiIKIKl1SVRWxOLUkdQz8EBy9TJ98qNo2ItEoWHpQllXaGAkwSubNwS8/fITbgPcvj1+y6xouSIxkqkpihxpXorZThaKQSQwLQRQpIxtLy8soGgbSC2k49A6q1WpNCcFAyRHcQrlSQSUMPjg79sOP9wyu4cPHX4lzwmfNTc1gKTvdKNYCeBt9jxCzK2nMZ5ehRGKoj6hoVOrgUuC29k4ylMPSSmYs+dQLfUOnhhz+bnjA++fnllcPreWyr8myzJCFyFsGlswcCr6J+pSCQ/v3oaeli56DhZn0DObWM5i8vmgpUvxM/daOT14n8D1T8Y/rrebeg67jtmuJ0Mtx3vt5TevqVJJSd9NW9sneQWxSUrX+tisWqctRSYxzL148d4KA4W8M7q/gV0trmZFKduJmMTd17KUTZ81C/nMlCLJxKXKkUUnSmAyoviYch15w4GYgsa/2jP2cw/1G7oOsUwA7v33XM02K+jYF2C2xHEuNPcIGeOfNb7/66e7z/wr+e5BT7Mrmi7KfEuUz41c06vsQ//X6BRjshsl53wYeAAAAAElFTkSuQmCC";function oj(t){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204 240H68a36 36 0 0 1-36-36V68a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36zm240 0H308a36 36 0 0 1-36-36V68a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36zM204 480H68a36 36 0 0 1-36-36V308a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36zm240 0H308a36 36 0 0 1-36-36V308a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36z"},child:[]}]})(t)}function r2e(t){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.64 64.58C313.18 43.57 286 32 256 32c-30.16 0-57.43 11.5-76.8 32.38-19.58 21.11-29.12 49.8-26.88 80.78C156.76 206.28 203.27 256 256 256s99.16-49.71 103.67-110.82c2.27-30.7-7.33-59.33-27.03-80.6zM432 480H80a31 31 0 0 1-24.2-11.13c-6.5-7.77-9.12-18.38-7.18-29.11C57.06 392.94 83.4 353.61 124.8 326c36.78-24.51 83.37-38 131.2-38s94.42 13.5 131.2 38c41.4 27.6 67.74 66.93 76.18 113.75 1.94 10.73-.68 21.34-7.18 29.11A31 31 0 0 1 432 480z"},child:[]}]})(t)}function n2e(t){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(t)}function i2e(t){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13.5 2C13.5 2.44425 13.3069 2.84339 13 3.11805V5H18C19.6569 5 21 6.34315 21 8V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V8C3 6.34315 4.34315 5 6 5H11V3.11805C10.6931 2.84339 10.5 2.44425 10.5 2C10.5 1.17157 11.1716 0.5 12 0.5C12.8284 0.5 13.5 1.17157 13.5 2ZM0 10H2V16H0V10ZM24 10H22V16H24V10ZM9 14.5C9.82843 14.5 10.5 13.8284 10.5 13C10.5 12.1716 9.82843 11.5 9 11.5C8.17157 11.5 7.5 12.1716 7.5 13C7.5 13.8284 8.17157 14.5 9 14.5ZM16.5 13C16.5 12.1716 15.8284 11.5 15 11.5C14.1716 11.5 13.5 12.1716 13.5 13C13.5 13.8284 14.1716 14.5 15 14.5C15.8284 14.5 16.5 13.8284 16.5 13Z"},child:[]}]})(t)}const s2e=({speak:t})=>(_.useEffect(()=>{console.log("speakin",t)},[]),h.jsx("div",{id:"visuals",children:t?h.jsxs("div",{className:"visual ripple",children:[h.jsx(i2e,{}),h.jsx("div",{className:"ripple-effect"})]}):h.jsx("div",{className:"",children:h.jsx(M0e,{})})})),N4=Gi({reducerPath:"chat",baseQuery:Xi,endpoints:t=>({getChatHistory:t.mutation({query:e=>({url:"/chat/fetch-chat-history",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getChats:t.mutation({query:e=>({url:"/chat/fetch-chat",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),createMessage:t.mutation({query:e=>({url:"/chat/create-message",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}})})}),{useGetChatHistoryMutation:a2e,useGetChatsMutation:o2e,useCreateMessageMutation:RG}=N4,j4=Gi({reducerPath:"bot",baseQuery:Xi,endpoints:t=>({createBot:t.mutation({query:e=>({url:"/bot/create-bot",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1,file:!0}}),updateBot:t.mutation({query:e=>({url:"/bot/update-bot",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getBotBySubject:t.mutation({query:e=>({url:"/bot/get-bot-by-subject",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getBot:t.mutation({query:e=>({url:"/bot/get-bot",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),deleteBot:t.mutation({query:e=>({url:"/bot/delete-bot",method:"DELETE",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getJoinBotContext:t.mutation({query:e=>({url:"/bot/get-join-bot-context",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),deletejoinBotAndFile:t.mutation({query:e=>({url:"/bot/delete-join-bot-context",method:"DELETE",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),createjoinBotAndFile:t.mutation({query:e=>({url:"/bot/create-join-bot-context",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),updatejoinBotAndFile:t.mutation({query:e=>({url:"/bot/update-join-bot-context",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),generateImage:t.mutation({query:e=>({url:"/bot/generate-image",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),queryBot:t.mutation({query:e=>({url:"/bot/query-bot",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getAllBotsByTeacher:t.query({query:({page:e=1,limit:r=10})=>({url:"/bot/get-all-bots-by-teacher",method:"GET",params:{page:e,limit:r}}),meta:{skipToken:!1,skipHeaders:!1}}),getAllBots:t.query({query:({page:e=1,limit:r=10})=>({url:"/bot/get-all-bots",method:"GET",params:{page:e,limit:r}}),meta:{skipToken:!1,skipHeaders:!1}}),getAllBotsBySchool:t.query({query:({page:e=1,limit:r=10})=>({url:"/bot/get-all-bot-by-school",method:"GET",params:{page:e,limit:r}}),meta:{skipToken:!1,skipHeaders:!1}}),getAllBotsByLevel:t.query({query:()=>({url:"/bot/get-bots-by-level",method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}})})}),{useCreateBotMutation:tze,useGetBotBySubjectMutation:rze,useDeletejoinBotAndFileMutation:l2e,useCreatejoinBotAndFileMutation:c2e,useGetJoinBotContextMutation:u2e,useUpdatejoinBotAndFileMutation:nze,useUpdateBotMutation:d2e,useGetBotMutation:HG,useGetAllBotsByTeacherQuery:h2e,useDeleteBotMutation:zG,useGenerateImageMutation:$G,useQueryBotMutation:VG,useGetAllBotsQuery:KG,useGetAllBotsBySchoolQuery:A2e,useGetAllBotsByLevelQuery:f2e}=j4;function p2e(t){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14 17H4v2h10v-2zm6-8H4v2h16V9zM4 15h16v-2H4v2zM4 5v2h16V5H4z"},child:[]}]})(t)}function m2e(t){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"},child:[]}]})(t)}function g2e(t){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17.59 18 19 16.59 14.42 12 19 7.41 17.59 6l-6 6z"},child:[]},{tag:"path",attr:{d:"m11 18 1.41-1.41L7.83 12l4.58-4.59L11 6l-6 6z"},child:[]}]})(t)}function y2e(t){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.41 6 5 7.41 9.58 12 5 16.59 6.41 18l6-6z"},child:[]},{tag:"path",attr:{d:"m13 6-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"},child:[]}]})(t)}function v2e(t){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z",opacity:".87"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"},child:[]}]})(t)}function x2e({handleSubmit:t,setInputValue:e,inputValue:r,loading:n,setLoading:i,setChats:s,deepgram:a,isErrorDeepGramAPI:o,isLoadingDeepGramAPI:l,bot:c,voiceModelData:u}){const[d,A]=_.useState(!1),[f,p]=_.useState(!1),[m,y]=_.useState(!1),[g,v]=_.useState(),{bot_id:x}=ur(),[b,w]=_.useState(!1),[C,S]=_.useState(null),[B,E]=_.useState(!1),[M,D]=_.useState(),[L]=RG(),[I]=$G(),[z]=VG(),R=_.useRef(null),Y=_.useRef([]),$=async ie=>{var ee;if(!ie){Z.error("Input can't be empty");return}i(!0);const pe=Math.random()*100,J=Math.random()*100,re=Math.random()*100;try{s(Re=>[...Re,{id:pe,is_bot:!1,image:!1,image_url:"",message:ie,loading:!0}]);const nt=await L({bot_id:+`${x}`,message:ie,image_url:""}).unwrap();if((nt==null?void 0:nt.statusCode)==200){s(st=>st.map(He=>He.id===pe?{...He,loading:!1}:He)),e(""),s(st=>[...st,{id:J,is_bot:!0,image:!1,image_url:"",message:"",loading:!0}]);const Re=await z({bot_id:+`${x}`,query:ie}).unwrap();if((Re==null?void 0:Re.statusCode)==200&&(s(st=>st.map(He=>{var ze;return He.id===J?{...He,message:(ze=Re==null?void 0:Re.data)==null?void 0:ze.message,loading:!1}:He})),p(!0),w(!0),await oe((ee=Re==null?void 0:Re.data)==null?void 0:ee.message),Re!=null&&Re.do_generate_image)){s(He=>[...He,{id:re,is_bot:!0,image:!0,image_url:"",message:"",loading:!0}]);const st=await I({answer:Re==null?void 0:Re.data.message,chat_id:Re==null?void 0:Re.data.id,bot_id:Number(x)}).unwrap();(st==null?void 0:st.statusCode)==200&&s(He=>He.map(ze=>{var dr;return ze.id===re?{...ze,image_url:(dr=st==null?void 0:st.data)==null?void 0:dr.image_url,message:"",loading:!1}:ze}))}}y(!1)}catch(nt){console.log(nt)}},P=async()=>{if(y(!0),!navigator.mediaDevices||!window.MediaRecorder){Z.error("Your browser does not support audio recording.");return}const ie=await navigator.mediaDevices.getUserMedia({audio:!0}),pe=new MediaRecorder(ie);let J=[];pe.ondataavailable=re=>{J.push(re.data)},pe.onstop=async()=>{const re=new Blob(J,{type:"audio/wav"}),ee=new File([re],"recording.wav");try{const nt=await ae(ee).then(async Re=>{e(Re??null),v(Re??null),await $(Re??null)})}catch(nt){console.error("Error during voice-to-text:",nt)}},pe.start(),A(!0),R.current=pe,Y.current=J,y(!1)},q=()=>{R.current&&(R.current.stop(),A(!1))},N=()=>{d?q():P()},ae=async ie=>(await Bt.post("https://api.deepgram.com/v1/listen",ie,{headers:{Authorization:`Token ${a}`,"Content-Type":"audio/wav"}})).data.results.channels[0].alternatives[0].transcript??null,oe=async ie=>{const pe=await Bt.post(`https://api.deepgram.com/v1/speak?model=${u.data.canonical_name}`,{text:ie},{headers:{Authorization:`Token ${a}`},responseType:"arraybuffer"}),J=new Blob([pe.data],{type:"audio/wav"}),re=URL.createObjectURL(J),ee=new Audio(re);S(ee),ee.play().then(()=>{p(!0)}),ee.addEventListener("ended",()=>{p(!1),w(!1),i(!1)}),ee.addEventListener("pause",()=>{p(!1)})},O=()=>{C&&(C.paused?(C.play(),p(!0),w(!0),D(!1)):(C.pause(),p(!1),E(!1),D(!0)))},fe=()=>{C&&(C.pause(),p(!1),w(!1),E(!0),e(""),i(!1))},Se=ie=>{ie.key==="Enter"&&t(ie)};return h.jsx("div",{className:"bg-white p-3 rounded-2xl w-full border border-slate-200 shadow-md",children:h.jsxs("div",{className:"flex items-center gap-3 w-full",children:[h.jsx("img",{src:t2e,alt:"Brain Icon",className:"w-8 h-8 hidden lg:block"}),h.jsx("input",{disabled:b||n,type:"text",value:r,onKeyDown:Se,onChange:ie=>e(ie.target.value),placeholder:"What's on your mind?",className:`flex-1 ${b?"w-[50%]":" w-[70%] lg:w-auto"} outline-none text-gray-700 placeholder-gray-400 font-medium text-sm border border-white rounded-full px-4 py-3`}),h.jsx("button",{type:"submit",onClick:t,className:"p-3 rounded-full bg-bg-gradient text-white hover:bg-hover-gradient transition-colors duration-300",disabled:b||n,children:n?"...":h.jsx(n2e,{})}),h.jsx("button",{disabled:m||b||n||l||o,onClick:N,className:`p-0 w-[43px] h-[43px] flex items-center justify-center rounded-full transition-colors duration-300 ${l||o?"bg-gray-500":`${d?"bg-red-500 text-white":"bg-bg-gradient text-white hover:bg-hover-gradient"}`}  `,children:h.jsx(s2e,{speak:f})}),b&&!B&&h.jsx("button",{onClick:O,className:"p-3 rounded-full bg-bg-gradient text-white hover:bg-hover-gradient transition-colors duration-300",children:M?h.jsx(Gq,{}):h.jsx(Wq,{})}),b&&h.jsx("button",{onClick:fe,className:"p-3 rounded-full bg-red-500 text-white hover:bg-red-600 transition-colors duration-300",children:h.jsx(v2e,{})})]})})}function b2e(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function Lw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const fB=t=>Array.isArray(t);function qG(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Lg(t){return typeof t=="string"||Array.isArray(t)}function lj(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function zE(t,e,r,n){if(typeof e=="function"){const[i,s]=lj(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=lj(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function Nw(t,e,r){const n=t.getProps();return zE(n,e,r!==void 0?r:n.custom,t)}const $E=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],VE=["initial",...$E],D1=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dh=new Set(D1),Cl=t=>t*1e3,Sl=t=>t/1e3,w2e={type:"spring",stiffness:500,damping:25,restSpeed:10},C2e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),S2e={type:"keyframes",duration:.8},B2e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_2e=(t,{keyframes:e})=>e.length>2?S2e:Dh.has(t)?t.startsWith("scale")?C2e(e[1]):w2e:B2e;function KE(t,e){return t?t[e]||t.default||t:void 0}const k2e={skipAnimations:!1,useManualTiming:!1},E2e=t=>t!==null;function jw(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(E2e),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const gs=t=>t;let pB=gs;function M2e(t){let e=new Set,r=new Set,n=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(c){s.has(c)&&(l.schedule(c),t()),c(a)}const l={schedule:(c,u=!1,d=!1)=>{const f=d&&n?e:r;return u&&s.add(c),f.has(c)||f.add(c),c},cancel:c=>{r.delete(c),s.delete(c)},process:c=>{if(a=c,n){i=!0;return}n=!0,[e,r]=[r,e],e.forEach(o),e.clear(),n=!1,i&&(i=!1,l.process(c))}};return l}const jy=["read","resolveKeyframes","update","preRender","render","postRender"],F2e=40;function WG(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=jy.reduce((g,v)=>(g[v]=M2e(s),g),{}),{read:o,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:A}=a,f=()=>{const g=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(g-i.timestamp,F2e),1),i.timestamp=g,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),d.process(i),A.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(f))},p=()=>{r=!0,n=!0,i.isProcessing||t(f)};return{schedule:jy.reduce((g,v)=>{const x=a[v];return g[v]=(b,w=!1,C=!1)=>(r||p(),x.schedule(b,w,C)),g},{}),cancel:g=>{for(let v=0;v<jy.length;v++)a[jy[v]].cancel(g)},state:i,steps:a}}const{schedule:lr,cancel:Cu,state:kn,steps:l8}=WG(typeof requestAnimationFrame<"u"?requestAnimationFrame:gs,!0),GG=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,T2e=1e-7,D2e=12;function L2e(t,e,r,n,i){let s,a,o=0;do a=e+(r-e)/2,s=GG(a,n,i)-t,s>0?r=a:e=a;while(Math.abs(s)>T2e&&++o<D2e);return a}function L1(t,e,r,n){if(t===e&&r===n)return gs;const i=s=>L2e(s,0,1,t,r);return s=>s===0||s===1?s:GG(i(s),e,n)}const XG=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,YG=t=>e=>1-t(1-e),JG=L1(.33,1.53,.69,.99),qE=YG(JG),ZG=XG(qE),eX=t=>(t*=2)<1?.5*qE(t):.5*(2-Math.pow(2,-10*(t-1))),WE=t=>1-Math.sin(Math.acos(t)),tX=YG(WE),rX=XG(WE),nX=t=>/^0[^.\s]+$/u.test(t);function N2e(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||nX(t):!0}const iX=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),sX=t=>e=>typeof e=="string"&&e.startsWith(t),aX=sX("--"),j2e=sX("var(--"),GE=t=>j2e(t)?I2e.test(t.split("/*")[0].trim()):!1,I2e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,O2e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function P2e(t){const e=O2e.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function oX(t,e,r=1){const[n,i]=P2e(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const a=s.trim();return iX(a)?parseFloat(a):a}return GE(i)?oX(i,e,r+1):i}const Pl=(t,e,r)=>r>e?e:r<t?t:r,vf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ng={...vf,transform:t=>Pl(0,1,t)},Iy={...vf,default:1},N1=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Bc=N1("deg"),Co=N1("%"),Je=N1("px"),U2e=N1("vh"),Q2e=N1("vw"),cj={...Co,parse:t=>Co.parse(t)/100,transform:t=>Co.transform(t*100)},R2e=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),uj=t=>t===vf||t===Je,dj=(t,e)=>parseFloat(t.split(", ")[e]),hj=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return dj(i[1],e);{const s=n.match(/^matrix\((.+)\)$/u);return s?dj(s[1],t):0}},H2e=new Set(["x","y","z"]),z2e=D1.filter(t=>!H2e.has(t));function $2e(t){const e=[];return z2e.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const zA={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:hj(4,13),y:hj(5,14)};zA.translateX=zA.x;zA.translateY=zA.y;const lX=t=>e=>e.test(t),V2e={test:t=>t==="auto",parse:t=>t},cX=[vf,Je,Co,Bc,Q2e,U2e,V2e],Aj=t=>cX.find(lX(t)),Jd=new Set;let mB=!1,gB=!1;function uX(){if(gB){const t=Array.from(Jd).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=$2e(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{var o;(o=n.getValue(s))===null||o===void 0||o.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}gB=!1,mB=!1,Jd.forEach(t=>t.complete()),Jd.clear()}function dX(){Jd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(gB=!0)})}function K2e(){dX(),uX()}class XE{constructor(e,r,n,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Jd.add(this),mB||(mB=!0,lr.read(dX),lr.resolveKeyframes(uX))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&r){const l=n.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Jd.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Jd.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const _m=t=>Math.round(t*1e5)/1e5,YE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function q2e(t){return t==null}const W2e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,JE=(t,e)=>r=>!!(typeof r=="string"&&W2e.test(r)&&r.startsWith(t)||e&&!q2e(r)&&Object.prototype.hasOwnProperty.call(r,e)),hX=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,o]=n.match(YE);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},G2e=t=>Pl(0,255,t),c8={...vf,transform:t=>Math.round(G2e(t))},Rd={test:JE("rgb","red"),parse:hX("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+c8.transform(t)+", "+c8.transform(e)+", "+c8.transform(r)+", "+_m(Ng.transform(n))+")"};function X2e(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const yB={test:JE("#"),parse:X2e,transform:Rd.transform},H0={test:JE("hsl","hue"),parse:hX("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Co.transform(_m(e))+", "+Co.transform(_m(r))+", "+_m(Ng.transform(n))+")"},Kn={test:t=>Rd.test(t)||yB.test(t)||H0.test(t),parse:t=>Rd.test(t)?Rd.parse(t):H0.test(t)?H0.parse(t):yB.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Rd.transform(t):H0.transform(t)},Y2e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function J2e(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(YE))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(Y2e))===null||r===void 0?void 0:r.length)||0)>0}const AX="number",fX="color",Z2e="var",eve="var(",fj="${}",tve=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jg(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(tve,l=>(Kn.test(l)?(n.color.push(s),i.push(fX),r.push(Kn.parse(l))):l.startsWith(eve)?(n.var.push(s),i.push(Z2e),r.push(l)):(n.number.push(s),i.push(AX),r.push(parseFloat(l))),++s,fj)).split(fj);return{values:r,split:o,indexes:n,types:i}}function pX(t){return jg(t).values}function mX(t){const{split:e,types:r}=jg(t),n=e.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=e[a],i[a]!==void 0){const o=r[a];o===AX?s+=_m(i[a]):o===fX?s+=Kn.transform(i[a]):s+=i[a]}return s}}const rve=t=>typeof t=="number"?0:t;function nve(t){const e=pX(t);return mX(t)(e.map(rve))}const Su={test:J2e,parse:pX,createTransformer:mX,getAnimatableNone:nve},ive=new Set(["brightness","contrast","saturate","opacity"]);function sve(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(YE)||[];if(!n)return t;const i=r.replace(n,"");let s=ive.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const ave=/\b([a-z-]*)\(.*?\)/gu,vB={...Su,getAnimatableNone:t=>{const e=t.match(ave);return e?e.map(sve).join(" "):t}},ove={borderWidth:Je,borderTopWidth:Je,borderRightWidth:Je,borderBottomWidth:Je,borderLeftWidth:Je,borderRadius:Je,radius:Je,borderTopLeftRadius:Je,borderTopRightRadius:Je,borderBottomRightRadius:Je,borderBottomLeftRadius:Je,width:Je,maxWidth:Je,height:Je,maxHeight:Je,top:Je,right:Je,bottom:Je,left:Je,padding:Je,paddingTop:Je,paddingRight:Je,paddingBottom:Je,paddingLeft:Je,margin:Je,marginTop:Je,marginRight:Je,marginBottom:Je,marginLeft:Je,backgroundPositionX:Je,backgroundPositionY:Je},lve={rotate:Bc,rotateX:Bc,rotateY:Bc,rotateZ:Bc,scale:Iy,scaleX:Iy,scaleY:Iy,scaleZ:Iy,skew:Bc,skewX:Bc,skewY:Bc,distance:Je,translateX:Je,translateY:Je,translateZ:Je,x:Je,y:Je,z:Je,perspective:Je,transformPerspective:Je,opacity:Ng,originX:cj,originY:cj,originZ:Je},pj={...vf,transform:Math.round},ZE={...ove,...lve,zIndex:pj,size:Je,fillOpacity:Ng,strokeOpacity:Ng,numOctaves:pj},cve={...ZE,color:Kn,backgroundColor:Kn,outlineColor:Kn,fill:Kn,stroke:Kn,borderColor:Kn,borderTopColor:Kn,borderRightColor:Kn,borderBottomColor:Kn,borderLeftColor:Kn,filter:vB,WebkitFilter:vB},eM=t=>cve[t];function gX(t,e){let r=eM(t);return r!==vB&&(r=Su),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const uve=new Set(["auto","none","0"]);function dve(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!uve.has(s)&&jg(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=gX(r,i)}class yX extends XE{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),GE(c))){const u=oX(c,r.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!R2e.has(n)||e.length!==2)return;const[i,s]=e,a=Aj(i),o=Aj(s);if(a!==o)if(uj(a)&&uj(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)N2e(e[i])&&n.push(i);n.length&&dve(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zA[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const s=r.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=zA[n](r.measureViewportBox(),window.getComputedStyle(r.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{r.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function tM(t){return typeof t=="function"}let I4;function hve(){I4=void 0}const So={now:()=>(I4===void 0&&So.set(kn.isProcessing||k2e.useManualTiming?kn.timestamp:performance.now()),I4),set:t=>{I4=t,queueMicrotask(hve)}},mj=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Su.test(t)||t==="0")&&!t.startsWith("url("));function Ave(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function fve(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=mj(i,e),o=mj(s,e);return!a||!o?!1:Ave(t)||(r==="spring"||tM(r))&&n}const pve=40;class vX{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=So.now(),this.options={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>pve?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&K2e(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=So.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:s,delay:a,onComplete:o,onUpdate:l,isGenerator:c}=this.options;if(!c&&!fve(e,n,i,s))if(a)this.options.duration=0;else{l==null||l(jw(e,this.options,r)),o==null||o(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,r);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...u},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const $A=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},xX=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=t($A(0,i-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function bX(t,e){return e?t*(1e3/e):0}const mve=5;function wX(t,e,r){const n=Math.max(e-mve,0);return bX(r-t(n),e-n)}const Fr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},u8=.001;function gve({duration:t=Fr.duration,bounce:e=Fr.bounce,velocity:r=Fr.velocity,mass:n=Fr.mass}){let i,s,a=1-e;a=Pl(Fr.minDamping,Fr.maxDamping,a),t=Pl(Fr.minDuration,Fr.maxDuration,Sl(t)),a<1?(i=c=>{const u=c*a,d=u*t,A=u-r,f=xB(c,a),p=Math.exp(-d);return u8-A/f*p},s=c=>{const d=c*a*t,A=d*r+r,f=Math.pow(a,2)*Math.pow(c,2)*t,p=Math.exp(-d),m=xB(Math.pow(c,2),a);return(-i(c)+u8>0?-1:1)*((A-f)*p)/m}):(i=c=>{const u=Math.exp(-c*t),d=(c-r)*t+1;return-u8+u*d},s=c=>{const u=Math.exp(-c*t),d=(r-c)*(t*t);return u*d});const o=5/t,l=vve(i,s,o);if(t=Cl(t),isNaN(l))return{stiffness:Fr.stiffness,damping:Fr.damping,duration:t};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:a*2*Math.sqrt(n*c),duration:t}}}const yve=12;function vve(t,e,r){let n=r;for(let i=1;i<yve;i++)n=n-t(n)/e(n);return n}function xB(t,e){return t*Math.sqrt(1-e*e)}const bB=2e4;function CX(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<bB;)e+=r,n=t.next(e);return e>=bB?1/0:e}const xve=["duration","bounce"],bve=["stiffness","damping","mass"];function gj(t,e){return e.some(r=>t[r]!==void 0)}function wve(t){let e={velocity:Fr.velocity,stiffness:Fr.stiffness,damping:Fr.damping,mass:Fr.mass,isResolvedFromDuration:!1,...t};if(!gj(t,bve)&&gj(t,xve))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Pl(.05,1,1-t.bounce)*Math.sqrt(i);e={...e,mass:Fr.mass,stiffness:i,damping:s}}else{const r=gve(t);e={...e,...r,mass:Fr.mass},e.isResolvedFromDuration=!0}return e}function SX(t=Fr.visualDuration,e=Fr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:A,isResolvedFromDuration:f}=wve({...r,velocity:-Sl(r.velocity||0)}),p=A||0,m=c/(2*Math.sqrt(l*u)),y=a-s,g=Sl(Math.sqrt(l/u)),v=Math.abs(y)<5;n||(n=v?Fr.restSpeed.granular:Fr.restSpeed.default),i||(i=v?Fr.restDelta.granular:Fr.restDelta.default);let x;if(m<1){const w=xB(g,m);x=C=>{const S=Math.exp(-m*g*C);return a-S*((p+m*g*y)/w*Math.sin(w*C)+y*Math.cos(w*C))}}else if(m===1)x=w=>a-Math.exp(-g*w)*(y+(p+g*y)*w);else{const w=g*Math.sqrt(m*m-1);x=C=>{const S=Math.exp(-m*g*C),B=Math.min(w*C,300);return a-S*((p+m*g*y)*Math.sinh(B)+w*y*Math.cosh(B))/w}}const b={calculatedDuration:f&&d||null,next:w=>{const C=x(w);if(f)o.done=w>=d;else{let S=0;m<1&&(S=w===0?Cl(p):wX(x,w,C));const B=Math.abs(S)<=n,E=Math.abs(a-C)<=i;o.done=B&&E}return o.value=o.done?a:C,o},toString:()=>{const w=Math.min(CX(b),bB),C=xX(S=>b.next(w*S).value,w,30);return w+"ms "+C}};return b}function yj({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],A={done:!1,value:d},f=B=>o!==void 0&&B<o||l!==void 0&&B>l,p=B=>o===void 0?l:l===void 0||Math.abs(o-B)<Math.abs(l-B)?o:l;let m=r*e;const y=d+m,g=a===void 0?y:a(y);g!==y&&(m=g-d);const v=B=>-m*Math.exp(-B/n),x=B=>g+v(B),b=B=>{const E=v(B),M=x(B);A.done=Math.abs(E)<=c,A.value=A.done?g:M};let w,C;const S=B=>{f(A.value)&&(w=B,C=SX({keyframes:[A.value,p(A.value)],velocity:wX(x,B,A.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return S(0),{calculatedDuration:null,next:B=>{let E=!1;return!C&&w===void 0&&(E=!0,b(B),S(B)),w!==void 0&&B>=w?C.next(B-w):(!E&&b(B),A)}}}const Cve=L1(.42,0,1,1),Sve=L1(0,0,.58,1),BX=L1(.42,0,.58,1),Bve=t=>Array.isArray(t)&&typeof t[0]!="number",rM=t=>Array.isArray(t)&&typeof t[0]=="number",vj={linear:gs,easeIn:Cve,easeInOut:BX,easeOut:Sve,circIn:WE,circInOut:rX,circOut:tX,backIn:qE,backInOut:ZG,backOut:JG,anticipate:eX},xj=t=>{if(rM(t)){pB(t.length===4);const[e,r,n,i]=t;return L1(e,r,n,i)}else if(typeof t=="string")return pB(vj[t]!==void 0),vj[t];return t},_ve=(t,e)=>r=>e(t(r)),j1=(...t)=>t.reduce(_ve),Cr=(t,e,r)=>t+(e-t)*r;function d8(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function kve({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,a=0;if(!e)i=s=a=r;else{const o=r<.5?r*(1+e):r+e-r*e,l=2*r-o;i=d8(l,o,t+1/3),s=d8(l,o,t),a=d8(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function Eb(t,e){return r=>r>0?e:t}const h8=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},Eve=[yB,Rd,H0],Mve=t=>Eve.find(e=>e.test(t));function bj(t){const e=Mve(t);if(!e)return!1;let r=e.parse(t);return e===H0&&(r=kve(r)),r}const wj=(t,e)=>{const r=bj(t),n=bj(e);if(!r||!n)return Eb(t,e);const i={...r};return s=>(i.red=h8(r.red,n.red,s),i.green=h8(r.green,n.green,s),i.blue=h8(r.blue,n.blue,s),i.alpha=Cr(r.alpha,n.alpha,s),Rd.transform(i))},wB=new Set(["none","hidden"]);function Fve(t,e){return wB.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Tve(t,e){return r=>Cr(t,e,r)}function nM(t){return typeof t=="number"?Tve:typeof t=="string"?GE(t)?Eb:Kn.test(t)?wj:Nve:Array.isArray(t)?_X:typeof t=="object"?Kn.test(t)?wj:Dve:Eb}function _X(t,e){const r=[...t],n=r.length,i=t.map((s,a)=>nM(s)(s,e[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function Dve(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=nM(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function Lve(t,e){var r;const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][i[a]],l=(r=t.values[o])!==null&&r!==void 0?r:0;n[s]=l,i[a]++}return n}const Nve=(t,e)=>{const r=Su.createTransformer(e),n=jg(t),i=jg(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?wB.has(t)&&!i.values.length||wB.has(e)&&!n.values.length?Fve(t,e):j1(_X(Lve(n,i),i.values),r):Eb(t,e)};function kX(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Cr(t,e,r):nM(t)(t,e)}function jve(t,e,r){const n=[],i=r||kX,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||gs:e;o=j1(l,o)}n.push(o)}return n}function Ive(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(pB(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=jve(e,n,i),o=a.length,l=c=>{let u=0;if(o>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=$A(t[u],t[u+1],c);return a[u](d)};return r?c=>l(Pl(t[0],t[s-1],c)):l}function Ove(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=$A(0,e,n);t.push(Cr(r,1,i))}}function Pve(t){const e=[0];return Ove(e,t.length-1),e}function Uve(t,e){return t.map(r=>r*e)}function Qve(t,e){return t.map(()=>e||BX).splice(0,t.length-1)}function Mb({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=Bve(n)?n.map(xj):xj(n),s={done:!1,value:e[0]},a=Uve(r&&r.length===e.length?r:Pve(e),t),o=Ive(a,e,{ease:Array.isArray(i)?i:Qve(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const Rve=t=>{const e=({timestamp:r})=>t(r);return{start:()=>lr.update(e,!0),stop:()=>Cu(e),now:()=>kn.isProcessing?kn.timestamp:So.now()}},Hve={decay:yj,inertia:yj,tween:Mb,keyframes:Mb,spring:SX},zve=t=>t/100;class iM extends vX{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:r,motionValue:n,element:i,keyframes:s}=this.options,a=(i==null?void 0:i.KeyframeResolver)||XE,o=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new a(s,o,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,o=tM(r)?r:Hve[r]||Mb;let l,c;o!==Mb&&typeof e[0]!="number"&&(l=j1(zve,kX(e[0],e[1])),e=[0,100]);const u=o({...this.options,keyframes:e});s==="mirror"&&(c=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=CX(u));const{calculatedDuration:d}=u,A=d+i,f=A*(n+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:A,totalDuration:f}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:n}=this;if(!n){const{keyframes:B}=this.options;return{done:!0,value:B[B.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=n;if(this.startTime===null)return s.next(0);const{delay:A,repeat:f,repeatType:p,repeatDelay:m,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-A*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>u;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let x=this.currentTime,b=s;if(f){const B=Math.min(this.currentTime,u)/d;let E=Math.floor(B),M=B%1;!M&&B>=1&&(M=1),M===1&&E--,E=Math.min(E,f+1),!!(E%2)&&(p==="reverse"?(M=1-M,m&&(M-=m/d)):p==="mirror"&&(b=a)),x=Pl(0,1,M)*d}const w=v?{done:!1,value:l[0]}:b.next(x);o&&(w.value=o(w.value));let{done:C}=w;!v&&c!==null&&(C=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return S&&i!==void 0&&(w.value=jw(l,this.options,i)),y&&y(w.value),S&&this.finish(),w}get duration(){const{resolved:e}=this;return e?Sl(e.calculatedDuration):0}get time(){return Sl(this.currentTime)}set time(e){e=Cl(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Sl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Rve,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const $ve=new Set(["opacity","clipPath","filter","transform"]);function sM(t){let e;return()=>(e===void 0&&(e=t()),e)}const Vve={linearEasing:void 0};function Kve(t,e){const r=sM(t);return()=>{var n;return(n=Vve[e])!==null&&n!==void 0?n:r()}}const Fb=Kve(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function EX(t){return!!(typeof t=="function"&&Fb()||!t||typeof t=="string"&&(t in CB||Fb())||rM(t)||Array.isArray(t)&&t.every(EX))}const Rp=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,CB={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rp([0,.65,.55,1]),circOut:Rp([.55,0,1,.45]),backIn:Rp([.31,.01,.66,-.59]),backOut:Rp([.33,1.53,.69,.99])};function MX(t,e){if(t)return typeof t=="function"&&Fb()?xX(t,e):rM(t)?Rp(t):Array.isArray(t)?t.map(r=>MX(r,e)||CB.easeOut):CB[t]}function qve(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const c={[e]:r};l&&(c.offset=l);const u=MX(o,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:n,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}function Cj(t,e){t.timeline=e,t.onfinish=null}const Wve=sM(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Tb=10,Gve=2e4;function Xve(t){return tM(t.type)||t.type==="spring"||!EX(t.ease)}function Yve(t,e){const r=new iM({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const i=[];let s=0;for(;!n.done&&s<Gve;)n=r.sample(s),i.push(n.value),s+=Tb;return{times:void 0,keyframes:i,duration:s-Tb,ease:"linear"}}const FX={anticipate:eX,backInOut:ZG,circInOut:rX};function Jve(t){return t in FX}class Sj extends vX{constructor(e){super(e);const{name:r,motionValue:n,element:i,keyframes:s}=this.options;this.resolver=new yX(s,(a,o)=>this.onKeyframesResolved(a,o),r,n,i),this.resolver.scheduleResolve()}initPlayback(e,r){var n;let{duration:i=300,times:s,ease:a,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!(!((n=l.owner)===null||n===void 0)&&n.current))return!1;if(typeof a=="string"&&Fb()&&Jve(a)&&(a=FX[a]),Xve(this.options)){const{onComplete:A,onUpdate:f,motionValue:p,element:m,...y}=this.options,g=Yve(e,y);e=g.keyframes,e.length===1&&(e[1]=e[0]),i=g.duration,s=g.times,a=g.ease,o="keyframes"}const d=qve(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:a});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Cj(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:A}=this.options;l.set(jw(e,this.options,r)),A&&A(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:s,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return Sl(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return Sl(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Cl(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return gs;const{animation:n}=r;Cj(n,e)}return gs}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:n,duration:i,type:s,ease:a,times:o}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:A,...f}=this.options,p=new iM({...f,keyframes:n,duration:i,type:s,ease:a,times:o,isGenerator:!0}),m=Cl(this.time);c.setWithVelocity(p.sample(m-Tb).value,p.sample(m).value,Tb)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:n,repeatDelay:i,repeatType:s,damping:a,type:o}=e;return Wve()&&n&&$ve.has(n)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!i&&s!=="mirror"&&a!==0&&o!=="inertia"}}const Zve=sM(()=>window.ScrollTimeline!==void 0);class e4e{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,r){return Promise.all(this.animations).then(e).catch(r)}getAll(e){return this.animations[0][e]}setAll(e,r){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=r}attachTimeline(e,r){const n=this.animations.map(i=>Zve()&&i.attachTimeline?i.attachTimeline(e):r(i));return()=>{n.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function t4e({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const aM=(t,e,r,n={},i,s)=>a=>{const o=KE(n,t)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Cl(l);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:A=>{e.set(A),o.onUpdate&&o.onUpdate(A)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};t4e(o)||(u={...u,..._2e(t,u)}),u.duration&&(u.duration=Cl(u.duration)),u.repeatDelay&&(u.repeatDelay=Cl(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const A=jw(u.keyframes,o);if(A!==void 0)return lr.update(()=>{u.onUpdate(A),u.onComplete()}),new e4e([])}return!s&&Sj.supports(u)?new Sj(u):new iM(u)},r4e=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),n4e=t=>fB(t)?t[t.length-1]||0:t;function oM(t,e){t.indexOf(e)===-1&&t.push(e)}function lM(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class cM{constructor(){this.subscriptions=[]}add(e){return oM(this.subscriptions,e),()=>lM(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bj=30,i4e=t=>!isNaN(parseFloat(t));class s4e{constructor(e,r={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const s=So.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=So.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=i4e(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new cM);const n=this.events[e].add(r);return e==="change"?()=>{n(),lr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=So.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Bj)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Bj);return bX(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ig(t,e){return new s4e(t,e)}function a4e(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Ig(r))}function o4e(t,e){const r=Nw(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const o=n4e(s[a]);a4e(t,a,o)}}const uM=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),l4e="framerAppearId",TX="data-"+uM(l4e);function DX(t){return t.props[TX]}const Yn=t=>!!(t&&t.getVelocity);function c4e(t){return!!(Yn(t)&&t.add)}function SB(t,e){const r=t.getValue("willChange");if(c4e(r))return r.add(e)}function u4e({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function LX(t,e,{delay:r=0,transitionOverride:n,type:i}={}){var s;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(a=n);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const A=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),f=l[d];if(f===void 0||u&&u4e(u,d))continue;const p={delay:r,...KE(a||{},d)};let m=!1;if(window.MotionHandoffAnimation){const g=DX(t);if(g){const v=window.MotionHandoffAnimation(g,d,lr);v!==null&&(p.startTime=v,m=!0)}}SB(t,d),A.start(aM(d,A,f,t.shouldReduceMotion&&Dh.has(d)?{type:!1}:p,t,m));const y=A.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{lr.update(()=>{o&&o4e(t,o)})}),c}function BB(t,e,r={}){var n;const i=Nw(t,e,r.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(s=r.transitionOverride);const a=i?()=>Promise.all(LX(t,i,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:A}=s;return d4e(t,e,u+c,d,A,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>u())}else return Promise.all([a(),o(r.delay)])}function d4e(t,e,r=0,n=0,i=1,s){const a=[],o=(t.variantChildren.size-1)*n,l=i===1?(c=0)=>c*n:(c=0)=>o-c*n;return Array.from(t.variantChildren).sort(h4e).forEach((c,u)=>{c.notify("AnimationStart",e),a.push(BB(c,e,{...s,delay:r+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function h4e(t,e){return t.sortNodePosition(e)}function A4e(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>BB(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=BB(t,e,r);else{const i=typeof e=="function"?Nw(t,e,r.custom):e;n=Promise.all(LX(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const f4e=VE.length;function NX(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?NX(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<f4e;r++){const n=VE[r],i=t.props[n];(Lg(i)||i===!1)&&(e[n]=i)}return e}const p4e=[...$E].reverse(),m4e=$E.length;function g4e(t){return e=>Promise.all(e.map(({animation:r,options:n})=>A4e(t,r,n)))}function y4e(t){let e=g4e(t),r=_j(),n=!0;const i=l=>(c,u)=>{var d;const A=Nw(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(A){const{transition:f,transitionEnd:p,...m}=A;c={...c,...m,...p}}return c};function s(l){e=l(t)}function a(l){const{props:c}=t,u=NX(t.parent)||{},d=[],A=new Set;let f={},p=1/0;for(let y=0;y<m4e;y++){const g=p4e[y],v=r[g],x=c[g]!==void 0?c[g]:u[g],b=Lg(x),w=g===l?v.isActive:null;w===!1&&(p=y);let C=x===u[g]&&x!==c[g]&&b;if(C&&n&&t.manuallyAnimateOnMount&&(C=!1),v.protectedKeys={...f},!v.isActive&&w===null||!x&&!v.prevProp||Lw(x)||typeof x=="boolean")continue;const S=v4e(v.prevProp,x);let B=S||g===l&&v.isActive&&!C&&b||y>p&&b,E=!1;const M=Array.isArray(x)?x:[x];let D=M.reduce(i(g),{});w===!1&&(D={});const{prevResolvedValues:L={}}=v,I={...L,...D},z=$=>{B=!0,A.has($)&&(E=!0,A.delete($)),v.needsAnimating[$]=!0;const P=t.getValue($);P&&(P.liveStyle=!1)};for(const $ in I){const P=D[$],q=L[$];if(f.hasOwnProperty($))continue;let N=!1;fB(P)&&fB(q)?N=!qG(P,q):N=P!==q,N?P!=null?z($):A.add($):P!==void 0&&A.has($)?z($):v.protectedKeys[$]=!0}v.prevProp=x,v.prevResolvedValues=D,v.isActive&&(f={...f,...D}),n&&t.blockInitialAnimation&&(B=!1),B&&(!(C&&S)||E)&&d.push(...M.map($=>({animation:$,options:{type:g}})))}if(A.size){const y={};A.forEach(g=>{const v=t.getBaseTarget(g),x=t.getValue(g);x&&(x.liveStyle=!0),y[g]=v??null}),d.push({animation:y})}let m=!!d.length;return n&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(m=!1),n=!1,m?e(d):Promise.resolve()}function o(l,c){var u;if(r[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(A=>{var f;return(f=A.animationState)===null||f===void 0?void 0:f.setActive(l,c)}),r[l].isActive=c;const d=a(l);for(const A in r)r[A].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>r,reset:()=>{r=_j(),n=!0}}}function v4e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!qG(e,t):!1}function Ju(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _j(){return{animate:Ju(!0),whileInView:Ju(),whileHover:Ju(),whileTap:Ju(),whileDrag:Ju(),whileFocus:Ju(),exit:Ju()}}class Ru{constructor(e){this.isMounted=!1,this.node=e}update(){}}class x4e extends Ru{constructor(e){super(e),e.animationState||(e.animationState=y4e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Lw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let b4e=0;class w4e extends Ru{constructor(){super(...arguments),this.id=b4e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const C4e={animation:{Feature:x4e},exit:{Feature:w4e}},fa={x:!1,y:!1};function jX(){return fa.x||fa.y}function S4e(t,e,r){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function IX(t,e){const r=S4e(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function kj(t){return e=>{e.pointerType==="touch"||jX()||t(e)}}function B4e(t,e,r={}){const[n,i,s]=IX(t,r),a=kj(o=>{const{target:l}=o,c=e(o);if(!c||!l)return;const u=kj(d=>{c(d),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return n.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const dM=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Hp=new WeakSet;function Ej(t){return e=>{e.key==="Enter"&&t(e)}}function A8(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const _4e=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=Ej(()=>{if(Hp.has(r))return;A8(r,"down");const i=Ej(()=>{A8(r,"up")}),s=()=>A8(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)},k4e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function E4e(t){return k4e.has(t.tagName)||t.tabIndex!==-1}const OX=(t,e)=>e?t===e?!0:OX(t,e.parentElement):!1;function Mj(t){return dM(t)&&!jX()}function M4e(t,e,r={}){const[n,i,s]=IX(t,r),a=o=>{const l=o.currentTarget;if(!Mj(o)||Hp.has(l))return;Hp.add(l);const c=e(o),u=(f,p)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",A),!(!Mj(f)||!Hp.has(l))&&(Hp.delete(l),c&&c(f,{success:p}))},d=f=>{u(f,r.useGlobalTarget||OX(l,f.target))},A=f=>{u(f,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",A,i)};return n.forEach(o=>{E4e(o)||(o.tabIndex=0),(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),o.addEventListener("focus",c=>_4e(c,i),i)}),s}function F4e(t){return t==="x"||t==="y"?fa[t]?null:(fa[t]=!0,()=>{fa[t]=!1}):fa.x||fa.y?null:(fa.x=fa.y=!0,()=>{fa.x=fa.y=!1})}function I1(t){return{point:{x:t.pageX,y:t.pageY}}}const T4e=t=>e=>dM(e)&&t(e,I1(e));function Og(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function km(t,e,r,n){return Og(t,e,T4e(r),n)}const Fj=(t,e)=>Math.abs(t-e);function D4e(t,e){const r=Fj(t.x,e.x),n=Fj(t.y,e.y);return Math.sqrt(r**2+n**2)}class PX{constructor(e,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=p8(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,f=D4e(d.offset,{x:0,y:0})>=3;if(!A&&!f)return;const{point:p}=d,{timestamp:m}=kn;this.history.push({...p,timestamp:m});const{onStart:y,onMove:g}=this.handlers;A||(y&&y(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,A)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=f8(A,this.transformPagePoint),lr.update(this.updatePoint,!0)},this.handlePointerUp=(d,A)=>{this.end();const{onEnd:f,onSessionEnd:p,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=p8(d.type==="pointercancel"?this.lastMoveEventInfo:f8(A,this.transformPagePoint),this.history);this.startEvent&&f&&f(d,y),p&&p(d,y)},!dM(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const a=I1(e),o=f8(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=kn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=r;u&&u(e,p8(o,this.history)),this.removeListeners=j1(km(this.contextWindow,"pointermove",this.handlePointerMove),km(this.contextWindow,"pointerup",this.handlePointerUp),km(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Cu(this.updatePoint)}}function f8(t,e){return e?{point:e(t.point)}:t}function Tj(t,e){return{x:t.x-e.x,y:t.y-e.y}}function p8({point:t},e){return{point:t,delta:Tj(t,UX(e)),offset:Tj(t,L4e(e)),velocity:N4e(e,.1)}}function L4e(t){return t[0]}function UX(t){return t[t.length-1]}function N4e(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=UX(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Cl(e)));)r--;if(!n)return{x:0,y:0};const s=Sl(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function z0(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const QX=1e-4,j4e=1-QX,I4e=1+QX,RX=.01,O4e=0-RX,P4e=0+RX;function bs(t){return t.max-t.min}function U4e(t,e,r){return Math.abs(t-e)<=r}function Dj(t,e,r,n=.5){t.origin=n,t.originPoint=Cr(e.min,e.max,t.origin),t.scale=bs(r)/bs(e),t.translate=Cr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=j4e&&t.scale<=I4e||isNaN(t.scale))&&(t.scale=1),(t.translate>=O4e&&t.translate<=P4e||isNaN(t.translate))&&(t.translate=0)}function Em(t,e,r,n){Dj(t.x,e.x,r.x,n?n.originX:void 0),Dj(t.y,e.y,r.y,n?n.originY:void 0)}function Lj(t,e,r){t.min=r.min+e.min,t.max=t.min+bs(e)}function Q4e(t,e,r){Lj(t.x,e.x,r.x),Lj(t.y,e.y,r.y)}function Nj(t,e,r){t.min=e.min-r.min,t.max=t.min+bs(e)}function Mm(t,e,r){Nj(t.x,e.x,r.x),Nj(t.y,e.y,r.y)}function R4e(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Cr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Cr(r,t,n.max):Math.min(t,r)),t}function jj(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function H4e(t,{top:e,left:r,bottom:n,right:i}){return{x:jj(t.x,r,i),y:jj(t.y,e,n)}}function Ij(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function z4e(t,e){return{x:Ij(t.x,e.x),y:Ij(t.y,e.y)}}function $4e(t,e){let r=.5;const n=bs(t),i=bs(e);return i>n?r=$A(e.min,e.max-n,t.min):n>i&&(r=$A(t.min,t.max-i,e.min)),Pl(0,1,r)}function V4e(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const _B=.35;function K4e(t=_B){return t===!1?t=0:t===!0&&(t=_B),{x:Oj(t,"left","right"),y:Oj(t,"top","bottom")}}function Oj(t,e,r){return{min:Pj(t,e),max:Pj(t,r)}}function Pj(t,e){return typeof t=="number"?t:t[e]||0}const Uj=()=>({translate:0,scale:1,origin:0,originPoint:0}),$0=()=>({x:Uj(),y:Uj()}),Qj=()=>({min:0,max:0}),Ir=()=>({x:Qj(),y:Qj()});function Is(t){return[t("x"),t("y")]}function HX({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function q4e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function W4e(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function m8(t){return t===void 0||t===1}function kB({scale:t,scaleX:e,scaleY:r}){return!m8(t)||!m8(e)||!m8(r)}function bd(t){return kB(t)||zX(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function zX(t){return Rj(t.x)||Rj(t.y)}function Rj(t){return t&&t!=="0%"}function Db(t,e,r){const n=t-r,i=e*n;return r+i}function Hj(t,e,r,n,i){return i!==void 0&&(t=Db(t,i,n)),Db(t,r,n)+e}function EB(t,e=0,r=1,n,i){t.min=Hj(t.min,e,r,n,i),t.max=Hj(t.max,e,r,n,i)}function $X(t,{x:e,y:r}){EB(t.x,e.translate,e.scale,e.originPoint),EB(t.y,r.translate,r.scale,r.originPoint)}const zj=.999999999999,$j=1.0000000000001;function G4e(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=r[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&K0(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,$X(t,a)),n&&bd(s.latestValues)&&K0(t,s.latestValues))}e.x<$j&&e.x>zj&&(e.x=1),e.y<$j&&e.y>zj&&(e.y=1)}function V0(t,e){t.min=t.min+e,t.max=t.max+e}function Vj(t,e,r,n,i=.5){const s=Cr(t.min,t.max,i);EB(t,e,r,s,n)}function K0(t,e){Vj(t.x,e.x,e.scaleX,e.scale,e.originX),Vj(t.y,e.y,e.scaleY,e.scale,e.originY)}function VX(t,e){return HX(W4e(t.getBoundingClientRect(),e))}function X4e(t,e,r){const n=VX(t,r),{scroll:i}=e;return i&&(V0(n.x,i.offset.x),V0(n.y,i.offset.y)),n}const KX=({current:t})=>t?t.ownerDocument.defaultView:null,Y4e=new WeakMap;class J4e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ir(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(I1(u).point)},s=(u,d)=>{const{drag:A,dragPropagation:f,onDragStart:p}=this.getProps();if(A&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=F4e(A),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Is(y=>{let g=this.getAxisMotionValue(y).get()||0;if(Co.test(g)){const{projection:v}=this.visualElement;if(v&&v.layout){const x=v.layout.layoutBox[y];x&&(g=bs(x)*(parseFloat(g)/100))}}this.originPoint[y]=g}),p&&lr.postRender(()=>p(u,d)),SB(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},a=(u,d)=>{const{dragPropagation:A,dragDirectionLock:f,onDirectionLock:p,onDrag:m}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:y}=d;if(f&&this.currentDirection===null){this.currentDirection=Z4e(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",d.point,y),this.updateAxis("y",d.point,y),this.visualElement.render(),m&&m(u,d)},o=(u,d)=>this.stop(u,d),l=()=>Is(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new PX(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:KX(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&lr.postRender(()=>s(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!Oy(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=R4e(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;r&&z0(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=H4e(i.layoutBox,r):this.constraints=!1,this.elastic=K4e(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Is(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=V4e(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!z0(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=X4e(n,i.root,this.visualElement.getTransformPagePoint());let a=z4e(i.layout.layoutBox,s);if(r){const o=r(q4e(a));this.hasMutatedConstraints=!!o,o&&(a=HX(o))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Is(u=>{if(!Oy(u,r,this.currentDirection))return;let d=l[u]||{};a&&(d={min:0,max:0});const A=i?200:1e6,f=i?40:1e7,p={type:"inertia",velocity:n?e[u]:0,bounceStiffness:A,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(o)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return SB(this.visualElement,e),n.start(aM(e,n,0,r,this.visualElement,!1))}stopAnimation(){Is(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Is(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Is(r=>{const{drag:n}=this.getProps();if(!Oy(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[r];s.set(e[r]-Cr(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!z0(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Is(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=$4e({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Is(a=>{if(!Oy(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(Cr(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;Y4e.set(this.visualElement,this);const e=this.visualElement.current,r=km(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();z0(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),lr.read(n);const a=Og(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Is(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{a(),r(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=_B,dragMomentum:o=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Oy(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Z4e(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class exe extends Ru{constructor(e){super(e),this.removeGroupControls=gs,this.removeListeners=gs,this.controls=new J4e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gs}unmount(){this.removeGroupControls(),this.removeListeners()}}const Kj=t=>(e,r)=>{t&&lr.postRender(()=>t(e,r))};class txe extends Ru{constructor(){super(...arguments),this.removePointerDownListener=gs}onPointerDown(e){this.session=new PX(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KX(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Kj(e),onStart:Kj(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&lr.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=km(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Iw=_.createContext(null);function rxe(){const t=_.useContext(Iw);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,i=_.useId();_.useEffect(()=>n(i),[]);const s=_.useCallback(()=>r&&r(i),[i,r]);return!e&&r?[!1,s]:[!0]}const hM=_.createContext({}),qX=_.createContext({}),O4={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qj(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qf={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Je.test(t))t=parseFloat(t);else return t;const r=qj(t,e.target.x),n=qj(t,e.target.y);return`${r}% ${n}%`}},nxe={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=Su.parse(t);if(i.length>5)return n;const s=Su.createTransformer(t),a=typeof i[0]!="number"?1:0,o=r.x.scale*e.x,l=r.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=Cr(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}},Lb={};function ixe(t){Object.assign(Lb,t)}const{schedule:AM,cancel:ize}=WG(queueMicrotask,!1);class sxe extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;ixe(axe),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),O4.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,a=n.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==r||r===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||lr.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),AM.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function WX(t){const[e,r]=rxe(),n=_.useContext(hM);return h.jsx(sxe,{...t,layoutGroup:n,switchLayoutGroup:_.useContext(qX),isPresent:e,safeToRemove:r})}const axe={borderRadius:{...qf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qf,borderTopRightRadius:qf,borderBottomLeftRadius:qf,borderBottomRightRadius:qf,boxShadow:nxe},GX=["TopLeft","TopRight","BottomLeft","BottomRight"],oxe=GX.length,Wj=t=>typeof t=="string"?parseFloat(t):t,Gj=t=>typeof t=="number"||Je.test(t);function lxe(t,e,r,n,i,s){i?(t.opacity=Cr(0,r.opacity!==void 0?r.opacity:1,cxe(n)),t.opacityExit=Cr(e.opacity!==void 0?e.opacity:1,0,uxe(n))):s&&(t.opacity=Cr(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let a=0;a<oxe;a++){const o=`border${GX[a]}Radius`;let l=Xj(e,o),c=Xj(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Gj(l)===Gj(c)?(t[o]=Math.max(Cr(Wj(l),Wj(c),n),0),(Co.test(c)||Co.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||r.rotate)&&(t.rotate=Cr(e.rotate||0,r.rotate||0,n))}function Xj(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const cxe=XX(0,.5,tX),uxe=XX(.5,.95,gs);function XX(t,e,r){return n=>n<t?0:n>e?1:r($A(t,e,n))}function Yj(t,e){t.min=e.min,t.max=e.max}function Es(t,e){Yj(t.x,e.x),Yj(t.y,e.y)}function Jj(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Zj(t,e,r,n,i){return t-=e,t=Db(t,1/r,n),i!==void 0&&(t=Db(t,1/i,n)),t}function dxe(t,e=0,r=1,n=.5,i,s=t,a=t){if(Co.test(e)&&(e=parseFloat(e),e=Cr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Cr(s.min,s.max,n);t===s&&(o-=e),t.min=Zj(t.min,e,r,o,i),t.max=Zj(t.max,e,r,o,i)}function eI(t,e,[r,n,i],s,a){dxe(t,e[r],e[n],e[i],e.scale,s,a)}const hxe=["x","scaleX","originX"],Axe=["y","scaleY","originY"];function tI(t,e,r,n){eI(t.x,e,hxe,r?r.x:void 0,n?n.x:void 0),eI(t.y,e,Axe,r?r.y:void 0,n?n.y:void 0)}function rI(t){return t.translate===0&&t.scale===1}function YX(t){return rI(t.x)&&rI(t.y)}function nI(t,e){return t.min===e.min&&t.max===e.max}function fxe(t,e){return nI(t.x,e.x)&&nI(t.y,e.y)}function iI(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function JX(t,e){return iI(t.x,e.x)&&iI(t.y,e.y)}function sI(t){return bs(t.x)/bs(t.y)}function aI(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class pxe{constructor(){this.members=[]}add(e){oM(this.members,e),e.scheduleRender()}remove(e){if(lM(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mxe(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(r==null?void 0:r.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:A,skewX:f,skewY:p}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),d&&(n+=`rotateX(${d}deg) `),A&&(n+=`rotateY(${A}deg) `),f&&(n+=`skewX(${f}deg) `),p&&(n+=`skewY(${p}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const gxe=(t,e)=>t.depth-e.depth;class yxe{constructor(){this.children=[],this.isDirty=!1}add(e){oM(this.children,e),this.isDirty=!0}remove(e){lM(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(gxe),this.isDirty=!1,this.children.forEach(e)}}function P4(t){const e=Yn(t)?t.get():t;return r4e(e)?e.toValue():e}function vxe(t,e){const r=So.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(Cu(n),t(s-e))};return lr.read(n,!0),()=>Cu(n)}function xxe(t){return t instanceof SVGElement&&t.tagName!=="svg"}function bxe(t,e,r){const n=Yn(t)?t:Ig(t);return n.start(aM("",n,e,r)),n.animation}const wd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},zp=typeof window<"u"&&window.MotionDebug!==void 0,g8=["","X","Y","Z"],wxe={visibility:"hidden"},oI=1e3;let Cxe=0;function y8(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function ZX(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=DX(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",lr,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&ZX(n)}function eY({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=Cxe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,zp&&(wd.totalNodes=wd.resolvedTargetDeltas=wd.recalculatedProjection=0),this.nodes.forEach(_xe),this.nodes.forEach(Txe),this.nodes.forEach(Dxe),this.nodes.forEach(kxe),zp&&window.MotionDebug.record(wd)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new yxe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new cM),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=xxe(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const A=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=vxe(A,250),O4.hasAnimatedSinceResize&&(O4.hasAnimatedSinceResize=!1,this.nodes.forEach(cI))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:A,hasRelativeTargetChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||Oxe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:g}=u.getProps(),v=!this.targetLayout||!JX(this.targetLayout,p)||f,x=!A&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||A&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const b={...KE(m,"layout"),onPlay:y,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else A||cI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Cu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Lxe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ZX(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lI);return}this.isUpdating||this.nodes.forEach(Mxe),this.isUpdating=!1,this.nodes.forEach(Fxe),this.nodes.forEach(Sxe),this.nodes.forEach(Bxe),this.clearAllSnapshots();const o=So.now();kn.delta=Pl(0,1e3/60,o-kn.timestamp),kn.timestamp=o,kn.isProcessing=!0,l8.update.process(kn),l8.preRender.process(kn),l8.render.process(kn),kn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,AM.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Exe),this.sharedNodes.forEach(Nxe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,lr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){lr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ir(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!YX(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&(o||bd(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),Pxe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Ir();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(Uxe))){const{scroll:u}=this.root;u&&(V0(l.x,u.offset.x),V0(l.y,u.offset.y))}return l}removeElementScroll(a){var o;const l=Ir();if(Es(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:A}=u;u!==this.root&&d&&A.layoutScroll&&(d.wasRoot&&Es(l,a),V0(l.x,d.offset.x),V0(l.y,d.offset.y))}return l}applyTransform(a,o=!1){const l=Ir();Es(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&K0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),bd(u.latestValues)&&K0(l,u.latestValues)}return bd(this.latestValues)&&K0(l,this.latestValues),l}removeTransform(a){const o=Ir();Es(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!bd(c.latestValues))continue;kB(c.latestValues)&&c.updateSnapshot();const u=Ir(),d=c.measurePageBox();Es(u,d),tI(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return bd(this.latestValues)&&tI(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:A}=this.options;if(!(!this.layout||!(d||A))){if(this.resolvedRelativeTargetAt=kn.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ir(),this.relativeTargetOrigin=Ir(),Mm(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Es(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ir(),this.targetWithTransforms=Ir()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Q4e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Es(this.target,this.layout.layoutBox),$X(this.target,this.targetDelta)):Es(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ir(),this.relativeTargetOrigin=Ir(),Mm(this.relativeTargetOrigin,this.target,f.target),Es(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}zp&&wd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||kB(this.parent.latestValues)||zX(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===kn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Es(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,f=this.treeScale.y;G4e(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ir());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Jj(this.prevProjectionDelta.x,this.projectionDelta.x),Jj(this.prevProjectionDelta.y,this.projectionDelta.y)),Em(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==f||!aI(this.projectionDelta.x,this.prevProjectionDelta.x)||!aI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),zp&&wd.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$0(),this.projectionDelta=$0(),this.projectionDeltaWithTransform=$0()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=$0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const A=Ir(),f=l?l.source:void 0,p=this.layout?this.layout.source:void 0,m=f!==p,y=this.getStack(),g=!y||y.members.length<=1,v=!!(m&&!g&&this.options.crossfade===!0&&!this.path.some(Ixe));this.animationProgress=0;let x;this.mixTargetDelta=b=>{const w=b/1e3;uI(d.x,a.x,w),uI(d.y,a.y,w),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mm(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jxe(this.relativeTarget,this.relativeTargetOrigin,A,w),x&&fxe(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Ir()),Es(x,this.relativeTarget)),m&&(this.animationValues=u,lxe(u,c,this.latestValues,w,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Cu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lr.update(()=>{O4.hasAnimatedSinceResize=!0,this.currentAnimation=bxe(0,oI,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&tY(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ir();const d=bs(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const A=bs(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+A}Es(o,l),K0(o,u),Em(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new pxe),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&y8("z",a,c,this.animationValues);for(let u=0;u<g8.length;u++)y8(`rotate${g8[u]}`,a,c,this.animationValues),y8(`skew${g8[u]}`,a,c,this.animationValues);a.render();for(const u in c)a.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return wxe;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=P4(a==null?void 0:a.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=P4(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!bd(this.latestValues)&&(m.transform=u?u({},""):"none",this.hasProjected=!1),m}const A=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=mxe(this.projectionDeltaWithTransform,this.treeScale,A),u&&(c.transform=u(A,c.transform));const{x:f,y:p}=this.projectionDelta;c.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(o=A.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:A.opacityExit:c.opacity=d===this?A.opacity!==void 0?A.opacity:"":A.opacityExit!==void 0?A.opacityExit:0;for(const m in Lb){if(A[m]===void 0)continue;const{correct:y,applyTo:g}=Lb[m],v=c.transform==="none"?A[m]:y(A[m],d);if(g){const x=g.length;for(let b=0;b<x;b++)c[g[b]]=v}else c[m]=v}return this.options.layoutId&&(c.pointerEvents=d===this?P4(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(lI),this.root.sharedNodes.clear()}}}function Sxe(t){t.updateLayout()}function Bxe(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,a=r.source!==t.layout.source;s==="size"?Is(d=>{const A=a?r.measuredBox[d]:r.layoutBox[d],f=bs(A);A.min=n[d].min,A.max=A.min+f}):tY(s,r.layoutBox,n)&&Is(d=>{const A=a?r.measuredBox[d]:r.layoutBox[d],f=bs(n[d]);A.max=A.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const o=$0();Em(o,n,r.layoutBox);const l=$0();a?Em(l,t.applyTransform(i,!0),r.measuredBox):Em(l,n,r.layoutBox);const c=!YX(o);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:A,layout:f}=d;if(A&&f){const p=Ir();Mm(p,r.layoutBox,A.layoutBox);const m=Ir();Mm(m,n,f.layoutBox),JX(p,m)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=p,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function _xe(t){zp&&wd.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function kxe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Exe(t){t.clearSnapshot()}function lI(t){t.clearMeasurements()}function Mxe(t){t.isLayoutDirty=!1}function Fxe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function cI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Txe(t){t.resolveTargetDelta()}function Dxe(t){t.calcProjection()}function Lxe(t){t.resetSkewAndRotation()}function Nxe(t){t.removeLeadSnapshot()}function uI(t,e,r){t.translate=Cr(e.translate,0,r),t.scale=Cr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function dI(t,e,r,n){t.min=Cr(e.min,r.min,n),t.max=Cr(e.max,r.max,n)}function jxe(t,e,r,n){dI(t.x,e.x,r.x,n),dI(t.y,e.y,r.y,n)}function Ixe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Oxe={duration:.45,ease:[.4,0,.1,1]},hI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),AI=hI("applewebkit/")&&!hI("chrome/")?Math.round:gs;function fI(t){t.min=AI(t.min),t.max=AI(t.max)}function Pxe(t){fI(t.x),fI(t.y)}function tY(t,e,r){return t==="position"||t==="preserve-aspect"&&!U4e(sI(e),sI(r),.2)}function Uxe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Qxe=eY({attachResizeListener:(t,e)=>Og(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),v8={current:void 0},rY=eY({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!v8.current){const t=new Qxe({});t.mount(window),t.setOptions({layoutScroll:!0}),v8.current=t}return v8.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Rxe={pan:{Feature:txe},drag:{Feature:exe,ProjectionNode:rY,MeasureLayout:WX}};function pI(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&lr.postRender(()=>s(e,I1(e)))}class Hxe extends Ru{mount(){const{current:e}=this.node;e&&(this.unmount=B4e(e,r=>(pI(this.node,r,"Start"),n=>pI(this.node,n,"End"))))}unmount(){}}class zxe extends Ru{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=j1(Og(this.node.current,"focus",()=>this.onFocus()),Og(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mI(t,e,r){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&lr.postRender(()=>s(e,I1(e)))}class $xe extends Ru{mount(){const{current:e}=this.node;e&&(this.unmount=M4e(e,r=>(mI(this.node,r,"Start"),(n,{success:i})=>mI(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const MB=new WeakMap,x8=new WeakMap,Vxe=t=>{const e=MB.get(t.target);e&&e(t)},Kxe=t=>{t.forEach(Vxe)};function qxe({root:t,...e}){const r=t||document;x8.has(r)||x8.set(r,{});const n=x8.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(Kxe,{root:t,...e})),n[i]}function Wxe(t,e,r){const n=qxe(e);return MB.set(t,r),n.observe(t),()=>{MB.delete(t),n.unobserve(t)}}const Gxe={some:0,all:1};class Xxe extends Ru{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Gxe[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),A=c?u:d;A&&A(l)};return Wxe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Yxe(e,r))&&this.startObserver()}unmount(){}}function Yxe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Jxe={inView:{Feature:Xxe},tap:{Feature:$xe},focus:{Feature:zxe},hover:{Feature:Hxe}},Zxe={layout:{ProjectionNode:rY,MeasureLayout:WX}},fM=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Ow=_.createContext({}),pM=typeof window<"u",nY=pM?_.useLayoutEffect:_.useEffect,iY=_.createContext({strict:!1});function ebe(t,e,r,n,i){var s,a;const{visualElement:o}=_.useContext(Ow),l=_.useContext(iY),c=_.useContext(Iw),u=_.useContext(fM).reducedMotion,d=_.useRef(null);n=n||l.renderer,!d.current&&n&&(d.current=n(t,{visualState:e,parent:o,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const A=d.current,f=_.useContext(qX);A&&!A.projection&&i&&(A.type==="html"||A.type==="svg")&&tbe(d.current,r,i,f);const p=_.useRef(!1);_.useInsertionEffect(()=>{A&&p.current&&A.update(r,c)});const m=r[TX],y=_.useRef(!!m&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,m))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,m)));return nY(()=>{A&&(p.current=!0,window.MotionIsMounted=!0,A.updateFeatures(),AM.render(A.render),y.current&&A.animationState&&A.animationState.animateChanges())}),_.useEffect(()=>{A&&(!y.current&&A.animationState&&A.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,m)}),y.current=!1))}),A}function tbe(t,e,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:sY(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&z0(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:c})}function sY(t){if(t)return t.options.allowProjection!==!1?t.projection:sY(t.parent)}function rbe(t,e,r){return _.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):z0(r)&&(r.current=n))},[e])}function Pw(t){return Lw(t.animate)||VE.some(e=>Lg(t[e]))}function aY(t){return!!(Pw(t)||t.variants)}function nbe(t,e){if(Pw(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Lg(r)?r:void 0,animate:Lg(n)?n:void 0}}return t.inherit!==!1?e:{}}function ibe(t){const{initial:e,animate:r}=nbe(t,_.useContext(Ow));return _.useMemo(()=>({initial:e,animate:r}),[gI(e),gI(r)])}function gI(t){return Array.isArray(t)?t.join(" "):t}const yI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},VA={};for(const t in yI)VA[t]={isEnabled:e=>yI[t].some(r=>!!e[r])};function sbe(t){for(const e in t)VA[e]={...VA[e],...t[e]}}const abe=Symbol.for("motionComponentSymbol");function obe({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){t&&sbe(t);function s(o,l){let c;const u={..._.useContext(fM),...o,layoutId:lbe(o)},{isStatic:d}=u,A=ibe(o),f=n(o,d);if(!d&&pM){cbe();const p=ube(u);c=p.MeasureLayout,A.visualElement=ebe(i,f,u,e,p.ProjectionNode)}return h.jsxs(Ow.Provider,{value:A,children:[c&&A.visualElement?h.jsx(c,{visualElement:A.visualElement,...u}):null,r(i,o,rbe(f,A.visualElement,l),f,d,A.visualElement)]})}const a=_.forwardRef(s);return a[abe]=i,a}function lbe({layoutId:t}){const e=_.useContext(hM).id;return e&&t!==void 0?e+"-"+t:t}function cbe(t,e){_.useContext(iY).strict}function ube(t){const{drag:e,layout:r}=VA;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const dbe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mM(t){return typeof t!="string"||t.includes("-")?!1:!!(dbe.indexOf(t)>-1||/[A-Z]/u.test(t))}function oY(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const s in r)t.style.setProperty(s,r[s])}const lY=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cY(t,e,r,n){oY(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(lY.has(i)?i:uM(i),e.attrs[i])}function uY(t,{layout:e,layoutId:r}){return Dh.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Lb[t]||t==="opacity")}function gM(t,e,r){var n;const{style:i}=t,s={};for(const a in i)(Yn(i[a])||e.style&&Yn(e.style[a])||uY(a,t)||((n=r==null?void 0:r.getValue(a))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(s[a]=i[a]);return s}function dY(t,e,r){const n=gM(t,e,r);for(const i in t)if(Yn(t[i])||Yn(e[i])){const s=D1.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}function yM(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}function hbe({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,i,s){const a={latestValues:Abe(n,i,s,t),renderState:e()};return r&&(a.mount=o=>r(n,o,a)),a}const hY=t=>(e,r)=>{const n=_.useContext(Ow),i=_.useContext(Iw),s=()=>hbe(t,e,n,i);return r?s():yM(s)};function Abe(t,e,r,n){const i={},s=n(t,{});for(const A in s)i[A]=P4(s[A]);let{initial:a,animate:o}=t;const l=Pw(t),c=aY(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let u=r?r.initial===!1:!1;u=u||a===!1;const d=u?o:a;if(d&&typeof d!="boolean"&&!Lw(d)){const A=Array.isArray(d)?d:[d];for(let f=0;f<A.length;f++){const p=zE(t,A[f]);if(p){const{transitionEnd:m,transition:y,...g}=p;for(const v in g){let x=g[v];if(Array.isArray(x)){const b=u?x.length-1:0;x=x[b]}x!==null&&(i[v]=x)}for(const v in m)i[v]=m[v]}}}return i}const vM=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),AY=()=>({...vM(),attrs:{}}),fY=(t,e)=>e&&typeof t=="number"?e.transform(t):t,fbe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pbe=D1.length;function mbe(t,e,r){let n="",i=!0;for(let s=0;s<pbe;s++){const a=D1[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=fY(o,ZE[a]);if(!l){i=!1;const u=fbe[a]||a;n+=`${u}(${c}) `}r&&(e[a]=c)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function xM(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const c=e[l];if(Dh.has(l)){a=!0;continue}else if(aX(l)){i[l]=c;continue}else{const u=fY(c,ZE[l]);l.startsWith("origin")?(o=!0,s[l]=u):n[l]=u}}if(e.transform||(a||r?n.transform=mbe(e,t.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;n.transformOrigin=`${l} ${c} ${u}`}}function vI(t,e,r){return typeof t=="string"?t:Je.transform(e+r*t)}function gbe(t,e,r){const n=vI(e,t.x,t.width),i=vI(r,t.y,t.height);return`${n} ${i}`}const ybe={offset:"stroke-dashoffset",array:"stroke-dasharray"},vbe={offset:"strokeDashoffset",array:"strokeDasharray"};function xbe(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?ybe:vbe;t[s.offset]=Je.transform(-n);const a=Je.transform(e),o=Je.transform(r);t[s.array]=`${a} ${o}`}function bM(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},u,d){if(xM(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:A,style:f,dimensions:p}=t;A.transform&&(p&&(f.transform=A.transform),delete A.transform),p&&(i!==void 0||s!==void 0||f.transform)&&(f.transformOrigin=gbe(p,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(A.x=e),r!==void 0&&(A.y=r),n!==void 0&&(A.scale=n),a!==void 0&&xbe(A,a,o,l,!1)}const wM=t=>typeof t=="string"&&t.toLowerCase()==="svg",bbe={useVisualState:hY({scrapeMotionValuesFromProps:dY,createRenderState:AY,onMount:(t,e,{renderState:r,latestValues:n})=>{lr.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),lr.render(()=>{bM(r,n,wM(e.tagName),t.transformTemplate),cY(e,r)})}})},wbe={useVisualState:hY({scrapeMotionValuesFromProps:gM,createRenderState:vM})};function pY(t,e,r){for(const n in e)!Yn(e[n])&&!uY(n,r)&&(t[n]=e[n])}function Cbe({transformTemplate:t},e){return _.useMemo(()=>{const r=vM();return xM(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Sbe(t,e){const r=t.style||{},n={};return pY(n,r,t),Object.assign(n,Cbe(t,e)),n}function Bbe(t,e){const r={},n=Sbe(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const _be=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_be.has(t)}let mY=t=>!Nb(t);function kbe(t){t&&(mY=e=>e.startsWith("on")?!Nb(e):t(e))}try{kbe(require("@emotion/is-prop-valid").default)}catch{}function Ebe(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(mY(i)||r===!0&&Nb(i)||!e&&!Nb(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function Mbe(t,e,r,n){const i=_.useMemo(()=>{const s=AY();return bM(s,e,wM(n),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};pY(s,t.style,t),i.style={...s,...i.style}}return i}function Fbe(t=!1){return(r,n,i,{latestValues:s},a)=>{const l=(mM(r)?Mbe:Bbe)(n,s,a,r),c=Ebe(n,typeof r=="string",t),u=r!==_.Fragment?{...c,...l,ref:i}:{},{children:d}=n,A=_.useMemo(()=>Yn(d)?d.get():d,[d]);return _.createElement(r,{...u,children:A})}}function Tbe(t,e){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...mM(n)?bbe:wbe,preloadedFeatures:t,useRender:Fbe(i),createVisualElement:e,Component:n};return obe(a)}}const FB={current:null},gY={current:!1};function Dbe(){if(gY.current=!0,!!pM)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>FB.current=t.matches;t.addListener(e),e()}else FB.current=!1}function Lbe(t,e,r){for(const n in e){const i=e[n],s=r[n];if(Yn(i))t.addValue(n,i);else if(Yn(s))t.addValue(n,Ig(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(n);t.addValue(n,Ig(a!==void 0?a:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const xI=new WeakMap,Nbe=[...cX,Kn,Su],jbe=t=>Nbe.find(lX(t)),bI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ibe{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=XE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=So.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,lr.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=Pw(r),this.isVariantNode=aY(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{},this);for(const A in d){const f=d[A];l[A]!==void 0&&Yn(f)&&f.set(l[A],!1)}}mount(e){this.current=e,xI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),gY.current||Dbe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:FB.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){xI.delete(this.current),this.projection&&this.projection.unmount(),Cu(this.notifyUpdate),Cu(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Dh.has(e),i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&lr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in VA){const r=VA[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ir()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<bI.length;n++){const i=bI[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Lbe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Ig(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){var n;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(iX(i)||nX(i))?i=parseFloat(i):!jbe(i)&&Su.test(r)&&(i=gX(e,r)),this.setBaseTarget(e,Yn(i)?i.get():i)),Yn(i)?i.get():i}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=zE(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);a&&(i=a[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Yn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new cM),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class yY extends Ibe{constructor(){super(...arguments),this.KeyframeResolver=yX}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Obe(t){return window.getComputedStyle(t)}class Pbe extends yY{constructor(){super(...arguments),this.type="html",this.renderInstance=oY}readValueFromInstance(e,r){if(Dh.has(r)){const n=eM(r);return n&&n.default||0}else{const n=Obe(e),i=(aX(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return VX(e,r)}build(e,r,n){xM(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return gM(e,r,n)}}class Ube extends yY{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ir}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Dh.has(r)){const n=eM(r);return n&&n.default||0}return r=lY.has(r)?r:uM(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return dY(e,r,n)}build(e,r,n){bM(e,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,r,n,i){cY(e,r,n,i)}mount(e){this.isSVGTag=wM(e.tagName),super.mount(e)}}const Qbe=(t,e)=>mM(t)?new Ube(e):new Pbe(e,{allowProjection:t!==_.Fragment}),Rbe=Tbe({...C4e,...Jxe,...Rxe,...Zxe},Qbe),Rr=b2e(Rbe);class Hbe extends _.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function zbe({children:t,isPresent:e}){const r=_.useId(),n=_.useRef(null),i=_.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=_.useContext(fM);return _.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=i.current;if(e||!n.current||!a||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),h.jsx(Hbe,{isPresent:e,childRef:n,sizeRef:i,children:_.cloneElement(t,{ref:n})})}const $be=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a})=>{const o=yM(Vbe),l=_.useId(),c=_.useCallback(d=>{o.set(d,!0);for(const A of o.values())if(!A)return;n&&n()},[o,n]),u=_.useMemo(()=>({id:l,initial:e,isPresent:r,custom:i,onExitComplete:c,register:d=>(o.set(d,!1),()=>o.delete(d))}),s?[Math.random(),c]:[r,c]);return _.useMemo(()=>{o.forEach((d,A)=>o.set(A,!1))},[r]),_.useEffect(()=>{!r&&!o.size&&n&&n()},[r]),a==="popLayout"&&(t=h.jsx(zbe,{isPresent:r,children:t})),h.jsx(Iw.Provider,{value:u,children:t})};function Vbe(){return new Map}const Py=t=>t.key||"";function wI(t){const e=[];return _.Children.forEach(t,r=>{_.isValidElement(r)&&e.push(r)}),e}const vY=({children:t,exitBeforeEnter:e,custom:r,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync"})=>{const o=_.useMemo(()=>wI(t),[t]),l=o.map(Py),c=_.useRef(!0),u=_.useRef(o),d=yM(()=>new Map),[A,f]=_.useState(o),[p,m]=_.useState(o);nY(()=>{c.current=!1,u.current=o;for(let v=0;v<p.length;v++){const x=Py(p[v]);l.includes(x)?d.delete(x):d.get(x)!==!0&&d.set(x,!1)}},[p,l.length,l.join("-")]);const y=[];if(o!==A){let v=[...o];for(let x=0;x<p.length;x++){const b=p[x],w=Py(b);l.includes(w)||(v.splice(x,0,b),y.push(b))}a==="wait"&&y.length&&(v=y),m(wI(v)),f(o);return}const{forceRender:g}=_.useContext(hM);return h.jsx(h.Fragment,{children:p.map(v=>{const x=Py(v),b=o===p||l.includes(x),w=()=>{if(d.has(x))d.set(x,!0);else return;let C=!0;d.forEach(S=>{S||(C=!1)}),C&&(g==null||g(),m(u.current),i&&i())};return h.jsx($be,{isPresent:b,initial:!c.current||n?void 0:!1,custom:b?void 0:r,presenceAffectsLayout:s,mode:a,onExitComplete:b?void 0:w,children:v},x)})})},U4=Gi({reducerPath:"apiKey",baseQuery:Xi,endpoints:t=>({updateApiKey:t.mutation({query:e=>({url:"/api/update",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getDeepGramApi:t.query({query:()=>({url:"/api/get-deepgram-api",method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}}),getAllApiKeys:t.query({query:()=>({url:"/api/get-all-apis",method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}})})}),{useUpdateApiKeyMutation:aze,useGetAllApiKeysQuery:oze,useGetDeepGramApiQuery:Kbe}=U4,Q4=Gi({reducerPath:"deepgramSlice",baseQuery:Xi,endpoints:t=>({getDeepgramModels:t.query({query:()=>"api/get-deepgram-models",method:"GET"}),getAImodelById:t.mutation({query:e=>({url:"api/get-voice-model",method:"POST",body:e})})})}),{useGetDeepgramModelsQuery:CM,useGetAImodelByIdMutation:qbe}=Q4;function Wbe(){var pe;const{data:t,isError:e,isLoading:r}=Kbe(),{bot_id:n}=ur(),[i,s]=_.useState(""),[a,o]=_.useState(null),[l,c]=_.useState(!1),[u,d]=_.useState(!1),[A,f]=_.useState(null),[p,m]=_.useState([]),[y,g]=_.useState(1),[v,x]=_.useState(),[b,w]=_.useState(!0),[C,S]=_.useState(!1),[B,{isLoading:E}]=o2e(),[M,{isError:D}]=RG(),[L,{isError:I}]=$G(),[z,{isError:R}]=VG(),[Y]=HG(),[$,{data:P}]=qbe(),q=_.useRef(null),N=_.useRef(null);_.useEffect(()=>{if(C&&q.current&&N.current){const J=q.current.offsetTop,re=N.current.clientHeight;N.current.scrollTo({top:J-re/2,behavior:"smooth"}),S(!1)}},[p,C]);const ae=async()=>{try{const J=await Y({bot_id:Number(n)}).unwrap();(J==null?void 0:J.statusCode)===200&&x(J==null?void 0:J.bot)}catch{Z.error("Error fetching bot data")}},oe=_.useCallback(async J=>{var re;try{const ee=await B({bot_id:Number(n),limit:20,page:J}).unwrap();(ee==null?void 0:ee.statusCode)===200&&(((re=ee==null?void 0:ee.data)==null?void 0:re.length)>0&&m(nt=>[...ee==null?void 0:ee.data,...nt]),w((ee==null?void 0:ee.data.length)>=20))}catch{Z.error("Error fetching chat data")}},[n,B]),O=_.useRef(!0),fe=_.useRef(!0);_.useEffect(()=>{O.current&&(oe(1),O.current=!1)},[oe]),_.useEffect(()=>{p.length>0&&N.current&&fe.current&&(N.current.scrollTop=N.current.scrollHeight,fe.current=!1)},[p]),_.useEffect(()=>{y>1&&oe(y)},[y,oe]),_.useEffect(()=>{ae()},[]);const Se=_.useCallback(()=>{if(N.current){const{scrollTop:J,scrollHeight:re,clientHeight:ee}=N.current;if(E){console.log("fetching");return}J<(re-ee)*.1&&b&&(console.log("here we go again"),g(nt=>nt+1))}},[b,E]);_.useEffect(()=>{const J=N.current;if(J)return J.addEventListener("scroll",Se),()=>J.removeEventListener("scroll",Se)},[Se]);const ie=async J=>{var Re;J.preventDefault();const re=Math.random()*100,ee=Math.random()*100,nt=Math.random()*100;if(!i){Z.error("Input can't be empty");return}c(!0),o(null),f(null);try{m(He=>[...He,{id:re,is_bot:!1,image:!1,image_url:"",message:i,loading:!0,isError:!1}]),S(!0);const st=await M({bot_id:+`${n}`,message:i,image_url:""}).unwrap();if((st==null?void 0:st.statusCode)===200){m(ze=>ze.map(dr=>dr.id===re?{...dr,loading:!1}:dr)),s(""),m(ze=>[...ze,{id:ee,is_bot:!0,image:!1,image_url:"",message:"",loading:!0,isError:!1}]);const He=await z({bot_id:+`${n}`,query:i}).unwrap();if((He==null?void 0:He.statusCode)===200&&(m(ze=>ze.map(dr=>{var Cn;return dr.id===ee?{...dr,message:(Cn=He==null?void 0:He.data)==null?void 0:Cn.message,loading:!1}:dr})),S(!0),He!=null&&He.do_generate_image)){m(dr=>[...dr,{id:nt,is_bot:!0,image:!0,image_url:"",message:"",loading:!0,isError:!1}]),S(!0);const ze=await L({answer:He==null?void 0:He.data.message,chat_id:He==null?void 0:He.data.id,bot_id:Number(n)}).unwrap();(ze==null?void 0:ze.statusCode)===200&&(m(dr=>dr.map(Cn=>{var V;return Cn.id===nt?{...Cn,image_url:(V=ze==null?void 0:ze.data)==null?void 0:V.image_url,message:"",loading:!1}:Cn})),d(!1))}o(He.data)}c(!1)}catch(st){console.log(st),Z.error((st==null?void 0:st.message)||((Re=st==null?void 0:st.data)==null?void 0:Re.message)||"Error sending message"),D&&m(He=>He.map(ze=>ze.id===re?{...ze,loading:!1,isError:!0,message:"Error sending Message"}:ze)),R&&(m(He=>He.map(ze=>ze.id===ee?{...ze,message:"Error Generating Answer",loading:!1,isError:!0}:ze)),S(!0)),I&&(m(He=>He.map(ze=>ze.id===nt?{...ze,image_url:null,message:"Error Generating Image",loading:!1,isError:!0}:ze)),d(!1)),c(!1)}};return h.jsxs("div",{className:"flex flex-col h-[90vh] w-full",children:[h.jsx(I0e,{subject:v==null?void 0:v.display_name}),h.jsx("div",{ref:N,className:"flex w-full mb-[90px] pb-[20px] scrollable-container scrollbar-thin overflow-y-auto px-0 lg:px-4 py-6 space-y-6",children:h.jsx("div",{className:"flex mb-[10px] flex-row w-full",children:h.jsx(vY,{children:h.jsxs(Rr.div,{className:"flex w-full flex-col space-y-4 p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:[p==null?void 0:p.map((J,re)=>h.jsx("div",{ref:re===p.length-1?q:null,children:h.jsx(e2e,{chat:J})},J.id)),h.jsx("div",{})]})})})}),h.jsx("div",{className:"bg-white flex items-center justify-center fixed bottom-0 right-0 w-full h-28 lg:w-[78%] lg:ml-[23%]",children:h.jsx("div",{className:"w-[90vw] lg:w-[80%]",children:h.jsx(x2e,{deepgram:(pe=t==null?void 0:t.api)==null?void 0:pe.deepgram,isErrorDeepGramAPI:e,isLoadingDeepGramAPI:r,setLoading:c,loading:l||u,setChats:m,setInputValue:s,inputValue:i,handleSubmit:ie,bot:v,voiceModelData:P})})})]})}const xY=_.createContext(),Gbe=()=>_.useContext(xY);function Wf(){const{setShowHeader:t}=Gbe();return _.useEffect(()=>(t(!1),()=>t(!0)),[]),h.jsx("div",{className:"flex w-full h-full",children:h.jsx(Wbe,{})})}const R4=Gi({reducerPath:"subject",baseQuery:Xi,endpoints:t=>({getSubjectByTeacher:t.query({query:()=>({url:"/subject/get-subjects-by-teacher",method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}}),getSubjectsByLevel:t.mutation({query:e=>({url:"/subject/get-subjects-by-level",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getSubject:t.mutation({query:e=>({url:"/subject/get-subject",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getAllSubjects:t.query({query:({page:e,limit:r})=>{const n={};return e!==void 0&&(n.page=e),r!==void 0&&(n.limit=r),{url:"/subject/get-all-subjects",method:"GET",params:n}},meta:{skipToken:!1,skipHeaders:!1}}),createSubject:t.mutation({query:e=>({url:"/subject/create-subject",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),updateSubject:t.mutation({query:e=>({url:"/subject/update-subject",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}})})}),{useGetSubjectByTeacherQuery:SM,useGetAllSubjectsQuery:bY,useCreateSubjectMutation:Xbe,useGetSubjectMutation:wY,useUpdateSubjectMutation:Ybe,useGetSubjectsByLevelMutation:xf}=R4,H4=Gi({reducerPath:"quizeSlice",baseQuery:Xi,endpoints:t=>({createQuiz:t.mutation({query:e=>({url:"/quiz",method:"POST",body:e})}),editQuiz:t.mutation({query:e=>({url:"/quiz",method:"PATCH",body:e})}),getQuizzes:t.query({query:()=>"/quiz",method:"GET"}),getQuizById:t.query({query:e=>`/quiz/${e}`,method:"GET"}),getQuizByUserLevel:t.query({query:()=>"/quiz/get-quiz-by-level",method:"GET"}),updateQuiz:t.mutation({query:({quizId:e,quizData:r})=>({url:`/quiz/${e}`,method:"PUT",body:r})}),createSubmitQuizAttempt:t.mutation({query:e=>({url:"quiz-attempt/create-submition",method:"POST",body:e})}),submitQuizAttempt:t.mutation({query:e=>({url:"quiz-attempt/submit",method:"POST",body:e})}),deleteQuiz:t.mutation({query:e=>({url:`/quiz/${e}`,method:"DELETE"})}),getQuizAttempts:t.query({query:({subjectId:e,studentId:r,page:n,limit:i})=>({url:`/quiz-attempt/${e}/${r}`,method:"GET",params:{page:n,limit:i}})}),getQuizAttemptsByStudent:t.query({query:()=>({url:"/quiz-attempt/student-quiz-history",method:"GET"})}),getQuizAttemptDetails:t.query({query:e=>({url:`/quiz-attempt/get-quiz-attempt-detail/${e}`,method:"GET"})})})}),{useGetQuizAttemptsByStudentQuery:Jbe,useGetQuizAttemptsQuery:Zbe,useGetQuizAttemptDetailsQuery:e3e,useCreateSubmitQuizAttemptMutation:t3e,useEditQuizMutation:r3e,useCreateQuizMutation:n3e,useGetQuizzesQuery:i3e,useGetQuizByUserLevelQuery:s3e,useGetQuizByIdQuery:CY,useUpdateQuizMutation:lze,useDeleteQuizMutation:a3e,useSubmitQuizAttemptMutation:o3e}=H4,l3e=()=>{var x,b,w;const[t,e]=_.useState({quizType:ga.MCQS,title:"",description:"",subject:"",startTime:"",endTime:"",duration:""}),[r,n]=_.useState([{question:"",options:["","","",""],correctAnswer:"",score:""}]),{data:i,isLoading:s,refetch:a,isError:o,error:l}=SM(),[c,{isLoading:u,isError:d,error:A}]=n3e();_.useEffect(()=>{Z.error(A)},[d]),_.useEffect(()=>{a()},[]);const f=async C=>{var B;if(C.preventDefault(),t.startTime===""&&t.endTime!==""||t.startTime!==""&&t.endTime===""){Z.error("Both start_time & end_time can be null, or both must be defined"),e(E=>({...E,startTime:"",endTime:""}));return}if(!t.title||!t.description||!t.subject||t.duration<=0){Z.error("Please fill in all the quiz metadata fields and ensure duration is greater than 0.");return}for(const E of r)if(!E.question||E.score<=0||t.quizType===ga.MCQS&&!E.correctAnswer&&E.options.some(M=>!M)){Z.error(`Please fill in all the question fields, ensure score is greater than 0 ${t.quizType===ga.MCQS&&", and select a correct answer if quiz type is MCQS."} `);return}const S={title:t.title,description:t.description,quiz_type:t.quizType,subject_id:Number(t.subject),start_time:t.startTime===""?null:t.startTime,end_time:t.endTime===""?null:t.endTime,duration:t.duration,questions:r==null?void 0:r.map(E=>({text:E.question,questionType:t.quizType,score:E.score,options:E.options.map((M,D)=>({text:M,isCorrect:E.correctAnswer===M}))}))};try{const E=await c(S).unwrap();console.log("response",E),Z.success("Quiz created successfully!"),e({quizType:ga.MCQS,title:"",description:"",subject:"",startTime:"",endTime:"",duration:""}),n([{question:"",options:["","","",""],correctAnswer:"",score:""}])}catch(E){Z.error(JSON.stringify((B=E==null?void 0:E.data)==null?void 0:B.message)||JSON.stringify(E==null?void 0:E.message)||"Failed to create quiz. Please try again.")}},p=()=>{n([...r,{question:"",options:["","","",""],correctAnswer:"",score:""}])},m=C=>{n(r==null?void 0:r.filter((S,B)=>B!==C))},y=(C,S,B)=>{const E=[...r];E[C].options[S]=B,n(E)},g=(C,S)=>{e({...t,[C]:S})},v=(C,S,B)=>{const E=[...r];E[C][S]=B,n(E)};return h.jsx("div",{className:"min-h-screen p-4 md:p-6 lg:p-8",children:h.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Create Quiz"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Fill in the details to create a new quiz"})]}),h.jsxs("form",{onSubmit:f,className:"p-6 space-y-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Quiz Title*"}),h.jsx("input",{type:"text",value:t.title,onChange:C=>g("title",C.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",placeholder:"Enter quiz title"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Quiz Description*"}),h.jsx("textarea",{value:t.description,onChange:C=>g("description",C.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",placeholder:"Enter quiz description"})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Quiz Type*"}),h.jsxs("select",{value:t.quizType,onChange:C=>g("quizType",C.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",children:[h.jsx("option",{value:ga.MCQS,children:"Multiple Choice"}),h.jsx("option",{value:ga.QA,children:"Question/Answer"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Subject*"}),h.jsxs("select",{value:t.subject,onChange:C=>g("subject",C.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all disabled:bg-gray-100",disabled:s,children:[h.jsx("option",{children:"Select Subject"}),(w=(b=(x=i==null?void 0:i.data)==null?void 0:x.teacher_profile)==null?void 0:b.subjects)==null?void 0:w.map(C=>h.jsx("option",{value:C==null?void 0:C.id,children:C==null?void 0:C.title},C==null?void 0:C.id))]}),o&&h.jsx("p",{className:"text-sm text-red-500 mt-1",children:l})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Start Time"}),h.jsx("input",{type:"date",value:t.startTime,onChange:C=>g("startTime",C.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"End Time"}),h.jsx("input",{type:"date",value:t.endTime,onChange:C=>g("endTime",C.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Duration (minutes)*"}),h.jsx("input",{type:"number",value:t.duration,onChange:C=>g("duration",parseInt(C.target.value)),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all"})]})]}),h.jsx("div",{className:"space-y-6",children:r==null?void 0:r.map((C,S)=>h.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg border border-gray-200",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Question ",S+1]}),(r==null?void 0:r.length)>1&&h.jsx("button",{type:"button",onClick:()=>m(S),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-full transition-all",children:h.jsx(Pu,{className:"w-4 h-4"})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Question Text*"}),h.jsx("textarea",{value:C.question,onChange:B=>v(S,"question",B.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",rows:"3",placeholder:"Enter your question here..."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Score*"}),h.jsx("input",{type:"number",value:C.score,onChange:B=>v(S,"score",parseInt(B.target.value)),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",placeholder:"Enter score"})]}),t.quizType===ga.MCQS&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.options.map((B,E)=>h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",value:B,onChange:M=>y(S,E,M.target.value),className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",placeholder:`Option ${E+1}*`}),h.jsxs("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-sm font-semibold text-gray-500",children:[String.fromCharCode(65+E),"."]})]},E))}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Correct Answer*"}),h.jsx("select",{value:C.correctAnswer,onChange:B=>v(S,"correctAnswer",B.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",children:C.options.map((B,E)=>h.jsxs("option",{value:B,children:["Option ",String.fromCharCode(65+E)]},E))})]})]})]})]},S))}),h.jsxs("div",{className:"flex justify-between items-center pt-6",children:[h.jsxs("button",{type:"button",onClick:p,className:"inline-flex items-center px-4 py-2 bg-white border-2 border-purple-600 text-purple-600 rounded-lg hover:bg-purple-50 transition-all font-medium",children:[h.jsx(_1,{className:"w-4 h-4 mr-2"}),"Add Question"]}),h.jsxs("button",{type:"submit",className:`inline-flex items-center px-6 py-3 ${u?"bg-gray-400":"bg-gradient-to-r from-purple-600 to-purple-800"}  text-white rounded-lg hover:opacity-90 transition-all font-medium shadow-lg shadow-purple-200`,disabled:u,children:[h.jsx(ff,{className:"w-4 h-4 mr-2"}),u?"Saving...":"Save Quiz"]})]})]})]})})},c3e=()=>h.jsxs("div",{children:[h.jsx("h2",{children:"Your Profile"}),h.jsx("p",{children:"This is your user profile page."})]}),nn=({statTitle:t,statValue:e,icon:r})=>h.jsx(Rr.div,{whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-5 hover:shadow-lg transition-all duration-300",children:h.jsxs("div",{className:"flex items-start space-x-4",children:[h.jsx("div",{className:"rounded-xl bg-[#EAECFF] p-3 flex items-center justify-center",children:h.jsx("img",{src:r,alt:t,className:"h-8 w-8 object-contain"})}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-2xl font-bold text-gray-900",children:e}),h.jsx("span",{className:"text-sm font-medium text-gray-500 mt-1",children:t})]})]})});function SY({title:t,image:e,href:r}){var l;const{user:n}=ti(),i=xt();function s(c){c.target.src=Eh}function a(c,u){return c?c.length>u?`${c.substring(0,u)}...`:c:""}function o(c){n.role===ve.USER?i(`/chat-screen/${c}`):n.role===ve.ADMIN||n.role===ve.SUPER_ADMIN||n.role===ve.SUPER_INTENDENT?i(`/admin/chat-screen/${c}`):n.role===ve.TEACHER&&i(`/teacher/chat-screen/${c}`)}return h.jsx(Rr.div,{whileHover:{y:-5},className:"relative group cursor-pointer",onClick:()=>o(r),children:h.jsxs("div",{className:`bg-white rounded-xl shadow-md overflow-hidden transition-all duration-300 group-hover:shadow-lg\r
                    w-[180px] h-[240px] sm:w-[170px] sm:h-[230px] md:w-[175px] md:h-[235px] lg:w-[180px] lg:h-[240px]`,children:[h.jsxs("div",{className:"relative h-[100px] sm:h-[95px] md:h-[98px] lg:h-[100px] overflow-hidden",children:[h.jsx("img",{src:e,alt:t==null?void 0:t.display_name,onError:s,className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-black/20 to-transparent"}),n.role===ve.SUPER_ADMIN&&h.jsx("div",{className:"absolute bottom-2 left-2",children:h.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-purple-700 px-2 py-0.5 rounded-full text-[10px] font-medium",children:a((l=t==null?void 0:t.school)==null?void 0:l.name,15)})})]}),h.jsxs("div",{className:"px-3 pt-2.5 pb-3 flex flex-col h-[140px] sm:h-[135px] md:h-[137px] lg:h-[140px]",children:[h.jsx("h3",{className:"font-medium text-[14px] text-gray-800 mb-1 line-clamp-1",children:t==null?void 0:t.display_name}),n.role===ve.SUPER_ADMIN&&h.jsx("p",{className:"text-[12px] text-gray-600 line-clamp-3 mb-2 leading-relaxed",children:t==null?void 0:t.description}),h.jsx("div",{className:"mt-auto flex justify-end",children:h.jsx("svg",{className:"w-4 h-4 text-purple-600 transform transition-transform duration-300 group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})]})]})})}const BM=({bots:t})=>{console.log("Received bots",t);const[e,r]=_.useState(0),[n,i]=_.useState(4),[s,a]=_.useState(!1),[o,l]=_.useState(0),c=_.useCallback(()=>{const f=window.innerWidth;f<480?i(1):f<640?i(2):f<868?i(3):f<1280?i(4):i(5)},[]);_.useEffect(()=>{const f=()=>{c(),l(window.innerWidth)};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[c]);const u=_.useCallback(()=>{r(f=>f+n>=(t==null?void 0:t.length)?0:f+n)},[n,t==null?void 0:t.length]),d=_.useCallback(()=>{r(f=>f===0?Math.max(0,(t==null?void 0:t.length)-n):f-n)},[n,t==null?void 0:t.length]),A=_.useCallback(f=>{r(f*n)},[n]);return h.jsxs("div",{className:"w-full max-w-[1440px] mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute top-[-4px] left-0 w-full h-1 bg-gray-100 rounded-full overflow-hidden",children:h.jsx(Rr.div,{className:"h-full bg-gradient-to-r from-[#6F38DE] to-[#9747FF]",initial:{width:"0%"},animate:{width:`${e/Math.max((t==null?void 0:t.length)-n,1)*100}%`},transition:{duration:.3}})}),h.jsx("div",{className:"relative overflow-hidden mx-4 sm:mx-6 h-[300px] sm:h-[280px] md:h-[290px] lg:h-[300px]",children:h.jsx(Rr.div,{className:"flex gap-4 sm:gap-5 md:gap-6 h-full items-center",initial:!1,animate:{x:`${-e*(100/n)}%`},transition:{type:"spring",stiffness:300,damping:30},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.1,onDragStart:()=>a(!0),onDragEnd:(f,{offset:p,velocity:m})=>{a(!1),Math.abs(m.x)>500&&(m.x>0?d():u())},children:h.jsx(vY,{mode:"wait",children:t==null?void 0:t.map(f=>h.jsx("div",{children:f&&h.jsx(Rr.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"flex-shrink-0 w-[220px] sm:w-[200px] md:w-[210px] lg:w-[220px]",style:{"--items-to-show":n},whileHover:{scale:s?1:1.02},children:h.jsx(SY,{title:f,image:Tt+"/images/"+(f==null?void 0:f.bot_image_url),href:f==null?void 0:f.id})},f==null?void 0:f.id)},f==null?void 0:f.id))})})}),h.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center",children:h.jsx(Rr.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:d,className:`group relative -ml-2 flex h-8 w-8 items-center justify-center \r
                     rounded-full bg-white shadow-md hover:shadow-lg\r
                     border border-gray-200 transition-all duration-200\r
                     disabled:opacity-50 disabled:cursor-not-allowed\r
                     focus:outline-none focus:ring-2 focus:ring-[#6F38DE]/50`,children:h.jsx(g2e,{size:16,className:"text-[#6F38DE] transition-transform group-hover:-translate-x-0.5"})})}),h.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:h.jsx(Rr.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:u,className:`group relative -mr-2 flex h-8 w-8 items-center justify-center \r
                     rounded-full bg-white shadow-md hover:shadow-lg\r
                     border border-gray-200 transition-all duration-200\r
                     disabled:opacity-50 disabled:cursor-not-allowed\r
                     focus:outline-none focus:ring-2 focus:ring-[#6F38DE]/50`,children:h.jsx(y2e,{size:16,className:"text-[#6F38DE] transition-transform group-hover:translate-x-0.5"})})})]}),h.jsx("div",{className:"flex justify-center mt-4 space-x-1.5",children:Array.from({length:Math.ceil((t==null?void 0:t.length)/n)}).map((f,p)=>h.jsx(Rr.button,{whileHover:{scale:1.2},whileTap:{scale:.9},onClick:()=>A(p),className:`h-1.5 transition-all duration-300 rounded-full
              ${e===p*n?"w-4 bg-[#6F38DE]":"w-1.5 bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to slide ${p+1}`},p))})]})},Fm="/assets/state1-BPzGH9JW.svg",to="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAb8SURBVHgB7VhbbBRVGP5mdmZnZy/d2bZbLkW7omgwqMVbUAJOoyjBC61GRR6EB1FCNKJRo8akmBhNjInwoiY8uD4Y9cEoUZBAAgsmiGiwBCSBcNnKpd3Sy273Ortz8ZyZ7nba3S3tNvhiv6Sdc+b85/zf+c9//v+fBWYwgxlMGQymiXZZllzgWn0uLuSYQI5hmLiQzUa2RiJxTBEcpoG18opXifItboGTOMfV95tzu3eQRzumiJpJrpUf7iTnsMXBMZgMQQqyIT9qAIsasEaWQ5SgtcC0PeaqqIkkC35zsa3rBq41aiJJbHdHsa0Sktm8Bt24dmSndXGWtTbhxmYfmoMiAnXO0vt4soDYYBanuodx7PQQpotpkVw0X8KN87xmm1wKOHjebDc2ONFQ78bC+QEsX9yEPYd7TML/KUmDZeKwnS4l6PL7zOd4zPG68eBSnpA8AcMwEqgBNfmkoesH6snxFq1I2FUkaA6xLIKNXgT8AhjDiKAGVLTkxpUrQ5qmSdv37u2qNG6A+3Hjkzd/iknCJXDY8Ozt2LX/dAS/lOlaD5YNlU3S9fAXu3dHaXPM9mkGcTm5LQLPSiOvomT34c927XrfLtfzw9shctrni31qLZEc99Ug8FpIXPpeN20/Jz+8zis61nMsK1cRj3++c2eANthRgjSDMFt5jpFsgiGDpL1Nq1Z12mfnkJty/jXn5VXTJ2kyIN4RZhlGnkC8xIMtTipmkErRjhLd+NhjcrF/Q8dWQtKYKtFooG3LyBwuRP/nCzqcPAvJx084kbOYjmYQwelAc6OI7p70WEldp4VBpEQczDbiK52YJBjbXKI2ShbEbQsCWL18HkTBqp96B3JEbwpH/u6nsbZ0H6zjZpkW+qDCL3UswPOPzscrz96CB+6cZZIeQciuNI/c1qI1yW2n4QUTIEoSU8mvv43sjt58nS++ZkUL3CIPgYQpl8+DlusDWHrXXKx7fAG8bv7AGJKMbkg0pJAbiwZSHdIJwSYfHrh7Nl7suAmzGlw0xNxh10qPXIejrUhUUwrVCMYNw9ERaHsnan+5oX0BLdvAC4KZBFiOg8PphNMtYnZzPd7ddM9YSxKfa6UEaXqjBOkE3mWRbWzw4JmHWsosSTGv48OuRFzZVihoKORyZdZUsgpiFwa2BdreKgtlRNLyT6ZaFcWUfJ59WpZbyVMaGlasIXY0vtO20+PGpUHLShtWrGittFwioWBgIIPB3iEkBpIYiMXR+08/YhcHkc+rqEiB0SOYEMyoJXnwpuI9v/dYOxxnjVxOxf4jl8w2x3Hy+KXq6lwISCIE4s95cuSZZAZqLg8Ha8Dvd6GeuE8lNHd8/CPR1qVrWtkYobDN7h4suTSraePspRTCP59FLpUpCQ8PZ7H9u+MYSigj0uxq+2K3eja1rnsj07nvNxUej9MkRf98dYLZ/3mfhqc2pTsXeV+WKxFVoLQpmWxX0TA6uYD5fCFMCG62y7GkEOwudk6cS+BK7zAuno2ZfxfO9+NyX9q2Q+NYsS2HPgoJvPPLWL+OT7YreP71DGJXdHPsbLeONz/M4ouvFaQzBniO/3QlkR9Pkl4+FcfiF8704vL5Plw614dc+mBZ/DW9do28kiygyctbg52P3j8vpKm66dAO8u3yzZ7uyLme1A53Oh3uisoQWM96MkYtKmuair7By4S8Xlrw/mUcDv066ocMw6Kpfi5ZywzJER36V/KyaNe7bxyQVVVZnUpekdXM3Shk7oHTtw+8eAZe/+wwyzp2QElGmMXRuEnSOL5IVpSGzsEL98njd8GyKoI37A+val8bNxisZ2DY0yYy2RQJvP1mO3iTA3MWGeg9waDvjOVrkq+RxELv+GXR/sRJbHzhCNKpflLdO8E3vIJ87AO4PfVwCh6bGY3XHMpfoU4H5wxzfDYkiANQFT90TTDHnaQvzT2Kb7+vbz1wqG6JKLjLbgHPWxU5GUNoYQMWkgSQ7OFJdufMdx535cLj8B8MCmoeS+7NQPCEkJ/1Jrz5n8Dxoyp0XUUy0beEy6SGNuuiBpfoJ4F0AI0tB0kGsXIpw1qhZ9/B+cjmUmY7UNdYptDnsYzbHJyDRx65FckzJxGP9qAa4sP9yJD1Tp32kpMibqDFcOJ0FEs83BiCqeEr9CnRt1Iua5X2lKid3HhQoizxMb+vvuK4a0SJ6K5e8CdSgyZBimTKksvpwTI5JZc0iVKwduaTQZpsiF6YSpCC1lFJTWLFcTovnZnct479Mtb0+aBWISkWLemp/KuQWsUQKkRizUZUQ00kq0EKimOek4WqeyYc50h10UHXNTSDVhoVhZ556jL+PBoo9TViEabCzyspmv/JMm4vV3GcxD7Yv1juWjxo6uSZpJkL7fq1UT41fQXMYAb/e/wLHp2UNj8YFhMAAAAASUVORK5CYII=",Tm="/assets/state2-OBhDDxWe.svg",BY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAa/SURBVHgBvZhfbBRFHMe/s7t3vf6jvWAp/yTHHUgI5V80xggJpYoGJZHomw8WHjUY6ps8Ab5IDAomJvVJ8cUnE2OiL75wTUoiEJPrH7FIS7eFVkCh2z/Xu+ve7jgz2727vZu9blviN5nbmdnd2c/+5je/39wSrED0TsclUNIFkBQo1VnpgWqnkIdOdiZ1PGURLFN0tL0ZpjpVZUQDFCnxArY9JuDnkCL7kwb+N8g7r7Yzy13FssWgQY1F6/eAWDp5LpkKdCeWKTrU0QWFXBKN+peB6DtAdgSwHjjH3DBgp5cx4qLLgPZBsZPIpQ3SdjO1Osi/Oi6z206LRk0CWPseoK136q7sOQY74kBn+oD8A6cdROYj/sv83DpP2m5dWSHkK3yq26UnOSgHrt0DRLaxNitKffE8B827Fh+RwFMX0m1fIbv+OLkCn+yYYiu7OfANHJLDRtgLqK2V8OlrwOTZxcEXGHjZmqT2SQ0B1B471xxCXeyt4/fYorlVCVi7F2j5QG4l7p98ynkplWt17hoFoHzlwxWlU6sE+jQWUsPtCsVeEBpjVtsnjkxjegOk4kDzKcdKfCG5Vir1zfKFlRup9FNqVY5N0V6AfD1+8TQl5BwBbRa+4ToCoYXr9+x5AqnMh8C/3cW2ayV+5NNcxyxd83bx/N9seueuSQbKy0Y3NAfw80sMpouAopri8VkEkmuldBmIC5/xCY+2WdnHEoN2JPHZCVbrQgCtb50v1M1QG2ain0DNj0K1/hFHjRXFesSOOqrCyyT8UWqkPk2B0omAiieKlrS02OJxqyioedFzrQsfWhgU0LxNaLUgb/n0U11j7PuCxKF4fMY7pLqu6vUu/EIJPIcUwOYoQuYgwrkbxRtkUy0YSUojlBjs7iXjXmtrxgsRimG5oqSeuckuUSxzqxdSvmhYt5ZSKKGBknz5yra0OFYjPv1eSafbIPtThsIizBgCKFEy3ZYag03qsBrxBeaRLbGk2PKxa21CAlmydLptpQGrVcjUiw2eDuUSaYotbmtJyPp60wNphndhtVKt0un2ic+KleQHzTRDeo1qoZoSZSs7kr3KpiDN/HKdCEV8FdukHkHF4ykp3XPaPpa0iS6uT+ofGSzj6G5+lkImvJmG+1Mk87Onj7J8nVe3Cmgz3AZbbWELc6t0PIXFT6/kK5vtJ8Usi7RIqd1DCInBR+vKwo90QGaZkD0o4l/pC4h4qTDgkBM3OXw4d917syxGEhTcUFvs0FFFWzaNI20MQ1FroIUbQYgqjkEkMg9GEV644XMFhdQnKR0rg6y+wje0DMLMOnk7l35YBAjVMfAwVK3OU1+WqE+msYnXkoplpqga8hsGN3/fjkMH+ir6LXNeFBPef6vC2opjbecFapkdfPbX1CfTqMWoU0jbryUuTrGGb3r85peX0PKMAWtuAFZ6AHZ2XByDikO7Fle1WuE6At5mM2RLfJ7a+z0Lx+lkfkmwT/aA+jU12LjjgKiH1r7pOecC541eUeeF5qclz7SQX5gVpVQqh9U0ROrWsH8KBRzDBSyDZP97CZFCJnb673jU+t2ilMJzSBfYzoxXhbesnCgLubQAjdQ2FdJhBSRxlrx0b9m6eQ2WI6I1QWs6KIoHyHUTH5fJzs9A01gE0SJ9ckgFKSqJBEePXMex9p+QGemB1nywALASyawu4MYvIDt2walnZtDQWKNLIbNs31aeHvlC6Xz3V1HPTfaz0u15oBLZ4jy4oVhfiSJbPsbCw+8d3zZzYqNbet6zKS9d4Tkzy9z0Ebq/+AEbWoN92+FWLsA37C5Yjvcvpbn+Y8hP9zoNi0Sjhw3DD/JH1nF8Nm2AF1fb4lNYv24O2+NPivXEFILKhS+3ugufm+hG5u4Z52IWZaKHpj1J3xNh+QZ4PjfnAWxsqoPWsAlrE5vRsnszNuzZhB3s2NhUGzz8sD5upYKlFuW6hyfeEvt8+f0eSL4Bns8UP3u8f+YoK2/AT6sOP+XJgJLvoodmr6AaJN8ALzBf5Nq4ZW1VQD/xKczgeUw+jmFoYAK3+1/AxNgT3Puzx99lRCIhX0YPGZdlY3og+Qa42Kr+NcPV5PhjATPJQG7338fN3mHRV6kohu9G0fvbs55eFvaSg3NfHa72jIq/3LsbTxW+P3JL8innmp3O4PbAfQz1TwgYAcZgeH9AGQxIZ9+bUqpt91GF6KqqJVPG5SW/pUsgPzzB3u9bt80XCF88cuv4ierUiXV9bDOtm6aZHMp+rWOFkn68aGs4dY6lybNYWtw6LkzKsq1UOBTWg1hn1ZBc3KKU0k4G245VTNXT0H/8vmamA0sU8wAAAABJRU5ErkJggg==",z4=Gi({reducerPath:"stats",baseQuery:Xi,endpoints:t=>({getStats:t.query({query:()=>({url:"/stats",method:"GET"}),providesTags:["Stats"]})})}),{useGetStatsQuery:_M}=z4,Uw="/assets/bannerbg-CL3ltOA0.png";function u3e(){return xt(),h.jsxs(Rr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative w-full mb-8 overflow-hidden rounded-3xl bg-gradient-to-r from-[#433074] to-[#6247AA] p-6 sm:p-8 lg:p-10 text-white mr-4 sm:mr-7",children:[h.jsx("div",{className:"absolute inset-0 z-0",children:h.jsxs("div",{className:"relative h-full w-full",children:[h.jsx("img",{src:Uw,alt:"Hero Banner Background",className:"object-cover w-full h-full brightness-75"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#433074]/80 to-[#6247AA]/80 mix-blend-multiply"})]})}),h.jsxs("div",{className:"relative z-20 max-w-xl space-y-6 md:space-y-8",children:[h.jsxs(Rr.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:`text-2xl sm:text-3xl md:text-4xl font-poppins font-medium leading-tight sm:leading-snug md:leading-normal\r
            bg-gradient-to-r from-white to-white/90 bg-clip-text text-transparent`,children:["Manage Schools, Settings,",h.jsx("br",{className:"hidden sm:block"}),"and AI Integrations."]}),h.jsx(Rr.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-sm sm:text-base md:text-lg text-white/90 max-w-prose leading-relaxed",children:"Configure OpenAI keys, manage schools, and customize settings to optimize the platform."}),h.jsxs(Rr.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`group relative overflow-hidden rounded-full px-6 py-3 text-xs sm:text-sm md:text-base \r
            bg-gradient-to-r from-[#433074] to-[#6247AA] text-white\r
            hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out\r
            focus:outline-none focus:ring-2 focus:ring-[#6247AA] focus:ring-opacity-50`,children:[h.jsx("span",{className:"relative z-10",children:"MANAGE SETTINGS"}),h.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"})]})]}),h.jsx(Rr.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},transition:{delay:.4,type:"spring"},className:"absolute bottom-0 right-0 h-40 sm:h-48 md:h-52 w-2/5 z-10 items-center justify-center",children:h.jsx("img",{src:Eh,alt:"Admin Image",className:"object-contain w-full h-full transform hover:scale-105 transition-transform duration-300"})})]})}function d3e(){return h.jsxs(Rr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative w-full mb-8 overflow-hidden rounded-3xl bg-gradient-to-r from-[#433074] to-[#6247AA] p-6 sm:p-8 lg:p-10 text-white mr-4 sm:mr-7",children:[h.jsx("div",{className:"absolute inset-0 z-0",children:h.jsxs("div",{className:"relative h-full w-full",children:[h.jsx("img",{src:Uw,alt:"Hero Banner Background",className:"object-cover w-full h-full brightness-75"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#433074]/80 to-[#6247AA]/80 mix-blend-multiply"})]})}),h.jsxs("div",{className:"relative z-20 max-w-xl space-y-6 md:space-y-8",children:[h.jsxs(Rr.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"text-2xl sm:text-3xl md:text-4xl font-poppins font-medium leading-tight sm:leading-snug md:leading-normal",children:["Manage Subjects, Levels, Files,",h.jsx("br",{className:"hidden sm:block"}),"Voice Models, Bots, and Users."]}),h.jsx(Rr.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-sm sm:text-base md:text-lg text-white/90 max-w-prose leading-relaxed",children:"Configure and manage all aspects of the platform, from subjects and levels to AI voice models and user accounts."}),h.jsxs(Rr.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`group relative overflow-hidden rounded-full px-6 py-3 text-xs sm:text-sm md:text-base \r
            bg-gradient-to-r from-[#433074] to-[#6247AA] text-white\r
            hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out\r
            focus:outline-none focus:ring-2 focus:ring-[#6247AA] focus:ring-opacity-50`,children:[h.jsx("span",{className:"relative z-10",children:"MANAGE PLATFORM"}),h.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"})]})]}),h.jsx(Rr.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},transition:{delay:.4,type:"spring"},className:"absolute bottom-0 right-0 h-40 sm:h-48 md:h-52 w-2/5 z-10",children:h.jsx("img",{src:Eh,alt:"Admin Image",className:"object-contain w-full h-full transform hover:scale-105 transition-transform duration-300"})})]})}const b8=()=>{var Y;const t=xt(),{user:e}=ti(),[r,n]=_.useState(1),[i,s]=_.useState(10),[a,o]=_.useState(!1),l=(e==null?void 0:e.role)===ve.SUPER_ADMIN,c=(e==null?void 0:e.role)===ve.SUPER_INTENDENT,u=(e==null?void 0:e.role)===ve.ADMIN,{data:d,error:A,isError:f,isLoading:p,refetch:m}=KG({page:r,limit:i},{skip:!(l||c)}),{data:y,error:g,isError:v,isLoading:x,refetch:b}=A2e({page:r,limit:i},{skip:!u});_.useEffect(()=>{u&&b(),l&&m(),c&&m()},[]);const{data:w,isLoading:C,isError:S,error:B,refetch:E}=_M();_.useEffect(()=>{E()},[]);const M=l||c?d:u?y:null,D=l||c?p:u?x:!1,L=l||c?f:u?v:!1,I=l||c?A:u?g:null,z=()=>{t("/admin/bots")},R=(M==null?void 0:M.totalPages)||1;return D||C?h.jsx("div",{className:"text-center py-8",children:"Loading..."}):L||S?h.jsx("div",{className:"text-red-500 text-center py-8",children:h.jsx("p",{children:((Y=I==null?void 0:I.data)==null?void 0:Y.message)||(B==null?void 0:B.message)||"Error loading data. Please try again."})}):(console.log("botsData",M),h.jsxs("div",{className:"flex-1 p-6",children:[l?h.jsx(u3e,{}):h.jsx(d3e,{}),h.jsxs("section",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[h.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[h.jsx(Gs,{className:"text-[#6F38DE]"}),"Bots"]}),u&&h.jsx("button",{onClick:z,className:`inline-flex items-center px-4 py-2 text-sm font-medium text-[#6F38DE] \r
                     bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors duration-200`,children:a?"View Less":"View All"})]}),h.jsx("div",{className:"w-full",children:(M==null?void 0:M.bots.length)===0?h.jsx("p",{className:"text-center text-gray-500 py-8",children:"No bots available."}):h.jsx("div",{className:"py-8",children:h.jsx(BM,{bots:M==null?void 0:M.bots})})}),M&&(M==null?void 0:M.bots.length)>0&&h.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[h.jsx("select",{value:i,onChange:$=>{s(Number($.target.value)),n(1)},className:"border border-gray-300 rounded-md text-sm px-2 py-1 focus:outline-none focus:ring-2 focus:ring-[#6F38DE] focus:border-transparent",children:[10,20,50,100].map($=>h.jsxs("option",{value:$,children:[$," per page"]},$))}),h.jsx("div",{className:"flex gap-1",children:Array.from({length:R},($,P)=>P+1).map($=>h.jsx("button",{onClick:()=>n($),className:`px-3 py-1 rounded-md text-sm font-medium ${r===$?"bg-gradient-to-r from-[#6F38DE] to-[#3C1589] text-white":"text-gray-700 hover:bg-gray-100"}`,children:$},$))})]})]}),h.jsxs("div",{className:"mt-0",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsx("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2 mt-5",children:"Activity Stats"})}),h.jsx("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-4 gap-4",children:C?h.jsx("p",{children:"Loading statistics..."}):S?h.jsxs("p",{className:"text-red-500",children:["Error: ",B==null?void 0:B.message]}):h.jsxs(h.Fragment,{children:[l&&h.jsxs(h.Fragment,{children:[h.jsx(nn,{statTitle:"Districts",statValue:(w==null?void 0:w.districts)||0,icon:Fm}),h.jsx(nn,{statTitle:"Super Intendents",statValue:(w==null?void 0:w.super_intendents)||0,icon:to}),h.jsx(nn,{statTitle:"Bots",statValue:(w==null?void 0:w.bots)||0,icon:Tm}),h.jsx(nn,{statTitle:"Levels",statValue:(w==null?void 0:w.levels)||0,icon:Fm}),h.jsx(nn,{statTitle:"Subjects",statValue:(w==null?void 0:w.subjects)||0,icon:to})]}),c&&h.jsxs(h.Fragment,{children:[h.jsx(nn,{statTitle:"Principals",statValue:(w==null?void 0:w.principals)||0,icon:to}),h.jsx(nn,{statTitle:"Schools",statValue:(w==null?void 0:w.schools)||0,icon:to}),h.jsx(nn,{statTitle:"Teachers",statValue:(w==null?void 0:w.teachers)||0,icon:to}),h.jsx(nn,{statTitle:"Students",statValue:(w==null?void 0:w.students)||0,icon:to})]}),u&&h.jsxs(h.Fragment,{children:[h.jsx(nn,{statTitle:`Teachers (Subjects: ${(w==null?void 0:w.teachers_subjects)||0})`,statValue:(w==null?void 0:w.teachers)||0,icon:to}),h.jsx(nn,{statTitle:"Students",statValue:(w==null?void 0:w.students)||0,icon:Tm}),h.jsx(nn,{statTitle:"Bots",statValue:(w==null?void 0:w.bots)||0,icon:BY}),h.jsx(nn,{statTitle:"Levels",statValue:(w==null?void 0:w.levels)||0,icon:Fm}),h.jsx(nn,{statTitle:"Student Subjects",statValue:(w==null?void 0:w.students_subjects)||0,icon:to}),h.jsx(nn,{statTitle:"Quizzes",statValue:(w==null?void 0:w.quizzes)||0,icon:Tm})]})]})})]})]}))},$p=Gi({reducerPath:"file",baseQuery:Xi,endpoints:t=>({getFiles:t.query({query:({page:e,limit:r})=>{const n={};return e!==void 0&&(n.page=e),r!==void 0&&(n.limit=r),{url:"/context-data/files",method:"GET",params:n}},meta:{skipToken:!1,skipHeaders:!1}}),createFile:t.mutation({query:e=>({url:"/context-data/upload",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),deleteFile:t.mutation({query:e=>({url:"/context-data/delete",method:"DELETE",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getFilesBySubject:t.mutation({query:e=>({url:"/context-data/files-by-subject",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}})})}),{useGetFilesBySubjectMutation:h3e,useGetFilesQuery:_Y,useCreateFileMutation:cze,useDeleteFileMutation:A3e}=$p;class f3e{static async CreateBot(e,r){const n={"Content-Type":"multipart/form-data",token:localStorage.getItem("accessToken")};return bg((i,s,a)=>Bt.post(i,s,a),e,`${Tt}/bot/create-bot`,n,r)}}const $4=Gi({reducerPath:"level",baseQuery:Xi,endpoints:t=>({getLevel:t.mutation({query:e=>({url:"/level/get-level",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getAllLevels:t.query({query:({page:e,limit:r}={})=>{const n={};return e!==void 0&&(n.page=e),r!==void 0&&(n.limit=r),{url:"/level/get-all-levels",method:"GET",params:n}},meta:{skipToken:!1,skipHeaders:!1}}),createLevel:t.mutation({query:e=>({url:"/level/create-level",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),updateLevel:t.mutation({query:e=>({url:"/level/update-level",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}})})}),{useGetLevelMutation:p3e,useGetAllLevelsQuery:Io,useCreateLevelMutation:m3e,useUpdateLevelMutation:g3e}=$4,Uy=({label:t,icon:e,error:r,...n})=>h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[e&&h.jsx(e,{className:"text-[#6925EF] w-4 h-4"}),t]}),n.type==="textarea"?h.jsx("textarea",{...n,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20 transition-all duration-200"}):h.jsx("input",{...n,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20 transition-all duration-200"})]}),y3e=()=>{var fe,Se,ie,pe;const t=Af(),[e,r]=_.useState(""),[n,i]=_.useState(""),[s,a]=_.useState(""),[o,l]=_.useState(""),[c,u]=_.useState(""),[d,A]=_.useState(""),[f,p]=_.useState(null),[m,y]=_.useState(""),[g,v]=_.useState(""),[x,b]=_.useState(""),[w,C]=_.useState(null),[S,B]=_.useState(),{data:E,refetch:M,isLoading:D}=Io(),{data:L,isLoading:I}=CM(),[z,{isLoading:R}]=xf(),[Y,{data:$,isLoading:P}]=h3e();_.useEffect(()=>{M()},[]);const q=J=>{const re=J.target.value,ee=$==null?void 0:$.files.find(nt=>nt.slug===re);ee&&(p(ee),b(ee.file_name))},N=async J=>{const re=J.target.value;v(re);try{await Y({subject_id:Number(re)}).unwrap()}catch{Z.error("Failed to fetch files for the selected subject.")}},ae=async J=>{const re=J.target.value;y(re);try{const ee=await z({level_id:Number(re)}).unwrap();(ee==null?void 0:ee.statusCode)===200&&B(ee==null?void 0:ee.data)}catch{Z.error("Failed to fetch subjects for the selected level.")}},oe=J=>{const re=J.target.files[0];re&&re.type.startsWith("image/")?C(re):Z.error("Please upload a valid image file.")},O=async J=>{var ee,nt,Re,st,He;J.preventDefault();const re=new FormData;re.append("name",e),re.append("description",s),re.append("first_message",o),re.append("ai_model",c),re.append("voice_model",d),re.append("file_id",Number(f==null?void 0:f.id)),re.append("display_name",n),re.append("level_id",Number(m)),re.append("subject_id",Number(g)),re.append("image",w);try{const ze=await f3e.CreateBot(re,t);((ee=ze==null?void 0:ze.data)==null?void 0:ee.statusCode)===200&&(Z.success("Bot created successfully"),r(""),i(""),a(""),p(null),u(""),A(""),y(""),v(""),C(null))}catch(ze){Z.error(((Re=(nt=ze==null?void 0:ze.response)==null?void 0:nt.data)==null?void 0:Re.message)||((He=(st=ze==null?void 0:ze.response)==null?void 0:st.data)==null?void 0:He.error)||"Failed to create Bot dfgdfg")}};return h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[h.jsx(Gs,{className:"text-[#6925EF]"}),"Create AI Chat Bot"]}),h.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Configure your new AI chatbot with the required information"})]}),h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:h.jsx("div",{className:"p-6 space-y-6",children:h.jsxs("form",{onSubmit:O,className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsx(Uy,{label:"Bot Name",icon:Gs,type:"text",value:e,onChange:J=>r(J.target.value),placeholder:"Enter bot name",required:!0}),h.jsx(Uy,{label:"Display Name",icon:vb,type:"text",value:n,onChange:J=>i(J.target.value),placeholder:"Enter display name",required:!0}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(KS,{className:"text-[#6925EF] w-4 h-4"}),"Select AI Model"]}),h.jsxs("select",{value:c,onChange:J=>u(J.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[h.jsx("option",{value:"",children:"Select AI Model"}),_4==null?void 0:_4.map((J,re)=>h.jsx("option",{value:J,children:J},re))]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(KS,{className:"text-[#6925EF] w-4 h-4"}),"Select Deepgram Model"]}),h.jsxs("select",{value:d,onChange:J=>A(J.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[h.jsx("option",{value:"",children:I?"Loading...":"Select Deepgram Model"}),I?h.jsx("option",{children:"Loading..."}):(Se=(fe=L==null?void 0:L.api)==null?void 0:fe.tts)==null?void 0:Se.map((J,re)=>h.jsx("option",{value:J.uuid,children:J.name},re))]})]}),h.jsx(Uy,{label:"Bot Description",icon:pA,type:"textarea",value:s,onChange:J=>a(J.target.value),rows:"4",placeholder:"Enter bot description",required:!0}),h.jsx(Uy,{label:"Bot First Message",icon:pA,type:"textarea",value:o,onChange:J=>l(J.target.value),rows:"2",placeholder:"Enter bot first message",required:!0}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(iE,{className:"text-[#6925EF] w-4 h-4"}),"Select Level"]}),h.jsxs("select",{value:m,onChange:ae,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[h.jsx("option",{value:"",children:D?"Loading...":"Select Level"}),(ie=E==null?void 0:E.data)==null?void 0:ie.map(({id:J,level:re})=>h.jsx("option",{value:J,children:re},J))]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(vb,{className:"text-[#6925EF] w-4 h-4"}),"Select Subject"]}),h.jsxs("select",{value:g,onChange:N,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",disabled:!m,required:!0,children:[h.jsx("option",{value:"",children:R?"Loading...":"Select Subject"}),S==null?void 0:S.map(({id:J,title:re})=>h.jsx("option",{value:J,children:re},J))]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(pA,{className:"text-[#6925EF] w-4 h-4"}),"Choose File"]}),h.jsxs("select",{value:f?f.slug:"",onChange:q,disabled:!g,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[h.jsx("option",{value:"",children:P?"Loading...":"Select a file"}),(pe=$==null?void 0:$.files)==null?void 0:pe.map(({file_name:J,slug:re,id:ee})=>h.jsx("option",{value:re,children:J},ee))]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(E0e,{className:"text-[#6925EF] w-4 h-4"}),"Bot Image"]}),h.jsx("input",{type:"file",onChange:oe,accept:"image/*",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0})]}),h.jsx("div",{className:"pt-4",children:h.jsxs("button",{type:"submit",className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium",children:[h.jsx(Gs,{className:"w-5 h-5"}),"Create Bot"]})})]})})})]})})},V4=Gi({reducerPath:"profile",baseQuery:Xi,endpoints:t=>({getProfile:t.query({query:({role:e,id:r,payload:n})=>{let i="",s="GET",a;switch(console.log("role",e=="user"),e){case"superadmin":i="/profile/get-superadmin-profile";break;case"admin":i=`/profile/get-admin-profile/${r}`;break;case"teacher":i="/profile/get-teacher-profile",s="POST",a=n;break;case"user":i="/profile/get-student-profile",s="POST",a=n;break;case"parent":i=`/profile/get-parent-profile/${r}`;break;default:throw new Error("Invalid role")}return{url:i,method:s,body:a}}}),updateProfile:t.mutation({query:({role:e,...r})=>{let n="";switch(e){case"superadmin":n="/profile/update-superadmin-profile";break;case"admin":n="/profile/update-admin-profile";break;case"teacher":n="/profile/fill-teacher-profile";break;case"student":n="/profile/fill-student-profile";break;default:throw new Error("Invalid role")}return{url:n,method:"PUT",body:r}}}),updateSuperAdminProfile:t.mutation({query:e=>({url:"/profile/update-superadmin-profile",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getSuperAdminProfile:t.query({query:e=>({url:"/profile/get-superadmin-profile",method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}}),updateSchoolAssignmnet:t.mutation({query:e=>({url:"/profile/update-school-assignment",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),updateAdminProfile:t.mutation({query:e=>({url:"/profile/update-admin-profile",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getAdminProfile:t.query({query:e=>({url:`/profile/get-admin-profile/${e.admin_id}`,method:"GET"})}),getAllSuperIntendentsProfile:t.query({query:()=>({url:"/profile/get-all-super-intendents",method:"GET"})}),getAllAdminProfile:t.query({query:()=>({url:"/profile/get-all-admins",method:"GET"})}),getParentProfile:t.query({query:e=>({url:`/profile/get-parent-profile/${e}`,method:"GET"})}),deleteJoinTeacherSubjectLevel:t.mutation({query:e=>({url:"/profile/delete-join-teacher-subject-level",method:"DELETE",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),createJoinTeacherSubjectLevel:t.mutation({query:e=>({url:"/profile/create-join-teacher-subject-level",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getAllJoinTeacherSubjectLevel:t.mutation({query:e=>({url:"/profile/get-join-teacher-subject-level",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getTeacherProfile:t.mutation({query:e=>({url:"/profile/get-teacher-profile",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),fillProfile:t.mutation({query:e=>({url:"/profile/fill-profile",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getAllChildren:t.query({query:()=>({url:"/profile/get-all-children",method:"GET"})}),getStudentById:t.query({query:e=>({url:`/profile/get-student/${e}`,method:"GET"})}),getChildrenById:t.query({query:e=>({url:`/profile/get-children/${e}`,method:"GET"})}),getStudentProfile:t.mutation({query:e=>({url:"/profile/get-student-profile",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getStudentsByLevel:t.query({query:e=>({url:"/profile/get-students-by-level",method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}}),getChildrenAttemptedPuzzles:t.query({query:({child_id:e,page:r,limit:n})=>({url:`/profile/get-children-attempted-puzzles/${e}?page=${r}&limit=${n}`,method:"GET"})}),getChildrenAttemptedQuizzes:t.query({query:({child_id:e,page:r,limit:n})=>({url:`/profile/get-children-attempted-quizzes/${e}?page=${r}&limit=${n}`,method:"GET"})})})}),{useGetAllSuperIntendentsProfileQuery:v3e,useGetStudentByIdQuery:x3e,useGetProfileQuery:uze,useUpdateProfileMutation:dze,useGetParentProfileQuery:hze,useGetSuperAdminProfileQuery:b3e,useUpdateSuperAdminProfileMutation:w3e,useGetStudentsByLevelQuery:C3e,useCreateJoinTeacherSubjectLevelMutation:kY,useDeleteJoinTeacherSubjectLevelMutation:S3e,useGetAllJoinTeacherSubjectLevelMutation:Aze,useFillTeacherProfileMutation:fze,useFillProfileMutation:kM,useUpdateSchoolAssignmnetMutation:B3e,useGetTeacherProfileMutation:pze,useUpdateAdminProfileMutation:mze,useGetAdminProfileQuery:gze,useGetAllAdminProfileQuery:_3e,useFillStudentProfileMutation:yze,useGetStudentProfileMutation:vze,useGetAllChildrenQuery:k3e,useGetChildrenByIdQuery:E3e,useGetChildrenAttemptedPuzzlesQuery:M3e,useGetChildrenAttemptedQuizzesQuery:F3e}=V4;function T3e({studentProfile:t,profileRefetch:e}){var S,B,E,M,D;console.info("studentprfile",t);const{user_id:r}=ur(),[n,i]=_.useState(t==null?void 0:t.level_id),[s,a]=_.useState(t==null?void 0:t.user_roll_no),[o,l]=_.useState(t==null?void 0:t.parent_id);_.useEffect(()=>{t!=null&&t.level_id&&i(t==null?void 0:t.level_id)},[t==null?void 0:t.level_id]),_.useEffect(()=>{t!=null&&t.parent_id&&l(t==null?void 0:t.parent_id)},[t==null?void 0:t.parent_id]),_.useEffect(()=>{t!=null&&t.user_roll_no&&a(t==null?void 0:t.user_roll_no)},[t==null?void 0:t.user_roll_no]);const[c,{isError:u,error:d}]=kM(),{data:A,isLoading:f,isError:p,error:m,refetch:y}=Io(),{data:g,isLoading:v,isError:x,error:b,refetch:w}=tE({page:1,limit:1e16});_.useEffect(()=>{y(),w()},[]);const C=async L=>{L.preventDefault();try{const I=await c({level_id:Number(n),user_roll_no:s,user_id:Number(r),parent_id:Number(o),role:ve.USER}).unwrap();(I==null?void 0:I.statusCode)==200?(Z.success("Student Profile updated successfully"),e()):Z.error((I==null?void 0:I.message)||"Update failed")}catch{Z.error("Error updating student profile")}};return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[h.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Student Profile"})}),h.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Level"}),f?h.jsx("p",{children:"Loading levels..."}):p?h.jsxs("p",{className:"text-red-500",children:["Error loading levels: ",((S=m==null?void 0:m.data)==null?void 0:S.message)||"Unknown error"]}):h.jsxs("select",{value:n,onChange:L=>i(L.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[h.jsx("option",{value:"",disabled:!0,children:"Select Level"}),(B=A==null?void 0:A.data)==null?void 0:B.map(L=>h.jsxs("option",{value:L.id,children:[L.level.charAt(0).toUpperCase()+L.level.slice(1)," - ",L.description]},L.id))]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Parent"}),f?h.jsx("p",{children:"Loading Parents..."}):p?h.jsxs("p",{className:"text-red-500",children:["Error loading Parents: ",((E=b==null?void 0:b.data)==null?void 0:E.message)||"Unknown error"]}):h.jsxs("select",{value:o,onChange:L=>l(L.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[h.jsx("option",{value:"",disabled:!0,children:"Select Parent"}),(M=g==null?void 0:g.users)==null?void 0:M.map(L=>h.jsx("option",{value:L.id,children:L==null?void 0:L.email},L.id))]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Roll Number"}),h.jsx("input",{type:"text",value:s,onChange:L=>a(L.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0})]}),u&&h.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg text-sm",children:((D=d==null?void 0:d.data)==null?void 0:D.message)||"An error occurred"}),h.jsx("button",{type:"submit",className:"w-full px-4 py-2.5 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90",children:"Update Student Profile"})]})]})})}function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function D3e(t,e){if(vh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EY(t){var e=D3e(t,"string");return vh(e)=="symbol"?e:e+""}function Vp(t,e,r){return(e=EY(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(r),!0).forEach(function(n){Vp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L3e(t){if(Array.isArray(t))return t}function N3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function TB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function MY(t,e){if(t){if(typeof t=="string")return TB(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?TB(t,e):void 0}}function j3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bl(t,e){return L3e(t)||N3e(t,e)||MY(t,e)||j3e()}function I3e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}function Kl(t,e){if(t==null)return{};var r,n,i=I3e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var O3e=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function P3e(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,i=n===void 0?!1:n,s=t.defaultValue,a=s===void 0?null:s,o=t.inputValue,l=t.menuIsOpen,c=t.onChange,u=t.onInputChange,d=t.onMenuClose,A=t.onMenuOpen,f=t.value,p=Kl(t,O3e),m=_.useState(o!==void 0?o:r),y=Bl(m,2),g=y[0],v=y[1],x=_.useState(l!==void 0?l:i),b=Bl(x,2),w=b[0],C=b[1],S=_.useState(f!==void 0?f:a),B=Bl(S,2),E=B[0],M=B[1],D=_.useCallback(function(P,q){typeof c=="function"&&c(P,q),M(P)},[c]),L=_.useCallback(function(P,q){var N;typeof u=="function"&&(N=u(P,q)),v(N!==void 0?N:P)},[u]),I=_.useCallback(function(){typeof A=="function"&&A(),C(!0)},[A]),z=_.useCallback(function(){typeof d=="function"&&d(),C(!1)},[d]),R=o!==void 0?o:g,Y=l!==void 0?l:w,$=f!==void 0?f:E;return Xe(Xe({},p),{},{inputValue:R,menuIsOpen:Y,onChange:D,onInputChange:L,onMenuClose:z,onMenuOpen:I,value:$})}function et(){return et=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},et.apply(null,arguments)}function U3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EY(n.key),n)}}function Q3e(t,e,r){return SI(t.prototype,e),SI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function DB(t,e){return DB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},DB(t,e)}function R3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DB(t,e)}function jb(t){return jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jb(t)}function FY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FY=function(){return!!t})()}function H3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z3e(t,e){if(e&&(vh(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H3e(t)}function $3e(t){var e=FY();return function(){var r,n=jb(t);if(e){var i=jb(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return z3e(this,r)}}function V3e(t){if(Array.isArray(t))return TB(t)}function K3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function q3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EM(t){return V3e(t)||K3e(t)||MY(t)||q3e()}var W3e=!1;function G3e(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function X3e(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Y3e=function(){function t(r){var n=this;this._insertTag=function(i){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,s),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!W3e:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(X3e(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=G3e(i);try{s.insertRule(n,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Qn="-ms-",Ib="-moz-",Lt="-webkit-",TY="comm",MM="rule",FM="decl",J3e="@import",DY="@keyframes",Z3e="@layer",ewe=Math.abs,Qw=String.fromCharCode,twe=Object.assign;function rwe(t,e){return Mn(t,0)^45?(((e<<2^Mn(t,0))<<2^Mn(t,1))<<2^Mn(t,2))<<2^Mn(t,3):0}function LY(t){return t.trim()}function nwe(t,e){return(t=e.exec(t))?t[0]:t}function It(t,e,r){return t.replace(e,r)}function LB(t,e){return t.indexOf(e)}function Mn(t,e){return t.charCodeAt(e)|0}function Pg(t,e,r){return t.slice(e,r)}function ao(t){return t.length}function TM(t){return t.length}function Qy(t,e){return e.push(t),t}function iwe(t,e){return t.map(e).join("")}var Rw=1,KA=1,NY=0,Ki=0,Yr=0,bf="";function Hw(t,e,r,n,i,s,a){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:Rw,column:KA,length:a,return:""}}function Gf(t,e){return twe(Hw("",null,null,"",null,null,0),t,{length:-t.length},e)}function swe(){return Yr}function awe(){return Yr=Ki>0?Mn(bf,--Ki):0,KA--,Yr===10&&(KA=1,Rw--),Yr}function ys(){return Yr=Ki<NY?Mn(bf,Ki++):0,KA++,Yr===10&&(KA=1,Rw++),Yr}function Bo(){return Mn(bf,Ki)}function K4(){return Ki}function O1(t,e){return Pg(bf,t,e)}function Ug(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function jY(t){return Rw=KA=1,NY=ao(bf=t),Ki=0,[]}function IY(t){return bf="",t}function q4(t){return LY(O1(Ki-1,NB(t===91?t+2:t===40?t+1:t)))}function owe(t){for(;(Yr=Bo())&&Yr<33;)ys();return Ug(t)>2||Ug(Yr)>3?"":" "}function lwe(t,e){for(;--e&&ys()&&!(Yr<48||Yr>102||Yr>57&&Yr<65||Yr>70&&Yr<97););return O1(t,K4()+(e<6&&Bo()==32&&ys()==32))}function NB(t){for(;ys();)switch(Yr){case t:return Ki;case 34:case 39:t!==34&&t!==39&&NB(Yr);break;case 40:t===41&&NB(t);break;case 92:ys();break}return Ki}function cwe(t,e){for(;ys()&&t+Yr!==57;)if(t+Yr===84&&Bo()===47)break;return"/*"+O1(e,Ki-1)+"*"+Qw(t===47?t:ys())}function uwe(t){for(;!Ug(Bo());)ys();return O1(t,Ki)}function dwe(t){return IY(W4("",null,null,null,[""],t=jY(t),0,[0],t))}function W4(t,e,r,n,i,s,a,o,l){for(var c=0,u=0,d=a,A=0,f=0,p=0,m=1,y=1,g=1,v=0,x="",b=i,w=s,C=n,S=x;y;)switch(p=v,v=ys()){case 40:if(p!=108&&Mn(S,d-1)==58){LB(S+=It(q4(v),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:S+=q4(v);break;case 9:case 10:case 13:case 32:S+=owe(p);break;case 92:S+=lwe(K4()-1,7);continue;case 47:switch(Bo()){case 42:case 47:Qy(hwe(cwe(ys(),K4()),e,r),l);break;default:S+="/"}break;case 123*m:o[c++]=ao(S)*g;case 125*m:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+u:g==-1&&(S=It(S,/\f/g,"")),f>0&&ao(S)-d&&Qy(f>32?_I(S+";",n,r,d-1):_I(It(S," ","")+";",n,r,d-2),l);break;case 59:S+=";";default:if(Qy(C=BI(S,e,r,c,u,i,o,x,b=[],w=[],d),s),v===123)if(u===0)W4(S,e,C,C,b,s,d,o,w);else switch(A===99&&Mn(S,3)===110?100:A){case 100:case 108:case 109:case 115:W4(t,C,C,n&&Qy(BI(t,C,C,0,0,i,o,x,i,b=[],d),w),i,w,d,o,n?b:w);break;default:W4(S,C,C,C,[""],w,0,o,w)}}c=u=f=0,m=g=1,x=S="",d=a;break;case 58:d=1+ao(S),f=p;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&awe()==125)continue}switch(S+=Qw(v),v*m){case 38:g=u>0?1:(S+="\f",-1);break;case 44:o[c++]=(ao(S)-1)*g,g=1;break;case 64:Bo()===45&&(S+=q4(ys())),A=Bo(),u=d=ao(x=S+=uwe(K4())),v++;break;case 45:p===45&&ao(S)==2&&(m=0)}}return s}function BI(t,e,r,n,i,s,a,o,l,c,u){for(var d=i-1,A=i===0?s:[""],f=TM(A),p=0,m=0,y=0;p<n;++p)for(var g=0,v=Pg(t,d+1,d=ewe(m=a[p])),x=t;g<f;++g)(x=LY(m>0?A[g]+" "+v:It(v,/&\f/g,A[g])))&&(l[y++]=x);return Hw(t,e,r,i===0?MM:o,l,c,u)}function hwe(t,e,r){return Hw(t,e,r,TY,Qw(swe()),Pg(t,2,-2),0)}function _I(t,e,r,n){return Hw(t,e,r,FM,Pg(t,0,n),Pg(t,n+1,-1),n)}function vA(t,e){for(var r="",n=TM(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function Awe(t,e,r,n){switch(t.type){case Z3e:if(t.children.length)break;case J3e:case FM:return t.return=t.return||t.value;case TY:return"";case DY:return t.return=t.value+"{"+vA(t.children,n)+"}";case MM:t.value=t.props.join(",")}return ao(r=vA(t.children,n))?t.return=t.value+"{"+r+"}":""}function fwe(t){var e=TM(t);return function(r,n,i,s){for(var a="",o=0;o<e;o++)a+=t[o](r,n,i,s)||"";return a}}function pwe(t){return function(e){e.root||(e=e.return)&&t(e)}}function mwe(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var gwe=function(e,r,n){for(var i=0,s=0;i=s,s=Bo(),i===38&&s===12&&(r[n]=1),!Ug(s);)ys();return O1(e,Ki)},ywe=function(e,r){var n=-1,i=44;do switch(Ug(i)){case 0:i===38&&Bo()===12&&(r[n]=1),e[n]+=gwe(Ki-1,r,n);break;case 2:e[n]+=q4(i);break;case 4:if(i===44){e[++n]=Bo()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Qw(i)}while(i=ys());return e},vwe=function(e,r){return IY(ywe(jY(e),r))},kI=new WeakMap,xwe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!kI.get(n))&&!i){kI.set(e,!0);for(var s=[],a=vwe(r,s),o=n.props,l=0,c=0;l<a.length;l++)for(var u=0;u<o.length;u++,c++)e.props[c]=s[l]?a[l].replace(/&\f/g,o[u]):o[u]+" "+a[l]}}},bwe=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function OY(t,e){switch(rwe(t,e)){case 5103:return Lt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Lt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Lt+t+Ib+t+Qn+t+t;case 6828:case 4268:return Lt+t+Qn+t+t;case 6165:return Lt+t+Qn+"flex-"+t+t;case 5187:return Lt+t+It(t,/(\w+).+(:[^]+)/,Lt+"box-$1$2"+Qn+"flex-$1$2")+t;case 5443:return Lt+t+Qn+"flex-item-"+It(t,/flex-|-self/,"")+t;case 4675:return Lt+t+Qn+"flex-line-pack"+It(t,/align-content|flex-|-self/,"")+t;case 5548:return Lt+t+Qn+It(t,"shrink","negative")+t;case 5292:return Lt+t+Qn+It(t,"basis","preferred-size")+t;case 6060:return Lt+"box-"+It(t,"-grow","")+Lt+t+Qn+It(t,"grow","positive")+t;case 4554:return Lt+It(t,/([^-])(transform)/g,"$1"+Lt+"$2")+t;case 6187:return It(It(It(t,/(zoom-|grab)/,Lt+"$1"),/(image-set)/,Lt+"$1"),t,"")+t;case 5495:case 3959:return It(t,/(image-set\([^]*)/,Lt+"$1$`$1");case 4968:return It(It(t,/(.+:)(flex-)?(.*)/,Lt+"box-pack:$3"+Qn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Lt+t+t;case 4095:case 3583:case 4068:case 2532:return It(t,/(.+)-inline(.+)/,Lt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ao(t)-1-e>6)switch(Mn(t,e+1)){case 109:if(Mn(t,e+4)!==45)break;case 102:return It(t,/(.+:)(.+)-([^]+)/,"$1"+Lt+"$2-$3$1"+Ib+(Mn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~LB(t,"stretch")?OY(It(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Mn(t,e+1)!==115)break;case 6444:switch(Mn(t,ao(t)-3-(~LB(t,"!important")&&10))){case 107:return It(t,":",":"+Lt)+t;case 101:return It(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Lt+(Mn(t,14)===45?"inline-":"")+"box$3$1"+Lt+"$2$3$1"+Qn+"$2box$3")+t}break;case 5936:switch(Mn(t,e+11)){case 114:return Lt+t+Qn+It(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Lt+t+Qn+It(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Lt+t+Qn+It(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Lt+t+Qn+t+t}return t}var wwe=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case FM:e.return=OY(e.value,e.length);break;case DY:return vA([Gf(e,{value:It(e.value,"@","@"+Lt)})],i);case MM:if(e.length)return iwe(e.props,function(s){switch(nwe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return vA([Gf(e,{props:[It(s,/:(read-\w+)/,":"+Ib+"$1")]})],i);case"::placeholder":return vA([Gf(e,{props:[It(s,/:(plac\w+)/,":"+Lt+"input-$1")]}),Gf(e,{props:[It(s,/:(plac\w+)/,":"+Ib+"$1")]}),Gf(e,{props:[It(s,/:(plac\w+)/,Qn+"input-$1")]})],i)}return""})}},Cwe=[wwe],Swe=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||Cwe,s={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),g=1;g<y.length;g++)s[y[g]]=!0;o.push(m)});var l,c=[xwe,bwe];{var u,d=[Awe,pwe(function(m){u.insert(m)})],A=fwe(c.concat(i,d)),f=function(y){return vA(dwe(y),A)};l=function(y,g,v,x){u=v,f(y?y+"{"+g.styles+"}":g.styles),x&&(p.inserted[g.name]=!0)}}var p={key:r,sheet:new Y3e({key:r,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(o),p},PY={exports:{}},qt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wn=typeof Symbol=="function"&&Symbol.for,DM=wn?Symbol.for("react.element"):60103,LM=wn?Symbol.for("react.portal"):60106,zw=wn?Symbol.for("react.fragment"):60107,$w=wn?Symbol.for("react.strict_mode"):60108,Vw=wn?Symbol.for("react.profiler"):60114,Kw=wn?Symbol.for("react.provider"):60109,qw=wn?Symbol.for("react.context"):60110,NM=wn?Symbol.for("react.async_mode"):60111,Ww=wn?Symbol.for("react.concurrent_mode"):60111,Gw=wn?Symbol.for("react.forward_ref"):60112,Xw=wn?Symbol.for("react.suspense"):60113,Bwe=wn?Symbol.for("react.suspense_list"):60120,Yw=wn?Symbol.for("react.memo"):60115,Jw=wn?Symbol.for("react.lazy"):60116,_we=wn?Symbol.for("react.block"):60121,kwe=wn?Symbol.for("react.fundamental"):60117,Ewe=wn?Symbol.for("react.responder"):60118,Mwe=wn?Symbol.for("react.scope"):60119;function _s(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case DM:switch(t=t.type,t){case NM:case Ww:case zw:case Vw:case $w:case Xw:return t;default:switch(t=t&&t.$$typeof,t){case qw:case Gw:case Jw:case Yw:case Kw:return t;default:return e}}case LM:return e}}}function UY(t){return _s(t)===Ww}qt.AsyncMode=NM;qt.ConcurrentMode=Ww;qt.ContextConsumer=qw;qt.ContextProvider=Kw;qt.Element=DM;qt.ForwardRef=Gw;qt.Fragment=zw;qt.Lazy=Jw;qt.Memo=Yw;qt.Portal=LM;qt.Profiler=Vw;qt.StrictMode=$w;qt.Suspense=Xw;qt.isAsyncMode=function(t){return UY(t)||_s(t)===NM};qt.isConcurrentMode=UY;qt.isContextConsumer=function(t){return _s(t)===qw};qt.isContextProvider=function(t){return _s(t)===Kw};qt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===DM};qt.isForwardRef=function(t){return _s(t)===Gw};qt.isFragment=function(t){return _s(t)===zw};qt.isLazy=function(t){return _s(t)===Jw};qt.isMemo=function(t){return _s(t)===Yw};qt.isPortal=function(t){return _s(t)===LM};qt.isProfiler=function(t){return _s(t)===Vw};qt.isStrictMode=function(t){return _s(t)===$w};qt.isSuspense=function(t){return _s(t)===Xw};qt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===zw||t===Ww||t===Vw||t===$w||t===Xw||t===Bwe||typeof t=="object"&&t!==null&&(t.$$typeof===Jw||t.$$typeof===Yw||t.$$typeof===Kw||t.$$typeof===qw||t.$$typeof===Gw||t.$$typeof===kwe||t.$$typeof===Ewe||t.$$typeof===Mwe||t.$$typeof===_we)};qt.typeOf=_s;PY.exports=qt;var Fwe=PY.exports,QY=Fwe,Twe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Dwe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},RY={};RY[QY.ForwardRef]=Twe;RY[QY.Memo]=Dwe;var Lwe=!0;function Nwe(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(n+=i+" ")}),n}var HY=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||Lwe===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},jwe=function(e,r,n){HY(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Iwe(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Owe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Pwe=/[A-Z]|^ms/g,Uwe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,zY=function(e){return e.charCodeAt(1)===45},EI=function(e){return e!=null&&typeof e!="boolean"},w8=mwe(function(t){return zY(t)?t:t.replace(Pwe,"-$&").toLowerCase()}),MI=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Uwe,function(n,i,s){return oo={name:i,styles:s,next:oo},i})}return Owe[e]!==1&&!zY(e)&&typeof r=="number"&&r!==0?r+"px":r};function Qg(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return oo={name:i.name,styles:i.styles,next:oo},i.name;var s=r;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)oo={name:a.name,styles:a.styles,next:oo},a=a.next;var o=s.styles+";";return o}return Qwe(t,e,r)}case"function":{if(t!==void 0){var l=oo,c=r(t);return oo=l,Qg(t,e,c)}break}}var u=r;return u}function Qwe(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Qg(t,e,r[i])+";";else for(var s in r){var a=r[s];if(typeof a!="object"){var o=a;EI(o)&&(n+=w8(s)+":"+MI(s,o)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&e==null)for(var l=0;l<a.length;l++)EI(a[l])&&(n+=w8(s)+":"+MI(s,a[l])+";");else{var c=Qg(t,e,a);switch(s){case"animation":case"animationName":{n+=w8(s)+":"+c+";";break}default:n+=s+"{"+c+"}"}}}return n}var FI=/label:\s*([^\s;{]+)\s*(;|$)/g,oo;function $Y(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,i="";oo=void 0;var s=t[0];if(s==null||s.raw===void 0)n=!1,i+=Qg(r,e,s);else{var a=s;i+=a[0]}for(var o=1;o<t.length;o++)if(i+=Qg(r,e,t[o]),n){var l=s;i+=l[o]}FI.lastIndex=0;for(var c="",u;(u=FI.exec(i))!==null;)c+="-"+u[1];var d=Iwe(i)+c;return{name:d,styles:i,next:oo}}var Rwe=function(e){return e()},Hwe=gT.useInsertionEffect?gT.useInsertionEffect:!1,zwe=Hwe||Rwe,$we=!1,VY=_.createContext(typeof HTMLElement<"u"?Swe({key:"css"}):null);VY.Provider;var Vwe=function(e){return _.forwardRef(function(r,n){var i=_.useContext(VY);return e(r,i,n)})},Kwe=_.createContext({}),jM={}.hasOwnProperty,jB="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",qwe=function(e,r){var n={};for(var i in r)jM.call(r,i)&&(n[i]=r[i]);return n[jB]=e,n},Wwe=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return HY(r,n,i),zwe(function(){return jwe(r,n,i)}),null},Gwe=Vwe(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var i=t[jB],s=[n],a="";typeof t.className=="string"?a=Nwe(e.registered,s,t.className):t.className!=null&&(a=t.className+" ");var o=$Y(s,void 0,_.useContext(Kwe));a+=e.key+"-"+o.name;var l={};for(var c in t)jM.call(t,c)&&c!=="css"&&c!==jB&&!$we&&(l[c]=t[c]);return l.className=a,r&&(l.ref=r),_.createElement(_.Fragment,null,_.createElement(Wwe,{cache:e,serialized:o,isStringTag:typeof i=="string"}),_.createElement(i,l))}),Xwe=Gwe,Ve=function(e,r){var n=arguments;if(r==null||!jM.call(r,"css"))return _.createElement.apply(void 0,n);var i=n.length,s=new Array(i);s[0]=Xwe,s[1]=qwe(e,r);for(var a=2;a<i;a++)s[a]=n[a];return _.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Ve);function IM(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return $Y(e)}function Ywe(){var t=IM.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Jwe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const Zwe=Math.min,e5e=Math.max,Ob=Math.round,Ry=Math.floor,Pb=t=>({x:t,y:t});function t5e(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function Zw(){return typeof window<"u"}function KY(t){return WY(t)?(t.nodeName||"").toLowerCase():"#document"}function Ul(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function qY(t){var e;return(e=(WY(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function WY(t){return Zw()?t instanceof Node||t instanceof Ul(t).Node:!1}function r5e(t){return Zw()?t instanceof Element||t instanceof Ul(t).Element:!1}function OM(t){return Zw()?t instanceof HTMLElement||t instanceof Ul(t).HTMLElement:!1}function TI(t){return!Zw()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ul(t).ShadowRoot}function GY(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=PM(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function n5e(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function i5e(t){return["html","body","#document"].includes(KY(t))}function PM(t){return Ul(t).getComputedStyle(t)}function s5e(t){if(KY(t)==="html")return t;const e=t.assignedSlot||t.parentNode||TI(t)&&t.host||qY(t);return TI(e)?e.host:e}function XY(t){const e=s5e(t);return i5e(e)?t.ownerDocument?t.ownerDocument.body:t.body:OM(e)&&GY(e)?e:XY(e)}function Ub(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=XY(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),a=Ul(i);if(s){const o=IB(a);return e.concat(a,a.visualViewport||[],GY(i)?i:[],o&&r?Ub(o):[])}return e.concat(i,Ub(i,[],r))}function IB(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function a5e(t){const e=PM(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=OM(t),s=i?t.offsetWidth:r,a=i?t.offsetHeight:n,o=Ob(r)!==s||Ob(n)!==a;return o&&(r=s,n=a),{width:r,height:n,$:o}}function UM(t){return r5e(t)?t:t.contextElement}function DI(t){const e=UM(t);if(!OM(e))return Pb(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=a5e(e);let a=(s?Ob(r.width):r.width)/n,o=(s?Ob(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const o5e=Pb(0);function l5e(t){const e=Ul(t);return!n5e()||!e.visualViewport?o5e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function c5e(t,e,r){return!1}function LI(t,e,r,n){e===void 0&&(e=!1);const i=t.getBoundingClientRect(),s=UM(t);let a=Pb(1);e&&(a=DI(t));const o=c5e()?l5e(s):Pb(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(s){const A=Ul(s),f=n;let p=A,m=IB(p);for(;m&&n&&f!==p;){const y=DI(m),g=m.getBoundingClientRect(),v=PM(m),x=g.left+(m.clientLeft+parseFloat(v.paddingLeft))*y.x,b=g.top+(m.clientTop+parseFloat(v.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,d*=y.y,l+=x,c+=b,p=Ul(m),m=IB(p)}}return t5e({width:u,height:d,x:l,y:c})}function u5e(t,e){let r=null,n;const i=qY(t);function s(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:A}=t.getBoundingClientRect();if(o||e(),!d||!A)return;const f=Ry(u),p=Ry(i.clientWidth-(c+d)),m=Ry(i.clientHeight-(u+A)),y=Ry(c),v={rootMargin:-f+"px "+-p+"px "+-m+"px "+-y+"px",threshold:e5e(0,Zwe(1,l))||1};let x=!0;function b(w){const C=w[0].intersectionRatio;if(C!==l){if(!x)return a();C?a(!1,C):n=setTimeout(()=>{a(!1,1e-7)},1e3)}x=!1}try{r=new IntersectionObserver(b,{...v,root:i.ownerDocument})}catch{r=new IntersectionObserver(b,v)}r.observe(t)}return a(!0),s}function d5e(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=UM(t),u=i||s?[...c?Ub(c):[],...Ub(e)]:[];u.forEach(g=>{i&&g.addEventListener("scroll",r,{passive:!0}),s&&g.addEventListener("resize",r)});const d=c&&o?u5e(c,r):null;let A=-1,f=null;a&&(f=new ResizeObserver(g=>{let[v]=g;v&&v.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(A),A=requestAnimationFrame(()=>{var x;(x=f)==null||x.observe(e)})),r()}),c&&!l&&f.observe(c),f.observe(e));let p,m=l?LI(t):null;l&&y();function y(){const g=LI(t);m&&(g.x!==m.x||g.y!==m.y||g.width!==m.width||g.height!==m.height)&&r(),m=g,p=requestAnimationFrame(y)}return r(),()=>{var g;u.forEach(v=>{i&&v.removeEventListener("scroll",r),s&&v.removeEventListener("resize",r)}),d==null||d(),(g=f)==null||g.disconnect(),f=null,l&&cancelAnimationFrame(p)}}var OB=_.useLayoutEffect,h5e=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Qb=function(){};function A5e(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function f5e(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var s=[].concat(n);if(e&&t)for(var a in e)e.hasOwnProperty(a)&&e[a]&&s.push("".concat(A5e(t,a)));return s.filter(function(o){return o}).map(function(o){return String(o).trim()}).join(" ")}var NI=function(e){return C5e(e)?e.filter(Boolean):vh(e)==="object"&&e!==null?[e]:[]},YY=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=Kl(e,h5e);return Xe({},r)},Lr=function(e,r,n){var i=e.cx,s=e.getStyles,a=e.getClassNames,o=e.className;return{css:s(r,e),className:i(n??{},a(r,e),o)}};function e5(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function p5e(t){return e5(t)?window.innerHeight:t.clientHeight}function JY(t){return e5(t)?window.pageYOffset:t.scrollTop}function Rb(t,e){if(e5(t)){window.scrollTo(0,e);return}t.scrollTop=e}function m5e(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function g5e(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function Hy(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Qb,i=JY(t),s=e-i,a=10,o=0;function l(){o+=a;var c=g5e(o,i,s,r);Rb(t,c),o<r?window.requestAnimationFrame(l):n(t)}l()}function jI(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),i=e.offsetHeight/3;n.bottom+i>r.bottom?Rb(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):n.top-i<r.top&&Rb(t,Math.max(e.offsetTop-i,0))}function y5e(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function II(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function v5e(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var ZY=!1,x5e={get passive(){return ZY=!0}},zy=typeof window<"u"?window:{};zy.addEventListener&&zy.removeEventListener&&(zy.addEventListener("p",Qb,x5e),zy.removeEventListener("p",Qb,!1));var b5e=ZY;function w5e(t){return t!=null}function C5e(t){return Array.isArray(t)}function $y(t,e,r){return t?e:r}var S5e=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var s=Object.entries(e).filter(function(a){var o=Bl(a,1),l=o[0];return!n.includes(l)});return s.reduce(function(a,o){var l=Bl(o,2),c=l[0],u=l[1];return a[c]=u,a},{})},B5e=["children","innerProps"],_5e=["children","innerProps"];function k5e(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,i=t.placement,s=t.shouldScroll,a=t.isFixedPosition,o=t.controlHeight,l=m5e(r),c={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return c;var u=l.getBoundingClientRect(),d=u.height,A=r.getBoundingClientRect(),f=A.bottom,p=A.height,m=A.top,y=r.offsetParent.getBoundingClientRect(),g=y.top,v=a?window.innerHeight:p5e(l),x=JY(l),b=parseInt(getComputedStyle(r).marginBottom,10),w=parseInt(getComputedStyle(r).marginTop,10),C=g-w,S=v-m,B=C+x,E=d-x-m,M=f-v+x+b,D=x+m-w,L=160;switch(i){case"auto":case"bottom":if(S>=p)return{placement:"bottom",maxHeight:e};if(E>=p&&!a)return s&&Hy(l,M,L),{placement:"bottom",maxHeight:e};if(!a&&E>=n||a&&S>=n){s&&Hy(l,M,L);var I=a?S-b:E-b;return{placement:"bottom",maxHeight:I}}if(i==="auto"||a){var z=e,R=a?C:B;return R>=n&&(z=Math.min(R-b-o,e)),{placement:"top",maxHeight:z}}if(i==="bottom")return s&&Rb(l,M),{placement:"bottom",maxHeight:e};break;case"top":if(C>=p)return{placement:"top",maxHeight:e};if(B>=p&&!a)return s&&Hy(l,D,L),{placement:"top",maxHeight:e};if(!a&&B>=n||a&&C>=n){var Y=e;return(!a&&B>=n||a&&C>=n)&&(Y=a?C-w:B-w),s&&Hy(l,D,L),{placement:"top",maxHeight:Y}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function E5e(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var eJ=function(e){return e==="auto"?"bottom":e},M5e=function(e,r){var n,i=e.placement,s=e.theme,a=s.borderRadius,o=s.spacing,l=s.colors;return Xe((n={label:"menu"},Vp(n,E5e(i),"100%"),Vp(n,"position","absolute"),Vp(n,"width","100%"),Vp(n,"zIndex",1),n),r?{}:{backgroundColor:l.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:o.menuGutter,marginTop:o.menuGutter})},tJ=_.createContext(null),F5e=function(e){var r=e.children,n=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,a=e.menuPosition,o=e.menuShouldScrollIntoView,l=e.theme,c=_.useContext(tJ)||{},u=c.setPortalPlacement,d=_.useRef(null),A=_.useState(i),f=Bl(A,2),p=f[0],m=f[1],y=_.useState(null),g=Bl(y,2),v=g[0],x=g[1],b=l.spacing.controlHeight;return OB(function(){var w=d.current;if(w){var C=a==="fixed",S=o&&!C,B=k5e({maxHeight:i,menuEl:w,minHeight:n,placement:s,shouldScroll:S,isFixedPosition:C,controlHeight:b});m(B.maxHeight),x(B.placement),u==null||u(B.placement)}},[i,s,a,o,n,u,b]),r({ref:d,placerProps:Xe(Xe({},e),{},{placement:v||eJ(s),maxHeight:p})})},T5e=function(e){var r=e.children,n=e.innerRef,i=e.innerProps;return Ve("div",et({},Lr(e,"menu",{menu:!0}),{ref:n},i),r)},D5e=T5e,L5e=function(e,r){var n=e.maxHeight,i=e.theme.spacing.baseUnit;return Xe({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:i,paddingTop:i})},N5e=function(e){var r=e.children,n=e.innerProps,i=e.innerRef,s=e.isMulti;return Ve("div",et({},Lr(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},n),r)},rJ=function(e,r){var n=e.theme,i=n.spacing.baseUnit,s=n.colors;return Xe({textAlign:"center"},r?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},j5e=rJ,I5e=rJ,O5e=function(e){var r=e.children,n=r===void 0?"No options":r,i=e.innerProps,s=Kl(e,B5e);return Ve("div",et({},Lr(Xe(Xe({},s),{},{children:n,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),n)},P5e=function(e){var r=e.children,n=r===void 0?"Loading...":r,i=e.innerProps,s=Kl(e,_5e);return Ve("div",et({},Lr(Xe(Xe({},s),{},{children:n,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),n)},U5e=function(e){var r=e.rect,n=e.offset,i=e.position;return{left:r.left,position:i,top:n,width:r.width,zIndex:1}},Q5e=function(e){var r=e.appendTo,n=e.children,i=e.controlElement,s=e.innerProps,a=e.menuPlacement,o=e.menuPosition,l=_.useRef(null),c=_.useRef(null),u=_.useState(eJ(a)),d=Bl(u,2),A=d[0],f=d[1],p=_.useMemo(function(){return{setPortalPlacement:f}},[]),m=_.useState(null),y=Bl(m,2),g=y[0],v=y[1],x=_.useCallback(function(){if(i){var S=y5e(i),B=o==="fixed"?0:window.pageYOffset,E=S[A]+B;(E!==(g==null?void 0:g.offset)||S.left!==(g==null?void 0:g.rect.left)||S.width!==(g==null?void 0:g.rect.width))&&v({offset:E,rect:S})}},[i,o,A,g==null?void 0:g.offset,g==null?void 0:g.rect.left,g==null?void 0:g.rect.width]);OB(function(){x()},[x]);var b=_.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),i&&l.current&&(c.current=d5e(i,l.current,x,{elementResize:"ResizeObserver"in window}))},[i,x]);OB(function(){b()},[b]);var w=_.useCallback(function(S){l.current=S,b()},[b]);if(!r&&o!=="fixed"||!g)return null;var C=Ve("div",et({ref:w},Lr(Xe(Xe({},e),{},{offset:g.offset,position:o,rect:g.rect}),"menuPortal",{"menu-portal":!0}),s),n);return Ve(tJ.Provider,{value:p},r?vK.createPortal(C,r):C)},R5e=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},H5e=function(e){var r=e.children,n=e.innerProps,i=e.isDisabled,s=e.isRtl;return Ve("div",et({},Lr(e,"container",{"--is-disabled":i,"--is-rtl":s}),n),r)},z5e=function(e,r){var n=e.theme.spacing,i=e.isMulti,s=e.hasValue,a=e.selectProps.controlShouldRenderValue;return Xe({alignItems:"center",display:i&&s&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},$5e=function(e){var r=e.children,n=e.innerProps,i=e.isMulti,s=e.hasValue;return Ve("div",et({},Lr(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),n),r)},V5e=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},K5e=function(e){var r=e.children,n=e.innerProps;return Ve("div",et({},Lr(e,"indicatorsContainer",{indicators:!0}),n),r)},OI,q5e=["size"],W5e=["innerProps","isRtl","size"],G5e={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},nJ=function(e){var r=e.size,n=Kl(e,q5e);return Ve("svg",et({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:G5e},n))},QM=function(e){return Ve(nJ,et({size:20},e),Ve("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},iJ=function(e){return Ve(nJ,et({size:20},e),Ve("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},sJ=function(e,r){var n=e.isFocused,i=e.theme,s=i.spacing.baseUnit,a=i.colors;return Xe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?a.neutral60:a.neutral20,padding:s*2,":hover":{color:n?a.neutral80:a.neutral40}})},X5e=sJ,Y5e=function(e){var r=e.children,n=e.innerProps;return Ve("div",et({},Lr(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||Ve(iJ,null))},J5e=sJ,Z5e=function(e){var r=e.children,n=e.innerProps;return Ve("div",et({},Lr(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||Ve(QM,null))},e6e=function(e,r){var n=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,a=i.colors;return Xe({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?a.neutral10:a.neutral20,marginBottom:s*2,marginTop:s*2})},t6e=function(e){var r=e.innerProps;return Ve("span",et({},r,Lr(e,"indicatorSeparator",{"indicator-separator":!0})))},r6e=Ywe(OI||(OI=Jwe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),n6e=function(e,r){var n=e.isFocused,i=e.size,s=e.theme,a=s.colors,o=s.spacing.baseUnit;return Xe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?a.neutral60:a.neutral20,padding:o*2})},C8=function(e){var r=e.delay,n=e.offset;return Ve("span",{css:IM({animation:"".concat(r6e," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},i6e=function(e){var r=e.innerProps,n=e.isRtl,i=e.size,s=i===void 0?4:i,a=Kl(e,W5e);return Ve("div",et({},Lr(Xe(Xe({},a),{},{innerProps:r,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),Ve(C8,{delay:0,offset:n}),Ve(C8,{delay:160,offset:!0}),Ve(C8,{delay:320,offset:!n}))},s6e=function(e,r){var n=e.isDisabled,i=e.isFocused,s=e.theme,a=s.colors,o=s.borderRadius,l=s.spacing;return Xe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?a.neutral5:a.neutral0,borderColor:n?a.neutral10:i?a.primary:a.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:i?a.primary:a.neutral30}})},a6e=function(e){var r=e.children,n=e.isDisabled,i=e.isFocused,s=e.innerRef,a=e.innerProps,o=e.menuIsOpen;return Ve("div",et({ref:s},Lr(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":i,"control--menu-is-open":o}),a,{"aria-disabled":n||void 0}),r)},o6e=a6e,l6e=["data"],c6e=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},u6e=function(e){var r=e.children,n=e.cx,i=e.getStyles,s=e.getClassNames,a=e.Heading,o=e.headingProps,l=e.innerProps,c=e.label,u=e.theme,d=e.selectProps;return Ve("div",et({},Lr(e,"group",{group:!0}),l),Ve(a,et({},o,{selectProps:d,theme:u,getStyles:i,getClassNames:s,cx:n}),c),Ve("div",null,r))},d6e=function(e,r){var n=e.theme,i=n.colors,s=n.spacing;return Xe({label:"group",cursor:"default",display:"block"},r?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},h6e=function(e){var r=YY(e);r.data;var n=Kl(r,l6e);return Ve("div",et({},Lr(e,"groupHeading",{"group-heading":!0}),n))},A6e=u6e,f6e=["innerRef","isDisabled","isHidden","inputClassName"],p6e=function(e,r){var n=e.isDisabled,i=e.value,s=e.theme,a=s.spacing,o=s.colors;return Xe(Xe({visibility:n?"hidden":"visible",transform:i?"translateZ(0)":""},m6e),r?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:o.neutral80})},aJ={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},m6e={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Xe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},aJ)},g6e=function(e){return Xe({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},aJ)},y6e=function(e){var r=e.cx,n=e.value,i=YY(e),s=i.innerRef,a=i.isDisabled,o=i.isHidden,l=i.inputClassName,c=Kl(i,f6e);return Ve("div",et({},Lr(e,"input",{"input-container":!0}),{"data-value":n||""}),Ve("input",et({className:r({input:!0},l),ref:s,style:g6e(o),disabled:a},c)))},v6e=y6e,x6e=function(e,r){var n=e.theme,i=n.spacing,s=n.borderRadius,a=n.colors;return Xe({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:a.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},b6e=function(e,r){var n=e.theme,i=n.borderRadius,s=n.colors,a=e.cropWithEllipsis;return Xe({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},w6e=function(e,r){var n=e.theme,i=n.spacing,s=n.borderRadius,a=n.colors,o=e.isFocused;return Xe({alignItems:"center",display:"flex"},r?{}:{borderRadius:s/2,backgroundColor:o?a.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},oJ=function(e){var r=e.children,n=e.innerProps;return Ve("div",n,r)},C6e=oJ,S6e=oJ;function B6e(t){var e=t.children,r=t.innerProps;return Ve("div",et({role:"button"},r),e||Ve(QM,{size:14}))}var _6e=function(e){var r=e.children,n=e.components,i=e.data,s=e.innerProps,a=e.isDisabled,o=e.removeProps,l=e.selectProps,c=n.Container,u=n.Label,d=n.Remove;return Ve(c,{data:i,innerProps:Xe(Xe({},Lr(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),s),selectProps:l},Ve(u,{data:i,innerProps:Xe({},Lr(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},r),Ve(d,{data:i,innerProps:Xe(Xe({},Lr(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},o),selectProps:l}))},k6e=_6e,E6e=function(e,r){var n=e.isDisabled,i=e.isFocused,s=e.isSelected,a=e.theme,o=a.spacing,l=a.colors;return Xe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:n?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(o.baseUnit*2,"px ").concat(o.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?l.primary:l.primary50}})},M6e=function(e){var r=e.children,n=e.isDisabled,i=e.isFocused,s=e.isSelected,a=e.innerRef,o=e.innerProps;return Ve("div",et({},Lr(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":i,"option--is-selected":s}),{ref:a,"aria-disabled":n},o),r)},F6e=M6e,T6e=function(e,r){var n=e.theme,i=n.spacing,s=n.colors;return Xe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},D6e=function(e){var r=e.children,n=e.innerProps;return Ve("div",et({},Lr(e,"placeholder",{placeholder:!0}),n),r)},L6e=D6e,N6e=function(e,r){var n=e.isDisabled,i=e.theme,s=i.spacing,a=i.colors;return Xe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?a.neutral40:a.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},j6e=function(e){var r=e.children,n=e.isDisabled,i=e.innerProps;return Ve("div",et({},Lr(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),i),r)},I6e=j6e,O6e={ClearIndicator:Z5e,Control:o6e,DropdownIndicator:Y5e,DownChevron:iJ,CrossIcon:QM,Group:A6e,GroupHeading:h6e,IndicatorsContainer:K5e,IndicatorSeparator:t6e,Input:v6e,LoadingIndicator:i6e,Menu:D5e,MenuList:N5e,MenuPortal:Q5e,LoadingMessage:P5e,NoOptionsMessage:O5e,MultiValue:k6e,MultiValueContainer:C6e,MultiValueLabel:S6e,MultiValueRemove:B6e,Option:F6e,Placeholder:L6e,SelectContainer:H5e,SingleValue:I6e,ValueContainer:$5e},P6e=function(e){return Xe(Xe({},O6e),e.components)},PI=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function U6e(t,e){return!!(t===e||PI(t)&&PI(e))}function Q6e(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!U6e(t[r],e[r]))return!1;return!0}function R6e(t,e){e===void 0&&(e=Q6e);var r=null;function n(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(r&&r.lastThis===this&&e(i,r.lastArgs))return r.lastResult;var a=t.apply(this,i);return r={lastResult:a,lastArgs:i,lastThis:this},a}return n.clear=function(){r=null},n}var H6e={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},z6e=function(e){return Ve("span",et({css:H6e},e))},UI=z6e,$6e={guidance:function(e){var r=e.isSearchable,n=e.isMulti,i=e.tabSelectsValue,s=e.context,a=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,i=n===void 0?"":n,s=e.labels,a=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return a?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,i=e.options,s=e.label,a=s===void 0?"":s,o=e.selectValue,l=e.isDisabled,c=e.isSelected,u=e.isAppleDevice,d=function(m,y){return m&&m.length?"".concat(m.indexOf(y)+1," of ").concat(m.length):""};if(r==="value"&&o)return"value ".concat(a," focused, ").concat(d(o,n),".");if(r==="menu"&&u){var A=l?" disabled":"",f="".concat(c?" selected":"").concat(A);return"".concat(a).concat(f,", ").concat(d(i,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},V6e=function(e){var r=e.ariaSelection,n=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,a=e.isFocused,o=e.selectValue,l=e.selectProps,c=e.id,u=e.isAppleDevice,d=l.ariaLiveMessages,A=l.getOptionLabel,f=l.inputValue,p=l.isMulti,m=l.isOptionDisabled,y=l.isSearchable,g=l.menuIsOpen,v=l.options,x=l.screenReaderStatus,b=l.tabSelectsValue,w=l.isLoading,C=l["aria-label"],S=l["aria-live"],B=_.useMemo(function(){return Xe(Xe({},$6e),d||{})},[d]),E=_.useMemo(function(){var R="";if(r&&B.onChange){var Y=r.option,$=r.options,P=r.removedValue,q=r.removedValues,N=r.value,ae=function(J){return Array.isArray(J)?null:J},oe=P||Y||ae(N),O=oe?A(oe):"",fe=$||q||void 0,Se=fe?fe.map(A):[],ie=Xe({isDisabled:oe&&m(oe,o),label:O,labels:Se},r);R=B.onChange(ie)}return R},[r,B,m,o,A]),M=_.useMemo(function(){var R="",Y=n||i,$=!!(n&&o&&o.includes(n));if(Y&&B.onFocus){var P={focused:Y,label:A(Y),isDisabled:m(Y,o),isSelected:$,options:s,context:Y===n?"menu":"value",selectValue:o,isAppleDevice:u};R=B.onFocus(P)}return R},[n,i,A,m,B,s,o,u]),D=_.useMemo(function(){var R="";if(g&&v.length&&!w&&B.onFilter){var Y=x({count:s.length});R=B.onFilter({inputValue:f,resultsMessage:Y})}return R},[s,f,g,B,v,x,w]),L=(r==null?void 0:r.action)==="initial-input-focus",I=_.useMemo(function(){var R="";if(B.guidance){var Y=i?"value":g?"menu":"input";R=B.guidance({"aria-label":C,context:Y,isDisabled:n&&m(n,o),isMulti:p,isSearchable:y,tabSelectsValue:b,isInitialFocus:L})}return R},[C,n,i,p,m,y,g,B,o,b,L]),z=Ve(_.Fragment,null,Ve("span",{id:"aria-selection"},E),Ve("span",{id:"aria-focused"},M),Ve("span",{id:"aria-results"},D),Ve("span",{id:"aria-guidance"},I));return Ve(_.Fragment,null,Ve(UI,{id:c},L&&z),Ve(UI,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!L&&z))},K6e=V6e,PB=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],q6e=new RegExp("["+PB.map(function(t){return t.letters}).join("")+"]","g"),lJ={};for(var S8=0;S8<PB.length;S8++)for(var B8=PB[S8],_8=0;_8<B8.letters.length;_8++)lJ[B8.letters[_8]]=B8.base;var cJ=function(e){return e.replace(q6e,function(r){return lJ[r]})},W6e=R6e(cJ),QI=function(e){return e.replace(/^\s+|\s+$/g,"")},G6e=function(e){return"".concat(e.label," ").concat(e.value)},X6e=function(e){return function(r,n){if(r.data.__isNew__)return!0;var i=Xe({ignoreCase:!0,ignoreAccents:!0,stringify:G6e,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,a=i.ignoreAccents,o=i.stringify,l=i.trim,c=i.matchFrom,u=l?QI(n):n,d=l?QI(o(r)):o(r);return s&&(u=u.toLowerCase(),d=d.toLowerCase()),a&&(u=W6e(u),d=cJ(d)),c==="start"?d.substr(0,u.length)===u:d.indexOf(u)>-1}},Y6e=["innerRef"];function J6e(t){var e=t.innerRef,r=Kl(t,Y6e),n=S5e(r,"onExited","in","enter","exit","appear");return Ve("input",et({ref:e},n,{css:IM({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Z6e=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function e8e(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,a=_.useRef(!1),o=_.useRef(!1),l=_.useRef(0),c=_.useRef(null),u=_.useCallback(function(y,g){if(c.current!==null){var v=c.current,x=v.scrollTop,b=v.scrollHeight,w=v.clientHeight,C=c.current,S=g>0,B=b-w-x,E=!1;B>g&&a.current&&(n&&n(y),a.current=!1),S&&o.current&&(s&&s(y),o.current=!1),S&&g>B?(r&&!a.current&&r(y),C.scrollTop=b,E=!0,a.current=!0):!S&&-g>x&&(i&&!o.current&&i(y),C.scrollTop=0,E=!0,o.current=!0),E&&Z6e(y)}},[r,n,i,s]),d=_.useCallback(function(y){u(y,y.deltaY)},[u]),A=_.useCallback(function(y){l.current=y.changedTouches[0].clientY},[]),f=_.useCallback(function(y){var g=l.current-y.changedTouches[0].clientY;u(y,g)},[u]),p=_.useCallback(function(y){if(y){var g=b5e?{passive:!1}:!1;y.addEventListener("wheel",d,g),y.addEventListener("touchstart",A,g),y.addEventListener("touchmove",f,g)}},[f,A,d]),m=_.useCallback(function(y){y&&(y.removeEventListener("wheel",d,!1),y.removeEventListener("touchstart",A,!1),y.removeEventListener("touchmove",f,!1))},[f,A,d]);return _.useEffect(function(){if(e){var y=c.current;return p(y),function(){m(y)}}},[e,p,m]),function(y){c.current=y}}var RI=["boxSizing","height","overflow","paddingRight","position"],HI={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function zI(t){t.cancelable&&t.preventDefault()}function $I(t){t.stopPropagation()}function VI(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function KI(){return"ontouchstart"in window||navigator.maxTouchPoints}var qI=!!(typeof window<"u"&&window.document&&window.document.createElement),Xf=0,Kh={capture:!1,passive:!1};function t8e(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,i=_.useRef({}),s=_.useRef(null),a=_.useCallback(function(l){if(qI){var c=document.body,u=c&&c.style;if(n&&RI.forEach(function(p){var m=u&&u[p];i.current[p]=m}),n&&Xf<1){var d=parseInt(i.current.paddingRight,10)||0,A=document.body?document.body.clientWidth:0,f=window.innerWidth-A+d||0;Object.keys(HI).forEach(function(p){var m=HI[p];u&&(u[p]=m)}),u&&(u.paddingRight="".concat(f,"px"))}c&&KI()&&(c.addEventListener("touchmove",zI,Kh),l&&(l.addEventListener("touchstart",VI,Kh),l.addEventListener("touchmove",$I,Kh))),Xf+=1}},[n]),o=_.useCallback(function(l){if(qI){var c=document.body,u=c&&c.style;Xf=Math.max(Xf-1,0),n&&Xf<1&&RI.forEach(function(d){var A=i.current[d];u&&(u[d]=A)}),c&&KI()&&(c.removeEventListener("touchmove",zI,Kh),l&&(l.removeEventListener("touchstart",VI,Kh),l.removeEventListener("touchmove",$I,Kh)))}},[n]);return _.useEffect(function(){if(e){var l=s.current;return a(l),function(){o(l)}}},[e,a,o]),function(l){s.current=l}}var r8e=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},n8e={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function i8e(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,i=n===void 0?!0:n,s=t.onBottomArrive,a=t.onBottomLeave,o=t.onTopArrive,l=t.onTopLeave,c=e8e({isEnabled:i,onBottomArrive:s,onBottomLeave:a,onTopArrive:o,onTopLeave:l}),u=t8e({isEnabled:r}),d=function(f){c(f),u(f)};return Ve(_.Fragment,null,r&&Ve("div",{onClick:r8e,css:n8e}),e(d))}var s8e={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},a8e=function(e){var r=e.name,n=e.onFocus;return Ve("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:s8e,value:"",onChange:function(){}})},o8e=a8e;function RM(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function l8e(){return RM(/^iPhone/i)}function uJ(){return RM(/^Mac/i)}function c8e(){return RM(/^iPad/i)||uJ()&&navigator.maxTouchPoints>1}function u8e(){return l8e()||c8e()}function d8e(){return uJ()||u8e()}var h8e=function(e){return e.label},A8e=function(e){return e.label},f8e=function(e){return e.value},p8e=function(e){return!!e.isDisabled},m8e={clearIndicator:J5e,container:R5e,control:s6e,dropdownIndicator:X5e,group:c6e,groupHeading:d6e,indicatorsContainer:V5e,indicatorSeparator:e6e,input:p6e,loadingIndicator:n6e,loadingMessage:I5e,menu:M5e,menuList:L5e,menuPortal:U5e,multiValue:x6e,multiValueLabel:b6e,multiValueRemove:w6e,noOptionsMessage:j5e,option:E6e,placeholder:T6e,singleValue:N6e,valueContainer:z5e},g8e={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},y8e=4,dJ=4,v8e=38,x8e=dJ*2,b8e={baseUnit:dJ,controlHeight:v8e,menuGutter:x8e},k8={borderRadius:y8e,colors:g8e,spacing:b8e},w8e={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:II(),captureMenuScroll:!II(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:X6e(),formatGroupLabel:h8e,getOptionLabel:A8e,getOptionValue:f8e,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:p8e,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!v5e(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function WI(t,e,r,n){var i=fJ(t,e,r),s=pJ(t,e,r),a=AJ(t,e),o=Hb(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:a,value:o,index:n}}function G4(t,e){return t.options.map(function(r,n){if("options"in r){var i=r.options.map(function(a,o){return WI(t,a,e,o)}).filter(function(a){return XI(t,a)});return i.length>0?{type:"group",data:r,options:i,index:n}:void 0}var s=WI(t,r,e,n);return XI(t,s)?s:void 0}).filter(w5e)}function hJ(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,EM(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function GI(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,EM(n.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(n.index,"-").concat(i.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function C8e(t,e){return hJ(G4(t,e))}function XI(t,e){var r=t.inputValue,n=r===void 0?"":r,i=e.data,s=e.isSelected,a=e.label,o=e.value;return(!gJ(t)||!s)&&mJ(t,{label:a,value:o,data:i},n)}function S8e(t,e){var r=t.focusedValue,n=t.selectValue,i=n.indexOf(r);if(i>-1){var s=e.indexOf(r);if(s>-1)return r;if(i<e.length)return e[i]}return null}function B8e(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var E8=function(e,r){var n,i=(n=e.find(function(s){return s.data===r}))===null||n===void 0?void 0:n.id;return i||null},AJ=function(e,r){return e.getOptionLabel(r)},Hb=function(e,r){return e.getOptionValue(r)};function fJ(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function pJ(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=Hb(t,e);return r.some(function(i){return Hb(t,i)===n})}function mJ(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var gJ=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},_8e=1,yJ=function(t){R3e(r,t);var e=$3e(r);function r(n){var i;if(U3e(this,r),i=e.call(this,n),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=d8e(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,c){var u=i.props,d=u.onChange,A=u.name;c.name=A,i.ariaOnChange(l,c),d(l,c)},i.setValue=function(l,c,u){var d=i.props,A=d.closeMenuOnSelect,f=d.isMulti,p=d.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:p}),A&&(i.setState({inputIsHiddenAfterUpdate:!f}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:c,option:u})},i.selectOption=function(l){var c=i.props,u=c.blurInputOnSelect,d=c.isMulti,A=c.name,f=i.state.selectValue,p=d&&i.isOptionSelected(l,f),m=i.isOptionDisabled(l,f);if(p){var y=i.getOptionValue(l);i.setValue(f.filter(function(g){return i.getOptionValue(g)!==y}),"deselect-option",l)}else if(!m)d?i.setValue([].concat(EM(f),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:A});return}u&&i.blurInput()},i.removeValue=function(l){var c=i.props.isMulti,u=i.state.selectValue,d=i.getOptionValue(l),A=u.filter(function(p){return i.getOptionValue(p)!==d}),f=$y(c,A,A[0]||null);i.onChange(f,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange($y(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,c=i.state.selectValue,u=c[c.length-1],d=c.slice(0,c.length-1),A=$y(l,d,d[0]||null);u&&i.onChange(A,{action:"pop-value",removedValue:u})},i.getFocusedOptionId=function(l){return E8(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return GI(G4(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return f5e.apply(void 0,[i.props.classNamePrefix].concat(c))},i.getOptionLabel=function(l){return AJ(i.props,l)},i.getOptionValue=function(l){return Hb(i.props,l)},i.getStyles=function(l,c){var u=i.props.unstyled,d=m8e[l](c,u);d.boxSizing="border-box";var A=i.props.styles[l];return A?A(d,c):d},i.getClassNames=function(l,c){var u,d;return(u=(d=i.props.classNames)[l])===null||u===void 0?void 0:u.call(d,c)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return P6e(i.props)},i.buildCategorizedOptions=function(){return G4(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return hJ(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,c){i.setState({ariaSelection:Xe({value:l},c)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var c=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():c&&i.openMenu("first"):(c&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var c=i.props,u=c.isMulti,d=c.menuIsOpen;i.focusInput(),d?(i.setState({inputIsHiddenAfterUpdate:!u}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&e5(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var c=l.touches,u=c&&c.item(0);u&&(i.initialTouchX=u.clientX,i.initialTouchY=u.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var c=l.touches,u=c&&c.item(0);if(u){var d=Math.abs(u.clientX-i.initialTouchX),A=Math.abs(u.clientY-i.initialTouchY),f=5;i.userIsDragging=d>f||A>f}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var c=i.props.inputValue,u=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(u,{action:"input-change",prevInputValue:c}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var c=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:c}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var c=i.getFocusableOptions(),u=c.indexOf(l);i.setState({focusedOption:l,focusedOptionId:u>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return gJ(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var c=i.props,u=c.isMulti,d=c.backspaceRemovesValue,A=c.escapeClearsValue,f=c.inputValue,p=c.isClearable,m=c.isDisabled,y=c.menuIsOpen,g=c.onKeyDown,v=c.tabSelectsValue,x=c.openMenuOnFocus,b=i.state,w=b.focusedOption,C=b.focusedValue,S=b.selectValue;if(!m&&!(typeof g=="function"&&(g(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!u||f)return;i.focusValue("previous");break;case"ArrowRight":if(!u||f)return;i.focusValue("next");break;case"Delete":case"Backspace":if(f)return;if(C)i.removeValue(C);else{if(!d)return;u?i.popValue():p&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!y||!v||!w||x&&i.isOptionSelected(w,S))return;i.selectOption(w);break;case"Enter":if(l.keyCode===229)break;if(y){if(!w||i.isComposing)return;i.selectOption(w);break}return;case"Escape":y?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:f}),i.onMenuClose()):p&&A&&i.clearValue();break;case" ":if(f)return;if(!y){i.openMenu("first");break}if(!w)return;i.selectOption(w);break;case"ArrowUp":y?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":y?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!y)return;i.focusOption("pageup");break;case"PageDown":if(!y)return;i.focusOption("pagedown");break;case"Home":if(!y)return;i.focusOption("first");break;case"End":if(!y)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++_8e),i.state.selectValue=NI(n.value),n.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),a=i.buildFocusableOptions(),o=a.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=a[o],i.state.focusedOptionId=E8(s,a[o])}return i}return Q3e(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&jI(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isDisabled,o=s.menuIsOpen,l=this.state.isFocused;(l&&!a&&i.isDisabled||l&&o&&!i.menuIsOpen)&&this.focusInput(),l&&a&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!a&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(jI(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,a=this.state,o=a.selectValue,l=a.isFocused,c=this.buildFocusableOptions(),u=i==="first"?0:c.length-1;if(!this.props.isMulti){var d=c.indexOf(o[0]);d>-1&&(u=d)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[u],focusedOptionId:this.getFocusedOptionId(c[u])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,a=s.selectValue,o=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=a.indexOf(o);o||(l=-1);var c=a.length-1,u=-1;if(a.length){switch(i){case"previous":l===0?u=0:l===-1?u=c:u=l-1;break;case"next":l>-1&&l<c&&(u=l+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:a[u]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,a=this.state.focusedOption,o=this.getFocusableOptions();if(o.length){var l=0,c=o.indexOf(a);a||(c=-1),i==="up"?l=c>0?c-1:o.length-1:i==="down"?l=(c+1)%o.length:i==="pageup"?(l=c-s,l<0&&(l=0)):i==="pagedown"?(l=c+s,l>o.length-1&&(l=o.length-1)):i==="last"&&(l=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(o[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(k8):Xe(Xe({},k8),this.props.theme):k8}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,a=this.getStyles,o=this.getClassNames,l=this.getValue,c=this.selectOption,u=this.setValue,d=this.props,A=d.isMulti,f=d.isRtl,p=d.options,m=this.hasValue();return{clearValue:i,cx:s,getStyles:a,getClassNames:o,getValue:l,hasValue:m,isMulti:A,isRtl:f,options:p,selectOption:c,selectProps:d,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,a=i.isMulti;return s===void 0?a:s}},{key:"isOptionDisabled",value:function(i,s){return fJ(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return pJ(this.props,i,s)}},{key:"filterOption",value:function(i,s){return mJ(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,o=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:a,selectValue:o})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,a=i.isSearchable,o=i.inputId,l=i.inputValue,c=i.tabIndex,u=i.form,d=i.menuIsOpen,A=i.required,f=this.getComponents(),p=f.Input,m=this.state,y=m.inputIsHidden,g=m.ariaSelection,v=this.commonProps,x=o||this.getElementId("input"),b=Xe(Xe(Xe({"aria-autocomplete":"list","aria-expanded":d,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":A,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},d&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?(g==null?void 0:g.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?_.createElement(p,et({},v,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:x,innerRef:this.getInputRef,isDisabled:s,isHidden:y,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:u,type:"text",value:l},b)):_.createElement(J6e,et({id:x,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Qb,onFocus:this.onInputFocus,disabled:s,tabIndex:c,inputMode:"none",form:u,value:""},b))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),a=s.MultiValue,o=s.MultiValueContainer,l=s.MultiValueLabel,c=s.MultiValueRemove,u=s.SingleValue,d=s.Placeholder,A=this.commonProps,f=this.props,p=f.controlShouldRenderValue,m=f.isDisabled,y=f.isMulti,g=f.inputValue,v=f.placeholder,x=this.state,b=x.selectValue,w=x.focusedValue,C=x.isFocused;if(!this.hasValue()||!p)return g?null:_.createElement(d,et({},A,{key:"placeholder",isDisabled:m,isFocused:C,innerProps:{id:this.getElementId("placeholder")}}),v);if(y)return b.map(function(B,E){var M=B===w,D="".concat(i.getOptionLabel(B),"-").concat(i.getOptionValue(B));return _.createElement(a,et({},A,{components:{Container:o,Label:l,Remove:c},isFocused:M,isDisabled:m,key:D,index:E,removeProps:{onClick:function(){return i.removeValue(B)},onTouchEnd:function(){return i.removeValue(B)},onMouseDown:function(I){I.preventDefault()}},data:B}),i.formatOptionLabel(B,"value"))});if(g)return null;var S=b[0];return _.createElement(u,et({},A,{data:S,isDisabled:m}),this.formatOptionLabel(S,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,a=this.commonProps,o=this.props,l=o.isDisabled,c=o.isLoading,u=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||c)return null;var d={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return _.createElement(s,et({},a,{innerProps:d,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,a=this.commonProps,o=this.props,l=o.isDisabled,c=o.isLoading,u=this.state.isFocused;if(!s||!c)return null;var d={"aria-hidden":"true"};return _.createElement(s,et({},a,{innerProps:d,isDisabled:l,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,a=i.IndicatorSeparator;if(!s||!a)return null;var o=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused;return _.createElement(a,et({},o,{isDisabled:l,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var a=this.commonProps,o=this.props.isDisabled,l=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return _.createElement(s,et({},a,{innerProps:c,isDisabled:o,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),a=s.Group,o=s.GroupHeading,l=s.Menu,c=s.MenuList,u=s.MenuPortal,d=s.LoadingMessage,A=s.NoOptionsMessage,f=s.Option,p=this.commonProps,m=this.state.focusedOption,y=this.props,g=y.captureMenuScroll,v=y.inputValue,x=y.isLoading,b=y.loadingMessage,w=y.minMenuHeight,C=y.maxMenuHeight,S=y.menuIsOpen,B=y.menuPlacement,E=y.menuPosition,M=y.menuPortalTarget,D=y.menuShouldBlockScroll,L=y.menuShouldScrollIntoView,I=y.noOptionsMessage,z=y.onMenuScrollToTop,R=y.onMenuScrollToBottom;if(!S)return null;var Y=function(O,fe){var Se=O.type,ie=O.data,pe=O.isDisabled,J=O.isSelected,re=O.label,ee=O.value,nt=m===ie,Re=pe?void 0:function(){return i.onOptionHover(ie)},st=pe?void 0:function(){return i.selectOption(ie)},He="".concat(i.getElementId("option"),"-").concat(fe),ze={id:He,onClick:st,onMouseMove:Re,onMouseOver:Re,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:J};return _.createElement(f,et({},p,{innerProps:ze,data:ie,isDisabled:pe,isSelected:J,key:He,label:re,type:Se,value:ee,isFocused:nt,innerRef:nt?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(O.data,"menu"))},$;if(this.hasOptions())$=this.getCategorizedOptions().map(function(oe){if(oe.type==="group"){var O=oe.data,fe=oe.options,Se=oe.index,ie="".concat(i.getElementId("group"),"-").concat(Se),pe="".concat(ie,"-heading");return _.createElement(a,et({},p,{key:ie,data:O,options:fe,Heading:o,headingProps:{id:pe,data:oe.data},label:i.formatGroupLabel(oe.data)}),oe.options.map(function(J){return Y(J,"".concat(Se,"-").concat(J.index))}))}else if(oe.type==="option")return Y(oe,"".concat(oe.index))});else if(x){var P=b({inputValue:v});if(P===null)return null;$=_.createElement(d,p,P)}else{var q=I({inputValue:v});if(q===null)return null;$=_.createElement(A,p,q)}var N={minMenuHeight:w,maxMenuHeight:C,menuPlacement:B,menuPosition:E,menuShouldScrollIntoView:L},ae=_.createElement(F5e,et({},p,N),function(oe){var O=oe.ref,fe=oe.placerProps,Se=fe.placement,ie=fe.maxHeight;return _.createElement(l,et({},p,N,{innerRef:O,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:x,placement:Se}),_.createElement(i8e,{captureEnabled:g,onTopArrive:z,onBottomArrive:R,lockEnabled:D},function(pe){return _.createElement(c,et({},p,{innerRef:function(re){i.getMenuListRef(re),pe(re)},innerProps:{role:"listbox","aria-multiselectable":p.isMulti,id:i.getElementId("listbox")},isLoading:x,maxHeight:ie,focusedOption:m}),$)}))});return M||E==="fixed"?_.createElement(u,et({},p,{appendTo:M,controlElement:this.controlRef,menuPlacement:B,menuPosition:E}),ae):ae}},{key:"renderFormField",value:function(){var i=this,s=this.props,a=s.delimiter,o=s.isDisabled,l=s.isMulti,c=s.name,u=s.required,d=this.state.selectValue;if(u&&!this.hasValue()&&!o)return _.createElement(o8e,{name:c,onFocus:this.onValueInputFocus});if(!(!c||o))if(l)if(a){var A=d.map(function(m){return i.getOptionValue(m)}).join(a);return _.createElement("input",{name:c,type:"hidden",value:A})}else{var f=d.length>0?d.map(function(m,y){return _.createElement("input",{key:"i-".concat(y),name:c,type:"hidden",value:i.getOptionValue(m)})}):_.createElement("input",{name:c,type:"hidden",value:""});return _.createElement("div",null,f)}else{var p=d[0]?this.getOptionValue(d[0]):"";return _.createElement("input",{name:c,type:"hidden",value:p})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,a=s.ariaSelection,o=s.focusedOption,l=s.focusedValue,c=s.isFocused,u=s.selectValue,d=this.getFocusableOptions();return _.createElement(K6e,et({},i,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:o,focusedValue:l,isFocused:c,selectValue:u,focusableOptions:d,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,a=i.IndicatorsContainer,o=i.SelectContainer,l=i.ValueContainer,c=this.props,u=c.className,d=c.id,A=c.isDisabled,f=c.menuIsOpen,p=this.state.isFocused,m=this.commonProps=this.getCommonProps();return _.createElement(o,et({},m,{className:u,innerProps:{id:d,onKeyDown:this.onKeyDown},isDisabled:A,isFocused:p}),this.renderLiveRegion(),_.createElement(s,et({},m,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:A,isFocused:p,menuIsOpen:f}),_.createElement(l,et({},m,{isDisabled:A}),this.renderPlaceholderOrValue(),this.renderInput()),_.createElement(a,et({},m,{isDisabled:A}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var a=s.prevProps,o=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,c=s.ariaSelection,u=s.isFocused,d=s.prevWasFocused,A=s.instancePrefix,f=i.options,p=i.value,m=i.menuIsOpen,y=i.inputValue,g=i.isMulti,v=NI(p),x={};if(a&&(p!==a.value||f!==a.options||m!==a.menuIsOpen||y!==a.inputValue)){var b=m?C8e(i,v):[],w=m?GI(G4(i,v),"".concat(A,"-option")):[],C=o?S8e(s,v):null,S=B8e(s,b),B=E8(w,S);x={selectValue:v,focusedOption:S,focusedOptionId:B,focusableOptionsWithIds:w,focusedValue:C,clearFocusValueOnUpdate:!1}}var E=l!=null&&i!==a?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},M=c,D=u&&d;return u&&!D&&(M={value:$y(g,v,v[0]||null),options:v,action:"initial-input-focus"},D=!d),(c==null?void 0:c.action)==="initial-input-focus"&&(M=null),Xe(Xe(Xe({},x),E),{},{prevProps:i,ariaSelection:M,prevWasFocused:D})}}]),r}(_.Component);yJ.defaultProps=w8e;var k8e=_.forwardRef(function(t,e){var r=P3e(t);return _.createElement(yJ,et({ref:e},r))}),vJ=k8e;const E8e=({teacherSubjects:t,allSubjects:e,onSubjectCreate:r,onDelete:n,selectedSubjects:i,onSubjectsChange:s,isLoading:a,isError:o})=>{const[l,c]=_.useState(),u=_.useRef(),d=()=>{u.current.clearValue()};_.useEffect(()=>{const f=e==null?void 0:e.data.filter(p=>!(t!=null&&t.some(m=>m.id===p.id)));c(f)},[t,e]);const A=l==null?void 0:l.map(f=>({value:f.id,label:f.title}));return h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-8",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Sa,{className:"text-[#6F38DE] h-6 w-6"}),h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Assigned Subjects"})]})}),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:t&&t.length>0?h.jsx(h.Fragment,{children:t==null?void 0:t.map(f=>h.jsxs("div",{className:"flex items-center justify-between p-4 mb-1 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200",children:[h.jsxs("p",{className:"flex items-center gap-2 text-green-600",children:[h.jsx(Sa,{className:"h-4 w-4"}),f.title]}),h.jsxs("button",{onClick:()=>n(f==null?void 0:f.id),className:"flex items-center gap-1 px-3 py-1 text-sm text-red-600 bg-red-100 rounded-lg hover:bg-red-200 transition-all duration-200",children:[h.jsx(Pu,{className:"h-4 w-4"}),"Delete"]})]},f.id))}):h.jsxs("p",{className:"flex items-center gap-2 text-red-500",children:[h.jsx(Sa,{className:"h-4 w-4"}),"No Subjects Assigned"]})}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Subject"}),h.jsx(vJ,{ref:u,isMulti:!0,options:A,onChange:s,value:i,placeholder:"Select Subjects..."})]}),h.jsxs("button",{type:"button",onClick:()=>{r().then(()=>{d()})},disabled:a,className:"inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-lg text-base font-medium text-white bg-[#6F38DE] hover:bg-[#5C2EBA] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#6F38DE]",children:[h.jsx(Sa,{className:"w-5 h-5 mr-2"}),a?"Loading...":"Assign Subject"]})]})]})};function M8e({teacherProfile:t,profileRefetch:e}){var R,Y,$;const{user_id:r}=ur(),[n,i]=_.useState([]),s=P=>{i(P||[])},[a,o]=_.useState(t.title),[l,c]=_.useState(t.level_id),[u,d]=_.useState(t),[A,{data:f}]=xf();_.useEffect(()=>{A({level_id:Number(l)})},[l]),_.useEffect(()=>{d(t)},[t,e]);const[p,{isError:m,error:y}]=kM(),{data:g,isLoading:v,isError:x,error:b,refetch:w}=Io(),[C,{isError:S,isLoading:B}]=kY(),[E,{isError:M,isLoading:D}]=S3e();_.useEffect(()=>{w()},[]);async function L(P){const q=n.map(ae=>ae.value),N=await C({level_id:Number(l),subject_id:q,teacher_id:Number(u==null?void 0:u.id)}).unwrap();(N==null?void 0:N.statusCode)==200?(Z.success("success assigning subjects"),e()):Z.error("unable to assign subjects to teacher")}async function I(P){const q=await E({level_id:Number(l),subject_id:Number(P),teacher_id:Number(u==null?void 0:u.id)}).unwrap();(q==null?void 0:q.statusCode)==200?(Z.success("success detaching subjects"),e()):Z.error("unable to detach subjects to teacher")}const z=async P=>{P.preventDefault();try{const q=await p({title:a,level_id:Number(l),user_id:Number(r),role:ve.TEACHER}).unwrap();(q==null?void 0:q.statusCode)==200?(Z.success("teacher Profile updated successfully"),e()):Z.error((q==null?void 0:q.message)||"Update failed")}catch{Z.error("Error updating teacher profile")}};return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[h.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Teacher Profile"})}),h.jsxs("form",{onSubmit:z,className:"p-6 space-y-6",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Level"}),v?h.jsx("p",{children:"Loading levels..."}):x?h.jsxs("p",{className:"text-red-500",children:["Error loading levels: ",((R=b==null?void 0:b.data)==null?void 0:R.message)||"Unknown error"]}):h.jsxs("select",{value:l,onChange:P=>c(P.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[h.jsx("option",{value:"",disabled:!0,children:"Select Level"}),(Y=g==null?void 0:g.data)==null?void 0:Y.map(P=>h.jsx("option",{value:P.id,children:P.level.charAt(0).toUpperCase()+P.level.slice(1)},P.id))]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),h.jsx("input",{type:"text",value:a,onChange:P=>o(P.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0})]}),m&&h.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg text-sm",children:(($=y==null?void 0:y.data)==null?void 0:$.message)||"An error occurred"}),h.jsx("button",{type:"submit",className:"w-full px-4 py-2.5 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90",children:"Update Teacher Profile"})]}),h.jsx(E8e,{teacherSubjects:u==null?void 0:u.subjects,allSubjects:f,onSubjectCreate:L,onDelete:I,selectedSubjects:n,onSubjectsChange:s,isLoading:B,isError:S})]})})}const X4=Gi({reducerPath:"district",baseQuery:Xi,endpoints:t=>({createDistrict:t.mutation({query:e=>({url:"/district",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),updateDistrict:t.mutation({query:e=>({url:"/district",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getDistrictById:t.query({query:e=>({url:`/district/${e}`,method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}}),getAllDistricts:t.query({query:()=>({url:"/district",method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}})})}),{useCreateDistrictMutation:F8e,useUpdateDistrictMutation:T8e,useGetDistrictByIdQuery:D8e,useGetAllDistrictsQuery:HM}=X4;function L8e({superIntendentProfile:t,profileRefetch:e}){var p,m,y;const{user_id:r}=ur(),[n,i]=_.useState((t==null?void 0:t.district_id)||""),{data:s,isLoading:a,isError:o,error:l,refetch:c}=HM();_.useEffect(()=>{c()},[]);const[u,{isError:d,error:A}]=kM(),f=async g=>{g.preventDefault();try{const v=await u({district_id:Number(n),user_id:Number(r),role:ve.SUPER_INTENDENT}).unwrap();(v==null?void 0:v.statusCode)===200?(Z.success("Super Intendent profile updated successfully"),e()):Z.error((v==null?void 0:v.message)||"Update failed")}catch{Z.error("Error updating Super Intendent profile")}};return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[h.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Super Intendent Profile"})}),h.jsxs("form",{onSubmit:f,className:"p-6 space-y-6",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"District"}),a?h.jsx("p",{children:"Loading districts..."}):o?h.jsxs("p",{className:"text-red-500",children:["Error loading districts: ",((p=l==null?void 0:l.data)==null?void 0:p.message)||"Unknown error"]}):h.jsx("select",{value:n,onChange:g=>i(g.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:(m=s==null?void 0:s.data)==null?void 0:m.map(g=>h.jsx("option",{value:g.id,children:g.name},g.id))})]}),d&&h.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg text-sm",children:((y=A==null?void 0:A.data)==null?void 0:y.message)||"An error occurred"}),h.jsx("button",{type:"submit",className:"w-full px-4 py-2.5 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90",children:"Update Super Intendent Profile"})]})]})})}const Y4=Gi({reducerPath:"schoolSlice",baseQuery:Xi,endpoints:t=>({createSchool:t.mutation({query:e=>({url:"/school/",method:"POST",body:e})}),getSchools:t.query({query:({page:e,limit:r})=>{const n={};return e!==void 0&&(n.page=e),r!==void 0&&(n.limit=r),{url:"/school/get-all-schools",method:"GET",params:n}}}),getSchoolById:t.query({query:e=>({url:`/school/${e}`,method:"GET"})}),updateSchool:t.mutation({query:({id:e,schoolData:r})=>({url:`/school/${e}`,method:"PUT",body:r})}),deleteSchool:t.mutation({query:e=>({url:`/school/${e}`,method:"DELETE"})}),restoreSchool:t.mutation({query:e=>({url:`/school/${e}/restore`,method:"POST"})})})}),{useCreateSchoolMutation:N8e,useGetSchoolsQuery:zM,useGetSchoolByIdQuery:j8e,useUpdateSchoolMutation:I8e,useDeleteSchoolMutation:xze,useRestoreSchoolMutation:bze}=Y4;function O8e({principle_profile:t,profileRefetch:e}){var m,y,g,v,x;const{user_id:r}=ur(),[n,i]=_.useState(((m=t==null?void 0:t.schools[0])==null?void 0:m.id)||""),{data:s,isLoading:a,isError:o,error:l,refetch:c}=zM({page:1,limit:1e18},{refetchOnMountOrArgChange:!0}),[u,{isError:d,error:A}]=B3e(),f=b=>{const w=b.target.value;i(w)},p=async()=>{try{const b=await u({school_id:Number(n),admin_id:Number(r)}).unwrap();(b==null?void 0:b.statusCode)===200?(Z.success("School assignment updated successfully"),e()):Z.error((b==null?void 0:b.message)||"Failed to update school assignment")}catch{Z.error("Error updating school assignment")}};return _.useEffect(()=>{c()},[c]),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[h.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Principal Profile"})}),h.jsxs("form",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"School"}),a?h.jsx("p",{children:"Loading schools..."}):o?h.jsxs("p",{className:"text-red-500",children:["Error loading schools: ",((y=l==null?void 0:l.data)==null?void 0:y.message)||"Unknown error"]}):h.jsx("select",{value:n,onChange:f,className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:(v=(g=s==null?void 0:s.data)==null?void 0:g.data)==null?void 0:v.map(b=>h.jsx("option",{value:b.id,children:b.name},b.id))})]}),d&&h.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg text-sm",children:((x=A==null?void 0:A.data)==null?void 0:x.message)||"An error occurred while updating school assignment"}),h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{type:"button",onClick:p,className:"w-auto px-4 py-2 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90",children:"Update School Assignment"})})]})]})}const M8=()=>{var u,d,A,f;const{user_id:t}=ur(),[e,r]=_.useState(!1),[n,i]=_.useState({id:"",name:"",email:"",isVerified:!1,role:"",contact:""}),[s]=l0e(),{data:a,refetch:o}=Hq({user_id:Number(t)},{skip:!t});_.useEffect(()=>{o()},[]),_.useEffect(()=>{a!=null&&a.data&&i({id:a.data.id||"",name:a.data.name||"",email:a.data.email||"",contact:a.data.contact||"",isVerified:a.data.isVerified||!1,role:a.data.role||""})},[a]);const l=(p,m)=>{i(y=>({...y,[p]:m}))},c=async()=>{var p;try{const m=await s({id:n.id,name:n.name,email:n.email,contact:n.contact,isVerified:n.isVerified}).unwrap();(m==null?void 0:m.statusCode)===200&&(Z.success("User profile updated successfully"),r(!1))}catch(m){console.log("error",m),Z.error(((p=m==null?void 0:m.data)==null?void 0:p.message)||"Error updating user profile")}};return h.jsx("div",{className:"min-h-screen",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[h.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"User Profile"})}),h.jsxs("form",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),h.jsx("input",{type:"text",value:n.name,onChange:p=>l("name",p.target.value),disabled:!e,className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20"})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),h.jsx("input",{type:"email",value:n.email,onChange:p=>l("email",p.target.value),disabled:!e,className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20"})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Eamil Verification Status"}),e?h.jsxs("select",{value:n!=null&&n.isVerified?"true":"false",onChange:p=>l("isVerified",p.target.value==="true"),disabled:!e,className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",children:[h.jsx("option",{value:"true",children:"Verified"}),h.jsx("option",{value:"false",children:"Not Verified"})]}):h.jsx("span",{className:"flex w-full bg-slate-50 py-2.5 px-4",children:n!=null&&n.isVerified?"verified":"Not Verified"})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone No"}),h.jsx("input",{type:"text",value:n.contact,onChange:p=>l("contact",p.target.value),disabled:!e,className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20"})]})]}),h.jsx("div",{className:"flex justify-end gap-4",children:e?h.jsxs(h.Fragment,{children:[h.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),h.jsx("button",{type:"button",onClick:c,className:"px-4 py-2 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90",children:"Save Changes"})]}):h.jsx("button",{type:"button",onClick:()=>r(!0),className:"px-4 py-2 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90",children:"Edit Profile"})})]})]}),(n==null?void 0:n.role)==ve.USER&&h.jsx(T3e,{studentProfile:(u=a==null?void 0:a.data)==null?void 0:u.student_profile,profileRefetch:o}),(n==null?void 0:n.role)==ve.TEACHER&&h.jsx(M8e,{teacherProfile:(d=a==null?void 0:a.data)==null?void 0:d.teacher_profile,profileRefetch:o}),(n==null?void 0:n.role)===ve.SUPER_INTENDENT&&h.jsx(L8e,{superIntendentProfile:(A=a==null?void 0:a.data)==null?void 0:A.super_intendent_profile,profileRefetch:o}),(n==null?void 0:n.role)===ve.ADMIN&&h.jsx(O8e,{principle_profile:(f=a==null?void 0:a.data)==null?void 0:f.admin_profile,profileRefetch:o})]})})})};var P1=t=>t.type==="checkbox",Hd=t=>t instanceof Date,di=t=>t==null;const xJ=t=>typeof t=="object";var Kr=t=>!di(t)&&!Array.isArray(t)&&xJ(t)&&!Hd(t),bJ=t=>Kr(t)&&t.target?P1(t.target)?t.target.checked:t.target.value:t,P8e=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,wJ=(t,e)=>t.has(P8e(e)),U8e=t=>{const e=t.constructor&&t.constructor.prototype;return Kr(e)&&e.hasOwnProperty("isPrototypeOf")},$M=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ki(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!($M&&(t instanceof Blob||n))&&(r||Kr(t)))if(e=r?[]:{},!r&&!U8e(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=ki(t[i]));else return t;return e}var t5=t=>Array.isArray(t)?t.filter(Boolean):[],Pr=t=>t===void 0,Me=(t,e,r)=>{if(!e||!Kr(t))return r;const n=t5(e.split(/[,[\].]+?/)).reduce((i,s)=>di(i)?i:i[s],t);return Pr(n)||n===t?Pr(t[e])?r:t[e]:n},Ps=t=>typeof t=="boolean",VM=t=>/^\w*$/.test(t),CJ=t=>t5(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ut=(t,e,r)=>{let n=-1;const i=VM(e)?[e]:CJ(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const c=t[o];l=Kr(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}return t};const zb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ba={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Q8e=Pe.createContext(null),KM=()=>Pe.useContext(Q8e);var SJ=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==ba.all&&(e._proxyFormState[a]=!n||ba.all),r&&(r[a]=!0),t[a]}});return i},Mi=t=>Kr(t)&&!Object.keys(t).length,BJ=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Mi(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||ba.all))},Dm=t=>Array.isArray(t)?t:[t],_J=(t,e,r)=>!t||!e||t===e||Dm(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function qM(t){const e=Pe.useRef(t);e.current=t,Pe.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function R8e(t){const e=KM(),{control:r=e.control,disabled:n,name:i,exact:s}=t,[a,o]=Pe.useState(r._formState),l=Pe.useRef(!0),c=Pe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Pe.useRef(i);return u.current=i,qM({disabled:n,next:d=>l.current&&_J(u.current,d.name,s)&&BJ(d,c.current,r._updateFormState)&&o({...r._formState,...d}),subject:r._subjects.state}),Pe.useEffect(()=>(l.current=!0,c.current.isValid&&r._updateValid(!0),()=>{l.current=!1}),[r]),Pe.useMemo(()=>SJ(a,r,c.current,!1),[a,r])}var mo=t=>typeof t=="string",kJ=(t,e,r,n,i)=>mo(t)?(n&&e.watch.add(t),Me(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),Me(r,s))):(n&&(e.watchAll=!0),r);function H8e(t){const e=KM(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a}=t,o=Pe.useRef(n);o.current=n,qM({disabled:s,subject:r._subjects.values,next:u=>{_J(o.current,u.name,a)&&c(ki(kJ(o.current,r._names,u.values||r._formValues,!1,i)))}});const[l,c]=Pe.useState(r._getWatch(n,i));return Pe.useEffect(()=>r._removeUnmounted()),l}function z8e(t){const e=KM(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s}=t,a=wJ(i._names.array,r),o=H8e({control:i,name:r,defaultValue:Me(i._formValues,r,Me(i._defaultValues,r,t.defaultValue)),exact:!0}),l=R8e({control:i,name:r,exact:!0}),c=Pe.useRef(i.register(r,{...t.rules,value:o,...Ps(t.disabled)?{disabled:t.disabled}:{}})),u=Pe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Me(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!Me(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Me(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Me(l.validatingFields,r)},error:{enumerable:!0,get:()=>Me(l.errors,r)}}),[l,r]),d=Pe.useMemo(()=>({name:r,value:o,...Ps(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:A=>c.current.onChange({target:{value:bJ(A),name:r},type:zb.CHANGE}),onBlur:()=>c.current.onBlur({target:{value:Me(i._formValues,r),name:r},type:zb.BLUR}),ref:A=>{const f=Me(i._fields,r);f&&A&&(f._f.ref={focus:()=>A.focus(),select:()=>A.select(),setCustomValidity:p=>A.setCustomValidity(p),reportValidity:()=>A.reportValidity()})}}),[r,i._formValues,n,l.disabled,o,i._fields]);return Pe.useEffect(()=>{const A=i._options.shouldUnregister||s,f=(p,m)=>{const y=Me(i._fields,p);y&&y._f&&(y._f.mount=m)};if(f(r,!0),A){const p=ki(Me(i._options.defaultValues,r));Ut(i._defaultValues,r,p),Pr(Me(i._formValues,r))&&Ut(i._formValues,r,p)}return!a&&i.register(r),()=>{(a?A&&!i._state.action:A)?i.unregister(r):f(r,!1)}},[r,i,a,s]),Pe.useEffect(()=>{i._updateDisabledField({disabled:n,fields:i._fields,name:r})},[n,r,i]),Pe.useMemo(()=>({field:d,formState:l,fieldState:u}),[d,l,u])}const $8e=t=>t.render(z8e(t));var EJ=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},YI=t=>({isOnSubmit:!t||t===ba.onSubmit,isOnBlur:t===ba.onBlur,isOnChange:t===ba.onChange,isOnAll:t===ba.all,isOnTouch:t===ba.onTouched}),JI=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Lm=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=Me(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(Lm(o,e))break}else if(Kr(o)&&Lm(o,e))break}}};var V8e=(t,e,r)=>{const n=Dm(Me(t,r));return Ut(n,"root",e[r]),Ut(t,r,n),t},WM=t=>t.type==="file",uo=t=>typeof t=="function",$b=t=>{if(!$M)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},J4=t=>mo(t),GM=t=>t.type==="radio",Vb=t=>t instanceof RegExp;const ZI={value:!1,isValid:!1},eO={value:!0,isValid:!0};var MJ=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Pr(t[0].attributes.value)?Pr(t[0].value)||t[0].value===""?eO:{value:t[0].value,isValid:!0}:eO:ZI}return ZI};const tO={isValid:!1,value:null};var FJ=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,tO):tO;function rO(t,e,r="validate"){if(J4(t)||Array.isArray(t)&&t.every(J4)||Ps(t)&&!t)return{type:r,message:J4(t)?t:"",ref:e}}var qh=t=>Kr(t)&&!Vb(t)?t:{value:t,message:""},nO=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:d,max:A,pattern:f,validate:p,name:m,valueAsNumber:y,mount:g}=t._f,v=Me(r,m);if(!g||e.has(m))return{};const x=o?o[0]:a,b=L=>{i&&x.reportValidity&&(x.setCustomValidity(Ps(L)?"":L||""),x.reportValidity())},w={},C=GM(a),S=P1(a),B=C||S,E=(y||WM(a))&&Pr(a.value)&&Pr(v)||$b(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,M=EJ.bind(null,m,n,w),D=(L,I,z,R=zo.maxLength,Y=zo.minLength)=>{const $=L?I:z;w[m]={type:L?R:Y,message:$,ref:a,...M(L?R:Y,$)}};if(s?!Array.isArray(v)||!v.length:l&&(!B&&(E||di(v))||Ps(v)&&!v||S&&!MJ(o).isValid||C&&!FJ(o).isValid)){const{value:L,message:I}=J4(l)?{value:!!l,message:l}:qh(l);if(L&&(w[m]={type:zo.required,message:I,ref:x,...M(zo.required,I)},!n))return b(I),w}if(!E&&(!di(d)||!di(A))){let L,I;const z=qh(A),R=qh(d);if(!di(v)&&!isNaN(v)){const Y=a.valueAsNumber||v&&+v;di(z.value)||(L=Y>z.value),di(R.value)||(I=Y<R.value)}else{const Y=a.valueAsDate||new Date(v),$=N=>new Date(new Date().toDateString()+" "+N),P=a.type=="time",q=a.type=="week";mo(z.value)&&v&&(L=P?$(v)>$(z.value):q?v>z.value:Y>new Date(z.value)),mo(R.value)&&v&&(I=P?$(v)<$(R.value):q?v<R.value:Y<new Date(R.value))}if((L||I)&&(D(!!L,z.message,R.message,zo.max,zo.min),!n))return b(w[m].message),w}if((c||u)&&!E&&(mo(v)||s&&Array.isArray(v))){const L=qh(c),I=qh(u),z=!di(L.value)&&v.length>+L.value,R=!di(I.value)&&v.length<+I.value;if((z||R)&&(D(z,L.message,I.message),!n))return b(w[m].message),w}if(f&&!E&&mo(v)){const{value:L,message:I}=qh(f);if(Vb(L)&&!v.match(L)&&(w[m]={type:zo.pattern,message:I,ref:a,...M(zo.pattern,I)},!n))return b(I),w}if(p){if(uo(p)){const L=await p(v,r),I=rO(L,x);if(I&&(w[m]={...I,...M(zo.validate,I.message)},!n))return b(I.message),w}else if(Kr(p)){let L={};for(const I in p){if(!Mi(L)&&!n)break;const z=rO(await p[I](v,r),x,I);z&&(L={...z,...M(I,z.message)},b(z.message),n&&(w[m]=L))}if(!Mi(L)&&(w[m]={ref:x,...L},!n))return w}}return b(!0),w};function K8e(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Pr(t)?n++:t[e[n++]];return t}function q8e(t){for(const e in t)if(t.hasOwnProperty(e)&&!Pr(t[e]))return!1;return!0}function rn(t,e){const r=Array.isArray(e)?e:VM(e)?[e]:CJ(e),n=r.length===1?t:K8e(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Kr(n)&&Mi(n)||Array.isArray(n)&&q8e(n))&&rn(t,r.slice(0,-1)),t}var F8=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},UB=t=>di(t)||!xJ(t);function Rc(t,e){if(UB(t)||UB(e))return t===e;if(Hd(t)&&Hd(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const s=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const a=e[i];if(Hd(s)&&Hd(a)||Kr(s)&&Kr(a)||Array.isArray(s)&&Array.isArray(a)?!Rc(s,a):s!==a)return!1}}return!0}var TJ=t=>t.type==="select-multiple",W8e=t=>GM(t)||P1(t),T8=t=>$b(t)&&t.isConnected,DJ=t=>{for(const e in t)if(uo(t[e]))return!0;return!1};function Kb(t,e={}){const r=Array.isArray(t);if(Kr(t)||r)for(const n in t)Array.isArray(t[n])||Kr(t[n])&&!DJ(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Kb(t[n],e[n])):di(t[n])||(e[n]=!0);return e}function LJ(t,e,r){const n=Array.isArray(t);if(Kr(t)||n)for(const i in t)Array.isArray(t[i])||Kr(t[i])&&!DJ(t[i])?Pr(e)||UB(r[i])?r[i]=Array.isArray(t[i])?Kb(t[i],[]):{...Kb(t[i])}:LJ(t[i],di(e)?{}:e[i],r[i]):r[i]=!Rc(t[i],e[i]);return r}var Yf=(t,e)=>LJ(t,e,Kb(e)),NJ=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Pr(t)?t:e?t===""?NaN:t&&+t:r&&mo(t)?new Date(t):n?n(t):t;function D8(t){const e=t.ref;return WM(e)?e.files:GM(e)?FJ(t.refs).value:TJ(e)?[...e.selectedOptions].map(({value:r})=>r):P1(e)?MJ(t.refs).value:NJ(Pr(e.value)?t.ref.value:e.value,t)}var G8e=(t,e,r,n)=>{const i={};for(const s of t){const a=Me(e,s);a&&Ut(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Jf=t=>Pr(t)?t:Vb(t)?t.source:Kr(t)?Vb(t.value)?t.value.source:t.value:t;const iO="AsyncFunction";var X8e=t=>!!t&&!!t.validate&&!!(uo(t.validate)&&t.validate.constructor.name===iO||Kr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===iO)),Y8e=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function sO(t,e,r){const n=Me(t,r);if(n||VM(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=Me(e,s),o=Me(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};i.pop()}return{name:r}}var J8e=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Z8e=(t,e)=>!t5(Me(t,e)).length&&rn(t,e);const e7e={mode:ba.onSubmit,reValidateMode:ba.onChange,shouldFocusError:!0};function t7e(t={}){let e={...e7e,...t},r={submitCount:0,isDirty:!1,isLoading:uo(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Kr(e.defaultValues)||Kr(e.values)?ki(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:ki(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:F8(),array:F8(),state:F8()},A=YI(e.mode),f=YI(e.reValidateMode),p=e.criteriaMode===ba.all,m=V=>ne=>{clearTimeout(c),c=setTimeout(V,ne)},y=async V=>{if(!e.disabled&&(u.isValid||V)){const ne=e.resolver?Mi((await B()).errors):await M(n,!0);ne!==r.isValid&&d.state.next({isValid:ne})}},g=(V,ne)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((V||Array.from(o.mount)).forEach(he=>{he&&(ne?Ut(r.validatingFields,he,ne):rn(r.validatingFields,he))}),d.state.next({validatingFields:r.validatingFields,isValidating:!Mi(r.validatingFields)}))},v=(V,ne=[],he,Ne,Fe=!0,Be=!0)=>{if(Ne&&he&&!e.disabled){if(a.action=!0,Be&&Array.isArray(Me(n,V))){const qe=he(Me(n,V),Ne.argA,Ne.argB);Fe&&Ut(n,V,qe)}if(Be&&Array.isArray(Me(r.errors,V))){const qe=he(Me(r.errors,V),Ne.argA,Ne.argB);Fe&&Ut(r.errors,V,qe),Z8e(r.errors,V)}if(u.touchedFields&&Be&&Array.isArray(Me(r.touchedFields,V))){const qe=he(Me(r.touchedFields,V),Ne.argA,Ne.argB);Fe&&Ut(r.touchedFields,V,qe)}u.dirtyFields&&(r.dirtyFields=Yf(i,s)),d.state.next({name:V,isDirty:L(V,ne),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ut(s,V,ne)},x=(V,ne)=>{Ut(r.errors,V,ne),d.state.next({errors:r.errors})},b=V=>{r.errors=V,d.state.next({errors:r.errors,isValid:!1})},w=(V,ne,he,Ne)=>{const Fe=Me(n,V);if(Fe){const Be=Me(s,V,Pr(he)?Me(i,V):he);Pr(Be)||Ne&&Ne.defaultChecked||ne?Ut(s,V,ne?Be:D8(Fe._f)):R(V,Be),a.mount&&y()}},C=(V,ne,he,Ne,Fe)=>{let Be=!1,qe=!1;const At={name:V};if(!e.disabled){const le=!!(Me(n,V)&&Me(n,V)._f&&Me(n,V)._f.disabled);if(!he||Ne){u.isDirty&&(qe=r.isDirty,r.isDirty=At.isDirty=L(),Be=qe!==At.isDirty);const ye=le||Rc(Me(i,V),ne);qe=!!(!le&&Me(r.dirtyFields,V)),ye||le?rn(r.dirtyFields,V):Ut(r.dirtyFields,V,!0),At.dirtyFields=r.dirtyFields,Be=Be||u.dirtyFields&&qe!==!ye}if(he){const ye=Me(r.touchedFields,V);ye||(Ut(r.touchedFields,V,he),At.touchedFields=r.touchedFields,Be=Be||u.touchedFields&&ye!==he)}Be&&Fe&&d.state.next(At)}return Be?At:{}},S=(V,ne,he,Ne)=>{const Fe=Me(r.errors,V),Be=u.isValid&&Ps(ne)&&r.isValid!==ne;if(e.delayError&&he?(l=m(()=>x(V,he)),l(e.delayError)):(clearTimeout(c),l=null,he?Ut(r.errors,V,he):rn(r.errors,V)),(he?!Rc(Fe,he):Fe)||!Mi(Ne)||Be){const qe={...Ne,...Be&&Ps(ne)?{isValid:ne}:{},errors:r.errors,name:V};r={...r,...qe},d.state.next(qe)}},B=async V=>{g(V,!0);const ne=await e.resolver(s,e.context,G8e(V||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return g(V),ne},E=async V=>{const{errors:ne}=await B(V);if(V)for(const he of V){const Ne=Me(ne,he);Ne?Ut(r.errors,he,Ne):rn(r.errors,he)}else r.errors=ne;return ne},M=async(V,ne,he={valid:!0})=>{for(const Ne in V){const Fe=V[Ne];if(Fe){const{_f:Be,...qe}=Fe;if(Be){const At=o.array.has(Be.name),le=Fe._f&&X8e(Fe._f);le&&u.validatingFields&&g([Ne],!0);const ye=await nO(Fe,o.disabled,s,p,e.shouldUseNativeValidation&&!ne,At);if(le&&u.validatingFields&&g([Ne]),ye[Be.name]&&(he.valid=!1,ne))break;!ne&&(Me(ye,Be.name)?At?V8e(r.errors,ye,Be.name):Ut(r.errors,Be.name,ye[Be.name]):rn(r.errors,Be.name))}!Mi(qe)&&await M(qe,ne,he)}}return he.valid},D=()=>{for(const V of o.unMount){const ne=Me(n,V);ne&&(ne._f.refs?ne._f.refs.every(he=>!T8(he)):!T8(ne._f.ref))&&ie(V)}o.unMount=new Set},L=(V,ne)=>!e.disabled&&(V&&ne&&Ut(s,V,ne),!Rc(ae(),i)),I=(V,ne,he)=>kJ(V,o,{...a.mount?s:Pr(ne)?i:mo(V)?{[V]:ne}:ne},he,ne),z=V=>t5(Me(a.mount?s:i,V,e.shouldUnregister?Me(i,V,[]):[])),R=(V,ne,he={})=>{const Ne=Me(n,V);let Fe=ne;if(Ne){const Be=Ne._f;Be&&(!Be.disabled&&Ut(s,V,NJ(ne,Be)),Fe=$b(Be.ref)&&di(ne)?"":ne,TJ(Be.ref)?[...Be.ref.options].forEach(qe=>qe.selected=Fe.includes(qe.value)):Be.refs?P1(Be.ref)?Be.refs.length>1?Be.refs.forEach(qe=>(!qe.defaultChecked||!qe.disabled)&&(qe.checked=Array.isArray(Fe)?!!Fe.find(At=>At===qe.value):Fe===qe.value)):Be.refs[0]&&(Be.refs[0].checked=!!Fe):Be.refs.forEach(qe=>qe.checked=qe.value===Fe):WM(Be.ref)?Be.ref.value="":(Be.ref.value=Fe,Be.ref.type||d.values.next({name:V,values:{...s}})))}(he.shouldDirty||he.shouldTouch)&&C(V,Fe,he.shouldTouch,he.shouldDirty,!0),he.shouldValidate&&N(V)},Y=(V,ne,he)=>{for(const Ne in ne){const Fe=ne[Ne],Be=`${V}.${Ne}`,qe=Me(n,Be);(o.array.has(V)||Kr(Fe)||qe&&!qe._f)&&!Hd(Fe)?Y(Be,Fe,he):R(Be,Fe,he)}},$=(V,ne,he={})=>{const Ne=Me(n,V),Fe=o.array.has(V),Be=ki(ne);Ut(s,V,Be),Fe?(d.array.next({name:V,values:{...s}}),(u.isDirty||u.dirtyFields)&&he.shouldDirty&&d.state.next({name:V,dirtyFields:Yf(i,s),isDirty:L(V,Be)})):Ne&&!Ne._f&&!di(Be)?Y(V,Be,he):R(V,Be,he),JI(V,o)&&d.state.next({...r}),d.values.next({name:a.mount?V:void 0,values:{...s}})},P=async V=>{a.mount=!0;const ne=V.target;let he=ne.name,Ne=!0;const Fe=Me(n,he),Be=()=>ne.type?D8(Fe._f):bJ(V),qe=At=>{Ne=Number.isNaN(At)||Hd(At)&&isNaN(At.getTime())||Rc(At,Me(s,he,At))};if(Fe){let At,le;const ye=Be(),We=V.type===zb.BLUR||V.type===zb.FOCUS_OUT,gt=!Y8e(Fe._f)&&!e.resolver&&!Me(r.errors,he)&&!Fe._f.deps||J8e(We,Me(r.touchedFields,he),r.isSubmitted,f,A),Dt=JI(he,o,We);Ut(s,he,ye),We?(Fe._f.onBlur&&Fe._f.onBlur(V),l&&l(0)):Fe._f.onChange&&Fe._f.onChange(V);const ii=C(he,ye,We,!1),Qo=!Mi(ii)||Dt;if(!We&&d.values.next({name:he,type:V.type,values:{...s}}),gt)return u.isValid&&(e.mode==="onBlur"&&We?y():We||y()),Qo&&d.state.next({name:he,...Dt?{}:ii});if(!We&&Dt&&d.state.next({...r}),e.resolver){const{errors:ks}=await B([he]);if(qe(ye),Ne){const Gu=sO(r.errors,n,he),tc=sO(ks,n,Gu.name||he);At=tc.error,he=tc.name,le=Mi(ks)}}else g([he],!0),At=(await nO(Fe,o.disabled,s,p,e.shouldUseNativeValidation))[he],g([he]),qe(ye),Ne&&(At?le=!1:u.isValid&&(le=await M(n,!0)));Ne&&(Fe._f.deps&&N(Fe._f.deps),S(he,le,At,ii))}},q=(V,ne)=>{if(Me(r.errors,ne)&&V.focus)return V.focus(),1},N=async(V,ne={})=>{let he,Ne;const Fe=Dm(V);if(e.resolver){const Be=await E(Pr(V)?V:Fe);he=Mi(Be),Ne=V?!Fe.some(qe=>Me(Be,qe)):he}else V?(Ne=(await Promise.all(Fe.map(async Be=>{const qe=Me(n,Be);return await M(qe&&qe._f?{[Be]:qe}:qe)}))).every(Boolean),!(!Ne&&!r.isValid)&&y()):Ne=he=await M(n);return d.state.next({...!mo(V)||u.isValid&&he!==r.isValid?{}:{name:V},...e.resolver||!V?{isValid:he}:{},errors:r.errors}),ne.shouldFocus&&!Ne&&Lm(n,q,V?Fe:o.mount),Ne},ae=V=>{const ne={...a.mount?s:i};return Pr(V)?ne:mo(V)?Me(ne,V):V.map(he=>Me(ne,he))},oe=(V,ne)=>({invalid:!!Me((ne||r).errors,V),isDirty:!!Me((ne||r).dirtyFields,V),error:Me((ne||r).errors,V),isValidating:!!Me(r.validatingFields,V),isTouched:!!Me((ne||r).touchedFields,V)}),O=V=>{V&&Dm(V).forEach(ne=>rn(r.errors,ne)),d.state.next({errors:V?r.errors:{}})},fe=(V,ne,he)=>{const Ne=(Me(n,V,{_f:{}})._f||{}).ref,Fe=Me(r.errors,V)||{},{ref:Be,message:qe,type:At,...le}=Fe;Ut(r.errors,V,{...le,...ne,ref:Ne}),d.state.next({name:V,errors:r.errors,isValid:!1}),he&&he.shouldFocus&&Ne&&Ne.focus&&Ne.focus()},Se=(V,ne)=>uo(V)?d.values.subscribe({next:he=>V(I(void 0,ne),he)}):I(V,ne,!0),ie=(V,ne={})=>{for(const he of V?Dm(V):o.mount)o.mount.delete(he),o.array.delete(he),ne.keepValue||(rn(n,he),rn(s,he)),!ne.keepError&&rn(r.errors,he),!ne.keepDirty&&rn(r.dirtyFields,he),!ne.keepTouched&&rn(r.touchedFields,he),!ne.keepIsValidating&&rn(r.validatingFields,he),!e.shouldUnregister&&!ne.keepDefaultValue&&rn(i,he);d.values.next({values:{...s}}),d.state.next({...r,...ne.keepDirty?{isDirty:L()}:{}}),!ne.keepIsValid&&y()},pe=({disabled:V,name:ne,field:he,fields:Ne})=>{(Ps(V)&&a.mount||V||o.disabled.has(ne))&&(V?o.disabled.add(ne):o.disabled.delete(ne),C(ne,D8(he?he._f:Me(Ne,ne)._f),!1,!1,!0))},J=(V,ne={})=>{let he=Me(n,V);const Ne=Ps(ne.disabled)||Ps(e.disabled);return Ut(n,V,{...he||{},_f:{...he&&he._f?he._f:{ref:{name:V}},name:V,mount:!0,...ne}}),o.mount.add(V),he?pe({field:he,disabled:Ps(ne.disabled)?ne.disabled:e.disabled,name:V}):w(V,!0,ne.value),{...Ne?{disabled:ne.disabled||e.disabled}:{},...e.progressive?{required:!!ne.required,min:Jf(ne.min),max:Jf(ne.max),minLength:Jf(ne.minLength),maxLength:Jf(ne.maxLength),pattern:Jf(ne.pattern)}:{},name:V,onChange:P,onBlur:P,ref:Fe=>{if(Fe){J(V,ne),he=Me(n,V);const Be=Pr(Fe.value)&&Fe.querySelectorAll&&Fe.querySelectorAll("input,select,textarea")[0]||Fe,qe=W8e(Be),At=he._f.refs||[];if(qe?At.find(le=>le===Be):Be===he._f.ref)return;Ut(n,V,{_f:{...he._f,...qe?{refs:[...At.filter(T8),Be,...Array.isArray(Me(i,V))?[{}]:[]],ref:{type:Be.type,name:V}}:{ref:Be}}}),w(V,!1,void 0,Be)}else he=Me(n,V,{}),he._f&&(he._f.mount=!1),(e.shouldUnregister||ne.shouldUnregister)&&!(wJ(o.array,V)&&a.action)&&o.unMount.add(V)}}},re=()=>e.shouldFocusError&&Lm(n,q,o.mount),ee=V=>{Ps(V)&&(d.state.next({disabled:V}),Lm(n,(ne,he)=>{const Ne=Me(n,he);Ne&&(ne.disabled=Ne._f.disabled||V,Array.isArray(Ne._f.refs)&&Ne._f.refs.forEach(Fe=>{Fe.disabled=Ne._f.disabled||V}))},0,!1))},nt=(V,ne)=>async he=>{let Ne;he&&(he.preventDefault&&he.preventDefault(),he.persist&&he.persist());let Fe=ki(s);if(o.disabled.size)for(const Be of o.disabled)Ut(Fe,Be,void 0);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:Be,values:qe}=await B();r.errors=Be,Fe=qe}else await M(n);if(rn(r.errors,"root"),Mi(r.errors)){d.state.next({errors:{}});try{await V(Fe,he)}catch(Be){Ne=Be}}else ne&&await ne({...r.errors},he),re(),setTimeout(re);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mi(r.errors)&&!Ne,submitCount:r.submitCount+1,errors:r.errors}),Ne)throw Ne},Re=(V,ne={})=>{Me(n,V)&&(Pr(ne.defaultValue)?$(V,ki(Me(i,V))):($(V,ne.defaultValue),Ut(i,V,ki(ne.defaultValue))),ne.keepTouched||rn(r.touchedFields,V),ne.keepDirty||(rn(r.dirtyFields,V),r.isDirty=ne.defaultValue?L(V,ki(Me(i,V))):L()),ne.keepError||(rn(r.errors,V),u.isValid&&y()),d.state.next({...r}))},st=(V,ne={})=>{const he=V?ki(V):i,Ne=ki(he),Fe=Mi(V),Be=Fe?i:Ne;if(ne.keepDefaultValues||(i=he),!ne.keepValues){if(ne.keepDirtyValues){const qe=new Set([...o.mount,...Object.keys(Yf(i,s))]);for(const At of Array.from(qe))Me(r.dirtyFields,At)?Ut(Be,At,Me(s,At)):$(At,Me(Be,At))}else{if($M&&Pr(V))for(const qe of o.mount){const At=Me(n,qe);if(At&&At._f){const le=Array.isArray(At._f.refs)?At._f.refs[0]:At._f.ref;if($b(le)){const ye=le.closest("form");if(ye){ye.reset();break}}}}n={}}s=e.shouldUnregister?ne.keepDefaultValues?ki(i):{}:ki(Be),d.array.next({values:{...Be}}),d.values.next({values:{...Be}})}o={mount:ne.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!u.isValid||!!ne.keepIsValid||!!ne.keepDirtyValues,a.watch=!!e.shouldUnregister,d.state.next({submitCount:ne.keepSubmitCount?r.submitCount:0,isDirty:Fe?!1:ne.keepDirty?r.isDirty:!!(ne.keepDefaultValues&&!Rc(V,i)),isSubmitted:ne.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Fe?{}:ne.keepDirtyValues?ne.keepDefaultValues&&s?Yf(i,s):r.dirtyFields:ne.keepDefaultValues&&V?Yf(i,V):ne.keepDirty?r.dirtyFields:{},touchedFields:ne.keepTouched?r.touchedFields:{},errors:ne.keepErrors?r.errors:{},isSubmitSuccessful:ne.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},He=(V,ne)=>st(uo(V)?V(s):V,ne);return{control:{register:J,unregister:ie,getFieldState:oe,handleSubmit:nt,setError:fe,_executeSchema:B,_getWatch:I,_getDirty:L,_updateValid:y,_removeUnmounted:D,_updateFieldArray:v,_updateDisabledField:pe,_getFieldArray:z,_reset:st,_resetDefaultValues:()=>uo(e.defaultValues)&&e.defaultValues().then(V=>{He(V,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:V=>{r={...r,...V}},_disableForm:ee,_subjects:d,_proxyFormState:u,_setErrors:b,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(V){a=V},get _defaultValues(){return i},get _names(){return o},set _names(V){o=V},get _formState(){return r},set _formState(V){r=V},get _options(){return e},set _options(V){e={...e,...V}}},trigger:N,register:J,handleSubmit:nt,watch:Se,setValue:$,getValues:ae,reset:He,resetField:Re,clearErrors:O,unregister:ie,setError:fe,setFocus:(V,ne={})=>{const he=Me(n,V),Ne=he&&he._f;if(Ne){const Fe=Ne.refs?Ne.refs[0]:Ne.ref;Fe.focus&&(Fe.focus(),ne.shouldSelect&&uo(Fe.select)&&Fe.select())}},getFieldState:oe}}function ql(t={}){const e=Pe.useRef(void 0),r=Pe.useRef(void 0),[n,i]=Pe.useState({isDirty:!1,isValidating:!1,isLoading:uo(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:uo(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t7e(t),formState:n});const s=e.current.control;return s._options=t,qM({subject:s._subjects.state,next:a=>{BJ(a,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),Pe.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Pe.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Pe.useEffect(()=>{t.values&&!Rc(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[t.values,s]),Pe.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),Pe.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Pe.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=SJ(n,s),e.current}const aO=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Me(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},jJ=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?aO(n.ref,r,t):n.refs&&n.refs.forEach(i=>aO(i,r,t))}},r7e=(t,e)=>{e.shouldUseNativeValidation&&jJ(t,e);const r={};for(const n in t){const i=Me(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(n7e(e.names||Object.keys(t),n)){const a=Object.assign({},Me(r,n));Ut(a,"root",s),Ut(r,n,a)}else Ut(r,n,s)}return r},n7e=(t,e)=>t.some(r=>r.startsWith(e+"."));function Wl(t,e,r){return e===void 0&&(e={}),r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve(function(a,o){try{var l=(e.context,Promise.resolve(t[r.mode==="sync"?"validateSync":"validate"](n,Object.assign({abortEarly:!1},e,{context:i}))).then(function(c){return s.shouldUseNativeValidation&&jJ({},s),{values:r.raw?n:c,errors:{}}}))}catch(c){return o(c)}return l&&l.then?l.then(void 0,o):l}(0,function(a){if(!a.inner)throw a;return{values:{},errors:r7e((o=a,l=!s.shouldUseNativeValidation&&s.criteriaMode==="all",(o.inner||[]).reduce(function(c,u){if(c[u.path]||(c[u.path]={message:u.message,type:u.type}),l){var d=c[u.path].types,A=d&&d[u.type];c[u.path]=EJ(u.path,l,c,u.type,A?[].concat(A,u.message):u.message)}return c},{})),s)};var o,l}))}catch(a){return Promise.reject(a)}}}function Lh(t){this._maxSize=t,this.clear()}Lh.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Lh.prototype.get=function(t){return this._values[t]};Lh.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var i7e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,IJ=/^\d+$/,s7e=/^\d/,a7e=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o7e=/^\s*(['"]?)(.*?)(\1)\s*$/,XM=512,oO=new Lh(XM),lO=new Lh(XM),cO=new Lh(XM),Zd={Cache:Lh,split:QB,normalizePath:L8,setter:function(t){var e=L8(t);return lO.get(t)||lO.set(t,function(n,i){for(var s=0,a=e.length,o=n;s<a-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return n;o=o[e[s++]]}o[e[s]]=i})},getter:function(t,e){var r=L8(t);return cO.get(t)||cO.set(t,function(i){for(var s=0,a=r.length;s<a;)if(i!=null||!e)i=i[r[s++]];else return;return i})},join:function(t){return t.reduce(function(e,r){return e+(YM(r)||IJ.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){l7e(Array.isArray(t)?t:QB(t),e,r)}};function L8(t){return oO.get(t)||oO.set(t,QB(t).map(function(e){return e.replace(o7e,"$2")}))}function QB(t){return t.match(i7e)||[""]}function l7e(t,e,r){var n=t.length,i,s,a,o;for(s=0;s<n;s++)i=t[s],i&&(d7e(i)&&(i='"'+i+'"'),o=YM(i),a=!o&&/^\d+$/.test(i),e.call(r,i,o,a,s,t))}function YM(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function c7e(t){return t.match(s7e)&&!t.match(IJ)}function u7e(t){return a7e.test(t)}function d7e(t){return!YM(t)&&(c7e(t)||u7e(t))}const h7e=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,r5=t=>t.match(h7e)||[],n5=t=>t[0].toUpperCase()+t.slice(1),JM=(t,e)=>r5(t).join(e).toLowerCase(),OJ=t=>r5(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),A7e=t=>n5(OJ(t)),f7e=t=>JM(t,"_"),p7e=t=>JM(t,"-"),m7e=t=>n5(JM(t," ")),g7e=t=>r5(t).map(n5).join(" ");var N8={words:r5,upperFirst:n5,camelCase:OJ,pascalCase:A7e,snakeCase:f7e,kebabCase:p7e,sentenceCase:m7e,titleCase:g7e},ZM={exports:{}};ZM.exports=function(t){return PJ(y7e(t),t)};ZM.exports.array=PJ;function PJ(t,e){var r=t.length,n=new Array(r),i={},s=r,a=v7e(e),o=x7e(t);for(e.forEach(function(c){if(!o.has(c[0])||!o.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return n;function l(c,u,d){if(d.has(c)){var A;try{A=", node was:"+JSON.stringify(c)}catch{A=""}throw new Error("Cyclic dependency"+A)}if(!o.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!i[u]){i[u]=!0;var f=a.get(c)||new Set;if(f=Array.from(f),u=f.length){d.add(c);do{var p=f[--u];l(p,o.get(p),d)}while(u);d.delete(c)}n[--r]=c}}}function y7e(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var i=t[r];e.add(i[0]),e.add(i[1])}return Array.from(e)}function v7e(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var i=t[r];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function x7e(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var b7e=ZM.exports;const w7e=K3(b7e),C7e=Object.prototype.toString,S7e=Error.prototype.toString,B7e=RegExp.prototype.toString,_7e=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",k7e=/^Symbol\((.*)\)(.*)$/;function E7e(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function uO(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return E7e(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return _7e.call(t).replace(k7e,"Symbol($1)");const n=C7e.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+S7e.call(t)+"]":n==="RegExp"?B7e.call(t):null}function _l(t,e){let r=uO(t,e);return r!==null?r:JSON.stringify(t,function(n,i){let s=uO(this[n],e);return s!==null?s:i},2)}function UJ(t){return t==null?[]:[].concat(t)}let QJ,RJ,HJ,M7e=/\$\{\s*(\w+)\s*\}/g;QJ=Symbol.toStringTag;class dO{constructor(e,r,n,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[QJ]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=i,this.errors=[],this.inner=[],UJ(e).forEach(s=>{if(Li.isError(s)){this.errors.push(...s.errors);const a=s.inner.length?s.inner:[s];this.inner.push(...a)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}RJ=Symbol.hasInstance;HJ=Symbol.toStringTag;class Li extends Error{static formatError(e,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof e=="string"?e.replace(M7e,(i,s)=>_l(r[s])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,i,s){const a=new dO(e,r,n,i);if(s)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[HJ]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Li)}static[RJ](e){return dO[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let io={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const i=n!=null&&n!==r?` (cast from the value \`${_l(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${_l(r,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${_l(r,!0)}\``+i}},Bi={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},_c={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},RB={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},F7e={isValue:"${path} field must be ${value}"},Z4={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},ex={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},T7e={notType:t=>{const{path:e,value:r,spec:n}=t,i=n.types.length;if(Array.isArray(r)){if(r.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${r.length} for value: \`${_l(r,!0)}\``;if(r.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${r.length} for value: \`${_l(r,!0)}\``}return Li.formatError(io.notType,t)}};Object.assign(Object.create(null),{mixed:io,string:Bi,number:_c,date:RB,object:Z4,array:ex,boolean:F7e,tuple:T7e});const i5=t=>t&&t.__isYupSchema__;class qb{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:i,otherwise:s}=r,a=typeof n=="function"?n:(...o)=>o.every(l=>l===n);return new qb(e,(o,l)=>{var c;let u=a(...o)?i:s;return(c=u==null?void 0:u(l))!=null?c:l})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(s=>s.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),i=this.fn(n,e,r);if(i===void 0||i===e)return e;if(!i5(i))throw new TypeError("conditions must return a schema object");return i.resolve(r)}}const Vy={context:"$",value:"."};function D7e(t,e){return new Hu(t,e)}class Hu{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Vy.context,this.isValue=this.key[0]===Vy.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Vy.context:this.isValue?Vy.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Zd.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let i=this.isContext?n:this.isValue?e:r;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Hu.prototype.__isYupRef=!0;const fl=t=>t==null;function Wh(t){function e({value:r,path:n="",options:i,originalValue:s,schema:a},o,l){const{name:c,test:u,params:d,message:A,skipAbsent:f}=t;let{parent:p,context:m,abortEarly:y=a.spec.abortEarly,disableStackTrace:g=a.spec.disableStackTrace}=i;function v(D){return Hu.isRef(D)?D.getValue(r,p,m):D}function x(D={}){const L=Object.assign({value:r,originalValue:s,label:a.spec.label,path:D.path||n,spec:a.spec,disableStackTrace:D.disableStackTrace||g},d,D.params);for(const z of Object.keys(L))L[z]=v(L[z]);const I=new Li(Li.formatError(D.message||A,L),r,L.path,D.type||c,L.disableStackTrace);return I.params=L,I}const b=y?o:l;let w={path:n,parent:p,type:c,from:i.from,createError:x,resolve:v,options:i,originalValue:s,schema:a};const C=D=>{Li.isError(D)?b(D):D?l(null):b(x())},S=D=>{Li.isError(D)?b(D):o(D)};if(f&&fl(r))return C(!0);let E;try{var M;if(E=u.call(w,r,w),typeof((M=E)==null?void 0:M.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${w.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(E).then(C,S)}}catch(D){S(D);return}C(E)}return e.OPTIONS=t,e}function L7e(t,e,r,n=r){let i,s,a;return e?(Zd.forEach(e,(o,l,c)=>{let u=l?o.slice(1,o.length-1):o;t=t.resolve({context:n,parent:i,value:r});let d=t.type==="tuple",A=c?parseInt(u,10):0;if(t.innerType||d){if(d&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(r&&A>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${e}. because there is no value at that index. `);i=r,r=r&&r[A],t=d?t.spec.types[A]:t.innerType}if(!c){if(!t.fields||!t.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${t.type}")`);i=r,r=r&&r[u],t=t.fields[u]}s=u,a=l?"["+o+"]":"."+o}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class Wb extends Set{describe(){const e=[];for(const r of this.values())e.push(Hu.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new Wb(this.values())}merge(e,r){const n=this.clone();return e.forEach(i=>n.add(i)),r.forEach(i=>n.delete(i)),n}}function q0(t,e=new Map){if(i5(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=q0(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,i]of t.entries())r.set(n,q0(i,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(q0(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,i]of Object.entries(t))r[n]=q0(i,e)}else throw Error(`Unable to clone ${t}`);return r}class ws{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Wb,this._blacklist=new Wb,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(io.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=q0(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const i=Object.assign({},r.spec,n.spec);return n.spec=i,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(s=>{e.tests.forEach(a=>{s.test(a.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((i,s)=>s.resolve(i,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,i,s;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),i=r.assert==="ignore-optionality",s=n._cast(e,r);if(r.assert!==!1&&!n.isType(s)){if(i&&fl(s))return s;let a=_l(e),o=_l(s);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${a} 
`+(o!==a?`result of cast: ${o}`:""))}return s}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,i){let{path:s,originalValue:a=e,strict:o=this.spec.strict}=r,l=e;o||(l=this._cast(l,Object.assign({assert:!1},r)));let c=[];for(let u of Object.values(this.internalTests))u&&c.push(u);this.runTests({path:s,value:l,originalValue:a,options:r,tests:c},n,u=>{if(u.length)return i(u,l);this.runTests({path:s,value:l,originalValue:a,options:r,tests:this.tests},n,i)})}runTests(e,r,n){let i=!1,{tests:s,value:a,originalValue:o,path:l,options:c}=e,u=m=>{i||(i=!0,r(m,a))},d=m=>{i||(i=!0,n(m,a))},A=s.length,f=[];if(!A)return d([]);let p={value:a,originalValue:o,path:l,options:c,schema:this};for(let m=0;m<s.length;m++){const y=s[m];y(p,u,function(v){v&&(Array.isArray(v)?f.push(...v):f.push(v)),--A<=0&&d(f)})}}asNestedTest({key:e,index:r,parent:n,parentPath:i,originalParent:s,options:a}){const o=e??r;if(o==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof o=="number";let c=n[o];const u=Object.assign({},a,{strict:!0,parent:n,value:c,originalValue:s[o],key:void 0,[l?"index":"key"]:o,path:l||o.includes(".")?`${i||""}[${l?o:`"${o}"`}]`:(i?`${i}.`:"")+e});return(d,A,f)=>this.resolve(u)._validate(c,u,A,f)}validate(e,r){var n;let i=this.resolve(Object.assign({},r,{value:e})),s=(n=r==null?void 0:r.disableStackTrace)!=null?n:i.spec.disableStackTrace;return new Promise((a,o)=>i._validate(e,r,(l,c)=>{Li.isError(l)&&(l.value=c),o(l)},(l,c)=>{l.length?o(new Li(l,c,void 0,void 0,s)):a(c)}))}validateSync(e,r){var n;let i=this.resolve(Object.assign({},r,{value:e})),s,a=(n=r==null?void 0:r.disableStackTrace)!=null?n:i.spec.disableStackTrace;return i._validate(e,Object.assign({},r,{sync:!0}),(o,l)=>{throw Li.isError(o)&&(o.value=l),o},(o,l)=>{if(o.length)throw new Li(o,e,void 0,void 0,a);s=l}),s}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(Li.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(Li.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):q0(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=Wh({message:r,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=Wh({message:r,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=io.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=io.notNull){return this.nullability(!1,e)}required(e=io.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=io.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),i=Wh(r),s=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(a=>!(a.OPTIONS.name===r.name&&(s||a.OPTIONS.test===i.OPTIONS.test))),n.tests.push(i),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),i=UJ(e).map(s=>new Hu(s));return i.forEach(s=>{s.isSibling&&n.deps.push(s.key)}),n.conditions.push(typeof r=="function"?new qb(i,r):qb.fromOptions(i,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=Wh({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=io.oneOf){let n=this.clone();return e.forEach(i=>{n._whitelist.add(i),n._blacklist.delete(i)}),n.internalTests.whiteList=Wh({message:r,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,a=s.resolveAll(this.resolve);return a.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:a}})}}),n}notOneOf(e,r=io.notOneOf){let n=this.clone();return e.forEach(i=>{n._blacklist.add(i),n._whitelist.delete(i)}),n.internalTests.blacklist=Wh({message:r,name:"notOneOf",test(i){let s=this.schema._blacklist,a=s.resolveAll(this.resolve);return a.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:a}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:i,optional:s,nullable:a}=r.spec;return{meta:i,label:n,optional:s,nullable:a,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,c,u)=>u.findIndex(d=>d.name===l.name)===c)}}}ws.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])ws.prototype[`${t}At`]=function(e,r,n={}){const{parent:i,parentPath:s,schema:a}=L7e(this,e,r,n.context);return a[t](i&&i[s],Object.assign({},n,{parent:i,path:e}))};for(const t of["equals","is"])ws.prototype[t]=ws.prototype.oneOf;for(const t of["not","nope"])ws.prototype[t]=ws.prototype.notOneOf;const N7e=()=>!0;function HB(t){return new zJ(t)}class zJ extends ws{constructor(e){super(typeof e=="function"?{type:"mixed",check:e}:Object.assign({type:"mixed",check:N7e},e))}}HB.prototype=zJ.prototype;const j7e=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function I7e(t){const e=zB(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function zB(t){var e,r;const n=j7e.exec(t);return n?{year:$o(n[1]),month:$o(n[2],1)-1,day:$o(n[3],1),hour:$o(n[4]),minute:$o(n[5]),second:$o(n[6]),millisecond:n[7]?$o(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:$o(n[10]),minuteOffset:$o(n[11])}:null}function $o(t,e=0){return Number(t)||e}let O7e=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,P7e=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,U7e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Q7e="^\\d{4}-\\d{2}-\\d{2}",R7e="\\d{2}:\\d{2}:\\d{2}",H7e="(([+-]\\d{2}(:?\\d{2})?)|Z)",z7e=new RegExp(`${Q7e}T${R7e}(\\.\\d+)?${H7e}$`),$7e=t=>fl(t)||t===t.trim(),V7e={}.toString();function mt(){return new $J}class $J extends ws{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===V7e?e:i})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||io.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=Bi.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=Bi.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=Bi.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,i,s;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:i,name:s}=r:i=r),this.test({name:s||"matches",message:i||Bi.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&n||a.search(e)!==-1})}email(e=Bi.email){return this.matches(O7e,{name:"email",message:e,excludeEmptyString:!0})}url(e=Bi.url){return this.matches(P7e,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Bi.uuid){return this.matches(U7e,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,i;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:i=void 0}=e:r=e),this.matches(z7e,{name:"datetime",message:r||Bi.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||Bi.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:s=>{if(!s||n)return!0;const a=zB(s);return a?!!a.z:!1}}).test({name:"datetime_precision",message:r||Bi.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const a=zB(s);return a?a.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Bi.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:$7e})}lowercase(e=Bi.lowercase){return this.transform(r=>fl(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>fl(r)||r===r.toLowerCase()})}uppercase(e=Bi.uppercase){return this.transform(r=>fl(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>fl(r)||r===r.toUpperCase()})}}mt.prototype=$J.prototype;let K7e=t=>t!=+t;function Rg(){return new VJ}class VJ extends ws{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!K7e(e)}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce)return e;let i=e;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return n.isType(i)||i===null?i:parseFloat(i)})})}min(e,r=_c.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,r=_c.max){return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,r=_c.lessThan){return this.test({message:r,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,r=_c.moreThan){return this.test({message:r,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=_c.positive){return this.moreThan(0,e)}negative(e=_c.negative){return this.lessThan(0,e)}integer(e=_c.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:r=>Number.isInteger(r)})}truncate(){return this.transform(e=>fl(e)?e:e|0)}round(e){var r;let n=["ceil","floor","round","trunc"];if(e=((r=e)==null?void 0:r.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(i=>fl(i)?i:Math[e](i))}}Rg.prototype=VJ.prototype;let q7e=new Date(""),W7e=t=>Object.prototype.toString.call(t)==="[object Date]";class s5 extends ws{constructor(){super({type:"date",check(e){return W7e(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=I7e(e),isNaN(e)?s5.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(Hu.isRef(e))n=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=i}return n}min(e,r=RB.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(n)}})}max(e,r=RB.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(n)}})}}s5.INVALID_DATE=q7e;s5.prototype;function G7e(t,e=[]){let r=[],n=new Set,i=new Set(e.map(([a,o])=>`${a}-${o}`));function s(a,o){let l=Zd.split(a)[0];n.add(l),i.has(`${o}-${l}`)||r.push([o,l])}for(const a of Object.keys(t)){let o=t[a];n.add(a),Hu.isRef(o)&&o.isSibling?s(o.path,a):i5(o)&&"deps"in o&&o.deps.forEach(l=>s(l,a))}return w7e.array(Array.from(n),r).reverse()}function hO(t,e){let r=1/0;return t.some((n,i)=>{var s;if((s=e.path)!=null&&s.includes(n))return r=i,!0}),r}function KJ(t){return(e,r)=>hO(t,e)-hO(t,r)}const qJ=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function tx(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=tx(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=tx(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(tx)}):"optional"in t?t.optional():t}const X7e=(t,e)=>{const r=[...Zd.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),i=Zd.getter(Zd.join(r),!0)(t);return!!(i&&n in i)};let AO=t=>Object.prototype.toString.call(t)==="[object Object]";function fO(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const Y7e=KJ([]);function Oo(t){return new WJ(t)}class WJ extends ws{constructor(e){super({type:"object",check(r){return AO(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=Y7e,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let i=super._cast(e,r);if(i===void 0)return this.getDefault(r);if(!this._typeCheck(i))return i;let s=this.fields,a=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(i).filter(d=>!this._nodes.includes(d))),l={},c=Object.assign({},r,{parent:l,__validating:r.__validating||!1}),u=!1;for(const d of o){let A=s[d],f=d in i;if(A){let p,m=i[d];c.path=(r.path?`${r.path}.`:"")+d,A=A.resolve({value:m,context:r.context,parent:l});let y=A instanceof ws?A.spec:void 0,g=y==null?void 0:y.strict;if(y!=null&&y.strip){u=u||d in i;continue}p=!r.__validating||!g?A.cast(i[d],c):i[d],p!==void 0&&(l[d]=p)}else f&&!a&&(l[d]=i[d]);(f!==d in l||l[d]!==i[d])&&(u=!0)}return u?l:i}_validate(e,r={},n,i){let{from:s=[],originalValue:a=e,recursive:o=this.spec.recursive}=r;r.from=[{schema:this,value:a},...s],r.__validating=!0,r.originalValue=a,super._validate(e,r,n,(l,c)=>{if(!o||!AO(c)){i(l,c);return}a=a||c;let u=[];for(let d of this._nodes){let A=this.fields[d];!A||Hu.isRef(A)||u.push(A.asNestedTest({options:r,key:d,parent:c,parentPath:r.path,originalParent:a}))}this.runTests({tests:u,value:c,originalValue:a,options:r},n,d=>{i(d.sort(this._sortErrors).concat(l),c)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[i,s]of Object.entries(this.fields)){const a=n[i];n[i]=a===void 0?s:a}return r.withMutation(i=>i.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var i;const s=this.fields[n];let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[n]})),r[n]=s&&"getDefault"in s?s.getDefault(a):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=G7e(e,r),n._sortErrors=KJ(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let i=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),i=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),i)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return tx(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,i])=>e.includes(n)&&e.includes(i)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let i=Zd.getter(e,!0);return this.transform(s=>{if(!s)return s;let a=s;return X7e(s,e)&&(a=Object.assign({},s),n||delete a[e],a[r]=i(s)),a})}json(){return this.transform(qJ)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Z4.exact,test(r){if(r==null)return!0;const n=fO(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=Z4.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(i){if(i==null)return!0;const s=fO(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=Z4.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const i of Object.keys(r))n[e(i)]=r[i];return n})}camelCase(){return this.transformKeys(N8.camelCase)}snakeCase(){return this.transformKeys(N8.snakeCase)}constantCase(){return this.transformKeys(e=>N8.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[s,a]of Object.entries(r.fields)){var i;let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[s]})),n.fields[s]=a.describe(o)}return n}}Oo.prototype=WJ.prototype;function rx(t){return new GJ(t)}class GJ extends ws{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let i=!1;const s=n.map((a,o)=>{const l=this.innerType.cast(a,Object.assign({},r,{path:`${r.path||""}[${o}]`}));return l!==a&&(i=!0),l});return i?s:n}_validate(e,r={},n,i){var s;let a=this.innerType,o=(s=r.recursive)!=null?s:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(l,c)=>{var u;if(!o||!a||!this._typeCheck(c)){i(l,c);return}let d=new Array(c.length);for(let f=0;f<c.length;f++){var A;d[f]=a.asNestedTest({options:r,index:f,parent:c,parentPath:r.path,originalParent:(A=r.originalValue)!=null?A:e})}this.runTests({value:c,tests:d,originalValue:(u=r.originalValue)!=null?u:e,options:r},n,f=>i(f.concat(l),c))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(qJ)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!i5(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+_l(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=ex.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||ex.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||ex.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,i,s)=>!e(n,i,s):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);if(r.innerType){var i;let s=e;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),n.innerType=r.innerType.describe(s)}return n}}rx.prototype=GJ.prototype;const J7e=Oo().shape({name:mt().required("Name is required").min(2),email:mt().required("Email is required").email(),contact:mt().required("Phone is required").matches(/^\d{10}$/,"Must be a 10-digit number"),role:mt().required("Role is required"),password:mt().required("Password is required").min(6),confirmPassword:mt().oneOf([D7e("password")],"Passwords must match"),studentLevel:mt().when("role",t=>t===ve.USER?mt().required():mt().notRequired()),parentID:mt().when("role",t=>t===ve.USER?mt().required():mt().notRequired()),rollNumber:HB().when("role",t=>t===ve.USER?Rg().required().positive().integer():HB().notRequired()),teacherGrade:mt().when("role",t=>t===ve.TEACHER?mt().required():mt().notRequired()),teacherSubjects:rx().when("role",t=>t===ve.TEACHER?rx().of(Rg()).min(1).required():rx().notRequired()),district:mt().when("role",t=>t===ve.SUPER_INTENDENT?mt().required("Select A District"):mt().notRequired()),school:mt().when("role",t=>t===ve.ADMIN?mt().required():mt().notRequired())}),j8=()=>{var N,ae,oe,O,fe,Se,ie,pe,J,re;const{user:t}=ti(),{register:e,handleSubmit:r,reset:n,watch:i,control:s,setValue:a,clearErrors:o,formState:{errors:l,isSubmitting:c}}=ql({resolver:Wl(J7e)}),u=i("role"),d=i("teacherGrade"),[A]=o0e();kY();const{refetch:f,data:p,isLoading:m,isError:y,error:g}=tE({page:1,limit:1e16},{skip:(t==null?void 0:t.role)===ve.SUPER_ADMIN||(t==null?void 0:t.role)===ve.SUPER_INTENDENT}),{data:v,isLoading:x,isError:b,error:w,refetch:C}=Io(),[S,{data:B,isLoading:E,isError:M,error:D,refetch:L}]=xf(),[I,z]=_.useState([]),{data:R,refetch:Y}=HM({},{skip:(t==null?void 0:t.role)!==ve.SUPER_ADMIN});_.useEffect(()=>{u===ve.SUPER_INTENDENT&&Y()},[u]);const{data:$,refetch:P}=zM({page:1,limit:1e14},{skip:(t==null?void 0:t.role)!==ve.SUPER_INTENDENT});_.useEffect(()=>{u===ve.ADMIN&&P()},[u,$]),_.useEffect(()=>{u===ve.USER&&(C(),f())},[u,C,f]),_.useEffect(()=>{u===ve.TEACHER&&C()},[u,C]),_.useEffect(()=>{u===ve.TEACHER&&d&&S({level_id:Number(d)})},[u,d,S]),_.useEffect(()=>{if((B==null?void 0:B.statusCode)===200&&(B!=null&&B.data)){const ee=B.data.map(nt=>({value:nt.id,label:nt.display_title||nt.title}));z(ee)}},[B]),_.useEffect(()=>{u!==ve.USER&&(a("studentLevel",""),a("parentID",""),a("rollNumber",""),o(["studentLevel","parentID","rollNumber"])),u!==ve.TEACHER&&(a("teacherGrade",""),a("teacherSubjects",[]),o(["teacherGrade","teacherSubjects"])),u!==ve.SUPER_INTENDENT&&(a("district",""),o(["district"])),u!==ve.ADMIN&&(a("school",""),o(["school"]))},[u,a,o]);const q=async ee=>{var nt;try{const Re={name:ee.name,password:ee.password,email:ee.email,contact:ee.contact,role:ee.role};ee.role===ve.USER?(Re.level_id=Number(ee.studentLevel),Re.parent_id=Number(ee.parentID),Re.user_roll_no=ee.rollNumber):ee.role===ve.TEACHER?(Re.level_id=Number(ee.teacherGrade),Re.subjects=ee==null?void 0:ee.teacherSubjects):ee.role===ve.SUPER_INTENDENT?Re.district_id=Number(ee==null?void 0:ee.district):ee.role===ve.ADMIN&&(Re.school_id=Number(ee==null?void 0:ee.school));const st=await A(Re).unwrap();(st==null?void 0:st.statusCode)===200&&(Z.success("User created successfully"),n(),z([]))}catch(Re){console.error("Error:",Re),Z.error(((nt=Re==null?void 0:Re.data)==null?void 0:nt.message)||"Failed to create user")}};return h.jsx("div",{className:"min-h-screen bg-white",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[h.jsx(RA,{className:"text-[#6925EF]"}),"Create New User"]}),h.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Add a new user to the system with their details and role"})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[h.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:h.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[h.jsx(ui,{className:"text-[#6925EF] w-5 h-5"}),"User Information"]})}),h.jsxs("form",{onSubmit:r(q),className:"p-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(ui,{className:"text-[#6925EF] w-4 h-4"}),"Name"]}),h.jsx("input",{type:"text",...e("name"),placeholder:"Enter full name",className:`w-full px-4 py-2.5 rounded-lg border ${l.name?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`}),l.name&&h.jsx("p",{className:"text-red-500 text-sm",children:l.name.message})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(nE,{className:"text-[#6925EF] w-4 h-4"}),"Email"]}),h.jsx("input",{type:"email",...e("email"),placeholder:"Enter email address",className:`w-full px-4 py-2.5 rounded-lg border ${l.email?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`}),l.email&&h.jsx("p",{className:"text-red-500 text-sm",children:l.email.message})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(aE,{className:"text-[#6925EF] w-4 h-4"}),"Phone No"]}),h.jsx("input",{type:"text",...e("contact"),placeholder:"Enter phone number",className:`w-full px-4 py-2.5 rounded-lg border ${l.contact?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`}),l.contact&&h.jsx("p",{className:"text-red-500 text-sm",children:l.contact.message})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(N0e,{className:"text-[#6925EF] w-4 h-4"}),"Role"]}),h.jsxs("select",{...e("role"),onChange:ee=>a("role",ee.target.value),className:`w-full px-4 py-2.5 rounded-lg border ${l.role?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`,children:[h.jsx("option",{value:"",children:"Select Role"}),(t==null?void 0:t.role)===ve.SUPER_ADMIN&&h.jsx("option",{value:ve.SUPER_INTENDENT,children:"Super Intendent"}),(t==null?void 0:t.role)===ve.SUPER_INTENDENT&&h.jsx("option",{value:ve.ADMIN,children:"Principal"}),(t==null?void 0:t.role)===ve.ADMIN&&h.jsxs(h.Fragment,{children:[h.jsx("option",{value:ve.USER,children:"Student"}),h.jsx("option",{value:ve.TEACHER,children:"Teacher"}),h.jsx("option",{value:ve.PARENT,children:"Parent"})]})]}),l.role&&h.jsx("p",{className:"text-red-500 text-sm",children:l.role.message})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(bm,{className:"text-[#6925EF] w-4 h-4"}),"Password"]}),h.jsx("input",{type:"password",...e("password"),placeholder:"Enter password",className:`w-full px-4 py-2.5 rounded-lg border ${l.password?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`}),l.password&&h.jsx("p",{className:"text-red-500 text-sm",children:l.password.message})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(bm,{className:"text-[#6925EF] w-4 h-4"}),"Confirm Password"]}),h.jsx("input",{type:"password",...e("confirmPassword"),placeholder:"Confirm password",className:`w-full px-4 py-2.5 rounded-lg border ${l.confirmPassword?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`}),l.confirmPassword&&h.jsx("p",{className:"text-red-500 text-sm",children:l.confirmPassword.message})]}),u===ve.SUPER_INTENDENT&&h.jsxs("div",{className:"space-y-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(ui,{className:"text-[#6925EF] w-4 h-4"}),"District"]}),h.jsxs("select",{...e("district"),className:`w-full px-4 py-2.5 rounded-lg border ${l.district?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`,children:[h.jsx("option",{value:"",children:"Select District"}),(N=R==null?void 0:R.data)==null?void 0:N.map(ee=>h.jsx("option",{value:ee==null?void 0:ee.id,children:ee==null?void 0:ee.name},ee==null?void 0:ee.id))]}),l.district&&h.jsx("p",{className:"text-red-500 text-sm",children:l.district.message})]}),u===ve.ADMIN&&h.jsxs("div",{className:"space-y-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(ui,{className:"text-[#6925EF] w-4 h-4"}),"School"]}),h.jsxs("select",{...e("school"),className:`w-full px-4 py-2.5 rounded-lg border ${l.school?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`,children:[h.jsx("option",{value:"",children:"Select School"}),(oe=(ae=$==null?void 0:$.data)==null?void 0:ae.data)==null?void 0:oe.map(ee=>h.jsx("option",{value:ee.id,children:ee.name},ee.id))]}),l.school&&h.jsx("p",{className:"text-red-500 text-sm",children:l.school.message})]}),u===ve.USER&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"space-y-1 md:col-span-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(ui,{className:"text-[#6925EF] w-4 h-4"}),"Student Level"]}),x?h.jsx("p",{children:"Loading levels..."}):b?h.jsxs("p",{className:"text-red-500",children:["Error loading levels: ",((O=w==null?void 0:w.data)==null?void 0:O.message)||"Unknown error"]}):h.jsxs("select",{...e("studentLevel"),className:`w-full px-4 py-2.5 rounded-lg border ${l.studentLevel?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`,children:[h.jsx("option",{value:"",children:"Select Level"}),(fe=v==null?void 0:v.data)==null?void 0:fe.map(ee=>h.jsxs("option",{value:ee.id,children:[ee.level.charAt(0).toUpperCase()+ee.level.slice(1)," - ",ee.description]},ee.id))]}),l.studentLevel&&h.jsx("p",{className:"text-red-500 text-sm",children:l.studentLevel.message})]}),h.jsxs("div",{className:"space-y-1 md:col-span-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(ui,{className:"text-[#6925EF] w-4 h-4"}),"Parent"]}),m?h.jsx("p",{children:"Loading parents..."}):y?h.jsxs("p",{className:"text-red-500",children:["Error loading parents: ",((Se=g==null?void 0:g.data)==null?void 0:Se.message)||"Unknown error"]}):h.jsxs("select",{...e("parentID"),className:`w-full px-4 py-2.5 rounded-lg border ${l.parentID?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`,children:[h.jsx("option",{value:"",children:"Select Parent"}),(ie=p==null?void 0:p.users)==null?void 0:ie.map(ee=>h.jsx("option",{value:ee.id,children:ee==null?void 0:ee.email},ee.id))]}),l.parentID&&h.jsx("p",{className:"text-red-500 text-sm",children:l.parentID.message})]}),h.jsxs("div",{className:"space-y-1 md:col-span-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(ui,{className:"text-[#6925EF] w-4 h-4"}),"Roll Number"]}),h.jsx("input",{type:"text",...e("rollNumber"),placeholder:"Enter roll number",className:`w-full px-4 py-2.5 rounded-lg border ${l.rollNumber?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`}),l.rollNumber&&h.jsx("p",{className:"text-red-500 text-sm",children:l.rollNumber.message})]})]}),u===ve.TEACHER&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"space-y-1 md:col-span-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(ui,{className:"text-[#6925EF] w-4 h-4"}),"Teacher Grade"]}),x?h.jsx("p",{children:"Loading grades..."}):b?h.jsxs("p",{className:"text-red-500",children:["Error loading grades: ",((pe=w==null?void 0:w.data)==null?void 0:pe.message)||"Unknown error"]}):h.jsxs("select",{...e("teacherGrade"),className:`w-full px-4 py-2.5 rounded-lg border ${l.teacherGrade?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`,children:[h.jsx("option",{value:"",children:"Select Grade"}),(J=v==null?void 0:v.data)==null?void 0:J.map(ee=>h.jsx("option",{value:ee.id,children:ee.level.charAt(0).toUpperCase()+ee.level.slice(1)},ee.id))]}),l.teacherGrade&&h.jsx("p",{className:"text-red-500 text-sm",children:l.teacherGrade.message})]}),h.jsxs("div",{className:"space-y-1 md:col-span-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(ui,{className:"text-[#6925EF] w-4 h-4"}),"Teacher Subject"]}),E?h.jsx("p",{children:"Loading subjects..."}):M?h.jsxs("p",{className:"text-red-500",children:["Error loading subjects: ",((re=D==null?void 0:D.data)==null?void 0:re.message)||"Unknown error"]}):h.jsx($8e,{name:"teacherSubjects",control:s,defaultValue:[],render:({field:ee})=>{const nt=()=>!ee.value||ee.value.length===0?[]:I.filter(Re=>ee.value.includes(Re.value));return h.jsx(vJ,{value:nt(),isMulti:!0,options:I,placeholder:"Select subjects",classNamePrefix:"react-select",onChange:Re=>ee.onChange(Re.map(st=>st.value)),menuPortalTarget:document.body})}}),l.teacherSubjects&&h.jsx("p",{className:"text-red-500 text-sm",children:l.teacherSubjects.message})]})]})]}),h.jsx("div",{className:"mt-8",children:h.jsx("button",{type:"submit",disabled:c,className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50",children:c?"Creating User...":h.jsxs(h.Fragment,{children:[h.jsx(RA,{className:"w-5 h-5"}),"Create User"]})})})]})]})]})})};var XJ={exports:{}},Z7e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",eCe=Z7e,tCe=eCe;function YJ(){}function JJ(){}JJ.resetWarningCache=YJ;var rCe=function(){function t(n,i,s,a,o,l){if(l!==tCe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:JJ,resetWarningCache:YJ};return r.PropTypes=r,r};XJ.exports=rCe();var nCe=XJ.exports;const kt=K3(nCe),hn=({children:t,className:e="",...r})=>h.jsx("button",{className:`inline-flex items-center gap-2 px-4 py-2 bg-bg-gradient text-white rounded-md hover:bg-blue-600 transition-all duration-200 shadow-md ${e}`,...r,children:t});hn.propTypes={children:kt.node.isRequired,className:kt.string};const Bu=({icon:t,onClick:e,tooltip:r,className:n="",variant:i="primary"})=>{const s={primary:"text-[#6925EF] hover:text-[#3C1589] cursor-pointer transition-colors",danger:"text-red-500 hover:text-red-600",success:"text-[rgb(30,64,175,0.8)] hover:text-[rgba(30,64,175)]"};return h.jsx("button",{onClick:e,title:r,className:`p-2 rounded-full transition-all duration-200 ${s[i]} ${n}`,children:t})};Bu.propTypes={icon:kt.element.isRequired,onClick:kt.func.isRequired,tooltip:kt.string,className:kt.string,variant:kt.oneOf(["primary","danger","success"])};Bu.defaultProps={tooltip:"",className:"",variant:"primary"};const Gl=({currentPage:t,totalPages:e,limit:r,onPageChange:n,onLimitChange:i})=>{const a=(()=>{const o=[];for(let c=1;c<=e;c++)c===1||c===e||c>=t-2&&c<=t+2?o.push(c):(c===t-2-1||c===t+2+1)&&o.push("...");return[...new Set(o)]})();return h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 py-3 bg-white border-t rounded-md shadow-md",children:[h.jsx("div",{className:"flex items-center gap-4 mb-4 sm:mb-0",children:h.jsx("select",{value:r,onChange:o=>i(Number(o.target.value)),className:"px-2 py-1 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[10,20,50,100].map(o=>h.jsxs("option",{value:o,children:[o," per page"]},o))})}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("button",{onClick:()=>n(Math.max(t-1,1)),disabled:t===1,className:"px-3 py-1 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a.map((o,l)=>o==="..."?h.jsx("span",{className:"px-3 py-1 text-sm font-medium text-gray-400",children:"..."},l):h.jsx("button",{onClick:()=>n(o),className:`px-3 py-1 rounded-md text-sm font-medium ${t===o?"bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white":"text-gray-700 hover:bg-gray-100"}`,children:o},o)),h.jsx("button",{onClick:()=>n(Math.min(t+1,e)),disabled:t===e,className:"px-3 py-1 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})};Gl.propTypes={currentPage:kt.number.isRequired,totalPages:kt.number.isRequired,limit:kt.number.isRequired,onPageChange:kt.func.isRequired,onLimitChange:kt.func.isRequired};const Nh=({isOpen:t,onClose:e,onConfirm:r,title:n,message:i})=>t?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:n}),h.jsx("p",{className:"text-gray-600 mb-6",children:i}),h.jsxs("div",{className:"flex justify-end gap-4",children:[h.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),h.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-white bg-red-500 rounded-md hover:bg-red-600 transition-colors",children:"Delete"})]})]})}):null;Nh.propTypes={isOpen:kt.bool.isRequired,onClose:kt.func.isRequired,onConfirm:kt.func.isRequired,title:kt.string,message:kt.string};Nh.defaultProps={title:"Delete Confirmation",message:"Are you sure you want to delete this item? This action cannot be undone."};const iCe=()=>{var b;const t=xt(),[e,r]=_.useState(1),[n,i]=_.useState(10),[s,a]=_.useState(!1),[o,l]=_.useState(null),{data:c,isLoading:u,error:d,isError:A,refetch:f}=KG({page:e,limit:n});_.useEffect(()=>{f()},[]);const[p]=zG(),m=async w=>{const C=await p({bot_id:w}).unwrap();(C==null?void 0:C.statusCode)===200?(Z.success("Bot deleted successfully!",{position:"top-right",autoClose:3e3}),f()):Z.error("Bot deletion failed!",{position:"top-right",autoClose:3e3}),a(!1),l(null)},y=w=>{l(w),a(!0)},g=[{Header:"ID",accessor:"id"},{Header:"Name",accessor:"name"},{Header:"Display Name",accessor:"display_name"},{Header:"AI Model",accessor:"ai_model"},{Header:"Description",accessor:"description"},{Header:"Actions",accessor:"actions"}],v=w=>h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ea,{onClick:()=>t(`/admin/bots/${w.id}`),className:"w-4 h-4 text-[#6925EF] hover:text-[#3C1589] cursor-pointer transition-colors",title:"Edit Bot"}),h.jsx(Pu,{onClick:()=>y(w.id),className:"w-4 h-4 text-red-500 hover:text-red-700 cursor-pointer transition-colors",title:"Delete Bot"})]}),x=(b=c==null?void 0:c.bots)==null?void 0:b.map((w,C)=>({...w,id:C+1,actions:v(w)}));return h.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:[h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[h.jsx(Gs,{className:"text-[#6925EF]"}),"Manage Bots"]}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all bots in the system"})]}),h.jsxs(hn,{onClick:()=>t("/admin/new-bot"),className:"self-stretch sm:self-auto",children:[h.jsx(Gs,{}),h.jsx("span",{children:" New Bot"})]})]})}),h.jsx("div",{className:"p-6",children:u?h.jsxs("div",{className:"flex justify-center items-center",children:[h.jsx(kr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"text-gray-600 ml-2",children:"Loading bots..."})]}):A?h.jsx("div",{className:"text-red-500 text-center",children:(d==null?void 0:d.message)||"Error loading bots"}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsx("tr",{children:g.map(w=>h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:w.Header},w.accessor))})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x==null?void 0:x.map(({id:w,name:C,display_name:S,level:B,ai_model:E,description:M,actions:D})=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:C}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:S}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:E}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:M}),h.jsx("td",{className:"px-6 py-4 text-sm",children:D})]},w))})]})})}),h.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200",children:h.jsx(Gl,{currentPage:e,totalPages:(c==null?void 0:c.totalPages)||1,limit:n,onPageChange:r,onLimitChange:w=>{i(w),r(1)}})})]})}),h.jsx(Nh,{isOpen:s,onClose:()=>a(!1),onConfirm:()=>m(o),title:"Delete Bot",message:"Are you sure you want to delete this bot? This action cannot be undone."})]})},sCe=({botFiles:t,allFiles:e,selectedFile:r,onFileChange:n,onFileUpdate:i,onDelete:s})=>{const[a,o]=_.useState();return _.useEffect(()=>{const l=e==null?void 0:e.filter(c=>!(t!=null&&t.some(u=>u.id===c.id)));o(l)},[t,e]),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-8",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Sa,{className:"text-[#6F38DE] h-6 w-6"}),h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"File Attachment"})]})}),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:t&&t.length>0?h.jsx(h.Fragment,{children:t.map(l=>{var c,u,d;return h.jsxs("div",{className:"flex items-center justify-between p-4 mb-1 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200",children:[h.jsxs("p",{className:"flex items-center gap-2 text-green-600",children:[h.jsx(Sa,{className:"h-4 w-4"}),l.file_name," - ",(c=l==null?void 0:l.subject)==null?void 0:c.title," - ",(d=(u=l==null?void 0:l.subject)==null?void 0:u.level)==null?void 0:d.level]}),h.jsxs("button",{onClick:()=>s(l==null?void 0:l.id),className:"flex items-center gap-1 px-3 py-1 text-sm text-red-600 bg-red-100 rounded-lg hover:bg-red-200 transition-all duration-200",children:[h.jsx(Pu,{className:"h-4 w-4"}),"Delete"]})]})})}):h.jsxs("p",{className:"flex items-center gap-2 text-red-500",children:[h.jsx(Sa,{className:"h-4 w-4"}),"No file selected"]})}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select File"}),h.jsxs("select",{value:r,onChange:n,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",children:[h.jsx("option",{value:"",children:"Select a file"}),a==null?void 0:a.map(l=>{var c,u,d;return h.jsx("option",{value:l==null?void 0:l.id,children:h.jsxs("span",{children:[l==null?void 0:l.file_name," - ",(c=l==null?void 0:l.subject)==null?void 0:c.title," - ",(d=(u=l==null?void 0:l.subject)==null?void 0:u.level)==null?void 0:d.level," "]})},l==null?void 0:l.id)})]})]}),h.jsxs("button",{type:"button",onClick:i,className:"inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-lg text-base font-medium text-white bg-[#6F38DE] hover:bg-[#5C2EBA] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#6F38DE]",children:[h.jsx(Sa,{className:"w-5 h-5 mr-2"}),"Attach File"]})]})]})},aCe=()=>{var Se,ie,pe;xt();const{bot_id:t}=ur(),[e,r]=_.useState(),[n,i]=_.useState(),[s,a]=_.useState({id:"",name:"",display_name:"",description:"",first_message:"",ai_model:"",level_id:"",subject_id:"",voice_model:""}),[o]=u2e(),[l,c]=_.useState(null),[u]=HG();zG();const{data:d,isError:A,refetch:f}=_Y({page:1,limit:1e9}),{data:p,isLoading:m,isError:y,error:g,refetch:v}=Io(),{data:x,isLoading:b,isError:w}=CM(),[C,{data:S,isLoading:B,isError:E,error:M}]=xf(),[D,L]=_.useState([]);_.useEffect(()=>{A&&Z.error("Files fetching failed")},[A]);const[I,{isError:z,error:R}]=d2e(),[Y]=c2e(),[$]=l2e();async function P(J){const re=await o({bot_id:Number(J)}).unwrap();(re==null?void 0:re.statusCode)===200?r(re==null?void 0:re.data):Z.error("Error getting context data")}async function q(J){var ee,nt,Re,st,He,ze,dr,Cn,V;const re=await u({bot_id:Number(t)}).unwrap();(re==null?void 0:re.statusCode)===200?(a({id:(ee=re==null?void 0:re.bot)==null?void 0:ee.id,name:(nt=re==null?void 0:re.bot)==null?void 0:nt.name,display_name:(Re=re==null?void 0:re.bot)==null?void 0:Re.display_name,description:(st=re==null?void 0:re.bot)==null?void 0:st.description,first_message:(He=re==null?void 0:re.bot)==null?void 0:He.first_message,ai_model:(ze=re==null?void 0:re.bot)==null?void 0:ze.ai_model,level_id:(dr=re==null?void 0:re.bot)==null?void 0:dr.level_id,subject_id:(Cn=re==null?void 0:re.bot)==null?void 0:Cn.subject_id,voice_model:(V=re==null?void 0:re.bot)==null?void 0:V.voice_model}),await P(t)):Z.error("Error fetching the bot")}_.useEffect(()=>{if(e&&(d!=null&&d.files)){const J=e.map(re=>d.files.find(ee=>ee.id===re.file_id)).filter(Boolean);J.length>0?i(J):i([])}},[e,d]),_.useEffect(()=>{q()},[t]),_.useEffect(()=>{q()},[]),_.useEffect(()=>{s.level_id&&C({level_id:Number(s.level_id)})},[s.level_id,C]),_.useEffect(()=>{if((S==null?void 0:S.statusCode)===200&&(S!=null&&S.data)){const J=S.data.map(re=>({value:re.id,label:re.display_title||re.title}));L(J)}},[S]),_.useEffect(()=>{v(),f()},[v,f]);const N=async J=>{if(J.preventDefault(),s.id===""||s.name===""||s.display_name===""||s.description===""||s.first_message===""||s.ai_model===""||s.level_id===""||s.subject_id===""||s.voice_model===""){Z.error("No field must be empty");return}const re=await I({id:Number(s==null?void 0:s.id),name:s==null?void 0:s.name,display_name:s==null?void 0:s.display_name,description:s==null?void 0:s.description,first_message:s==null?void 0:s.first_message,ai_model:s==null?void 0:s.ai_model,level_id:Number(s==null?void 0:s.level_id),subject_id:Number(s==null?void 0:s.subject_id),voice_model:s==null?void 0:s.voice_model}).unwrap();(re==null?void 0:re.statusCode)===200?(Z.success("Update bot successful!",{position:"top-right",autoClose:3e3}),P(t),q()):Z.error("Update bot failed!",{position:"top-right",autoClose:3e3})},ae=J=>{c(J.target.value)},oe=async J=>{J.preventDefault();const re=await Y({bot_id:Number(t),file_id:Number(l)}).unwrap();(re==null?void 0:re.statusCode)===200?(Z.success("File of bot created successfully!",{position:"top-right",autoClose:3e3}),P(t),q()):Z.error("File of bot creation failed!",{position:"top-right",autoClose:3e3})},O=async J=>{const re=await $({bot_id:Number(t),file_id:Number(J)}).unwrap();(re==null?void 0:re.statusCode)===200?(Z.success("File of bot deleted successfully!",{position:"top-right",autoClose:3e3}),P(t),q()):Z.error("File of bot deletion failed!",{position:"top-right",autoClose:3e3})},fe=(J,re)=>{a({...s,[J]:re})};return h.jsx("div",{className:"min-h-screen",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-8",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Gs,{className:"text-[#6F38DE] h-6 w-6"}),h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Bot"})]})}),h.jsx("form",{onSubmit:N,className:"p-6",children:h.jsxs("div",{className:"grid gap-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),h.jsx("input",{type:"text",value:s.name,onChange:J=>fe("name",J.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name"}),h.jsx("input",{type:"text",value:s.display_name,onChange:J=>fe("display_name",J.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),h.jsx("textarea",{value:s.description,onChange:J=>fe("description",J.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",rows:"3",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Message"}),h.jsx("textarea",{value:s.first_message,onChange:J=>fe("first_message",J.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",rows:"3",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"AI Model"}),h.jsxs("select",{value:s.ai_model,onChange:J=>fe("ai_model",J.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",required:!0,children:[h.jsx("option",{value:"",children:"Select AI Model"}),_4.map(J=>h.jsx("option",{value:J,children:J},J))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Level"}),h.jsxs("select",{value:s.level_id,onChange:J=>fe("level_id",J.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",required:!0,children:[h.jsx("option",{value:"",children:"Select Level"}),m?h.jsx("option",{children:"Loading levels..."}):y?h.jsx("option",{children:"Error loading levels"}):(Se=p==null?void 0:p.data)==null?void 0:Se.map(J=>h.jsx("option",{value:J.id,children:J.level},J.id))]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(KS,{className:"text-[#6F38DE] w-4 h-4"}),"Select Deepgram Model"]}),h.jsxs("select",{value:s.voice_model,onChange:J=>fe("voice_model",J.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#6F38DE] focus:ring-2 focus:ring-[#6F38DE]/20",required:!0,children:[h.jsx("option",{value:"",children:"Select Deepgram Model"}),b?h.jsx("option",{children:"Loading..."}):(pe=(ie=x==null?void 0:x.api)==null?void 0:ie.tts)==null?void 0:pe.map((J,re)=>h.jsx("option",{value:J.uuid,children:J.name},re))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subjects"}),h.jsxs("select",{value:s.subject_id,onChange:J=>fe("subject_id",J.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",disabled:B||!s.level_id,children:[h.jsx("option",{value:"",children:"Select Subject"}),B?h.jsx("option",{children:"Loading subjects..."}):E?h.jsx("option",{children:"Error loading subjects"}):D.map(J=>h.jsx("option",{value:J.value,children:J.label},J.value))]})]}),z&&h.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:h.jsx("p",{className:"text-sm text-red-600",children:R})}),h.jsxs("button",{type:"submit",className:"inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-lg text-base font-medium text-white bg-[#6F38DE] hover:bg-[#5C2EBA] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#6F38DE]",children:[h.jsx(ff,{className:"w-5 h-5 mr-2"}),"Update Bot"]})]})})]}),h.jsx(sCe,{botFiles:n,allFiles:d==null?void 0:d.files,selectedFile:l,onFileChange:ae,onFileUpdate:oe,onDelete:O})]})})},oCe=()=>{var x;const t=xt(),[e,r]=_.useState(1),[n,i]=_.useState(10),[s,a]=_.useState(!1),[o,l]=_.useState(null),{data:c,isLoading:u,error:d,isError:A,refetch:f}=_Y({page:e,limit:n}),[p]=A3e(),m=(c==null?void 0:c.totalPages)||1;_.useEffect(()=>{f()},[e,n,f]);const y=async b=>{var w;try{const C=await p({id:Number(b)}).unwrap();(C==null?void 0:C.statusCode)===200&&(Z.success("File deleted successfully!"),f())}catch(C){Z.error(((w=C==null?void 0:C.data)==null?void 0:w.message)||(C==null?void 0:C.message)||"File deletion failed!")}a(!1),l(null)},g=b=>{l(b),a(!0)},v=(x=c==null?void 0:c.files)==null?void 0:x.map(b=>({...b,actions:h.jsx(Pu,{onClick:()=>g(b.id),className:"w-4 h-4 text-red-500 hover:text-red-700 cursor-pointer transition-colors",title:"Delete File"})}));return h.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:[h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[h.jsx(Sa,{className:"text-[#6925EF]"}),"Manage Files"]}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all files uploaded to the system"})]}),h.jsxs(hn,{onClick:()=>t("/admin/files/new-file"),className:"self-stretch sm:self-auto",children:[h.jsx(Sa,{}),h.jsx("span",{children:" New File"})]})]}),h.jsx("div",{className:"p-6",children:u?h.jsxs("div",{className:"flex justify-center items-center",children:[h.jsx(kr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"text-gray-600 ml-2",children:"Loading files..."})]}):A?h.jsxs("div",{className:"text-red-500 text-center",children:[h.jsx("p",{children:(d==null?void 0:d.message)||"Error loading files"}),h.jsx("button",{onClick:f,className:"mt-2 text-blue-500 underline",children:"Retry"})]}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"File Name"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Processed (%)"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v==null?void 0:v.map(({id:b,file_name:w,processed:C,actions:S},B)=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:B+1}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:C||"N/A"}),h.jsx("td",{className:"px-6 py-4 text-sm",children:S})]},b))})]})})}),h.jsx(Gl,{currentPage:e,totalPages:m,limit:n,onPageChange:r,onLimitChange:b=>{i(b),r(1)}})]})}),h.jsx(Nh,{isOpen:s,onClose:()=>a(!1),onConfirm:()=>y(o),title:"Delete File",message:"Are you sure you want to delete this file? This action cannot be undone."})]})};function lCe(){return h.jsxs("div",{className:"relative w-full mb-8  overflow-hidden rounded-3xl bg-button-gradient p-8 text-white mr-7",children:[h.jsx("div",{className:"absolute bottom-0 right-0 h-52 w-2/5 z-10",children:h.jsx("img",{src:Eh,alt:"Banner Image",className:"object-contain w-full h-full"})}),h.jsxs("div",{className:"relative z-20 max-w-xl",children:[h.jsxs("h1",{className:"mb-4 text-2xl font-poppins font-medium leading-tight",children:["Empowering Minds,",h.jsx("br",{}),"One Conversation Away."]}),h.jsx("p",{className:"mb-6 text-[14px] text-white/80",children:"Talk to trending bots this month"}),h.jsx("button",{className:"rounded-full px-4 py-3 lg:w-1/5 lg:px-2 text-[10px] border-white bg-yellow-400 text-white hover:bg-white hover:text-hoverText",children:"VIEW NOW"})]}),h.jsx("div",{className:"absolute right-0 top-0 h-full w-full sm:w-full",children:h.jsx("div",{className:"relative h-full",children:h.jsx("img",{src:Uw,alt:"Hero Banner Background",className:"object-cover brightness-90 w-full h-full"})})})]})}function cCe({title:t,image:e,href:r}){const{user:n}=ti();function i(o){o.target.src=Eh}const s=xt();function a(o){n.role==ve.TEACHER&&s(`/teacher/chat-screen/${o}`)}return h.jsxs("div",{onClick:()=>a(r),className:"block",children:[h.jsx("div",{className:"overflow-hidden transition-transform hover:scale-105 rounded-lg shadow-lg",children:h.jsx("div",{className:"relative",children:h.jsx("img",{src:e,alt:t,onError:i,className:"object-cover w-full h-36 brightness-90"})})}),h.jsx("h3",{className:"text-lg  text-[#434C56] mt-2 text-center font-normal ",children:t})]})}const uCe=()=>{var A,f;const[t,e]=_.useState(!1),{data:r,error:n,isLoading:i,refetch:s}=f2e(),{data:a,error:o,isLoading:l,refetch:c}=_M();_.useEffect(()=>{s(),c()},[]);const u=()=>{e(p=>!p)},d=[{statTitle:"Subjects",statValue:(a==null?void 0:a.subjects)||"0",icon:BY},{statTitle:"Total Quizzes",statValue:(a==null?void 0:a.totalQuizzes)||"0",icon:Fm},{statTitle:"Completed Quizzes",statValue:(a==null?void 0:a.completedQuizzes)||"0",icon:Tm},{statTitle:"Pending Quizzes",statValue:(a==null?void 0:a.pendingQuizzes)||"0",icon:to}];return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"flex-1 p-6",children:[h.jsx(lCe,{}),h.jsxs("div",{className:"container mx-auto pt-5 pb-0",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between items-center",children:[h.jsx("h1",{className:"text-2xl font-semibold",children:"Bots"}),h.jsx("button",{className:"mt-2 md:mt-0 md:ml-4 text-[#6F38DE] rounded font-medium text-xs hover:text-black transition-colors",onClick:u,children:t?"View Less":"View All"})]}),h.jsx("div",{className:"flex items-center justify-between mt-4",children:h.jsx("div",{className:"flex-1",children:t?h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6 mt-4",children:((f=r==null?void 0:r.bots)==null?void 0:f.length)>0?r==null?void 0:r.bots.map(p=>h.jsx(cCe,{name:p,image:Tt+"/images/"+(p==null?void 0:p.bot_image_url),href:p==null?void 0:p.id},p==null?void 0:p.id)):h.jsx("div",{className:"text-center text-gray-500 mt-4",children:h.jsx("p",{children:"No bots found. Please check back later!"})})}):((A=r==null?void 0:r.bots)==null?void 0:A.length)>0?h.jsx(BM,{bots:r==null?void 0:r.bots}):h.jsx("div",{className:"text-center text-gray-500 mt-4",children:h.jsx("p",{children:"No bots found. Please check back later!"})})})})]}),h.jsxs("div",{className:"mt-0",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsx("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2 mt-5",children:"Activity Stats"})}),h.jsx("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-4 gap-4",children:d.map((p,m)=>h.jsx(nn,{statTitle:p.statTitle,statValue:p.statValue,icon:p.icon},m))})]})]})})},Zf=({data:t,isLoading:e,isError:r,error:n,currentPage:i,totalPages:s,limit:a,onPageChange:o,onLimitChange:l,refetch:c})=>{const u=xt(),[d,A]=_.useState(!1),[f,p]=_.useState(null),[m]=a0e(),y=(x,b)=>{p({id:x,role:b}),A(!0)},g=async()=>{try{await m({user_id:Number(f.id)}),c()}catch(x){Z.error(x.message||x.res.error||x.res.message+" Failed to delete User")}finally{A(!1),p(null)}},v=()=>{A(!1),p(null)};return h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("div",{className:"rounded-md border",children:[h.jsxs("table",{className:"min-w-full divide-y divide-gray-200 overflow-auto",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone No"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e?h.jsx("tr",{children:h.jsxs("td",{colSpan:"7",className:"px-6 py-4 text-center",children:[h.jsx(kr,{className:"inline animate-spin text-blue-500"}),h.jsx("span",{className:"ml-2",children:"Loading..."})]})}):r?h.jsx("tr",{children:h.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-red-500",children:n})}):t.map((x,b)=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:b+1}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:x.name}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:x.email}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:Mle(x.role)}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:h.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${x.isVerified?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:x.isVerified?"Verified":"Not Verified"})}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:x.contact}),h.jsx("td",{className:"px-6 py-4 text-sm",children:h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>u(`/admin/users/${x.id}`),className:"text-[#6925EF] hover:text-[#3C1589]",title:"Edit User",children:h.jsx(ea,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>y(x.id,x.role),className:"text-red-600 hover:text-red-800",title:"Delete User",children:h.jsx(Pu,{className:"w-4 h-4"})})]})})]},x.id))})]}),h.jsx(Gl,{currentPage:i,totalPages:s,limit:a,onPageChange:o,onLimitChange:l})]}),h.jsx(Nh,{isOpen:d,onClose:v,onConfirm:g})]})},I8=()=>{const t=xt(),{user:e}=ti(),[r,n]=_.useState({page:1,limit:10}),[i,s]=_.useState({page:1,limit:10}),[a,o]=_.useState({page:1,limit:10}),[l,c]=_.useState({page:1,limit:10}),[u,d]=_.useState({page:1,limit:10}),{data:A,isLoading:f,error:p,refetch:m}=A0e(r,{skip:(e==null?void 0:e.role)!==ve.ADMIN}),{data:y,isLoading:g,error:v,refetch:x}=f0e(i,{skip:(e==null?void 0:e.role)!==ve.ADMIN}),{data:b,isLoading:w,error:C,refetch:S}=tE(a,{skip:(e==null?void 0:e.role)!==ve.ADMIN}),{data:B,isLoading:E,error:M,refetch:D}=v3e(l,{skip:(e==null?void 0:e.role)!==ve.SUPER_ADMIN}),{data:L,isLoading:I,error:z,refetch:R}=_3e(u,{skip:(e==null?void 0:e.role)!==ve.SUPER_INTENDENT});_.useEffect(()=>{(e==null?void 0:e.role)===ve.ADMIN?(m(),x(),S()):(e==null?void 0:e.role)===ve.SUPER_ADMIN?D():(e==null?void 0:e.role)===ve.SUPER_INTENDENT&&R()},[e==null?void 0:e.role]);const Y=ie=>n(pe=>({...pe,page:ie})),$=ie=>n({page:1,limit:ie}),P=ie=>s(pe=>({...pe,page:ie})),q=ie=>s({page:1,limit:ie}),N=ie=>o(pe=>({...pe,page:ie})),ae=ie=>o({page:1,limit:ie}),oe=ie=>c(pe=>({...pe,page:ie})),O=ie=>c({page:1,limit:ie}),fe=ie=>d(pe=>({...pe,page:ie})),Se=ie=>d({page:1,limit:ie});return h.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Users"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage user accounts"})]}),h.jsxs("button",{onClick:()=>t("/admin/users/create"),className:"inline-flex items-center gap-2 px-4 py-2 bg-bg-gradient text-white rounded-md hover:bg-blue-600 transition-all duration-200 shadow-md",children:[h.jsx(RA,{}),h.jsx("span",{children:"Create User"})]})]})}),(e==null?void 0:e.role)===ve.SUPER_ADMIN&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Super Intendents"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all super intendent accounts"})]})})}),h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsx(Zf,{data:(B==null?void 0:B.data)||[],isLoading:E,isError:!!M,error:M==null?void 0:M.message,currentPage:l.page,totalPages:(B==null?void 0:B.totalPages)||1,limit:l.limit,onPageChange:oe,onLimitChange:O,refetch:D})})})]}),(e==null?void 0:e.role)===ve.SUPER_INTENDENT&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Principals"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all principal accounts"})]})})}),h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsx(Zf,{data:(L==null?void 0:L.data)||[],isLoading:I,isError:!!z,error:z==null?void 0:z.message,currentPage:u.page,totalPages:(L==null?void 0:L.totalPages)||1,limit:u.limit,onPageChange:fe,onLimitChange:Se,refetch:R})})})]}),(e==null?void 0:e.role)===ve.ADMIN&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Students"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all student accounts"})]})})}),h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsx(Zf,{data:(A==null?void 0:A.users)||[],isLoading:f,isError:!!p,error:p==null?void 0:p.message,currentPage:r.page,totalPages:(A==null?void 0:A.totalPages)||1,limit:r.limit,onPageChange:Y,onLimitChange:$,refetch:m})})}),h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Teachers"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all teacher accounts"})]})})}),h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsx(Zf,{data:(y==null?void 0:y.users)||[],isLoading:g,isError:!!v,error:v==null?void 0:v.message,currentPage:i.page,totalPages:(y==null?void 0:y.totalPages)||1,limit:i.limit,onPageChange:P,onLimitChange:q,refetch:x})})}),h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Parents"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all parent accounts"})]})})}),h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsx(Zf,{data:(b==null?void 0:b.users)||[],isLoading:w,isError:!!C,error:C==null?void 0:C.message,currentPage:a.page,totalPages:(b==null?void 0:b.totalPages)||1,limit:a.limit,onPageChange:N,onLimitChange:ae,refetch:S})})})]})]})})})},dCe=({role:t,userId:e})=>{const r=Af(),n=yu(b=>b.auth.avatar_url),{updateAvatarLocal:i}=ti(),[s,a]=_.useState({name:"",email:"",contact:"",avatar:""}),[o,l]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,u]=_.useState("profile"),{data:d,isLoading:A,error:f}=Hq({user_id:Number(e)});_.useEffect(()=>{d&&a({name:d.data.name||"",email:d.data.email||"",contact:d.data.contact||"",avatar:d.data.user_image_url||""})},[d]);const[p]=i0e();s0e(),Rq();const m=b=>{const{name:w,value:C}=b.target;a({...s,[w]:C})},y=b=>{const{name:w,value:C}=b.target;l({...o,[w]:C})},g=async b=>{const w=b.target.files[0];if(w){if(!w.type.startsWith("image/")){Z.error("Please upload a valid image file.");return}if(w.size>5*1024*1024){Z.error("File size should not exceed 5MB.");return}const C=new FormData;C.append("avatar",w);try{const S=await iq.UpdateAvatar(C,r);S.status===200?(Z.success("Avatar updated successfully!"),a(B=>({...B,avatar:S.data.data.avatarUrl})),i({userAvatar:S.data.data.avatarUrl})):Z.error("Failed to update avatar.")}catch{Z.error("Failed to update avatar.")}}},v=async b=>{var S,B,E;b.preventDefault();const w=(S=s.name)==null?void 0:S.trim(),C=(B=s.contact)==null?void 0:B.trim();if(!w||!C){Z.error("Name and contact fields cannot be empty.");return}try{(await p(s).unwrap()).statusCode===200&&Z.success("Profile updated successfully!")}catch(M){Z.error(((E=M==null?void 0:M.data)==null?void 0:E.message)||"An error occurred while updating the profile.")}},x=async b=>{if(b.preventDefault(),o.newPassword!==o.confirmPassword){Z.error("New password and confirm password do not match.");return}try{(await p({oldPassword:o.currentPassword,newPassword:o.newPassword}).unwrap()).statusCode===200&&(Z.success("Password updated successfully!"),l({currentPassword:"",newPassword:"",confirmPassword:""}))}catch(w){Z.error(w==null?void 0:w.data.message)}};return A?h.jsx("div",{children:"Loading..."}):f?h.jsx("div",{children:"Error loading profile data."}):h.jsx("div",{className:"min-h-screen  bg-white-100 flex items-center justify-center",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-12 w-full bg-white rounded-lg shadow-md overflow-hidden ",children:[h.jsxs("div",{className:"px-6 py-4 bg-white-50 border-b border-gray-200",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2 capitalize",children:[h.jsx(ui,{className:"text-[#6925EF] w-6 h-6 "}),t," Profile"]}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your profile information and password."})]}),h.jsxs("div",{className:"flex space-x-4 p-6 border-b border-gray-200",children:[h.jsx("button",{onClick:()=>u("profile"),className:`py-2 px-4 rounded - md ${c==="profile"?"bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"} `,children:"Profile Information"}),h.jsx("button",{onClick:()=>u("password"),className:`py-2 px-4 rounded - md ${c==="password"?"bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"} `,children:"Password Reset"})]}),c==="profile"&&h.jsxs("form",{onSubmit:v,className:"px-6 py-8 space-y-6",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("img",{src:n!=null?`${Tt}/images/${n}`:oE,alt:"User Avatar",className:"w-24 h-24 rounded-full object-cover"}),h.jsxs("div",{children:[h.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),h.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Upload a new avatar."})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(ui,{className:"text-[#6925EF] w-4 h-4"}),"Name"]}),h.jsx("input",{type:"text",name:"name",value:s.name,onChange:m,className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(nE,{className:"text-[#6925EF] w-4 h-4"}),"Email"]}),h.jsx("input",{type:"email",name:"email",value:s.email,onChange:m,disabled:!0,className:"mt-1 block w-full px-4 py-2 bg-dark border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(aE,{className:"text-[#6925EF] w-4 h-4"}),"Contact"]}),h.jsx("input",{type:"text",name:"contact",value:s.contact,onChange:m,className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]"})]}),h.jsx("div",{className:"mt-8 flex justify-end",children:h.jsx(hn,{type:"submit",className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium",children:"Update Profile"})})]}),c==="password"&&h.jsxs("form",{onSubmit:x,className:"px-6 py-8 space-y-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(bm,{className:"text-[#6925EF] w-4 h-4"}),"Current Password"]}),h.jsx("input",{type:"password",name:"currentPassword",value:o.currentPassword,onChange:y,className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(bm,{className:"text-[#6925EF] w-4 h-4"}),"New Password"]}),h.jsx("input",{type:"password",name:"newPassword",value:o.newPassword,onChange:y,className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(bm,{className:"text-[#6925EF] w-4 h-4"}),"Confirm Password"]}),h.jsx("input",{type:"password",name:"confirmPassword",value:o.confirmPassword,onChange:y,className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]"})]}),h.jsx("div",{className:"mt-8 flex justify-end",children:h.jsx(hn,{type:"submit",className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium",children:"Update Password"})})]})]})})},nx=()=>{const{user:t}=ti(),r={[ve.USER]:"user",[ve.ADMIN]:"admin",[ve.SUPER_ADMIN]:"superadmin",[ve.TEACHER]:"teacher",[ve.PARENT]:"parent"}[t.role]||"user";return h.jsx("div",{children:h.jsx(dCe,{role:r,userId:t.id})})},Ky=({label:t,icon:e,error:r,...n})=>h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[e&&h.jsx(e,{className:"text-[#6925EF] w-4 h-4"}),t]}),n.type==="textarea"?h.jsx("textarea",{...n,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20 transition-all duration-200"}):h.jsx("input",{...n,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20 transition-all duration-200"})]}),pO=()=>{const{user:t}=ti(),{data:e,refetch:r}=b3e(),[n]=w3e(),[i,s]=_.useState({openai:"",dalle:"",deepgram:"",master_prompt:""});_.useEffect(()=>{var l,c,u,d;e&&s({openai:(l=e==null?void 0:e.data)==null?void 0:l.openai,dalle:(c=e==null?void 0:e.data)==null?void 0:c.dalle,deepgram:(u=e==null?void 0:e.data)==null?void 0:u.deepgram,master_prompt:(d=e==null?void 0:e.data)==null?void 0:d.master_prompt})},[e]);const a=l=>{const{name:c,value:u}=l.target;s(d=>({...d,[c]:u}))},o=async l=>{l.preventDefault();try{const c=await n(i).unwrap();(c==null?void 0:c.statusCode)===200?(Z.success("Profile updated successfully"),r()):Z.error((c==null?void 0:c.message)||"Error updating profile")}catch(c){Z.error("Failed to update profile"),console.error("Error:",c)}};return h.jsxs("div",{className:"min-h-screen bg-white",children:[(t==null?void 0:t.role)===ve.SUPER_ADMIN&&h.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[h.jsx(Gs,{className:"text-[#6925EF]"}),"Admin Settings"]}),h.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Configure prompt and APIs"})]}),h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:h.jsx("div",{className:"p-6 space-y-6",children:h.jsxs("form",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsx(Ky,{label:"Open AI",icon:N6,type:"text",name:"openai",value:i.openai,onChange:a,placeholder:"Enter OpenAI key"}),h.jsx(Ky,{label:"DallE AI",icon:N6,type:"text",name:"dalle",value:i.dalle,onChange:a,placeholder:"Enter DallE API key"}),h.jsx(Ky,{label:"DeepGram",icon:N6,type:"text",name:"deepgram",value:i.deepgram,onChange:a,placeholder:"Enter DeepGram API key"})]}),h.jsx(Ky,{label:"Master Prompt",icon:Gs,type:"textarea",name:"master_prompt",value:i.master_prompt,onChange:a,rows:"4",placeholder:"Enter master prompt"}),h.jsx("div",{className:"pt-4",children:h.jsx("button",{onClick:o,className:"w-full px-4 py-2 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity font-medium mt-6",children:"Update Profile"})})]})})})]}),h.jsx(nx,{})]})},zu=({columns:t,data:e,isLoading:r,isError:n,error:i,currentPage:s,totalPages:a,limit:o,onPageChange:l,onLimitChange:c,className:u,emptyStateMessage:d="No data available."})=>{var A;return h.jsx("div",{className:`flex flex-col ${u}`,children:h.jsxs("div",{className:"rounded-md border overflow-auto",children:[h.jsxs("table",{className:"min-w-full divide-y divide-gray-200","aria-label":"Generic Table",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsx("tr",{children:t.map(f=>h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:f.Header},f.accessor))})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r?h.jsx("tr",{children:h.jsxs("td",{colSpan:t.length,className:"px-6 py-4 text-center",children:[h.jsx(kr,{className:"inline animate-spin text-blue-500"}),h.jsx("span",{className:"ml-2",children:"Loading..."})]})}):n?h.jsx("tr",{children:h.jsx("td",{colSpan:t.length,className:"px-6 py-4 text-center text-red-500",children:((A=i==null?void 0:i.data)==null?void 0:A.message)||"An error occurred while fetching data."})}):e.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:t.length,className:"px-6 py-4 text-center text-gray-500",children:d})}):e.map(f=>h.jsx("tr",{className:"hover:bg-gray-50",children:t.map(p=>h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:p.Cell?p.Cell(f):f[p.accessor]},p.accessor))},f.id))})]}),h.jsx(Gl,{currentPage:s,totalPages:a,limit:o,onPageChange:l,onLimitChange:c})]})})};zu.propTypes={columns:kt.arrayOf(kt.shape({Header:kt.string.isRequired,accessor:kt.string.isRequired,Cell:kt.func})).isRequired,data:kt.array.isRequired,isLoading:kt.bool,isError:kt.bool,error:kt.object,currentPage:kt.number,totalPages:kt.number,limit:kt.number,onPageChange:kt.func.isRequired,onLimitChange:kt.func.isRequired,className:kt.string,emptyStateMessage:kt.string};zu.defaultProps={isLoading:!1,isError:!1,error:null,currentPage:1,totalPages:1,limit:10,className:"",emptyStateMessage:"No data available."};const hCe=()=>{var m,y;const t=xt(),[e,r]=_.useState(1),[n,i]=_.useState(10),{data:s,isLoading:a,isError:o,error:l,refetch:c}=Io({page:e,limit:n});_.useEffect(()=>{c()},[]);const u=g=>{t(`/admin/levels/${g}`)},d=g=>h.jsx("div",{className:"flex items-center gap-2",children:h.jsx(Bu,{icon:h.jsx(ea,{size:16}),onClick:()=>u(g.id),tooltip:"Edit Level",variant:"primary"})}),A=[{Header:"ID",accessor:"id"},{Header:"Description",accessor:"description"},{Header:"Level",accessor:"level"},{Header:"Actions",accessor:"actions"}],f=(m=s==null?void 0:s.data)==null?void 0:m.map((g,v)=>({...g,id:v+1,actions:d(g)})),p=(s==null?void 0:s.totalPages)||1;return h.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Levels"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all levels in the system"})]}),h.jsxs(hn,{onClick:()=>t("/admin/levels/create"),className:"self-stretch sm:self-auto",children:[h.jsx(RA,{}),h.jsx("span",{children:"Create Level"})]})]})}),h.jsx("div",{className:"p-6",children:a?h.jsxs("div",{className:"flex justify-center items-center",children:[h.jsx(kr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"text-gray-600 ml-2",children:"Loading levels..."})]}):o?h.jsxs("div",{className:"text-red-500",children:["Error loading levels: ",((y=l==null?void 0:l.data)==null?void 0:y.message)||"Unknown error"]}):h.jsx("div",{className:"overflow-x-auto",children:h.jsx(zu,{columns:A,data:f,currentPage:e,totalPages:p,limit:n,onPageChange:r,onLimitChange:g=>{i(g),r(1)},emptyStateMessage:"No levels found."})})})]})})})},ACe=Oo().shape({level:mt().required("Level is required").min(2,"Level must be at least 2 characters"),description:mt().required("Description is required").min(10,"Description must be at least 10 characters")}),fCe=()=>{const{register:t,handleSubmit:e,formState:{errors:r,isSubmitting:n},reset:i}=ql({resolver:Wl(ACe)}),s=xt(),[a]=m3e(),o=async l=>{var c;try{const u={level:l.level,description:l.description},d=await a(u).unwrap();(d==null?void 0:d.statusCode)===200?(Z.success("Level created successfully"),i(),s("/admin/levels")):Z.error((d==null?void 0:d.message)||"Failed to create level")}catch(u){Z.error(((c=u==null?void 0:u.data)==null?void 0:c.message)||"Failed to create level")}};return h.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[h.jsx(sE,{className:"text-[#6925EF] w-6 h-6"}),"Create New Level"]}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Add a new educational level to the system with detailed information."})]}),h.jsxs("form",{onSubmit:e(o),className:"px-6 py-8",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(QA,{className:"text-[#6925EF] w-4 h-4"}),"Level"]}),h.jsx("input",{type:"text",...t("level"),placeholder:"Enter level name",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.level?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.level&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.level.message})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(QA,{className:"text-[#6925EF] w-4 h-4"}),"Description"]}),h.jsx("textarea",{...t("description"),placeholder:"Enter description",rows:"4",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.description?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.description&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.description.message})]})]}),h.jsx("div",{className:"mt-8 flex justify-end",children:h.jsx(hn,{className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50",type:"submit",disabled:n,children:n?"Creating...":h.jsxs(h.Fragment,{children:[h.jsx(_1,{className:"w-4 h-4"}),"Create Level"]})})})]})]})})},pCe=Oo().shape({level:mt().required("Level is required").min(2,"Level must be at least 2 characters"),description:mt().required("Description is required").min(10,"Description must be at least 10 characters")}),mCe=()=>{var f;const{id:t}=ur();xt();const[e,{data:r,isLoading:n,isError:i,error:s}]=p3e();_.useEffect(()=>{e({level_id:Number(t)})},[]);const[a,{isLoading:o}]=g3e(),{register:l,handleSubmit:c,setValue:u,formState:{errors:d}}=ql({resolver:Wl(pCe)});_.useEffect(()=>{r!=null&&r.data&&(u("level",r.data.level),u("description",r.data.description))},[r,u]);const A=async p=>{var m;try{const y={level:p.level,level_id:Number(t),description:p.description},g=await a({id:t,...y}).unwrap();(g==null?void 0:g.statusCode)===200?(Z.success("Level updated successfully"),refetch()):Z.error((g==null?void 0:g.message)||"Failed to update level")}catch(y){Z.error(((m=y==null?void 0:y.data)==null?void 0:m.message)||"Failed to update level")}};return n?h.jsxs("div",{className:"flex justify-center items-center",children:[h.jsx(kr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"text-gray-600 ml-2",children:"Loading levels..."})]}):i?h.jsxs("div",{className:"text-red-500 text-center mt-10",children:["Error loading level: ",((f=s==null?void 0:s.data)==null?void 0:f.message)||"Unknown error"]}):h.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[h.jsx(ea,{className:"text-[#6925EF] w-6 h-6"}),"Edit Level"]}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update the details of the educational level."})]}),h.jsxs("form",{onSubmit:c(A),className:"px-6 py-8",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(QA,{className:"text-[#6925EF] w-4 h-4"}),"Level"]}),h.jsx("input",{type:"text",...l("level"),placeholder:"Enter level name",className:`mt-1 block w-full px-4 py-2 bg-white border ${d.level?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),d.level&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.level.message})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(QA,{className:"text-[#6925EF] w-4 h-4"}),"Description"]}),h.jsx("textarea",{...l("description"),placeholder:"Enter description",rows:"4",className:`mt-1 block w-full px-4 py-2 bg-white border ${d.description?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),d.description&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.description.message})]})]}),h.jsx("div",{className:"mt-8 flex justify-end",children:h.jsxs(hn,{className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50",type:"submit",disabled:o,children:[h.jsx(ff,{className:"w-5 h-5 mr-2"})," ",h.jsxs("span",{className:"text-center",children:["  ",o?"Updating...":"Update Level"]})]})})]})]})})},gCe=()=>{var m,y;const t=xt(),[e,r]=_.useState(1),[n,i]=_.useState(10),{data:s,isLoading:a,isError:o,error:l,refetch:c}=bY({page:e,limit:n});_.useEffect(()=>{c()},[]);const u=g=>{t(`/admin/subjects/${g}`)};function d(g,v){return g?g.length>v?`${g.substring(0,v)}...`:g:""}const A=[{Header:"ID",accessor:"id"},{Header:"Title",accessor:"display_title"},{Header:"Description",accessor:"description"},{Header:"Actions",accessor:"actions"}],f=(m=s==null?void 0:s.data)==null?void 0:m.map((g,v)=>{var x;return{...g,id:v+1,description:`${d(g.description,50)}`,title:`${g.title}`,level_title:`${(x=g.level)==null?void 0:x.level}`||"N/A",actions:h.jsx("div",{className:"flex items-center justify-center gap-2",children:h.jsx(Bu,{icon:h.jsx(ea,{size:16}),onClick:()=>u(g.id),tooltip:"Edit Subject",variant:"primary"})})}}),p=(s==null?void 0:s.totalPages)||1;return h.jsx("div",{className:"min-h-screen p-6 bg-white flex flex-col",children:h.jsxs("div",{className:"max-w-7xl mx-auto w-full bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Subjects"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View, edit, and manage all subjects in the system."})]}),h.jsxs(hn,{onClick:()=>t("/admin/subjects/create"),className:"flex items-center gap-2",children:[h.jsx(ea,{}),h.jsx("span",{children:"Add Subject"})]})]})}),h.jsx("div",{className:"p-6",children:a?h.jsxs("div",{className:"flex justify-center items-center",children:[h.jsx(kr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"ml-2 text-gray-600",children:"Loading subjects..."})]}):o?h.jsxs("div",{className:"text-red-500 text-center",children:["Error loading subjects: ",((y=l==null?void 0:l.data)==null?void 0:y.message)||"Unknown error"]}):h.jsx("div",{className:"overflow-x-auto",children:h.jsx(zu,{columns:A,data:f,currentPage:e,totalPages:p,limit:n,onPageChange:r,onLimitChange:g=>{i(g),r(1)},emptyStateMessage:"No subjects found.",className:"w-full min-w-[800px]"})})})]})})},yCe=Oo().shape({title:mt().required("Title is required").min(2,"Title must be at least 2 characters"),display_title:mt().required("Display Title is required").min(2,"Display Title must be at least 2 characters"),description:mt().required("Description is required").min(10,"Description must be at least 10 characters"),level_id:Rg().typeError("Level is required").required("Level is required")}),vCe=()=>{var f;const{register:t,handleSubmit:e,formState:{errors:r,isSubmitting:n},reset:i}=ql({resolver:Wl(yCe)}),{data:s,isLoading:a,isError:o,error:l,refetch:c}=Io();_.useEffect(()=>{c()},[]);const u=xt(),[d]=Xbe(),A=async p=>{var m;try{const y={title:p.title,display_title:p.display_title,description:p.description,level_id:Number(p.level_id)},g=await d(y).unwrap();(g==null?void 0:g.statusCode)===200?(Z.success("Subject created successfully"),i(),u("/admin/subjects")):Z.error((g==null?void 0:g.message)||"Failed to create subject")}catch(y){Z.error(((m=y==null?void 0:y.data)==null?void 0:m.message)||"Failed to create subject")}};return h.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[h.jsxs("h2",{className:"text-2xl font-semibold text-gray-800 flex items-center gap-2",children:[h.jsx(WS,{className:"text-[#6925EF] w-6 h-6"}),"Create New Subject"]}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Add a new subject to the system with detailed information."})]}),h.jsxs("form",{onSubmit:e(A),className:"px-6 py-8",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(rE,{className:"text-[#6925EF] w-4 h-4"}),"Title"]}),h.jsx("input",{type:"text",...t("title"),placeholder:"Enter title",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.title?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.title&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.title.message})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(vb,{className:"text-[#6925EF] w-4 h-4"}),"Display Title"]}),h.jsx("input",{type:"text",...t("display_title"),placeholder:"Enter display title",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.display_title?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.display_title&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.display_title.message})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(WS,{className:"text-[#6925EF] w-4 h-4"}),"Description"]}),h.jsx("textarea",{...t("description"),placeholder:"Enter description",rows:"4",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.description?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.description&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.description.message})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2 mb-1",children:[h.jsx(sE,{className:"text-[#6925EF] w-4 h-4"}),"Level"]}),a?h.jsxs("div",{className:"flex items-center",children:[h.jsx(kr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{children:"Loading levels..."})]}):o?h.jsx("p",{className:"text-red-500 text-sm",children:"Failed to load levels."}):h.jsxs("select",{...t("level_id"),className:`mt-1 block w-full px-4 py-2 bg-white border ${r.level_id?"border-red-500":"border-gray-300"} rounded-lg shadow-sm focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`,children:[h.jsx("option",{value:"",children:"Select a level"}),(f=s==null?void 0:s.data)==null?void 0:f.map(p=>h.jsxs("option",{value:p.id,children:[p.level," "]},p==null?void 0:p.id))]}),r.level_id&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.level_id.message})]})]}),h.jsx("div",{className:"mt-8 flex justify-end",children:h.jsx(hn,{className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50",type:"submit",disabled:n,children:n?h.jsxs(h.Fragment,{children:[h.jsx(kr,{className:"inline animate-spin text-[#6925EF]"}),"Creating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(_1,{className:"w-4 h-4"}),"Create Subject"]})})})]})]})})},xCe=Oo().shape({title:mt().required("Title is required").min(2,"Title must be at least 2 characters"),display_title:mt().required("Display Title is required").min(2,"Display Title must be at least 2 characters"),description:mt().required("Description is required").min(10,"Description must be at least 10 characters"),level_id:Rg().typeError("Level is required").required("Level is required")}),bCe=()=>{var w,C;const{id:t}=ur(),e=xt(),{data:r,isLoading:n,isError:i,error:s,refetch:a}=Io();_.useEffect(()=>{a()},[]);const[o,{data:l,isLoading:c,isError:u,error:d}]=wY();_.useEffect(()=>{o({subject_id:Number(t)})},[]),_.useEffect(()=>{o({subject_id:Number(t)})},[t,o]);const[A,{isLoading:f}]=Ybe(),{register:p,handleSubmit:m,setValue:y,formState:{errors:g}}=ql({resolver:Wl(xCe)}),[v,x]=_.useState(null);_.useEffect(()=>{if(l!=null&&l.data){const S=l.data;x(S),y("title",S.title),y("display_title",S.display_title),y("description",S.description),y("level_id",S==null?void 0:S.level_id)}},[l==null?void 0:l.data,e,y]);const b=async S=>{var B;try{const E={id:Number(t),title:S.title,display_title:S.display_title,description:S.description,level_id:S.level_id},M=await A(E).unwrap();(M==null?void 0:M.statusCode)===200?(Z.success("Subject updated successfully"),refetchSubject()):Z.error((M==null?void 0:M.message)||"Failed to update subject")}catch(E){console.log("error",E),Z.error(((B=E==null?void 0:E.data)==null?void 0:B.message)||"Failed to update subject")}};return c||n||f?h.jsxs("div",{className:"flex justify-center items-center min-h-screen",children:[h.jsx(kr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"ml-2 text-gray-600",children:"Loading subject data..."})]}):u?h.jsxs("div",{className:"text-red-500 text-center mt-10",children:["Error loading subjects: ",((w=d==null?void 0:d.data)==null?void 0:w.message)||"Unknown error"]}):h.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[h.jsxs("h2",{className:" text-2xl font-semibold text-gray-800 flex items-center gap-2",children:[h.jsx(ea,{className:"text-[#6925EF] w-6 h-6"}),"Edit Subject"]}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update the details of the subject."})]}),h.jsxs("form",{onSubmit:m(b),className:"px-6 py-8",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(rE,{className:"text-[#6925EF] w-4 h-4"}),"Title"]}),h.jsx("input",{type:"text",...p("title"),placeholder:"Enter title",className:`mt-1 block w-full px-4 py-2 bg-white border ${g.title?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(vb,{className:"text-[#6925EF] w-4 h-4"}),"Display Title"]}),h.jsx("input",{type:"text",...p("display_title"),placeholder:"Enter display title",className:`mt-1 block w-full px-4 py-2 bg-white border ${g.display_title?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),g.display_title&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.display_title.message})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(WS,{className:"text-[#6925EF] w-4 h-4"}),"Description"]}),h.jsx("textarea",{...p("description"),placeholder:"Enter description",rows:"4",className:`mt-1 block w-full px-4 py-2 bg-white border ${g.description?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),g.description&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.description.message})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2 mb-1",children:[h.jsx(sE,{className:"text-[#6925EF] w-4 h-4"}),"Level"]}),h.jsxs("select",{...p("level_id"),className:`mt-1 block w-full px-4 py-2 bg-white border ${g.level_id?"border-red-500":"border-gray-300"} rounded-lg shadow-sm focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`,children:[h.jsx("option",{value:"",children:"Select a level"}),(C=r==null?void 0:r.data)==null?void 0:C.map(S=>h.jsx("option",{value:S.id,children:S.level},S.id))]}),g.level_id&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.level_id.message})]})]}),h.jsx("div",{className:"mt-8 flex justify-end",children:h.jsx(hn,{className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50",type:"submit",disabled:f,children:f?h.jsxs(h.Fragment,{children:[h.jsx(kr,{className:"animate-spin w-4 h-4 mr-2"}),"Updating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(ff,{className:"w-5 h-5 mr-2"}),"Update Subject"]})})})]})]})})};function wCe(){return h.jsxs("div",{className:"relative w-full mb-8 overflow-hidden rounded-3xl bg-button-gradient p-6 sm:p-8 text-white mr-7",children:[h.jsx("div",{className:"absolute right-0 top-0 h-full w-full sm:w-full",children:h.jsx("div",{className:"relative h-full",children:h.jsx("img",{src:Uw,alt:"Hero Banner Background",className:"object-cover brightness-90 w-full h-full"})})}),h.jsxs("div",{className:"relative z-20 max-w-xl",children:[h.jsxs("h1",{className:"mb-4 text-2xl sm:text-3xl md:text-4xl font-poppins font-medium leading-tight",children:["Empower Your Students,",h.jsx("br",{}),"Track Their Progress."]}),h.jsx("p",{className:"mb-6 text-xs sm:text-sm md:text-[14px] lg:text-base text-white/80",children:"Monitor quiz results, analyze performance, and support your students' learning journey."}),h.jsx("button",{className:"rounded-full px-4 py-3 text-[10px] sm:text-sm md:text-base border-white bg-yellow-400 text-white hover:bg-white hover:text-hoverText",children:"VIEW REPORTS"})]}),h.jsx("div",{className:"absolute bottom-0 right-0 h-40 sm:h-52 md:h-64 w-2/5 z-10",children:h.jsx("img",{src:Eh,alt:"Teacher Image",className:"object-contain w-full h-full"})})]})}const CCe=()=>{var A,f;const[t,e]=_.useState(!1),{data:r,error:n,isLoading:i,refetch:s}=h2e({page:1,limit:1e10});console.log(r);const{data:a,isLoading:o,isError:l,error:c,refetch:u}=_M();_.useEffect(()=>{s(),u()},[]);const d=()=>{e(p=>!p)};return i||o?h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100",children:h.jsx(kr,{className:"inline animate-spin text-[#6925EF]"})}):n||l?h.jsx("div",{className:"flex items-center justify-center h-screen",children:h.jsx("div",{className:"text-center text-red-500",children:h.jsx("p",{children:((A=n==null?void 0:n.data)==null?void 0:A.message)||(c==null?void 0:c.message)||"Error loading data. Please try again."})})}):h.jsxs("div",{className:"flex-1 p-6 bg-gray-50",children:[h.jsx(wCe,{}),h.jsxs("div",{className:"container mx-auto pt-5 pb-0",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between items-center",children:[h.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Bots"}),h.jsx("button",{className:"mt-2 md:mt-0 md:ml-4 text-[#6F38DE] rounded-lg font-medium text-sm px-4 py-2 bg-purple-50 hover:bg-purple-100 transition-colors duration-200",onClick:d,children:t?"View Less":"View All"})]}),h.jsx("div",{className:"flex-1 mt-6",children:t?h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r==null?void 0:r.bots.map(p=>h.jsx(Rr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.02},children:h.jsx(SY,{title:p,image:Tt+"/images/"+(p==null?void 0:p.bot_image_url),href:p==null?void 0:p.id,className:"h-full transition-transform duration-200 hover:shadow-lg"})},p==null?void 0:p.id))}):((f=r==null?void 0:r.bots)==null?void 0:f.length)>0?h.jsx(BM,{bots:r==null?void 0:r.bots}):h.jsx("div",{className:"text-center text-gray-500 mt-8",children:h.jsx("p",{children:"No bots found. Please check back later!"})})})]}),h.jsxs("div",{className:"mt-8",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Activity Stats"})}),h.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:o?h.jsx("p",{className:"text-gray-600",children:"Loading statistics..."}):l?h.jsxs("p",{className:"text-red-500",children:["Error: ",c==null?void 0:c.message]}):h.jsxs(h.Fragment,{children:[h.jsx(nn,{statTitle:"Students",statValue:(a==null?void 0:a.students)||0,icon:to,className:"bg-white shadow-sm hover:shadow-md transition-shadow duration-200"}),h.jsx(nn,{statTitle:"Subjects",statValue:(a==null?void 0:a.subjects)||0,icon:Fm,className:"bg-white shadow-sm hover:shadow-md transition-shadow duration-200"}),h.jsx(nn,{statTitle:"Quizzes",statValue:(a==null?void 0:a.quizzes)||0,icon:Tm,className:"bg-white shadow-sm hover:shadow-md transition-shadow duration-200"})]})})]})]})},SCe=()=>{var f,p,m,y,g,v;const t=xt(),[e,r]=_.useState(1),[n,i]=_.useState(10),{data:s,isLoading:a,error:o,isError:l,refetch:c}=SM({page:e,limit:n});_.useEffect(()=>{c()},[e,n,c]);const u=(s==null?void 0:s.totalPages)||1,d=x=>{r(x)},A=x=>{i(x),r(1)};return h.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("div",{className:"flex justify-between items-center",children:h.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[h.jsx(pA,{className:"text-[#6925EF]"}),"Assigned Subjects"]})})}),h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Display Name"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a?h.jsx("tr",{children:h.jsxs("td",{colSpan:"4",className:"px-6 py-4 text-center",children:[h.jsx(kr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"ml-2 text-gray-600",children:"Loading subjects..."})]})}):l?h.jsx("tr",{children:h.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-red-500",children:(o==null?void 0:o.message)||"Error loading subjects"})}):((m=(p=(f=s==null?void 0:s.data)==null?void 0:f.teacher_profile)==null?void 0:p.subjects)==null?void 0:m.length)===0?h.jsx("tr",{children:h.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-500",children:"No Subjects found"})}):(v=(g=(y=s==null?void 0:s.data)==null?void 0:y.teacher_profile)==null?void 0:g.subjects)==null?void 0:v.map(({id:x,display_title:b,description:w})=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:x}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:b}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w}),h.jsx("td",{className:"px-6 py-4 text-sm",children:h.jsx("button",{onClick:()=>t(`/teacher/subject/${x}`),className:"text-blue-500 hover:text-blue-700 transition-colors",title:"See Details",children:"See Details"})})]},x))})]})})}),h.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200",children:h.jsx(Gl,{currentPage:e,totalPages:u,limit:n,onPageChange:d,onLimitChange:A})})]})})})},BCe=()=>{var d,A,f,p;const t=xt(),{subject_id:e}=ur(),[r,{data:n,isLoading:i,isError:s,error:a}]=wY(),{data:o,isLoading:l,refetch:c}=C3e();_.useEffect(()=>{e&&(r({subject_id:Number(e)}),c())},[]);const u=({title:m,icon:y,data:g})=>h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-8 pb-4 border-b border-gray-100",children:[h.jsx(y,{className:"text-[#6925EF] text-3xl"}),h.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:m})]}),h.jsx("div",{className:"space-y-8",children:h.jsx("div",{className:"grid grid-cols-1 gap-6",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Name"}),h.jsx("p",{className:"text-lg font-semibold text-gray-800",children:g==null?void 0:g.title})]}),h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Display Name"}),h.jsx("p",{className:"text-lg font-semibold text-[#6925EF]",children:g==null?void 0:g.display_title})]})]})})})]});return i||l?h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100",children:h.jsx(kr,{className:"inline animate-spin text-[#6925EF]"})}):h.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6 lg:p-8",children:[s&&h.jsx("div",{children:a.message||"No Suject Found"}),!s&&h.jsx(h.Fragment,{children:h.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[(n==null?void 0:n.data)&&h.jsx(u,{title:"Subject Information",icon:rE,data:n==null?void 0:n.data}),((d=n==null?void 0:n.data)==null?void 0:d.bot)&&h.jsx(u,{title:"Bot Information",icon:Gs,data:{title:(A=n==null?void 0:n.data)==null?void 0:A.bot.name,display_title:(f=n==null?void 0:n.data)==null?void 0:f.bot.display_name}}),(n==null?void 0:n.data)&&h.jsx(h.Fragment,{children:h.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-6 pb-4 border-b border-gray-100",children:[h.jsx(L0e,{className:"text-[#6925EF] text-3xl"}),h.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Students"})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gray-200",children:[h.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-700",children:"Roll No"}),h.jsx("th",{className:"px-6 py-4 text-right text-sm font-medium text-gray-700",children:"Actions"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200 ",children:((p=o==null?void 0:o.data)==null?void 0:p.length)>0?o.data.map(m=>h.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[h.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-700",children:m.user_roll_no}),h.jsxs("td",{className:"px-6 py-4 text-right",children:[" ",h.jsx("button",{onClick:()=>{var y,g;return t(`/teacher/subject/${e}/${m==null?void 0:m.id}/${((g=(y=n==null?void 0:n.data)==null?void 0:y.bot)==null?void 0:g.id)||0}`)},className:"px-4 py-2 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg text-sm font-medium hover:opacity-90 transition-all duration-200 focus:ring-2 focus:ring-offset-2 focus:ring-[#6925EF] focus:outline-none",children:"View History"})]})]},m.user_roll_no)):h.jsx("tr",{children:h.jsx("td",{colSpan:"2",className:"px-6 py-8 text-center text-gray-500 italic bg-gray-50",children:"No students enrolled yet"})})})]})})]})})})]})})]})},_Ce=()=>{var f,p,m;xt();const{data:t,isLoading:e,isError:r,error:n,refetch:i}=CM({}),[s,a]=_.useState(null),[o,l]=_.useState(null);_.useEffect(()=>()=>{s&&(s.pause(),a(null),l(null))},[i]);const c=(y,g)=>{if(!y){Z.error("Sample URL is not available");return}s&&(s.pause(),a(null),l(null));const v=new Audio(y);v.play().then(()=>{a(v),l(g)}).catch(x=>{Z.error("Failed to play the sample"),console.error("Error playing audio:",x)}),v.onended=()=>{l(null)}},u=()=>{s&&(s.pause(),a(null),l(null))},d=[{Header:"Name",accessor:"name"},{Header:"Architecture",accessor:"architecture"},{Header:"Languages",accessor:"languages"},{Header:"Tags",accessor:"tags"},{Header:"Actions",accessor:"actions"}],A=(p=(f=t==null?void 0:t.api)==null?void 0:f.tts)==null?void 0:p.map(y=>({...y,languages:y.languages?y.languages.join(", "):"N/A",tags:y.metadata.tags?y.metadata.tags.join(", "):"N/A",actions:y.metadata.sample?h.jsx("div",{className:"flex items-center gap-2",children:o===y.uuid?h.jsx(Bu,{icon:h.jsx(Wq,{size:16}),onClick:u,tooltip:"Pause Sample",variant:"secondary"}):h.jsx(Bu,{icon:h.jsx(Gq,{size:16}),onClick:()=>c(y.metadata.sample,y.uuid),tooltip:"Play Sample",variant:"primary"})}):"N/A"}));return h.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Voice Models"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all models, including voice models"})]})})}),h.jsx("div",{className:"p-6",children:e?h.jsxs("div",{className:"flex justify-center items-center",children:[h.jsx(kr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"text-gray-600 ml-2",children:"Loading models..."})]}):r?h.jsxs("div",{className:"text-red-500",children:["Error loading models: ",((m=n==null?void 0:n.data)==null?void 0:m.message)||"Unknown error"]}):h.jsx("div",{className:"overflow-x-auto",children:h.jsx(zu,{columns:d,data:A,className:"w-full min-w-[750px]"})})})]})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function U1(t){return t+.5|0}const Kc=(t,e,r)=>Math.max(Math.min(t,r),e);function Kp(t){return Kc(U1(t*2.55),0,255)}function cu(t){return Kc(U1(t*255),0,255)}function ll(t){return Kc(U1(t/2.55)/100,0,1)}function mO(t){return Kc(U1(t*100),0,100)}const Ms={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},$B=[..."0123456789ABCDEF"],kCe=t=>$B[t&15],ECe=t=>$B[(t&240)>>4]+$B[t&15],qy=t=>(t&240)>>4===(t&15),MCe=t=>qy(t.r)&&qy(t.g)&&qy(t.b)&&qy(t.a);function FCe(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&Ms[t[1]]*17,g:255&Ms[t[2]]*17,b:255&Ms[t[3]]*17,a:e===5?Ms[t[4]]*17:255}:(e===7||e===9)&&(r={r:Ms[t[1]]<<4|Ms[t[2]],g:Ms[t[3]]<<4|Ms[t[4]],b:Ms[t[5]]<<4|Ms[t[6]],a:e===9?Ms[t[7]]<<4|Ms[t[8]]:255})),r}const TCe=(t,e)=>t<255?e(t):"";function DCe(t){var e=MCe(t)?kCe:ECe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+TCe(t.a,e):void 0}const LCe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ZJ(t,e,r){const n=e*Math.min(r,1-r),i=(s,a=(s+t/30)%12)=>r-n*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function NCe(t,e,r){const n=(i,s=(i+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function jCe(t,e,r){const n=ZJ(t,1,.5);let i;for(e+r>1&&(i=1/(e+r),e*=i,r*=i),i=0;i<3;i++)n[i]*=1-e-r,n[i]+=e;return n}function ICe(t,e,r,n,i){return t===i?(e-r)/n+(e<r?6:0):e===i?(r-t)/n+2:(t-e)/n+4}function eF(t){const r=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(r,n,i),a=Math.min(r,n,i),o=(s+a)/2;let l,c,u;return s!==a&&(u=s-a,c=o>.5?u/(2-s-a):u/(s+a),l=ICe(r,n,i,u,s),l=l*60+.5),[l|0,c||0,o]}function tF(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(cu)}function rF(t,e,r){return tF(ZJ,t,e,r)}function OCe(t,e,r){return tF(jCe,t,e,r)}function PCe(t,e,r){return tF(NCe,t,e,r)}function eZ(t){return(t%360+360)%360}function UCe(t){const e=LCe.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?Kp(+e[5]):cu(+e[5]));const i=eZ(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=OCe(i,s,a):e[1]==="hsv"?n=PCe(i,s,a):n=rF(i,s,a),{r:n[0],g:n[1],b:n[2],a:r}}function QCe(t,e){var r=eF(t);r[0]=eZ(r[0]+e),r=rF(r),t.r=r[0],t.g=r[1],t.b=r[2]}function RCe(t){if(!t)return;const e=eF(t),r=e[0],n=mO(e[1]),i=mO(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${i}%, ${ll(t.a)})`:`hsl(${r}, ${n}%, ${i}%)`}const gO={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},yO={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function HCe(){const t={},e=Object.keys(yO),r=Object.keys(gO);let n,i,s,a,o;for(n=0;n<e.length;n++){for(a=o=e[n],i=0;i<r.length;i++)s=r[i],o=o.replace(s,gO[s]);s=parseInt(yO[a],16),t[o]=[s>>16&255,s>>8&255,s&255]}return t}let Wy;function zCe(t){Wy||(Wy=HCe(),Wy.transparent=[0,0,0,0]);const e=Wy[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const $Ce=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function VCe(t){const e=$Ce.exec(t);let r=255,n,i,s;if(e){if(e[7]!==n){const a=+e[7];r=e[8]?Kp(a):Kc(a*255,0,255)}return n=+e[1],i=+e[3],s=+e[5],n=255&(e[2]?Kp(n):Kc(n,0,255)),i=255&(e[4]?Kp(i):Kc(i,0,255)),s=255&(e[6]?Kp(s):Kc(s,0,255)),{r:n,g:i,b:s,a:r}}}function KCe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ll(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const O8=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Gh=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function qCe(t,e,r){const n=Gh(ll(t.r)),i=Gh(ll(t.g)),s=Gh(ll(t.b));return{r:cu(O8(n+r*(Gh(ll(e.r))-n))),g:cu(O8(i+r*(Gh(ll(e.g))-i))),b:cu(O8(s+r*(Gh(ll(e.b))-s))),a:t.a+r*(e.a-t.a)}}function Gy(t,e,r){if(t){let n=eF(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=rF(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function tZ(t,e){return t&&Object.assign(e||{},t)}function vO(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=cu(t[3]))):(e=tZ(t,{r:0,g:0,b:0,a:1}),e.a=cu(e.a)),e}function WCe(t){return t.charAt(0)==="r"?VCe(t):UCe(t)}class Hg{constructor(e){if(e instanceof Hg)return e;const r=typeof e;let n;r==="object"?n=vO(e):r==="string"&&(n=FCe(e)||zCe(e)||WCe(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=tZ(this._rgb);return e&&(e.a=ll(e.a)),e}set rgb(e){this._rgb=vO(e)}rgbString(){return this._valid?KCe(this._rgb):void 0}hexString(){return this._valid?DCe(this._rgb):void 0}hslString(){return this._valid?RCe(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,i=e.rgb;let s;const a=r===s?.5:r,o=2*a-1,l=n.a-i.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-c,n.r=255&c*n.r+s*i.r+.5,n.g=255&c*n.g+s*i.g+.5,n.b=255&c*n.b+s*i.b+.5,n.a=a*n.a+(1-a)*i.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=qCe(this._rgb,e._rgb,r)),this}clone(){return new Hg(this.rgb)}alpha(e){return this._rgb.a=cu(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=U1(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Gy(this._rgb,2,e),this}darken(e){return Gy(this._rgb,2,-e),this}saturate(e){return Gy(this._rgb,1,e),this}desaturate(e){return Gy(this._rgb,1,-e),this}rotate(e){return QCe(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Vo(){}const GCe=(()=>{let t=0;return()=>t++})();function yt(t){return t==null}function pr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function wt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Dr(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function as(t,e){return Dr(t)?t:e}function ut(t,e){return typeof t>"u"?e:t}const XCe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,rZ=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function er(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function Vt(t,e,r,n){let i,s,a;if(pr(t))for(s=t.length,i=0;i<s;i++)e.call(r,t[i],i);else if(wt(t))for(a=Object.keys(t),s=a.length,i=0;i<s;i++)e.call(r,t[a[i]],a[i])}function Gb(t,e){let r,n,i,s;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(i=t[r],s=e[r],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Xb(t){if(pr(t))return t.map(Xb);if(wt(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let i=0;for(;i<n;++i)e[r[i]]=Xb(t[r[i]]);return e}return t}function nZ(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function YCe(t,e,r,n){if(!nZ(t))return;const i=e[t],s=r[t];wt(i)&&wt(s)?zg(i,s,n):e[t]=Xb(s)}function zg(t,e,r){const n=pr(e)?e:[e],i=n.length;if(!wt(t))return t;r=r||{};const s=r.merger||YCe;let a;for(let o=0;o<i;++o){if(a=n[o],!wt(a))continue;const l=Object.keys(a);for(let c=0,u=l.length;c<u;++c)s(l[c],t,a,r)}return t}function Nm(t,e){return zg(t,e,{merger:JCe})}function JCe(t,e,r){if(!nZ(t))return;const n=e[t],i=r[t];wt(n)&&wt(i)?Nm(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Xb(i))}const xO={"":t=>t,x:t=>t.x,y:t=>t.y};function ZCe(t){const e=t.split("."),r=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function eSe(t){const e=ZCe(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function _u(t,e){return(xO[e]||(xO[e]=eSe(e)))(t)}function nF(t){return t.charAt(0).toUpperCase()+t.slice(1)}const $g=t=>typeof t<"u",ku=t=>typeof t=="function",bO=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function tSe(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const cr=Math.PI,or=2*cr,rSe=or+cr,Yb=Number.POSITIVE_INFINITY,nSe=cr/180,zr=cr/2,Zu=cr/4,wO=cr*2/3,qc=Math.log10,_o=Math.sign;function jm(t,e,r){return Math.abs(t-e)<r}function CO(t){const e=Math.round(t);t=jm(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(qc(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function iSe(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((i,s)=>i-s).pop(),e}function sSe(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function qA(t){return!sSe(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function aSe(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function iZ(t,e,r){let n,i,s;for(n=0,i=t.length;n<i;n++)s=t[n][r],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Ba(t){return t*(cr/180)}function iF(t){return t*(180/cr)}function SO(t){if(!Dr(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function sZ(t,e){const r=e.x-t.x,n=e.y-t.y,i=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*cr&&(s+=or),{angle:s,distance:i}}function VB(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function oSe(t,e){return(t-e+rSe)%or-cr}function us(t){return(t%or+or)%or}function Vg(t,e,r,n){const i=us(t),s=us(e),a=us(r),o=us(s-i),l=us(a-i),c=us(i-s),u=us(i-a);return i===s||i===a||n&&s===a||o>l&&c<u}function yn(t,e,r){return Math.max(e,Math.min(r,t))}function lSe(t){return yn(t,-32768,32767)}function pl(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function sF(t,e,r){r=r||(a=>t[a]<e);let n=t.length-1,i=0,s;for(;n-i>1;)s=i+n>>1,r(s)?i=s:n=s;return{lo:i,hi:n}}const ml=(t,e,r,n)=>sF(t,r,n?i=>{const s=t[i][e];return s<r||s===r&&t[i+1][e]===r}:i=>t[i][e]<r),cSe=(t,e,r)=>sF(t,r,n=>t[n][e]>=r);function uSe(t,e,r){let n=0,i=t.length;for(;n<i&&t[n]<e;)n++;for(;i>n&&t[i-1]>r;)i--;return n>0||i<t.length?t.slice(n,i):t}const aZ=["push","pop","shift","splice","unshift"];function dSe(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),aZ.forEach(r=>{const n="_onData"+nF(r),i=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return t._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...s)}),a}})})}function BO(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(aZ.forEach(s=>{delete t[s]}),delete t._chartjs)}function oZ(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const lZ=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function cZ(t,e){let r=[],n=!1;return function(...i){r=i,n||(n=!0,lZ.call(window,()=>{n=!1,t.apply(e,r)}))}}function hSe(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const aF=t=>t==="start"?"left":t==="end"?"right":"center",Vn=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,ASe=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function uZ(t,e,r){const n=e.length;let i=0,s=n;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=a.axis,{min:d,max:A,minDefined:f,maxDefined:p}=a.getUserBounds();if(f){if(i=Math.min(ml(l,u,d).lo,r?n:ml(e,u,a.getPixelForValue(d)).lo),c){const m=l.slice(0,i+1).reverse().findIndex(y=>!yt(y[o.axis]));i-=Math.max(0,m)}i=yn(i,0,n-1)}if(p){let m=Math.max(ml(l,a.axis,A,!0).hi+1,r?0:ml(e,u,a.getPixelForValue(A),!0).hi+1);if(c){const y=l.slice(m-1).findIndex(g=>!yt(g[o.axis]));m+=Math.max(0,y)}s=yn(m,i,n)-i}else s=n-i}return{start:i,count:s}}function dZ(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,i={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=i,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,i),s}const Xy=t=>t===0||t===1,_O=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*or/r)),kO=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*or/r)+1,Im={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*zr)+1,easeOutSine:t=>Math.sin(t*zr),easeInOutSine:t=>-.5*(Math.cos(cr*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Xy(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Xy(t)?t:_O(t,.075,.3),easeOutElastic:t=>Xy(t)?t:kO(t,.075,.3),easeInOutElastic(t){return Xy(t)?t:t<.5?.5*_O(t*2,.1125,.45):.5+.5*kO(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Im.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Im.easeInBounce(t*2)*.5:Im.easeOutBounce(t*2-1)*.5+.5};function oF(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function EO(t){return oF(t)?t:new Hg(t)}function P8(t){return oF(t)?t:new Hg(t).saturate(.5).darken(.1).hexString()}const fSe=["x","y","borderWidth","radius","tension"],pSe=["color","borderColor","backgroundColor"];function mSe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:pSe},numbers:{type:"number",properties:fSe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function gSe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const MO=new Map;function ySe(t,e){e=e||{};const r=t+JSON.stringify(e);let n=MO.get(r);return n||(n=new Intl.NumberFormat(t,e),MO.set(r,n)),n}function Q1(t,e,r){return ySe(e,r).format(t)}const hZ={values(t){return pr(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let i,s=t;if(r.length>1){const c=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=vSe(t,r)}const a=qc(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Q1(t,n,l)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(qc(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?hZ.numeric.call(this,t,e,r):""}};function vSe(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var a5={formatters:hZ};function xSe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:a5.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const xh=Object.create(null),KB=Object.create(null);function Om(t,e){if(!e)return t;const r=e.split(".");for(let n=0,i=r.length;n<i;++n){const s=r[n];t=t[s]||(t[s]=Object.create(null))}return t}function U8(t,e,r){return typeof e=="string"?zg(Om(t,e),r):zg(Om(t,""),e)}class bSe{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>P8(i.backgroundColor),this.hoverBorderColor=(n,i)=>P8(i.borderColor),this.hoverColor=(n,i)=>P8(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return U8(this,e,r)}get(e){return Om(this,e)}describe(e,r){return U8(KB,e,r)}override(e,r){return U8(xh,e,r)}route(e,r,n,i){const s=Om(this,e),a=Om(this,n),o="_"+r;Object.defineProperties(s,{[o]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[o],c=a[i];return wt(l)?Object.assign({},c,l):ut(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(r=>r(this))}}var mr=new bSe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[mSe,gSe,xSe]);function wSe(t){return!t||yt(t.size)||yt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Jb(t,e,r,n,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,r.push(i)),s>n&&(n=s),n}function CSe(t,e,r,n){n=n||{};let i=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},s=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let a=0;const o=r.length;let l,c,u,d,A;for(l=0;l<o;l++)if(d=r[l],d!=null&&!pr(d))a=Jb(t,i,s,a,d);else if(pr(d))for(c=0,u=d.length;c<u;c++)A=d[c],A!=null&&!pr(A)&&(a=Jb(t,i,s,a,A));t.restore();const f=s.length/2;if(f>r.length){for(l=0;l<f;l++)delete i[s[l]];s.splice(0,f)}return a}function ed(t,e,r){const n=t.currentDevicePixelRatio,i=r!==0?Math.max(r/2,.5):0;return Math.round((e-i)*n)/n+i}function FO(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function qB(t,e,r,n){AZ(t,e,r,n,null)}function AZ(t,e,r,n,i){let s,a,o,l,c,u,d,A;const f=e.pointStyle,p=e.rotation,m=e.radius;let y=(p||0)*nSe;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(y),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),f){default:i?t.ellipse(r,n,i/2,m,0,0,or):t.arc(r,n,m,0,or),t.closePath();break;case"triangle":u=i?i/2:m,t.moveTo(r+Math.sin(y)*u,n-Math.cos(y)*m),y+=wO,t.lineTo(r+Math.sin(y)*u,n-Math.cos(y)*m),y+=wO,t.lineTo(r+Math.sin(y)*u,n-Math.cos(y)*m),t.closePath();break;case"rectRounded":c=m*.516,l=m-c,a=Math.cos(y+Zu)*l,d=Math.cos(y+Zu)*(i?i/2-c:l),o=Math.sin(y+Zu)*l,A=Math.sin(y+Zu)*(i?i/2-c:l),t.arc(r-d,n-o,c,y-cr,y-zr),t.arc(r+A,n-a,c,y-zr,y),t.arc(r+d,n+o,c,y,y+zr),t.arc(r-A,n+a,c,y+zr,y+cr),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,u=i?i/2:l,t.rect(r-u,n-l,2*u,2*l);break}y+=Zu;case"rectRot":d=Math.cos(y)*(i?i/2:m),a=Math.cos(y)*m,o=Math.sin(y)*m,A=Math.sin(y)*(i?i/2:m),t.moveTo(r-d,n-o),t.lineTo(r+A,n-a),t.lineTo(r+d,n+o),t.lineTo(r-A,n+a),t.closePath();break;case"crossRot":y+=Zu;case"cross":d=Math.cos(y)*(i?i/2:m),a=Math.cos(y)*m,o=Math.sin(y)*m,A=Math.sin(y)*(i?i/2:m),t.moveTo(r-d,n-o),t.lineTo(r+d,n+o),t.moveTo(r+A,n-a),t.lineTo(r-A,n+a);break;case"star":d=Math.cos(y)*(i?i/2:m),a=Math.cos(y)*m,o=Math.sin(y)*m,A=Math.sin(y)*(i?i/2:m),t.moveTo(r-d,n-o),t.lineTo(r+d,n+o),t.moveTo(r+A,n-a),t.lineTo(r-A,n+a),y+=Zu,d=Math.cos(y)*(i?i/2:m),a=Math.cos(y)*m,o=Math.sin(y)*m,A=Math.sin(y)*(i?i/2:m),t.moveTo(r-d,n-o),t.lineTo(r+d,n+o),t.moveTo(r+A,n-a),t.lineTo(r-A,n+a);break;case"line":a=i?i/2:Math.cos(y)*m,o=Math.sin(y)*m,t.moveTo(r-a,n-o),t.lineTo(r+a,n+o);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(y)*(i?i/2:m),n+Math.sin(y)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function gl(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function o5(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function l5(t){t.restore()}function SSe(t,e,r,n,i){if(!e)return t.lineTo(r.x,r.y);if(i==="middle"){const s=(e.x+r.x)/2;t.lineTo(s,e.y),t.lineTo(s,r.y)}else i==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function BSe(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function _Se(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),yt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function kSe(t,e,r,n,i){if(i.strikethrough||i.underline){const s=t.measureText(n),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=r-s.actualBoundingBoxAscent,c=r+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,u),t.lineTo(o,u),t.stroke()}}function ESe(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function bh(t,e,r,n,i,s={}){const a=pr(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,_Se(t,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&ESe(t,s.backdrop),o&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),yt(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,r,n,s.maxWidth)),t.fillText(c,r,n,s.maxWidth),kSe(t,r,n,c,s),n+=Number(i.lineHeight);t.restore()}function Kg(t,e){const{x:r,y:n,w:i,h:s,radius:a}=e;t.arc(r+a.topLeft,n+a.topLeft,a.topLeft,1.5*cr,cr,!0),t.lineTo(r,n+s-a.bottomLeft),t.arc(r+a.bottomLeft,n+s-a.bottomLeft,a.bottomLeft,cr,zr,!0),t.lineTo(r+i-a.bottomRight,n+s),t.arc(r+i-a.bottomRight,n+s-a.bottomRight,a.bottomRight,zr,0,!0),t.lineTo(r+i,n+a.topRight),t.arc(r+i-a.topRight,n+a.topRight,a.topRight,0,-zr,!0),t.lineTo(r+a.topLeft,n)}const MSe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FSe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function TSe(t,e){const r=(""+t).match(MSe);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const DSe=t=>+t||0;function lF(t,e){const r={},n=wt(e),i=n?Object.keys(e):e,s=wt(t)?n?a=>ut(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)r[a]=DSe(s(a));return r}function fZ(t){return lF(t,{top:"y",right:"x",bottom:"y",left:"x"})}function eh(t){return lF(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ri(t){const e=fZ(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function cn(t,e){t=t||{},e=e||mr.font;let r=ut(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=ut(t.style,e.style);n&&!(""+n).match(FSe)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:ut(t.family,e.family),lineHeight:TSe(ut(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:ut(t.weight,e.weight),string:""};return i.string=wSe(i),i}function qp(t,e,r,n){let i,s,a;for(i=0,s=t.length;i<s;++i)if(a=t[i],a!==void 0&&a!==void 0)return a}function LSe(t,e,r){const{min:n,max:i}=t,s=rZ(e,(i-n)/2),a=(o,l)=>r&&o===0?0:o+l;return{min:a(n,-Math.abs(s)),max:a(i,s)}}function $u(t,e){return Object.assign(Object.create(t),e)}function cF(t,e=[""],r,n,i=()=>t[0]){const s=r||t;typeof n>"u"&&(n=yZ("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:i,override:o=>cF([o,...t],e,s,n)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return mZ(o,l,()=>RSe(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return DO(o).includes(l)},ownKeys(o){return DO(o)},set(o,l,c){const u=o._storage||(o._storage=i());return o[l]=u[l]=c,delete o._keys,!0}})}function WA(t,e,r,n){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:pZ(t,n),setContext:s=>WA(t,s,r,n),override:s=>WA(t.override(s),e,r,n)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,o){return mZ(s,a,()=>jSe(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,o){return t[a]=o,delete s[a],!0}})}function pZ(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:r,indexable:n,isScriptable:ku(r)?r:()=>r,isIndexable:ku(n)?n:()=>n}}const NSe=(t,e)=>t?t+nF(e):e,uF=(t,e)=>wt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function mZ(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function jSe(t,e,r){const{_proxy:n,_context:i,_subProxy:s,_descriptors:a}=t;let o=n[e];return ku(o)&&a.isScriptable(e)&&(o=ISe(e,o,t,r)),pr(o)&&o.length&&(o=OSe(e,o,t,a.isIndexable)),uF(e,o)&&(o=WA(o,i,s&&s[e],a)),o}function ISe(t,e,r,n){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=r;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(s,a||n);return o.delete(t),uF(t,l)&&(l=dF(i._scopes,i,t,l)),l}function OSe(t,e,r,n){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=r;if(typeof s.index<"u"&&n(t))return e[s.index%e.length];if(wt(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=dF(c,i,t,u);e.push(WA(d,s,a&&a[t],o))}}return e}function gZ(t,e,r){return ku(t)?t(e,r):t}const PSe=(t,e)=>t===!0?e:typeof t=="string"?_u(e,t):void 0;function USe(t,e,r,n,i){for(const s of e){const a=PSe(r,s);if(a){t.add(a);const o=gZ(a._fallback,r,i);if(typeof o<"u"&&o!==r&&o!==n)return o}else if(a===!1&&typeof n<"u"&&r!==n)return null}return!1}function dF(t,e,r,n){const i=e._rootScopes,s=gZ(e._fallback,r,n),a=[...t,...i],o=new Set;o.add(n);let l=TO(o,a,r,s||r,n);return l===null||typeof s<"u"&&s!==r&&(l=TO(o,a,s,l,n),l===null)?!1:cF(Array.from(o),[""],i,s,()=>QSe(e,r,n))}function TO(t,e,r,n,i){for(;r;)r=USe(t,e,r,n,i);return r}function QSe(t,e,r){const n=t._getTarget();e in n||(n[e]={});const i=n[e];return pr(i)&&wt(r)?r:i||{}}function RSe(t,e,r,n){let i;for(const s of e)if(i=yZ(NSe(s,t),r),typeof i<"u")return uF(t,i)?dF(r,n,t,i):i}function yZ(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function DO(t){let e=t._keys;return e||(e=t._keys=HSe(t._scopes)),e}function HSe(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}function vZ(t,e,r,n){const{iScale:i}=t,{key:s="r"}=this._parsing,a=new Array(n);let o,l,c,u;for(o=0,l=n;o<l;++o)c=o+r,u=e[c],a[o]={r:i.parse(_u(u,s),c)};return a}const zSe=Number.EPSILON||1e-14,GA=(t,e)=>e<t.length&&!t[e].skip&&t[e],xZ=t=>t==="x"?"y":"x";function $Se(t,e,r,n){const i=t.skip?e:t,s=e,a=r.skip?e:r,o=VB(s,i),l=VB(a,s);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=n*c,A=n*u;return{previous:{x:s.x-d*(a.x-i.x),y:s.y-d*(a.y-i.y)},next:{x:s.x+A*(a.x-i.x),y:s.y+A*(a.y-i.y)}}}function VSe(t,e,r){const n=t.length;let i,s,a,o,l,c=GA(t,0);for(let u=0;u<n-1;++u)if(l=c,c=GA(t,u+1),!(!l||!c)){if(jm(e[u],0,zSe)){r[u]=r[u+1]=0;continue}i=r[u]/e[u],s=r[u+1]/e[u],o=Math.pow(i,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),r[u]=i*a*e[u],r[u+1]=s*a*e[u])}}function KSe(t,e,r="x"){const n=xZ(r),i=t.length;let s,a,o,l=GA(t,0);for(let c=0;c<i;++c){if(a=o,o=l,l=GA(t,c+1),!o)continue;const u=o[r],d=o[n];a&&(s=(u-a[r])/3,o[`cp1${r}`]=u-s,o[`cp1${n}`]=d-s*e[c]),l&&(s=(l[r]-u)/3,o[`cp2${r}`]=u+s,o[`cp2${n}`]=d+s*e[c])}}function qSe(t,e="x"){const r=xZ(e),n=t.length,i=Array(n).fill(0),s=Array(n);let a,o,l,c=GA(t,0);for(a=0;a<n;++a)if(o=l,l=c,c=GA(t,a+1),!!l){if(c){const u=c[e]-l[e];i[a]=u!==0?(c[r]-l[r])/u:0}s[a]=o?c?_o(i[a-1])!==_o(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}VSe(t,i,s),KSe(t,s,e)}function Yy(t,e,r){return Math.max(Math.min(t,r),e)}function WSe(t,e){let r,n,i,s,a,o=gl(t[0],e);for(r=0,n=t.length;r<n;++r)a=s,s=o,o=r<n-1&&gl(t[r+1],e),s&&(i=t[r],a&&(i.cp1x=Yy(i.cp1x,e.left,e.right),i.cp1y=Yy(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=Yy(i.cp2x,e.left,e.right),i.cp2y=Yy(i.cp2y,e.top,e.bottom)))}function GSe(t,e,r,n,i){let s,a,o,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")qSe(t,i);else{let c=n?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)o=t[s],l=$Se(c,o,t[Math.min(s+1,a-(n?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&WSe(t,r)}function hF(){return typeof window<"u"&&typeof document<"u"}function AF(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Zb(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const c5=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function XSe(t,e){return c5(t).getPropertyValue(e)}const YSe=["top","right","bottom","left"];function th(t,e,r){const n={};r=r?"-"+r:"";for(let i=0;i<4;i++){const s=YSe[i];n[s]=parseFloat(t[e+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const JSe=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function ZSe(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:i,offsetY:s}=n;let a=!1,o,l;if(JSe(i,s,t.target))o=i,l=s;else{const c=e.getBoundingClientRect();o=n.clientX-c.left,l=n.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function Cd(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,i=c5(r),s=i.boxSizing==="border-box",a=th(i,"padding"),o=th(i,"border","width"),{x:l,y:c,box:u}=ZSe(t,r),d=a.left+(u&&o.left),A=a.top+(u&&o.top);let{width:f,height:p}=e;return s&&(f-=a.width+o.width,p-=a.height+o.height),{x:Math.round((l-d)/f*r.width/n),y:Math.round((c-A)/p*r.height/n)}}function eBe(t,e,r){let n,i;if(e===void 0||r===void 0){const s=t&&AF(t);if(!s)e=t.clientWidth,r=t.clientHeight;else{const a=s.getBoundingClientRect(),o=c5(s),l=th(o,"border","width"),c=th(o,"padding");e=a.width-c.width-l.width,r=a.height-c.height-l.height,n=Zb(o.maxWidth,s,"clientWidth"),i=Zb(o.maxHeight,s,"clientHeight")}}return{width:e,height:r,maxWidth:n||Yb,maxHeight:i||Yb}}const Jy=t=>Math.round(t*10)/10;function tBe(t,e,r,n){const i=c5(t),s=th(i,"margin"),a=Zb(i.maxWidth,t,"clientWidth")||Yb,o=Zb(i.maxHeight,t,"clientHeight")||Yb,l=eBe(t,e,r);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const A=th(i,"border","width"),f=th(i,"padding");c-=f.width+A.width,u-=f.height+A.height}return c=Math.max(0,c-s.width),u=Math.max(0,n?c/n:u-s.height),c=Jy(Math.min(c,a,l.maxWidth)),u=Jy(Math.min(u,o,l.maxHeight)),c&&!u&&(u=Jy(c/2)),(e!==void 0||r!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=Jy(Math.floor(u*n))),{width:c,height:u}}function LO(t,e,r){const n=e||1,i=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(r||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||a.height!==i||a.width!==s?(t.currentDevicePixelRatio=n,a.height=i,a.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const rBe=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};hF()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function NO(t,e){const r=XSe(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Sd(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function nBe(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function iBe(t,e,r,n){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=Sd(t,i,r),o=Sd(i,s,r),l=Sd(s,e,r),c=Sd(a,o,r),u=Sd(o,l,r);return Sd(c,u,r)}const sBe=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},aBe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function xA(t,e,r){return t?sBe(e,r):aBe()}function bZ(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function wZ(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function CZ(t){return t==="angle"?{between:Vg,compare:oSe,normalize:us}:{between:pl,compare:(e,r)=>e-r,normalize:e=>e}}function jO({start:t,end:e,count:r,loop:n,style:i}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:i}}function oBe(t,e,r){const{property:n,start:i,end:s}=r,{between:a,normalize:o}=CZ(n),l=e.length;let{start:c,end:u,loop:d}=t,A,f;if(d){for(c+=l,u+=l,A=0,f=l;A<f&&a(o(e[c%l][n]),i,s);++A)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function SZ(t,e,r){if(!r)return[t];const{property:n,start:i,end:s}=r,a=e.length,{compare:o,between:l,normalize:c}=CZ(n),{start:u,end:d,loop:A,style:f}=oBe(t,e,r),p=[];let m=!1,y=null,g,v,x;const b=()=>l(i,x,g)&&o(i,x)!==0,w=()=>o(s,g)===0||l(s,x,g),C=()=>m||b(),S=()=>!m||w();for(let B=u,E=u;B<=d;++B)v=e[B%a],!v.skip&&(g=c(v[n]),g!==x&&(m=l(g,i,s),y===null&&C()&&(y=o(g,i)===0?B:E),y!==null&&S()&&(p.push(jO({start:y,end:B,loop:A,count:a,style:f})),y=null),E=B,x=g));return y!==null&&p.push(jO({start:y,end:d,loop:A,count:a,style:f})),p}function BZ(t,e){const r=[],n=t.segments;for(let i=0;i<n.length;i++){const s=SZ(n[i],t.points,e);s.length&&r.push(...s)}return r}function lBe(t,e,r,n){let i=0,s=e-1;if(r&&!n)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,r&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function cBe(t,e,r,n){const i=t.length,s=[];let a=e,o=t[e],l;for(l=e+1;l<=r;++l){const c=t[l%i];c.skip||c.stop?o.skip||(n=!1,s.push({start:e%i,end:(l-1)%i,loop:n}),e=a=c.stop?l:null):(a=l,o.skip&&(e=l)),o=c}return a!==null&&s.push({start:e%i,end:a%i,loop:n}),s}function uBe(t,e){const r=t.points,n=t.options.spanGaps,i=r.length;if(!i)return[];const s=!!t._loop,{start:a,end:o}=lBe(r,i,s,n);if(n===!0)return IO(t,[{start:a,end:o,loop:s}],r,e);const l=o<a?o+i:o,c=!!t._fullLoop&&a===0&&o===i-1;return IO(t,cBe(r,a,l,c),r,e)}function IO(t,e,r,n){return!n||!n.setContext||!r?e:dBe(t,e,r,n)}function dBe(t,e,r,n){const i=t._chart.getContext(),s=OO(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=r.length,c=[];let u=s,d=e[0].start,A=d;function f(p,m,y,g){const v=o?-1:1;if(p!==m){for(p+=l;r[p%l].skip;)p-=v;for(;r[m%l].skip;)m+=v;p%l!==m%l&&(c.push({start:p%l,end:m%l,loop:y,style:g}),u=g,d=m%l)}}for(const p of e){d=o?d:p.start;let m=r[d%l],y;for(A=d+1;A<=p.end;A++){const g=r[A%l];y=OO(n.setContext($u(i,{type:"segment",p0:m,p1:g,p0DataIndex:(A-1)%l,p1DataIndex:A%l,datasetIndex:a}))),hBe(y,u)&&f(d,A-1,p.loop,u),m=g,u=y}d<A-1&&f(d,A-1,p.loop,u)}return c}function OO(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function hBe(t,e){if(!e)return!1;const r=[],n=function(i,s){return oF(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(t,n)!==JSON.stringify(e,n)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class ABe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,i){const s=r.listeners[i],a=r.duration;s.forEach(o=>o({chart:e,initial:r.initial,numSteps:a,currentStep:Math.min(n-r.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=lZ.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const s=n.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,n,e,"progress")),s.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),r+=s.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Jo=new ABe;const PO="transparent",fBe={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=EO(t||PO),i=n.valid&&EO(e||PO);return i&&i.valid?i.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class pBe{constructor(e,r,n,i){const s=r[n];i=qp([e.to,i,s,e.from]);const a=qp([e.from,s,i]);this._active=!0,this._fn=e.fn||fBe[e.type||typeof a],this._easing=Im[e.easing]||Im.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const i=this._target[this._prop],s=n-this._start,a=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=qp([e.to,r,i,e.from]),this._from=qp([e.from,i,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||r<n),!this._active){this._target[i]=o,this._notify(!0);return}if(r<0){this._target[i]=s;return}l=r/n%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][r]()}}class _Z{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!wt(e))return;const r=Object.keys(mr.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!wt(s))return;const a={};for(const o of r)a[o]=s[o];(pr(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!n.has(o))&&n.set(o,a)})})}_animateOptions(e,r){const n=r.options,i=gBe(e,n);if(!i)return[];const s=this._createAnimations(i,n);return n.$shared&&mBe(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,r){const n=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(r),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,r));continue}const u=r[c];let d=s[c];const A=n.get(c);if(d)if(A&&d.active()){d.update(A,u,o);continue}else d.cancel();if(!A||!A.duration){e[c]=u;continue}s[c]=d=new pBe(A,e,c,u),i.push(d)}return i}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return Jo.add(this._chart,n),!0}}function mBe(t,e){const r=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const s=t[n[i]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function gBe(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function UO(t,e){const r=t&&t.options||{},n=r.reverse,i=r.min===void 0?e:0,s=r.max===void 0?e:0;return{start:n?s:i,end:n?i:s}}function yBe(t,e,r){if(r===!1)return!1;const n=UO(t,r),i=UO(e,r);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function vBe(t){let e,r,n,i;return wt(t)?(e=t.top,r=t.right,n=t.bottom,i=t.left):e=r=n=i=t,{top:e,right:r,bottom:n,left:i,disabled:t===!1}}function kZ(t,e){const r=[],n=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=n.length;i<s;++i)r.push(n[i].index);return r}function QO(t,e,r,n={}){const i=t.keys,s=n.mode==="single";let a,o,l,c;if(e===null)return;let u=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===r){if(u=!0,n.all)continue;break}c=t.values[l],Dr(c)&&(s||e===0||_o(e)===_o(c))&&(e+=c)}return!u&&!n.all?0:e}function xBe(t,e){const{iScale:r,vScale:n}=e,i=r.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[i]:u,[s]:t[u]};return o}function Q8(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function bBe(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function wBe(t){const{min:e,max:r,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?r:Number.POSITIVE_INFINITY}}function CBe(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function RO(t,e,r,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const s=t[i.index];if(r&&s>0||!r&&s<0)return i.index}return null}function HO(t,e){const{chart:r,_cachedMeta:n}=t,i=r._stacks||(r._stacks={}),{iScale:s,vScale:a,index:o}=n,l=s.axis,c=a.axis,u=bBe(s,a,n),d=e.length;let A;for(let f=0;f<d;++f){const p=e[f],{[l]:m,[c]:y}=p,g=p._stacks||(p._stacks={});A=g[c]=CBe(i,u,m),A[o]=y,A._top=RO(A,a,!0,n.type),A._bottom=RO(A,a,!1,n.type);const v=A._visualValues||(A._visualValues={});v[o]=y}}function R8(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function SBe(t,e){return $u(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function BBe(t,e,r){return $u(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function ep(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r],s[n]._visualValues!==void 0&&s[n]._visualValues[r]!==void 0&&delete s[n]._visualValues[r]}}}const H8=t=>t==="reset"||t==="none",zO=(t,e)=>e?t:Object.assign({},t),_Be=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:kZ(r,!0),values:null};class Ta{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Q8(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ep(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),i=(d,A,f,p)=>d==="x"?A:d==="r"?p:f,s=r.xAxisID=ut(n.xAxisID,R8(e,"x")),a=r.yAxisID=ut(n.yAxisID,R8(e,"y")),o=r.rAxisID=ut(n.rAxisID,R8(e,"r")),l=r.indexAxis,c=r.iAxisID=i(l,s,a,o),u=r.vAxisID=i(l,a,s,o);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(o),r.iScale=this.getScaleForId(c),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&BO(this._data,this),e._stacked&&ep(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(wt(r)){const i=this._cachedMeta;this._data=xBe(r,i)}else if(n!==r){if(n){BO(n,this);const i=this._cachedMeta;ep(i),i._parsed=[]}r&&Object.isExtensible(r)&&dSe(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const s=r._stacked;r._stacked=Q8(r.vScale,r),r.stack!==n.stack&&(i=!0,ep(r),r.stack=n.stack),this._resyncElements(e),(i||s!==r._stacked)&&(HO(this,r._parsed),r._stacked=Q8(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:i}=this,{iScale:s,_stacked:a}=n,o=s.axis;let l=e===0&&r===i.length?!0:n._sorted,c=e>0&&n._parsed[e-1],u,d,A;if(this._parsing===!1)n._parsed=i,n._sorted=!0,A=i;else{pr(i[e])?A=this.parseArrayData(n,i,e,r):wt(i[e])?A=this.parseObjectData(n,i,e,r):A=this.parsePrimitiveData(n,i,e,r);const f=()=>d[o]===null||c&&d[o]<c[o];for(u=0;u<r;++u)n._parsed[u+e]=d=A[u],l&&(f()&&(l=!1),c=d);n._sorted=l}a&&HO(this,A)}parsePrimitiveData(e,r,n,i){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,c=s.getLabels(),u=s===a,d=new Array(i);let A,f,p;for(A=0,f=i;A<f;++A)p=A+n,d[A]={[o]:u||s.parse(c[p],p),[l]:a.parse(r[p],p)};return d}parseArrayData(e,r,n,i){const{xScale:s,yScale:a}=e,o=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+n,d=r[u],o[l]={x:s.parse(d[0],u),y:a.parse(d[1],u)};return o}parseObjectData(e,r,n,i){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,A,f;for(u=0,d=i;u<d;++u)A=u+n,f=r[A],c[u]={x:s.parse(_u(f,o),A),y:a.parse(_u(f,l),A)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const i=this.chart,s=this._cachedMeta,a=r[e.axis],o={keys:kZ(i,!0),values:r._stacks[e.axis]._visualValues};return QO(o,a,s.index,{mode:n})}updateRangeFromParsed(e,r,n,i){const s=n[r.axis];let a=s===null?NaN:s;const o=i&&n._stacks[r.axis];i&&o&&(i.values=o,a=QO(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,r){const n=this._cachedMeta,i=n._parsed,s=n._sorted&&e===n.iScale,a=i.length,o=this._getOtherScale(e),l=_Be(r,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=wBe(o);let A,f;function p(){f=i[A];const m=f[o.axis];return!Dr(f[e.axis])||u>m||d<m}for(A=0;A<a&&!(!p()&&(this.updateRangeFromParsed(c,e,f,l),s));++A);if(s){for(A=a-1;A>=0;--A)if(!p()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let i,s,a;for(i=0,s=r.length;i<s;++i)a=r[i][e.axis],Dr(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,i=r.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=vBe(ut(this.options.clip,yBe(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,i=n.data||[],s=r.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||i.length-o,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,s,o,l),u=o;u<o+l;++u){const d=i[u];d.hidden||(d.active&&c?a.push(d):d.draw(e,s))}for(u=0;u<a.length;++u)a[u].draw(e,s)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=BBe(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=SBe(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const i=r==="active",s=this._cachedDataOpts,a=e+"-"+r,o=s[a],l=this.enableOptionSharing&&$g(n);if(o)return zO(o,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],A=c.getOptionScopes(this.getDataset(),u),f=Object.keys(mr.elements[e]),p=()=>this.getContext(n,i,r),m=c.resolveNamedOptions(A,f,p,d);return m.$shared&&(m.$shared=l,s[a]=Object.freeze(zO(m,l))),m}_resolveAnimations(e,r,n){const i=this.chart,s=this._cachedDataOpts,a=`animation-${r}`,o=s[a];if(o)return o;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,r),A=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(A,this.getContext(e,n,r))}const c=new _Z(i,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||H8(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),i=this._sharedOptions,s=this.getSharedOptions(n),a=this.includeOptions(r,s)||s!==i;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:a}}updateElement(e,r,n,i){H8(i)?Object.assign(e,n):this._resolveAnimations(r,i).update(e,n)}updateSharedOptions(e,r,n){e&&!H8(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,i){e.active=i;const s=this.getStyle(r,i);this._resolveAnimations(r,n,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const i=n.length,s=r.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,r,n=!0){const i=this._cachedMeta,s=i.data,a=e+r;let o;const l=c=>{for(c.length+=r,o=c.length-1;o>=a;o--)c[o]=c[o-r]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,r),n&&this.updateElements(s,e,r,"reset")}updateElements(e,r,n,i){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,r);n._stacked&&ep(n,i)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,i]=e;this[r](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}_e(Ta,"defaults",{}),_e(Ta,"datasetElementType",null),_e(Ta,"dataElementType",null);function kBe(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let i=0,s=r.length;i<s;i++)n=n.concat(r[i].controller.getAllParsedValues(t));t._cache.$bar=oZ(n.sort((i,s)=>i-s))}return t._cache.$bar}function EBe(t){const e=t.iScale,r=kBe(e,t.type);let n=e._length,i,s,a,o;const l=()=>{a===32767||a===-32768||($g(o)&&(n=Math.min(n,Math.abs(a-o)||n)),o=a)};for(i=0,s=r.length;i<s;++i)a=e.getPixelForValue(r[i]),l();for(o=void 0,i=0,s=e.ticks.length;i<s;++i)a=e.getPixelForTick(i),l();return n}function MBe(t,e,r,n){const i=r.barThickness;let s,a;return yt(i)?(s=e.min*r.categoryPercentage,a=r.barPercentage):(s=i*n,a=1),{chunk:s/n,ratio:a,start:e.pixels[t]-s/2}}function FBe(t,e,r,n){const i=e.pixels,s=i[t];let a=t>0?i[t-1]:null,o=t<i.length-1?i[t+1]:null;const l=r.categoryPercentage;a===null&&(a=s-(o===null?e.end-e.start:o-s)),o===null&&(o=s+s-a);const c=s-(s-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/n,ratio:r.barPercentage,start:c}}function TBe(t,e,r,n){const i=r.parse(t[0],n),s=r.parse(t[1],n),a=Math.min(i,s),o=Math.max(i,s);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),e[r.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:a,max:o}}function EZ(t,e,r,n){return pr(t)?TBe(t,e,r,n):e[r.axis]=r.parse(t,n),e}function $O(t,e,r,n){const i=t.iScale,s=t.vScale,a=i.getLabels(),o=i===s,l=[];let c,u,d,A;for(c=r,u=r+n;c<u;++c)A=e[c],d={},d[i.axis]=o||i.parse(a[c],c),l.push(EZ(A,d,s,c));return l}function z8(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function DBe(t,e,r){return t!==0?_o(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function LBe(t){let e,r,n,i,s;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(i="end",s="start"):(i="start",s="end"),{start:r,end:n,reverse:e,top:i,bottom:s}}function NBe(t,e,r,n){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:c,bottom:u}=LBe(t);i==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?i=c:(r._bottom||0)===n?i=u:(s[VO(u,a,o,l)]=!0,i=c)),s[VO(i,a,o,l)]=!0,t.borderSkipped=s}function VO(t,e,r,n){return n?(t=jBe(t,e,r),t=KO(t,r,e)):t=KO(t,e,r),t}function jBe(t,e,r){return t===e?r:t===r?e:t}function KO(t,e,r){return t==="start"?e:t==="end"?r:t}function IBe(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class ix extends Ta{parsePrimitiveData(e,r,n,i){return $O(e,r,n,i)}parseArrayData(e,r,n,i){return $O(e,r,n,i)}parseObjectData(e,r,n,i){const{iScale:s,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?o:l,u=a.axis==="x"?o:l,d=[];let A,f,p,m;for(A=n,f=n+i;A<f;++A)m=r[A],p={},p[s.axis]=s.parse(_u(m,c),A),d.push(EZ(_u(m,u),p,a,A));return d}updateRangeFromParsed(e,r,n,i){super.updateRangeFromParsed(e,r,n,i);const s=n._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:i}=r,s=this.getParsed(e),a=s._custom,o=z8(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:A}=this._getSharedOptions(r,i);for(let f=r;f<r+n;f++){const p=this.getParsed(f),m=s||yt(p[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),y=this._calculateBarIndexPixels(f,u),g=(p._stacks||{})[o.axis],v={horizontal:c,base:m.base,enableBorderRadius:!g||z8(p._custom)||a===g._top||a===g._bottom,x:c?m.head:y.center,y:c?y.center:m.head,height:c?y.size:Math.abs(m.size),width:c?Math.abs(m.size):y.size};A&&(v.options=d||this.resolveDataElementOptions(f,e[f].active?"active":i));const x=v.options||e[f].options;NBe(v,x,g,a),IBe(v,x,u.ratio),this.updateElement(e[f],f,v,i)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=n.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(r),l=o&&o[n.axis],c=u=>{const d=u._parsed.find(f=>f[n.axis]===l),A=d&&d[u.vScale.axis];if(yt(A)||isNaN(A))return!0};for(const u of i)if(!(r!==void 0&&c(u))&&((s===!1||a.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,r,n){const i=this._getStacks(e,n),s=r!==void 0?i.indexOf(r):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,i=[];let s,a;for(s=0,a=r.data.length;s<a;++s)i.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const o=e.barThickness;return{min:o||EBe(r),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:i},options:{base:s,minBarLength:a}}=this,o=s||0,l=this.getParsed(e),c=l._custom,u=z8(c);let d=l[r.axis],A=0,f=n?this.applyStack(r,l,n):d,p,m;f!==d&&(A=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&_o(d)!==_o(c.barEnd)&&(A=0),A+=d);const y=!yt(s)&&!u?s:A;let g=r.getPixelForValue(y);if(this.chart.getDataVisibility(e)?p=r.getPixelForValue(A+f):p=g,m=p-g,Math.abs(m)<a){m=DBe(m,r,o)*a,d===o&&(g-=m/2);const v=r.getPixelForDecimal(0),x=r.getPixelForDecimal(1),b=Math.min(v,x),w=Math.max(v,x);g=Math.max(Math.min(g,w),b),p=g+m,n&&!u&&(l._stacks[r.axis]._visualValues[i]=r.getValueForPixel(p)-r.getValueForPixel(g))}if(g===r.getPixelForValue(o)){const v=_o(m)*r.getLineWidthForValue(o)/2;g+=v,m-=v}return{size:m,base:g,head:p,center:p+m/2}}_calculateBarIndexPixels(e,r){const n=r.scale,i=this.options,s=i.skipNull,a=ut(i.maxBarThickness,1/0);let o,l;if(r.grouped){const c=s?this._getStackCount(e):r.stackCount,u=i.barThickness==="flex"?FBe(e,r,i,c):MBe(e,r,i,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);o=u.start+u.chunk*d+u.chunk/2,l=Math.min(a,u.chunk*u.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(a,r.min*r.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,i=n.length;let s=0;for(;s<i;++s)this.getParsed(s)[r.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}_e(ix,"id","bar"),_e(ix,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),_e(ix,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class sx extends Ta{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,n,i){const s=super.parsePrimitiveData(e,r,n,i);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+n).radius;return s}parseArrayData(e,r,n,i){const s=super.parseArrayData(e,r,n,i);for(let a=0;a<s.length;a++){const o=r[n+a];s[a]._custom=ut(o[2],this.resolveDataElementOptions(a+n).radius)}return s}parseObjectData(e,r,n,i){const s=super.parseObjectData(e,r,n,i);for(let a=0;a<s.length;a++){const o=r[n+a];s[a]._custom=ut(o&&o.r&&+o.r,this.resolveDataElementOptions(a+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let r=0;for(let n=e.length-1;n>=0;--n)r=Math.max(r,e[n].size(this.resolveDataElementOptions(n))/2);return r>0&&r}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:s}=r,a=this.getParsed(e),o=i.getLabelForValue(a.x),l=s.getLabelForValue(a.y),c=a._custom;return{label:n[e]||"",value:"("+o+", "+l+(c?", "+c:"")+")"}}update(e){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,n,i){const s=i==="reset",{iScale:a,vScale:o}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(r,i),u=a.axis,d=o.axis;for(let A=r;A<r+n;A++){const f=e[A],p=!s&&this.getParsed(A),m={},y=m[u]=s?a.getPixelForDecimal(.5):a.getPixelForValue(p[u]),g=m[d]=s?o.getBasePixel():o.getPixelForValue(p[d]);m.skip=isNaN(y)||isNaN(g),c&&(m.options=l||this.resolveDataElementOptions(A,f.active?"active":i),s&&(m.options.radius=0)),this.updateElement(f,A,m,i)}}resolveDataElementOptions(e,r){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,r);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return r!=="active"&&(i.radius=0),i.radius+=ut(n&&n._custom,s),i}}_e(sx,"id","bubble"),_e(sx,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),_e(sx,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function OBe(t,e,r){let n=1,i=1,s=0,a=0;if(e<or){const o=t,l=o+e,c=Math.cos(o),u=Math.sin(o),d=Math.cos(l),A=Math.sin(l),f=(x,b,w)=>Vg(x,o,l,!0)?1:Math.max(b,b*r,w,w*r),p=(x,b,w)=>Vg(x,o,l,!0)?-1:Math.min(b,b*r,w,w*r),m=f(0,c,d),y=f(zr,u,A),g=p(cr,c,d),v=p(cr+zr,u,A);n=(m-g)/2,i=(y-v)/2,s=-(m+g)/2,a=-(y+v)/2}return{ratioX:n,ratioY:i,offsetX:s,offsetY:a}}class zd extends Ta{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let s=l=>+n[l];if(wt(n[e])){const{key:l="value"}=this._parsing;s=c=>+_u(n[c],l)}let a,o;for(a=e,o=e+r;a<o;++a)i._parsed[a]=s(a)}}_getRotation(){return Ba(this.options.rotation-90)}_getCircumference(){return Ba(this.options.circumference)}_getRotationExtents(){let e=or,r=-or;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),r=Math.max(r,s+a)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-a)/2,0),l=Math.min(XCe(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:A,ratioY:f,offsetX:p,offsetY:m}=OBe(d,u,l),y=(n.width-a)/A,g=(n.height-a)/f,v=Math.max(Math.min(y,g)/2,0),x=rZ(this.options.radius,v),b=Math.max(x*l,0),w=(x-b)/this._getVisibleDatasetWeightTotal();this.offsetX=p*x,this.offsetY=m*x,i.total=this.calculateTotal(),this.outerRadius=x-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){const n=this.options,i=this._cachedMeta,s=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/or)}updateElements(e,r,n,i){const s=i==="reset",a=this.chart,o=a.chartArea,c=a.options.animation,u=(o.left+o.right)/2,d=(o.top+o.bottom)/2,A=s&&c.animateScale,f=A?0:this.innerRadius,p=A?0:this.outerRadius,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(r,i);let g=this._getRotation(),v;for(v=0;v<r;++v)g+=this._circumference(v,s);for(v=r;v<r+n;++v){const x=this._circumference(v,s),b=e[v],w={x:u+this.offsetX,y:d+this.offsetY,startAngle:g,endAngle:g+x,circumference:x,outerRadius:p,innerRadius:f};y&&(w.options=m||this.resolveDataElementOptions(v,b.active?"active":i)),g+=x,this.updateElement(b,v,w,i)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,i;for(i=0;i<r.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!r[i].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?or*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=Q1(r._parsed[e],n.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let r=0;const n=this.chart;let i,s,a,o,l;if(!e){for(i=0,s=n.data.datasets.length;i<s;++i)if(n.isDatasetVisible(i)){a=n.getDatasetMeta(i),e=a.data,o=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=o.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,i=e.length;n<i;++n){const s=this.resolveDataElementOptions(n);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(ut(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}_e(zd,"id","doughnut"),_e(zd,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),_e(zd,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),_e(zd,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return r.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class Pm extends Ta{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:i=[],_dataset:s}=r,a=this.chart._animationsDisabled;let{start:o,count:l}=uZ(r,i,a);this._drawStart=o,this._drawCount=l,dZ(r)&&(o=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:c},e),this.updateElements(i,o,l,e)}updateElements(e,r,n,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(r,i),A=a.axis,f=o.axis,{spanGaps:p,segment:m}=this.options,y=qA(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||i==="none",v=r+n,x=e.length;let b=r>0&&this.getParsed(r-1);for(let w=0;w<x;++w){const C=e[w],S=g?C:{};if(w<r||w>=v){S.skip=!0;continue}const B=this.getParsed(w),E=yt(B[f]),M=S[A]=a.getPixelForValue(B[A],w),D=S[f]=s||E?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,B,l):B[f],w);S.skip=isNaN(M)||isNaN(D)||E,S.stop=w>0&&Math.abs(B[A]-b[A])>y,m&&(S.parsed=B,S.raw=c.data[w]),d&&(S.options=u||this.resolveDataElementOptions(w,C.active?"active":i)),g||this.updateElement(C,w,S,i),b=B}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}_e(Pm,"id","line"),_e(Pm,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),_e(Pm,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Um extends Ta{constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=Q1(r._parsed[e].r,n.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,r,n,i){return vZ.bind(this)(e,r,n,i)}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){const e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){const e=this.chart,r=e.chartArea,n=e.options,i=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(i/2,0),a=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),o=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,r,n,i){const s=i==="reset",a=this.chart,l=a.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,A=c.getIndexAngle(0)-.5*cr;let f=A,p;const m=360/this.countVisibleElements();for(p=0;p<r;++p)f+=this._computeAngle(p,i,m);for(p=r;p<r+n;p++){const y=e[p];let g=f,v=f+this._computeAngle(p,i,m),x=a.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=v,s&&(l.animateScale&&(x=0),l.animateRotate&&(g=v=A));const b={x:u,y:d,innerRadius:0,outerRadius:x,startAngle:g,endAngle:v,options:this.resolveDataElementOptions(p,y.active?"active":i)};this.updateElement(y,p,b,i)}}countVisibleElements(){const e=this._cachedMeta;let r=0;return e.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&r++}),r}_computeAngle(e,r,n){return this.chart.getDataVisibility(e)?Ba(this.resolveDataElementOptions(e,r).angle||n):0}}_e(Um,"id","polarArea"),_e(Um,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),_e(Um,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return r.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class WB extends zd{}_e(WB,"id","pie"),_e(WB,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class ax extends Ta{getLabelAndValue(e){const r=this._cachedMeta.vScale,n=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(e,r,n,i){return vZ.bind(this)(e,r,n,i)}update(e){const r=this._cachedMeta,n=r.dataset,i=r.data||[],s=r.iScale.getLabels();if(n.points=i,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const o={_loop:!0,_fullLoop:s.length===i.length,options:a};this.updateElement(n,void 0,o,e)}this.updateElements(i,0,i.length,e)}updateElements(e,r,n,i){const s=this._cachedMeta.rScale,a=i==="reset";for(let o=r;o<r+n;o++){const l=e[o],c=this.resolveDataElementOptions(o,l.active?"active":i),u=s.getPointPositionForValue(o,this.getParsed(o).r),d=a?s.xCenter:u.x,A=a?s.yCenter:u.y,f={x:d,y:A,angle:u.angle,skip:isNaN(d)||isNaN(A),options:c};this.updateElement(l,o,f,i)}}}_e(ax,"id","radar"),_e(ax,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),_e(ax,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class ox extends Ta{getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:s}=r,a=this.getParsed(e),o=i.getLabelForValue(a.x),l=s.getLabelForValue(a.y);return{label:n[e]||"",value:"("+o+", "+l+")"}}update(e){const r=this._cachedMeta,{data:n=[]}=r,i=this.chart._animationsDisabled;let{start:s,count:a}=uZ(r,n,i);if(this._drawStart=s,this._drawCount=a,dZ(r)&&(s=0,a=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:l}=r;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!l._decimated,o.points=n;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(o,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(n,s,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,n,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(r,i),d=this.getSharedOptions(u),A=this.includeOptions(i,d),f=a.axis,p=o.axis,{spanGaps:m,segment:y}=this.options,g=qA(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||i==="none";let x=r>0&&this.getParsed(r-1);for(let b=r;b<r+n;++b){const w=e[b],C=this.getParsed(b),S=v?w:{},B=yt(C[p]),E=S[f]=a.getPixelForValue(C[f],b),M=S[p]=s||B?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,C,l):C[p],b);S.skip=isNaN(E)||isNaN(M)||B,S.stop=b>0&&Math.abs(C[f]-x[f])>g,y&&(S.parsed=C,S.raw=c.data[b]),A&&(S.options=d||this.resolveDataElementOptions(b,w.active?"active":i)),v||this.updateElement(w,b,S,i),x=C}this.updateSharedOptions(d,i,u)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let o=0;for(let l=r.length-1;l>=0;--l)o=Math.max(o,r[l].size(this.resolveDataElementOptions(l))/2);return o>0&&o}const n=e.dataset,i=n.options&&n.options.borderWidth||0;if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,a)/2}}_e(ox,"id","scatter"),_e(ox,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),_e(ox,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var PBe=Object.freeze({__proto__:null,BarController:ix,BubbleController:sx,DoughnutController:zd,LineController:Pm,PieController:WB,PolarAreaController:Um,RadarController:ax,ScatterController:ox});function td(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class fF{constructor(e){_e(this,"options");this.options=e||{}}static override(e){Object.assign(fF.prototype,e)}init(){}formats(){return td()}parse(){return td()}format(){return td()}add(){return td()}diff(){return td()}startOf(){return td()}endOf(){return td()}}var UBe={_date:fF};function QBe(t,e,r,n){const{controller:i,data:s,_sorted:a}=t,o=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const c=o._reversePixels?cSe:ml;if(n){if(i._sharedOptions){const u=s[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const A=c(s,e,r-d),f=c(s,e,r+d);return{lo:A.lo,hi:f.hi}}}}else{const u=c(s,e,r);if(l){const{vScale:d}=i._cachedMeta,{_parsed:A}=t,f=A.slice(0,u.lo+1).reverse().findIndex(m=>!yt(m[d.axis]));u.lo-=Math.max(0,f);const p=A.slice(u.hi).findIndex(m=>!yt(m[d.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:s.length-1}}function R1(t,e,r,n,i){const s=t.getSortedVisibleDatasetMetas(),a=r[e];for(let o=0,l=s.length;o<l;++o){const{index:c,data:u}=s[o],{lo:d,hi:A}=QBe(s[o],e,a,i);for(let f=d;f<=A;++f){const p=u[f];p.skip||n(p,c,f)}}}function RBe(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,i){const s=e?Math.abs(n.x-i.x):0,a=r?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function $8(t,e,r,n,i){const s=[];return!i&&!t.isPointInArea(e)||R1(t,r,e,function(o,l,c){!i&&!gl(o,t.chartArea,0)||o.inRange(e.x,e.y,n)&&s.push({element:o,datasetIndex:l,index:c})},!0),s}function HBe(t,e,r,n){let i=[];function s(a,o,l){const{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],n),{angle:d}=sZ(a,{x:e.x,y:e.y});Vg(d,c,u)&&i.push({element:a,datasetIndex:o,index:l})}return R1(t,r,e,s),i}function zBe(t,e,r,n,i,s){let a=[];const o=RBe(r);let l=Number.POSITIVE_INFINITY;function c(u,d,A){const f=u.inRange(e.x,e.y,i);if(n&&!f)return;const p=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(p))&&!f)return;const y=o(e,p);y<l?(a=[{element:u,datasetIndex:d,index:A}],l=y):y===l&&a.push({element:u,datasetIndex:d,index:A})}return R1(t,r,e,c),a}function V8(t,e,r,n,i,s){return!s&&!t.isPointInArea(e)?[]:r==="r"&&!n?HBe(t,e,r,i):zBe(t,e,r,n,i,s)}function qO(t,e,r,n,i){const s=[],a=r==="x"?"inXRange":"inYRange";let o=!1;return R1(t,r,e,(l,c,u)=>{l[a]&&l[a](e[r],i)&&(s.push({element:l,datasetIndex:c,index:u}),o=o||l.inRange(e.x,e.y,i))}),n&&!o?[]:s}var $Be={evaluateInteractionItems:R1,modes:{index(t,e,r,n){const i=Cd(e,t),s=r.axis||"x",a=r.includeInvisible||!1,o=r.intersect?$8(t,i,s,n,a):V8(t,i,s,!1,n,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=o[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,r,n){const i=Cd(e,t),s=r.axis||"xy",a=r.includeInvisible||!1;let o=r.intersect?$8(t,i,s,n,a):V8(t,i,s,!1,n,a);if(o.length>0){const l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(let u=0;u<c.length;++u)o.push({element:c[u],datasetIndex:l,index:u})}return o},point(t,e,r,n){const i=Cd(e,t),s=r.axis||"xy",a=r.includeInvisible||!1;return $8(t,i,s,n,a)},nearest(t,e,r,n){const i=Cd(e,t),s=r.axis||"xy",a=r.includeInvisible||!1;return V8(t,i,s,r.intersect,n,a)},x(t,e,r,n){const i=Cd(e,t);return qO(t,i,"x",r.intersect,n)},y(t,e,r,n){const i=Cd(e,t);return qO(t,i,"y",r.intersect,n)}}};const MZ=["left","top","right","bottom"];function tp(t,e){return t.filter(r=>r.pos===e)}function WO(t,e){return t.filter(r=>MZ.indexOf(r.pos)===-1&&r.box.axis===e)}function rp(t,e){return t.sort((r,n)=>{const i=e?n:r,s=e?r:n;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function VBe(t){const e=[];let r,n,i,s,a,o;for(r=0,n=(t||[]).length;r<n;++r)i=t[r],{position:s,options:{stack:a,stackWeight:o=1}}=i,e.push({index:r,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return e}function KBe(t){const e={};for(const r of t){const{stack:n,pos:i,stackWeight:s}=r;if(!n||!MZ.includes(i))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function qBe(t,e){const r=KBe(t),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let s,a,o;for(s=0,a=t.length;s<a;++s){o=t[s];const{fullSize:l}=o.box,c=r[o.stack],u=c&&o.stackWeight/c.weight;o.horizontal?(o.width=u?u*n:l&&e.availableWidth,o.height=i):(o.width=n,o.height=u?u*i:l&&e.availableHeight)}return r}function WBe(t){const e=VBe(t),r=rp(e.filter(c=>c.box.fullSize),!0),n=rp(tp(e,"left"),!0),i=rp(tp(e,"right")),s=rp(tp(e,"top"),!0),a=rp(tp(e,"bottom")),o=WO(e,"x"),l=WO(e,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:tp(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}function GO(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function FZ(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function GBe(t,e,r,n){const{pos:i,box:s}=r,a=t.maxPadding;if(!wt(i)){r.size&&(t[i]-=r.size);const d=n[r.stack]||{size:0,count:1};d.size=Math.max(d.size,r.horizontal?s.height:s.width),r.size=d.size/d.count,t[i]+=r.size}s.getPadding&&FZ(a,s.getPadding());const o=Math.max(0,e.outerWidth-GO(a,t,"left","right")),l=Math.max(0,e.outerHeight-GO(a,t,"top","bottom")),c=o!==t.w,u=l!==t.h;return t.w=o,t.h=l,r.horizontal?{same:c,other:u}:{same:u,other:c}}function XBe(t){const e=t.maxPadding;function r(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function YBe(t,e){const r=e.maxPadding;function n(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],r[a])}),s}return n(t?["left","right"]:["top","bottom"])}function Wp(t,e,r,n){const i=[];let s,a,o,l,c,u;for(s=0,a=t.length,c=0;s<a;++s){o=t[s],l=o.box,l.update(o.width||e.w,o.height||e.h,YBe(o.horizontal,e));const{same:d,other:A}=GBe(e,r,o,n);c|=d&&i.length,u=u||A,l.fullSize||i.push(o)}return c&&Wp(i,e,r,n)||u}function Zy(t,e,r,n,i){t.top=r,t.left=e,t.right=e+n,t.bottom=r+i,t.width=n,t.height=i}function XO(t,e,r,n){const i=r.padding;let{x:s,y:a}=e;for(const o of t){const l=o.box,c=n[o.stack]||{count:1,placed:0,weight:1},u=o.stackWeight/c.weight||1;if(o.horizontal){const d=e.w*u,A=c.size||l.height;$g(c.start)&&(a=c.start),l.fullSize?Zy(l,i.left,a,r.outerWidth-i.right-i.left,A):Zy(l,e.left+c.placed,a,d,A),c.start=a,c.placed+=d,a=l.bottom}else{const d=e.h*u,A=c.size||l.width;$g(c.start)&&(s=c.start),l.fullSize?Zy(l,s,i.top,A,r.outerHeight-i.bottom-i.top):Zy(l,s,e.top+c.placed,A,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=a}var Jn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const i=ri(t.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(r-i.height,0),o=WBe(t.boxes),l=o.vertical,c=o.horizontal;Vt(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,y)=>y.box.options&&y.box.options.display===!1?m:m+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:r,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/u,hBoxMaxHeight:a/2}),A=Object.assign({},i);FZ(A,ri(n));const f=Object.assign({maxPadding:A,w:s,h:a,x:i.left,y:i.top},i),p=qBe(l.concat(c),d);Wp(o.fullSize,f,d,p),Wp(l,f,d,p),Wp(c,f,d,p)&&Wp(l,f,d,p),XBe(f),XO(o.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,XO(o.rightAndBottom,f,d,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Vt(o.chartArea,m=>{const y=m.box;Object.assign(y,t.chartArea),y.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class TZ{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,i){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,i?Math.floor(r/i):n)}}isAttached(e){return!0}updateConfig(e){}}class JBe extends TZ{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const lx="$chartjs",ZBe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},YO=t=>t===null||t==="";function e9e(t,e){const r=t.style,n=t.getAttribute("height"),i=t.getAttribute("width");if(t[lx]={initial:{height:n,width:i,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",YO(i)){const s=NO(t,"width");s!==void 0&&(t.width=s)}if(YO(n))if(t.style.height==="")t.height=t.width/(e||2);else{const s=NO(t,"height");s!==void 0&&(t.height=s)}return t}const DZ=rBe?{passive:!0}:!1;function t9e(t,e,r){t&&t.addEventListener(e,r,DZ)}function r9e(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,DZ)}function n9e(t,e){const r=ZBe[t.type]||t.type,{x:n,y:i}=Cd(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:i!==void 0?i:null}}function e3(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function i9e(t,e,r){const n=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||e3(o.addedNodes,n),a=a&&!e3(o.removedNodes,n);a&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}function s9e(t,e,r){const n=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||e3(o.removedNodes,n),a=a&&!e3(o.addedNodes,n);a&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}const qg=new Map;let JO=0;function LZ(){const t=window.devicePixelRatio;t!==JO&&(JO=t,qg.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function a9e(t,e){qg.size||window.addEventListener("resize",LZ),qg.set(t,e)}function o9e(t){qg.delete(t),qg.size||window.removeEventListener("resize",LZ)}function l9e(t,e,r){const n=t.canvas,i=n&&AF(n);if(!i)return;const s=cZ((o,l)=>{const c=i.clientWidth;r(o,l),c<i.clientWidth&&r()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return a.observe(i),a9e(t,s),a}function K8(t,e,r){r&&r.disconnect(),e==="resize"&&o9e(t)}function c9e(t,e,r){const n=t.canvas,i=cZ(s=>{t.ctx!==null&&r(n9e(s,t))},t);return t9e(n,e,i),i}class u9e extends TZ{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(e9e(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[lx])return!1;const n=r[lx].initial;["height","width"].forEach(s=>{const a=n[s];yt(a)?r.removeAttribute(s):r.setAttribute(s,a)});const i=n.style||{};return Object.keys(i).forEach(s=>{r.style[s]=i[s]}),r.width=r.width,delete r[lx],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const i=e.$proxies||(e.$proxies={}),a={attach:i9e,detach:s9e,resize:l9e}[r]||c9e;i[r]=a(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),i=n[r];if(!i)return;({attach:K8,detach:K8,resize:K8}[r]||r9e)(e,r,i),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,i){return tBe(e,r,n,i)}isAttached(e){const r=e&&AF(e);return!!(r&&r.isConnected)}}function d9e(t){return!hF()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?JBe:u9e}var l4;let Xl=(l4=class{constructor(){_e(this,"x");_e(this,"y");_e(this,"active",!1);_e(this,"options");_e(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return qA(this.x)&&qA(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const i={};return e.forEach(s=>{i[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),i}},_e(l4,"defaults",{}),_e(l4,"defaultRoutes"),l4);function h9e(t,e){const r=t.options.ticks,n=A9e(t),i=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?p9e(e):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>i)return m9e(e,c,s,a/i),c;const u=f9e(s,e,i);if(a>0){let d,A;const f=a>1?Math.round((l-o)/(a-1)):null;for(e2(e,c,u,yt(f)?0:o-f,o),d=0,A=a-1;d<A;d++)e2(e,c,u,s[d],s[d+1]);return e2(e,c,u,l,yt(f)?e.length:l+f),c}return e2(e,c,u),c}function A9e(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),i=t._maxLength/r;return Math.floor(Math.min(n,i))}function f9e(t,e,r){const n=g9e(t),i=e.length/r;if(!n)return Math.max(i,1);const s=iSe(n);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>i)return l}return Math.max(i,1)}function p9e(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function m9e(t,e,r,n){let i=0,s=r[0],a;for(n=Math.ceil(n),a=0;a<t.length;a++)a===s&&(e.push(t[a]),i++,s=r[i*n])}function e2(t,e,r,n,i){const s=ut(n,0),a=Math.min(ut(i,t.length),t.length);let o=0,l,c,u;for(r=Math.ceil(r),i&&(l=i-n,r=l/Math.floor(l/r)),u=s;u<0;)o++,u=Math.round(s+o*r);for(c=Math.max(s,0);c<a;c++)c===u&&(e.push(t[c]),o++,u=Math.round(s+o*r))}function g9e(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const y9e=t=>t==="left"?"right":t==="right"?"left":t,ZO=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,eP=(t,e)=>Math.min(e||t,t);function tP(t,e){const r=[],n=t.length/e,i=t.length;let s=0;for(;s<i;s+=n)r.push(t[Math.floor(s)]);return r}function v9e(t,e,r){const n=t.ticks.length,i=Math.min(e,n-1),s=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(i),c;if(!(r&&(n===1?c=Math.max(l-s,a-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-o||l>a+o)))return l}function x9e(t,e){Vt(t,r=>{const n=r.gc,i=n.length/2;let s;if(i>e){for(s=0;s<i;++s)delete r.data[n[s]];n.splice(0,i)}})}function np(t){return t.drawTicks?t.tickLength:0}function rP(t,e){if(!t.display)return 0;const r=cn(t.font,e),n=ri(t.padding);return(pr(t.text)?t.text.length:1)*r.lineHeight+n.height}function b9e(t,e){return $u(t,{scale:e,type:"scale"})}function w9e(t,e,r){return $u(t,{tick:r,index:e,type:"tick"})}function C9e(t,e,r){let n=aF(t);return(r&&e!=="right"||!r&&e==="right")&&(n=y9e(n)),n}function S9e(t,e,r,n){const{top:i,left:s,bottom:a,right:o,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,A,f,p;const m=a-i,y=o-s;if(t.isHorizontal()){if(f=Vn(n,s,o),wt(r)){const g=Object.keys(r)[0],v=r[g];p=u[g].getPixelForValue(v)+m-e}else r==="center"?p=(c.bottom+c.top)/2+m-e:p=ZO(t,r,e);A=o-s}else{if(wt(r)){const g=Object.keys(r)[0],v=r[g];f=u[g].getPixelForValue(v)-y+e}else r==="center"?f=(c.left+c.right)/2-y+e:f=ZO(t,r,e);p=Vn(n,a,i),d=r==="left"?-zr:zr}return{titleX:f,titleY:p,maxWidth:A,rotation:d}}class jh extends Xl{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:i}=this;return e=as(e,Number.POSITIVE_INFINITY),r=as(r,Number.NEGATIVE_INFINITY),n=as(n,Number.POSITIVE_INFINITY),i=as(i,Number.NEGATIVE_INFINITY),{min:as(e,n),max:as(r,i),minDefined:Dr(e),maxDefined:Dr(r)}}getMinMax(e){let{min:r,max:n,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:r,max:n};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,e),i||(r=Math.min(r,a.min)),s||(n=Math.max(n,a.max));return r=s&&r>n?n:r,n=i&&r>n?r:n,{min:as(r,as(n,r)),max:as(n,as(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){er(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=LSe(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?tP(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=h9e(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){er(this.options.afterUpdate,[this])}beforeSetDimensions(){er(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){er(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),er(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){er(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,i,s;for(n=0,i=e.length;n<i;n++)s=e[n],s.label=er(r.callback,[s.value,n,e],this)}afterTickToLabelConversion(){er(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){er(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=eP(this.ticks.length,e.ticks.maxTicksLimit),i=r.minRotation||0,s=r.maxRotation;let a=i,o,l,c;if(!this._isVisible()||!r.display||i>=s||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,A=u.highest.height,f=yn(this.chart.width-d,0,this.maxWidth);o=e.offset?this.maxWidth/n:f/(n-1),d+6>o&&(o=f/(n-(e.offset?.5:1)),l=this.maxHeight-np(e.grid)-r.padding-rP(e.title,this.chart.options.font),c=Math.sqrt(d*d+A*A),a=iF(Math.min(Math.asin(yn((u.highest.height+6)/o,-1,1)),Math.asin(yn(l/c,-1,1))-Math.asin(yn(A/c,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){er(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){er(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=rP(i,r.options.font);if(o?(e.width=this.maxWidth,e.height=np(s)+l):(e.height=this.maxHeight,e.width=np(s)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:A}=this._getLabelSizes(),f=n.padding*2,p=Ba(this.labelRotation),m=Math.cos(p),y=Math.sin(p);if(o){const g=n.mirror?0:y*d.width+m*A.height;e.height=Math.min(this.maxHeight,e.height+g+f)}else{const g=n.mirror?0:m*d.width+y*A.height;e.width=Math.min(this.maxWidth,e.width+g+f)}this._calculatePadding(c,u,y,m)}}this._handleMargins(),o?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,i){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let A=0,f=0;l?c?(A=i*e.width,f=n*r.height):(A=n*e.height,f=i*r.width):s==="start"?f=r.width:s==="end"?A=e.width:s!=="inner"&&(A=e.width/2,f=r.width/2),this.paddingLeft=Math.max((A-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+a)*this.width/(this.width-d),0)}else{let u=r.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=r.height,d=0),this.paddingTop=u+a,this.paddingBottom=d+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){er(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)yt(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=tP(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(r/eP(r,n));let c=0,u=0,d,A,f,p,m,y,g,v,x,b,w;for(d=0;d<r;d+=l){if(p=e[d].label,m=this._resolveTickFontOptions(d),i.font=y=m.string,g=s[y]=s[y]||{data:{},gc:[]},v=m.lineHeight,x=b=0,!yt(p)&&!pr(p))x=Jb(i,g.data,g.gc,x,p),b=v;else if(pr(p))for(A=0,f=p.length;A<f;++A)w=p[A],!yt(w)&&!pr(w)&&(x=Jb(i,g.data,g.gc,x,w),b+=v);a.push(x),o.push(b),c=Math.max(x,c),u=Math.max(b,u)}x9e(s,r);const C=a.indexOf(c),S=o.indexOf(u),B=E=>({width:a[E]||0,height:o[E]||0});return{first:B(0),last:B(r-1),widest:B(C),highest:B(S),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return lSe(this._alignToPixels?ed(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=w9e(this.getContext(),e,n))}return this.$context||(this.$context=b9e(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=Ba(this.labelRotation),n=Math.abs(Math.cos(r)),i=Math.abs(Math.sin(r)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*n>o*i?o/n:l/i:l*i<o*n?l/n:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,i=this.options,{grid:s,position:a,border:o}=i,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),A=np(s),f=[],p=o.setContext(this.getContext()),m=p.display?p.width:0,y=m/2,g=function(Y){return ed(n,Y,m)};let v,x,b,w,C,S,B,E,M,D,L,I;if(a==="top")v=g(this.bottom),S=this.bottom-A,E=v-y,D=g(e.top)+y,I=e.bottom;else if(a==="bottom")v=g(this.top),D=e.top,I=g(e.bottom)-y,S=v+y,E=this.top+A;else if(a==="left")v=g(this.right),C=this.right-A,B=v-y,M=g(e.left)+y,L=e.right;else if(a==="right")v=g(this.left),M=e.left,L=g(e.right)-y,C=v+y,B=this.left+A;else if(r==="x"){if(a==="center")v=g((e.top+e.bottom)/2+.5);else if(wt(a)){const Y=Object.keys(a)[0],$=a[Y];v=g(this.chart.scales[Y].getPixelForValue($))}D=e.top,I=e.bottom,S=v+y,E=S+A}else if(r==="y"){if(a==="center")v=g((e.left+e.right)/2);else if(wt(a)){const Y=Object.keys(a)[0],$=a[Y];v=g(this.chart.scales[Y].getPixelForValue($))}C=v-y,B=C-A,M=e.left,L=e.right}const z=ut(i.ticks.maxTicksLimit,d),R=Math.max(1,Math.ceil(d/z));for(x=0;x<d;x+=R){const Y=this.getContext(x),$=s.setContext(Y),P=o.setContext(Y),q=$.lineWidth,N=$.color,ae=P.dash||[],oe=P.dashOffset,O=$.tickWidth,fe=$.tickColor,Se=$.tickBorderDash||[],ie=$.tickBorderDashOffset;b=v9e(this,x,l),b!==void 0&&(w=ed(n,b,q),c?C=B=M=L=w:S=E=D=I=w,f.push({tx1:C,ty1:S,tx2:B,ty2:E,x1:M,y1:D,x2:L,y2:I,width:q,color:N,borderDash:ae,borderDashOffset:oe,tickWidth:O,tickColor:fe,tickBorderDash:Se,tickBorderDashOffset:ie}))}return this._ticksLength=d,this._borderValue=v,f}_computeLabelItems(e){const r=this.axis,n=this.options,{position:i,ticks:s}=n,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,A=np(n.grid),f=A+u,p=d?-u:f,m=-Ba(this.labelRotation),y=[];let g,v,x,b,w,C,S,B,E,M,D,L,I="middle";if(i==="top")C=this.bottom-p,S=this._getXAxisLabelAlignment();else if(i==="bottom")C=this.top+p,S=this._getXAxisLabelAlignment();else if(i==="left"){const R=this._getYAxisLabelAlignment(A);S=R.textAlign,w=R.x}else if(i==="right"){const R=this._getYAxisLabelAlignment(A);S=R.textAlign,w=R.x}else if(r==="x"){if(i==="center")C=(e.top+e.bottom)/2+f;else if(wt(i)){const R=Object.keys(i)[0],Y=i[R];C=this.chart.scales[R].getPixelForValue(Y)+f}S=this._getXAxisLabelAlignment()}else if(r==="y"){if(i==="center")w=(e.left+e.right)/2-f;else if(wt(i)){const R=Object.keys(i)[0],Y=i[R];w=this.chart.scales[R].getPixelForValue(Y)}S=this._getYAxisLabelAlignment(A).textAlign}r==="y"&&(l==="start"?I="top":l==="end"&&(I="bottom"));const z=this._getLabelSizes();for(g=0,v=o.length;g<v;++g){x=o[g],b=x.label;const R=s.setContext(this.getContext(g));B=this.getPixelForTick(g)+s.labelOffset,E=this._resolveTickFontOptions(g),M=E.lineHeight,D=pr(b)?b.length:1;const Y=D/2,$=R.color,P=R.textStrokeColor,q=R.textStrokeWidth;let N=S;a?(w=B,S==="inner"&&(g===v-1?N=this.options.reverse?"left":"right":g===0?N=this.options.reverse?"right":"left":N="center"),i==="top"?c==="near"||m!==0?L=-D*M+M/2:c==="center"?L=-z.highest.height/2-Y*M+M:L=-z.highest.height+M/2:c==="near"||m!==0?L=M/2:c==="center"?L=z.highest.height/2-Y*M:L=z.highest.height-D*M,d&&(L*=-1),m!==0&&!R.showLabelBackdrop&&(w+=M/2*Math.sin(m))):(C=B,L=(1-D)*M/2);let ae;if(R.showLabelBackdrop){const oe=ri(R.backdropPadding),O=z.heights[g],fe=z.widths[g];let Se=L-oe.top,ie=0-oe.left;switch(I){case"middle":Se-=O/2;break;case"bottom":Se-=O;break}switch(S){case"center":ie-=fe/2;break;case"right":ie-=fe;break;case"inner":g===v-1?ie-=fe:g>0&&(ie-=fe/2);break}ae={left:ie,top:Se,width:fe+oe.width,height:O+oe.height,color:R.backdropColor}}y.push({label:b,font:E,textOffset:L,options:{rotation:m,color:$,strokeColor:P,strokeWidth:q,textAlign:N,textBaseline:I,translation:[w,C],backdrop:ae}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-Ba(this.labelRotation))return e==="top"?"left":"right";let i="center";return r.align==="start"?i="left":r.align==="end"?i="right":r.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let c,u;return r==="left"?i?(u=this.right+s,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-o,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):r==="right"?i?(u=this.left+s,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+o,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:i,width:s,height:a}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,i,s,a),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?r.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(r.display)for(s=0,a=i.length;s<a;++s){const l=i[s];r.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:i}}=this,s=n.setContext(this.getContext()),a=n.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,A;this.isHorizontal()?(c=ed(e,this.left,a)-a/2,u=ed(e,this.right,o)+o/2,d=A=l):(d=ed(e,this.top,a)-a/2,A=ed(e,this.bottom,o)+o/2,c=u=l),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(c,d),r.lineTo(u,A),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&o5(n,i);const s=this.getLabelItems(e);for(const a of s){const o=a.options,l=a.font,c=a.label,u=a.textOffset;bh(n,c,0,u,l,o)}i&&l5(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:i}}=this;if(!n.display)return;const s=cn(n.font),a=ri(n.padding),o=n.align;let l=s.lineHeight/2;r==="bottom"||r==="center"||wt(r)?(l+=a.bottom,pr(n.text)&&(l+=s.lineHeight*(n.text.length-1))):l+=a.top;const{titleX:c,titleY:u,maxWidth:d,rotation:A}=S9e(this,l,r,o);bh(e,n.text,0,0,s,{color:n.color,maxWidth:d,rotation:A,textAlign:C9e(o,r,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=ut(e.grid&&e.grid.z,-1),i=ut(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==jh.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let s,a;for(s=0,a=r.length;s<a;++s){const o=r[s];o[n]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return cn(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class t2{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;k9e(r)&&(n=this.register(r));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,B9e(e,a,n),this.override&&mr.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,i=this.scope;n in r&&delete r[n],i&&n in mr[i]&&(delete mr[i][n],this.override&&delete xh[n])}}function B9e(t,e,r){const n=zg(Object.create(null),[r?mr.get(r):{},mr.get(e),t.defaults]);mr.set(e,n),t.defaultRoutes&&_9e(e,t.defaultRoutes),t.descriptors&&mr.describe(e,t.descriptors)}function _9e(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),i=n.pop(),s=[t].concat(n).join("."),a=e[r].split("."),o=a.pop(),l=a.join(".");mr.route(s,i,l,o)})}function k9e(t){return"id"in t&&"defaults"in t}class E9e{constructor(){this.controllers=new t2(Ta,"datasets",!0),this.elements=new t2(Xl,"elements"),this.plugins=new t2(Object,"plugins"),this.scales=new t2(jh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(i=>{const s=n||this._getRegistryForType(i);n||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Vt(i,a=>{const o=n||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,r,n){const i=nF(e);er(n["before"+i],[],n),r[e](n),er(n["after"+i],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const i=r.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var ro=new E9e;class M9e{constructor(){this._init=[]}notify(e,r,n,i){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,r,n);return r==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,r,n,i){i=i||{};for(const s of e){const a=s.plugin,o=a[n],l=[r,i,s.options];if(er(o,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){yt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,i=ut(n.options&&n.options.plugins,{}),s=F9e(n);return i===!1&&!r?[]:D9e(e,s,i,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,i=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(i(r,n),e,"stop"),this._notify(i(n,r),e,"start")}}function F9e(t){const e={},r=[],n=Object.keys(ro.plugins.items);for(let s=0;s<n.length;s++)r.push(ro.getPlugin(n[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];r.indexOf(a)===-1&&(r.push(a),e[a.id]=!0)}return{plugins:r,localIds:e}}function T9e(t,e){return!e&&t===!1?null:t===!0?{}:t}function D9e(t,{plugins:e,localIds:r},n,i){const s=[],a=t.getContext();for(const o of e){const l=o.id,c=T9e(n[l],i);c!==null&&s.push({plugin:o,options:L9e(t.config,{plugin:o,local:r[l]},c,a)})}return s}function L9e(t,{plugin:e,local:r},n,i){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(n,s);return r&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function GB(t,e){const r=mr.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function N9e(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function j9e(t,e){return t===e?"_index_":"_value_"}function nP(t){if(t==="x"||t==="y"||t==="r")return t}function I9e(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function XB(t,...e){if(nP(t))return t;for(const r of e){const n=r.axis||I9e(r.position)||t.length>1&&nP(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function iP(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function O9e(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return iP(t,"x",r[0])||iP(t,"y",r[0])}return{}}function P9e(t,e){const r=xh[t.type]||{scales:{}},n=e.scales||{},i=GB(t.type,e),s=Object.create(null);return Object.keys(n).forEach(a=>{const o=n[a];if(!wt(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=XB(a,o,O9e(a,t),mr.scales[o.type]),c=j9e(l,i),u=r.scales||{};s[a]=Nm(Object.create(null),[{axis:l},o,u[l],u[c]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||GB(o,e),u=(xh[o]||{}).scales||{};Object.keys(u).forEach(d=>{const A=N9e(d,l),f=a[A+"AxisID"]||A;s[f]=s[f]||Object.create(null),Nm(s[f],[{axis:A},n[f],u[d]])})}),Object.keys(s).forEach(a=>{const o=s[a];Nm(o,[mr.scales[o.type],mr.scale])}),s}function NZ(t){const e=t.options||(t.options={});e.plugins=ut(e.plugins,{}),e.scales=P9e(t,e)}function jZ(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function U9e(t){return t=t||{},t.data=jZ(t.data),NZ(t),t}const sP=new Map,IZ=new Set;function r2(t,e){let r=sP.get(t);return r||(r=e(),sP.set(t,r),IZ.add(r)),r}const ip=(t,e,r)=>{const n=_u(e,r);n!==void 0&&t.add(n)};class Q9e{constructor(e){this._config=U9e(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=jZ(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),NZ(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return r2(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return r2(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return r2(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return r2(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let i=n.get(e);return(!i||r)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,r,n){const{options:i,type:s}=this,a=this._cachedScopes(e,n),o=a.get(r);if(o)return o;const l=new Set;r.forEach(u=>{e&&(l.add(e),u.forEach(d=>ip(l,e,d))),u.forEach(d=>ip(l,i,d)),u.forEach(d=>ip(l,xh[s]||{},d)),u.forEach(d=>ip(l,mr,d)),u.forEach(d=>ip(l,KB,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),IZ.has(r)&&a.set(r,c),c}chartOptionScopes(){const{options:e,type:r}=this;return[e,xh[r]||{},mr.datasets[r]||{},{type:r},mr,KB]}resolveNamedOptions(e,r,n,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=aP(this._resolverCache,e,i);let l=a;if(H9e(a,r)){s.$shared=!1,n=ku(n)?n():n;const c=this.createResolver(e,n,o);l=WA(a,n,c)}for(const c of r)s[c]=l[c];return s}createResolver(e,r,n=[""],i){const{resolver:s}=aP(this._resolverCache,e,n);return wt(r)?WA(s,r,void 0,i):s}}function aP(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const i=r.join();let s=n.get(i);return s||(s={resolver:cF(e,r),subPrefixes:r.filter(o=>!o.toLowerCase().includes("hover"))},n.set(i,s)),s}const R9e=t=>wt(t)&&Object.getOwnPropertyNames(t).some(e=>ku(t[e]));function H9e(t,e){const{isScriptable:r,isIndexable:n}=pZ(t);for(const i of e){const s=r(i),a=n(i),o=(a||s)&&t[i];if(s&&(ku(o)||R9e(o))||a&&pr(o))return!0}return!1}var z9e="4.4.8";const $9e=["top","bottom","left","right","chartArea"];function oP(t,e){return t==="top"||t==="bottom"||$9e.indexOf(t)===-1&&e==="x"}function lP(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function cP(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),er(r&&r.onComplete,[t],e)}function V9e(t){const e=t.chart,r=e.options.animation;er(r&&r.onProgress,[t],e)}function OZ(t){return hF()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const cx={},uP=t=>{const e=OZ(t);return Object.values(cx).filter(r=>r.canvas===e).pop()};function K9e(t,e,r){const n=Object.keys(t);for(const i of n){const s=+i;if(s>=e){const a=t[i];delete t[i],(r>0||s>e)&&(t[s+r]=a)}}}function q9e(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}function n2(t,e,r){return t.options.clip?t[r]:e[r]}function W9e(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:n2(r,e,"left"),right:n2(r,e,"right"),top:n2(n,e,"top"),bottom:n2(n,e,"bottom")}:e}var Sc;let wf=(Sc=class{static register(...e){ro.add(...e),dP()}static unregister(...e){ro.remove(...e),dP()}constructor(e,r){const n=this.config=new Q9e(r),i=OZ(e),s=uP(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||d9e(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,u=l&&l.width;if(this.id=GCe(),this.ctx=o,this.canvas=l,this.width=u,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new M9e,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=hSe(d=>this.update(d),a.resizeDelay||0),this._dataChanges=[],cx[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Jo.listen(this,"complete",cP),Jo.listen(this,"progress",V9e),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:i,_aspectRatio:s}=this;return yt(e)?r&&s?s:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ro}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():LO(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return FO(this.canvas,this.ctx),this}stop(){return Jo.stop(this),this}resize(e,r){Jo.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,i=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,r,s),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,LO(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),er(n.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Vt(r,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,i=Object.keys(n).reduce((a,o)=>(a[o]=!1,a),{});let s=[];r&&(s=s.concat(Object.keys(r).map(a=>{const o=r[a],l=XB(a,o),c=l==="r",u=l==="x";return{options:o,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Vt(s,a=>{const o=a.options,l=o.id,c=XB(l,o),u=ut(o.type,a.dtype);(o.position===void 0||oP(o.position,c)!==oP(a.dposition))&&(o.position=a.dposition),i[l]=!0;let d=null;if(l in n&&n[l].type===u)d=n[l];else{const A=ro.getScale(u);d=new A({id:l,type:u,ctx:this.ctx,chart:this}),n[d.id]=d}d.init(o,e)}),Vt(i,(a,o)=>{a||delete n[o]}),Vt(n,a=>{Jn.configure(this,a,a.options),Jn.addBox(this,a)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((i,s)=>i.index-s.index),n>r){for(let i=r;i<n;++i)this._destroyDatasetMeta(i);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(lP("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,i)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=r.length;n<i;n++){const s=r[n];let a=this.getDatasetMeta(n);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=o,a.indexAxis=s.indexAxis||GB(o,this.options),a.order=s.order||0,a.index=n,a.label=""+s.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const l=ro.getController(o),{datasetElementType:c,dataElementType:u}=mr.datasets[o];Object.assign(l,{dataElementType:ro.getElement(u),datasetElementType:c&&ro.getElement(c)}),a.controller=new l(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Vt(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),A=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(A),a=Math.max(+d.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),i||Vt(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(lP("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Vt(this.scales,e=>{Jn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!bO(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:s}of r){const a=n==="_removeElements"?-s:s;K9e(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=n(0);for(let s=1;s<r;s++)if(!bO(i,n(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Jn.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],Vt(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,ku(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(r),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Jo.has(this)?this.attached&&!Jo.running(this)&&Jo.start(this):(this.draw(),cP({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let i,s;for(i=0,s=r.length;i<s;++i){const a=r[i];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n=e._clip,i=!n.disabled,s=W9e(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(i&&o5(r,{left:n.left===!1?0:s.left-n.left,right:n.right===!1?this.width:s.right+n.right,top:n.top===!1?0:s.top-n.top,bottom:n.bottom===!1?this.height:s.bottom+n.bottom}),e.controller.draw(),i&&l5(r),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return gl(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,i){const s=$Be.modes[r];return typeof s=="function"?s(this,e,n,i):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let i=n.filter(s=>s&&s._dataset===r).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=$u(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const i=n?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);$g(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(s,{visible:n}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Jo.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),FO(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete cx[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(s,a)=>{r.addEventListener(this,s,a),e[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};Vt(this.options.events,s=>n(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(l,c)=>{r.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(r.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",s),n("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),n("attach",o)},r.isAttached(this.canvas)?o():a()}unbindEvents(){Vt(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Vt(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const i=n?"set":"remove";let s,a,o,l;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!Gb(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),a=s(r,e),o=n?e:s(e,r);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const s=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(s||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:i=[],options:s}=this,a=r,o=this._getActiveElements(e,i,n,a),l=tSe(e),c=q9e(e,this._lastEvent,n,l);n&&(this._lastEvent=null,er(s.onHover,[e,o,this],this),l&&er(s.onClick,[e,o,this],this));const u=!Gb(o,i);return(u||r)&&(this._active=o,this._updateHoverStyles(o,i,r)),this._lastEvent=c,u}_getActiveElements(e,r,n,i){if(e.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},_e(Sc,"defaults",mr),_e(Sc,"instances",cx),_e(Sc,"overrides",xh),_e(Sc,"registry",ro),_e(Sc,"version",z9e),_e(Sc,"getChart",uP),Sc);function dP(){return Vt(wf.instances,t=>t._plugins.invalidate())}function G9e(t,e,r){const{startAngle:n,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:l}=e;let c=i/o;t.beginPath(),t.arc(s,a,o,n-c,r+c),l>i?(c=i/l,t.arc(s,a,l,r+c,n-c,!0)):t.arc(s,a,i,r+zr,n-zr),t.closePath(),t.clip()}function X9e(t){return lF(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Y9e(t,e,r,n){const i=X9e(t.options.borderRadius),s=(r-e)/2,a=Math.min(s,n*e/2),o=l=>{const c=(r-Math.min(s,l))*n/2;return yn(l,0,Math.min(s,c))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:yn(i.innerStart,0,a),innerEnd:yn(i.innerEnd,0,a)}}function Xh(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function t3(t,e,r,n,i,s){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+n+r-c,0),A=u>0?u+n+r+c:0;let f=0;const p=i-l;if(n){const R=u>0?u-n:0,Y=d>0?d-n:0,$=(R+Y)/2,P=$!==0?p*$/($+n):p;f=(p-P)/2}const m=Math.max(.001,p*d-r/cr)/d,y=(p-m)/2,g=l+y+f,v=i-y-f,{outerStart:x,outerEnd:b,innerStart:w,innerEnd:C}=Y9e(e,A,d,v-g),S=d-x,B=d-b,E=g+x/S,M=v-b/B,D=A+w,L=A+C,I=g+w/D,z=v-C/L;if(t.beginPath(),s){const R=(E+M)/2;if(t.arc(a,o,d,E,R),t.arc(a,o,d,R,M),b>0){const q=Xh(B,M,a,o);t.arc(q.x,q.y,b,M,v+zr)}const Y=Xh(L,v,a,o);if(t.lineTo(Y.x,Y.y),C>0){const q=Xh(L,z,a,o);t.arc(q.x,q.y,C,v+zr,z+Math.PI)}const $=(v-C/A+(g+w/A))/2;if(t.arc(a,o,A,v-C/A,$,!0),t.arc(a,o,A,$,g+w/A,!0),w>0){const q=Xh(D,I,a,o);t.arc(q.x,q.y,w,I+Math.PI,g-zr)}const P=Xh(S,g,a,o);if(t.lineTo(P.x,P.y),x>0){const q=Xh(S,E,a,o);t.arc(q.x,q.y,x,g-zr,E)}}else{t.moveTo(a,o);const R=Math.cos(E)*d+a,Y=Math.sin(E)*d+o;t.lineTo(R,Y);const $=Math.cos(M)*d+a,P=Math.sin(M)*d+o;t.lineTo($,P)}t.closePath()}function J9e(t,e,r,n,i){const{fullCircles:s,startAngle:a,circumference:o}=e;let l=e.endAngle;if(s){t3(t,e,r,n,l,i);for(let c=0;c<s;++c)t.fill();isNaN(o)||(l=a+(o%or||or))}return t3(t,e,r,n,l,i),t.fill(),l}function Z9e(t,e,r,n,i){const{fullCircles:s,startAngle:a,circumference:o,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:A}=l,f=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=A,f?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(s){t3(t,e,r,n,p,i);for(let m=0;m<s;++m)t.stroke();isNaN(o)||(p=a+(o%or||or))}f&&G9e(t,e,p),s||(t3(t,e,r,n,p,i),t.stroke())}class Gp extends Xl{constructor(r){super();_e(this,"circumference");_e(this,"endAngle");_e(this,"fullCircles");_e(this,"innerRadius");_e(this,"outerRadius");_e(this,"pixelMargin");_e(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,i){const s=this.getProps(["x","y"],i),{angle:a,distance:o}=sZ(s,{x:r,y:n}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:A}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,p=ut(A,c-l),m=Vg(a,l,c)&&l!==c,y=p>=or||m,g=pl(o,u+f,d+f);return y&&g}getCenterPoint(r){const{x:n,y:i,startAngle:s,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:c,spacing:u}=this.options,d=(s+a)/2,A=(o+l+u+c)/2;return{x:n+Math.cos(d)*A,y:i+Math.sin(d)*A}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:i}=this,s=(n.offset||0)/4,a=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>or?Math.floor(i/or):0,i===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const l=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(cr,i||0)),u=s*c;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,J9e(r,this,u,a,o),Z9e(r,this,u,a,o),r.restore()}}_e(Gp,"id","arc"),_e(Gp,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),_e(Gp,"defaultRoutes",{backgroundColor:"backgroundColor"}),_e(Gp,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function PZ(t,e,r=e){t.lineCap=ut(r.borderCapStyle,e.borderCapStyle),t.setLineDash(ut(r.borderDash,e.borderDash)),t.lineDashOffset=ut(r.borderDashOffset,e.borderDashOffset),t.lineJoin=ut(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ut(r.borderWidth,e.borderWidth),t.strokeStyle=ut(r.borderColor,e.borderColor)}function e_e(t,e,r){t.lineTo(r.x,r.y)}function t_e(t){return t.stepped?SSe:t.tension||t.cubicInterpolationMode==="monotone"?BSe:e_e}function UZ(t,e,r={}){const n=t.length,{start:i=0,end:s=n-1}=r,{start:a,end:o}=e,l=Math.max(i,a),c=Math.min(s,o),u=i<a&&s<a||i>o&&s>o;return{count:n,start:l,loop:e.loop,ilen:c<l&&!u?n+c-l:c-l}}function r_e(t,e,r,n){const{points:i,options:s}=e,{count:a,start:o,loop:l,ilen:c}=UZ(i,r,n),u=t_e(s);let{move:d=!0,reverse:A}=n||{},f,p,m;for(f=0;f<=c;++f)p=i[(o+(A?c-f:f))%a],!p.skip&&(d?(t.moveTo(p.x,p.y),d=!1):u(t,m,p,A,s.stepped),m=p);return l&&(p=i[(o+(A?c:0))%a],u(t,m,p,A,s.stepped)),!!l}function n_e(t,e,r,n){const i=e.points,{count:s,start:a,ilen:o}=UZ(i,r,n),{move:l=!0,reverse:c}=n||{};let u=0,d=0,A,f,p,m,y,g;const v=b=>(a+(c?o-b:b))%s,x=()=>{m!==y&&(t.lineTo(u,y),t.lineTo(u,m),t.lineTo(u,g))};for(l&&(f=i[v(0)],t.moveTo(f.x,f.y)),A=0;A<=o;++A){if(f=i[v(A)],f.skip)continue;const b=f.x,w=f.y,C=b|0;C===p?(w<m?m=w:w>y&&(y=w),u=(d*u+b)/++d):(x(),t.lineTo(b,w),p=C,d=0,m=y=w),g=w}x()}function YB(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?n_e:r_e}function i_e(t){return t.stepped?nBe:t.tension||t.cubicInterpolationMode==="monotone"?iBe:Sd}function s_e(t,e,r,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,r,n)&&i.closePath()),PZ(t,e.options),t.stroke(i)}function a_e(t,e,r,n){const{segments:i,options:s}=e,a=YB(e);for(const o of i)PZ(t,s,o.style),t.beginPath(),a(t,e,o,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const o_e=typeof Path2D=="function";function l_e(t,e,r,n){o_e&&!e.options.segment?s_e(t,e,r,n):a_e(t,e,r,n)}class Wc extends Xl{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;GSe(this._points,n,e,i,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=uBe(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,i=e[r],s=this.points,a=BZ(this,{property:r,start:i,end:i});if(!a.length)return;const o=[],l=i_e(n);let c,u;for(c=0,u=a.length;c<u;++c){const{start:d,end:A}=a[c],f=s[d],p=s[A];if(f===p){o.push(f);continue}const m=Math.abs((i-f[r])/(p[r]-f[r])),y=l(f,p,m,n.stepped);y[r]=e[r],o.push(y)}return o.length===1?o[0]:o}pathSegment(e,r,n){return YB(this)(e,this,r,n)}path(e,r,n){const i=this.segments,s=YB(this);let a=this._loop;r=r||0,n=n||this.points.length-r;for(const o of i)a&=s(e,this,o,{start:r,end:r+n-1});return!!a}draw(e,r,n,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),l_e(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}_e(Wc,"id","line"),_e(Wc,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),_e(Wc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),_e(Wc,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function hP(t,e,r,n){const i=t.options,{[r]:s}=t.getProps([r],n);return Math.abs(e-s)<i.radius+i.hitRadius}class ux extends Xl{constructor(r){super();_e(this,"parsed");_e(this,"skip");_e(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(r-a,2)+Math.pow(n-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,n){return hP(this,r,"x",n)}inYRange(r,n){return hP(this,r,"y",n)}getCenterPoint(r){const{x:n,y:i}=this.getProps(["x","y"],r);return{x:n,y:i}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const i=n&&r.borderWidth||0;return(n+i)*2}draw(r,n){const i=this.options;this.skip||i.radius<.1||!gl(this,n,this.size(i)/2)||(r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.fillStyle=i.backgroundColor,qB(r,i,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}_e(ux,"id","point"),_e(ux,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),_e(ux,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function QZ(t,e){const{x:r,y:n,base:i,width:s,height:a}=t.getProps(["x","y","base","width","height"],e);let o,l,c,u,d;return t.horizontal?(d=a/2,o=Math.min(r,i),l=Math.max(r,i),c=n-d,u=n+d):(d=s/2,o=r-d,l=r+d,c=Math.min(n,i),u=Math.max(n,i)),{left:o,top:c,right:l,bottom:u}}function Gc(t,e,r,n){return t?0:yn(e,r,n)}function c_e(t,e,r){const n=t.options.borderWidth,i=t.borderSkipped,s=fZ(n);return{t:Gc(i.top,s.top,0,r),r:Gc(i.right,s.right,0,e),b:Gc(i.bottom,s.bottom,0,r),l:Gc(i.left,s.left,0,e)}}function u_e(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=eh(i),a=Math.min(e,r),o=t.borderSkipped,l=n||wt(i);return{topLeft:Gc(!l||o.top||o.left,s.topLeft,0,a),topRight:Gc(!l||o.top||o.right,s.topRight,0,a),bottomLeft:Gc(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:Gc(!l||o.bottom||o.right,s.bottomRight,0,a)}}function d_e(t){const e=QZ(t),r=e.right-e.left,n=e.bottom-e.top,i=c_e(t,r/2,n/2),s=u_e(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:r-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function q8(t,e,r,n){const i=e===null,s=r===null,o=t&&!(i&&s)&&QZ(t,n);return o&&(i||pl(e,o.left,o.right))&&(s||pl(r,o.top,o.bottom))}function h_e(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function A_e(t,e){t.rect(e.x,e.y,e.w,e.h)}function W8(t,e,r={}){const n=t.x!==r.x?-e:0,i=t.y!==r.y?-e:0,s=(t.x+t.w!==r.x+r.w?e:0)-n,a=(t.y+t.h!==r.y+r.h?e:0)-i;return{x:t.x+n,y:t.y+i,w:t.w+s,h:t.h+a,radius:t.radius}}class dx extends Xl{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:i}}=this,{inner:s,outer:a}=d_e(this),o=h_e(a.radius)?Kg:A_e;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),o(e,W8(a,r,s)),e.clip(),o(e,W8(s,-r,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,W8(s,r)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,r,n){return q8(this,e,r,n)}inXRange(e,r){return q8(this,e,null,r)}inYRange(e,r){return q8(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(r+i)/2:r,y:s?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}_e(dx,"id","bar"),_e(dx,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),_e(dx,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var f_e=Object.freeze({__proto__:null,ArcElement:Gp,BarElement:dx,LineElement:Wc,PointElement:ux});const JB=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],AP=JB.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function RZ(t){return JB[t%JB.length]}function HZ(t){return AP[t%AP.length]}function p_e(t,e){return t.borderColor=RZ(e),t.backgroundColor=HZ(e),++e}function m_e(t,e){return t.backgroundColor=t.data.map(()=>RZ(e++)),e}function g_e(t,e){return t.backgroundColor=t.data.map(()=>HZ(e++)),e}function y_e(t){let e=0;return(r,n)=>{const i=t.getDatasetMeta(n).controller;i instanceof zd?e=m_e(r,e):i instanceof Um?e=g_e(r,e):i&&(e=p_e(r,e))}}function fP(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function v_e(t){return t&&(t.borderColor||t.backgroundColor)}function x_e(){return mr.borderColor!=="rgba(0,0,0,0.1)"||mr.backgroundColor!=="rgba(0,0,0,0.1)"}var b_e={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,r){if(!r.enabled)return;const{data:{datasets:n},options:i}=t.config,{elements:s}=i,a=fP(n)||v_e(i)||s&&fP(s)||x_e();if(!r.forceOverride&&a)return;const o=y_e(t);n.forEach(o)}};function w_e(t,e,r,n,i){const s=i.samples||n;if(s>=r)return t.slice(e,e+r);const a=[],o=(r-2)/(s-2);let l=0;const c=e+r-1;let u=e,d,A,f,p,m;for(a[l++]=t[u],d=0;d<s-2;d++){let y=0,g=0,v;const x=Math.floor((d+1)*o)+1+e,b=Math.min(Math.floor((d+2)*o)+1,r)+e,w=b-x;for(v=x;v<b;v++)y+=t[v].x,g+=t[v].y;y/=w,g/=w;const C=Math.floor(d*o)+1+e,S=Math.min(Math.floor((d+1)*o)+1,r)+e,{x:B,y:E}=t[u];for(f=p=-1,v=C;v<S;v++)p=.5*Math.abs((B-y)*(t[v].y-E)-(B-t[v].x)*(g-E)),p>f&&(f=p,A=t[v],m=v);a[l++]=A,u=m}return a[l++]=t[c],a}function C_e(t,e,r,n){let i=0,s=0,a,o,l,c,u,d,A,f,p,m;const y=[],g=e+r-1,v=t[e].x,b=t[g].x-v;for(a=e;a<e+r;++a){o=t[a],l=(o.x-v)/b*n,c=o.y;const w=l|0;if(w===u)c<p?(p=c,d=a):c>m&&(m=c,A=a),i=(s*i+o.x)/++s;else{const C=a-1;if(!yt(d)&&!yt(A)){const S=Math.min(d,A),B=Math.max(d,A);S!==f&&S!==C&&y.push({...t[S],x:i}),B!==f&&B!==C&&y.push({...t[B],x:i})}a>0&&C!==f&&y.push(t[C]),y.push(o),u=w,s=0,p=m=c,d=A=f=a}}return y}function zZ(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function pP(t){t.data.datasets.forEach(e=>{zZ(e)})}function S_e(t,e){const r=e.length;let n=0,i;const{iScale:s}=t,{min:a,max:o,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(n=yn(ml(e,s.axis,a).lo,0,r-1)),c?i=yn(ml(e,s.axis,o).hi+1,n,r)-n:i=r-n,{start:n,count:i}}var B_e={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,r)=>{if(!r.enabled){pP(t);return}const n=t.width;t.data.datasets.forEach((i,s)=>{const{_data:a,indexAxis:o}=i,l=t.getDatasetMeta(s),c=a||i.data;if(qp([o,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:d,count:A}=S_e(l,c);const f=r.threshold||4*n;if(A<=f){zZ(i);return}yt(a)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}}));let p;switch(r.algorithm){case"lttb":p=w_e(c,d,A,n,r);break;case"min-max":p=C_e(c,d,A,n);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}i._decimated=p})},destroy(t){pP(t)}};function __e(t,e,r){const n=t.segments,i=t.points,s=e.points,a=[];for(const o of n){let{start:l,end:c}=o;c=pF(l,c,i);const u=ZB(r,i[l],i[c],o.loop);if(!e.segments){a.push({source:o,target:u,start:i[l],end:i[c]});continue}const d=BZ(e,u);for(const A of d){const f=ZB(r,s[A.start],s[A.end],A.loop),p=SZ(o,i,f);for(const m of p)a.push({source:m,target:A,start:{[r]:mP(u,f,"start",Math.max)},end:{[r]:mP(u,f,"end",Math.min)}})}}return a}function ZB(t,e,r,n){if(n)return;let i=e[t],s=r[t];return t==="angle"&&(i=us(i),s=us(s)),{property:t,start:i,end:s}}function k_e(t,e){const{x:r=null,y:n=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:a,end:o})=>{o=pF(a,o,i);const l=i[a],c=i[o];n!==null?(s.push({x:l.x,y:n}),s.push({x:c.x,y:n})):r!==null&&(s.push({x:r,y:l.y}),s.push({x:r,y:c.y}))}),s}function pF(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function mP(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function $Z(t,e){let r=[],n=!1;return pr(t)?(n=!0,r=t):r=k_e(t,e),r.length?new Wc({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function gP(t){return t&&t.fill!==!1}function E_e(t,e,r){let i=t[e].fill;const s=[e];let a;if(!r)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!Dr(i))return i;if(a=t[i],!a)return!1;if(a.visible)return i;s.push(i),i=a.fill}return!1}function M_e(t,e,r){const n=L_e(t);if(wt(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return Dr(i)&&Math.floor(i)===i?F_e(n[0],e,i,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function F_e(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function T_e(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:wt(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function D_e(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:wt(t)?n=t.value:n=e.getBaseValue(),n}function L_e(t){const e=t.options,r=e.fill;let n=ut(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function N_e(t){const{scale:e,index:r,line:n}=t,i=[],s=n.segments,a=n.points,o=j_e(e,r);o.push($Z({x:null,y:e.bottom},n));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)I_e(i,a[u],o)}return new Wc({points:i,options:{}})}function j_e(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const s=n[i];if(s.index===e)break;s.hidden||r.unshift(s.dataset)}return r}function I_e(t,e,r){const n=[];for(let i=0;i<r.length;i++){const s=r[i],{first:a,last:o,point:l}=O_e(s,e,"x");if(!(!l||a&&o)){if(a)n.unshift(l);else if(t.push(l),!o)break}}t.push(...n)}function O_e(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const i=n[r],s=t.segments,a=t.points;let o=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],d=a[u.start][r],A=a[u.end][r];if(pl(i,d,A)){o=i===d,l=i===A;break}}return{first:o,last:l,point:n}}class VZ{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:i,y:s,radius:a}=this;return r=r||{start:0,end:or},e.arc(i,s,a,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:i}=this,s=e.angle;return{x:r+Math.cos(s)*i,y:n+Math.sin(s)*i,angle:s}}}function P_e(t){const{chart:e,fill:r,line:n}=t;if(Dr(r))return U_e(e,r);if(r==="stack")return N_e(t);if(r==="shape")return!0;const i=Q_e(t);return i instanceof VZ?i:$Z(i,n)}function U_e(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function Q_e(t){return(t.scale||{}).getPointPositionForValue?H_e(t):R_e(t)}function R_e(t){const{scale:e={},fill:r}=t,n=T_e(r,e);if(Dr(n)){const i=e.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function H_e(t){const{scale:e,fill:r}=t,n=e.options,i=e.getLabels().length,s=n.reverse?e.max:e.min,a=D_e(r,e,s),o=[];if(n.grid.circular){const l=e.getPointPositionForValue(0,s);return new VZ({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<i;++l)o.push(e.getPointPositionForValue(l,a));return o}function G8(t,e,r){const n=P_e(e),{line:i,scale:s,axis:a}=e,o=i.options,l=o.fill,c=o.backgroundColor,{above:u=c,below:d=c}=l||{};n&&i.points.length&&(o5(t,r),z_e(t,{line:i,target:n,above:u,below:d,area:r,scale:s,axis:a}),l5(t))}function z_e(t,e){const{line:r,target:n,above:i,below:s,area:a,scale:o}=e,l=r._loop?"angle":e.axis;t.save(),l==="x"&&s!==i&&(yP(t,n,a.top),vP(t,{line:r,target:n,color:i,scale:o,property:l}),t.restore(),t.save(),yP(t,n,a.bottom)),vP(t,{line:r,target:n,color:s,scale:o,property:l}),t.restore()}function yP(t,e,r){const{segments:n,points:i}=e;let s=!0,a=!1;t.beginPath();for(const o of n){const{start:l,end:c}=o,u=i[l],d=i[pF(l,c,i)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,r),t.lineTo(u.x,u.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(d.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function vP(t,e){const{line:r,target:n,property:i,color:s,scale:a}=e,o=__e(r,n,i);for(const{source:l,target:c,start:u,end:d}of o){const{style:{backgroundColor:A=s}={}}=l,f=n!==!0;t.save(),t.fillStyle=A,$_e(t,a,f&&ZB(i,u,d)),t.beginPath();const p=!!r.pathSegment(t,l);let m;if(f){p?t.closePath():xP(t,n,d,i);const y=!!n.pathSegment(t,c,{move:p,reverse:!0});m=p&&y,m||xP(t,n,u,i)}t.closePath(),t.fill(m?"evenodd":"nonzero"),t.restore()}}function $_e(t,e,r){const{top:n,bottom:i}=e.chart.chartArea,{property:s,start:a,end:o}=r||{};s==="x"&&(t.beginPath(),t.rect(a,n,o-a,i-n),t.clip())}function xP(t,e,r,n){const i=e.interpolate(r,n);i&&t.lineTo(i.x,i.y)}var V_e={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,i=[];let s,a,o,l;for(a=0;a<n;++a)s=t.getDatasetMeta(a),o=s.dataset,l=null,o&&o.options&&o instanceof Wc&&(l={visible:t.isDatasetVisible(a),index:a,fill:M_e(o,a,n),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,i.push(l);for(a=0;a<n;++a)l=i[a],!(!l||l.fill===!1)&&(l.fill=E_e(i,a,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;o&&(o.line.updateControlPoints(s,o.axis),n&&o.fill&&G8(t.ctx,o,s))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const s=n[i].$filler;gP(s)&&G8(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!gP(n)||r.drawTime!=="beforeDatasetDraw"||G8(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const bP=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},K_e=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class wP extends Xl{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=er(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=cn(n.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=bP(n,s);let c,u;r.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,s,o,l)+10):(u=this.maxHeight,c=this._fitCols(a,i,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+o;let d=e;s.textAlign="left",s.textBaseline="middle";let A=-1,f=-u;return this.legendItems.forEach((p,m)=>{const y=n+r/2+s.measureText(p.text).width;(m===0||c[c.length-1]+y+2*o>a)&&(d+=u,c[c.length-(m>0?0:1)]=0,f+=u,A++),l[m]={left:0,top:f,row:A,width:y,height:i},c[c.length-1]+=y+o}),d}_fitCols(e,r,n,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-e;let d=o,A=0,f=0,p=0,m=0;return this.legendItems.forEach((y,g)=>{const{itemWidth:v,itemHeight:x}=q_e(n,r,s,y,i);g>0&&f+x+2*o>u&&(d+=A+o,c.push({width:A,height:f}),p+=A+o,m++,A=f=0),l[g]={left:p,top:f,col:m,width:v,height:x},A=Math.max(A,v),f+=x+o}),d+=A,c.push({width:A,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:i},rtl:s}}=this,a=xA(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=Vn(n,this.left+i,this.right-this.lineWidths[o]);for(const c of r)o!==c.row&&(o=c.row,l=Vn(n,this.left+i,this.right-this.lineWidths[o])),c.top+=this.top+e+i,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+i}else{let o=0,l=Vn(n,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const c of r)c.col!==o&&(o=c.col,l=Vn(n,this.top+e+i,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+i,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;o5(e,this),this._draw(),l5(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:i}=this,{align:s,labels:a}=e,o=mr.color,l=xA(e.rtl,this.left,this.width),c=cn(a.font),{padding:u}=a,d=c.size,A=d/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:p,boxHeight:m,itemHeight:y}=bP(a,d),g=function(C,S,B){if(isNaN(p)||p<=0||isNaN(m)||m<0)return;i.save();const E=ut(B.lineWidth,1);if(i.fillStyle=ut(B.fillStyle,o),i.lineCap=ut(B.lineCap,"butt"),i.lineDashOffset=ut(B.lineDashOffset,0),i.lineJoin=ut(B.lineJoin,"miter"),i.lineWidth=E,i.strokeStyle=ut(B.strokeStyle,o),i.setLineDash(ut(B.lineDash,[])),a.usePointStyle){const M={radius:m*Math.SQRT2/2,pointStyle:B.pointStyle,rotation:B.rotation,borderWidth:E},D=l.xPlus(C,p/2),L=S+A;AZ(i,M,D,L,a.pointStyleWidth&&p)}else{const M=S+Math.max((d-m)/2,0),D=l.leftForLtr(C,p),L=eh(B.borderRadius);i.beginPath(),Object.values(L).some(I=>I!==0)?Kg(i,{x:D,y:M,w:p,h:m,radius:L}):i.rect(D,M,p,m),i.fill(),E!==0&&i.stroke()}i.restore()},v=function(C,S,B){bh(i,B.text,C,S+y/2,c,{strikethrough:B.hidden,textAlign:l.textAlign(B.textAlign)})},x=this.isHorizontal(),b=this._computeTitleHeight();x?f={x:Vn(s,this.left+u,this.right-n[0]),y:this.top+u+b,line:0}:f={x:this.left+u,y:Vn(s,this.top+b+u,this.bottom-r[0].height),line:0},bZ(this.ctx,e.textDirection);const w=y+u;this.legendItems.forEach((C,S)=>{i.strokeStyle=C.fontColor,i.fillStyle=C.fontColor;const B=i.measureText(C.text).width,E=l.textAlign(C.textAlign||(C.textAlign=a.textAlign)),M=p+A+B;let D=f.x,L=f.y;l.setWidth(this.width),x?S>0&&D+M+u>this.right&&(L=f.y+=w,f.line++,D=f.x=Vn(s,this.left+u,this.right-n[f.line])):S>0&&L+w>this.bottom&&(D=f.x=D+r[f.line].width+u,f.line++,L=f.y=Vn(s,this.top+b+u,this.bottom-r[f.line].height));const I=l.x(D);if(g(I,L,C),D=ASe(E,D+p+A,x?D+M:this.right,e.rtl),v(l.x(D),L,C),x)f.x+=M+u;else if(typeof C.text!="string"){const z=c.lineHeight;f.y+=KZ(C,z)+u}else f.y+=w}),wZ(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=cn(r.font),i=ri(r.padding);if(!r.display)return;const s=xA(e.rtl,this.left,this.width),a=this.ctx,o=r.position,l=n.size/2,c=i.top+l;let u,d=this.left,A=this.width;if(this.isHorizontal())A=Math.max(...this.lineWidths),u=this.top+c,d=Vn(e.align,d,this.right-A);else{const p=this.columnSizes.reduce((m,y)=>Math.max(m,y.height),0);u=c+Vn(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=Vn(o,d,d+A);a.textAlign=s.textAlign(aF(o)),a.textBaseline="middle",a.strokeStyle=r.color,a.fillStyle=r.color,a.font=n.string,bh(a,r.text,f,u,n)}_computeTitleHeight(){const e=this.options.title,r=cn(e.font),n=ri(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,i,s;if(pl(e,this.left,this.right)&&pl(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(i=s[n],pl(e,i.left,i.left+i.width)&&pl(r,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!X_e(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=K_e(i,n);i&&!s&&er(r.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!s&&er(r.onHover,[e,n,this],this)}else n&&er(r.onClick,[e,n,this],this)}}function q_e(t,e,r,n,i){const s=W_e(n,t,e,r),a=G_e(i,n,e.lineHeight);return{itemWidth:s,itemHeight:a}}function W_e(t,e,r,n){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+r.size/2+n.measureText(i).width}function G_e(t,e,r){let n=t;return typeof e.text!="string"&&(n=KZ(e,r)),n}function KZ(t,e){const r=t.text?t.text.length:0;return e*r}function X_e(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Y_e={id:"legend",_element:wP,start(t,e,r){const n=t.legend=new wP({ctx:t.ctx,options:r,chart:t});Jn.configure(t,n,r),Jn.addBox(t,n)},stop(t){Jn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;Jn.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,i=r.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(r?0:void 0),u=ri(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class mF extends Xl{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const i=pr(n.text)?n.text.length:1;this._padding=ri(n.padding);const s=i*cn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:i,right:s,options:a}=this,o=a.align;let l=0,c,u,d;return this.isHorizontal()?(u=Vn(o,n,s),d=r+e,c=s-n):(a.position==="left"?(u=n+e,d=Vn(o,i,r),l=cr*-.5):(u=s-e,d=Vn(o,r,i),l=cr*.5),c=i-r),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=cn(r.font),s=n.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(s);bh(e,r.text,0,0,n,{color:r.color,maxWidth:l,rotation:c,textAlign:aF(r.align),textBaseline:"middle",translation:[a,o]})}}function J_e(t,e){const r=new mF({ctx:t.ctx,options:e,chart:t});Jn.configure(t,r,e),Jn.addBox(t,r),t.titleBlock=r}var Z_e={id:"title",_element:mF,start(t,e,r){J_e(t,r)},stop(t){const e=t.titleBlock;Jn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;Jn.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const i2=new WeakMap;var eke={id:"subtitle",start(t,e,r){const n=new mF({ctx:t.ctx,options:r,chart:t});Jn.configure(t,n,r),Jn.addBox(t,n),i2.set(t,n)},stop(t){Jn.removeBox(t,i2.get(t)),i2.delete(t)},beforeUpdate(t,e,r){const n=i2.get(t);Jn.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xp={average(t){if(!t.length)return!1;let e,r,n=new Set,i=0,s=0;for(e=0,r=t.length;e<r;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();n.add(l.x),i+=l.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((o,l)=>o+l)/n.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=t.length;s<a;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=VB(e,c);u<i&&(i=u,o=l)}}if(o){const l=o.tooltipPosition();r=l.x,n=l.y}return{x:r,y:n}}};function Ya(t,e){return e&&(pr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Zo(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function tke(t,e){const{element:r,datasetIndex:n,index:i}=e,s=t.getDatasetMeta(n).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:t,label:a,parsed:s.getParsed(i),raw:t.data.datasets[n].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:n,element:r}}function CP(t,e){const r=t.chart.ctx,{body:n,footer:i,title:s}=t,{boxWidth:a,boxHeight:o}=e,l=cn(e.bodyFont),c=cn(e.titleFont),u=cn(e.footerFont),d=s.length,A=i.length,f=n.length,p=ri(e.padding);let m=p.height,y=0,g=n.reduce((b,w)=>b+w.before.length+w.lines.length+w.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),g){const b=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;m+=f*b+(g-f)*l.lineHeight+(g-1)*e.bodySpacing}A&&(m+=e.footerMarginTop+A*u.lineHeight+(A-1)*e.footerSpacing);let v=0;const x=function(b){y=Math.max(y,r.measureText(b).width+v)};return r.save(),r.font=c.string,Vt(t.title,x),r.font=l.string,Vt(t.beforeBody.concat(t.afterBody),x),v=e.displayColors?a+2+e.boxPadding:0,Vt(n,b=>{Vt(b.before,x),Vt(b.lines,x),Vt(b.after,x)}),v=0,r.font=u.string,Vt(t.footer,x),r.restore(),y+=p.width,{width:y,height:m}}function rke(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function nke(t,e,r,n){const{x:i,width:s}=n,a=r.caretSize+r.caretPadding;if(t==="left"&&i+s+a>e.width||t==="right"&&i-s-a<0)return!0}function ike(t,e,r,n){const{x:i,width:s}=r,{width:a,chartArea:{left:o,right:l}}=t;let c="center";return n==="center"?c=i<=(o+l)/2?"left":"right":i<=s/2?c="left":i>=a-s/2&&(c="right"),nke(c,t,e,r)&&(c="center"),c}function SP(t,e,r){const n=r.yAlign||e.yAlign||rke(t,r);return{xAlign:r.xAlign||e.xAlign||ike(t,e,r,n),yAlign:n}}function ske(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function ake(t,e,r){let{y:n,height:i}=t;return e==="top"?n+=r:e==="bottom"?n-=i+r:n-=i/2,n}function BP(t,e,r,n){const{caretSize:i,caretPadding:s,cornerRadius:a}=t,{xAlign:o,yAlign:l}=r,c=i+s,{topLeft:u,topRight:d,bottomLeft:A,bottomRight:f}=eh(a);let p=ske(e,o);const m=ake(e,l,c);return l==="center"?o==="left"?p+=c:o==="right"&&(p-=c):o==="left"?p-=Math.max(u,A)+i:o==="right"&&(p+=Math.max(d,f)+i),{x:yn(p,0,n.width-e.width),y:yn(m,0,n.height-e.height)}}function s2(t,e,r){const n=ri(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function _P(t){return Ya([],Zo(t))}function oke(t,e,r){return $u(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function kP(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const qZ={beforeTitle:Vo,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:Vo,beforeBody:Vo,beforeLabel:Vo,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return yt(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Vo,afterBody:Vo,beforeFooter:Vo,footer:Vo,afterFooter:Vo};function wi(t,e,r,n){const i=t[e].call(r,n);return typeof i>"u"?qZ[e].call(r,n):i}class e9 extends Xl{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&r.options.animation&&n.animations,s=new _Z(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=oke(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,i=wi(n,"beforeTitle",this,e),s=wi(n,"title",this,e),a=wi(n,"afterTitle",this,e);let o=[];return o=Ya(o,Zo(i)),o=Ya(o,Zo(s)),o=Ya(o,Zo(a)),o}getBeforeBody(e,r){return _P(wi(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,i=[];return Vt(e,s=>{const a={before:[],lines:[],after:[]},o=kP(n,s);Ya(a.before,Zo(wi(o,"beforeLabel",this,s))),Ya(a.lines,wi(o,"label",this,s)),Ya(a.after,Zo(wi(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,r){return _P(wi(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,i=wi(n,"beforeFooter",this,e),s=wi(n,"footer",this,e),a=wi(n,"afterFooter",this,e);let o=[];return o=Ya(o,Zo(i)),o=Ya(o,Zo(s)),o=Ya(o,Zo(a)),o}_createItems(e){const r=this._active,n=this.chart.data,i=[],s=[],a=[];let o=[],l,c;for(l=0,c=r.length;l<c;++l)o.push(tke(this.chart,r[l]));return e.filter&&(o=o.filter((u,d,A)=>e.filter(u,d,A,n))),e.itemSort&&(o=o.sort((u,d)=>e.itemSort(u,d,n))),Vt(o,u=>{const d=kP(e.callbacks,u);i.push(wi(d,"labelColor",this,u)),s.push(wi(d,"labelPointStyle",this,u)),a.push(wi(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,r){const n=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=Xp[n.position].call(this,i,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const l=this._size=CP(this,n),c=Object.assign({},o,l),u=SP(this.chart,n,c),d=BP(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,i){const s=this.getCaretPosition(e,n,i);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,n){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=eh(o),{x:A,y:f}=e,{width:p,height:m}=r;let y,g,v,x,b,w;return s==="center"?(b=f+m/2,i==="left"?(y=A,g=y-a,x=b+a,w=b-a):(y=A+p,g=y+a,x=b-a,w=b+a),v=y):(i==="left"?g=A+Math.max(l,u)+a:i==="right"?g=A+p-Math.max(c,d)-a:g=this.caretX,s==="top"?(x=f,b=x-a,y=g-a,v=g+a):(x=f+m,b=x+a,y=g+a,v=g-a),w=x),{x1:y,x2:g,x3:v,y1:x,y2:b,y3:w}}drawTitle(e,r,n){const i=this.title,s=i.length;let a,o,l;if(s){const c=xA(n.rtl,this.x,this.width);for(e.x=s2(this,n.titleAlign,n),r.textAlign=c.textAlign(n.titleAlign),r.textBaseline="middle",a=cn(n.titleFont),o=n.titleSpacing,r.fillStyle=n.titleColor,r.font=a.string,l=0;l<s;++l)r.fillText(i[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,r,n,i,s){const a=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=s,u=cn(s.bodyFont),d=s2(this,"left",s),A=i.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,p=r.y+f;if(s.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},y=i.leftForLtr(A,c)+c/2,g=p+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,qB(e,m,y,g),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,qB(e,m,y,g)}else{e.lineWidth=wt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const m=i.leftForLtr(A,c),y=i.leftForLtr(i.xPlus(A,1),c-2),g=eh(a.borderRadius);Object.values(g).some(v=>v!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Kg(e,{x:m,y:p,w:c,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Kg(e,{x:y,y:p+1,w:c-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(m,p,c,l),e.strokeRect(m,p,c,l),e.fillStyle=a.backgroundColor,e.fillRect(y,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:u}=n,d=cn(n.bodyFont);let A=d.lineHeight,f=0;const p=xA(n.rtl,this.x,this.width),m=function(B){r.fillText(B,p.x(e.x+f),e.y+A/2),e.y+=A+s},y=p.textAlign(a);let g,v,x,b,w,C,S;for(r.textAlign=a,r.textBaseline="middle",r.font=d.string,e.x=s2(this,y,n),r.fillStyle=n.bodyColor,Vt(this.beforeBody,m),f=o&&y!=="right"?a==="center"?c/2+u:c+2+u:0,b=0,C=i.length;b<C;++b){for(g=i[b],v=this.labelTextColors[b],r.fillStyle=v,Vt(g.before,m),x=g.lines,o&&x.length&&(this._drawColorBox(r,e,b,p,n),A=Math.max(d.lineHeight,l)),w=0,S=x.length;w<S;++w)m(x[w]),A=d.lineHeight;Vt(g.after,m)}f=0,A=d.lineHeight,Vt(this.afterBody,m),e.y-=s}drawFooter(e,r,n){const i=this.footer,s=i.length;let a,o;if(s){const l=xA(n.rtl,this.x,this.width);for(e.x=s2(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=l.textAlign(n.footerAlign),r.textBaseline="middle",a=cn(n.footerFont),r.fillStyle=n.footerColor,r.font=a.string,o=0;o<s;++o)r.fillText(i[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,r,n,i){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:c,height:u}=n,{topLeft:d,topRight:A,bottomLeft:f,bottomRight:p}=eh(i.cornerRadius);r.fillStyle=i.backgroundColor,r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.beginPath(),r.moveTo(o+d,l),a==="top"&&this.drawCaret(e,r,n,i),r.lineTo(o+c-A,l),r.quadraticCurveTo(o+c,l,o+c,l+A),a==="center"&&s==="right"&&this.drawCaret(e,r,n,i),r.lineTo(o+c,l+u-p),r.quadraticCurveTo(o+c,l+u,o+c-p,l+u),a==="bottom"&&this.drawCaret(e,r,n,i),r.lineTo(o+f,l+u),r.quadraticCurveTo(o,l+u,o,l+u-f),a==="center"&&s==="left"&&this.drawCaret(e,r,n,i),r.lineTo(o,l+d),r.quadraticCurveTo(o,l,o+d,l),r.closePath(),r.fill(),i.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,i=n&&n.x,s=n&&n.y;if(i||s){const a=Xp[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=CP(this,e),l=Object.assign({},a,this._size),c=SP(r,e,l),u=BP(e,l,c,r);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=ri(r.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,i,r),bZ(e,r.textDirection),s.y+=a.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),wZ(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,i=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),s=!Gb(n,i),a=this._positionChanged(i,r);(s||a)&&(this._active=i,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,r,n),o=this._positionChanged(a,e),l=r||!Gb(a,s)||o;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),l}_getActiveElements(e,r,n,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return r.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&a.reverse(),a}_positionChanged(e,r){const{caretX:n,caretY:i,options:s}=this,a=Xp[s.position].call(this,e,r);return a!==!1&&(n!==a.x||i!==a.y)}}_e(e9,"positioners",Xp);var lke={id:"tooltip",_element:e9,positioners:Xp,afterInit(t,e,r){r&&(t.tooltip=new e9({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:qZ},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},cke=Object.freeze({__proto__:null,Colors:b_e,Decimation:B_e,Filler:V_e,Legend:Y_e,SubTitle:eke,Title:Z_e,Tooltip:lke});const uke=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function dke(t,e,r,n){const i=t.indexOf(e);if(i===-1)return uke(t,e,r,n);const s=t.lastIndexOf(e);return i!==s?r:i}const hke=(t,e)=>t===null?null:yn(Math.round(t),0,e);function EP(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class t9 extends jh{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:i,label:s}of r)n[i]===s&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(yt(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:dke(n,e,ut(r,e),this._addedLabels),hke(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,i=[];let s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=r;a++)i.push({value:a});return i}getLabelForValue(e){return EP.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}_e(t9,"id","category"),_e(t9,"defaults",{ticks:{callback:EP}});function Ake(t,e){const r=[],{bounds:i,step:s,min:a,max:o,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:A}=t,f=s||1,p=u-1,{min:m,max:y}=e,g=!yt(a),v=!yt(o),x=!yt(c),b=(y-m)/(d+1);let w=CO((y-m)/p/f)*f,C,S,B,E;if(w<1e-14&&!g&&!v)return[{value:m},{value:y}];E=Math.ceil(y/w)-Math.floor(m/w),E>p&&(w=CO(E*w/p/f)*f),yt(l)||(C=Math.pow(10,l),w=Math.ceil(w*C)/C),i==="ticks"?(S=Math.floor(m/w)*w,B=Math.ceil(y/w)*w):(S=m,B=y),g&&v&&s&&aSe((o-a)/s,w/1e3)?(E=Math.round(Math.min((o-a)/w,u)),w=(o-a)/E,S=a,B=o):x?(S=g?a:S,B=v?o:B,E=c-1,w=(B-S)/E):(E=(B-S)/w,jm(E,Math.round(E),w/1e3)?E=Math.round(E):E=Math.ceil(E));const M=Math.max(SO(w),SO(S));C=Math.pow(10,yt(l)?M:l),S=Math.round(S*C)/C,B=Math.round(B*C)/C;let D=0;for(g&&(A&&S!==a?(r.push({value:a}),S<a&&D++,jm(Math.round((S+D*w)*C)/C,a,MP(a,b,t))&&D++):S<a&&D++);D<E;++D){const L=Math.round((S+D*w)*C)/C;if(v&&L>o)break;r.push({value:L})}return v&&A&&B!==o?r.length&&jm(r[r.length-1].value,o,MP(o,b,t))?r[r.length-1].value=o:r.push({value:o}):(!v||B===o)&&r.push({value:B}),r}function MP(t,e,{horizontal:r,minRotation:n}){const i=Ba(n),s=(r?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class r3 extends jh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return yt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this;const a=l=>i=r?i:l,o=l=>s=n?s:l;if(e){const l=_o(i),c=_o(s);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||a(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),r=r||11),r&&(i=Math.min(r,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,a=Ake(i,s);return e.bounds==="ticks"&&iZ(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-r)/Math.max(e.length-1,1)/2;r-=i,n+=i}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return Q1(e,this.chart.options.locale,this.options.ticks.format)}}class r9 extends r3{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Dr(e)?e:0,this.max=Dr(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=Ba(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}_e(r9,"id","linear"),_e(r9,"defaults",{ticks:{callback:a5.formatters.numeric}});const Wg=t=>Math.floor(qc(t)),rd=(t,e)=>Math.pow(10,Wg(t)+e);function FP(t){return t/Math.pow(10,Wg(t))===1}function TP(t,e,r){const n=Math.pow(10,r),i=Math.floor(t/n);return Math.ceil(e/n)-i}function fke(t,e){const r=e-t;let n=Wg(r);for(;TP(t,e,n)>10;)n++;for(;TP(t,e,n)<10;)n--;return Math.min(n,Wg(t))}function pke(t,{min:e,max:r}){e=as(t.min,e);const n=[],i=Wg(e);let s=fke(e,r),a=s<0?Math.pow(10,Math.abs(s)):1;const o=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((e-l)*a)/a,u=Math.floor((e-l)/o/10)*o*10;let d=Math.floor((c-u)/Math.pow(10,s)),A=as(t.min,Math.round((l+u+d*Math.pow(10,s))*a)/a);for(;A<r;)n.push({value:A,major:FP(A),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,a=s>=0?1:a),A=Math.round((l+u+d*Math.pow(10,s))*a)/a;const f=as(t.max,A);return n.push({value:f,major:FP(f),significand:d}),n}class n9 extends jh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=r3.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return Dr(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Dr(e)?Math.max(0,e):null,this.max=Dr(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Dr(this._userMin)&&(this.min=e===rd(this.min,0)?rd(this.min,-1):rd(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let n=this.min,i=this.max;const s=o=>n=e?n:o,a=o=>i=r?i:o;n===i&&(n<=0?(s(1),a(10)):(s(rd(n,-1)),a(rd(i,1)))),n<=0&&s(rd(i,-1)),i<=0&&a(rd(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},n=pke(r,this);return e.bounds==="ticks"&&iZ(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Q1(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=qc(e),this._valueRange=qc(this.max)-qc(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(qc(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}_e(n9,"id","logarithmic"),_e(n9,"defaults",{ticks:{callback:a5.formatters.logarithmic,major:{enabled:!0}}});function i9(t){const e=t.ticks;if(e.display&&t.display){const r=ri(e.backdropPadding);return ut(e.font&&e.font.size,mr.font.size)+r.height}return 0}function mke(t,e,r){return r=pr(r)?r:[r],{w:CSe(t,e.string,r),h:r.length*e.lineHeight}}function DP(t,e,r,n,i){return t===n||t===i?{start:e-r/2,end:e+r/2}:t<n||t>i?{start:e-r,end:e}:{start:e,end:e+r}}function gke(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],i=[],s=t._pointLabels.length,a=t.options.pointLabels,o=a.centerPointLabels?cr/s:0;for(let l=0;l<s;l++){const c=a.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],o),d=cn(c.font),A=mke(t.ctx,d,t._pointLabels[l]);n[l]=A;const f=us(t.getIndexAngle(l)+o),p=Math.round(iF(f)),m=DP(p,u.x,A.w,0,180),y=DP(p,u.y,A.h,90,270);yke(r,e,f,m,y)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=bke(t,n,i)}function yke(t,e,r,n,i){const s=Math.abs(Math.sin(r)),a=Math.abs(Math.cos(r));let o=0,l=0;n.start<e.l?(o=(e.l-n.start)/s,t.l=Math.min(t.l,e.l-o)):n.end>e.r&&(o=(n.end-e.r)/s,t.r=Math.max(t.r,e.r+o)),i.start<e.t?(l=(e.t-i.start)/a,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/a,t.b=Math.max(t.b,e.b+l))}function vke(t,e,r){const n=t.drawingArea,{extra:i,additionalAngle:s,padding:a,size:o}=r,l=t.getPointPosition(e,n+i+a,s),c=Math.round(iF(us(l.angle+zr))),u=Ske(l.y,o.h,c),d=wke(c),A=Cke(l.x,o.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:A,top:u,right:A+o.w,bottom:u+o.h}}function xke(t,e){if(!e)return!0;const{left:r,top:n,right:i,bottom:s}=t;return!(gl({x:r,y:n},e)||gl({x:r,y:s},e)||gl({x:i,y:n},e)||gl({x:i,y:s},e))}function bke(t,e,r){const n=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:a,display:o}=s.pointLabels,l={extra:i9(s)/2,additionalAngle:a?cr/i:0};let c;for(let u=0;u<i;u++){l.padding=r[u],l.size=e[u];const d=vke(t,u,l);n.push(d),o==="auto"&&(d.visible=xke(d,c),d.visible&&(c=d))}return n}function wke(t){return t===0||t===180?"center":t<180?"left":"right"}function Cke(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function Ske(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function Bke(t,e,r){const{left:n,top:i,right:s,bottom:a}=r,{backdropColor:o}=e;if(!yt(o)){const l=eh(e.borderRadius),c=ri(e.backdropPadding);t.fillStyle=o;const u=n-c.left,d=i-c.top,A=s-n+c.width,f=a-i+c.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),Kg(t,{x:u,y:d,w:A,h:f,radius:l}),t.fill()):t.fillRect(u,d,A,f)}}function _ke(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const a=n.setContext(t.getPointLabelContext(i));Bke(r,a,s);const o=cn(a.font),{x:l,y:c,textAlign:u}=s;bh(r,t._pointLabels[i],l,c+o.lineHeight/2,o,{color:a.color,textAlign:u,textBaseline:"middle"})}}function WZ(t,e,r,n){const{ctx:i}=t;if(r)i.arc(t.xCenter,t.yCenter,e,0,or);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let a=1;a<n;a++)s=t.getPointPosition(a,e),i.lineTo(s.x,s.y)}}function kke(t,e,r,n,i){const s=t.ctx,a=e.circular,{color:o,lineWidth:l}=e;!a&&!n||!o||!l||r<0||(s.save(),s.strokeStyle=o,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),WZ(t,r,a,n),s.closePath(),s.stroke(),s.restore())}function Eke(t,e,r){return $u(t,{label:r,index:e,type:"pointLabel"})}class Yp extends r3{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=ri(i9(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=Dr(e)&&!isNaN(e)?e:0,this.max=Dr(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/i9(this.options))}generateTickLabels(e){r3.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const i=er(this.options.pointLabels.callback,[r,n],this);return i||i===0?i:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?gke(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,i){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,i))}getIndexAngle(e){const r=or/(this._pointLabels.length||1),n=this.options.startAngle||0;return us(e*r+Ba(n))}getDistanceFromCenterForValue(e){if(yt(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(yt(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return Eke(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const i=this.getIndexAngle(e)-zr+n;return{x:Math.cos(i)*r+this.xCenter,y:Math.sin(i)*r+this.yCenter,angle:i}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:i,bottom:s}=this._pointLabelItems[e];return{left:r,top:n,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),WZ(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:i,border:s}=r,a=this._pointLabels.length;let o,l,c;if(r.pointLabels.display&&_ke(this,a),i.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const A=this.getContext(d),f=i.setContext(A),p=s.setContext(A);kke(this,f,l,a,p)}}),n.display){for(e.save(),o=a-1;o>=0;o--){const u=n.setContext(this.getPointLabelContext(o)),{color:d,lineWidth:A}=u;!A||!d||(e.lineWidth=A,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),c=this.getPointPosition(o,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let s,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&this.min>=0&&!r.reverse)return;const c=n.setContext(this.getContext(l)),u=cn(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,a=e.measureText(o.label).width,e.fillStyle=c.backdropColor;const d=ri(c.backdropPadding);e.fillRect(-a/2-d.left,-s-u.size/2-d.top,a+d.width,u.size+d.height)}bh(e,o.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}_e(Yp,"id","radialLinear"),_e(Yp,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:a5.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),_e(Yp,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),_e(Yp,"descriptors",{angleLines:{_fallback:"grid"}});const u5={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ni=Object.keys(u5);function LP(t,e){return t-e}function NP(t,e){if(yt(e))return null;const r=t._adapter,{parser:n,round:i,isoWeekday:s}=t._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),Dr(a)||(a=typeof n=="string"?r.parse(a,n):r.parse(a)),a===null?null:(i&&(a=i==="week"&&(qA(s)||s===!0)?r.startOf(a,"isoWeek",s):r.startOf(a,i)),+a)}function jP(t,e,r,n){const i=Ni.length;for(let s=Ni.indexOf(t);s<i-1;++s){const a=u5[Ni[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((r-e)/(o*a.size))<=n)return Ni[s]}return Ni[i-1]}function Mke(t,e,r,n,i){for(let s=Ni.length-1;s>=Ni.indexOf(r);s--){const a=Ni[s];if(u5[a].common&&t._adapter.diff(i,n,a)>=e-1)return a}return Ni[r?Ni.indexOf(r):0]}function Fke(t){for(let e=Ni.indexOf(t)+1,r=Ni.length;e<r;++e)if(u5[Ni[e]].common)return Ni[e]}function IP(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:i}=sF(r,e),s=r[n]>=e?r[n]:r[i];t[s]=!0}}function Tke(t,e,r,n){const i=t._adapter,s=+i.startOf(e[0].value,n),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,n))l=r[o],l>=0&&(e[l].major=!0);return e}function OP(t,e,r){const n=[],i={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],i[o]=a,n.push({value:o,major:!1});return s===0||!r?n:Tke(t,n,i,r)}class Gg extends jh{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),i=this._adapter=new UBe._date(e.adapters.date);i.init(r),Nm(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:NP(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!o&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Dr(i)&&!isNaN(i)?i:+r.startOf(Date.now(),n),s=Dr(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=uSe(i,s,a);return this._unit=r.unit||(n.autoSkip?jP(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):Mke(this,o.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Fke(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),OP(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?r=1-i:r=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;r=yn(r,0,a),n=yn(n,0,a),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,i=this.options,s=i.time,a=s.unit||jP(s.minUnit,r,n,this._getLabelCapacity(r)),o=ut(i.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,c=qA(l)||l===!0,u={};let d=r,A,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":a),e.diff(n,r,a)>1e5*o)throw new Error(r+" and "+n+" are too far apart with stepSize of "+o+" "+a);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(A=d,f=0;A<n;A=+e.add(A,o,a),f++)IP(u,A,p);return(A===n||i.bounds==="ticks"||f===1)&&IP(u,A,p),Object.keys(u).sort(LP).map(m=>+m)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const i=this.options.time.displayFormats,s=this._unit,a=r||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,r,n,i){const s=this.options,a=s.ticks.callback;if(a)return er(a,[e,r,n],this);const o=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&o[l],d=c&&o[c],A=n[r],f=c&&d&&A&&A.major;return this._adapter.format(e,i||(f?d:u))}generateTickLabels(e){let r,n,i;for(r=0,n=e.length;r<n;++r)i=e[r],i.label=this._tickFormatFunction(i.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,i=Ba(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*s+o*a,h:n*a+o*s}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,i=n[r.unit]||n.millisecond,s=this._tickFormatFunction(e,0,OP(this,[e],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(r=0,n=i.length;r<n;++r)e=e.concat(i[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const i=this.getLabels();for(r=0,n=i.length;r<n;++r)e.push(NP(this,i[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return oZ(e.sort(LP))}}_e(Gg,"id","time"),_e(Gg,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function a2(t,e,r){let n=0,i=t.length-1,s,a,o,l;r?(e>=t[n].pos&&e<=t[i].pos&&({lo:n,hi:i}=ml(t,"pos",e)),{pos:s,time:o}=t[n],{pos:a,time:l}=t[i]):(e>=t[n].time&&e<=t[i].time&&({lo:n,hi:i}=ml(t,"time",e)),{time:s,pos:o}=t[n],{time:a,pos:l}=t[i]);const c=a-s;return c?o+(l-o)*(e-s)/c:o}class s9 extends Gg{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=a2(r,this.min),this._tableRange=a2(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,i=[],s=[];let a,o,l,c,u;for(a=0,o=e.length;a<o;++a)c=e[a],c>=r&&c<=n&&i.push(c);if(i.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(a=0,o=i.length;a<o;++a)u=i[a+1],l=i[a-1],c=i[a],Math.round((u+l)/2)!==c&&s.push({time:c,pos:a/(o-1)});return s}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(a2(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return a2(this._table,n*this._tableRange+this._minPos,!0)}}_e(s9,"id","timeseries"),_e(s9,"defaults",Gg.defaults);var Dke=Object.freeze({__proto__:null,CategoryScale:t9,LinearScale:r9,LogarithmicScale:n9,RadialLinearScale:Yp,TimeScale:Gg,TimeSeriesScale:s9});const Lke=[PBe,f_e,cke,Dke];wf.register(...Lke);const GZ="label";function PP(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Nke(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function XZ(t,e){t.labels=e}function YZ(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:GZ;const n=[];t.datasets=e.map(i=>{const s=t.datasets.find(a=>a[r]===i[r]);return!s||!i.data||n.includes(s)?{...i}:(n.push(s),Object.assign(s,i),s)})}function jke(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:GZ;const r={labels:[],datasets:[]};return XZ(r,t.labels),YZ(r,t.datasets,e),r}function Ike(t,e){const{height:r=150,width:n=300,redraw:i=!1,datasetIdKey:s,type:a,data:o,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...A}=t,f=_.useRef(null),p=_.useRef(),m=()=>{f.current&&(p.current=new wf(f.current,{type:a,data:jke(o,s),options:l&&{...l},plugins:c}),PP(e,p.current))},y=()=>{PP(e,null),p.current&&(p.current.destroy(),p.current=null)};return _.useEffect(()=>{!i&&p.current&&l&&Nke(p.current,l)},[i,l]),_.useEffect(()=>{!i&&p.current&&XZ(p.current.config.data,o.labels)},[i,o.labels]),_.useEffect(()=>{!i&&p.current&&o.datasets&&YZ(p.current.config.data,o.datasets,s)},[i,o.datasets]),_.useEffect(()=>{p.current&&(i?(y(),setTimeout(m)):p.current.update(d))},[i,l,o.labels,o.datasets,d]),_.useEffect(()=>{p.current&&(y(),setTimeout(m))},[a]),_.useEffect(()=>(m(),()=>y()),[]),Pe.createElement("canvas",Object.assign({ref:f,role:"img",height:r,width:n},A),u)}const Oke=_.forwardRef(Ike);function Pke(t,e){return wf.register(e),_.forwardRef((r,n)=>Pe.createElement(Oke,Object.assign({},r,{ref:n,type:t})))}const Uke=Pke("line",Pm),Qke=()=>{const{user_id:t,bot_id:e,subject_id:r}=ur(),[n,{data:i,isLoading:s}]=a2e(),[a,o]=_.useState([]),[l,c]=_.useState("days");_.useEffect(()=>{t&&e&&u()},[t,e,r]);const u=async()=>{if(e!==0)try{const g=await n({user_id:Number(t),bot_id:Number(e)}).unwrap();(g==null?void 0:g.statusCode)===200&&o(g.data)}catch(g){Z.error("Error fetching chat history:",g)}else Z.error("This subject don't have a bot")},d=a.length,A=g=>{switch(l){case"days":return g.toLocaleDateString();case"weeks":const v=new Date(g.setDate(g.getDate()-g.getDay()));return`${v.toLocaleDateString()} - ${new Date(v.setDate(v.getDate()+6)).toLocaleDateString()}`;case"months":return`${g.getMonth()+1}/${g.getFullYear()}`;case"years":return g.getFullYear();default:return g.toLocaleDateString()}},f=a.reduce((g,v)=>{const x=A(new Date(v.createdAt));return g[x]||(g[x]=0),g[x]++,g},{}),p=Object.keys(f);if(p.length>0){const g=new Date(p[0]);g.setDate(g.getDate()-1),p.unshift(A(g))}const m={labels:p,datasets:[{label:"Interactions Over Time",data:[0,...Object.values(f)],fill:!1,backgroundColor:"#6925EF",borderColor:"#6925EF"}]},y={scales:{x:{title:{display:!0,text:"Date"}},y:{title:{display:!0,text:"Number of Interactions"},beginAtZero:!0}}};return s?h.jsxs("div",{className:"flex justify-center items-center min-h-screen",children:[h.jsx(kr,{className:"animate-spin text-[#6925EF] text-3xl"}),h.jsx("span",{className:"ml-2 text-gray-600",children:"Loading chat history..."})]}):h.jsx("div",{className:"bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:(a==null?void 0:a.length)>0?h.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Total Interactions"}),h.jsx("p",{className:"text-3xl text-[#6925EF] mt-4",children:d})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Select Time Span"}),h.jsxs("select",{value:l,onChange:g=>c(g.target.value),className:"mt-4 p-2 border border-gray-300 rounded-lg",children:[h.jsx("option",{value:"days",children:"Days"}),h.jsx("option",{value:"weeks",children:"Weeks"}),h.jsx("option",{value:"months",children:"Months"}),h.jsx("option",{value:"years",children:"Years"})]})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Interactions Over Time"}),h.jsx(Uke,{data:m,options:y})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 overflow-y-auto",style:{height:"100vh"},children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Chat History"}),a.map((g,v)=>h.jsxs("div",{className:`p-4 mb-4 rounded-lg ${g.is_bot?"bg-gray-100":"bg-gray-500 text-white"}`,children:[h.jsx("p",{className:"text-sm",dangerouslySetInnerHTML:{__html:g.message}}),h.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(g.createdAt).toLocaleString()})]},v))]})]}):h.jsx("div",{children:"No Chat History"})})},Rke=({studentData:t})=>{const{user_roll_no:e,school:r,level:n}=t==null?void 0:t.data;return h.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-6 py-8 border border-gray-100",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Student Profile"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.jsx(J8,{title:"Roll No",icon:iE,data:e||"N/A"}),h.jsx(J8,{title:"School",icon:yh,data:r.name||"N/A"}),h.jsx(J8,{title:"Level",icon:qq,data:n.level||"N/A"})]})]})},Hke=({attemptedQuizzes:t,loadMore:e})=>{var s;const{subject_id:r,user_id:n,bot_id:i}=ur();return h.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-6 py-8 border border-gray-100",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Quiz History"}),((s=t==null?void 0:t.data)==null?void 0:s.length)>0?h.jsx("div",{className:"space-y-6",children:t.data.map(a=>h.jsx("div",{className:"mb-4",children:h.jsx(wEe,{quiz:a,subject_id:r,user_id:n,bot_id:i})},a.id))}):h.jsx("p",{className:"text-gray-500 italic",children:"No quizzes attempted yet"}),t&&t.totalPages&&t.page<t.totalPages&&h.jsx("button",{onClick:e,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded",children:"Load More"})]})};/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zke=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JZ=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $ke={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vke=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},l)=>_.createElement("svg",{ref:l,...$ke,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:JZ("lucide",i),...o},[...a.map(([c,u])=>_.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=(t,e)=>{const r=_.forwardRef(({className:n,...i},s)=>_.createElement(Vke,{ref:s,iconNode:e,className:JZ(`lucide-${zke(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kke=Wt("ALargeSmall",[["path",{d:"M21 14h-5",key:"1vh23k"}],["path",{d:"M16 16v-3.5a2.5 2.5 0 0 1 5 0V16",key:"1wh10o"}],["path",{d:"M4.5 13h6",key:"dfilno"}],["path",{d:"m3 16 4.5-9 4.5 9",key:"2dxa0e"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=Wt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qke=Wt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=Wt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=Wt("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=Wt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wke=Wt("ChartColumnBig",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["rect",{x:"15",y:"5",width:"4",height:"12",rx:"1",key:"q8uenq"}],["rect",{x:"7",y:"8",width:"4",height:"9",rx:"1",key:"sr5ea"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gke=Wt("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xke=Wt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yke=Wt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jke=Wt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=Wt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zke=Wt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eEe=Wt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=Wt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tEe=Wt("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rEe=Wt("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nEe=Wt("PencilLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iEe=Wt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sEe=Wt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aEe=Wt("Pointer",[["path",{d:"M22 14a8 8 0 0 1-8 8",key:"56vcr3"}],["path",{d:"M18 11v-1a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1agjmk"}],["path",{d:"M14 10V9a2 2 0 0 0-2-2a2 2 0 0 0-2 2v1",key:"wdbh2u"}],["path",{d:"M10 9.5V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v10",key:"1ibuk9"}],["path",{d:"M18 11a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"g6ys72"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=Wt("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=Wt("Puzzle",[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oEe=Wt("RectangleHorizontal",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=Wt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lEe=Wt("Sigma",[["path",{d:"M18 7V5a1 1 0 0 0-1-1H6.5a.5.5 0 0 0-.4.8l4.5 6a2 2 0 0 1 0 2.4l-4.5 6a.5.5 0 0 0 .4.8H17a1 1 0 0 0 1-1v-2",key:"wuwx1p"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cEe=Wt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uEe=Wt("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=Wt("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]),hx=Gi({reducerPath:"puzzleApi",baseQuery:Xi,endpoints:t=>({createPuzzleAssignment:t.mutation({query:e=>({url:"/puzzle/create-puzzle-assignment",method:"POST",body:e})}),deletePuzzleAssignment:t.mutation({query:e=>({url:"/puzzle/delete-puzzle-assignment",method:"DELETE",body:e})}),getAssignedPuzzleById:t.query({query:e=>({url:`/puzzle/assigned-puzzle-by-id/${e}`,method:"GET"})}),getAllAssignedPuzzles:t.query({query:()=>({url:"/puzzle/get-all-puzzle-assignments",method:"GET"})}),getPuzzlesByLevelSubject:t.query({query:({page:e,limit:r})=>({url:"/puzzle/get-by-level-subject",method:"GET",params:{page:e,limit:r}})}),initializePuzzleSubmission:t.mutation({query:e=>({url:"/puzzle/initialize-submit-puzzle",method:"POST",body:e})}),deletePuzzle:t.mutation({query:e=>({url:"/puzzle/",method:"DELETE",body:e})}),getAllPuzzles:t.query({query:({page:e,limit:r}={})=>({url:"/puzzle/all",method:"GET",params:{page:e,limit:r}})}),getPuzzleById:t.query({query:e=>({url:`/puzzle/${e}`,method:"GET"})}),getPuzzlesByLevel:t.query({query:()=>({url:"/puzzle/get-by-level",method:"GET"})}),getPuzzleAttemptsByStudentSubject:t.query({query:({subjectId:e,studentId:r,page:n,limit:i})=>({url:`/puzzle/${e}/${r}`,method:"GET",params:{page:n,limit:i}})}),updatePuzzle:t.mutation({query:e=>({url:"/puzzle/",method:"PATCH",body:e})})})}),{useCreatePuzzleAssignmentMutation:dEe,useDeletePuzzleAssignmentMutation:Sze,useGetAssignedPuzzleByIdQuery:hEe,useGetAllAssignedPuzzlesQuery:Bze,useGetPuzzlesByLevelSubjectQuery:AEe,useGetPuzzleAttemptsByStudentSubjectQuery:fEe,useInitializePuzzleSubmissionMutation:pEe,useGetPuzzlesByLevelQuery:mEe,useDeletePuzzleMutation:gEe,useGetAllPuzzlesQuery:yEe,useGetPuzzleByIdQuery:vEe,useUpdatePuzzleMutation:xEe}=hx,bEe=()=>{const{subject_id:t,user_id:e,bot_id:r}=ur(),[n,i]=_.useState(1),s=10,[a,o]=_.useState([]),{data:l,isLoading:c,isError:u,refetch:d}=fEe({subjectId:Number(t),studentId:Number(e),page:n,limit:s},{skip:!e||!t});_.useEffect(()=>{l&&l.data&&o(n===1?l.data:f=>{const p=l.data.filter(m=>!f.some(y=>y.id===m.id));return[...f,...p]})},[l,n]);const A=()=>{l&&n<l.totalPages&&i(f=>f+1)};return c?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):u?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"text-red-500 text-lg font-medium",children:"Error loading puzzle attempts."})}):h.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-6 py-8 border border-gray-100",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Puzzle Attempts History"}),a.length>0?h.jsx("div",{className:"space-y-6",children:a.map(f=>{var p,m,y,g,v,x,b,w;return h.jsxs("div",{className:"p-4 border rounded-lg shadow-sm flex flex-col sm:flex-row items-center sm:items-start space-y-4 sm:space-y-0 sm:space-x-6",children:[h.jsxs("div",{className:"flex-shrink-0 flex-col space-x-4",children:[h.jsx("img",{className:"w-24 h-24 object-contain rounded",src:Tt+"/images/"+f.image_url,alt:"Your attempt"}),h.jsx("img",{className:"w-24 h-24 object-contain rounded",src:Tt+"/images/"+((m=(p=f.assigned_puzzle)==null?void 0:p.puzzle)==null?void 0:m.image_url),alt:"Puzzle reference"})]}),h.jsxs("div",{className:"flex-grow",children:[h.jsx("p",{className:"text-lg font-semibold text-gray-800",children:(g=(y=f.assigned_puzzle)==null?void 0:y.puzzle)==null?void 0:g.description}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.bot_remarks})]}),h.jsx("div",{className:"flex flex-col items-end",children:h.jsx("div",{className:"flex items-center space-x-1",children:h.jsxs("span",{className:`text-sm ${(f==null?void 0:f.obtained_score)>=((x=(v=f==null?void 0:f.assigned_puzzle)==null?void 0:v.puzzle)==null?void 0:x.total_score)/2?"text-green-400":"text-red-500"} font-bold w-[50px]`,children:[f.obtained_score," / ",(w=(b=f.assigned_puzzle)==null?void 0:b.puzzle)==null?void 0:w.total_score]})})})]},f.id)})}):h.jsx("p",{className:"text-gray-500 italic",children:"No puzzle attempts yet"}),l&&l.totalPages&&n<l.totalPages&&h.jsx("button",{onClick:A,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors duration-200",children:"Load More"})]})},J8=({title:t,icon:e,data:r})=>h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 hover:shadow-xl border border-gray-100",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[h.jsx("div",{className:"p-3 bg-indigo-50 rounded-lg",children:h.jsx(e,{className:"text-indigo-600 text-xl"})}),h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:t})]}),h.jsx("p",{className:"text-gray-600 font-medium ml-1",children:r})]}),wEe=({quiz:t,subject_id:e,user_id:r,bot_id:n})=>(console.log("quiz hjjsadflksadf",t),h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border border-gray-100",children:[h.jsxs("div",{className:"border-b border-gray-100 pb-4 mb-4",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t.quiz.title}),h.jsx("p",{className:"text-gray-600",children:t.quiz.description})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Start Time:"}),h.jsx("br",{}),new Date(t.quiz.start_time).toLocaleString()]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Duration:"}),h.jsx("br",{}),t.quiz.duration," minutes"]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Total Score:"}),h.jsx("br",{}),t.quiz.total_score||"N/A"]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"End Time:"}),h.jsx("br",{}),new Date(t.quiz.end_time).toLocaleString()]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Obtained Score:"}),h.jsx("br",{}),t.obtained_score]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Status:"}),h.jsx("br",{}),h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.marked?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.marked?"Marked":"Pending"})]})]})]}),h.jsx("div",{className:"text-right mt-4",children:h.jsx(uf,{to:`/teacher/subject/${e}/${r}/${n}/${t.id}`,className:"inline-block px-4 py-2 text-sm font-semibold text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition duration-200",children:"See Details"})})]})),CEe=()=>{const{user_id:t,subject_id:e}=ur(),[r,n]=_.useState(1),i=10,[s,a]=_.useState([]),{data:o,isLoading:l,isError:c,error:u,refetch:d}=x3e(Number(t),{skip:!t}),{data:A,isLoading:f,isError:p,refetch:m}=Zbe({subjectId:Number(e),studentId:Number(t),page:r,limit:i},{skip:!t||!e});_.useEffect(()=>{t&&e&&(d(),m())},[t,e,d,m]),_.useEffect(()=>{A&&A.data&&a(r===1?A.data:g=>{const v=A.data.filter(x=>!g.some(b=>b.id===x.id));return[...g,...v]})},[A,r]);const y=()=>{A&&r<A.totalPages&&n(g=>g+1)};return l?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):c?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"text-red-500 text-lg font-medium",children:u.message||"Error loading student details"})}):h.jsxs(h.Fragment,{children:[p&&h.jsx("div",{children:"Subject is unavailable to teacher"}),!p&&!c&&h.jsx("div",{className:"bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[h.jsx(Rke,{studentData:o}),h.jsx(Hke,{attemptedQuizzes:{...A,data:s,page:r},loadMore:y}),h.jsx(bEe,{})]})})]})},SEe=()=>h.jsxs("div",{children:[h.jsx(CEe,{}),h.jsx(Qke,{})]}),BEe=()=>{var b;const t=xt(),[e,r]=_.useState(1),[n,i]=_.useState(10),[s,a]=_.useState(!1),[o,l]=_.useState(null),{data:c,isLoading:u,error:d,isError:A,refetch:f}=i3e({page:e,limit:n});_.useEffect(()=>{f()},[e,n,f]);const[p]=a3e(),m=async w=>{const C=await p(w).unwrap();(C==null?void 0:C.statusCode)===200?(Z.success("Quiz deleted successfully!",{position:"top-right",autoClose:3e3}),f()):Z.error("Quiz deletion failed!",{position:"top-right",autoClose:3e3}),a(!1),l(null)},y=w=>{l(w),a(!0)},g=[{Header:"ID",accessor:"id"},{Header:"Title",accessor:"title"},{Header:"Description",accessor:"description"},{Header:"Type",accessor:"quiz_type"},{Header:"Start Time",accessor:"start_time"},{Header:"End Time",accessor:"end_time"},{Header:"Duration (mins)",accessor:"duration"},{Header:"Actions",accessor:"actions"}],v=w=>h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ea,{onClick:()=>t(`/teacher/quiz/${w.id}`),className:"w-4 h-4 text-[#6925EF] hover:text-[#3C1589] cursor-pointer transition-colors",title:"Edit Quiz"}),h.jsx(Pu,{onClick:()=>y(w.id),className:"w-4 h-4 text-red-500 hover:text-red-700 cursor-pointer transition-colors",title:"Delete Quiz"})]}),x=Array.isArray(c==null?void 0:c.data)?(b=c==null?void 0:c.data)==null?void 0:b.map(w=>({...w,actions:v(w)})):[];return h.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:[h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[h.jsx(SL,{className:"text-[#6925EF]"}),"Manage Quizzes"]}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all quizzes in the system"})]}),h.jsxs(hn,{onClick:()=>t("/teacher/quiz/create"),className:"self-stretch sm:self-auto",children:[h.jsx(SL,{}),h.jsx("span",{children:" New Quiz"})]})]})}),h.jsx("div",{className:"p-6",children:u?h.jsxs("div",{className:"flex justify-center items-center",children:[h.jsx(kr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"text-gray-600 ml-2",children:"Loading quizzes..."})]}):A?h.jsx("div",{className:"text-red-500 text-center",children:(d==null?void 0:d.message)||"Error loading quizzes"}):x.length===0?h.jsx("div",{className:"text-gray-500 text-center",children:"No quizzes found."}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsx("tr",{children:g.map(w=>h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:w.Header},w.accessor))})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(w=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w.id}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w.title}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:w.description}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w.quiz_type}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w!=null&&w.start_time?h.jsx(h.Fragment,{children:new Date(w.start_time).toLocaleString()}):"No Time"}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w!=null&&w.end_time?h.jsx(h.Fragment,{children:new Date(w.end_time).toLocaleString()}):"No Time"}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w.duration}),h.jsx("td",{className:"px-6 py-4 text-sm",children:w.actions})]},w.id))})]})})}),h.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200",children:h.jsx(Gl,{currentPage:e,totalPages:1,limit:n,onPageChange:r,onLimitChange:w=>{i(w),r(1)}})})]})}),h.jsx(Nh,{isOpen:s,onClose:()=>a(!1),onConfirm:()=>m(o),title:"Delete Quiz",message:"Are you sure you want to delete this quiz? This action cannot be undone."})]})},_Ee=()=>{var m,y;const t=xt(),[e,r]=_.useState(1),[n,i]=_.useState(10),{refetch:s,data:a,error:o,isLoading:l,isError:c}=zM({page:e,limit:n});_.useEffect(()=>{s()},[]);const u=g=>{t(`/admin/schools/${g}`)},d=g=>h.jsx("div",{className:"flex items-center gap-2",children:h.jsx(Bu,{icon:h.jsx(ea,{size:16}),onClick:()=>u(g.id),tooltip:"Edit School",variant:"primary"})}),A=[{Header:"Name",accessor:"name"},{Header:"Description",accessor:"description"},{Header:"Actions",accessor:"actions"}],f=((m=a==null?void 0:a.data)==null?void 0:m.data.map(g=>({...g,actions:d(g)})))||[],p=Math.ceil(((y=a==null?void 0:a.data)==null?void 0:y.total)/n)||1;return l?h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100",children:h.jsx(kr,{className:"inline animate-spin text-[#6925EF]"})}):c?h.jsxs("div",{children:["Error: ",o.message]}):h.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Schools"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all schools in the system"})]}),h.jsxs(hn,{onClick:()=>t("/admin/schools/create"),className:"self-stretch sm:self-auto",children:[h.jsx(RA,{}),h.jsx("span",{children:"Create School"})]})]})}),h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsx(zu,{columns:A,data:f,currentPage:e,totalPages:p,limit:n,onPageChange:r,onLimitChange:g=>{i(g),r(1)},emptyStateMessage:"No schools found."})})})]})})})},kEe=Oo().shape({name:mt().required("School name is required").min(3,"School name must be at least 3 characters"),description:mt().required("Description is required").min(10,"Description must be at least 10 characters")}),EEe=()=>{const{register:t,handleSubmit:e,formState:{errors:r,isSubmitting:n},reset:i}=ql({resolver:Wl(kEe)});xt(),ti();const[s,{isLoading:a,isError:o,error:l}]=N8e(),c=async u=>{var d;try{const A={...u};await s(A).unwrap(),Z.success("School created successfully"),i()}catch(A){const f=((d=A==null?void 0:A.data)==null?void 0:d.message)||"Failed to create school";Z.error(f)}};return h.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[h.jsx(yh,{className:"text-[#6925EF] w-6 h-6"}),"Create New School"]}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Add a new school to the system with detailed information."})]}),h.jsxs("form",{onSubmit:e(c),className:"px-6 py-8",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(yh,{className:"text-[#6925EF] w-4 h-4"}),"School Name"]}),h.jsx("input",{type:"text",...t("name"),placeholder:"Enter school name",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.name?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.name&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name.message})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(QA,{className:"text-[#6925EF] w-4 h-4"}),"Description"]}),h.jsx("textarea",{...t("description"),placeholder:"Enter school description",rows:"4",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.description?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.description&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.description.message})]})]}),h.jsx("div",{className:"mt-8 flex justify-end",children:h.jsx(hn,{className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50",type:"submit",disabled:n||a,children:n||a?"Creating...":h.jsxs(h.Fragment,{children:[h.jsx(_1,{className:"w-4 h-4"}),"Create School"]})})})]})]})})},MEe=Oo().shape({name:mt().required("School name is required").min(3,"School name must be at least 3 characters"),description:mt().required("Description is required").min(10,"Description must be at least 10 characters")}),FEe=()=>{var p;xt();const{school_id:t}=ur(),[e,{isLoading:r}]=I8e(),{refetch:n,data:i,isLoading:s,isError:a,error:o}=j8e(t);_.useEffect(()=>{n()},[]);const{register:l,handleSubmit:c,formState:{errors:u,isSubmitting:d},reset:A}=ql({resolver:Wl(MEe)});_.useEffect(()=>{if((i==null?void 0:i.status)===200&&(i!=null&&i.data)){const{name:m,description:y}=i.data;A({name:m,description:y})}},[i,A]);const f=async m=>{var y;try{const g={id:+t,schoolData:{...m}};(await e(g).unwrap()).status==200&&(n(),Z.success("School updated successfully"))}catch(g){const v=((y=g==null?void 0:g.data)==null?void 0:y.message)||"Failed to update school";Z.error(v)}};return s?h.jsx("div",{children:"Loading school data..."}):a?h.jsxs("div",{children:["Error: ",((p=o==null?void 0:o.data)==null?void 0:p.message)||"Failed to fetch school data"]}):h.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[h.jsx(yh,{className:"text-[#6925EF] w-6 h-6"}),"Update School"]}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update the school details in the system."})]}),h.jsxs("form",{onSubmit:c(f),className:"px-6 py-8",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(yh,{className:"text-[#6925EF] w-4 h-4"}),"School Name"]}),h.jsx("input",{type:"text",...l("name"),placeholder:"Enter school name",className:`mt-1 block w-full px-4 py-2 bg-white border ${u.name?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),u.name&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.name.message})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(QA,{className:"text-[#6925EF] w-4 h-4"}),"Description"]}),h.jsx("textarea",{...l("description"),placeholder:"Enter school description",rows:"4",className:`mt-1 block w-full px-4 py-2 bg-white border ${u.description?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),u.description&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.description.message})]})]}),h.jsx("div",{className:"mt-8 flex justify-end",children:h.jsx(hn,{className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50",type:"submit",disabled:d||r,children:d||r?"Updating...":h.jsxs(h.Fragment,{children:[h.jsx(ff,{className:"w-4 h-4"}),"Update School"]})})})]})]})})};function TEe(){const t=xt(),{data:e,isLoading:r,isError:n,error:i,refetch:s}=s3e();_.useEffect(()=>{s()},[]);const o=(()=>{const d=new Date;return new Date(Date.UTC(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()))})(),[l]=t3e(),c=async d=>{try{const A=await l({quiz_id:Number(d)}).unwrap();A.statusCode===200?t(`/quiz/${d}`):toast.error(A.message)}catch{toast.error("Failed to navigate to quiz. Please try again.")}};if(r)return h.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:h.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center",children:[h.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-purple-600 border-t-transparent rounded-full mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Loading available quizzes..."})]})});if(n)return h.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:h.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center max-w-md w-full",children:[h.jsx(tee,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Error Loading Quizzes"}),h.jsx("p",{className:"text-gray-600 mb-4",children:(i==null?void 0:i.message)||"Failed to load quizzes. Please try again later."}),h.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Retry"})]})});const u=(e==null?void 0:e.data)||[];return u.length?h.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Available Quizzes"}),h.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Select a quiz to begin your assessment. Make sure to check the duration and schedule before starting."})]}),h.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:u.map(d=>{var A,f,p,m,y;return h.jsxs("div",{className:"min-h-[300px]  bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden cursor-pointer group",children:[h.jsxs("div",{className:"p-6 h-[75%] ",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 group-hover:text-purple-600 transition-colors",children:d.title}),h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${!d.quiz_type==="MCQS"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:d.quiz_type===ga.MCQS?"MCQS":"QA"})]}),h.jsx("p",{className:"mt-2 text-gray-600 text-sm line-clamp-2",children:d.description}),h.jsxs("div",{className:"mt-4 space-y-2",children:[h.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[h.jsx(n3,{className:"w-4 h-4 mr-2 text-gray-400"}),"Duration: ",d.duration," minutes"]}),h.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[h.jsx(a9,{className:"w-4 h-4 mr-2 text-gray-400"}),(A=d==null?void 0:d.subject)==null?void 0:A.title]}),(d==null?void 0:d.start_time)&&(d==null?void 0:d.end_time)&&h.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[h.jsx(o9,{className:"w-4 h-4 mr-2 text-gray-400"}),new Date(d.start_time).toLocaleDateString()," - ",new Date(d.end_time).toLocaleDateString()]})]})]}),h.jsx("div",{className:"px-6 w-full py-4 border-t border-gray-100",children:(d==null?void 0:d.start_time)!==null&&(d==null?void 0:d.end_time)!==null?h.jsx(h.Fragment,{children:o<=new Date(`${d==null?void 0:d.start_time}T00:00:00Z`)&&o<=new Date(`${d==null?void 0:d.end_time}T00:00:00Z`)?h.jsx("button",{className:`w-full py-2 rounded-lg flex items-center justify-center ${(f=d==null?void 0:d.quiz_attempts[0])!=null&&f.submitted?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-700"}`,onClick:g=>{g.stopPropagation(),c(d.id)},disabled:(p=d==null?void 0:d.quiz_attempts[0])==null?void 0:p.submitted,children:"Attempt Quiz"}):h.jsx(h.Fragment,{children:o<new Date(d.start_time)?h.jsx("button",{className:"w-full py-2 rounded-lg flex items-center justify-center bg-gray-300 text-gray-600 cursor-not-allowed",disabled:!0,children:"Not Started"}):h.jsx("button",{className:"w-full py-2 rounded-lg flex items-center justify-center bg-gray-300 text-gray-600 cursor-not-allowed",disabled:!0,children:"Time Out"})})}):h.jsx(h.Fragment,{children:h.jsx("button",{className:`w-full py-2 rounded-lg flex items-center justify-center ${(m=d==null?void 0:d.quiz_attempts[0])!=null&&m.submitted?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-700"}`,onClick:g=>{g.stopPropagation(),c(d.id)},disabled:(y=d==null?void 0:d.quiz_attempts[0])==null?void 0:y.submitted,children:"Attempt Quiz"})})})]},d.id)})})]})}):h.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:h.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center max-w-md w-full",children:[h.jsx(a9,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Quizzes Available"}),h.jsx("p",{className:"text-gray-600",children:"There are currently no quizzes available for your level."})]})})}function DEe(){var E,M,D,L,I,z,R,Y,$,P,q,N,ae,oe,O,fe,Se;const t=xt(),{quizId:e}=ur(),[r,n]=_.useState(0),[i,s]=_.useState({}),[a,o]=_.useState(0),[l,c]=_.useState(!0),{data:u,isLoading:d,isError:A,error:f}=CY(e),[p,{isLoading:m,isError:y,isSuccess:g}]=o3e(),x=(()=>{const ie=new Date;return new Date(Date.UTC(ie.getUTCFullYear(),ie.getUTCMonth(),ie.getUTCDate()))})();_.useEffect(()=>{var ie,pe,J,re;u&&(((ie=u==null?void 0:u.data)==null?void 0:ie.start_time)!==null&&((pe=u==null?void 0:u.data)==null?void 0:pe.end_time)!==null?c(x<=new Date(`${(J=u==null?void 0:u.data)==null?void 0:J.start_time}T00:00:00Z`)&&x<=new Date(`${(re=u==null?void 0:u.data)==null?void 0:re.end_time}T00:00:00Z`)):c(!0))},[u]),_.useEffect(()=>{u&&!l&&(Z.error("This quiz is not available at the moment.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),t("/quiz"))},[u,l]),_.useEffect(()=>{var ie;if(u){const pe=localStorage.getItem(`quizStartTime_${e}`),J=localStorage.getItem(`quizDuration_${e}`);if(pe&&J){const re=Math.floor((new Date().getTime()-parseInt(pe,10))/1e3),ee=Math.max(0,parseInt(J,10)-re);o(ee)}else{const re=new Date().getTime(),ee=((ie=u==null?void 0:u.data)==null?void 0:ie.duration)*60;localStorage.setItem(`quizStartTime_${e}`,re),localStorage.setItem(`quizDuration_${e}`,ee),o(ee)}}},[u,e]);const b=(ie,pe)=>{s(J=>{var re,ee;return{...J,[ie]:{option_id:((re=u==null?void 0:u.data)==null?void 0:re.questions[r].question_type)===ga.MCQS?pe:null,text_answer:((ee=u==null?void 0:u.data)==null?void 0:ee.questions[r].question_type)===ga.QA?pe:null}}})},w=async()=>{try{await p({quiz_id:parseInt(e,10),answers:Object.entries(i).map(([pe,J])=>({question_id:parseInt(pe,10),option_id:J.option_id,text_answer:J.text_answer}))}).unwrap()&&(localStorage.removeItem(`quizStartTime_${e}`),localStorage.removeItem(`quizDuration_${e}`),Z.success("Quiz submitted successfully!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),setTimeout(()=>{t("/quiz")},3e3))}catch(ie){console.error("Error submitting quiz:",ie),Z.error("Failed to submit quiz. Please try again.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}};if(_.useEffect(()=>{if(!u||a<=0)return;const ie=setInterval(()=>{o(pe=>pe<=1?(clearInterval(ie),w(),0):pe-1)},1e3);return()=>clearInterval(ie)},[u,a,w]),d)return h.jsxs("div",{className:"flex justify-center items-center h-screen",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-600"}),h.jsx("span",{className:"ml-2 text-gray-600",children:"Loading quiz..."})]});if(A)return setTimeout(()=>{t("/quiz")},1500),h.jsx("div",{className:"text-red-500 text-center mt-10",children:(f==null?void 0:f.message)||((E=f==null?void 0:f.data)==null?void 0:E.message)||"Error loading quiz"});if(!u)return h.jsx("div",{className:"text-gray-500 text-center mt-10",children:"No quiz found."});const C=ie=>{const pe=Math.floor(ie/60),J=ie%60;return`${pe}:${J<10?"0":""}${J}`},S=(M=u==null?void 0:u.data)==null?void 0:M.questions[r].id,B=i[S];return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("header",{className:"bg-white shadow-sm",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:(D=u==null?void 0:u.data)==null?void 0:D.title}),h.jsxs("div",{className:"mt-1 flex flex-wrap gap-4",children:[h.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[h.jsx(eee,{className:"w-4 h-4 mr-2 text-purple-600"}),((I=(L=u==null?void 0:u.data)==null?void 0:L.subject)==null?void 0:I.title)||"No Subject"]}),h.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[h.jsx(n3,{className:"w-4 h-4 mr-2 text-purple-600"}),(z=u==null?void 0:u.data)==null?void 0:z.duration," minutes"]}),h.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[h.jsx(qke,{className:"w-4 h-4 mr-2 text-purple-600"}),((Y=(R=u==null?void 0:u.data)==null?void 0:R.level)==null?void 0:Y.level)||"No Level"]})]})]}),h.jsx("div",{className:"mt-4 md:mt-0",children:h.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-purple-100 text-purple-800",children:[h.jsx(n3,{className:"w-4 h-4 mr-2"}),h.jsxs("span",{children:[C(a)," remaining"]})]})})]})})}),h.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[h.jsx("div",{className:"w-full h-2 bg-gray-100",children:h.jsx("div",{className:"h-full bg-gradient-to-r from-purple-600 to-purple-800 transition-all duration-300",style:{width:`${(r+1)/((P=($=u==null?void 0:u.data)==null?void 0:$.questions)==null?void 0:P.length)*100}%`}})}),h.jsxs("div",{className:"p-6 h-full",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Question ",r+1," of ",(q=u==null?void 0:u.data)==null?void 0:q.questions.length]}),h.jsxs("span",{className:"text-sm font-medium text-purple-600",children:[Math.round((r+1)/((N=u==null?void 0:u.data)==null?void 0:N.questions.length)*100),"% Complete"]})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsx("h2",{className:"text-lg font-medium text-gray-900",children:(ae=u==null?void 0:u.data)==null?void 0:ae.questions[r].text}),((oe=u==null?void 0:u.data)==null?void 0:oe.quiz_type)==="multiple-choice"?h.jsx("div",{className:"grid gap-3",children:(O=u==null?void 0:u.data)==null?void 0:O.questions[r].options.map((ie,pe)=>{const J=(B==null?void 0:B.option_id)===ie.id;return h.jsxs("button",{onClick:()=>b(S,ie.id),className:`flex items-center p-4 rounded-lg border-2 transition-all
                          ${J?"border-purple-600 bg-purple-50 text-purple-700":"border-gray-200 hover:border-purple-200 hover:bg-purple-50"}`,children:[h.jsxs("span",{className:`w-6 h-6 flex items-center justify-center rounded-full border-2 mr-3
                            ${J?"border-purple-600 bg-purple-600 text-white":"border-gray-300"}`,children:[String.fromCharCode(65+pe)," "]}),ie.text," "]},ie.id)})}):h.jsx("div",{className:"mt-3",children:h.jsx("textarea",{type:"text",value:(B==null?void 0:B.text_answer)||"",onChange:ie=>b(S,ie.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600",placeholder:"Type your answer here..."})})]})]}),h.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-between",children:[h.jsxs("button",{onClick:()=>n(ie=>Math.max(0,ie-1)),disabled:r===0,className:"inline-flex items-center px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx(Yke,{className:"w-5 h-5 mr-2"}),"Previous"]}),r<((Se=(fe=u==null?void 0:u.data)==null?void 0:fe.questions)==null?void 0:Se.length)-1?h.jsxs("button",{onClick:()=>n(ie=>ie+1),className:"inline-flex items-center px-6 py-2 rounded-lg bg-purple-600 text-white hover:bg-purple-700",children:["Next",h.jsx(Jke,{className:"w-5 h-5 ml-2"})]}):h.jsxs("button",{onClick:w,className:`inline-flex items-center px-6 py-2 rounded-lg ${m?"bg-gray-300 hover:bg-green-700":"bg-green-600"}  text-white `,disabled:m,children:[h.jsx(ree,{className:"w-5 h-5 mr-2"}),m?"Submitting...":"Submit Quiz"]})]})]})})]})}const LEe=({formTitle:t="Create Quiz",formDescription:e="Fill in the details to create a new quiz",isLoading:r=!1,quizData:n,subjects:i=[],onSubmit:s,onChange:a,onAddQuestion:o,onRemoveQuestion:l,isEdit:c=!1})=>{var g,v;console.log("quizData",n);const{data:u,isLoading:d,isError:A,error:f}=SM(),p=((v=(g=u==null?void 0:u.data)==null?void 0:g.teacher_profile)==null?void 0:v.subjects)||i;if(d)return h.jsx("div",{children:"Loading subjects..."});if(A)return h.jsxs("div",{children:["Error loading subjects: ",f.message]});const m=(x,b)=>{const w=n.questions.map((C,S)=>S===x?{...C,options:C.options.map((B,E)=>({...B,isCorrect:E===b}))}:C);a("questions",w)},y=x=>x?new Date(x).toISOString().split("T")[0]:"";return h.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6 lg:p-8",children:h.jsxs("div",{className:"max-w-5xl mx-auto",children:[h.jsx("div",{className:"bg-white rounded-t-2xl shadow-sm border border-b-0 border-gray-200 p-6 md:p-8",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-xl flex items-center justify-center",children:h.jsx(eee,{className:"h-6 w-6 text-purple-600"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:t}),h.jsx("p",{className:"text-gray-600 mt-1",children:e})]})]})}),h.jsx("div",{className:"bg-white rounded-b-2xl shadow-lg border border-gray-200",children:h.jsxs("form",{onSubmit:s,className:"divide-y divide-gray-200",children:[h.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[h.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Quiz Title*"}),h.jsx("input",{type:"text",name:"title",value:n.title,onChange:x=>a("title",x.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter quiz title"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subject*"}),h.jsxs("select",{name:"subject",value:n.subject,onChange:x=>a("subject",x.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[h.jsx("option",{value:"",children:"Select Subject"}),p.map(x=>h.jsx("option",{value:x.id,children:x.title},x.id))]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description*"}),h.jsx("textarea",{name:"description",value:n.description,onChange:x=>a("description",x.target.value),rows:"4",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter quiz description"})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Time"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(o9,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"date",name:"startTime",value:y(n.startTime),onChange:x=>a("startTime",x.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Time"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(o9,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"date",name:"endTime",value:y(n.endTime),onChange:x=>a("endTime",x.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Duration (minutes)*"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(n3,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"number",name:"duration",value:n.duration,onChange:x=>a("duration",parseInt(x.target.value)),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter duration"})]})]})]})]}),h.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Questions"}),h.jsxs("button",{type:"button",onClick:o,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-purple-600 bg-purple-50 rounded-lg hover:bg-purple-100",children:[h.jsx(sEe,{className:"mr-2 h-4 w-4"}),"Add Question"]})]}),h.jsx("div",{className:"space-y-6",children:n.questions.map((x,b)=>{var w;return h.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"h-8 w-8 bg-purple-100 rounded-lg flex items-center justify-center",children:h.jsx(Zke,{className:"h-4 w-4 text-purple-600"})}),h.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Question ",b+1]})]}),n.questions.length>1&&h.jsx("button",{type:"button",onClick:()=>l(b),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:h.jsx(cEe,{className:"h-4 w-4"})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("textarea",{value:x.text,onChange:C=>a(`questions[${b}].text`,C.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:"3",placeholder:"Enter your question here..."}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Score*"}),h.jsx("input",{type:"number",value:x.score,onChange:C=>{const S=parseInt(C.target.value);a(`questions[${b}].score`,S)},className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter score"})]}),n.quizType==="multiple-choice"&&h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(w=x==null?void 0:x.options)==null?void 0:w.map((C,S)=>h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("input",{type:"radio",name:`question-${b}-correct`,checked:C==null?void 0:C.isCorrect,onChange:()=>m(b,S),className:"h-4 w-4 text-purple-600 focus:ring-purple-500"}),h.jsx("input",{type:"text",value:C==null?void 0:C.text,onChange:B=>a(`questions[${b}].options[${S}].text`,B.target.value),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:`Option ${S+1}*`})]},S))})]})]},b)})})]}),h.jsx("div",{className:"p-6 md:p-8 flex justify-between items-center",children:h.jsxs("button",{type:"submit",disabled:r,className:`w-full md:w-auto flex items-center justify-center px-6 py-3 ${r?"bg-gray-400":"bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500"}   text-white font-medium rounded-lg  disabled:opacity-50`,children:[h.jsx(ree,{className:"mr-2 h-4 w-4"}),r?"Saving...":c?"Update Quiz":"Create Quiz"]})})]})})]})})},NEe=()=>{var f;const{quiz_id:t}=ur(),{data:e,isLoading:r,isError:n}=CY(t),[i,{isLoading:s}]=r3e(),a=p=>p?new Date(p).toISOString().slice(0,16):"",[o,l]=_.useState({id:null,title:"",description:"",startTime:"",endTime:"",duration:0,score:0,subject:"",quizType:"",questions:[]});_.useEffect(()=>{var p,m,y,g,v,x,b,w,C,S;e&&l({id:(p=e==null?void 0:e.data)==null?void 0:p.id,title:(m=e==null?void 0:e.data)==null?void 0:m.title,description:(y=e==null?void 0:e.data)==null?void 0:y.description,startTime:a((g=e==null?void 0:e.data)==null?void 0:g.start_time),endTime:a((v=e==null?void 0:e.data)==null?void 0:v.end_time),duration:(x=e==null?void 0:e.data)==null?void 0:x.duration,score:((b=e==null?void 0:e.data)==null?void 0:b.score)||0,subject:(w=e==null?void 0:e.data)==null?void 0:w.subject_id,quizType:(C=e==null?void 0:e.data)==null?void 0:C.quiz_type,questions:(S=e==null?void 0:e.data)==null?void 0:S.questions.map(B=>{var E;return{id:B==null?void 0:B.id,text:B==null?void 0:B.text,score:(B==null?void 0:B.score)||0,options:((E=B==null?void 0:B.options)==null?void 0:E.map(M=>({id:M==null?void 0:M.id,text:M==null?void 0:M.text,isCorrect:M==null?void 0:M.is_correct})))||[]}})})},[e]);const c=(p,m)=>{if(console.log(p,m),p.includes("[")){const y=p.split(/[\[\].]+/).filter(Boolean),[g,v,x,b,w]=y;if(g==="questions"){const C=[...o.questions];x==="options"?C[v][x][b][w]=m:C[v][x]=m,l(S=>({...S,questions:C}))}}else l(y=>({...y,[p]:m}))},u=async p=>{var y;if(p.preventDefault(),console.log(o),o.startTime===""&&o.endTime!==""||o.startTime!==""&&o.endTime===""){Z.error("Both start_time & end_time can be null, or both must be defined"),l(g=>({...g,startTime:"",endTime:""}));return}if(!o.title.trim()){Z.error("Quiz title cannot be empty.");return}if(!o.description.trim()){Z.error("Quiz description cannot be empty.");return}if(o.duration<=0){Z.error("Duration must be greater than 0.");return}if(!o.subject){Z.error("Subject cannot be empty.");return}if(o.questions.length===0){Z.error("At least one question is required.");return}if(o.duration<=0){Z.error("Duration must be a positive integer.");return}for(const[g,v]of o.questions.entries()){if(!v.text.trim()){Z.error(`Question ${g+1} text cannot be empty.`);return}if(v.score<=0){Z.error(`Question ${g+1} score must be greater than 0.`);return}if(o.quizType==="multiple-choice"){if(v.options.length===0){Z.error(`Question ${g+1} must have at least one option.`);return}for(const[b,w]of v.options.entries())if(!w.text.trim()){Z.error(`Option ${b+1} in Question ${g+1} cannot be empty.`);return}if(!v.options.some(b=>b.isCorrect)){Z.error(`Question ${g+1} must have at least one correct option.`);return}}}const m={quiz_id:t,id:o.id,title:o.title,description:o.description,start_time:o.startTime===""?null:o.startTime,end_time:o.endTime===""?null:o.endTime,duration:o.duration,score:o.score,subject_id:o.subject,quiz_type:o.quizType,questions:o.questions.map(g=>({id:g.id,text:g.text,score:g.score,options:g.options.map(v=>({id:v.id,text:v.text,isCorrect:v.isCorrect}))}))};try{await i(m).unwrap(),Z.success("Quiz updated successfully!")}catch(g){console.error("Failed to update quiz:",g),Z.error(((y=g==null?void 0:g.data)==null?void 0:y.message)||(g==null?void 0:g.message)||"Failed to update quiz. Please try again.")}},d=()=>{l(p=>({...p,questions:[...p.questions,{text:"",score:0,options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1}]}]}))},A=p=>{o.questions[p].id||l(m=>({...m,questions:m.questions.filter((y,g)=>g!==p)}))};return r?h.jsx("div",{className:"flex justify-center items-center min-h-screen",children:h.jsx(rEe,{className:"h-8 w-8 text-purple-600 animate-spin"})}):n?h.jsx("div",{className:"text-center text-red-500 py-8",children:h.jsx("p",{children:"Error loading quiz data. Please try again later."})}):h.jsx(LEe,{formTitle:"Edit Quiz",formDescription:"Update your quiz details and questions",isLoading:s,quizData:o,subjects:(f=e==null?void 0:e.data)==null?void 0:f.subjects,onSubmit:u,onChange:c,onAddQuestion:d,onRemoveQuestion:A,isEdit:!0})},jEe=()=>{var d;const[t,e]=_.useState({page:1,limit:10}),{data:r,isLoading:n,error:i,refetch:s}=k3e(),a=xt(),o=A=>e(f=>({...f,page:A})),l=A=>e({page:1,limit:A});_.useEffect(()=>{s()},[t]);const c=((d=r==null?void 0:r.data)==null?void 0:d.map(A=>{var f,p,m,y,g;return{id:(f=A.user)==null?void 0:f.id,name:((p=A.user)==null?void 0:p.name)||"N/A",email:((m=A.user)==null?void 0:m.email)||"N/A",school:((y=A.school)==null?void 0:y.name)||"N/A",contact:((g=A.user)==null?void 0:g.contact)||"N/A"}}))||[],u=[{Header:"Name",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"School",accessor:"school"},{Header:"Contact",accessor:"contact"},{Header:"Actions",accessor:"actions",Cell:({id:A})=>h.jsx("button",{onClick:()=>a(`/parent/children/${A}`),className:"px-4 py-2 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg text-sm font-medium hover:opacity-90 transition-all duration-200",children:"View Details"})}];return h.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Children"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all child accounts"})]}),h.jsx("div",{className:"p-6",children:h.jsx(zu,{columns:u,data:c,isLoading:n,isError:!!i,error:i==null?void 0:i.message,currentPage:t.page,totalPages:(r==null?void 0:r.totalPages)||1,limit:t.limit,onPageChange:o,onLimitChange:l})})]})})})},IEe=({quizAttempt:t})=>h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border border-gray-100",children:[h.jsxs("div",{className:"border-b border-gray-100 pb-4 mb-4",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t.quiz.title}),h.jsx("p",{className:"text-gray-600",children:t.quiz.description})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Start Time:"}),h.jsx("br",{}),new Date(t.quiz.start_time).toLocaleString()]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Duration:"}),h.jsx("br",{}),t.quiz.duration," minutes"]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Obtained Score:"}),h.jsx("br",{}),t.obtained_score]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Total Score:"}),h.jsx("br",{}),t.quiz.total_score||"N/A"]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Status:"}),h.jsx("br",{}),h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.marked?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.marked?"Marked":"Pending"})]})]})]})]}),OEe=()=>{var d,A,f;const{child_id:t}=ur(),[e,r]=_.useState(1),n=5,[i,s]=_.useState([]),{data:a,isLoading:o,isError:l,error:c}=F3e({child_id:Number(t),page:e,limit:n},{skip:!t});_.useEffect(()=>{var p,m;a&&((p=a==null?void 0:a.data)!=null&&p.data)&&s(e===1?(m=a==null?void 0:a.data)==null?void 0:m.data:y=>{var v,x;const g=(x=(v=a==null?void 0:a.data)==null?void 0:v.data)==null?void 0:x.filter(b=>!y.some(w=>w.id===b.id));return[...y,...g]})},[a,e]);const u=()=>{var p;a&&e<((p=a==null?void 0:a.data)==null?void 0:p.totalPages)&&r(m=>m+1)};return o&&e===1?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):l?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"text-red-500 text-lg font-medium",children:((d=c==null?void 0:c.data)==null?void 0:d.message)||"Error loading quiz attempts"})}):h.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-6 py-8 border border-gray-100 mt-8",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Quiz Attempt History"}),i.length>0?h.jsx("div",{className:"space-y-6",children:i.map(p=>h.jsx(IEe,{quizAttempt:p},p.id))}):h.jsx("p",{className:"text-gray-500 italic",children:"No quiz attempts found."}),a&&((A=a==null?void 0:a.data)==null?void 0:A.totalPages)&&e<((f=a==null?void 0:a.data)==null?void 0:f.totalPages)&&h.jsx("button",{onClick:u,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors duration-200",children:"Load More"})]})},PEe=()=>{var d,A;const{child_id:t}=ur(),[e,r]=_.useState(1),n=10,[i,s]=_.useState([]),{data:a,isLoading:o,isError:l,refetch:c}=M3e({child_id:Number(t),page:e,limit:n},{skip:!t});_.useEffect(()=>{var f,p;a&&((f=a==null?void 0:a.data)!=null&&f.data)&&s(e===1?(p=a==null?void 0:a.data)==null?void 0:p.data:m=>{var g,v;const y=(v=(g=a==null?void 0:a.data)==null?void 0:g.data)==null?void 0:v.filter(x=>!m.some(b=>b.id===x.id));return[...m,...y]})},[a,e]);const u=()=>{var f;a&&e<((f=a==null?void 0:a.data)==null?void 0:f.totalPages)&&r(p=>p+1)};return o?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):l?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"text-red-500 text-lg font-medium",children:"Error loading puzzle attempts."})}):h.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-6 py-8 border border-gray-100",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Puzzle Attempts History"}),i.length>0?h.jsx("div",{className:"space-y-6",children:i.map(f=>{var p,m,y,g,v,x,b,w;return h.jsxs("div",{className:"p-4 border rounded-lg shadow-sm flex flex-col sm:flex-row items-center sm:items-start space-y-4 sm:space-y-0 sm:space-x-6",children:[h.jsxs("div",{className:"flex-shrink-0 flex-col space-x-4",children:[h.jsx("img",{className:"w-24 h-24 object-contain rounded",src:Tt+"/images/"+f.image_url,alt:"Your attempt"}),h.jsx("img",{className:"w-24 h-24 object-contain rounded",src:Tt+"/images/"+((m=(p=f.assigned_puzzle)==null?void 0:p.puzzle)==null?void 0:m.image_url),alt:"Puzzle reference"})]}),h.jsxs("div",{className:"flex-grow",children:[h.jsx("p",{className:"text-lg font-semibold text-gray-800",children:(g=(y=f.assigned_puzzle)==null?void 0:y.puzzle)==null?void 0:g.description}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.bot_remarks})]}),h.jsx("div",{className:"flex flex-col items-end",children:h.jsx("div",{className:"flex items-center space-x-1",children:h.jsxs("span",{className:`text-sm ${(f==null?void 0:f.obtained_score)>=((x=(v=f==null?void 0:f.assigned_puzzle)==null?void 0:v.puzzle)==null?void 0:x.total_score)/2?"text-green-400":"text-red-500"} font-bold w-[50px]`,children:[f.obtained_score," / ",(w=(b=f.assigned_puzzle)==null?void 0:b.puzzle)==null?void 0:w.total_score]})})})]},f.id)})}):h.jsx("p",{className:"text-gray-500 italic",children:"No puzzle attempts yet"}),a&&((d=a==null?void 0:a.data)==null?void 0:d.totalPages)&&e<((A=a==null?void 0:a.data)==null?void 0:A.totalPages)&&h.jsx("button",{onClick:u,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors duration-200",children:"Load More"})]})},Yh=({title:t,icon:e,data:r})=>h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 hover:shadow-xl border border-gray-100",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[h.jsx("div",{className:"p-3 bg-indigo-50 rounded-lg",children:h.jsx(e,{className:"text-indigo-600 text-xl"})}),h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:t})]}),h.jsx("p",{className:"text-gray-600 font-medium ml-1",children:r})]}),UEe=()=>{const{child_id:t}=ur(),{data:e,isLoading:r,isError:n}=E3e(Number(t),{skip:!t});if(r)return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})});if(n)return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"text-red-500 text-lg font-medium",children:"Error loading child details"})});const{user:i,school:s,level:a,attempted_quizes:o}=e.data;return h.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[h.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-6 py-8 border border-gray-100",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Student Profile"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.jsx(Yh,{title:"Name",icon:ui,data:i.name||"N/A"}),h.jsx(Yh,{title:"Email",icon:nE,data:i.email||"N/A"}),h.jsx(Yh,{title:"Contact",icon:aE,data:i.contact||"N/A"}),h.jsx(Yh,{title:"Roll No",icon:iE,data:e.data.user_roll_no||"N/A"}),h.jsx(Yh,{title:"School",icon:yh,data:s.name||"N/A"}),h.jsx(Yh,{title:"Level",icon:qq,data:a.level||"N/A"})]})]}),h.jsx(OEe,{}),h.jsx(PEe,{})]})})},QEe=()=>{var r,n,i,s,a,o,l,c,u,d,A,f,p,m,y,g,v,x;const{quiz_attempt_id:t}=ur();console.log(t);const{data:e}=e3e(Number(t),{skip:!t});return console.log("quiz derail route",e),h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border border-gray-100",children:["adsfdsflk",h.jsxs("div",{className:"border-b border-gray-100 pb-4 mb-4",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:(n=(r=e==null?void 0:e.data)==null?void 0:r.quiz)==null?void 0:n.title}),h.jsx("p",{className:"text-gray-600",children:(s=(i=e==null?void 0:e.data)==null?void 0:i.quiz)==null?void 0:s.description})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Start Time:"}),h.jsx("br",{}),new Date((o=(a=e==null?void 0:e.data)==null?void 0:a.quiz)==null?void 0:o.start_time).toLocaleString()]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Duration:"}),h.jsx("br",{}),(c=(l=e==null?void 0:e.data)==null?void 0:l.quiz)==null?void 0:c.duration," minutes"]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Total Score:"}),h.jsx("br",{}),((d=(u=e==null?void 0:e.data)==null?void 0:u.quiz)==null?void 0:d.total_score)||"N/A"]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"End Time:"}),h.jsx("br",{}),new Date((f=(A=e==null?void 0:e.data)==null?void 0:A.quiz)==null?void 0:f.end_time).toLocaleString()]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Obtained Score:"}),h.jsx("br",{}),(p=e==null?void 0:e.data)==null?void 0:p.obtained_score]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Status:"}),h.jsx("br",{}),h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(m=e==null?void 0:e.data)!=null&&m.marked?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:(y=e==null?void 0:e.data)!=null&&y.marked?"Marked":"Pending"})]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Answers"}),((v=(g=e==null?void 0:e.data)==null?void 0:g.answers)==null?void 0:v.length)>0?h.jsx("div",{className:"grid gap-4",children:(x=e==null?void 0:e.data)==null?void 0:x.answers.map((b,w)=>{var C,S,B,E,M,D;return h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["Question: ",(C=b==null?void 0:b.question)==null?void 0:C.text]}),h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(b==null?void 0:b.is_correct)==null?"":b.is_correct?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:(b==null?void 0:b.is_correct)==null?"":b!=null&&b.is_correct?"Correct":"Incorrect"})]}),((B=(S=e==null?void 0:e.data)==null?void 0:S.quiz)==null?void 0:B.quiz_type)===ga.MCQS&&((M=(E=b==null?void 0:b.question)==null?void 0:E.options)==null?void 0:M.map((L,I)=>h.jsx(h.Fragment,{children:h.jsx("div",{children:h.jsx("p",{className:`text-gray-600 ${L!=null&&L.is_correct?"font-semibold text-green-600 ":""}`,children:L==null?void 0:L.text})})}))),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-medium",children:"Answer:"})," ",(b==null?void 0:b.text_answer)||((D=b==null?void 0:b.selected_option)==null?void 0:D.text)||"N/A"]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-medium",children:"Score:"})," ",b==null?void 0:b.obtained_score]})]},w)})}):h.jsx("p",{className:"text-gray-500 italic",children:"No answers provided"})]})]})},sp=48,REe=({color:t="currentColor",direction:e="left",distance:r="md",duration:n=.4,easing:i="cubic-bezier(0, 0, 0, 1)",hideOutline:s=!0,label:a,lines:o=3,onToggle:l,render:c,rounded:u=!1,size:d=32,toggle:A,toggled:f,disabled:p=!1,animateOnMount:m=!1})=>{const[y,g]=_.useState(!1),[v,x]=_.useState(!1);_.useEffect(()=>{x(!0)},[]);const b=Math.max(12,Math.min(sp,d)),w=Math.round((sp-b)/2),C=b/12,S=Math.round(C),E=b/(o*((r==="lg"?.25:r==="sm"?.75:.5)+(o===3?1:1.25))),M=Math.round(E),D=S*o+M*(o-1),L=Math.round((sp-D)/2),I=o===3?r==="lg"?4.0425:r==="sm"?5.1625:4.6325:r==="lg"?6.7875:r==="sm"?8.4875:7.6675,z=(C-S+(E-M))/(o===3?1:2),R=parseFloat((b/I-z/(4/3)).toFixed(2)),Y=Math.max(0,n),$={cursor:p?"not-allowed":"pointer",height:`${sp}px`,position:"relative",transition:`${Y}s ${i}`,userSelect:"none",width:`${sp}px`},P={background:t,height:`${S}px`,left:`${w}px`,position:"absolute"};s&&($.outline="none"),u&&(P.borderRadius="9em");const q=()=>{const O=f!==void 0?f:y;return m&&!v?!O:O},N=A||g,ae=q();return c({barHeight:S,barStyles:P,burgerStyles:$,easing:i,handler:()=>{N(!ae),typeof l=="function"&&l(!ae)},isLeft:e==="left",isToggled:ae,label:a,margin:M,move:R,time:Y,topOffset:L,width:b})};function l9(){return l9=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l9.apply(this,arguments)}const HEe=t=>Pe.createElement(REe,l9({},t,{render:e=>Pe.createElement("div",{className:"hamburger-react","aria-label":e.label,"aria-expanded":e.isToggled,onClick:t.disabled?void 0:e.handler,onKeyUp:t.disabled?void 0:r=>r.key==="Enter"&&e.handler(),role:"button",style:{...e.burgerStyles,transform:`${e.isToggled?`rotate(${180*(e.isLeft?-1:1)}deg)`:"none"}`},tabIndex:0},Pe.createElement("div",{style:{...e.barStyles,width:`${e.width}px`,top:`${e.topOffset}px`,transition:`${e.time}s ${e.easing}`,transform:`${e.isToggled?`rotate(${45*(e.isLeft?-1:1)}deg) translate(${e.move*(e.isLeft?-1:1)}px, ${e.move}px)`:"none"}`}}),Pe.createElement("div",{style:{...e.barStyles,width:`${e.width}px`,top:`${e.topOffset+e.barHeight+e.margin}px`,transition:`${e.time}s ${e.easing}`,opacity:`${e.isToggled?"0":"1"}`}}),Pe.createElement("div",{style:{...e.barStyles,width:`${e.width}px`,top:`${e.topOffset+e.barHeight*2+e.margin*2}px`,transition:`${e.time}s ${e.easing}`,transform:`${e.isToggled?`rotate(${45*(e.isLeft?1:-1)}deg) translate(${e.move*(e.isLeft?-1:1)}px, ${e.move*-1}px)`:"none"}`}}))})),zEe=()=>{const t=yu(e=>e.auth.avatar_url);return ti(),h.jsx("header",{className:"flex w-full lg:w-[75%] items-center justify-center bg-white",children:h.jsxs("div",{className:"flex flex-row w-full p-4 leading-loose justify-between items-center",children:[h.jsx("div",{className:"justify-start text-start items-start ml-0 flex-1 max-w-md mx-auto",children:h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",placeholder:"Search your book...",className:"w-full h-9 pl-4 pr-10 py-2 rounded-full bg-slate-100 text-gray-800 focus:outline-none focus:ring-2 focus:ring-[#6E37DC] transition-all","aria-label":"Search for a book"}),h.jsxs("span",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-[#6E37DC]",children:[h.jsx(F0e,{})," "]})]})}),h.jsx("div",{className:"flex items-center space-x-4",children:h.jsx("span",{className:"w-8 h-8 rounded-full overflow-hidden border-[0.25rem] border-slate-200",children:h.jsx("img",{src:t!=null?`${Tt}/images/${t}`:oE,alt:"Language Flag",className:"w-full h-full object-cover transition-all hover:border-[#6E37DC] focus:ring-2 focus:ring-[#6E37DC]","aria-label":"Selected language"})})})]})})};function $Ee(t,e){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:e},t),_.createElement("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"}))}const ap=_.forwardRef($Ee);function VEe(t,e){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:e},t),_.createElement("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"}))}const op=_.forwardRef(VEe);function KEe(t,e){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:e},t),_.createElement("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"}))}const qEe=_.forwardRef(KEe);function WEe(t){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 480L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l128 0c20.1 0 39.1 9.5 51.2 25.6l19.2 25.6c6 8.1 15.5 12.8 25.6 12.8l160 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64zM184 272c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0z"},child:[]}]})(t)}const GEe="/assets/TOOTY-COvuiu_1.png",XEe=({setSideBarOpen:t,isSidebarOpen:e})=>{const r=xt(),i=Ua().pathname,{logout:s}=ti(),[a]=n0e(),o=u=>{r(`${u}`),t(!1)},{user:l}=ti();let c;return(l==null?void 0:l.role)===ve.USER?c=[{name:"Home",path:"/",icon:h.jsx(op,{className:"h-5 w-5"})},{name:"Puzzles",path:"puzzles",icon:h.jsx(Y8,{className:"h-5 w-5"})},{name:"Quiz",path:"/quiz",icon:h.jsx(WEe,{className:"h-5 w-5"})},{name:"Quiz History",path:"/quiz-history",icon:h.jsx(k0e,{className:"h-5 w-5"})},{name:"WhiteBoard",path:"/whiteboard",icon:h.jsx(X8,{className:"h-5 w-5"})},{name:"Settings",path:"/settings",icon:h.jsx(ap,{className:"h-5 w-5"})}]:(l==null?void 0:l.role)===ve.TEACHER?c=[{name:"Home",path:"/teacher/",icon:h.jsx(op,{className:"h-5 w-5"})},{name:"Subjects",path:"/teacher/subject",icon:h.jsx(oj,{className:"h-5 w-5"})},{name:"Quiz",path:"/teacher/quiz",icon:h.jsx(r2e,{className:"h-5 w-5"})},{name:"Puzzles",path:"/teacher/puzzles",icon:h.jsx(Y8,{className:"h-5 w-5"})},{name:"Settings",path:"/teacher/settings",icon:h.jsx(ap,{className:"h-5 w-5"})}]:(l==null?void 0:l.role)===ve.ADMIN?c=[{name:"Home",path:"/admin",icon:h.jsx(op,{className:"h-5 w-5"})},{name:"Users",path:"/admin/users",icon:h.jsx(ui,{className:"h-5 w-5"})},{name:"WhiteBoard",path:"/admin/whiteboard",icon:h.jsx(X8,{className:"h-5 w-5"})},{name:"Settings",path:"/admin/settings",icon:h.jsx(ap,{className:"h-5 w-5"})}]:(l==null?void 0:l.role)===ve.PARENT?c=[{name:"Children",path:"/parent/children",icon:h.jsx(oj,{className:"h-5 w-5"})}]:(l==null?void 0:l.role)===ve.SUPER_ADMIN?c=[{name:"Home",path:"/admin",icon:h.jsx(op,{className:"h-5 w-5"})},{name:"All SuperIntendents",path:"/admin/users",icon:h.jsx(ui,{className:"h-5 w-5"})},{name:"All Districts",path:"/admin/districts",icon:h.jsx(_0e,{className:"h-5 w-5"})},{name:"All Levels",path:"/admin/levels",icon:h.jsx(m2e,{className:"h-5 w-5"})},{name:"All Subjects",path:"/admin/subjects",icon:h.jsx(p2e,{className:"h-5 w-5"})},{name:"All Files",path:"/admin/files",icon:h.jsx(M4,{className:"h-5 w-5"})},{name:"All Bots",path:"/admin/bots",icon:h.jsx(Gs,{className:"h-5 w-5"})},{name:"All Voice Models",path:"/admin/deepgram-models",icon:h.jsx(Gs,{className:"h-5 w-5"})},{name:"Puzzles",path:"/admin/puzzles",icon:h.jsx(Y8,{className:"h-5 w-5"})},{name:"Settings",path:"/admin/settings",icon:h.jsx(ap,{className:"h-5 w-5"})}]:(l==null?void 0:l.role)===ve.SUPER_INTENDENT&&(c=[{name:"Home",path:"/admin",icon:h.jsx(op,{className:"h-5 w-5"})},{name:"All Principals",path:"/admin/users",icon:h.jsx(ui,{className:"h-5 w-5"})},{name:"All Schools",path:"/admin/schools",icon:h.jsx(yh,{className:"h-5 w-5"})},{name:"WhiteBoard",path:"/admin/whiteboard",icon:h.jsx(X8,{className:"h-5 w-5"})},{name:"Settings",path:"/admin/settings",icon:h.jsx(ap,{className:"h-5 w-5"})}]),h.jsxs(h.Fragment,{children:[e&&h.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>t(!1)}),h.jsx("div",{className:`fixed lg:relative inset-y-0 left-0 flex flex-col w-[280px] bg-purple-50 lg:w-[18vw] h-full bg-white transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"} z-50`,children:h.jsxs("div",{className:"flex flex-col h-full w-full items-center text-[#ABB5BA] shadow-slate-200 shadow-2xl",children:[h.jsx("div",{className:"flex items-center justify-center w-[60%] py-6",children:h.jsx("img",{src:GEe,alt:"Logo",className:"w-32 transition-all"})}),h.jsx("div",{className:"flex flex-col w-full items-center justify-between flex-1",children:h.jsxs("ul",{className:"w-[80%] space-y-2",children:[c.map(u=>{const d=i===u.path;return h.jsxs("li",{onClick:()=>o(u.path),className:`flex items-center space-x-4 p-2 cursor-pointer transition-all ${d?"bg-hover-gradient text-white rounded-md":"hover:bg-hover-gradient hover:rounded-md"} group`,children:[h.jsx("div",{className:`flex items-center text-purple-600 bg-transparent justify-center h-5 w-5 ${d?"text-purple-600 bg-white p-1 rounded-md":"group-hover:bg-white group-hover:p-1 group-hover:rounded-md"} transition-all duration-300`,children:u.icon}),h.jsx("span",{className:"block text-[14px] font-bold",children:u.name})]},u.name)}),h.jsxs("li",{onClick:()=>{a({refresh_token:localStorage.getItem("refreshToken")}),s(),r("/login")},className:"flex items-center space-x-4 mb-3 p-2 rounded-md cursor-pointer hover:bg-hover-gradient hover:text-white transition-all group",children:[h.jsx("div",{className:"flex items-center text-purple-600 bg-transparent justify-center h-5 w-5 group-hover:bg-white group-hover:p-1 group-hover:rounded-md transition-all",children:h.jsx(qEe,{className:"h-5 w-5"})}),h.jsx("span",{className:"block text-[14px] font-bold",children:"Logout"})]})]})})]})})]})},Jh=()=>{const t=Ua();console.log("location",t.pathname);const[e,r]=_.useState(!1),[n,i]=_.useState(!0);return _.useEffect(()=>()=>console.log("un-mounting admin layout"),[]),h.jsxs("div",{className:"flex min-h-screen w-full overflow-hidden",children:[h.jsxs("div",{className:"flex w-[100vw] min-h-screen relative overflow-hidden",children:[!t.pathname.includes("whiteboard")&&h.jsx("div",{className:`
${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
transition-transform duration-300 ease-in-out
fixed
bg-white
w-full lg:w-[20%]
h-screen
top-0 left-0
z-[50] lg:z-10

`,children:h.jsx(XEe,{setSideBarOpen:r,isSidebarOpen:e})}),h.jsxs("div",{className:` w-full ${t.pathname.includes("whiteboard")?"":"lg:w-[80%] lg:ml-[20%]"} min-h-screen`,children:[n&&!t.pathname.includes("whiteboard")&&h.jsx("div",{className:"fixed z-[35] flex w-full bg-white pl-[35px]",children:h.jsx(zEe,{})}),h.jsx("div",{className:` ${n&&!t.pathname.includes("whiteboard")?"mt-20":"mt-0"}  p-2  min-h-screen`,children:h.jsx(xY.Provider,{value:{showHeader:n,setShowHeader:i},children:h.jsx(Woe,{})})})]})]}),h.jsx("div",{className:"fixed top-2 left-0 bg-transparent z-[51] lg:hidden",children:h.jsx(HEe,{toggled:e,toggle:r,color:"#6F38DE",size:25})})]})},YEe=()=>{var m,y;const t=xt(),[e,r]=_.useState(1),[n,i]=_.useState(10),{data:s,isLoading:a,isError:o,error:l,refetch:c}=HM({page:e,limit:n});_.useEffect(()=>{c()},[]);const u=g=>{t(`/admin/districts/${g}`)},d=g=>h.jsx("div",{className:"flex items-center gap-2",children:h.jsx(Bu,{icon:h.jsx(ea,{size:16}),onClick:()=>u(g.id),tooltip:"Edit District",variant:"primary"})}),A=[{Header:"ID",accessor:"id"},{Header:"District",accessor:"district"},{Header:"Actions",accessor:"actions"}],f=(m=s==null?void 0:s.data)==null?void 0:m.map((g,v)=>({id:v+1,district:g.name,actions:d(g)})),p=(s==null?void 0:s.totalPages)||1;return h.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Districts"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all districts in the system"})]}),h.jsxs(hn,{onClick:()=>t("/admin/districts/create"),className:"self-stretch sm:self-auto",children:[h.jsx(RA,{}),h.jsx("span",{children:"Create District"})]})]})}),h.jsx("div",{className:"p-6",children:a?h.jsxs("div",{className:"flex justify-center items-center",children:[h.jsx(kr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"text-gray-600 ml-2",children:"Loading districts..."})]}):o?h.jsxs("div",{className:"text-red-500",children:["Error loading districts: ",((y=l==null?void 0:l.data)==null?void 0:y.message)||"Unknown error"]}):h.jsx("div",{className:"overflow-x-auto",children:h.jsx(zu,{columns:A,data:f,currentPage:e,totalPages:p,limit:n,onPageChange:r,onLimitChange:g=>{i(g),r(1)},emptyStateMessage:"No districts found."})})})]})})})},JEe=Oo().shape({name:mt().required("District name is required").min(3,"Name must be at least 3 characters")}),ZEe=()=>{const{register:t,handleSubmit:e,formState:{errors:r,isSubmitting:n},reset:i}=ql({resolver:Wl(JEe)}),s=xt(),[a]=F8e(),o=async l=>{var c;try{const u=await a({name:l.name}).unwrap();(u==null?void 0:u.statusCode)===200?(Z.success("District created successfully"),i(),s("/admin/districts")):Z.error((u==null?void 0:u.message)||"Failed to create district")}catch(u){Z.error(((c=u==null?void 0:u.data)==null?void 0:c.message)||"Failed to create district")}};return h.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[h.jsx(qS,{className:"text-[#6925EF] w-6 h-6"}),"Create New District"]}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Add a new district to the system with a unique name."})]}),h.jsxs("form",{onSubmit:e(o),className:"px-6 py-8",children:[h.jsx("div",{className:"grid grid-cols-1 gap-6",children:h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(qS,{className:"text-[#6925EF] w-4 h-4"}),"District Name"]}),h.jsx("input",{type:"text",...t("name"),placeholder:"Enter district name",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.name?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.name&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name.message})]})}),h.jsx("div",{className:"mt-8 flex justify-end",children:h.jsx(hn,{className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50",type:"submit",disabled:n,children:n?"Creating...":h.jsxs(h.Fragment,{children:[h.jsx(_1,{className:"w-4 h-4"}),"Create District"]})})})]})]})})},eMe=Oo().shape({name:mt().required("District name is required").min(3,"Name must be at least 3 characters")}),tMe=()=>{var f;const{district_id:t}=ur();xt();const{data:e,isLoading:r,isError:n,error:i,refetch:s}=D8e(Number(t)),[a,{isLoading:o}]=T8e();_.useEffect(()=>{s()},[]);const{register:l,handleSubmit:c,setValue:u,formState:{errors:d}}=ql({resolver:Wl(eMe)});_.useEffect(()=>{e!=null&&e.data&&u("name",e.data.name)},[e,u]);const A=async p=>{var m;try{const y=await a({id:Number(t),name:p.name}).unwrap();(y==null?void 0:y.statusCode)===200?(Z.success("District updated successfully"),s()):Z.error((y==null?void 0:y.message)||"Failed to update district")}catch(y){Z.error(((m=y==null?void 0:y.data)==null?void 0:m.message)||"Failed to update district")}};return r?h.jsxs("div",{className:"flex justify-center items-center min-h-screen",children:[h.jsx(kr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"text-gray-600 ml-2",children:"Loading district details..."})]}):n?h.jsxs("div",{className:"text-red-500 text-center mt-10",children:["Error loading district: ",((f=i==null?void 0:i.data)==null?void 0:f.message)||"Unknown error"]}):h.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[h.jsx(ea,{className:"text-[#6925EF] w-6 h-6"}),"Edit District"]}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update the district name."})]}),h.jsxs("form",{onSubmit:c(A),className:"px-6 py-8",children:[h.jsx("div",{className:"grid grid-cols-1 gap-6",children:h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(qS,{className:"text-[#6925EF] w-4 h-4"}),"District Name"]}),h.jsx("input",{type:"text",...l("name"),placeholder:"Enter district name",className:`mt-1 block w-full px-4 py-2 bg-white border ${d.name?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),d.name&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.name.message})]})}),h.jsx("div",{className:"mt-8 flex justify-end",children:h.jsxs(hn,{className:"w-full px-6 py-3 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50",type:"submit",disabled:o,children:[h.jsx(ff,{className:"w-5 h-5 mr-2"})," ",o?"Updating...":"Update District"]})})]})]})})},rMe=({quiz:t})=>h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border border-gray-100",children:[h.jsxs("div",{className:"border-b border-gray-100 pb-4 mb-4",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t.quiz.title}),h.jsx("p",{className:"text-gray-600",children:t.quiz.description})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Start Time:"}),h.jsx("br",{}),new Date(t.quiz.start_time).toLocaleString()]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Duration:"}),h.jsx("br",{}),t.quiz.duration," minutes"]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Total Score:"}),h.jsx("br",{}),t.quiz.total_score||"N/A"]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"End Time:"}),h.jsx("br",{}),new Date(t.quiz.end_time).toLocaleString()]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Obtained Score:"}),h.jsx("br",{}),t.obtained_score]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Status:"}),h.jsx("br",{}),h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.marked?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.marked?"Marked":"Pending"})]})]})]})]}),nMe=()=>{var s,a;const{user:t}=ti(),{data:e,isLoading:r,isError:n,refetch:i}=Jbe({skip:!(t!=null&&t.id)});return _.useEffect(()=>{t&&i()},[t]),r?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):n?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"text-red-500 text-lg font-medium",children:"Error loading Quiz History"})}):h.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:h.jsx("div",{className:"max-w-5xl mx-auto space-y-8",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-6 py-8 border border-gray-100",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Quiz History"}),((s=e==null?void 0:e.data)==null?void 0:s.length)>0?h.jsx("div",{className:"space-y-6",children:(a=e==null?void 0:e.data)==null?void 0:a.map(o=>h.jsx(rMe,{quiz:o},o.id))}):h.jsx("p",{className:"text-gray-500 italic",children:"No quizzes attempted yet"})]})})})};class iMe{static async GetFiles(){const e=await Bt.get(`${Tt}/context-data/files-by-user`,{headers:{token:localStorage.getItem("accessToken")}});return console.log("res get files",e),e}static async CreateFile(e,r){const n={"Content-Type":"multipart/form-data",token:localStorage.getItem("accessToken")};return bg((i,s,a)=>Bt.post(i,s,a),e,`${Tt}/context-data/upload`,n,r)}static async DeleteFile(e){const r=await Bt.post(`${Tt}/context-data/delete`,e,{Headers:{"Content-Type":"applicaiton/json"},headers:{token:localStorage.getItem("accessToken")}});return console.log("res signin",r),r}static async UpdatePassword(e){const r=await Bt.post(`${Tt}/auth/update-password`,e,{Headers:{"Content-Type":"applicaiton/json"},headers:{token:localStorage.getItem("accessToken")}});return console.log("res update password",r),r}}const sMe=()=>{var E;const t=Af(),[e,r]=_.useState(null),[n,i]=_.useState(""),[s,a]=_.useState(""),[o,l]=_.useState("idle"),[c,u]=_.useState(""),[d,A]=_.useState(!1),[f,p]=_.useState(0),[m,y]=_.useState(),{data:g,isLoading:v,isError:x,refetch:b}=bY({});_.useEffect(()=>{b()},[]);const w=M=>M.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"")+Date.now();_.useEffect(()=>{if(s){const M=w(s);i(M)}},[s]);const C=M=>{var L;const D=(L=M.target.files)==null?void 0:L[0];D&&D.type==="application/pdf"?(r(D),a(D.name),l("idle"),u("")):(u("Please upload a PDF file."),l("error"))},S=async M=>{var D,L,I,z;M.preventDefault(),A(!0),l("uploading"),p(0);try{const R=new FormData;R.append("file",e),R.append("file_name",s),R.append("slug",n),R.append("subject_id",m);const Y=await iMe.CreateFile(R,t,{onUploadProgress:P=>{const q=Math.round(P.loaded*50/P.total);p(q)}}),$=new EventSource(`${Tt}/context-data/upload-progress`);$.onmessage=P=>{const q=JSON.parse(P.data),N=50+Math.round((q==null?void 0:q.progress)*50/100);p(N),(q==null?void 0:q.progress)===100&&(p(100),A(!1),l("success"),$.close(),Z.success("File uploaded and processed successfully!")),(q.error||(q==null?void 0:q.progress)===-1)&&(p(-1),Z.error(`Error: ${q.error||"Failed to upload file"}`),$.close(),A(!1),l("error"),u(q.error||"Failed to upload file"))},$.onerror=P=>{console.log("Error receiving upload progress:",P),p(-1),Z.error("An error occurred while receiving progress updates."),$.close(),A(!1),l("error"),u("Failed to receive progress updates.")}}catch(R){console.error("Error during file upload:",R),p(-1),A(!1),l("error"),u(((L=(D=R.response)==null?void 0:D.data)==null?void 0:L.message)||"An error occurred while uploading the file."),Z.error(((z=(I=R.response)==null?void 0:I.data)==null?void 0:z.message)||"An error occurred while uploading the file.")}},B=()=>{r(null),a(""),i(""),l("idle"),u(""),p(0)};return h.jsx("div",{className:"min-h-screen",children:h.jsx("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:h.jsx(Rr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[h.jsx("div",{className:"border-b border-gray-200 px-6 py-4 bg-gray-50",children:h.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[h.jsx(M4,{className:"text-[#6F38DE]"}),"Upload File"]})}),h.jsxs("form",{onSubmit:S,className:"p-6 space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2 mb-1",children:"Subject"}),v?h.jsx("div",{className:"flex items-center",children:h.jsx("span",{children:"Loading Subjects..."})}):x?h.jsx("p",{className:"text-red-500 text-sm",children:"Failed to load Subjects."}):h.jsxs("select",{value:m,onChange:M=>y(M.target.value),className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]",children:[h.jsx("option",{value:"",children:"Select a Subject"}),(E=g==null?void 0:g.data)==null?void 0:E.map(M=>h.jsxs("option",{value:M.id,children:[M.title," - ",M.level.level]},M==null?void 0:M.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Choose File (PDF only)"}),h.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg",children:h.jsxs("div",{className:"space-y-1 text-center",children:[h.jsx(M4,{className:"mx-auto h-12 w-12 text-gray-400"}),h.jsxs("div",{className:"flex text-sm text-gray-600",children:[h.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md font-medium text-[#6F38DE] hover:text-[#5C2EBA]",children:[h.jsx("span",{children:"Upload a file"}),h.jsx("input",{id:"file-upload",type:"file",onChange:C,accept:"application/pdf",className:"sr-only"})]}),h.jsx("p",{className:"pl-1",children:"or drag and drop"})]})]})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"File Name"}),h.jsx("input",{type:"text",value:s,onChange:M=>a(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-customButtonEnd"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Slug"}),h.jsx("input",{type:"text",value:n,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-customButtonEnd"})]}),e&&h.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Sa,{className:"text-[#6F38DE]"}),h.jsx("span",{className:"text-sm font-medium",children:e.name})]}),h.jsx("button",{type:"button",onClick:()=>r(null),className:"text-gray-400 hover:text-red-500",children:h.jsx(D0e,{})})]})}),(o==="error"||f===-1)&&h.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:h.jsx("p",{className:"text-sm text-red-600",children:c||"Failed to upload file"})}),o==="success"&&h.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:h.jsx("p",{className:"text-sm text-green-600",children:"File uploaded successfully!"})}),o==="uploading"&&f!==-1&&h.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full mt-4",children:h.jsx("div",{className:"h-2 bg-[#6F38DE] rounded-full",style:{width:`${f}%`}})}),h.jsx("div",{className:"flex justify-end gap-4 pt-4",children:o==="success"?h.jsx("button",{type:"button",onClick:B,className:"px-6 py-3 bg-[#6F38DE] text-white rounded-lg hover:bg-[#5C2EBA]",children:"Upload Another"}):h.jsx("button",{type:"submit",disabled:!e||d||o==="uploading"&&f<100,className:`px-6 py-3 rounded-lg text-white flex items-center gap-2
                      ${!e||d||o==="uploading"&&f<100?"bg-gray-400 cursor-not-allowed":"bg-[#6F38DE] hover:bg-[#5C2EBA]"}`,children:d?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Uploading..."]}):h.jsxs(h.Fragment,{children:[h.jsx(M4,{}),"Upload File"]})})})]})]})})})})};function K(t,e,r){return(e=function(n){var i=function(s,a){if(typeof s!="object"||!s)return s;var o=s[Symbol.toPrimitive];if(o!==void 0){var l=o.call(s,a||"default");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}(n,"string");return typeof i=="symbol"?i:i+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function X(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yr(t,e){if(t==null)return{};var r,n,i=function(a,o){if(a==null)return{};var l={};for(var c in a)if({}.hasOwnProperty.call(a,c)){if(o.indexOf(c)>=0)continue;l[c]=a[c]}return l}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Vu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}class RP{constructor(){K(this,"browserShadowBlurConstant",1),K(this,"DPI",96),K(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),K(this,"perfLimitSizeTotal",2097152),K(this,"maxCacheSideLimit",4096),K(this,"minCacheSideLimit",256),K(this,"disableStyleCopyPaste",!1),K(this,"enableGLFiltering",!0),K(this,"textureSize",4096),K(this,"forceGLPutImageData",!1),K(this,"cachesBoundsOfCurve",!1),K(this,"fontPaths",{}),K(this,"NUM_FRACTION_DIGITS",4)}}const Mt=new class extends RP{constructor(t){super(),this.configure(t)}configure(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,t)}addFonts(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=X(X({},this.fontPaths),t)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(t=>{delete this.fontPaths[t]})}clearFonts(){this.fontPaths={}}restoreDefaults(t){const e=new RP,r=(t==null?void 0:t.reduce((n,i)=>(n[i]=e[i],n),{}))||e;this.configure(r)}},Eu=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return console[t]("fabric",...r)};class go extends Error{constructor(e,r){super("fabric: ".concat(e),r)}}class aMe extends go{constructor(e){super("".concat(e," 'options.signal' is in 'aborted' state"))}}class oMe{}let lMe=class extends oMe{testPrecision(e,r){const n="precision ".concat(r,` float;
void main(){}`),i=e.createShader(e.FRAGMENT_SHADER);return!!i&&(e.shaderSource(i,n),e.compileShader(i),!!e.getShaderParameter(i,e.COMPILE_STATUS))}queryWebGL(e){const r=e.getContext("webgl");r&&(this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(n=>this.testPrecision(r,n)),r.getExtension("WEBGL_lose_context").loseContext(),Eu("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}};const cMe={};let HP;const Fo=()=>HP||(HP={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new lMe,dispose(){},copyPasteData:cMe}),Cf=()=>Fo().document,gF=()=>Fo().window,nee=()=>{var t;return Math.max((t=Mt.devicePixelRatio)!==null&&t!==void 0?t:gF().devicePixelRatio,1)},Qm=new class{constructor(){K(this,"charWidthsCache",{}),K(this,"boundsOfCurveCache",{})}getFontCache(t){let{fontFamily:e,fontStyle:r,fontWeight:n}=t;e=e.toLowerCase(),this.charWidthsCache[e]||(this.charWidthsCache[e]={});const i=this.charWidthsCache[e],s="".concat(r.toLowerCase(),"_").concat((n+"").toLowerCase());return i[s]||(i[s]={}),i[s]}clearFontCache(t){(t=(t||"").toLowerCase())?this.charWidthsCache[t]&&delete this.charWidthsCache[t]:this.charWidthsCache={}}limitDimsByArea(t){const{perfLimitSizeTotal:e}=Mt,r=Math.sqrt(e*t);return[Math.floor(r),Math.floor(e/r)]}},c9="6.6.1";function Ax(){}const H1=Math.PI/2,i3=2*Math.PI,yF=Math.PI/180,gi=Object.freeze([1,0,0,1,0,0]),vF=16,oc=.4477152502,ft="center",Ht="left",Ri="top",u9="bottom",Ur="right",Hi="none",xF=/\r?\n/,iee="moving",d5="scaling",see="rotating",bF="rotate",aee="skewing",Xg="resizing",uMe="modifyPoly",dMe="modifyPath",s3="changed",h5="scale",qi="scaleX",na="scaleY",Sf="skewX",Bf="skewY",un="fill",zi="stroke",a3="modified",Zh="json",Z8="svg",Ue=new class{constructor(){this[Zh]=new Map,this[Z8]=new Map}has(t){return this[Zh].has(t)}getClass(t){const e=this[Zh].get(t);if(!e)throw new go("No class registered for ".concat(t));return e}setClass(t,e){e?this[Zh].set(e,t):(this[Zh].set(t.type,t),this[Zh].set(t.type.toLowerCase(),t))}getSVGClass(t){return this[Z8].get(t)}setSVGClass(t,e){this[Z8].set(e??t.type.toLowerCase(),t)}},o3=new class extends Array{remove(t){const e=this.indexOf(t);e>-1&&this.splice(e,1)}cancelAll(){const t=this.splice(0);return t.forEach(e=>e.abort()),t}cancelByCanvas(t){if(!t)return[];const e=this.filter(r=>{var n;return r.target===t||typeof r.target=="object"&&((n=r.target)===null||n===void 0?void 0:n.canvas)===t});return e.forEach(r=>r.abort()),e}cancelByTarget(t){if(!t)return[];const e=this.filter(r=>r.target===t);return e.forEach(r=>r.abort()),e}};let hMe=class{constructor(){K(this,"__eventListeners",{})}on(e,r){if(this.__eventListeners||(this.__eventListeners={}),typeof e=="object")return Object.entries(e).forEach(n=>{let[i,s]=n;this.on(i,s)}),()=>this.off(e);if(r){const n=e;return this.__eventListeners[n]||(this.__eventListeners[n]=[]),this.__eventListeners[n].push(r),()=>this.off(n,r)}return()=>!1}once(e,r){if(typeof e=="object"){const n=[];return Object.entries(e).forEach(i=>{let[s,a]=i;n.push(this.once(s,a))}),()=>n.forEach(i=>i())}if(r){const n=this.on(e,function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];r.call(this,...s),n()});return n}return()=>!1}_removeEventListener(e,r){if(this.__eventListeners[e])if(r){const n=this.__eventListeners[e],i=n.indexOf(r);i>-1&&n.splice(i,1)}else this.__eventListeners[e]=[]}off(e,r){if(this.__eventListeners)if(e===void 0)for(const n in this.__eventListeners)this._removeEventListener(n);else typeof e=="object"?Object.entries(e).forEach(n=>{let[i,s]=n;this._removeEventListener(i,s)}):this._removeEventListener(e,r)}fire(e,r){var n;if(!this.__eventListeners)return;const i=(n=this.__eventListeners[e])===null||n===void 0?void 0:n.concat();if(i)for(let s=0;s<i.length;s++)i[s].call(this,r||{})}};const S0=(t,e)=>{const r=t.indexOf(e);return r!==-1&&t.splice(r,1),t},Ql=t=>{if(t===0)return 1;switch(Math.abs(t)/H1){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},Rl=t=>{if(t===0)return 0;const e=t/H1,r=Math.sign(t);switch(e){case 1:return r;case 2:return 0;case 3:return-r}return Math.sin(t)};let ue=class oi{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof e=="object"?(this.x=e.x,this.y=e.y):(this.x=e,this.y=r)}add(e){return new oi(this.x+e.x,this.y+e.y)}addEquals(e){return this.x+=e.x,this.y+=e.y,this}scalarAdd(e){return new oi(this.x+e,this.y+e)}scalarAddEquals(e){return this.x+=e,this.y+=e,this}subtract(e){return new oi(this.x-e.x,this.y-e.y)}subtractEquals(e){return this.x-=e.x,this.y-=e.y,this}scalarSubtract(e){return new oi(this.x-e,this.y-e)}scalarSubtractEquals(e){return this.x-=e,this.y-=e,this}multiply(e){return new oi(this.x*e.x,this.y*e.y)}scalarMultiply(e){return new oi(this.x*e,this.y*e)}scalarMultiplyEquals(e){return this.x*=e,this.y*=e,this}divide(e){return new oi(this.x/e.x,this.y/e.y)}scalarDivide(e){return new oi(this.x/e,this.y/e)}scalarDivideEquals(e){return this.x/=e,this.y/=e,this}eq(e){return this.x===e.x&&this.y===e.y}lt(e){return this.x<e.x&&this.y<e.y}lte(e){return this.x<=e.x&&this.y<=e.y}gt(e){return this.x>e.x&&this.y>e.y}gte(e){return this.x>=e.x&&this.y>=e.y}lerp(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return r=Math.max(Math.min(1,r),0),new oi(this.x+(e.x-this.x)*r,this.y+(e.y-this.y)*r)}distanceFrom(e){const r=this.x-e.x,n=this.y-e.y;return Math.sqrt(r*r+n*n)}midPointFrom(e){return this.lerp(e)}min(e){return new oi(Math.min(this.x,e.x),Math.min(this.y,e.y))}max(e){return new oi(Math.max(this.x,e.x),Math.max(this.y,e.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(e,r){return this.x=e,this.y=r,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setFromPoint(e){return this.x=e.x,this.y=e.y,this}swap(e){const r=this.x,n=this.y;this.x=e.x,this.y=e.y,e.x=r,e.y=n}clone(){return new oi(this.x,this.y)}rotate(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wF;const n=Rl(e),i=Ql(e),s=this.subtract(r);return new oi(s.x*i-s.y*n,s.x*n+s.y*i).add(r)}transform(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new oi(e[0]*this.x+e[2]*this.y+(r?0:e[4]),e[1]*this.x+e[3]*this.y+(r?0:e[5]))}};const wF=new ue(0,0),fx=t=>!!t&&Array.isArray(t._objects);function oee(t){class e extends t{constructor(){super(...arguments),K(this,"_objects",[])}_onObjectAdded(n){}_onObjectRemoved(n){}_onStackOrderChanged(n){}add(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];const a=this._objects.push(...i);return i.forEach(o=>this._onObjectAdded(o)),a}insertAt(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return this._objects.splice(n,0,...s),s.forEach(o=>this._onObjectAdded(o)),this._objects.length}remove(){const n=this._objects,i=[];for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return a.forEach(l=>{const c=n.indexOf(l);c!==-1&&(n.splice(c,1),i.push(l),this._onObjectRemoved(l))}),i}forEachObject(n){this.getObjects().forEach((i,s,a)=>n(i,s,a))}getObjects(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return i.length===0?[...this._objects]:this._objects.filter(a=>a.isType(...i))}item(n){return this._objects[n]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(n,i){return!!this._objects.includes(n)||!!i&&this._objects.some(s=>s instanceof e&&s.contains(n,!0))}complexity(){return this._objects.reduce((n,i)=>n+=i.complexity?i.complexity():0,0)}sendObjectToBack(n){return!(!n||n===this._objects[0])&&(S0(this._objects,n),this._objects.unshift(n),this._onStackOrderChanged(n),!0)}bringObjectToFront(n){return!(!n||n===this._objects[this._objects.length-1])&&(S0(this._objects,n),this._objects.push(n),this._onStackOrderChanged(n),!0)}sendObjectBackwards(n,i){if(!n)return!1;const s=this._objects.indexOf(n);if(s!==0){const a=this.findNewLowerIndex(n,s,i);return S0(this._objects,n),this._objects.splice(a,0,n),this._onStackOrderChanged(n),!0}return!1}bringObjectForward(n,i){if(!n)return!1;const s=this._objects.indexOf(n);if(s!==this._objects.length-1){const a=this.findNewUpperIndex(n,s,i);return S0(this._objects,n),this._objects.splice(a,0,n),this._onStackOrderChanged(n),!0}return!1}moveObjectTo(n,i){return n!==this._objects[i]&&(S0(this._objects,n),this._objects.splice(i,0,n),this._onStackOrderChanged(n),!0)}findNewLowerIndex(n,i,s){let a;if(s){a=i;for(let o=i-1;o>=0;--o)if(n.isOverlapping(this._objects[o])){a=o;break}}else a=i-1;return a}findNewUpperIndex(n,i,s){let a;if(s){a=i;for(let o=i+1;o<this._objects.length;++o)if(n.isOverlapping(this._objects[o])){a=o;break}}else a=i+1;return a}collectObjects(n){let{left:i,top:s,width:a,height:o}=n,{includeIntersecting:l=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const c=[],u=new ue(i,s),d=u.add(new ue(a,o));for(let A=this._objects.length-1;A>=0;A--){const f=this._objects[A];f.selectable&&f.visible&&(l&&f.intersectsWithRect(u,d)||f.isContainedWithinRect(u,d)||l&&f.containsPoint(u)||l&&f.containsPoint(d))&&c.push(f)}return c}}return e}let lee=class extends hMe{_setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const r in e)this.set(r,e[r])}_setObject(e){for(const r in e)this._set(r,e[r])}set(e,r){return typeof e=="object"?this._setObject(e):this._set(e,r),this}_set(e,r){this[e]=r}toggle(e){const r=this.get(e);return typeof r=="boolean"&&this.set(e,!r),this}get(e){return this[e]}};function px(t){return gF().requestAnimationFrame(t)}function AMe(t){return gF().cancelAnimationFrame(t)}let fMe=0;const Mu=()=>fMe++,Oa=()=>{const t=Cf().createElement("canvas");if(!t||t.getContext===void 0)throw new go("Failed to create `canvas` element");return t},pMe=()=>Cf().createElement("img"),To=t=>{const e=Oa();return e.width=t.width,e.height=t.height,e},cee=(t,e,r)=>t.toDataURL("image/".concat(e),r),uee=(t,e,r)=>new Promise((n,i)=>{t.toBlob(n,"image/".concat(e),r)}),$r=t=>t*yF,wh=t=>t/yF,mMe=t=>t.every((e,r)=>e===gi[r]),Fi=(t,e,r)=>new ue(t).transform(e,r),_a=t=>{const e=1/(t[0]*t[3]-t[1]*t[2]),r=[e*t[3],-e*t[1],-e*t[2],e*t[0],0,0],{x:n,y:i}=new ue(t[4],t[5]).transform(r,!0);return r[4]=-n,r[5]=-i,r},Dn=(t,e,r)=>[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],r?0:t[0]*e[4]+t[2]*e[5]+t[4],r?0:t[1]*e[4]+t[3]*e[5]+t[5]],CF=(t,e)=>t.reduceRight((r,n)=>n&&r?Dn(n,r,e):n||r,void 0)||gi.concat(),dee=t=>{let[e,r]=t;return Math.atan2(r,e)},l3=t=>{const e=dee(t),r=Math.pow(t[0],2)+Math.pow(t[1],2),n=Math.sqrt(r),i=(t[0]*t[3]-t[2]*t[1])/n,s=Math.atan2(t[0]*t[2]+t[1]*t[3],r);return{angle:wh(e),scaleX:n,scaleY:i,skewX:wh(s),skewY:0,translateX:t[4]||0,translateY:t[5]||0}},z1=function(t){return[1,0,0,1,t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function $1(){let{angle:t=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:e=0,y:r=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=$r(t),i=Ql(n),s=Rl(n);return[i,s,-s,i,e?e-(i*e-s*r):0,r?r-(s*e+i*r):0]}const SF=function(t){return[t,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,0,0]},hee=t=>Math.tan($r(t)),Aee=t=>[1,0,hee(t),1,0,0],fee=t=>[1,hee(t),0,1,0,0],A5=t=>{let{scaleX:e=1,scaleY:r=1,flipX:n=!1,flipY:i=!1,skewX:s=0,skewY:a=0}=t,o=SF(n?-e:e,i?-r:r);return s&&(o=Dn(o,Aee(s),!0)),a&&(o=Dn(o,fee(a),!0)),o},gMe=t=>{const{translateX:e=0,translateY:r=0,angle:n=0}=t;let i=z1(e,r);n&&(i=Dn(i,$1({angle:n})));const s=A5(t);return mMe(s)||(i=Dn(i,s)),i},mx=function(t){let{signal:e,crossOrigin:r=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(n,i){if(e&&e.aborted)return i(new aMe("loadImage"));const s=pMe();let a;e&&(a=function(l){s.src="",i(l)},e.addEventListener("abort",a,{once:!0}));const o=function(){s.onload=s.onerror=null,a&&(e==null||e.removeEventListener("abort",a)),n(s)};t?(s.onload=o,s.onerror=function(){a&&(e==null||e.removeEventListener("abort",a)),i(new go("Error loading ".concat(s.src)))},r&&(s.crossOrigin=r),s.src=t):o()})},Yg=function(t){let{signal:e,reviver:r=Ax}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((n,i)=>{const s=[];e&&e.addEventListener("abort",i,{once:!0}),Promise.all(t.map(a=>Ue.getClass(a.type).fromObject(a,{signal:e}).then(o=>(r(a,o),s.push(o),o)))).then(n).catch(a=>{s.forEach(o=>{o.dispose&&o.dispose()}),i(a)}).finally(()=>{e&&e.removeEventListener("abort",i)})})},f5=function(t){let{signal:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((r,n)=>{const i=[];e&&e.addEventListener("abort",n,{once:!0});const s=Object.values(t).map(o=>o&&o.type&&Ue.has(o.type)?Yg([o],{signal:e}).then(l=>{let[c]=l;return i.push(c),c}):o),a=Object.keys(t);Promise.all(s).then(o=>o.reduce((l,c,u)=>(l[a[u]]=c,l),{})).then(r).catch(o=>{i.forEach(l=>{l.dispose&&l.dispose()}),n(o)}).finally(()=>{e&&e.removeEventListener("abort",n)})})},_f=function(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((e,r)=>(r in t&&(e[r]=t[r]),e),{})},BF=(t,e)=>Object.keys(t).reduce((r,n)=>(e(t[n],n,t)&&(r[n]=t[n]),r),{}),zP={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},e7=(t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t),$P=(t,e,r,n)=>{t/=255,e/=255,r/=255;const i=Math.max(t,e,r),s=Math.min(t,e,r);let a,o;const l=(i+s)/2;if(i===s)a=o=0;else{const c=i-s;switch(o=l>.5?c/(2-i-s):c/(i+s),i){case t:a=(e-r)/c+(e<r?6:0);break;case e:a=(r-t)/c+2;break;case r:a=(t-e)/c+4}a/=6}return[Math.round(360*a),Math.round(100*o),Math.round(100*l),n]},VP=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(t)/(t.endsWith("%")?100:1)},o2=t=>Math.min(Math.round(t),255).toString(16).toUpperCase().padStart(2,"0"),KP=t=>{let[e,r,n,i=1]=t;const s=Math.round(.3*e+.59*r+.11*n);return[s,s,s,i]};let Wi=class Rn{constructor(e){if(K(this,"isUnrecognised",!1),e)if(e instanceof Rn)this.setSource([...e._source]);else if(Array.isArray(e)){const[r,n,i,s=1]=e;this.setSource([r,n,i,s])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(e){return(e=e.toLowerCase())in zP&&(e=zP[e]),e==="transparent"?[255,255,255,0]:Rn.sourceFromHex(e)||Rn.sourceFromRgb(e)||Rn.sourceFromHsl(e)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(e){this._source=e}toRgb(){const[e,r,n]=this.getSource();return"rgb(".concat(e,",").concat(r,",").concat(n,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[e,r,n]=$P(...this.getSource());return"hsl(".concat(e,",").concat(r,"%,").concat(n,"%)")}toHsla(){const[e,r,n,i]=$P(...this.getSource());return"hsla(".concat(e,",").concat(r,"%,").concat(n,"%,").concat(i,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[e,r,n,i]=this.getSource();return"".concat(o2(e)).concat(o2(r)).concat(o2(n)).concat(o2(Math.round(255*i)))}getAlpha(){return this.getSource()[3]}setAlpha(e){return this._source[3]=e,this}toGrayscale(){return this.setSource(KP(this.getSource())),this}toBlackWhite(e){const[r,,,n]=KP(this.getSource()),i=r<(e||127)?0:255;return this.setSource([i,i,i,n]),this}overlayWith(e){e instanceof Rn||(e=new Rn(e));const r=this.getSource(),n=e.getSource(),[i,s,a]=r.map((o,l)=>Math.round(.5*o+.5*n[l]));return this.setSource([i,s,a,r[3]]),this}static fromRgb(e){return Rn.fromRgba(e)}static fromRgba(e){return new Rn(Rn.sourceFromRgb(e))}static sourceFromRgb(e){const r=e.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(r){const[n,i,s]=r.slice(1,4).map(a=>{const o=parseFloat(a);return a.endsWith("%")?Math.round(2.55*o):o});return[n,i,s,VP(r[4])]}}static fromHsl(e){return Rn.fromHsla(e)}static fromHsla(e){return new Rn(Rn.sourceFromHsl(e))}static sourceFromHsl(e){const r=e.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!r)return;const n=(Rn.parseAngletoDegrees(r[1])%360+360)%360/360,i=parseFloat(r[2])/100,s=parseFloat(r[3])/100;let a,o,l;if(i===0)a=o=l=s;else{const c=s<=.5?s*(i+1):s+i-s*i,u=2*s-c;a=e7(u,c,n+1/3),o=e7(u,c,n),l=e7(u,c,n-1/3)}return[Math.round(255*a),Math.round(255*o),Math.round(255*l),VP(r[4])]}static fromHex(e){return new Rn(Rn.sourceFromHex(e))}static sourceFromHex(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const r=e.slice(e.indexOf("#")+1);let n;n=r.length<=4?r.split("").map(l=>l+l):r.match(/.{2}/g);const[i,s,a,o=255]=n.map(l=>parseInt(l,16));return[i,s,a,o/255]}}static parseAngletoDegrees(e){const r=e.toLowerCase(),n=parseFloat(r);return r.includes("rad")?wh(n):r.includes("turn")?360*n:n}};const Sr=(t,e)=>parseFloat(Number(t).toFixed(e)),bA=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vF;const r=/\D{0,2}$/.exec(t),n=parseFloat(t),i=Mt.DPI;switch(r==null?void 0:r[0]){case"mm":return n*i/25.4;case"cm":return n*i/2.54;case"in":return n*i;case"pt":return n*i/72;case"pc":return n*i/72*12;case"em":return n*e;default:return n}},yMe=t=>{const[e,r]=t.trim().split(" "),[n,i]=(s=e)&&s!==Hi?[s.slice(1,4),s.slice(5,8)]:s===Hi?[s,s]:["Mid","Mid"];var s;return{meetOrSlice:r||"meet",alignX:n,alignY:i}},c3=t=>"matrix("+t.map(e=>Sr(e,Mt.NUM_FRACTION_DIGITS)).join(" ")+")",Jg=function(t,e){let r,n,i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e)if(e.toLive)r="url(#SVGID_".concat(e.id,")");else{const s=new Wi(e),a=s.getAlpha();r=s.toRgb(),a!==1&&(n=a.toString())}else r="none";return i?"".concat(t,": ").concat(r,"; ").concat(n?"".concat(t,"-opacity: ").concat(n,"; "):""):"".concat(t,'="').concat(r,'" ').concat(n?"".concat(t,'-opacity="').concat(n,'" '):"")},zs=t=>!!t&&t.toLive!==void 0,qP=t=>!!t&&typeof t.toObject=="function",WP=t=>!!t&&t.offsetX!==void 0&&"source"in t,Fd=t=>!!t&&"multiSelectionStacking"in t;function pee(t){const e=t&&wa(t);let r=0,n=0;if(!t||!e)return{left:r,top:n};let i=t;const s=e.documentElement,a=e.body||{scrollLeft:0,scrollTop:0};for(;i&&(i.parentNode||i.host)&&(i=i.parentNode||i.host,i===e?(r=a.scrollLeft||s.scrollLeft||0,n=a.scrollTop||s.scrollTop||0):(r+=i.scrollLeft||0,n+=i.scrollTop||0),i.nodeType!==1||i.style.position!=="fixed"););return{left:r,top:n}}const wa=t=>t.ownerDocument||null,mee=t=>{var e;return((e=t.ownerDocument)===null||e===void 0?void 0:e.defaultView)||null},gee=function(t,e,r){let{width:n,height:i}=r,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;t.width=n,t.height=i,s>1&&(t.setAttribute("width",(n*s).toString()),t.setAttribute("height",(i*s).toString()),e.scale(s,s))},d9=(t,e)=>{let{width:r,height:n}=e;r&&(t.style.width=typeof r=="number"?"".concat(r,"px"):r),n&&(t.style.height=typeof n=="number"?"".concat(n,"px"):n)};function GP(t){return t.onselectstart!==void 0&&(t.onselectstart=()=>!1),t.style.userSelect=Hi,t}let yee=class{constructor(e){K(this,"_originalCanvasStyle",void 0),K(this,"lower",void 0);const r=this.createLowerCanvas(e);this.lower={el:r,ctx:r.getContext("2d")}}createLowerCanvas(e){const r=(n=e)&&n.getContext!==void 0?e:e&&Cf().getElementById(e)||Oa();var n;if(r.hasAttribute("data-fabric"))throw new go("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=r.style.cssText,r.setAttribute("data-fabric","main"),r.classList.add("lower-canvas"),r}cleanupDOM(e){let{width:r,height:n}=e;const{el:i}=this.lower;i.classList.remove("lower-canvas"),i.removeAttribute("data-fabric"),i.setAttribute("width","".concat(r)),i.setAttribute("height","".concat(n)),i.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(e,r){const{el:n,ctx:i}=this.lower;gee(n,i,e,r)}setCSSDimensions(e){d9(this.lower.el,e)}calcOffset(){return function(e){var r;const n=e&&wa(e),i={left:0,top:0};if(!n)return i;const s=((r=mee(e))===null||r===void 0?void 0:r.getComputedStyle(e,null))||{};i.left+=parseInt(s.borderLeftWidth,10)||0,i.top+=parseInt(s.borderTopWidth,10)||0,i.left+=parseInt(s.paddingLeft,10)||0,i.top+=parseInt(s.paddingTop,10)||0;let a={left:0,top:0};const o=n.documentElement;e.getBoundingClientRect!==void 0&&(a=e.getBoundingClientRect());const l=pee(e);return{left:a.left+l.left-(o.clientLeft||0)+i.left,top:a.top+l.top-(o.clientTop||0)+i.top}}(this.lower.el)}dispose(){Fo().dispose(this.lower.el),delete this.lower}};const vMe={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...gi]};class V1 extends oee(lee){get lowerCanvasEl(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.el}get contextContainer(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.ctx}static getDefaults(){return V1.ownDefaults}constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(r),this.initElements(e),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(e){this.elements=new yee(e)}add(){const e=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}insertAt(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const s=super.insertAt(e,...n);return n.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),s}remove(){const e=super.remove(...arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}_onObjectAdded(e){e.canvas&&e.canvas!==this&&(Eu("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?nee():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(e,r){return this.setDimensions({width:e},r)}setHeight(e,r){return this.setDimensions({height:e},r)}_setDimensionsImpl(e){let{cssOnly:r=!1,backstoreOnly:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!r){const i=X({width:this.width,height:this.height},e);this.elements.setDimensions(i,this.getRetinaScaling()),this.hasLostContext=!0,this.width=i.width,this.height=i.height}n||this.elements.setCSSDimensions(e),this.calcOffset()}setDimensions(e,r){this._setDimensionsImpl(e,r),r&&r.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(e,r){const n=e,i=[...this.viewportTransform],s=Fi(e,_a(i));i[0]=r,i[3]=r;const a=Fi(s,i);i[4]+=n.x-a.x,i[5]+=n.y-a.y,this.setViewportTransform(i)}setZoom(e){this.zoomToPoint(new ue(0,0),e)}absolutePan(e){const r=[...this.viewportTransform];return r[4]=-e.x,r[5]=-e.y,this.setViewportTransform(r)}relativePan(e){return this.absolutePan(new ue(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(e){e.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=px(()=>this.renderAndReset()))}calcViewportBoundaries(){const e=this.width,r=this.height,n=_a(this.viewportTransform),i=Fi({x:0,y:0},n),s=Fi({x:e,y:r},n),a=i.min(s),o=i.max(s);return this.vptCoords={tl:a,tr:new ue(o.x,a.y),bl:new ue(a.x,o.y),br:o}}cancelRequestedRender(){this.nextRenderHandle&&(AMe(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(e){}renderCanvas(e,r){if(this.destroyed)return;const n=this.viewportTransform,i=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality="best",this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(e,r),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),i&&(i._set("canvas",this),i.shouldCache(),i._transformDone=!0,i.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,i)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(e,r){const n=this.viewportTransform;e.save(),e.transform(...n),e.globalCompositeOperation="destination-in",r.transform(e),e.scale(1/r.zoomX,1/r.zoomY),e.drawImage(r._cacheCanvas,-r.cacheTranslationX,-r.cacheTranslationY),e.restore()}_renderObjects(e,r){for(let n=0,i=r.length;n<i;++n)r[n]&&r[n].render(e)}_renderBackgroundOrOverlay(e,r){const n=this["".concat(r,"Color")],i=this["".concat(r,"Image")],s=this.viewportTransform,a=this["".concat(r,"Vpt")];if(!n&&!i)return;const o=zs(n);if(n){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=o?n.toLive(e):n,a&&e.transform(...s),o){e.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);const l=n.gradientTransform||n.patternTransform;l&&e.transform(...l)}e.fill(),e.restore()}if(i){e.save();const{skipOffscreen:l}=this;this.skipOffscreen=a,a&&e.transform(...s),i.render(e),this.skipOffscreen=l,e.restore()}}_renderBackground(e){this._renderBackgroundOrOverlay(e,"background")}_renderOverlay(e){this._renderBackgroundOrOverlay(e,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new ue(this.width/2,this.height/2)}centerObjectH(e){return this._centerObject(e,new ue(this.getCenterPoint().x,e.getCenterPoint().y))}centerObjectV(e){return this._centerObject(e,new ue(e.getCenterPoint().x,this.getCenterPoint().y))}centerObject(e){return this._centerObject(e,this.getCenterPoint())}viewportCenterObject(e){return this._centerObject(e,this.getVpCenter())}viewportCenterObjectH(e){return this._centerObject(e,new ue(this.getVpCenter().x,e.getCenterPoint().y))}viewportCenterObjectV(e){return this._centerObject(e,new ue(e.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return Fi(this.getCenterPoint(),_a(this.viewportTransform))}_centerObject(e,r){e.setXY(r,ft,ft),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(e){return this.toDatalessObject(e)}toObject(e){return this._toObjectMethod("toObject",e)}toJSON(){return this.toObject()}toDatalessObject(e){return this._toObjectMethod("toDatalessObject",e)}_toObjectMethod(e,r){const n=this.clipPath,i=n&&!n.excludeFromExport?this._toObject(n,e,r):null;return X(X(X({version:c9},_f(this,r)),{},{objects:this._objects.filter(s=>!s.excludeFromExport).map(s=>this._toObject(s,e,r))},this.__serializeBgOverlay(e,r)),i?{clipPath:i}:null)}_toObject(e,r,n){let i;this.includeDefaultValues||(i=e.includeDefaultValues,e.includeDefaultValues=!1);const s=e[r](n);return this.includeDefaultValues||(e.includeDefaultValues=!!i),s}__serializeBgOverlay(e,r){const n={},i=this.backgroundImage,s=this.overlayImage,a=this.backgroundColor,o=this.overlayColor;return zs(a)?a.excludeFromExport||(n.background=a.toObject(r)):a&&(n.background=a),zs(o)?o.excludeFromExport||(n.overlay=o.toObject(r)):o&&(n.overlay=o),i&&!i.excludeFromExport&&(n.backgroundImage=this._toObject(i,e,r)),s&&!s.excludeFromExport&&(n.overlayImage=this._toObject(s,e,r)),n}toSVG(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;e.reviver=r;const n=[];return this._setSVGPreamble(n,e),this._setSVGHeader(n,e),this.clipPath&&n.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",r),this._setSVGObjects(n,r),this.clipPath&&n.push(`</g>
`),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",r),n.push("</svg>"),n.join("")}_setSVGPreamble(e,r){r.suppressPreamble||e.push('<?xml version="1.0" encoding="',r.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(e,r){const n=r.width||"".concat(this.width),i=r.height||"".concat(this.height),s=Mt.NUM_FRACTION_DIGITS,a=r.viewBox;let o;if(a)o='viewBox="'.concat(a.x," ").concat(a.y," ").concat(a.width," ").concat(a.height,'" ');else if(this.svgViewportTransformation){const l=this.viewportTransform;o='viewBox="'.concat(Sr(-l[4]/l[0],s)," ").concat(Sr(-l[5]/l[3],s)," ").concat(Sr(this.width/l[0],s)," ").concat(Sr(this.height/l[3],s),'" ')}else o='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',i,'" ',o,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",c9,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(r),`</defs>
`)}createSVGClipPathMarkup(e){const r=this.clipPath;return r?(r.clipPathId="CLIPPATH_".concat(Mu()),'<clipPath id="'.concat(r.clipPathId,`" >
`).concat(r.toClipPathSVG(e.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(e=>{const r=this["".concat(e,"Color")];if(zs(r)){const n=this["".concat(e,"Vpt")],i=this.viewportTransform,s={isType:()=>!1,width:this.width/(n?i[0]:1),height:this.height/(n?i[3]:1)};return r.toSVG(s,{additionalTransform:n?c3(i):""})}}).join("")}createSVGFontFacesMarkup(){const e=[],r={},n=Mt.fontPaths;this._objects.forEach(function s(a){e.push(a),fx(a)&&a._objects.forEach(s)}),e.forEach(s=>{if(!(a=s)||typeof a._renderText!="function")return;var a;const{styles:o,fontFamily:l}=s;!r[l]&&n[l]&&(r[l]=!0,o&&Object.values(o).forEach(c=>{Object.values(c).forEach(u=>{let{fontFamily:d=""}=u;!r[d]&&n[d]&&(r[d]=!0)})}))});const i=Object.keys(r).map(s=>`		@font-face {
			font-family: '`.concat(s,`';
			src: url('`).concat(n[s],`');
		}
`)).join("");return i?`	<style type="text/css"><![CDATA[
`.concat(i,`]]></style>
`):""}_setSVGObjects(e,r){this.forEachObject(n=>{n.excludeFromExport||this._setSVGObject(e,n,r)})}_setSVGObject(e,r,n){e.push(r.toSVG(n))}_setSVGBgOverlayImage(e,r,n){const i=this[r];i&&!i.excludeFromExport&&i.toSVG&&e.push(i.toSVG(n))}_setSVGBgOverlayColor(e,r){const n=this["".concat(r,"Color")];if(n)if(zs(n)){const i=n.repeat||"",s=this.width,a=this.height,o=this["".concat(r,"Vpt")]?c3(_a(this.viewportTransform)):"";e.push('<rect transform="'.concat(o," translate(").concat(s/2,",").concat(a/2,')" x="').concat(n.offsetX-s/2,'" y="').concat(n.offsetY-a/2,'" width="').concat(i!=="repeat-y"&&i!=="no-repeat"||!WP(n)?s:n.source.width,'" height="').concat(i!=="repeat-x"&&i!=="no-repeat"||!WP(n)?a:n.source.height,'" fill="url(#SVGID_').concat(n.id,`)"></rect>
`))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',`></rect>
`)}loadFromJSON(e,r){let{signal:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return Promise.reject(new go("`json` is undefined"));const i=typeof e=="string"?JSON.parse(e):e,{objects:s=[],backgroundImage:a,background:o,overlayImage:l,overlay:c,clipPath:u}=i,d=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([Yg(s,{reviver:r,signal:n}),f5({backgroundImage:a,backgroundColor:o,overlayImage:l,overlayColor:c,clipPath:u},{signal:n})]).then(A=>{let[f,p]=A;return this.clear(),this.add(...f),this.set(i),this.set(p),this.renderOnAddRemove=d,this})}clone(e){const r=this.toObject(e);return this.cloneWithoutData().loadFromJSON(r)}cloneWithoutData(){const e=To(this);return new this.constructor(e)}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:r="png",quality:n=1,multiplier:i=1,enableRetinaScaling:s=!1}=e,a=i*(s?this.getRetinaScaling():1);return cee(this.toCanvasElement(a,e),r,n)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:r="png",quality:n=1,multiplier:i=1,enableRetinaScaling:s=!1}=e,a=i*(s?this.getRetinaScaling():1);return uee(this.toCanvasElement(a,e),r,n)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:r,height:n,left:i,top:s,filter:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=(r||this.width)*e,l=(n||this.height)*e,c=this.getZoom(),u=this.width,d=this.height,A=this.skipControlsDrawing,f=c*e,p=this.viewportTransform,m=[f,0,0,f,(p[4]-(i||0))*e,(p[5]-(s||0))*e],y=this.enableRetinaScaling,g=To({width:o,height:l}),v=a?this._objects.filter(x=>a(x)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=m,this.width=o,this.height=l,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(g.getContext("2d"),v),this.viewportTransform=p,this.width=u,this.height=d,this.calcViewportBoundaries(),this.enableRetinaScaling=y,this.skipControlsDrawing=A,g}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),o3.cancelByCanvas(this),this.disposed=!0,new Promise((e,r)=>{const n=()=>{this.destroy(),e(!0)};n.kill=r,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?e(!1):this.nextRenderHandle?this.__cleanupTask=n:n()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(e=>e.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}K(V1,"ownDefaults",vMe);const xMe=["touchstart","touchmove","touchend"],bMe=t=>{const e=pee(t.target),r=function(n){const i=n.changedTouches;return i&&i[0]?i[0]:n}(t);return new ue(r.clientX+e.left,r.clientY+e.top)},h9=t=>xMe.includes(t.type)||t.pointerType==="touch",A9=t=>{t.preventDefault(),t.stopPropagation()},kl=t=>{let e=0,r=0,n=0,i=0;for(let s=0,a=t.length;s<a;s++){const{x:o,y:l}=t[s];(o>n||!s)&&(n=o),(o<e||!s)&&(e=o),(l>i||!s)&&(i=l),(l<r||!s)&&(r=l)}return{left:e,top:r,width:n-e,height:i-r}},wMe=["translateX","translateY","scaleX","scaleY"],CMe=(t,e)=>u3(t,Dn(e,t.calcOwnMatrix())),u3=(t,e)=>{const r=l3(e),{translateX:n,translateY:i,scaleX:s,scaleY:a}=r,o=yr(r,wMe),l=new ue(n,i);t.flipX=!1,t.flipY=!1,Object.assign(t,o),t.set({scaleX:s,scaleY:a}),t.setPositionByOrigin(l,ft,ft)},SMe=t=>{t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},vee=t=>({scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}),_F=(t,e,r)=>{const n=t/2,i=e/2,s=[new ue(-n,-i),new ue(n,-i),new ue(-n,i),new ue(n,i)].map(o=>o.transform(r)),a=kl(s);return new ue(a.width,a.height)},p5=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:gi;return Dn(_a(arguments.length>1&&arguments[1]!==void 0?arguments[1]:gi),t)},wA=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gi,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gi;return t.transform(p5(e,r))},BMe=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gi,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gi;return t.transform(p5(e,r),!0)},_Me=(t,e,r)=>{const n=p5(e,r);return u3(t,Dn(n,t.calcOwnMatrix())),n},xee=(t,e)=>{var r;const{transform:{target:n}}=e;(r=n.canvas)===null||r===void 0||r.fire("object:".concat(t),X(X({},e),{},{target:n})),n.fire(t,e)},kMe={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Jr=t=>typeof t=="string"?kMe[t]:t-.5,d3="not-allowed";function bee(t){return Jr(t.originX)===Jr(ft)&&Jr(t.originY)===Jr(ft)}function XP(t){return .5-Jr(t)}const Da=(t,e)=>t[e],wee=(t,e,r,n)=>({e:t,transform:e,pointer:new ue(r,n)});function Cee(t,e){const r=t.getTotalAngle()+wh(Math.atan2(e.y,e.x))+360;return Math.round(r%360/45)}function kF(t,e,r,n,i){var s;let{target:a,corner:o}=t;const l=a.controls[o],c=((s=a.canvas)===null||s===void 0?void 0:s.getZoom())||1,u=a.padding/c,d=function(A,f,p,m){const y=A.getRelativeCenterPoint(),g=p!==void 0&&m!==void 0?A.translateToGivenOrigin(y,ft,ft,p,m):new ue(A.left,A.top);return(A.angle?f.rotate(-$r(A.angle),y):f).subtract(g)}(a,new ue(n,i),e,r);return d.x>=u&&(d.x-=u),d.x<=-u&&(d.x+=u),d.y>=u&&(d.y-=u),d.y<=u&&(d.y+=u),d.x-=l.offsetX,d.y-=l.offsetY,d}const EMe=(t,e,r,n)=>{const{target:i,offsetX:s,offsetY:a}=e,o=r-s,l=n-a,c=!Da(i,"lockMovementX")&&i.left!==o,u=!Da(i,"lockMovementY")&&i.top!==l;return c&&i.set(Ht,o),u&&i.set(Ri,l),(c||u)&&xee(iee,wee(t,e,r,n)),c||u};let See=class{getSvgStyles(e){const r=this.fillRule?this.fillRule:"nonzero",n=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):Hi,s=this.strokeDashOffset?this.strokeDashOffset:"0",a=this.strokeLineCap?this.strokeLineCap:"butt",o=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",c=this.opacity!==void 0?this.opacity:"1",u=this.visible?"":" visibility: hidden;",d=e?"":this.getSvgFilter(),A=Jg(un,this.fill);return[Jg(zi,this.stroke),"stroke-width: ",n,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",a,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",o,"; ","stroke-miterlimit: ",l,"; ",A,"fill-rule: ",r,"; ","opacity: ",c,";",d,u].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e?this.calcTransformMatrix():this.calcOwnMatrix(),i='transform="'.concat(c3(n));return"".concat(i).concat(r,'" ')}_toSVG(e){return[""]}toSVG(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}toClipPathSVG(e){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}_createBaseClipPathSVGMarkup(e){let{reviver:r,additionalTransform:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=[this.getSvgTransform(!0,n),this.getSvgCommons()].join(""),s=e.indexOf("COMMON_PARTS");return e[s]=i,r?r(e.join("")):e.join("")}_createBaseSVGMarkup(e){let{noStyle:r,reviver:n,withShadow:i,additionalTransform:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=r?"":'style="'.concat(this.getSvgStyles(),'" '),o=i?'style="'.concat(this.getSvgFilter(),'" '):"",l=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",u=l&&l.absolutePositioned,d=this.stroke,A=this.fill,f=this.shadow,p=[],m=e.indexOf("COMMON_PARTS");let y;l&&(l.clipPathId="CLIPPATH_".concat(Mu()),y='<clipPath id="'.concat(l.clipPathId,`" >
`).concat(l.toClipPathSVG(n),`</clipPath>
`)),u&&p.push("<g ",o,this.getSvgCommons(),` >
`),p.push("<g ",this.getSvgTransform(!1),u?"":o+this.getSvgCommons(),` >
`);const g=[a,c,r?"":this.addPaintOrder()," ",s?'transform="'.concat(s,'" '):""].join("");return e[m]=g,zs(A)&&p.push(A.toSVG(this)),zs(d)&&p.push(d.toSVG(this)),f&&p.push(f.toSVG(this)),l&&p.push(y),p.push(e.join("")),p.push(`</g>
`),u&&p.push(`</g>
`),n?n(p.join("")):p.join("")}addPaintOrder(){return this.paintFirst!==un?' paint-order="'.concat(this.paintFirst,'" '):""}};function m5(t){return new RegExp("^("+t.join("|")+")\\b","i")}var YP;const Ch=String.raw(YP||(YP=Vu(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"]))),MMe=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Ch+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Ch+"))?\\s+(.*)"),FMe={cx:Ht,x:Ht,r:"radius",cy:Ri,y:Ri,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},t7="font-size",r7="clip-path";m5(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);m5(["symbol","image","marker","pattern","view","svg"]);const JP=m5(["symbol","g","a","svg","clipPath","defs"]),TMe=new ue(1,0),Bee=new ue,_ee=(t,e)=>t.rotate(e),f9=(t,e)=>new ue(e).subtract(t),p9=t=>t.distanceFrom(Bee),m9=(t,e)=>Math.atan2(Rm(t,e),LMe(t,e)),DMe=t=>m9(TMe,t),EF=t=>t.eq(Bee)?t:t.scalarDivide(p9(t)),kee=function(t){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return EF(new ue(-t.y,t.x).scalarMultiply(e?1:-1))},Rm=(t,e)=>t.x*e.y-t.y*e.x,LMe=(t,e)=>t.x*e.x+t.y*e.y,ZP=(t,e,r)=>{if(t.eq(e)||t.eq(r))return!0;const n=Rm(e,r),i=Rm(e,t),s=Rm(r,t);return n>=0?i>=0&&s<=0:!(i<=0&&s>=0)},eU="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",tU=new RegExp("(?:\\s|^)"+eU+eU+"("+Ch+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");let CA=class gx{constructor(e){const r=typeof e=="string"?gx.parseShadow(e):e;Object.assign(this,gx.ownDefaults,r),this.id=Mu()}static parseShadow(e){const r=e.trim(),[,n=0,i=0,s=0]=(tU.exec(r)||[]).map(a=>parseFloat(a)||0);return{color:(r.replace(tU,"")||"rgb(0,0,0)").trim(),offsetX:n,offsetY:i,blur:s}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(e){const r=_ee(new ue(this.offsetX,this.offsetY),$r(-e.angle)),n=new Wi(this.color);let i=40,s=40;return e.width&&e.height&&(i=100*Sr((Math.abs(r.x)+this.blur)/e.width,Mt.NUM_FRACTION_DIGITS)+20,s=100*Sr((Math.abs(r.y)+this.blur)/e.height,Mt.NUM_FRACTION_DIGITS)+20),e.flipX&&(r.x*=-1),e.flipY&&(r.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(s,'%" height="').concat(100+2*s,'%" x="-').concat(i,'%" width="').concat(100+2*i,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(Sr(this.blur?this.blur/2:0,Mt.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(Sr(r.x,Mt.NUM_FRACTION_DIGITS),'" dy="').concat(Sr(r.y,Mt.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(n.toRgb(),'" flood-opacity="').concat(n.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const e={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},r=gx.ownDefaults;return this.includeDefaultValues?e:BF(e,(n,i)=>n!==r[i])}static async fromObject(e){return new this(e)}};K(CA,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),K(CA,"type","shadow"),Ue.setClass(CA,"shadow");const XA=(t,e,r)=>Math.max(t,Math.min(e,r)),NMe=[Ri,Ht,qi,na,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",Sf,Bf],Yl=[un,zi,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],jMe={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:Ht,originY:Ri,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:un,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},IMe=(t,e,r,n)=>-r*Math.cos(t/n*H1)+r+e,OMe=()=>!1;let MF=class{constructor(e){let{startValue:r,byValue:n,duration:i=500,delay:s=0,easing:a=IMe,onStart:o=Ax,onChange:l=Ax,onComplete:c=Ax,abort:u=OMe,target:d}=e;K(this,"_state","pending"),K(this,"durationProgress",0),K(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=i,this.delay=s,this.easing=a,this._onStart=o,this._onChange=l,this._onComplete=c,this._abort=u,this.target=d,this.startValue=r,this.byValue=n,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const e=r=>{this._state==="pending"&&(this.startTime=r||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>px(e),this.delay):px(e)}tick(e){const r=(e||+new Date)-this.startTime,n=Math.min(r,this.duration);this.durationProgress=n/this.duration;const{value:i,valueProgress:s}=this.calculate(n);this.value=Object.freeze(i),this.valueProgress=s,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):r>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),px(this.tick)))}register(){o3.push(this)}unregister(){o3.remove(this)}abort(){this._state="aborted",this.unregister()}};const PMe=["startValue","endValue"];let UMe=class extends MF{constructor(e){let{startValue:r=0,endValue:n=100}=e;super(X(X({},yr(e,PMe)),{},{startValue:r,byValue:n-r}))}calculate(e){const r=this.easing(e,this.startValue,this.byValue,this.duration);return{value:r,valueProgress:Math.abs((r-this.startValue)/this.byValue)}}};const QMe=["startValue","endValue"];let RMe=class extends MF{constructor(e){let{startValue:r=[0],endValue:n=[100]}=e;super(X(X({},yr(e,QMe)),{},{startValue:r,byValue:n.map((i,s)=>i-r[s])}))}calculate(e){const r=this.startValue.map((n,i)=>this.easing(e,n,this.byValue[i],this.duration,i));return{value:r,valueProgress:Math.abs((r[0]-this.startValue[0])/this.byValue[0])}}};const HMe=["startValue","endValue","easing","onChange","onComplete","abort"],zMe=(t,e,r,n)=>e+r*(1-Math.cos(t/n*H1)),n7=t=>t&&((e,r,n)=>t(new Wi(e).toRgba(),r,n));let $Me=class extends MF{constructor(e){let{startValue:r,endValue:n,easing:i=zMe,onChange:s,onComplete:a,abort:o}=e,l=yr(e,HMe);const c=new Wi(r).getSource(),u=new Wi(n).getSource();super(X(X({},l),{},{startValue:c,byValue:u.map((d,A)=>d-c[A]),easing:i,onChange:n7(s),onComplete:n7(a),abort:n7(o)}))}calculate(e){const[r,n,i,s]=this.startValue.map((o,l)=>this.easing(e,o,this.byValue[l],this.duration,l)),a=[...[r,n,i].map(Math.round),XA(0,s,1)];return{value:a,valueProgress:a.map((o,l)=>this.byValue[l]!==0?Math.abs((o-this.startValue[l])/this.byValue[l]):0).find(o=>o!==0)||0}}};function Eee(t){const e=(r=>Array.isArray(r.startValue)||Array.isArray(r.endValue))(t)?new RMe(t):new UMe(t);return e.start(),e}function VMe(t){const e=new $Me(t);return e.start(),e}let Hm=class pn{constructor(e){this.status=e,this.points=[]}includes(e){return this.points.some(r=>r.eq(e))}append(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.points=this.points.concat(r.filter(i=>!this.includes(i))),this}static isPointContained(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(r.eq(n))return e.eq(r);if(r.x===n.x)return e.x===r.x&&(i||e.y>=Math.min(r.y,n.y)&&e.y<=Math.max(r.y,n.y));if(r.y===n.y)return e.y===r.y&&(i||e.x>=Math.min(r.x,n.x)&&e.x<=Math.max(r.x,n.x));{const s=f9(r,n),a=f9(r,e).divide(s);return i?Math.abs(a.x)===Math.abs(a.y):a.x===a.y&&a.x>=0&&a.x<=1}}static isPointInPolygon(e,r){const n=new ue(e).setX(Math.min(e.x-1,...r.map(s=>s.x)));let i=0;for(let s=0;s<r.length;s++){const a=this.intersectSegmentSegment(r[s],r[(s+1)%r.length],e,n);if(a.includes(e))return!0;i+=+(a.status==="Intersection")}return i%2==1}static intersectLineLine(e,r,n,i){let s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],a=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const o=r.x-e.x,l=r.y-e.y,c=i.x-n.x,u=i.y-n.y,d=e.x-n.x,A=e.y-n.y,f=c*A-u*d,p=o*A-l*d,m=u*o-c*l;if(m!==0){const y=f/m,g=p/m;return(s||0<=y&&y<=1)&&(a||0<=g&&g<=1)?new pn("Intersection").append(new ue(e.x+y*o,e.y+y*l)):new pn}if(f===0||p===0){const y=s||a||pn.isPointContained(e,n,i)||pn.isPointContained(r,n,i)||pn.isPointContained(n,e,r)||pn.isPointContained(i,e,r);return new pn(y?"Coincident":void 0)}return new pn("Parallel")}static intersectSegmentLine(e,r,n,i){return pn.intersectLineLine(e,r,n,i,!1,!0)}static intersectSegmentSegment(e,r,n,i){return pn.intersectLineLine(e,r,n,i,!1,!1)}static intersectLinePolygon(e,r,n){let i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const s=new pn,a=n.length;for(let o,l,c,u=0;u<a;u++){if(o=n[u],l=n[(u+1)%a],c=pn.intersectLineLine(e,r,o,l,i,!1),c.status==="Coincident")return c;s.append(...c.points)}return s.points.length>0&&(s.status="Intersection"),s}static intersectSegmentPolygon(e,r,n){return pn.intersectLinePolygon(e,r,n,!1)}static intersectPolygonPolygon(e,r){const n=new pn,i=e.length,s=[];for(let a=0;a<i;a++){const o=e[a],l=e[(a+1)%i],c=pn.intersectSegmentPolygon(o,l,r);c.status==="Coincident"?(s.push(c),n.append(o,l)):n.append(...c.points)}return s.length>0&&s.length===e.length?new pn("Coincident"):(n.points.length>0&&(n.status="Intersection"),n)}static intersectPolygonRectangle(e,r,n){const i=r.min(n),s=r.max(n),a=new ue(s.x,i.y),o=new ue(i.x,s.y);return pn.intersectPolygonPolygon(e,[i,a,s,o])}},KMe=class extends lee{getX(){return this.getXY().x}setX(e){this.setXY(this.getXY().setX(e))}getY(){return this.getXY().y}setY(e){this.setXY(this.getXY().setY(e))}getRelativeX(){return this.left}setRelativeX(e){this.left=e}getRelativeY(){return this.top}setRelativeY(e){this.top=e}getXY(){const e=this.getRelativeXY();return this.group?Fi(e,this.group.calcTransformMatrix()):e}setXY(e,r,n){this.group&&(e=Fi(e,_a(this.group.calcTransformMatrix()))),this.setRelativeXY(e,r,n)}getRelativeXY(){return new ue(this.left,this.top)}setRelativeXY(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(e,r,n)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:e,tr:r,br:n,bl:i}=this.aCoords||(this.aCoords=this.calcACoords()),s=[e,r,n,i];if(this.group){const a=this.group.calcTransformMatrix();return s.map(o=>Fi(o,a))}return s}intersectsWithRect(e,r){return Hm.intersectPolygonRectangle(this.getCoords(),e,r).status==="Intersection"}intersectsWithObject(e){const r=Hm.intersectPolygonPolygon(this.getCoords(),e.getCoords());return r.status==="Intersection"||r.status==="Coincident"||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}isContainedWithinObject(e){return this.getCoords().every(r=>e.containsPoint(r))}isContainedWithinRect(e,r){const{left:n,top:i,width:s,height:a}=this.getBoundingRect();return n>=e.x&&n+s<=r.x&&i>=e.y&&i+a<=r.y}isOverlapping(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}containsPoint(e){return Hm.isPointInPolygon(e,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:e,br:r}=this.canvas.vptCoords;return!!this.getCoords().some(n=>n.x<=r.x&&n.x>=e.x&&n.y<=r.y&&n.y>=e.y)||!!this.intersectsWithRect(e,r)||this.containsPoint(e.midPointFrom(r))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:e,br:r}=this.canvas.vptCoords;return this.intersectsWithRect(e,r)?!0:this.getCoords().every(n=>(n.x>=r.x||n.x<=e.x)&&(n.y>=r.y||n.y<=e.y))&&this.containsPoint(e.midPointFrom(r))}getBoundingRect(){return kl(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(e){this._set(qi,e),this._set(na,e),this.setCoords()}scaleToWidth(e){const r=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/r)}scaleToHeight(e){const r=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/r)}getCanvasRetinaScaling(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.getRetinaScaling())||1}getTotalAngle(){return this.group?wh(dee(this.calcTransformMatrix())):this.angle}getViewportTransform(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.viewportTransform)||gi.concat()}calcACoords(){const e=$1({angle:this.angle}),{x:r,y:n}=this.getRelativeCenterPoint(),i=z1(r,n),s=Dn(i,e),a=this._getTransformedDimensions(),o=a.x/2,l=a.y/2;return{tl:Fi({x:-o,y:-l},s),tr:Fi({x:o,y:-l},s),bl:Fi({x:-o,y:l},s),br:Fi({x:o,y:l},s)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=[];return!e&&this.group&&(r=this.group.transformMatrixKey(e)),r.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Jr(this.originX),Jr(this.originY)),r}calcTransformMatrix(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=this.calcOwnMatrix();if(e||!this.group)return r;const n=this.transformMatrixKey(e),i=this.matrixCache;return i&&i.key.every((s,a)=>s===n[a])?i.value:(this.group&&(r=Dn(this.group.calcTransformMatrix(!1),r)),this.matrixCache={key:n,value:r},r)}calcOwnMatrix(){const e=this.transformMatrixKey(!0),r=this.ownMatrixCache;if(r&&r.key===e)return r.value;const n=this.getRelativeCenterPoint(),i={angle:this.angle,translateX:n.x,translateY:n.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},s=gMe(i);return this.ownMatrixCache={key:e,value:s},s}_getNonTransformedDimensions(){return new ue(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=X({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),n=r.strokeWidth;let i=n,s=0;this.strokeUniform&&(i=0,s=n);const a=r.width+i,o=r.height+i;let l;return l=r.skewX===0&&r.skewY===0?new ue(a*r.scaleX,o*r.scaleY):_F(a,o,A5(r)),l.scalarAdd(s)}translateToGivenOrigin(e,r,n,i,s){let a=e.x,o=e.y;const l=Jr(i)-Jr(r),c=Jr(s)-Jr(n);if(l||c){const u=this._getTransformedDimensions();a+=l*u.x,o+=c*u.y}return new ue(a,o)}translateToCenterPoint(e,r,n){if(r===ft&&n===ft)return e;const i=this.translateToGivenOrigin(e,r,n,ft,ft);return this.angle?i.rotate($r(this.angle),e):i}translateToOriginPoint(e,r,n){const i=this.translateToGivenOrigin(e,ft,ft,r,n);return this.angle?i.rotate($r(this.angle),e):i}getCenterPoint(){const e=this.getRelativeCenterPoint();return this.group?Fi(e,this.group.calcTransformMatrix()):e}getRelativeCenterPoint(){return this.translateToCenterPoint(new ue(this.left,this.top),this.originX,this.originY)}getPointByOrigin(e,r){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,r)}setPositionByOrigin(e,r,n){const i=this.translateToCenterPoint(e,r,n),s=this.translateToOriginPoint(i,this.originX,this.originY);this.set({left:s.x,top:s.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),Ht,Ri)}};const qMe=["type"],WMe=["extraParam"];let el=class yx extends KMe{static getDefaults(){return yx.ownDefaults}get type(){const e=this.constructor.type;return e==="FabricObject"?"object":e.toLowerCase()}set type(e){Eu("warn","Setting type has no effect",e)}constructor(e){super(),K(this,"_cacheContext",null),Object.assign(this,yx.ownDefaults),this.setOptions(e)}_createCacheCanvas(){this._cacheCanvas=Oa(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(e){const r=e.width,n=e.height,i=Mt.maxCacheSideLimit,s=Mt.minCacheSideLimit;if(r<=i&&n<=i&&r*n<=Mt.perfLimitSizeTotal)return r<s&&(e.width=s),n<s&&(e.height=s),e;const a=r/n,[o,l]=Qm.limitDimsByArea(a),c=XA(s,o,i),u=XA(s,l,i);return r>c&&(e.zoomX/=r/c,e.width=c,e.capped=!0),n>u&&(e.zoomY/=n/u,e.height=u,e.capped=!0),e}_getCacheCanvasDimensions(){const e=this.getTotalObjectScaling(),r=this._getTransformedDimensions({skewX:0,skewY:0}),n=r.x*e.x/this.scaleX,i=r.y*e.y/this.scaleY;return{width:Math.ceil(n+2),height:Math.ceil(i+2),zoomX:e.x,zoomY:e.y,x:n,y:i}}_updateCacheCanvas(){const e=this._cacheCanvas,r=this._cacheContext,{width:n,height:i,zoomX:s,zoomY:a,x:o,y:l}=this._limitCacheSize(this._getCacheCanvasDimensions()),c=n!==e.width||i!==e.height,u=this.zoomX!==s||this.zoomY!==a;if(!e||!r)return!1;if(c||u){n!==e.width||i!==e.height?(e.width=n,e.height=i):(r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,e.width,e.height));const d=o/2,A=l/2;return this.cacheTranslationX=Math.round(e.width/2-d)+d,this.cacheTranslationY=Math.round(e.height/2-A)+A,r.translate(this.cacheTranslationX,this.cacheTranslationY),r.scale(s,a),this.zoomX=s,this.zoomY=a,!0}return!1}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(e)}transform(e){const r=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,n=this.calcTransformMatrix(!r);e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}getObjectScaling(){if(!this.group)return new ue(Math.abs(this.scaleX),Math.abs(this.scaleY));const e=l3(this.calcTransformMatrix());return new ue(Math.abs(e.scaleX),Math.abs(e.scaleY))}getTotalObjectScaling(){const e=this.getObjectScaling();if(this.canvas){const r=this.canvas.getZoom(),n=this.getCanvasRetinaScaling();return e.scalarMultiply(r*n)}return e}getObjectOpacity(){let e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}_constrainScale(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:e===0?1e-4:e}_set(e,r){e!==qi&&e!==na||(r=this._constrainScale(r)),e===qi&&r<0?(this.flipX=!this.flipX,r*=-1):e==="scaleY"&&r<0?(this.flipY=!this.flipY,r*=-1):e!=="shadow"||!r||r instanceof CA||(r=new CA(r));const n=this[e]!==r;return this[e]=r,n&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||n&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e,!1,{}),this.dirty=!1),e.restore())}drawSelectionBackground(e){}renderCache(e){if(e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:r,zoomY:n,cacheTranslationX:i,cacheTranslationY:s}=this,{width:a,height:o}=this._cacheCanvas;this.drawObject(this._cacheContext,e.forClipping,{zoomX:r,zoomY:n,cacheTranslationX:i,cacheTranslationY:s,width:a,height:o,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===zi&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(e,r,n){e.save(),r.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",e.setTransform(1,0,0,1,0,0),e.drawImage(n,0,0),e.restore()}drawObject(e,r,n){const i=this.fill,s=this.stroke;r?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath,n),this.fill=i,this.stroke=s}createClipPathLayer(e,r){const n=To(r),i=n.getContext("2d");if(i.translate(r.cacheTranslationX,r.cacheTranslationY),i.scale(r.zoomX,r.zoomY),e._cacheCanvas=n,r.parentClipPaths.forEach(s=>{s.transform(i)}),r.parentClipPaths.push(e),e.absolutePositioned){const s=_a(this.calcTransformMatrix());i.transform(s[0],s[1],s[2],s[3],s[4],s[5])}return e.transform(i),e.drawObject(i,!0,r),n}_drawClipPath(e,r,n){if(!r)return;r._transformDone=!0;const i=this.createClipPathLayer(r,n);this.drawClipPathOnCache(e,r,i)}drawCacheOnCanvas(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const r=this._cacheCanvas,n=this._cacheContext;return!(!r||!n||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(r&&n&&!e&&(n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,r.width,r.height),n.restore()),!0)}_renderBackground(e){if(!this.backgroundColor)return;const r=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),this._removeShadow(e)}_setOpacity(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}_setStrokeStyles(e,r){const n=r.stroke;n&&(e.lineWidth=r.strokeWidth,e.lineCap=r.strokeLineCap,e.lineDashOffset=r.strokeDashOffset,e.lineJoin=r.strokeLineJoin,e.miterLimit=r.strokeMiterLimit,zs(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?this._applyPatternForTransformedGradient(e,n):(e.strokeStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.strokeStyle=r.stroke)}_setFillStyles(e,r){let{fill:n}=r;n&&(zs(n)?(e.fillStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.fillStyle=n)}_setClippingProperties(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}_setLineDash(e,r){r&&r.length!==0&&e.setLineDash(r)}_setShadow(e){if(!this.shadow)return;const r=this.shadow,n=this.canvas,i=this.getCanvasRetinaScaling(),[s,,,a]=(n==null?void 0:n.viewportTransform)||gi,o=s*i,l=a*i,c=r.nonScaling?new ue(1,1):this.getObjectScaling();e.shadowColor=r.color,e.shadowBlur=r.blur*Mt.browserShadowBlurConstant*(o+l)*(c.x+c.y)/4,e.shadowOffsetX=r.offsetX*o*c.x,e.shadowOffsetY=r.offsetY*l*c.y}_removeShadow(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}_applyPatternGradientTransform(e,r){if(!zs(r))return{offsetX:0,offsetY:0};const n=r.gradientTransform||r.patternTransform,i=-this.width/2+r.offsetX||0,s=-this.height/2+r.offsetY||0;return r.gradientUnits==="percentage"?e.transform(this.width,0,0,this.height,i,s):e.transform(1,0,0,1,i,s),n&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:i,offsetY:s}}_renderPaintInOrder(e){this.paintFirst===zi?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}_render(e){}_renderFill(e){this.fill&&(e.save(),this._setFillStyles(e,this),this.fillRule==="evenodd"?e.fill("evenodd"):e.fill(),e.restore())}_renderStroke(e){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){const r=this.getObjectScaling();e.scale(1/r.x,1/r.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}_applyPatternForTransformedGradient(e,r){var n;const i=this._limitCacheSize(this._getCacheCanvasDimensions()),s=this.getCanvasRetinaScaling(),a=i.x/this.scaleX/s,o=i.y/this.scaleY/s,l=To({width:Math.ceil(a),height:Math.ceil(o)}),c=l.getContext("2d");c&&(c.beginPath(),c.moveTo(0,0),c.lineTo(a,0),c.lineTo(a,o),c.lineTo(0,o),c.closePath(),c.translate(a/2,o/2),c.scale(i.zoomX/this.scaleX/s,i.zoomY/this.scaleY/s),this._applyPatternGradientTransform(c,r),c.fillStyle=r.toLive(e),c.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(s*this.scaleX/i.zoomX,s*this.scaleY/i.zoomY),e.strokeStyle=(n=c.createPattern(l,"no-repeat"))!==null&&n!==void 0?n:"")}_findCenterFromElement(){return new ue(this.left+this.width/2,this.top+this.height/2)}clone(e){const r=this.toObject(e);return this.constructor.fromObject(r)}cloneAsImage(e){const r=this.toCanvasElement(e);return new(Ue.getClass("image"))(r)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=vee(this),n=this.group,i=this.shadow,s=Math.abs,a=e.enableRetinaScaling?nee():1,o=(e.multiplier||1)*a,l=e.canvasProvider||(v=>new V1(v,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,e.withoutTransform&&SMe(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&_Me(this,this.getViewportTransform()),this.setCoords();const c=Oa(),u=this.getBoundingRect(),d=this.shadow,A=new ue;if(d){const v=d.blur,x=d.nonScaling?new ue(1,1):this.getObjectScaling();A.x=2*Math.round(s(d.offsetX)+v)*s(x.x),A.y=2*Math.round(s(d.offsetY)+v)*s(x.y)}const f=u.width+A.x,p=u.height+A.y;c.width=Math.ceil(f),c.height=Math.ceil(p);const m=l(c);e.format==="jpeg"&&(m.backgroundColor="#fff"),this.setPositionByOrigin(new ue(m.width/2,m.height/2),ft,ft);const y=this.canvas;m._objects=[this],this.set("canvas",m),this.setCoords();const g=m.toCanvasElement(o||1,e);return this.set("canvas",y),this.shadow=i,n&&(this.group=n),this.set(r),this.setCoords(),m._objects=[],m.destroy(),g}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return cee(this.toCanvasElement(e),e.format||"png",e.quality||1)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return uee(this.toCanvasElement(e),e.format||"png",e.quality||1)}isType(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.includes(this.constructor.type)||r.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(e){const{centeredRotation:r,originX:n,originY:i}=this;if(r){const{x:s,y:a}=this.getRelativeCenterPoint();this.originX=ft,this.originY=ft,this.left=s,this.top=a}if(this.set("angle",e),r){const{x:s,y:a}=this.translateToOriginPoint(this.getRelativeCenterPoint(),n,i);this.left=s,this.top=a,this.originX=n,this.originY=i}}setOnGroup(){}_setupCompositeOperation(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}dispose(){o3.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&Fo().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(e,r){return Object.entries(e).reduce((n,i)=>{let[s,a]=i;return n[s]=this._animate(s,a,r),n},{})}_animate(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=e.split("."),s=this.constructor.colorProperties.includes(i[i.length-1]),{abort:a,startValue:o,onChange:l,onComplete:c}=n,u=X(X({},n),{},{target:this,startValue:o??i.reduce((d,A)=>d[A],this),endValue:r,abort:a==null?void 0:a.bind(this),onChange:(d,A,f)=>{i.reduce((p,m,y)=>(y===i.length-1&&(p[m]=d),p[m]),this),l&&l(d,A,f)},onComplete:(d,A,f)=>{this.setCoords(),c&&c(d,A,f)}});return s?VMe(u):Eee(u)}isDescendantOf(e){const{parent:r,group:n}=this;return r===e||n===e||!!r&&r.isDescendantOf(e)||!!n&&n!==r&&n.isDescendantOf(e)}getAncestors(){const e=[];let r=this;do r=r.parent,r&&e.push(r);while(r);return e}findCommonAncestors(e){if(this===e)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const r=this.getAncestors(),n=e.getAncestors();if(r.length===0&&n.length>0&&this===n[n.length-1])return{fork:[],otherFork:[e,...n.slice(0,n.length-1)],common:[this]};for(let i,s=0;s<r.length;s++){if(i=r[s],i===e)return{fork:[this,...r.slice(0,s)],otherFork:[],common:r.slice(s)};for(let a=0;a<n.length;a++){if(this===n[a])return{fork:[],otherFork:[e,...n.slice(0,a)],common:[this,...r]};if(i===n[a])return{fork:[this,...r.slice(0,s)],otherFork:[e,...n.slice(0,a)],common:r.slice(s)}}}return{fork:[this,...r],otherFork:[e,...n],common:[]}}hasCommonAncestors(e){const r=this.findCommonAncestors(e);return r&&!!r.common.length}isInFrontOf(e){if(this===e)return;const r=this.findCommonAncestors(e);if(r.fork.includes(e))return!0;if(r.otherFork.includes(this))return!1;const n=r.common[0]||this.canvas;if(!n)return;const i=r.fork.pop(),s=r.otherFork.pop(),a=n._objects.indexOf(i),o=n._objects.indexOf(s);return a>-1&&a>o}toObject(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(yx.customProperties,this.constructor.customProperties||[]);let r;const n=Mt.NUM_FRACTION_DIGITS,{clipPath:i,fill:s,stroke:a,shadow:o,strokeDashArray:l,left:c,top:u,originX:d,originY:A,width:f,height:p,strokeWidth:m,strokeLineCap:y,strokeDashOffset:g,strokeLineJoin:v,strokeUniform:x,strokeMiterLimit:b,scaleX:w,scaleY:C,angle:S,flipX:B,flipY:E,opacity:M,visible:D,backgroundColor:L,fillRule:I,paintFirst:z,globalCompositeOperation:R,skewX:Y,skewY:$}=this;i&&!i.excludeFromExport&&(r=i.toObject(e.concat("inverted","absolutePositioned")));const P=N=>Sr(N,n),q=X(X({},_f(this,e)),{},{type:this.constructor.type,version:c9,originX:d,originY:A,left:P(c),top:P(u),width:P(f),height:P(p),fill:qP(s)?s.toObject():s,stroke:qP(a)?a.toObject():a,strokeWidth:P(m),strokeDashArray:l&&l.concat(),strokeLineCap:y,strokeDashOffset:g,strokeLineJoin:v,strokeUniform:x,strokeMiterLimit:P(b),scaleX:P(w),scaleY:P(C),angle:P(S),flipX:B,flipY:E,opacity:P(M),shadow:o&&o.toObject(),visible:D,backgroundColor:L,fillRule:I,paintFirst:z,globalCompositeOperation:R,skewX:P(Y),skewY:P($)},r?{clipPath:r}:null);return this.includeDefaultValues?q:this._removeDefaultValues(q)}toDatalessObject(e){return this.toObject(e)}_removeDefaultValues(e){const r=this.constructor.getDefaults(),n=Object.keys(r).length>0?r:Object.getPrototypeOf(this);return BF(e,(i,s)=>{if(s===Ht||s===Ri||s==="type")return!0;const a=n[s];return i!==a&&!(Array.isArray(i)&&Array.isArray(a)&&i.length===0&&a.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(e){let r=yr(e,qMe),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:i}=n,s=yr(n,WMe);return f5(r,s).then(a=>i?(delete a[i],new this(r[i],a)):new this(a))}static fromObject(e,r){return this._fromObject(e,r)}};K(el,"stateProperties",NMe),K(el,"cacheProperties",Yl),K(el,"ownDefaults",jMe),K(el,"type","FabricObject"),K(el,"colorProperties",[un,zi,"backgroundColor"]),K(el,"customProperties",[]),Ue.setClass(el),Ue.setClass(el,"object");const kf=(t,e,r)=>(n,i,s,a)=>{const o=e(n,i,s,a);return o&&xee(t,X(X({},wee(n,i,s,a)),r)),o};function Ef(t){return(e,r,n,i)=>{const{target:s,originX:a,originY:o}=r,l=s.getRelativeCenterPoint(),c=s.translateToOriginPoint(l,a,o),u=t(e,r,n,i);return s.setPositionByOrigin(c,r.originX,r.originY),u}}const rU=kf(Xg,Ef((t,e,r,n)=>{const i=kF(e,e.originX,e.originY,r,n);if(Jr(e.originX)===Jr(ft)||Jr(e.originX)===Jr(Ur)&&i.x<0||Jr(e.originX)===Jr(Ht)&&i.x>0){const{target:s}=e,a=s.strokeWidth/(s.strokeUniform?s.scaleX:1),o=bee(e)?2:1,l=s.width,c=Math.abs(i.x*o/s.scaleX)-a;return s.set("width",Math.max(c,1)),l!==s.width}return!1}));function GMe(t,e,r,n,i){n=n||{};const s=this.sizeX||n.cornerSize||i.cornerSize,a=this.sizeY||n.cornerSize||i.cornerSize,o=n.transparentCorners!==void 0?n.transparentCorners:i.transparentCorners,l=o?zi:un,c=!o&&(n.cornerStrokeColor||i.cornerStrokeColor);let u,d=e,A=r;t.save(),t.fillStyle=n.cornerColor||i.cornerColor||"",t.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor||"",s>a?(u=s,t.scale(1,a/s),A=r*s/a):a>s?(u=a,t.scale(s/a,1),d=e*a/s):u=s,t.beginPath(),t.arc(d,A,u/2,0,i3,!1),t[l](),c&&t.stroke(),t.restore()}function XMe(t,e,r,n,i){n=n||{};const s=this.sizeX||n.cornerSize||i.cornerSize,a=this.sizeY||n.cornerSize||i.cornerSize,o=n.transparentCorners!==void 0?n.transparentCorners:i.transparentCorners,l=o?zi:un,c=!o&&(n.cornerStrokeColor||i.cornerStrokeColor),u=s/2,d=a/2;t.save(),t.fillStyle=n.cornerColor||i.cornerColor||"",t.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor||"",t.translate(e,r);const A=i.getTotalAngle();t.rotate($r(A)),t["".concat(l,"Rect")](-u,-d,s,a),c&&t.strokeRect(-u,-d,s,a),t.restore()}let Xr=class{constructor(e){K(this,"visible",!0),K(this,"actionName",h5),K(this,"angle",0),K(this,"x",0),K(this,"y",0),K(this,"offsetX",0),K(this,"offsetY",0),K(this,"sizeX",0),K(this,"sizeY",0),K(this,"touchSizeX",0),K(this,"touchSizeY",0),K(this,"cursorStyle","crosshair"),K(this,"withConnection",!1),Object.assign(this,e)}shouldActivate(e,r,n,i){var s;let{tl:a,tr:o,br:l,bl:c}=i;return((s=r.canvas)===null||s===void 0?void 0:s.getActiveObject())===r&&r.isControlVisible(e)&&Hm.isPointInPolygon(n,[a,o,l,c])}getActionHandler(e,r,n){return this.actionHandler}getMouseDownHandler(e,r,n){return this.mouseDownHandler}getMouseUpHandler(e,r,n){return this.mouseUpHandler}cursorStyleHandler(e,r,n){return r.cursorStyle}getActionName(e,r,n){return r.actionName}getVisibility(e,r){var n,i;return(n=(i=e._controlsVisibility)===null||i===void 0?void 0:i[r])!==null&&n!==void 0?n:this.visible}setVisibility(e,r,n){this.visible=e}positionHandler(e,r,n,i){return new ue(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(r)}calcCornerCoords(e,r,n,i,s,a){const o=CF([z1(n,i),$1({angle:e}),SF((s?this.touchSizeX:this.sizeX)||r,(s?this.touchSizeY:this.sizeY)||r)]);return{tl:new ue(-.5,-.5).transform(o),tr:new ue(.5,-.5).transform(o),br:new ue(.5,.5).transform(o),bl:new ue(-.5,.5).transform(o)}}render(e,r,n,i,s){((i=i||{}).cornerStyle||s.cornerStyle)==="circle"?GMe.call(this,e,r,n,i,s):XMe.call(this,e,r,n,i,s)}};const YMe=(t,e,r)=>r.lockRotation?d3:e.cursorStyle,JMe=kf(see,Ef((t,e,r,n)=>{let{target:i,ex:s,ey:a,theta:o,originX:l,originY:c}=e;const u=i.translateToOriginPoint(i.getRelativeCenterPoint(),l,c);if(Da(i,"lockRotation"))return!1;const d=Math.atan2(a-u.y,s-u.x),A=Math.atan2(n-u.y,r-u.x);let f=wh(A-d+o);if(i.snapAngle&&i.snapAngle>0){const m=i.snapAngle,y=i.snapThreshold||m,g=Math.ceil(f/m)*m,v=Math.floor(f/m)*m;Math.abs(f-v)<y?f=v:Math.abs(f-g)<y&&(f=g)}f<0&&(f=360+f),f%=360;const p=i.angle!==f;return i.angle=f,p}));function Mee(t,e){const r=e.canvas,n=t[r.uniScaleKey];return r.uniformScaling&&!n||!r.uniformScaling&&n}function Fee(t,e,r){const n=Da(t,"lockScalingX"),i=Da(t,"lockScalingY");if(n&&i||!e&&(n||i)&&r||n&&e==="x"||i&&e==="y")return!0;const{width:s,height:a,strokeWidth:o}=t;return s===0&&o===0&&e!=="y"||a===0&&o===0&&e!=="x"}const ZMe=["e","se","s","sw","w","nw","n","ne","e"],Jp=(t,e,r)=>{const n=Mee(t,r);if(Fee(r,e.x!==0&&e.y===0?"x":e.x===0&&e.y!==0?"y":"",n))return d3;const i=Cee(r,e);return"".concat(ZMe[i],"-resize")};function FF(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const s=e.target,a=i.by,o=Mee(t,s);let l,c,u,d,A,f;if(Fee(s,a,o))return!1;if(e.gestureScale)c=e.scaleX*e.gestureScale,u=e.scaleY*e.gestureScale;else{if(l=kF(e,e.originX,e.originY,r,n),A=a!=="y"?Math.sign(l.x||e.signX||1):1,f=a!=="x"?Math.sign(l.y||e.signY||1):1,e.signX||(e.signX=A),e.signY||(e.signY=f),Da(s,"lockScalingFlip")&&(e.signX!==A||e.signY!==f))return!1;if(d=s._getTransformedDimensions(),o&&!a){const y=Math.abs(l.x)+Math.abs(l.y),{original:g}=e,v=y/(Math.abs(d.x*g.scaleX/s.scaleX)+Math.abs(d.y*g.scaleY/s.scaleY));c=g.scaleX*v,u=g.scaleY*v}else c=Math.abs(l.x*s.scaleX/d.x),u=Math.abs(l.y*s.scaleY/d.y);bee(e)&&(c*=2,u*=2),e.signX!==A&&a!=="y"&&(e.originX=XP(e.originX),c*=-1,e.signX=A),e.signY!==f&&a!=="x"&&(e.originY=XP(e.originY),u*=-1,e.signY=f)}const p=s.scaleX,m=s.scaleY;return a?(a==="x"&&s.set(qi,c),a==="y"&&s.set(na,u)):(!Da(s,"lockScalingX")&&s.set(qi,c),!Da(s,"lockScalingY")&&s.set(na,u)),p!==s.scaleX||m!==s.scaleY}const l2=kf(d5,Ef((t,e,r,n)=>FF(t,e,r,n))),eFe=kf(d5,Ef((t,e,r,n)=>FF(t,e,r,n,{by:"x"}))),tFe=kf(d5,Ef((t,e,r,n)=>FF(t,e,r,n,{by:"y"}))),rFe=["target","ex","ey","skewingSide"],i7={x:{counterAxis:"y",scale:qi,skew:Sf,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:na,skew:Bf,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},nFe=["ns","nesw","ew","nwse"],iFe=(t,e,r)=>{if(e.x!==0&&Da(r,"lockSkewingY")||e.y!==0&&Da(r,"lockSkewingX"))return d3;const n=Cee(r,e)%4;return"".concat(nFe[n],"-resize")};function Tee(t,e,r,n,i){const{target:s}=r,{counterAxis:a,origin:o,lockSkewing:l,skew:c,flip:u}=i7[t];if(Da(s,l))return!1;const{origin:d,flip:A}=i7[a],f=Jr(r[d])*(s[A]?-1:1),p=-Math.sign(f)*(s[u]?-1:1),m=.5*-((s[c]===0&&kF(r,ft,ft,n,i)[t]>0||s[c]>0?1:-1)*p)+.5;return kf(aee,Ef((g,v,x,b)=>function(w,C,S){let{target:B,ex:E,ey:M,skewingSide:D}=C,L=yr(C,rFe);const{skew:I}=i7[w],z=S.subtract(new ue(E,M)).divide(new ue(B.scaleX,B.scaleY))[w],R=B[I],Y=L[I],$=Math.tan($r(Y)),P=w==="y"?B._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:B._getTransformedDimensions({scaleX:1,scaleY:1}).y,q=2*z*D/Math.max(P,1)+$,N=wh(Math.atan(q));B.set(I,N);const ae=R!==B[I];if(ae&&w==="y"){const{skewX:oe,scaleX:O}=B,fe=B._getTransformedDimensions({skewY:R}),Se=B._getTransformedDimensions(),ie=oe!==0?fe.x/Se.x:1;ie!==1&&B.set(qi,ie*O)}return ae}(t,v,new ue(x,b))))(e,X(X({},r),{},{[o]:m,skewingSide:p}),n,i)}const sFe=(t,e,r,n)=>Tee("x",t,e,r,n),aFe=(t,e,r,n)=>Tee("y",t,e,r,n);function g5(t,e){return t[e.canvas.altActionKey]}const c2=(t,e,r)=>{const n=g5(t,r);return e.x===0?n?Sf:na:e.y===0?n?Bf:qi:""},W0=(t,e,r)=>g5(t,r)?iFe(0,e,r):Jp(t,e,r),nU=(t,e,r,n)=>g5(t,e.target)?aFe(t,e,r,n):eFe(t,e,r,n),iU=(t,e,r,n)=>g5(t,e.target)?sFe(t,e,r,n):tFe(t,e,r,n),Dee=()=>({ml:new Xr({x:-.5,y:0,cursorStyleHandler:W0,actionHandler:nU,getActionName:c2}),mr:new Xr({x:.5,y:0,cursorStyleHandler:W0,actionHandler:nU,getActionName:c2}),mb:new Xr({x:0,y:.5,cursorStyleHandler:W0,actionHandler:iU,getActionName:c2}),mt:new Xr({x:0,y:-.5,cursorStyleHandler:W0,actionHandler:iU,getActionName:c2}),tl:new Xr({x:-.5,y:-.5,cursorStyleHandler:Jp,actionHandler:l2}),tr:new Xr({x:.5,y:-.5,cursorStyleHandler:Jp,actionHandler:l2}),bl:new Xr({x:-.5,y:.5,cursorStyleHandler:Jp,actionHandler:l2}),br:new Xr({x:.5,y:.5,cursorStyleHandler:Jp,actionHandler:l2}),mtr:new Xr({x:0,y:-.5,actionHandler:JMe,cursorStyleHandler:YMe,offsetY:-40,withConnection:!0,actionName:bF})}),oFe=()=>({mr:new Xr({x:.5,y:0,actionHandler:rU,cursorStyleHandler:W0,actionName:Xg}),ml:new Xr({x:-.5,y:0,actionHandler:rU,cursorStyleHandler:W0,actionName:Xg})}),lFe=()=>X(X({},Dee()),oFe());class Sh extends el{static getDefaults(){return X(X({},super.getDefaults()),Sh.ownDefaults)}constructor(e){super(),Object.assign(this,this.constructor.createControls(),Sh.ownDefaults),this.setOptions(e)}static createControls(){return{controls:Dee()}}_updateCacheCanvas(){const e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){const r=e._currentTransform,n=r.target,i=r.action;if(this===n&&i&&i.startsWith(h5))return!1}return super._updateCacheCanvas()}getActiveControl(){const e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}findControl(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const n=Object.entries(this.oCoords);for(let i=n.length-1;i>=0;i--){const[s,a]=n[i],o=this.controls[s];if(o.shouldActivate(s,this,e,r?a.touchCorner:a.corner))return this.__corner=s,{key:s,control:o,coord:this.oCoords[s]}}}calcOCoords(){const e=this.getViewportTransform(),r=this.getCenterPoint(),n=z1(r.x,r.y),i=$1({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),s=Dn(n,i),a=Dn(e,s),o=Dn(a,[1/e[0],0,0,1/e[3],0,0]),l=this.group?l3(this.calcTransformMatrix()):void 0;l&&(l.scaleX=Math.abs(l.scaleX),l.scaleY=Math.abs(l.scaleY));const c=this._calculateCurrentDimensions(l),u={};return this.forEachControl((d,A)=>{const f=d.positionHandler(c,o,this,d);u[A]=Object.assign(f,this._calcCornerCoords(d,f))}),u}_calcCornerCoords(e,r){const n=this.getTotalAngle();return{corner:e.calcCornerCoords(n,this.cornerSize,r.x,r.y,!1,this),touchCorner:e.calcCornerCoords(n,this.touchCornerSize,r.x,r.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(e){for(const r in this.controls)e(this.controls[r],r,this)}drawSelectionBackground(e){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;e.save();const r=this.getRelativeCenterPoint(),n=this._calculateCurrentDimensions(),i=this.getViewportTransform();e.translate(r.x,r.y),e.scale(1/i[0],1/i[3]),e.rotate($r(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-n.x/2,-n.y/2,n.x,n.y),e.restore()}strokeBorders(e,r){e.strokeRect(-r.x/2,-r.y/2,r.x,r.y)}_drawBorders(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=X({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},n);e.save(),e.strokeStyle=i.borderColor,this._setLineDash(e,i.borderDashArray),this.strokeBorders(e,r),i.hasControls&&this.drawControlsConnectingLines(e,r),e.restore()}_renderControls(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:n,hasControls:i}=this,s=X({hasBorders:n,hasControls:i},r),a=this.getViewportTransform(),o=s.hasBorders,l=s.hasControls,c=Dn(a,this.calcTransformMatrix()),u=l3(c);e.save(),e.translate(u.translateX,u.translateY),e.lineWidth=this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(u.angle-=180),e.rotate($r(this.group?u.angle:this.angle)),o&&this.drawBorders(e,u,r),l&&this.drawControls(e,r),e.restore()}drawBorders(e,r,n){let i;if(n&&n.forActiveSelection||this.group){const s=_F(this.width,this.height,A5(r)),a=this.isStrokeAccountedForInDimensions()?wF:(this.strokeUniform?new ue().scalarAdd(this.canvas?this.canvas.getZoom():1):new ue(r.scaleX,r.scaleY)).scalarMultiply(this.strokeWidth);i=s.add(a).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else i=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,i,n)}drawControlsConnectingLines(e,r){let n=!1;e.beginPath(),this.forEachControl((i,s)=>{i.withConnection&&i.getVisibility(this,s)&&(n=!0,e.moveTo(i.x*r.x,i.y*r.y),e.lineTo(i.x*r.x+i.offsetX,i.y*r.y+i.offsetY))}),n&&e.stroke()}drawControls(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.save();const n=this.getCanvasRetinaScaling(),{cornerStrokeColor:i,cornerDashArray:s,cornerColor:a}=this,o=X({cornerStrokeColor:i,cornerDashArray:s,cornerColor:a},r);e.setTransform(n,0,0,n,0,0),e.strokeStyle=e.fillStyle=o.cornerColor,this.transparentCorners||(e.strokeStyle=o.cornerStrokeColor),this._setLineDash(e,o.cornerDashArray),this.forEachControl((l,c)=>{if(l.getVisibility(this,c)){const u=this.oCoords[c];l.render(e,u.x,u.y,o,this)}}),e.restore()}isControlVisible(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}setControlVisible(e,r){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=r}setControlsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(e).forEach(r=>{let[n,i]=r;return this.setControlVisible(n,i)})}clearContextTop(e){if(!this.canvas)return;const r=this.canvas.contextTop;if(!r)return;const n=this.canvas.viewportTransform;r.save(),r.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(r);const i=this.width+4,s=this.height+4;return r.clearRect(-i/2,-s/2,i,s),e||r.restore(),r}onDeselect(e){return!1}onSelect(e){return!1}shouldStartDragging(e){return!1}onDragStart(e){return!1}canDrop(e){return!1}renderDragSourceEffect(e){}renderDropTargetEffect(e){}}function Lee(t,e){return e.forEach(r=>{Object.getOwnPropertyNames(r.prototype).forEach(n=>{n!=="constructor"&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(r.prototype,n)||Object.create(null))})}),t}K(Sh,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});let Zn=class extends Sh{};Lee(Zn,[See]),Ue.setClass(Zn),Ue.setClass(Zn,"object");const cFe=(t,e,r,n)=>{const i=2*(n=Math.round(n))+1,{data:s}=t.getImageData(e-n,r-n,i,i);for(let a=3;a<s.length;a+=4)if(s[a]>0)return!1;return!0};let Nee=class{constructor(e){this.options=e,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new ue(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new ue(1/this.options.scaleX,1/this.options.scaleY):new ue(1,1)}createSideVector(e,r){const n=f9(e,r);return this.options.strokeUniform?n.multiply(this.scale):n}projectOrthogonally(e,r,n){return this.applySkew(e.add(this.calcOrthogonalProjection(e,r,n)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(e){const r=new ue(e);return r.y+=r.x*Math.tan($r(this.options.skewY)),r.x+=r.y*Math.tan($r(this.options.skewX)),r}scaleUnitVector(e,r){return e.multiply(this.strokeUniformScalar).scalarMultiply(r)}};const uFe=new ue;let jee=class vx extends Nee{static getOrthogonalRotationFactor(e,r){const n=r?m9(e,r):DMe(e);return Math.abs(n)<H1?-1:1}constructor(e,r,n,i){super(i),K(this,"AB",void 0),K(this,"AC",void 0),K(this,"alpha",void 0),K(this,"bisector",void 0),this.A=new ue(e),this.B=new ue(r),this.C=new ue(n),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=m9(this.AB,this.AC),this.bisector=EF(_ee(this.AB.eq(uFe)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,r),s=kee(i),a=vx.getOrthogonalRotationFactor(s,this.bisector);return this.scaleUnitVector(s,n*a)}projectBevel(){const e=[];return(this.alpha%i3==0?[this.B]:[this.B,this.C]).forEach(r=>{e.push(this.projectOrthogonally(this.A,r)),e.push(this.projectOrthogonally(this.A,r,-this.strokeProjectionMagnitude))}),e}projectMiter(){const e=[],r=Math.abs(this.alpha),n=1/Math.sin(r/2),i=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*n),s=this.options.strokeUniform?p9(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return p9(i)/this.strokeProjectionMagnitude<=s&&e.push(this.applySkew(this.A.add(i))),e.push(...this.projectBevel()),e}projectRoundNoSkew(e,r){const n=[],i=new ue(vx.getOrthogonalRotationFactor(this.bisector),vx.getOrthogonalRotationFactor(new ue(this.bisector.y,this.bisector.x)));return[new ue(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i),new ue(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i)].forEach(s=>{ZP(s,e,r)&&n.push(this.A.add(s))}),n}projectRoundWithSkew(e,r){const n=[],{skewX:i,skewY:s,scaleX:a,scaleY:o,strokeUniform:l}=this.options,c=new ue(Math.tan($r(i)),Math.tan($r(s))),u=this.strokeProjectionMagnitude,d=l?u/o/Math.sqrt(1/o**2+1/a**2*c.y**2):u/Math.sqrt(1+c.y**2),A=new ue(Math.sqrt(Math.max(u**2-d**2,0)),d),f=l?u/Math.sqrt(1+c.x**2*(1/o)**2/(1/a+1/a*c.x*c.y)**2):u/Math.sqrt(1+c.x**2/(1+c.x*c.y)**2),p=new ue(f,Math.sqrt(Math.max(u**2-f**2,0)));return[p,p.scalarMultiply(-1),A,A.scalarMultiply(-1)].map(m=>this.applySkew(l?m.multiply(this.strokeUniformScalar):m)).forEach(m=>{ZP(m,e,r)&&n.push(this.applySkew(this.A).add(m))}),n}projectRound(){const e=[];e.push(...this.projectBevel());const r=this.alpha%i3==0,n=this.applySkew(this.A),i=e[r?0:2].subtract(n),s=e[r?1:0].subtract(n),a=r?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),o=Rm(i,a)>0,l=o?i:s,c=o?s:i;return this.isSkewed()?e.push(...this.projectRoundWithSkew(l,c)):e.push(...this.projectRoundNoSkew(l,c)),e}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e,angle:this.alpha,bisector:this.bisector}))}},sU=class extends Nee{constructor(e,r,n){super(n),this.A=new ue(e),this.T=new ue(r)}calcOrthogonalProjection(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,r);return this.scaleUnitVector(kee(i),n)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const e=[];if(!this.isSkewed()&&this.A.eq(this.T)){const r=new ue(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(r)),this.applySkew(this.A.subtract(r)))}else e.push(...new jee(this.A,this.T,this.T,this.options).projectRound());return e}projectSquare(){const e=[];if(this.A.eq(this.T)){const r=new ue(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.A.add(r),this.A.subtract(r))}else{const r=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),n=this.scaleUnitVector(EF(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),i=this.A.add(n);e.push(i.add(r),i.subtract(r))}return e.map(r=>this.applySkew(r))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e}))}};const dFe=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const n=[];if(t.length===0)return n;const i=t.reduce((s,a)=>(s[s.length-1].eq(a)||s.push(new ue(a)),s),[new ue(t[0])]);if(i.length===1)r=!0;else if(!r){const s=i[0],a=((o,l)=>{for(let c=o.length-1;c>=0;c--)if(l(o[c],c,o))return c;return-1})(i,o=>!o.eq(s));i.splice(a+1)}return i.forEach((s,a,o)=>{let l,c;a===0?(c=o[1],l=r?s:o[o.length-1]):a===o.length-1?(l=o[a-1],c=r?s:o[0]):(l=o[a-1],c=o[a+1]),r&&o.length===1?n.push(...new sU(s,s,e).project()):!r||a!==0&&a!==o.length-1?n.push(...new jee(s,l,c,e).project()):n.push(...new sU(s,a===0?c:l,e).project())}),n},TF=t=>{const e={};return Object.keys(t).forEach(r=>{e[r]={},Object.keys(t[r]).forEach(n=>{e[r][n]=X({},t[r][n])})}),e},hFe=t=>t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),DF=t=>{const e=[];for(let r,n=0;n<t.length;n++)(r=AFe(t,n))!==!1&&e.push(r);return e},AFe=(t,e)=>{const r=t.charCodeAt(e);if(isNaN(r))return"";if(r<55296||r>57343)return t.charAt(e);if(55296<=r&&r<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";const i=t.charCodeAt(e+1);if(56320>i||i>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";const n=t.charCodeAt(e-1);if(55296>n||n>56319)throw"Low surrogate without preceding high surrogate";return!1},LF=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.textBackgroundColor!==e.textBackgroundColor||t.deltaY!==e.deltaY||r&&(t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough)},fFe=(t,e)=>{const r=e.split(`
`),n=[];let i=-1,s={};t=TF(t);for(let a=0;a<r.length;a++){const o=DF(r[a]);if(t[a])for(let l=0;l<o.length;l++){i++;const c=t[a][l];c&&Object.keys(c).length>0&&(LF(s,c,!0)?n.push({start:i,end:i+1,style:c}):n[n.length-1].end++),s=c||{}}else i+=o.length,s={}}return n},pFe=(t,e)=>{if(!Array.isArray(t))return TF(t);const r=e.split(xF),n={};let i=-1,s=0;for(let a=0;a<r.length;a++){const o=DF(r[a]);for(let l=0;l<o.length;l++)i++,t[s]&&t[s].start<=i&&i<t[s].end&&(n[a]=n[a]||{},n[a][l]=X({},t[s].style),i===t[s].end-1&&s++)}return n},Ku=["display","transform",un,"fill-opacity","fill-rule","opacity",zi,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function aU(t,e){const r=t.nodeName,n=t.getAttribute("class"),i=t.getAttribute("id"),s="(?![a-zA-Z\\-]+)";let a;if(a=new RegExp("^"+r,"i"),e=e.replace(a,""),i&&e.length&&(a=new RegExp("#"+i+s,"i"),e=e.replace(a,"")),n&&e.length){const o=n.split(" ");for(let l=o.length;l--;)a=new RegExp("\\."+o[l]+s,"i"),e=e.replace(a,"")}return e.length===0}function mFe(t,e){let r=!0;const n=aU(t,e.pop());return n&&e.length&&(r=function(i,s){let a,o=!0;for(;i.parentElement&&i.parentElement.nodeType===1&&s.length;)o&&(a=s.pop()),o=aU(i=i.parentElement,a);return s.length===0}(t,e)),n&&r&&e.length===0}const gFe=t=>{var e;return(e=FMe[t])!==null&&e!==void 0?e:t},yFe=new RegExp("(".concat(Ch,")"),"gi"),vFe=t=>t.replace(yFe," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var oU,lU,cU,uU,dU,hU,AU;const hi="(".concat(Ch,")"),xFe=String.raw(oU||(oU=Vu(["(skewX)(",")"],["(skewX)\\(","\\)"])),hi),bFe=String.raw(lU||(lU=Vu(["(skewY)(",")"],["(skewY)\\(","\\)"])),hi),wFe=String.raw(cU||(cU=Vu(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),hi,hi,hi),CFe=String.raw(uU||(uU=Vu(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),hi,hi),SFe=String.raw(dU||(dU=Vu(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),hi,hi),BFe=String.raw(hU||(hU=Vu(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),hi,hi,hi,hi,hi,hi),NF="(?:".concat(BFe,"|").concat(SFe,"|").concat(wFe,"|").concat(CFe,"|").concat(xFe,"|").concat(bFe,")"),_Fe="(?:".concat(NF,"*)"),kFe=String.raw(AU||(AU=Vu(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),_Fe),EFe=new RegExp(kFe),MFe=new RegExp(NF),FFe=new RegExp(NF,"g");function g9(t){const e=[];if(!(t=vFe(t).replace(/\s*([()])\s*/gi,"$1"))||t&&!EFe.test(t))return[...gi];for(const r of t.matchAll(FFe)){const n=MFe.exec(r[0]);if(!n)continue;let i=gi;const s=n.filter(p=>!!p),[,a,...o]=s,[l,c,u,d,A,f]=o.map(p=>parseFloat(p));switch(a){case"translate":i=z1(l,c);break;case bF:i=$1({angle:l},{x:c,y:u});break;case h5:i=SF(l,c);break;case Sf:i=Aee(l);break;case Bf:i=fee(l);break;case"matrix":i=[l,c,u,d,A,f]}e.push(i)}return CF(e)}function TFe(t,e,r,n){const i=Array.isArray(e);let s,a=e;if(t!==un&&t!==zi||e!==Hi){if(t==="strokeUniform")return e==="non-scaling-stroke";if(t==="strokeDashArray")a=e===Hi?null:e.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(t==="transformMatrix")a=r&&r.transformMatrix?Dn(r.transformMatrix,g9(e)):g9(e);else if(t==="visible")a=e!==Hi&&e!=="hidden",r&&r.visible===!1&&(a=!1);else if(t==="opacity")a=parseFloat(e),r&&r.opacity!==void 0&&(a*=r.opacity);else if(t==="textAnchor")a=e==="start"?Ht:e==="end"?Ur:ft;else if(t==="charSpacing")s=bA(e,n)/n*1e3;else if(t==="paintFirst"){const o=e.indexOf(un),l=e.indexOf(zi);a=un,(o>-1&&l>-1&&l<o||o===-1&&l>-1)&&(a=zi)}else{if(t==="href"||t==="xlink:href"||t==="font"||t==="id")return e;if(t==="imageSmoothing")return e==="optimizeQuality";s=i?e.map(bA):bA(e,n)}}else a="";return!i&&isNaN(s)?a:s}function DFe(t,e){const r=t.match(MMe);if(!r)return;const n=r[1],i=r[3],s=r[4],a=r[5],o=r[6];n&&(e.fontStyle=n),i&&(e.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),s&&(e.fontSize=bA(s)),o&&(e.fontFamily=o),a&&(e.lineHeight=a==="normal"?1:a)}function LFe(t,e){t.replace(/;\s*$/,"").split(";").forEach(r=>{if(!r)return;const[n,i]=r.split(":");e[n.trim().toLowerCase()]=i.trim()})}function NFe(t){const e={},r=t.getAttribute("style");return r&&(typeof r=="string"?LFe(r,e):function(n,i){Object.entries(n).forEach(s=>{let[a,o]=s;o!==void 0&&(i[a.toLowerCase()]=o)})}(r,e)),e}const jFe={stroke:"strokeOpacity",fill:"fillOpacity"};function Jl(t,e,r){if(!t)return{};let n,i={},s=vF;t.parentNode&&JP.test(t.parentNode.nodeName)&&(i=Jl(t.parentElement,e,r),i.fontSize&&(n=s=bA(i.fontSize)));const a=X(X(X({},e.reduce((c,u)=>{const d=t.getAttribute(u);return d&&(c[u]=d),c},{})),function(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d={};for(const A in u)mFe(c,A.split(" "))&&(d=X(X({},d),u[A]));return d}(t,r)),NFe(t));a[r7]&&t.setAttribute(r7,a[r7]),a[t7]&&(n=bA(a[t7],s),a[t7]="".concat(n));const o={};for(const c in a){const u=gFe(c),d=TFe(u,a[c],i,n);o[u]=d}o.font&&DFe(o.font,o);const l=X(X({},i),o);return JP.test(t.nodeName)?l:function(c){const u=Zn.getDefaults();return Object.entries(jFe).forEach(d=>{let[A,f]=d;if(c[f]===void 0||c[A]==="")return;if(c[A]===void 0){if(!u[A])return;c[A]=u[A]}if(c[A].indexOf("url(")===0)return;const p=new Wi(c[A]);c[A]=p.setAlpha(Sr(p.getAlpha()*c[f],2)).toRgba()}),c}(l)}const IFe=["left","top","width","height","visible"],Iee=["rx","ry"];let cl=class y9 extends Zn{static getDefaults(){return X(X({},super.getDefaults()),y9.ownDefaults)}constructor(e){super(),Object.assign(this,y9.ownDefaults),this.setOptions(e),this._initRxRy()}_initRxRy(){const{rx:e,ry:r}=this;e&&!r?this.ry=e:r&&!e&&(this.rx=r)}_render(e){const{width:r,height:n}=this,i=-r/2,s=-n/2,a=this.rx?Math.min(this.rx,r/2):0,o=this.ry?Math.min(this.ry,n/2):0,l=a!==0||o!==0;e.beginPath(),e.moveTo(i+a,s),e.lineTo(i+r-a,s),l&&e.bezierCurveTo(i+r-oc*a,s,i+r,s+oc*o,i+r,s+o),e.lineTo(i+r,s+n-o),l&&e.bezierCurveTo(i+r,s+n-oc*o,i+r-oc*a,s+n,i+r-a,s+n),e.lineTo(i+a,s+n),l&&e.bezierCurveTo(i+oc*a,s+n,i,s+n-oc*o,i,s+n-o),e.lineTo(i,s+o),l&&e.bezierCurveTo(i,s+oc*o,i+oc*a,s,i+a,s),e.closePath(),this._renderPaintInOrder(e)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...Iee,...e])}_toSVG(){const{width:e,height:r,rx:n,ry:i}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-r/2,'" rx="').concat(n,'" ry="').concat(i,'" width="').concat(e,'" height="').concat(r,`" />
`)]}static async fromElement(e,r,n){const i=Jl(e,this.ATTRIBUTE_NAMES,n),{left:s=0,top:a=0,width:o=0,height:l=0,visible:c=!0}=i,u=yr(i,IFe);return new this(X(X(X({},r),u),{},{left:s,top:a,width:o,height:l,visible:!!(c&&o&&l)}))}};K(cl,"type","Rect"),K(cl,"cacheProperties",[...Yl,...Iee]),K(cl,"ownDefaults",{rx:0,ry:0}),K(cl,"ATTRIBUTE_NAMES",[...Ku,"x","y","rx","ry","width","height"]),Ue.setClass(cl),Ue.setSVGClass(cl);const yl="initialization",h3="added",jF="removed",A3="imperative",Oee=(t,e)=>{const{strokeUniform:r,strokeWidth:n,width:i,height:s,group:a}=e,o=a&&a!==t?p5(a.calcTransformMatrix(),t.calcTransformMatrix()):null,l=o?e.getRelativeCenterPoint().transform(o):e.getRelativeCenterPoint(),c=!e.isStrokeAccountedForInDimensions(),u=r&&c?BMe(new ue(n,n),void 0,t.calcTransformMatrix()):wF,d=!r&&c?n:0,A=_F(i+d,s+d,CF([o,e.calcOwnMatrix()],!0)).add(u).scalarDivide(2);return[l.subtract(A),l.add(A)]};let y5=class{calcLayoutResult(e,r){if(this.shouldPerformLayout(e))return this.calcBoundingBox(r,e)}shouldPerformLayout(e){let{type:r,prevStrategy:n,strategy:i}=e;return r===yl||r===A3||!!n&&i!==n}shouldLayoutClipPath(e){let{type:r,target:{clipPath:n}}=e;return r!==yl&&n&&!n.absolutePositioned}getInitialSize(e,r){return r.size}calcBoundingBox(e,r){const{type:n,target:i}=r;if(n===A3&&r.overrides)return r.overrides;if(e.length===0)return;const{left:s,top:a,width:o,height:l}=kl(e.map(d=>Oee(i,d)).reduce((d,A)=>d.concat(A),[])),c=new ue(o,l),u=new ue(s,a).add(c.scalarDivide(2));if(n===yl){const d=this.getInitialSize(r,{size:c,center:u});return{center:u,relativeCorrection:new ue(0,0),size:d}}return{center:u.transform(i.calcOwnMatrix()),size:c}}};K(y5,"type","strategy");let v9=class extends y5{shouldPerformLayout(e){return!0}};K(v9,"type","fit-content"),Ue.setClass(v9);const OFe=["strategy"],PFe=["target","strategy","bubbles","prevStrategy"],Pee="layoutManager";let Zg=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new v9;K(this,"strategy",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(e){const r=X(X({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(r);const n=this.getLayoutResult(r);n&&this.commitLayout(r,n),this.onAfterLayout(r,n),this._prevLayoutStrategy=r.strategy}attachHandlers(e,r){const{target:n}=r;return[a3,iee,Xg,see,d5,aee,s3,uMe,dMe].map(i=>e.on(i,s=>this.performLayout(i===a3?{type:"object_modified",trigger:i,e:s,target:n}:{type:"object_modifying",trigger:i,e:s,target:n})))}subscribe(e,r){this.unsubscribe(e,r);const n=this.attachHandlers(e,r);this._subscriptions.set(e,n)}unsubscribe(e,r){(this._subscriptions.get(e)||[]).forEach(n=>n()),this._subscriptions.delete(e)}unsubscribeTargets(e){e.targets.forEach(r=>this.unsubscribe(r,e))}subscribeTargets(e){e.targets.forEach(r=>this.subscribe(r,e))}onBeforeLayout(e){const{target:r,type:n}=e,{canvas:i}=r;if(n===yl||n===h3?this.subscribeTargets(e):n===jF&&this.unsubscribeTargets(e),r.fire("layout:before",{context:e}),i&&i.fire("object:layout:before",{target:r,context:e}),n===A3&&e.deep){const s=yr(e,OFe);r.forEachObject(a=>a.layoutManager&&a.layoutManager.performLayout(X(X({},s),{},{bubbles:!1,target:a})))}}getLayoutResult(e){const{target:r,strategy:n,type:i}=e,s=n.calcLayoutResult(e,r.getObjects());if(!s)return;const a=i===yl?new ue:r.getRelativeCenterPoint(),{center:o,correction:l=new ue,relativeCorrection:c=new ue}=s,u=a.subtract(o).add(l).transform(i===yl?gi:_a(r.calcOwnMatrix()),!0).add(c);return{result:s,prevCenter:a,nextCenter:o,offset:u}}commitLayout(e,r){const{target:n}=e,{result:{size:i},nextCenter:s}=r;var a,o;n.set({width:i.x,height:i.y}),this.layoutObjects(e,r),e.type===yl?n.set({left:(a=e.x)!==null&&a!==void 0?a:s.x+i.x*Jr(n.originX),top:(o=e.y)!==null&&o!==void 0?o:s.y+i.y*Jr(n.originY)}):(n.setPositionByOrigin(s,ft,ft),n.setCoords(),n.set("dirty",!0))}layoutObjects(e,r){const{target:n}=e;n.forEachObject(i=>{i.group===n&&this.layoutObject(e,r,i)}),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,r,n.clipPath)}layoutObject(e,r,n){let{offset:i}=r;n.set({left:n.left+i.x,top:n.top+i.y})}onAfterLayout(e,r){const{target:n,strategy:i,bubbles:s,prevStrategy:a}=e,o=yr(e,PFe),{canvas:l}=n;n.fire("layout:after",{context:e,result:r}),l&&l.fire("object:layout:after",{context:e,result:r,target:n});const c=n.parent;s&&c!=null&&c.layoutManager&&((o.path||(o.path=[])).push(n),c.layoutManager.performLayout(X(X({},o),{},{target:c}))),n.set("dirty",!0)}dispose(){const{_subscriptions:e}=this;e.forEach(r=>r.forEach(n=>n())),e.clear()}toObject(){return{type:Pee,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}};Ue.setClass(Zg,Pee);const UFe=["type","objects","layoutManager"];let QFe=class extends Zg{performLayout(){}},xx=class x9 extends oee(Zn){static getDefaults(){return X(X({},super.getDefaults()),x9.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),K(this,"_activeObjects",[]),K(this,"__objectSelectionTracker",void 0),K(this,"__objectSelectionDisposer",void 0),Object.assign(this,x9.ownDefaults),this.setOptions(r),this.groupInit(e,r)}groupInit(e,r){var n;this._objects=[...e],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(i=>{this.enterGroup(i,!1)}),this.layoutManager=(n=r.layoutManager)!==null&&n!==void 0?n:new Zg,this.layoutManager.performLayout({type:yl,target:this,targets:[...e],x:r.left,y:r.top})}canEnterGroup(e){return e===this||this.isDescendantOf(e)?(Eu("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(e)===-1||(Eu("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(e){return e.filter((r,n,i)=>this.canEnterGroup(r)&&i.indexOf(r)===n)}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];const i=this._filterObjectsBeforeEnteringGroup(r),s=super.add(...i);return this._onAfterObjectsChange(h3,i),s}insertAt(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const s=this._filterObjectsBeforeEnteringGroup(n),a=super.insertAt(e,...s);return this._onAfterObjectsChange(h3,s),a}remove(){const e=super.remove(...arguments);return this._onAfterObjectsChange(jF,e),e}_onObjectAdded(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e,r){this.exitGroup(e,r),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onAfterObjectsChange(e,r){this.layoutManager.performLayout({type:e,targets:r,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(e,r){const n=this[e];return super._set(e,r),e==="canvas"&&n!==r&&(this._objects||[]).forEach(i=>{i._set(e,r)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(e,r){let{target:n}=r;const i=this._activeObjects;if(e)i.push(n),this._set("dirty",!0);else if(i.length>0){const s=i.indexOf(n);s>-1&&(i.splice(s,1),this._set("dirty",!0))}}_watchObject(e,r){e&&this._watchObject(!1,r),e?(r.on("selected",this.__objectSelectionTracker),r.on("deselected",this.__objectSelectionDisposer)):(r.off("selected",this.__objectSelectionTracker),r.off("deselected",this.__objectSelectionDisposer))}enterGroup(e,r){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,r)}_enterGroup(e,r){r&&u3(e,Dn(_a(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);const n=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();n&&(n===e||e.isDescendantOf(n))&&this._activeObjects.push(e)}exitGroup(e,r){this._exitGroup(e,r),e._set("parent",void 0),e._set("canvas",void 0)}_exitGroup(e,r){e._set("group",void 0),r||(u3(e,Dn(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);const n=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;n>-1&&this._activeObjects.splice(n,1)}shouldCache(){const e=Zn.prototype.shouldCache.call(this);if(e){for(let r=0;r<this._objects.length;r++)if(this._objects[r].willDrawShadow())return this.ownCaching=!1,!1}return e}willDrawShadow(){if(super.willDrawShadow())return!0;for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(e,r,n){this._renderBackground(e);for(let s=0;s<this._objects.length;s++){var i;const a=this._objects[s];(i=this.canvas)!==null&&i!==void 0&&i.preserveObjectStacking&&a.group!==this?(e.save(),e.transform(..._a(this.calcTransformMatrix())),a.render(e),e.restore()):a.group===this&&a.render(e)}this._drawClipPath(e,this.clipPath,n)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(e=>e.setCoords())}triggerLayout(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(X({target:this,type:A3},e))}render(e){this._transformDone=!0,super.render(e),this._transformDone=!1}__serializeObjects(e,r){const n=this.includeDefaultValues;return this._objects.filter(function(i){return!i.excludeFromExport}).map(function(i){const s=i.includeDefaultValues;i.includeDefaultValues=n;const a=i[e||"toObject"](r);return i.includeDefaultValues=s,a})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=this.layoutManager.toObject();return X(X(X({},super.toObject(["subTargetCheck","interactive",...e])),r.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:r}:{}),{},{objects:this.__serializeObjects("toObject",e)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(e=>{this._watchObject(!1,e),e.dispose()}),super.dispose()}_createSVGBgRect(e){if(!this.backgroundColor)return"";const r=cl.prototype._toSVG.call(this),n=r.indexOf("COMMON_PARTS");r[n]='for="group" ';const i=r.join("");return e?e(i):i}_toSVG(e){const r=["<g ","COMMON_PARTS",` >
`],n=this._createSVGBgRect(e);n&&r.push("		",n);for(let i=0;i<this._objects.length;i++)r.push("		",this._objects[i].toSVG(e));return r.push(`</g>
`),r}getSvgStyles(){const e=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",r=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),r].join("")}toClipPathSVG(e){const r=[],n=this._createSVGBgRect(e);n&&r.push("	",n);for(let i=0;i<this._objects.length;i++)r.push("	",this._objects[i].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(r,{reviver:e})}static fromObject(e,r){let{type:n,objects:i=[],layoutManager:s}=e,a=yr(e,UFe);return Promise.all([Yg(i,r),f5(a,r)]).then(o=>{let[l,c]=o;const u=new this(l,X(X(X({},a),c),{},{layoutManager:new QFe}));if(s){const d=Ue.getClass(s.type),A=Ue.getClass(s.strategy);u.layoutManager=new d(new A)}else u.layoutManager=new Zg;return u.layoutManager.subscribeTargets({type:yl,target:u,targets:u.getObjects()}),u.setCoords(),u})}};K(xx,"type","Group"),K(xx,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),Ue.setClass(xx);const RFe=(t,e)=>Math.min(e.width/t.width,e.height/t.height),HFe=(t,e)=>Math.max(e.width/t.width,e.height/t.height),b9="\\s*,?\\s*",lp="".concat(b9,"(").concat(Ch,")"),zFe="".concat(lp).concat(lp).concat(lp).concat(b9,"([01])").concat(b9,"([01])").concat(lp).concat(lp),$Fe={m:"l",M:"L"},VFe=(t,e,r,n,i,s,a,o,l,c,u)=>{const d=Ql(t),A=Rl(t),f=Ql(e),p=Rl(e),m=r*i*f-n*s*p+a,y=n*i*f+r*s*p+o;return["C",c+l*(-r*i*A-n*s*d),u+l*(-n*i*A+r*s*d),m+l*(r*i*p+n*s*f),y+l*(n*i*p-r*s*f),m,y]},fU=(t,e,r,n)=>{const i=Math.atan2(e,t),s=Math.atan2(n,r);return s>=i?s-i:2*Math.PI-(i-s)};function pU(t,e,r,n,i,s,a,o){let l;if(Mt.cachesBoundsOfCurve&&(l=[...arguments].join(),Qm.boundsOfCurveCache[l]))return Qm.boundsOfCurveCache[l];const c=Math.sqrt,u=Math.abs,d=[],A=[[0,0],[0,0]];let f=6*t-12*r+6*i,p=-3*t+9*r-9*i+3*a,m=3*r-3*t;for(let b=0;b<2;++b){if(b>0&&(f=6*e-12*n+6*s,p=-3*e+9*n-9*s+3*o,m=3*n-3*e),u(p)<1e-12){if(u(f)<1e-12)continue;const E=-m/f;0<E&&E<1&&d.push(E);continue}const w=f*f-4*m*p;if(w<0)continue;const C=c(w),S=(-f+C)/(2*p);0<S&&S<1&&d.push(S);const B=(-f-C)/(2*p);0<B&&B<1&&d.push(B)}let y=d.length;const g=y,v=Uee(t,e,r,n,i,s,a,o);for(;y--;){const{x:b,y:w}=v(d[y]);A[0][y]=b,A[1][y]=w}A[0][g]=t,A[1][g]=e,A[0][g+1]=a,A[1][g+1]=o;const x=[new ue(Math.min(...A[0]),Math.min(...A[1])),new ue(Math.max(...A[0]),Math.max(...A[1]))];return Mt.cachesBoundsOfCurve&&(Qm.boundsOfCurveCache[l]=x),x}const KFe=(t,e,r)=>{let[n,i,s,a,o,l,c,u]=r;const d=((A,f,p,m,y,g,v)=>{if(p===0||m===0)return[];let x=0,b=0,w=0;const C=Math.PI,S=v*yF,B=Rl(S),E=Ql(S),M=.5*(-E*A-B*f),D=.5*(-E*f+B*A),L=p**2,I=m**2,z=D**2,R=M**2,Y=L*I-L*z-I*R;let $=Math.abs(p),P=Math.abs(m);if(Y<0){const ee=Math.sqrt(1-Y/(L*I));$*=ee,P*=ee}else w=(y===g?-1:1)*Math.sqrt(Y/(L*z+I*R));const q=w*$*D/P,N=-w*P*M/$,ae=E*q-B*N+.5*A,oe=B*q+E*N+.5*f;let O=fU(1,0,(M-q)/$,(D-N)/P),fe=fU((M-q)/$,(D-N)/P,(-M-q)/$,(-D-N)/P);g===0&&fe>0?fe-=2*C:g===1&&fe<0&&(fe+=2*C);const Se=Math.ceil(Math.abs(fe/C*2)),ie=[],pe=fe/Se,J=8/3*Math.sin(pe/4)*Math.sin(pe/4)/Math.sin(pe/2);let re=O+pe;for(let ee=0;ee<Se;ee++)ie[ee]=VFe(O,re,E,B,$,P,ae,oe,J,x,b),x=ie[ee][5],b=ie[ee][6],O=re,re+=pe;return ie})(c-t,u-e,i,s,o,l,a);for(let A=0,f=d.length;A<f;A++)d[A][1]+=t,d[A][2]+=e,d[A][3]+=t,d[A][4]+=e,d[A][5]+=t,d[A][6]+=e;return d},qFe=t=>{let e=0,r=0,n=0,i=0;const s=[];let a,o=0,l=0;for(const c of t){const u=[...c];let d;switch(u[0]){case"l":u[1]+=e,u[2]+=r;case"L":e=u[1],r=u[2],d=["L",e,r];break;case"h":u[1]+=e;case"H":e=u[1],d=["L",e,r];break;case"v":u[1]+=r;case"V":r=u[1],d=["L",e,r];break;case"m":u[1]+=e,u[2]+=r;case"M":e=u[1],r=u[2],n=u[1],i=u[2],d=["M",e,r];break;case"c":u[1]+=e,u[2]+=r,u[3]+=e,u[4]+=r,u[5]+=e,u[6]+=r;case"C":o=u[3],l=u[4],e=u[5],r=u[6],d=["C",u[1],u[2],o,l,e,r];break;case"s":u[1]+=e,u[2]+=r,u[3]+=e,u[4]+=r;case"S":a==="C"?(o=2*e-o,l=2*r-l):(o=e,l=r),e=u[3],r=u[4],d=["C",o,l,u[1],u[2],e,r],o=d[3],l=d[4];break;case"q":u[1]+=e,u[2]+=r,u[3]+=e,u[4]+=r;case"Q":o=u[1],l=u[2],e=u[3],r=u[4],d=["Q",o,l,e,r];break;case"t":u[1]+=e,u[2]+=r;case"T":a==="Q"?(o=2*e-o,l=2*r-l):(o=e,l=r),e=u[1],r=u[2],d=["Q",o,l,e,r];break;case"a":u[6]+=e,u[7]+=r;case"A":KFe(e,r,u).forEach(A=>s.push(A)),e=u[6],r=u[7];break;case"z":case"Z":e=n,r=i,d=["Z"]}d?(s.push(d),a=d[0]):a=""}return s},f3=(t,e,r,n)=>Math.sqrt((r-t)**2+(n-e)**2),Uee=(t,e,r,n,i,s,a,o)=>l=>{const c=l**3,u=(f=>3*f**2*(1-f))(l),d=(f=>3*f*(1-f)**2)(l),A=(f=>(1-f)**3)(l);return new ue(a*c+i*u+r*d+t*A,o*c+s*u+n*d+e*A)},Qee=t=>t**2,Ree=t=>2*t*(1-t),Hee=t=>(1-t)**2,WFe=(t,e,r,n,i,s,a,o)=>l=>{const c=Qee(l),u=Ree(l),d=Hee(l),A=3*(d*(r-t)+u*(i-r)+c*(a-i)),f=3*(d*(n-e)+u*(s-n)+c*(o-s));return Math.atan2(f,A)},GFe=(t,e,r,n,i,s)=>a=>{const o=Qee(a),l=Ree(a),c=Hee(a);return new ue(i*o+r*l+t*c,s*o+n*l+e*c)},XFe=(t,e,r,n,i,s)=>a=>{const o=1-a,l=2*(o*(r-t)+a*(i-r)),c=2*(o*(n-e)+a*(s-n));return Math.atan2(c,l)},mU=(t,e,r)=>{let n=new ue(e,r),i=0;for(let s=1;s<=100;s+=1){const a=t(s/100);i+=f3(n.x,n.y,a.x,a.y),n=a}return i},YFe=(t,e)=>{let r,n=0,i=0,s={x:t.x,y:t.y},a=X({},s),o=.01,l=0;const c=t.iterator,u=t.angleFinder;for(;i<e&&o>1e-4;)a=c(n),l=n,r=f3(s.x,s.y,a.x,a.y),r+i>e?(n-=o,o/=2):(s=a,n+=o,i+=r);return X(X({},a),{},{angle:u(l)})},zee=t=>{let e,r,n=0,i=0,s=0,a=0,o=0;const l=[];for(const c of t){const u={x:i,y:s,command:c[0],length:0};switch(c[0]){case"M":r=u,r.x=a=i=c[1],r.y=o=s=c[2];break;case"L":r=u,r.length=f3(i,s,c[1],c[2]),i=c[1],s=c[2];break;case"C":e=Uee(i,s,c[1],c[2],c[3],c[4],c[5],c[6]),r=u,r.iterator=e,r.angleFinder=WFe(i,s,c[1],c[2],c[3],c[4],c[5],c[6]),r.length=mU(e,i,s),i=c[5],s=c[6];break;case"Q":e=GFe(i,s,c[1],c[2],c[3],c[4]),r=u,r.iterator=e,r.angleFinder=XFe(i,s,c[1],c[2],c[3],c[4]),r.length=mU(e,i,s),i=c[3],s=c[4];break;case"Z":r=u,r.destX=a,r.destY=o,r.length=f3(i,s,a,o),i=a,s=o}n+=r.length,l.push(r)}return l.push({length:n,x:i,y:s}),l},JFe=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zee(t),n=0;for(;e-r[n].length>0&&n<r.length-2;)e-=r[n].length,n++;const i=r[n],s=e/i.length,a=t[n];switch(i.command){case"M":return{x:i.x,y:i.y,angle:0};case"Z":return X(X({},new ue(i.x,i.y).lerp(new ue(i.destX,i.destY),s)),{},{angle:Math.atan2(i.destY-i.y,i.destX-i.x)});case"L":return X(X({},new ue(i.x,i.y).lerp(new ue(a[1],a[2]),s)),{},{angle:Math.atan2(a[2]-i.y,a[1]-i.x)});case"C":case"Q":return YFe(i,e)}},ZFe=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),gU=new RegExp(zFe,"g"),eTe=new RegExp(Ch,"gi"),tTe={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},rTe=t=>{var e;const r=[],n=(e=t.match(ZFe))!==null&&e!==void 0?e:[];for(const i of n){const s=i[0];if(s==="z"||s==="Z"){r.push([s]);continue}const a=tTe[s.toLowerCase()];let o=[];if(s==="a"||s==="A"){gU.lastIndex=0;for(let l=null;l=gU.exec(i);)o.push(...l.slice(1))}else o=i.match(eTe)||[];for(let l=0;l<o.length;l+=a){const c=new Array(a),u=$Fe[s];c[0]=l>0&&u?u:s;for(let d=0;d<a;d++)c[d+1]=parseFloat(o[l+d]);r.push(c)}}return r},nTe=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=new ue(t[0]),n=new ue(t[1]),i=1,s=0;const a=[],o=t.length,l=o>2;let c;for(l&&(i=t[2].x<n.x?-1:t[2].x===n.x?0:1,s=t[2].y<n.y?-1:t[2].y===n.y?0:1),a.push(["M",r.x-i*e,r.y-s*e]),c=1;c<o;c++){if(!r.eq(n)){const u=r.midPointFrom(n);a.push(["Q",r.x,r.y,u.x,u.y])}r=t[c],c+1<t.length&&(n=t[c+1])}return l&&(i=r.x>t[c-2].x?1:r.x===t[c-2].x?0:-1,s=r.y>t[c-2].y?1:r.y===t[c-2].y?0:-1),a.push(["L",r.x+i*e,r.y+s*e]),a},$ee=(t,e)=>t.map(r=>r.map((n,i)=>i===0||e===void 0?n:Sr(n,e)).join(" ")).join(" ");function w9(t,e){const r=t.style;r&&e&&(typeof e=="string"?r.cssText+=";"+e:Object.entries(e).forEach(n=>{let[i,s]=n;return r.setProperty(i,s)}))}let iTe=class extends yee{constructor(e){let{allowTouchScrolling:r=!1,containerClass:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e),K(this,"upper",void 0),K(this,"container",void 0);const{el:i}=this.lower,s=this.createUpperCanvas();this.upper={el:s,ctx:s.getContext("2d")},this.applyCanvasStyle(i,{allowTouchScrolling:r}),this.applyCanvasStyle(s,{allowTouchScrolling:r,styles:{position:"absolute",left:"0",top:"0"}});const a=this.createContainerElement();a.classList.add(n),i.parentNode&&i.parentNode.replaceChild(a,i),a.append(i,s),this.container=a}createUpperCanvas(){const{el:e}=this.lower,r=Oa();return r.className=e.className,r.classList.remove("lower-canvas"),r.classList.add("upper-canvas"),r.setAttribute("data-fabric","top"),r.style.cssText=e.style.cssText,r.setAttribute("draggable","true"),r}createContainerElement(){const e=Cf().createElement("div");return e.setAttribute("data-fabric","wrapper"),w9(e,{position:"relative"}),GP(e),e}applyCanvasStyle(e,r){const{styles:n,allowTouchScrolling:i}=r;w9(e,X(X({},n),{},{"touch-action":i?"manipulation":Hi})),GP(e)}setDimensions(e,r){super.setDimensions(e,r);const{el:n,ctx:i}=this.upper;gee(n,i,e,r)}setCSSDimensions(e){super.setCSSDimensions(e),d9(this.upper.el,e),d9(this.container,e)}cleanupDOM(e){const r=this.container,{el:n}=this.lower,{el:i}=this.upper;super.cleanupDOM(e),r.removeChild(i),r.removeChild(n),r.parentNode&&r.parentNode.replaceChild(n,r)}dispose(){super.dispose(),Fo().dispose(this.upper.el),delete this.upper,delete this.container}},Vee=class Kee extends V1{constructor(){super(...arguments),K(this,"targets",[]),K(this,"_hoveredTargets",[]),K(this,"_objectsToRender",void 0),K(this,"_currentTransform",null),K(this,"_groupSelector",null),K(this,"contextTopDirty",!1)}static getDefaults(){return X(X({},super.getDefaults()),Kee.ownDefaults)}get upperCanvasEl(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.el}get contextTop(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.ctx}get wrapperEl(){return this.elements.container}initElements(e){this.elements=new iTe(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(e){this._objectsToRender=void 0,super._onObjectAdded(e)}_onObjectRemoved(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(e)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter(r=>!r.group&&r!==e).concat(e):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}renderTop(){const e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}setTargetFindTolerance(e){e=Math.round(e),this.targetFindTolerance=e;const r=this.getRetinaScaling(),n=Math.ceil((2*e+1)*r);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=n,this.pixelFindContext.scale(r,r)}isTargetTransparent(e,r,n){const i=this.targetFindTolerance,s=this.pixelFindContext;this.clearContext(s),s.save(),s.translate(-r+i,-n+i),s.transform(...this.viewportTransform);const a=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(s),e.selectionBackgroundColor=a,s.restore();const o=Math.round(i*this.getRetinaScaling());return cFe(s,o,o,o)}_isSelectionKeyPressed(e){const r=this.selectionKey;return!!r&&(Array.isArray(r)?!!r.find(n=>!!n&&e[n]===!0):e[r])}_shouldClearSelection(e,r){const n=this.getActiveObjects(),i=this._activeObject;return!!(!r||r&&i&&n.length>1&&n.indexOf(r)===-1&&i!==r&&!this._isSelectionKeyPressed(e)||r&&!r.evented||r&&!r.selectable&&i&&i!==r)}_shouldCenterTransform(e,r,n){if(!e)return;let i;return r===h5||r===qi||r===na||r===Xg?i=this.centeredScaling||e.centeredScaling:r===bF&&(i=this.centeredRotation||e.centeredRotation),i?!n:n}_getOriginFromCorner(e,r){const n={x:e.originX,y:e.originY};return r&&(["ml","tl","bl"].includes(r)?n.x=Ur:["mr","tr","br"].includes(r)&&(n.x=Ht),["tl","mt","tr"].includes(r)?n.y=u9:["bl","mb","br"].includes(r)&&(n.y=Ri)),n}_setupCurrentTransform(e,r,n){var i;const s=r.group?wA(this.getScenePoint(e),void 0,r.group.calcTransformMatrix()):this.getScenePoint(e),{key:a="",control:o}=r.getActiveControl()||{},l=n&&o?(i=o.getActionHandler(e,r,o))===null||i===void 0?void 0:i.bind(o):EMe,c=((f,p,m,y)=>{if(!p||!f)return"drag";const g=y.controls[p];return g.getActionName(m,g,y)})(n,a,e,r),u=e[this.centeredKey],d=this._shouldCenterTransform(r,c,u)?{x:ft,y:ft}:this._getOriginFromCorner(r,a),A={target:r,action:c,actionHandler:l,actionPerformed:!1,corner:a,scaleX:r.scaleX,scaleY:r.scaleY,skewX:r.skewX,skewY:r.skewY,offsetX:s.x-r.left,offsetY:s.y-r.top,originX:d.x,originY:d.y,ex:s.x,ey:s.y,lastX:s.x,lastY:s.y,theta:$r(r.angle),width:r.width,height:r.height,shiftKey:e.shiftKey,altKey:u,original:X(X({},vee(r)),{},{originX:d.x,originY:d.y})};this._currentTransform=A,this.fire("before:transform",{e,transform:A})}setCursor(e){this.upperCanvasEl.style.cursor=e}_drawSelection(e){const{x:r,y:n,deltaX:i,deltaY:s}=this._groupSelector,a=new ue(r,n).transform(this.viewportTransform),o=new ue(r+i,n+s).transform(this.viewportTransform),l=this.selectionLineWidth/2;let c=Math.min(a.x,o.x),u=Math.min(a.y,o.y),d=Math.max(a.x,o.x),A=Math.max(a.y,o.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(c,u,d-c,A-u)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,c+=l,u+=l,d-=l,A-=l,Zn.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(c,u,d-c,A-u))}findTarget(e){if(this.skipTargetFind)return;const r=this.getViewportPoint(e),n=this._activeObject,i=this.getActiveObjects();if(this.targets=[],n&&i.length>=1){if(n.findControl(r,h9(e))||i.length>1&&this.searchPossibleTargets([n],r))return n;if(n===this.searchPossibleTargets([n],r)){if(this.preserveObjectStacking){const s=this.targets;this.targets=[];const a=this.searchPossibleTargets(this._objects,r);return e[this.altSelectionKey]&&a&&a!==n?(this.targets=s,n):a}return n}}return this.searchPossibleTargets(this._objects,r)}_pointIsInObjectSelectionArea(e,r){let n=e.getCoords();const i=this.getZoom(),s=e.padding/i;if(s){const[a,o,l,c]=n,u=Math.atan2(o.y-a.y,o.x-a.x),d=Ql(u)*s,A=Rl(u)*s,f=d+A,p=d-A;n=[new ue(a.x-p,a.y-f),new ue(o.x+f,o.y-p),new ue(l.x+p,l.y+f),new ue(c.x-f,c.y+p)]}return Hm.isPointInPolygon(r,n)}_checkTarget(e,r){return!!(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,wA(r,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing||!this.isTargetTransparent(e,r.x,r.y)))}_searchPossibleTargets(e,r){let n=e.length;for(;n--;){const i=e[n];if(this._checkTarget(i,r)){if(fx(i)&&i.subTargetCheck){const s=this._searchPossibleTargets(i._objects,r);s&&this.targets.push(s)}return i}}}searchPossibleTargets(e,r){const n=this._searchPossibleTargets(e,r);if(n&&fx(n)&&n.interactive&&this.targets[0]){const i=this.targets;for(let s=i.length-1;s>0;s--){const a=i[s];if(!fx(a)||!a.interactive)return a}return i[0]}return n}getViewportPoint(e){return this._pointer?this._pointer:this.getPointer(e,!0)}getScenePoint(e){return this._absolutePointer?this._absolutePointer:this.getPointer(e)}getPointer(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const n=this.upperCanvasEl,i=n.getBoundingClientRect();let s=bMe(e),a=i.width||0,o=i.height||0;a&&o||(Ri in i&&u9 in i&&(o=Math.abs(i.top-i.bottom)),Ur in i&&Ht in i&&(a=Math.abs(i.right-i.left))),this.calcOffset(),s.x=s.x-this._offset.left,s.y=s.y-this._offset.top,r||(s=wA(s,void 0,this.viewportTransform));const l=this.getRetinaScaling();l!==1&&(s.x/=l,s.y/=l);const c=a===0||o===0?new ue(1,1):new ue(n.width/a,n.height/o);return s.multiply(c)}_setDimensionsImpl(e,r){this._resetTransformEventData(),super._setDimensionsImpl(e,r),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=Oa(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const e=this._activeObject;return Fd(e)?e.getObjects():e?[e]:[]}_fireSelectionEvents(e,r){let n=!1,i=!1;const s=this.getActiveObjects(),a=[],o=[];e.forEach(l=>{s.includes(l)||(n=!0,l.fire("deselected",{e:r,target:l}),o.push(l))}),s.forEach(l=>{e.includes(l)||(n=!0,l.fire("selected",{e:r,target:l}),a.push(l))}),e.length>0&&s.length>0?(i=!0,n&&this.fire("selection:updated",{e:r,selected:a,deselected:o})):s.length>0?(i=!0,this.fire("selection:created",{e:r,selected:a})):e.length>0&&(i=!0,this.fire("selection:cleared",{e:r,deselected:o})),i&&(this._objectsToRender=void 0)}setActiveObject(e,r){const n=this.getActiveObjects(),i=this._setActiveObject(e,r);return this._fireSelectionEvents(n,r),i}_setActiveObject(e,r){const n=this._activeObject;return n!==e&&!(!this._discardActiveObject(r,e)&&this._activeObject)&&!e.onSelect({e:r})&&(this._activeObject=e,Fd(e)&&n!==e&&e.set("canvas",this),e.setCoords(),!0)}_discardActiveObject(e,r){const n=this._activeObject;return!!n&&!n.onDeselect({e,object:r})&&(this._currentTransform&&this._currentTransform.target===n&&this.endCurrentTransform(e),Fd(n)&&n===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(e){const r=this.getActiveObjects(),n=this.getActiveObject();r.length&&this.fire("before:selection:cleared",{e,deselected:[n]});const i=this._discardActiveObject(e);return this._fireSelectionEvents(r,e),i}endCurrentTransform(e){const r=this._currentTransform;this._finalizeCurrentTransform(e),r&&r.target&&(r.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(e){const r=this._currentTransform,n=r.target,i={e,target:n,transform:r,action:r.action};n._scaling&&(n._scaling=!1),n.setCoords(),r.actionPerformed&&(this.fire("object:modified",i),n.fire(a3,i))}setViewportTransform(e){super.setViewportTransform(e);const r=this._activeObject;r&&r.setCoords()}destroy(){const e=this._activeObject;Fd(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(e){const r=this._activeObject;r&&r._renderControls(e)}_toObject(e,r,n){const i=this._realizeGroupTransformOnObject(e),s=super._toObject(e,r,n);return e.set(i),s}_realizeGroupTransformOnObject(e){const{group:r}=e;if(r&&Fd(r)&&this._activeObject===r){const n=_f(e,["angle","flipX","flipY",Ht,qi,na,Sf,Bf,Ri]);return CMe(e,r.calcOwnMatrix()),n}return{}}_setSVGObject(e,r,n){const i=this._realizeGroupTransformOnObject(r);super._setSVGObject(e,r,n),r.set(i)}};K(Vee,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});let sTe=class{constructor(e){K(this,"targets",[]),K(this,"__disposer",void 0);const r=()=>{const{hiddenTextarea:i}=e.getActiveObject()||{};i&&i.focus()},n=e.upperCanvasEl;n.addEventListener("click",r),this.__disposer=()=>n.removeEventListener("click",r)}exitTextEditing(){this.target=void 0,this.targets.forEach(e=>{e.isEditing&&e.exitEditing()})}add(e){this.targets.push(e)}remove(e){this.unregister(e),S0(this.targets,e)}register(e){this.target=e}unregister(e){e===this.target&&(this.target=void 0)}onMouseMove(e){var r;!((r=this.target)===null||r===void 0)&&r.isEditing&&this.target.updateSelectionOnMouseMove(e)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}};const aTe=["target","oldTarget","fireCanvas","e"],es={passive:!1},e0=(t,e)=>{const r=t.getViewportPoint(e),n=t.getScenePoint(e);return{viewportPoint:r,scenePoint:n,pointer:r,absolutePointer:n}},lc=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.addEventListener(...r)},Fs=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.removeEventListener(...r)},oTe={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};let C9=class extends Vee{constructor(e){super(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),K(this,"_isClick",void 0),K(this,"textEditingManager",new sTe(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(r=>{this[r]=this[r].bind(this)}),this.addOrRemove(lc,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(e,r){const n=this.upperCanvasEl,i=this._getEventPrefix();e(mee(n),"resize",this._onResize),e(n,i+"down",this._onMouseDown),e(n,"".concat(i,"move"),this._onMouseMove,es),e(n,"".concat(i,"out"),this._onMouseOut),e(n,"".concat(i,"enter"),this._onMouseEnter),e(n,"wheel",this._onMouseWheel),e(n,"contextmenu",this._onContextMenu),e(n,"dblclick",this._onDoubleClick),e(n,"dragstart",this._onDragStart),e(n,"dragend",this._onDragEnd),e(n,"dragover",this._onDragOver),e(n,"dragenter",this._onDragEnter),e(n,"dragleave",this._onDragLeave),e(n,"drop",this._onDrop),this.enablePointerEvents||e(n,"touchstart",this._onTouchStart,es)}removeListeners(){this.addOrRemove(Fs,"remove");const e=this._getEventPrefix(),r=wa(this.upperCanvasEl);Fs(r,"".concat(e,"up"),this._onMouseUp),Fs(r,"touchend",this._onTouchEnd,es),Fs(r,"".concat(e,"move"),this._onMouseMove,es),Fs(r,"touchmove",this._onMouseMove,es),clearTimeout(this._willAddMouseDown)}_onMouseWheel(e){this.__onMouseWheel(e)}_onMouseOut(e){const r=this._hoveredTarget,n=X({e},e0(this,e));this.fire("mouse:out",X(X({},n),{},{target:r})),this._hoveredTarget=void 0,r&&r.fire("mouseout",X({},n)),this._hoveredTargets.forEach(i=>{this.fire("mouse:out",X(X({},n),{},{target:i})),i&&i.fire("mouseout",X({},n))}),this._hoveredTargets=[]}_onMouseEnter(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",X({e},e0(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(e){this._isClick=!1;const r=this.getActiveObject();if(r&&r.onDragStart(e)){this._dragSource=r;const n={e,target:r};return this.fire("dragstart",n),r.fire("dragstart",n),void lc(this.upperCanvasEl,"drag",this._onDragProgress)}A9(e)}_renderDragEffects(e,r,n){let i=!1;const s=this._dropTarget;s&&s!==r&&s!==n&&(s.clearContextTop(),i=!0),r==null||r.clearContextTop(),n!==r&&(n==null||n.clearContextTop());const a=this.contextTop;a.save(),a.transform(...this.viewportTransform),r&&(a.save(),r.transform(a),r.renderDragSourceEffect(e),a.restore(),i=!0),n&&(a.save(),n.transform(a),n.renderDropTargetEffect(e),a.restore(),i=!0),a.restore(),i&&(this.contextTopDirty=!0)}_onDragEnd(e){const r=!!e.dataTransfer&&e.dataTransfer.dropEffect!==Hi,n=r?this._activeObject:void 0,i={e,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:r,dropTarget:n};Fs(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",i),this._dragSource&&this._dragSource.fire("dragend",i),delete this._dragSource,this._onMouseUp(e)}_onDragProgress(e){const r={e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",r),this._dragSource&&this._dragSource.fire("drag",r)}findDragTargets(e){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(e)),targets:[...this.targets]}}_onDragOver(e){const r="dragover",{target:n,targets:i}=this.findDragTargets(e),s=this._dragSource,a={e,target:n,subTargets:i,dragSource:s,canDrop:!1,dropTarget:void 0};let o;this.fire(r,a),this._fireEnterLeaveEvents(n,a),n&&(n.canDrop(e)&&(o=n),n.fire(r,a));for(let l=0;l<i.length;l++){const c=i[l];c.canDrop(e)&&(o=c),c.fire(r,a)}this._renderDragEffects(e,s,o),this._dropTarget=o}_onDragEnter(e){const{target:r,targets:n}=this.findDragTargets(e),i={e,target:r,subTargets:n,dragSource:this._dragSource};this.fire("dragenter",i),this._fireEnterLeaveEvents(r,i)}_onDragLeave(e){const r={e,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",r),this._fireEnterLeaveEvents(void 0,r),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(e){const{target:r,targets:n}=this.findDragTargets(e),i=this._basicEventHandler("drop:before",X({e,target:r,subTargets:n,dragSource:this._dragSource},e0(this,e)));i.didDrop=!1,i.dropTarget=void 0,this._basicEventHandler("drop",i),this.fire("drop:after",i)}_onContextMenu(e){const r=this.findTarget(e),n=this.targets||[],i=this._basicEventHandler("contextmenu:before",{e,target:r,subTargets:n});return this.stopContextMenu&&A9(e),this._basicEventHandler("contextmenu",i),!1}_onDoubleClick(e){this._cacheTransformEventData(e),this._handleEvent(e,"dblclick"),this._resetTransformEventData()}getPointerId(e){const r=e.changedTouches;return r?r[0]&&r[0].identifier:this.enablePointerEvents?e.pointerId:-1}_isMainEvent(e){return e.isPrimary===!0||e.isPrimary!==!1&&(e.type==="touchend"&&e.touches.length===0||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(e){let r=!this.allowTouchScrolling;const n=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),(this.isDrawingMode||n&&this._target===n)&&(r=!0),r&&e.preventDefault(),this._resetTransformEventData();const i=this.upperCanvasEl,s=this._getEventPrefix(),a=wa(i);lc(a,"touchend",this._onTouchEnd,es),r&&lc(a,"touchmove",this._onMouseMove,es),Fs(i,"".concat(s,"down"),this._onMouseDown)}_onMouseDown(e){this.__onMouseDown(e),this._resetTransformEventData();const r=this.upperCanvasEl,n=this._getEventPrefix();Fs(r,"".concat(n,"move"),this._onMouseMove,es);const i=wa(r);lc(i,"".concat(n,"up"),this._onMouseUp),lc(i,"".concat(n,"move"),this._onMouseMove,es)}_onTouchEnd(e){if(e.touches.length>0)return;this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;const r=this._getEventPrefix(),n=wa(this.upperCanvasEl);Fs(n,"touchend",this._onTouchEnd,es),Fs(n,"touchmove",this._onMouseMove,es),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{lc(this.upperCanvasEl,"".concat(r,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(e){this.__onMouseUp(e),this._resetTransformEventData();const r=this.upperCanvasEl,n=this._getEventPrefix();if(this._isMainEvent(e)){const i=wa(this.upperCanvasEl);Fs(i,"".concat(n,"up"),this._onMouseUp),Fs(i,"".concat(n,"move"),this._onMouseMove,es),lc(r,"".concat(n,"move"),this._onMouseMove,es)}}_onMouseMove(e){const r=this.getActiveObject();!this.allowTouchScrolling&&(!r||!r.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(e){const r=this.getActiveObject();return!!r!=!!e||r&&e&&r!==e}__onMouseUp(e){var r;this._cacheTransformEventData(e),this._handleEvent(e,"up:before");const n=this._currentTransform,i=this._isClick,s=this._target,{button:a}=e;if(a)return(this.fireMiddleClick&&a===1||this.fireRightClick&&a===2)&&this._handleEvent(e,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(e);if(!this._isMainEvent(e))return;let o,l,c=!1;if(n&&(this._finalizeCurrentTransform(e),c=n.actionPerformed),!i){const u=s===this._activeObject;this.handleSelection(e),c||(c=this._shouldRender(s)||!u&&s===this._activeObject)}if(s){const u=s.findControl(this.getViewportPoint(e),h9(e)),{key:d,control:A}=u||{};if(l=d,s.selectable&&s!==this._activeObject&&s.activeOn==="up")this.setActiveObject(s,e),c=!0;else if(A){const f=A.getMouseUpHandler(e,s,A);f&&(o=this.getScenePoint(e),f.call(A,e,n,o.x,o.y))}s.isMoving=!1}if(n&&(n.target!==s||n.corner!==l)){const u=n.target&&n.target.controls[n.corner],d=u&&u.getMouseUpHandler(e,n.target,u);o=o||this.getScenePoint(e),d&&d.call(u,e,n,o.x,o.y)}this._setCursorFromEvent(e,s),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,s&&(s.__corner=void 0),c?this.requestRenderAll():i||(r=this._activeObject)!==null&&r!==void 0&&r.isEditing||this.renderTop()}_basicEventHandler(e,r){const{target:n,subTargets:i=[]}=r;this.fire(e,r),n&&n.fire(e,r);for(let s=0;s<i.length;s++)i[s]!==n&&i[s].fire(e,r);return r}_handleEvent(e,r){const n=this._target,i=this.targets||[],s=X(X({e,target:n,subTargets:i},e0(this,e)),{},{transform:this._currentTransform},r==="up:before"||r==="up"?{isClick:this._isClick,currentTarget:this.findTarget(e),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(r),s),n&&n.fire("mouse".concat(r),s);for(let a=0;a<i.length;a++)i[a]!==n&&i[a].fire("mouse".concat(r),s)}_onMouseDownInDrawingMode(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());const r=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(r,{e,pointer:r}),this._handleEvent(e,"down")}_onMouseMoveInDrawingMode(e){if(this._isCurrentlyDrawing){const r=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(r,{e,pointer:r})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}_onMouseUpInDrawingMode(e){const r=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e,pointer:r}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}__onMouseDown(e){this._isClick=!0,this._cacheTransformEventData(e),this._handleEvent(e,"down:before");let r=this._target;const{button:n}=e;if(n)return(this.fireMiddleClick&&n===1||this.fireRightClick&&n===2)&&this._handleEvent(e,"down"),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(e);if(!this._isMainEvent(e)||this._currentTransform)return;let i=this._shouldRender(r),s=!1;if(this.handleMultiSelection(e,r)?(r=this._activeObject,s=!0,i=!0):this._shouldClearSelection(e,r)&&this.discardActiveObject(e),this.selection&&(!r||!r.selectable&&!r.isEditing&&r!==this._activeObject)){const a=this.getScenePoint(e);this._groupSelector={x:a.x,y:a.y,deltaY:0,deltaX:0}}if(r){const a=r===this._activeObject;r.selectable&&r.activeOn==="down"&&this.setActiveObject(r,e);const o=r.findControl(this.getViewportPoint(e),h9(e));if(r===this._activeObject&&(o||!s)){this._setupCurrentTransform(e,r,a);const l=o?o.control:void 0,c=this.getScenePoint(e),u=l&&l.getMouseDownHandler(e,r,l);u&&u.call(l,e,this._currentTransform,c.x,c.y)}}i&&(this._objectsToRender=void 0),this._handleEvent(e,"down"),i&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(e){this._resetTransformEventData(),this._pointer=this.getViewportPoint(e),this._absolutePointer=wA(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)}__onMouseMove(e){if(this._isClick=!1,this._cacheTransformEventData(e),this._handleEvent(e,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(e);if(!this._isMainEvent(e))return;const r=this._groupSelector;if(r){const n=this.getScenePoint(e);r.deltaX=n.x-r.x,r.deltaY=n.y-r.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{const n=this.findTarget(e);this._setCursorFromEvent(e,n),this._fireOverOutEvents(e,n)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move"),this._resetTransformEventData()}_fireOverOutEvents(e,r){const n=this._hoveredTarget,i=this._hoveredTargets,s=this.targets,a=Math.max(i.length,s.length);this.fireSyntheticInOutEvents("mouse",{e,target:r,oldTarget:n,fireCanvas:!0});for(let o=0;o<a;o++)this.fireSyntheticInOutEvents("mouse",{e,target:s[o],oldTarget:i[o]});this._hoveredTarget=r,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(e,r){const n=this._draggedoverTarget,i=this._hoveredTargets,s=this.targets,a=Math.max(i.length,s.length);this.fireSyntheticInOutEvents("drag",X(X({},r),{},{target:e,oldTarget:n,fireCanvas:!0}));for(let o=0;o<a;o++)this.fireSyntheticInOutEvents("drag",X(X({},r),{},{target:s[o],oldTarget:i[o]}));this._draggedoverTarget=e}fireSyntheticInOutEvents(e,r){let{target:n,oldTarget:i,fireCanvas:s,e:a}=r,o=yr(r,aTe);const{targetIn:l,targetOut:c,canvasIn:u,canvasOut:d}=oTe[e],A=i!==n;if(i&&A){const f=X(X({},o),{},{e:a,target:i,nextTarget:n},e0(this,a));s&&this.fire(d,f),i.fire(c,f)}if(n&&A){const f=X(X({},o),{},{e:a,target:n,previousTarget:i},e0(this,a));s&&this.fire(u,f),n.fire(l,f)}}__onMouseWheel(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}_transformObject(e){const r=this.getScenePoint(e),n=this._currentTransform,i=n.target,s=i.group?wA(r,void 0,i.group.calcTransformMatrix()):r;n.shiftKey=e.shiftKey,n.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,n,s),n.actionPerformed&&this.requestRenderAll()}_performTransformAction(e,r,n){const{action:i,actionHandler:s,target:a}=r,o=!!s&&s(e,r,n.x,n.y);o&&a.setCoords(),i==="drag"&&o&&(r.target.isMoving=!0,this.setCursor(r.target.moveCursor||this.moveCursor)),r.actionPerformed=r.actionPerformed||o}_setCursorFromEvent(e,r){if(!r)return void this.setCursor(this.defaultCursor);let n=r.hoverCursor||this.hoverCursor;const i=Fd(this._activeObject)?this._activeObject:null,s=(!i||r.group!==i)&&r.findControl(this.getViewportPoint(e));if(s){const a=s.control;this.setCursor(a.cursorStyleHandler(e,a,r))}else r.subTargetCheck&&this.targets.concat().reverse().map(a=>{n=a.hoverCursor||n}),this.setCursor(n)}handleMultiSelection(e,r){const n=this._activeObject,i=Fd(n);if(n&&this._isSelectionKeyPressed(e)&&this.selection&&r&&r.selectable&&(n!==r||i)&&(i||!r.isDescendantOf(n)&&!n.isDescendantOf(r))&&!r.onSelect({e})&&!n.getActiveControl()){if(i){const s=n.getObjects();if(r===n){const a=this.getViewportPoint(e);if(!(r=this.searchPossibleTargets(s,a)||this.searchPossibleTargets(this._objects,a))||!r.selectable)return!1}r.group===n?(n.remove(r),this._hoveredTarget=r,this._hoveredTargets=[...this.targets],n.size()===1&&this._setActiveObject(n.item(0),e)):(n.multiSelectAdd(r),this._hoveredTarget=n,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(s,e)}else{n.isEditing&&n.exitEditing();const s=new(Ue.getClass("ActiveSelection"))([],{canvas:this});s.multiSelectAdd(n,r),this._hoveredTarget=s,this._setActiveObject(s,e),this._fireSelectionEvents([n],e)}return!0}return!1}handleSelection(e){if(!this.selection||!this._groupSelector)return!1;const{x:r,y:n,deltaX:i,deltaY:s}=this._groupSelector,a=new ue(r,n),o=a.add(new ue(i,s)),l=a.min(o),c=a.max(o).subtract(l),u=this.collectObjects({left:l.x,top:l.y,width:c.x,height:c.y},{includeIntersecting:!this.selectionFullyContained}),d=a.eq(o)?u[0]?[u[0]]:[]:u.length>1?u.filter(A=>!A.onSelect({e})).reverse():u;if(d.length===1)this.setActiveObject(d[0],e);else if(d.length>1){const A=Ue.getClass("ActiveSelection");this.setActiveObject(new A(d,{canvas:this}),e)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}};const qee={x1:0,y1:0,x2:0,y2:0},lTe=X(X({},qee),{},{r1:0,r2:0}),G0=(t,e)=>isNaN(t)&&typeof e=="number"?e:t,cTe=/^(\d+\.\d+)%|(\d+)%$/;function Wee(t){return t&&cTe.test(t)}function Gee(t,e){const r=typeof t=="number"?t:typeof t=="string"?parseFloat(t)/(Wee(t)?100:1):NaN;return XA(0,G0(r,e),1)}const uTe=/\s*;\s*/,dTe=/\s*:\s*/;function hTe(t,e){let r,n;const i=t.getAttribute("style");if(i){const a=i.split(uTe);a[a.length-1]===""&&a.pop();for(let o=a.length;o--;){const[l,c]=a[o].split(dTe).map(u=>u.trim());l==="stop-color"?r=c:l==="stop-opacity"&&(n=c)}}const s=new Wi(r||t.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:Gee(t.getAttribute("offset"),0),color:s.toRgb(),opacity:G0(parseFloat(n||t.getAttribute("stop-opacity")||""),1)*s.getAlpha()*e}}function ATe(t,e){const r=[],n=t.getElementsByTagName("stop"),i=Gee(e,1);for(let s=n.length;s--;)r.push(hTe(n[s],i));return r}function Xee(t){return t.nodeName==="linearGradient"||t.nodeName==="LINEARGRADIENT"?"linear":"radial"}function Yee(t){return t.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function la(t,e){return t.getAttribute(e)}function fTe(t,e){return function(r,n){let i,{width:s,height:a,gradientUnits:o}=n;return Object.keys(r).reduce((l,c)=>{const u=r[c];return u==="Infinity"?i=1:u==="-Infinity"?i=0:(i=typeof u=="string"?parseFloat(u):u,typeof u=="string"&&Wee(u)&&(i*=.01,o==="pixels"&&(c!=="x1"&&c!=="x2"&&c!=="r2"||(i*=s),c!=="y1"&&c!=="y2"||(i*=a)))),l[c]=i,l},{})}(Xee(t)==="linear"?function(r){return{x1:la(r,"x1")||0,y1:la(r,"y1")||0,x2:la(r,"x2")||"100%",y2:la(r,"y2")||0}}(t):function(r){return{x1:la(r,"fx")||la(r,"cx")||"50%",y1:la(r,"fy")||la(r,"cy")||"50%",r1:0,x2:la(r,"cx")||"50%",y2:la(r,"cy")||"50%",r2:la(r,"r")||"50%"}}(t),X(X({},e),{},{gradientUnits:Yee(t)}))}let u2=class{constructor(e){const{type:r="linear",gradientUnits:n="pixels",coords:i={},colorStops:s=[],offsetX:a=0,offsetY:o=0,gradientTransform:l,id:c}=e||{};Object.assign(this,{type:r,gradientUnits:n,coords:X(X({},r==="radial"?lTe:qee),i),colorStops:s,offsetX:a,offsetY:o,gradientTransform:l,id:c?"".concat(c,"_").concat(Mu()):Mu()})}addColorStop(e){for(const r in e){const n=new Wi(e[r]);this.colorStops.push({offset:parseFloat(r),color:n.toRgb(),opacity:n.getAlpha()})}return this}toObject(e){return X(X({},_f(this,e)),{},{type:this.type,coords:X({},this.coords),colorStops:this.colorStops.map(r=>X({},r)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(e){let{additionalTransform:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=[],i=this.gradientTransform?this.gradientTransform.concat():gi.concat(),s=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",a=this.colorStops.map(d=>X({},d)).sort((d,A)=>d.offset-A.offset);let o=-this.offsetX,l=-this.offsetY;var c;s==="objectBoundingBox"?(o/=e.width,l/=e.height):(o+=e.width/2,l+=e.height/2),(c=e)&&typeof c._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(o-=e.pathOffset.x,l-=e.pathOffset.y),i[4]-=o,i[5]-=l;const u=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(s,'"'),'gradientTransform="'.concat(r?r+" ":"").concat(c3(i),'"'),""].join(" ");if(this.type==="linear"){const{x1:d,y1:A,x2:f,y2:p}=this.coords;n.push("<linearGradient ",u,' x1="',d,'" y1="',A,'" x2="',f,'" y2="',p,`">
`)}else if(this.type==="radial"){const{x1:d,y1:A,x2:f,y2:p,r1:m,r2:y}=this.coords,g=m>y;n.push("<radialGradient ",u,' cx="',g?d:f,'" cy="',g?A:p,'" r="',g?m:y,'" fx="',g?f:d,'" fy="',g?p:A,`">
`),g&&(a.reverse(),a.forEach(x=>{x.offset=1-x.offset}));const v=Math.min(m,y);if(v>0){const x=v/Math.max(m,y);a.forEach(b=>{b.offset+=x*(1-b.offset)})}}return a.forEach(d=>{let{color:A,offset:f,opacity:p}=d;n.push("<stop ",'offset="',100*f+"%",'" style="stop-color:',A,p!==void 0?";stop-opacity: "+p:";",`"/>
`)}),n.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),n.join("")}toLive(e){const{x1:r,y1:n,x2:i,y2:s,r1:a,r2:o}=this.coords,l=this.type==="linear"?e.createLinearGradient(r,n,i,s):e.createRadialGradient(r,n,a,i,s,o);return this.colorStops.forEach(c=>{let{color:u,opacity:d,offset:A}=c;l.addColorStop(A,d!==void 0?new Wi(u).setAlpha(d).toRgba():u)}),l}static async fromObject(e){const{colorStops:r,gradientTransform:n}=e;return new this(X(X({},e),{},{colorStops:r?r.map(i=>X({},i)):void 0,gradientTransform:n?[...n]:void 0}))}static fromElement(e,r,n){const i=Yee(e),s=r._findCenterFromElement();return new this(X({id:e.getAttribute("id")||void 0,type:Xee(e),coords:fTe(e,{width:n.viewBoxWidth||n.width,height:n.viewBoxHeight||n.height}),colorStops:ATe(e,n.opacity),gradientUnits:i,gradientTransform:g9(e.getAttribute("gradientTransform")||"")},i==="pixels"?{offsetX:r.width/2-s.x,offsetY:r.height/2-s.y}:{offsetX:0,offsetY:0}))}};K(u2,"type","Gradient"),Ue.setClass(u2,"gradient"),Ue.setClass(u2,"linear"),Ue.setClass(u2,"radial");const pTe=["type","source","patternTransform"];let s7=class{get type(){return"pattern"}set type(e){Eu("warn","Setting type has no effect",e)}constructor(e){K(this,"repeat","repeat"),K(this,"offsetX",0),K(this,"offsetY",0),K(this,"crossOrigin",""),this.id=Mu(),Object.assign(this,e)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(e){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?e.createPattern(this.source,this.repeat):null}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:r,crossOrigin:n}=this;return X(X({},_f(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:r,crossOrigin:n,offsetX:Sr(this.offsetX,Mt.NUM_FRACTION_DIGITS),offsetY:Sr(this.offsetY,Mt.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(e){let{width:r,height:n}=e;const{source:i,repeat:s,id:a}=this,o=G0(this.offsetX/r,0),l=G0(this.offsetY/n,0),c=s==="repeat-y"||s==="no-repeat"?1+Math.abs(o||0):G0(i.width/r,0),u=s==="repeat-x"||s==="no-repeat"?1+Math.abs(l||0):G0(i.height/n,0);return['<pattern id="SVGID_'.concat(a,'" x="').concat(o,'" y="').concat(l,'" width="').concat(c,'" height="').concat(u,'">'),'<image x="0" y="0" width="'.concat(i.width,'" height="').concat(i.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(e,r){let{type:n,source:i,patternTransform:s}=e,a=yr(e,pTe);const o=await mx(i,X(X({},r),{},{crossOrigin:a.crossOrigin}));return new this(X(X({},a),{},{patternTransform:s&&s.slice(0),source:o}))}};K(s7,"type","Pattern"),Ue.setClass(s7),Ue.setClass(s7,"pattern");let mTe=class{constructor(e){K(this,"color","rgb(0, 0, 0)"),K(this,"width",1),K(this,"shadow",null),K(this,"strokeLineCap","round"),K(this,"strokeLineJoin","round"),K(this,"strokeMiterLimit",10),K(this,"strokeDashArray",null),K(this,"limitedToCanvasSize",!1),this.canvas=e}_setBrushStyles(e){e.strokeStyle=this.color,e.lineWidth=this.width,e.lineCap=this.strokeLineCap,e.miterLimit=this.strokeMiterLimit,e.lineJoin=this.strokeLineJoin,e.setLineDash(this.strokeDashArray||[])}_saveAndTransform(e){const r=this.canvas.viewportTransform;e.save(),e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}needsFullRender(){return new Wi(this.color).getAlpha()<1||!!this.shadow}_setShadow(){if(!this.shadow||!this.canvas)return;const e=this.canvas,r=this.shadow,n=e.contextTop,i=e.getZoom()*e.getRetinaScaling();n.shadowColor=r.color,n.shadowBlur=r.blur*i,n.shadowOffsetX=r.offsetX*i,n.shadowOffsetY=r.offsetY*i}_resetShadow(){const e=this.canvas.contextTop;e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0}_isOutSideCanvas(e){return e.x<0||e.x>this.canvas.getWidth()||e.y<0||e.y>this.canvas.getHeight()}};const gTe=["path","left","top"],yTe=["d"];let B0=class Jee extends Zn{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:n,left:i,top:s}=r,a=yr(r,gTe);super(),Object.assign(this,Jee.ownDefaults),this.setOptions(a),this._setPath(e||[],!0),typeof i=="number"&&this.set(Ht,i),typeof s=="number"&&this.set(Ri,s)}_setPath(e,r){this.path=qFe(Array.isArray(e)?e:rTe(e)),this.setBoundingBox(r)}_findCenterFromElement(){const e=this._calcBoundsFromPath();return new ue(e.left+e.width/2,e.top+e.height/2)}_renderPathCommands(e){const r=-this.pathOffset.x,n=-this.pathOffset.y;e.beginPath();for(const i of this.path)switch(i[0]){case"L":e.lineTo(i[1]+r,i[2]+n);break;case"M":e.moveTo(i[1]+r,i[2]+n);break;case"C":e.bezierCurveTo(i[1]+r,i[2]+n,i[3]+r,i[4]+n,i[5]+r,i[6]+n);break;case"Q":e.quadraticCurveTo(i[1]+r,i[2]+n,i[3]+r,i[4]+n);break;case"Z":e.closePath()}}_render(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X(X({},super.toObject(e)),{},{path:this.path.map(r=>r.slice())})}toDatalessObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=this.toObject(e);return this.sourcePath&&(delete r.path,r.sourcePath=this.sourcePath),r}_toSVG(){const e=$ee(this.path,Mt.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(e,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const e=Mt.NUM_FRACTION_DIGITS;return" translate(".concat(Sr(-this.pathOffset.x,e),", ").concat(Sr(-this.pathOffset.y,e),")")}toClipPathSVG(e){const r=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:r})}toSVG(e){const r=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:r})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{width:r,height:n,pathOffset:i}=this._calcDimensions();this.set({width:r,height:n,pathOffset:i}),e&&this.setPositionByOrigin(i,ft,ft)}_calcBoundsFromPath(){const e=[];let r=0,n=0,i=0,s=0;for(const a of this.path)switch(a[0]){case"L":i=a[1],s=a[2],e.push({x:r,y:n},{x:i,y:s});break;case"M":i=a[1],s=a[2],r=i,n=s;break;case"C":e.push(...pU(i,s,a[1],a[2],a[3],a[4],a[5],a[6])),i=a[5],s=a[6];break;case"Q":e.push(...pU(i,s,a[1],a[2],a[1],a[2],a[3],a[4])),i=a[3],s=a[4];break;case"Z":i=r,s=n}return kl(e)}_calcDimensions(){const e=this._calcBoundsFromPath();return X(X({},e),{},{pathOffset:new ue(e.left+e.width/2,e.top+e.height/2)})}static fromObject(e){return this._fromObject(e,{extraParam:"path"})}static async fromElement(e,r,n){const i=Jl(e,this.ATTRIBUTE_NAMES,n),{d:s}=i;return new this(s,X(X(X({},yr(i,yTe)),r),{},{left:void 0,top:void 0}))}};K(B0,"type","Path"),K(B0,"cacheProperties",[...Yl,"path","fillRule"]),K(B0,"ATTRIBUTE_NAMES",[...Ku,"d"]),Ue.setClass(B0),Ue.setSVGClass(B0);let Zee=class S9 extends mTe{constructor(e){super(e),K(this,"decimate",.4),K(this,"drawStraightLine",!1),K(this,"straightLineKey","shiftKey"),this._points=[],this._hasStraightLine=!1}needsFullRender(){return super.needsFullRender()||this._hasStraightLine}static drawSegment(e,r,n){const i=r.midPointFrom(n);return e.quadraticCurveTo(r.x,r.y,i.x,i.y),i}onMouseDown(e,r){let{e:n}=r;this.canvas._isMainEvent(n)&&(this.drawStraightLine=!!this.straightLineKey&&n[this.straightLineKey],this._prepareForDrawing(e),this._addPoint(e),this._render())}onMouseMove(e,r){let{e:n}=r;if(this.canvas._isMainEvent(n)&&(this.drawStraightLine=!!this.straightLineKey&&n[this.straightLineKey],(this.limitedToCanvasSize!==!0||!this._isOutSideCanvas(e))&&this._addPoint(e)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{const i=this._points,s=i.length,a=this.canvas.contextTop;this._saveAndTransform(a),this.oldEnd&&(a.beginPath(),a.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=S9.drawSegment(a,i[s-2],i[s-1]),a.stroke(),a.restore()}}onMouseUp(e){let{e:r}=e;return!this.canvas._isMainEvent(r)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)}_prepareForDrawing(e){this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)}_addPoint(e){return!(this._points.length>1&&e.eq(this._points[this._points.length-1]))&&(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(e),!0)}_reset(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1}_render(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.canvas.contextTop,r=this._points[0],n=this._points[1];if(this._saveAndTransform(e),e.beginPath(),this._points.length===2&&r.x===n.x&&r.y===n.y){const i=this.width/1e3;r.x-=i,n.x+=i}e.moveTo(r.x,r.y);for(let i=1;i<this._points.length;i++)S9.drawSegment(e,r,n),r=this._points[i],n=this._points[i+1];e.lineTo(r.x,r.y),e.stroke(),e.restore()}convertPointsToSVGPath(e){const r=this.width/1e3;return nTe(e,r)}createPath(e){const r=new B0(e,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,r.shadow=new CA(this.shadow)),r}decimatePoints(e,r){if(e.length<=2)return e;let n,i=e[0];const s=this.canvas.getZoom(),a=Math.pow(r/s,2),o=e.length-1,l=[i];for(let c=1;c<o-1;c++)n=Math.pow(i.x-e[c].x,2)+Math.pow(i.y-e[c].y,2),n>=a&&(i=e[c],l.push(i));return l.push(e[o]),l}_finalizeAndAddPath(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));const e=this.convertPointsToSVGPath(this._points);if(function(n){return $ee(n)==="M 0 0 Q 0 0 0 0 L 0 0"}(e))return void this.canvas.requestRenderAll();const r=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:r}),this.canvas.add(r),this.canvas.requestRenderAll(),r.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:r})}};const vTe=["left","top","radius"],ete=["radius","startAngle","endAngle","counterClockwise"];let Nc=class B9 extends Zn{static getDefaults(){return X(X({},super.getDefaults()),B9.ownDefaults)}constructor(e){super(),Object.assign(this,B9.ownDefaults),this.setOptions(e)}_set(e,r){return super._set(e,r),e==="radius"&&this.setRadius(r),this}_render(e){e.beginPath(),e.arc(0,0,this.radius,$r(this.startAngle),$r(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}getRadiusX(){return this.get("radius")*this.get(qi)}getRadiusY(){return this.get("radius")*this.get(na)}setRadius(e){this.radius=e,this.set({width:2*e,height:2*e})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...ete,...e])}_toSVG(){const e=(this.endAngle-this.startAngle)%360;if(e===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:r}=this,n=$r(this.startAngle),i=$r(this.endAngle),s=Ql(n)*r,a=Rl(n)*r,o=Ql(i)*r,l=Rl(i)*r,c=e>180?1:0,u=this.counterClockwise?0:1;return['<path d="M '.concat(s," ").concat(a," A ").concat(r," ").concat(r," 0 ").concat(c," ").concat(u," ").concat(o," ").concat(l,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(e,r,n){const i=Jl(e,this.ATTRIBUTE_NAMES,n),{left:s=0,top:a=0,radius:o=0}=i;return new this(X(X({},yr(i,vTe)),{},{radius:o,left:s-o,top:a-o}))}static fromObject(e){return super._fromObject(e)}};K(Nc,"type","Circle"),K(Nc,"cacheProperties",[...Yl,...ete]),K(Nc,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),K(Nc,"ATTRIBUTE_NAMES",["cx","cy","r",...Ku]),Ue.setClass(Nc),Ue.setSVGClass(Nc);const xTe=["x1","y1","x2","y2"],bTe=["x1","y1","x2","y2"],_9=["x1","x2","y1","y2"];let Td=class tte extends Zn{constructor(){let[e,r,n,i]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,tte.ownDefaults),this.setOptions(s),this.x1=e,this.x2=n,this.y1=r,this.y2=i,this._setWidthHeight();const{left:a,top:o}=s;typeof a=="number"&&this.set(Ht,a),typeof o=="number"&&this.set(Ri,o)}_setWidthHeight(){const{x1:e,y1:r,x2:n,y2:i}=this;this.width=Math.abs(n-e),this.height=Math.abs(i-r);const{left:s,top:a,width:o,height:l}=kl([{x:e,y:r},{x:n,y:i}]),c=new ue(s+o/2,a+l/2);this.setPositionByOrigin(c,ft,ft)}_set(e,r){return super._set(e,r),_9.includes(e)&&this._setWidthHeight(),this}_render(e){e.beginPath();const r=this.calcLinePoints();e.moveTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineWidth=this.strokeWidth;const n=e.strokeStyle;var i;zs(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=(i=this.stroke)!==null&&i!==void 0?i:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n}_findCenterFromElement(){return new ue((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X(X({},super.toObject(e)),this.calcLinePoints())}_getNonTransformedDimensions(){const e=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(e.y-=this.strokeWidth),this.height===0&&(e.x-=this.strokeWidth)),e}calcLinePoints(){const{x1:e,x2:r,y1:n,y2:i,width:s,height:a}=this,o=e<=r?-1:1,l=n<=i?-1:1;return{x1:o*s/2,x2:o*-s/2,y1:l*a/2,y2:l*-a/2}}_toSVG(){const{x1:e,x2:r,y1:n,y2:i}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(e,'" y1="').concat(n,'" x2="').concat(r,'" y2="').concat(i,`" />
`)]}static async fromElement(e,r,n){const i=Jl(e,this.ATTRIBUTE_NAMES,n),{x1:s=0,y1:a=0,x2:o=0,y2:l=0}=i;return new this([s,a,o,l],yr(i,xTe))}static fromObject(e){let{x1:r,y1:n,x2:i,y2:s}=e,a=yr(e,bTe);return this._fromObject(X(X({},a),{},{points:[r,n,i,s]}),{extraParam:"points"})}};K(Td,"type","Line"),K(Td,"cacheProperties",[...Yl,..._9]),K(Td,"ATTRIBUTE_NAMES",Ku.concat(_9)),Ue.setClass(Td),Ue.setSVGClass(Td);let X0=class k9 extends Zn{static getDefaults(){return X(X({},super.getDefaults()),k9.ownDefaults)}constructor(e){super(),Object.assign(this,k9.ownDefaults),this.setOptions(e)}_render(e){const r=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-r,n),e.lineTo(0,-n),e.lineTo(r,n),e.closePath(),this._renderPaintInOrder(e)}_toSVG(){const e=this.width/2,r=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(r,",0 ").concat(-r,",").concat(e," ").concat(r),'" />']}};K(X0,"type","Triangle"),K(X0,"ownDefaults",{width:100,height:100}),Ue.setClass(X0),Ue.setSVGClass(X0);const rte=["rx","ry"];let Bd=class E9 extends Zn{static getDefaults(){return X(X({},super.getDefaults()),E9.ownDefaults)}constructor(e){super(),Object.assign(this,E9.ownDefaults),this.setOptions(e)}_set(e,r){switch(super._set(e,r),e){case"rx":this.rx=r,this.set("width",2*r);break;case"ry":this.ry=r,this.set("height",2*r)}return this}getRx(){return this.get("rx")*this.get(qi)}getRy(){return this.get("ry")*this.get(na)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...rte,...e])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,i3,!1),e.restore(),this._renderPaintInOrder(e)}static async fromElement(e,r,n){const i=Jl(e,this.ATTRIBUTE_NAMES,n);return i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,new this(i)}};function wTe(t){if(!t)return[];const e=t.replace(/,/g," ").trim().split(/\s+/),r=[];for(let n=0;n<e.length;n+=2)r.push({x:parseFloat(e[n]),y:parseFloat(e[n+1])});return r}K(Bd,"type","Ellipse"),K(Bd,"cacheProperties",[...Yl,...rte]),K(Bd,"ownDefaults",{rx:0,ry:0}),K(Bd,"ATTRIBUTE_NAMES",[...Ku,"cx","cy","rx","ry"]),Ue.setClass(Bd),Ue.setSVGClass(Bd);const CTe=["left","top"],nte={exactBoundingBox:!1};let kc=class M9 extends Zn{static getDefaults(){return X(X({},super.getDefaults()),M9.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),K(this,"strokeDiff",void 0),Object.assign(this,M9.ownDefaults),this.setOptions(r),this.points=e;const{left:n,top:i}=r;this.initialized=!0,this.setBoundingBox(!0),typeof n=="number"&&this.set(Ht,n),typeof i=="number"&&this.set(Ri,i)}isOpen(){return!0}_projectStrokeOnPoints(e){return dFe(this.points,e,this.isOpen())}_calcDimensions(e){e=X({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});const r=this.exactBoundingBox?this._projectStrokeOnPoints(e).map(c=>c.projectedPoint):this.points;if(r.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new ue,strokeOffset:new ue,strokeDiff:new ue};const n=kl(r),i=A5(X(X({},e),{},{scaleX:1,scaleY:1})),s=kl(this.points.map(c=>Fi(c,i,!0))),a=new ue(this.scaleX,this.scaleY);let o=n.left+n.width/2,l=n.top+n.height/2;return this.exactBoundingBox&&(o-=l*Math.tan($r(this.skewX)),l-=o*Math.tan($r(this.skewY))),X(X({},n),{},{pathOffset:new ue(o,l),strokeOffset:new ue(s.left,s.top).subtract(new ue(n.left,n.top)).multiply(a),strokeDiff:new ue(n.width,n.height).subtract(new ue(s.width,s.height)).multiply(a)})}_findCenterFromElement(){const e=kl(this.points);return new ue(e.left+e.width/2,e.top+e.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{left:r,top:n,width:i,height:s,pathOffset:a,strokeOffset:o,strokeDiff:l}=this._calcDimensions();this.set({width:i,height:s,pathOffset:a,strokeOffset:o,strokeDiff:l}),e&&this.setPositionByOrigin(new ue(r+i/2,n+s/2),ft,ft)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new ue(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let a;if(Object.keys(e).some(o=>this.strokeUniform||this.constructor.layoutProperties.includes(o))){var r,n;const{width:o,height:l}=this._calcDimensions(e);a=new ue((r=e.width)!==null&&r!==void 0?r:o,(n=e.height)!==null&&n!==void 0?n:l)}else{var i,s;a=new ue((i=e.width)!==null&&i!==void 0?i:this.width,(s=e.height)!==null&&s!==void 0?s:this.height)}return a.multiply(new ue(e.scaleX||this.scaleX,e.scaleY||this.scaleY))}return super._getTransformedDimensions(e)}_set(e,r){const n=this.initialized&&this[e]!==r,i=super._set(e,r);return this.exactBoundingBox&&n&&((e===qi||e===na)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),i}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X(X({},super.toObject(e)),{},{points:this.points.map(r=>{let{x:n,y:i}=r;return{x:n,y:i}})})}_toSVG(){const e=[],r=this.pathOffset.x,n=this.pathOffset.y,i=Mt.NUM_FRACTION_DIGITS;for(let s=0,a=this.points.length;s<a;s++)e.push(Sr(this.points[s].x-r,i),",",Sr(this.points[s].y-n,i)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),`" />
`)]}_render(e){const r=this.points.length,n=this.pathOffset.x,i=this.pathOffset.y;if(r&&!isNaN(this.points[r-1].y)){e.beginPath(),e.moveTo(this.points[0].x-n,this.points[0].y-i);for(let s=0;s<r;s++){const a=this.points[s];e.lineTo(a.x-n,a.y-i)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}complexity(){return this.points.length}static async fromElement(e,r,n){return new this(wTe(e.getAttribute("points")),X(X({},yr(Jl(e,this.ATTRIBUTE_NAMES,n),CTe)),r))}static fromObject(e){return this._fromObject(e,{extraParam:"points"})}};K(kc,"ownDefaults",nte),K(kc,"type","Polyline"),K(kc,"layoutProperties",[Sf,Bf,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),K(kc,"cacheProperties",[...Yl,"points"]),K(kc,"ATTRIBUTE_NAMES",[...Ku]),Ue.setClass(kc),Ue.setSVGClass(kc);let d2=class extends kc{isOpen(){return!1}};K(d2,"ownDefaults",nte),K(d2,"type","Polygon"),Ue.setClass(d2),Ue.setSVGClass(d2);const ite=["fontSize","fontWeight","fontFamily","fontStyle"],ste=["underline","overline","linethrough"],ate=[...ite,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],ote=[...ate,...ste,"textBackgroundColor","direction"],STe=[...ite,...ste,zi,"strokeWidth",un,"deltaY","textBackgroundColor"],BTe={_reNewline:xF,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:Ht,fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:Ht,pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},ho="justify",p3="justify-left",zm="justify-right",$m="justify-center";let lte=class extends Zn{isEmptyStyles(e){if(!this.styles||e!==void 0&&!this.styles[e])return!0;const r=e===void 0?this.styles:{line:this.styles[e]};for(const n in r)for(const i in r[n])for(const s in r[n][i])return!1;return!0}styleHas(e,r){if(!this.styles||r!==void 0&&!this.styles[r])return!1;const n=r===void 0?this.styles:{0:this.styles[r]};for(const i in n)for(const s in n[i])if(n[i][s][e]!==void 0)return!0;return!1}cleanStyle(e){if(!this.styles)return!1;const r=this.styles;let n,i,s=0,a=!0,o=0;for(const l in r){n=0;for(const c in r[l]){const u=r[l][c]||{};s++,u[e]!==void 0?(i?u[e]!==i&&(a=!1):i=u[e],u[e]===this[e]&&delete u[e]):a=!1,Object.keys(u).length!==0?n++:delete r[l][c]}n===0&&delete r[l]}for(let l=0;l<this._textLines.length;l++)o+=this._textLines[l].length;a&&s===o&&(this[e]=i,this.removeStyle(e))}removeStyle(e){if(!this.styles)return;const r=this.styles;let n,i,s;for(i in r){for(s in n=r[i],n)delete n[s][e],Object.keys(n[s]).length===0&&delete n[s];Object.keys(n).length===0&&delete r[i]}}_extendStyles(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e);this._getLineStyle(n)||this._setLineStyle(n);const s=BF(X(X({},this._getStyleDeclaration(n,i)),r),a=>a!==void 0);this._setStyleDeclaration(n,i,s)}getSelectionStyles(e,r,n){const i=[];for(let s=e;s<(r||e);s++)i.push(this.getStyleAtPosition(s,n));return i}getStyleAtPosition(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e);return r?this.getCompleteStyleDeclaration(n,i):this._getStyleDeclaration(n,i)}setSelectionStyles(e,r,n){for(let i=r;i<(n||r);i++)this._extendStyles(i,e);this._forceClearCache=!0}_getStyleDeclaration(e,r){var n;const i=this.styles&&this.styles[e];return i&&(n=i[r])!==null&&n!==void 0?n:{}}getCompleteStyleDeclaration(e,r){return X(X({},_f(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,r))}_setStyleDeclaration(e,r,n){this.styles[e][r]=n}_deleteStyleDeclaration(e,r){delete this.styles[e][r]}_getLineStyle(e){return!!this.styles[e]}_setLineStyle(e){this.styles[e]={}}_deleteLineStyle(e){delete this.styles[e]}};K(lte,"_styleProperties",STe);const _Te=/  +/g,kTe=/"/g;function a7(t,e,r,n,i){return"		".concat(function(s,a){let{left:o,top:l,width:c,height:u}=a,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mt.NUM_FRACTION_DIGITS;const A=Jg(un,s,!1),[f,p,m,y]=[o,l,c,u].map(g=>Sr(g,d));return"<rect ".concat(A,' x="').concat(f,'" y="').concat(p,'" width="').concat(m,'" height="').concat(y,'"></rect>')}(t,{left:e,top:r,width:n,height:i}),`
`)}const ETe=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let o7,Ja=class Zp extends lte{static getDefaults(){return X(X({},super.getDefaults()),Zp.ownDefaults)}constructor(e,r){super(),K(this,"__charBounds",[]),Object.assign(this,Zp.ownDefaults),this.setOptions(r),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const e=this.path;e&&(e.segmentsInfo=zee(e.path))}_splitText(){const e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(ho)&&this.enlargeSpaces()}enlargeSpaces(){let e,r,n,i,s,a,o;for(let l=0,c=this._textLines.length;l<c;l++)if((this.textAlign===ho||l!==c-1&&!this.isEndOfWrapping(l))&&(i=0,s=this._textLines[l],r=this.getLineWidth(l),r<this.width&&(o=this.textLines[l].match(this._reSpacesAndTabs)))){n=o.length,e=(this.width-r)/n;for(let u=0;u<=s.length;u++)a=this.__charBounds[l][u],this._reSpaceAndTab.test(s[u])?(a.width+=e,a.kernedWidth+=e,a.left+=i,i+=e):a.left+=i}}isEndOfWrapping(e){return e===this._textLines.length-1}missingNewlineOffset(e){return 1}get2DCursorLocation(e,r){const n=r?this._unwrappedTextLines:this._textLines;let i;for(i=0;i<n.length;i++){if(e<=n[i].length)return{lineIndex:i,charIndex:e};e-=n[i].length+this.missingNewlineOffset(i,r)}return{lineIndex:i-1,charIndex:n[i-1].length<e?n[i-1].length:e}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const e=super._getCacheCanvasDimensions(),r=this.fontSize;return e.width+=r*e.zoomX,e.height+=r*e.zoomY,e}_render(e){const r=this.path;r&&!r.isNotVisible()&&r._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}_renderText(e){this.paintFirst===zi?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}_setTextStyles(e,r,n){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case ft:e.textBaseline="middle";break;case"ascender":e.textBaseline=Ri;break;case"descender":e.textBaseline=u9}e.font=this._getFontDeclaration(r,n)}calcTextWidth(){let e=this.getLineWidth(0);for(let r=1,n=this._textLines.length;r<n;r++){const i=this.getLineWidth(r);i>e&&(e=i)}return e}_renderTextLine(e,r,n,i,s,a){this._renderChars(e,r,n,i,s,a)}_renderTextLinesBackground(e){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const r=e.fillStyle,n=this._getLeftOffset();let i=this._getTopOffset();for(let s=0,a=this._textLines.length;s<a;s++){const o=this.getHeightOfLine(s);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",s)){i+=o;continue}const l=this._textLines[s].length,c=this._getLineLeftOffset(s);let u,d,A=0,f=0,p=this.getValueOfPropertyAt(s,0,"textBackgroundColor");for(let m=0;m<l;m++){const y=this.__charBounds[s][m];d=this.getValueOfPropertyAt(s,m,"textBackgroundColor"),this.path?(e.save(),e.translate(y.renderLeft,y.renderTop),e.rotate(y.angle),e.fillStyle=d,d&&e.fillRect(-y.width/2,-o/this.lineHeight*(1-this._fontSizeFraction),y.width,o/this.lineHeight),e.restore()):d!==p?(u=n+c+f,this.direction==="rtl"&&(u=this.width-u-A),e.fillStyle=p,p&&e.fillRect(u,i,A,o/this.lineHeight),f=y.left,A=y.width,p=d):A+=y.kernedWidth}d&&!this.path&&(u=n+c+f,this.direction==="rtl"&&(u=this.width-u-A),e.fillStyle=d,e.fillRect(u,i,A,o/this.lineHeight)),i+=o}e.fillStyle=r,this._removeShadow(e)}_measureChar(e,r,n,i){const s=Qm.getFontCache(r),a=this._getFontDeclaration(r),o=n+e,l=n&&a===this._getFontDeclaration(i),c=r.fontSize/this.CACHE_FONT_SIZE;let u,d,A,f;if(n&&s[n]!==void 0&&(A=s[n]),s[e]!==void 0&&(f=u=s[e]),l&&s[o]!==void 0&&(d=s[o],f=d-A),u===void 0||A===void 0||d===void 0){const p=function(){return o7||(o7=To({width:0,height:0}).getContext("2d")),o7}();this._setTextStyles(p,r,!0),u===void 0&&(f=u=p.measureText(e).width,s[e]=u),A===void 0&&l&&n&&(A=p.measureText(n).width,s[n]=A),l&&d===void 0&&(d=p.measureText(o).width,s[o]=d,f=d-A)}return{width:u*c,kernedWidth:f*c}}getHeightOfChar(e,r){return this.getValueOfPropertyAt(e,r,"fontSize")}measureLine(e){const r=this._measureLine(e);return this.charSpacing!==0&&(r.width-=this._getWidthOfCharSpacing()),r.width<0&&(r.width=0),r}_measureLine(e){let r,n,i=0;const s=this.pathSide===Ur,a=this.path,o=this._textLines[e],l=o.length,c=new Array(l);this.__charBounds[e]=c;for(let u=0;u<l;u++){const d=o[u];n=this._getGraphemeBox(d,e,u,r),c[u]=n,i+=n.kernedWidth,r=d}if(c[l]={left:n?n.left+n.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},a&&a.segmentsInfo){let u=0;const d=a.segmentsInfo[a.segmentsInfo.length-1].length;switch(this.textAlign){case Ht:u=s?d-i:0;break;case ft:u=(d-i)/2;break;case Ur:u=s?0:d-i}u+=this.pathStartOffset*(s?-1:1);for(let A=s?l-1:0;s?A>=0:A<l;s?A--:A++)n=c[A],u>d?u%=d:u<0&&(u+=d),this._setGraphemeOnPath(u,n),u+=n.kernedWidth}return{width:i,numOfSpaces:0}}_setGraphemeOnPath(e,r){const n=e+r.kernedWidth/2,i=this.path,s=JFe(i.path,n,i.segmentsInfo);r.renderLeft=s.x-i.pathOffset.x,r.renderTop=s.y-i.pathOffset.y,r.angle=s.angle+(this.pathSide===Ur?Math.PI:0)}_getGraphemeBox(e,r,n,i,s){const a=this.getCompleteStyleDeclaration(r,n),o=i?this.getCompleteStyleDeclaration(r,n-1):{},l=this._measureChar(e,a,i,o);let c,u=l.kernedWidth,d=l.width;this.charSpacing!==0&&(c=this._getWidthOfCharSpacing(),d+=c,u+=c);const A={width:d,left:0,height:a.fontSize,kernedWidth:u,deltaY:a.deltaY};if(n>0&&!s){const f=this.__charBounds[r][n-1];A.left=f.left+f.width+l.kernedWidth-l.width}return A}getHeightOfLine(e){if(this.__lineHeights[e])return this.__lineHeights[e];let r=this.getHeightOfChar(e,0);for(let n=1,i=this._textLines[e].length;n<i;n++)r=Math.max(this.getHeightOfChar(e,n),r);return this.__lineHeights[e]=r*this.lineHeight*this._fontSizeMult}calcTextHeight(){let e,r=0;for(let n=0,i=this._textLines.length;n<i;n++)e=this.getHeightOfLine(n),r+=n===i-1?e/this.lineHeight:e;return r}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(e,r){e.save();let n=0;const i=this._getLeftOffset(),s=this._getTopOffset();for(let a=0,o=this._textLines.length;a<o;a++){const l=this.getHeightOfLine(a),c=l/this.lineHeight,u=this._getLineLeftOffset(a);this._renderTextLine(r,e,this._textLines[a],i+u,s+n+c,a),n+=l}e.restore()}_renderTextFill(e){(this.fill||this.styleHas(un))&&this._renderTextCommon(e,"fillText")}_renderTextStroke(e){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}_renderChars(e,r,n,i,s,a){const o=this.getHeightOfLine(a),l=this.textAlign.includes(ho),c=this.path,u=!l&&this.charSpacing===0&&this.isEmptyStyles(a)&&!c,d=this.direction==="ltr",A=this.direction==="ltr"?1:-1,f=r.direction;let p,m,y,g,v,x="",b=0;if(r.save(),f!==this.direction&&(r.canvas.setAttribute("dir",d?"ltr":"rtl"),r.direction=d?"ltr":"rtl",r.textAlign=d?Ht:Ur),s-=o*this._fontSizeFraction/this.lineHeight,u)return this._renderChar(e,r,a,0,n.join(""),i,s),void r.restore();for(let w=0,C=n.length-1;w<=C;w++)g=w===C||this.charSpacing||c,x+=n[w],y=this.__charBounds[a][w],b===0?(i+=A*(y.kernedWidth-y.width),b+=y.width):b+=y.kernedWidth,l&&!g&&this._reSpaceAndTab.test(n[w])&&(g=!0),g||(p=p||this.getCompleteStyleDeclaration(a,w),m=this.getCompleteStyleDeclaration(a,w+1),g=LF(p,m,!1)),g&&(c?(r.save(),r.translate(y.renderLeft,y.renderTop),r.rotate(y.angle),this._renderChar(e,r,a,w,x,-b/2,0),r.restore()):(v=i,this._renderChar(e,r,a,w,x,v,s)),x="",p=m,i+=A*b,b=0);r.restore()}_applyPatternGradientTransformText(e){const r=this.width+this.strokeWidth,n=this.height+this.strokeWidth,i=To({width:r,height:n}),s=i.getContext("2d");return i.width=r,i.height=n,s.beginPath(),s.moveTo(0,0),s.lineTo(r,0),s.lineTo(r,n),s.lineTo(0,n),s.closePath(),s.translate(r/2,n/2),s.fillStyle=e.toLive(s),this._applyPatternGradientTransform(s,e),s.fill(),s.createPattern(i,"no-repeat")}handleFiller(e,r,n){let i,s;return zs(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?(i=-this.width/2,s=-this.height/2,e.translate(i,s),e[r]=this._applyPatternGradientTransformText(n),{offsetX:i,offsetY:s}):(e[r]=n.toLive(e),this._applyPatternGradientTransform(e,n)):(e[r]=n,{offsetX:0,offsetY:0})}_setStrokeStyles(e,r){let{stroke:n,strokeWidth:i}=r;return e.lineWidth=i,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",n)}_setFillStyles(e,r){let{fill:n}=r;return this.handleFiller(e,"fillStyle",n)}_renderChar(e,r,n,i,s,a,o){const l=this._getStyleDeclaration(n,i),c=this.getCompleteStyleDeclaration(n,i),u=e==="fillText"&&c.fill,d=e==="strokeText"&&c.stroke&&c.strokeWidth;if(d||u){if(r.save(),r.font=this._getFontDeclaration(c),l.textBackgroundColor&&this._removeShadow(r),l.deltaY&&(o+=l.deltaY),u){const A=this._setFillStyles(r,c);r.fillText(s,a-A.offsetX,o-A.offsetY)}if(d){const A=this._setStrokeStyles(r,c);r.strokeText(s,a-A.offsetX,o-A.offsetY)}r.restore()}}setSuperscript(e,r){this._setScript(e,r,this.superscript)}setSubscript(e,r){this._setScript(e,r,this.subscript)}_setScript(e,r,n){const i=this.get2DCursorLocation(e,!0),s=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"fontSize"),a=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"deltaY"),o={fontSize:s*n.size,deltaY:a+s*n.baseline};this.setSelectionStyles(o,e,r)}_getLineLeftOffset(e){const r=this.getLineWidth(e),n=this.width-r,i=this.textAlign,s=this.direction,a=this.isEndOfWrapping(e);let o=0;return i===ho||i===$m&&!a||i===zm&&!a||i===p3&&!a?0:(i===ft&&(o=n/2),i===Ur&&(o=n),i===$m&&(o=n/2),i===zm&&(o=n),s==="rtl"&&(i===Ur||i===ho||i===zm?o=0:i===Ht||i===p3?o=-n:i!==ft&&i!==$m||(o=-n/2)),o)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(e){if(this.__lineWidths[e]!==void 0)return this.__lineWidths[e];const{width:r}=this.measureLine(e);return this.__lineWidths[e]=r,r}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(e,r,n){var i;return(i=this._getStyleDeclaration(e,r)[n])!==null&&i!==void 0?i:this[n]}_renderTextDecoration(e,r){if(!this[r]&&!this.styleHas(r))return;let n=this._getTopOffset();const i=this._getLeftOffset(),s=this.path,a=this._getWidthOfCharSpacing(),o=this.offsets[r];for(let l=0,c=this._textLines.length;l<c;l++){const u=this.getHeightOfLine(l);if(!this[r]&&!this.styleHas(r,l)){n+=u;continue}const d=this._textLines[l],A=u/this.lineHeight,f=this._getLineLeftOffset(l);let p,m,y=0,g=0,v=this.getValueOfPropertyAt(l,0,r),x=this.getValueOfPropertyAt(l,0,un);const b=n+A*(1-this._fontSizeFraction);let w=this.getHeightOfChar(l,0),C=this.getValueOfPropertyAt(l,0,"deltaY");for(let B=0,E=d.length;B<E;B++){const M=this.__charBounds[l][B];p=this.getValueOfPropertyAt(l,B,r),m=this.getValueOfPropertyAt(l,B,un);const D=this.getHeightOfChar(l,B),L=this.getValueOfPropertyAt(l,B,"deltaY");if(s&&p&&m)e.save(),e.fillStyle=x,e.translate(M.renderLeft,M.renderTop),e.rotate(M.angle),e.fillRect(-M.kernedWidth/2,o*D+L,M.kernedWidth,this.fontSize/15),e.restore();else if((p!==v||m!==x||D!==w||L!==C)&&g>0){let I=i+f+y;this.direction==="rtl"&&(I=this.width-I-g),v&&x&&(e.fillStyle=x,e.fillRect(I,b+o*w+C,g,this.fontSize/15)),y=M.left,g=M.width,v=p,x=m,w=D,C=L}else g+=M.kernedWidth}let S=i+f+y;this.direction==="rtl"&&(S=this.width-S-g),e.fillStyle=m,p&&m&&e.fillRect(S,b+o*w+C,g-a,this.fontSize/15),n+=u}this._removeShadow(e)}_getFontDeclaration(){let{fontFamily:e=this.fontFamily,fontStyle:r=this.fontStyle,fontWeight:n=this.fontWeight,fontSize:i=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;const a=e.includes("'")||e.includes('"')||e.includes(",")||Zp.genericFonts.includes(e.toLowerCase())?e:'"'.concat(e,'"');return[r,n,"".concat(s?this.CACHE_FONT_SIZE:i,"px"),a].join(" ")}render(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(e)))}graphemeSplit(e){return DF(e)}_splitTextIntoLines(e){const r=e.split(this._reNewline),n=new Array(r.length),i=[`
`];let s=[];for(let a=0;a<r.length;a++)n[a]=this.graphemeSplit(r[a]),s=s.concat(n[a],i);return s.pop(),{_unwrappedLines:n,lines:r,graphemeText:s,graphemeLines:n}}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X(X({},super.toObject([...ote,...e])),{},{styles:fFe(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(e,r){const{textLayoutProperties:n}=this.constructor;super.set(e,r);let i=!1,s=!1;if(typeof e=="object")for(const a in e)a==="path"&&this.setPathInfo(),i=i||n.includes(a),s=s||a==="path";else i=n.includes(e),s=e==="path";return s&&this.setPathInfo(),i&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(e,r,n){const i=Jl(e,Zp.ATTRIBUTE_NAMES,n),s=X(X({},r),i),{textAnchor:a=Ht,textDecoration:o="",dx:l=0,dy:c=0,top:u=0,left:d=0,fontSize:A=vF,strokeWidth:f=1}=s,p=yr(s,ETe),m=new this((e.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),X({left:d+l,top:u+c,underline:o.includes("underline"),overline:o.includes("overline"),linethrough:o.includes("line-through"),strokeWidth:0,fontSize:A},p)),y=m.getScaledHeight()/m.height,g=((m.height+m.strokeWidth)*m.lineHeight-m.height)*y,v=m.getScaledHeight()+g;let x=0;return a===ft&&(x=m.getScaledWidth()/2),a===Ur&&(x=m.getScaledWidth()),m.set({left:m.left-x,top:m.top-(v-m.fontSize*(.07+m._fontSizeFraction))/m.lineHeight,strokeWidth:f}),m}static fromObject(e){return this._fromObject(X(X({},e),{},{styles:pFe(e.styles||{},e.text)}),{extraParam:"text"})}};K(Ja,"textLayoutProperties",ate),K(Ja,"cacheProperties",[...Yl,...ote]),K(Ja,"ownDefaults",BTe),K(Ja,"type","Text"),K(Ja,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),K(Ja,"ATTRIBUTE_NAMES",Ku.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),Lee(Ja,[class extends See{_toSVG(){const t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)}toSVG(t){return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0})}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(t){let{textBgRects:e,textSpans:r}=t;const n=this.getSvgTextDecoration(this);return[e.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(kTe,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",n?'text-decoration="'.concat(n,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",r.join(""),`</text>
`]}_getSVGTextAndBg(t,e){const r=[],n=[];let i,s=t;this.backgroundColor&&n.push(...a7(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let a=0,o=this._textLines.length;a<o;a++)i=this._getLineLeftOffset(a),this.direction==="rtl"&&(i+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",a))&&this._setSVGTextLineBg(n,a,e+i,s),this._setSVGTextLineText(r,a,e+i,s),s+=this.getHeightOfLine(a);return{textSpans:r,textBgRects:n}}_createTextCharSpan(t,e,r,n){const i=this.getSvgSpanStyles(e,t!==t.trim()||!!t.match(_Te)),s=i?'style="'.concat(i,'"'):"",a=e.deltaY,o=a?' dy="'.concat(Sr(a,Mt.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(Sr(r,Mt.NUM_FRACTION_DIGITS),'" y="').concat(Sr(n,Mt.NUM_FRACTION_DIGITS),'" ').concat(o).concat(s,">").concat(hFe(t),"</tspan>")}_setSVGTextLineText(t,e,r,n){const i=this.getHeightOfLine(e),s=this.textAlign.includes(ho),a=this._textLines[e];let o,l,c,u,d,A="",f=0;n+=i*(1-this._fontSizeFraction)/this.lineHeight;for(let p=0,m=a.length-1;p<=m;p++)d=p===m||this.charSpacing,A+=a[p],c=this.__charBounds[e][p],f===0?(r+=c.kernedWidth-c.width,f+=c.width):f+=c.kernedWidth,s&&!d&&this._reSpaceAndTab.test(a[p])&&(d=!0),d||(o=o||this.getCompleteStyleDeclaration(e,p),l=this.getCompleteStyleDeclaration(e,p+1),d=LF(o,l,!0)),d&&(u=this._getStyleDeclaration(e,p),t.push(this._createTextCharSpan(A,u,r,n)),A="",o=l,this.direction==="rtl"?r-=f:r+=f,f=0)}_setSVGTextLineBg(t,e,r,n){const i=this._textLines[e],s=this.getHeightOfLine(e)/this.lineHeight;let a,o=0,l=0,c=this.getValueOfPropertyAt(e,0,"textBackgroundColor");for(let u=0;u<i.length;u++){const{left:d,width:A,kernedWidth:f}=this.__charBounds[e][u];a=this.getValueOfPropertyAt(e,u,"textBackgroundColor"),a!==c?(c&&t.push(...a7(c,r+l,n,o,s)),l=d,o=A,c=a):o+=f}a&&t.push(...a7(c,r+l,n,o,s))}_getSVGLineTopOffset(t){let e,r=0;for(e=0;e<t;e++)r+=this.getHeightOfLine(e);const n=this.getHeightOfLine(e);return{lineTop:r,offset:(this._fontSizeMult-this._fontSizeFraction)*n/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(t){return"".concat(super.getSvgStyles(t)," white-space: pre;")}getSvgSpanStyles(t,e){const{fontFamily:r,strokeWidth:n,stroke:i,fill:s,fontSize:a,fontStyle:o,fontWeight:l,deltaY:c}=t,u=this.getSvgTextDecoration(t);return[i?Jg(zi,i):"",n?"stroke-width: ".concat(n,"; "):"",r?"font-family: ".concat(r.includes("'")||r.includes('"')?r:"'".concat(r,"'"),"; "):"",a?"font-size: ".concat(a,"px; "):"",o?"font-style: ".concat(o,"; "):"",l?"font-weight: ".concat(l,"; "):"",u&&"text-decoration: ".concat(u,"; "),s?Jg(un,s):"",c?"baseline-shift: ".concat(-c,"; "):"",e?"white-space: pre; ":""].join("")}getSvgTextDecoration(t){return["overline","underline","line-through"].filter(e=>t[e.replace("-","")]).join(" ")}}]),Ue.setClass(Ja),Ue.setSVGClass(Ja);let MTe=class{constructor(e){K(this,"target",void 0),K(this,"__mouseDownInPlace",!1),K(this,"__dragStartFired",!1),K(this,"__isDraggingOver",!1),K(this,"__dragStartSelection",void 0),K(this,"__dragImageDisposer",void 0),K(this,"_dispose",void 0),this.target=e;const r=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{r.forEach(n=>n()),this._dispose=void 0}}isPointerOverSelection(e){const r=this.target,n=r.getSelectionStartFromPointer(e);return r.isEditing&&n>=r.selectionStart&&n<=r.selectionEnd&&r.selectionStart<r.selectionEnd}start(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}isActive(){return this.__mouseDownInPlace}end(e){const r=this.isActive();return r&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,r}getDragStartSelection(){return this.__dragStartSelection}setDragImage(e,r){var n;let{selectionStart:i,selectionEnd:s}=r;const a=this.target,o=a.canvas,l=new ue(a.flipX?-1:1,a.flipY?-1:1),c=a._getCursorBoundaries(i),u=new ue(c.left+c.leftOffset,c.top+c.topOffset).multiply(l).transform(a.calcTransformMatrix()),d=o.getScenePoint(e).subtract(u),A=a.getCanvasRetinaScaling(),f=a.getBoundingRect(),p=u.subtract(new ue(f.left,f.top)),m=o.viewportTransform,y=p.add(d).transform(m,!0),g=a.backgroundColor,v=TF(a.styles);a.backgroundColor="";const x={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};a.setSelectionStyles(x,0,i),a.setSelectionStyles(x,s,a.text.length),a.dirty=!0;const b=a.toCanvasElement({enableRetinaScaling:o.enableRetinaScaling,viewportTransform:!0});a.backgroundColor=g,a.styles=v,a.dirty=!0,w9(b,{position:"fixed",left:"".concat(-b.width,"px"),border:Hi,width:"".concat(b.width/A,"px"),height:"".concat(b.height/A,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{b.remove()},wa(e.target||this.target.hiddenTextarea).body.appendChild(b),(n=e.dataTransfer)===null||n===void 0||n.setDragImage(b,y.x,y.y)}onDragStart(e){this.__dragStartFired=!0;const r=this.target,n=this.isActive();if(n&&e.dataTransfer){const i=this.__dragStartSelection={selectionStart:r.selectionStart,selectionEnd:r.selectionEnd},s=r._text.slice(i.selectionStart,i.selectionEnd).join(""),a=X({text:r.text,value:s},i);e.dataTransfer.setData("text/plain",s),e.dataTransfer.setData("application/fabric",JSON.stringify({value:s,styles:r.getSelectionStyles(i.selectionStart,i.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,a)}return r.abortCursorAnimation(),n}canDrop(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const r=this.target.getSelectionStartFromPointer(e),n=this.__dragStartSelection;return r<n.selectionStart||r>n.selectionEnd}return!0}return!1}targetCanDrop(e){return this.target.canDrop(e)}dragEnterHandler(e){let{e:r}=e;const n=this.targetCanDrop(r);!this.__isDraggingOver&&n&&(this.__isDraggingOver=!0)}dragOverHandler(e){const{e:r}=e,n=this.targetCanDrop(r);!this.__isDraggingOver&&n?this.__isDraggingOver=!0:this.__isDraggingOver&&!n&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(r.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(e){var r;const{e:n}=e,i=n.defaultPrevented;this.__isDraggingOver=!1,n.preventDefault();let s=(r=n.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain");if(s&&!i){const a=this.target,o=a.canvas;let l=a.getSelectionStartFromPointer(n);const{styles:c}=n.dataTransfer.types.includes("application/fabric")?JSON.parse(n.dataTransfer.getData("application/fabric")):{},u=s[Math.max(0,s.length-1)],d=0;if(this.__dragStartSelection){const A=this.__dragStartSelection.selectionStart,f=this.__dragStartSelection.selectionEnd;l>A&&l<=f?l=A:l>f&&(l-=f-A),a.removeChars(A,f),delete this.__dragStartSelection}a._reNewline.test(u)&&(a._reNewline.test(a._text[l])||l===a._text.length)&&(s=s.trimEnd()),e.didDrop=!0,e.dropTarget=a,a.insertChars(s,c,l),o.setActiveObject(a),a.enterEditing(n),a.selectionStart=Math.min(l+d,a._text.length),a.selectionEnd=Math.min(a.selectionStart+s.length,a._text.length),a.hiddenTextarea.value=a.text,a._updateTextarea(),a.hiddenTextarea.focus(),a.fire(s3,{index:l+d,action:"drop"}),o.fire("text:changed",{target:a}),o.contextTopDirty=!0,o.requestRenderAll()}}dragEndHandler(e){let{e:r}=e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var n;const i=this.target,s=this.target.canvas,{selectionStart:a,selectionEnd:o}=this.__dragStartSelection,l=((n=r.dataTransfer)===null||n===void 0?void 0:n.dropEffect)||Hi;l===Hi?(i.selectionStart=a,i.selectionEnd=o,i._updateTextarea(),i.hiddenTextarea.focus()):(i.clearContextTop(),l==="move"&&(i.removeChars(a,o),i.selectionStart=i.selectionEnd=a,i.hiddenTextarea&&(i.hiddenTextarea.value=i.text),i._updateTextarea(),i.fire(s3,{index:a,action:"dragend"}),s.fire("text:changed",{target:i}),s.requestRenderAll()),i.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}};const yU=/[ \n\.,;!\?\-]/;let FTe=class extends Ja{constructor(){super(...arguments),K(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(e){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(e)}_animateCursor(e){let{toValue:r,duration:n,delay:i,onComplete:s}=e;return Eee({startValue:this._currentCursorOpacity,endValue:r,duration:n,delay:i,onComplete:s,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:a=>{this._currentCursorOpacity=a,this.renderCursorOrSelection()}})}_tick(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var e;(e=this._currentTickCompleteState)===null||e===void 0||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}abortCursorAnimation(){let e=!1;[this._currentTickState,this._currentTickCompleteState].forEach(r=>{r&&!r.isDone()&&(e=!0,r.abort())}),this._currentCursorOpacity=1,e&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(e=>!e||e.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(e){let r=0,n=e-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)r++,n--;for(;/\S/.test(this._text[n])&&n>-1;)r++,n--;return e-r}findWordBoundaryRight(e){let r=0,n=e;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)r++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)r++,n++;return e+r}findLineBoundaryLeft(e){let r=0,n=e-1;for(;!/\n/.test(this._text[n])&&n>-1;)r++,n--;return e-r}findLineBoundaryRight(e){let r=0,n=e;for(;!/\n/.test(this._text[n])&&n<this._text.length;)r++,n++;return e+r}searchWordBoundary(e,r){const n=this._text;let i=e>0&&this._reSpace.test(n[e])&&(r===-1||!xF.test(n[e-1]))?e-1:e,s=n[i];for(;i>0&&i<n.length&&!yU.test(s);)i+=r,s=n[i];return r===-1&&yU.test(s)&&i++,i}selectWord(e){e=e||this.selectionStart;const r=this.searchWordBoundary(e,-1),n=Math.max(r,this.searchWordBoundary(e,1));this.selectionStart=r,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(e){e=e||this.selectionStart;const r=this.findLineBoundaryLeft(e),n=this.findLineBoundaryRight(e);return this.selectionStart=r,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this}enterEditing(e){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",e?{e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(e){if(this.getActiveControl())return;const r=this.hiddenTextarea;wa(r).activeElement!==r&&r.focus();const n=this.getSelectionStartFromPointer(e),i=this.selectionStart,s=this.selectionEnd;(n===this.__selectionStartOnMouseDown&&i!==s||i!==n&&s!==n)&&(n>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=n):(this.selectionStart=n,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===i&&this.selectionEnd===s||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(e,r,n){const i=n.slice(0,e),s=this.graphemeSplit(i).length;if(e===r)return{selectionStart:s,selectionEnd:s};const a=n.slice(e,r);return{selectionStart:s,selectionEnd:s+this.graphemeSplit(a).length}}fromGraphemeToStringSelection(e,r,n){const i=n.slice(0,e).join("").length;return e===r?{selectionStart:i,selectionEnd:i}:{selectionStart:i,selectionEnd:i+n.slice(e,r).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const e=this.hiddenTextarea;this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const r=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=r.selectionEnd,this.inCompositionMode||(this.selectionStart=r.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const e=this.inCompositionMode?this.compositionStart:this.selectionStart,r=this._getCursorBoundaries(e),n=this.get2DCursorLocation(e),i=n.lineIndex,s=n.charIndex,a=this.getValueOfPropertyAt(i,s,"fontSize")*this.lineHeight,o=r.leftOffset,l=this.getCanvasRetinaScaling(),c=this.canvas.upperCanvasEl,u=c.width/l,d=c.height/l,A=u-a,f=d-a,p=new ue(r.left+o,r.top+r.topOffset+a).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new ue(c.clientWidth/u,c.clientHeight/d));return p.x<0&&(p.x=0),p.x>A&&(p.x=A),p.y<0&&(p.y=0),p.y>f&&(p.y=f),p.x+=this.canvas._offset.left,p.y+=this.canvas._offset.top,{left:"".concat(p.x,"px"),top:"".concat(p.y,"px"),fontSize:"".concat(a,"px"),charHeight:a}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const e=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),e&&this.fire(a3),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const e in this.styles)this._textLines[e]||delete this.styles[e]}removeStyleFromTo(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e,!0),{lineIndex:s,charIndex:a}=this.get2DCursorLocation(r,!0);if(n!==s){if(this.styles[n])for(let o=i;o<this._unwrappedTextLines[n].length;o++)delete this.styles[n][o];if(this.styles[s])for(let o=a;o<this._unwrappedTextLines[s].length;o++){const l=this.styles[s][o];l&&(this.styles[n]||(this.styles[n]={}),this.styles[n][i+o-a]=l)}for(let o=n+1;o<=s;o++)delete this.styles[o];this.shiftLineStyles(s,n-s)}else if(this.styles[n]){const o=this.styles[n],l=a-i;for(let c=i;c<a;c++)delete o[c];for(const c in this.styles[n]){const u=parseInt(c,10);u>=a&&(o[u-l]=o[c],delete o[c])}}}shiftLineStyles(e,r){const n=Object.assign({},this.styles);for(const i in this.styles){const s=parseInt(i,10);s>e&&(this.styles[s+r]=n[s],n[s-r]||delete this.styles[s])}}insertNewlineStyleObject(e,r,n,i){const s={},a=this._unwrappedTextLines[e].length,o=a===r;let l=!1;n||(n=1),this.shiftLineStyles(e,n);const c=this.styles[e]?this.styles[e][r===0?r:r-1]:void 0;for(const d in this.styles[e]){const A=parseInt(d,10);A>=r&&(l=!0,s[A-r]=this.styles[e][d],o&&r===0||delete this.styles[e][d])}let u=!1;for(l&&!o&&(this.styles[e+n]=s,u=!0),(u||a>r)&&n--;n>0;)i&&i[n-1]?this.styles[e+n]={0:X({},i[n-1])}:c?this.styles[e+n]={0:X({},c)}:delete this.styles[e+n],n--;this._forceClearCache=!0}insertCharStyleObject(e,r,n,i){this.styles||(this.styles={});const s=this.styles[e],a=s?X({},s):{};n||(n=1);for(const l in a){const c=parseInt(l,10);c>=r&&(s[c+n]=a[c],a[c-n]||delete s[c])}if(this._forceClearCache=!0,i){for(;n--;)Object.keys(i[n]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][r+n]=X({},i[n]));return}if(!s)return;const o=s[r?r-1:1];for(;o&&n--;)this.styles[e][r+n]=X({},o)}insertNewStyleBlock(e,r,n){const i=this.get2DCursorLocation(r,!0),s=[0];let a,o=0;for(let l=0;l<e.length;l++)e[l]===`
`?(o++,s[o]=0):s[o]++;for(s[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,s[0],n),n=n&&n.slice(s[0]+1)),o&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+s[0],o),a=1;a<o;a++)s[a]>0?this.insertCharStyleObject(i.lineIndex+a,0,s[a],n):n&&this.styles[i.lineIndex+a]&&n[0]&&(this.styles[i.lineIndex+a][0]=n[0]),n=n&&n.slice(s[a]+1);s[a]>0&&this.insertCharStyleObject(i.lineIndex+a,0,s[a],n)}removeChars(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e+1;this.removeStyleFromTo(e,r),this._text.splice(e,r-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;i>n&&this.removeStyleFromTo(n,i);const s=this.graphemeSplit(e);this.insertNewStyleBlock(s,n,r),this._text=[...this._text.slice(0,n),...s,...this._text.slice(i)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(e,r,n){n<=e?(r===e?this._selectionDirection=Ht:this._selectionDirection===Ur&&(this._selectionDirection=Ht,this.selectionEnd=e),this.selectionStart=n):n>e&&n<r?this._selectionDirection===Ur?this.selectionEnd=n:this.selectionStart=n:(r===e?this._selectionDirection=Ur:this._selectionDirection===Ht&&(this._selectionDirection=Ur,this.selectionStart=r),this.selectionEnd=n)}},TTe=class extends FTe{initHiddenTextarea(){const e=this.canvas&&wa(this.canvas.getElement())||Cf(),r=e.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(a=>{let[o,l]=a;return r.setAttribute(o,l)});const{top:n,left:i,fontSize:s}=this._calcTextareaPosition();r.style.cssText="position: absolute; top: ".concat(n,"; left: ").concat(i,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(s,";"),(this.hiddenTextareaContainer||e.body).appendChild(r),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(a=>{let[o,l]=a;return r.addEventListener(o,this[l].bind(this))}),this.hiddenTextarea=r}blur(){this.abortCursorAnimation()}onKeyDown(e){if(!this.isEditing)return;const r=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(e.keyCode in r)this[r[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(e){const r=this.fromPaste;if(this.fromPaste=!1,e&&e.stopPropagation(),!this.isEditing)return;const n=()=>{this.updateFromTextArea(),this.fire(s3),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void n();const i=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,s=this._text.length,a=i.length,o=this.selectionStart,l=this.selectionEnd,c=o!==l;let u,d,A,f,p=a-s;const m=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),y=o>m.selectionStart;c?(d=this._text.slice(o,l),p+=l-o):a<s&&(d=y?this._text.slice(l+p,l):this._text.slice(o,o-p));const g=i.slice(m.selectionEnd-p,m.selectionEnd);if(d&&d.length&&(g.length&&(u=this.getSelectionStyles(o,o+1,!1),u=g.map(()=>u[0])),c?(A=o,f=l):y?(A=l-d.length,f=l):(A=l,f=l+d.length),this.removeStyleFromTo(A,f)),g.length){const{copyPasteData:v}=Fo();r&&g.join("")===v.copiedText&&!Mt.disableStyleCopyPaste&&(u=v.copiedTextStyle),this.insertNewStyleBlock(g,o,u)}n()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(e){let{target:r}=e;const{selectionStart:n,selectionEnd:i}=r;this.compositionStart=n,this.compositionEnd=i,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:e}=Fo();e.copiedText=this.getSelectedText(),Mt.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(e,r){let n,i=this._getLineLeftOffset(e);return r>0&&(n=this.__charBounds[e][r-1],i+=n.left+n.width),i}getDownCursorOffset(e,r){const n=this._getSelectionForOffset(e,r),i=this.get2DCursorLocation(n),s=i.lineIndex;if(s===this._textLines.length-1||e.metaKey||e.keyCode===34)return this._text.length-n;const a=i.charIndex,o=this._getWidthBeforeCursor(s,a),l=this._getIndexOnLine(s+1,o);return this._textLines[s].slice(a).length+l+1+this.missingNewlineOffset(s)}_getSelectionForOffset(e,r){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&r?this.selectionEnd:this.selectionStart}getUpCursorOffset(e,r){const n=this._getSelectionForOffset(e,r),i=this.get2DCursorLocation(n),s=i.lineIndex;if(s===0||e.metaKey||e.keyCode===33)return-n;const a=i.charIndex,o=this._getWidthBeforeCursor(s,a),l=this._getIndexOnLine(s-1,o),c=this._textLines[s].slice(0,a),u=this.missingNewlineOffset(s-1);return-this._textLines[s-1].length+l-c.length+(1-u)}_getIndexOnLine(e,r){const n=this._textLines[e];let i,s,a=this._getLineLeftOffset(e),o=0;for(let l=0,c=n.length;l<c;l++)if(i=this.__charBounds[e][l].width,a+=i,a>r){s=!0;const u=a-i,d=a,A=Math.abs(u-r);o=Math.abs(d-r)<A?l:l-1;break}return s||(o=n.length-1),o}moveCursorDown(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}moveCursorUp(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",e)}_moveCursorUpOrDown(e,r){const n=this["get".concat(e,"CursorOffset")](r,this._selectionDirection===Ur);if(r.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),n!==0){const i=this.text.length;this.selectionStart=XA(0,this.selectionStart,i),this.selectionEnd=XA(0,this.selectionEnd,i),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(e){const r=this._selectionDirection===Ht?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,r),e!==0}moveCursorWithoutShift(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),e!==0}moveCursorLeft(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",e)}_move(e,r,n){let i;if(e.altKey)i=this["findWordBoundary".concat(n)](this[r]);else{if(!e.metaKey&&e.keyCode!==35&&e.keyCode!==36)return this[r]+=n==="Left"?-1:1,!0;i=this["findLineBoundary".concat(n)](this[r])}return i!==void 0&&this[r]!==i&&(this[r]=i,!0)}_moveLeft(e,r){return this._move(e,r,"Left")}_moveRight(e,r){return this._move(e,r,"Right")}moveCursorLeftWithoutShift(e){let r=!0;return this._selectionDirection=Ht,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(r=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,r}moveCursorLeftWithShift(e){return this._selectionDirection===Ur&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=Ht,this._moveLeft(e,"selectionStart")):void 0}moveCursorRight(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}_moveCursorLeftOrRight(e,r){const n="moveCursor".concat(e).concat(r.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[n](r)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(e){return this._selectionDirection===Ht&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=Ur,this._moveRight(e,"selectionEnd")):void 0}moveCursorRightWithoutShift(e){let r=!0;return this._selectionDirection=Ur,this.selectionStart===this.selectionEnd?(r=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,r}};const l7=t=>!!t.button;let DTe=class extends TTe{constructor(){super(...arguments),K(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new MTe(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(e){return this.draggableTextDelegate.onDragStart(e)}canDrop(e){return this.draggableTextDelegate.canDrop(e)}onMouseDown(e){if(!this.canvas)return;this.__newClickTime=+new Date;const r=e.pointer;this.isTripleClick(r)&&(this.fire("tripleclick",e),A9(e.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=r,this.__lastSelected=this.selected&&!this.getActiveControl()}isTripleClick(e){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y}doubleClickHandler(e){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(e.e))}tripleClickHandler(e){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(e.e))}_mouseDownHandler(e){let{e:r}=e;this.canvas&&this.editable&&!l7(r)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(r)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(r)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}_mouseDownHandlerBefore(e){let{e:r}=e;this.canvas&&this.editable&&!l7(r)&&(this.selected=this===this.canvas._activeObject)}mouseUpHandler(e){let{e:r,transform:n}=e;const i=this.draggableTextDelegate.end(r);if(this.canvas){this.canvas.textEditingManager.unregister(this);const s=this.canvas._activeObject;if(s&&s!==this)return}!this.editable||this.group&&!this.group.interactive||n&&n.actionPerformed||l7(r)||i||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(r),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}setCursorByClick(e){const r=this.getSelectionStartFromPointer(e),n=this.selectionStart,i=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(n,i,r):(this.selectionStart=r,this.selectionEnd=r),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(e){const r=this.canvas.getScenePoint(e).transform(_a(this.calcTransformMatrix())).add(new ue(-this._getLeftOffset(),-this._getTopOffset()));let n=0,i=0,s=0;for(let c=0;c<this._textLines.length&&n<=r.y;c++)n+=this.getHeightOfLine(c),s=c,c>0&&(i+=this._textLines[c-1].length+this.missingNewlineOffset(c-1));let a=Math.abs(this._getLineLeftOffset(s));const o=this._textLines[s].length,l=this.__charBounds[s];for(let c=0;c<o;c++){const u=a+l[c].kernedWidth;if(r.x<=u){Math.abs(r.x-u)<=Math.abs(r.x-a)&&i++;break}a=u,i++}return Math.min(this.flipX?o-i:i,this._text.length)}};const h2="moveCursorUp",A2="moveCursorDown",f2="moveCursorLeft",p2="moveCursorRight",m2="exitEditing",LTe=X({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:m2,27:m2,33:h2,34:A2,35:p2,36:f2,37:f2,38:h2,39:p2,40:A2},keysMapRtl:{9:m2,27:m2,33:h2,34:A2,35:f2,36:p2,37:p2,38:h2,39:f2,40:A2},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});let Y0=class F9 extends DTe{static getDefaults(){return X(X({},super.getDefaults()),F9.ownDefaults)}get type(){const e=super.type;return e==="itext"?"i-text":e}constructor(e,r){super(e,X(X({},F9.ownDefaults),r)),this.initBehavior()}_set(e,r){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=r,this):(e==="canvas"&&(this.canvas instanceof C9&&this.canvas.textEditingManager.remove(this),r instanceof C9&&r.textEditingManager.add(this)),super._set(e,r))}setSelectionStart(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}setSelectionEnd(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}_updateAndFire(e,r){this[e]!==r&&(this._fireSelectionChanged(),this[e]=r),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,n=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(e,r,n)}setSelectionStyles(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(e,r,n)}get2DCursorLocation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(e,r)}render(e){super.render(e),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(e){const r=this.isEditing;this.isEditing=!1;const n=super.toCanvasElement(e);return this.isEditing=r,n}renderCursorOrSelection(){if(!this.isEditing)return;const e=this.clearContextTop(!0);if(!e)return;const r=this._getCursorBoundaries();this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(e,r):this.renderCursor(e,r),this.canvas.contextTopDirty=!0,e.restore()}_getCursorBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1?arguments[1]:void 0;const n=this._getLeftOffset(),i=this._getTopOffset(),s=this._getCursorBoundariesOffsets(e,r);return{left:n,top:i,leftOffset:s.left,topOffset:s.top}}_getCursorBoundariesOffsets(e,r){return r?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}__getCursorBoundariesOffsets(e){let r=0,n=0;const{charIndex:i,lineIndex:s}=this.get2DCursorLocation(e);for(let c=0;c<s;c++)r+=this.getHeightOfLine(c);const a=this._getLineLeftOffset(s),o=this.__charBounds[s][i];o&&(n=o.left),this.charSpacing!==0&&i===this._textLines[s].length&&(n-=this._getWidthOfCharSpacing());const l={top:r,left:a+(n>0?n:0)};return this.direction==="rtl"&&(this.textAlign===Ur||this.textAlign===ho||this.textAlign===zm?l.left*=-1:this.textAlign===Ht||this.textAlign===p3?l.left=a-(n>0?n:0):this.textAlign!==ft&&this.textAlign!==$m||(l.left=a-(n>0?n:0))),l}renderCursorAt(e){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(e,!0),e)}renderCursor(e,r){this._renderCursor(e,r,this.selectionStart)}getCursorRenderingData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(e);const n=this.get2DCursorLocation(e),i=n.lineIndex,s=n.charIndex>0?n.charIndex-1:0,a=this.getValueOfPropertyAt(i,s,"fontSize"),o=this.getObjectScaling().x*this.canvas.getZoom(),l=this.cursorWidth/o,c=this.getValueOfPropertyAt(i,s,"deltaY"),u=r.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-a*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(i,s,"fill"),opacity:this._currentCursorOpacity,left:r.left+r.leftOffset-l/2,top:u+r.top+c,width:l,height:a}}_renderCursor(e,r,n){const{color:i,opacity:s,left:a,top:o,width:l,height:c}=this.getCursorRenderingData(n,r);e.fillStyle=i,e.globalAlpha=s,e.fillRect(a,o,l,c)}renderSelection(e,r){const n={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,n,r)}renderDragSourceEffect(){const e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}renderDropTargetEffect(e){const r=this.getSelectionStartFromPointer(e);this.renderCursorAt(r)}_renderSelection(e,r,n){const i=r.selectionStart,s=r.selectionEnd,a=this.textAlign.includes(ho),o=this.get2DCursorLocation(i),l=this.get2DCursorLocation(s),c=o.lineIndex,u=l.lineIndex,d=o.charIndex<0?0:o.charIndex,A=l.charIndex<0?0:l.charIndex;for(let f=c;f<=u;f++){const p=this._getLineLeftOffset(f)||0;let m=this.getHeightOfLine(f),y=0,g=0,v=0;if(f===c&&(g=this.__charBounds[c][d].left),f>=c&&f<u)v=a&&!this.isEndOfWrapping(f)?this.width:this.getLineWidth(f)||5;else if(f===u)if(A===0)v=this.__charBounds[u][A].left;else{const S=this._getWidthOfCharSpacing();v=this.__charBounds[u][A-1].left+this.__charBounds[u][A-1].width-S}y=m,(this.lineHeight<1||f===u&&this.lineHeight>1)&&(m/=this.lineHeight);let x=n.left+p+g,b=m,w=0;const C=v-g;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",b=1,w=m):e.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===Ur||this.textAlign===ho||this.textAlign===zm?x=this.width-x-C:this.textAlign===Ht||this.textAlign===p3?x=n.left+p-v:this.textAlign!==ft&&this.textAlign!==$m||(x=n.left+p-v)),e.fillRect(x,n.top+n.topOffset+w,C,b),n.topOffset+=y}}getCurrentCharFontSize(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}getCurrentCharColor(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,un)}_getCurrentCharIndex(){const e=this.get2DCursorLocation(this.selectionStart,!0),r=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:r}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}};K(Y0,"ownDefaults",LTe),K(Y0,"type","IText"),Ue.setClass(Y0),Ue.setClass(Y0,"i-text");let $d=class T9 extends Y0{static getDefaults(){return X(X({},super.getDefaults()),T9.ownDefaults)}constructor(e,r){super(e,X(X({},T9.ownDefaults),r))}static createControls(){return{controls:lFe()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(ho)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(e){let r=0,n=0,i=0;const s={};for(let a=0;a<e.graphemeLines.length;a++)e.graphemeText[i]===`
`&&a>0?(n=0,i++,r++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[i])&&a>0&&(n++,i++),s[a]={line:r,offset:n},i+=e.graphemeLines[a].length,n+=e.graphemeLines[a].length;return s}styleHas(e,r){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[r];n&&(r=n.line)}return super.styleHas(e,r)}isEmptyStyles(e){if(!this.styles)return!0;let r,n=0,i=e+1,s=!1;const a=this._styleMap[e],o=this._styleMap[e+1];a&&(e=a.line,n=a.offset),o&&(i=o.line,s=i===e,r=o.offset);const l=e===void 0?this.styles:{line:this.styles[e]};for(const c in l)for(const u in l[c]){const d=parseInt(u,10);if(d>=n&&(!s||d<r))for(const A in l[c][u])return!1}return!0}_getStyleDeclaration(e,r){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[e];if(!n)return{};e=n.line,r=n.offset+r}return super._getStyleDeclaration(e,r)}_setStyleDeclaration(e,r,n){const i=this._styleMap[e];super._setStyleDeclaration(i.line,i.offset+r,n)}_deleteStyleDeclaration(e,r){const n=this._styleMap[e];super._deleteStyleDeclaration(n.line,n.offset+r)}_getLineStyle(e){const r=this._styleMap[e];return!!this.styles[r.line]}_setLineStyle(e){const r=this._styleMap[e];super._setLineStyle(r.line)}_wrapText(e,r){this.isWrapping=!0;const n=this.getGraphemeDataForRender(e),i=[];for(let s=0;s<n.wordsData.length;s++)i.push(...this._wrapLine(s,r,n));return this.isWrapping=!1,i}getGraphemeDataForRender(e){const r=this.splitByGrapheme,n=r?"":" ";let i=0;return{wordsData:e.map((s,a)=>{let o=0;const l=r?this.graphemeSplit(s):this.wordSplit(s);return l.length===0?[{word:[],width:0}]:l.map(c=>{const u=r?[c]:this.graphemeSplit(c),d=this._measureWord(u,a,o);return i=Math.max(d,i),o+=u.length+n.length,{word:u,width:d}})}),largestWordWidth:i}}_measureWord(e,r){let n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=0;for(let a=0,o=e.length;a<o;a++)s+=this._getGraphemeBox(e[a],r,a+i,n,!0).kernedWidth,n=e[a];return s}wordSplit(e){return e.split(this._wordJoiners)}_wrapLine(e,r,n){let{largestWordWidth:i,wordsData:s}=n,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const o=this._getWidthOfCharSpacing(),l=this.splitByGrapheme,c=[],u=l?"":" ";let d=0,A=[],f=0,p=0,m=!0;r-=a;const y=Math.max(r,i,this.dynamicMinWidth),g=s[e];let v;for(f=0,v=0;v<g.length;v++){const{word:x,width:b}=g[v];f+=x.length,d+=p+b-o,d>y&&!m?(c.push(A),A=[],d=b,m=!0):d+=o,m||l||A.push(u),A=A.concat(x),p=l?0:this._measureWord([u],e,f),f++,m=!1}return v&&c.push(A),i+a>this.dynamicMinWidth&&(this.dynamicMinWidth=i-o+a),c}isEndOfWrapping(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}missingNewlineOffset(e,r){return this.splitByGrapheme&&!r?this.isEndOfWrapping(e)?1:0:1}_splitTextIntoLines(e){const r=super._splitTextIntoLines(e),n=this._wrapText(r.lines,this.width),i=new Array(n.length);for(let s=0;s<n.length;s++)i[s]=n[s].join("");return r.lines=i,r.graphemeLines=n,r}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const e=new Map;for(const r in this._styleMap){const n=parseInt(r,10);if(this._textLines[n]){const i=this._styleMap[r].line;e.set("".concat(i),!0)}}for(const r in this.styles)e.has(r)||delete this.styles[r]}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...e])}};K($d,"type","Textbox"),K($d,"textLayoutProperties",[...Y0.textLayoutProperties,"width"]),K($d,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),Ue.setClass($d);let vU=class extends y5{shouldPerformLayout(e){return!!e.target.clipPath&&super.shouldPerformLayout(e)}shouldLayoutClipPath(){return!1}calcLayoutResult(e,r){const{target:n}=e,{clipPath:i,group:s}=n;if(!i||!this.shouldPerformLayout(e))return;const{width:a,height:o}=kl(Oee(n,i)),l=new ue(a,o);if(i.absolutePositioned)return{center:wA(i.getRelativeCenterPoint(),void 0,s?s.calcTransformMatrix():void 0),size:l};{const c=i.getRelativeCenterPoint().transform(n.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){const{center:u=new ue,correction:d=new ue}=this.calcBoundingBox(r,e)||{};return{center:u.add(c),correction:d.subtract(c),size:l}}return{center:n.getRelativeCenterPoint().add(c),size:l}}}};K(vU,"type","clip-path"),Ue.setClass(vU);let xU=class extends y5{getInitialSize(e,r){let{target:n}=e,{size:i}=r;return new ue(n.width||i.x,n.height||i.y)}};K(xU,"type","fixed"),Ue.setClass(xU);let NTe=class extends Zg{subscribeTargets(e){const r=e.target;e.targets.reduce((n,i)=>(i.parent&&n.add(i.parent),n),new Set).forEach(n=>{n.layoutManager.subscribeTargets({target:n,targets:[r]})})}unsubscribeTargets(e){const r=e.target,n=r.getObjects();e.targets.reduce((i,s)=>(s.parent&&i.add(s.parent),i),new Set).forEach(i=>{!n.some(s=>s.parent===i)&&i.layoutManager.unsubscribeTargets({target:i,targets:[r]})})}},g2=class D9 extends xx{static getDefaults(){return X(X({},super.getDefaults()),D9.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,D9.ownDefaults),this.setOptions(r);const{left:n,top:i,layoutManager:s}=r;this.groupInit(e,{left:n,top:i,layoutManager:s??new NTe})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.multiSelectionStacking==="selection-order"?this.add(...r):r.forEach(i=>{const s=this._objects.findIndex(o=>o.isInFrontOf(i)),a=s===-1?this.size():s;this.insertAt(a,i)})}canEnterGroup(e){return this.getObjects().some(r=>r.isDescendantOf(e)||e.isDescendantOf(r))?(Eu("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(e)}enterGroup(e,r){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,r)}exitGroup(e,r){this._exitGroup(e,r),e.parent&&e.parent._enterGroup(e,!0)}_onAfterObjectsChange(e,r){super._onAfterObjectsChange(e,r);const n=new Set;r.forEach(i=>{const{parent:s}=i;s&&n.add(s)}),e===jF?n.forEach(i=>{i._onAfterObjectsChange(h3,r)}):n.forEach(i=>{i._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(e,r,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const i=X(X({hasControls:!1},n),{},{forActiveSelection:!0});for(let s=0;s<this._objects.length;s++)this._objects[s]._renderControls(e,i);super._renderControls(e,r),e.restore()}};K(g2,"type","ActiveSelection"),K(g2,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),Ue.setClass(g2),Ue.setClass(g2,"activeSelection");let jTe=class{constructor(){K(this,"resources",{})}applyFilters(e,r,n,i,s){const a=s.getContext("2d");if(!a)return;a.drawImage(r,0,0,n,i);const o={sourceWidth:n,sourceHeight:i,imageData:a.getImageData(0,0,n,i),originalEl:r,originalImageData:a.getImageData(0,0,n,i),canvasEl:s,ctx:a,filterBackend:this};e.forEach(c=>{c.applyTo(o)});const{imageData:l}=o;return l.width===n&&l.height===i||(s.width=l.width,s.height=l.height),a.putImageData(l,0,0),o}},cte=class{constructor(){let{tileSize:e=Mt.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};K(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),K(this,"resources",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(e,r){this.dispose(),this.createWebGLCanvas(e,r)}createWebGLCanvas(e,r){const n=To({width:e,height:r}),i=n.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});i&&(i.clearColor(0,0,0,0),this.canvas=n,this.gl=i)}applyFilters(e,r,n,i,s,a){const o=this.gl,l=s.getContext("2d");if(!o||!l)return;let c;a&&(c=this.getCachedTexture(a,r));const u={originalWidth:r.width||r.naturalWidth||0,originalHeight:r.height||r.naturalHeight||0,sourceWidth:n,sourceHeight:i,destinationWidth:n,destinationHeight:i,context:o,sourceTexture:this.createTexture(o,n,i,c?void 0:r),targetTexture:this.createTexture(o,n,i),originalTexture:c||this.createTexture(o,n,i,c?void 0:r),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:s},d=o.createFramebuffer();return o.bindFramebuffer(o.FRAMEBUFFER,d),e.forEach(A=>{A&&A.applyTo(u)}),function(A){const f=A.targetCanvas,p=f.width,m=f.height,y=A.destinationWidth,g=A.destinationHeight;p===y&&m===g||(f.width=y,f.height=g)}(u),this.copyGLTo2D(o,u),o.bindTexture(o.TEXTURE_2D,null),o.deleteTexture(u.sourceTexture),o.deleteTexture(u.targetTexture),o.deleteFramebuffer(d),l.setTransform(1,0,0,1,0,0),u}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(e,r,n,i,s){const{NEAREST:a,TEXTURE_2D:o,RGBA:l,UNSIGNED_BYTE:c,CLAMP_TO_EDGE:u,TEXTURE_MAG_FILTER:d,TEXTURE_MIN_FILTER:A,TEXTURE_WRAP_S:f,TEXTURE_WRAP_T:p}=e,m=e.createTexture();return e.bindTexture(o,m),e.texParameteri(o,d,s||a),e.texParameteri(o,A,s||a),e.texParameteri(o,f,u),e.texParameteri(o,p,u),i?e.texImage2D(o,0,l,l,c,i):e.texImage2D(o,0,l,r,n,0,l,c,null),m}getCachedTexture(e,r,n){const{textureCache:i}=this;if(i[e])return i[e];{const s=this.createTexture(this.gl,r.width,r.height,r,n);return s&&(i[e]=s),s}}evictCachesForKey(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}copyGLTo2D(e,r){const n=e.canvas,i=r.targetCanvas,s=i.getContext("2d");if(!s)return;s.translate(0,i.height),s.scale(1,-1);const a=n.height-i.height;s.drawImage(n,0,a,i.width,i.height,0,0,i.width,i.height)}copyGLTo2DPutImageData(e,r){const n=r.targetCanvas.getContext("2d"),i=r.destinationWidth,s=r.destinationHeight,a=i*s*4;if(!n)return;const o=new Uint8Array(this.imageBuffer,0,a),l=new Uint8ClampedArray(this.imageBuffer,0,a);e.readPixels(0,0,i,s,e.RGBA,e.UNSIGNED_BYTE,o);const c=new ImageData(l,i,s);n.putImageData(c,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const e=this.gl,r={renderer:"",vendor:""};if(!e)return r;const n=e.getExtension("WEBGL_debug_renderer_info");if(n){const i=e.getParameter(n.UNMASKED_RENDERER_WEBGL),s=e.getParameter(n.UNMASKED_VENDOR_WEBGL);i&&(r.renderer=i.toLowerCase()),s&&(r.vendor=s.toLowerCase())}return this.gpuInfo=r,r}},c7;function ITe(){const{WebGLProbe:t}=Fo();return t.queryWebGL(Oa()),Mt.enableGLFiltering&&t.isSupported(Mt.textureSize)?new cte({tileSize:Mt.textureSize}):new jTe}function u7(){return!c7&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(c7=ITe()),c7}const OTe=["filters","resizeFilter","src","crossOrigin","type"],ute=["cropX","cropY"];let qn=class bx extends Zn{static getDefaults(){return X(X({},super.getDefaults()),bx.ownDefaults)}constructor(e,r){super(),K(this,"_lastScaleX",1),K(this,"_lastScaleY",1),K(this,"_filterScalingX",1),K(this,"_filterScalingY",1),this.filters=[],Object.assign(this,bx.ownDefaults),this.setOptions(r),this.cacheKey="texture".concat(Mu()),this.setElement(typeof e=="string"?(this.canvas&&wa(this.canvas.getElement())||Cf()).getElementById(e):e,r)}getElement(){return this._element}setElement(e){var r;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(n),(r=e.classList)===null||r===void 0||r.add(bx.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(e){const r=u7(!1);r instanceof cte&&r.evictCachesForKey(e)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(e=>{const r=this[e];r&&Fo().dispose(r),this[e]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}_stroke(e){if(!this.stroke||this.strokeWidth===0)return;const r=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-r,-n),e.lineTo(r,-n),e.lineTo(r,n),e.lineTo(-r,n),e.lineTo(-r,-n),e.closePath()}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=[];return this.filters.forEach(n=>{n&&r.push(n.toObject())}),X(X({},super.toObject([...ute,...e])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:r},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const e=[],r=this._element,n=-this.width/2,i=-this.height/2;let s=[],a=[],o="",l="";if(!r)return[];if(this.hasCrop()){const c=Mu();s.push('<clipPath id="imageCrop_'+c+`">
`,'	<rect x="'+n+'" y="'+i+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),o=' clip-path="url(#imageCrop_'+c+')" '}if(this.imageSmoothing||(l=' image-rendering="optimizeSpeed"'),e.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(n-this.cropX,'" y="').concat(i-this.cropY,'" width="').concat(r.width||r.naturalWidth,'" height="').concat(r.height||r.naturalHeight,'"').concat(l).concat(o,`></image>
`)),this.stroke||this.strokeDashArray){const c=this.fill;this.fill=null,a=['	<rect x="'.concat(n,'" y="').concat(i,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=c}return s=this.paintFirst!==un?s.concat(a,e):s.concat(e,a),s}getSrc(e){const r=e?this._element:this._originalElement;return r?r.toDataURL?r.toDataURL():this.srcFromAttribute?r.getAttribute("src")||"":r.src:this.src||""}getSvgSrc(e){return this.getSrc(e)}setSrc(e){let{crossOrigin:r,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return mx(e,{crossOrigin:r,signal:n}).then(i=>{r!==void 0&&this.set({crossOrigin:r}),this.setElement(i)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const e=this.resizeFilter,r=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),i=n.x,s=n.y,a=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||i>r&&s>r)return this._element=a,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=i,void(this._lastScaleY=s);const o=To(a),{width:l,height:c}=a;this._element=o,this._lastScaleX=e.scaleX=i,this._lastScaleY=e.scaleY=s,u7().applyFilters([e],a,l,c,this._element),this._filterScalingX=o.width/this._originalElement.width,this._filterScalingY=o.height/this._originalElement.height}applyFilters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(e=e.filter(s=>s&&!s.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),e.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const r=this._originalElement,n=r.naturalWidth||r.width,i=r.naturalHeight||r.height;if(this._element===this._originalElement){const s=To({width:n,height:i});this._element=s,this._filteredEl=s}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,i),this._lastScaleX=1,this._lastScaleY=1);u7().applyFilters(e,this._originalElement,n,i,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(e){e.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}drawCacheOnCanvas(e){e.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(e)}shouldCache(){return this.needsItsOwnCache()}_renderFill(e){const r=this._element;if(!r)return;const n=this._filterScalingX,i=this._filterScalingY,s=this.width,a=this.height,o=Math.max(this.cropX,0),l=Math.max(this.cropY,0),c=r.naturalWidth||r.width,u=r.naturalHeight||r.height,d=o*n,A=l*i,f=Math.min(s*n,c-d),p=Math.min(a*i,u-A),m=-s/2,y=-a/2,g=Math.min(s,c/n-o),v=Math.min(a,u/i-l);r&&e.drawImage(r,d,A,f,p,m,y,g,v)}_needsResize(){const e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:e,height:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this.getOriginalSize();this.width=e||n.width,this.height=r||n.height}parsePreserveAspectRatioAttribute(){const e=yMe(this.preserveAspectRatio||""),r=this.width,n=this.height,i={width:r,height:n};let s,a=this._element.width,o=this._element.height,l=1,c=1,u=0,d=0,A=0,f=0;return!e||e.alignX===Hi&&e.alignY===Hi?(l=r/a,c=n/o):(e.meetOrSlice==="meet"&&(l=c=RFe(this._element,i),s=(r-a*l)/2,e.alignX==="Min"&&(u=-s),e.alignX==="Max"&&(u=s),s=(n-o*c)/2,e.alignY==="Min"&&(d=-s),e.alignY==="Max"&&(d=s)),e.meetOrSlice==="slice"&&(l=c=HFe(this._element,i),s=a-r/l,e.alignX==="Mid"&&(A=s/2),e.alignX==="Max"&&(A=s),s=o-n/c,e.alignY==="Mid"&&(f=s/2),e.alignY==="Max"&&(f=s),a=r/l,o=n/c)),{width:a,height:o,scaleX:l,scaleY:c,offsetLeft:u,offsetTop:d,cropX:A,cropY:f}}static fromObject(e,r){let{filters:n,resizeFilter:i,src:s,crossOrigin:a,type:o}=e,l=yr(e,OTe);return Promise.all([mx(s,X(X({},r),{},{crossOrigin:a})),n&&Yg(n,r),i&&Yg([i],r),f5(l,r)]).then(c=>{let[u,d=[],[A]=[],f={}]=c;return new this(u,X(X({},l),{},{src:s,filters:d,resizeFilter:A},f))})}static fromURL(e){let{crossOrigin:r=null,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return mx(e,{crossOrigin:r,signal:n}).then(s=>new this(s,i))}static async fromElement(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i=Jl(e,this.ATTRIBUTE_NAMES,n);return this.fromURL(i["xlink:href"],r,i).catch(s=>(Eu("log","Unable to parse Image",s),null))}};K(qn,"type","Image"),K(qn,"cacheProperties",[...Yl,...ute]),K(qn,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),K(qn,"CSS_CANVAS","canvas-img"),K(qn,"ATTRIBUTE_NAMES",[...Ku,"x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"]),Ue.setClass(qn),Ue.setSVGClass(qn);m5(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const v5=t=>t.webgl!==void 0,IF="precision highp float",PTe=`
    `.concat(IF,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),UTe=["type"],QTe=["type"],RTe=new RegExp(IF,"g");let An=class{get type(){return this.constructor.type}constructor(){let e=yr(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},UTe);Object.assign(this,this.constructor.defaults,e)}getFragmentSource(){return PTe}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:i="highp"}}=Fo();i!=="highp"&&(r=r.replace(RTe,IF.replace("highp",i)));const s=e.createShader(e.VERTEX_SHADER),a=e.createShader(e.FRAGMENT_SHADER),o=e.createProgram();if(!s||!a||!o)throw new go("Vertex, fragment shader or program creation error");if(e.shaderSource(s,n),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS))throw new go("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(s)));if(e.shaderSource(a,r),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS))throw new go("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(a)));if(e.attachShader(o,s),e.attachShader(o,a),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS))throw new go('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(o)));const l=this.getUniformLocations(e,o)||{};return l.uStepW=e.getUniformLocation(o,"uStepW"),l.uStepH=e.getUniformLocation(o,"uStepH"),{program:o,attributeLocations:this.getAttributeLocations(e,o),uniformLocations:l}}getAttributeLocations(e,r){return{aPosition:e.getAttribLocation(r,"aPosition")}}getUniformLocations(e,r){const n=this.constructor.uniformLocations,i={};for(let s=0;s<n.length;s++)i[n[s]]=e.getUniformLocation(r,n[s]);return i}sendAttributeData(e,r,n){const i=r.aPosition,s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)}_setupFrameBuffer(e){const r=e.context;if(e.passes>1){const n=e.destinationWidth,i=e.destinationHeight;e.sourceWidth===n&&e.sourceHeight===i||(r.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(r,n,i)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e.targetTexture,0)}else r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish()}_swapTextures(e){e.passes--,e.pass++;const r=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=r}isNeutralState(e){return!1}applyTo(e){v5(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){}getCacheKey(){return this.type}retrieveShader(e){const r=this.getCacheKey();return e.programCache[r]||(e.programCache[r]=this.createProgram(e.context)),e.programCache[r]}applyToWebGL(e){const r=e.context,n=this.retrieveShader(e);e.pass===0&&e.originalTexture?r.bindTexture(r.TEXTURE_2D,e.originalTexture):r.bindTexture(r.TEXTURE_2D,e.sourceTexture),r.useProgram(n.program),this.sendAttributeData(r,n.attributeLocations,e.aPosition),r.uniform1f(n.uniformLocations.uStepW,1/e.sourceWidth),r.uniform1f(n.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(r,n.uniformLocations),r.viewport(0,0,e.destinationWidth,e.destinationHeight),r.drawArrays(r.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(e,r,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,r),e.activeTexture(e.TEXTURE0)}unbindAdditionalTexture(e,r){e.activeTexture(r),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}sendUniformData(e,r){}createHelpLayer(e){if(!e.helpLayer){const{sourceWidth:r,sourceHeight:n}=e,i=To({width:r,height:n});e.helpLayer=i}}toObject(){const e=Object.keys(this.constructor.defaults||{});return X({type:this.type},e.reduce((r,n)=>(r[n]=this[n],r),{}))}toJSON(){return this.toObject()}static async fromObject(e,r){return new this(yr(e,QTe))}};K(An,"type","BaseFilter"),K(An,"uniformLocations",[]);const HTe={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};let y2=class extends An{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(HTe[this.mode],`
        }
      }
      `)}applyTo2d(e){let{imageData:{data:r}}=e;const n=new Wi(this.color).getSource(),i=this.alpha,s=n[0]*i,a=n[1]*i,o=n[2]*i,l=1-i;for(let c=0;c<r.length;c+=4){const u=r[c],d=r[c+1],A=r[c+2];let f,p,m;switch(this.mode){case"multiply":f=u*s/255,p=d*a/255,m=A*o/255;break;case"screen":f=255-(255-u)*(255-s)/255,p=255-(255-d)*(255-a)/255,m=255-(255-A)*(255-o)/255;break;case"add":f=u+s,p=d+a,m=A+o;break;case"difference":f=Math.abs(u-s),p=Math.abs(d-a),m=Math.abs(A-o);break;case"subtract":f=u-s,p=d-a,m=A-o;break;case"darken":f=Math.min(u,s),p=Math.min(d,a),m=Math.min(A,o);break;case"lighten":f=Math.max(u,s),p=Math.max(d,a),m=Math.max(A,o);break;case"overlay":f=s<128?2*u*s/255:255-2*(255-u)*(255-s)/255,p=a<128?2*d*a/255:255-2*(255-d)*(255-a)/255,m=o<128?2*A*o/255:255-2*(255-A)*(255-o)/255;break;case"exclusion":f=s+u-2*s*u/255,p=a+d-2*a*d/255,m=o+A-2*o*A/255;break;case"tint":f=s+u*l,p=a+d*l,m=o+A*l}r[c]=f,r[c+1]=p,r[c+2]=m}}sendUniformData(e,r){const n=new Wi(this.color).getSource();n[0]=this.alpha*n[0]/255,n[1]=this.alpha*n[1]/255,n[2]=this.alpha*n[2]/255,n[3]=this.alpha,e.uniform4fv(r.uColor,n)}};K(y2,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),K(y2,"type","BlendColor"),K(y2,"uniformLocations",["uColor"]),Ue.setClass(y2);const zTe={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},$Te=["type","image"];let v2=class extends An{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return zTe[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(e){const r=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(r,n,r.TEXTURE1),super.applyToWebGL(e),this.unbindAdditionalTexture(r,r.TEXTURE1)}createTexture(e,r){return e.getCachedTexture(r.cacheKey,r.getElement())}calculateMatrix(){const e=this.image,{width:r,height:n}=e.getElement();return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/r,-e.top/n,1]}applyTo2d(e){let{imageData:{data:r,width:n,height:i},filterBackend:{resources:s}}=e;const a=this.image;s.blendImage||(s.blendImage=Oa());const o=s.blendImage,l=o.getContext("2d");o.width!==n||o.height!==i?(o.width=n,o.height=i):l.clearRect(0,0,n,i),l.setTransform(a.scaleX,0,0,a.scaleY,a.left,a.top),l.drawImage(a.getElement(),0,0,n,i);const c=l.getImageData(0,0,n,i).data;for(let u=0;u<r.length;u+=4){const d=r[u],A=r[u+1],f=r[u+2],p=r[u+3],m=c[u],y=c[u+1],g=c[u+2],v=c[u+3];switch(this.mode){case"multiply":r[u]=d*m/255,r[u+1]=A*y/255,r[u+2]=f*g/255,r[u+3]=p*v/255;break;case"mask":r[u+3]=v}}}sendUniformData(e,r){const n=this.calculateMatrix();e.uniform1i(r.uImage,1),e.uniformMatrix3fv(r.uTransformMatrix,!1,n)}toObject(){return X(X({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(e,r){let{type:n,image:i}=e,s=yr(e,$Te);return qn.fromObject(i,r).then(a=>new this(X(X({},s),{},{image:a})))}};K(v2,"type","BlendImage"),K(v2,"defaults",{mode:"multiply",alpha:1}),K(v2,"uniformLocations",["uTransformMatrix","uImage"]),Ue.setClass(v2);let x2=class extends An{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(e){v5(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){e.imageData=this.simpleBlur(e)}simpleBlur(e){let{ctx:r,imageData:n,filterBackend:{resources:i}}=e;const{width:s,height:a}=n;i.blurLayer1||(i.blurLayer1=Oa(),i.blurLayer2=Oa());const o=i.blurLayer1,l=i.blurLayer2;o.width===s&&o.height===a||(l.width=o.width=s,l.height=o.height=a);const c=o.getContext("2d"),u=l.getContext("2d"),d=15,A=.06*this.blur*.5;let f,p,m,y;for(c.putImageData(n,0,0),u.clearRect(0,0,s,a),y=-15;y<=d;y++)f=(Math.random()-.5)/4,p=y/d,m=A*p*s+f,u.globalAlpha=1-Math.abs(p),u.drawImage(o,m,f),c.drawImage(l,0,0),u.globalAlpha=1,u.clearRect(0,0,l.width,l.height);for(y=-15;y<=d;y++)f=(Math.random()-.5)/4,p=y/d,m=A*p*a+f,u.globalAlpha=1-Math.abs(p),u.drawImage(o,f,m),c.drawImage(l,0,0),u.globalAlpha=1,u.clearRect(0,0,l.width,l.height);r.drawImage(o,0,0);const g=r.getImageData(0,0,o.width,o.height);return c.globalAlpha=1,c.clearRect(0,0,o.width,o.height),g}sendUniformData(e,r){const n=this.chooseRightDelta();e.uniform2fv(r.uDelta,n)}isNeutralState(){return this.blur===0}chooseRightDelta(){let e=1;const r=[0,0];this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio);const n=e*this.blur*.12;return this.horizontal?r[0]=n:r[1]=n,r}};K(x2,"type","Blur"),K(x2,"defaults",{blur:0}),K(x2,"uniformLocations",["uDelta"]),Ue.setClass(x2);let b2=class extends An{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=Math.round(255*this.brightness);for(let i=0;i<r.length;i+=4)r[i]+=n,r[i+1]+=n,r[i+2]+=n}isNeutralState(){return this.brightness===0}sendUniformData(e,r){e.uniform1f(r.uBrightness,this.brightness)}};K(b2,"type","Brightness"),K(b2,"defaults",{brightness:0}),K(b2,"uniformLocations",["uBrightness"]),Ue.setClass(b2);const dte={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};let J0=class extends An{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(e){const r=e.imageData.data,n=this.matrix,i=this.colorsOnly;for(let s=0;s<r.length;s+=4){const a=r[s],o=r[s+1],l=r[s+2];if(r[s]=a*n[0]+o*n[1]+l*n[2]+255*n[4],r[s+1]=a*n[5]+o*n[6]+l*n[7]+255*n[9],r[s+2]=a*n[10]+o*n[11]+l*n[12]+255*n[14],!i){const c=r[s+3];r[s]+=c*n[3],r[s+1]+=c*n[8],r[s+2]+=c*n[13],r[s+3]=a*n[15]+o*n[16]+l*n[17]+c*n[18]+255*n[19]}}}sendUniformData(e,r){const n=this.matrix,i=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],s=[n[4],n[9],n[14],n[19]];e.uniformMatrix4fv(r.uColorMatrix,!1,i),e.uniform4fv(r.uConstants,s)}toObject(){return X(X({},super.toObject()),{},{matrix:[...this.matrix]})}};function Ih(t,e){var r;const n=(K(r=class extends J0{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",t),K(r,"defaults",{colorsOnly:!1,matrix:e}),r);return Ue.setClass(n,t),n}K(J0,"type","ColorMatrix"),K(J0,"defaults",dte),K(J0,"uniformLocations",["uColorMatrix","uConstants"]),Ue.setClass(J0);Ih("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);Ih("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);Ih("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);Ih("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);Ih("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);Ih("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);Ih("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);let bU=class extends An{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.subFilters=e.subFilters||[]}applyTo(e){v5(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach(r=>{r.applyTo(e)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(e=>e.toObject())}}isNeutralState(){return!this.subFilters.some(e=>!e.isNeutralState())}static fromObject(e,r){return Promise.all((e.subFilters||[]).map(n=>Ue.getClass(n.type).fromObject(n,r))).then(n=>new this({subFilters:n}))}};K(bU,"type","Composed"),Ue.setClass(bU);let w2=class extends An{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(e){let{imageData:{data:r}}=e;const n=Math.floor(255*this.contrast),i=259*(n+255)/(255*(259-n));for(let s=0;s<r.length;s+=4)r[s]=i*(r[s]-128)+128,r[s+1]=i*(r[s+1]-128)+128,r[s+2]=i*(r[s+2]-128)+128}sendUniformData(e,r){e.uniform1f(r.uContrast,this.contrast)}};K(w2,"type","Contrast"),K(w2,"defaults",{contrast:0}),K(w2,"uniformLocations",["uContrast"]),Ue.setClass(w2);const VTe={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};let C2=class extends An{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return VTe[this.getCacheKey()]}applyTo2d(e){const r=e.imageData,n=r.data,i=this.matrix,s=Math.round(Math.sqrt(i.length)),a=Math.floor(s/2),o=r.width,l=r.height,c=e.ctx.createImageData(o,l),u=c.data,d=this.opaque?1:0;let A,f,p,m,y,g,v,x,b,w,C,S,B;for(C=0;C<l;C++)for(w=0;w<o;w++){for(y=4*(C*o+w),A=0,f=0,p=0,m=0,B=0;B<s;B++)for(S=0;S<s;S++)v=C+B-a,g=w+S-a,v<0||v>=l||g<0||g>=o||(x=4*(v*o+g),b=i[B*s+S],A+=n[x]*b,f+=n[x+1]*b,p+=n[x+2]*b,d||(m+=n[x+3]*b));u[y]=A,u[y+1]=f,u[y+2]=p,u[y+3]=d?n[y+3]:m}e.imageData=c}sendUniformData(e,r){e.uniform1fv(r.uMatrix,this.matrix)}toObject(){return X(X({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}};K(C2,"type","Convolute"),K(C2,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),K(C2,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),Ue.setClass(C2);const hte="Gamma";let S2=class extends An{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.gamma=e.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(e){let{imageData:{data:r}}=e;const n=this.gamma,i=1/n[0],s=1/n[1],a=1/n[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const o=this.rgbValues;for(let l=0;l<256;l++)o.r[l]=255*Math.pow(l/255,i),o.g[l]=255*Math.pow(l/255,s),o.b[l]=255*Math.pow(l/255,a);for(let l=0;l<r.length;l+=4)r[l]=o.r[r[l]],r[l+1]=o.g[r[l+1]],r[l+2]=o.b[r[l+2]]}sendUniformData(e,r){e.uniform3fv(r.uGamma,this.gamma)}isNeutralState(){const{gamma:e}=this;return e[0]===1&&e[1]===1&&e[2]===1}toObject(){return{type:hte,gamma:this.gamma.concat()}}};K(S2,"type",hte),K(S2,"defaults",{gamma:[1,1,1]}),K(S2,"uniformLocations",["uGamma"]),Ue.setClass(S2);const KTe={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};let B2=class extends An{applyTo2d(e){let{imageData:{data:r}}=e;for(let n,i=0;i<r.length;i+=4){const s=r[i],a=r[i+1],o=r[i+2];switch(this.mode){case"average":n=(s+a+o)/3;break;case"lightness":n=(Math.min(s,a,o)+Math.max(s,a,o))/2;break;case"luminosity":n=.21*s+.72*a+.07*o}r[i+2]=r[i+1]=r[i]=n}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return KTe[this.mode]}sendUniformData(e,r){e.uniform1i(r.uMode,1)}isNeutralState(){return!1}};K(B2,"type","Grayscale"),K(B2,"defaults",{mode:"average"}),K(B2,"uniformLocations",["uMode"]),Ue.setClass(B2);const qTe=X(X({},dte),{},{rotation:0});let d7=class extends J0{calculateMatrix(){const e=this.rotation*Math.PI,r=Ql(e),n=Rl(e),i=1/3,s=Math.sqrt(i)*n,a=1-r;this.matrix=[r+a/3,i*a-s,i*a+s,0,0,i*a+s,r+i*a,i*a-s,0,0,i*a-s,i*a+s,r+i*a,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(e){this.calculateMatrix(),super.applyTo(e)}toObject(){return{type:this.type,rotation:this.rotation}}};K(d7,"type","HueRotation"),K(d7,"defaults",qTe),Ue.setClass(d7);class _2 extends An{applyTo2d(e){let{imageData:{data:r}}=e;for(let n=0;n<r.length;n+=4)r[n]=255-r[n],r[n+1]=255-r[n+1],r[n+2]=255-r[n+2],this.alpha&&(r[n+3]=255-r[n+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(e,r){e.uniform1i(r.uInvert,Number(this.invert)),e.uniform1i(r.uAlpha,Number(this.alpha))}}K(_2,"type","Invert"),K(_2,"defaults",{alpha:!1,invert:!0}),K(_2,"uniformLocations",["uInvert","uAlpha"]),Ue.setClass(_2);let k2=class extends An{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=this.noise;for(let i=0;i<r.length;i+=4){const s=(.5-Math.random())*n;r[i]+=s,r[i+1]+=s,r[i+2]+=s}}sendUniformData(e,r){e.uniform1f(r.uNoise,this.noise/255),e.uniform1f(r.uSeed,Math.random())}isNeutralState(){return this.noise===0}};K(k2,"type","Noise"),K(k2,"defaults",{noise:0}),K(k2,"uniformLocations",["uNoise","uSeed"]),Ue.setClass(k2);let E2=class extends An{applyTo2d(e){let{imageData:{data:r,width:n,height:i}}=e;for(let s=0;s<i;s+=this.blocksize)for(let a=0;a<n;a+=this.blocksize){const o=4*s*n+4*a,l=r[o],c=r[o+1],u=r[o+2],d=r[o+3];for(let A=s;A<Math.min(s+this.blocksize,i);A++)for(let f=a;f<Math.min(a+this.blocksize,n);f++){const p=4*A*n+4*f;r[p]=l,r[p+1]=c,r[p+2]=u,r[p+3]=d}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(e,r){e.uniform1f(r.uBlocksize,this.blocksize)}};K(E2,"type","Pixelate"),K(E2,"defaults",{blocksize:4}),K(E2,"uniformLocations",["uBlocksize"]),Ue.setClass(E2);class M2 extends An{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=255*this.distance,i=new Wi(this.color).getSource(),s=[i[0]-n,i[1]-n,i[2]-n],a=[i[0]+n,i[1]+n,i[2]+n];for(let o=0;o<r.length;o+=4){const l=r[o],c=r[o+1],u=r[o+2];l>s[0]&&c>s[1]&&u>s[2]&&l<a[0]&&c<a[1]&&u<a[2]&&(r[o+3]=0)}}sendUniformData(e,r){const n=new Wi(this.color).getSource(),i=this.distance,s=[0+n[0]/255-i,0+n[1]/255-i,0+n[2]/255-i,1],a=[n[0]/255+i,n[1]/255+i,n[2]/255+i,1];e.uniform4fv(r.uLow,s),e.uniform4fv(r.uHigh,a)}}K(M2,"type","RemoveColor"),K(M2,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),K(M2,"uniformLocations",["uLow","uHigh"]),Ue.setClass(M2);let F2=class extends An{sendUniformData(e,r){e.uniform2fv(r.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(r.uTaps,this.taps)}getFilterWindow(){const e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}getCacheKey(){const e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}getFragmentSource(){const e=this.getFilterWindow();return this.generateShader(e)}getTaps(){const e=this.lanczosCreate(this.lanczosLobes),r=this.tempScale,n=this.getFilterWindow(),i=new Array(n);for(let s=1;s<=n;s++)i[s-1]=e(s*r);return i}generateShader(e){const r=new Array(e);for(let n=1;n<=e;n++)r[n-1]="".concat(n,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(e,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(r.map((n,i)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(n,") * uTaps[").concat(i,"] + texture2D(uTexture, vTexCoord - ").concat(n,") * uTaps[").concat(i,`];
              sum += 2.0 * uTaps[`).concat(i,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,super.applyTo(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,super.applyTo(e),e.sourceHeight=e.destinationHeight}applyTo(e){v5(e)?this.applyToForWebgl(e):this.applyTo2d(e)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(e){return r=>{if(r>=e||r<=-e)return 0;if(r<11920929e-14&&r>-11920929e-14)return 1;const n=(r*=Math.PI)/e;return Math.sin(r)/r*Math.sin(n)/n}}applyTo2d(e){const r=e.imageData,n=this.scaleX,i=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/i;const s=r.width,a=r.height,o=Math.round(s*n),l=Math.round(a*i);let c;c=this.resizeType==="sliceHack"?this.sliceByTwo(e,s,a,o,l):this.resizeType==="hermite"?this.hermiteFastResize(e,s,a,o,l):this.resizeType==="bilinear"?this.bilinearFiltering(e,s,a,o,l):this.resizeType==="lanczos"?this.lanczosResize(e,s,a,o,l):new ImageData(o,l),e.imageData=c}sliceByTwo(e,r,n,i,s){const a=e.imageData,o=.5;let l=!1,c=!1,u=r*o,d=n*o;const A=e.filterBackend.resources;let f=0,p=0;const m=r;let y=0;A.sliceByTwo||(A.sliceByTwo=Oa());const g=A.sliceByTwo;(g.width<1.5*r||g.height<n)&&(g.width=1.5*r,g.height=n);const v=g.getContext("2d");for(v.clearRect(0,0,1.5*r,n),v.putImageData(a,0,0),i=Math.floor(i),s=Math.floor(s);!l||!c;)r=u,n=d,i<Math.floor(u*o)?u=Math.floor(u*o):(u=i,l=!0),s<Math.floor(d*o)?d=Math.floor(d*o):(d=s,c=!0),v.drawImage(g,f,p,r,n,m,y,u,d),f=m,p=y,y+=d;return v.getImageData(f,p,i,s)}lanczosResize(e,r,n,i,s){const a=e.imageData.data,o=e.ctx.createImageData(i,s),l=o.data,c=this.lanczosCreate(this.lanczosLobes),u=this.rcpScaleX,d=this.rcpScaleY,A=2/this.rcpScaleX,f=2/this.rcpScaleY,p=Math.ceil(u*this.lanczosLobes/2),m=Math.ceil(d*this.lanczosLobes/2),y={},g={x:0,y:0},v={x:0,y:0};return function x(b){let w,C,S,B,E,M,D,L,I,z,R;for(g.x=(b+.5)*u,v.x=Math.floor(g.x),w=0;w<s;w++){for(g.y=(w+.5)*d,v.y=Math.floor(g.y),E=0,M=0,D=0,L=0,I=0,C=v.x-p;C<=v.x+p;C++)if(!(C<0||C>=r)){z=Math.floor(1e3*Math.abs(C-g.x)),y[z]||(y[z]={});for(let Y=v.y-m;Y<=v.y+m;Y++)Y<0||Y>=n||(R=Math.floor(1e3*Math.abs(Y-g.y)),y[z][R]||(y[z][R]=c(Math.sqrt(Math.pow(z*A,2)+Math.pow(R*f,2))/1e3)),S=y[z][R],S>0&&(B=4*(Y*r+C),E+=S,M+=S*a[B],D+=S*a[B+1],L+=S*a[B+2],I+=S*a[B+3]))}B=4*(w*i+b),l[B]=M/E,l[B+1]=D/E,l[B+2]=L/E,l[B+3]=I/E}return++b<i?x(b):o}(0)}bilinearFiltering(e,r,n,i,s){let a,o,l,c,u,d,A,f,p,m,y,g,v,x=0;const b=this.rcpScaleX,w=this.rcpScaleY,C=4*(r-1),S=e.imageData.data,B=e.ctx.createImageData(i,s),E=B.data;for(A=0;A<s;A++)for(f=0;f<i;f++)for(u=Math.floor(b*f),d=Math.floor(w*A),p=b*f-u,m=w*A-d,v=4*(d*r+u),y=0;y<4;y++)a=S[v+y],o=S[v+4+y],l=S[v+C+y],c=S[v+C+4+y],g=a*(1-p)*(1-m)+o*p*(1-m)+l*m*(1-p)+c*p*m,E[x++]=g;return B}hermiteFastResize(e,r,n,i,s){const a=this.rcpScaleX,o=this.rcpScaleY,l=Math.ceil(a/2),c=Math.ceil(o/2),u=e.imageData.data,d=e.ctx.createImageData(i,s),A=d.data;for(let f=0;f<s;f++)for(let p=0;p<i;p++){const m=4*(p+f*i);let y=0,g=0,v=0,x=0,b=0,w=0,C=0;const S=(f+.5)*o;for(let B=Math.floor(f*o);B<(f+1)*o;B++){const E=Math.abs(S-(B+.5))/c,M=(p+.5)*a,D=E*E;for(let L=Math.floor(p*a);L<(p+1)*a;L++){let I=Math.abs(M-(L+.5))/l;const z=Math.sqrt(D+I*I);z>1&&z<-1||(y=2*z*z*z-3*z*z+1,y>0&&(I=4*(L+B*r),C+=y*u[I+3],v+=y,u[I+3]<255&&(y=y*u[I+3]/250),x+=y*u[I],b+=y*u[I+1],w+=y*u[I+2],g+=y))}}A[m]=x/g,A[m+1]=b/g,A[m+2]=w/g,A[m+3]=C/v}return d}};K(F2,"type","Resize"),K(F2,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),K(F2,"uniformLocations",["uDelta","uTaps"]),Ue.setClass(F2);let T2=class extends An{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=-this.saturation;for(let i=0;i<r.length;i+=4){const s=r[i],a=r[i+1],o=r[i+2],l=Math.max(s,a,o);r[i]+=l!==s?(l-s)*n:0,r[i+1]+=l!==a?(l-a)*n:0,r[i+2]+=l!==o?(l-o)*n:0}}sendUniformData(e,r){e.uniform1f(r.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}};K(T2,"type","Saturation"),K(T2,"defaults",{saturation:0}),K(T2,"uniformLocations",["uSaturation"]),Ue.setClass(T2);class D2 extends An{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=-this.vibrance;for(let i=0;i<r.length;i+=4){const s=r[i],a=r[i+1],o=r[i+2],l=Math.max(s,a,o),c=(s+a+o)/3,u=2*Math.abs(l-c)/255*n;r[i]+=l!==s?(l-s)*u:0,r[i+1]+=l!==a?(l-a)*u:0,r[i+2]+=l!==o?(l-o)*u:0}}sendUniformData(e,r){e.uniform1f(r.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}K(D2,"type","Vibrance"),K(D2,"defaults",{vibrance:0}),K(D2,"uniformLocations",["uVibrance"]),Ue.setClass(D2);function Ate(t,e,r){const n=new C9(t,{width:e,height:r,backgroundColor:"white"});Sh.ownDefaults={...Sh.ownDefaults,cornerStyle:"round",cornerStrokeColor:"blue",cornerColor:"red",cornerStyle:"circle",padding:10,transparentCorners:!1,borderColor:"orange",borderScaleFactor:2};const i=new $d("Welcome to Tooty!",{width:260,height:140,left:0,top:0,fontSize:30,backgroundColor:"lightgray",selectable:!1});return n.add(i),n}function x5(){globalThis.instaceReference.mouseDown=!1}function qu(t){t.off("mouse:down"),t.off("mouse:move"),t.off("mouse:up")}globalThis.instaceReference={drawInstance:null,origX:void 0,origY:void 0,mouseDown:!1};globalThis.selectedObject={id:null,object:null};globalThis.options={currentMode:"",currentColor:"#000000",currentWidth:5,fill:!1,group:{}};function WTe({canvas:t,modes:e}){qu(t),t.on("mouse:down",r=>GTe({canvas:t,modes:e,event:r})),t.on("mouse:move",r=>XTe({canvas:t,event:r})),t.on("mouse:up",x5),t.selection=!1,t.hoverCursor="auto",t.isDrawingMode=!1,t.getObjects().map(r=>r.set({selectable:!1}))}function GTe({canvas:t,modes:e,event:r}){globalThis.instaceReference.mouseDown=!0,console.log("mouse in start",globalThis.instaceReference.mouseDown),globalThis.options.currentMode=e.TRIANGLE,console.log("here fnciton even",t.getPointer(r.e));const n=t.getPointer(r.e);globalThis.instaceReference.origX=n==null?void 0:n.x,globalThis.instaceReference.origY=n==null?void 0:n.y,globalThis.instaceReference.drawInstance=new X0({stroke:globalThis.options.currentColor,strokeWidth:globalThis.options.currentWidth,fill:globalThis.options.fill?globalThis.options.currentColor:"transparent",left:globalThis.instaceReference.origX,top:globalThis.instaceReference.origY,width:0,height:0,selectable:!1,controls:{...X0.createControls().controls,delete:new Xr({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,mouseUpHandler:(i,s,a,o)=>{t.remove(s.target)},cursorStyle:"pointer",render:(i,s,a,o,l)=>{i.save(),i.fillStyle="red",i.fillRect(s-10,a-10,20,20),i.strokeStyle="white",i.lineWidth=2,i.beginPath(),i.moveTo(s-5,a-5),i.lineTo(s+5,a+5),i.moveTo(s+5,a-5),i.lineTo(s-5,a+5),i.stroke(),i.restore()}})}}),console.log("coming here"),t.add(globalThis.instaceReference.drawInstance)}function XTe({canvas:t,event:e}){if(console.log("fuck",globalThis.instaceReference.mouseDown),globalThis.instaceReference.mouseDown){console.log("here fnciton even 2",t.getPointer(e.e));const r=t.getPointer(e.e);r.x<globalThis.instaceReference.origX&&globalThis.instaceReference.drawInstance.set("left",r.x),r.y<globalThis.instaceReference.origY&&globalThis.instaceReference.drawInstance.set("top",r.y),globalThis.instaceReference.drawInstance.set({width:Math.abs(r.x-globalThis.instaceReference.origX),height:Math.abs(r.y-globalThis.instaceReference.origY)}),globalThis.instaceReference.drawInstance.setCoords(),t.renderAll()}}function YTe({canvas:t,modes:e}){qu(t),t.on("mouse:down",r=>JTe({canvas:t,modes:e,event:r})),t.on("mouse:move",r=>ZTe({canvas:t,event:r})),t.on("mouse:up",x5),t.selection=!1,t.hoverCursor="auto",t.isDrawingMode=!1,t.getObjects().map(r=>r.set({selectable:!1}))}function JTe({canvas:t,modes:e,event:r}){globalThis.instaceReference.mouseDown=!0,console.log("mouse in start",globalThis.instaceReference.mouseDown),globalThis.options.currentMode=e.TRIANGLE,console.log("here fnciton even",t.getPointer(r.e));const n=t.getPointer(r.e);globalThis.instaceReference.origX=n==null?void 0:n.x,globalThis.instaceReference.origY=n==null?void 0:n.y,globalThis.instaceReference.drawInstance=new cl({stroke:globalThis.options.currentColor,strokeWidth:globalThis.options.currentWidth,fill:globalThis.options.fill?globalThis.options.currentColor:"transparent",left:globalThis.instaceReference.origX,top:globalThis.instaceReference.origY,width:0,height:0,selectable:!1,controls:{...cl.createControls().controls,delete:new Xr({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,mouseUpHandler:(i,s,a,o)=>{t.remove(s.target)},cursorStyle:"pointer",render:(i,s,a,o,l)=>{i.save(),i.fillStyle="red",i.fillRect(s-10,a-10,20,20),i.strokeStyle="white",i.lineWidth=2,i.beginPath(),i.moveTo(s-5,a-5),i.lineTo(s+5,a+5),i.moveTo(s+5,a-5),i.lineTo(s-5,a+5),i.stroke(),i.restore()}})}}),console.log("coming here"),t.add(globalThis.instaceReference.drawInstance)}function ZTe({canvas:t,event:e}){if(console.log("fuck",globalThis.instaceReference.mouseDown),globalThis.instaceReference.mouseDown){console.log("here fnciton even 2",t.getPointer(e.e));const r=t.getPointer(e.e);r.x<globalThis.instaceReference.origX&&globalThis.instaceReference.drawInstance.set("left",r.x),r.y<globalThis.instaceReference.origY&&globalThis.instaceReference.drawInstance.set("top",r.y),globalThis.instaceReference.drawInstance.set({width:Math.abs(r.x-globalThis.instaceReference.origX),height:Math.abs(r.y-globalThis.instaceReference.origY)}),globalThis.instaceReference.drawInstance.setCoords(),t.renderAll()}}function eDe({canvas:t,modes:e}){qu(t),t.on("mouse:down",r=>tDe({canvas:t,modes:e,event:r})),t.on("mouse:move",r=>rDe({canvas:t,event:r})),t.on("mouse:up",x5),t.selection=!1,t.hoverCursor="auto",t.isDrawingMode=!1,t.getObjects().map(r=>r.set({selectable:!1}))}function tDe({canvas:t,modes:e,event:r}){globalThis.instaceReference.mouseDown=!0,console.log("mouse in start",globalThis.instaceReference.mouseDown),globalThis.options.currentMode=e.TRIANGLE,console.log("here fnciton even",t.getPointer(r.e));const n=t.getPointer(r.e);globalThis.instaceReference.origX=n==null?void 0:n.x,globalThis.instaceReference.origY=n==null?void 0:n.y,globalThis.instaceReference.drawInstance=new Bd({stroke:globalThis.options.currentColor,strokeWidth:globalThis.options.currentWidth,fill:globalThis.options.fill?globalThis.options.currentColor:"transparent",left:globalThis.instaceReference.origX,top:globalThis.instaceReference.origY,selectable:!1,controls:{...Nc.createControls().controls,delete:new Xr({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,backgroundColor:"tranparent",mouseUpHandler:(i,s,a,o)=>{t.remove(s.target)},cursorStyle:"pointer",render:(i,s,a,o,l)=>{i.save(),i.fillStyle="red",i.fillRect(s-10,a-10,20,20),i.strokeStyle="white",i.lineWidth=2,i.beginPath(),i.moveTo(s-5,a-5),i.lineTo(s+5,a+5),i.moveTo(s+5,a-5),i.lineTo(s-5,a+5),i.stroke(),i.restore()}})}}),console.log("coming here"),t.add(globalThis.instaceReference.drawInstance)}function rDe({canvas:t,event:e}){if(console.log("fuck",globalThis.instaceReference.mouseDown),globalThis.instaceReference.mouseDown){console.log("here fnciton even 2",t.getPointer(e.e));const r=t.getPointer(e.e);r.x<globalThis.instaceReference.origX&&globalThis.instaceReference.drawInstance.set("left",r.x),r.y<globalThis.instaceReference.origY&&globalThis.instaceReference.drawInstance.set("top",r.y),globalThis.instaceReference.drawInstance.set({rx:Math.abs(r.x-globalThis.instaceReference.origX)/2,ry:Math.abs(r.y-globalThis.instaceReference.origY)/2}),globalThis.instaceReference.drawInstance.setCoords(),t.renderAll()}}function nDe({canvas:t,modes:e}){qu(t),t.on("mouse:down",r=>iDe({canvas:t,modes:e,event:r})),t.on("mouse:move",r=>sDe({canvas:t,event:r})),t.on("mouse:up",x5),t.selection=!1,t.hoverCursor="auto",t.isDrawingMode=!1,t.getObjects().map(r=>r.set({selectable:!1}))}function iDe({canvas:t,modes:e,event:r}){globalThis.instaceReference.mouseDown=!0,console.log("mouse in start",globalThis.instaceReference.mouseDown),globalThis.options.currentMode=e.TRIANGLE,console.log("here fnciton even",t.getPointer(r.e));const n=t.getPointer(r.e);globalThis.instaceReference.origX=n==null?void 0:n.x,globalThis.instaceReference.origY=n==null?void 0:n.y,globalThis.instaceReference.drawInstance=new Td([n.x,n.y,n.x,n.y],{strokeWidth:globalThis.options.currentWidth,stroke:globalThis.options.currentColor,selectable:!1,controls:{...Td.createControls().controls,delete:new Xr({x:.3,y:-.5,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,mouseUpHandler:(i,s,a,o)=>{t.remove(s.target)},cursorStyle:"pointer",render:(i,s,a,o,l)=>{i.save(),i.fillStyle="red",i.fillRect(s-10,a-10,20,20),i.strokeStyle="white",i.lineWidth=2,i.beginPath(),i.moveTo(s-5,a-5),i.lineTo(s+5,a+5),i.moveTo(s+5,a-5),i.lineTo(s-5,a+5),i.stroke(),i.restore()}})}}),console.log("coming here"),t.add(globalThis.instaceReference.drawInstance)}function sDe({canvas:t,event:e}){if(console.log("fuck",globalThis.instaceReference.mouseDown),globalThis.instaceReference.mouseDown){const r=t.getPointer(e.e);globalThis.instaceReference.drawInstance.set({x2:r.x,y2:r.y}),globalThis.instaceReference.drawInstance.setCoords(),t.requestRenderAll()}}function aDe({canvas:t}){qu(t),t.isDrawingMode=!1;const e=new $d("text",{left:100,top:100,width:100,height:100,fontSize:30,fill:globalThis.options.currentColor,editable:!0,backgroundColor:"transparent",id:Date.now(),controls:{...$d.createControls().controls,delete:new Xr({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,mouseUpHandler:(r,n,i,s)=>{t.remove(n.target)},cursorStyle:"pointer",render:(r,n,i,s,a)=>{r.save(),r.fillStyle="red",r.fillRect(n-10,i-10,20,20),r.strokeStyle="white",r.lineWidth=2,r.beginPath(),r.moveTo(n-5,i-5),r.lineTo(n+5,i+5),r.moveTo(n+5,i-5),r.lineTo(n-5,i+5),r.stroke(),r.restore()}})}});console.log("text",e),t.add(e),t.renderAll()}function oDe({canvas:t}){qu(t),t.freeDrawingBrush=new Zee(t),t.freeDrawingBrush.width=parseInt(globalThis.options.currentWidth,10)||1,t.freeDrawingBrush.color=globalThis.options.currentColor||"black",t.isDrawingMode=!0}function lDe({canvas:t}){globalThis.options.currentMode="",t.isDrawingMode=!1,qu(t),t.getObjects().map(e=>(e==null?void 0:e.type)!="path"?e.set({selectable:!0}):e.set({selectable:!1})),console.log("eklee",t.getObjects()),t.hoverCursor="all-scroll"}function cDe({canvas:t}){qu(t),t.on("mouse:down",()=>t.isDrawingMode=!0),t.freeDrawingBrush=new Zee(t),t.freeDrawingBrush.color="white",t.freeDrawingBrush.width=10}var uDe=Object.defineProperty,dDe=Object.defineProperties,hDe=Object.getOwnPropertyDescriptors,m3=Object.getOwnPropertySymbols,fte=Object.prototype.hasOwnProperty,pte=Object.prototype.propertyIsEnumerable,wU=(t,e,r)=>e in t?uDe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,U=(t,e)=>{for(var r in e||(e={}))fte.call(e,r)&&wU(t,r,e[r]);if(m3)for(var r of m3(e))pte.call(e,r)&&wU(t,r,e[r]);return t},W=(t,e)=>dDe(t,hDe(e)),CU=t=>typeof t=="symbol"?t:t+"",g3=(t,e)=>{var r={};for(var n in t)fte.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&m3)for(var n of m3(t))e.indexOf(n)<0&&pte.call(t,n)&&(r[n]=t[n]);return r};function bn(t){return Array.isArray(t)}var ADe={en:{"keyboard.tooltip.symbols":"Symbols","keyboard.tooltip.greek":"Greek Letters","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.alphabetic":"Roman Letters","tooltip.copy to clipboard":"Copy to Clipboard","tooltip.cut to clipboard":"Cut to Clipboard","tooltip.paste from clipboard":"Paste from Clipboard","tooltip.redo":"Redo","tooltip.toggle virtual keyboard":"Toggle Virtual Keyboard","tooltip.menu":"Menu","tooltip.undo":"Undo","menu.borders":"Borders","menu.insert matrix":"Insert Matrix","menu.array.add row above":"Add Row Before","menu.array.add row below":"Add Row After","menu.array.add column after":"Add Column After","menu.array.add column before":"Add Column Before","menu.array.delete row":"Delete Row","menu.array.delete rows":"Delete Selected Rows","menu.array.delete column":"Delete Column","menu.array.delete columns":"Delete Selected Columns","menu.mode":"Mode","menu.mode-math":"Math","menu.mode-text":"Text","menu.mode-latex":"LaTeX","menu.insert":"Insert","menu.insert.abs":"Absolute Value","menu.insert.abs-template":"\\left|x\\right|","menu.insert.nth-root":"n<sup>th</sup> Root","menu.insert.nth-root-template":"\\sqrt[n]{x}","menu.insert.log-base":"Logarithm base a","menu.insert.log-base-template":"\\log_a(x)","menu.insert.heading-calculus":"Calculus","menu.insert.derivative":"Derivative","menu.insert.derivative-template":"\\dfrac{\\mathrm{d}}{\\mathrm{d}x}f(x)\\bigm|_{x=a}","menu.insert.nth-derivative":"n<sup>th</sup> derivative","menu.insert.nth-derivative-template":"\\dfrac{\\mathrm{d}^n}{\\mathrm{d}x^n}f(x)\\bigm|_{x=a}","menu.insert.integral":"Integral","menu.insert.integral-template":"$\\int_a^b f(x)\\,\\mathrm{d}x$","menu.insert.sum":"Sum","menu.insert.sum-template":"$\\sum_{i=1}^n x_i$","menu.insert.product":"Product","menu.insert.product-template":"\\prod_{i=1}^n x_i","menu.insert.heading-complex-numbers":"Complex Numbers","menu.insert.modulus":"Modulus","menu.insert.modulus-template":"\\lvert z \\rvert","menu.insert.argument":"Argument","menu.insert.argument-template":"\\arg(z)","menu.insert.real-part":"Real Part","menu.insert.real-part-template":"\\Re(z)","menu.insert.imaginary-part":"Imaginary Part","menu.insert.imaginary-part-template":"\\Im(z)","menu.insert.conjugate":"Conjugate","menu.insert.conjugate-template":"\\overline{z}","tooltip.blackboard":"Blackboard","tooltip.bold":"Bold","tooltip.italic":"Italic","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligraphic","tooltip.typewriter":"Typewriter","tooltip.roman-upright":"Roman Upright","tooltip.row-by-col":"%@  %@","menu.font-style":"Font Style","menu.accent":"Accent","menu.decoration":"Decoration","menu.color":"Color","menu.background-color":"Background","menu.evaluate":"Evaluate","menu.simplify":"Simplify","menu.solve":"Solve","menu.solve-for":"Solve for %@","menu.cut":"Cut","menu.copy":"Copy","menu.copy-as-latex":"Copy as LaTeX","menu.copy-as-ascii-math":"Copy as ASCII Math","menu.copy-as-mathml":"Copy as MathML","menu.paste":"Paste","menu.select-all":"Select All","color.red":"Red","color.orange":"Orange","color.yellow":"Yellow","color.lime":"Lime","color.green":"Green","color.teal":"Teal","color.cyan":"Cyan","color.blue":"Blue","color.indigo":"Indigo","color.purple":"Purple","color.magenta":"Magenta","color.black":"Black","color.dark-grey":"Dark Grey","color.grey":"Grey","color.light-grey":"Light Grey","color.white":"White"},ar:{"keyboard.tooltip.symbols":"  ","keyboard.tooltip.greek":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":"  ","tooltip.copy to clipboard":"  ","tooltip.cut to clipboard":"  ","tooltip.paste from clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":" ","menu.borders":" ","menu.array.add row above":"   ","menu.array.add row below":"  ","menu.array.add column after":"   ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":" ","tooltip.roman-upright":" ","tooltip.row-by-col":"%@  %@","menu.font-style":" ","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"  %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":"  LaTeX","menu.copy-as-ascii-math":"  ASCII Math","menu.copy-as-mathml":"  MathML","menu.paste":"","menu.select-all":" ","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":" ","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":" ","color.grey":"","color.light-grey":" ","color.white":""},de:{"keyboard.tooltip.symbols":"Symbole","keyboard.tooltip.greek":"Griechische Buchstaben","keyboard.tooltip.numeric":"Numerisch","keyboard.tooltip.alphabetic":"Rmische Buchstaben","tooltip.copy to clipboard":"In die Zwischenablage kopieren","tooltip.redo":"Wiederholen","tooltip.toggle virtual keyboard":"Virtuelle Tastatur umschalten","tooltip.undo":"Widerrufen","menu.insert matrix":"Matrix einfgen","menu.borders":"Matrixtrennzeichen","menu.array.add row above":"Zeile hinzufgen nach","menu.array.add row below":"Zeile hinzufgen vor","menu.array.add column after":"Spalte hinzufgen nach","menu.array.add column before":"Spalte hinzufgen vor","menu.array.delete row":"Zeile lschen","menu.array.delete rows":"Ausgewhlte Zeilen lschen","menu.array.delete column":"Spalte lschen","menu.array.delete columns":"Ausgewhlte Spalten lschen","menu.mode":"Modus","menu.mode-math":"Mathematik","menu.mode-text":"Text","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tafel","tooltip.bold":"Fett","tooltip.italic":"Kursiv","tooltip.fraktur":"Fraktur","tooltip.script":"Skript","tooltip.caligraphic":"Kalligraphie","tooltip.typewriter":"Schreibmaschine","tooltip.roman-upright":"Rmisch aufrecht","tooltip.row-by-col":"%@  %@","menu.font-style":"Schriftstil","menu.accent":"Akzent","menu.decoration":"Dekoration","menu.color":"Farbe","menu.background-color":"Hintergrund","menu.evaluate":"Auswerten","menu.simplify":"Vereinfachen","menu.solve":"Lsen","menu.solve-for":"Lsen fr %@","menu.cut":"Ausschneiden","menu.copy":"Kopieren","menu.copy-as-latex":"Als LaTeX kopieren","menu.copy-as-ascii-math":"Als ASCII Math kopieren","menu.copy-as-mathml":"Als MathML kopieren","menu.paste":"Einfgen","menu.select-all":"Alles auswhlen","color.red":"Rot","color.orange":"Orange","color.yellow":"Gelb","color.lime":"Limette","color.green":"Grn","color.teal":"Blaugrn","color.cyan":"Cyan","color.blue":"Blau","color.indigo":"Indigo","color.purple":"Lila","color.magenta":"Magenta","color.black":"Schwarz","color.dark-grey":"Dunkelgrau","color.grey":"Grau","color.light-grey":"Hellgrau","color.white":"Wei"},el:{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":"  ","tooltip.undo":"","menu.insert matrix":" ","menu.borders":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":" ","tooltip.roman-upright":" ","tooltip.row-by-col":"%@  %@","menu.font-style":" ","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":" ","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"  %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":"  LaTeX","menu.copy-as-ascii-math":"  ASCII Math","menu.copy-as-mathml":"  MathML","menu.paste":"","menu.select-all":" ","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":" ","color.grey":"","color.light-grey":" ","color.white":""},es:{"keyboard.tooltip.symbols":"Smbolos","keyboard.tooltip.greek":"Letras griegas","keyboard.tooltip.numeric":"Numrico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar al portapapeles","tooltip.redo":"Rehacer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Deshacer","menu.insert matrix":"Aadir Matriz","menu.borders":"Delimitadores de Matriz","menu.array.add row above":"Aadir Lnea Antes","menu.array.add row below":"Aadir Lnea Despues","menu.array.add column after":"Aadir Columna Despues","menu.array.add column before":"Aadir Columna Antes","menu.array.delete row":"Borrar Lnea","menu.array.delete rows":"Borrar Lneas Seleccionadas","menu.array.delete column":"Borrar Columna","menu.array.delete columns":"Borrar Columnas Seleccionadas","menu.mode":"Modo","menu.mode-math":"Matemticas","menu.mode-text":"Texto","menu.mode-latex":"LaTeX","tooltip.blackboard":"Pizarra","tooltip.bold":"Negrita","tooltip.italic":"Cursiva","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligrfico","tooltip.typewriter":"Mquina de escribir","tooltip.roman-upright":"Romano Vertical","tooltip.row-by-col":"%@  %@","menu.font-style":"Estilo de fuente","menu.accent":"Acento","menu.decoration":"Decoracin","menu.color":"Color","menu.background-color":"Fondo","menu.evaluate":"Evaluar","menu.simplify":"Simplificar","menu.solve":"Resolver","menu.solve-for":"Resolver para %@","menu.cut":"Cortar","menu.copy":"Copiar","menu.copy-as-latex":"Copiar como LaTeX","menu.copy-as-ascii-math":"Copiar como ASCII Math","menu.copy-as-mathml":"Copiar como MathML","menu.paste":"Pegar","menu.select-all":"Seleccionar todo","color.red":"Rojo","color.orange":"Naranja","color.yellow":"Amarillo","color.lime":"Lima","color.green":"Verde","color.teal":"Verde azulado","color.cyan":"Cian","color.blue":"Azul","color.indigo":"ndigo","color.purple":"Morado","color.magenta":"Magenta","color.black":"Negro","color.dark-grey":"Gris oscuro","color.grey":"Gris","color.light-grey":"Gris claro","color.white":"Blanco"},fr:{"keyboard.tooltip.symbols":"Symboles","keyboard.tooltip.greek":"Lettres grecques","keyboard.tooltip.numeric":"Numrique","keyboard.tooltip.alphabetic":"Lettres romaines","tooltip.menu":"Menu","tooltip.copy to clipboard":"Copier dans le presse-papiers","tooltip.redo":"Rtablir","tooltip.toggle virtual keyboard":"Afficher/Masquer le clavier virtuel","tooltip.undo":"Annuler","menu.insert matrix":"Insrer une Matrice","menu.borders":"Bords","menu.array.add row above":"Ajouter une Ligne Avant","menu.array.add row below":"Ajouter une Ligne Aprs","menu.array.add column before":"Ajouter une Colonne Avant","menu.array.add column after":"Ajouter une Colonne Aprs","menu.array.delete row":"Enlever une Ligne","menu.array.delete rows":"Enlever les Lignes Slectiones","menu.array.delete column":"Enlever une Colone","menu.array.delete columns":"Enlever les Colonnes Slectiones","menu.mode":"Mode","menu.mode-math":"Math","menu.mode-text":"Text","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tableau noir","tooltip.bold":"Gras","tooltip.italic":"Italique","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Calligraphique","tooltip.typewriter":"Machine  crire","tooltip.roman-upright":"Romain droit","tooltip.row-by-col":"%@  %@","menu.font-style":"Style de police","menu.accent":"Accent","menu.decoration":"Dcoration","menu.color":"Couleur","menu.background-color":"Arrire-plan","menu.evaluate":"valuer","menu.simplify":"Simplifier","menu.solve":"Rsoudre","menu.solve-for":"Rsoudre pour %@","menu.cut":"Couper","menu.copy":"Copier","menu.copy-as-latex":"Copier en LaTeX","menu.copy-as-ascii-math":"Copier en ASCII Math","menu.copy-as-mathml":"Copier en MathML","menu.paste":"Coller","menu.select-all":"Slectionner tout","color.red":"Rouge","color.orange":"Orange","color.yellow":"Jaune","color.lime":"Citron vert","color.green":"Vert","color.teal":"Turquoise","color.cyan":"Cyan","color.blue":"Bleu","color.indigo":"Indigo","color.purple":"Violet","color.magenta":"Magenta","color.black":"Noir","color.dark-grey":"Gris fonc","color.grey":"Gris","color.light-grey":"Gris clair","color.white":"Blanc"},he:{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":" ","tooltip.redo":" ","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":" ","menu.borders":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":" ","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":" ","tooltip.roman-upright":" ","tooltip.row-by-col":"%@  %@","menu.font-style":" ","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"  %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":" LaTeX","menu.copy-as-ascii-math":" ASCII Math","menu.copy-as-mathml":" MathML","menu.paste":"","menu.select-all":" ","color.red":"","color.orange":"","color.yellow":"","color.lime":" ","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":" ","color.grey":"","color.light-grey":" ","color.white":""},it:{"keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Lettere greche","keyboard.tooltip.numeric":"Numerico","keyboard.tooltip.alphabetic":"Lettere romane","tooltip.copy to clipboard":"Copia negli appunti","tooltip.redo":"Rifare","tooltip.toggle virtual keyboard":"Attiva / disattiva la tastiera virtuale","tooltip.undo":"Disfare","menu.insert matrix":"Inserisci una Matrice","menu.borders":"Delimitatori di Matrice","menu.array.add row above":"Aggiungi una Riga Prima","menu.array.add row below":"Aggiungi una Riga Dopo","menu.array.add column before":"Aggiungi una Colonna Prima","menu.array.add column after":"Aggiungi una Colonna Dopo","menu.array.delete row":"Rimuovi una Riga","menu.array.delete rows":"Rimuovi le Righe Selezionate","menu.array.delete column":"Rimuovi una Colonna","menu.array.delete columns":"Rimuovi le Colonne Selezionate","menu.mode":"Modalit","menu.mode-math":"Matematica","menu.mode-text":"Testo","menu.mode-latex":"LaTeX","tooltip.blackboard":"Lavagna","tooltip.bold":"Grassetto","tooltip.italic":"Corsivo","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligrafico","tooltip.typewriter":"Macchina da scrivere","tooltip.roman-upright":"Romano dritto","tooltip.row-by-col":"%@  %@","menu.font-style":"Stile del carattere","menu.accent":"Accento","menu.decoration":"Decorazione","menu.color":"Colore","menu.background-color":"Sfondo","menu.evaluate":"Valuta","menu.simplify":"Semplifica","menu.solve":"Risolvi","menu.solve-for":"Risolvi per %@","menu.cut":"Taglia","menu.copy":"Copia","menu.copy-as-latex":"Copia come LaTeX","menu.copy-as-ascii-math":"Copia come ASCII Math","menu.copy-as-mathml":"Copia come MathML","menu.paste":"Incolla","menu.select-all":"Seleziona tutto","color.red":"Rosso","color.orange":"Arancione","color.yellow":"Giallo","color.lime":"Lime","color.green":"Verde","color.teal":"Verde acqua","color.cyan":"Ciano","color.blue":"Blu","color.indigo":"Indaco","color.purple":"Viola","color.magenta":"Magenta","color.black":"Nero","color.dark-grey":"Grigio scuro","color.grey":"Grigio","color.light-grey":"Grigio chiaro","color.white":"Bianco"},ja:{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":"","tooltip.menu":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.borders":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":"","tooltip.roman-upright":"","tooltip.row-by-col":"%@  %@","menu.font-style":"","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"%@ ","menu.cut":"","menu.copy":"","menu.copy-as-latex":"LaTeX","menu.copy-as-ascii-math":"ASCII Math","menu.copy-as-mathml":"MathML","menu.paste":"","menu.select-all":"","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":"","color.grey":"","color.light-grey":"","color.white":""},ko:{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":"  ","tooltip.redo":" ","tooltip.toggle virtual keyboard":"  ","tooltip.undo":" ","menu.insert matrix":" ","menu.borders":"  ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":"","tooltip.roman-upright":" ","tooltip.row-by-col":"%@  %@","menu.font-style":" ","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"%@  ","menu.cut":"","menu.copy":"","menu.copy-as-latex":"LaTeX ","menu.copy-as-ascii-math":"ASCII Math ","menu.copy-as-mathml":"MathML ","menu.paste":"","menu.select-all":" ","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":" ","color.grey":"","color.light-grey":" ","color.white":""},pl:{"keyboard.tooltip.symbols":"Symbolika","keyboard.tooltip.greek":"Litery greckie","keyboard.tooltip.numeric":"Numeryczne","keyboard.tooltip.alphabetic":"Litery rzymskie","tooltip.copy to clipboard":"Kopiuj do Schowka","tooltip.redo":"Przywr","tooltip.toggle virtual keyboard":"Przecz wirtualn klawiatur","tooltip.undo":"Cofnij","menu.insert matrix":"Wstaw macierz","menu.borders":"Ograniczniki macierzy","menu.array.add row above":"Dodaj wiersz po","menu.array.add row below":"Dodaj wiersz przed","menu.array.add column after":"Dodaj kolumn po","menu.array.add column before":"Dodaj kolumn przed","menu.array.delete row":"Usu wiersz","menu.array.delete rows":"Usu wybrane wiersze","menu.array.delete column":"Usu kolumn","menu.array.delete columns":"Usu wybrane kolumny","menu.mode":"Tryb","menu.mode-math":"Formua","menu.mode-text":"Tekst","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tablica","tooltip.bold":"Pogrubienie","tooltip.italic":"Kursywa","tooltip.fraktur":"Fraktura","tooltip.script":"Skrypt","tooltip.caligraphic":"Kaligraficzny","tooltip.typewriter":"Maszynowy","tooltip.roman-upright":"Rzymski prosto","tooltip.row-by-col":"%@  %@","menu.font-style":"Styl czcionki","menu.accent":"Akcent","menu.decoration":"Dekoracja","menu.color":"Kolor","menu.background-color":"To","menu.evaluate":"Oblicz","menu.simplify":"Upro","menu.solve":"Rozwi","menu.solve-for":"Rozwi dla %@","menu.cut":"Wytnij","menu.copy":"Kopiuj","menu.copy-as-latex":"Kopiuj jako LaTeX","menu.copy-as-ascii-math":"Kopiuj jako ASCII Math","menu.copy-as-mathml":"Kopiuj jako MathML","menu.paste":"Wklej","menu.select-all":"Zaznacz wszystko","color.red":"Czerwony","color.orange":"Pomaraczowy","color.yellow":"ty","color.lime":"Limetkowy","color.green":"Zielony","color.teal":"Turkusowy","color.cyan":"Cyjan","color.blue":"Niebieski","color.indigo":"Indygo","color.purple":"Fioletowy","color.magenta":"Magenta","color.black":"Czarny","color.dark-grey":"Ciemnoszary","color.grey":"Szary","color.light-grey":"Jasnoszary","color.white":"Biay"},pt:{"keyboard.tooltip.symbols":"Smbolos","keyboard.tooltip.greek":"Letras gregas","keyboard.tooltip.numeric":"Numrico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar para rea de transferncia","tooltip.redo":"Refazer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Desfazer","menu.insert matrix":"Inserir Matriz","menu.borders":"Delimitadores de matriz","menu.array.add row above":"Adicionar linha depois","menu.array.add row below":"Adicionar linha antes","menu.array.add column after":"Adicionar coluna depois","menu.array.add column before":"Adicionar coluna antes","menu.array.delete row":"Excluir linha","menu.array.delete rows":"Excluir linhas selecionadas","menu.array.delete column":"Apagar Coluna","menu.array.delete columns":"Excluir Colunas Selecionadas","menu.mode":"Modo","menu.mode-math":"Frmula","menu.mode-text":"Texto","menu.mode-latex":"LaTeX","tooltip.blackboard":"Quadro Negro","tooltip.bold":"Negrito","tooltip.italic":"Itlico","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligrfico","tooltip.typewriter":"Mquina de Escrever","tooltip.roman-upright":"Romano Vertical","tooltip.row-by-col":"%@  %@","menu.font-style":"Estilo da Fonte","menu.accent":"Acento","menu.decoration":"Decorao","menu.color":"Cor","menu.background-color":"Cor de Fundo","menu.evaluate":"Avaliar","menu.simplify":"Simplificar","menu.solve":"Resolver","menu.solve-for":"Resolver para %@","menu.cut":"Recortar","menu.copy":"Copiar","menu.copy-as-latex":"Copiar como LaTeX","menu.copy-as-ascii-math":"Copiar como ASCII Math","menu.copy-as-mathml":"Copiar como MathML","menu.paste":"Colar","menu.select-all":"Selecionar Tudo","color.red":"Vermelho","color.orange":"Laranja","color.yellow":"Amarelo","color.lime":"Verde Lima","color.green":"Verde","color.teal":"Verde-azulado","color.cyan":"Ciano","color.blue":"Azul","color.indigo":"ndigo","color.purple":"Roxo","color.magenta":"Magenta","color.black":"Preto","color.dark-grey":"Cinza Escuro","color.grey":"Cinza","color.light-grey":"Cinza Claro","color.white":"Branco"},uk:{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":"   ","tooltip.redo":"","tooltip.toggle virtual keyboard":"  ","tooltip.undo":"","menu.insert matrix":" ","menu.borders":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":" ","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":"  ","tooltip.roman-upright":" ","tooltip.row-by-col":"%@  %@","menu.font-style":" ","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"  %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":"  LaTeX","menu.copy-as-ascii-math":"  ASCII Math","menu.copy-as-mathml":"  MathML","menu.paste":"","menu.select-all":" ","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"-","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":"-","color.grey":"","color.light-grey":"-","color.white":""},"zh-cn":{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.borders":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"r","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"Fraktur","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":"","tooltip.roman-upright":"","tooltip.row-by-col":"%@  %@","menu.font-style":"","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":" %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":" LaTeX","menu.copy-as-ascii-math":" ASCII Math","menu.copy-as-mathml":" MathML","menu.paste":"","menu.select-all":"","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":"","color.grey":"","color.light-grey":"","color.white":""},"zh-tw":{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.borders":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"Fraktur","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":"","tooltip.roman-upright":"","tooltip.row-by-col":"%@  %@","menu.font-style":"","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":" %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":" LaTeX","menu.copy-as-ascii-math":" ASCII Math","menu.copy-as-mathml":" MathML","menu.paste":"","menu.select-all":"","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":"","color.grey":"","color.light-grey":"","color.white":""}};function ia(){return"window"in globalThis&&"document"in globalThis}function mte(){return"matchMedia"in window?window.matchMedia("(pointer: coarse)").matches:"ontouchstart"in window||navigator.maxTouchPoints>0}function fDe(){try{return window.self!==window.top}catch{return!0}}function gte(){return typeof navigator.vibrate=="function"}function Mf(){var t,e;if(!ia())return"other";let r=(e=(t=navigator.userAgentData)==null?void 0:t.platform)!=null?e:navigator.platform;return/^mac/i.test(r)?navigator.maxTouchPoints===5?"ios":"macos":/^win/i.test(r)?"windows":/android/i.test(navigator.userAgent)?"android":/iphone|ipod|ipad/i.test(navigator.userAgent)?"ios":/\bcros\b/i.test(navigator.userAgent)?"chromeos":"other"}function pDe(){if(!ia())return!0;if(/firefox/i.test(navigator.userAgent)){let t=navigator.userAgent.match(/firefox\/(\d+)/i);return t?parseInt(t[1])>=78:!1}if(/trident/i.test(navigator.userAgent))return!1;if(/edge/i.test(navigator.userAgent)){let t=navigator.userAgent.match(/edg\/(\d+)/i);return t?parseInt(t[1])>=79:!1}return!0}function SU(){return HTMLElement.prototype.hasOwnProperty("popover")}var at={strings:ADe,_locale:"",_dirty:!1,_subscribers:[],_numberFormatter:void 0,get locale(){return at._locale||(at._locale=ia()?navigator.language.slice(0,5):"en-US"),at._locale},set locale(t){at._locale=t,at._numberFormatter=void 0,at.dirty=!0},get numberFormatter(){if(!at._numberFormatter)try{at._numberFormatter=new Intl.NumberFormat(at.locale)}catch{try{at._numberFormatter=new Intl.NumberFormat(at.locale.slice(0,2))}catch{at._numberFormatter=new Intl.NumberFormat("en-US")}}return at._numberFormatter},merge(t,e){if(typeof t=="string"&&e)at.strings[t]=U(U({},at.strings[t]),e),at.dirty=!0;else for(let r of Object.keys(t))at.merge(r,t[r])},get dirty(){return at._dirty},set dirty(t){at._dirty||at._dirty===t||(at._dirty=!0,setTimeout(()=>{at._dirty=!1,this._subscribers.forEach(e=>e==null?void 0:e())},0))},subscribe(t){return at._subscribers.push(t),at._subscribers.length-1},unsubscribe(t){t<0||t>=at._subscribers.length||(at._subscribers[t]=void 0)},update(t){let e=t.querySelectorAll("[data-l10n-tooltip]");for(let r of e){let n=r.getAttribute("data-l10n-tooltip");if(n){let i=Ze(n);i&&r.setAttribute("data-tooltip",i)}}e=t.querySelectorAll("[data-l10n-arial-label]");for(let r of e){let n=r.getAttribute("data-l10n-arial-label");if(n){let i=Ze(n);i&&r.setAttribute("aria-label",i)}}}};function Ze(t,...e){if(t===void 0)return;let r="",n=at.locale;at.strings[n]&&(r=at.strings[n][t]);let i=n.slice(0,2);if(!r&&at.strings[i]&&(r=at.strings[i][t]),r||(r=at.strings.en[t]),!r)return;let s=/(%@|%([0-9]+)\$@)/g,a=s.exec(r),o=0;for(;a;){if(e[o++]){let l=a[2]?parseInt(a[2],10)-1:o-1,c=e[l];typeof c=="number"&&(c=at.numberFormatter.format(c)),r=r.replace(a[1],c)}a=s.exec(r)}return r=r.replace(/%%/g,"%"),r}var mDe={m0:"#3F3D99",m1:"#993D71",m2:"#998B3D",m3:"#3D9956",m4:"#3D5A99",m5:"#993D90",m6:"#996D3D",m7:"#43993D",m8:"#3D7999",m9:"#843D99"},gDe={blue:"#0072BD",orange:"#D95319",yellow:"#EDB120",purple:"#7E2F8E",green:"#77AC30",cyan:"#4DBEEE",red:"#A2142F"},rh={red:"#fbbbb6",orange:"#ffe0c2",yellow:"#fff1c2",lime:"#d0e8b9",green:"#bceac4",teal:"#b9f1f1",cyan:"#b8e5c9",blue:"#b6d9fb",indigo:"#d1c2f0",purple:"#e3baf8",magenta:"#f9c8e0",black:"#353535","dark-grey":"#8C8C8C",grey:"#D0D0D0","light-grey":"#F0F0F0",white:"#ffffff"},nh={red:"#d7170b",orange:"#fe8a2b",yellow:"#ffc02b",lime:"#63b215",green:"#21ba3a",teal:"#17cfcf",cyan:"#13a7ec",blue:"#0d80f2",indigo:"#63c",purple:"#a219e6",magenta:"#eb4799",black:"#000","dark-grey":"#666",grey:"#A6A6A6","light-grey":"#d4d5d2",white:"#ffffff"},yte={Red:"red",Orange:"orange",Yellow:"yellow",LimeGreen:"lime",Green:"green",TealBlue:"teal",Blue:"blue",Violet:"indigo",Purple:"purple",Magenta:"magenta",Black:"black",Gray:"grey",White:"white"},yDe={Apricot:"#FBB982",Aquamarine:"#00B5BE",Bittersweet:"#C04F17",Black:"#221E1F",Blue:"#2D2F92",BlueGreen:"#00B3B8",BlueViolet:"#473992",BrickRed:"#B6321C",Brown:"#792500",BurntOrange:"#F7921D",CadetBlue:"#74729A",CarnationPink:"#F282B4",Cerulean:"#00A2E3",CornflowerBlue:"#41B0E4",Cyan:"#00AEEF",Dandelion:"#FDBC42",DarkOrchid:"#A4538A",Emerald:"#00A99D",ForestGreen:"#009B55",Fuchsia:"#8C368C",Goldenrod:"#FFDF42",Gray:"#949698",Green:"#00A64F",GreenYellow:"#DFE674",JungleGreen:"#00A99A",Lavender:"#F49EC4",Limegreen:"#8DC73E",Magenta:"#EC008C",Mahogany:"#A9341F",Maroon:"#AF3235",Melon:"#F89E7B",MidnightBlue:"#006795",Mulberry:"#A93C93",NavyBlue:"#006EB8",OliveGreen:"#3C8031",Orange:"#F58137",OrangeRed:"#ED135A",Orchid:"#AF72B0",Peach:"#F7965A",Periwinkle:"#7977B8",PineGreen:"#008B72",Plum:"#92268F",ProcessBlue:"#00B0F0",Purple:"#99479B",RawSienna:"#974006",Red:"#ED1B23",RedOrange:"#F26035",RedViolet:"#A1246B",Rhodamine:"#EF559F",RoyalBlue:"#0071BC",RoyalPurple:"#613F99",RubineRed:"#ED017D",Salmon:"#F69289",SeaGreen:"#3FBC9D",Sepia:"#671800",SkyBlue:"#46C5DD",SpringGreen:"#C6DC67",Tan:"#DA9D76",TealBlue:"#00AEB3",Thistle:"#D883B7",Turquoise:"#00B4CE",Violet:"#58429B",VioletRed:"#EF58A0",White:"#FFFFFF",WildStrawberry:"#EE2967",Yellow:"#FFF200",YellowGreen:"#98CC70",YellowOrange:"#FAA21A"};function b5(t){var e,r,n,i,s,a;let o=t.split("!"),l,c,u,d=255,A=255,f=255,p=-1,m=o.length>0&&o[0].startsWith("-");m&&(o[0]=o[0].slice(1));for(let y=0;y<o.length;y++){l=d,c=A,u=f;let g=(e=o[y].trim().match(/^([A-Za-z\d-]+)/))==null?void 0:e[1],v=g==null?void 0:g.toLowerCase(),x=g&&(a=(s=(i=(n=(r=nh[v])!=null?r:nh[yte[g]])!=null?n:gDe[g])!=null?i:yDe[g])!=null?s:mDe[g])!=null?a:o[y].trim(),b=x.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);if(b!=null&&b[1]&&b[2]&&b[3])d=Math.max(0,Math.min(255,Number.parseInt(b[1],16))),A=Math.max(0,Math.min(255,Number.parseInt(b[2],16))),f=Math.max(0,Math.min(255,Number.parseInt(b[3],16)));else if(b=x.match(/^#([\da-f]{3})$/i),b!=null&&b[1]){let w=Number.parseInt(b[1][0],16),C=Number.parseInt(b[1][1],16),S=Number.parseInt(b[1][2],16);d=Math.max(0,Math.min(255,w*16+w)),A=Math.max(0,Math.min(255,C*16+C)),f=Math.max(0,Math.min(255,S*16+S))}else if(b=x.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),b!=null&&b[1]&&b[2]&&b[3])d=Math.max(0,Math.min(255,Number.parseInt(b[1]))),A=Math.max(0,Math.min(255,Number.parseInt(b[2]))),f=Math.max(0,Math.min(255,Number.parseInt(b[3])));else return;p>=0&&(d=(1-p)*d+p*l,A=(1-p)*A+p*c,f=(1-p)*f+p*u,p=-1),y+1<o.length&&(p=Math.max(0,Math.min(100,Number.parseInt(o[++y])))/100)}return p>=0&&(d=p*d+(1-p)*l,A=p*A+(1-p)*c,f=p*f+(1-p)*u),m&&(d=255-d,A=255-A,f=255-f),"#"+("00"+Math.round(d).toString(16)).slice(-2)+("00"+Math.round(A).toString(16)).slice(-2)+("00"+Math.round(f).toString(16)).slice(-2)}function OF(t){var e,r;return t=t.trim(),(r=(e=rh[t.toLowerCase()])!=null?e:rh[yte[t]])!=null?r:b5(t)}function vDe(t){if(!t||t[0]!=="#")return;t=t.slice(1);let e;return t.length<=4?(e={r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16)},t.length===4&&(e.a=parseInt(t[3]+t[3],16)/255)):(e={r:parseInt(t[0]+t[1],16),g:parseInt(t[2]+t[3],16),b:parseInt(t[4]+t[5],16)},t.length===8&&(e.a=parseInt(t[6]+t[7],16)/255)),e&&e.a===void 0&&(e.a=1),e}function h7(t,e,r){return r<0&&(r+=6),r>=6&&(r-=6),r<1?(e-t)*r+t:r<3?e:r<4?(e-t)*(4-r)+t:t}function xDe(t){let[e,r,n]=[t.h,t.s,t.l];e=(e+360)%360/60,n=Math.max(0,Math.min(n,1)),r=Math.max(0,Math.min(r,1));let i=n<=.5?n*(r+1):n+r-n*r,s=n*2-i;return{r:Math.round(255*h7(s,i,e+2)),g:Math.round(255*h7(s,i,e)),b:Math.round(255*h7(s,i,e-2))}}function A7(t){return t<0?0:t>255?255:Math.round(t)}function bDe(t){let{r:e,g:r,b:n}=t,i=((1<<24)+(A7(e)<<16)+(A7(r)<<8)+A7(n)).toString(16).slice(1);return i[0]===i[1]&&i[2]===i[3]&&i[4]===i[5]&&i[6]===i[7]&&(i=i[0]+i[2]+i[4]),"#"+i}function wDe(t){let{r:e,g:r,b:n}=t;e=e/255,r=r/255,n=n/255;let i=Math.min(e,r,n),s=Math.max(e,r,n),a=s-i,o,l;s===i?o=0:e===s?o=(r-n)/a:r===s?o=2+(n-e)/a:n===s&&(o=4+(e-r)/a),o=Math.min(o*60,360),o<0&&(o+=360);let c=(i+s)/2;return s===i?l=0:c<=.5?l=a/(s+i):l=a/(2-s-i),{h:o,s:l,l:c}}function CDe(t){let e=vDe(t);if(!e)return t;let{h:r,s:n,l:i}=wDe(e);return n+=.1,i-=.1,bDe(xDe({h:r,s:n,l:i}))}var vte={60:"\\lt",62:"\\gt",111:"o",38:"\\&",123:"\\lbrace",125:"\\rbrace",91:"\\lbrack",93:"\\rbrack",58:"\\colon",160:"~",172:"\\neg",183:"\\cdot",188:"\\frac{1}{4}",189:"\\frac{1}{2}",190:"\\frac{3}{4}",8304:"^{0}",8305:"^{i}",185:"^{1}",178:"^{2}",179:"^{3}",8224:"\\dagger",8225:"\\ddagger",8230:"\\ldots",8308:"^{4}",8309:"^{5}",8310:"^{6}",8311:"^{7}",8312:"^{8}",8313:"^{9}",8314:"^{+}",8315:"^{-}",8316:"^{=}",8319:"^{n}",8320:"_{0}",8321:"_{1}",8322:"_{2}",8323:"_{3}",8324:"_{4}",8325:"_{5}",8326:"_{6}",8327:"_{7}",8328:"_{8}",8329:"_{9}",8330:"_{+}",8331:"_{-}",8332:"_{=}",8336:"_{a}",8337:"_{e}",8338:"_{o}",8339:"_{x}",8242:"\\prime",39:"\\prime",8592:"\\gets",8594:"\\to",9651:"\\triangle",9661:"\\triangledown",8715:"\\owns",8727:"\\ast",8739:"\\vert",8741:"\\Vert",8743:"\\land",8744:"\\lor",8901:"\\cdot",8904:"\\bowtie",8800:"\\ne",8804:"\\le",8805:"\\ge",8869:"\\bot",10178:"\\perp",10231:"\\biconditional",10232:"\\impliedby",10233:"\\implies",10234:"\\iff",8450:"\\mathbb{C}",8469:"\\mathbb{N}",8473:"\\mathbb{P}",8474:"\\mathbb{Q}",8477:"\\mathbb{R}",8484:"\\mathbb{Z}",8461:"\\mathbb{H}",8476:"\\Re",8465:"\\Im",42:"\\ast",11036:"\\square",9633:"\\square",8720:"\\coprod",8716:"\\not\\ni",9671:"\\diamond",8846:"\\uplus",8851:"\\sqcap",8852:"\\sqcup",8768:"\\wr",8750:"\\oint",8226:"\\textbullet",8722:"-",978:"\\Upsilon"},L9={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},xte=[{start:119808,len:26,offset:65,style:"bold"},{start:119834,len:26,offset:97,style:"bold"},{start:120488,len:25,offset:913,style:"bold"},{start:120514,len:25,offset:945,style:"bold"},{start:119860,len:26,offset:65,style:"italic"},{start:119886,len:26,offset:97,style:"italic"},{start:120546,len:25,offset:913,style:"italic"},{start:120572,len:25,offset:945,style:"italic"},{start:119912,len:26,offset:65,style:"bolditalic"},{start:119938,len:26,offset:97,style:"bolditalic"},{start:120604,len:25,offset:913,style:"bolditalic"},{start:120630,len:25,offset:945,style:"bolditalic"},{start:120782,len:10,offset:48,variant:"main",style:"bold"},{start:119964,len:26,offset:65,variant:"script"},{start:119990,len:26,offset:97,variant:"script"},{start:120016,len:26,offset:65,variant:"script",style:"bold"},{start:120042,len:26,offset:97,variant:"script",style:"bold"},{start:120068,len:26,offset:65,variant:"fraktur"},{start:120094,len:26,offset:97,variant:"fraktur"},{start:120172,len:26,offset:65,variant:"fraktur",style:"bold"},{start:120198,len:26,offset:97,variant:"fraktur",style:"bold"},{start:120120,len:26,offset:65,variant:"double-struck"},{start:120146,len:26,offset:97,variant:"double-struck"},{start:120792,len:10,offset:48,variant:"double-struck"},{start:120432,len:26,offset:65,variant:"monospace"},{start:120458,len:26,offset:97,variant:"monospace"},{start:120822,len:10,offset:48,variant:"monospace"},{start:120224,len:26,offset:65,variant:"sans-serif"},{start:120250,len:26,offset:97,variant:"sans-serif"},{start:120276,len:26,offset:65,variant:"sans-serif",style:"bold"},{start:120302,len:26,offset:97,variant:"sans-serif",style:"bold"},{start:120328,len:26,offset:65,variant:"sans-serif",style:"italic"},{start:120354,len:26,offset:97,variant:"sans-serif",style:"italic"},{start:120380,len:26,offset:65,variant:"sans-serif",style:"bolditalic"},{start:120406,len:26,offset:97,variant:"sans-serif",style:"bolditalic"},{start:120662,len:25,offset:913,variant:"sans-serif",style:"bold"},{start:120688,len:25,offset:945,variant:"sans-serif",style:"bold"},{start:120720,len:25,offset:913,variant:"sans-serif",style:"bolditalic"},{start:120746,len:25,offset:945,variant:"sans-serif",style:"bolditalic"},{start:120803,len:10,offset:48,variant:"sans-serif"},{start:120812,len:10,offset:48,variant:"sans-serif",style:"bold"}];function N9(t,e,r){if(!/[A-Za-z\d]/.test(t)||(r==="up"&&(r=void 0),!e&&!r))return;let n=t.codePointAt(0);if(n===void 0)return t;for(let i of xte)if((!e||i.variant===e)&&(!r||i.style===r)&&n>=i.offset&&n<i.offset+i.len){let s=i.start+n-i.offset;return String.fromCodePoint(L9[s]||s)}}function SDe(t){var e;if((t<119808||t>120831)&&(t<8448||t>8527))return{char:String.fromCodePoint(t)};for(let r in L9)if(L9[r]===t){t=(e=r.codePointAt(0))!=null?e:0;break}for(let r of xte)if(t>=r.start&&t<r.start+r.len)return{char:String.fromCodePoint(t-r.start+r.offset),variant:r.variant,style:r.style};return{char:String.fromCodePoint(t)}}function BDe(t){var e;if("{}<>[]$&*#^_%:'".includes(t)||t.length>1)return;let r=(e=t.codePointAt(0))!=null?e:0,n=vte[r];if(n)return n;let{char:i,variant:s,style:a}=SDe(r);if(!(!s&&!a)){switch(n=i,s){case"double-struck":n=`\\mathbb{${n}}`;break;case"fraktur":n=`\\mathfrak{${n}}`;break;case"script":n=`\\mathscr{${n}}`;break;case"sans-serif":n=`\\mathsf{${n}}`;break;case"monospace":n=`\\mathtt{${n}}`;break;case"calligraphic":n=`\\mathcal{${n}}`;break}switch(a){case"bold":n=`\\mathbf{${n}}`;break;case"italic":n=`\\mathit{${n}}`;break;case"bolditalic":n=`\\mathbfit{${n}}`;break}return n}}function Ee(t){return t?Array.isArray(t)?t:typeof t=="object"&&"group"in t?t.group:[]:[]}var e1={},y3=U({},vte),SA={},PF={},_De={darr:"\\downarrow",dArr:"\\Downarrow",Darr:"\\Downarrow",lang:"\\langle",rang:"\\rangle",uarr:"\\uparrow",uArr:"\\Uparrow",Uarr:"\\Uparrow",C:"\\mathbb{C}",H:"\\mathbb{H}",N:"\\mathbb{N}",Q:"\\mathbb{Q}",R:"\\mathbb{R}",Z:"\\mathbb{Z}",alef:"\\aleph",alefsym:"\\aleph",Alpha:"\\mathrm{A}",Beta:"\\mathrm{B}",bull:"\\bullet",Chi:"\\mathrm{X}",clubs:"\\clubsuit",cnums:"\\mathbb{C}",Complex:"\\mathbb{C}",Dagger:"\\ddagger",diamonds:"\\diamondsuit",doublecap:"\\Cap",doublecup:"\\Cup",empty:"\\emptyset",Epsilon:"\\mathrm{E}",Eta:"\\mathrm{H}",exist:"\\exists",hAar:"\\Leftrightarrow",harr:"\\leftrightarrow",Harr:"\\Leftrightarrow",hearts:"\\heartsuit",image:"\\Im",infin:"\\infty",Iota:"\\mathrm{I}",isin:"\\in",Kappa:"\\mathrm{K}",larr:"\\leftarrow",Larr:"\\Leftarrow",lArr:"\\Leftarrow",lrarr:"\\leftrightarrow",Lrarr:"\\Leftrightarrow",lrArr:"\\Leftrightarrow",Mu:"\\mathrm{M}",natnums:"\\mathbb{N}",Nu:"\\mathrm{N}",Omicron:"\\mathrm{O}",part:"\\partial",plusmn:"\\pm",rarr:"\\rightarrow",Rarr:"\\Rightarrow",rArr:"\\Rightarrow",real:"\\Re",reals:"\\mathbb{R}",Reals:"\\mathbb{R}",restriction:"\\upharpoonright",Rho:"\\mathrm{P}",sdot:"\\cdot",sect:"\\S",spades:"\\spadesuit",sub:"\\subset",sube:"\\subseteq",supe:"\\supseteq",Tau:"\\mathrm{T}",thetasym:"\\vartheta",varcoppa:"\\coppa",weierp:"\\wp",Zeta:"\\mathrm{Z}"},kDe={varGamma:"\\mathit{\\Gamma}",varDelta:"\\mathit{\\Delta}",varTheta:"\\mathit{\\Theta}",varLambda:"\\mathit{\\Lambda}",varXi:"\\mathit{\\Xi}",varPi:"\\mathit{\\Pi}",varSigma:"\\mathit{\\Sigma}",varUpsilon:"\\mathit{\\Upsilon}",varPhi:"\\mathit{\\Phi}",varPsi:"\\mathit{\\Psi}",varOmega:"\\mathit{\\Omega}",pmod:{def:"\\quad(\\operatorname{mod}\\ #1)",args:1,expand:!1,captureSelection:!1},mod:{def:"\\quad\\operatorname{mod}\\,\\,#1",args:1,expand:!1},bmod:{def:"\\;\\mathbin{\\operatorname{mod }}",expand:!1}},EDe={bra:{def:"\\mathinner{\\langle{#1}|}",args:1,captureSelection:!1},ket:{def:"\\mathinner{|{#1}\\rangle}",args:1,captureSelection:!1},braket:{def:"\\mathinner{\\langle{#1}\\rangle}",args:1,captureSelection:!1},set:{def:"\\mathinner{\\lbrace #1 \\rbrace}",args:1,captureSelection:!1},Bra:{def:"\\left\\langle #1\\right|",args:1,captureSelection:!1},Ket:{def:"\\left|#1\\right\\rangle",args:1,captureSelection:!1},Braket:{def:"\\left\\langle{#1}\\right\\rangle",args:1,captureSelection:!1},Set:{def:"\\left\\lbrace #1 \\right\\rbrace",args:1,captureSelection:!1}},MDe={iff:{primitive:!0,captureSelection:!0,def:"\\;\\Longleftrightarrow\\;}"},nicefrac:"^{#1}\\!\\!/\\!_{#2}",phase:{def:"\\enclose{phasorangle}{#1}",args:1,captureSelection:!1},rd:"\\mathrm{d}",rD:"\\mathrm{D}",doubleStruckCapitalN:"\\mathbb{N}",doubleStruckCapitalR:"\\mathbb{R}",doubleStruckCapitalQ:"\\mathbb{Q}",doubleStruckCapitalZ:"\\mathbb{Z}",doubleStruckCapitalP:"\\mathbb{P}",scriptCapitalE:"\\mathscr{E}",scriptCapitalH:"\\mathscr{H}",scriptCapitalL:"\\mathscr{L}",gothicCapitalC:"\\mathfrak{C}",gothicCapitalH:"\\mathfrak{H}",gothicCapitalI:"\\mathfrak{I}",gothicCapitalR:"\\mathfrak{R}",imaginaryI:"\\mathrm{i}",imaginaryJ:"\\mathrm{j}",exponentialE:"\\mathrm{e}",differentialD:"\\mathrm{d}",capitalDifferentialD:"\\mathrm{D}",mathstrut:{def:"\\vphantom{(}",primitive:!0},angl:"\\enclose{actuarial}{#1}",angln:"\\enclose{actuarial}{n}",anglr:"\\enclose{actuarial}{r}",anglk:"\\enclose{actuarial}{k}",mathtools:{primitive:!0,package:{ordinarycolon:":",vcentcolon:"\\mathrel{\\mathop\\ordinarycolon}",dblcolon:'{\\mathop{\\char"2237}}',coloneqq:'{\\mathop{\\char"2254}}',Coloneqq:'{\\mathop{\\char"2a74}}',coloneq:'{\\mathop{\\char"2254}}',Coloneq:'{\\mathop{\\char"2A74}}',eqqcolon:'{\\mathop{\\char"2255}}',Eqqcolon:'{\\mathop{\\char"3D\\char"2237}}',eqcolon:'{\\mathop{\\char"2255}}',Eqcolon:'{\\mathop{\\char"3D\\char"2237}}',colonapprox:'{\\mathop{\\char"003A\\char"2248}}',Colonapprox:'{\\mathop{\\char"2237\\char"2248}}',colonsim:'{\\mathop{\\char"3A\\char"223C}}',Colonsim:'{\\mathop{\\char"2237\\char"223C}}',colondash:"\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}",Colondash:"\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}",dashcolon:"\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Dashcolon:"\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}"}},ratio:"\\vcentcolon",coloncolon:"\\dblcolon",colonequals:"\\coloneq",coloncolonequals:"\\Coloneq",equalscolon:"\\eqcolon",equalscoloncolon:"\\Eqcolon",colonminus:"\\colondash",coloncolonminus:"\\Colondash",minuscolon:"\\dashcolon",minuscoloncolon:"\\Dashcolon",coloncolonapprox:"\\Colonapprox",coloncolonsim:"\\Colonsim",simcolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Simcolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}",simcoloncolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}",approxcolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Approxcolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}",approxcoloncolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}",notni:"\\mathrel{\\char`}",limsup:"\\operatorname*{lim\\,sup}",liminf:"\\operatorname*{lim\\,inf}",injlim:"\\operatorname*{inj\\,lim}",projlim:"\\operatorname*{proj\\,lim}",varlimsup:"\\operatorname*{\\overline{lim}}",varliminf:"\\operatorname*{\\underline{lim}}",varinjlim:"\\operatorname*{\\underrightarrow{lim}}",varprojlim:"\\operatorname*{\\underleftarrow{lim}}",argmin:"\\operatorname*{arg\\,min}",argmax:"\\operatorname*{arg\\,max}",plim:"\\mathop{\\operatorname{plim}}\\limits",tripledash:{def:"\\vphantom{-}\\raise{4mu}{\\mkern1.5mu\\rule{2mu}{1.5mu}\\mkern{2.25mu}\\rule{2mu}{1.5mu}\\mkern{2.25mu}\\rule{2mu}{1.5mu}\\mkern{2mu}}",expand:!0},"braket.sty":{package:EDe},"amsmath.sty":{package:kDe,primitive:!0},"texvc.sty":{package:_De,primitive:!1}},Z0={" ":32,"\\!":33,"\\#":35,"\\$":36,"\\%":37,"\\&":38,"\\_":95,"-":45,"\\textunderscore":95,"\\euro":8364,"\\maltese":10016,"\\{":123,"\\}":125,"\\textbraceleft":123,"\\textbraceright":125,"\\lbrace":123,"\\rbrace":125,"\\lbrack":91,"\\rbrack":93,"\\nobreakspace":160,"\\ldots":8230,"\\textellipsis":8230,"\\backslash":92,"`":8216,"'":8217,"``":8220,"''":8221,"\\degree":176,"\\textasciicircum":94,"\\textasciitilde":126,"\\textasteriskcentered":42,"\\textbackslash":92,"\\textbullet":8226,"\\textdollar":36,"\\textsterling":163,"\\textdagger":8224,"\\textdaggerdbl":8225,"":8211,"":8212,"":8216,"":8217,"":8220,"":8221,'"':8221,"\\ss":223,"\\ae":230,"\\oe":339,"\\AE":198,"\\OE":338,"\\O":216,"\\i":305,"\\j":567,"\\aa":229,"\\AA":197},FDe=/[\w!@*()-=+{}\[\]\\';:?/.,~<>`|$%#&^" ]/,j9,t1;pDe()?(j9=new RegExp("\\p{Letter}","u"),t1=new RegExp("[0-9\\p{Letter}]","u")):(j9=/[a-zA-Z]/,t1=/[\da-zA-Z]/);function I9(t,e,r="mord",n){e!==void 0&&(e1[t]={definitionType:"symbol",type:r,variant:n,codepoint:e},y3[e]||(y3[e]=t))}function fn(t,e,r){if(typeof t=="string"){for(let n=0;n<t.length;n++){let i=t.charAt(n);I9(i,i.codePointAt(0))}return}for(let[n,i,s,a]of t)I9(n,i,s??e,a??r)}function bte(t,e){for(let r=t;r<=e;r++)I9(String.fromCodePoint(r),r)}function TDe(t){var e;return(e=PF[t])!=null?e:null}function DDe(t,e){var r,n;if(e.length===0||e==="\\"||!e.startsWith("\\"))return[];let i=[];for(let a in SA)a.startsWith(e)&&!SA[a].infix&&i.push({match:a,frequency:(r=SA[a].frequency)!=null?r:0});for(let a in e1)a.startsWith(e)&&i.push({match:a,frequency:(n=e1[a].frequency)!=null?n:0});let s=e.substring(1);for(let a of Object.keys(t.options.macros))a.startsWith(s)&&i.push({match:"\\"+a,frequency:0});return i.sort((a,o)=>{var l,c;return a.frequency===o.frequency?a.match.length===o.match.length?a.match<o.match?-1:1:a.match.length-o.match.length:((l=o.frequency)!=null?l:0)-((c=a.frequency)!=null?c:0)}),i.map(a=>a.match)}function BU(t){let e="auto",r=t.match(/:([^=]+)/);return r&&(e=r[1].trim()),e}function v3(t){if(!t)return[];let e=[],r=t.split("]");if(r[0].startsWith("[")){e.push({isOptional:!0,type:BU(r[0].slice(1))});for(let n=1;n<=r.length;n++)e.push(...v3(r[n]))}else if(r=t.split("}"),r[0].startsWith("{")){e.push({isOptional:!1,type:BU(r[0].slice(1))});for(let n=1;n<=r.length;n++)e.push(...v3(r[n]))}return e}function wte(t){if(!t)return"";let e="",r=!0;for(let n of t)typeof n.value=="string"?e+=n.value:r=!1;return r?e:""}function Zl(t,e,r){typeof t=="string"&&(t=[t]);let n={tabular:!0,rootOnly:!1,params:v3(e),createAtom:r};for(let i of t)PF[i]=n}function UF(t,e,r){var n;typeof t=="string"&&(t=[t]);let i={tabular:(n=r==null?void 0:r.tabular)!=null?n:!1,rootOnly:!0,params:[],createAtom:e};for(let s of t)PF[s]=i}function de(t,e,r){var n,i;r||(r={});let s={definitionType:"function",params:v3(e),ifMode:r.ifMode,isFunction:(n=r.isFunction)!=null?n:!1,applyMode:r.applyMode,infix:(i=r.infix)!=null?i:!1,parse:r.parse,createAtom:r.createAtom,applyStyle:r.applyStyle,serialize:r.serialize,render:r.render};if(typeof t=="string")SA["\\"+t]=s;else for(let a of t)SA["\\"+a]=s}var L2;function QF(t){return L2||(L2=O9(MDe)),t?O9(U(U({},L2),t)):L2}function _U(t,e){var r,n,i,s;if(typeof t=="string"){let a=0,o=t;return/(^|[^\\])#1/.test(o)&&(a=1),/(^|[^\\])#2/.test(o)&&(a=2),/(^|[^\\])#3/.test(o)&&(a=3),/(^|[^\\])#4/.test(o)&&(a=4),/(^|[^\\])#5/.test(o)&&(a=5),/(^|[^\\])#6/.test(o)&&(a=6),/(^|[^\\])#7/.test(o)&&(a=7),/(^|[^\\])#8/.test(o)&&(a=8),/(^|[^\\])#9/.test(o)&&(a=9),{expand:(r=e==null?void 0:e.expand)!=null?r:!0,captureSelection:(n=e==null?void 0:e.captureSelection)!=null?n:!0,args:a,def:o}}return U({expand:(i=e==null?void 0:e.expand)!=null?i:!0,captureSelection:(s=e==null?void 0:e.captureSelection)!=null?s:!0,args:0},t)}function O9(t){if(!t)return{};let e={};for(let r of Object.keys(t)){let n=t[r];if(n==null)delete e[r];else if(typeof n=="object"&&"package"in n)for(let i of Object.keys(n.package))e[i]=_U(n.package[i],{expand:!n.primitive,captureSelection:n.captureSelection});else e[r]=_U(n)}return e}function Tn(t,e="math"){if(!t||t.length===0)return null;let r=null;if(t.startsWith("\\")){if(r=SA[t],r)return!r.ifMode||r.ifMode===e?r:null;e==="math"?r=e1[t]:Z0[t]&&(r={definitionType:"symbol",type:"mord",codepoint:Z0[t]})}else if(e==="math"){if(r=e1[t],!r&&t.length===1){let n=Ste("math",t.codePointAt(0));return n.startsWith("\\")?W(U({},Tn(n,"math")),{command:n}):null}}else Z0[t]?r={definitionType:"symbol",type:"mord",codepoint:Z0[t]}:e==="text"&&(r={definitionType:"symbol",type:"mord",codepoint:t.codePointAt(0)});return r??null}function Cte(t,e){if(!t.startsWith("\\"))return null;let r=t.slice(1);return e[r]}function Ste(t,e){return e===void 0?"":t==="math"&&y3[e]?y3[e]:t==="text"&&Object.keys(Z0).find(n=>Z0[n]===e)||String.fromCodePoint(e)}var Ts=[0,.68889,0,0,.72222],nd=[0,.68889,0,0,.66667],f7=[0,.68889,0,0,.77778],N2=[0,.68889,0,0,.61111],kU=[.16667,.68889,0,0,.77778],cp=[0,.68889,0,0,.55556],St=[0,0,0,0,.25],EU=[0,.825,0,0,2.33334],MU=[0,.9,0,0,2.33334],j2=[0,.68889,0,0,.54028],p7=[-.03598,.46402,0,0,.5],Un=[-.13313,.36687,0,0,1],I2=[.01354,.52239,0,0,1],FU=[.01354,.52239,0,0,1.11111],TU=[0,.54986,0,0,1],O2=[0,.69224,0,0,.5],m7=[0,.43056,0,0,1],cc=[.08198,.58198,0,0,.77778],P2=[.19444,.69224,0,0,.41667],U2=[.1808,.675,0,0,1],DU=[.19444,.69224,0,0,.83334],LU=[.13667,.63667,0,0,1],NU=[-.064,.437,0,0,1.334],uc=[.08167,.58167,0,0,.77778],up=[0,.69224,0,0,.72222],g7=[0,.69224,0,0,.66667],Q2=[-.13313,.36687,0,0,.77778],jU=[.06062,.54986,0,0,.77778],R2=[0,.69224,0,0,.77778],t0=[.25583,.75583,0,0,.77778],$a=[.25142,.75726,0,0,.77778],r0=[.20576,.70576,0,0,.77778],ca=[.30274,.79383,0,0,.77778],dp=[.22958,.72958,0,0,.77778],IU=[.1808,.675,0,0,.77778],Va=[.13667,.63667,0,0,.77778],Ci=[.13597,.63597,0,0,.77778],dc=[.03517,.54986,0,0,.77778],n0=[0,.675,0,0,.77778],OU=[.19444,.69224,0,0,.61111],PU=[0,.54986,0,0,.76042],UU=[0,.54986,0,0,.66667],hc=[.0391,.5391,0,0,.77778],QU=[.03517,.54986,0,0,1.33334],RU=[.38569,.88569,0,0,.77778],H2=[.23222,.74111,0,0,.77778],HU=[.19444,.69224,0,0,.77778],zU=[0,.37788,0,0,.5],z2=[0,.54986,0,0,.72222],$U=[0,.69224,0,0,.83334],VU=[.11111,.69224,0,0,.66667],i0=[.26167,.75726,0,0,.77778],KU=[.48256,.98256,0,0,.77778],qU=[.28481,.79383,0,0,.77778],WU=[.08167,.58167,0,0,.22222],GU=[.08167,.58167,0,0,.38889],XU=[0,.43056,.04028,0,.66667],YU=[.41951,.91951,0,0,.77778],JU=[.24982,.74947,0,0,.38865],ZU=[.08319,.58283,0,0,.75623],eQ=[0,.10803,0,0,.27764],y7=[0,.47534,0,0,.50181],hp=[.18906,.47534,0,0,.50181],tQ=[0,.69141,0,0,.50181],rQ=[.24982,.74947,0,0,.27764],v7=[0,.69141,0,0,.21471],$2=[.25,.75,0,0,.44722],Ds=[0,.64444,0,0,.575],s0=[.08556,.58556,0,0,.89444],V2=[0,.69444,0,0,.89444],K2=[0,.68611,0,0,.9],x7=[0,.68611,0,0,.86944],Ac=[.25,.75,0,0,.575],q2=[.25,.75,0,0,.31944],id=[0,.69444,0,0,.63889],a0=[0,.69444,0,0,.31944],nQ=[0,.44444,0,0,.63889],iQ=[0,.44444,0,0,.51111],fc=[0,.69444,0,0,.575],ua=[.13333,.63333,0,0,.89444],sQ=[0,.44444,0,0,.31944],aQ=[0,.69444,0,0,.86944],oQ=[0,.68611,0,0,.69166],W2=[0,.68611,0,0,.83055],b7=[0,.68611,0,0,.89444],w7=[0,.69444,0,0,.60278],lQ=[.19444,.69444,0,0,.51111],cQ=[0,.69444,0,0,.83055],Ka=[-.10889,.39111,0,0,1.14999],uQ=[.19444,.69444,0,0,.575],Ap=[.19444,.69444,0,0,1.14999],dQ=[.19444,.69444,0,0,.70277],hQ=[.05556,.75,0,0,.575],C7=[0,.68611,0,0,.95833],AQ=[.08556,.58556,0,0,.76666],S7=[-.02639,.47361,0,0,.575],fQ=[0,.44444,0,0,.89444],sd=[0,.55556,0,0,.76666],pQ=[-.10889,.39111,0,0,.89444],B7=[.00222,.50222,0,0,.89444],pc=[.19667,.69667,0,0,.89444],mQ=[.08556,.58556,0,0,1.14999],_7=[0,.69444,0,0,.70277],G2=[-.02778,.47222,0,0,.575],X2=[.25,.75,0,0,.51111],gQ=[-.13889,.36111,0,0,1.14999],yQ=[.19444,.69444,0,0,1.02222],Y2=[.12963,.69444,0,0,.89444],vQ=[.19444,.69444,0,0,.44722],mc=[0,.64444,.13167,0,.59111],xQ=[.19444,.64444,.13167,0,.59111],k7=[0,.68611,.17208,0,.8961],bQ=[.19444,.44444,.105,0,.53222],wQ=[0,.44444,.085,0,.82666],CQ=[0,.69444,.06709,0,.59111],J2=[0,.69444,.12945,0,.35555],SQ=[0,.69444,0,0,.94888],E7=[0,.69444,.11472,0,.59111],BQ=[0,.68611,.10778,0,.88555],_Q=[0,.69444,.07939,0,.62055],Z2=[0,.69444,.12417,0,.30667],gc=[0,.64444,.13556,0,.51111],kQ=[.19444,.64444,.13556,0,.51111],ev=[0,.68333,.16389,0,.74333],EQ=[.19444,.43056,.08847,0,.46],MQ=[0,.43056,.07514,0,.71555],FQ=[0,.69444,.06646,0,.51111],TQ=[0,.69444,0,0,.83129],DQ=[0,.69444,.1225,0,.51111],LQ=[0,.68333,.09403,0,.76666],NQ=[0,.68333,.11111,0,.76666],jQ=[0,.69444,.06961,0,.51444],Ko=[0,.69444,0,0,.27778],o0=[.25,.75,0,0,.38889],Ls=[0,.64444,0,0,.5],ad=[0,.69444,0,0,.77778],od=[0,.68333,0,0,.75],fp=[0,.68333,0,0,.77778],IQ=[0,.68333,0,0,.68056],pp=[0,.68333,0,0,.72222],qo=[.25,.75,0,0,.5],tv=[.25,.75,0,0,.27778],qr=[0,.69444,0,0,.5],l0=[0,.69444,0,0,.55556],M7=[0,.43056,0,0,.44445],mp=[0,.43056,0,0,.5],OQ=[.19444,.43056,0,0,.55556],PQ=[0,.43056,0,0,.55556],Ns=[.08333,.58333,0,0,.77778],UQ=[0,.43056,0,0,.27778],QQ=[0,.66786,0,0,.27778],RQ=[0,.69444,0,0,.75],HQ=[0,.66786,0,0,.5],zQ=[0,.68333,0,0,.625],F7=[.19444,.69444,0,0,.44445],gp=[0,.69444,0,0,.72222],$Q=[.19444,.69444,0,0,.5],yp=[.19444,.69444,0,0,1],VQ=[.011,.511,0,0,1.126],T7=[.19444,.69444,0,0,.61111],D7=[.05556,.75,0,0,.5],KQ=[0,.68333,0,0,.83334],qQ=[.0391,.5391,0,0,.66667],L7=[-.05555,.44445,0,0,.5],WQ=[0,.43056,0,0,.77778],ld=[0,.55556,0,0,.66667],rv=[-.03625,.46375,0,0,.77778],GQ=[-.01688,.48312,0,0,.77778],XQ=[.0391,.5391,0,0,1],yc=[0,.69444,0,0,.61111],nv=[-.03472,.46528,0,0,.5],iv=[.25,.75,0,0,.44445],YQ=[-.14236,.35764,0,0,1],sv=[.244,.744,0,0,.412],JQ=[.19444,.69444,0,0,.88889],av=[.12963,.69444,0,0,.77778],ZQ=[.19444,.69444,0,0,.38889],eR=[.011,.511,0,0,1.638],tR=[.19444,.69444,0,0,0],ov=[0,.44444,0,0,.575],vp=[.19444,.44444,0,0,.575],rR=[0,.68611,0,0,.75555],nR=[0,.69444,0,0,.66759],iR=[0,.68611,0,0,.80555],sR=[0,.68611,.08229,0,.98229],aR=[0,.68611,0,0,.76666],oR=[0,.44444,0,0,.58472],lR=[.19444,.44444,0,0,.6118],xp=[.19444,.43056,0,0,.5],cR=[0,.68333,.02778,.08334,.76278],uR=[0,.68333,.08125,.05556,.83125],dR=[0,.43056,0,.05556,.48472],hR=[.19444,.43056,0,.08334,.51702],AR=[.25,.75,0,0,.42778],Sn=[0,.69444,0,0,.55],Wo=[0,.69444,0,0,.73334],vc=[0,.69444,0,0,.79445],fR=[0,.69444,0,0,.51945],N7=[0,.69444,0,0,.70278],pR=[0,.69444,0,0,.76389],mR=[.25,.75,0,0,.34306],j7=[0,.69444,0,0,.56111],gR=[0,.69444,0,0,.25556],yR=[.19444,.45833,0,0,.56111],vR=[0,.45833,0,0,.56111],lv=[0,.69444,0,0,.30556],xR=[0,.69444,0,0,.58056],bR=[0,.69444,0,0,.67223],I7=[0,.69444,0,0,.85556],O7=[0,.69444,0,0,.55834],qa=[0,.65556,.11156,0,.5],P7=[0,.69444,.08094,0,.70834],U7=[.17014,0,0,0,.44445],wR=[0,.69444,.0799,0,.5],CR=[0,.69444,0,0,.73752],SR=[0,.69444,.09205,0,.5],BR=[0,.69444,.09031,0,.77778],Q7=[0,.69444,.07816,0,.27778],_R=[0,.69444,.00316,0,.5],kR=[.19444,.69444,0,0,.83334],ER=[.05556,.75,0,0,.83334],MR=[0,.75,0,0,.5],FR=[.125,.08333,0,0,.27778],TR=[0,.08333,0,0,.27778],Wa=[0,.65556,0,0,.5],R7=[0,.69444,0,0,.47222],Go=[0,.69444,0,0,.66667],DR=[0,.69444,0,0,.59722],H7=[0,.69444,0,0,.54167],z7=[0,.69444,0,0,.70834],LR=[.25,.75,0,0,.28889],$7=[0,.69444,0,0,.51667],NR=[0,.44444,0,0,.44445],jR=[.19444,.44444,0,0,.51667],IR=[0,.44444,0,0,.38333],OR=[0,.44444,0,0,.51667],PR=[0,.69444,0,0,.83334],UR=[.35001,.85,0,0,.45834],QR=[.35001,.85,0,0,.57778],RR=[.35001,.85,0,0,.41667],HR=[.35001,.85,0,0,.58334],cv=[0,.72222,0,0,.55556],zR=[1e-5,.6,0,0,.66667],$R=[1e-5,.6,0,0,.77778],VR=[.25001,.75,0,0,.94445],KR=[.306,.805,.19445,0,.47222],qR=[.30612,.805,.19445,0,.47222],c0=[.25001,.75,0,0,.83334],u0=[.35001,.85,0,0,.47222],V7=[.25001,.75,0,0,1.11111],WR=[.65002,1.15,0,0,.59722],GR=[.65002,1.15,0,0,.81111],XR=[.65002,1.15,0,0,.47222],YR=[.65002,1.15,0,0,.66667],uv=[0,.75,0,0,1],JR=[.55001,1.05,0,0,1.27778],ZR=[.862,1.36,.44445,0,.55556],eH=[.86225,1.36,.44445,0,.55556],d0=[.55001,1.05,0,0,1.11111],dv=[.65002,1.15,0,0,.52778],tH=[.65002,1.15,0,0,.61111],K7=[.55001,1.05,0,0,1.51112],rH=[.95003,1.45,0,0,.73611],nH=[.95003,1.45,0,0,1.04445],iH=[.95003,1.45,0,0,.52778],hv=[.95003,1.45,0,0,.75],Av=[0,.75,0,0,1.44445],fv=[.95003,1.45,0,0,.58334],sH=[1.25003,1.75,0,0,.79167],aH=[1.25003,1.75,0,0,1.27778],oH=[1.25003,1.75,0,0,.58334],pv=[1.25003,1.75,0,0,.80556],mv=[0,.825,0,0,1.8889],gv=[1.25003,1.75,0,0,.63889],yv=[.64502,1.155,0,0,.875],lH=[1e-5,.6,0,0,.875],q7=[-99e-5,.601,0,0,.66667],vv=[.64502,1.155,0,0,.66667],cH=[1e-5,.9,0,0,.88889],uH=[.65002,1.15,0,0,.88889],dH=[.90001,0,0,0,.88889],hH=[-.00499,.605,0,0,1.05556],xv=[0,.12,0,0,.45],De=[0,.61111,0,0,.525],da=[.08333,.69444,0,0,.525],AH=[-.08056,.53055,0,0,.525],fH=[-.05556,.55556,0,0,.525],ai=[0,.43056,0,0,.525],bp=[.22222,.43056,0,0,.525],pH=[0,0,0,0,.525],LDe={"AMS-Regular":{32:St,65:Ts,66:nd,67:Ts,68:Ts,69:nd,70:N2,71:f7,72:f7,73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:f7,76:nd,77:[0,.68889,0,0,.94445],78:Ts,79:kU,80:N2,81:kU,82:Ts,83:cp,84:nd,85:Ts,86:Ts,87:[0,.68889,0,0,1],88:Ts,89:Ts,90:nd,107:cp,160:St,165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:cp,295:j2,710:EU,732:MU,770:EU,771:MU,989:uc,1008:XU,8245:[0,.54986,0,0,.275],8463:j2,8487:Ts,8498:cp,8502:nd,8503:[0,.68889,0,0,.44445],8504:nd,8513:[0,.68889,0,0,.63889],8592:p7,8594:p7,8602:Un,8603:Un,8606:I2,8608:I2,8610:FU,8611:FU,8619:TU,8620:TU,8621:[-.13313,.37788,0,0,1.38889],8622:Un,8624:O2,8625:O2,8630:m7,8631:m7,8634:cc,8635:cc,8638:P2,8639:P2,8642:P2,8643:P2,8644:U2,8646:U2,8647:U2,8648:DU,8649:U2,8650:DU,8651:I2,8652:I2,8653:Un,8654:Un,8655:Un,8666:LU,8667:LU,8669:[-.13313,.37788,0,0,1],8672:NU,8674:NU,8705:[0,.825,0,0,.5],8708:cp,8709:uc,8717:[0,.43056,0,0,.42917],8722:p7,8724:[.08198,.69224,0,0,.77778],8726:uc,8733:R2,8736:up,8737:up,8738:[.03517,.52239,0,0,.72222],8739:WU,8740:[.25142,.74111,0,0,.27778],8741:GU,8742:[.25142,.74111,0,0,.5],8756:g7,8757:g7,8764:Q2,8765:[-.13313,.37788,0,0,.77778],8769:Q2,8770:rv,8774:ca,8776:GQ,8778:uc,8782:jU,8783:jU,8785:cc,8786:cc,8787:cc,8790:R2,8791:dp,8796:[.08198,.91667,0,0,.77778],8806:t0,8807:t0,8808:$a,8809:$a,8812:[.25583,.75583,0,0,.5],8814:r0,8815:r0,8816:ca,8817:ca,8818:dp,8819:dp,8822:IU,8823:IU,8828:Va,8829:Va,8830:dp,8831:dp,8832:r0,8833:r0,8840:ca,8841:ca,8842:Ci,8843:Ci,8847:dc,8848:dc,8858:cc,8859:cc,8861:cc,8862:n0,8863:n0,8864:n0,8865:n0,8872:[0,.69224,0,0,.61111],8873:up,8874:[0,.69224,0,0,.88889],8876:N2,8877:N2,8878:Ts,8879:Ts,8882:dc,8883:dc,8884:Va,8885:Va,8888:[0,.54986,0,0,1.11111],8890:OQ,8891:OU,8892:OU,8901:[0,.54986,0,0,.27778],8903:uc,8905:uc,8906:uc,8907:R2,8908:R2,8909:[-.03598,.46402,0,0,.77778],8910:PU,8911:PU,8912:dc,8913:dc,8914:UU,8915:UU,8916:g7,8918:hc,8919:hc,8920:QU,8921:QU,8922:RU,8923:RU,8926:Va,8927:Va,8928:ca,8929:ca,8934:H2,8935:H2,8936:H2,8937:H2,8938:r0,8939:r0,8940:ca,8941:ca,8994:HU,8995:HU,9416:[.15559,.69224,0,0,.90222],9484:O2,9488:O2,9492:zU,9496:zU,9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:n0,9633:n0,9650:z2,9651:z2,9654:dc,9660:z2,9661:z2,9664:dc,9674:VU,9733:[.19444,.69224,0,0,.94445],10003:$U,10016:$U,10731:VU,10846:[.19444,.75583,0,0,.61111],10877:Va,10878:Va,10885:t0,10886:t0,10887:Ci,10888:Ci,10889:i0,10890:i0,10891:KU,10892:KU,10901:Va,10902:Va,10933:$a,10934:$a,10935:i0,10936:i0,10937:i0,10938:i0,10949:t0,10950:t0,10955:qU,10956:qU,57350:WU,57351:GU,57352:uc,57353:XU,57356:$a,57357:$a,57358:YU,57359:ca,57360:ca,57361:YU,57366:$a,57367:$a,57368:$a,57369:$a,57370:Ci,57371:Ci},"Caligraphic-Regular":{32:St,65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:St},"Fraktur-Regular":{32:St,33:[0,.69141,0,0,.29574],34:v7,38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:JU,41:JU,42:[0,.62119,0,0,.27764],43:ZU,44:eQ,45:ZU,46:eQ,47:[.24982,.74947,0,0,.50181],48:y7,49:y7,50:y7,51:hp,52:hp,53:hp,54:tQ,55:hp,56:tQ,57:hp,58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:rQ,93:rQ,94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:St,8216:v7,8217:v7,58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:St,33:[0,.69444,0,0,.35],34:w7,35:[.19444,.69444,0,0,.95833],36:hQ,37:[.05556,.75,0,0,.95833],38:V2,39:a0,40:$2,41:$2,42:[0,.75,0,0,.575],43:ua,44:[.19444,.15556,0,0,.31944],45:IR,46:[0,.15556,0,0,.31944],47:Ac,48:Ds,49:Ds,50:Ds,51:Ds,52:Ds,53:Ds,54:Ds,55:Ds,56:Ds,57:Ds,58:sQ,59:[.19444,.44444,0,0,.31944],60:s0,61:pQ,62:s0,63:[0,.69444,0,0,.54305],64:V2,65:x7,66:[0,.68611,0,0,.81805],67:W2,68:[0,.68611,0,0,.88194],69:rR,70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:K2,73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:oQ,77:[0,.68611,0,0,1.09166],78:K2,79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:x7,89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:q2,92:Ac,93:q2,94:fc,95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:id,99:iQ,100:id,101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:id,105:a0,106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:a0,109:[0,.44444,0,0,.95833],110:nQ,111:ov,112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:nQ,118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:iQ,123:Ac,124:q2,125:Ac,126:[.35,.34444,0,0,.575],160:St,163:[0,.69444,0,0,.86853],168:fc,172:[0,.44444,0,0,.76666],176:aQ,177:ua,184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:ua,216:[.04861,.73472,0,0,.89444],223:DR,230:[0,.44444,0,0,.83055],247:ua,248:[.09722,.54167,0,0,.575],305:sQ,338:[0,.68611,0,0,1.16944],339:fQ,567:[.19444,.44444,0,0,.35139],710:fc,711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:fc,715:fc,728:fc,729:a0,730:aQ,732:fc,733:fc,915:oQ,916:C7,920:b7,923:iR,926:aR,928:K2,931:W2,933:b7,934:W2,936:b7,937:W2,8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:a0,8217:a0,8220:w7,8221:w7,8224:lQ,8225:lQ,8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:nR,8465:cQ,8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:cQ,8501:_7,8592:Ka,8593:uQ,8594:Ka,8595:uQ,8596:Ka,8597:Ac,8598:Ap,8599:Ap,8600:Ap,8601:Ap,8636:Ka,8637:Ka,8640:Ka,8641:Ka,8656:Ka,8657:dQ,8658:Ka,8659:dQ,8660:Ka,8661:[.25,.75,0,0,.70277],8704:id,8706:[0,.69444,.06389,0,.62847],8707:id,8709:hQ,8711:C7,8712:AQ,8715:AQ,8722:ua,8723:ua,8725:Ac,8726:Ac,8727:G2,8728:S7,8729:S7,8730:[.18,.82,0,0,.95833],8733:fQ,8734:[0,.44444,0,0,1.14999],8736:up,8739:q2,8741:Ac,8743:sd,8744:sd,8745:sd,8746:sd,8747:[.19444,.69444,.12778,0,.56875],8764:pQ,8768:[.19444,.69444,0,0,.31944],8771:B7,8776:[.02444,.52444,0,0,.89444],8781:B7,8801:B7,8804:pc,8805:pc,8810:mQ,8811:mQ,8826:s0,8827:s0,8834:s0,8835:s0,8838:pc,8839:pc,8846:sd,8849:pc,8850:pc,8851:sd,8852:sd,8853:ua,8854:ua,8855:ua,8856:ua,8857:ua,8866:_7,8867:_7,8868:V2,8869:V2,8900:S7,8901:[-.02639,.47361,0,0,.31944],8902:G2,8968:X2,8969:X2,8970:X2,8971:X2,8994:gQ,8995:gQ,9651:yQ,9657:G2,9661:yQ,9667:G2,9711:Ap,9824:Y2,9825:Y2,9826:Y2,9827:Y2,9837:[0,.75,0,0,.44722],9838:vQ,9839:vQ,10216:$2,10217:$2,10815:K2,10927:pc,10928:pc,57376:tR},"Main-BoldItalic":{32:St,33:[0,.69444,.11417,0,.38611],34:_Q,35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:J2,40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:mc,49:mc,50:mc,51:mc,52:xQ,53:mc,54:mc,55:xQ,56:mc,57:mc,58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:E7,64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:k7,73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:k7,79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:CQ,95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:bQ,104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:bQ,114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:St,168:[0,.69444,.11473,0,.59111],176:SQ,184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:wQ,248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:wQ,567:[.19444,.44444,.04611,0,.385],710:CQ,711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:J2,730:SQ,732:E7,733:E7,915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:k7,931:[0,.68611,.11431,0,.82666],933:BQ,934:[0,.68611,.05632,0,.82666],936:BQ,937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:J2,8217:J2,8220:[0,.69444,.16772,0,.62055],8221:_Q},"Main-Italic":{32:St,33:Z2,34:jQ,35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:Z2,40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:gc,49:gc,50:gc,51:gc,52:kQ,53:gc,54:gc,55:kQ,56:gc,57:gc,58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:DQ,64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:ev,73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:ev,79:LQ,80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:ev,86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:FQ,95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:EQ,104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:EQ,114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:St,168:[0,.66786,.10474,0,.51111],176:TQ,184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:MQ,248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:MQ,710:FQ,711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:TQ,732:[0,.66786,.11585,0,.51111],733:DQ,915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:LQ,923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:ev,931:[0,.68333,.12028,0,.71555],933:NQ,934:[0,.68333,.05986,0,.71555],936:NQ,937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:Z2,8217:Z2,8220:[0,.69444,.1685,0,.51444],8221:jQ,8463:j2},"Main-Regular":{32:St,33:Ko,34:qr,35:kR,36:D7,37:ER,38:ad,39:Ko,40:o0,41:o0,42:MR,43:Ns,44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:qo,48:Ls,49:Ls,50:Ls,51:Ls,52:Ls,53:Ls,54:Ls,55:Ls,56:Ls,57:Ls,58:UQ,59:[.19444,.43056,0,0,.27778],60:hc,61:Q2,62:hc,63:R7,64:ad,65:od,66:[0,.68333,0,0,.70834],67:pp,68:[0,.68333,0,0,.76389],69:IQ,70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:od,73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:fp,76:zQ,77:[0,.68333,0,0,.91667],78:od,79:fp,80:IQ,81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:pp,85:od,86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:od,89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:tv,92:qo,93:tv,94:qr,95:[.31,.12056,.02778,0,.5],97:mp,98:l0,99:M7,100:l0,101:M7,102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:l0,105:QQ,106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:Ko,109:[0,.43056,0,0,.83334],110:PQ,111:mp,112:OQ,113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:PQ,118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:M7,123:qo,124:tv,125:qo,126:[.35,.31786,0,0,.5],160:St,163:[0,.69444,0,0,.76909],167:F7,168:HQ,172:[0,.43056,0,0,.66667],176:RQ,177:Ns,182:T7,184:U7,198:[0,.68333,0,0,.90278],215:Ns,216:[.04861,.73194,0,0,.77778],223:qr,230:[0,.43056,0,0,.72222],247:Ns,248:[.09722,.52778,0,0,.5],305:UQ,338:[0,.68333,0,0,1.01389],339:WQ,567:[.19444,.43056,0,0,.30556],710:qr,711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:qr,715:qr,728:qr,729:QQ,730:RQ,732:HQ,733:qr,915:zQ,916:KQ,920:fp,923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:od,931:pp,933:fp,934:pp,936:fp,937:pp,8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:Ko,8217:Ko,8220:qr,8221:qr,8224:F7,8225:F7,8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:j2,8465:gp,8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:gp,8501:yc,8592:Un,8593:$Q,8594:Un,8595:$Q,8596:Un,8597:qo,8598:yp,8599:yp,8600:yp,8601:yp,8614:[.011,.511,0,0,1],8617:VQ,8618:VQ,8636:Un,8637:Un,8640:Un,8641:Un,8652:[.011,.671,0,0,1],8656:Un,8657:T7,8658:Un,8659:T7,8660:Un,8661:[.25,.75,0,0,.61111],8704:l0,8706:[0,.69444,.05556,.08334,.5309],8707:l0,8709:D7,8711:KQ,8712:qQ,8715:qQ,8722:Ns,8723:Ns,8725:qo,8726:qo,8727:nv,8728:L7,8729:L7,8730:[.2,.8,0,0,.83334],8733:WQ,8734:m7,8736:up,8739:tv,8741:qo,8743:ld,8744:ld,8745:ld,8746:ld,8747:[.19444,.69444,.11111,0,.41667],8764:Q2,8768:[.19444,.69444,0,0,.27778],8771:rv,8773:[-.022,.589,0,0,1],8776:GQ,8781:rv,8784:[-.133,.67,0,0,.778],8801:rv,8804:Ci,8805:Ci,8810:XQ,8811:XQ,8826:hc,8827:hc,8834:hc,8835:hc,8838:Ci,8839:Ci,8846:ld,8849:Ci,8850:Ci,8851:ld,8852:ld,8853:Ns,8854:Ns,8855:Ns,8856:Ns,8857:Ns,8866:yc,8867:yc,8868:ad,8869:ad,8872:[.249,.75,0,0,.867],8900:L7,8901:[-.05555,.44445,0,0,.27778],8902:nv,8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:iv,8969:iv,8970:iv,8971:iv,8994:YQ,8995:YQ,9136:sv,9137:sv,9651:JQ,9657:nv,9661:JQ,9667:nv,9711:yp,9824:av,9825:av,9826:av,9827:av,9837:[0,.75,0,0,.38889],9838:ZQ,9839:ZQ,10216:o0,10217:o0,10222:sv,10223:sv,10229:[.011,.511,0,0,1.609],10230:eR,10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:eR,10815:od,10927:Ci,10928:Ci,57376:tR},"Math-BoldItalic":{32:St,48:ov,49:ov,50:ov,51:vp,52:vp,53:vp,54:Ds,55:vp,56:Ds,57:vp,65:x7,66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:sR,73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:rR,77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:nR,105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:oR,112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:St,915:[0,.68611,.15972,0,.65694],916:C7,920:[0,.68611,.03194,0,.86722],923:iR,926:[0,.68611,.07458,0,.84125],928:sR,931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:aR,936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:oR,960:[0,.44444,.03704,0,.68241],961:lR,962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:lR,1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:St,48:mp,49:mp,50:mp,51:xp,52:xp,53:xp,54:Ls,55:xp,56:Ls,57:xp,65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:uR,73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:cR,80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:dR,112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:St,915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:cR,923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:uR,931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:dR,960:[0,.43056,.03588,0,.57003],961:hR,962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:hR,1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:St,33:[0,.69444,0,0,.36667],34:O7,35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:lv,40:AR,41:AR,42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:Sn,49:Sn,50:Sn,51:Sn,52:Sn,53:Sn,54:Sn,55:Sn,56:Sn,57:Sn,58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:fR,64:Wo,65:Wo,66:Wo,67:N7,68:vc,69:[0,.69444,0,0,.64167],70:yc,71:Wo,72:vc,73:[0,.69444,0,0,.33056],74:fR,75:pR,76:xR,77:[0,.69444,0,0,.97778],78:vc,79:vc,80:N7,81:[.10556,.69444,0,0,.79445],82:N7,83:yc,84:Wo,85:pR,86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:Wo,89:[0,.69444,.0275,0,.73334],90:bR,91:mR,93:mR,94:Sn,95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:j7,99:[0,.45833,0,0,.48889],100:j7,101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:j7,105:gR,106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:gR,109:[0,.45833,0,0,.86667],110:vR,111:[0,.45833,0,0,.55],112:yR,113:yR,114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:vR,118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:St,168:Sn,176:Wo,180:Sn,184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:Sn,711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:Sn,729:lv,730:Wo,732:Sn,733:Sn,915:xR,916:[0,.69444,0,0,.91667],920:I7,923:bR,926:Wo,928:vc,931:vc,933:I7,934:vc,936:I7,937:vc,8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:lv,8217:lv,8220:O7,8221:O7},"SansSerif-Italic":{32:St,33:[0,.69444,.05733,0,.31945],34:_R,35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:Q7,40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:FR,45:[0,.44444,.01946,0,.33333],46:TR,47:[.25,.75,.13164,0,.5],48:qa,49:qa,50:qa,51:qa,52:qa,53:qa,54:qa,55:qa,56:qa,57:qa,58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:Go,66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:P7,73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:H7,77:[0,.69444,.08094,0,.875],78:P7,79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:wR,95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:St,168:[0,.67937,.06385,0,.5],176:CR,184:U7,305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:wR,711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:SR,715:qr,728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:CR,732:[0,.67659,.08826,0,.5],733:SR,915:[0,.69444,.13372,0,.54167],916:PR,920:[0,.69444,.07555,0,.77778],923:yc,926:[0,.69444,.12816,0,.66667],928:P7,931:[0,.69444,.11983,0,.72222],933:BR,934:[0,.69444,.04603,0,.72222],936:BR,937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:Q7,8217:Q7,8220:[0,.69444,.14205,0,.5],8221:_R},"SansSerif-Regular":{32:St,33:[0,.69444,0,0,.31945],34:qr,35:kR,36:D7,37:ER,38:[0,.69444,0,0,.75834],39:Ko,40:o0,41:o0,42:MR,43:Ns,44:FR,45:[0,.44444,0,0,.33333],46:TR,47:qo,48:Wa,49:Wa,50:Wa,51:Wa,52:Wa,53:Wa,54:Wa,55:Wa,56:Wa,57:Wa,58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:R7,64:Go,65:Go,66:Go,67:id,68:[0,.69444,0,0,.72223],69:DR,70:[0,.69444,0,0,.56945],71:Go,72:z7,73:Ko,74:R7,75:[0,.69444,0,0,.69445],76:H7,77:[0,.69444,0,0,.875],78:z7,79:[0,.69444,0,0,.73611],80:id,81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:l0,84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:Go,89:[0,.69444,.025,0,.66667],90:yc,91:LR,93:LR,94:qr,95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:$7,99:NR,100:$7,101:NR,102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:$7,105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:OR,111:[0,.44444,0,0,.5],112:jR,113:jR,114:[0,.44444,.01389,0,.34167],115:IR,116:[0,.57143,0,0,.36111],117:OR,118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:St,168:[0,.67937,0,0,.5],176:Go,184:U7,305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:qr,711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:qr,715:qr,728:qr,729:[0,.67937,0,0,.27778],730:Go,732:[0,.67659,0,0,.5],733:qr,915:H7,916:PR,920:ad,923:yc,926:Go,928:z7,931:gp,933:ad,934:gp,936:ad,937:gp,8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:Ko,8217:Ko,8220:qr,8221:qr},"Script-Regular":{32:St,65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:St},"Size1-Regular":{32:St,40:UR,41:UR,47:QR,91:RR,92:QR,93:RR,123:HR,125:HR,160:St,710:cv,732:cv,770:cv,771:cv,8214:[-99e-5,.601,0,0,.77778],8593:zR,8595:zR,8657:$R,8659:$R,8719:VR,8720:VR,8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:qR,8748:KR,8749:KR,8750:qR,8896:c0,8897:c0,8898:c0,8899:c0,8968:u0,8969:u0,8970:u0,8971:u0,9168:q7,10216:u0,10217:u0,10752:V7,10753:V7,10754:V7,10756:c0,10758:c0},"Size2-Regular":{32:St,40:WR,41:WR,47:GR,91:XR,92:GR,93:XR,123:YR,125:YR,160:St,710:uv,732:uv,770:uv,771:uv,8719:JR,8720:JR,8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:eH,8748:ZR,8749:ZR,8750:eH,8896:d0,8897:d0,8898:d0,8899:d0,8968:dv,8969:dv,8970:dv,8971:dv,10216:tH,10217:tH,10752:K7,10753:K7,10754:K7,10756:d0,10758:d0},"Size3-Regular":{32:St,40:rH,41:rH,47:nH,91:iH,92:nH,93:iH,123:hv,125:hv,160:St,710:Av,732:Av,770:Av,771:Av,8730:[.95003,1.45,0,0,1],8968:fv,8969:fv,8970:fv,8971:fv,10216:hv,10217:hv},"Size4-Regular":{32:St,40:sH,41:sH,47:aH,91:oH,92:aH,93:oH,123:pv,125:pv,160:St,710:mv,732:mv,770:mv,771:mv,8730:[1.25003,1.75,0,0,1],8968:gv,8969:gv,8970:gv,8971:gv,9115:yv,9116:lH,9117:yv,9118:yv,9119:lH,9120:yv,9121:vv,9122:q7,9123:vv,9124:vv,9125:q7,9126:vv,9127:cH,9128:uH,9129:dH,9130:[0,.3,0,0,.88889],9131:cH,9132:uH,9133:dH,9143:[.88502,.915,0,0,1.05556],10216:pv,10217:pv,57344:hH,57345:hH,57680:xv,57681:xv,57682:xv,57683:xv},"Typewriter-Regular":{32:pH,33:De,34:De,35:De,36:da,37:da,38:De,39:De,40:da,41:da,42:[0,.52083,0,0,.525],43:AH,44:[.13889,.125,0,0,.525],45:AH,46:[0,.125,0,0,.525],47:da,48:De,49:De,50:De,51:De,52:De,53:De,54:De,55:De,56:De,57:De,58:ai,59:[.13889,.43056,0,0,.525],60:fH,61:[-.19549,.41562,0,0,.525],62:fH,63:De,64:De,65:De,66:De,67:De,68:De,69:De,70:De,71:De,72:De,73:De,74:De,75:De,76:De,77:De,78:De,79:De,80:De,81:[.13889,.61111,0,0,.525],82:De,83:De,84:De,85:De,86:De,87:De,88:De,89:De,90:De,91:da,92:da,93:da,94:De,95:[.09514,0,0,0,.525],96:De,97:ai,98:De,99:ai,100:De,101:ai,102:De,103:bp,104:De,105:De,106:[.22222,.61111,0,0,.525],107:De,108:De,109:ai,110:ai,111:ai,112:bp,113:bp,114:ai,115:ai,116:[0,.55358,0,0,.525],117:ai,118:ai,119:ai,120:ai,121:bp,122:ai,123:da,124:da,125:da,126:De,127:De,160:pH,176:De,184:[.19445,0,0,0,.525],305:ai,567:bp,711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:De,715:De,728:De,730:De,770:De,771:De,776:De,915:De,916:De,920:De,923:De,926:De,928:De,931:De,933:De,934:De,936:De,937:De,8216:De,8217:De,8242:De,9251:[.11111,.21944,0,0,.525]}},NDe=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,YA=10,La=.25,jDe=1.2,uu=.431,mH={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[uu,uu,uu],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.5,.732,.925],num2:[.394,.384,.5],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[La,La,La],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04]},P9=[0,.5,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],RF=5,gH={"":" ","":" ",:"A",:"C",:"D",:"o",:"a",:"c",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function eA(t,e){t===void 0&&(t=77);let r=LDe[e][t];if(r)return{defaultMetrics:!1,depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]};if(t===11034)return{defaultMetrics:!0,depth:.2,height:.8,italic:0,skew:0,width:.8};let n=String.fromCodePoint(t);if(n in gH)t=gH[n].codePointAt(0);else if(NDe.test(n))return t=77,{defaultMetrics:!0,depth:.2,height:.9,italic:0,skew:0,width:1};return{defaultMetrics:!0,depth:.2,height:.7,italic:0,skew:0,width:.8}}var U9={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],longrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],longleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],longleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],longrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],longleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xleftrightarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],longleftrightarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xRightleftharpoons:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],longRightleftharpoons:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xLeftrightharpoons:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716],longLeftrightharpoons:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Q9={widehat1:[1062,239,.24],widehat2:[2364,300,.3],widehat3:[2364,360,.36],widehat4:[2364,420,.42],widecheck1:[1062,239,.24],widecheck2:[2364,300,.3],widecheck3:[2364,360,.36],widecheck4:[2364,420,.42],widetilde1:[600,260,.26],widetilde2:[1033,286,.286],widetilde3:[2339,306,.306],widetilde4:[2340,312,.34],overarc:[1061,159,.3],underarc:[1061,159,.3]},yH={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,overarc:"M529 0c179 0 524 115 524 115 5 1 9 5 9 10 0 1-1 2-1 3l-4 22c-1 5-5 9-11 9h-2s-338-93-512-92c-174 0-513 92-513 92h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13 0 0 342-115 520-115z",underarc:`m 529 160
  c -179 0 -524 -115 -524 -115
  c -5 -1 -9 -5 -9 -10
  c 0 -1 1 -2 1 -3
  l 4 -22
  c 1 -5 5 -9 11 -9
  h 2
  s 338 93 512 92
  c 174 0 513 -92 513 -92
  h 2
  c 5 0 9 4 11 9
  l 5 22
  c 1 6 -2 12 -8 13
  c 0 0 -342 115 -520 115
  z
  `,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,widetilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,widetilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,widetilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,widetilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`};function IDe(t){if(Q9[t]){let[c,u,d]=Q9[t],A=`<span class="ML__stretchy" style="height:${d}em"><svg width="100%" height="${d}em" viewBox="0 0 ${c} ${u}" preserveAspectRatio="none" ><path fill="currentcolor" d="${yH[t]}"></path></svg></span>`;return`<span style="display:inline-block;height:${Math.floor(100*d/2)/100}em;min-width:0">${A}</span>`}let[e,r,n,i]=U9[t],s,a,o=n/1e3;e.length===3?(s=["slice-1-of-3","slice-2-of-3","slice-3-of-3"],a=["xMinYMin","xMidYMin","xMaxYMin"]):e.length===2?(s=["slice-1-of-2","slice-2-of-2"],a=["xMinYMin","xMaxYMin"]):(s=["slice-1-of-1"],a=[i]);let l=e.map((c,u)=>`<span class="${s[u]}" style=height:${o}em><svg width=400em height=${o}em viewBox="0 0 400000 ${n}" preserveAspectRatio="${a[u]} slice"><path fill="currentcolor" d="${yH[c]}"></path></svg></span>`).join("");return`<span style="display:inline-block;height:${o}em;min-width:${r}em;">${l}</span>`}function ODe(t){return U9[t]?U9[t][2]/1e3:Q9[t][2]}function PDe(t){let e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n===13&&t.charCodeAt(r+1)===10&&(n=10,r++),(n===13||n===12)&&(n=10),n===0&&(n=65533),n>=55296&&n<=56319){let i=t.charCodeAt(r+1);if(i>=56320&&i<=57343){let s=n-55296,a=i-56320;n=2**16+s*2**10+a,r++}}e.push(n)}return e}var wx=8205,UDe=[[wx,1],[65038,2],[127995,5],[129456,4],[917536,96]],bv,vH=[127462,127487];function xH(t){var e;if(bv===void 0){bv={};for(let r of UDe)for(let n=r[0];n<=r[0]+r[1]-1;n++)bv[n]=!0}return(e=bv[t])!=null?e:!1}function QDe(t){return t>=vH[0]&&t<=vH[1]}function Bte(t){if(/^[\u0020-\u00FF]*$/.test(t))return t;let e=[],r=PDe(t),n=0;for(;n<r.length;){let i=r[n++],s=r[n];if(s===wx){let a=n-1;for(n+=2;r[n]===wx;)n+=2;e.push(String.fromCodePoint(...r.slice(a,n-a+1)))}else if(xH(s)){let a=n-1;for(;xH(r[n]);)n+=r[n]===wx?2:1;e.push(String.fromCodePoint(...r.slice(a,2*n-a-1)))}else QDe(i)?(n+=1,e.push(String.fromCodePoint(...r.slice(n-2,2)))):e.push(String.fromCodePoint(i))}return e}var RDe=class{constructor(t){this.obeyspaces=!1,this.pos=0,this.s=Bte(t)}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(t){let e=typeof this.s=="string"?t.exec(this.s.slice(this.pos)):t.exec(this.s.slice(this.pos).join(""));return e!=null&&e[0]?(this.pos+=e[0].length,e[0]):""}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]+/)||this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]/))return"<space>";let t=this.get();if(t==="\\"){if(!this.end()){let e=this.match(/^[a-zA-Z\*]+/);return e?this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]*/):e=this.get(),"\\"+e}}else{if(t==="{")return"<{>";if(t==="}")return"<}>";if(t==="^"){if(this.peek()==="^"){this.get();let e=this.match(/^(\^(\^(\^(\^[\da-f])?[\da-f])?[\da-f])?[\da-f])?[\da-f]{2}/);if(e)return String.fromCodePoint(Number.parseInt(e.slice(e.lastIndexOf("^")+1),16))}return t}else if(t==="#"){if(!this.end()){let e=!1;if(/[\d?@]/.test(this.peek())&&(e=!0,this.pos+1<this.s.length)){let r=this.s[this.pos+1];e=/[^\dA-Za-z]/.test(r)}return e?"#"+this.get():"#"}}else if(t==="$")return this.peek()==="$"?(this.get(),"<$$>"):"<$>"}return t}};function HDe(t,e){var r,n,i,s;let a=[],o=t.next();if(o&&o!=="\\relax"){if(o==="\\noexpand")o=t.next(),o&&a.push(o);else if(o==="\\obeyspaces")t.obeyspaces=!0;else if(o==="\\bgroup")a.push("<{>");else if(o==="\\egroup")a.push("<}>");else if(o==="\\string"){if(o=t.next(),o)if(o.startsWith("\\"))for(let l of o)a.push(l==="\\"?"\\backslash":l);else o==="<{>"?a.push("\\{"):o==="<space>"?a.push("~"):o==="<}>"&&a.push("\\}")}else if(o==="\\csname"){for(;t.peek()==="<space>";)t.next();let l="",c=!1,u=[];do{if(u.length===0)if(/^#[\d?@]$/.test(t.peek())){let d=t.get().slice(1);u=r1((n=(r=e==null?void 0:e(d))!=null?r:e==null?void 0:e("?"))!=null?n:"\\placeholder{}",e),o=u[0]}else o=t.next(),u=o?[o]:[];c=u.length===0,!c&&o==="\\endcsname"&&(c=!0,u.shift()),c||(c=o==="<$>"||o==="<$$>"||o==="<{>"||o==="<}>"||typeof o=="string"&&o.length>1&&o.startsWith("\\")),c||(l+=u.shift())}while(!c);l&&a.push("\\"+l),a.push(...u)}else if(o!=="\\endcsname")if(o.length>1&&o.startsWith("#")){let l=o.slice(1);a.push(...r1((s=(i=e==null?void 0:e(l))!=null?i:e==null?void 0:e("?"))!=null?s:"\\placeholder{}",e))}else a.push(o)}return a}function r1(t,e=null){if(!t)return[];let r=[],n="";for(let a of t.toString().split(/\r?\n/)){n&&r.push(n),n=" ";let o=a.match(/((?:\\%)|[^%])*/);o!==null&&r.push(o[0])}let i=new RDe(r.join("")),s=[];do s.push(...HDe(i,e));while(!i.end());return s}function ot(t){let e="",r=[];for(let n of t)n&&(e&&/^[a-zA-Z\*]/.test(n)&&r.push(e),r.push(n),/^\\[a-zA-Z]+\*?[\"\'][^\ ]+$/.test(n)&&r.push(" "),e=/\\[a-zA-Z]+\*?$/.test(n)?" ":"");return r.join("")}function zt(t,...e){return t.startsWith("\\"),e.length===0?t:ot([t,...e.map(r=>`{${r}}`)])}function cd(t){return ot(t.map(e=>{var r;return(r={"<space>":" ","<$$>":"$$","<$>":"$","<{>":"{","<}>":"}"}[e])!=null?r:e}))}var _te=class em{constructor(e){em._registry[e]=this}static createAtom(e,r,n){return em._registry[e].createAtom(r,Tn(r,e),n)}static serialize(e,r){var n;if(!e||e.length===0)return"";if((n=r.skipStyles)!=null&&n){let i=[];for(let s of kte(e)){let a=em._registry[s[0].mode];i.push(...a.serialize(s,r))}return ot(i)}return ot($De(e,r))}static getFont(e,r,n){return em._registry[e].getFont(r,n)}};_te._registry={};var ds=_te;function kte(t){let e=[],r=[],n="NONE";for(let i of t)i.type!=="first"&&(i.mode!==n?(r.length>0&&e.push(r),r=[i],n=i.mode):r.push(i));return r.length>0&&e.push(r),e}function R9(t){if(!t||t.mode!=="math")return"";let{style:e}=t;return!e||!e.variantStyle?"":e.variantStyle==="bold"||e.variantStyle==="bolditalic"?"bold":""}function H9(t){if(!t)return"";let{style:e}=t;if(!e)return"";let r=e.variant;return r===void 0?"normal":(!["calligraphic","fraktur","double-struck","script","monospace","sans-serif"].includes(r)&&e.variantStyle&&e.variantStyle!=="up"&&(r+="-"+e.variantStyle),r)}function ec(t,e){let r=[],n=[],i;for(let s of t){if(s.type==="first")continue;let a;e==="variant"?a=H9(s):e==="bold"?a=R9(s):a=s.style[e],a===i?n.push(s):(n.length>0&&r.push(n),n=[s],i=a)}return n.length>0&&r.push(n),r}function bH(t,e){var r;let{parent:n}=t[0],i=n==null?void 0:n.style.color,s=[];for(let a of kte(t)){let o=e.defaultMode;for(let l of ec(a,"color")){let c=l[0].style,u=ds._registry[l[0].mode].serialize(l,W(U({},e),{defaultMode:o==="text"?"text":"math"}));!e.skipStyles&&c.color&&c.color!=="none"&&(!n||i!==c.color)?s.push(zt("\\textcolor",(r=c.verbatimColor)!=null?r:c.color,ot(u))):s.push(ot(u))}}return s}function zDe(t,e){let{parent:r}=t[0],n=r==null?void 0:r.style.backgroundColor;return ec(t,"backgroundColor").map(i=>{var s;if(i.length>0||i[0].type!=="box"){let a=i[0].style;if(a.backgroundColor&&a.backgroundColor!=="none"&&(!r||n!==a.backgroundColor))return zt("\\colorbox",(s=a.verbatimBackgroundColor)!=null?s:a.backgroundColor,ot(bH(i,W(U({},e),{defaultMode:"text"}))))}return ot(bH(i,e))})}function $De(t,e){if(t.length===0)return[];let{parent:r}=t[0],n=r==null?void 0:r.style.fontSize,i=[];for(let s of ec(t,"fontSize")){let a=s[0].style.fontSize,o=zDe(s,e);o&&(a&&a!=="auto"&&(!r||n!==a)?i.push(["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][a],...o):i.push(...o))}return i}function z9(t){return t?{mord:"ord",mbin:"bin",mop:"op",mrel:"rel",mopen:"open",mclose:"close",mpunct:"punct",minner:"inner",spacing:"ignore",latex:"latex",composition:"inner",error:"inner",placeholder:"ord",supsub:"ignore"}[t]:void 0}function K1(t){if(t.length===0)return"ord";let e=z9(t[0].type),r=z9(t[t.length-1].type);return e&&e===r?e:"ord"}function wp(t,e){if(typeof t=="string")return t;if(typeof t=="number"){let r=Math.ceil(100*t)/100;return r===0?"0":r.toString()+(e??"")}return""}var ge=class Ete{constructor(e,r){var n,i,s,a,o;if(typeof e=="number"?this.value=String.fromCodePoint(e):typeof e=="string"?this.value=e:bn(e)?this.children=e.filter(c=>c!==null):e&&e instanceof Ete&&(this.children=[e]),this.children)for(let c of this.children)c.parent=this;this.type=(n=r==null?void 0:r.type)!=null?n:"ignore",this.isSelected=(r==null?void 0:r.isSelected)===!0,r!=null&&r.caret&&(this.caret=r.caret),this.classes=(i=r==null?void 0:r.classes)!=null?i:"",this.isTight=(s=r==null?void 0:r.isTight)!=null?s:!1,r!=null&&r.attributes&&(this.attributes=r.attributes);let l=r==null?void 0:r.fontFamily;r!=null&&r.style&&this.value&&(l=(o=ds.getFont((a=r.mode)!=null?a:"math",this,W(U({variant:"normal"},r.style),{letterShapeStyle:r.letterShapeStyle})))!=null?o:void 0),l||(l="Main-Regular"),this._height=0,this._depth=0,this._width=0,this.hasExplicitWidth=!1,this.skew=0,this.italic=0,this.maxFontSize=0,this.scale=1,(r==null?void 0:r.maxFontSize)!==void 0&&(this.maxFontSize=r.maxFontSize),VDe(this,l)}set atomID(e){e===void 0||e.length===0||(this.id=e)}selected(e){if(this.isSelected!==e&&(this.isSelected=e,this.children))for(let r of this.children)r.selected(e)}setStyle(e,r,n){if(r===void 0)return;let i=wp(r,n);i.length>0&&(this.cssProperties||(this.cssProperties={}),this.cssProperties[e]=i)}setTop(e){Number.isFinite(e)&&Math.abs(e)>.01&&(this.cssProperties||(this.cssProperties={}),this.cssProperties.top=wp(e,"em"),this.height-=e,this.depth+=e)}get left(){var e;return(e=this.cssProperties)!=null&&e["margin-left"]?Number.parseFloat(this.cssProperties["margin-left"]):0}set left(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-left"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-left"]=wp(e,"em")))}set right(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-right"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-right"]=wp(e,"em")))}set bottom(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-bottom"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-bottom"]=wp(e,"em")))}get width(){return this._width*this.scale}set width(e){this._width=e,this.hasExplicitWidth=!0}set softWidth(e){}get height(){return this._height*this.scale}set height(e){this._height=e}get depth(){return this._depth*this.scale}set depth(e){this._depth=e}wrap(e){let r=e.parent;if(!r)return this;e.isPhantom&&this.setStyle("opacity",0);let n=e.color;n&&n!==r.color&&this.setStyle("color",n);let i=e.backgroundColor;this.isSelected&&(i=CDe(i)),i&&i!==r.backgroundColor&&(this.setStyle("background-color",i),this.setStyle("display","inline-block"));let s=e.scalingFactor;return this.scale=s,this.skew*=s,this.italic*=s,this}toMarkup(){var e,r,n,i;let s=(e=this.value)!=null?e:"";if(this.children)for(let f of this.children)s+=f.toMarkup();let a="";if(this.svgBody)a=IDe(this.svgBody);else if(this.svgOverlay){a='<span style="',a+="display: inline-block;",a+=`height:${Math.floor(100*(this.height+this.depth))/100}em;`,a+=`vertical-align:${Math.floor(100*this.depth)/100}em;`,a+='">',a+=s,a+="</span>",a+='<svg style="position:absolute;overflow:visible;',a+=`height:${Math.floor(100*(this.height+this.depth))/100}em;`;let f=(r=this.cssProperties)==null?void 0:r.padding;f?(a+=`top:${f};`,a+=`left:${f};`,a+=`width:calc(100% - 2 * ${f} );`):a+="top:0;left:0;width:100%;",a+="z-index:2;",a+='"',this.svgStyle&&(a+=this.svgStyle),a+=` viewBox="0 0 ${Math.floor(100*this.width)/100} ${Math.floor(100*(this.height+this.depth))/100}"`,a+=`>${this.svgOverlay}</svg>`}let o=[],l=this.classes.split(" ");l.push((n={latex:"ML__raw-latex",placeholder:"ML__placeholder",error:"ML__error"}[this.type])!=null?n:""),this.caret==="latex"&&l.push("ML__latex-caret"),this.isSelected&&l.push("ML__selected");let c=l.length===1?l[0]:l.filter((f,p,m)=>f.length>0&&m.indexOf(f)===p).join(" ");if(c.length>0&&o.push(`class=${h0(`"${c}"`)}`),this.id&&o.push(` data-atom-id=${h0(this.id)}`),this.cssId&&o.push(` id=${h0(`"${this.cssId.replace(/ /g,"-")}"`)}`),this.attributes&&o.concat(Object.keys(this.attributes).map(f=>`${W7(f)}=${h0(this.attributes[f])}`)),this.htmlData){let f=this.htmlData.split(",");for(let p of f){let m=p.match(/([^=]+)=(.+$)/);if(m){let y=W7(m[1]);if(y)if(y==="href"){let g=new URL(m[2]);if(g.protocol!=="http:"&&g.protocol!=="https:")throw new Error(`Invalid URL: ${m[2]}`);o.push(`href="${m[2].replace(/"/g,"&quot;")}"`)}else o.push(`data-${y}=${h0(m[2])}`)}else{let y=W7(p);y&&o.push(`data-${y} `)}}}let u=(i=this.cssProperties)!=null?i:{};this.hasExplicitWidth&&u.width===void 0&&(u.width=`${Math.ceil(this._width*100)/100}em`);let d=Object.keys(u).map(f=>`${f}:${u[f]}`);if(this.scale!==void 0&&this.scale!==1&&(s.length>0||a.length>0)&&d.push(`font-size: ${Math.ceil(this.scale*1e4)/100}%`),this.htmlStyle)for(let f of this.htmlStyle.split(";")){let p=f.match(/([^:]+):(.+$)/);if(p){let m=p[1].trim().replace(/ /g,"-");m&&d.push(`${m}:${p[2]}`)}}d.length>0&&o.push(`style=${h0(d.join(";"))}`);let A="";return o.length>0||a.length>0?A=`<span ${o.join(" ")}>${s}${a}</span>`:A=s,this.caret==="text"?A+='<span class="ML__text-caret"></span>':this.caret==="math"&&(A+='<span class="ML__caret"></span>'),A}tryCoalesceWith(e){if(this.svgBody||!this.value||e.svgBody||!e.value)return!1;let r=this.children&&this.children.length>0,n=e.children&&e.children.length>0;if(r||n)return!1;if(e.cssProperties||this.cssProperties){for(let l of["border","border-left","border-right","border-right-width","left","margin","margin-left","margin-right","padding","position","width"])if(e.cssProperties&&l in e.cssProperties||this.cssProperties&&l in this.cssProperties)return!1}let i=this.cssProperties?Object.keys(this.cssProperties).length:0,s=e.cssProperties?Object.keys(e.cssProperties).length:0;if(i!==s)return!1;if(i>0){for(let l of Object.keys(this.cssProperties))if(this.cssProperties[l]!==e.cssProperties[l])return!1}let a=this.classes.trim().replace(/\s+/g," ").split(" "),o=e.classes.trim().replace(/\s+/g," ").split(" ");if(a.length!==o.length)return!1;a.sort(),o.sort();for(let[l,c]of a.entries())if(c==="ML__vertical-separator"||c!==o[l])return!1;return this.value+=e.value,this.height=Math.max(this.height,e.height),this.depth=Math.max(this.depth,e.depth),this._width=this._width+e._width,this.maxFontSize=Math.max(this.maxFontSize,e.maxFontSize),this.italic=e.italic,!0}};function $9(t){if(!t||t.length===0)return[];t[0].children=$9(t[0].children);let e=[t[0]];for(let r=1;r<t.length;r++)e[e.length-1].tryCoalesceWith(t[r])||(t[r].children=$9(t[r].children),e.push(t[r]));return e}function w5(t){return t.children&&(t.children=$9(t.children)),t}function C5(t,e){if(!t)return new ge(null,e);let r=new ge(null,{classes:"ML__strut",type:"ignore"});r.setStyle("height",Math.max(0,t.height),"em");let n=[r];if(t.depth!==0){let i=new ge(null,{classes:"ML__strut--bottom",type:"ignore"});i.setStyle("height",t.height+t.depth,"em"),i.setStyle("vertical-align",-t.depth,"em"),n.push(i)}return n.push(t),new ge(n,W(U({},e),{type:"lift"}))}function Cx(t){let e=ODe(t)/2,r=new ge(null,{maxFontSize:0});return r.height=e+.166,r.depth=e-.166,r.svgBody=t,r}function VDe(t,e){var r;if(t.type==="latex"){t.height=.9,t.depth=.2,t._width=1;return}if(t.value){t.height=-1/0,t.depth=-1/0,t._width=0,t.skew=-1/0,t.italic=-1/0;for(let n=0;n<t.value.length;n++){let i=eA(t.value.codePointAt(n),e);t.height=Math.max(t.height,i.height),t.depth=Math.max(t.depth,i.depth),t._width+=i.width,t.skew=i.skew,t.italic=i.italic}return}if(t.children&&t.children.length>0){let n=-1/0,i=-1/0,s=0;for(let a of t.children)a.height>n&&(n=a.height),a.depth>i&&(i=a.depth),s=Math.max(s,(r=a.maxFontSize)!=null?r:0);t.height=n,t.depth=i,t._width=t.children.reduce((a,o)=>a+o.width,0),t.maxFontSize=s}}function W7(t){if(t=t.trim().replace(/ /g,"-"),t.length===0)throw new Error("Invalid empty attribute name");if(/[\x20\x09\x0a\x0c\x0d"'>/=\x00-\x1f]/.test(t))throw new Error(`Invalid attribute name "${t}"`);return t}function h0(t){if(t=t.trim(),t.startsWith('"')&&t.endsWith('"')){if(/"/.test(t.slice(1,-1)))throw new Error(`Invalid attribute value: ${t}`);return t}if(t.startsWith("'")&&t.endsWith("'")){if(/'/.test(t.slice(1,-1)))throw new Error(`Invalid attribute value: ${t}`);return t}if(t.length===0)throw new Error("Invalid empty attribute value");return`"${t.replace(/"/g,"&quot;")}"`}function KDe(t){if("individualShift"in t){let e=t.individualShift,r=e[0];if(r==null)return[null,0];let n=[r],i=-r.shift-r.box.depth,s=i;for(let a=1;a<e.length;a++){let o=e[a],l=-o.shift-s-o.box.depth,c=l-(r.box.height+r.box.depth);s=s+l,n.push(c),n.push(o),r=o}return[n,i]}if("top"in t){let e=t.top;for(let r of t.children)e-=typeof r=="number"?r:r.box.height+r.box.depth;return[t.children,e]}else{if("bottom"in t)return[t.children,-t.bottom];if("firstBaseline"in t){let e=t.firstBaseline[0];if(typeof e=="number")throw new Error("First child must be an element.");return[t.firstBaseline,-e.box.depth]}else if("shift"in t){let e=t.children[0];if(typeof e=="number")throw new Error("First child must be an element.");return[t.children,-e.box.depth-t.shift]}}return[null,0]}function qDe(t){var e;let[r,n]=KDe(t);if(!r)return[[],0,0];let i=new ge(null,{classes:"ML__pstrut"}),s=0;for(let p of r)if(typeof p!="number"){let m=p.box;s=Math.max(s,m.maxFontSize,m.height)}s+=2,i.height=s,i.setStyle("height",s,"em");let a=[],o=n,l=n,c=n,u=0;for(let p of r){if(typeof p=="number")c+=p;else{let m=p.box,y=(e=p.classes)!=null?e:[],g=new ge([i,m],{classes:y.join(" "),style:p.style});m.setStyle("height",m.height+m.depth,"em"),m.setStyle("display","inline-block"),g.setStyle("top",-s-c-m.depth,"em"),p.marginLeft&&g.setStyle("margin-left",p.marginLeft,"em"),p.marginRight&&g.setStyle("margin-right",p.marginRight,"em"),a.push(g),c+=m.height+m.depth,u=Math.max(u,g.width)}o=Math.min(o,c),l=Math.max(l,c)}a.forEach(p=>{p.softWidth=u});let d=new ge(a,{classes:"ML__vlist"});if(d.softWidth=u,d.height=l,d.setStyle("height",l,"em"),o>=0)return[[new ge(d,{classes:"ML__vlist-r"})],l,-o];let A=new ge(new ge(null),{classes:"ML__vlist"});A.height=-o,A.setStyle("height",-o,"em");let f=new ge(8203,{classes:"ML__vlist-s",maxFontSize:0});return f.softWidth=0,f.height=0,f.depth=0,[[new ge([d,f],{classes:"ML__vlist-r"}),new ge(A,{classes:"ML__vlist-r"})],l,-o]}var Vr=class extends ge{constructor(t,e){var r;let[n,i,s]=qDe(t);super(n.length===1?n[0]:n,{type:e==null?void 0:e.type,classes:((r=e==null?void 0:e.classes)!=null?r:"")+" ML__vlist-t"+(n.length===2?" ML__vlist-t2":"")}),this.height=i,this.depth=s,this.softWidth=n.reduce((a,o)=>Math.max(a,o.width),0)}};function WDe(t,e){var r,n,i,s,a;let o=t.metrics,l=new ge(e.base),c=(r=e.baseShift)!=null?r:0,u=(n=e.slant)!=null?n:0,d=0,A=0;e.above&&(d=(i=e.aboveShift)!=null?i:Math.max(o.bigOpSpacing1,o.bigOpSpacing3-e.above.depth)),e.below&&(A=(s=e.belowShift)!=null?s:Math.max(o.bigOpSpacing2,o.bigOpSpacing4-e.below.height));let f=null;if(e.below&&e.above){let p=o.bigOpSpacing5+e.below.height+e.below.depth+A+l.depth+c;f=new Vr({bottom:p,children:[o.bigOpSpacing5,{box:e.below,marginLeft:-u,classes:["ML__center"]},A,{box:l,classes:["ML__center"]},d,{box:e.above,marginLeft:u,classes:["ML__center"]},o.bigOpSpacing5]}).wrap(t)}else if(e.below&&!e.above)f=new Vr({top:l.height-c,children:[o.bigOpSpacing5,{box:e.below,marginLeft:-u,classes:["ML__center"]},A,{box:l,classes:["ML__center"]}]}).wrap(t);else if(!e.below&&e.above){let p=l.depth+c;f=new Vr({bottom:p,children:[{box:l,classes:["ML__center"]},d,{box:e.above,marginLeft:u,classes:["ML__center"]},o.bigOpSpacing5]}).wrap(t)}else{let p=l.depth+c;f=new Vr({bottom:p,children:[{box:l},o.bigOpSpacing5]}).wrap(t)}return new ge(f,{type:(a=e.type)!=null?a:"op"})}var HF=7,x3=6,S5=5,Dd=4,BA=3,ss=2,Vd=1,Hn=0,xc=class{constructor(t,e,r){this.id=t,this.sizeDelta=e,this.cramped=r;let n={"-4":2,"-3":1,0:0}[e];this.metrics=Object.keys(mH).reduce((i,s)=>W(U({},i),{[s]:mH[s][n]}),{})}getFontSize(t){return Math.max(1,t+this.sizeDelta)}get sup(){return Ao[[Hn,Vd,Hn,Vd,ss,BA,ss,BA][this.id]]}get sub(){return Ao[[Hn,Hn,Hn,Hn,ss,ss,ss,ss][this.id]]}get fracNum(){return Ao[[Hn,Vd,Hn,Vd,ss,BA,Dd,S5][this.id]]}get fracDen(){return Ao[[Hn,Hn,Hn,Hn,ss,ss,Dd,Dd][this.id]]}get cramp(){return Ao[[Hn,Hn,ss,ss,Dd,Dd,x3,x3][this.id]]}get isTight(){return this.sizeDelta<0}},Cp={7:new xc(HF,0,!1),6:new xc(x3,0,!0),5:new xc(S5,0,!1),4:new xc(Dd,0,!0),3:new xc(BA,-3,!1),2:new xc(ss,-3,!0),1:new xc(Vd,-4,!1),0:new xc(Hn,-4,!0)},Ao=W(U({},Cp),{displaystyle:Cp[HF],textstyle:Cp[S5],scriptstyle:Cp[BA],scriptscriptstyle:Cp[Vd]});function Mte(t,e){var r;if(!t)return 0;let n={pt:1,mm:7227/2540,cm:7227/254,ex:35271/8192,px:3/4,em:YA,bp:803/800,dd:1238/1157,pc:12,in:72.27,mu:10/18}[(r=t.unit)!=null?r:"pt"];if(Number.isFinite(e)){let i=10**e;return Math.round(t.dimension/YA*n*i)/i}return t.dimension*n}function Fte(t,e){if(t===null)return 0;let r=Mte(t)/YA;if(Number.isFinite(e)){let n=10**e;return Math.round(r*n)/n}return r}function G7(t){var e;return`${t.dimension}${(e=t.unit)!=null?e:"pt"}`}function GDe(t){let e=G7(t.glue);return t.grow&&t.grow.dimension!==0&&(e+=` plus ${G7(t.grow)}`),t.shrink&&t.shrink.dimension!==0&&(e+=` minus ${G7(t.shrink)}`),e}function xn(t){var e,r;if(t==null)return null;let n="";if("dimension"in t&&(n=`${t.dimension}${(e=t.unit)!=null?e:"pt"}`),"glue"in t&&(n=GDe(t)),"number"in t)if(!("base"in t)||t.base==="decimal")n=Number(t.number).toString();else if(t.base==="alpha")n=`\`${String.fromCodePoint(t.number)}`;else{let i=Math.round(t.number)>>>0;t.base==="hexadecimal"?(n=Number(i).toString(16).toUpperCase(),i<=255?n=n.padStart(2,"0"):i<=65535?n=n.padStart(4,"0"):i<=16777215?n=n.padStart(6,"0"):n=n.padStart(8,"0"),n=`"${n}`):t.base==="octal"&&(n=Number(i).toString(8),i<=63?n=n.padStart(2,"0"):i<=30583?n=n.padStart(4,"0"):n=n.padStart(8,"0"),n=`'${n}`)}return"register"in t&&("factor"in t&&(t.factor===-1?n="-":t.factor!==1&&(n=Number(t.factor).toString())),"global"in t&&t.global&&(n+="\\global"),n+=`\\${t.register}`),"string"in t&&(n=t.string),(r=t.relax)!=null&&r&&(n+="\\relax"),n}function no(t,e){return t==null?null:"number"in t?W(U({},t),{number:t.number*e}):"register"in t?"factor"in t&&t.factor?W(U({},t),{factor:t.factor*e}):W(U({},t),{factor:e}):"dimension"in t?W(U({},t),{dimension:t.dimension*e}):"glue"in t?t.shrink&&t.grow?{glue:no(t.glue,e),shrink:no(t.shrink,e),grow:no(t.grow,e)}:t.shrink?{glue:no(t.glue,e),shrink:no(t.shrink,e)}:t.grow?{glue:no(t.glue,e),grow:no(t.grow,e)}:{glue:no(t.glue,e)}:null}var XDe={"p@":{dimension:1},"z@":{dimension:0},maxdimen:{dimension:16383.99999},hfuzz:{dimension:.1},vfuzz:{dimension:.1},overfullrule:{dimension:5},hsize:{dimension:6.5,unit:"in"},vsize:{dimension:8.9,unit:"in"},parindent:{dimension:20},maxdepth:{dimension:4},splitmaxdepth:{register:"maxdimen"},boxmaxdepth:{register:"maxdimen"},delimitershortfall:{dimension:5},nulldelimiterspace:{dimension:1.2,unit:"pt"},scriptspace:{dimension:.5},topskip:{dimension:10},splittopskip:{dimension:10},normalbaselineskip:{dimension:12},normallineskip:{dimension:1},normallineskiplimit:{dimension:0},jot:{dimension:3},doublerulesep:{dimension:2},arrayrulewidth:{dimension:.4},arraycolsep:{dimension:5},fboxsep:{dimension:3},fboxrule:{dimension:.4},"z@skip":{glue:{dimension:0},shrink:{dimension:0},grow:{dimension:0}},hideskip:{glue:{dimension:-1e3},grow:{dimension:1,unit:"fill"}},"@flushglue":{glue:{dimension:0},grow:{dimension:1,unit:"fill"}},parskip:{glue:{dimension:0},grow:{dimension:1}},abovedisplayskip:{glue:{dimension:12},grow:{dimension:3},shrink:{dimension:9}},abovedisplayshortskip:{glue:{dimension:0},grow:{dimension:3}},belowdisplayskip:{glue:{dimension:12},grow:{dimension:3},shrink:{dimension:9}},belowdisplayshortskip:{glue:{dimension:7},grow:{dimension:3},shrink:{dimension:4}},parfillskip:{glue:{dimension:0},grow:{dimension:1,unit:"fil"}},thinmuskip:{glue:{dimension:3,unit:"mu"}},medmuskip:{glue:{dimension:4,unit:"mu"},grow:{dimension:2,unit:"mu"},shrink:{dimension:4,unit:"mu"}},thickmuskip:{glue:{dimension:5,unit:"mu"},grow:{dimension:5,unit:"mu"}},smallskipamount:{glue:{dimension:3},grow:{dimension:1},shrink:{dimension:1}},medskipamount:{glue:{dimension:6},grow:{dimension:2},shrink:{dimension:3}},bigskipamount:{glue:{dimension:12},grow:{dimension:2},shrink:{dimension:4}},pretolerance:100,tolerance:200,hbadness:1e3,vbadness:1e3,linepenalty:10,hyphenpenalty:50,exhyphenpenalty:50,binoppenalty:700,relpenalty:500,clubpenalty:150,widowpenalty:150,displaywidowpenalty:50,brokenpenalty:100,predisplaypenalty:1e4,doublehyphendemerits:1e4,finalhyphendemerits:5e3,adjdemerits:1e4,tracinglostchars:1,uchyph:1,delimiterfactor:901,defaulthyphenchar:"\\-",defaultskewchar:-1,newlinechar:-1,showboxbreadth:5,showboxdepth:3,errorcontextlines:5,interdisplaylinepenalty:100,interfootnotelinepenalty:100,baselineSkip:1.2,arraystretch:1,month:new Date().getMonth()+1,day:new Date().getDate(),year:new Date().getFullYear()};function Tte(){return U({},XDe)}function Dte(){return{registers:Tte(),smartFence:!1,renderPlaceholder:void 0,placeholderSymbol:"",letterShapeStyle:at.locale.startsWith("fr")?"french":"tex",minFontScale:0,maxMatrixCols:10,colorMap:b5,backgroundColorMap:OF,getMacro:t=>Cte(t,QF())}}var pt=class Lte{constructor(e,r){var n,i,s,a,o,l,c,u,d,A,f,p,m,y,g;let v;e!=null&&e.parent?(this.parent=e.parent,v=e.parent,this.registers={}):(v=U(U({},Dte()),(n=e==null?void 0:e.from)!=null?n:{}),this.registers=v.registers),v.atomIdsSettings&&(this.atomIdsSettings=U({},v.atomIdsSettings)),this.renderPlaceholder=v.renderPlaceholder,this.isPhantom=(a=(s=e==null?void 0:e.isPhantom)!=null?s:(i=this.parent)==null?void 0:i.isPhantom)!=null?a:!1,this.letterShapeStyle=v.letterShapeStyle,this.minFontScale=v.minFontScale,this.maxMatrixCols=v.maxMatrixCols,r!=null&&r.color&&r.color!=="none"?this.color=r.color:this.color=(l=(o=this.parent)==null?void 0:o.color)!=null?l:"",r!=null&&r.backgroundColor&&r.backgroundColor!=="none"?this.backgroundColor=r.backgroundColor:this.backgroundColor=(u=(c=this.parent)==null?void 0:c.backgroundColor)!=null?u:"",r!=null&&r.fontSize&&r.fontSize!=="auto"&&r.fontSize!==((d=this.parent)==null?void 0:d.size)?this.size=r.fontSize:this.size=(f=(A=this.parent)==null?void 0:A.size)!=null?f:RF;let x=(m=(p=this.parent)==null?void 0:p.mathstyle)!=null?m:Ao.displaystyle;if(typeof(e==null?void 0:e.mathstyle)=="string"){if(v instanceof Lte)switch(e.mathstyle){case"cramp":x=x.cramp;break;case"superscript":x=x.sup;break;case"subscript":x=x.sub;break;case"numerator":x=x.fracNum;break;case"denominator":x=x.fracDen;break}switch(e.mathstyle){case"textstyle":x=Ao.textstyle;break;case"displaystyle":x=Ao.displaystyle;break;case"scriptstyle":x=Ao.scriptstyle;break;case"scriptscriptstyle":x=Ao.scriptscriptstyle;break}}this.mathstyle=x,this.smartFence=v.smartFence,this.placeholderSymbol=v.placeholderSymbol,this.colorMap=(y=v.colorMap)!=null?y:b=>b,this.backgroundColorMap=(g=v.backgroundColorMap)!=null?g:b=>b,this.getMacro=v.getMacro,this.parent!==void 0||this.registers}makeID(){if(!this.atomIdsSettings)return;if(this.atomIdsSettings.overrideID)return this.atomIdsSettings.overrideID;if(typeof this.atomIdsSettings.seed!="number")return`${Date.now().toString(36).slice(-2)}${Math.floor(Math.random()*1e5).toString(36)}`;let e=this.atomIdsSettings.seed.toString(36);return this.atomIdsSettings.seed+=1,e}scale(e){return e*this.effectiveFontSize}get scalingFactor(){return this.parent?this.effectiveFontSize/this.parent.effectiveFontSize:1}get isDisplayStyle(){return this.mathstyle.id===HF||this.mathstyle.id===x3}get isCramped(){return this.mathstyle.cramped}get isTight(){return this.mathstyle.isTight}get metrics(){return this.mathstyle.metrics}get effectiveFontSize(){return Math.max(P9[Math.max(1,this.size+this.mathstyle.sizeDelta)],this.minFontScale)}getRegister(e){var r;if((r=this.registers)!=null&&r[e])return this.registers[e];if(this.parent)return this.parent.getRegister(e)}getRegisterAsNumber(e){let r=this.getRegister(e);if(typeof r=="number")return r;if(typeof r=="string")return Number(r)}getRegisterAsGlue(e){var r;if((r=this.registers)!=null&&r[e]){let n=this.registers[e];return typeof n=="object"&&"glue"in n?n:typeof n=="object"&&"dimension"in n?{glue:{dimension:n.dimension}}:typeof n=="number"?{glue:{dimension:n}}:void 0}if(this.parent)return this.parent.getRegisterAsGlue(e)}getRegisterAsEm(e,r){return Fte(this.getRegisterAsDimension(e),r)}getRegisterAsDimension(e){var r;if((r=this.registers)!=null&&r[e]){let n=this.registers[e];return typeof n=="object"&&"glue"in n?n.glue:typeof n=="object"&&"dimension"in n?n:typeof n=="number"?{dimension:n}:void 0}if(this.parent)return this.parent.getRegisterAsDimension(e)}setRegister(e,r){if(r===void 0){delete this.registers[e];return}this.registers[e]=r}evaluate(e){if(!e||!("register"in e))return e;let r=this;if("global"in e&&e.global)for(;r.parent;)r=r.parent;let n=1;"factor"in e&&e.factor!==1&&e.factor!==void 0&&(n=e.factor);let i=r.getRegister(e.register);if(i===void 0)return;if(typeof i=="string")return{string:Number(i).toString()+i};if(typeof i=="number")return{number:n*i};let s=r.evaluate(i);if(s!==void 0)return"string"in s?{string:Number(i).toString()+s.string}:"number"in s?{number:n*s.number}:"dimension"in s?W(U({},s),{dimension:n*s.dimension}):"glue"in s?W(U({},s),{glue:W(U({},s.glue),{dimension:n*s.glue.dimension}),shrink:s.shrink?W(U({},s.shrink),{dimension:n*s.shrink.dimension}):void 0,grow:s.grow?W(U({},s.grow),{dimension:n*s.grow.dimension}):void 0}):e}toDimension(e){let r=this.evaluate(e);return r===void 0?null:"dimension"in r?r:"glue"in r?r.glue:"number"in r?{dimension:r.number}:null}toEm(e,r){if(e===null)return 0;let n=this.toDimension(e);return n===null?0:Mte(n,r)/YA}toNumber(e){if(e===null)return null;let r=this.evaluate(e);return r===void 0?null:"number"in r?r.number:"dimension"in r?r.dimension:"glue"in r?r.glue.dimension:"string"in r?Number(r.string):null}toColor(e){var r,n;if(e===null)return null;let i=this.evaluate(e);return i===void 0?null:"string"in i?(n=(r=this.colorMap)==null?void 0:r.call(this,i.string))!=null?n:i.string:null}toBackgroundColor(e){var r,n;if(e===null)return null;let i=this.evaluate(e);return i===void 0?null:"string"in i?(n=(r=this.backgroundColorMap)==null?void 0:r.call(this,i.string))!=null?n:i.string:null}},JA=["body","above","below","superscript","subscript"];function _d(t){return typeof t=="string"&&JA.includes(t)}function Hl(t){return t!==void 0&&Array.isArray(t)&&t.length===2}var se=class tl{constructor(e){this.isRoot=!1;var r,n,i,s,a,o,l;this.type=e.type,typeof e.value=="string"&&(this.value=e.value),this.command=(n=(r=e.command)!=null?r:this.value)!=null?n:"",this.mode=(i=e.mode)!=null?i:"math",e.isFunction&&(this.isFunction=!0),(e.isRoot||this.type==="root")&&(this.isRoot=!0),e.limits&&(this.subsupPlacement=e.limits),this.style=U({},(s=e.style)!=null?s:{}),this.displayContainsHighlight=(a=e.displayContainsHighlight)!=null?a:!1,this.captureSelection=(o=e.captureSelection)!=null?o:!1,this.skipBoundary=(l=e.skipBoundary)!=null?l:!1,e.verbatimLatex!==void 0&&e.verbatimLatex!==null&&(this.verbatimLatex=e.verbatimLatex),e.args&&(this.args=e.args),e.body&&(this.body=e.body),this._changeCounter=0}static createBox(e,r,n){var i;if(!r)return null;let s=YDe(r),a=[];for(let l of s){let c=l[0].style,u=JDe(e,l,{style:{color:c.color,backgroundColor:c.backgroundColor,fontSize:c.fontSize}});u&&a.push(u)}if(a.length===0)return null;let o=((i=n==null?void 0:n.classes)!=null?i:"").trim();return a.length===1&&!o&&!(n!=null&&n.type)?a[0].wrap(e):new ge(a,{classes:o,type:n==null?void 0:n.type}).wrap(e)}static serialize(e,r){return ds.serialize(e,r)}static commonAncestor(e,r){if(e===r||e.parent===r.parent)return e.parent;let n=new WeakSet,{parent:i}=e;for(;i;)n.add(i),i=i.parent;for(i=r.parent;i;){if(n.has(i))return i;i=i.parent}}static fromJson(e){return typeof e=="string"?new tl({type:"mord",value:e,mode:"math"}):new tl(e)}toJson(){if(this._json)return this._json;let e={};if(this.type&&(e.type=this.type),this.mode!=="math"&&(e.mode=this.mode),this.command&&this.command!==this.value&&(e.command=this.command),this.value!==void 0&&(e.value=this.value),this.style&&Object.keys(this.style).length>0&&(e.style=U({},this.style)),this.verbatimLatex!==void 0&&(e.verbatimLatex=this.verbatimLatex),this.subsupPlacement&&(e.subsupPlacement=this.subsupPlacement),this.explicitSubsupPlacement&&(e.explicitSubsupPlacement=!0),this.isFunction&&(e.isFunction=!0),this.displayContainsHighlight&&(e.displayContainsHighlight=!0),this.skipBoundary&&(e.skipBoundary=!0),this.captureSelection&&(e.captureSelection=!0),this.args&&(e.args=ZDe(this.args)),this._branches)for(let r of Object.keys(this._branches))this._branches[r]&&(e[r]=this._branches[r].filter(n=>n.type!=="first").map(n=>n.toJson()));return e.type==="mord"&&Object.keys(e).length===2&&"value"in e?e.value:(this._json=e,e)}get changeCounter(){return this.parent?this.parent.changeCounter:this._changeCounter}set isDirty(e){e&&(this._json=void 0,this.parent||this._changeCounter++,"verbatimLatex"in this&&(this.verbatimLatex=void 0),this._children=void 0,this.parent&&(this.parent.isDirty=!0))}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Tn(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,e):this.body&&this.command?ot([zt(this.command,this.bodyToLatex(e)),this.supsubToLatex(e)]):this.body?ot([this.bodyToLatex(e),this.supsubToLatex(e)]):!this.value||this.value===""?"":this.command}bodyToLatex(e){var r;let n=(r=e.defaultMode)!=null?r:this.mode==="math"?"math":"text";return ds.serialize(this.body,W(U({},e),{defaultMode:n}))}aboveToLatex(e){return ds.serialize(this.above,e)}belowToLatex(e){return ds.serialize(this.below,e)}supsubToLatex(e){let r="";if(e=W(U({},e),{defaultMode:"math"}),this.branch("subscript")!==void 0){let n=ds.serialize(this.subscript,e);n.length===0?r+="_{}":n.length===1?/^[0-9]$/.test(n)?r+=`_${n}`:r+=`_{${n}}`:r+=`_{${n}}`}if(this.branch("superscript")!==void 0){let n=ds.serialize(this.superscript,e);n.length===0?r+="^{}":n.length===1?n===""?r+="^\\prime ":n===""?r+="^\\doubleprime ":/^[0-9]$/.test(n)?r+=`^${n}`:r+=`^{${n}}`:r+=`^{${n}}`}return r}get treeDepth(){let e=1,r=this.parent;for(;r;)r=r.parent,e+=1;return e}get inCaptureSelection(){let e=this;for(;e;){if(e.captureSelection)return!0;e=e.parent}return!1}get parentPrompt(){let e=this.parent;for(;e;){if(e.type==="prompt"&&!e.captureSelection)return e;e=e.parent}return null}branch(e){if(_d(e)&&this._branches)return this._branches[e]}get branches(){if(!this._branches)return[];let e=[];for(let r of JA)this._branches[r]&&e.push(r);return e}createBranch(e){return _d(e),_d(e)?(this._branches?this._branches[e]||(this._branches[e]=[this.makeFirstAtom(e)]):this._branches={[e]:[this.makeFirstAtom(e)]},this.isDirty=!0,this._branches[e]):[]}get row(){return Hl(this.parentBranch)?this.parentBranch[0]:-1}get col(){return Hl(this.parentBranch)?this.parentBranch[1]:-1}get body(){var e;return(e=this._branches)==null?void 0:e.body}set body(e){this.setChildren(e,"body")}get superscript(){var e;return(e=this._branches)==null?void 0:e.superscript}set superscript(e){this.setChildren(e,"superscript")}get subscript(){var e;return(e=this._branches)==null?void 0:e.subscript}set subscript(e){this.setChildren(e,"subscript")}get above(){var e;return(e=this._branches)==null?void 0:e.above}set above(e){this.setChildren(e,"above")}get below(){var e;return(e=this._branches)==null?void 0:e.below}set below(e){this.setChildren(e,"below")}applyStyle(e,r){this.isDirty=!0,r!=null&&r.unstyledOnly?(e.color&&!this.style.color&&(this.style.color=e.color),e.backgroundColor&&!this.style.backgroundColor&&(this.style.backgroundColor=e.backgroundColor),e.fontFamily&&!this.style.fontFamily&&(this.style.fontFamily=e.fontFamily),e.fontShape&&!this.style.fontShape&&(this.style.fontShape=e.fontShape),e.fontSeries&&!this.style.fontSeries&&(this.style.fontSeries=e.fontSeries),e.fontSize&&!this.style.fontSize&&(this.style.fontSize=e.fontSize),e.variant&&!this.style.variant&&(this.style.variant=e.variant),e.variantStyle&&!this.style.variantStyle&&(this.style.variantStyle=e.variantStyle)):this.style=U(U({},this.style),e),this.style.fontFamily==="none"&&delete this.style.fontFamily,this.style.fontShape==="auto"&&delete this.style.fontShape,this.style.fontSeries==="auto"&&delete this.style.fontSeries,this.style.color==="none"&&(delete this.style.color,delete this.style.verbatimColor),this.style.backgroundColor==="none"&&(delete this.style.backgroundColor,delete this.style.verbatimBackgroundColor),this.style.fontSize==="auto"&&delete this.style.fontSize;for(let n of this.children)n.applyStyle(e,r)}getInitialBaseElement(){var e,r,n;return this.hasEmptyBranch("body")?this:((e=this.body)==null||e[0].type,(n=(r=this.body[1])==null?void 0:r.getInitialBaseElement())!=null?n:this)}getFinalBaseElement(){return this.hasEmptyBranch("body")?this:this.body[this.body.length-1].getFinalBaseElement()}isCharacterBox(){return this.type==="leftright"||this.type==="genfrac"||this.type==="subsup"||this.type==="delim"||this.type==="array"||this.type==="surd"?!1:this.getFinalBaseElement().type==="mord"}hasEmptyBranch(e){let r=this.branch(e);return r?(r.length>0,r[0].type,r.length===1):!0}setChildren(e,r){var n;if(!e||(_d(r),!_d(r)))return;let i=((n=e[0])==null?void 0:n.type)==="first"?[...e]:[this.makeFirstAtom(r),...e];this._branches?this._branches[r]=i:this._branches={[r]:i};for(let s of e)s.parent=this,s.parentBranch=r;this.isDirty=!0}makeFirstAtom(e){let r=new tl({type:"first",mode:this.mode});return r.parent=this,r.parentBranch=e,r}addChild(e,r){e.type,this.createBranch(r).push(e),this.isDirty=!0,e.parent=this,e.parentBranch=r}addChildBefore(e,r){r.parentBranch;let n=this.createBranch(r.parentBranch);n.splice(n.indexOf(r),0,e),this.isDirty=!0,e.parent=this,e.parentBranch=r.parentBranch}addChildAfter(e,r){r.parentBranch;let n=this.createBranch(r.parentBranch);n.splice(n.indexOf(r)+1,0,e),this.isDirty=!0,e.parent=this,e.parentBranch=r.parentBranch}addChildren(e,r){let n=this.createBranch(r);for(let i of e)i.parent=this,i.parentBranch=r,n.push(i);this.isDirty=!0}addChildrenAfter(e,r){e.length===0||e[0].type,r.parentBranch;let n=this.createBranch(r.parentBranch);n.splice(n.indexOf(r)+1,0,...e),this.isDirty=!0;for(let i of e)i.parent=this,i.parentBranch=r.parentBranch;return e[e.length-1]}removeBranch(e){let r=this.branch(e);if(_d(e)&&(this._branches[e]=void 0),!r)return[];for(let s of r)s.parent=void 0,s.parentBranch=void 0;r[0].type;let[n,...i]=r;return this.isDirty=!0,i}removeChild(e){if(e.parent,e.type==="first")return;let r=this.branch(e.parentBranch),n=r.indexOf(e);r.splice(n,1),this.isDirty=!0,e.parent=void 0,e.parentBranch=void 0}get siblings(){return this.parent?this.parent.branch(this.parentBranch):[]}get firstSibling(){return this.siblings[0]}get lastSibling(){let{siblings:e}=this;return e[e.length-1]}get isFirstSibling(){return this===this.firstSibling}get isLastSibling(){return this===this.lastSibling}get hasNoSiblings(){return this.siblings.length===1}get leftSibling(){this.parent;let e=this.parent.branch(this.parentBranch);return e[e.indexOf(this)-1]}get rightSibling(){this.parent;let e=this.parent.branch(this.parentBranch);return e[e.indexOf(this)+1]}get hasChildren(){return!!(this._branches&&this.children.length>0)}get firstChild(){return this.hasChildren,this.children[0]}get lastChild(){this.hasChildren;let{children:e}=this;return e[e.length-1]}get children(){if(this._children)return this._children;if(!this._branches)return[];let e=[];for(let r of JA)if(this._branches[r])for(let n of this._branches[r])e.push(...n.children),e.push(n);return this._children=e,e}render(e){if(this.type==="first"&&!e.atomIdsSettings)return null;let r=Tn(this.command,this.mode);if(r!=null&&r.render)return r.render(this,e);let n=new pt({parent:e},this.style),i=this.createBox(n,{classes:this.parent?"":"ML__base"});return i?(!this.subsupPlacement&&(this.superscript||this.subscript)&&(i=this.attachSupsub(n,{base:i})),i.wrap(n)):null}attachSupsub(e,r){var n;let i=r.base,s=this.superscript,a=this.subscript;if(!s&&!a)return i;let o=null,l=null,c=(n=r.isCharacterBox)!=null?n:this.isCharacterBox(),u=0;if(s){let m=new pt({parent:e,mathstyle:"superscript"});o=tl.createBox(m,s),c||(u=i.height-e.metrics.supDrop*m.scalingFactor)}let d=0;if(a){let m=new pt({parent:e,mathstyle:"subscript"});l=tl.createBox(m,a),c||(d=i.depth+e.metrics.subDrop*m.scalingFactor)}let A;e.isDisplayStyle?A=e.metrics.sup1:e.isCramped?A=e.metrics.sup3:A=e.metrics.sup2;let f=.5/YA/e.scalingFactor,p=null;if(l&&o){u=Math.max(u,A,o.depth+.25*e.metrics.xHeight),d=Math.max(d,e.metrics.sub2);let m=e.metrics.defaultRuleThickness;if(u-o.depth-(l.height-d)<4*m){d=4*m-(u-o.depth)+l.height;let g=.8*e.metrics.xHeight-(u-o.depth);g>0&&(u+=g,d-=g)}let y=this.type==="extensible-symbol"&&i.italic?-i.italic:0;p=new Vr({individualShift:[{box:l,shift:d,marginLeft:y},{box:o,shift:-u}]}).wrap(e)}else l&&!o?(d=Math.max(d,e.metrics.sub1,l.height-.8*uu),p=new Vr({shift:d,children:[{box:l,marginRight:f,marginLeft:this.isCharacterBox()?-i.italic:0}]})):!l&&o&&(u=Math.max(u,A,o.depth+.25*uu),p=new Vr({shift:-u,children:[{box:o,marginRight:f}]}));return new ge([i,new ge(p,{caret:this.caret,isSelected:this.isSelected,classes:"ML__msubsup"})],{type:r.type})}attachLimits(e,r){let n=this.superscript?tl.createBox(new pt({parent:e,mathstyle:"superscript"},this.style),this.superscript):null,i=this.subscript?tl.createBox(new pt({parent:e,mathstyle:"subscript"},this.style),this.subscript):null;return!n&&!i?r.base.wrap(e):WDe(e,W(U({},r),{above:n,below:i}))}bind(e,r){if(!r||e.isPhantom||this.value==="")return r;let n=this.parent;for(;n&&!n.captureSelection;)n=n.parent;return n!=null&&n.captureSelection||(this.id||(this.id=e.makeID()),r.atomID=this.id),r}createBox(e,r){var n,i,s,a;let o=(n=this.value)!=null?n:this.body,l=(i=r==null?void 0:r.boxType)!=null?i:z9(this.type),c=(s=r==null?void 0:r.classes)!=null?s:"";this.mode==="text"&&(c+=" ML__text");let u=typeof o=="string"||o===void 0?new ge(o??null,{type:l,isSelected:this.isSelected,mode:this.mode,maxFontSize:e.scalingFactor,style:W(U({variant:"normal"},this.style),{fontSize:Math.max(1,e.size+e.mathstyle.sizeDelta)}),letterShapeStyle:e.letterShapeStyle,classes:c}):(a=tl.createBox(e,o,{type:l,classes:c}))!=null?a:new ge(null);return e.isTight&&(u.isTight=!0),(this.mode!=="math"||this.style.variant==="main")&&(u.italic=0),u.right=u.italic,this.bind(e,u),this.caret&&!this.superscript&&!this.subscript&&(u.caret=this.caret),u}isDigit(){var e;return this.type==="mord"&&this.value?/^[\d,\.]$/.test(this.value):this.type==="group"&&((e=this.body)==null?void 0:e.length)===2?this.body[0].type==="first"&&this.body[1].value===",":!1}asDigit(){var e;return this.type==="mord"&&this.value&&/^[\d,\.]$/.test(this.value)?this.value:this.type==="group"&&((e=this.body)==null?void 0:e.length)===2&&this.body[0].type==="first"&&this.body[1].value===","?".":""}};function YDe(t){let e,r=[],n=[];for(let i of t)if(i.type==="first"&&n.push(i),!e&&!i.style)n.push(i);else{let s=i.style;e&&s.color===e.color&&s.backgroundColor===e.backgroundColor&&s.fontSize===e.fontSize?n.push(i):(n.length>0&&r.push(n),n=[i],e=s)}return n.length>0&&r.push(n),r}function JDe(t,e,r){var n,i,s,a,o;if(!e||e.length===0)return null;let l=new pt({parent:t},r.style),c=!((n=l.atomIdsSettings)!=null&&n.groupNumbers),u=[];if(e.length===1){let A=e[0],f=A.render(l);f&&(c&&A.isSelected&&f.selected(!0),u=[f])}else{let A="",f=!0;for(let p of e){(i=l.atomIdsSettings)!=null&&i.groupNumbers&&A&&(f&&p.isDigit()||!f&&X7(p))&&(l.atomIdsSettings.overrideID=A);let m=p.render(l);l.atomIdsSettings&&(l.atomIdsSettings.overrideID=void 0),m&&((s=l.atomIdsSettings)!=null&&s.groupNumbers&&((p.isDigit()||X7(p))&&(!A||f!==p.isDigit())&&(f=p.isDigit(),A=(a=p.id)!=null?a:""),A&&(!(p.isDigit()||X7(p))||!p.hasEmptyBranch("superscript")||!p.hasEmptyBranch("subscript"))&&(A="")),c&&p.isSelected&&m.selected(!0),u.push(m))}}if(u.length===0)return null;let d=new ge(u,W(U({isTight:l.isTight},r),{type:(o=r.type)!=null?o:"lift"}));return d.isSelected=u.every(A=>A.isSelected),d.wrap(l)}function X7(t){return t.mode==="text"}function ZDe(t){return t.map(e=>e===null?"<null>":Array.isArray(e)&&e[0]instanceof se?{atoms:e.map(r=>r.toJson())}:typeof e=="object"&&"group"in e?{group:e.group.map(r=>r.toJson())}:e)}var Ff=class Nte extends se{constructor(e,r,n){super({type:"text",command:e,mode:"text",displayContainsHighlight:!0}),this.value=r,this.verbatimLatex=r,this.applyStyle(n)}static fromJson(e){return new Nte(e.command,e.value,e.style)}render(e){let r=this.createBox(e);return this.caret&&(r.caret=this.caret),r}_serialize(e){var r;return(r=this.verbatimLatex)!=null?r:Ste("text",this.value.codePointAt(0))}};function eLe(t,e){if(t.direction===e.direction){let r=t.ranges.length;if(e.ranges.length===r){let n=0;for(;n<r&&tLe(t.ranges[n],e.ranges[n])==="equal";)n++;return n===r?"equal":"different"}}return"different"}function tLe(t,e){return t[0]===e[0]&&t[1]===e[1]?"equal":"different"}function jn(t){let e=1/0,r=-1/0;for(let n of t.ranges)e=Math.min(e,n[0],n[1]),r=Math.max(r,n[0],n[1]);return[e,r]}function jc(t){return typeof t=="number"&&!Number.isNaN(t)}function b3(t){return Array.isArray(t)&&t.length===2}function Sx(t){return t!=null&&typeof t=="object"&&"ranges"in t&&Array.isArray(t.ranges)}function rLe(t,e){let r=t.at(e),n;if(r){n=r.mode;let i=r.parent;for(;!n&&i;)i&&(n=i.mode),i=i.parent}return n}function nLe(t,e){if(!e)return"";if(typeof e=="string")return e;if(!t||e.after===void 0)return e.value;let r=!1,n=!1,i=!1,s=!1,a=!1,o=!1,l=!1,c=!1,u=!1,d=!1,A=!1,f=!1,p=!1,m=!1,y=!1,g=t[0],v=0;for(;g!=null&&g.type&&/^(subsup|placeholder)$/.test(g.type);)v+=1,g=t[v];return r=!g||g.type==="first",g&&(m=g.mode==="text",n=!m&&g.type==="mord"&&j9.test(g.value),i=!m&&g.type==="mord"&&/\d+$/.test(g.value),s=!m&&g.isFunction,a=g.type==="genfrac",o=g.type==="surd",l=g.type==="mbin",c=g.type==="mrel",u=g.type==="mop"||g.type==="operator"||g.type==="extensible-symbol",d=g.type==="mpunct"||g.type==="minner",A=g.type==="array",f=g.type==="mopen",p=g.type==="mclose"||g.type==="leftright",y=g.type==="space"),e.after.includes("nothing")&&r||e.after.includes("letter")&&n||e.after.includes("digit")&&i||e.after.includes("function")&&s||e.after.includes("frac")&&a||e.after.includes("surd")&&o||e.after.includes("binop")&&l||e.after.includes("relop")&&c||e.after.includes("operator")&&u||e.after.includes("punct")&&d||e.after.includes("array")&&A||e.after.includes("openfence")&&f||e.after.includes("closefence")&&p||e.after.includes("text")&&m||e.after.includes("space")&&y?e.value:""}function zF(t,e,r){return r?nLe(t,r[e]):""}var jte={"&":"\\&","%":"\\%",$:"\\$","''":"^{\\doubleprime}","'''":"^{\\prime\\prime\\prime}","''''":"^{\\prime\\prime\\prime\\prime}",alpha:"\\alpha",delta:"\\delta",Delta:"\\Delta",pi:"\\pi",Pi:"\\Pi",theta:"\\theta",Theta:"\\Theta",ii:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryI"},jj:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryJ"},ee:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\exponentialE"},nabla:"\\nabla",grad:"\\nabla",del:"\\partial",deg:{after:"digit+space",value:"\\degree"},infty:"\\infty","":"\\infty",oo:{after:"nothing+digit+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\infty"},"":"\\sum",sum:"\\sum_{#?}^{#?}",int:"\\int_{#?}^{#?}",prod:"\\prod_{#?}^{#?}",sqrt:"\\sqrt{#?}","":"\\differentialD","":"\\differentialD",sin:"\\sin",cos:"\\cos",tan:"\\tan",arccos:"\\arccos",arcsin:"\\arcsin",arctan:"\\arctan",arctg:"\\operatorname{arctg}",arcsec:"\\operatorname{arcsec}",arccsc:"\\operatorname{arccsc}",arsinh:"\\operatorname{arsinh}",arccosh:"\\operatorname{arccosh}",arcosh:"\\operatorname{arcosh}",artanh:"\\operatorname{artanh}",arctanh:"\\operatorname{arctanh}",arcsech:"\\operatorname{arcsech}",arccsch:"\\operatorname{arccsch}",ch:"\\operatorname{ch}",cosec:"\\operatorname{cosec}",cosh:"\\cosh",cot:"\\cot",cotg:"\\operatorname{cotg}",coth:"\\coth",csc:"\\csc",ctg:"\\operatorname{ctg}",cth:"\\operatorname{cth}",sec:"\\sec",sech:"\\operatorname{sech}",sinh:"\\sinh",sh:"\\operatorname{sh}",tanh:"\\tanh",tg:"\\operatorname{tg}",th:"\\operatorname{th}",arg:"\\arg",lg:"\\lg",lb:"\\operatorname{lb}",log:"\\log_{#?}",ln:"\\ln",exp:"\\exp",lim:"\\lim_{#?\\to#?}",dx:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD x"},dy:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD y"},dt:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD t"},AA:"\\forall",EE:"\\exists","!EE":"\\nexists","&&":"\\land",xin:{after:"nothing+text+relop+punct+openfence+space",value:"x \\in"},sint:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\sin t"},in:{after:"nothing+letter+closefence",value:"\\in"},"!in":"\\notin",NN:"\\mathbb{N}",ZZ:"\\mathbb{Z}",QQ:"\\mathbb{Q}",RR:"\\mathbb{R}",CC:"\\mathbb{C}",xx:"\\times","+-":"\\pm","":"\\ne","!=":"\\ne","":"\\ge",">=":"\\ge","":"\\le","<=":"\\le","<<":"\\ll",">>":"\\gg","~~":"\\approx","":"\\approx","?=":"\\questeq","":"\\div","":"\\neg",":=":"\\coloneq","::":"\\Colon","(:":"\\langle",":)":"\\rangle",beta:"\\beta",chi:"\\chi",epsilon:"\\epsilon",varepsilon:"\\varepsilon",eta:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta"},gamma:"\\gamma",Gamma:"\\Gamma",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",Lambda:"\\Lambda",mu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu"},nu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\nu"},:"\\mu",phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\phi"},Phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Phi"},varphi:"\\varphi",psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\psi"},Psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Psi"},rho:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\rho"},sigma:"\\sigma",Sigma:"\\Sigma",tau:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\tau"},vartheta:"\\vartheta",upsilon:"\\upsilon",xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\xi"},Xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Xi"},zeta:"\\zeta",omega:"\\omega",Omega:"\\Omega",:"\\omega",forall:"\\forall",exists:"\\exists","!exists":"\\nexists",":.":"\\therefore",liminf:"\\liminf_{#?}",limsup:"\\limsup_{#?}",argmin:"\\operatorname*{arg~min}_{#?}",argmax:"\\operatorname*{arg~max}_{#?}",det:"\\det",mod:"\\bmod{#?}","(mod":"\\pmod{#?}",max:"\\max",min:"\\min",erf:"\\operatorname{erf}",erfc:"\\operatorname{erfc}",bessel:"\\operatorname{bessel}",mean:"\\operatorname{mean}",median:"\\operatorname{median}",fft:"\\operatorname{fft}",lcm:"\\operatorname{lcm}",gcd:"\\gcd",randomReal:"\\operatorname{randomReal}",randomInteger:"\\operatorname{randomInteger}",Re:"\\operatorname{Re}",Im:"\\operatorname{Im}",mm:{after:"nothing+digit+operator",value:"\\operatorname{mm}"},cm:{after:"nothing+digit+operator",value:"\\operatorname{cm}"},km:{after:"nothing+digit+operator",value:"\\operatorname{km}"},kg:{after:"nothing+digit+operator",value:"\\operatorname{kg}"},ft:{after:"nothing+digit+operator",value:"\\operatorname{ft}"},inch:{after:"nothing+digit+operator",value:"\\operatorname{inch}"},mi:{after:"nothing+digit+operator",value:"\\operatorname{mi}"},"...":"\\ldots","+...":"+\\cdots","-...":"-\\cdots","->...":"\\to\\cdots","-->...":"\\longrightarrow\\cdots","->":"\\to","|->":"\\mapsto","-->":"\\longrightarrow","<--":"\\longleftarrow","=>":"\\Rightarrow","==>":"\\Longrightarrow","<=>":"\\iff","<->":"\\leftrightarrow","(.)":"\\odot","(+)":"\\oplus","(/)":"\\oslash","(*)":"\\otimes","(-)":"\\ominus","||":"\\Vert","*":"\\cdot","**":"\\star","***":"\\ast","//":"\\slash","\\\\":"\\backslash",setminus:"\\backslash","|><":"\\ltimes","><|":"\\rtimes","|><|":"\\bowtie","-:":"\\div",divide:"\\div","@":"\\circ","^^":"\\wedge","^^^":"\\bigwedge",vv:"\\vee",vvv:"\\bigvee",nn:"\\cap",nnn:"\\bigcap",uu:"\\cup",uuu:"\\bigcup","-=":"\\equiv","~=":"\\cong",lt:"<","lt=":"\\leq",gt:">","gt=":"\\geq","-<":"\\prec","-lt":"\\prec","-<=":"\\preceq",">-=":"\\succeq",prop:"\\propto",diamond:"\\diamond",square:"\\square",iff:"\\iff",sub:"\\subset",sup:"\\supset",sube:"\\subseteq",supe:"\\supseteq",uarr:"\\uparrow",darr:"\\downarrow",rarr:"\\rightarrow",rArr:"\\Rightarrow",larr:"\\leftarrow",lArr:"\\Leftarrow",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",aleph:"\\aleph",and:"\\land",or:"\\lor",not:"\\neg","_|_":"\\bot",TT:"\\top","|--":"\\vdash","|==":"\\models","|__":"\\lfloor","__|":"\\rfloor","|~":"\\lceil","~|":"\\rceil",">->":"\\rightarrowtail","->>":"\\twoheadrightarrow",">->>":"\\twoheadrightarrowtail",times:"\\times",of:"\\circ",infinity:"\\infty",defint:"\\int_{#?}^{#?}",approaches:"\\to",ceil:"\\left\\lceil#?\\right\\rceil",floor:"\\left\\lfloor#?\\right\\rfloor",union:"\\cup",asterisk:"\\ast",frac:"\\frac{#?}{#?}",cbrt:"\\sqrt[3]{#?}",nthroot:"\\sqrt[#?]{#?}"};function V9(t,e){var r;let n=(r=e==null?void 0:e.format)!=null?r:"auto";return n==="auto"&&([n,t]=iLe(t)),n==="ascii-math"?(t=t.replace(/\u2061/gu,""),t=t.replace(/\u3016/gu,"{"),t=t.replace(/\u3017/gu,"}"),t=t.replace(/([^\\])sinx/g,"$1\\sin x"),t=t.replace(/([^\\])cosx/g,"$1\\cos x "),t=t.replace(/\u2013/g,"-"),["ascii-math",_i(t,{inlineShortcuts:e==null?void 0:e.inlineShortcuts})]):["latex",t]}function _i(t,e){var r;if(t=t.trim(),!t)return"";let n=(r=e.inlineShortcuts)!=null?r:jte;if(t.startsWith("^")||t.startsWith("_")){let{match:o,rest:l}=ud(t.slice(1),{inlineShortcuts:n,noWrap:!0});return`${t[0]}{${o}}${_i(l,e)}`}let i=t.match(/^(sqrt|\u221A)(.*)/);if(i){let{match:o,rest:l}=ud(i[2],{inlineShortcuts:n,noWrap:!0});return`\\sqrt{${o??"\\placeholder{}"}}${_i(l,e)}`}if(i=t.match(/^(\\cbrt|\u221B)(.*)/),i){let{match:o,rest:l}=ud(i[2],{inlineShortcuts:n,noWrap:!0});return`\\sqrt[3]{${o??"\\placeholder{}"}}${_i(l,e)}`}if(i=t.match(/^abs(.*)/),i){let{match:o,rest:l}=ud(i[1],{inlineShortcuts:n,noWrap:!0});return`\\left|${o??"\\placeholder{}"}\\right|${_i(l,e)}`}if(i=t.match(/^["](.*?)["](.*)/),i)return`\\text{${i[1]}}${_i(i[2],e)}`;if(i=t.match(/^([^a-zA-Z0-9\(\{\[\_\^\\\s"]+)(.*)/),i)return`${CH(i[1],n)}${_i(i[2],e)}`;if(/^([fgh])[^a-zA-Z]/.test(t)){let{rest:o,match:l}=ud(t.slice(1),{inlineShortcuts:n,noWrap:!0}),c="";return t[1]==="("?c=`${t[0]}\\left(${l}\\right)`:c=t[0]+l,c+_i(o,e)}if(i=t.match(/^([a-zA-Z]+)(.*)/),i)return CH(i[1],n)+_i(i[2],e);let{match:s,rest:a}=ud(t,{inlineShortcuts:n,noWrap:!0});if(s&&a[0]==="/"){let o=ud(a.slice(1),{inlineShortcuts:n,noWrap:!0});if(o.match)return`\\frac{${s}}{${o.match}}${_i(o.rest,e)}`}else return t.startsWith("(")?"\\left("+s+"\\right)"+_i(a,e):s+_i(a,e);return i=t.match(/^(\s+)(.*)$/),i?" "+_i(i[2],e):t}var wH={"[":"\\lbrack","]":"\\rbrack","{":"\\lbrace","}":"\\rbrace"};function ud(t,e){var r,n;let i="";t=t.trim();let s=t,a=t.charAt(0),o={"(":")","{":"}","[":"]"}[a];if(o){let l=1,c=1;for(;c<t.length&&l>0;)t[c]===a&&l++,t[c]===o&&l--,c++;if(l===0){let u=_i(t.substring(1,c-1),e);e.noWrap&&a==="("?i=u:i=`\\left${(r=wH[a])!=null?r:a}${u}\\right${(n=wH[o])!=null?n:o}`,s=t.slice(Math.max(0,c))}else i=t.substring(1,c),s=""}else{let l=t.match(/^([a-zA-Z]+)/);if(l){let c=zF(null,t,e.inlineShortcuts);if(c)return c=c.replace("_{#?}",""),c=c.replace("^{#?}",""),{match:c,rest:t.slice(c.length)}}if(l=t.match(/^([a-zA-Z])/),l)return{match:l[1],rest:t.slice(1)};if(l=t.match(/^(-)?\d+(\.\d*)?/),l)return{match:l[0],rest:t.slice(l[0].length)};/^\\(left|right)/.test(t)||(l=t.match(/^(\\[a-zA-Z]+)/),l&&(s=t.slice(l[1].length),i=l[1]))}return{match:i,rest:s}}function CH(t,e){let r=zF(null,t,e);return r?(r=r.replace("_{#?}",""),r=r.replace("^{#?}",""),r+=" "):r=t,r}var Ite=[["\\[","\\]"],["\\(","\\)"],["$$","$$"],["$","$"],["\\begin{math}","\\end{math}"],["\\begin{displaymath}","\\end{displaymath}"],["\\begin{equation}","\\end{equation}"],["\\begin{equation*}","\\end{equation*}"]];function $F(t){let e=t.trim();for(let r of Ite)if(e.startsWith(r[0])&&e.endsWith(r[1]))return[!0,e.substring(r[0].length,e.length-r[1].length)];return[!1,t]}function iLe(t){if(t=t.trim(),t.length<=1)return["latex",t];let e;return[e,t]=$F(t),e?["latex",t]:t.startsWith("`")&&t.endsWith("`")?(t=t.substring(1,t.length-1),["ascii-math",t]):t.includes("\\")?["latex",t]:/\$.+\$/.test(t)?["latex",`\\text{${t}}`]:[void 0,t]}var sLe="$$",aLe="$$",oLe=(t,e,r)=>(Ite.some(n=>e.startsWith(n[0])&&e.endsWith(n[1]))||(e=`${sLe} ${e} ${aLe}`),e),Ote=class Bx{constructor(e){Bx._modes[e]=this}static onPaste(e,r,n){var i;if(!r.contentEditable&&r.userSelect==="none")return r.model.announce("plonk"),!1;if(typeof n=="string"){let a=new DataTransfer;a.setData("text/plain",n),n=a}let s=new ClipboardEvent("paste",{clipboardData:n,cancelable:!0});return(i=r.host)!=null&&i.dispatchEvent(s)?Bx._modes[e].onPaste(r,n):!1}static copyToClipboard(e,r){if(!e.contentEditable&&e.userSelect==="none"){e.model.announce("plonk");return}let n=e.model,i=n.selectionIsCollapsed?[0,n.lastOffset]:jn(n.selection),s=n.getValue(i,r);navigator.clipboard.writeText(s).then(()=>{},()=>e.model.announce("plonk"))}static onCopy(e,r){var n;if(!r.clipboardData)return;if(!e.contentEditable&&e.userSelect==="none"){e.model.announce("plonk");return}let i=e.model,s=i.selectionIsCollapsed?[0,i.lastOffset]:jn(i.selection),a=i.getAtoms(s);if(a.every(o=>o.mode==="text"||!o.mode))r.clipboardData.setData("text/plain",a.filter(o=>o instanceof Ff).map(o=>o.value).join(""));else if(a.every(o=>o.mode==="latex"))r.clipboardData.setData("text/plain",i.getAtoms(s,{includeChildren:!0}).map(o=>{var l;return(l=o.value)!=null?l:""}).join(""));else{let o;a.length===1&&a[0].verbatimLatex!==void 0?o=a[0].verbatimLatex:o=i.getValue(s,"latex-expanded"),r.clipboardData.setData("application/x-latex",o);try{r.clipboardData.setData("text/plain",e.options.onExport(e,o,s))}catch{}if(a.length===1){let l=a[0];(l.type==="root"||l.type==="group")&&(a=l.body.filter(c=>c.type!=="first"))}try{r.clipboardData.setData("application/json+mathlive",JSON.stringify(a.map(l=>l.toJson())))}catch{}if((n=window[Symbol.for("io.cortexjs.compute-engine")])!=null&&n.ComputeEngine){let l=globalThis.MathfieldElement.computeEngine;if(l)try{let c=l.jsonSerializationOptions;l.jsonSerializationOptions={metadata:["latex"]};let u=l.parse(i.getValue(s,"latex-unstyled"));l.jsonSerializationOptions=c;let d=JSON.stringify(u.json);d&&r.clipboardData.setData("application/json",d)}catch{}}}r.preventDefault()}static insert(e,r,n={}){var i;let s=n.mode==="auto"?e.mode:(i=n.mode)!=null?i:e.mode;return Bx._modes[s].insert(e,r,n)}onPaste(e,r){return!1}insert(e,r,n){return!1}};Ote._modes={};var Qt=Ote,lLe=[{key:"left",command:"moveToPreviousChar"},{key:"right",command:"moveToNextChar"},{key:"up",command:"moveUp"},{key:"down",command:"moveDown"},{key:"shift+[ArrowLeft]",command:"extendSelectionBackward"},{key:"shift+[ArrowRight]",command:"extendSelectionForward"},{key:"shift+[ArrowUp]",command:"extendSelectionUpward"},{key:"shift+[ArrowDown]",command:"extendSelectionDownward"},{key:"[Backspace]",command:"deleteBackward"},{key:"alt+[Delete]",command:"deleteBackward"},{key:"[Delete]",command:"deleteForward"},{key:"alt+[Backspace]",command:"deleteForward"},{key:"alt+[ArrowLeft]",command:"moveToPreviousWord"},{key:"alt+[ArrowRight]",command:"moveToNextWord"},{key:"shift+alt+[ArrowLeft]",command:"extendToPreviousWord"},{key:"shift+alt+[ArrowRight]",command:"extendToNextWord"},{key:"ctrl+[ArrowLeft]",command:"moveToGroupStart"},{key:"ctrl+[ArrowRight]",command:"moveToGroupEnd"},{key:"shift+ctrl+[ArrowLeft]",command:"extendToGroupStart"},{key:"shift+ctrl+[ArrowRight]",command:"extendToGroupEnd"},{key:"[Home]",command:"moveToMathfieldStart"},{key:"cmd+[ArrowLeft]",command:"moveToMathfieldStart"},{key:"shift+[Home]",command:"extendToMathFieldStart"},{key:"shift+cmd+[ArrowLeft]",command:"extendToMathFieldStart"},{key:"[End]",command:"moveToMathfieldEnd"},{key:"cmd+[ArrowRight]",command:"moveToMathfieldEnd"},{key:"shift+[End]",command:"extendToMathFieldEnd"},{key:"shift+cmd+[ArrowRight]",command:"extendToMathFieldEnd"},{key:"[Pageup]",command:"moveToGroupStart"},{key:"[Pagedown]",command:"moveToGroupEnd"},{key:"[Tab]",command:"moveToNextGroup"},{key:"shift+[Tab]",command:"moveToPreviousGroup"},{key:"[Escape]",ifMode:"math",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"text",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"latex",command:["complete","complete",{selectItem:"true"}]},{key:"\\",ifMode:"math",command:["switchMode","latex","","\\"]},{key:"[IntlBackslash]",ifMode:"math",command:["switchMode","latex","","\\"]},{key:"[Tab]",ifMode:"latex",command:["complete","accept-suggestion"]},{key:"[Return]",ifMode:"latex",command:"complete"},{key:"[Enter]",ifMode:"latex",command:"complete"},{key:"shift+[Escape]",ifMode:"latex",command:["complete","reject"]},{key:"[ArrowDown]",ifMode:"latex",command:"nextSuggestion"},{key:"[ArrowUp]",ifMode:"latex",command:"previousSuggestion"},{key:"ctrl+a",ifPlatform:"!macos",command:"selectAll"},{key:"cmd+a",command:"selectAll"},{key:"[Cut]",command:"cutToClipboard"},{key:"[Copy]",command:"copyToClipboard"},{key:"[Paste]",command:"pasteFromClipboard"},{key:"[Clear]",command:"deleteBackward"},{key:"[Undo]",command:"undo"},{key:"[Redo]",command:"redo"},{key:"[EraseEof]",command:"deleteToGroupEnd"},{key:"ctrl+x",ifPlatform:"ios",command:"cutToClipboard"},{key:"cmd+x",ifPlatform:"ios",command:"cutToClipboard"},{key:"ctrl+c",ifPlatform:"ios",command:"copyToClipboard"},{key:"cmd+c",ifPlatform:"ios",command:"copyToClipboard"},{key:"ctrl+v",ifPlatform:"ios",command:"pasteFromClipboard"},{key:"cmd+v",ifPlatform:"ios",command:"pasteFromClipboard"},{key:"ctrl+z",ifPlatform:"!macos",command:"undo"},{key:"cmd+z",command:"undo"},{key:"ctrl+y",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+y",command:"redo"},{key:"shift+ctrl+z",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+z",command:"redo"},{key:"ctrl+b",ifPlatform:"macos",command:"moveToPreviousChar"},{key:"ctrl+f",ifPlatform:"macos",command:"moveToNextChar"},{key:"ctrl+p",ifPlatform:"macos",command:"moveUp"},{key:"ctrl+n",ifPlatform:"macos",command:"moveDown"},{key:"ctrl+a",ifPlatform:"macos",command:"moveToMathfieldStart"},{key:"ctrl+e",ifPlatform:"macos",command:"moveToMathfieldEnd"},{key:"shift+ctrl+b",ifPlatform:"macos",command:"extendSelectionBackward"},{key:"shift+ctrl+f",ifPlatform:"macos",command:"extendSelectionForward"},{key:"shift+ctrl+p",ifPlatform:"macos",command:"extendSelectionUpward"},{key:"shift+ctrl+n",ifPlatform:"macos",command:"extendSelectionDownward"},{key:"shift+ctrl+a",ifPlatform:"macos",command:"extendToMathFieldStart"},{key:"shift+ctrl+e",ifPlatform:"macos",command:"extendToMathFieldEnd"},{key:"alt+ctrl+b",ifPlatform:"macos",command:"moveToPreviousWord"},{key:"alt+ctrl+f",ifPlatform:"macos",command:"moveToNextWord"},{key:"shift+alt+ctrl+b",ifPlatform:"macos",command:"extendToPreviousWord"},{key:"shift+alt+ctrl+f",ifPlatform:"macos",command:"extendToNextWord"},{key:"ctrl+h",ifPlatform:"macos",command:"deleteBackward"},{key:"ctrl+d",ifPlatform:"macos",command:"deleteForward"},{key:"ctrl+l",ifPlatform:"macos",command:"scrollIntoView"},{key:"ctrl+[Digit2]",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"ctrl+[Digit5]",ifMode:"math",command:"moveToOpposite"},{key:"ctrl+[Digit6]",ifMode:"math",command:"moveToSuperscript"},{key:"ctrl+[Return]",ifMode:"math",command:"addRowAfter"},{key:"ctrl+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Return]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"alt+p",ifMode:"math",command:["insert","\\pi"]},{key:"alt+v",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"alt+o",ifMode:"math",command:["insert","\\emptyset"]},{key:"alt+d",ifMode:"math",command:["insert","\\differentialD"]},{key:"shift+alt+o",ifMode:"math",command:["insert","\\varnothing"]},{key:"shift+alt+d",ifMode:"math",command:["insert","\\partial"]},{key:"alt+[Backslash]",ifMode:"math",command:["insert","\\backslash"]},{key:"[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#?}{#@}"]},{key:"shift+alt+k",command:"toggleKeystrokeCaption"},{key:"alt+[Space]",command:"toggleContextMenu"},{key:"alt+shift+[Space]",command:"toggleVirtualKeyboard"},{key:"alt+ctrl+[ArrowUp]",command:["speak","all",{withHighlighting:!1}]},{key:"alt+ctrl+[ArrowDown]",command:["speak","selection",{withHighlighting:!1}]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["switchMode","text","",""]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["switchMode","math","",""]},{key:"shift+alt+[KeyT]",ifMode:"math",command:["switchMode","text"]},{key:"shift+alt+[KeyT]",ifMode:"text",command:["switchMode","math"]},{key:"/",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","/"]},{key:"alt+shift+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","/"]},{key:"alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrack #0 \\right\\rbrack"]},{key:"ctrl+[Minus]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"moveToSubscript"},{key:"shift+alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrace #0 \\right\\rbrace"]},{key:"ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"shift+ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"shift+cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"ctrl+[Backspace]",ifMode:"math",command:"removeRow"},{key:"cmd+[Backspace]",ifMode:"math",command:"removeRow"},{key:"alt+[Tab]",ifMode:"math",command:"addColumnAfter"},{key:"shift+alt+[Tab]",ifMode:"math",command:"addColumnBefore"},{key:"alt+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"shift+alt+[Enter]",ifMode:"math",command:"addRowBefore"},{key:"alt+[Return]",ifMode:"math",command:"addRowAfter"},{key:"shift+alt+[Return]",ifMode:"math",command:"addRowBefore"},{key:"shift+[Backspace]",ifMode:"math",command:"removeColumn"},{key:"alt+[Digit5]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$\\infty"]},{key:"alt+[Digit9]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","("]},{key:"alt+[Digit0]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert",")"]},{key:"alt+|",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","|"]},{key:"shift+[Backquote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\~"]},{key:"[Backquote]",ifLayout:["windows.french","linux.french"],ifMode:"math",command:["insert","^2"]},{key:"[Backquote]",ifLayout:["windows.german","linux.german"],ifMode:"math",command:["insert","^"]},{key:"[IntlBackslash]",ifLayout:["apple.german"],ifMode:"math",command:["insert","^"]}],cLe={"\\sqrt":["alt+v","ctrl+[Digit2]"],"\\pi":"alt+p","\\infty":"alt+[Digit5]","\\differentialD":"alt+d","\\partial":"shift+alt+d","\\frac":"Slash","\\emptyset":"alt+o","\\varnothing":"shift+alt+o","\\~":"~"};function Hc(t){var e;return((e=t.element)==null?void 0:e.mathfield)===t}function uLe(t){var e,r;return(r=(e=t.querySelector(".ML__caret"))!=null?e:t.querySelector(".ML__text-caret"))!=null?r:t.querySelector(".ML__latex-caret")}function _x(t){let e=uLe(t);if(!e)return null;let r=e.getBoundingClientRect();return{x:r.right,y:r.bottom,height:r.height}}function dLe(t){var e;if(!t.parent)return"root";let r=(e=t.parent.id)!=null?e:"";return r+=typeof t.parentBranch=="string"?"-"+t.parentBranch:`-${t.parentBranch[0]}/${t.parentBranch[0]}`,r}function Pte(t,e,r){if(!e)return null;let n=t.field.getBoundingClientRect(),i=e.right-e.left,s=e.bottom-e.top,a=Math.ceil(e.left-n.left+t.field.scrollLeft*r),o=Math.ceil(e.top-n.top);return{left:a,right:a+i,top:o,bottom:o+s}}function Ute(t){let e=t.getBoundingClientRect(),r=parseInt(getComputedStyle(t).marginRight),n={top:e.top-1,bottom:e.bottom,left:e.left,right:e.right-1+r};if(t.children.length===0||t.tagName.toUpperCase()==="SVG")return n;for(let i of t.children)if(i.nodeType===1&&"atomId"in i.dataset&&!i.classList.contains("ML__pstrut")){let s=Ute(i);n.left=Math.min(n.left,s.left),n.right=Math.max(n.right,s.right),n.top=Math.min(n.top,s.top),n.bottom=Math.max(n.bottom,s.bottom)}return n}function Tf(t,e){var r,n;if(!e.id)return null;let i=(n=(r=t.atomBoundsCache)==null?void 0:r.get(e.id))!=null?n:null;if(i!==null)return i;let s=t.field.querySelector(`[data-atom-id="${e.id}"]`);return i=s?Ute(s):null,t.atomBoundsCache&&(i?t.atomBoundsCache.set(e.id,i):t.atomBoundsCache.delete(e.id)),i??null}function hLe(t,e){let[r,n]=e,i=null;for(let s=r;s<=n;s++){let a=Tf(t,t.model.at(s));a&&(i?(i.top=Math.min(i.top,a.top),i.bottom=Math.max(i.bottom,a.bottom),i.left=Math.min(i.left,a.left),i.right=Math.max(i.right,a.right)):i=a)}return i??{top:0,bottom:0,left:0,right:0}}function ALe(t,e,r){let n=new Map,i=t.field,s=i.offsetWidth,a=Math.floor(i.getBoundingClientRect().width)/s;a=isNaN(a)?1:a;for(let o of t.model.getAtoms(e,{includeChildren:!0})){if(r!=null&&r.excludeAtomsWithBackground&&o.style.backgroundColor)continue;let l=Pte(t,Tf(t,o),a);if(l){let c=dLe(o);if(n.has(c)){let u=n.get(c);n.set(c,{left:Math.min(u.left,l.left),right:Math.max(u.right,l.right),top:Math.min(u.top,l.top),bottom:Math.max(u.bottom,l.bottom)})}else n.set(c,l)}}return[...n.values()]}function Qte(t,e){return t.model.selection.ranges.reduce((r,n)=>r.concat(...ALe(t,n,e)),[])}function VF(t,e){return t==="*"||e==="none"?!0:e==="same-origin"?!window.origin||t===window.origin:typeof e=="function"?e(t):!1}function Rte(t){let e=0,r=0,n=t.offsetWidth,i=t.offsetHeight;for(;t instanceof HTMLElement;)e+=t.offsetTop,r+=t.offsetLeft,t=t.offsetParent;return new DOMRect(r,e,n,i)}function Hte(t,e){if(!t)return;let r=t.model.at(e);if(!r)return;let n={},i=Tf(t,r);i&&(n.bounds=new DOMRect(i.left,i.top,i.right-i.left,i.bottom-i.top)),n.depth=r.treeDepth-2,n.style=r.style;let s=r;for(;s;){if(s.command==="\\htmlData"&&s.args&&typeof s.args[0]=="string"){let a=s.args[0].split(",");for(let o of a){let l=o.match(/([^=]+)=(.+$)/);if(l){let c=l[1].trim().replace(/ /g,"-");c&&(n.data||(n.data={}),n.data[c]=l[2])}else{let c=o.trim().replace(/ /g,"-");c&&(n.data||(n.data={}),n.data[c]=void 0)}}}(s.command==="\\htmlId"||s.command==="\\cssId")&&!n.id&&s.args&&typeof s.args[0]=="string"&&(n.id=s.args[0]),s=s.parent}return(r.mode==="math"||r.mode==="text")&&(n.latex=se.serialize([r],{defaultMode:"math"})),n}function fLe(t,e){let r=t.model.at(e);for(;r;){if(r.command==="\\href"){let n=r.args[0];if(typeof n=="string")return n}r=r.parent}return""}var pLe=`@keyframes ML__caret-blink {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
}
.ML__container {
  display: inline-flex;
  flex-flow: row;
  justify-content: space-between;
  align-items: flex-end;
  min-height: 39px;
  /* Need some room for the virtual keyboard toggle */
  width: 100%;
  padding: 4px;
  box-sizing: border-box;
  /* This attribute is necessary to work around a Firefox issue where 
  where clicking multiple times on the border leads to a focused mathfield that cannot be edited until focus is lost and regained (also fixes the multiple cursor issue on firefox that can occur with the same sequence of events).
  */
  pointer-events: auto;
  /* Prevent the browser from trying to interpret touch gestures in the field */
  /* "Disabling double-tap to zoom removes the need for browsers to
        delay the generation of click events when the user taps the screen." */
  touch-action: none;
  --_caret-color: var(--caret-color, hsl(var(--_hue), 40%, 49%));
  --_selection-color: var(--selection-color, #000);
  --_selection-background-color: var(--selection-background-color, hsl(var(--_hue), 70%, 85%));
  --_text-highlight-background-color: var(--highlight-text, hsla(var(--_hue), 40%, 50%, 0.1));
  --_contains-highlight-background-color: var(--contains-highlight-background-color, hsl(var(--_hue), 40%, 95%));
  --_smart-fence-color: var(--smart-fence-color, currentColor);
  --_smart-fence-opacity: var(--smart-fence-opacity, 0.5);
  --_latex-color: var(--latex-color, hsl(var(--_hue), 80%, 40%));
  --_correct-color: var(--correct-color, #10a000);
  --_incorrect-color: var(--incorrect-color, #a01b00);
  --_composition-background-color: var(--composition-background-color, #fff1c2);
  --_composition-text-color: var(--composition-text-color, black);
  --_composition-underline-color: var(--composition-underline-color, transparent);
  --_tooltip-border: var(--tooltip-border, 1px solid transparent);
  --_tooltip-border-radius: var(--tooltip-border-radius, 8px);
  --_tooltip-background-color: var(--tooltip-background-color, #616161);
  --_tooltip-color: var(--tooltip-color, #fff);
  --_tooltip-box-shadow: var(--tooltip-box-shadow, 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2));
}
@media (hover: none) and (pointer: coarse) {
  :host(:not(:focus)) .ML__container {
    pointer-events: none;
  }
}
/* This is the actual field content (formula) */
.ML__content {
  display: flex;
  align-items: center;
  align-self: center;
  position: relative;
  overflow: hidden;
  padding: 2px 3px 2px 1px;
  width: 100%;
  /* Encourage the browser to use the GPU to render the field.
     Weirdly, this is required for prompts to be rendered correctly. 
   */
  isolation: isolate;
}
.ML__virtual-keyboard-toggle,
.ML__menu-toggle {
  box-sizing: border-box;
  display: flex;
  align-self: center;
  align-items: center;
  flex-shrink: 0;
  flex-direction: column;
  justify-content: center;
  width: 34px;
  height: 34px;
  padding: 0;
  margin-right: 4px;
  cursor: pointer;
  /* Avoid some weird blinking with :hover */
  border-radius: 8px;
  border: 1px solid transparent;
  transition: background 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);
  color: hsl(var(--_hue), 40%, 50%);
  fill: currentColor;
  background: transparent;
}
.ML__virtual-keyboard-toggle:hover,
.ML__menu-toggle:hover {
  background: hsla(0, 0%, 70%, 0.3);
  color: #333;
  fill: currentColor;
}
.ML__virtual-keyboard-toggle > span,
.ML__menu-toggle > span {
  display: flex;
  align-self: center;
  align-items: center;
}
@media (pointer: coarse) {
  .ML__virtual-keyboard-toggle,
  .ML__menu-toggle {
    min-width: 60px;
    min-height: 60px;
  }
}
/* The invisible element used to capture keyboard events. We're just trying
 really hard to make sure it doesn't show. */
.ML__keyboard-sink {
  display: inline-block;
  resize: none;
  outline: none;
  border: none;
  /* Need these for Microsoft Edge */
  position: fixed;
  clip: rect(0 0 0 0);
  /* Need this to prevent iOS Safari from auto-zooming */
  font-size: 1em;
  font-family: KaTeX_Main;
  line-height: 0.5;
  /* On Chromium, if this is 0, no keyboard events are received */
}
[part='placeholder'] {
  color: var(--neutral-400);
}
.ML__composition {
  background: var(--_composition-background-color);
  color: var(--_composition-text-color);
  text-decoration: underline var(--_composition-underline-color);
}
.ML__caret {
  display: inline-block;
}
.ML__caret::after {
  content: '';
  visibility: hidden;
  width: 0;
  display: inline-block;
  height: 0.76em;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_caret-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.045em;
  bottom: -0.05em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__text-caret::after {
  content: '';
  visibility: hidden;
  width: 0;
  display: inline-block;
  height: 0.76em;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_caret-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.045em;
  bottom: -0.05em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__latex-caret::after {
  content: '';
  visibility: hidden;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_latex-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.019em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__focused .ML__latex-caret::after,
.ML__focused .ML__text-caret::after,
.ML__focused .ML__caret::after {
  visibility: visible;
}
.ML__focused .ML__text {
  background: var(--_text-highlight-background-color);
}
/* When using smartFence, the anticipated closing fence is displayed
with this style */
.ML__smart-fence__close {
  opacity: var(--_smart-fence-opacity);
  color: var(--_smart-fence-color);
}
.ML__selected,
.ML__focused .ML__selected .ML__contains-caret,
.ML__focused .ML__selected .ML__smart-fence__close,
.ML__focused .ML__selected .ML__placeholder {
  color: var(--_selection-color);
  opacity: 1;
}
.ML__selection {
  box-sizing: border-box;
  background: transparent;
}
:host(:focus) .ML__selection {
  background: var(--_selection-background-color) !important;
}
.ML__contains-caret.ML__close,
.ML__contains-caret.ML__open,
.ML__contains-caret > .ML__close,
.ML__contains-caret > .ML__open,
.ML__contains-caret .ML__sqrt-sign,
.ML__contains-caret .ML__sqrt-line {
  color: var(--_caret-color);
}
.ML__contains-highlight {
  box-sizing: border-box;
  background: transparent;
}
.ML__focused .ML__contains-highlight {
  background: var(--_contains-highlight-background-color);
}
.ML__raw-latex {
  font-family: 'Berkeley Mono', 'IBM Plex Mono', 'Source Code Pro', Consolas, 'Roboto Mono', Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;
  font-weight: 400;
  font-size: 0.8em;
  letter-spacing: -0.05em;
  color: var(--_latex-color);
}
.ML__suggestion {
  color: var(--neutral-500);
}
.ML__virtual-keyboard-toggle.is-visible.is-pressed:hover {
  background: hsl(var(--_hue), 25%, 35%);
  color: #fafafa;
  fill: currentColor;
}
.ML__virtual-keyboard-toggle.is-pressed,
.ML__virtual-keyboard-toggle.is-active:hover,
.ML__virtual-keyboard-toggle.is-active {
  background: hsl(var(--_hue), 25%, 35%);
  color: #fafafa;
  fill: currentColor;
}
/* Add an attribute 'data-tooltip' to automatically show a
   tooltip over a element on hover.
*/
[data-tooltip] {
  position: relative;
}
[data-tooltip]::after {
  content: attr(data-tooltip);
  position: absolute;
  display: block;
  z-index: 2;
  pointer-events: none;
  right: auto;
  top: calc(-100% - 4px);
  width: max-content;
  max-width: 200px;
  padding: 8px 8px;
  border-radius: 4px;
  background: #616161;
  color: #fff;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  text-align: center;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-style: normal;
  font-weight: 400;
  font-size: 13px;
  /* Phone */
  opacity: 0;
  transform: scale(0.5);
}
@media only screen and (max-width: 767px) {
  [data-tooltip]::after {
    padding: 8px 16px;
    font-size: 16px;
  }
}
menu [data-tooltip]::after {
  left: 100%;
  top: 0%;
}
menu .ML__base {
  cursor: default;
}
/** Don't display if we're tracking, i.e. have the pointer down */
.tracking [data-tooltip]:hover::after {
  /* Use visibility, not display. Display will remove the after from the DOM, and the override below will not work */
  visibility: hidden;
}
/** But do display if tracking and inside a menu */
.tracking menu li[data-tooltip]:hover::after,
[data-tooltip]:hover::after {
  visibility: visible;
  opacity: 1;
  transform: scale(1);
  transition-property: opacity, scale;
  transition-duration: 0.15s;
  transition-delay: 1s;
  transition-timing-function: cubic-bezier(0.4, 0, 1, 1);
}
.ML__prompt {
  border-radius: 2px;
}
.ML__editablePromptBox {
  outline: 1px solid #acacac;
  border-radius: 2px;
  z-index: -1;
}
.ML__focused .ML__focusedPromptBox {
  outline: highlight auto 1px;
}
.ML__lockedPromptBox {
  background-color: rgba(142, 142, 141, 0.4);
  z-index: -1;
}
.ML__correctPromptBox {
  outline: 1px solid var(--_correct-color);
  box-shadow: 0 0 5px var(--_correct-color);
}
.ML__incorrectPromptBox {
  outline: 1px solid var(--_incorrect-color);
  box-shadow: 0 0 5px var(--_incorrect-color);
}
.variant-submenu {
  display: flex;
  flex-direction: column;
  padding: 8px;
}
.variant-submenu [part='menu-item'].ML__xl {
  font-size: 2rem;
  text-align: center;
  margin: 0;
}
.ML__center-menu .label {
  text-align: center;
}
.insert-matrix-submenu {
  /* Grid doesn't work on Safari */
  --_menu-item-size: 25px;
  width: calc(5 * var(--_menu-item-size));
  display: flex;
  flex-wrap: wrap;
  padding: 8px;
  align-content: center;
  justify-content: center;
}
.insert-matrix-submenu [part='menu-item'] {
  width: var(--_menu-item-size);
  height: var(--_menu-item-size);
  font-size: 21px;
  border: none;
  border-radius: 0;
  line-height: 21px;
  text-align: center;
  padding: 0;
  margin: 0;
}
.border-submenu [part='menu-item'] {
  font-size: 2rem;
  line-height: 1.2;
  text-align: center;
}
.swatches-submenu {
  --_swatch-size: 2rem;
  --_columns: 4;
  display: flex;
  flex-flow: wrap;
  padding: 8px;
  max-width: calc(var(--_columns) * (var(--_swatch-size) + 18px) + 16px);
  box-sizing: border-box;
}
.menu-swatch {
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  width: fit-content;
  height: fit-content;
  margin: 2px;
  padding: 0;
  background: var(--neutral-200);
}
.menu-swatch > .label {
  padding: 0;
  margin: 0;
  line-height: 0;
}
.menu-swatch > .label > span {
  display: inline-block;
  margin: 6px;
  min-width: var(--_swatch-size);
  min-height: var(--_swatch-size);
  border-radius: 50%;
}
.menu-swatch.active {
  background: var(--neutral-100);
  scale: 1.4;
}
.menu-swatch.active > .label > span {
  border-radius: 2px;
}
.menu-swatch .ui-checkmark,
.menu-swatch .ui-mixedmark {
  position: absolute;
  margin: 0;
  padding: 0;
  color: white;
}
.menu-swatch.dark-contrast .ui-checkmark,
.menu-swatch.dark-contrast .ui-mixedmark {
  color: #000;
}
.ML__insert-template {
  font-size: 1em;
}
.ML__insert-label {
  opacity: 0.5;
  margin-left: 2ex;
}
`,mLe=`.ML__container {
  min-height: auto !important;
  --_hue: var(--hue, 212);
  --_placeholder-color: var(--placeholder-color, hsl(var(--_hue), 40%, 49%));
  --_placeholder-opacity: var(--placeholder-opacity, 0.4);
  --_text-font-family: var(--text-font-family, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif);
}
.ML__sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  clip-path: inset(50%);
  white-space: nowrap;
  border: 0;
}
.ML__is-inline {
  display: inline-block;
}
.ML__base {
  visibility: inherit;
  display: inline-block;
  position: relative;
  cursor: text;
  padding: 0;
  margin: 0;
  box-sizing: content-box;
  border: 0;
  outline: 0;
  vertical-align: baseline;
  font-weight: inherit;
  font-family: inherit;
  font-style: inherit;
  text-decoration: none;
  width: min-content;
}
.ML__strut,
.ML__strut--bottom {
  display: inline-block;
  min-height: 0.5em;
}
.ML__small-delim {
  font-family: KaTeX_Main;
}
/* Text mode */
.ML__text {
  font-family: var(--_text-font-family);
  white-space: pre;
}
/* Use cmr for 'math upright' */
.ML__cmr {
  font-family: KaTeX_Main;
  font-style: normal;
}
.ML__mathit {
  font-family: KaTeX_Math;
  /* The KaTeX_Math font is italic by default, so the font-style below is only 
     useful when a fallback font is used
  */
  font-style: italic;
}
.ML__mathbf {
  font-family: KaTeX_Main;
  font-weight: bold;
}
/* Lowercase greek symbols should stick to math font when \\mathbf is applied 
   to match TeX idiosyncratic behavior */
.lcGreek.ML__mathbf {
  font-family: KaTeX_Math;
}
.ML__mathbfit {
  font-family: KaTeX_Math;
  font-weight: bold;
  font-style: italic;
}
.ML__ams {
  font-family: KaTeX_AMS;
}
/* Blackboard */
.ML__bb {
  font-family: KaTeX_AMS;
}
.ML__cal {
  font-family: KaTeX_Caligraphic;
}
.ML__frak {
  font-family: KaTeX_Fraktur;
}
.ML__tt {
  font-family: KaTeX_Typewriter;
}
.ML__script {
  font-family: KaTeX_Script;
}
.ML__sans {
  font-family: KaTeX_SansSerif;
}
.ML__series_ul {
  font-weight: 100;
}
.ML__series_el {
  font-weight: 100;
}
.ML__series_l {
  font-weight: 200;
}
.ML__series_sl {
  font-weight: 300;
}
.ML__series_sb {
  font-weight: 500;
}
.ML__bold {
  font-weight: 700;
}
.ML__series_eb {
  font-weight: 800;
}
.ML__series_ub {
  font-weight: 900;
}
.ML__series_uc {
  font-stretch: ultra-condensed;
}
.ML__series_ec {
  font-stretch: extra-condensed;
}
.ML__series_c {
  font-stretch: condensed;
}
.ML__series_sc {
  font-stretch: semi-condensed;
}
.ML__series_sx {
  font-stretch: semi-expanded;
}
.ML__series_x {
  font-stretch: expanded;
}
.ML__series_ex {
  font-stretch: extra-expanded;
}
.ML__series_ux {
  font-stretch: ultra-expanded;
}
.ML__it {
  font-style: italic;
}
.ML__shape_ol {
  -webkit-text-stroke: 1px black;
  text-stroke: 1px black;
  color: transparent;
}
.ML__shape_sc {
  font-variant: small-caps;
}
.ML__shape_sl {
  font-style: oblique;
}
/* First level emphasis */
.ML__emph {
  color: #bc2612;
}
/* Second level emphasis */
.ML__emph .ML__emph {
  color: #0c7f99;
}
.ML__highlight {
  color: #007cb2;
  background: #edd1b0;
}
.ML__center {
  text-align: center;
}
.ML__left {
  text-align: left;
}
.ML__right {
  text-align: right;
}
.ML__label_padding {
  padding: 0 0.5em;
}
.ML__frac-line {
  width: 100%;
  min-height: 1px;
}
.ML__frac-line:after {
  content: '';
  display: block;
  margin-top: max(-1px, -0.04em);
  min-height: max(1px, 0.04em);
  /* Ensure the line is visible when printing even if "turn off background images" is on*/
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  /* There's a bug since Chrome 62 where 
      sub-pixel border lines don't draw at some zoom 
      levels (110%, 90%). 
      Setting the min-height used to work around it, but that workaround
      broke in Chrome 84 or so.
      Setting the background (and the min-height) seems to work for now.
      */
  background: currentColor;
  box-sizing: content-box;
  /* Vuetify sets the box-sizing to inherit 
            causes the fraction line to not draw at all sizes (see #26) */
  /* On some versions of Firefox on Windows, the line fails to 
            draw at some zoom levels, but setting the transform triggers
            the hardware accelerated path, which works */
  transform: translate(0, 0);
}
.ML__sqrt {
  display: inline-block;
}
.ML__sqrt-sign {
  display: inline-block;
  position: relative;
}
.ML__sqrt-line {
  display: inline-block;
  height: max(1px, 0.04em);
  width: 100%;
}
.ML__sqrt-line:before {
  content: '';
  display: block;
  margin-top: min(-1px, -0.04em);
  min-height: max(1px, 0.04em);
  /* Ensure the line is visible when printing even if "turn off background images" is on*/
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  background: currentColor;
  /* On some versions of Firefox on Windows, the line fails to 
            draw at some zoom levels, but setting the transform triggers
            the hardware accelerated path, which works */
  transform: translate(0, 0);
}
.ML__sqrt-line:after {
  border-bottom-width: 1px;
  content: ' ';
  display: block;
  margin-top: -0.1em;
}
.ML__sqrt-index {
  margin-left: 0.27777778em;
  margin-right: -0.55555556em;
}
.ML__delim-size1 {
  font-family: KaTeX_Size1;
}
.ML__delim-size2 {
  font-family: KaTeX_Size2;
}
.ML__delim-size3 {
  font-family: KaTeX_Size3;
}
.ML__delim-size4 {
  font-family: KaTeX_Size4;
}
.ML__delim-mult .delim-size1 > span {
  font-family: KaTeX_Size1;
}
.ML__delim-mult .delim-size4 > span {
  font-family: KaTeX_Size4;
}
.ML__accent-body > span {
  font-family: KaTeX_Main;
  width: 0;
}
.ML__accent-combining-char {
  position: relative;
  left: 0.24em;
}
/** The markup for a LaTeX formula, either in an editable mathfield or 
    in a static display.
*/
.ML__latex {
  display: inline-block;
  direction: ltr;
  text-align: left;
  text-indent: 0;
  text-rendering: auto;
  font-family: inherit;
  font-style: normal;
  font-size-adjust: none;
  font-stretch: normal;
  font-variant-caps: normal;
  letter-spacing: normal;
  line-height: 1.2;
  word-wrap: normal;
  word-spacing: normal;
  white-space: nowrap;
  text-shadow: none;
  -webkit-user-select: none;
  user-select: none;
  width: min-content;
}
.ML__latex .style-wrap {
  position: relative;
}
.ML__latex .ML__mfrac {
  display: inline-block;
}
.ML__latex .ML__left-right {
  display: inline-block;
}
.ML__latex .ML__vlist-t {
  display: inline-table;
  table-layout: fixed;
  border-collapse: collapse;
}
.ML__latex .ML__vlist-r {
  display: table-row;
}
.ML__latex .ML__vlist {
  display: table-cell;
  vertical-align: bottom;
  position: relative;
}
.ML__latex .ML__vlist > span {
  display: block;
  height: 0;
  position: relative;
}
.ML__latex .ML__vlist > span > span {
  display: inline-block;
}
.ML__latex .ML__vlist > span > .ML__pstrut {
  overflow: hidden;
  width: 0;
}
.ML__latex .ML__vlist-t2 {
  margin-right: -2px;
}
.ML__latex .ML__vlist-s {
  display: table-cell;
  vertical-align: bottom;
  font-size: 1px;
  width: 2px;
  min-width: 2px;
}
.ML__latex .ML__msubsup {
  text-align: left;
}
.ML__latex .ML__negativethinspace {
  display: inline-block;
  margin-left: -0.16667em;
  height: 0.71em;
}
.ML__latex .ML__thinspace {
  display: inline-block;
  width: 0.16667em;
  height: 0.71em;
}
.ML__latex .ML__mediumspace {
  display: inline-block;
  width: 0.22222em;
  height: 0.71em;
}
.ML__latex .ML__thickspace {
  display: inline-block;
  width: 0.27778em;
  height: 0.71em;
}
.ML__latex .ML__enspace {
  display: inline-block;
  width: 0.5em;
  height: 0.71em;
}
.ML__latex .ML__quad {
  display: inline-block;
  width: 1em;
  height: 0.71em;
}
.ML__latex .ML__qquad {
  display: inline-block;
  width: 2em;
  height: 0.71em;
}
.ML__latex .ML__llap,
.ML__latex .ML__rlap {
  width: 0;
  position: relative;
  display: inline-block;
}
.ML__latex .ML__llap > .ML__inner,
.ML__latex .ML__rlap > .ML__inner {
  position: absolute;
}
.ML__latex .ML__llap > .ML__fix,
.ML__latex .ML__rlap > .ML__fix {
  display: inline-block;
}
.ML__latex .ML__llap > .ML__inner {
  right: 0;
}
.ML__latex .ML__rlap > .ML__inner {
  left: 0;
}
.ML__latex .ML__rule {
  display: inline-block;
  border: solid 0;
  position: relative;
  box-sizing: border-box;
}
.ML__latex .overline .overline-line,
.ML__latex .underline .underline-line {
  width: 100%;
}
.ML__latex .overline .overline-line:before,
.ML__latex .underline .underline-line:before {
  content: '';
  border-bottom-style: solid;
  border-bottom-width: max(1px, 0.04em);
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  display: block;
}
.ML__latex .overline .overline-line:after,
.ML__latex .underline .underline-line:after {
  border-bottom-style: solid;
  border-bottom-width: max(1px, 0.04em);
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  content: '';
  display: block;
  margin-top: -1px;
}
.ML__latex .ML__stretchy {
  display: block;
  position: absolute;
  width: 100%;
  left: 0;
  overflow: hidden;
}
.ML__latex .ML__stretchy:before,
.ML__latex .ML__stretchy:after {
  content: '';
}
.ML__latex .ML__stretchy svg {
  display: block;
  position: absolute;
  width: 100%;
  height: inherit;
  fill: currentColor;
  stroke: currentColor;
  fill-rule: nonzero;
  fill-opacity: 1;
  stroke-width: 1;
  stroke-linecap: butt;
  stroke-linejoin: miter;
  stroke-miterlimit: 4;
  stroke-dasharray: none;
  stroke-dashoffset: 0;
  stroke-opacity: 1;
}
.ML__latex .slice-1-of-2 {
  display: inline-flex;
  position: absolute;
  left: 0;
  width: 50.2%;
  overflow: hidden;
}
.ML__latex .slice-2-of-2 {
  display: inline-flex;
  position: absolute;
  right: 0;
  width: 50.2%;
  overflow: hidden;
}
.ML__latex .slice-1-of-3 {
  display: inline-flex;
  position: absolute;
  left: 0;
  width: 25.1%;
  overflow: hidden;
}
.ML__latex .slice-2-of-3 {
  display: inline-flex;
  position: absolute;
  left: 25%;
  width: 50%;
  overflow: hidden;
}
.ML__latex .slice-3-of-3 {
  display: inline-flex;
  position: absolute;
  right: 0;
  width: 25.1%;
  overflow: hidden;
}
.ML__latex .slice-1-of-1 {
  display: inline-flex;
  position: absolute;
  width: 100%;
  left: 0;
  overflow: hidden;
}
.ML__latex .ML__nulldelimiter {
  display: inline-block;
}
.ML__latex .ML__op-group {
  display: inline-block;
}
.ML__latex .ML__op-symbol {
  position: relative;
}
.ML__latex .ML__op-symbol.ML__small-op {
  font-family: KaTeX_Size1;
}
.ML__latex .ML__op-symbol.ML__large-op {
  font-family: KaTeX_Size2;
}
.ML__latex:has(.ML__center_environment),
.ML__latex:has(.ML__multiline_environment),
.ML__latex:has(.ML__align_environment),
.ML__latex:has(.ML__eqnarray_environment),
.ML__latex:has(.ML__gather_environment) {
  width: 100%;
}
.ML__latex .ML__multiline_environment {
  display: inline-flex;
  width: 100%;
}
.ML__latex .ML__center_environment {
  display: inline-flex;
  width: 100%;
  justify-content: center;
}
.ML__latex .ML__align_environment,
.ML__latex .ML__eqnarray_environment,
.ML__latex .ML__gather_environment {
  display: inline-block;
}
.ML__latex .ML__mtable .ML__vertical-separator {
  display: inline-block;
  min-width: 1px;
  box-sizing: border-box;
}
.ML__latex .ML__mtable .ML__arraycolsep {
  display: inline-block;
}
.ML__latex .ML__mtable .col-align-m > .ML__vlist-t {
  text-align: center;
}
.ML__latex .ML__mtable .col-align-c > .ML__vlist-t {
  text-align: center;
}
.ML__latex .ML__mtable .col-align-l > .ML__vlist-t {
  text-align: left;
}
.ML__latex .ML__mtable .col-align-r > .ML__vlist-t {
  text-align: right;
}
[data-href] {
  cursor: pointer;
}
.ML__error {
  display: inline-block;
  background-image: radial-gradient(ellipse at center, hsl(341, 100%, 40%), rgba(0, 0, 0, 0) 70%);
  background-color: hsla(341, 100%, 40%, 0.1);
  background-repeat: repeat-x;
  background-size: 3px 3px;
  padding-bottom: 3px;
  background-position: 0 100%;
}
.ML__error > .ML__error {
  background: transparent;
  padding: 0;
}
.ML__placeholder {
  color: var(--_placeholder-color);
  opacity: var(--_placeholder-opacity);
  padding-left: 0.4ex;
  padding-right: 0.4ex;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
}
.ML__notation {
  position: absolute;
  box-sizing: border-box;
  line-height: 0;
}
/* This class is used to implement the \`\\mathtip\` and \`\\texttip\` commands
   For UI elements, see \`[data-ML__tooltip]\`
*/
.ML__tooltip-container {
  position: relative;
  transform: scale(0);
}
.ML__tooltip-container .ML__tooltip-content {
  position: fixed;
  display: inline-table;
  visibility: hidden;
  z-index: 2;
  width: max-content;
  max-width: 400px;
  padding: 12px 12px;
  border: var(--tooltip-border);
  border-radius: var(--tooltip-border-radius);
  background: var(--tooltip-background-color);
  --_selection-color: var(--tooltip-color);
  color: var(--tooltip-color);
  box-shadow: var(--tooltip-box-shadow);
  opacity: 0;
  transition: opacity 0.15s cubic-bezier(0.4, 0, 1, 1);
}
.ML__tooltip-container .ML__tooltip-content .ML__text {
  white-space: normal;
}
.ML__tooltip-container .ML__tooltip-content .ML__base {
  display: contents;
}
.ML__tooltip-container:hover .ML__tooltip-content {
  visibility: visible;
  opacity: 1;
  font-size: 0.75em;
  transform: scale(1) translate(0, 3em);
}
`,gLe=`#mathlive-environment-popover.is-visible {
  visibility: visible;
}
#mathlive-environment-popover {
  --_environment-panel-height: var(--environment-panel-height, 70px);
  --_accent-color: var(--accent-color, #aaa);
  --_background: var(--environment-panel-background, #fff);
  --_button-background: var(--environment-panel-button-background, white);
  --_button-background-hover: var(--environment-panel-button-background-hover, #f5f5f7);
  --_button-background-active: var(--environment-panel-button-background-active, #f5f5f7);
  --_button-text: var(--environment-panel-button-text, #e3e4e8);
  position: absolute;
  width: calc(var(--_environment-panel-height) * 2);
  height: var(--_environment-panel-height);
  border-radius: 4px;
  border: 1.5px solid var(--_accent-color);
  background-color: var(--_background);
  box-shadow: 0 0 30px 0 var(--environment-shadow, rgba(0, 0, 0, 0.4));
  pointer-events: all;
  visibility: hidden;
}
#mathlive-environment-popover .MLEP__array-buttons {
  height: calc(var(--_environment-panel-height) * 5/4);
  width: calc(var(--_environment-panel-height) * 5/4);
  margin-left: calc(0px - var(--_environment-panel-height) * 0.16);
  margin-top: calc(0px - var(--_environment-panel-height) * 0.19);
}
#mathlive-environment-popover .MLEP__array-buttons .font {
  fill: white;
}
#mathlive-environment-popover .MLEP__array-buttons circle {
  fill: #7f7f7f;
  transition: fill 300ms;
}
#mathlive-environment-popover .MLEP__array-buttons .MLEP__array-insert-background {
  fill-opacity: 1;
  fill: var(--_background);
  stroke: var(--_accent-color);
  stroke-width: 3px;
}
#mathlive-environment-popover .MLEP__array-buttons line {
  stroke: var(--_accent-color);
  stroke-opacity: 0;
  stroke-width: 40;
  pointer-events: none;
  transition: stroke-opacity 300ms;
  stroke-linecap: round;
}
#mathlive-environment-popover .MLEP__array-buttons g[data-command]:hover circle {
  fill: var(--_accent-color);
}
#mathlive-environment-popover .MLEP__array-buttons g[data-command]:hover line {
  stroke-opacity: 1;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls {
  height: 100%;
  width: 50%;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options {
  width: var(--_environment-panel-height);
  height: var(--_environment-panel-height);
  display: flex;
  flex-wrap: wrap;
  flex-direction: row;
  justify-content: space-around;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg {
  pointer-events: all;
  margin-top: 2px;
  width: calc(var(--_environment-panel-height) / 3 * 28 / 24);
  height: calc(var(--_environment-panel-height) / 3 - 2px);
  border-radius: calc(var(--_environment-panel-height) / 25);
  background-color: var(--_button-background);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg:hover {
  background-color: var(--_button-background-hover);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg path,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg line {
  stroke: var(--_button-text);
  stroke-width: 2;
  stroke-linecap: round;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg rect,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg path {
  fill-opacity: 0;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active {
  pointer-events: none;
  background-color: var(--_button-background-active);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active path,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active line {
  stroke: var(--_accent-color);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active circle {
  fill: var(--_accent-color);
}
`,yLe=`/* The element that display info while in latex mode */
#mathlive-suggestion-popover {
  background-color: rgba(97, 97, 97);
  color: #fff;
  text-align: center;
  border-radius: 8px;
  position: fixed;
  z-index: 1;
  display: none;
  flex-direction: column;
  justify-content: center;
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
}
#mathlive-suggestion-popover.top-tip::after {
  content: '';
  position: absolute;
  top: -15px;
  left: calc(50% - 15px);
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-bottom: 15px solid rgba(97, 97, 97);
  font-size: 1rem;
}
#mathlive-suggestion-popover.bottom-tip::after {
  content: '';
  position: absolute;
  bottom: -15px;
  left: calc(50% - 15px);
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-top: 15px solid rgba(97, 97, 97);
  font-size: 1rem;
}
#mathlive-suggestion-popover.is-animated {
  transition: all 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);
  animation: ML__fade-in cubic-bezier(0, 0, 0.2, 1) 0.15s;
}
#mathlive-suggestion-popover.is-visible {
  display: flex;
}
@keyframes ML__fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
/* The wrapper class for the entire content of the popover panel */
#mathlive-suggestion-popover ul {
  display: flex;
  flex-flow: column;
  list-style: none;
  margin: 0;
  padding: 0;
  align-items: flex-start;
  max-height: 400px;
  overflow-y: auto;
}
#mathlive-suggestion-popover li {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  margin: 8px;
  padding: 8px;
  width: calc(100% - 16px - 16px);
  column-gap: 1em;
  border-radius: 8px;
  cursor: pointer;
  /* Since the content can be clicked on, provide feedback on hover */
}
#mathlive-suggestion-popover li a {
  color: #5ea6fd;
  padding-top: 0.3em;
  margin-top: 0.4em;
  display: block;
}
#mathlive-suggestion-popover li a:hover {
  color: #5ea6fd;
  text-decoration: underline;
}
#mathlive-suggestion-popover li:hover,
#mathlive-suggestion-popover li.is-pressed,
#mathlive-suggestion-popover li.is-active {
  background: rgba(255, 255, 255, 0.1);
}
/* The command inside a popover (inside a #mathlive-suggestion-popover) */
.ML__popover__command {
  font-size: 1.6rem;
  font-family: KaTeX_Main;
}
.ML__popover__current {
  background: #5ea6fd;
  color: #fff;
}
.ML__popover__latex {
  font-family: 'IBM Plex Mono', 'Source Code Pro', Consolas, 'Roboto Mono', Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;
  align-self: center;
}
/* The keyboard shortcuts for a symbol as displayed in the popover */
.ML__popover__keybinding {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 0.8em;
  opacity: 0.7;
}
/* Style for the character that joins the modifiers of a keyboard shortcut 
(usually a "+" sign)*/
.ML__shortcut-join {
  opacity: 0.5;
}
`,vLe=`/* The element that displays the keys as the user type them */
#mathlive-keystroke-caption-panel {
  visibility: hidden;
  /*min-width: 160px;*/
  /*background-color: rgba(97, 97, 200, .95);*/
  background: var(--secondary, hsl(var(--_hue), 19%, 26%));
  border-color: var(--secondary-border, hsl(0, 0%, 91%));
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
  text-align: center;
  border-radius: 6px;
  padding: 16px;
  position: absolute;
  z-index: 1;
  display: flex;
  flex-direction: row-reverse;
  justify-content: center;
  --keystroke: white;
  --on-keystroke: #555;
  --keystroke-border: #f7f7f7;
}
@media (prefers-color-scheme: dark) {
  body:not([theme='light']) #mathlive-keystroke-caption-panel {
    --keystroke: hsl(var(--_hue), 50%, 30%);
    --on-keystroke: hsl(0, 0%, 98%);
    --keystroke-border: hsl(var(--_hue), 50%, 25%);
  }
}
body[theme='dark'] #mathlive-keystroke-caption-panel {
  --keystroke: hsl(var(--_hue), 50%, 30%);
  --on-keystroke: hsl(0, 0%, 98%);
  --keystroke-border: hsl(var(--_hue), 50%, 25%);
}
#mathlive-keystroke-caption-panel > span {
  min-width: 14px;
  /*height: 8px;*/
  margin: 0 8px 0 0;
  padding: 4px;
  background-color: var(--keystroke);
  color: var(--on-keystroke);
  fill: currentColor;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 1em;
  border-radius: 6px;
  border: 2px solid var(--keystroke-border);
  /*box-shadow: 0 7px 14px rgba(0,0,0,0.25), 0 5px 5px rgba(0,0,0,0.22);*/
}
`,xLe=`.ML__keyboard {
  --_keyboard-height: 0;
  --_keyboard-zindex: var(--keyboard-zindex, 105);
  --_accent-color: var(--keyboard-accent-color, #0c75d8);
  --_background: var(--keyboard-background, #cacfd7);
  --_border: var(--keyboard-border, #ddd);
  --_padding-horizontal: var(--keyboard-padding-horizontal, 0px);
  --_padding-top: var(--keyboard-padding-top, 5px);
  --_padding-bottom: var(--keyboard-padding-bottom, 0px);
  --_row-padding-left: var(--keyboard-row-padding-left, 0px);
  --_row-padding-right: var(--keyboard-row-padding-right, 0px);
  --_toolbar-text: var(--keyboard-toolbar-text, #2c2e2f);
  --_toolbar-text-active: var(--keyboard-toolbar-text-active, var(--_accent-color));
  --_toolbar-background: var(--keyboard-toolbar-background, transparent);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #eee);
  --_toolbar-background-selected: var(--keyboard-toolbar-background-selected, transparent);
  --_toolbar-font-size: var(--keyboard-toolbar-font-size, '135%');
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #fff);
  --_keycap-background: var(--keycap-background, #f0f0f0);
  --_keycap-background-hover: var(--keycap-background-hover, #f5f5f7);
  --_keycap-background-active: var(--keycap-background-active, var(--_accent-color));
  --_keycap-background-pressed: var(--keycap-background-pressed, var(--_accent-color));
  --_keycap-border: var(--keycap-border, #e5e6e9);
  --_keycap-border-bottom: var(--keycap-border-bottom, #8d8f92);
  --_keycap-text: var(--keycap-text, #000);
  --_keycap-text-active: var(--keycap-text-active, #fff);
  --_keycap-text-hover: var(--keycap-text-hover, var(--_keycap-text));
  --_keycap-text-pressed: var(--keycap-text-pressed, #fff);
  --_keycap-shift-text: var(--keycap-shift-text, var(--_accent-color));
  --_keycap-primary-background: var(--keycap-primary-background, var(--_accent-color));
  --_keycap-primary-text: var(--keycap-primary-text, #ddd);
  --_keycap-primary-background-hover: var(--keycap-primary-background-hover, #0d80f2);
  --_keycap-secondary-background: var(--keycap-secondary-background, #a0a9b8);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #7d8795);
  --_keycap-secondary-text: var(--keycap-secondary-text, #060707);
  --_keycap-secondary-border: var(--keycap-secondary-border, #c5c9d0);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, #989da6);
  --_keycap-height: var(--keycap-height, 60px);
  /* Keycap width (incl. margin) */
  --_keycap-max-width: var(--keycap-max-width, 100px);
  --_keycap-gap: var(--keycap-gap, 8px);
  --_keycap-font-size: var(--keycap-font-size, clamp(16px, 4cqw, 24px));
  --_keycap-small-font-size: var(--keycap-small-font-size, calc(var(--keycap-font-size) * 0.8));
  --_keycap-extra-small-font-size: var(--keycap-extra-small-font-size, calc(var(--keycap-font-size) / 1.42));
  --_variant-panel-background: var(--variant-panel-background, #f0f0f0);
  --_variant-keycap-text: var(--variant-keycap-text, var(--_keycap-text));
  --_variant-keycap-text-active: var(--variant-keycap-text-active, var(--_keycap-text-active));
  --_variant-keycap-background-active: var(--variant-keycap-background-active, var(--_accent-color));
  --_variant-keycap-length: var(--variant-keycap-length, 70px);
  --_variant-keycap-font-size: var(--variant-keycap-font-size, 30px);
  --_variant-keycap-aside-font-size: var(--variant-keycap-aside-font-size, 12px);
  --_keycap-shift-font-size: var(--keycap-shift-font-size, 16px);
  --_keycap-shift-color: var(--keycap-shift-color, var(--_accent-color));
  --_box-placeholder-color: var(--box-placeholder-color, var(--_accent-color));
  --_box-placeholder-pressed-color: var(--box-placeholder-pressed-color, var(--keycap-text-pressed));
  --_keycap-glyph-size: var(--keycap-glyph-size, 20px);
  --_keycap-glyph-size-lg: var(--keycap-glyph-size-lg, 24px);
  --_keycap-glyph-size-xl: var(--keycap-glyph-size-xl, 50px);
}
.is-math-mode .MLK__rows .if-text-mode,
.is-text-mode .MLK__rows .if-math-mode {
  display: none;
}
.if-can-undo,
.if-can-redo,
.if-can-copy,
.if-can-cut,
.if-can-paste {
  opacity: 0.4;
  pointer-events: none;
}
.can-undo .if-can-undo,
.can-redo .if-can-redo,
.can-copy .if-can-copy,
.can-cut .if-can-cut,
.can-paste .if-can-paste {
  opacity: 1;
  pointer-events: all;
}
body > .ML__keyboard {
  position: fixed;
  --_padding-bottom: calc(var(--keyboard-padding-bottom, 0px) + env(safe-area-inset-bottom, 0));
}
body > .ML__keyboard.is-visible > .MLK__backdrop {
  box-shadow: 0 -5px 6px rgba(0, 0, 0, 0.08);
  border-top: 1px solid var(--_border);
}
body > .ML__keyboard.backdrop-is-transparent.is-visible > .MLK__backdrop {
  box-shadow: none;
  border: none;
}
body > .ML__keyboard.is-visible.animate > .MLK__backdrop {
  transition: 0.28s cubic-bezier(0, 0, 0.2, 1);
  transition-property: transform, opacity;
  transition-timing-function: cubic-bezier(0.4, 0, 1, 1);
}
.ML__keyboard {
  position: relative;
  overflow: hidden;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  z-index: var(--_keyboard-zindex);
  box-sizing: border-box;
  outline: none;
  border: none;
  margin: 0;
  padding: 0;
  line-height: 1;
  overflow-wrap: unset;
  text-align: left;
  vertical-align: baseline;
  cursor: auto;
  white-space: pre;
  box-shadow: none;
  opacity: 1;
  transform: none;
  pointer-events: none;
}
.ML__keyboard :where(div) {
  box-sizing: border-box;
  outline: none;
  border: none;
  margin: 0;
  padding: 0;
  line-height: 1;
  overflow-wrap: unset;
  text-align: left;
  vertical-align: baseline;
  cursor: auto;
  white-space: pre;
  box-shadow: none;
  transform: none;
}
.MLK__backdrop {
  position: absolute;
  bottom: calc(-1 * var(--_keyboard-height));
  width: 100%;
  height: var(--_keyboard-height);
  box-sizing: border-box;
  padding-top: var(--_padding-top);
  padding-bottom: var(--_padding-bottom);
  padding-left: var(--_padding-horizontal);
  padding-right: var(--_padding-horizontal);
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0);
  background: var(--_background);
}
.backdrop-is-transparent .MLK__backdrop {
  background: transparent;
}
/* If a custom layout has a custom container/backdrop
  (backdrop-is-transparent), make sure to let pointer event go through. */
.backdrop-is-transparent .MLK__plate {
  background: transparent;
  pointer-events: none;
}
/* If a custom layout has a custom container/backdrop, make sure to 
   allow pointer events on it. */
.backdrop-is-transparent .MLK__layer > div > div {
  pointer-events: all;
}
.ML__keyboard.is-visible > .MLK__backdrop {
  transform: translate(0, calc(-1 * var(--_keyboard-height)));
  opacity: 1;
  visibility: visible;
}
.caps-lock-indicator {
  display: none;
  width: 8px;
  height: 8px;
  background: #0cbc0c;
  box-shadow: inset 0 0 4px 0 #13ca13, 0 0 4px 0 #a9ef48;
  border-radius: 8px;
  right: 8px;
  top: 8px;
  position: absolute;
}
.ML__keyboard.is-caps-lock .caps-lock-indicator {
  display: block;
}
.ML__keyboard.is-caps-lock .shift {
  background: var(--_keycap-background-active);
  color: var(--_keycap-text-active);
}
.MLK__plate {
  position: absolute;
  top: var(--_padding-top);
  left: var(--_padding-horizontal);
  width: calc(100% - 2 * var(--_padding-horizontal));
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  container-type: inline-size;
  touch-action: none;
  -webkit-user-select: none;
  user-select: none;
  pointer-events: all;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 16px;
  /* Size of toolbar labels */
  font-weight: 400;
  text-shadow: none;
}
.ML__box-placeholder {
  color: var(--_box-placeholder-color);
}
.MLK__tex {
  font-family: KaTeX_Main, KaTeX_Math, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__tex-math {
  font-family: KaTeX_Math, KaTeX_Main, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
  font-style: italic;
}
.MLK__layer {
  display: none;
  outline: none;
}
.MLK__layer.is-visible {
  display: flex;
  flex-flow: column;
}
/* Keyboard layouts are made or rows of keys... */
.MLK__rows {
  --_keycap-width: var(--keycap-width, min(var(--_keycap-max-width), 10cqw));
  display: flex;
  flex-flow: column;
  align-items: center;
  border-collapse: separate;
  clear: both;
  border: 0;
  margin: 0;
  margin-bottom: var(--_keycap-gap);
  gap: var(--_keycap-gap);
  /* If the styling include, e.g., some shadows, they will be
  cut off by the overflow. In that case, set the padding to 
  compensate. */
  padding-left: var(--_row-padding-left);
  padding-right: var(--_row-padding-right);
  overflow: visible;
  touch-action: none;
}
.MLK__rows > .MLK__row {
  display: flex;
  flex-flow: row;
  justify-content: center;
  width: 100%;
  gap: var(--_keycap-gap);
  margin: 0;
  padding: 0;
  /* For the alignment of the text on some modifiers (e.g. shift) */
  /* Extra spacing between two adjacent keys */
}
.MLK__rows > .MLK__row .tex {
  font-family: KaTeX_Math, KaTeX_Main, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__rows > .MLK__row .tex-math {
  font-family: KaTeX_Math, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__rows > .MLK__row .big-op {
  font-size: calc(1.25 * var(--_keycap-font-size));
}
.MLK__rows > .MLK__row .small {
  font-size: var(--_keycap-small-font-size);
}
.MLK__rows > .MLK__row .bottom {
  justify-content: flex-end;
}
.MLK__rows > .MLK__row .left {
  align-items: flex-start;
  padding-left: 12px;
}
.MLK__rows > .MLK__row .right {
  align-items: flex-end;
  padding-right: 12px;
}
.MLK__rows > .MLK__row .w0 {
  width: 0;
}
.MLK__rows > .MLK__row .w5 {
  width: calc(0.5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w15 {
  width: calc(1.5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w20 {
  width: calc(2 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w40 {
  width: calc(4 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w50 {
  width: calc(5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .MLK__keycap.w50 {
  font-size: 80%;
  padding-top: 10px;
  font-weight: 100;
}
.MLK__rows > .MLK__row .separator {
  background: transparent;
  border: none;
  pointer-events: none;
}
.MLK__rows > .MLK__row .horizontal-rule {
  height: 6px;
  margin-top: 3px;
  margin-bottom: 0;
  width: 100%;
  border-radius: 0;
  border-top: var(--_horizontal-rule);
}
.MLK__rows > .MLK__row .ghost {
  background: var(--_toolbar-background);
  border: none;
  color: var(--_toolbar-text);
}
.MLK__rows > .MLK__row .ghost:hover {
  background: var(--_toolbar-background-hover);
}
.MLK__rows > .MLK__row .bigfnbutton {
  font-size: var(--_keycap-extra-small-font-size);
}
.MLK__rows > .MLK__row .shift,
.MLK__rows > .MLK__row .action {
  color: var(--_keycap-secondary-text);
  background: var(--_keycap-secondary-background);
  border-color: var(--_keycap-secondary-border);
  border-bottom-color: var(--_keycap-secondary-border-bottom);
  line-height: 0.8;
  font-size: min(1rem, var(--_keycap-small-font-size));
  font-weight: 600;
  padding: 8px 12px 8px 12px;
}
.MLK__rows > .MLK__row .shift:hover,
.MLK__rows > .MLK__row .action:hover {
  background: var(--_keycap-secondary-background-hover);
}
.MLK__rows > .MLK__row .action.primary {
  background: var(--_keycap-primary-background);
  color: var(--_keycap-primary-text);
}
.MLK__rows > .MLK__row .action.primary:hover {
  background: var(--_keycap-primary-background-hover);
  color: var(--_keycap-primary-text);
}
.MLK__rows > .MLK__row .shift.selected,
.MLK__rows > .MLK__row .action.selected {
  color: var(--_toolbar-text-active);
}
.MLK__rows > .MLK__row .shift.selected.is-pressed,
.MLK__rows > .MLK__row .action.selected.is-pressed,
.MLK__rows > .MLK__row .shift.selected.is-active,
.MLK__rows > .MLK__row .action.selected.is-active {
  color: white;
}
.MLK__rows > .MLK__row .warning {
  background: #cd0030;
  color: white;
}
.MLK__rows > .MLK__row .warning svg.svg-glyph {
  width: var(--_keycap-glyph-size-lg);
  height: var(--_keycap-glyph-size-lg);
  min-height: var(--_keycap-glyph-size-lg);
}
/** A regular keycap
 * Use the :where() pseudo-class to give it a very low specifity, 
 * so that it can be overriden by custom style.
 */
:where(.MLK__rows > .MLK__row div) {
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: space-evenly;
  width: calc(var(--_keycap-width) - var(--_keycap-gap));
  height: var(--_keycap-height);
  box-sizing: border-box;
  padding: 0;
  vertical-align: top;
  text-align: center;
  float: left;
  color: var(--_keycap-text);
  fill: currentColor;
  font-size: var(--_keycap-font-size);
  background: var(--_keycap-background);
  border: 1px solid var(--_keycap-border);
  border-bottom-color: var(--_keycap-border-bottom);
  border-radius: 6px;
  cursor: pointer;
  touch-action: none;
  /* Keys with a variants panel */
  position: relative;
  overflow: hidden;
  -webkit-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}
:where(.MLK__rows > .MLK__row div):hover {
  overflow: visible;
  background: var(--_keycap-background-hover);
}
:where(.MLK__rows > .MLK__row div) .ML__latex {
  pointer-events: none;
  touch-action: none;
}
:where(.MLK__rows > .MLK__row div) svg.svg-glyph {
  margin: 8px 0;
  width: var(--_keycap-glyph-size);
  height: var(--_keycap-glyph-size);
  min-height: var(--_keycap-glyph-size);
}
:where(.MLK__rows > .MLK__row div) svg.svg-glyph-lg {
  margin: 8px 0;
  width: var(--_keycap-glyph-size-lg);
  height: var(--_keycap-glyph-size-lg);
  min-height: var(--_keycap-glyph-size-lg);
}
:where(.MLK__rows > .MLK__row div).MLK__tex-math {
  font-size: 25px;
}
:where(.MLK__rows > .MLK__row div).is-pressed {
  background: var(--_keycap-background-pressed);
  color: var(--_keycap-text-pressed);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active,
:where(.MLK__rows > .MLK__row div).action.is-active,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed,
:where(.MLK__rows > .MLK__row div).action.is-pressed {
  z-index: calc(var(--_keyboard-zindex) - 5);
}
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active aside,
:where(.MLK__rows > .MLK__row div).action.is-active aside,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed aside,
:where(.MLK__rows > .MLK__row div).action.is-pressed aside {
  display: none;
}
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active .MLK__shift,
:where(.MLK__rows > .MLK__row div).action.is-active .MLK__shift,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed .MLK__shift,
:where(.MLK__rows > .MLK__row div).action.is-pressed .MLK__shift {
  display: none;
}
:where(.MLK__rows > .MLK__row div).shift.is-pressed,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed,
:where(.MLK__rows > .MLK__row div).action.is-pressed {
  background: var(--_keycap-background-pressed);
  color: var(--_keycap-text-pressed);
}
:where(.MLK__rows > .MLK__row div).shift.is-active,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active,
:where(.MLK__rows > .MLK__row div).action.is-active {
  background: var(--_keycap-background-active);
  color: var(--_keycap-text-active);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
:where(.MLK__rows > .MLK__row div) small {
  color: var(--_keycap-secondary-text);
}
:where(.MLK__rows > .MLK__row div) aside {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 10px;
  line-height: 10px;
  color: var(--_keycap-secondary-text);
}
/* Add an attribute 'data-tooltip' to display a tooltip on hover.
Note there are a different set of tooltip rules for the keyboard toggle
(it's in a different CSS tree) */
.ML__keyboard [data-tooltip] {
  position: relative;
}
.ML__keyboard [data-tooltip]::after {
  position: absolute;
  display: inline-table;
  content: attr(data-tooltip);
  top: inherit;
  bottom: 100%;
  width: max-content;
  max-width: 200px;
  padding: 8px 8px;
  background: #616161;
  color: #fff;
  text-align: center;
  z-index: 2;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  border-radius: 2px;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-weight: 400;
  font-size: 12px;
  transition: all 0.15s cubic-bezier(0.4, 0, 1, 1) 1s;
  opacity: 0;
  transform: scale(0.5);
}
.ML__keyboard [data-tooltip]:hover {
  position: relative;
}
.ML__keyboard [data-tooltip]:hover::after {
  opacity: 1;
  transform: scale(1);
}
.MLK__toolbar {
  align-self: center;
  display: flex;
  flex-flow: row;
  justify-content: space-between;
  width: 100%;
  max-width: 996px;
  min-height: 32px;
  /* Icons for undo/redo, etc. */
}
.MLK__toolbar svg {
  height: 20px;
  width: 20px;
}
.MLK__toolbar > .left {
  position: relative;
  display: flex;
  justify-content: flex-start;
  flex-flow: row;
}
.MLK__toolbar > .right {
  display: flex;
  justify-content: flex-end;
  flex-flow: row;
}
.MLK__toolbar > div > div {
  /* "button" in the toolbar */
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--_toolbar-text);
  fill: currentColor;
  background: var(--_toolbar-background);
  font-size: var(--_toolbar-font-size);
  padding: 4px 15px;
  cursor: pointer;
  width: max-content;
  min-width: 42px;
  min-height: 34px;
  border: none;
  padding-left: 10px;
  padding-right: 10px;
  padding-bottom: 8px;
  padding-top: 8px;
  margin-top: 0;
  margin-bottom: 4px;
  margin-left: 4px;
  margin-right: 4px;
  border-radius: 8px;
  box-shadow: none;
  border-bottom: 2px solid transparent;
}
.MLK__toolbar > div > div:not(.disabled):not(.selected):hover {
  background: var(--_toolbar-background-hover);
}
.MLK__toolbar > div > div.disabled svg,
.MLK__toolbar > div > div.disabled:hover svg,
.MLK__toolbar > div > div.disabled.is-pressed svg {
  color: var(--_toolbar-text);
  opacity: 0.2;
}
.MLK__toolbar > div > div:hover,
.MLK__toolbar > div > div:active,
.MLK__toolbar > div > div.is-pressed,
.MLK__toolbar > div > div.is-active {
  color: var(--_toolbar-text-active);
}
.MLK__toolbar > div > div.selected {
  color: var(--_toolbar-text-active);
  background: var(--_toolbar-background-selected);
  border-radius: 0;
  border-bottom-color: var(--_toolbar-text-active);
  padding-bottom: 4px;
  margin-bottom: 8px;
}
/* This is the element that displays variants on press+hold */
.MLK__variant-panel {
  visibility: hidden;
  position: fixed;
  display: flex;
  flex-flow: row wrap-reverse;
  justify-content: center;
  align-content: center;
  margin: 0;
  padding: 0;
  bottom: auto;
  top: 0;
  box-sizing: content-box;
  transform: none;
  z-index: calc(var(--_keyboard-zindex) + 1);
  touch-action: none;
  max-width: 350px;
  background: var(--_variant-panel-background);
  text-align: center;
  border-radius: 6px;
  padding: 6px;
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
  transition: none;
}
.MLK__variant-panel.is-visible {
  visibility: visible;
}
.MLK__variant-panel.compact {
  --_variant-keycap-length: var(--variant-keycap-length, 50px);
  --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
  --_variant-keycap-aside-font-size: var(--variant-keycap-aside-font-size, 10px);
}
.MLK__variant-panel .item {
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: center;
  font-size: var(--_variant-keycap-font-size);
  height: var(--_variant-keycap-length);
  width: var(--_variant-keycap-length);
  margin: 0;
  box-sizing: border-box;
  border-radius: 5px;
  border: 1px solid transparent;
  background: transparent;
  pointer-events: all;
  cursor: pointer;
  color: var(--_variant-keycap-text);
  fill: currentColor;
}
@media (max-height: 412px) {
  .MLK__variant-panel .item {
    --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
    --_variant-keycap-length: var(--variant-keycap-length, 50px);
  }
}
.MLK__variant-panel .item .ML__latex {
  pointer-events: none;
}
.MLK__variant-panel .item.is-active {
  background: var(--_variant-keycap-background-active);
  color: var(--_variant-keycap-text-active);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
.MLK__variant-panel .item.is-pressed {
  background: var(--_variant-keycap-background-pressed);
  color: var(--_variant-keycap-text-pressed);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
.MLK__variant-panel .item.small {
  font-size: var(--_keycap-small-font-size);
}
.MLK__variant-panel .item.swatch-button {
  box-sizing: border-box;
  background: #fbfbfb;
}
.MLK__variant-panel .item.swatch-button > span {
  display: inline-block;
  margin: 6px;
  width: calc(100% - 12px);
  height: calc(100% - 12px);
  border-radius: 50%;
}
.MLK__variant-panel .item.swatch-button:hover {
  background: #f0f0f0;
}
.MLK__variant-panel .item.swatch-button:hover > span {
  border-radius: 2px;
}
.MLK__variant-panel .item.box > div,
.MLK__variant-panel .item.box > span {
  border: 1px dashed rgba(0, 0, 0, 0.24);
}
.MLK__variant-panel .item .warning {
  min-height: 60px;
  min-width: 60px;
  background: #cd0030;
  color: white;
  padding: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 5px;
}
.MLK__variant-panel .item .warning.is-pressed,
.MLK__variant-panel .item .warning.is-active {
  background: red;
}
.MLK__variant-panel .item .warning svg.svg-glyph {
  width: var(--_keycap-glyph-size-xl);
  height: var(--_keycap-glyph-size-xl);
}
.MLK__variant-panel .item aside {
  font-size: var(--_variant-keycap-aside-font-size);
  line-height: 12px;
  opacity: 0.78;
  padding-top: 2px;
  width: 100%;
  text-align: center;
  text-wrap: wrap;
}
.MLK__keycap {
  position: relative;
}
.MLK__shift {
  display: block;
  position: absolute;
  right: 4px;
  top: 4px;
  font-size: var(--_keycap-shift-font-size);
  color: var(--_keycap-shift-color);
}
.hide-shift .MLK__shift {
  display: none;
}
@media (max-width: 414px) {
  .MLK__variant-panel {
    max-width: 350px;
    --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
    --_variant-keycap-length: var(--variant-keycap-length, 50px);
  }
}
/* @xs breakpoint: iPhone 5 */
@container (max-width: 414px) {
  .MLK__rows {
    --_keycap-gap: max(var(--_keycap-gap, 2px), 2px);
    --_keycap-height: max(var(--_keycap-height), 42px);
    --_keycap-width: var(--keycap-width, min(min(var(--_keycap-max-width)), 10cqw), 62px));
  }
  .MLK__toolbar > div > div {
    font-size: 100%;
    margin-left: 2px;
    margin-right: 2px;
  }
  .MLK__rows .shift,
  .MLK__rows .action {
    font-size: 65%;
  }
  .MLK__rows .warning svg.svg-glyph {
    width: 14px;
    height: 14px;
    min-height: 14px;
  }
}
@container (max-width: 744px) {
  .MLK__rows {
    --_keycap-gap: max(var(--keycap-gap, 2px), 2px);
    --_keycap-height: max(var(--keycap-height, 52px), 52px);
    --_keycap-width: var(--keycap-width, min(min(var(--_keycap-max-width), 10cqw), 62px));
  }
  .MLK__toolbar > div > div {
    padding-left: 0;
    padding-right: 0;
  }
  .MLK__tooltip::after {
    padding: 8px 16px;
    font-size: 16px;
  }
  .MLK__rows > .MLK__row > div.fnbutton {
    font-size: 16px;
  }
  .MLK__rows > .MLK__row > div.bigfnbutton {
    font-size: calc(var(--_keycap-extra-small-font-size) / 1.55);
  }
  .MLK__rows > .MLK__row > div.small {
    font-size: 13px;
  }
  .MLK__rows > .MLK__row > div > aside {
    display: none;
  }
  .MLK__shift {
    display: none;
  }
}
/* Medium breakpoint: larger phones */
@container (max-width: 768px) {
  .MLK__rows {
    --_keycap-height: max(var(--keycap-height, 42px), 42px);
  }
  .MLK__rows > .MLK__row > div > small {
    font-size: 14px;
  }
}
@media (max-height: 768px) {
  .MLK__rows {
    --_keycap-height: max(var(--keycap-height, 42px), 42px);
  }
  .MLK__rows > .MLK__row > div > small {
    font-size: 14px;
  }
}
@container (max-width: 1444px) {
  .MLK__rows .if-wide {
    display: none;
  }
}
@media (prefers-color-scheme: dark) {
  .ML__keyboard {
    --_accent-color: var(--keyboard-accent-color, #0b5c9c);
    --_background: var(--keyboard-background, #151515);
    --_border: var(--keyboard-border, transparent);
    --_toolbar-text: var(--keyboard-toolbar-text, #e3e4e8);
    --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #303030);
    --keyboard-toolbar-background-hover: #303030;
    --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #303030);
    --_keycap-background: var(--keycap-background, #1f2022);
    --_keycap-background-hover: var(--keycap-background-hover, #2f3032);
    --_keycap-border: var(--_keycap-border, transparent);
    --_keycap-border-bottom: var(--_keycap-border-bottom, transparent);
    --_keycap-text: var(--keycap-text, #e3e4e8);
    --_keycap-secondary-background: var(--keycap-secondary-background, #3d4144);
    --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #4d5154);
    --_keycap-secondary-text: var(--keycap-secondary-text, #e7ebee);
    --keycap-secondary-border: transparent;
    --keycap-secondary-border-bottom: transparent;
    --_keycap-secondary-border: var(--keycap-secondary-border, transparent);
    --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, transparent);
    --_variant-panel-background: var(--variant-panel-background, #303030);
    --_variant-keycap-text-active: var(--variant-keycap-text-active, #fff);
  }
}
/* Same as the media query, but with a class */
[theme='dark'] .ML__keyboard {
  --_accent-color: var(--keyboard-accent-color, #0b5c9c);
  --_background: var(--keyboard-background, #151515);
  --_border: var(--keyboard-border, transparent);
  --_toolbar-text: var(--keyboard-toolbar-text, #e3e4e8);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #303030);
  --keyboard-toolbar-background-hover: #303030;
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #303030);
  --_keycap-background: var(--keycap-background, #1f2022);
  --_keycap-background-hover: var(--keycap-background-hover, #2f3032);
  --_keycap-border: var(--_keycap-border, transparent);
  --_keycap-border-bottom: var(--_keycap-border-bottom, transparent);
  --_keycap-text: var(--keycap-text, #e3e4e8);
  --_keycap-secondary-background: var(--keycap-secondary-background, #3d4144);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #4d5154);
  --_keycap-secondary-text: var(--keycap-secondary-text, #e7ebee);
  --keycap-secondary-border: transparent;
  --keycap-secondary-border-bottom: transparent;
  --_keycap-secondary-border: var(--keycap-secondary-border, transparent);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, transparent);
  --_variant-panel-background: var(--variant-panel-background, #303030);
  --_variant-keycap-text-active: var(--variant-keycap-text-active, #fff);
}
[theme='light'] .ML__keyboard {
  --_accent-color: var(--keyboard-accent-color, #0c75d8);
  --_background: var(--keyboard-background, #cacfd7);
  --_border: var(--keyboard-border, #ddd);
  --_toolbar-text: var(--keyboard-toolbar-text, #2c2e2f);
  --_toolbar-background: var(--keyboard-toolbar-background, transparent);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #eee);
  --_toolbar-background-selected: var(--keyboard-toolbar-background-selected, transparent);
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #fff);
  --_keycap-background: var(--keycap-background, white);
  --_keycap-background-hover: var(--keycap-background-hover, #f5f5f7);
  --_keycap-background-active: var(--keycap-background-active, var(--_accent-color));
  --_keycap-background-pressed: var(--keycap-background-pressed, var(--_accent-color));
  --_keycap-border: var(--_keycap-border, #e5e6e9);
  --_keycap-border-bottom: var(--_keycap-border-bottom, #8d8f92);
  --_keycap-text: var(--keycap-text, #000);
  --_keycap-text-active: var(--keycap-text-active, #fff);
  --_keycap-text-hover: var(--keycap-text-hover, var(--_keycap-text));
  --_keycap-text-pressed: var(--keycap-text-pressed, #fff);
  --_keycap-shift-text: var(--keycap-shift-text, var(--_accent-color));
  --_keycap-secondary-background: var(--keycap-secondary-background, #a0a9b8);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #7d8795);
  --_keycap-secondary-text: var(--keycap-secondary-text, #060707);
  --_keycap-secondary-border: var(--keycap-secondary-border, #c5c9d0);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, #989da6);
  --_variant-panel-background: var(--variant-panel-background, #f0f0f0);
  --_variant-keycap-text: var(--variant-keycap-textvar, var(--_keycap-text));
  --_variant-keycap-text-active: var(--variant-keycap-text-active, var(--_keycap-text-active));
  --_variant-keycap-background-active: var(--variant-keycap-background-active, var(--_accent-color));
}
`,bLe=`:host {
  --primary-color: #5898ff;
  --primary-color-dimmed: #c0c0f0;
  --primary-color-dark: var(--blue-500);
  --primary-color-light: var(--blue-100);
  --primary-color-reverse: #ffffff;
  --secondary-color: #ff8a65;
  --secondary-color-dimmed: #f0d5c5;
  --secondary-color-dark: var(--orange-500);
  --secondary-color-light: var(--orange-100);
  --secondary-color-reverse: #ffffff;
  --link-color: #5898ff;
  --link-color-dimmed: #c5c5c5;
  --link-color-dark: #121212;
  --link-color-light: #e2e2e2;
  --link-color-reverse: #ffffff;
  --semantic-blue: var(--blue-700);
  --semantic-red: var(--red-400);
  --semantic-orange: var(--orange-400);
  --semantic-green: var(--green-700);
  --neutral-100: #f5f5f5;
  --neutral-200: #eeeeee;
  --neutral-300: #e0e0e0;
  --neutral-400: #bdbdbd;
  --neutral-500: #9e9e9e;
  --neutral-600: #757575;
  --neutral-700: #616161;
  --neutral-800: #424242;
  --neutral-900: #212121;
  --red-25: #fff8f7;
  --red-50: #fff1ef;
  --red-100: #ffeae6;
  --red-200: #ffcac1;
  --red-300: #ffa495;
  --red-400: #ff7865;
  --red-500: #f21c0d;
  --red-600: #e50018;
  --red-700: #d30024;
  --red-800: #bd002c;
  --red-900: #a1002f;
  --orange-25: #fffbf8;
  --orange-50: #fff7f1;
  --orange-100: #fff3ea;
  --orange-200: #ffe1c9;
  --orange-300: #ffcca2;
  --orange-400: #ffb677;
  --orange-500: #fe9310;
  --orange-600: #f58700;
  --orange-700: #ea7c00;
  --orange-800: #dc6d00;
  --orange-900: #ca5b00;
  --brown-25: #fff8ef;
  --brown-50: #fff1df;
  --brown-100: #ffe9ce;
  --brown-200: #ebcca6;
  --brown-300: #cdaf8a;
  --brown-400: #af936f;
  --brown-500: #856a47;
  --brown-600: #7f5e34;
  --brown-700: #78511f;
  --brown-800: #6e4200;
  --brown-900: #593200;
  --yellow-25: #fffdf9;
  --yellow-50: #fffcf2;
  --yellow-100: #fffaec;
  --yellow-200: #fff2ce;
  --yellow-300: #ffe8ab;
  --yellow-400: #ffdf85;
  --yellow-500: #ffcf33;
  --yellow-600: #f1c000;
  --yellow-700: #dfb200;
  --yellow-800: #c9a000;
  --yellow-900: #ad8a00;
  --lime-25: #f4ffee;
  --lime-50: #e9ffdd;
  --lime-100: #ddffca;
  --lime-200: #a8fb6f;
  --lime-300: #94e659;
  --lime-400: #80d142;
  --lime-500: #63b215;
  --lime-600: #45a000;
  --lime-700: #268e00;
  --lime-800: #007417;
  --lime-900: #005321;
  --green-25: #f5fff5;
  --green-50: #ebffea;
  --green-100: #e0ffdf;
  --green-200: #a7ffa7;
  --green-300: #5afa65;
  --green-400: #45e953;
  --green-500: #17cf36;
  --green-600: #00b944;
  --green-700: #00a34a;
  --green-800: #008749;
  --green-900: #00653e;
  --teal-25: #f3ffff;
  --teal-50: #e6fffe;
  --teal-100: #d9fffe;
  --teal-200: #8dfffe;
  --teal-300: #57f4f4;
  --teal-400: #43e5e5;
  --teal-500: #17cfcf;
  --teal-600: #00c2c0;
  --teal-700: #00b5b1;
  --teal-800: #00a49e;
  --teal-900: #009087;
  --cyan-25: #f7fcff;
  --cyan-50: #eff8ff;
  --cyan-100: #e7f5ff;
  --cyan-200: #c2e6ff;
  --cyan-300: #95d5ff;
  --cyan-400: #61c4ff;
  --cyan-500: #13a7ec;
  --cyan-600: #069eda;
  --cyan-700: #0095c9;
  --cyan-800: #0088b2;
  --cyan-900: #0a7897;
  --blue-25: #f7faff;
  --blue-50: #eef5ff;
  --blue-100: #e5f1ff;
  --blue-200: #bfdbff;
  --blue-300: #92c2ff;
  --blue-400: #63a8ff;
  --blue-500: #0d80f2;
  --blue-600: #0077db;
  --blue-700: #006dc4;
  --blue-800: #0060a7;
  --blue-900: #005086;
  --indigo-25: #f8f7ff;
  --indigo-50: #f1efff;
  --indigo-100: #eae7ff;
  --indigo-200: #ccc3ff;
  --indigo-300: #ac99ff;
  --indigo-400: #916aff;
  --indigo-500: #63c;
  --indigo-600: #5a21b2;
  --indigo-700: #4e0b99;
  --indigo-800: #3b0071;
  --indigo-900: #220040;
  --purple-25: #fbf7ff;
  --purple-50: #f8f0ff;
  --purple-100: #f4e8ff;
  --purple-200: #e4c4ff;
  --purple-300: #d49aff;
  --purple-400: #c36aff;
  --purple-500: #a219e6;
  --purple-600: #9000c4;
  --purple-700: #7c009f;
  --purple-800: #600073;
  --purple-900: #3d0043;
  --magenta-25: #fff8fb;
  --magenta-50: #fff2f6;
  --magenta-100: #ffebf2;
  --magenta-200: #ffcddf;
  --magenta-300: #ffa8cb;
  --magenta-400: #ff7fb7;
  --magenta-500: #eb4799;
  --magenta-600: #da3689;
  --magenta-700: #c82179;
  --magenta-800: #b00065;
  --magenta-900: #8a004c;
}
@media (prefers-color-scheme: dark) {
  :host {
    --semantic-blue: var(--blue-700);
    --semantic-red: var(--red-400);
    --semantic-orange: var(--orange-400);
    --semantic-green: var(--green-700);
    --semantic-bg-blue: var(--blue-25);
    --semantic-bg-red: var(--red-25);
    --semantic-bg-orange: var(--orange-25);
    --semantic-bg-green: var(--green-25);
    --neutral-100: #121212;
    --neutral-200: #424242;
    --neutral-300: #616161;
    --neutral-400: #757575;
    --neutral-500: #9e9e9e;
    --neutral-600: #bdbdbd;
    --neutral-700: #e0e0e0;
    --neutral-800: #eeeeee;
    --neutral-900: #f5f5f5;
  }
}
:host([theme='dark']) {
  --semantic-blue: var(--blue-700);
  --semantic-red: var(--red-400);
  --semantic-orange: var(--orange-400);
  --semantic-green: var(--green-700);
  --semantic-bg-blue: var(--blue-25);
  --semantic-bg-red: var(--red-25);
  --semantic-bg-orange: var(--orange-25);
  --semantic-bg-green: var(--green-25);
  --neutral-100: #121212;
  --neutral-200: #424242;
  --neutral-300: #616161;
  --neutral-400: #757575;
  --neutral-500: #9e9e9e;
  --neutral-600: #bdbdbd;
  --neutral-700: #e0e0e0;
  --neutral-800: #eeeeee;
  --neutral-900: #f5f5f5;
}
/* @media (prefers-color-scheme: dark) {
  :host {
      --label-color: #fff;
      --active-label-color: #000;
      --menu-bg: #525252;
      --active-bg: #5898ff;
      --active-bg-dimmed: #5c5c5c;
  }
} */
:host {
  --ui-font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont,
    'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol';
  --ui-font-size: 14px;
  --ui-line-height: 1.5;
  --ui-letter-spacing: 0.007em;
  --mono-font-family: 'Berkeley Mono', 'JetBrains Mono', 'IBM Plex Mono',
    'Source Code Pro', Menlo, Monaco, 'Courier New', monospace;
  --ui-layer-1: var(--neutral-100);
  --ui-layer-2: var(--neutral-200);
  --ui-layer-3: var(--neutral-300);
  --ui-layer-4: var(--neutral-400);
  --ui-layer-5: var(--neutral-500);
  --ui-layer-6: var(--neutral-600);
  --ui-border-color: var(--primary-color);
  --ui-border-radius: 4px;
  --ui-text: var(--neutral-900);
  --ui-text-secondary: var(--neutral-700);
  --ui-text-placeholder: var(--neutral-500);
  --ui-text-muted: var(--neutral-300);
  /** A field is a UI element in which a user can type data, for
  * example an input or textarea element.
  */
  --ui-field-bg: var(--neutral-100);
  --ui-field-bg-hover: var(--neutral-100);
  --ui-field-bg-disabled: var(--neutral-300);
  --ui-field-bg-invalid: var(--red-100);
  --ui-field-bg-focus: var(--neutral-100);
  --ui-field-border: 0.5px solid var(--border-color);
  --ui-field-border-hover: 0.5px solid var(--border-color);
  --ui-field-border-disabled: 0.5px solid var(--border-color);
  --ui-field-border-invalid: 0.5px solid var(--border-color);
  --ui-field-border-focus: 0.5px solid var(--border-color);
  --ui-menu-bg: var(--neutral-100);
  --ui-menu-text: var(--neutral-900);
  --ui-menu-bg-hover: var(--neutral-200);
  --ui-menu-text-hover: var(--neutral-900);
  /** The \`active\` state is used for the state of menu items
  * when they are selected.
  */
  --ui-menu-bg-active: var(--primary-color);
  --ui-menu-text-active: var(--primary-color-reverse);
  /** The \`active-muted\` set is used for the state of
  * submenus when they are open.
  */
  --ui-menu-bg-active-muted: var(--neutral-300);
  --ui-menu-text-active-muted: var(--neutral-900);
  /* --ui-menu-shadow: 0 1px 2px 0 rgba(60, 64, 67, 0.302),
0 2px 6px 2px rgba(60, 64, 67, 0.149); */
  --ui-menu-shadow: 0 0 2px rgba(0, 0, 0, 0.5), 0 0 20px rgba(0, 0, 0, 0.2);
  --ui-menu-divider: 0.5px solid #c7c7c7;
  /* var(--neutral-300); */
  --ui-menu-z-index: 10000;
  --page-bg: var(--neutral-100);
  --content-bg: var(--neutral-200);
}
@media (prefers-color-scheme: dark) {
  :host {
    --ui-menu-bg: var(--neutral-200);
  }
}
:host([theme='dark']) {
  --ui-menu-bg: var(--neutral-200);
}
/* PingFang SC is a macOS font. Microsoft Yahei is a Windows font. 
  Noto  is a Linux/Android font.
*/
:lang(zh-cn),
:lang(zh-sg),
:lang(zh-my),
:lang(zh) {
  --ui-font-family: -apple-system, system-ui, 'PingFang SC', 'Hiragino Sans GB',
    'Noto Sans CJK SC', 'Noto Sans SC', 'Noto Sans', 'Microsoft Yahei UI',
    'Microsoft YaHei New', 'Microsoft Yahei', '', SimSun, '',
    STXihei, '', sans-serif;
}
:lang(zh-tw),
:lang(zh-hk),
:lang(zh-mo) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans',
    'Microsoft JhengHei UI', 'Microsoft JhengHei', '', '',
    'PMingLiU', '', 'MingLiU', sans-serif;
}
:lang(ja),
:lang(ja-jp),
:lang(ja-jp-mac) {
  --ui-font-family: -apple-system, system-ui, 'Hiragino Sans',
    'Hiragino Kaku Gothic ProN', 'Noto Sans CJK JP', 'Noto Sans JP', 'Noto Sans',
    '', '', YuGothic, 'Yu Gothic', '', Meiryo,
    ' ', 'MS PGothic', sans-serif;
}
:lang(ko),
:lang(ko-kr),
:lang(ko-kr-std) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans CJK KR', 'Noto Sans KR',
    'Noto Sans', 'Malgun Gothic', ' ', 'Apple SD Gothic Neo',
    ' SD  Neo', 'Apple SD  Neo', '', Dotum, sans-serif;
}
:lang(ko-kr-apple) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans CJK KR', 'Noto Sans KR',
    'Noto Sans', 'Apple SD Gothic Neo', ' SD  Neo',
    'Apple SD  Neo', '', Dotum, sans-serif;
}
:lang(zh-cn),
:lang(zh-sg),
:lang(zh-my),
:lang(zh),
:lang(zh-tw),
:lang(zh-hk),
:lang(zh-mo),
:lang(ja),
:lang(ja-jp),
:lang(ja-jp-mac),
:lang(ko),
:lang(ko-kr),
:lang(ko-kr-std),
:lang(ko-kr-apple) {
  --ui-font-size: 1rem;
  --ui-line-height: 1.7;
  --ui-letter-spacing: 0;
}
:dir(rtl) {
  --ui-line-height: auto;
  --ui-letter-spacing: 0;
}
`,wLe=`.ui-menu *,
.ui-menu ::before,
.ui-menu ::after {
  box-sizing: border-box;
}
.ui-menu {
  display: none;
  color-scheme: light dark;
  -webkit-user-select: none;
  /* Important: Safari iOS doesn't respect user-select */
  user-select: none;
  cursor: default;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: rgba(0 0 0 0);
  --active-label-color: #fff;
  /* ui-menu-text-active */
  --label-color: #121212;
  /* ui-menu-text */
  --menu-bg: #e2e2e2;
  /* ui-menu-background */
  --active-bg: #5898ff;
  /* ui-menu-background-active */
  --active-bg-dimmed: #c5c5c5;
  /* ui-menu-background-active-muted */
}
/** Use the :where pseudo selector to make the specificity of the
 * selector 0, so that it can be overridden by the user.
 */
:where(.ui-menu-container) {
  position: absolute;
  overflow: visible;
  width: auto;
  height: auto;
  z-index: 10000;
  border-radius: 8px;
  background: var(--ui-menu-bg);
  box-shadow: var(--ui-menu-shadow);
  list-style: none;
  padding: 6px 0 6px 0;
  margin: 0;
  user-select: none;
  cursor: default;
  color: var(--ui-menu-text);
  font-weight: normal;
  font-style: normal;
  text-shadow: none;
  text-transform: none;
  letter-spacing: 0;
  outline: none;
  opacity: 1;
  /* The [popover] elements have a 1px solid black border. Ugh. */
  border: none;
  width: fit-content;
  height: fit-content;
}
:where(.ui-menu-container > li) {
  display: flex;
  flex-flow: row;
  align-items: center;
  padding: 1px 7px 1px 7px;
  margin-top: 0;
  margin-left: 6px;
  margin-right: 6px;
  border-radius: 4px;
  white-space: nowrap;
  position: relative;
  outline: none;
  fill: currentColor;
  user-select: none;
  cursor: default;
  text-align: left;
  color: inherit;
  font-family: var(--ui-font-family);
  font-size: var(--ui-font-size);
  line-height: var(--ui-line-height);
  letter-spacing: var(--ui-letter-spacing);
}
:where(.ui-menu-container > li > .label) {
  display: flex;
  align-items: center;
  justify-content: space-between;
  appearance: none;
  background: none;
  outline: none;
  width: 100%;
  margin: 0;
  padding: 1px 2px 1px 1px;
  overflow: visible;
  border: 1px solid transparent;
  white-space: nowrap;
  text-align: start;
  align-content: center;
}
:where(.ui-menu-container > li:has(.heading)) {
  margin-top: 0.5em;
}
:where(.ui-menu-container > li > .label.heading) {
  font-weight: bold;
  opacity: 0.4;
}
:where(.ui-menu-container > li.indent > .label) {
  margin-inline-start: 12px;
}
:where(.ui-menu-container > li > .label.indent) {
  margin-inline-start: 12px;
}
:where(.ui-menu-container > li[role='divider']) {
  border-bottom: 1px solid var(--ui-menu-divider);
  border-radius: 0;
  padding: 0;
  margin-left: 15px;
  margin-right: 15px;
  padding-top: 5px;
  margin-bottom: 5px;
  width: calc(100% - 30px);
  /** 100% - (margin-left + margin-right) */
}
:where(.ui-menu-container > li[aria-disabled='true']) {
  opacity: 0.5;
}
:where(.ui-menu-container > li.active) {
  background: var(--ui-menu-bg-active);
  background: -apple-system-control-accent;
  color: var(--ui-menu-text-active);
}
:where(.ui-menu-container > li.active.is-submenu-open) {
  background: var(--ui-menu-bg-active-muted);
  color: inherit;
}
:where(.ui-menu-container > li[aria-haspopup='true'] > .label) {
  padding-inline-end: 0;
}
:where(.ui-menu-container > li[aria-haspopup='true'].active::after) {
  color: var(--ui-menu-text-active);
}
/** Keyboard shortcut */
:where(.ui-menu-container > li > kbd) {
  font-family: var(--ui-font-family);
  margin-inline-start: 12px;
  opacity: 0.4;
}
:where(.ui-menu-container > li.active > kbd) {
  opacity: 0.85;
}
.ui-trailing-chevron {
  display: flex;
  margin-inline-start: 24px;
  width: 10px;
  height: 10px;
  margin-bottom: 4px;
}
.ui-trailing-chevron:dir(rtl) {
  transform: scaleX(-1);
}
.ui-checkmark {
  display: flex;
  margin-inline-end: -11px;
  margin-inline-start: -4px;
  margin-top: 2px;
  width: 16px;
  height: 16px;
}
.ui-mixedmark {
  display: flex;
  margin-inline-end: -11px;
  margin-inline-start: -4px;
  margin-top: 2px;
  width: 16px;
  height: 16px;
}
`,kd;function Ld(t){let e="";switch(t){case"mathfield-element":e=`
    :host { display: inline-block; background-color: field; color: fieldtext; border-width: 1px; border-style: solid; border-color: #acacac; border-radius: 2px;}
    :host([hidden]) { display: none; }
    :host([disabled]), :host([disabled]:focus), :host([disabled]:focus-within) { outline: none; opacity:  .5; }
    :host(:focus), :host(:focus-within) {
      outline: Highlight auto 1px;    /* For Firefox */
      outline: -webkit-focus-ring-color auto 1px;
    }
    :host([readonly]:focus), :host([readonly]:focus-within),
    :host([read-only]:focus), :host([read-only]:focus-within) {
      outline: none;
    }`;break;case"core":e=mLe;break;case"mathfield":e=pLe;break;case"environment-popover":e=gLe;break;case"suggestion-popover":e=yLe;break;case"keystroke-caption":e=vLe;break;case"virtual-keyboard":e=xLe;break;case"ui":e=bLe;break;case"menu":e=wLe;break}return e}function _0(t){return kd||(kd={}),kd[t]||(kd[t]=new CSSStyleSheet,kd[t].replaceSync(Ld(t))),kd[t]}var dl;function Fu(t){var e;try{if(!("adoptedStyleSheets"in document)){if(window.document.getElementById(`mathlive-style-${t}`))return;let r=window.document.createElement("style");r.id=`mathlive-style-${t}`,r.append(window.document.createTextNode(Ld(t))),window.document.head.appendChild(r);return}if(dl||(dl={}),((e=dl[t])!=null?e:0)!==0)dl[t]+=1;else{let r=_0(t);document.adoptedStyleSheets=[...document.adoptedStyleSheets,r],dl[t]=1}}catch(r){console.error("Error injecting stylesheet",t,r)}}function Tu(t){if("adoptedStyleSheets"in document&&dl!=null&&dl[t]&&(dl[t]-=1,dl[t]<=0)){let e=kd[t];document.adoptedStyleSheets=document.adoptedStyleSheets.filter(r=>r!==e)}}var B5=class zte extends se{constructor(e){var r;super(W(U({},e),{type:"accent",body:(r=e.body)!=null?r:void 0})),e.accentChar?this.accent=e.accentChar:this.svgAccent=e==null?void 0:e.svgAccent,this.skipBoundary=!0,this.captureSelection=!0}static fromJson(e){return new zte(e)}toJson(){return W(U({},super.toJson()),{accentChar:this.accent,svgAccent:this.svgAccent})}render(e){var r;let n=new pt({parent:e,mathstyle:"cramp"},this.style),i=(r=se.createBox(n,this.body))!=null?r:new ge("",{style:this.style}),s=0;!this.hasEmptyBranch("body")&&this.body.length===2&&this.body[1].isCharacterBox()&&(s=i.skew);let a=Math.min(i.height,uu),o;if(this.svgAccent)o=Cx(this.svgAccent),a=n.metrics.bigOpSpacing1-a;else if(this.accent){let c=new ge(this.accent,{fontFamily:"Main-Regular"});c.italic=0;let u=this.accent===8407||this.accent===8411||this.accent===8412?" ML__accent-combining-char":"";o=new ge(new ge(c),{classes:"ML__accent-body"+u})}o=new Vr({shift:0,children:[{box:new ge(i)},-a,{box:o,marginLeft:i.left+2*s,classes:["ML__center"]}]});let l=new ge(o,{type:"lift"});return this.caret&&(l.caret=this.caret),this.bind(n,l.wrap(n)),this.attachSupsub(n,{base:l})}},_5={"(":")","{":"}","[":"]","|":"|","\\lbrace":"\\rbrace","\\lparen":"\\rparen","\\{":"\\}","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"},w3=Object.fromEntries(Object.entries(_5).map(([t,e])=>[e,t]));function k5(t){var e;return(e={"[":91,"]":93,"(":40,")":41,"\\mid":8739,"|":8739,"":8739,"":8741,"\\|":8739,"\\{":123,"\\}":125,"\\lbrace":123,"\\rbrace":125,"\\lparen":40,"\\rparen":41,"\\lbrack":91,"\\rbrack":93,"\\vert":8739,"\\lvert":8739,"\\mvert":8739,"\\rvert":8739,"\\Vert":8741,"\\lVert":8741,"\\mVert":8741,"\\rVert":8741,"\\parallel":8741,"\\shortparallel":8741,"\\langle":10216,"\\rangle":10217,"\\lfloor":8970,"\\rfloor":8971,"\\lceil":8968,"\\rceil":8969,"\\ulcorner":9484,"\\urcorner":9488,"\\llcorner":9492,"\\lrcorner":9496,"\\lgroup":10222,"\\rgroup":10223,"\\lmoustache":9136,"\\rmoustache":9137,"\\surd":8730}[t])!=null?e:t.codePointAt(0)}function CLe(t,e,r,n){var i;let s=new ge(k5(t),{fontFamily:"Main-Regular",isSelected:n.isSelected,classes:"ML__small-delim "+((i=n.classes)!=null?i:"")}).wrap(e);return r&&s.setTop((1-e.scalingFactor)*La),s}function $te(t,e,r,n,i){var s,a;let o=new pt({parent:n,mathstyle:"textstyle"},i==null?void 0:i.style),l=new ge(k5(t),{fontFamily:`Size${e}-Regular`,isSelected:i.isSelected,classes:((s=i.classes)!=null?s:"")+` ML__delim-size${e}`,type:(a=i.type)!=null?a:"ignore"}).wrap(o);return r&&l.setTop((1-o.scalingFactor)*La),l}function Vte(t,e,r,n,i){var s;let a,o,l,c;a=l=c=k5(t),o=null;let u="Size1-Regular";t==="\\vert"||t==="\\lvert"||t==="\\rvert"||t==="\\mvert"||t==="\\mid"?l=a=c=8739:t==="\\Vert"||t==="\\lVert"||t==="\\rVert"||t==="\\mVert"||t==="\\|"?l=a=c=8741:t==="\\uparrow"?l=c=9168:t==="\\Uparrow"?l=c=8214:t==="\\downarrow"?a=l=9168:t==="\\Downarrow"?a=l=8214:t==="\\updownarrow"?(a=8593,l=9168,c=8595):t==="\\Updownarrow"?(a=8657,l=8214,c=8659):t==="["||t==="\\lbrack"?(a=9121,l=9122,c=9123,u="Size4-Regular"):t==="]"||t==="\\rbrack"?(a=9124,l=9125,c=9126,u="Size4-Regular"):t==="\\lfloor"||t===""?(l=a=9122,c=9123,u="Size4-Regular"):t==="\\lceil"||t===""?(a=9121,l=c=9122,u="Size4-Regular"):t==="\\rfloor"||t===""?(l=a=9125,c=9126,u="Size4-Regular"):t==="\\rceil"||t===""?(a=9124,l=c=9125,u="Size4-Regular"):t==="("||t==="\\lparen"?(a=9115,l=9116,c=9117,u="Size4-Regular"):t===")"||t==="\\rparen"?(a=9118,l=9119,c=9120,u="Size4-Regular"):t==="\\{"||t==="\\lbrace"?(a=9127,o=9128,c=9129,l=9130,u="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(a=9131,o=9132,c=9133,l=9130,u="Size4-Regular"):t==="\\lgroup"||t===""?(a=9127,c=9129,l=9130,u="Size4-Regular"):t==="\\rgroup"||t===""?(a=9131,c=9133,l=9130,u="Size4-Regular"):t==="\\lmoustache"||t===""?(a=9127,c=9133,l=9130,u="Size4-Regular"):t==="\\rmoustache"||t===""?(a=9131,c=9129,l=9130,u="Size4-Regular"):t==="\\surd"?(a=57345,c=9143,l=57344,u="Size4-Regular"):t==="\\ulcorner"?(a=9484,l=c=32):t==="\\urcorner"?(a=9488,l=c=32):t==="\\llcorner"?(c=9492,l=a=32):t==="\\lrcorner"&&(a=9496,l=a=32);let d=eA(a,u),A=d.height+d.depth,f=eA(l,u),p=f.height+f.depth,m=eA(c,u),y=m.height+m.depth,g=0,v=1;if(o!==null){let I=eA(o,u);g=I.height+I.depth,v=2}let x=A+y+g,b=Math.max(0,Math.ceil((e-x)/(v*p))),w=x+b*v*p,C=La;r&&(C=C*n.scalingFactor);let S=w/2-C,B=.008,E=[];E.push({box:new ge(c,{fontFamily:u})}),E.push(-B);let M=new ge(l,{fontFamily:u});if(o===null)for(let I=0;I<b;I++)E.push({box:M});else{for(let I=0;I<b;I++)E.push({box:M});E.push(-B),E.push({box:new ge(o,{fontFamily:u})}),E.push(-B);for(let I=0;I<b;I++)E.push({box:M})}E.push(-B),E.push({box:new ge(a,{fontFamily:u})});let D="";u==="Size1-Regular"?D=" delim-size1":u==="Size4-Regular"&&(D=" delim-size4");let L=new Vr({bottom:S,children:E},{classes:D});return new ge(L,W(U({},i??{}),{classes:((s=i==null?void 0:i.classes)!=null?s:"")+" ML__delim-mult"}))}var Kte=new Set(["(",")","\\lparen","\\rparen","[","]","\\lbrack","\\rbrack","\\{","\\}","\\lbrace","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd","","","",""]),SLe=new Set(["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\mvert","\\mid","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","","","",""]),qte=new Set(["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"]),BLe=[0,1.2,1.8,2.4,3];function _Le(t,e,r,n){return t===void 0||t==="."?Bh(r,n.classes):(t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle"),Kte.has(t)||qte.has(t)?$te(t,e,!1,r,n):SLe.has(t)?Vte(t,BLe[e],!1,r,n):null)}var kLe=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],ELe=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"stack"}],MLe=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];function FLe(t){return t.type==="small"?"Main-Regular":t.type==="large"?"Size"+t.size+"-Regular":(t.type,"Size4-Regular")}function TLe(t,e,r,n){let i={"-4":0,"-3":1,0:2}[n.mathstyle.sizeDelta];for(let s=i;s<r.length&&r[s].type!=="stack";s++){let a=eA(t,FLe(r[s]));if(a.defaultMetrics)return{type:"small",mathstyle:"scriptstyle"};let o=a.height+a.depth;if(r[s].type==="small"&&(r[s].mathstyle==="scriptscriptstyle"?o*=Math.max(P9[Math.max(1,n.size-2)],n.minFontScale):r[s].mathstyle==="scriptstyle"&&(o*=Math.max(P9[Math.max(1,n.size-1)],n.minFontScale))),o>e)return r[s]}return r[r.length-1]}function C3(t,e,r,n,i,s){if(!e||e.length===0||e===".")return Bh(i);e==="<"||e==="\\lt"?e="\\langle":(e===">"||e==="\\gt")&&(e="\\rangle");let a;qte.has(e)?a=kLe:Kte.has(e)?a=MLe:a=ELe;let o=TLe(k5(e),r,a,i),l=new pt({parent:i,mathstyle:o.mathstyle},s==null?void 0:s.style);return o.type==="small"?CLe(e,l,n,W(U({},s),{type:t})):o.type==="large"?$te(e,o.size,n,l,W(U({},s),{type:t})):(o.type,Vte(e,r,n,l,W(U({},s),{type:t})))}function n1(t,e,r,n,i,s){if(e===".")return Bh(i,s==null?void 0:s.classes);let a=La*i.scalingFactor,o=901,l=5/YA,c=Math.max(r-a,n+a),u=Math.max(c/500*o,2*c-l);return C3(t,e,u,!0,i,s)}function Bh(t,e){let r=new ge(null,{classes:" ML__nulldelimiter "+(e??""),type:"ignore"});return r.width=t.getRegisterAsEm("nulldelimiterspace"),r.wrap(new pt({parent:t,mathstyle:"textstyle"}))}var Do=class Wte extends se{constructor(e){var r;super({type:"placeholder",command:"\\placeholder",mode:(r=e==null?void 0:e.mode)!=null?r:"math",style:e==null?void 0:e.style}),this.captureSelection=!0}static fromJson(e){return new Wte(e)}toJson(){return super.toJson()}render(e){let r;return this.value=e.placeholderSymbol,typeof e.renderPlaceholder=="function"?r=e.renderPlaceholder(e):r=this.createBox(e),this.caret&&(r.classes+=" ML__placeholder-selected"),r}_serialize(e){return e.skipPlaceholders?"":"\\placeholder{}"}},Gte=["matrix","matrix*","pmatrix","pmatrix*","bmatrix","bmatrix*","Bmatrix","Bmatrix*","vmatrix","vmatrix*","Vmatrix","Vmatrix*"],K9=["cases","dcases","rcases"],Xte=["align","align*","aligned","gather","gather*","gathered","split"],DLe=["array","subequations","eqnarray"];function LLe(t){return Xte.includes(t)||K9.includes(t)||K9.includes(t)||Gte.includes(t)||DLe.includes(t)}function Yte(t){return Gte.includes(t)}function NLe(t){return K9.includes(t)}function jLe(t){return Xte.includes(t)}function ILe(t,e,r){let n=0;for(let c of r.columns)"align"in c&&(n+=1);n=Math.max(n,r.minColumns);let i=0,s=[];for(let c of e){i=Math.max(i,Math.min(c.length,n));let u=0;for(;u<c.length;){let d=[],A=Math.min(c.length,u+n);for(;u<A;)d.push(OLe(c[u],t.mode)),u+=1;if(d.length<r.minColumns)for(;d.length<r.minColumns;)d.push([new se({type:"first",mode:t.mode})]);s.push(d)}}!t.isMultiline&&s.length>0&&s[s.length-1].length===1&&PLe(s[s.length-1][0])&&s.pop();let a=[];for(let c of s){if(c.length!==i)for(let u=c.length;u<i;u++)t.isMultiline?c.push([new se({type:"first",mode:t.mode})]):c.push([new se({type:"first",mode:t.mode}),new Do]);a.push(c)}let o=0,l=0;for(let c of a){l=0;for(let u of c){for(let d of u)d.parent=t,d.parentBranch=[o,l];l+=1}o+=1}return t.isDirty=!0,a}function OLe(t,e){return t.length===0?[new se({type:"first",mode:e})]:t[0].type!=="first"?[new se({type:"first",mode:e}),...t]:(t.slice(1).some(r=>r.type==="first"),t)}function PLe(t){return t.length===1&&t[0].type==="first"}var dt=class Jte extends se{get isMultiline(){let e=this.environmentName;return["lines","multline","multline*","align","split","gather","gathered"].includes(e)}constructor(e,r,n,i={}){var s,a,o,l;if(super({type:"array",isRoot:i.isRoot}),this.environmentName=e,i.columns)i.columns.length===0?this.colFormat=[{align:"l"}]:this.colFormat=[...i.columns];else if(i.minColumns){let c=[];for(let u=0;u<i.minColumns;u++)c.push({align:"l"});this.colFormat=c}else this.colFormat=[{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"}];this.minColumns=(s=i.minColumns)!=null?s:1,this.minRows=(a=i.minRows)!=null?a:1,this.maxRows=(o=i.maxRows)!=null?o:1/0,this._rows=ILe(this,r,{columns:this.colFormat,minColumns:this.minColumns,minRows:this.minRows,maxRows:this.maxRows}),this.rowGaps=n,i.arraycolsep!==void 0&&(this.arraycolsep=i.arraycolsep),this.colSeparationType=i.colSeparationType,i.arraystretch!==void 0&&(this.arraystretch=i.arraystretch),i.mathstyleName&&(this.mathstyleName=i.mathstyleName),i.leftDelim&&(this.leftDelim=i.leftDelim),i.rightDelim&&(this.rightDelim=i.rightDelim),this.classes=(l=i.classes)!=null?l:[]}static fromJson(e){return new Jte(e.environmentName,e.array,e.rowGaps,e)}toJson(){let e=W(U({},super.toJson()),{environmentName:this.environmentName,array:this._rows.map(r=>r.map(n=>n.map(i=>i.toJson()))),rowGaps:this.rowGaps,columns:this.colFormat,colSeparationType:this.colSeparationType,minColumns:this.minColumns,minRows:this.minRows,maxRows:this.maxRows});return this.arraystretch!==void 0&&(e.arraystretch=this.arraystretch),this.arraycolsep!==void 0&&(e.arraycolsep=this.arraycolsep),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),this.isRoot&&(e.isRoot=!0),e.minColumns=this.minColumns,e.minRows=this.minRows,e.maxRows=this.maxRows,this.mathstyleName&&(e.mathstyleName=this.mathstyleName),this.classes.length>0&&(e.classes=this.classes),e}branch(e){var r;if(Hl(e))return(r=this._rows[e[0]][e[1]])!=null?r:void 0}createBranch(e){var r;return Hl(e)?(this.isDirty=!0,(r=this.branch(e))!=null?r:[]):[]}get rowCount(){return this._rows.length}get colCount(){return this._rows[0].length}get maxColumns(){return this.colFormat.filter(e=>!!e.align).length}removeBranch(e){if(_d(e))return super.removeBranch(e);let[r,...n]=this.branch(e);return r.type,this._rows[e[0]][e[1]]=void 0,n.forEach(i=>{i.parent=void 0,i.parentBranch=void 0}),this.isDirty=!0,n}get hasChildren(){return this.children.length>0}get children(){let e=[];for(let r of this._rows)for(let n of r)if(n)for(let i of n)e.push(...i.children),e.push(i);return[...e,...super.children]}render(e){var r,n,i,s,a,o;let l=new pt({parent:e,mathstyle:this.mathstyleName},this.style),c=l.getRegisterAsEm("arrayrulewidth"),u=l.getRegisterAsEm("arraycolsep"),d=l.getRegisterAsEm("doublerulesep"),A=(n=(r=this.arraystretch)!=null?r:l.getRegisterAsNumber("arraystretch"))!=null?n:1,f=typeof this.arraycolsep=="number"?this.arraycolsep:u;this.colSeparationType==="small"&&(f=.2778*(new pt({parent:e,mathstyle:"scriptstyle"}).scalingFactor/e.scalingFactor));let p=A*jDe,m=.7*p,y=.3*p,g=0,v=[],x=0,b=this._rows.length;for(let $=0;$<b;++$){let P=this._rows[$];x=Math.max(x,P.length);let q=new pt({parent:l,mathstyle:this.mathstyleName},this.style),N=m/q.scalingFactor,ae=y/q.scalingFactor,oe={cells:[],height:0,depth:0,pos:0};for(let fe of P){let Se=(i=se.createBox(q,fe,{type:"ignore"}))!=null?i:new ge(null,{type:"ignore"});ae=Math.max(ae,Se.depth),N=Math.max(N,Se.height),oe.cells.push(Se)}let O=(s=Fte(this.rowGaps[$]))!=null?s:0;O>0&&(O+=y,ae=Math.max(ae,O),O=0),$<b-1&&!Yte(this.environmentName)&&this.environmentName!=="cases"&&this.environmentName!=="array"&&(ae+=l.getRegisterAsEm("jot")),oe.height=N,oe.depth=ae,g+=N,oe.pos=g,g+=ae+O,v.push(oe)}let w=g/2+La,C=[];for(let $=0;$<x;$++){let P=[];for(let q of v){let N=q.cells[$];N&&(N.depth=q.depth,N.height=q.height,P.push({box:N,shift:q.pos-w}))}P.length>0&&C.push(new Vr({individualShift:P}))}let S=[],B=!1,E=!1,M=0,D=!this.leftDelim,{colFormat:L}=this;for(let $ of L){if("align"in $&&M>=C.length)break;if("align"in $)B?S.push(Cv(2*f)):(E||D)&&S.push(Cv(f)),S.push(new ge(C[M],{classes:"col-align-"+$.align})),M++,B=!0,E=!1,D=!1;else if("gap"in $){if(typeof $.gap=="number")S.push(Cv($.gap));else{let P=ULe(e,v,w,$.gap);P&&S.push(P)}B=!1,E=!1,D=!1}else if("separator"in $){let P=new ge(null,{classes:"ML__vertical-separator"});P.height=g,P.setStyle("height",g,"em"),P.setStyle("border-right",`${c}em ${$.separator} currentColor`),P.setStyle("vertical-align",-(g-w),"em");let q=0;E?q=d-c:B&&(q=f-c),P.left=q,S.push(P),B=!1,E=!0,D=!1}}B&&!this.rightDelim&&S.push(Cv(f));let I=new ge(S,{classes:["ML__mtable",...this.classes].join(" ")});if((!this.leftDelim||this.leftDelim===".")&&(!this.rightDelim||this.rightDelim==="."))return this.caret&&(I.caret=this.caret),this.bind(e,I);let z=I.height,R=I.depth,Y=this.bind(e,new ge([this.bind(e,n1("open",(a=this.leftDelim)!=null?a:".",z,R,l,{isSelected:this.isSelected})),I,this.bind(e,n1("close",(o=this.rightDelim)!=null?o:".",z,R,l,{isSelected:this.isSelected}))],{type:"ord"}));return Y?(Y.setStyle("display","inline-block"),this.caret&&(Y.caret=this.caret),this.bind(e,this.attachSupsub(e,{base:Y}))):null}_serialize(e){var r;let n=[];if(this.environmentName==="lines"?n.push("\\displaylines{"):n.push(`\\begin{${this.environmentName}}`),this.environmentName==="array"){if(n.push("{"),this.colFormat!==void 0)for(let i of this.colFormat)"align"in i&&typeof i.align=="string"?n.push(i.align):"separator"in i&&i.separator==="solid"?n.push("|"):"separator"in i&&i.separator==="dashed"&&n.push(":");n.push("}")}for(let i=0;i<this._rows.length;i++){for(let s=0;s<this._rows[i].length;s++)s>0&&n.push(" & "),n.push(se.serialize(this._rows[i][s],e));if(i<this._rows.length-1){let s=this.rowGaps[i];s!=null&&s.dimension?n.push(`\\\\[${s.dimension} ${(r=s.unit)!=null?r:"pt"}] `):n.push("\\\\ ")}}return this.environmentName==="lines"?n.push("}"):n.push(`\\end{${this.environmentName}}`),ot(n)}forEachCell(e){for(let r=0;r<this.rowCount;r++)for(let n=0;n<this.colCount;n++)e(this._rows[r][n],r,n)}getCell(e,r){var n;return(n=this._rows[e])==null?void 0:n[r]}setCell(e,r,n){this.type==="array"&&Array.isArray(this._rows)&&this._rows[e][r];for(let s of this._rows[e][r])s.parent=void 0,s.parentBranch=void 0;let i=[new se({type:"first",mode:this.mode}),...n.filter(s=>s.type!=="first")];this._rows[e][r]=i,dd(this),this.isDirty=!0}addRowBefore(e){this.type==="array"&&Array.isArray(this._rows),this._rows.splice(e,0,new Array(this.colCount).fill(wv(this,!this.isMultiline))),dd(this),this.isDirty=!0}addRowAfter(e){this.type==="array"&&Array.isArray(this._rows),this._rows.splice(e+1,0,new Array(this.colCount).fill(wv(this,!this.isMultiline))),dd(this),this.isDirty=!0}removeRow(e){this.type==="array"&&Array.isArray(this._rows)&&this.rowCount>e;let r=this._rows.splice(e,1);for(let n of r)for(let i of n)if(i)for(let s of i)s.parent=void 0,s.parentBranch=void 0;dd(this),this.isDirty=!0}addColumnBefore(e){this.type==="array"&&Array.isArray(this._rows);for(let r of this._rows)r.splice(e,0,wv(this));dd(this),this.isDirty=!0}addColumnAfter(e){this.type==="array"&&Array.isArray(this._rows);for(let r of this._rows)r.splice(e+1,0,wv(this));dd(this),this.isDirty=!0}addColumn(){this.addColumnAfter(this.colCount-1)}removeColumn(e){this.type==="array"&&Array.isArray(this._rows)&&this.colCount>e;for(let r of this._rows){let n=r.splice(e,1);for(let i of n)if(i)for(let s of i)s.parent=void 0,s.parentBranch=void 0}dd(this),this.isDirty=!0}get cells(){let e=[];for(let r of this._rows)for(let n of r)n&&e.push(n.filter(i=>i.type!=="first"));return e}get rows(){return this._rows}};function wv(t,e=!1){let r=new se({type:"first",mode:t.mode});r.parent=t;let n=[r];if(e){let i=new Do;i.parent=t,n.push(i)}return n}function dd(t){for(let e=0;e<t.rowCount;e++)for(let r=0;r<t.colCount;r++){let n=t.getCell(e,r);if(n)for(let i of n)i&&(i.parent=t,i.parentBranch=[e,r])}}function Cv(t){let e=new ge(null,{classes:"ML__arraycolsep"});return e.width=t,e}function ULe(t,e,r,n){if(!n)return null;let i=[];for(let s of e){let a=se.createBox(t,n,{type:"ignore"});a&&(a.depth=s.depth,a.height=s.height,i.push({box:a,shift:s.pos-r}))}return new Vr({individualShift:i}).wrap(t)}var Du=class Zte extends se{constructor(e){super({mode:e.mode,command:e.command,style:e.style,body:e.body,type:"box"}),this.framecolor=e.framecolor,this.backgroundcolor=e.backgroundcolor,this.padding=e.padding,this.offset=e.offset,this.border=e.border}static fromJson(e){return new Zte(e)}toJson(){return W(U({},super.toJson()),{framecolor:this.framecolor,backgroundcolor:this.backgroundcolor,padding:this.padding,offset:this.offset,border:this.border})}render(e){var r,n,i,s;let a=se.createBox(e,this.body,{type:"lift"});if(!a)return null;let o=e.toEm((r=this.offset)!=null?r:{dimension:0});a.depth+=o,a.setStyle("display","inline-block"),a.setStyle("position","relative"),a.setStyle("height",Math.floor(100*a.height+a.depth)/100,"em"),a.setStyle("vertical-align",-Math.floor(100*a.height)/100,"em");let l=new pt({parent:e},this.style),c=l.toEm((n=this.padding)!=null?n:{register:"fboxsep"}),u=new ge(null,{classes:"ML__box"});u.height=a.height+c,u.depth=a.depth+c,u.setStyle("box-sizing","border-box"),u.setStyle("position","absolute"),u.setStyle("top",-c+.3,"em"),u.setStyle("left",0),u.setStyle("height",u.height+u.depth,"em"),u.setStyle("width","100%"),this.backgroundcolor&&u.setStyle("background-color",(i=l.toColor(this.backgroundcolor))!=null?i:"transparent"),this.framecolor&&u.setStyle("border",`${l.getRegisterAsEm("fboxrule",2)}em solid ${(s=l.toColor(this.framecolor))!=null?s:"black"}`),this.border&&u.setStyle("border",this.border);let d=new ge([u,a],{type:"lift"});return d.setStyle("display","inline-block"),d.setStyle("position","relative"),d.setStyle("line-height",0),d.height=a.height+c+(o>0?o:0),d.depth=a.depth+c+(o<0?-o:0),d.setStyle("padding-left",c,"em"),d.setStyle("padding-right",c,"em"),d.setStyle("height",Math.floor(100*(a.height+a.depth+2*c+Math.abs(o)))/100,"em"),d.setStyle("margin-top",-c,"em"),d.setStyle("top",Math.floor(100*(a.depth-a.height+2*c-o))/100,"em"),d.setStyle("vertical-align",Math.floor(100*(a.depth+2*c))/100,"em"),this.caret&&(d.caret=this.caret),this.attachSupsub(e,{base:d})}_serialize(e){return e.skipStyles?ot([this.bodyToLatex(e),this.supsubToLatex(e)]):super._serialize(e)}},ere=class tre extends se{constructor(e,r){var n;super({type:"composition",mode:(n=r==null?void 0:r.mode)!=null?n:"math",value:e})}static fromJson(e){return new tre(e.value,e)}toJson(){return super.toJson()}render(e){let r=new ge(this.value,{classes:"ML__composition",type:"composition"});return this.bind(e,r),this.caret&&(r.caret=this.caret),r}_serialize(e){return""}},Ed=class rre extends se{constructor(e){super({type:"error",value:e,command:e,mode:"math"}),this.verbatimLatex=e}static fromJson(e){return new rre(e.command)}toJson(){return super.toJson()}render(e){let r=this.createBox(e,{classes:"ML__error"});return this.caret&&(r.caret=this.caret),r}},nre=class ire extends se{constructor(e,r){super({type:"group",mode:r}),this.body=e,this.boxType=e.length>1?"ord":"ignore",this.skipBoundary=!0,this.displayContainsHighlight=!1,e&&e.length===1&&e[0].command===","&&(this.captureSelection=!0)}static fromJson(e){return new ire(e.body,e.mode)}render(e){let r=se.createBox(e,this.body,{type:this.boxType});return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Tn(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,e):`{${this.bodyToLatex(e)}}`}},Ar=class sre extends se{constructor(e,r,n){super({type:"leftright",style:n.style,displayContainsHighlight:!0}),this.variant=e,this.body=r,this.leftDelim=n.leftDelim,this.rightDelim=n.rightDelim}static fromJson(e){var r;return new sre((r=e.variant)!=null?r:"",e.body,e)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),e}_serialize(e){var r,n;let i=this.matchingRightDelim();return this.variant==="left...right"?ot(["\\left",(r=this.leftDelim)!=null?r:".",this.bodyToLatex(e),"\\right",i]):this.variant==="mleft...mright"?ot(["\\mleft",(n=this.leftDelim)!=null?n:".",this.bodyToLatex(e),"\\mright",i]):ot([!this.leftDelim||this.leftDelim==="."?"":this.leftDelim,this.bodyToLatex(e),i])}matchingRightDelim(){var e,r;if(this.rightDelim&&this.rightDelim!=="?")return this.rightDelim;let n=(e=this.leftDelim)!=null?e:".";return(r=_5[n])!=null?r:n}render(e){var r,n;let i=new pt({parent:e},this.style);this.body;let s=new pt({parent:e,mathstyle:"textstyle"},this.style),a=(r=se.createBox(i,this.body,{type:"inner"}))!=null?r:new ge(null,{type:"inner"}),o=a.height/s.scalingFactor,l=a.depth/s.scalingFactor,c=[];if(this.leftDelim&&c.push(this.bind(s,n1("open",this.leftDelim,o,l,s,{isSelected:this.isSelected,classes:"ML__open"+(this.containsCaret?" ML__contains-caret":""),mode:this.mode,style:this.style}))),a&&(are(a.children,this,i,o,l),c.push(a)),this.rightDelim){let f=this.containsCaret?" ML__contains-caret":"",p=this.rightDelim;p==="?"&&(i.smartFence?(p=this.matchingRightDelim(),f+=" ML__smart-fence__close"):p="."),c.push(this.bind(s,n1("close",p,o,l,s,{isSelected:this.isSelected,classes:f+" ML__close",mode:this.mode,style:this.style})))}let u=this.variant==="mleft...mright",d=this.leftSibling;d&&(!u&&d.isFunction&&(u=!0),!u&&d.type==="subsup"&&(n=d.leftSibling)!=null&&n.isFunction&&(u=!0));let A=new ge(c,{type:u?"close":"inner",classes:"ML__left-right"});return A.setStyle("margin-top",`${-a.depth}em`),A.setStyle("height",`${a.height+a.depth}em`),this.caret&&(A.caret=this.caret),this.bind(i,A.wrap(i))}};function are(t,e,r,n,i){if(t)for(let s=0;s<t.length;s++){let a=t[s];a.type==="middle"?(t[s]=e.bind(r,n1("inner",a.value,n,i,r,{isSelected:e.isSelected})),t[s].caret=a.caret,t[s].isSelected=a.isSelected,t[s].cssId=a.cssId,t[s].htmlData=a.htmlData,t[s].htmlStyle=a.htmlStyle,t[s].attributes=a.attributes,t[s].cssProperties=a.cssProperties):a.children&&are(a.children,e,r,n,i)}}var ore=class lre extends se{constructor(e,r){var n;super({type:"macro",command:e,style:r.style}),this.body=r.body,r.captureSelection===void 0?r.args?this.captureSelection=!1:this.captureSelection=!0:this.captureSelection=r.captureSelection,this.macroArgs=r.args,this.expand=(n=r.expand)!=null?n:!1}static fromJson(e){return new lre(e.command,e)}toJson(){let e=super.toJson();return this.expand&&(e.expand=!0),this.captureSelection!==void 0&&(e.captureSelection=this.captureSelection),this.macroArgs&&(e.args=this.macroArgs),e}_serialize(e){var r;return e.expandMacro&&this.expand?this.bodyToLatex(e):this.command+((r=this.macroArgs)!=null?r:"")}applyStyle(e,r){let n={};e.color&&(n.color=e.color),e.backgroundColor&&(n.backgroundColor=e.backgroundColor),super.applyStyle(n,r)}render(e){let r=se.createBox(e,this.body,{type:"lift"});return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}},QLe=class cre extends se{constructor(){super({type:"macro-argument"})}static fromJson(e){return new cre}toJson(){return super.toJson()}_serialize(e){return""}render(e){return null}},ure=class dre extends se{constructor(e,r,n=!1,i,s){var a;super({type:"prompt",mode:(a=s==null?void 0:s.mode)!=null?a:"math",style:s==null?void 0:s.style,command:"\\placeholder"}),this.body=i,this.correctness=r,this.placeholderId=e,this.locked=n,this.captureSelection=this.locked}static fromJson(e){return new dre(e.placeholderId,e.correctness,e.locked,e.body,e)}toJson(){let e=super.toJson();return this.placeholderId&&(e.placeholderId=this.placeholderId),this.body||delete e.body,this.body&&(e.body=this.body.filter(r=>r.type!=="first").map(r=>r.toJson())),this.correctness&&(e.correctness=this.correctness),e.locked=this.locked,e}render(e){let r=new pt({parent:e}),n=r.getRegisterAsEm("fboxsep"),i=n,s=n,a=se.createBox(e,this.body);if(!a)return null;a.height||(a.height=r.metrics.xHeight),a.setStyle("vertical-align",-a.height,"em"),this.correctness==="correct"?a.setStyle("color","var(--correct-color, var(--ML__correct-color))"):this.correctness==="incorrect"&&a.setStyle("color","var(--incorrect-color, var(--ML__incorrect-color))");let o=new ge(a,{type:"ord"});o.setStyle("display","inline-block"),o.setStyle("height",a.height+a.depth,"em"),o.setStyle("vertical-align",-s,"em");let l="ML__prompt ";this.locked?l+=" ML__lockedPromptBox ":l+=" ML__editablePromptBox ",this.correctness==="correct"?l+=" ML__correctPromptBox ":this.correctness==="incorrect"&&(l+=" ML__incorrectPromptBox "),this.containsCaret&&(l+=" ML__focusedPromptBox ");let c=new ge(null,{classes:l,attributes:{part:"prompt"}});c.height=o.height+s,c.depth=o.depth+s,c.width=o.width+2*i,c.setStyle("position","absolute"),c.setStyle("height",`calc(${o.height+o.depth+2*s}em - 2px)`),i===0&&c.setStyle("width","100%"),i!==0&&(c.setStyle("width",`calc(100% + ${2*i}em)`),c.setStyle("top",n,"em"),c.setStyle("left",-i,"em")),(!this.body||this.body.length===1)&&(c.width=3*i,c.setStyle("width",`calc(100% + ${3*i}em)`),c.setStyle("left",-1.5*i,"em"));let u="";this.correctness==="incorrect"&&(u+='<line x1="3%"  y1="97%" x2="97%" y2="3%" stroke-width="0.5" stroke="var(--incorrect-color, var(--ML__incorrect-color))" stroke-linecap="round" />'),u&&(c.svgOverlay=u);let d=new ge([c,o],{classes:"ML__prompt-atom"});return o.setStyle("line-height",1),d.setStyle("position","relative"),d.setStyle("display","inline-block"),d.setStyle("line-height",0),d.height=o.height+s+.2,d.depth=o.depth+s,d.left=i,d.right=i,d.setStyle("height",o.height+s,"em"),d.setStyle("top",o.depth-o.height,"em"),d.setStyle("vertical-align",o.depth+s,"em"),d.setStyle("margin-left",.5,"em"),d.setStyle("margin-right",.5,"em"),this.caret&&(d.caret=this.caret),this.bind(r,this.attachSupsub(e,{base:d}))}_serialize(e){var r;let n=(r=this.bodyToLatex(e))!=null?r:"";if(e.skipPlaceholders)return n;let i="\\placeholder";return this.placeholderId&&(i+=`[${this.placeholderId}]`),this.correctness==="correct"?i+="[correct]":this.correctness==="incorrect"&&(i+="[incorrect]"),this.locked&&(i+="[locked]"),zt(i,n)}},E5=class hre extends se{constructor(e){super({type:"subsup",style:e==null?void 0:e.style}),this.subsupPlacement="auto"}get children(){if(!this._children){let e=[],r=this.branch("subscript");if(r)for(let i of r)e.push(...i.children),e.push(i);let n=this.branch("superscript");if(n)for(let i of n)e.push(...i.children),e.push(i);this._children=e}return this._children}static fromJson(e){let r=new hre(e);for(let n of JA)e[n]&&r.setChildren(e[n],n);return r}render(e){var r;let n=new pt({parent:e,isPhantom:!0}),i=this.leftSibling,s=(r=i.render(n))!=null?r:new ge(null),a=new ge(null);return a.height=s.height,a.depth=s.depth,this.attachSupsub(e,{base:a,isCharacterBox:i.isCharacterBox(),type:"ignore"})}_serialize(e){return this.supsubToLatex(e)}};function A0(t){return t?!/^(<$$>|<$>|<space>|<{>|<}>|#[0-9\?]|\\.+)$/.test(t):!1}var Are=class{constructor(t,e,r){this.errors=[],this.index=0,this.endCount=0;var n,i,s,a;r!=null||(r={}),this.tokens=t,this.context=e instanceof pt&&!(r!=null&&r.parseMode)&&!r.mathstyle?e:new pt({from:e,mathstyle:r.mathstyle},r.style),this.args=(n=r.args)!=null?n:void 0,this.smartFence=this.context.smartFence,this.parsingContext={parent:void 0,mathlist:[],style:(i=r.style)!=null?i:{},parseMode:(s=r.parseMode)!=null?s:"math",mathstyle:(a=r.mathstyle)!=null?a:"displaystyle",tabular:!1}}beginContext(t){var e,r,n,i,s,a;if(t!=null&&t.root){this.parsingContext={parent:this.parsingContext.parent,mathlist:[],style:{},parseMode:(e=t==null?void 0:t.mode)!=null?e:"math",mathstyle:(r=t==null?void 0:t.mathstyle)!=null?r:"displaystyle",tabular:(n=t==null?void 0:t.tabular)!=null?n:!1};return}let o=this.parsingContext,l={parent:o,mathlist:[],style:U({},o.style),parseMode:(i=t==null?void 0:t.mode)!=null?i:o.parseMode,mathstyle:(s=t==null?void 0:t.mathstyle)!=null?s:o.mathstyle,tabular:(a=t==null?void 0:t.tabular)!=null?a:!1};this.parsingContext=l}endContext(){this.parsingContext=this.parsingContext.parent}onError(t){this.errors.push(U({before:cd(this.tokens.slice(this.index,this.index+10)),after:cd(this.tokens.slice(Math.max(0,this.index-10),this.index))},t))}get mathlist(){return this.parsingContext.mathlist}set mathlist(t){this.parsingContext.mathlist=t}get parseMode(){return this.parsingContext.parseMode}set parseMode(t){this.parsingContext.parseMode=t}get tabularMode(){return this.parsingContext.tabular}get style(){let t=this.parsingContext;for(;t;){if(t.style)return U({},t.style);t=t.parent}return{}}set style(t){this.parsingContext.style=t}end(){return this.endCount++,this.index>=this.tokens.length||this.endCount>1e3}next(){this.index+=1}get(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:""}peek(){return this.tokens[this.index]}expandUnicode(){if(!this.peek()||this.parseMode!=="math")return;let t=BDe(this.peek());t&&this.tokens.splice(this.index,1,...r1(t))}match(t){return this.tokens[this.index]===t?(this.index++,!0):!1}lastSubsupAtom(){let t;return this.mathlist.length>0&&(t=this.mathlist[this.mathlist.length-1],t.type==="subsup"||t.subsupPlacement!==void 0)||(t=new E5({style:this.style}),this.mathlist.push(t)),t}hasPattern(t){return t.test(this.tokens[this.index])}hasInfixCommand(){var t;let{index:e}=this;if(e<this.tokens.length&&this.tokens[e].startsWith("\\")){let r=Tn(this.tokens[e],this.parseMode);return!r||r.definitionType==="symbol"||r.ifMode&&!r.ifMode.includes(this.parseMode)?!1:(t=r.infix)!=null?t:!1}return!1}matchColumnSeparator(){return!this.tabularMode||this.peek()!=="&"?!1:(this.index++,!0)}matchRowSeparator(){if(!this.tabularMode)return!1;let t=this.peek();return t!=="\\\\"&&t!=="\\cr"&&t!=="\\tabularnewline"?!1:(this.index++,!0)}placeholder(){var t;let e=(t=this.args)==null?void 0:t.call(this,"?");return e?Ys(e,{parseMode:this.parseMode,mathstyle:"textstyle"}):[new Do({mode:this.parseMode,style:this.style})]}skipWhitespace(){for(;this.match("<space>"););}skipUntilToken(t){let e=this.tokens[this.index];for(;e&&e!==t;)e=this.tokens[++this.index];e===t&&this.index++}skipFiller(){for(;this.match("\\relax")||this.match("<space>"););}matchKeyword(t){let e=this.index,r=this.end(),n="";for(;!r;){let s=this.get();A0(s)?(n+=s,r=this.end()||n.length>=t.length):r=!0}let i=t.toUpperCase()===n.toUpperCase();return i||(this.index=e),i}scanString(){let t="";for(;!this.end();){let e=this.peek();if(e==="]")return t;if(e==="<space>")t+=" ";else if(e.startsWith("\\"))this.onError({code:"unexpected-command-in-string"}),t+=e.substring(1);else if(A0(e))t+=e;else return t;this.next()}return t}scanBalancedString(){let t="",e=this.end(),r=1;for(;!e;){let n=this.get();n==="<space>"?t+=" ":n==="<{>"?(t+="{",r+=1):n==="<}>"?(r-=1,r>0?t+="}":this.index-=1):n==="<$>"?t+="$":n==="<$$>"?t+="$$":t+=n,e=r===0||this.end()}return t}scanLiteralGroup(){var t;if(!this.match("<{>"))return"";let e="",r=1;for(;r>0&&!this.end();){let n=this.get();n==="<}>"?(r-=1,r>0&&(e+="}")):n==="<{>"?(r+=1,e+="{"):(/\\[a-zA-Z]+$/.test(e)&&/^[a-zA-Z]/.test(n)&&(e+=" "),e+=(t={"<space>":" ","<$$>":"$$","<$>":"$"}[n])!=null?t:n)}return e}scanNumber(t=!0){var e,r;let n=!1,i=this.peek();for(;i==="<space>"||i==="+"||i==="-";)this.get(),i==="-"&&(n=!n),i=this.peek();t=!!t;let s=10,a=/\d/;if(this.match("'"))s=8,a=/[0-7]/,t=!0;else if(this.match('"'))s=16,a=/[\dA-F]/,t=!0;else if(this.match("x"))s=16,a=/[\dA-Fa-f]/,t=!0;else if(this.match("`"))return i=this.get(),i?i.length===2&&i.startsWith("\\")?{number:(n?-1:1)*((e=i.codePointAt(1))!=null?e:0),base:"alpha"}:{number:(n?-1:1)*((r=i.codePointAt(0))!=null?r:0),base:"alpha"}:null;let o="";for(;this.hasPattern(a);)o+=this.get();if(!t&&(this.match(".")||this.match(",")))for(o+=".";this.hasPattern(a);)o+=this.get();let l=t?Number.parseInt(o,s):Number.parseFloat(o);return Number.isNaN(l)?null:{number:n?-l:l,base:s===16?"hexadecimal":s===8?"octal":"decimal"}}scanRegister(){var t;let e=this.index,r=this.scanNumber(!1);if(this.skipWhitespace(),this.match("\\relax"))return r;let n=!1;if(r===null)for(;;){let s=this.peek();if(s==="-")n=!n;else if(s!=="+")break;this.next(),this.skipWhitespace()}if(this.match("\\global")){this.skipWhitespace();let s=this.get();return s.startsWith("\\")?r?{register:s,global:!0,factor:(n?-1:1)*r.number}:n?{register:s,global:!0,factor:-1}:{register:s,global:!0}:(this.index=e,null)}let i=this.get();return i!=null&&i.startsWith("\\")?(i=i.substring(1),this.context.registers[i]?!n||r!==null?{register:i,factor:(n?-1:1)*((t=r==null?void 0:r.number)!=null?t:1)}:{register:i}:(this.index=e,null)):(this.index=e,null)}scanValue(){let t=this.scanRegister();if(t)return t;let e=this.index,r=this.scanGlueOrDimen();if(r&&("unit"in r||"glue"in r&&"unit"in r.glue))return r;this.index=e;let n=this.scanNumber();if(n)return n;if(this.end()||!A0(this.peek()))return null;let i=this.scanString();return i.length>0?{string:i}:null}scanDimen(){let t=this.scanNumber(!1);if(t===null)return null;let e=t.number;this.skipWhitespace(),this.matchKeyword("true"),this.skipWhitespace();let r;return this.matchKeyword("pt")?r="pt":this.matchKeyword("mm")?r="mm":this.matchKeyword("cm")?r="cm":this.matchKeyword("ex")?r="ex":this.matchKeyword("px")?r="px":this.matchKeyword("em")?r="em":this.matchKeyword("bp")?r="bp":this.matchKeyword("dd")?r="dd":this.matchKeyword("pc")?r="pc":this.matchKeyword("in")?r="in":this.matchKeyword("mu")&&(r="mu"),r?{dimension:e,unit:r}:{dimension:e}}scanGlueOrDimen(){let t=this.scanDimen();if(t===null)return null;if(this.skipWhitespace(),this.match("\\relax"))return t;let e={glue:t};if(this.matchKeyword("plus")){let r=this.scanDimen();if(r)e.grow=r;else return e}if(this.skipWhitespace(),this.match("\\relax"))return e;if(this.skipWhitespace(),this.matchKeyword("minus")){let r=this.scanDimen();if(r)e.shrink=r;else return e}return!e.grow&&!e.shrink?t:e}scanColspec(){this.skipWhitespace();let t=[];for(;!this.end()&&!(this.peek()==="<}>"||this.peek()==="]");){let e=this.get();e==="c"||e==="r"||e==="l"?t.push({align:e}):e==="|"?t.push({separator:"solid"}):e===":"?t.push({separator:"dashed"}):e==="@"&&(this.match("<{>")&&(this.beginContext({mode:"math"}),t.push({gap:this.scan(r=>r==="<}>")}),this.endContext()),this.match("<}>")||this.onError({code:"unbalanced-braces"}))}return t}scanModeSet(){let t;if(this.match("\\(")&&(t="textstyle"),!t&&this.match("\\[")&&(t="displaystyle"),!t)return null;this.beginContext({mode:"math",mathstyle:t});let e=this.scan(r=>r===(t==="displaystyle"?"\\]":"\\)"));return this.match(t==="displaystyle"?"\\]":"\\)")||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),e}scanModeShift(){let t="";if(this.match("<$>")&&(t="<$>"),!t&&this.match("<$$>")&&(t="<$$>"),!t)return null;this.beginContext({mode:"math",mathstyle:t==="<$>"?"textstyle":"displaystyle"});let e=this.scan(r=>r===t);return this.match(t)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),e}scanEnvironment(){if(!this.match("\\begin"))return null;let t=this.scanArgument("string");if(!t)return null;let e=TDe(t);if(!e)return this.onError({code:"unknown-environment",arg:t}),null;let r=[];if(e.params)for(let o of e.params)if(o.isOptional)r.push(this.scanOptionalArgument(o.type));else{let l=this.scanArgument(o.type);l||this.onError({code:"missing-argument",arg:t}),r.push(l)}this.beginContext({tabular:e.tabular,root:e.rootOnly});let n=[],i=[],s=[],a=!1;do if(this.end()&&(this.onError({code:"unbalanced-environment",arg:t}),a=!0),!a&&this.match("\\end")&&(this.scanArgument("string")!==t&&this.onError({code:"unbalanced-environment",arg:t}),a=!0),!a)if(this.matchColumnSeparator())s.push(this.mathlist),this.mathlist=[];else if(this.matchRowSeparator()){s.push(this.mathlist),this.mathlist=[];let o=null;this.skipWhitespace(),this.match("[")&&(o=this.scanDimen(),this.skipWhitespace(),this.match("]")),i.push(o??{dimension:0}),n.push(s),s=[]}else this.mathlist.push(...this.scan(o=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline"].includes(o)));while(!a);return s.push(this.mathlist),s.length>0&&n.push(s),this.endContext(),e.rootOnly&&(this.index=this.tokens.length),e.createAtom(t,n,i,r,this.context.maxMatrixCols)}scanExpression(){let t=this.mathlist;if(this.mathlist=[],this.parseExpression()){let e=this.mathlist;return this.mathlist=t,e}return this.mathlist=t,null}scan(t){this.beginContext(),t||(t=a=>a==="<}>");let e="",r=null,n=[],i=null;for(;!this.end()&&!t(this.peek());)this.hasInfixCommand()&&!e?(e=this.get(),r=Tn(e,"math"),r&&(n=this.scanArguments(r)[1]),i=this.mathlist,this.mathlist=[]):this.parseExpression();let s;return e?(n.unshift(this.mathlist),i&&n.unshift(i),s=[r.createAtom({command:e,args:n,style:this.style,mode:this.parseMode})]):s=this.mathlist,this.endContext(),s}scanGroup(){let t=this.index;if(!this.match("<{>"))return null;let e=this.scan(n=>n==="<}>");if(this.match("<}>")||this.onError({code:"unbalanced-braces"}),e.length===1&&e[0].type==="placeholder")return e[0];let r=new nre(e,this.parseMode);return r.verbatimLatex=cd(this.tokens.slice(t,this.index)),r}scanSmartFence(){if(this.skipWhitespace(),!this.match("("))return null;this.beginContext();let t=1;for(;!this.end()&&t!==0;)this.match("(")&&(t+=1),this.match(")")&&(t-=1),t!==0&&this.parseExpression();let e=new Ar("",this.mathlist,{leftDelim:"(",rightDelim:t===0?")":"?"});return this.endContext(),e}scanDelim(){this.skipWhitespace();let t=this.peek();if(!t)return this.onError({code:"unexpected-end-of-string"}),null;if(!A0(t)&&!t.startsWith("\\"))return null;this.next();let e=Tn(t,"math");return e?e.definitionType==="function"&&e.ifMode&&!e.ifMode.includes(this.parseMode)?(this.onError({code:"unexpected-delimiter",arg:t}),null):e.definitionType==="symbol"&&(e.type==="mopen"||e.type==="mclose")||/^(\.|\?|\||<|>|\\vert|\\Vert|\\\||\\surd|\\uparrow|\\downarrow|\\Uparrow|\\Downarrow|\\updownarrow|\\Updownarrow|\\mid|\\mvert|\\mVert)$/.test(t)?t:(this.onError({code:"unexpected-delimiter",arg:t}),null):(this.onError({code:"unknown-command",arg:t}),null)}scanLeftRight(){var t;if(this.match("\\right"))return this.onError({code:"unbalanced-braces"}),new Ed("\\right");if(this.match("\\mright"))return this.onError({code:"unbalanced-braces"}),new Ed("\\mright");let e="\\right";if(!this.match("\\left")){if(!this.match("\\mleft"))return null;e="\\mright"}let r=this.scanDelim();if(!r)return this.onError({code:"unexpected-delimiter"}),new Ed(e==="\\right"?"\\left":"\\mleft");for(this.beginContext();!this.end()&&!this.match(e);)this.parseExpression();let n=this.mathlist;this.endContext();let i=(t=this.scanDelim())!=null?t:".";return new Ar(e==="\\right"?"left...right":"mleft...mright",n,{leftDelim:r,rightDelim:i,style:this.style})}parseSupSub(){if(this.parseMode!=="math")return!1;let t=this.peek();if(t!=="^"&&t!=="_"&&t!=="'")return!1;let e=this.lastSubsupAtom();for(;t==="^"||t==="_"||t==="'";)this.match("'")?this.match("'")?e.addChild(new se({type:"mord",command:"\\doubleprime",mode:"math",value:""}),"superscript"):e.addChild(new se({type:"mord",command:"\\prime",mode:"math",value:""}),"superscript"):(this.match("^")||this.match("_"))&&e.addChildren(Ee(this.scanArgument("expression")),t==="_"?"subscript":"superscript"),t=this.peek();return!0}parseLimits(){if(this.parseMode!=="math")return!1;let t=this.match("\\limits"),e=!t&&this.match("\\nolimits"),r=!e&&!t&&this.match("\\displaylimits");if(!t&&!e&&!r)return!1;let n=this.mathlist.length>0?this.mathlist[this.mathlist.length-1]:null;return n===null?!1:(n.explicitSubsupPlacement=!0,t&&(n.subsupPlacement="over-under"),e&&(n.subsupPlacement="adjacent"),r&&(n.subsupPlacement="auto"),!0)}scanArguments(t){if(!(t!=null&&t.params))return[void 0,[]];let e,r=[],n=t.infix?2:0;for(;n<t.params.length;){let i=t.params[n];i.type==="rest"?r.push(this.scan(s=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline","\\right"].includes(s))):i.isOptional?r.push(this.scanOptionalArgument(i.type)):i.type.endsWith("*")?e=i.type.slice(0,-1):r.push(this.scanArgument(i.type)),n+=1}return[e,r]}scanSymbolOrLiteral(){let t=this.peek();if(!t)return null;this.next();let e;if(A0(t)){let r=ds.createAtom(this.parseMode,t,U({},this.style));return r?[r]:null}if(e=this.scanMacro(t),e)return[e];if(t.startsWith("\\")){let r=Tn(t,this.parseMode);if(!r)return this.onError({code:"unknown-command",arg:t}),[new Ed(t)];if(r.definitionType==="symbol"){let n=U({},this.style);r.variant&&(n.variant=r.variant),e=new se({type:r.type,command:t,style:n,value:String.fromCodePoint(r.codepoint),mode:this.parseMode,verbatimLatex:t})}else{if(r.applyMode||r.applyStyle||r.infix)return this.onError({code:"invalid-command",arg:t}),[new Ed(t)];r.createAtom&&(e=r.createAtom({command:t,args:[],style:this.style,mode:this.parseMode}))}}return e?[e]:null}scanArgument(t){var e;this.skipFiller();let r=this.parseMode;if(t==="auto"&&(t=r),!this.match("<{>")){if(t==="string")return this.scanString();if(t==="value")return this.scanValue();if(t==="delim")return(e=this.scanDelim())!=null?e:".";if(t==="expression")return this.scanExpression();if(t==="math"){t!==r&&this.beginContext({mode:"math"});let i=this.scanSymbolOrLiteral();return t!==r&&this.endContext(),i}if(t==="text"){t!==r&&this.beginContext({mode:"text"});let i=this.scanSymbolOrLiteral();return t!==r&&this.endContext(),i}return t==="balanced-string"?null:t==="rest"?this.scan(i=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline","\\right"].includes(i)):null}if(t==="text"){this.beginContext({mode:"text"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let i=this.mathlist;return this.endContext(),{group:i}}if(t==="math"){this.beginContext({mode:"math"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let i=this.mathlist;return this.endContext(),{group:i}}let n=null;if(t==="expression"){this.beginContext({mode:"math"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let i=this.mathlist;return this.endContext(),{group:i}}return t==="string"?n=this.scanString():t==="balanced-string"?n=this.scanBalancedString():t==="colspec"?n=this.scanColspec():t==="value"&&(n=this.scanValue()),this.skipUntilToken("<}>"),n}scanOptionalArgument(t){if(t=t==="auto"?this.parseMode:t,this.skipFiller(),!this.match("["))return null;let e=null;for(;!this.end()&&!this.match("]");)if(t==="string")e=this.scanString();else if(t==="value")e=this.scanValue();else if(t==="colspec")e=this.scanColspec();else if(t==="bbox"){let r={},n=this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(let i of n){let s=i.match(/^\s*([\d.]+)\s*([a-z]{2})/);if(s)r.padding={dimension:parseInt(s[1]),unit:s[2]};else{let a=i.match(/^\s*border\s*:\s*(.*)/);a?r.border=a[1]:r.backgroundcolor={string:i}}}e=r}else t==="math"&&(this.beginContext({mode:"math"}),e=this.mathlist.concat(this.scan(r=>r==="]")),this.endContext());return e}scanSymbolOrCommand(t){var e,r,n;if(t==="\\placeholder"){let o=this.scanOptionalArgument("string"),l=this.scanOptionalArgument("math"),c=se.serialize(l,{defaultMode:"math"}),u=[],d;!d&&c==="correct"?d="correct":!d&&c==="incorrect"?d="incorrect":c!==""&&(u=l);let A=this.scanOptionalArgument("string")==="locked",f=this.scanArgument("auto"),p;return f&&Array.isArray(f)&&f.length>0?p=f:f&&typeof f=="object"&&"group"in f?p=f.group:p=u,o?[new ure(o,d,A,p??u,{mode:this.parseMode,style:this.style})]:[new Do({mode:this.parseMode,style:this.style})]}if(t==="\\renewcommand"||t==="\\newcommand"||t==="\\providecommand"||t==="\\def"){let o=this.index,l=this.scanLiteralGroup()||this.next();if(!l)return null;if(this.context.registers[l.substring(1)]){let c=this.scanArgument("string");c!==null&&(this.context.registers[l.substring(1)]=c);let u=ot([t,cd(this.tokens.slice(o,this.index))]);return[new se({type:"text",value:"",verbatimLatex:u})]}}let i=this.scanMacro(t);if(i)return[i];let s=Tn(t,this.parseMode);if(!s)return this.parseMode==="text"?(/[a-zA-Z]/.test((e=this.peek())!=null?e:"")&&(t+=" "),[...t].map(o=>new se({type:"text",value:o,mode:"text",style:this.style}))):(this.onError({code:"unknown-command",arg:t}),[new Ed(t)]);let a=this.index;if(s.definitionType==="symbol"){let o=U({},this.style);s.variant&&(o.variant=s.variant),i=new se({type:s.type,command:t,style:o,value:String.fromCodePoint(s.codepoint),mode:this.parseMode})}else{if(s.ifMode&&!s.ifMode.includes(this.parseMode))return[];let o=this.parseMode;s.applyMode&&(this.parseMode=s.applyMode);let l,c=[];if(s.parse?c=s.parse(this):[l,c]=this.scanArguments(s),this.parseMode=o,s.applyMode&&!s.applyStyle&&!s.createAtom)return Ee(c[0]);if(s.infix)return this.onError({code:"too-many-infix-commands",arg:t}),null;if(typeof s.createAtom=="function")i=s.createAtom({command:t,args:c,style:this.style,mode:this.parseMode}),l&&(i.body=Ee(this.scanArgument(l)));else if(typeof s.applyStyle=="function"){let u=s.applyStyle(this.style,t,c,this.context),d=this.parseMode;if(s.applyMode&&(this.parseMode=s.applyMode),l){let A=this.style;this.style=u;let f=this.scanArgument(l);return this.style=A,this.parseMode=d,Ee(f)}this.style=u}else i=new se({type:"mord",command:(r=s.command)!=null?r:t,style:U({},this.style),value:t,mode:(n=s.applyMode)!=null?n:this.parseMode})}if(!i)return null;if(i instanceof se&&i.verbatimLatex===void 0&&!/^\\(llap|rlap|class|cssId|htmlData)$/.test(t)){let o=ot([t,cd(this.tokens.slice(a,this.index))]);o&&(i.verbatimLatex=o)}if(i.verbatimLatex===null&&(i.verbatimLatex=void 0),i.isFunction&&this.smartFence){let o=this.scanSmartFence();if(o)return[i,o]}return[i]}scanSymbolCommandOrLiteral(){this.expandUnicode();let t=this.get();if(!t)return null;if(A0(t)){let e=ds.createAtom(this.parseMode,t,U({},this.style));if(!e)return null;if(e.isFunction&&this.smartFence){let r=this.scanSmartFence();if(r)return[e,r]}return[e]}return t.startsWith("\\")?this.scanSymbolOrCommand(t):t==="<space>"?this.parseMode==="text"?[new Ff(" "," ",this.style)]:null:(t==="<}>"?this.onError({latex:"",code:"unbalanced-braces"}):this.onError({latex:"",code:"unexpected-token",arg:t}),null)}scanMacro(t){var e;let r=this.context.getMacro(t);if(!r)return null;let n=this.index,i=r.args,s={"?":(e=this.args)==null?void 0:e.call(this,"?")};for(let a=1;a<=i;a++){let o=this.scanLiteralGroup();if(!o){let l=this.index;this.scanExpression(),o=cd(this.tokens.slice(l,this.index))}s[a]=o}return new ore(t,{expand:r.expand,captureSelection:r.captureSelection,args:n===this.index?null:cd(this.tokens.slice(n,this.index)),style:this.parsingContext.style,body:Ys(r.def,{context:this.context,parseMode:this.parseMode,args:a=>s[a],mathstyle:this.parsingContext.mathstyle,style:this.parsingContext.style})})}parseExpression(){var t,e,r,n;let i=(n=(r=(e=(t=this.scanEnvironment())!=null?t:this.scanModeShift())!=null?e:this.scanModeSet())!=null?r:this.scanGroup())!=null?n:this.scanLeftRight();if(i===null){if(this.parseSupSub()||this.parseLimits())return!0;i=this.scanSymbolCommandOrLiteral()}return i?(bn(i)?this.mathlist.push(...i):this.mathlist.push(i),!0):!1}};function Ys(t,e){var r,n,i,s;let a=(r=e==null?void 0:e.args)!=null?r:void 0,o=new Are(r1(t,a),e==null?void 0:e.context,{args:a,mathstyle:(n=e==null?void 0:e.mathstyle)!=null?n:"displaystyle",parseMode:(i=e==null?void 0:e.parseMode)!=null?i:"math",style:(s=e==null?void 0:e.style)!=null?s:{}}),l=[];for(;!o.end();)l.push(...o.scan(()=>!1));return l}function RLe(t,e){var r;let n=new Are(r1(t,null),e==null?void 0:e.context,{mathstyle:"displaystyle",parseMode:(r=e==null?void 0:e.parseMode)!=null?r:"math"});for(;!n.end();)n.scan();return n.errors}var fre=class pre extends se{constructor(e,r){super({type:"chem"},{command:e,mode:"math"});let n=Xt.go(Ae.go(r,e==="\\pu"?"pu":"ce"),!1);this.body=Ys(n),this._verbatimLatex=e+"{"+r+"}",this.arg=r,this.captureSelection=!0}static fromJson(e){return new pre(e.command,e.arg)}set verbatimLatex(e){}get verbatimLatex(){return this._verbatimLatex}toJson(){return W(U({},super.toJson()),{arg:this.arg})}render(e){let r=se.createBox(e,this.body,{type:"inner"});return this.caret&&(r.caret=this.caret),this.bind(e,r)}_serialize(e){return this.verbatimLatex,this.verbatimLatex}};de(["ce","pu"],"{chemformula:balanced-string}",{createAtom:t=>{var e;return new fre(t.command,(e=t.args[0])!=null?e:"")}});var Ae={go:function(t,e){if(!t)return[];e===void 0&&(e="ce");var r="0",n={};n.parenthesisLevel=0,t=t.replace(/\n/g," "),t=t.replace(/[\u2212\u2013\u2014\u2010]/g,"-"),t=t.replace(/[\u2026]/g,"...");for(var i,s=10,a=[];;){i!==t?(s=10,i=t):s--;var o=Ae.stateMachines[e],l=o.transitions[r]||o.transitions["*"];e:for(var c=0;c<l.length;c++){var u=Ae.patterns.match_(l[c].pattern,t);if(u){for(var d=l[c].task,A=0;A<d.action_.length;A++){var f;if(o.actions[d.action_[A].type_])f=o.actions[d.action_[A].type_](n,u.match_,d.action_[A].option);else if(Ae.actions[d.action_[A].type_])f=Ae.actions[d.action_[A].type_](n,u.match_,d.action_[A].option);else throw["MhchemBugA","mhchem bug A. Please report. ("+d.action_[A].type_+")"];Ae.concatArray(a,f)}if(r=d.nextState||r,t.length>0){if(d.revisit||(t=u.remainder),!d.toContinue)break e}else return a}}if(s<=0)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(t,e){if(e)if(Object.prototype.toString.call(e)==="[object Array]")for(var r=0;r<e.length;r++)t.push(e[r]);else t.push(e)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(t){var e=t.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:(?:([eE])|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return e&&e[0]?{match_:e.slice(1),remainder:t.substr(e[0].length)}:null},"(-)(9)^(-9)":function(t){var e=t.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/);return e&&e[0]?{match_:e.slice(1),remainder:t.substr(e[0].length)}:null},"state of aggregation $":function(t){var e=Ae.patterns.findObserveGroups(t,"",/^\([a-z]{1,3}(?=[\),])/,")","");if(e&&e.remainder.match(/^($|[\s,;\)\]\}])/))return e;var r=t.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/);return r?{match_:r[0],remainder:t.substr(r[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". ":/^([.\u22C5\u00B7\u2022])\s*/,"...":/^\.\.\.(?=$|[^.])/,"* ":/^([*])\s*/,"^{(...)}":function(t){return Ae.patterns.findObserveGroups(t,"^{","","","}")},"^($...$)":function(t){return Ae.patterns.findObserveGroups(t,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(t){return Ae.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(t){return Ae.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(t){return Ae.patterns.findObserveGroups(t,"_{","","","}")},"_($...$)":function(t){return Ae.patterns.findObserveGroups(t,"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(t){return Ae.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(t){return Ae.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|\_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(t){return Ae.patterns.findObserveGroups(t,"","{","}","")},"{(...)}":function(t){return Ae.patterns.findObserveGroups(t,"{","","","}")},"$...$":function(t){return Ae.patterns.findObserveGroups(t,"","$","$","")},"${(...)}$":function(t){return Ae.patterns.findObserveGroups(t,"${","","","}$")},"$(...)$":function(t){return Ae.patterns.findObserveGroups(t,"$","","","$")},"=<>":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,"\\bond{(...)}":function(t){return Ae.patterns.findObserveGroups(t,"\\bond{","","","}")},"->":/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(t){return Ae.patterns.findObserveGroups(t,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[,\ ;:])/,"\\x{}{}":function(t){return Ae.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(t){return Ae.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(t){return Ae.patterns.findObserveGroups(t,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(t){return Ae.patterns.findObserveGroups(t,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(t){return Ae.patterns.findObserveGroups(t,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(t){return Ae.patterns.findObserveGroups(t,"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}0":function(t){return Ae.patterns.findObserveGroups(t,"\\color{","","","}")},"\\color{(...)}{(...)}1":function(t){return Ae.patterns.findObserveGroups(t,"\\color{","","","}","{","","","}")},"\\color(...){(...)}2":function(t){return Ae.patterns.findObserveGroups(t,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(t){return Ae.patterns.findObserveGroups(t,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(t){var e;if(e=t.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/),e)return{match_:e[0],remainder:t.substr(e[0].length)};var r=Ae.patterns.findObserveGroups(t,"","$","$","");return r&&(e=r.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/),e)?{match_:e[0],remainder:t.substr(e[0].length)}:null},amount2:function(t){return this.amount(t)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(t){if(t.match(/^\([a-z]+\)$/))return null;var e=t.match(/^(?:[a-z]|(?:[0-9\ \+\-\,\.\(\)]+[a-z])+[0-9\ \+\-\,\.\(\)]*|(?:[a-z][0-9\ \+\-\,\.\(\)]+)+[a-z]?)$/);return e?{match_:e[0],remainder:t.substr(e[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(t,e,r,n,i,s,a,o,l,c){var u=function(g,v){if(typeof v=="string")return g.indexOf(v)!==0?null:v;var x=g.match(v);return x?x[0]:null},d=function(g,v,x){for(var b=0;v<g.length;){var w=g.charAt(v),C=u(g.substr(v),x);if(C!==null&&b===0)return{endMatchBegin:v,endMatchEnd:v+C.length};if(w==="{")b++;else if(w==="}"){if(b===0)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];b--}v++}return null},A=u(t,e);if(A===null||(t=t.substr(A.length),A=u(t,r),A===null))return null;var f=d(t,A.length,n||i);if(f===null)return null;var p=t.substring(0,n?f.endMatchEnd:f.endMatchBegin);if(s||a){var m=this.findObserveGroups(t.substr(f.endMatchEnd),s,a,o,l);if(m===null)return null;var y=[p,m.match_];return{match_:c?y.join(""):y,remainder:m.remainder}}else return{match_:p,remainder:t.substr(f.endMatchEnd)}},match_:function(t,e){var r=Ae.patterns.patterns[t];if(r===void 0)throw["MhchemBugP","mhchem bug P. Please report. ("+t+")"];if(typeof r=="function")return Ae.patterns.patterns[t](e);var n=e.match(r);if(n){var i;return n[2]?i=[n[1],n[2]]:n[1]?i=n[1]:i=n[0],{match_:i,remainder:e.substr(n[0].length)}}return null}},actions:{"a=":function(t,e){t.a=(t.a||"")+e},"b=":function(t,e){t.b=(t.b||"")+e},"p=":function(t,e){t.p=(t.p||"")+e},"o=":function(t,e){t.o=(t.o||"")+e},"q=":function(t,e){t.q=(t.q||"")+e},"d=":function(t,e){t.d=(t.d||"")+e},"rm=":function(t,e){t.rm=(t.rm||"")+e},"text=":function(t,e){t.text_=(t.text_||"")+e},insert:function(t,e,r){return{type_:r}},"insert+p1":function(t,e,r){return{type_:r,p1:e}},"insert+p1+p2":function(t,e,r){return{type_:r,p1:e[0],p2:e[1]}},copy:function(t,e){return e},rm:function(t,e){return{type_:"rm",p1:e||""}},text:function(t,e){return Ae.go(e,"text")},"{text}":function(t,e){var r=["{"];return Ae.concatArray(r,Ae.go(e,"text")),r.push("}"),r},"tex-math":function(t,e){return Ae.go(e,"tex-math")},"tex-math tight":function(t,e){return Ae.go(e,"tex-math tight")},bond:function(t,e,r){return{type_:"bond",kind_:r||e}},"color0-output":function(t,e){return{type_:"color0",color:e[0]}},ce:function(t,e){return Ae.go(e)},"1/2":function(t,e){var r=[];e.match(/^[+\-]/)&&(r.push(e.substr(0,1)),e=e.substr(1));var n=e.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return n[1]=n[1].replace(/\$/g,""),r.push({type_:"frac",p1:n[1],p2:n[2]}),n[3]&&(n[3]=n[3].replace(/\$/g,""),r.push({type_:"tex-math",p1:n[3]})),r},"9,9":function(t,e){return Ae.go(e,"9,9")}},createTransitions:function(t){var e,r,n,i,s={};for(e in t)for(r in t[e])for(n=r.split("|"),t[e][r].stateArray=n,i=0;i<n.length;i++)s[n[i]]=[];for(e in t)for(r in t[e])for(n=t[e][r].stateArray||[],i=0;i<n.length;i++){var a=t[e][r];if(a.action_){a.action_=[].concat(a.action_);for(var o=0;o<a.action_.length;o++)typeof a.action_[o]=="string"&&(a.action_[o]={type_:a.action_[o]})}else a.action_=[];for(var l=e.split("|"),c=0;c<l.length;c++)if(n[i]==="*")for(var u in s)s[u].push({pattern:l[c],task:a});else s[n[i]].push({pattern:l[c],task:a})}return s},stateMachines:{}};Ae.stateMachines={ce:{transitions:Ae.createTransitions({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o=","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o=",nextState:"o"}},"->":{"0|1|2|3":{action_:"r=",nextState:"r"},"a|as":{action_:["output","r="],nextState:"r"},"*":{action_:["output","r="],nextState:"r"}},"+":{o:{action_:"d= kv",nextState:"d"},"d|D":{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},"qd|qD":{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a=",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb=false","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a=",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o=",nextState:"o"},"q|dq":{action_:["output","o="],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},"space A":{"b|p|bp":{}},space:{a:{nextState:"as"},0:{action_:"sb=false"},"1|2":{action_:"sb=true"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb=true"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd=",nextState:"rd"},"rd|rdt":{action_:"rq=",nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". |* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"*":{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o=","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},"d|D|qd|qD|dq":{action_:["output","d="],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},"d|qd|D|qD":{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},"3|o":{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"=<>":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o=",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"$...$":{a:{action_:"a="},"0|1|2|3|as|b|p|bp|o":{action_:"o=",nextState:"o"},"as|o":{action_:"o="},"q|d|D|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}0":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o=","output"],nextState:"3"},"*":{action_:["output","o=","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(t,e){var r;if((t.d||"").match(/^[0-9]+$/)){var n=t.d;t.d=void 0,r=this.output(t),t.b=n}else r=this.output(t);return Ae.actions["o="](t,e),r},"d= kv":function(t,e){t.d=e,t.dType="kv"},"charge or bond":function(t,e){if(t.beginsWithBond){var r=[];return Ae.concatArray(r,this.output(t)),Ae.concatArray(r,Ae.actions.bond(t,e,"-")),r}else t.d=e},"- after o/d":function(t,e,r){var n=Ae.patterns.match_("orbital",t.o||""),i=Ae.patterns.match_("one lowercase greek letter $",t.o||""),s=Ae.patterns.match_("one lowercase latin letter $",t.o||""),a=Ae.patterns.match_("$one lowercase latin letter$ $",t.o||""),o=e==="-"&&(n&&n.remainder===""||i||s||a);o&&!t.a&&!t.b&&!t.p&&!t.d&&!t.q&&!n&&s&&(t.o="$"+t.o+"$");var l=[];return o?(Ae.concatArray(l,this.output(t)),l.push({type_:"hyphen"})):(n=Ae.patterns.match_("digits",t.d||""),r&&n&&n.remainder===""?(Ae.concatArray(l,Ae.actions["d="](t,e)),Ae.concatArray(l,this.output(t))):(Ae.concatArray(l,this.output(t)),Ae.concatArray(l,Ae.actions.bond(t,e,"-")))),l},"a to o":function(t){t.o=t.a,t.a=void 0},"sb=true":function(t){t.sb=!0},"sb=false":function(t){t.sb=!1},"beginsWithBond=true":function(t){t.beginsWithBond=!0},"beginsWithBond=false":function(t){t.beginsWithBond=!1},"parenthesisLevel++":function(t){t.parenthesisLevel++},"parenthesisLevel--":function(t){t.parenthesisLevel--},"state of aggregation":function(t,e){return{type_:"state of aggregation",p1:Ae.go(e,"o")}},comma:function(t,e){var r=e.replace(/\s*$/,""),n=r!==e;return n&&t.parenthesisLevel===0?{type_:"comma enumeration L",p1:r}:{type_:"comma enumeration M",p1:r}},output:function(t,e,r){var n;if(!t.r)n=[],!t.a&&!t.b&&!t.p&&!t.o&&!t.q&&!t.d&&!r||(t.sb&&n.push({type_:"entitySkip"}),!t.o&&!t.q&&!t.d&&!t.b&&!t.p&&r!==2?(t.o=t.a,t.a=void 0):!t.o&&!t.q&&!t.d&&(t.b||t.p)?(t.o=t.a,t.d=t.b,t.q=t.p,t.a=t.b=t.p=void 0):t.o&&t.dType==="kv"&&Ae.patterns.match_("d-oxidation$",t.d||"")?t.dType="oxidation":t.o&&t.dType==="kv"&&!t.q&&(t.dType=void 0),n.push({type_:"chemfive",a:Ae.go(t.a,"a"),b:Ae.go(t.b,"bd"),p:Ae.go(t.p,"pq"),o:Ae.go(t.o,"o"),q:Ae.go(t.q,"pq"),d:Ae.go(t.d,t.dType==="oxidation"?"oxidation":"bd"),dType:t.dType}));else{var i;t.rdt==="M"?i=Ae.go(t.rd,"tex-math"):t.rdt==="T"?i=[{type_:"text",p1:t.rd||""}]:i=Ae.go(t.rd);var s;t.rqt==="M"?s=Ae.go(t.rq,"tex-math"):t.rqt==="T"?s=[{type_:"text",p1:t.rq||""}]:s=Ae.go(t.rq),n={type_:"arrow",r:t.r,rd:i,rq:s}}for(var a in t)a!=="parenthesisLevel"&&a!=="beginsWithBond"&&delete t[a];return n},"oxidation-output":function(t,e){var r=["{"];return Ae.concatArray(r,Ae.go(e,"oxidation")),r.push("}"),r},"frac-output":function(t,e){return{type_:"frac-ce",p1:Ae.go(e[0]),p2:Ae.go(e[1])}},"overset-output":function(t,e){return{type_:"overset",p1:Ae.go(e[0]),p2:Ae.go(e[1])}},"underset-output":function(t,e){return{type_:"underset",p1:Ae.go(e[0]),p2:Ae.go(e[1])}},"underbrace-output":function(t,e){return{type_:"underbrace",p1:Ae.go(e[0]),p2:Ae.go(e[1])}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:Ae.go(e[1])}},"r=":function(t,e){t.r=e},"rdt=":function(t,e){t.rdt=e},"rd=":function(t,e){t.rd=e},"rqt=":function(t,e){t.rqt=e},"rq=":function(t,e){t.rq=e},operator:function(t,e,r){return{type_:"operator",kind_:r||e}}}},a:{transitions:Ae.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},"$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:Ae.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"{text}"}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:Ae.createTransitions({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text="}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text="}}}),actions:{output:function(t){if(t.text_){var e={type_:"text",p1:t.text_};for(var r in t)delete t[r];return e}}}},pq:{transitions:Ae.createTransitions({empty:{"*":{}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"!f",revisit:!0}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",option:"comma enumeration S"}}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(t,e){return{type_:"state of aggregation subscript",p1:Ae.go(e,"o")}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:Ae.go(e[1],"pq")}}}},bd:{transitions:Ae.createTransitions({empty:{"*":{}},x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},else:{0:{nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(t,e){return{type_:"color",color1:e[0],color2:Ae.go(e[1],"bd")}}}},oxidation:{transitions:Ae.createTransitions({empty:{"*":{}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},else:{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(t,e){return{type_:"roman numeral",p1:e||""}}}},"tex-math":{transitions:Ae.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},else:{"*":{action_:"o="}}}),actions:{output:function(t){if(t.o){var e={type_:"tex-math",p1:t.o};for(var r in t)delete t[r];return e}}}},"tex-math tight":{transitions:Ae.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o="}}}),actions:{"tight operator":function(t,e){t.o=(t.o||"")+"{"+e+"}"},output:function(t){if(t.o){var e={type_:"tex-math",p1:t.o};for(var r in t)delete t[r];return e}}}},"9,9":{transitions:Ae.createTransitions({empty:{"*":{}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:Ae.createTransitions({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output","space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o=",nextState:"/"}},"/":{d:{action_:"o=",nextState:"/"}},"{...}|else":{"0|d":{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},"/|q":{action_:"q=",nextState:"q"}}}),actions:{enumber:function(t,e){var r=[];return e[0]==="+-"||e[0]==="+/-"?r.push("\\pm "):e[0]&&r.push(e[0]),e[1]&&(Ae.concatArray(r,Ae.go(e[1],"pu-9,9")),e[2]&&(e[2].match(/[,.]/)?Ae.concatArray(r,Ae.go(e[2],"pu-9,9")):r.push(e[2])),(e[3]||e[4])&&(e[3]==="e"||e[4]==="*"?r.push({type_:"cdot"}):r.push({type_:"times"}))),e[5]&&r.push("10^{"+e[5]+"}"),r},"number^":function(t,e){var r=[];return e[0]==="+-"||e[0]==="+/-"?r.push("\\pm "):e[0]&&r.push(e[0]),Ae.concatArray(r,Ae.go(e[1],"pu-9,9")),r.push("^{"+e[2]+"}"),r},operator:function(t,e,r){return{type_:"operator",kind_:r||e}},space:function(){return{type_:"pu-space-1"}},output:function(t){var e,r=Ae.patterns.match_("{(...)}",t.d||"");r&&r.remainder===""&&(t.d=r.match_);var n=Ae.patterns.match_("{(...)}",t.q||"");if(n&&n.remainder===""&&(t.q=n.match_),t.d&&(t.d=t.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.d=t.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),t.q){t.q=t.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.q=t.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");var i={d:Ae.go(t.d,"pu"),q:Ae.go(t.q,"pu")};t.o==="//"?e={type_:"pu-frac",p1:i.d,p2:i.q}:(e=i.d,i.d.length>1||i.q.length>1?e.push({type_:" / "}):e.push({type_:"/"}),Ae.concatArray(e,i.q))}else e=Ae.go(t.d,"pu-2");for(var s in t)delete t[s];return e}}},"pu-2":{transitions:Ae.createTransitions({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm="}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},"-9.,9":{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(t,e){t.rm+="^{"+e+"}"},space:function(){return{type_:"pu-space-2"}},output:function(t){var e=[];if(t.rm){var r=Ae.patterns.match_("{(...)}",t.rm||"");r&&r.remainder===""?e=Ae.go(r.match_,"pu"):e={type_:"rm",p1:t.rm}}for(var n in t)delete t[n];return e}}},"pu-9,9":{transitions:Ae.createTransitions({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(t){var e=[];if(t.text_=t.text_||"",t.text_.length>4){var r=t.text_.length%3;r===0&&(r=3);for(var n=t.text_.length-3;n>0;n-=3)e.push(t.text_.substr(n,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(0,r)),e.reverse()}else e.push(t.text_);for(var i in t)delete t[i];return e},"output-o":function(t){var e=[];if(t.text_=t.text_||"",t.text_.length>4){for(var r=t.text_.length-3,n=0;n<r;n+=3)e.push(t.text_.substr(n,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(n))}else e.push(t.text_);for(var i in t)delete t[i];return e}}}};var Xt={go:function(t,e){if(!t)return"";for(var r="",n=!1,i=0;i<t.length;i++){var s=t[i];typeof s=="string"?r+=s:(r+=Xt._go2(s),s.type_==="1st-level escape"&&(n=!0))}return!e&&!n&&r&&(r="{"+r+"}"),r},_goInner:function(t){return t&&Xt.go(t,!0)},_go2:function(t){var e;switch(t.type_){case"chemfive":e="";var r={a:Xt._goInner(t.a),b:Xt._goInner(t.b),p:Xt._goInner(t.p),o:Xt._goInner(t.o),q:Xt._goInner(t.q),d:Xt._goInner(t.d)};r.a&&(r.a.match(/^[+\-]/)&&(r.a="{"+r.a+"}"),e+=r.a+"\\,"),(r.b||r.p)&&(e+="{\\vphantom{X}}",e+="^{\\hphantom{"+(r.b||"")+"}}_{\\hphantom{"+(r.p||"")+"}}",e+="{\\vphantom{X}}",e+="^{\\smash[t]{\\vphantom{2}}\\llap{"+(r.b||"")+"}}",e+="_{\\vphantom{2}\\llap{\\smash[t]{"+(r.p||"")+"}}}"),r.o&&(r.o.match(/^[+\-]/)&&(r.o="{"+r.o+"}"),e+=r.o),t.dType==="kv"?((r.d||r.q)&&(e+="{\\vphantom{X}}"),r.d&&(e+="^{"+r.d+"}"),r.q&&(e+="_{\\smash[t]{"+r.q+"}}")):t.dType==="oxidation"?(r.d&&(e+="{\\vphantom{X}}",e+="^{"+r.d+"}"),r.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+r.q+"}}")):(r.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+r.q+"}}"),r.d&&(e+="{\\vphantom{X}}",e+="^{"+r.d+"}"));break;case"rm":e="\\mathrm{"+t.p1+"}";break;case"text":t.p1.match(/[\^_]/)?(t.p1=t.p1.replace(" ","~").replace("-","\\text{-}"),e="\\mathrm{"+t.p1+"}"):e="\\text{"+t.p1+"}";break;case"roman numeral":e="\\mathrm{"+t.p1+"}";break;case"state of aggregation":e="\\mskip2mu "+Xt._goInner(t.p1);break;case"state of aggregation subscript":e="\\mskip1mu "+Xt._goInner(t.p1);break;case"bond":if(e=Xt._getBond(t.kind_),!e)throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+t.kind_+")"];break;case"frac":var n="\\frac{"+t.p1+"}{"+t.p2+"}";e="\\mathchoice{\\textstyle"+n+"}{"+n+"}{"+n+"}{"+n+"}";break;case"pu-frac":var i="\\frac{"+Xt._goInner(t.p1)+"}{"+Xt._goInner(t.p2)+"}";e="\\mathchoice{\\textstyle"+i+"}{"+i+"}{"+i+"}{"+i+"}";break;case"tex-math":e=t.p1+" ";break;case"frac-ce":e="\\frac{"+Xt._goInner(t.p1)+"}{"+Xt._goInner(t.p2)+"}";break;case"overset":e="\\overset{"+Xt._goInner(t.p1)+"}{"+Xt._goInner(t.p2)+"}";break;case"underset":e="\\underset{"+Xt._goInner(t.p1)+"}{"+Xt._goInner(t.p2)+"}";break;case"underbrace":e="\\underbrace{"+Xt._goInner(t.p1)+"}_{"+Xt._goInner(t.p2)+"}";break;case"color":e="{\\color{"+t.color1+"}{"+Xt._goInner(t.color2)+"}}";break;case"color0":e="\\color{"+t.color+"}";break;case"arrow":var s={rd:Xt._goInner(t.rd),rq:Xt._goInner(t.rq)},a=Xt._getArrow(t.r);s.rd||s.rq?t.r==="<=>"||t.r==="<=>>"||t.r==="<<=>"||t.r==="<-->"?(a="\\long"+a,s.rd&&(a="\\overset{"+s.rd+"}{"+a+"}"),s.rq&&(t.r==="<-->"?a="\\underset{\\lower2mu{"+s.rq+"}}{"+a+"}":a="\\underset{\\lower6mu{"+s.rq+"}}{"+a+"}"),a=" {}\\mathrel{"+a+"}{} "):(s.rq&&(a+="[{"+s.rq+"}]"),a+="{"+s.rd+"}",a=" {}\\mathrel{\\x"+a+"}{} "):a=" {}\\mathrel{\\long"+a+"}{} ",e=a;break;case"operator":e=Xt._getOperator(t.kind_);break;case"1st-level escape":e=t.p1+" ";break;case"space":e=" ";break;case"entitySkip":e="~";break;case"pu-space-1":e="~";break;case"pu-space-2":e="\\mkern3mu ";break;case"1000 separator":e="\\mkern2mu ";break;case"commaDecimal":e="{,}";break;case"comma enumeration L":e="{"+t.p1+"}\\mkern6mu ";break;case"comma enumeration M":e="{"+t.p1+"}\\mkern3mu ";break;case"comma enumeration S":e="{"+t.p1+"}\\mkern1mu ";break;case"hyphen":e="\\text{-}";break;case"addition compound":e="\\,{\\cdot}\\,";break;case"electron dot":e="\\mkern1mu \\bullet\\mkern1mu ";break;case"KV x":e="{\\times}";break;case"prime":e="\\prime ";break;case"cdot":e="\\cdot ";break;case"tight cdot":e="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":e="\\times ";break;case"circa":e="{\\sim}";break;case"^":e="uparrow";break;case"v":e="downarrow";break;case"ellipsis":e="\\ldots ";break;case"/":e="/";break;case" / ":e="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."]}return e},_getArrow:function(t){switch(t){case"->":return"rightarrow";case"":return"rightarrow";case"":return"rightarrow";case"<-":return"leftarrow";case"<->":return"leftrightarrow";case"<-->":return"leftrightarrows";case"<=>":return"rightleftharpoons";case"":return"rightleftharpoons";case"<=>>":return"Rightleftharpoons";case"<<=>":return"Leftrightharpoons";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(t){switch(t){case"-":return"{-}";case"1":return"{-}";case"=":return"{=}";case"2":return"{=}";case"#":return"{\\equiv}";case"3":return"{\\equiv}";case"~":return"{\\tripledash}";case"~-":return"{\\rlap{\\lower.1em{-}}\\raise.1em{\\tripledash}}";case"~=":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"~--":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"-~-":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{-}}\\tripledash}";case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return"{\\rightarrow}";case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(t){switch(t){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":return" {}\\approx{} ";case"$\\approx$":return" {}\\approx{} ";case"v":return" \\downarrow{} ";case"(v)":return" \\downarrow{} ";case"^":return" \\uparrow{} ";case"(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."]}}},mre=class gre extends se{constructor(e){super(W(U({},e),{type:"delim"})),this.value=e.delim,this.size=e.size}static fromJson(e){return new gre(e)}toJson(){return W(U({},super.toJson()),{delim:this.value,size:this.size})}render(e){return new ge(this.value,{type:"middle"})}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Tn(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,e):zt(this.command,this.value)}},yre=class vre extends se{constructor(e){super(W(U({},e),{type:"sizeddelim",value:e.delim})),this.delimType=e.delimType,this.size=e.size}static fromJson(e){return new vre(e)}toJson(){return W(U({},super.toJson()),{delim:this.value,size:this.size,delimType:this.delimType})}render(e){let r=_Le(this.value,this.size,e,{classes:{open:"ML__open",close:"ML__close"}[this.delimType],type:this.delimType,isSelected:this.isSelected});return r?(r=this.bind(e,r),this.caret&&(r.caret=this.caret),r):null}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Tn(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,e):zt(this.command,this.value)}},q1=class xre extends se{constructor(e,r,n,i){var s,a;super({type:"enclose",command:e,style:i.style}),this.body=r,this.backgroundcolor=i.backgroundcolor,n.updiagonalarrow&&(n.updiagonalstrike=!1),n.box&&(n.left=!1,n.right=!1,n.bottom=!1,n.top=!1),this.notation=n,this.shadow=(s=i.shadow)!=null?s:"none",this.strokeWidth=(a=i.strokeWidth)!=null?a:"0.06em",this.strokeWidth||(this.strokeWidth="0.06em"),this.strokeStyle=i.strokeStyle,this.svgStrokeStyle=i.svgStrokeStyle,this.strokeColor=i.strokeColor,this.borderStyle=i.borderStyle,this.padding=i.padding,this.captureSelection=!1}static fromJson(e){return new xre(e.command,e.body,e.notation,e)}toJson(){return W(U({},super.toJson()),{notation:this.notation,shadow:this.shadow,strokeWidth:this.strokeWidth,strokeStyle:this.strokeStyle,svgStrokeStyle:this.svgStrokeStyle,strokeColor:this.strokeColor,borderStyle:this.borderStyle,padding:this.padding})}_serialize(e){var r;if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let n=Tn(this.command,this.mode);if(n!=null&&n.serialize)return n.serialize(this,e);let i=(r=this.command)!=null?r:"";if(this.command==="\\enclose"){i+="{"+Object.keys(this.notation).join(" ")+"}";let s="",a="";this.backgroundcolor&&this.backgroundcolor!=="transparent"&&(s+=a+'mathbackground="'+this.backgroundcolor+'"',a=","),this.shadow&&this.shadow!=="auto"&&(s+=a+'shadow="'+this.shadow+'"',a=","),this.strokeWidth||this.strokeStyle!=="solid"?(s+=a+this.borderStyle,a=","):this.strokeColor&&this.strokeColor!=="currentColor"&&(s+=a+'mathcolor="'+this.strokeColor+'"',a=","),s&&(i+=`[${s}]`)}return zt(i,this.bodyToLatex(e))}render(e){let r=new pt({parent:e},this.style),n=se.createBox(r,this.body);if(!n)return null;let i=HLe(this.borderStyle),s=r.toEm(!this.padding||this.padding==="auto"?{register:"fboxsep"}:{string:this.padding});n.setStyle("position","relative"),n.setStyle("display","inline-block"),n.setStyle("top",s,"em"),n.setStyle("height",n.height+n.depth,"em"),n.setStyle("width",n.width,"em");let a=new ge(null,{classes:"ML__notation"}),o=n.height+n.depth+2*s,l=n.width+2*s,c="";if(this.notation.horizontalstrike&&(c+=this.line(3,50,97,50)),this.notation.verticalstrike&&(c+=this.line(50,3,50,97)),this.notation.updiagonalstrike&&(c+=this.line(3,97,97,3)),this.notation.downdiagonalstrike&&(c+=this.line(3,3,97,97)),this.notation.updiagonalarrow){c+=this.line(s.toString(),(s+n.depth+n.height).toString(),(s+n.width).toString(),s.toString());let A=.03*Math.sqrt(l*l+o*o)*1,f=n.width*A,p=(n.depth+n.height)*A,m=s+n.width,y=s;y+p-.4*f<0&&(y=.4*f-p),c+='<polygon points="',c+=`${m},${y} ${m-f-.4*p},${y+p-.4*f} `,c+=`${m-.7*f},${y+.7*p} ${m-f+.4*p},${y+p+.4*f} `,c+=`${m},${y}`,c+=`" stroke='none' fill="${this.strokeColor}"`,c+="/>"}let u=0;if(this.notation.phasorangle){let A=SH(r),f=(n.height+n.depth+2*A+s).toString(),p=(n.height+n.depth)/2;c+=this.line(s.toString(),f,(s+p+n.width).toString(),f),c+=this.line(s.toString(),f,(s+p).toString(),(s-A).toString()),o+=A,u=p,n.left+=o/2-s}if(this.notation.longdiv){let A=SH(r);o+=A,c+=this.line(s.toString(),s.toString(),(s+n.width).toString(),s.toString());let f=.3;u=f+A,n.left+=f+A,n.setTop(s+A),c+='<path d="',c+=`M ${s} ${s}  a${f} ${(n.depth+n.height+2*A)/2}, 0, 1, 1, 0 ${n.depth+n.height+2*A} "`,c+=` stroke-width="${zLe(r)}" stroke="${this.strokeColor}" fill="none"`,c+="/>"}if(a.width=n.width+2*s+u,a.height=n.height+s,a.depth=n.depth+s,a.setStyle("box-sizing","border-box"),a.setStyle("left",`calc(-${i} / 2 )`),a.setStyle("height",`${Math.floor(100*o)/100}em`),a.setStyle("top",`calc(${i} / 2 )`),this.backgroundcolor&&a.setStyle("background-color",this.backgroundcolor),this.notation.box&&a.setStyle("border","1px solid red"),this.notation.actuarial&&(a.setStyle("border-top",this.borderStyle),a.setStyle("border-right",this.borderStyle)),this.notation.madruwb&&(a.setStyle("border-bottom",this.borderStyle),a.setStyle("border-right",this.borderStyle)),this.notation.roundedbox&&(a.setStyle("border-radius","8px"),a.setStyle("border",this.borderStyle)),this.notation.circle&&(a.setStyle("border-radius","50%"),a.setStyle("border",this.borderStyle)),this.notation.top&&a.setStyle("border-top",this.borderStyle),this.notation.left&&a.setStyle("border-left",this.borderStyle),this.notation.right&&a.setStyle("border-right",this.borderStyle),this.notation.bottom&&a.setStyle("border-bottom",this.borderStyle),c){let A="";this.shadow==="auto"&&(A+="filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)"),this.shadow!=="none"&&(A+=`filter: drop-shadow(${this.shadow})`),A+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,A+=' stroke-linecap="round"',this.svgStrokeStyle&&(A+=` stroke-dasharray="${this.svgStrokeStyle}"`),a.svgStyle=A,a.svgOverlay=c}let d=new ge([a,n]);return d.setStyle("position","relative"),d.setStyle("vertical-align",s,"em"),d.setStyle("height",`${Math.floor(100*(n.height+n.depth+2*s))/100}em`),d.setStyle("display","inline-block"),d.height=a.height,d.depth=a.depth,d.width=a.width-2*s,d.left=s,d.right=s,this.caret&&(d.caret=this.caret),d.wrap(r)}line(e,r,n,i){return`<line x1="${Sv(e)}"  y1="${Sv(r)}" x2="${Sv(n)}" y2="${Sv(i)}" vector-effect="non-scaling-stroke"></line>`}};function Sv(t){return typeof t=="number"?`${Math.floor(100*t)/100}%`:t}function HLe(t){if(!t)return"1px";let e=t.match(/([0-9][a-zA-Z\%]+)/);return e===null?"1px":e[1]}function zLe(t){return(Math.floor(100*t.metrics.sqrtRuleThickness/t.scalingFactor)/100/10).toString()+"em"}function SH(t){let e=t.isDisplayStyle?uu:t.metrics.defaultRuleThickness;return t.metrics.defaultRuleThickness+t.scalingFactor*e/4}var kx={fractionNavigationOrder:"numerator-denominator"},Oh=class bre extends se{constructor(e,r,n){var i,s,a;super(W(U({},n),{type:"genfrac",displayContainsHighlight:!0})),this.above=e,this.below=r,this.hasBarLine=(i=n==null?void 0:n.hasBarLine)!=null?i:!0,this.continuousFraction=(s=n==null?void 0:n.continuousFraction)!=null?s:!1,this.align=(a=n==null?void 0:n.align)!=null?a:"center",this.numerPrefix=n==null?void 0:n.numerPrefix,this.denomPrefix=n==null?void 0:n.denomPrefix,this.mathstyleName=n==null?void 0:n.mathstyleName,this.leftDelim=n==null?void 0:n.leftDelim,this.rightDelim=n==null?void 0:n.rightDelim}static fromJson(e){return new bre(e.above,e.below,e)}toJson(){let e={};return this.continuousFraction&&(e.continuousFraction=!0),this.align!=="center"&&(e.align=this.align),this.numerPrefix&&(e.numerPrefix=this.numerPrefix),this.denomPrefix&&(e.denomPrefix=this.denomPrefix),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),this.hasBarLine||(e.hasBarLine=!1),this.mathstyleName&&(e.mathstyleName=this.mathstyleName),U(U({},super.toJson()),e)}get children(){if(this._children)return this._children;let e=[];if(kx.fractionNavigationOrder==="denominator-numerator"){for(let r of this.below)e.push(...r.children),e.push(r);for(let r of this.above)e.push(...r.children),e.push(r)}else{for(let r of this.above)e.push(...r.children),e.push(r);for(let r of this.below)e.push(...r.children),e.push(r)}return this._children=e,e}render(e){var r,n;let i=new pt({parent:e,mathstyle:this.mathstyleName},this.style),s=i.metrics,a=new pt({parent:i,mathstyle:this.continuousFraction?"":"numerator"},this.style),o=this.numerPrefix?new ge([new ge(this.numerPrefix),se.createBox(a,this.above)],{isTight:a.isTight,type:"ignore"}):(r=se.createBox(a,this.above,{type:"ignore"}))!=null?r:new ge(null,{type:"ignore"}),l=new pt({parent:i,mathstyle:this.continuousFraction?"":"denominator"},this.style),c=this.denomPrefix?new ge([new ge(this.denomPrefix),se.createBox(l,this.below,{type:"ignore"})]):(n=se.createBox(l,this.below,{type:"ignore"}))!=null?n:new ge(null,{type:"ignore"}),u=this.hasBarLine?s.defaultRuleThickness:0,d,A=0,f;i.isDisplayStyle?(d=a.metrics.num1,A=u>0?3*u:7*u,f=l.metrics.denom1):(u>0?(d=a.metrics.num2,A=u):(d=a.metrics.num3,A=3*s.defaultRuleThickness),f=l.metrics.denom2);let p=[];this.isSelected&&p.push("ML__selected");let m=o.depth,y=c.height,g;if(u<=0){let S=d-m-(y-f);S<A&&(d+=(A-S)/2,f+=(A-S)/2),g=new Vr({individualShift:[{box:o,shift:-d,classes:[...p,Bv(this.align)]},{box:c,shift:f,classes:[...p,Bv(this.align)]}]}).wrap(i)}else{let S=new ge(null,{classes:"ML__frac-line",mode:this.mode,style:this.style});S.softWidth=Math.max(o.width,c.width),S.height=u/2,S.depth=u/2;let B=La+u/2;d<A+m+B&&(d=A+m+B);let E=La-u/2;f<A+y-E&&(f=A+y-E),g=new Vr({individualShift:[{box:c,shift:f,classes:[...p,Bv(this.align)]},{box:S,shift:-E,classes:p},{box:o,shift:-d,classes:[...p,Bv(this.align)]}]}).wrap(i)}let v=i.isDisplayStyle?s.delim1:s.delim2,x=this.leftDelim?this.bind(e,C3("open",this.leftDelim,v,!0,e,{style:this.style,mode:this.mode,isSelected:this.isSelected})):Bh(i,"ML__open"),b=null;this.continuousFraction?b=new ge(null,{type:"close"}):this.rightDelim?b=this.bind(e,C3("close",this.rightDelim,v,!0,e,{style:this.style,mode:this.mode,isSelected:this.isSelected})):b=Bh(i,"ML__close");let w=new ge([x,g,b],{isTight:i.isTight,type:"inner",classes:"ML__mfrac"}),C=this.bind(e,w);return this.caret&&(C.caret=this.caret),this.attachSupsub(e,{base:C})}};function Bv(t){var e;return(e={left:"ML__left",right:"ML__right",center:"ML__center"}[t])!=null?e:"ML__center"}var an=class wre extends se{constructor(e,r){var n;super({type:"latex",value:e,mode:"latex"}),this.isSuggestion=(n=r==null?void 0:r.isSuggestion)!=null?n:!1,this.isError=!1}static fromJson(e){let r=new wre(e.value);return e.isSuggestion&&(r.isSuggestion=!0),e.isError&&(r.isError=!0),r}toJson(){let e={};return this.isSuggestion&&(e.isSuggestion=!0),this.isError&&(e.isError=!0),U({type:"latex",value:this.value},e)}render(e){let r=new ge(this.value,{classes:this.isSuggestion?"ML__suggestion":this.isError?"ML__error":"",type:"latex",maxFontSize:1});return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}},Vm=class Cre extends se{constructor(e=""){super({type:"latexgroup",mode:"latex"}),this.body=[...e].map(r=>new an(r)),this.skipBoundary=!0}static fromJson(e){return new Cre}toJson(){return super.toJson()}render(e){let r=se.createBox(e,this.body);return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}_serialize(e){var r,n;return(n=(r=this.body)==null?void 0:r.map(i=>i.value).join(""))!=null?n:""}},KF=class Sre extends se{constructor(e,r){super(W(U({},r),{type:"extensible-symbol",isFunction:r==null?void 0:r.isFunction})),this.value=e,this.variant=r==null?void 0:r.variant,this.subsupPlacement=r==null?void 0:r.limits}static fromJson(e){return new Sre(e.symbol,e)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.subsupPlacement&&(e.limits=this.subsupPlacement),this.value&&(e.symbol=this.value),e}render(e){var r;let n=e.isDisplayStyle&&this.value!=="\\smallint",i=new ge(this.value,{fontFamily:n?"Size2-Regular":"Size1-Regular",classes:"ML__op-symbol "+(n?"ML__large-op":"ML__small-op"),type:"op",maxFontSize:e.scalingFactor,isSelected:this.isSelected});if(!i)return null;i.right=i.italic;let s=(i.height-i.depth)/2-La*e.scalingFactor,a=i.italic;i.setTop(s);let o=i;if(this.superscript||this.subscript){let l=(r=this.subsupPlacement)!=null?r:"auto";l==="auto"&&e.isDisplayStyle&&(l="over-under"),o=l==="over-under"?this.attachLimits(e,{base:i,baseShift:s,slant:a}):this.attachSupsub(e,{base:i})}return new ge(this.bind(e,o),{type:"op",caret:this.caret,isSelected:this.isSelected,classes:"ML__op-group"}).wrap(e)}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Tn(this.command,this.mode);if(r!=null&&r.serialize)return r.serialize(this,e);let n=[];return n.push(this.command),this.explicitSubsupPlacement&&(this.subsupPlacement==="over-under"&&n.push("\\limits"),this.subsupPlacement==="adjacent"&&n.push("\\nolimits"),this.subsupPlacement==="auto"&&n.push("\\displaylimits")),n.push(this.supsubToLatex(e)),ot(n)}},Ph=class Bre extends se{constructor(e){let r=e.body;super(W(U({},e),{type:"overlap",body:typeof r=="string"?[new se({value:r})]:r,style:e==null?void 0:e.style})),this.skipBoundary=!0,this.align=e==null?void 0:e.align,this.boxType=e==null?void 0:e.boxType}static fromJson(e){return new Bre(e)}toJson(){let e={};return this.align&&(e.align=this.align),this.boxType&&(e.boxType=this.boxType),U(U({},super.toJson()),e)}render(e){let r=se.createBox(e,this.body,{classes:"ML__inner"});return r?(this.caret&&(r.caret=this.caret),this.bind(e,new ge([r,new ge(null,{classes:"ML__fix"})],{classes:this.align==="right"?"ML__rlap":"ML__llap",type:this.boxType}))):null}},aa=class _re extends se{constructor(e){var r,n,i,s;super({type:"overunder",command:e.command,style:e.style,mode:e.mode,body:e.body,skipBoundary:(r=e.skipBoundary)!=null?r:!0}),this.subsupPlacement=e.supsubPlacement,this.svgAbove=e.svgAbove,this.svgBelow=e.svgBelow,this.svgBody=e.svgBody,this.above=e.above,this.below=e.below,this.boxType=(n=e.boxType)!=null?n:"ord",this.paddedBody=(i=e.paddedBody)!=null?i:!1,this.paddedLabels=(s=e.paddedLabels)!=null?s:!1}static fromJson(e){return new _re(e)}toJson(){let e=super.toJson();return this.skipBoundary||(e.skipBoundary=!1),this.subsupPlacement&&(e.subsupPlacement=this.subsupPlacement),this.svgAbove&&(e.svgAbove=this.svgAbove),this.svgBelow&&(e.svgBelow=this.svgBelow),this.svgBody&&(e.svgBody=this.svgBody),this.boxType!=="ord"&&(e.boxType=this.boxType),this.paddedBody&&(e.paddedBody=!0),this.paddedLabels&&(e.paddedLabels=!0),e}render(e){let r=this.svgBody?Cx(this.svgBody):se.createBox(e,this.body,{type:"ignore"}),n=new pt({parent:e,mathstyle:"scriptstyle"},this.style),i=null;this.svgAbove?i=Cx(this.svgAbove):this.above&&(i=se.createBox(n,this.above,{type:"ignore"}));let s=null;this.svgBelow?s=Cx(this.svgBelow):this.below&&(s=se.createBox(n,this.below,{type:"ignore"})),this.paddedBody&&(r=new ge([Bh(e,"ML__open"),r,Bh(e,"ML__close")],{type:"ignore"}));let a=$Le(e,{base:r,above:i,below:s,type:this.boxType==="bin"||this.boxType==="rel"?this.boxType:"ord",paddedAboveBelow:this.paddedLabels});return a?(this.subsupPlacement==="over-under"?a=this.attachLimits(e,{base:a,type:a.type}):a=this.attachSupsub(e,{base:a}),this.caret&&(a.caret=this.caret),this.bind(e,a)):null}};function $Le(t,e){if(!e.base)return null;if(!e.above&&!e.below){let o=new ge(e.base,{type:e.type});return o.setStyle("position","relative"),o}let r=0;e.above&&(r=t.metrics.bigOpSpacing5);let n=null,i=e.base,s=0,a=["ML__center"];if(e.paddedAboveBelow&&a.push("ML__label_padding"),e.below&&e.above){let o=t.metrics.bigOpSpacing5+e.below.height+e.below.depth+i.depth+s;n=new Vr({bottom:o,children:[t.metrics.bigOpSpacing5,{box:e.below,classes:a},{box:i,classes:["ML__center"]},r,{box:e.above,classes:a},t.metrics.bigOpSpacing5]})}else e.below?n=new Vr({top:i.height-s,children:[t.metrics.bigOpSpacing5,{box:e.below,classes:a},{box:i,classes:["ML__center"]}]}):e.above&&(n=new Vr({bottom:i.depth+s,children:[{box:i,classes:["ML__center"]},r,{box:e.above,classes:a},t.metrics.bigOpSpacing5]}));return new ge(n,{type:e.type})}var W1=class kre extends se{constructor(e){var r,n,i,s;super(W(U({},e),{type:"phantom"})),this.captureSelection=!0,this.isInvisible=(r=e.isInvisible)!=null?r:!1,this.smashDepth=(n=e.smashDepth)!=null?n:!1,this.smashHeight=(i=e.smashHeight)!=null?i:!1,this.smashWidth=(s=e.smashWidth)!=null?s:!1}static fromJson(e){return new kre(e)}toJson(){let e={};return this.isInvisible&&(e.isInvisible=!0),this.smashDepth&&(e.smashDepth=!0),this.smashHeight&&(e.smashHeight=!0),this.smashWidth&&(e.smashWidth=!0),U(U({},super.toJson()),e)}render(e){let r=new pt({parent:e,isPhantom:!0});if(!this.smashDepth&&!this.smashHeight&&!this.smashWidth)return this.isInvisible,se.createBox(r,this.body,{classes:"ML__inner"});let n=se.createBox(this.isInvisible?r:e,this.body);if(!n)return null;if(this.smashWidth){let i=new ge(null,{classes:"ML__fix"});return new ge([n,i],{classes:"ML__rlap"}).wrap(e)}if(!this.smashHeight&&!this.smashDepth)return n;if(this.smashHeight&&(n.height=0),this.smashDepth&&(n.depth=0),n.children)for(let i of n.children)this.smashHeight&&(i.height=0),this.smashDepth&&(i.depth=0);return new Vr({firstBaseline:[{box:n}]},{type:n.type}).wrap(e)}},G1=class Ere extends se{constructor(e){var r;super(U({type:"spacing"},e)),this.width=e==null?void 0:e.width,this._braced=(r=e==null?void 0:e.braced)!=null?r:!1}static fromJson(e){return new Ere(e)}toJson(){let e=super.toJson();return this.width!==void 0&&(e.width=this.width),this._braced&&(e.braced=!0),e}render(e){var r;if(this.command==="space")return new ge(this.mode==="math"?null:" ");let n;if(this.width!==void 0)n=new ge(null,{classes:"ML__mspace"}),n.left=e.toEm(this.width);else{let i=(r={"\\qquad":"ML__qquad","\\quad":"ML__quad","\\enspace":"ML__enspace","\\;":"ML__thickspace","\\:":"ML__mediumspace","\\>":"ML__mediumspace","\\,":"ML__thinspace","\\!":"ML__negativethinspace"}[this.command])!=null?r:"ML__mediumspace";n=new ge(null,{classes:i})}return n=this.bind(e,n),this.caret&&(n.caret=this.caret),n}_serialize(e){var r;if(!e.expandMacro&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let n=Tn(this.command,this.mode);if(n!=null&&n.serialize)return n.serialize(this,e);let i=(r=this.command)!=null?r:"";return this.width===void 0?i:this._braced&&!("register"in this.width)?`${i}{${xn(this.width)}}`:`${i}${xn(this.width)}`}},Mre=class Fre extends se{constructor(e){var r;super(W(U({},e),{type:"surd",mode:(r=e.mode)!=null?r:"math",style:e.style,displayContainsHighlight:!0,body:e.body})),this.above=e.index}static fromJson(e){return new Fre(W(U({},e),{index:e.above}))}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Tn(this.command,this.mode);if(r!=null&&r.serialize)return r.serialize(this,e);let n=this.command,i=this.bodyToLatex(e);return this.above&&!this.hasEmptyBranch("above")?zt(`${n}[${this.aboveToLatex(e)}]`,i):/^[0-9]$/.test(i)?`${n}${i}`:zt(n,i)}get children(){if(this._children)return this._children;let e=[];if(this.above)for(let r of this.above)e.push(...r.children),e.push(r);if(this.body)for(let r of this.body)e.push(...r.children),e.push(r);return this._children=e,e}render(e){var r;let n=new pt({parent:e,mathstyle:"cramp"},this.style),i=(r=se.createBox(n,this.body,{type:"inner"}))!=null?r:new ge(null),s=n.scalingFactor,a=n.metrics.defaultRuleThickness/s,o=e.isDisplayStyle?uu:a,l=new ge(null,{classes:"ML__sqrt-line",style:this.style});l.height=a,l.softWidth=i.width;let c=s*(a+o/4),u=Math.max(s*2*o,i.height+i.depth)+c+a,d=new pt({parent:e},this.style),A=this.bind(d,new ge(C3("inner","\\surd",u,!1,d,{isSelected:this.isSelected}),{isSelected:this.isSelected,classes:"ML__sqrt-sign",style:this.style}));if(!A)return null;let f=A.height+A.depth-a;f>i.height+i.depth+c&&(c=(c+f-(i.height+i.depth))/2),A.setTop(A.height-i.height-c);let p=this.bind(e,new Vr({firstBaseline:[{box:new ge(i)},c-2*a,{box:l},a]})),m=se.createBox(new pt({parent:e,mathstyle:"scriptscriptstyle"}),this.above,{type:"ignore"});if(!m){let v=new ge([A,p],{classes:this.containsCaret?"ML__contains-caret":"",type:"inner"});return v.setStyle("display","inline-block"),v.setStyle("height",v.height+v.depth,"em"),this.caret&&(v.caret=this.caret),this.bind(e,v)}let y=new Vr({shift:-.6*(Math.max(A.height,p.height)-Math.max(A.depth,p.depth)),children:[{box:m}]}),g=new ge([new ge(y,{classes:"ML__sqrt-index",type:"ignore"}),A,p],{type:"inner",classes:this.containsCaret?"ML__contains-caret":""});return g.height=A.height,g.depth=A.depth,this.caret&&(g.caret=this.caret),this.bind(e,g)}},VLe=class extends ge{constructor(t){super(null,{type:"skip"}),this._width=t}toMarkup(){return`<span style="display:inline-block;width:${Math.ceil(this.width*100)/100}em"></span>`}};function Ex(t,e){if(!t.parent)return;let r=t.parent.children,n=r.indexOf(t),i=n-1;for(;i>=0&&r[i].type==="ignore";)i-=1;if(i<0&&t.parent.parent&&t.parent.type==="lift"){Ex(t.parent,e);return}n>0&&r[n-1].type==="skip"?r[n-1].width+=e:r.splice(n,0,new VLe(e))}var KLe={ord:{op:3,bin:4,rel:5,inner:3},op:{ord:3,op:3,rel:5,inner:3},bin:{ord:4,op:4,open:4,inner:4},rel:{ord:5,op:5,open:5,inner:5},close:{op:3,bin:4,rel:5,inner:3},punct:{ord:3,op:3,rel:3,open:3,punct:3,inner:3},inner:{ord:3,op:3,bin:4,rel:5,open:3,punct:3,inner:3}},qLe={ord:{op:3},op:{ord:3,op:3},close:{op:3},inner:{op:3}};function WLe(t){Km(t,(e,r)=>{r.type==="bin"&&(!e||/^(middle|bin|op|rel|open|punct)$/.test(e.type))&&(r.type="ord"),(e==null?void 0:e.type)==="bin"&&/^(rel|close|punct)$/.test(r.type)&&(e.type="ord"),r.type!=="ignore"&&(e=r)})}function X1(t,e){if(!t.children)return t;let r=t.children;WLe(r);let n=e.getRegisterAsEm("thinmuskip"),i=e.getRegisterAsEm("medmuskip"),s=e.getRegisterAsEm("thickmuskip");return Km(r,(a,o)=>{var l,c,u;if(!a)return;let d=a.type,A=o.isTight?(l=qLe[d])!=null?l:null:(c=KLe[d])!=null?c:null,f=(u=A==null?void 0:A[o.type])!=null?u:null;f===3&&Ex(o,n),f===4&&Ex(o,i),f===5&&Ex(o,s)}),t}function Km(t,e,r=void 0){if(!t)return r;t=[...t];for(let n of t)n.type==="lift"?r=Km(n.children,e,r):n.type==="ignore"?Km(n.children,e):(e(r,n),Km(n.children,e),r=n);return r}var qF=class Tre extends se{constructor(e){super({type:"tooltip",command:e.command,mode:e.mode,style:e.style,body:e.body,displayContainsHighlight:!0}),this.tooltip=new se({type:"root",mode:e.content,body:e.tooltip,style:{}}),this.skipBoundary=!0,this.captureSelection=!1}static fromJson(e){return new Tre(W(U({},e),{tooltip:du(e.tooltip)}))}toJson(){var e;let r=(e=this.tooltip.body)==null?void 0:e.filter(n=>n.type!=="first").map(n=>n.toJson());return W(U({},super.toJson()),{tooltip:r})}render(e){let r=se.createBox(new pt,this.body);if(!r)return null;let n=new pt({parent:e,mathstyle:"displaystyle"},{fontSize:RF}),i=w5(X1(new ge(this.tooltip.render(n),{classes:"ML__tooltip-content"}),n)),s=new ge([i,r],{classes:"ML__tooltip-container"});return this.caret&&(s.caret=this.caret),this.bind(e,s)}},Uh=class Dre extends se{constructor(e,r){super(W(U({},r),{type:"operator",isFunction:r==null?void 0:r.isFunction})),this.value=e,this.variant=r==null?void 0:r.variant,this.variantStyle=r==null?void 0:r.variantStyle,this.subsupPlacement=r==null?void 0:r.limits}static fromJson(e){return new Dre(e.symbol,e)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.variantStyle&&(e.variantStyle=this.variantStyle),this.subsupPlacement&&(e.limits=this.subsupPlacement),this.value&&(e.symbol=this.value),e}render(e){var r;let n=new ge(this.value,{type:"op",mode:"math",maxFontSize:e.scalingFactor,style:{variant:this.variant,variantStyle:this.variantStyle},isSelected:this.isSelected,letterShapeStyle:e.letterShapeStyle}),i=n;if(this.superscript||this.subscript){let s=(r=this.subsupPlacement)!=null?r:"auto";i=s==="over-under"||s==="auto"&&e.isDisplayStyle?this.attachLimits(e,{base:n}):this.attachSupsub(e,{base:n})}return new ge(this.bind(e,i),{type:"op",caret:this.caret,isSelected:this.isSelected,classes:"ML__op-group"}).wrap(e)}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Tn(this.command,this.mode);if(r!=null&&r.serialize)return r.serialize(this,e);let n=[this.command];return this.explicitSubsupPlacement&&(this.subsupPlacement==="over-under"&&n.push("\\limits"),this.subsupPlacement==="adjacent"&&n.push("\\nolimits"),this.subsupPlacement==="auto"&&n.push("\\displaylimits")),n.push(this.supsubToLatex(e)),ot(n)}};function du(t){if(bn(t))return t.map(n=>du(n));if(typeof t=="string")return se.fromJson(t);t=U({},t);for(let n of JA)t[n]&&(t[n]=du(t[n]));t.args&&(t.args=GLe(t.args)),t.array&&(t.array=du(t.array));let e=t.type,r;e==="accent"&&(r=B5.fromJson(t)),e==="array"&&(r=dt.fromJson(t)),e==="box"&&(r=Du.fromJson(t)),e==="chem"&&(r=fre.fromJson(t)),e==="composition"&&(r=ere.fromJson(t)),e==="delim"&&(r=mre.fromJson(t)),e==="enclose"&&(r=q1.fromJson(t)),e==="error"&&(r=Ed.fromJson(t)),e==="extensible-symbol"&&(r=KF.fromJson(t)),e==="genfrac"&&(r=Oh.fromJson(t)),e==="group"&&(r=nre.fromJson(t)),e==="latex"&&(r=an.fromJson(t)),e==="latexgroup"&&(r=Vm.fromJson(t)),e==="leftright"&&(r=Ar.fromJson(t)),e==="macro"&&(r=ore.fromJson(t)),e==="macro-argument"&&(r=QLe.fromJson(t)),e==="operator"&&(r=Uh.fromJson(t)),e==="overlap"&&(r=Ph.fromJson(t)),e==="overunder"&&(r=aa.fromJson(t)),e==="placeholder"&&(r=Do.fromJson(t)),e==="prompt"&&(r=ure.fromJson(t)),e==="phantom"&&(r=W1.fromJson(t)),e==="sizeddelim"&&(r=yre.fromJson(t)),e==="spacing"&&(r=G1.fromJson(t)),e==="subsup"&&(r=E5.fromJson(t)),e==="surd"&&(r=Mre.fromJson(t)),e==="text"&&(r=Ff.fromJson(t)),e==="tooltip"&&(r=qF.fromJson(t)),r||(r=se.fromJson(t));for(let n of JA)t[n]&&r.setChildren(t[n],n);return t.verbatimLatex!==void 0&&(r.verbatimLatex=t.verbatimLatex),t.subsupPlacement&&(r.subsupPlacement=t.subsupPlacement),t.explicitSubsupPlacement&&(r.explicitSubsupPlacement=!0),t.isFunction&&(r.isFunction=!0),t.skipBoundary&&(r.skipBoundary=!0),t.captureSelection&&(r.captureSelection=!0),r}function GLe(t){if(t&&Array.isArray(t))return t.map(e=>e==="<null>"?null:typeof e=="object"&&"group"in e?{group:e.group.map(r=>du(r))}:typeof e=="object"&&"atoms"in e?e.atoms.map(r=>du(r)):e)}function WF(t,e){!t||!e||(bn(t)?t.forEach(r=>WF(r,e)):typeof t=="object"&&t.applyStyle(e,{unstyledOnly:!0}))}function q9(t,e,r,n){function i(a,o){for(let l of s)if(l.style[a]!==o)return!1;return!0}if(e=t.normalizeRange(e),e[0]===e[1])return!1;let s=t.getAtoms(e,{includeChildren:!0});n.operation==="toggle"&&(r.color&&i("color",r.color)&&(r.color="none",delete r.verbatimColor),r.backgroundColor&&i("backgroundColor",r.backgroundColor)&&(r.backgroundColor="none",delete r.verbatimBackgroundColor),r.fontFamily&&i("fontFamily",r.fontFamily)&&(r.fontFamily="none"),r.fontSeries&&i("fontSeries",r.fontSeries)&&(r.fontSeries="auto"),r.fontShape&&i("fontShape",r.fontShape)&&(r.fontShape="auto"),r.fontSize&&i("fontSize",r.fontSize)&&(r.fontSize=RF),r.variant&&i("variant",r.variant)&&(r.variant="normal"),r.variantStyle&&i("variantStyle",r.variantStyle)&&(r.variantStyle=""));for(let a of s)a.applyStyle(r);return!0}function XLe(t){return{up:"italic",bold:"bolditalic",italic:"italic",bolditalic:"bolditalic","":"italic"}[t??""]}function M5(t){return{up:"up",bold:"bold",italic:void 0,bolditalic:"bold","":void 0}[t??""]}var BH={main:["Main-Regular","ML__cmr"],"main-italic":["Main-Italic","ML__cmr ML__it"],"main-bold":["Main-Bold","ML__cmr ML__bold"],"main-bolditalic":["Main-BoldItalic","ML__cmr ML__bold ML__it"],normal:["Main-Regular","ML__cmr"],"normal-bold":["Main-Bold","ML__mathbf"],"normal-italic":["Math-Italic","ML__mathit"],"normal-bolditalic":["Math-BoldItalic","ML__mathbfit"],ams:["AMS-Regular","ML__ams"],"ams-bold":["AMS-Regular","ML__ams ML__bold"],"ams-italic":["AMS-Regular","ML__ams ML__it"],"ams-bolditalic":["AMS-Regular","ML__ams ML__bold ML__it"],"sans-serif":["SansSerif-Regular","ML__sans"],"sans-serif-bold":["SansSerif-Regular","ML__sans ML__bold"],"sans-serif-italic":["SansSerif-Regular","ML__sans ML__it"],"sans-serif-bolditalic":["SansSerif-Regular","ML__sans ML__bold ML__it"],calligraphic:["Caligraphic-Regular","ML__cal"],"calligraphic-bold":["Caligraphic-Regular","ML__cal ML__bold"],"calligraphic-italic":["Caligraphic-Regular","ML__cal ML__it"],"calligraphic-bolditalic":["Caligraphic-Regular","ML__cal ML__bold ML__it"],script:["Script-Regular","ML__script"],"script-bold":["Script-Regular","ML__script ML__bold"],"script-italic":["Script-Regular","ML__script ML__it"],"script-bolditalic":["Script-Regular","ML__script ML__bold ML__it"],fraktur:["Fraktur-Regular","ML__frak"],"fraktur-bold":["Fraktur-Regular","ML__frak ML__bold"],"fraktur-italic":["Fraktur-Regular","ML__frak ML__it"],"fraktur-bolditalic":["Fraktur-Regular","ML__frak ML__bold ML__it"],monospace:["Typewriter-Regular","ML__tt"],"monospace-bold":["Typewriter-Regular","ML__tt ML__bold"],"monospace-italic":["Typewriter-Regular","ML__tt ML__it"],"monospace-bolditalic":["Typewriter-Regular","ML__tt ML__bold ML__it"],"double-struck":["AMS-Regular","ML__bb"],"double-struck-bold":["AMS-Regular","ML__bb ML__bold"],"double-struck-italic":["AMS-Regular","ML__bb ML_italic"],"double-struck-bolditalic":["AMS-Regular","ML__bb ML_bolditalic"]},W9={"double-struck":/^[A-Z ]$/,script:/^[A-Z ]$/,calligraphic:/^[\dA-Z ]$/,fraktur:/^[\dA-Za-z ]$|^[!"#$%&'()*+,\-./:;=?[]^]$/,monospace:/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/,"sans-serif":/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/},Lre=/^[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5]$/,YLe=/^[\u0393|\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A6\u03A8\u03A9]$/,JLe=[/^[a-z]$/,/^[A-Z]$/,Lre,YLe],ZLe={iso:["it","it","it","it"],tex:["it","it","it","up"],french:["it","up","up","up"],upright:["up","up","up","up"]},eNe=class extends ds{constructor(){super("math")}createAtom(t,e,r){var n,i,s,a,o,l;if(e===null)return new se({type:"mord",mode:"math",command:t,value:t,style:r});let c;try{c=(s=(i=globalThis.MathfieldElement)==null?void 0:i.isFunction((n=e.command)!=null?n:t))!=null?s:!1}catch{c=!1}if(e.definitionType==="symbol"){let d=new se({type:(a=e.type)!=null?a:"mord",mode:"math",command:(o=e.command)!=null?o:t,value:String.fromCodePoint(e.codepoint),isFunction:c,style:r});return t.startsWith("\\")&&(d.verbatimLatex=t),d}let u=new se({type:"mord",mode:"math",command:(l=e.command)!=null?l:t,value:t,isFunction:c,style:r});return t.startsWith("\\")&&(u.verbatimLatex=t),u}serialize(t,e){let r=tNe(t,W(U({},e),{defaultMode:"math"}));return r.length===0||e.defaultMode!=="text"?r:["$ ",...r," $"]}getFont(t,e){var r,n;if(e.variant,e.fontFamily){let[c,u]=BH[e.fontFamily];return u&&(t.classes+=" "+u),c}let{variant:i}=e,{variantStyle:s}=e;if(i==="normal"&&!s&&/[\u00A3\u0131\u0237]/.test(t.value)&&(i="main",s="italic"),i==="normal"&&!s&&t.value.length===1){let c=!1;JLe.forEach((u,d)=>{var A;u.test(t.value)&&ZLe[(A=e.letterShapeStyle)!=null?A:"tex"][d]==="it"&&(c=!0)}),c&&(s=XLe(s))}s==="up"&&(s=void 0);let a=s?i+"-"+s:i,[o,l]=BH[a];if(W9[i]&&!W9[i].test(t.value)){let c=N9(t.value,i,s);return c||(c=(r=N9(t.value,i))!=null?r:t.value,t.classes+=(n={bold:" ML__bold",italic:" ML__it","bold-italic":" ML__bold ML__it"}[s??""])!=null?n:""),t.value=c,null}return Lre.test(t.value)&&(t.classes+=" lcGreek"),l&&(t.classes+=" "+l),o}};function tNe(t,e){return ec(t,"bold").map(r=>{if(R9(r[0])!=="bold"||R9(r[0].parent)==="bold")return ot(_v(r,e));let n=ot(r.map(i=>{var s;return(s=i.value)!=null?s:""}));return/^[a-zA-Z0-9]+$/.test(n)?zt("\\mathbf",ot(_v(r,e))):zt("\\bm",ot(_v(r,e)))})}function _v(t,e){let{parent:r}=t[0],n=H9(r);return ec(t,"variant").map(i=>{let s=H9(i[0]),a="";s&&s!==n&&(a={calligraphic:"\\mathcal","calligraphic-uo":"\\mathcal",fraktur:"\\mathfrak","fraktur-uo":"\\mathfrak","double-struck":"\\mathbb","double-struck-uo":"\\mathbb",script:"\\mathscr","script-uo":"\\mathscr",monospace:"\\mathtt","monospace-uo":"\\mathtt","sans-serif":"\\mathsf","sans-serif-uo":"\\mathsf",normal:"","normal-up":"\\mathrm","normal-italic":"\\mathnormal","normal-bold":"","normal-bolditalic":"\\mathbfit",ams:"","ams-up":"\\mathrm","ams-italic":"\\mathit","ams-bold":"","ams-bolditalic":"\\mathbfit",main:"","main-up":"\\mathrm","main-italic":"\\mathit","main-bold":"","main-bolditalic":"\\mathbfit"}[s]);let o=ot(i.map(l=>l._serialize(e)));return a?zt(a,o):o})}new eNe;function rNe(t,e){return t.map(r=>r._serialize(e))}function nNe(t,e){return ec(t,"fontShape").map(r=>{let n=rNe(r,e),{fontShape:i}=r[0].style,s="";return i==="it"&&(s="\\textit"),i==="sl"&&(s="\\textsl"),i==="sc"&&(s="\\textsc"),i==="n"&&(s="\\textup"),!s&&i?`{${zt("\\fontshape",i)}${ot(n)}}`:s?zt(s,ot(n)):ot(n)})}function iNe(t,e){return ec(t,"fontSeries").map(r=>{let n=nNe(r,e),{fontSeries:i}=r[0].style,s="";return i==="b"&&(s="\\textbf"),i==="l"&&(s="\\textlf"),i==="m"&&(s="\\textmd"),i&&!s?`{${zt("\\fontseries",i)}${ot(n)}}`:s?zt(s,ot(n)):ot(n)})}function sNe(t,e){return ec(t,"fontSize").map(r=>{var n,i;let s=iNe(r,e),a=(i=["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][(n=r[0].style.fontSize)!=null?n:""])!=null?i:"";return a?`${a} ${ot(s)}`:ot(s)})}function aNe(t,e,r){return ec(t,"fontFamily").map(n=>{var i;r=r&&!n.every(l=>l.style.fontFamily||l.style.fontShape||l.style.fontSeries||l.style.fontSize);let s=sNe(n,e),{fontFamily:a}=n[0].style,o=(i={roman:"textrm",monospace:"texttt","sans-serif":"textsf"}[a??""])!=null?i:"";return o?`\\${o}{${ot(s)}}`:a?`{\\fontfamily{${n[0].style.fontFamily}} ${ot(s)}}`:r?`\\text{${ot(s)}}`:ot(s)})}var _H={roman:"","sans-serif":"ML__sans",monospace:"ML__tt"},oNe=class extends ds{constructor(){super("text")}createAtom(t,e,r){return e&&e.definitionType==="symbol"?new Ff(t,String.fromCodePoint(e.codepoint),r??{}):null}serialize(t,e){return aNe(t,W(U({},e),{defaultMode:"text"}),e.defaultMode!=="text")}getFont(t,e){var r,n,i,s,a;let{fontFamily:o}=e;if(_H[o]?t.classes+=" "+_H[o]:o&&t.setStyle("font-family",o),e.fontShape&&(t.classes+=" ",t.classes+=(r={it:"ML__it",sl:"ML__shape_sl",sc:"ML__shape_sc",ol:"ML__shape_ol"}[e.fontShape])!=null?r:""),e.fontSeries){let l=e.fontSeries.match(/(.?[lbm])?(.?[cx])?/);l&&(t.classes+=" ",t.classes+=(i={ul:"ML__series_ul",el:"ML__series_el",l:"ML__series_l",sl:"ML__series_sl",m:"",sb:"ML__series_sb",b:"ML__bold",eb:"ML__series_eb",ub:"ML__series_ub"}[(n=l[1])!=null?n:""])!=null?i:"",t.classes+=" ",t.classes+=(a={uc:"ML__series_uc",ec:"ML__series_ec",c:"ML__series_c",sc:"ML__series_sc",n:"",sx:"ML__series_sx",x:"ML__series_x",ex:"ML__series_ex",ux:"ML__series_ux"}[(s=l[2])!=null?s:""])!=null?a:"")}return"Main-Regular"}};new oNe;var lNe=class extends ds{constructor(){super("latex")}createAtom(t){return new an(t)}serialize(t,e){return t.filter(r=>r instanceof an&&!r.isSuggestion).map(r=>r.value)}getFont(){return null}};new lNe;var cNe={id:"dvorak",locale:"en",displayName:"Dvorak",virtualLayout:"dvorak",platform:"",score:0,mapping:{KeyA:["a","A","",""],KeyB:["x","X","",""],KeyC:["j","J","",""],KeyD:["e","E","",""],KeyE:[".",">","",""],KeyF:["u","U","",""],KeyG:["i","I","",""],KeyH:["d","D","",""],KeyI:["c","C","",""],KeyJ:["h","H","",""],KeyK:["t","T","",""],KeyL:["n","N","",""],KeyM:["m","M","",""],KeyN:["b","B","",""],KeyO:["r","R","",""],KeyP:["l","L","",""],KeyQ:["'",'"',"",""],KeyR:["p","P","",""],KeyS:["o","O","",""],KeyT:["y","Y","",""],KeyU:["g","G","",""],KeyV:["k","K","",""],KeyW:[",","<","",""],KeyX:["q","Q","",""],KeyY:["f","F","",""],KeyZ:[";",":","",""],Digit1:["1","!","",""],Digit2:["2","@","",""],Digit3:["3","#","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","^","",""],Digit7:["7","&","",""],Digit8:["8","*","",""],Digit9:["9","(","",""],Digit0:["0",")","",""],Space:[" "," "," "," "],Minus:["[","{","",""],Equal:["]","}","",""],BracketLeft:["/","?","",""],BracketRight:["=","+","",""],Backslash:["\\","|","",""],Semicolon:["s","S","",""],Quote:["-","_","",""],Backquote:["`","~","`","`"],Comma:["w","W","",""],Period:["v","V","",""],Slash:["z","Z","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["","","",""],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}},G9={id:"apple.en-intl",displayName:"English (international)",virtualLayout:"qwerty",platform:"apple",locale:"en",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","",""],Digit2:["2","@","",""],Digit3:["3","#","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","^","",""],Digit7:["7","&","",""],Digit8:["8","*","",""],Digit9:["9","(","",""],Digit0:["0",")","",""],Space:[" "," "," "," "],Minus:["-","_","",""],Equal:["=","+","",""],BracketLeft:["[","{","",""],BracketRight:["]","}","",""],Backslash:["\\","|","",""],Semicolon:[";",":","",""],Quote:["'",'"',"",""],Backquote:["`","","`","`"],Comma:[",","<","",""],Period:[".",">","",""],Slash:["/","?","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["","","",""],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}},Nre={id:"windows.en-intl",displayName:"English (international)",platform:"windows",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","",""],Digit2:["2","@","",""],Digit3:["3","#","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","^","",""],Digit7:["7","&","",""],Digit8:["8","*","",""],Digit9:["9","(","",""],Digit0:["0",")","",""],Space:[" "," ","",""],Minus:["-","_","",""],Equal:["=","+","",""],BracketLeft:["[","{","",""],BracketRight:["]","}","",""],Backslash:["\\","|","",""],Semicolon:[";",":","",""],Quote:["'",'"',"",""],Backquote:["`","~","",""],Comma:[",","<","",""],Period:[".",">","",""],Slash:["/","?","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\\","|","",""]}},jre={id:"linux.en",displayName:"English",platform:"linux",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","a","A"],KeyB:["b","B","b","B"],KeyC:["c","C","c","C"],KeyD:["d","D","d","D"],KeyE:["e","E","e","E"],KeyF:["f","F","f","F"],KeyG:["g","G","g","G"],KeyH:["h","H","h","H"],KeyI:["i","I","i","I"],KeyJ:["j","J","j","J"],KeyK:["k","K","k","K"],KeyL:["l","L","l","L"],KeyM:["m","M","m","M"],KeyN:["n","N","n","N"],KeyO:["o","O","o","O"],KeyP:["p","P","p","P"],KeyQ:["q","Q","q","Q"],KeyR:["r","R","r","R"],KeyS:["s","S","s","S"],KeyT:["t","T","t","T"],KeyU:["u","U","u","U"],KeyV:["v","V","v","V"],KeyW:["w","W","w","W"],KeyX:["x","X","x","X"],KeyY:["y","Y","y","Y"],KeyZ:["z","Z","z","Z"],Digit1:["1","!","1","!"],Digit2:["2","@","2","@"],Digit3:["3","#","3","#"],Digit4:["4","$","4","$"],Digit5:["5","%","5","%"],Digit6:["6","^","6","^"],Digit7:["7","&","7","&"],Digit8:["8","*","8","*"],Digit9:["9","(","9","("],Digit0:["0",")","0",")"],Space:[" "," "," "," "],Minus:["-","_","-","_"],Equal:["=","+","=","+"],BracketLeft:["[","{","[","{"],BracketRight:["]","}","]","}"],Backslash:["\\","|","\\","|"],Semicolon:[";",":",";",":"],Quote:["'",'"',"'",'"'],Backquote:["`","~","`","~"],Comma:[",","<",",","<"],Period:[".",">",".",">"],Slash:["/","?","/","?"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|",""],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}},uNe={id:"apple.french",locale:"fr",displayName:"French",platform:"apple",virtualLayout:"azerty",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","","|"],KeyM:[",","?","",""],KeyN:["n","N","~",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["","2","",""],Digit3:['"',"3","",""],Digit4:["'","4","",""],Digit5:["(","5","{","["],Digit6:["","6","",""],Digit7:["","7","",""],Digit8:["!","8","",""],Digit9:["","9","",""],Digit0:["","0","",""],Space:[" "," "," "," "],Minus:[")","","}","]"],Equal:["-","_","",""],BracketLeft:["^","","",""],BracketRight:["$","*","",""],Backslash:["`","","@","#"],Semicolon:["m","M","",""],Quote:["","%","",""],Backquote:["<",">","",""],Comma:[";",".","",""],Period:[":","/","","\\"],Slash:["=","+","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",".",",","."],IntlBackslash:["@","#","",""],NumpadEqual:["=","=","=","="]}},dNe={id:"windows.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"windows",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:[",","?","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{",""],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["","7","`",""],Digit8:["_","8","\\",""],Digit9:["","9","^",""],Digit0:["","0","@",""],Space:[" "," ","",""],Minus:[")","","]",""],Equal:["=","+","}",""],BracketLeft:["^","","",""],BracketRight:["$","","",""],Backslash:["*","","",""],Semicolon:["m","M","",""],Quote:["","%","",""],Backquote:["","","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}},hNe={id:"linux.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"linux",score:0,mapping:{KeyA:["q","Q","@",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","","&"],KeyL:["l","L","",""],KeyM:[",","?","",""],KeyN:["n","N","n","N"],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","","<"],KeyX:["x","X","",">"],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{","$"],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["","7","`",""],Digit8:["_","8","\\",""],Digit9:["","9","^",""],Digit0:["","0","@",""],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:[")","","]",""],Equal:["=","+","}",""],BracketLeft:["","","",""],BracketRight:["$","","",""],Backslash:["*","","",""],Semicolon:["m","M","",""],Quote:["","%","",""],Backquote:["","~","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","","",""],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|",""]}},ANe={id:"apple.german",locale:"de",displayName:"German",virtualLayout:"qwertz",platform:"apple",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","@",""],KeyM:["m","M","",""],KeyN:["n","N","~",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"",""],Digit3:["3","","","#"],Digit4:["4","$","",""],Digit5:["5","%","[",""],Digit6:["6","&","]","^"],Digit7:["7","/","|","\\"],Digit8:["8","(","{",""],Digit9:["9",")","}",""],Digit0:["0","=","",""],Space:[" "," "," "," "],Minus:["","?","",""],Equal:["","`","'",""],BracketLeft:["","","",""],BracketRight:["+","*","",""],Backslash:["#","'","",""],Semicolon:["","","",""],Quote:["","","",""],Backquote:["<",">","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",",",".","."],IntlBackslash:["^","","",""],NumpadEqual:["=","=","=","="]}},fNe={id:"windows.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"",""],Digit3:["3","","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","=","}",""],Space:[" "," ","",""],Minus:["","?","\\",""],Equal:["","`","",""],BracketLeft:["","","",""],BracketRight:["+","*","~",""],Backslash:["#","'","",""],Semicolon:["","","",""],Quote:["","","",""],Backquote:["^","","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","|",""]}},pNe={id:"linux.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","","&"],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"",""],Digit3:["3","","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","=","}",""],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:["","?","\\",""],Equal:["","","",""],BracketLeft:["","","",""],BracketRight:["+","*","~",""],Backslash:["#","'","",""],Semicolon:["","","",""],Quote:["","","",""],Backquote:["","","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],PrintScreen:["","","",""],PageUp:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",",","",","],IntlBackslash:["<",">","|",""],AltRight:["\r","\r","\r","\r"],MetaRight:[".",".",".","."]}},mNe={id:"apple.spanish",locale:"es",displayName:"Spanish ISO",platform:"apple",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C",""," "],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H",""," "],KeyI:["i","I"," "," "],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L"," ",""],KeyM:["m","M","",""],KeyN:["n","N"," ",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R",""," "],KeyS:["s","S",""," "],KeyT:["t","T","",""],KeyU:["u","U"," "," "],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y",""," "],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","","#",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","&",""," "],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","=","",""],Space:[" "," "," "," "],Minus:["'","?","",""],Equal:["","","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["","","}",""],Semicolon:["","","~",""],Quote:["","","{",""],Backquote:["<",">","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[",",",",",",","],IntlBackslash:["","","\\",""]}},gNe={id:"windows.spanish",locale:"es",displayName:"Spanish",platform:"windows",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","","#",""],Digit4:["4","$","~",""],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","=","",""],Space:[" "," ","",""],Minus:["'","?","",""],Equal:["","","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["","","}",""],Semicolon:["","","",""],Quote:["","","{",""],Backquote:["","","\\",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}},yNe={id:"linux.spanish",locale:"es",displayName:"Spanish",platform:"linux",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","","&"],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","n","N"],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",">"],KeyY:["y","Y","",""],KeyZ:["z","Z","","<"],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","","#",""],Digit4:["4","$","~","$"],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","=","}",""],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:["'","?","\\",""],Equal:["","","","~"],BracketLeft:["","","[",""],BracketRight:["+","*","]",""],Backslash:["","","}",""],Semicolon:["","","~",""],Quote:["","","{","{"],Backquote:["","","\\","\\"],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadEnter:["\r","\r","\r","\r"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|",""],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}};function Ire(t){let e=t.split("+"),r={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:e.pop()};return e.includes("shift")&&(r.shift=!0),e.includes("alt")&&(r.alt=!0),e.includes("ctrl")&&(r.ctrl=!0),e.includes("cmd")&&(r.cmd=!0),e.includes("win")&&(r.win=!0),e.includes("meta")&&(r.meta=!0),r}function tA(t){let e="";return t.shift&&(e+="shift+"),t.alt&&(e+="alt+"),t.ctrl&&(e+="ctrl+"),t.cmd&&(e+="cmd+"),t.win&&(e+="win+"),t.meta&&(e+="meta+"),e+t.key}var vNe={enter:"[Enter]",escape:"[Escape]",backspace:"[Backspace]",tab:"[Tab]",space:"[Space]",pausebreak:"[Pause]",insert:"[Insert]",home:"[Home]",pageup:"[PageUp]",delete:"[Delete]",end:"[End]",pagedown:"[PageDown]",right:"[ArrowRight]",left:"[ArrowLeft]",down:"[ArrowDown]",up:"[ArrowUp]",numpad0:"[Numpad0]",numpad1:"[Numpad1]",numpad2:"[Numpad2]",numpad3:"[Numpad3]",numpad4:"[Numpad4]",numpad5:"[Numpad5]",numpad6:"[Numpad6]",numpad7:"[Numpad7]",numpad8:"[Numpad8]",numpad9:"[Numpad9]",numpad_divide:"[NumpadDivide]",numpad_multiply:"[NumpadMultiply]",numpad_subtract:"[NumpadSubtract]",numpad_add:"[NumpadAdd]",numpad_decimal:"[NumpadDecimal]",numpad_separator:"[NumpadComma]",capslock:"[Capslock]",f1:"[F1]",f2:"[F2]",f3:"[F3]",f4:"[F4]",f5:"[F5]",f6:"[F6]",f7:"[F7]",f8:"[F8]",f9:"[F9]",f10:"[F10]",f11:"[F11]",f12:"[F12]",f13:"[F13]",f14:"[F14]",f15:"[F15]",f16:"[F16]",f17:"[F17]",f18:"[F18]",f19:"[F19]"},S3=[];function GF(){switch(Mf()){case"macos":case"ios":return"apple";case"windows":return"windows"}return"linux"}function ns(t){(!t.platform||t.platform===GF())&&S3.push(t)}function xNe(t,e){var r;let n={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:""};if(!t)return n;for(let[i,s]of Object.entries(e.mapping)){if(s[0]===t)return n.key=`[${i}]`,n;if(s[1]===t)return n.shift=!0,n.key=`[${i}]`,n;if(s[2]===t)return n.alt=!0,n.key=`[${i}]`,n;if(s[3]===t)return n.shift=!0,n.alt=!0,n.key=`[${i}]`,n}return n.key=(r=vNe[t])!=null?r:"",n}function bNe(t){if(t.code)return t;let e=Object.entries(i1().mapping),r=!1,n=!1,i="";for(let s=0;s<4;s++){for(let[a,o]of e)if(o[s]===t.key){i=a,s===3?(r=!0,n=!0):s===2?r=!0:s===1&&(n=!0);break}if(i)break}return new KeyboardEvent(t.type,W(U({},t),{altKey:r,shiftKey:n,code:i}))}function wNe(t){var e,r;if(!t||t.key==="Unidentified"||t.key==="Dead")return;let n=t.shiftKey&&t.altKey?3:t.altKey?2:t.shiftKey?1:0;for(let i of S3)((e=i.mapping[t.code])==null?void 0:e[n])===t.key?i.score+=1:(r=i.mapping[t.code])!=null&&r[n]&&(i.score=0);S3.sort((i,s)=>s.score-i.score)}function i1(){return S3[0]}function CNe(){switch(GF()){case"apple":return G9;case"windows":return Nre;case"linux":return jre}return G9}switch(GF()){case"apple":ns(G9),ns(uNe),ns(mNe),ns(ANe);break;case"windows":ns(Nre),ns(dNe),ns(gNe),ns(fNe);break;case"linux":ns(jre),ns(hNe),ns(yNe),ns(pNe);break}ns(cNe);function XF(t){var e;let r=/macos|ios/.test(Mf()),n=t.split("+"),i="";for(let s of n)i&&(i+=r?"":'<span class="ML__shortcut-join">+</span>'),s.startsWith("[Key")?i+=s.slice(4,5):s.startsWith("Key")?i+=s.slice(3,4):s.startsWith("[Digit")?i+=s.slice(6,7):s.startsWith("Digit")?i+=s.slice(5,6):i+=(e={cmd:"",meta:r?"":"Ctrl",shift:r?"":"Shift",alt:r?"":"Alt",ctrl:r?"":"Ctrl","\n":r?"":"Return","[return]":r?"":"Return","[enter]":r?"":"Enter","[tab]":r?"":"Tab","[escape]":"Esc","[backspace]":r?"":"Backspace","[delete]":r?"":"Del","[pageup]":r?"":"Page Up","[pagedown]":r?"":"Page Down","[home]":r?"":"Home","[end]":r?"":"End","[space]":"Space","[equal]":"=","[minus]":"-","[comma]":",","[slash]":"/","[backslash]":"\\","[bracketleft]":"[","[bracketright]":"]",semicolon:";",period:".",comma:",",minus:"-",equal:"=",quote:"'",backslash:"\\",intlbackslash:"\\",backquote:"`",slash:"/",numpadmultiply:"* &#128290;",numpaddivide:"/ &#128290;",numpadsubtract:"- &#128290;",numpadadd:"+ &#128290;",numpaddecimal:". &#128290;",numpadcomma:", &#128290;",help:"help",left:"",up:"",right:"",down:"","[arrowleft]":"","[arrowup]":"","[arrowright]":"","[arrowdown]":""}[s.toLowerCase()])!=null?e:s.toUpperCase();return i}function B3(t){if(t instanceof MouseEvent||t instanceof PointerEvent)return{x:t.clientX,y:t.clientY};if(typeof TouchEvent<"u"&&t instanceof TouchEvent){let e=[...t.touches].reduce((n,i)=>({x:n.x+i.clientX,y:n.y+i.clientY}),{x:0,y:0}),r=t.touches.length;return{x:e.x/r,y:e.y/r}}}function Kd(t){let e={alt:!1,control:!1,shift:!1,meta:!1};return(t instanceof MouseEvent||t instanceof PointerEvent||typeof TouchEvent<"u"&&t instanceof TouchEvent||t instanceof KeyboardEvent)&&(t.altKey&&(e.alt=!0),t.ctrlKey&&(e.control=!0),t.metaKey&&(e.meta=!0),t.shiftKey&&(e.shift=!0)),e}function SNe(t,e){return!t&&e||t&&!e?!1:!t||!e?!0:t.alt===e.alt&&t.control===e.control&&t.shift===e.shift&&t.meta===e.meta}var BNe=new Set(["Backquote","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Minus","Equal","IntlYen","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","IntlBackslash","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","IntlRo","Space","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadAdd","NumpadComma","NumpadDecimal","NumpadDivide","NumpadEqual","NumpadHash","NumpadMultiply","NumpadParenLeft","NumpadParenRight","NumpadStar","NumpadSubstract"]);function F5(t){return t.ctrlKey||t.metaKey||["Dead","Process"].includes(t.key)?!1:t.code===""?!0:BNe.has(t.code)}function _3(){var t;let e=document.activeElement;for(;(t=e==null?void 0:e.shadowRoot)!=null&&t.activeElement;)e=e.shadowRoot.activeElement;return e}var Ca=class rl{static get scrim(){return rl._scrim||(rl._scrim=new rl),rl._scrim}static open(e){rl.scrim.open(e)}static close(){rl.scrim.close()}static get state(){return rl.scrim.state}static get element(){return rl.scrim.element}constructor(e){var r,n;this.lightDismiss=(r=e==null?void 0:e.lightDismiss)!=null?r:!0,this.translucent=(n=e==null?void 0:e.translucent)!=null?n:!1,this.state="closed"}get element(){if(this._element)return this._element;let e=document.createElement("div");return e.setAttribute("role","presentation"),e.style.position="fixed",e.style.contain="content",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.zIndex="var(--scrim-zindex, 10099)",e.style.outline="none",this.translucent?(e.style.background="rgba(255, 255, 255, .2)",e.style.backdropFilter="contrast(40%)"):e.style.background="transparent",this._element=e,e}open(e){var r;if(this.state!=="closed")return;this.state="opening",this.onDismiss=e==null?void 0:e.onDismiss,this.savedActiveElement=_3();let{element:n}=this;((r=e==null?void 0:e.root)!=null?r:document.body).appendChild(n),n.addEventListener("click",this),document.addEventListener("touchmove",this,!1),document.addEventListener("scroll",this,!1);let i=window.innerWidth-document.documentElement.clientWidth;this.savedMarginRight=document.body.style.marginRight,this.savedOverflow=document.body.style.overflow,document.body.style.overflow="hidden";let s=Number.parseFloat(getComputedStyle(document.body).marginRight);document.body.style.marginRight=`${s+i}px`,e!=null&&e.child&&n.append(e.child),this.state="open"}close(){var e,r,n,i;if(this.state!=="open"){this.element.parentElement;return}this.state="closing",typeof this.onDismiss=="function"&&this.onDismiss(),this.onDismiss=void 0;let{element:s}=this;s.removeEventListener("click",this),document.removeEventListener("touchmove",this,!1),document.removeEventListener("scroll",this,!1),s.remove(),document.body.style.overflow=(e=this.savedOverflow)!=null?e:"",document.body.style.marginRight=(r=this.savedMarginRight)!=null?r:"",_3()!==this.savedActiveElement&&((i=(n=this.savedActiveElement)==null?void 0:n.focus)==null||i.call(n)),s.innerHTML="",this.state="closed"}handleEvent(e){this.lightDismiss&&(e.target===this._element&&e.type==="click"?(this.close(),e.preventDefault(),e.stopPropagation()):e.target===document&&(e.type==="touchmove"||e.type==="scroll")&&(this.close(),e.preventDefault(),e.stopPropagation()))}};function _Ne(t,e,r){let n=null,i=null,s=!1,a=!1,o=!1,l=new AbortController,c=l.signal;return t.addEventListener("keydown",u=>{if(s||u.key==="Process"||u.code==="CapsLock"||/(Control|Meta|Alt|Shift)(Left|Right)/.test(u.code)){n=null;return}n=u,i=null,r.onKeystroke(u)?t.textContent="":n=null},{capture:!0,signal:c}),t.addEventListener("keypress",u=>{s||(n&&i&&r.onKeystroke(n),i=u)},{capture:!0,signal:c}),t.addEventListener("compositionstart",u=>{t.textContent="",s=!0,r.onCompositionStart(u.data)},{capture:!0,signal:c}),t.addEventListener("compositionupdate",u=>{s&&r.onCompositionUpdate(u.data)},{capture:!0,signal:c}),t.addEventListener("compositionend",u=>{t.textContent="",s&&(s=!1,r.onCompositionEnd(u.data))},{capture:!0,signal:c}),t.addEventListener("beforeinput",u=>u.stopImmediatePropagation(),{signal:c}),t.addEventListener("input",u=>{var d;if(!s&&(t.textContent="",u.inputType!=="insertCompositionText")){if(u.inputType==="insertFromPaste"){u.preventDefault(),u.stopPropagation();return}r.onInput((d=u.data)!=null?d:""),u.preventDefault(),u.stopPropagation()}},{signal:c}),t.addEventListener("paste",u=>{t.focus({preventScroll:!0}),t.textContent="",r.onPaste(u)||u.preventDefault(),u.stopImmediatePropagation()},{signal:c}),t.addEventListener("cut",u=>r.onCut(u),{capture:!0,signal:c}),t.addEventListener("copy",u=>r.onCopy(u),{capture:!0,signal:c}),t.addEventListener("blur",u=>{var d,A;if(((A=(d=u.relatedTarget)==null?void 0:d._mathfield)==null?void 0:A.element)===e){t.focus({preventScroll:!0}),u.preventDefault(),u.stopPropagation();return}let f=!1,p=u.relatedTarget;for(;p;){if(p.classList.contains("ML__keyboard")){f=!0;break}p=p.parentElement}if(f){t.focus({preventScroll:!0}),u.preventDefault(),u.stopPropagation();return}let m=Ca.state;if(m==="open"||m==="opening"){u.preventDefault(),u.stopPropagation();return}if(u.relatedTarget===u.target.getRootNode().host){u.preventDefault(),u.stopPropagation();return}o||a||(o=!0,n=null,i=null,r.onBlur(),o=!1)},{capture:!0,signal:c}),t.addEventListener("focus",u=>{o||a||(a=!0,r.onFocus(),a=!1)},{capture:!0,signal:c}),{dispose:()=>l.abort(),cancelComposition:()=>{s&&(t.blur(),requestAnimationFrame(()=>t.focus({preventScroll:!0})))},blur:()=>{typeof t.blur=="function"&&t.blur()},focus:()=>{!a&&typeof t.focus=="function"&&t.focus({preventScroll:!0})},hasFocus:()=>_3()===t,setAriaLabel:u=>t.setAttribute("aria-label",u),setValue:u=>{var d;t.textContent!==u&&(t.textContent=u,t.style.left="-1000px",(d=window.getSelection())==null||d.selectAllChildren(t))},moveTo:(u,d)=>{t.style.top=`${d}px`,t.style.left=`${u}px`}}}function k0(t){var e;if(!t||!F5(t))return"";let r;return t.key==="Unidentified"&&t.target&&(r=t.target.value),r=(e=r??t.key)!=null?e:t.code,/^(Dead|Return|Enter|Tab|Escape|Delete|PageUp|PageDown|Home|End|Help|ArrowLeft|ArrowRight|ArrowUp|ArrowDown)$/.test(r)&&(r=""),r}function Ore(t){t=bNe(t);let e=[];return t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),t.altKey&&e.push("alt"),t.shiftKey&&e.push("shift"),e.length===0?`[${t.code}]`:(e.push(`[${t.code}]`),e.join("+"))}function kNe(t){if(ia()){let e=Mf(),r=t.startsWith("!"),n=t.endsWith(e);if(r&&!n||!r&&n)return!0}return t==="!other"?!1:t==="other"}function ENe(t,e,r){if(t.length===0)return"";let n=tA(Ire(Ore(r))),i=tA({key:r.key,shift:r.shiftKey,alt:r.altKey,ctrl:r.ctrlKey,meta:r.metaKey||r.ctrlKey&&/macos|ios/.test(Mf()),cmd:!1,win:!1});for(let s=t.length-1;s>=0;s--)if((t[s].key===n||t[s].key===i)&&(!t[s].ifMode||t[s].ifMode===e))return t[s].command;return""}function kH(t){let e=t;return bn(e)&&(e=e.length>0?e[0]+"("+e.slice(1).join("")+")":""),e}function MNe(t,e){let r=[];if(typeof e=="string"){let s=cLe[e];bn(s)?r=s.slice():s&&r.push(s)}let n=kH(e),i=new RegExp("^"+n.replace("\\","\\\\").replace("|","\\|").replace("*","\\*").replace("$","\\$").replace("^","\\^")+"([^*a-zA-Z]|$)");for(let s of t)i.test(kH(s.command))&&r.push(s.key);return r.map(XF)}function FNe(t,e){if(t.ifPlatform&&!/^!?(macos|windows|android|ios|chromeos|other)$/.test(t.ifPlatform))throw new Error(`Unexpected platform "${t.ifPlatform}" for keybinding ${t.key}`);if(t.ifLayout!==void 0&&(e.score===0||!t.ifLayout.includes(e.id)))return;let r=Ire(t.key),n=t.ifPlatform;if(r.cmd){if(n&&n!=="macos"&&n!=="ios")throw new Error('Unexpected "cmd" modifier with platform "'+n+`"
"cmd" modifier can only be used with macOS or iOS platform.`);n||(n=Mf()==="ios"?"ios":"macos"),r.win=!1,r.cmd=!1,r.meta=!0}if(r.win){if(n&&n!=="windows")throw new Error('Unexpected "win" modifier with platform "'+n+`"
"win" modifier can only be used with Windows platform.`);n="windows",r.win=!1,r.cmd=!1,r.meta=!0}if(n&&!kNe(n))return;if(/^\[.+\]$/.test(r.key))return W(U({},t),{key:tA(r)});let i=xNe(r.key,e);if(!i)return W(U({},t),{key:tA(r)});if(i.shift&&r.shift||i.alt&&r.alt)throw new Error(`The keybinding ${t.key} (${X9(t.command)}) is conflicting with the key combination ${tA(i)} using the ${e.displayName} keyboard layout`);return i.shift=i.shift||r.shift,i.alt=i.alt||r.alt,i.meta=r.meta,i.ctrl=r.ctrl,W(U({},t),{key:tA(i)})}function X9(t){if(Array.isArray(t)){let e=[...t];return e.shift()+"("+e.map(r=>typeof r=="string"?`"${r}"`:r.toString()).join(", ")+")"}return t}function TNe(t,e){let r=[],n=[];for(let i of t)try{let s=FNe(i,e);if(!s)continue;let a=n.find(o=>o.key===s.key&&o.ifMode===s.ifMode);if(a)throw new Error(`Ambiguous key binding ${i.key} (${X9(i.command)}) matches ${a.key} (${X9(a.command)}) with the ${e.displayName} keyboard layout`);n.push(s)}catch(s){s instanceof Error&&r.push(s.message)}return[n,r]}var DNe=class extends Qt{constructor(){super("latex")}createAtom(t){return new an(t)}onPaste(t,e){if(!e)return!1;let r=typeof e=="string"?e:e.getData("application/x-latex")||e.getData("text/plain");return r&&t.model.contentWillChange({inputType:"insertFromPaste",data:r})?(t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,r)&&(t.startRecording(),t.snapshot("paste"),t.model.contentDidChange({inputType:"insertFromPaste"}),tr(t)),t.startRecording(),!0):!1}insert(t,e,r){if(!t.contentWillChange({data:e,inputType:"insertText"}))return!1;r||(r={}),r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder");let{silenceNotifications:n}=t;r.silenceNotifications&&(t.silenceNotifications=!0);let i=t.silenceNotifications;t.silenceNotifications=!0,r.insertionMode==="replaceSelection"&&!t.selectionIsCollapsed?t.deleteAtoms(jn(t.selection)):r.insertionMode==="replaceAll"?(t.root.setChildren([],"body"),t.position=0):r.insertionMode==="insertBefore"?t.collapseSelection("backward"):r.insertionMode==="insertAfter"&&t.collapseSelection("forward");let s=[];for(let l of e)FDe.test(l)&&s.push(new an(l));let a=t.at(t.position);if(a instanceof Vm&&(a=a.lastChild),!(a.parent instanceof Vm)){let l=new Vm;a.parent.addChildAfter(l,a),a=l.firstChild}let o=a.parent.addChildrenAfter(s,a);return t.silenceNotifications=i,r.selectionMode==="before"||(r.selectionMode==="item"?t.setSelection(t.anchor,t.offsetOf(o)):o&&(t.position=t.offsetOf(o))),t.contentDidChange({data:e,inputType:"insertText"}),t.silenceNotifications=n,!0}};function YF(t){return t.atoms.find(e=>e.type==="latexgroup")}function k3(t){var e,r;let n=YF(t);return(r=(e=n==null?void 0:n.body)==null?void 0:e.filter(i=>i.type==="latex"))!=null?r:[]}function Pre(t,e){var r;let n=0,i=!1,s=Number.isFinite(e==null?void 0:e.before)?(r=e==null?void 0:e.before)!=null?r:0:t.lastOffset;for(;n<=s&&!i;){let l=t.at(n);i=l instanceof an&&l.isSuggestion,i||n++}if(!i)return[void 0,void 0];let a=n,o=!1;for(;a<=s&&!o;){let l=t.at(a);o=!(l instanceof an&&l.isSuggestion),o||a++}return[n-1,a-1]}new DNe;function LNe(t,e){t.flushInlineShortcutBuffer(),t.stopCoalescingUndo();let r=Y9(t,e),{model:n}=t;return n.selectionIsCollapsed?(t.defaultStyle.fontSeries&&r.fontSeries===t.defaultStyle.fontSeries&&(r.fontSeries="auto"),r.fontShape&&r.fontShape===t.defaultStyle.fontShape&&(r.fontShape="auto"),r.color&&r.color===t.defaultStyle.color&&(r.color="none"),r.backgroundColor&&r.backgroundColor===t.defaultStyle.backgroundColor&&(r.backgroundColor="none"),r.fontSize&&r.fontSize===t.defaultStyle.fontSize&&(r.fontSize="auto"),t.defaultStyle=U(U({},t.defaultStyle),r)):t.model.deferNotifications({content:!0,type:"insertText"},()=>{n.selection.ranges.forEach(i=>q9(n,i,r,{operation:"toggle"})),t.snapshot("style-change")}),!0}bi({applyStyle:LNe},{target:"mathfield",canUndo:!0,changeContent:!0});function Y9(t,e){var r,n,i,s,a,o,l,c,u,d;let A={};if(typeof e.color=="string"){let p=(n=t.colorMap((r=e.color)!=null?r:e.verbatimColor))!=null?n:"none";p!==e.color&&(A.verbatimColor=(i=e.verbatimColor)!=null?i:e.color),A.color=p}if(typeof e.backgroundColor=="string"){let p=(a=t.backgroundColorMap((s=e.backgroundColor)!=null?s:e.verbatimBackgroundColor))!=null?a:"none";p!==e.backgroundColor&&(A.verbatimBackgroundColor=(o=e.verbatimBackgroundColor)!=null?o:e.backgroundColor),A.backgroundColor=p}typeof e.fontFamily=="string"&&(A.fontFamily=e.fontFamily),typeof e.series=="string"&&(A.fontSeries=e.series),typeof e.fontSeries=="string"&&(A.fontSeries=e.fontSeries.toLowerCase()),A.fontSeries&&(A.fontSeries=(l={bold:"b",medium:"m",normal:"m"}[A.fontSeries])!=null?l:A.fontSeries),typeof e.shape=="string"&&(A.fontShape=e.shape),typeof e.fontShape=="string"&&(A.fontShape=e.fontShape.toLowerCase()),A.fontShape&&(A.fontShape=(c={italic:"it",up:"n",upright:"n",normal:"n"}[A.fontShape])!=null?c:A.fontShape),e.variant&&(A.variant=e.variant.toLowerCase()),e.variantStyle&&(A.variantStyle=e.variantStyle.toLowerCase());let f=(u=e.size)!=null?u:e.fontSize;return typeof f=="number"?A.fontSize=Math.max(1,Math.min(10,f)):typeof f=="string"&&(A.fontSize=(d={size1:1,size2:2,size3:3,size4:4,size5:5,size6:6,size7:7,size8:8,size9:9,size10:10}[f.toLowerCase()])!=null?d:{tiny:1,scriptsize:2,footnotesize:3,small:4,normal:5,normalsize:5,large:6,Large:7,LARGE:8,huge:9,Huge:10}[f]),A}function JF(t,e,r){var n,i;let s=t.model;if(s.mode==="latex")return{};let a=t.styleBias;if(a==="none")return t.defaultStyle;if(s.mode==="text")return(i=(n=s.at(a==="right"?r.after:r.before))==null?void 0:n.style)!=null?i:t.defaultStyle;if(s.mode==="math"){let o=s.at(a==="right"?r.after:r.before);return o?W(U({},o.style),{variant:"normal"}):t.defaultStyle}return{}}function ZA(t){let e=t.options.onInsertStyle;if(e===null)return{};e===void 0&&(e=JF);let r=t.model,n=t.styleBias,i=r.at(r.position),s=EH(r,i,n),a=EH(r,i.rightSibling,n);return e(t,r.position,{before:s,after:a})}function EH(t,e,r){var n;return!e||e.type==="first"&&r!=="right"?-1:e.type!=="group"?t.offsetOf(e):!e.body||e.body.length<2?-1:((n=e.body)==null?void 0:n.length)===1||r!=="right"?t.offsetOf(e.body[0]):t.offsetOf(e.body[e.body.length-1])}function T5(t){let e=k3(t.model).filter(r=>r.isSuggestion);if(e.length!==0){t.model.position=t.model.offsetOf(e[0].leftSibling);for(let r of e)r.parent.removeChild(r)}}function Y1(t,e){var r;let{model:n}=t;T5(t);for(let u of k3(n))u.isError=!1;if(!n.selectionIsCollapsed||t.options.popoverPolicy==="off"){tf(t);return}let i=[],s=n.at(n.position);for(;s&&s instanceof an&&/^[a-zA-Z\*]$/.test(s.value);)s=s.leftSibling;if(s&&s instanceof an&&s.value==="\\")for(i.push(s),s=s.rightSibling;s&&s instanceof an&&/^[a-zA-Z\*]$/.test(s.value);)i.push(s),s=s.rightSibling;let a=i.map(u=>u.value).join(""),o=DDe(t,a);if(o.length===0){if(/^\\[a-zA-Z\*]+$/.test(a))for(let u of i)u.isError=!0;tf(t);return}let l=(r=e==null?void 0:e.atIndex)!=null?r:0;t.suggestionIndex=l<0?o.length-1:l%o.length;let c=o[t.suggestionIndex];if(c!==a){let u=i[i.length-1];u.parent.addChildrenAfter([...c.slice(a.length-c.length)].map(d=>new an(d,{isSuggestion:!0})),u),ih(t,{interactive:!0})}jNe(t,o)}function MH(t){let[e,r]=Pre(t,{before:t.position});if(e===void 0||r===void 0)return!1;let n=!1;return t.getAtoms([e,r]).forEach(i=>{i.isSuggestion&&(i.isSuggestion=!1,n=!0)}),n}function ef(t,e="accept",r){var n,i;tf(t);let s=YF(t.model);if(!s)return!1;if(e==="accept-suggestion"||e==="accept-all"){let c=k3(t.model).filter(u=>u.isSuggestion);if(c.length!==0){for(let u of c)u.isSuggestion=!1;t.model.position=t.model.offsetOf(c[c.length-1])}if(e==="accept-suggestion")return c.length!==0}let a=k3(t.model).filter(c=>!c.isSuggestion).map(c=>c.value).join(""),o=s.leftSibling;if(s.parent.removeChild(s),t.model.position=t.model.offsetOf(o),t.switchMode((n=r==null?void 0:r.mode)!=null?n:"math"),e==="reject")return!0;let l=U({},ZA(t));return!/^[a-zA-Z0-9]$/.test(a)&&t.styleBias!=="none"&&(l.variant="normal",l.variantStyle=void 0),Qt.insert(t.model,a,{selectionMode:(i=r==null?void 0:r.selectItem)!=null&&i?"item":"placeholder",format:"latex",mode:"math",style:l}),t.snapshot(),t.model.announce("replacement"),t.switchMode("math"),!0}function D5(t){var e;let r=document.getElementById(t);return r?r.dataset.refcount=Number(Number.parseInt((e=r.dataset.refcount)!=null?e:"0")+1).toString():(r=document.createElement("div"),r.setAttribute("aria-hidden","true"),r.dataset.refcount="1",r.id=t,document.body.append(r)),r}function ZF(t){var e;let r=document.getElementById(t);if(!r)return;let n=Number.parseInt((e=r.getAttribute("data-refcount"))!=null?e:"0");n<=1?r.remove():r.dataset.refcount=Number(n-1).toString()}function NNe(t,e){let r=new pt({from:t.context}),n=new se({mode:"math",type:"root",body:Ys(e,{context:r})}),i=w5(X1(new ge(n.render(r),{classes:"ML__base"}),r));return C5(i,{classes:"ML__latex"}).toMarkup()}function jNe(t,e){var r;if(e.length===0){tf(t);return}let n="";for(let[s,a]of e.entries()){let o=a,l=NNe(t,a),c=MNe(t.keybindings,o).join("<br>");n+=`<li role="button" data-command="${o}" ${s===t.suggestionIndex?"class=ML__popover__current":""}><span class="ML__popover__latex">${o}</span><span class="ML__popover__command">${l}</span>`,c&&(n+=`<span class="ML__popover__keybinding">${c}</span>`),n+="</li>"}let i=INe(t,`<ul>${n}</ul>`);J9()&&((r=i.querySelector(".ML__popover__current"))==null||r.scrollIntoView({block:"nearest",inline:"nearest"})),setTimeout(()=>{var s;i&&!J9()&&(i.classList.add("is-visible"),L5(t),(s=i.querySelector(".ML__popover__current"))==null||s.scrollIntoView({block:"nearest",inline:"nearest"}))},32)}function J9(){let t=document.getElementById("mathlive-suggestion-popover");return t?t.classList.contains("is-visible"):!1}function L5(t,e){var r,n,i;if(!t.element||t.element.mathfield!==t||!J9())return;if(((r=t.model.at(t.model.position))==null?void 0:r.type)!=="latex"){tf(t);return}if(e!=null&&e.deferred){setTimeout(()=>L5(t),32);return}let s=_x(t.field);if(!s)return;let a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=window.innerWidth-document.documentElement.clientWidth,c=window.innerHeight-document.documentElement.clientHeight,u=(i=(n=window.mathVirtualKeyboard)==null?void 0:n.boundingRect.height)!=null?i:0,d=document.getElementById("mathlive-suggestion-popover");s.x+d.offsetWidth/2>o-l?d.style.left=`${o-d.offsetWidth-l}px`:s.x-d.offsetWidth/2<0?d.style.left="0":d.style.left=`${s.x-d.offsetWidth/2}px`;let A=s.y-s.height;a-c-u-s.y<A?(d.classList.add("ML__popover--reverse-direction"),d.classList.remove("top-tip"),d.classList.add("bottom-tip"),d.style.top=`${s.y-s.height-d.offsetHeight-15}px`):(d.classList.remove("ML__popover--reverse-direction"),d.classList.add("top-tip"),d.classList.remove("bottom-tip"),d.style.top=`${s.y+15}px`)}function tf(t){t.suggestionIndex=0;let e=document.getElementById("mathlive-suggestion-popover");e&&(e.classList.remove("is-visible"),e.innerHTML="")}function INe(t,e){let r=document.getElementById("mathlive-suggestion-popover");return r||(r=D5("mathlive-suggestion-popover"),Fu("suggestion-popover"),Fu("core"),r.addEventListener("pointerdown",n=>n.preventDefault()),r.addEventListener("click",n=>{let i=n.target;for(;i&&!i.dataset.command;)i=i.parentElement;i&&(ef(t,"reject"),Qt.insert(t.model,i.dataset.command,{selectionMode:"placeholder",format:"latex",mode:"math"}),t.dirty=!0,t.focus())})),r.innerHTML=globalThis.MathfieldElement.createHTML(e),r}function ONe(){document.getElementById("mathlive-suggestion-popover")&&(ZF("mathlive-suggestion-popover"),Tu("suggestion-popover"),Tu("core"))}function PNe(){let t=String(new Error().stack).replace(/^Error.*\n/,"").split(`
`);if(t.length===0)return console.error(`Can't use relative paths to specify assets location because the sourcefile location could not be determined (unexpected stack trace format "${new Error().stack}").`),"";let e=t[1],r=e.match(/http.*\.ts[\?:]/);return r&&(e=t[2]),r=e.match(/(https?:.*):[0-9]+:[0-9]+/),r||(r=e.match(/at (.*(\.ts))[\?:]/),r||(r=e.match(/at (.*(\.mjs|\.js))[\?:]/))),r?r[1]:(console.error(t),console.error(`Can't use relative paths to specify assets location because the source file location could not be determined (unexpected location "${e}").`),"")}var kv=null,FH,TH,Y7=((TH=(FH=globalThis==null?void 0:globalThis.document)==null?void 0:FH.currentScript)==null?void 0:TH.src)||PNe();async function Ure(t){if(/^(?:[a-z+]+:)?\/\//i.test(t)){try{return new URL(t).href}catch{}if(t.startsWith("//"))try{return new URL(`${window.location.protocol}${t}`).href}catch{}return t}if(kv===null)try{let e=await fetch(Y7,{method:"HEAD"});e.status===200&&(kv=e.url)}catch{console.error(`Invalid URL "${t}" (relative to "${Y7}")`)}return new URL(t,kv??Y7).href}function UNe(t,e,r={}){return new FontFace(t,`url(${e}.woff2) format('woff2')`,r)}var ls="not-loaded";async function QNe(){return ls="not-loaded",eT()}async function eT(){var t;if(ls==="not-loaded"){if(ls="loading",(t=getComputedStyle(document.documentElement).getPropertyValue("--ML__static-fonts"))!=null?t:!1){ls="ready";return}if(document.body.classList.remove("ML__fonts-did-not-load"),"fonts"in document){let e=["KaTeX_Main","KaTeX_Math","KaTeX_AMS","KaTeX_Caligraphic","KaTeX_Fraktur","KaTeX_SansSerif","KaTeX_Script","KaTeX_Typewriter","KaTeX_Size1","KaTeX_Size2","KaTeX_Size3","KaTeX_Size4"],r=Array.from(document.fonts).map(s=>s.family);if(e.every(s=>r.includes(s))){ls="ready";return}if(!globalThis.MathfieldElement.fontsDirectory){ls="not-loaded";return}let n=await Ure(globalThis.MathfieldElement.fontsDirectory);if(!n){document.body.classList.add("ML__fonts-did-not-load"),ls="error";return}let i=[["KaTeX_Main-Regular"],["KaTeX_Main-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_Main-Bold",{weight:"bold"}],["KaTeX_Main-Italic",{style:"italic"}],["KaTeX_Math-Italic",{style:"italic"}],["KaTeX_Math-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_AMS-Regular"],["KaTeX_Caligraphic-Regular"],["KaTeX_Caligraphic-Bold",{weight:"bold"}],["KaTeX_Fraktur-Regular"],["KaTeX_Fraktur-Bold",{weight:"bold"}],["KaTeX_SansSerif-Regular"],["KaTeX_SansSerif-Bold",{weight:"bold"}],["KaTeX_SansSerif-Italic",{style:"italic"}],["KaTeX_Script-Regular"],["KaTeX_Typewriter-Regular"],["KaTeX_Size1-Regular"],["KaTeX_Size2-Regular"],["KaTeX_Size3-Regular"],["KaTeX_Size4-Regular"]].map(s=>UNe(s[0].replace(/-[a-zA-Z]+$/,""),`${n}/${s[0]}`,s[1]));try{(await Promise.all(i.map(s=>{try{return s.load()}catch{}}))).forEach(s=>document.fonts.add(s)),ls="ready";return}catch(s){console.error(`MathLive 0.104.0: The math fonts could not be loaded from "${n}"`,{cause:s}),document.body.classList.add("ML__fonts-did-not-load")}ls="error"}}}function RNe(t,e=0){let r=3735928559^e,n=1103547991^e;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);r=Math.imul(r^s,2654435761),n=Math.imul(n^s,1597334677)}return r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909),4294967296*(2097151&n)+(r>>>0)}function tr(t,e){!t||t.dirty||(t.resizeObserver.unobserve(t.field),t.dirty=!0,requestAnimationFrame(()=>{Hc(t)&&t.dirty&&(t.atomBoundsCache=new Map,ih(t,e),t.atomBoundsCache=void 0,t.resizeObserver.observe(t.field),t.resizeObserverStarted=!0)}))}function HNe(t,e){var r;e=e??{};let n=new pt({from:W(U({},t.context),{atomIdsSettings:{seed:e.forHighlighting?RNe(se.serialize([t.model.root],{expandMacro:!1,defaultMode:t.options.defaultMode})):"random",groupNumbers:(r=e.forHighlighting)!=null?r:!1},letterShapeStyle:t.options.letterShapeStyle}),mathstyle:t.options.defaultMode==="inline-math"?"textstyle":"displaystyle"}),i=t.model.root.render(n);return C5(X1(i,n),{classes:t.hasEditablePrompts?"ML__latex ML__prompting":"ML__latex",attributes:{translate:"no","aria-hidden":"true"}})}function Qre(t,e){try{let{model:r}=t;r.root.caret=void 0,r.root.isSelected=!1,r.root.containsCaret=!0;for(let n of r.atoms)n.caret=void 0,n.isSelected=!1,n.containsCaret=!1;if(r.selectionIsCollapsed){let n=r.at(r.position);n.caret=t.model.mode;let i=n.parent;for(;i;)i.containsCaret=!0,i=i.parent}else{let n=r.getAtoms(r.selection,{includeChildren:!0});for(let i of n)i.isSelected=!0}return HNe(t,e).toMarkup()}catch(r){return console.error(r),'<span class="ML__latex" translate="no" aria-hidden="true"></span>'}}function ih(t,e){if(!Hc(t))return;e!=null||(e={});let r=t.element.querySelector("[part=virtual-keyboard-toggle]");r&&(r.style.display=t.hasEditableContent?"":"none");let n=t.field;if(!n)return;let i=t.isSelectionEditable&&t.hasFocus(),s=n.classList.contains("ML__focused");s&&!i?n.classList.remove("ML__focused"):!s&&i&&n.classList.add("ML__focused");let a=Qre(t,e),o=t.element.querySelector("[part=menu-toggle]");if(o){let l=!1;(t.disabled||t.readOnly&&!t.hasEditableContent||t.userSelect==="none")&&(l=!0),!l&&n.offsetWidth<50&&(l=!0),o.style.display=l?"none":""}if(t.model.atoms.length<=1){let l=t.options.contentPlaceholder;l&&(a+=`<span part=placeholder class="ML__content-placeholder">${Gr(l)}</span>`)}n.innerHTML=globalThis.MathfieldElement.createHTML(a),E3(t,e.interactive),t.dirty=!1}function E3(t,e){let r=t.field;if(!r)return;for(let a of r.querySelectorAll(".ML__selection, .ML__contains-highlight"))a.remove();if(!(e!=null&&e)&&ls!=="error"&&ls!=="ready"){setTimeout(()=>{ls==="ready"?E3(t):setTimeout(()=>E3(t),128)},32);return}let n=t.model,i,s=()=>{if(i!==void 0)return i;let a=r.offsetWidth,o=r.getBoundingClientRect().width;return i=Math.floor(o)/a,isNaN(i)&&(i=1),i};if(n.selectionIsCollapsed){L5(t,{deferred:!0});let a=n.at(n.position);for(;a&&a.type!=="prompt"&&!(a.containsCaret&&a.displayContainsHighlight);)a=a.parent;if(a!=null&&a.containsCaret&&a.displayContainsHighlight){let o=s(),l=Pte(t,Tf(t,a),o);if(l){l.left/=o,l.right/=o,l.top/=o,l.bottom/=o;let c=document.createElement("div");c.classList.add("ML__contains-highlight"),c.style.position="absolute",c.style.left=`${l.left+1}px`,c.style.top=`${Math.ceil(l.top)}px`,c.style.width=`${Math.ceil(l.right-l.left)}px`,c.style.height=`${Math.ceil(l.bottom-l.top)}px`,r.insertBefore(c,r.childNodes[0])}}return}for(let a of zNe(Qte(t,{excludeAtomsWithBackground:!0}))){let o=s();a.left/=o,a.right/=o,a.top/=o,a.bottom/=o;let l=document.createElement("div");l.classList.add("ML__selection"),l.style.position="absolute",l.style.left=`${a.left}px`,l.style.top=`${a.top}px`,l.style.width=`${Math.ceil(a.right-a.left)}px`,l.style.height=`${Math.ceil(a.bottom-a.top-1)}px`,r.insertBefore(l,r.childNodes[0])}}function zNe(t){let e=[];for(let r of t){let n=!1;for(let i of e)if(r.left===i.left&&r.right===i.right&&r.top===i.top&&r.bottom===i.bottom){n=!0;break}n||e.push(r)}t=e,e=[];for(let r of t){let n=0;for(let i of t)if(r.left>=i.left&&r.right<=i.right&&r.top>=i.top&&r.bottom<=i.bottom&&(n+=1,n>1))break;n===1&&e.push(r)}return e}function Rre(t){if(!t)return;let e=t.model,r=e.selection,n=se.serialize([e.root],{expandMacro:!1,defaultMode:t.options.defaultMode});Qt.insert(e,n,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",silenceNotifications:!0,mode:"math"});let i=e.silenceNotifications;e.silenceNotifications=!0,e.selection=r,e.silenceNotifications=i,tr(t)}function DH(){for(let t of document.querySelectorAll(".ML__mathfield"))"_mathfield"in t&&Rre(t._mathfield)}var Hre=3,yo;function bi(t,e){e=U({target:"mathfield",canUndo:!1,audioFeedback:void 0,changeContent:!1,changeSelection:!1},e??{}),yo||(yo={});for(let r of Object.keys(t))yo[r],yo[r]=W(U({},e),{fn:t[r]})}function tT(t){let e;if(Array.isArray(t)){if(t[0]==="performWithFeedback")return tT(t[1]);e=t[0]}else e=t;return yo[e]}function _A(t){var e;return(e=tT(t))==null?void 0:e.target}function $Ne(t,e){var r,n;if(e=s1(e),!e)return!1;let i,s=[],a=!1,o=!1;bn(e)?(i=e[0],s=e.slice(1)):i=e;let l=yo[i],c=l==null?void 0:l.target;if(c==="model"){if(!t.isSelectionEditable&&l!=null&&l.changeContent)return t.model.announce("plonk"),!1;/^(delete|add)/.test(i)&&(i!=="deleteBackward"&&t.flushInlineShortcutBuffer(),t.snapshot(i)),/^complete/.test(i)||T5(t),yo[i].fn(t.model,...s),Y1(t),o=!0,a=!0}else if(c==="virtual-keyboard")o=(n=(r=window.mathVirtualKeyboard)==null?void 0:r.executeCommand(e))!=null?n:!1,a=!0;else if(yo[i]){if(!t.isSelectionEditable&&l!=null&&l.changeContent)return t.model.announce("plonk"),!1;/^(undo|redo)/.test(i)&&t.flushInlineShortcutBuffer(),o=yo[i].fn(t,...s),a=!0}else throw new Error(`Unknown command "${i}"`);return c!=="virtual-keyboard"&&(!t.model.selectionIsCollapsed||l!=null&&l.changeSelection&&i!=="deleteBackward")&&(t.flushInlineShortcutBuffer(),l!=null&&l.changeContent||t.stopCoalescingUndo(),t.defaultStyle={}),o&&tr(t),a}function VNe(t,e){var r;if(!t)return!1;t.focus(),sT.keypressVibration&&gte()&&navigator.vibrate(Hre);let n=tT(e);globalThis.MathfieldElement.playSound((r=n==null?void 0:n.audioFeedback)!=null?r:"keypress");let i=t.executeCommand(e);return t.scrollIntoView(),i}bi({performWithFeedback:(t,e)=>VNe(t,e)});function KNe(t){return Y1(t,{atIndex:t.suggestionIndex+1}),!1}function qNe(t){return Y1(t,{atIndex:t.suggestionIndex-1}),!1}bi({complete:ef},{target:"mathfield",audioFeedback:"return",canUndo:!0,changeContent:!0,changeSelection:!0});bi({dispatchEvent:(t,e,r)=>{var n,i;return(i=(n=t.host)==null?void 0:n.dispatchEvent(new CustomEvent(e,{detail:r})))!=null?i:!1}},{target:"mathfield"});bi({nextSuggestion:KNe,previousSuggestion:qNe},{target:"mathfield",audioFeedback:"keypress",changeSelection:!0});function s1(t){if(!t)return;if(bn(t)&&t.length>0){let n=t[0];return n.replace(/-\w/g,i=>i[1].toUpperCase()),n==="performWithFeedback"&&t.length===2?[n,s1(t[1])]:[n,...t.slice(1)]}if(typeof t!="string")return;let e=t.trim().match(/^([a-zA-Z0-9-]+)\((.*)\)$/);if(e){let n=e[1];n.replace(/-\w/g,s=>s[1].toUpperCase());let i=e[2].split(",").map(s=>s.trim());return[n,...i.map(s=>{if(/"[^"]*"/.test(s)||/'[^']*'/.test(s))return s.slice(1,-1);if(/^true$/.test(s))return!0;if(/^false$/.test(s))return!1;if(/^[-]?\d+$/.test(s))return parseInt(s,10);if(/^\{.*\}$/.test(s))try{return JSON.parse(s)}catch{return console.error("Invalid argument:",s),s}return s1(s)})]}let r=t;return r.replace(/-\w/g,n=>n[1].toUpperCase()),r}var M3="mathlive#virtual-keyboard-message";function rT(t){var e;return t.type!=="message"?!1:((e=t.data)==null?void 0:e.type)===M3}var WNe=class zre{constructor(){this.targetOrigin=window.origin,this.originValidator="none",this._boundingRect=new DOMRect(0,0,0,0),this._isShifted=!1,window.addEventListener("message",this),this.sendMessage("proxy-created"),this.listeners={}}static get singleton(){return this._singleton||(this._singleton=new zre),this._singleton}getKeycap(e){}setKeycap(e,r){this.sendMessage("update-setting",{setKeycap:{keycap:e,value:r}})}set alphabeticLayout(e){this.sendMessage("update-setting",{alphabeticLayout:e})}set layouts(e){this.sendMessage("update-setting",{layouts:e})}get normalizedLayouts(){return[]}set editToolbar(e){this.sendMessage("update-setting",{editToolbar:e})}set container(e){throw new Error("Container inside an iframe cannot be changed")}show(e){this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:!0},bubbles:!0,cancelable:!0,composed:!0}))&&(this.sendMessage("show",e),this.dispatchEvent(new Event("virtual-keyboard-toggle")))}hide(e){this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:!1},bubbles:!0,cancelable:!0,composed:!0}))&&(this.sendMessage("hide",e),this.dispatchEvent(new Event("virtual-keyboard-toggle")))}get isShifted(){return this._isShifted}get visible(){return this._boundingRect.height>0}set visible(e){e?this.show():this.hide()}get boundingRect(){return this._boundingRect}executeCommand(e){return this.sendMessage("execute-command",{command:e}),!0}updateToolbar(e){this.sendMessage("update-toolbar",e)}update(e){this.sendMessage("update-setting",e)}connect(){this.sendMessage("connect")}disconnect(){this.sendMessage("disconnect")}addEventListener(e,r,n){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].has(r)||this.listeners[e].add(r)}dispatchEvent(e){return!this.listeners[e.type]||this.listeners[e.type].size===0?!0:(this.listeners[e.type].forEach(r=>{typeof r=="function"?r(e):r==null||r.handleEvent(e)}),!e.defaultPrevented)}removeEventListener(e,r,n){this.listeners[e]&&this.listeners[e].delete(r)}handleEvent(e){if(rT(e)){if(!VF(e.origin,this.originValidator))throw new DOMException(`Message from unknown origin (${e.origin}) cannot be handled`,"SecurityError");this.handleMessage(e.data)}}handleMessage(e){let{action:r}=e;if(r==="execute-command"){let{command:n}=e;_A(n)==="virtual-keyboard"&&this.executeCommand(n);return}if(r==="synchronize-proxy"){this._boundingRect=e.boundingRect,this._isShifted=e.isShifted;return}if(r==="geometry-changed"){this._boundingRect=e.boundingRect,this.dispatchEvent(new Event("geometrychange"));return}}sendMessage(e,r={}){if(!window.top)throw new DOMException("A frame does not have access to the top window and cant communicate with the keyboard. Review virtualKeyboardTargetOrigin and originValidator on mathfields embedded in an iframe","SecurityError");window.top.postMessage(U({type:M3,action:e},r),this.targetOrigin)}},LH={numeric:{label:"123",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.numeric",rows:[[{latex:"x",shift:"y",variants:["y","z","t","r","x^2","x^n","x^{#?}","x_n","x_i","x_{#?}",{latex:"f(#?)",class:"small"},{latex:"g(#?)",class:"small"}]},{latex:"n",shift:"a",variants:["i","j","p","k","a","u"]},"[separator-5]","[7]","[8]","[9]","[/]","[separator-5]",{latex:"\\exponentialE",shift:"\\ln",variants:["\\exp","\\times 10^{#?}","\\ln","\\log_{10}","\\log","\\lg","\\operatorname{lb}"]},{latex:"\\imaginaryI",variants:["\\Re","\\Im","\\imaginaryJ","\\Vert #0 \\Vert"]},{latex:"\\pi",shift:"\\sin",variants:["\\prod",{latex:"\\theta",aside:"theta"},{latex:"\\rho",aside:"rho"},{latex:"\\tau",aside:"tau"},"\\sin","\\cos","\\tan"]}],[{label:"<",latex:"<",class:"hide-shift",shift:{latex:"\\le",label:""}},{label:">",latex:">",class:"hide-shift",shift:{latex:"\\ge",label:""}},"[separator-5]","[4]","[5]","[6]","[*]","[separator-5]",{class:"hide-shift",latex:"#@^2}",shift:"#@^{\\prime}}"},{latex:"#@^{#0}}",class:"hide-shift",shift:"#@_{#?}"},{class:"hide-shift",latex:"\\sqrt{#0}",shift:{latex:"\\sqrt[#0]{#?}}"}}],["[(]","[)]","[separator-5]","[1]","[2]","[3]","[-]","[separator-5]",{latex:"\\int^{\\infty}_{0}\\!#?\\,\\mathrm{d}x",class:"small hide-shift",shift:"\\int",variants:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},"\\mathrm{d}x",{latex:"\\dfrac{\\mathrm{d}}{\\mathrm{d} x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\partial"]},{class:"hide-shift",latex:"\\forall",shift:"\\exists"},{label:"[backspace]",width:1}],[{label:"[shift]",width:2},"[separator-5]","[0]","[.]","[=]","[+]","[separator-5]","[left]","[right]",{label:"[action]",width:1}]]},greek:{label:"&alpha;&beta;&gamma;",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.greek",rows:[[{label:"<i>&#x03c6;</i>",class:"MLK__tex hide-shift",insert:"\\varphi",aside:"phi var.",shift:"\\Phi"},{label:"<i>&#x03c2;</i>",class:"MLK__tex hide-shift",insert:"\\varsigma",aside:"sigma var.",shift:"\\Sigma"},{label:"<i>&#x03f5;</i>",class:"MLK__tex hide-shift",insert:"\\epsilon",aside:"epsilon",shift:'\\char"0190'},{label:"<i>&rho;</i>",class:"MLK__tex hide-shift",insert:"\\rho",aside:"rho",shift:'\\char"3A1'},{label:"<i>&tau;</i>",class:"MLK__tex hide-shift",insert:"\\tau",aside:"tau",shift:'\\char"3A4'},{label:"<i>&upsilon;</i>",class:"MLK__tex hide-shift",insert:"\\upsilon",aside:"upsilon",shift:"\\Upsilon"},{label:"<i>&theta;</i>",class:"MLK__tex hide-shift",insert:"\\theta",aside:"theta",shift:"\\Theta"},{label:"<i>&iota;</i>",class:"MLK__tex hide-shift",insert:"\\iota",aside:"iota",shift:'\\char"399'},{label:"<i>&omicron;</i>",class:"MLK__tex hide-shift",insert:"\\omicron",aside:"omicron",shift:'\\char"39F'},{label:"<i>&pi;</i>",class:"MLK__tex hide-shift",insert:"\\pi",aside:"pi",shift:"\\Pi"}],["[separator-5]",{label:"<i>&alpha;</i>",class:"MLK__tex hide-shift",insert:"\\alpha",aside:"alpha",shift:'\\char"391'},{label:"<i>&sigma;</i>",class:"MLK__tex hide-shift",insert:"\\sigma",aside:"sigma",shift:"\\Sigma"},{label:"<i>&delta;</i>",class:"MLK__tex hide-shift",insert:"\\delta",aside:"delta",shift:"\\Delta"},{latex:"\\phi",class:"MLK__tex hide-shift",insert:"\\phi",aside:"phi",shift:"\\Phi"},{label:"<i>&gamma;</i>",class:"MLK__tex hide-shift",insert:"\\gamma",aside:"gamma",shift:"\\Gamma"},{label:"<i>&eta;</i>",class:"MLK__tex hide-shift",insert:"\\eta",aside:"eta",shift:'\\char"397'},{label:"<i>&xi;</i>",class:"MLK__tex hide-shift",insert:"\\xi",aside:"xi",shift:"\\Xi"},{label:"<i>&kappa;</i>",class:"MLK__tex hide-shift",insert:"\\kappa",aside:"kappa",shift:"\\Kappa"},{label:"<i>&lambda;</i>",class:"MLK__tex hide-shift",insert:"\\lambda",aside:"lambda",shift:"\\Lambda"},"[separator-5]"],["[shift]",{label:"<i>&zeta;</i>",class:"MLK__tex hide-shift",insert:"\\zeta",aside:"zeta",shift:'\\char"396'},{label:"<i>&chi;</i>",class:"MLK__tex hide-shift",insert:"\\chi",aside:"chi",shift:'\\char"3A7'},{label:"<i>&psi;</i>",class:"MLK__tex hide-shift",insert:"\\psi",aside:"zeta",shift:"\\Psi"},{label:"<i>&omega;</i>",class:"MLK__tex hide-shift",insert:"\\omega",aside:"omega",shift:"\\Omega"},{label:"<i>&beta;</i>",class:"MLK__tex hide-shift",insert:"\\beta",aside:"beta",shift:'\\char"392'},{label:"<i>&nu;</i>",class:"MLK__tex hide-shift",insert:"\\nu",aside:"nu",shift:'\\char"39D'},{label:"<i>&mu;</i>",class:"MLK__tex hide-shift",insert:"\\mu",aside:"mu",shift:'\\char"39C'},"[backspace]"],["[separator]",{label:"<i>&#x03b5;</i>",class:"MLK__tex",insert:"\\varepsilon",aside:"epsilon var."},{label:"<i>&#x03d1;</i>",class:"MLK__tex",insert:"\\vartheta",aside:"theta var."},{label:"<i>&#x3f0;</i>",class:"MLK__tex",insert:"\\varkappa",aside:"kappa var."},{label:"<i>&#x03d6;</i>",class:"MLK__tex",insert:"\\varpi",aside:"pi var."},{label:"<i>&#x03f1;</i>",class:"MLK__tex",insert:"\\varrho",aside:"rho var."},"[left]","[right]","[action]"]]},symbols:{label:"&infin;",labelClass:"MLK__tex",tooltip:"keyboard.tooltip.symbols",rows:[[{latex:"\\sin",shift:"\\sin^{-1}",variants:[{class:"small",latex:"\\sinh"},{class:"small",latex:"\\sin^{-1}"},{class:"small",latex:"\\operatorname{arsinh}"}]},"\\ln",{latex:"\\mathrm{abs}",insert:"\\mathrm{abs}\\left(#0\\right)"},{latex:"\\rightarrow",shift:"\\Rightarrow",variants:[{latex:"\\implies",aside:"implies"},{latex:"\\to",aside:"to"},"\\dashv",{latex:"\\roundimplies",aside:"round implies"}]},{latex:"\\exists",variants:["\\nexists"],shift:"\\nexists"},{latex:"\\in",shift:"\\notin",variants:["\\notin","\\owns"]},"\\cup",{latex:"\\overrightarrow{#@}",shift:"\\overleftarrow{#@}",variants:["\\overleftarrow{#@}","\\bar{#@}","\\vec{#@}","\\hat{#@}","\\check{#@}","\\dot{#@}","\\ddot{#@}","\\mathring{#@}","\\breve{#@}","\\acute{#@}","\\tilde{#@}","\\grave{#@}"]},{class:"small hide-shift",latex:"\\lim_{#?}",shift:"\\lim_{x\\to\\infty}",variants:[{class:"small",latex:"\\liminf_{#?}"},{class:"small",latex:"\\limsup_{#?}"}]},"\\exponentialE"],[{latex:"\\cos",shift:"\\cos^{-1}",variants:[{class:"small",latex:"\\cosh"},{class:"small",latex:"\\cos^{-1}"},{class:"small",latex:"\\operatorname{arcosh}"}]},{latex:"\\log",shift:"\\log_{10}",variants:["\\log_{#0}","\\log_{10}"]},"\\left\\vert#0\\right\\vert",{latex:"\\larr",shift:"\\lArr",variants:[{latex:"\\impliedby",aside:"implied by"},{latex:"\\gets",aside:"gets"},"\\lArr","\\vdash",{latex:"\\models",aside:"models"}]},{latex:"\\forall",shift:"\\lnot",variants:[{latex:"\\land",aside:"and"},{latex:"\\lor",aside:"or"},{latex:"\\oplus",aside:"xor"},{latex:"\\lnot",aside:"not"},{latex:"\\downarrow",aside:"nor"},{latex:"\\uparrow",aside:"nand"},{latex:"\\curlywedge",aside:"nor"},{latex:"\\bar\\curlywedge",aside:"nand"}]},{latex:"\\ni",shift:"\\not\\owns"},"\\cap",{latex:"\\overline{#@}",shift:"\\underline{#@}",variants:["\\overbrace{#@}","\\overlinesegment{#@}","\\overleftrightarrow{#@}","\\overrightarrow{#@}","\\overleftarrow{#@}","\\overgroup{#@}","\\underbrace{#@}","\\underlinesegment{#@}","\\underleftrightarrow{#@}","\\underrightarrow{#@}","\\underleftarrow{#@}","\\undergroup{#@}"]},{class:"hide-shift small",latex:"\\int",shift:"\\iint",variants:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\smallint",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},"\\intop","\\iiint","\\oiint","\\oiiint","\\intclockwise","\\varointclockwise","\\ointctrclockwise","\\intctrclockwise"]},{latex:"\\pi",shift:"\\tau",variants:["\\tau"]}],[{latex:"\\tan",shift:"\\tan^{-1}",variants:[{class:"small",latex:"\\tanh"},{class:"small",latex:"\\tan^{-1}"},{class:"small",latex:"\\operatorname{artanh}"},{class:"small",latex:"\\arctan"},{class:"small",latex:"\\operatorname{arctg}"},{class:"small",latex:"\\operatorname{tg}"}]},{latex:"\\exp",insert:"\\exp\\left(#0\\right)",variants:["\\exponentialE^{#0}"]},"\\left\\Vert#0\\right\\Vert",{latex:"\\lrArr",shift:"\\leftrightarrow",variants:[{latex:"\\iff",aside:"if and only if"},"\\leftrightarrow","\\leftrightarrows","\\Leftrightarrow",{latex:"^\\biconditional",aside:"biconditional"}]},{latex:"\\vert",shift:"!"},{latex:"#@^{\\complement}",aside:"complement",variants:[{latex:"\\setminus",aside:"set minus"},{latex:"\\smallsetminus",aside:"small set minus"}]},{latex:"\\subset",shift:"\\subseteq",variants:["\\subset","\\subseteq","\\subsetneq","\\varsubsetneq","\\subsetneqq","\\nsubset","\\nsubseteq","\\supset","\\supseteq","\\supsetneq","\\supsetneqq","\\nsupset","\\nsupseteq"]},{latex:"#@^{\\prime}",shift:"#@^{\\doubleprime}",variants:["#@^{\\doubleprime}","#@\\degree"]},{latex:"\\mathrm{d}",shift:"\\partial",variants:["\\mathrm{d}x",{latex:"\\dfrac{\\mathrm{d}}{\\mathrm{d} x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\partial"]},{latex:"\\infty",variants:["\\aleph_0","\\aleph_1","\\omega","\\mathfrak{m}"]}],[{label:"[shift]",width:2},{class:"box",latex:",",shift:";",variants:[";","?"]},{class:"box",latex:"\\colon",shift:"\\Colon",variants:[{latex:"\\Colon",aside:"such that",class:"box"},{latex:":",aside:"ratio",class:"box"},{latex:"\\vdots",aside:"",class:"box"},{latex:"\\ddots",aside:"",class:"box"},{latex:"\\ldotp",aside:"low dot",class:"box"},{latex:"\\cdotp",aside:"center dot",class:"box"},{latex:"\\ldots",aside:"low ellipsis",class:"box"},{latex:"\\cdots",aside:"center ellipsis",class:"box"},{latex:"\\therefore",aside:"therefore",class:"box"},{latex:"\\because",aside:"because",class:"box"}]},{class:"box",latex:"\\cdot",aside:"centered dot",shift:"\\ast",variants:["\\circ","\\bigcirc","\\bullet","\\odot","\\oslash","\\circledcirc","\\ast","\\star","\\times","\\doteq","\\doteqdot"]},"[separator]","[left]","[right]",{label:"[backspace]",width:1,class:"action hide-shift"},{label:"[action]",width:1}]]},compact:{label:"compact",rows:[["[+]","[-]","[*]","[/]","[=]","[.]","[(]","[)]","\\sqrt{#0}","#@^{#?}"],["[1]","[2]","[3]","[4]","[5]","[6]","[7]","[8]","[9]","[0]"],["[hr]"],["[undo]","[redo]","[separator]","[separator]","[separator]","[left]","[right]",{label:"[backspace]",class:"action hide-shift"},"[hide-keyboard]"]]},minimalist:{label:"minimalist",layers:[{style:`
          div.minimalist-backdrop {
            display: flex;
            justify-content: center;
          }          
          div.minimalist-container {
            --keycap-height: 40px;
            --keycap-max-width: 53px;
            --keycap-small-font-size: 12px;
            background: var(--keyboard-background);
            padding: 20px 20px 0px 20px;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            border: 1px solid var(--keyboard-border);
            box-shadow: 0 0 32px rgb(0 0 0 / 30%);
          }        
        `,backdrop:"minimalist-backdrop",container:"minimalist-container",rows:[["+","-","\\times",{latex:"\\frac{#@}{#0}",class:"small"},"=","[.]","(",")",{latex:"\\sqrt{#0}",class:"small"},{latex:"#@^{#?}",class:"small"}],["1","2","3","4","5","6","7","8","9","0"],["[hr]"],["[undo]","[redo]","[separator]","[separator]","[separator]","[left]","[right]",{label:"[backspace]",class:"action hide-shift"},"[hide-keyboard]"]]}]},"numeric-only":{label:"123",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.numeric",id:"numeric-only",rows:[["7","8","9","[separator]",{label:"[backspace]",width:2}],["4","5","6","[separator]","[separator]","[separator]"],["1","2","3","[separator]","[separator]","[separator]"],["0",{label:"[.]",variants:[]},"-","[separator]","[left]","[right]"]]}},Mx={0:["\\varnothing","\\infty"],1:["\\frac{1}{#@}","#@^{-1}","\\times 10^{#?}","\\phi","\\imaginaryI"],2:["\\frac{1}{2}","#@^2","\\sqrt2","\\exponentialE"],3:["\\frac{1}{3}","#@^3","\\sqrt3","\\pi"],4:["\\frac{1}{4}","#@^4"],5:["\\frac{1}{5}","#@^5","\\sqrt5"],6:["\\frac{1}{6}","#@^6"],7:["\\frac{1}{7}","#@^7"],8:["\\frac{1}{8}","#@^8"],9:["\\frac{1}{9}","#@^9"],".":[".",",",";","\\colon"],",":["{,}",".",";","\\colon"],a:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"},"","","","","",""],A:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"},"","","","","",""],b:[{latex:"\\beth",aside:"beth"}],c:[{latex:"\\C",aside:"set of complex numbers"},""],d:[{latex:"\\daleth",aside:"daleth"}],e:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isnt"},"","","",""],E:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isnt"},"","","",""],g:[{latex:"\\gimel",aside:"gimel"}],h:[{latex:"\\hbar",aside:"h bar"},{latex:"\\hslash",aside:"h slash"}],i:[{latex:"\\imaginaryI",aside:"imaginary i"},"","","",""],I:[{latex:"\\imaginaryI",aside:"imaginary i"},"","","",""],j:[{latex:"\\imaginaryJ",aside:"imaginary j"}],l:[{latex:"\\ell",aside:"ell"}],n:[{latex:"\\mathbb{N}",aside:"set of natural numbers"},""],o:["","","","","",""],O:["","","","","",""],p:[{latex:"\\mathbb{P}",aside:"set of primes"}],q:[{latex:"\\mathbb{Q}",aside:"set of rational numbers"}],r:[{latex:"\\mathbb{R}",aside:"set of real numbers"}],u:["","","",""],U:["","","",""],z:[{latex:"\\mathbb{Z}",aside:"set of integers"}],y:["",""],Y:[""],space:[{latex:'\\char"203A\\!\\char"2039',insert:"\\!",aside:"negative thin space<br> em"},{latex:'\\char"203A\\,\\char"2039',insert:"\\,",aside:"thin space<br> em"},{latex:'\\char"203A\\:\\char"2039',insert:"\\:",aside:"medium space<br> em"},{latex:'\\char"203A\\;\\char"2039',insert:"\\;",aside:"thick space<br> em"},{latex:'\\char"203A\\ \\char"2039',insert:"\\ ",aside:" em"},{latex:'\\char"203A\\enspace\\char"2039',insert:"\\enspace",aside:" em"},{latex:'\\char"203A\\quad\\char"2039',insert:"\\quad",aside:"1 em"},{latex:'\\char"203A\\qquad\\char"2039',insert:"\\qquad",aside:"2 em"}]},qm;function $re(t,e){var r,n,i,s,a;let o=Wu.singleton;if(!o)return;let l=nA(t),c="";if(window.mathVirtualKeyboard.isShifted){let g=(r=o.getKeycap(l==null?void 0:l.id))==null?void 0:r.shift;typeof g=="object"&&"variants"in g&&(c=(n=g.variants)!=null?n:"")}else c=(s=(i=o.getKeycap(l==null?void 0:l.id))==null?void 0:i.variants)!=null?s:"";if(typeof c=="string"&&!Z9(c)||Array.isArray(c)&&c.length===0){e==null||e();return}let u={},d="";for(let g of XNe(c)){let v=nT(g),x=Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36);u[x]=v;let[b,w]=N5(v);d+=`<div id=${x} class="item ${w}">${b}</div>`}let A=document.createElement("div");A.setAttribute("aria-hidden","true"),A.className="MLK__variant-panel",A.style.height="auto";let f=Object.keys(u).length,p=5;f===1?p=1:f===2||f===4?p=2:f===3||f===5||f===6?p=3:f>=7&&f<14&&(p=4),A.style.width=`calc(var(--variant-keycap-length) * ${p} + 12px)`,A.innerHTML=sT.createHTML(d),Ca.open({root:(a=o==null?void 0:o.container)==null?void 0:a.querySelector(".ML__keyboard"),child:A}),qm=new AbortController;let{signal:m}=qm,y=t==null?void 0:t.getBoundingClientRect();if(y){y.top-A.clientHeight<0&&(A.style.width="auto",f<=6?A.style.height="56px":f<=12?A.style.height="108px":f<=18?A.style.height="205px":A.classList.add("compact"));let g=Math.max(0,Math.min(window.innerWidth-A.offsetWidth,(y.left+y.right-A.offsetWidth)/2)),v=y.top-A.clientHeight+5;A.style.left=`${g}px`,A.style.top=`${v}px`,A.classList.add("is-visible"),requestAnimationFrame(()=>{var x;A.addEventListener("pointerup",b=>{let w=nA(b.target);!(w!=null&&w.id)||!u[w.id]||(e_(u[w.id]),rA(),e==null||e(),b.preventDefault())},{capture:!0,passive:!1,signal:m}),A.addEventListener("pointerenter",b=>{let w=nA(b.target);!(w!=null&&w.id)||!u[w.id]||w.classList.add("is-active")},{capture:!0,signal:m}),A.addEventListener("pointerleave",b=>{let w=nA(b.target);b.target&&"tagName"in b.target&&typeof b.target.tagName=="string"&&b.target.tagName.toUpperCase()==="ASIDE"||!(w!=null&&w.id)||!u[w.id]||w.classList.remove("is-active")},{capture:!0,signal:m}),(x=o.getKeycap(l==null?void 0:l.id))!=null&&x.stickyVariantPanel?window.addEventListener("pointerdown",b=>{if(!(b.target instanceof Node))return;let w=A.contains(b.target);b.target===A||w||(rA(),e==null||e())},{signal:m}):(window.addEventListener("pointercancel",()=>{rA(),e==null||e()},{signal:m}),window.addEventListener("pointerup",()=>{rA(),e==null||e()},{signal:m}))})}}function rA(){qm==null||qm.abort(),qm=null,Ca.state==="open"&&Ca.close()}function GNe(t){if(t==="foreground-color"){let e=[];for(let r of Object.keys(nh))e.push({class:"swatch-button",label:'<span style="border: 3px solid '+nh[r]+'"></span>',command:["applyStyle",{color:r}]});return e}if(t==="background-color"){let e=[];for(let r of Object.keys(rh))e.push({class:"swatch-button",label:'<span style="background:'+rh[r]+'"></span>',command:["applyStyle",{backgroundColor:r}]});return e}}function Z9(t){return Mx[t]!==void 0}function XNe(t){var e;return typeof t!="string"?t:(Mx[t]||(Mx[t]=(e=GNe(t))!=null?e:[]),Mx[t])}function YNe(t){return typeof t=="string"?t:Object.entries(t).map(([e,r])=>`${e}:${r} !important`).join(";")}function JNe(t){return Object.keys(t).map(e=>`${e} {${YNe(t[e])}}`).join("")}function Sp(t){if(!t)return"";let e=new pt,r=new se({mode:"math",type:"root",body:Ys(t,{context:e,args:i=>i==="@"?"{\\class{ML__box-placeholder}{\\blacksquare}}":"\\placeholder{}"})}),n=w5(X1(new ge(r.render(e),{classes:"ML__base"}),e));return C5(n,{classes:"ML__latex"}).toMarkup()}function Wm(t){if(Array.isArray(t))return t.map(r=>Wm(r)).flat();let e=typeof t=="string"?{markup:t}:t;return"rows"in e&&Array.isArray(e.rows)&&(e.rows=e.rows.map(r=>r.map(n=>nT(n)))),e.id!=null||(e.id="ML__layer_"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36)),[e]}function ZNe(){var t,e;let r=window.mathVirtualKeyboard.alphabeticLayout;if(r==="auto"){let a=i1();a&&(r=a.virtualLayout),(!r||r==="auto")&&(r=(t={fr:"azerty",be:"azerty",al:"qwertz",ba:"qwertz",cz:"qwertz",de:"qwertz",hu:"qwertz",sk:"qwertz",ch:"qwertz"}[at.locale.slice(0,2)])!=null?t:"qwerty")}let n={qwerty:["qwertyuiop"," asdfghjkl ","^zxcvbnm~"],azerty:["azertyuiop","qsdfghjklm","^ wxcvbn ~"],qwertz:["qwertzuiop"," asdfghjkl ","^yxcvbnm~"],dvorak:["^  pyfgcrl ","aoeuidhtns","qjkxbmwvz~"],colemak:[" qwfpgjluy ","arstdhneio","^zxcvbkm~"]},i=(e=n[r])!=null?e:n.qwerty,s=r==="azerty"?[[{label:"1",variants:"1"},{label:"2",shift:{latex:""},variants:"2"},{label:"3",shift:{latex:""},variants:"3"},{label:"4",variants:"4"},{label:"5",shift:{label:"(",latex:"("},variants:"5"},{label:"6",shift:{label:")",latex:")"},variants:"6"},{label:"7",shift:{latex:""},variants:"7"},{label:"8",shift:{latex:""},variants:"8"},{label:"9",shift:{latex:""},variants:"9"},{label:"0",shift:{latex:""},variants:"0"}]]:[[{label:"1",variants:"1"},{label:"2",variants:"2"},{label:"3",variants:"3"},{label:"4",variants:"4"},{label:"5",shift:{latex:"\\frac{#@}{#?}"},variants:"5"},{label:"6",shift:{latex:"#@^#?"},variants:"6"},{label:"7",variants:"7"},{label:"8",shift:{latex:"\\times"},variants:"8"},{label:"9",shift:{label:"(",latex:"("},variants:"9"},{label:"0",shift:{label:")",latex:")"},variants:"0"}]];for(let a of i){let o=[];for(let l of a)/[a-z]/.test(l)?o.push({label:l,class:"hide-shift",shift:{label:l.toUpperCase(),variants:Z9(l.toUpperCase())?l.toUpperCase():void 0},variants:Z9(l)?l:void 0}):l==="~"?r!=="dvorak"?o.push("[backspace]"):o.push({label:"[backspace]",width:1}):l==="^"?o.push("[shift]"):l===" "&&o.push("[separator-5]");s.push(o)}return s.push(["[-]","[+]","[=]",{label:" ",width:1.5},{label:",",shift:";",variants:".",class:"hide-shift"},"[.]","[left]","[right]",{label:"[action]",width:1.5}]),{label:"abc",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.alphabetic",layers:Wm({rows:s})}}function Vre(t){if(t==="alphabetic")return ZNe();if(typeof t=="string")return LH[t],Vre(LH[t]);let e;if("rows"in t&&Array.isArray(t.rows)){let i=t,s=g3(i,["rows"]);e=W(U({},s),{layers:Wm({rows:t.rows})})}else if("markup"in t&&typeof t.markup=="string"){let i=t,s=g3(i,["markup"]);e=W(U({},s),{layers:Wm(t.markup)})}else e=U({},t),"layers"in t?e.layers=Wm(t.layers):console.error('MathLive 0.104.0: provide either a "rows", "markup" or "layers" property');let r=!1,n=!1;for(let i of e.layers)if(i.rows)for(let s of i.rows.flat()){kA(s)&&(r=!0);let a=s.command;typeof a=="string"&&["undo","redo","cut","copy","paste"].includes(a)&&(n=!0)}return(!("displayShiftedKeycaps"in t)||t.displayShiftedKeycaps===void 0)&&(e.displayShiftedKeycaps=r),(!("displayEditToolbar"in t)||t.displayEditToolbar===void 0)&&(e.displayEditToolbar=!n),e}function eje(t,e){var r,n;let i='<div class="left">';if(t.normalizedLayouts.length>1)for(let[s,a]of t.normalizedLayouts.entries()){let o=a,l=[s===e?"selected":"layer-switch"];o.tooltip&&l.push("MLK__tooltip"),o.labelClass&&l.push(...o.labelClass.split(" ")),i+=`<div class="${l.join(" ")}"`,o.tooltip&&(i+=" data-tooltip='"+((r=Ze(o.tooltip))!=null?r:o.tooltip)+"' "),s!==e&&(i+=`data-layer="${o.layers[0].id}"`),i+=`>${(n=o.label)!=null?n:"untitled"}</div>`}return i+="</div>",i}function tje(t,e){let r="";if(t.editToolbar==="none")return"";let n=[];e.selectionIsCollapsed?n.push("undo","redo","pasteFromClipboard"):n.push("cutToClipboard","copyToClipboard","pasteFromClipboard");let i={undo:`<div class='action ${e.canUndo===!1?"disabled":""}'
          data-command='"undo"'
          data-tooltip='${Ze("tooltip.undo")}'>
          <svg><use xlink:href='#svg-undo' /></svg>
      </div>`,redo:`<div class='action ${e.canRedo===!1?"disabled":""}'
          data-command='"redo"'
          data-tooltip='${Ze("tooltip.redo")}'>
          <svg><use xlink:href='#svg-redo' /></svg>
      </div>`,cutToClipboard:`
        <div class='action'
            data-command='"cutToClipboard"'
            data-tooltip='${Ze("tooltip.cut to clipboard")}'>
            <svg><use xlink:href='#svg-cut' /></svg>
        </div>
    `,copyToClipboard:`
        <div class='action'
            data-command='"copyToClipboard"'
            data-tooltip='${Ze("tooltip.copy to clipboard")}'>
            <svg><use xlink:href='#svg-copy' /></svg>
        </div>
    `,pasteFromClipboard:`
        <div class='action'
            data-command='"pasteFromClipboard"'
            data-tooltip='${Ze("tooltip.paste from clipboard")}'>
            <svg><use xlink:href='#svg-paste' /></svg>
        </div>
    `};return r+=n.map(s=>i[s]).join(""),r}function rje(t){for(let e of t)nje(e)}function nje(t){let e=Wu.singleton;if(!e)return;let r={};if(!t.id){if(t.hasAttribute("data-label")&&(r.label=t.dataset.label),t.hasAttribute("data-latex")&&(r.latex=t.dataset.latex),t.hasAttribute("data-key")&&(r.key=t.dataset.key),t.hasAttribute("data-insert")&&(r.insert=t.dataset.insert),t.hasAttribute("data-variants")&&(r.variants=t.dataset.variants),t.hasAttribute("data-aside")&&(r.aside=t.dataset.aside),t.className&&(r.class=t.className),!r.label&&!r.latex&&!r.key&&!r.insert&&(r.latex=t.innerText,r.label=t.innerHTML),t.hasAttribute("data-command"))try{r.command=JSON.parse(t.dataset.command)}catch{}t.id=e.registerKeycap(r)}if(!t.innerHTML){let[n,i]=N5(r);t.innerHTML=globalThis.MathfieldElement.createHTML(n)}}function ije(){Fu("virtual-keyboard"),Fu("core"),eT()}function sje(){Tu("core"),Tu("virtual-keyboard")}var aje=`<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">

<symbol id="svg-delete-backward" viewBox="0 0 576 512">
  <path d="M432.1 208.1L385.9 256L432.1 303C442.3 312.4 442.3 327.6 432.1 336.1C423.6 346.3 408.4 346.3 399 336.1L352 289.9L304.1 336.1C295.6 346.3 280.4 346.3 271 336.1C261.7 327.6 261.7 312.4 271 303L318.1 256L271 208.1C261.7 199.6 261.7 184.4 271 175C280.4 165.7 295.6 165.7 304.1 175L352 222.1L399 175C408.4 165.7 423.6 165.7 432.1 175C442.3 184.4 442.3 199.6 432.1 208.1V208.1zM512 64C547.3 64 576 92.65 576 128V384C576 419.3 547.3 448 512 448H205.3C188.3 448 172 441.3 160 429.3L9.372 278.6C3.371 272.6 0 264.5 0 256C0 247.5 3.372 239.4 9.372 233.4L160 82.75C172 70.74 188.3 64 205.3 64L512 64zM528 128C528 119.2 520.8 112 512 112H205.3C201 112 196.9 113.7 193.9 116.7L54.63 256L193.9 395.3C196.9 398.3 201 400 205.3 400H512C520.8 400 528 392.8 528 384V128z"/>
</symbol>

<symbol id="svg-shift" viewBox="0 0 384 512">
  <path d="M2.438 252.3C7.391 264.2 19.06 272 32 272h80v160c0 26.51 21.49 48 48 48h64C250.5 480 272 458.5 272 432v-160H352c12.94 0 24.61-7.797 29.56-19.75c4.953-11.97 2.219-25.72-6.938-34.88l-160-176C208.4 35.13 200.2 32 192 32S175.6 35.13 169.4 41.38l-160 176C.2188 226.5-2.516 240.3 2.438 252.3zM192 86.63L313.4 224H224v208H160V224H70.63L192 86.63z"/>
</symbol>

<symbol id="svg-commit" viewBox="0 0 512 512">
  <path d="M135 432.1l-128-128C2.344 300.3 0 294.2 0 288s2.344-12.28 7.031-16.97l128-128c9.375-9.375 24.56-9.375 33.94 0s9.375 24.56 0 33.94L81.94 264H464v-208C464 42.75 474.8 32 488 32S512 42.75 512 56V288c0 13.25-10.75 24-24 24H81.94l87.03 87.03c9.375 9.375 9.375 24.56 0 33.94S144.4 442.3 135 432.1z"/>
</symbol>


<symbol id="circle-plus" viewBox="0 0 512 512"><path d="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344c0 13.3 10.7 24 24 24s24-10.7 24-24V280h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H280V168c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H168c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"/></symbol>

<symbol id="svg-command" viewBox="0 0 640 512">
  <path d="M34.495 36.465l211.051 211.05c4.686 4.686 4.686 12.284 0 16.971L34.495 475.535c-4.686 4.686-12.284 4.686-16.97 0l-7.071-7.07c-4.686-4.686-4.686-12.284 0-16.971L205.947 256 10.454 60.506c-4.686-4.686-4.686-12.284 0-16.971l7.071-7.07c4.686-4.687 12.284-4.687 16.97 0zM640 468v-10c0-6.627-5.373-12-12-12H300c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h328c6.627 0 12-5.373 12-12z"/>
</symbol>

<symbol id="svg-undo" viewBox="0 0 512 512">
  <path d="M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z"/>
</symbol>
<symbol id="svg-redo" viewBox="0 0 512 512">
  <path d="M492 8h-10c-6.627 0-12 5.373-12 12v110.625C426.804 57.047 346.761 7.715 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.166 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-7.069-7.069c-4.503-4.503-11.749-4.714-16.482-.454C361.218 449.238 311.065 470 256 470c-117.744 0-214-95.331-214-214 0-117.744 95.331-214 214-214 82.862 0 154.737 47.077 190.289 116H332c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h160c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z"/>
</symbol>
<symbol id="svg-arrow-left" viewBox="0 0 320 512">
  <path d="M206.7 464.6l-183.1-191.1C18.22 267.1 16 261.1 16 256s2.219-11.97 6.688-16.59l183.1-191.1c9.152-9.594 24.34-9.906 33.9-.7187c9.625 9.125 9.938 24.37 .7187 33.91L73.24 256l168 175.4c9.219 9.5 8.906 24.78-.7187 33.91C231 474.5 215.8 474.2 206.7 464.6z"/>
</symbol>
<symbol id="svg-arrow-right" viewBox="0 0 320 512">
  <path d="M113.3 47.41l183.1 191.1c4.469 4.625 6.688 10.62 6.688 16.59s-2.219 11.97-6.688 16.59l-183.1 191.1c-9.152 9.594-24.34 9.906-33.9 .7187c-9.625-9.125-9.938-24.38-.7187-33.91l168-175.4L78.71 80.6c-9.219-9.5-8.906-24.78 .7187-33.91C88.99 37.5 104.2 37.82 113.3 47.41z"/>
</symbol>
<symbol id="svg-tab" viewBox="0 0 448 512">
  <path d="M32 217.1c0-8.8 7.2-16 16-16h144v-93.9c0-7.1 8.6-10.7 13.6-5.7l143.5 143.1c6.3 6.3 6.3 16.4 0 22.7L205.6 410.4c-5 5-13.6 1.5-13.6-5.7v-93.9H48c-8.8 0-16-7.2-16-16v-77.7m-32 0v77.7c0 26.5 21.5 48 48 48h112v61.9c0 35.5 43 53.5 68.2 28.3l143.6-143c18.8-18.8 18.8-49.2 0-68L228.2 78.9c-25.1-25.1-68.2-7.3-68.2 28.3v61.9H48c-26.5 0-48 21.6-48 48zM436 64h-8c-6.6 0-12 5.4-12 12v360c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12z"/>
</symbol>
<symbol id="svg-paste" viewBox="0 0 512 512"><path d="M160 32c11.6 0 21.3 8.2 23.5 19.2C185 58.6 191.6 64 199.2 64H208c8.8 0 16 7.2 16 16V96H96V80c0-8.8 7.2-16 16-16h8.8c7.6 0 14.2-5.4 15.7-12.8C138.7 40.2 148.4 32 160 32zM64 64h2.7C65 69 64 74.4 64 80V96c0 17.7 14.3 32 32 32H224c17.7 0 32-14.3 32-32V80c0-5.6-1-11-2.7-16H256c17.7 0 32 14.3 32 32h32c0-35.3-28.7-64-64-64H210.6c-9-18.9-28.3-32-50.6-32s-41.6 13.1-50.6 32H64C28.7 32 0 60.7 0 96V384c0 35.3 28.7 64 64 64H192V416H64c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32zM288 480c-17.7 0-32-14.3-32-32V192c0-17.7 14.3-32 32-32h96v56c0 22.1 17.9 40 40 40h56V448c0 17.7-14.3 32-32 32H288zM416 165.3L474.7 224H424c-4.4 0-8-3.6-8-8V165.3zM448 512c35.3 0 64-28.7 64-64V235.9c0-12.7-5.1-24.9-14.1-33.9l-59.9-59.9c-9-9-21.2-14.1-33.9-14.1H288c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H448z"/></symbol>
<symbol id="svg-cut" viewBox="0 0 512 512"><path d="M485.6 444.2L333.6 314.9C326.9 309.2 326.1 299.1 331.8 292.4C337.5 285.6 347.6 284.8 354.4 290.5L506.4 419.8C513.1 425.5 513.9 435.6 508.2 442.4C502.5 449.1 492.4 449.9 485.6 444.2zM485.7 67.76C492.5 62.07 502.5 62.94 508.2 69.69C513.9 76.45 513.1 86.55 506.3 92.24L208.5 343.1C218.3 359.7 224 379.2 224 400C224 461.9 173.9 512 112 512C50.14 512 0 461.9 0 400C0 338.1 50.14 288 112 288C141.5 288 168.4 299.4 188.4 318.1L262.2 256L188.4 193.9C168.4 212.6 141.5 224 112 224C50.14 224 0 173.9 0 112C0 50.14 50.14 0 112 0C173.9 0 224 50.14 224 112C224 132.8 218.3 152.3 208.5 168.9L287 235.1L485.7 67.76zM32 112C32 156.2 67.82 192 112 192C156.2 192 192 156.2 192 112C192 67.82 156.2 32 112 32C67.82 32 32 67.82 32 112zM112 480C156.2 480 192 444.2 192 400C192 355.8 156.2 320 112 320C67.82 320 32 355.8 32 400C32 444.2 67.82 480 112 480z"/></symbol>
<symbol id="svg-copy" viewBox="0 0 512 512"><path d="M272 416C263.2 416 256 423.2 256 432V448c0 17.67-14.33 32-32 32H64c-17.67 0-32-14.33-32-32V192c0-17.67 14.33-32 32-32h112C184.8 160 192 152.8 192 144C192 135.2 184.8 128 176 128H63.99c-35.35 0-64 28.65-64 64l.0098 256C0 483.3 28.65 512 64 512h160c35.35 0 64-28.65 64-64v-16C288 423.2 280.8 416 272 416zM502.6 86.63l-77.25-77.25C419.4 3.371 411.2 0 402.7 0H288C252.7 0 224 28.65 224 64v256c0 35.35 28.65 64 64 64h160c35.35 0 64-28.65 64-64V109.3C512 100.8 508.6 92.63 502.6 86.63zM416 45.25L466.7 96H416V45.25zM480 320c0 17.67-14.33 32-32 32h-160c-17.67 0-32-14.33-32-32V64c0-17.67 14.33-32 32-32h96l.0026 64c0 17.67 14.33 32 32 32H480V320z"/>
</symbol>
<symbol id="svg-angle-double-right" viewBox="0 0 512 512"><path d="M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"/>
</symbol>
<symbol id="svg-angle-double-left" viewBox="0 0 512 512"><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"/>
</symbol>
<symbol id="svg-trash" viewBox="0 0 448 512">
  <path d="M336 64l-33.6-44.8C293.3 7.1 279.1 0 264 0h-80c-15.1 0-29.3 7.1-38.4 19.2L112 64H24C10.7 64 0 74.7 0 88v2c0 3.3 2.7 6 6 6h26v368c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V96h26c3.3 0 6-2.7 6-6v-2c0-13.3-10.7-24-24-24h-88zM184 32h80c5 0 9.8 2.4 12.8 6.4L296 64H152l19.2-25.6c3-4 7.8-6.4 12.8-6.4zm200 432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V96h320v368zm-176-44V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm-80 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm160 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12z"/>
</symbol>
<symbol id="svg-keyboard-down" viewBox="0 0 576 512"><path d="M64 48c-8.8 0-16 7.2-16 16V240c0 8.8 7.2 16 16 16H512c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16H64zM0 64C0 28.7 28.7 0 64 0H512c35.3 0 64 28.7 64 64V240c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zM159 359c9.4-9.4 24.6-9.4 33.9 0l95 95 95-95c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9L305 505c-4.5 4.5-10.6 7-17 7s-12.5-2.5-17-7L159 393c-9.4-9.4-9.4-24.6 0-33.9zm1-167c0-8.8 7.2-16 16-16H400c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V192zM120 88h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H120c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16zm64 16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H200c-8.8 0-16-7.2-16-16V104zm96-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H280c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16zm64 16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H360c-8.8 0-16-7.2-16-16V104zm96-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H440c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16z"/></symbol>
</svg>`;function oje(t){t.resetKeycapRegistry(),ije();let e=document.createElement("div");e.className="ML__keyboard";let r=document.createElement("div");r.className="MLK__plate",r.innerHTML=globalThis.MathfieldElement.createHTML(aje+t.normalizedLayouts.map((a,o)=>lje(t,a,o)).join(""));let n=document.createElement("div");n.className="MLK__backdrop",n.appendChild(r),e.appendChild(n),e.addEventListener("pointerdown",uje,{passive:!1});let i=e.querySelectorAll(".ML__edit-toolbar");if(i)for(let a of i)a.addEventListener("click",o=>{var l,c;let u=o.target,d="";for(;u&&!d;)d=(l=u==null?void 0:u.getAttribute("data-command"))!=null?l:"",u=(c=u==null?void 0:u.parentElement)!=null?c:null;d&&t.executeCommand(JSON.parse(d))});rje(e.querySelectorAll(".MLK__keycap, .action, .fnbutton, .bigfnbutton"));let s=e.querySelectorAll(".MLK__layer");s.length>0;for(let a of s)a.addEventListener("pointerdown",o=>o.preventDefault());return t.currentLayer=t.latentLayer,e}function lje(t,e,r){let n=[];if(!("layers"in e))return"";for(let i of e.layers)n.push(`<div tabindex="-1" class="MLK__layer" id="${i.id}">`),(t.normalizedLayouts.length>1||e.displayEditToolbar)&&(n.push("<div class='MLK__toolbar' role='toolbar'>"),n.push(eje(t,r)),e.displayEditToolbar&&n.push('<div class="ML__edit-toolbar right"></div>'),n.push("</div>")),n.push(cje(t,i)),n.push("</div>");return n.join("")}function cje(t,e){if(typeof e=="string")return e;let r="";if(typeof e.style=="string"?r+=`<style>${e.style}</style>`:typeof e.style=="object"&&(r+=`<style>${JNe(e.style)}</style>`),e.backdrop&&(r+=`<div class='${e.backdrop}'>`),e.container&&(r+=`<div class='${e.container}'>`),e.rows){r+="<div class=MLK__rows>";for(let n of e.rows){r+='<div dir="ltr" class=MLK__row>';for(let i of n)if(i){let s=t.registerKeycap(i),[a,o]=N5(i);/(^|\s)separator/.test(o)?r+=`<div class="${o}"`:r+=`<div tabindex="-1" id="${s}" class="${o}"`,i.tooltip&&(r+=` data-tooltip="${i.tooltip}"`),r+=`>${a}</div>`}r+="</div>"}r+="</div>"}else e.markup&&(r+=e.markup);return e.container&&(r+="</div>"),e.backdrop&&(r+="</div>"),r}function N5(t,e={shifted:!1}){var r,n,i,s,a,o,l;let c="",u=(r=t.class)!=null?r:"";if(e.shifted&&kA(t)&&(u+=" is-active"),e.shifted&&"shift"in t)typeof t.shift=="string"?c=Sp(t.shift):typeof t.shift=="object"&&(c=t.shift.label?t.shift.label:(n=Sp(t.shift.latex||t.shift.insert||"")||t.shift.key)!=null?n:""),typeof t.shift=="object"&&(u=(s=(i=t.shift.class)!=null?i:t.class)!=null?s:"");else{if(c=t.label?t.label:(a=Sp(t.latex||t.insert||"")||t.key)!=null?a:"",t.shift){let d;typeof t.shift=="string"?d=Sp(t.shift):t.shift.label?d=t.shift.label:d=(o=Sp(t.shift.latex||t.shift.insert||"")||t.shift.key)!=null?o:"",c+=`<span class="MLK__shift">${d}</span>`}t.aside&&(c+=`<aside>${t.aside}</aside>`)}return t.layer&&!/layer-switch/.test(u)&&(u+=" layer-switch"),/(^|\s)(separator|action|shift|fnbutton|bigfnbutton)($|\s)/.test(u)||(u+=" MLK__keycap"),!/\bw[0-9]+\b/.test(u)&&t.width&&(u+=(l={0:" w0",.5:" w5",1.5:" w15",2:" w20",5:" w50"}[t.width])!=null?l:""),[c,u||"MLK__keycap"]}var il={"[left]":{class:"action hide-shift",label:"<svg class=svg-glyph><use xlink:href=#svg-arrow-left /></svg>",command:"performWithFeedback(moveToPreviousChar)",shift:{label:"<svg class=svg-glyph><use xlink:href=#svg-angle-double-left /></svg>",command:"performWithFeedback(extendSelectionBackward)"}},"[right]":{class:"action hide-shift",label:"<svg class=svg-glyph><use xlink:href=#svg-arrow-right /></svg>",command:"performWithFeedback(moveToNextChar)",shift:{label:"<svg class=svg-glyph><use xlink:href=#svg-angle-double-right /></svg>",command:"performWithFeedback(extendSelectionForward)"}},"[up]":{class:"action hide-shift",label:"",command:"performWithFeedback(moveUp)",shift:{label:"",command:"performWithFeedback(extendSelectionUpward)"}},"[down]":{class:"action hide-shift",label:"",command:"performWithFeedback(moveDown)",shift:{label:"",command:"performWithFeedback(extendSelectionDownward)"}},"[return]":{class:"action hide-shift",command:"performWithFeedback(commit)",shift:{command:"performWithFeedback(addRowAfter)"},width:1.5,label:"<svg class=svg-glyph><use xlink:href=#svg-commit /></svg>"},"[action]":{class:"action hide-shift",command:"performWithFeedback(commit)",shift:{label:"<svg class=svg-glyph><use xlink:href=#circle-plus /></svg>",command:"performWithFeedback(addRowAfter)"},width:1.5,label:"<svg class=svg-glyph><use xlink:href=#svg-commit /></svg>"},"[hr]":{class:"separator horizontal-rule"},"[hide-keyboard]":{class:"action",command:["hideVirtualKeyboard"],width:1.5,label:"<svg class=svg-glyph-lg><use xlink:href=#svg-keyboard-down /></svg>"},"[.]":{variants:".",command:"performWithFeedback(insertDecimalSeparator)",shift:",",class:"big-op hide-shift",label:"."},"[,]":{variants:",",command:"performWithFeedback(insertDecimalSeparator)",shift:".",class:"big-op hide-shift",label:","},"[+]":{variants:[{latex:"\\sum_{#0}^{#0}",class:"small"},"\\oplus"],latex:"+",label:"+",class:"big-op hide-shift",shift:{latex:"\\sum",insert:"\\sum",class:"small"}},"[-]":{variants:["\\pm","\\ominus"],latex:"-",label:"&#x2212;",shift:"\\pm",class:"big-op hide-shift"},"[/]":{class:"big-op hide-shift",shift:{class:"",latex:"\\frac{1}{#@}"},variants:["/","\\div","\\%","\\oslash"],latex:"\\frac{#@}{#?}",label:"&divide;"},"[*]":{variants:[{latex:"\\prod_{#0}^{#0}",class:"small"},"\\otimes","\\cdot"],latex:"\\cdot",label:"&times;",shift:{latex:"\\times"},class:"big-op hide-shift"},"[=]":{variants:["\\neq","\\equiv","\\varpropto","\\thickapprox","\\lt","\\gt","\\le","\\ge"],latex:"=",label:"=",shift:{label:"",latex:"\\ne"},class:"big-op hide-shift"},"[backspace]":{class:"action bottom right hide-shift",width:1.5,command:"performWithFeedback(deleteBackward)",label:"<svg class=svg-glyph><use xlink:href=#svg-delete-backward /></svg>",shift:{class:"action warning",label:"<svg class=svg-glyph><use xlink:href=#svg-trash /></svg>",command:"deleteAll"}},"[undo]":{class:"ghost if-can-undo",command:"undo",label:"<svg class=svg-glyph><use xlink:href=#svg-undo /></svg>",tooltip:"tooltip.undo"},"[redo]":{class:"ghost  if-can-redo",command:"redo",label:"<svg class=svg-glyph><use xlink:href=#svg-redo /></svg>",tooltip:"tooltip.redo"},"[(]":{variants:[{latex:"\\lbrack",key:"["},"\\langle","\\lfloor","\\lceil",{latex:"\\lbrace",key:"{"}],key:"(",label:"(",shift:{label:"[",key:"["},class:"hide-shift"},"[)]":{variants:[{latex:"\\rbrack",key:"]"},"\\rangle","\\rfloor","\\rceil",{latex:"\\rbrace",key:"}"}],key:")",label:")",shift:{label:"]",latex:"\\rbrack"},class:"hide-shift"},"[0]":{variants:"0",latex:"0",label:"0",shift:"\\infty",class:"hide-shift"},"[1]":{variants:"1",latex:"1",label:"1",shift:"#@^{-1}",class:"hide-shift"},"[2]":{variants:"2",latex:"2",label:"2",shift:"#@^2",class:"hide-shift"},"[3]":{variants:"3",latex:"3",label:"3",shift:"#@^3",class:"hide-shift"},"[4]":{variants:"4",latex:"4",label:"4",shift:"#@^4",class:"hide-shift"},"[5]":{variants:"5",latex:"5",label:"5",shift:"#@^5",class:"hide-shift"},"[6]":{variants:"6",latex:"6",label:"6",shift:"#@^6",class:"hide-shift"},"[7]":{variants:"7",latex:"7",label:"7",shift:"#@^7",class:"hide-shift"},"[8]":{variants:"8",latex:"8",label:"8",shift:"#@^8",class:"hide-shift"},"[9]":{variants:"9",latex:"9",label:"9",shift:"#@^9",class:"hide-shift"},"[separator-5]":{class:"separator",width:.5},"[separator]":{class:"separator"},"[separator-10]":{class:"separator"},"[separator-15]":{class:"separator",width:1.5},"[separator-20]":{class:"separator",width:2},"[separator-50]":{class:"separator",width:5},"[shift]":{class:"shift bottom left",width:1.5,label:"<span class=caps-lock-indicator></span><svg class=svg-glyph><use xlink:href=#svg-shift /></svg>"},"[foreground-color]":{variants:"foreground-color",command:["applyStyle",{color:"red"}],label:"<span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428; box-sizing: border-box'>"},"[background-color]":{variants:"background-color",command:["applyStyle",{backgroundColor:"yellow"}],label:"<span style='border-radius: 50%;width:22px;height:22px; background:#fff590; box-sizing: border-box'></span>"}};function nT(t){var e;if(typeof t=="string"){if(t==="[.]"&&globalThis.MathfieldElement.decimalSeparator===","&&(t="[,]"),!il[t])return{latex:t};t={label:t}}let r;return"label"in t&&t.label&&il[t.label]&&(r=W(U(U({},il[t.label]),t),{label:il[t.label].label})),"key"in t&&t.key&&il[t.key]&&(r=W(U(U({},il[t.key]),t),{key:il[t.key].key})),r?(r.command==="insertDecimalSeparator"&&(r.label=(e=globalThis.MathfieldElement.decimalSeparator)!=null?e:"."),(r.tooltip===void 0||r.tooltip===null||r.tooltip===!1)&&delete r.tooltip,(r.tooltip===void 0||r.tooltip===null||r.tooltip===!1)&&delete r.tooltip,(r.aside===void 0||r.aside===null||r.aside===!1)&&delete r.aside,(r.variants===void 0||r.variants===null||r.variants===!1)&&delete r.variants,(r.shift===void 0||r.shift===null||r.shift===!1)&&delete r.shift,r):t}var Gm;function uje(t){var e;if(t.button!==0)return;let r=Wu.singleton;if(!r)return;let n=t.target;for(;n&&!n.getAttribute("data-layer");)n=n.parentElement;if(n){r.currentLayer=(e=n.getAttribute("data-layer"))!=null?e:"",t.preventDefault();return}let i=nA(t.target);if(!(i!=null&&i.id))return;let s=r.getKeycap(i.id);if(!s)return;t.type;let a=new AbortController,o=a.signal;i.classList.add("is-pressed"),i.addEventListener("pointerenter",Ev(a),{capture:!0,signal:o}),i.addEventListener("pointerleave",Ev(a),{capture:!0,signal:o}),i.addEventListener("pointercancel",Ev(a),{signal:o}),i.addEventListener("pointerup",Ev(a),{signal:o}),kA(s)&&(i.classList.add("is-active"),r.shiftPressCount++),s.variants&&(Gm&&clearTimeout(Gm),Gm=setTimeout(()=>{i.classList.contains("is-pressed")&&(i.classList.remove("is-pressed"),i.classList.add("is-active"),t.target&&"releasePointerCapture"in t.target&&t.target.releasePointerCapture(t.pointerId),$re(i,()=>{a.abort(),i==null||i.classList.remove("is-active")}))},s.stickyVariantPanel?0:300)),t.preventDefault()}function Ev(t){return e=>{let r=nA(e.target);if(!(r!=null&&r.id))return;let n=Wu.singleton;if(!n)return;let i=n.getKeycap(r.id);if(i){if(e.type==="pointerenter"&&e.target===r&&e.isPrimary&&r.classList.add("is-pressed"),e.type==="pointercancel"){r.classList.remove("is-pressed"),kA(i)&&(n.shiftPressCount--,r.classList.toggle("is-active",n.isShifted)),t.abort();return}if(e.type==="pointerleave"&&e.target===r){r.classList.remove("is-pressed"),kA(i)&&(n.shiftPressCount--,r.classList.toggle("is-active",n.isShifted));return}if(e.type==="pointerup"){Gm&&clearTimeout(Gm),kA(i)?r.classList.toggle("is-active",n.isShifted):r.classList.contains("is-pressed")&&(r.classList.remove("is-pressed"),n.isShifted&&i.shift?typeof i.shift=="string"?n.executeCommand(["insert",i.shift,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]):e_(i.shift):e_(i),n.shiftPressCount===1&&!e.shiftKey&&(n.shiftPressCount=0)),t.abort(),e.preventDefault();return}}}}function e_(t){var e;let r=t.command;!r&&t.insert&&(r=["insert",t.insert,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]),!r&&t.key&&(r=["typedText",t.key,{focus:!0,feedback:!0,simulateKeystroke:!0}]),!r&&t.latex&&(r=["insert",t.latex,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]),r||(r=["typedText",t.label,{focus:!0,feedback:!0,simulateKeystroke:!0}]),(e=Wu.singleton)==null||e.executeCommand(r)}function dje(t){if(t.nodeType!==1)return!1;let e=t.classList;return e.contains("MLK__keycap")||e.contains("shift")||e.contains("action")||e.contains("fnbutton")||e.contains("bigfnbutton")}function nA(t){if(!t)return;let e=t;for(;e&&!dje(e);)e=e.parentElement;return e??void 0}function kA(t){return!!t.class&&/(^|\s)shift($|\s)/.test(t.class)}var Wu=class Kre{constructor(){this.originalContainerBottomPadding=null,this.keycapRegistry={},this._shiftPressCount=0;var e;this.targetOrigin=window.origin,this.originValidator="none",this._alphabeticLayout="auto",this._layouts=Object.freeze(["default"]),this._editToolbar="default",this._container=void 0,this._visible=!1,this._rebuilding=!1,this.observer=new ResizeObserver(r=>{this.adjustBoundingRect(),this.dispatchEvent(new Event("geometrychange")),this.sendMessage("geometry-changed",{boundingRect:this.boundingRect})}),this.listeners={};try{(e=window.top)==null||e.addEventListener("message",this)}catch{window.addEventListener("message",this)}document.addEventListener("focusin",r=>{let n=r.target;n!=null&&n.isConnected&&setTimeout(()=>{let i=NH();i&&!i.readOnly&&i.mathVirtualKeyboardPolicy==="auto"&&mte()&&this.show({animate:!0})},300)}),document.addEventListener("focusout",r=>{r.target instanceof Lu&&r.target.mathVirtualKeyboardPolicy!=="manual"&&setTimeout(()=>{NH()||this.hide()},300)})}get currentLayer(){var e,r,n;return(n=(r=(e=this._element)==null?void 0:e.querySelector(".MLK__layer.is-visible"))==null?void 0:r.id)!=null?n:""}set currentLayer(e){var r;if(!this._element){this.latentLayer=e;return}let n=e?this._element.querySelector(`#${e}.MLK__layer`):null;n||(n=this._element.querySelector(".MLK__layer")),n&&((r=this._element.querySelector(".MLK__layer.is-visible"))==null||r.classList.remove("is-visible"),n.classList.add("is-visible")),this.render()}get shiftPressCount(){return this._shiftPressCount}set shiftPressCount(e){var r;this._shiftPressCount=e>2||e<0?0:e,(r=this._element)==null||r.classList.toggle("is-caps-lock",this.shiftPressCount===2),this.render()}get isShifted(){return this._shiftPressCount>0}resetKeycapRegistry(){this.keycapRegistry={}}registerKeycap(e){let r="ML__k"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36);return this.keycapRegistry[r]=e,r}setKeycap(e,r){il[e]=nT(r),this.rebuild()}getKeycap(e){var r;return e?(r=il[e])!=null?r:this.keycapRegistry[e]:void 0}getLayer(e){let r=this.normalizedLayouts;for(let n of r)for(let i of n.layers)if(i.id===e)return i}get alphabeticLayout(){return this._alphabeticLayout}set alphabeticLayout(e){this._alphabeticLayout=e,this._normalizedLayouts=void 0,this.rebuild()}get layouts(){return this._layouts}set layouts(e){this.updateNormalizedLayouts(e),this.rebuild()}updateNormalizedLayouts(e){let r=Array.isArray(e)?[...e]:[e],n=r.findIndex(i=>i==="default");n>=0&&r.splice(n,1,"numeric","symbols","alphabetic","greek"),this._layouts=Object.freeze(r),this._normalizedLayouts=r.map(i=>Vre(i))}get normalizedLayouts(){return this._normalizedLayouts||this.updateNormalizedLayouts(this._layouts),this._normalizedLayouts}get editToolbar(){return this._editToolbar}set editToolbar(e){this._editToolbar=e,this.rebuild()}get container(){return this._container===void 0?window.document.body:this._container}set container(e){this._container=e,this.rebuild()}static get singleton(){if(this._singleton===void 0)try{this._singleton=new Kre}catch{this._singleton=null}return this._singleton}get style(){return this._style}addEventListener(e,r,n){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].has(r)||this.listeners[e].add(r)}dispatchEvent(e){return!this.listeners[e.type]||this.listeners[e.type].size===0?!0:(this.listeners[e.type].forEach(r=>{typeof r=="function"?r(e):r==null||r.handleEvent(e)}),!e.defaultPrevented)}removeEventListener(e,r,n){this.listeners[e]&&this.listeners[e].delete(r)}get element(){return this._element}set element(e){var r;this._element!==e&&((r=this._element)==null||r.remove(),this._element=e)}get visible(){return this._visible}set visible(e){e?this.show():this.hide()}get boundingRect(){var e;if(!this._visible)return new DOMRect;let r=(e=this._element)==null?void 0:e.getElementsByClassName("MLK__plate")[0];return r?r.getBoundingClientRect():new DOMRect}adjustBoundingRect(){var e,r;let n=this.boundingRect.height;if(this.container===document.body){(e=this._element)==null||e.style.setProperty("--_keyboard-height",`calc(${n}px + var(--_padding-top) + var(--_padding-bottom) + env(safe-area-inset-bottom, 0))`);let i=n-1;this.container.style.paddingBottom=this.originalContainerBottomPadding?`calc(${this.originalContainerBottomPadding} + ${i}px)`:`${i}px`}else(r=this._element)==null||r.style.setProperty("--_keyboard-height",`${n}px`)}rebuild(){if(this._rebuilding||!this._element)return;this._rebuilding=!0;let e=this.currentLayer;requestAnimationFrame(()=>{this._rebuilding=!1,this._element&&(this._element.remove(),this._element=void 0),this.visible&&(this.buildAndAttachElement(),this.currentLayer=e,this.render(),this.adjustBoundingRect(),this._element.classList.add("is-visible"))})}render(){var e;if(!this._element)return;let r=this.getLayer(this.currentLayer);this._element.classList.toggle("backdrop-is-transparent",!!(r&&(r.backdrop||r.container)));let n=this._element.querySelectorAll(".MLK__layer.is-visible .MLK__keycap, .MLK__layer.is-visible .action, .fnbutton, .MLK__layer.is-visible .bigfnbutton, .MLK__layer.is-visible .shift");if(!n)return;let i=this.isShifted;for(let s of n){let a=this.getKeycap(s.id);if(a){let[o,l]=N5(a,{shifted:i});s.innerHTML=globalThis.MathfieldElement.createHTML(o),s.className=l,i&&typeof a.shift=="object"&&(e=a.shift)!=null&&e.tooltip?s.dataset.tooltip=a.shift.tooltip:!i&&a.tooltip&&(s.dataset.tooltip=a.tooltip)}}}show(e){var r;if(this._visible)return;let n=this.container;if(n&&window.mathVirtualKeyboard&&this.stateWillChange(!0)){if(this._element||(this.buildAndAttachElement(),this.adjustBoundingRect()),!this._visible){let i=this._element.getElementsByClassName("MLK__plate")[0];if(i&&this.observer.observe(i),n===window.document.body){let s=n.style.paddingBottom;this.originalContainerBottomPadding=s;let a=i.offsetHeight-1;n.style.paddingBottom=s?`calc(${s} + ${a}px)`:`${a}px`}window.addEventListener("mouseup",this),window.addEventListener("blur",this),window.addEventListener("keydown",this,{capture:!0}),window.addEventListener("keyup",this,{capture:!0}),(r=this._element)==null||r.classList.toggle("is-caps-lock",this.shiftPressCount===2),this.currentLayer=this.latentLayer}this._visible=!0,e!=null&&e.animate?requestAnimationFrame(()=>{this._element&&(this._element.classList.add("animate"),this._element.addEventListener("transitionend",()=>{var i;return(i=this._element)==null?void 0:i.classList.remove("animate")},{once:!0}),this._element.classList.add("is-visible"),this.stateChanged())}):(this._element.classList.add("is-visible"),this.stateChanged())}}hide(e){var r;let n=this.container;if(n&&this._visible&&this.stateWillChange(!1)){if(this._visible=!1,this._element){this.latentLayer=this.currentLayer;let i=this._element.getElementsByClassName("MLK__plate")[0];i&&this.observer.unobserve(i),window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("keydown",this,{capture:!0}),window.removeEventListener("keyup",this,{capture:!0}),window.removeEventListener("contextmenu",this,{capture:!0}),rA(),sje(),(r=this._element)==null||r.remove(),this._element=void 0,this.originalContainerBottomPadding!==null&&(n.style.paddingBottom=this.originalContainerBottomPadding)}this.stateChanged()}}get height(){var e,r;return(r=(e=this.element)==null?void 0:e.offsetHeight)!=null?r:0}buildAndAttachElement(){var e;this.element,this.element=oje(this),window.addEventListener("contextmenu",this,{capture:!0}),this.element.addEventListener("contextmenu",r=>{r.shiftKey||((r.ctrlKey||r.button===2)&&$re(r.target),r.preventDefault(),r.stopPropagation())},{capture:!0}),(e=this.container)==null||e.appendChild(this.element)}handleEvent(e){if(rT(e)){if(!VF(e.origin,this.originValidator))throw new DOMException(`Message from unknown origin (${e.origin}) cannot be handled`,"SecurityError");e.data.action==="disconnect"?this.connectedMathfieldWindow=void 0:e.data.action!=="update-setting"&&e.data.action!=="proxy-created"&&e.data.action!=="execute-command"&&(e.source,this.connectedMathfieldWindow=e.source),this.handleMessage(e.data,e.source)}if(this._element)switch(e.type){case"mouseup":case"blur":document.body.style.userSelect="",this.shiftPressCount=0;break;case"contextmenu":e.button!==2&&e.preventDefault();break;case"keydown":{e.key==="Shift"&&!e.repeat&&(this.shiftPressCount=1);break}case"keyup":{(e.key==="Shift"||!e.getModifierState("Shift")&&this.shiftPressCount!==2)&&(this.shiftPressCount=0);break}}}handleMessage(e,r){let{action:n}=e;if(n==="execute-command"){let{command:i}=e,s=_A(i);if(window.top!==void 0&&s!=="virtual-keyboard")return;this.executeCommand(i);return}if((n==="connect"||n==="show")&&this.sendMessage("synchronize-proxy",{boundingRect:this.boundingRect,alphabeticLayout:this._alphabeticLayout,layouts:this._layouts,editToolbar:this._editToolbar},r),n!=="disconnect"&&window===window.top){if(n==="show"){typeof e.animate<"u"?this.show({animate:e.animate}):this.show();return}if(n==="hide"){typeof e.animate<"u"?this.hide({animate:e.animate}):this.hide();return}if(n==="update-setting"){if(e.alphabeticLayout&&(this.alphabeticLayout=e.alphabeticLayout),e.layouts&&(this.layouts=e.layouts),e.editToolbar&&(this.editToolbar=e.editToolbar),e.setKeycap){let{keycap:i,value:s}=e.setKeycap;this.setKeycap(i,s),this.render()}return}if(n==="proxy-created"){this.sendMessage("synchronize-proxy",{boundingRect:this.boundingRect,alphabeticLayout:this._alphabeticLayout,layouts:this._layouts,editToolbar:this._editToolbar},r);return}}}sendMessage(e,r,n){if(r.command&&this.dispatchEvent(new CustomEvent("math-virtual-keyboard-command",{detail:r.command})),n||(n=this.connectedMathfieldWindow),this.targetOrigin===null||this.targetOrigin==="null"||n===window){window.dispatchEvent(new MessageEvent("message",{source:window,data:U({type:M3,action:e},r)}));return}if(n)n.postMessage(U({type:M3,action:e},r),{targetOrigin:this.targetOrigin});else if(e==="execute-command"&&Array.isArray(r.command)&&r.command[0]==="insert"){let i=r.command[1].split("");for(let s of i)this.dispatchEvent(new KeyboardEvent("keydown",{key:s,bubbles:!0})),this.dispatchEvent(new KeyboardEvent("keyup",{key:s,bubbles:!0}))}}stateWillChange(e){return this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:e},bubbles:!0,cancelable:!0,composed:!0}))}stateChanged(){this.dispatchEvent(new Event("virtual-keyboard-toggle")),this._visible||(this.dispatchEvent(new Event("geometrychange")),this.sendMessage("geometry-changed",{boundingRect:this.boundingRect}))}focus(){this.sendMessage("focus",{})}blur(){this.sendMessage("blur",{})}updateToolbar(e){let r=this._element;if(!r)return;r.classList.toggle("is-math-mode",e.mode==="math"),r.classList.toggle("is-text-mode",e.mode==="text"),r.classList.toggle("can-undo",e.canUndo),r.classList.toggle("can-redo",e.canRedo),r.classList.toggle("can-copy",!e.selectionIsCollapsed),r.classList.toggle("can-copy",!e.selectionIsCollapsed),r.classList.toggle("can-paste",!0);let n=r.querySelectorAll(".ML__edit-toolbar");if(n)for(let i of n)i.innerHTML=tje(this,e)}update(e){this._style=e.style,this.updateToolbar(e)}connect(){this.connectedMathfieldWindow=window}disconnect(){this.connectedMathfieldWindow=void 0}executeCommand(e){if(e=s1(e),!e)return!1;let r,n=[],i=_A(e);return bn(e)?(r=e[0],r==="performWithFeedback"&&(i=_A(e.slice(1))),n=e.slice(1)):r=e,i==="virtual-keyboard"?yo[r].fn(void 0,...n):(this.sendMessage("execute-command",{command:e}),!1)}dispose(){window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("message",this)}};function NH(){let t=_3(),e=null;for(;t;){if("host"in t&&t.host instanceof Lu){e=t.host;break}t=t.parentNode}return e}if(ia()&&!("mathVirtualKeyboard"in window))if(window===window.top){let t=Wu.singleton;Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>t})}else Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>WNe.singleton,configurable:!0});function F3(t){let e={};for(let r of Object.keys(t))switch(r){case"scriptDepth":let n=t.scriptDepth;if(bn(n))e.scriptDepth=[n[0],n[1]];else if(typeof n=="number")e.scriptDepth=[n,n];else if(typeof n=="string"){let[s,a]=n.split(",").map(o=>parseInt(o.trim()));e.scriptDepth=[s,a]}else throw new TypeError("Unexpected value for scriptDepth");break;case"mathVirtualKeyboardPolicy":let i=t.mathVirtualKeyboardPolicy.toLowerCase();if(i==="sandboxed"){if(window!==window.top){let s=Wu.singleton;Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>s})}i="manual"}e.mathVirtualKeyboardPolicy=i;break;case"letterShapeStyle":t.letterShapeStyle==="auto"?at.locale.startsWith("fr")?e.letterShapeStyle="french":e.letterShapeStyle="tex":e.letterShapeStyle=t.letterShapeStyle;break;case"defaultMode":["text","math","inline-math"].includes(t.defaultMode)?e.defaultMode=t.defaultMode:(console.error('MathLive 0.104.0:  valid values for defaultMode are "text", "math" or "inline-math"'),e.defaultMode="math");break;case"macros":e.macros=O9(t.macros);break;default:bn(t[r])?e[r]=[...t[r]]:typeof t[r]=="object"&&!(t[r]instanceof Element)&&r!=="computeEngine"?e[r]=U({},t[r]):e[r]=t[r]}return e}function Nd(t,e){let r;typeof e=="string"?r=[e]:e===void 0?r=Object.keys(t):r=e;let n={};for(let i of r)t[i]===null?n[i]=null:bn(t[i])?n[i]=[...t[i]]:typeof t[i]=="object"&&!(t[i]instanceof Element)&&i!=="computeEngine"?n[i]=U({},t[i]):n[i]=t[i];return typeof e=="string"?n[e]:n}function Fx(){return{readOnly:!1,defaultMode:"math",macros:{},registers:{},colorMap:b5,backgroundColorMap:OF,letterShapeStyle:at.locale.startsWith("fr")?"french":"tex",minFontScale:0,maxMatrixCols:10,smartMode:!1,smartFence:!0,smartSuperscript:!0,scriptDepth:[1/0,1/0],removeExtraneousParentheses:!0,isImplicitFunction:t=>["\\sin","\\cos","\\tan","\\arcsin","\\arccos","\\arctan","\\arcsec","\\arccsc","\\arsinh","\\arcosh","\\artanh","\\arcsech","\\arccsch","\\arg","\\ch","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\sec","\\sinh","\\sh","\\tanh","\\tg","\\th","\\lg","\\lb","\\log","\\ln"].includes(t),mathModeSpace:"",placeholderSymbol:"",contentPlaceholder:"",popoverPolicy:"auto",environmentPopoverPolicy:"off",keybindings:lLe,inlineShortcuts:jte,inlineShortcutTimeout:0,mathVirtualKeyboardPolicy:"auto",virtualKeyboardTargetOrigin:window==null?void 0:window.origin,originValidator:"none",onInsertStyle:JF,onInlineShortcut:()=>"",onScrollIntoView:null,onExport:oLe,value:""}}function jH(t){return t.defaultMode==="inline-math"?"math":t.defaultMode}function hje(t,e){let r=t.at(t.position);if(r.type==="composition")r.value=e;else{let{caret:n}=r;r.caret=void 0;let i=new ere(e,{mode:r.mode});i.caret=n,r.parent.addChildAfter(i,r),t.position+=1}}function Aje(t){let e=t.at(t.position);e.type==="composition"&&(e.parent.removeChild(e),t.position-=1)}UF(["math","displaymath"],$i);UF("center",$i);Zl(["multline","multline*"],"",$i);de("displaylines","",{parse:t=>{if(t.skipWhitespace(),!t.match("<{>"))return[];let e=[],r=[];t.mathlist.length>0&&e.push([t.mathlist]),t.beginContext({tabular:!0,root:!0});do{if(t.end()||t.match("<}>"))break;t.matchColumnSeparator()||t.matchRowSeparator()?(e.push([r]),r=[]):r.push(...t.scan(i=>["<}>","&","\\cr","\\\\","\\tabularnewline"].includes(i)))}while(!0);t.endContext(),e.push([r]);let n=t.scan();return n.length>0&&e.push([n]),e},createAtom:t=>new dt("lines",t.args,[],{leftDelim:".",rightDelim:".",columns:[{align:"l"}],classes:["ML__multiline_environment"],isRoot:!0,minColumns:1,maxColumns:1,minRows:1})});Zl("split","",$i);Zl(["gather","gather*","gathered"],"",$i);Zl(["equation","equation*","subequations"],"",$i);UF(["align","align*","eqnarray"],$i,{tabular:!0});Zl(["aligned"],"",$i);Zl("array","{columns:colspec}",(t,e,r,n)=>new dt(t,e,r,{columns:n[0],mathstyleName:"textstyle"}));Zl(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],"[columns:colspec]",$i);Zl(["smallmatrix","smallmatrix*"],"[columns:colspec]",$i);Zl(["cases","dcases","rcases"],"",$i);function $i(t,e=[[[]]],r=[],n=[],i){switch(t){case"math":return new dt(t,e,r,{mathstyleName:"textstyle",isRoot:!0,minColumns:1,maxColumns:1,minRows:1,maxRows:1});case"displaymath":return new dt(t,e,r,{mathstyleName:"textstyle",isRoot:!0,minColumns:1,maxColumns:1,minRows:1,maxRows:1});case"center":return new dt(t,e,r,{columns:[{align:"c"}],classes:["ML__center_environment"],isRoot:!0,minColumns:1,maxColumns:1,minRows:1,maxRows:1});case"multline":case"multline*":return new dt(t,e,r,{columns:[{align:"m"}],leftDelim:".",rightDelim:".",isRoot:!0,minColumns:1,maxColumns:1,minRows:1});case"split":return new dt(t,e,r,{columns:[{align:"r"},{align:"l"}],minColumns:2,minRows:1,isRoot:!1});case"gather":case"gather*":return new dt(t,e,r,{columns:[{gap:.25},{align:"c"},{gap:0}],minColumns:1,maxColumns:1,minRows:1,isRoot:!0,classes:["ML__gather_environment"]});case"gathered":return new dt(t,e,r,{columns:[{gap:.25},{align:"c"},{gap:0}],minColumns:1,maxColumns:1,minRows:1});case"equation":case"equation*":case"subequations":return new dt(t,e,r,{columns:[{align:"c"}],isRoot:!0,minColumns:1,maxColumns:1,minRows:1});case"aligned":{let s=0;for(let l of e)s=Math.max(s,l.length);let a=[{gap:0},{align:"r"},{gap:.25},{align:"l"}],o=2;for(;o<s;)a.push({gap:1},{align:"r"},{gap:.25},{align:"l"}),o+=2;return a.push({gap:0}),new dt(t,e,r,{arraycolsep:0,columns:a,minColumns:2,minRows:1,isRoot:t!=="aligned"})}case"eqnarray":return new dt(t,e,r,{arraycolsep:0,columns:[{gap:0},{align:"r"},{align:"c"},{align:"l"}],minColumns:3,maxColumns:3,minRows:1,isRoot:!0,classes:["ML__eqnarray_environment"]});case"align":case"align*":return new dt(t,e,r,{arraycolsep:0,columns:[{gap:0},{align:"r"},{gap:.25},{align:"l"}],minColumns:2,maxColumns:2,minRows:1,isRoot:!0,classes:["ML__align_environment"]});case"pmatrix":case"pmatrix*":return new dt(t,e,r,{mathstyleName:"textstyle",leftDelim:"(",rightDelim:")",columns:hd(n[0],i)});case"bmatrix":case"bmatrix*":return new dt(t,e,r,{mathstyleName:"textstyle",leftDelim:"[",rightDelim:"]",columns:hd(n[0],i)});case"Bmatrix":case"Bmatrix*":return new dt(t,e,r,{mathstyleName:"textstyle",leftDelim:"\\lbrace",rightDelim:"\\rbrace",columns:hd(n[0],i)});case"vmatrix":case"vmatrix*":return new dt(t,e,r,{mathstyleName:"textstyle",leftDelim:"\\vert",rightDelim:"\\vert",columns:hd(n[0],i)});case"Vmatrix":case"Vmatrix*":return new dt(t,e,r,{mathstyleName:"textstyle",leftDelim:"\\Vert",rightDelim:"\\Vert",columns:hd(n[0],i)});case"matrix":case"matrix*":return new dt(t,e,r,{mathstyleName:"textstyle",leftDelim:".",rightDelim:".",columns:hd(n==null?void 0:n[0],i)});case"smallmatrix":case"smallmatrix*":return new dt(t,e,r,{mathstyleName:"scriptstyle",columns:hd(n==null?void 0:n[0],i),colSeparationType:"small",arraystretch:.5});case"cases":case"dcases":return new dt(t,e,r,{mathstyleName:t==="dcases"?"displaystyle":"textstyle",arraystretch:1.2,leftDelim:"\\lbrace",rightDelim:".",columns:[{align:"l"},{gap:1},{align:"l"}]});case"rcases":return new dt(t,e,r,{arraystretch:1.2,leftDelim:".",rightDelim:"\\rbrace",columns:[{align:"l"},{gap:1},{align:"l"}]});case"lines":return new dt(t,e,r,{leftDelim:".",rightDelim:".",columns:[{align:"l"}],isRoot:!0,minColumns:1,maxColumns:1,minRows:1})}return new dt(t,e,r,{mathstyleName:"textstyle"})}function hd(t,e=10){return t??Array(e).fill({align:"c"})}function fje(t){let e=t.at(t.position);for(;e&&!Hl(e.parentBranch);)e=e.parent;return[e.firstSibling,e.lastSibling]}function pje(t,e){let r=t.at(t.position);for(;r&&!(r.parent instanceof dt);)r=r.parent;if(r&&r.type==="array"&&r.environmentName,!r||!(r.parent instanceof dt)){let n=t.at(t.position);if(r=n,!r.parent.parent){let i=t.extractAtoms([t.position,t.lastOffset]),s=t.extractAtoms([0,t.position]),a;return e.endsWith("column")?(s.length===0&&(s=Fv()),i.length===0&&(i=Fv()),a=$i("split",[[s,i]]),t.root=a,Bp(a,0,0)?f0(t,a,0,0):Bp(a,0,1)?f0(t,a,0,1):t.position=t.offsetOf(n)):(a=$i("lines",[[s],[i]]),t.root=a,f0(t,a,1,0)),[void 0,[0,0]]}if(r.parent instanceof Ar){let i=r.parent,s=t.extractAtoms([t.position,t.offsetOf(i.lastChild)]),a=t.extractAtoms([t.offsetOf(i.firstChild),t.position]);a.length===0&&(a=Fv()),s.length===0&&(s=Fv());let o="pmatrix",l=i.leftDelim,c=i.rightDelim;l==="("&&(c===")"||c==="?")?o="pmatrix":(l==="["||l==="\\lbrack")&&(c==="]"||c==="\\rbrack"||c==="?")?o="bmatrix":l==="\\vert"&&c==="\\vert"?o="vmatrix":l==="\\Vert"&&c==="\\Vert"?o="Vmatrix":(l==="{"||l==="\\lbrace")&&(c==="."||c==="?")&&(o="cases");let u=$i(o,e.endsWith("column")?[[a,s]]:[[a],[s]]);return i.parent.addChildBefore(u,i),i.parent.removeChild(i),Bp(u,0,0)?f0(t,u,0,0):e.endsWith("column")?Bp(u,0,1)?f0(t,u,0,1):t.position=t.offsetOf(r):Bp(u,1,0)?f0(t,u,1,0):t.position=t.offsetOf(r),[void 0,[0,0]]}}return r&&r.parent instanceof dt?[r.parent,r.parentBranch]:[void 0,[0,0]]}function Bp(t,e,r){let n=t.getCell(e,r);return!n||n.length!==2?!1:n[1].type==="placeholder"}function mje(t,e,r,n){let i=e.getCell(r,n);return i?[t.offsetOf(i[0]),t.offsetOf(i[i.length-1])]:-1}function f0(t,e,r,n){let i=mje(t,e,r,n);typeof i!="number"&&t.setSelection(i)}function Mv(t,e,r,n,i){let s=e.getCell(r,n);s&&t.setPositionHandlingPlaceholder(t.offsetOf(s[i==="start"?0:s.length-1]))}function a1(t,e){let[r,[n,i]]=pje(t,e);if(r)switch(e){case"after row":r.addRowAfter(n),Mv(t,r,n+1,0,"end");break;case"after column":if(r.maxColumns<=r.colCount){t.announce("plonk");return}r.addColumnAfter(i),Mv(t,r,n,i+1,"end");break;case"before row":r.addRowBefore(n),Mv(t,r,n,0,"start");break;case"before column":if(r.maxColumns<=r.colCount){t.announce("plonk");return}r.addColumnBefore(i),Mv(t,r,n,i,"start");break}}function qre(t){var e;let r=t.at(t.position);if(!Hl(r.parentBranch)&&r.parent!==t.root&&t.root.type!=="root")return t.announce("plonk"),!1;if(!t.contentWillChange({inputType:"insertText"}))return!1;if((e=t.parentEnvironment)!=null&&e.isMultiline){t.selectionIsCollapsed||t.deleteAtoms(jn(t.selection));let[n,i]=fje(t),s=t.extractAtoms([t.position,t.offsetOf(i)]),a=t.extractAtoms([t.offsetOf(n),t.position]),o=n.parent,[l,c]=n.parentBranch;return o.setCell(l,c,a),a1(t,"after row"),o.setCell(l+1,c,s),t.position=t.offsetOf(o.getCell(l+1,c)[0]),t.contentDidChange({inputType:"insertText"}),!0}return a1(t,"after row"),t.contentDidChange({inputType:"insertText"}),!0}function gje(t){return t.contentWillChange({inputType:"insertText"})?(a1(t,"before row"),t.contentDidChange({inputType:"insertText"}),!0):!1}function Wre(t){return t.contentWillChange({inputType:"insertText"})?(a1(t,"after column"),t.contentDidChange({inputType:"insertText"}),!0):!1}function yje(t){return t.contentWillChange({inputType:"insertText"})?(a1(t,"before column"),t.contentDidChange({inputType:"insertText"}),!0):!1}function Gre(t,e){if(!t.contentWillChange({}))return!1;t.mathfield.snapshot();let r=".",n=".";switch(e){case"pmatrix":case"pmatrix*":r="(",n=")";break;case"bmatrix":case"bmatrix*":r="[",n="]";break;case"Bmatrix":case"Bmatrix*":r="\\lbrace",n="\\rbrace";break;case"vmatrix":case"vmatrix*":r="\\vert",n="\\vert";break;case"Vmatrix":case"Vmatrix*":r="\\Vert",n="\\Vert";break;case"matrix":case"matrix*":r=".",n=".";break;case"cases":case"dcases":r="\\lbrace";break;case"rcases":n="\\rbrace";break}let i=t.at(t.position),s=i.type==="array"?i:t.parentEnvironment;return s.environmentName=e,s.leftDelim=r,s.rightDelim=n,t.contentDidChange({}),!0}function Xre(t,e){let r=t.at(t.position);for(;r&&!(Array.isArray(r.parentBranch)&&r.parent instanceof dt);)r=r.parent;if(Array.isArray(r==null?void 0:r.parentBranch)&&(r==null?void 0:r.parent)instanceof dt){let n=r.parent,i=r.parentBranch,s;switch(e){case"row":if(n.rowCount>1){n.removeRow(i[0]);let a=n.getCell(Math.max(0,i[0]-1),i[1]);s=t.offsetOf(a[a.length-1])}break;case"column":if(n.colCount>n.minColumns){n.removeColumn(i[1]);let a=n.getCell(i[0],Math.max(0,i[1]-1));s=t.offsetOf(a[a.length-1])}break}s&&t.setPositionHandlingPlaceholder(s)}}function vje(t){return t.contentWillChange({inputType:"deleteContent"})?(Xre(t,"row"),t.contentDidChange({inputType:"deleteContent"}),!0):!1}function xje(t){return t.contentWillChange({inputType:"deleteContent"})?(Xre(t,"column"),t.contentDidChange({inputType:"deleteContent"}),!0):!1}bi({addRowAfter:qre,addColumnAfter:Wre,addRowBefore:gje,addColumnBefore:yje,removeRow:vje,removeColumn:xje,setEnvironment:Gre},{target:"model",canUndo:!0,changeContent:!0,changeSelection:!0});function Fv(){return[new Do]}var Yre=class Jre{constructor(e){this.recording=!1,this.model=e,this.reset()}reset(){this.stack=[],this.index=-1,this.lastOp=""}startRecording(){this.recording=!0}stopRecording(){this.recording=!1}canUndo(){return this.index-1>=0}canRedo(){return this.stack.length-1>this.index}stopCoalescing(e){e&&this.index>=0&&(this.stack[this.index].selection=e),this.lastOp=""}undo(){return this.canUndo()?(this.model.setState(this.stack[this.index-1],{silenceNotifications:!1,type:"undo"}),this.index-=1,this.lastOp="",!0):!1}redo(){return this.canRedo()?(this.index+=1,this.model.setState(this.stack[this.index],{silenceNotifications:!1,type:"redo"}),this.lastOp="",!0):!1}pop(){this.canUndo()&&(this.stack.splice(this.index,this.stack.length-this.index),this.index-=1)}snapshot(e){return this.recording?(e&&e===this.lastOp&&this.pop(),this.stack.splice(this.index+1,this.stack.length-this.index-1),this.stack.push(this.model.getState()),this.index+=1,this.stack.length>Jre.maximumDepth&&(this.stack.shift(),this.index-=1),this.lastOp=e??"",!0):!1}};Yre.maximumDepth=1e3;var bje=Yre;function t_(t,e,r){if(t.at(e).mode!=="text")return e;let n=r==="backward"?-1:1,i;if(t1.test(t.at(e).value)){let s=e,a;do a=t.at(s).mode==="text"&&t1.test(t.at(s).value),s+=n;while(t.at(s)&&a);i=t.at(s)?s-2*n:s-n}else if(/\s/.test(t.at(e).value)){let s=e;for(;t.at(s)&&t.at(s).mode==="text"&&/\s/.test(t.at(s).value);)s+=n;if(!t.at(s))i=s-n;else{let a=!0;do a=t.at(s).mode==="text"&&!/\s/.test(t.at(s).value),s+=n;while(t.at(s)&&a);i=t.at(s)?s-2*n:s-n}}else{let s=e;for(;t.at(s)&&t.at(s).mode==="text"&&!/\s/.test(t.at(s).value);)s+=n;i=t.at(s)?s:s-n;let a=!0;for(;t.at(s)&&a;)a=t.at(s).mode==="text"&&/\s/.test(t.at(s).value),a&&(i=s),s+=n;i=t.at(s)?s-2*n:s-n}return i-(n>0?0:1)}function iA(t,e,r){var n,i,s,a,o,l,c;let u=t.position;(n=r==null?void 0:r.extend)!=null&&n||t.collapseSelection(e);let d=t.at(t.position);if(e==="forward"&&(d.type==="subsup"?(d=d.rightSibling,d||(d=t.at(t.position+1))):d=t.at(t.position+1)),!d)return t.announce("plonk"),!1;let A=t.offsetOf(d);if(d instanceof Ff)A=t_(t,A,e);else if(d instanceof an)if(d.isSuggestion)for(;d&&d instanceof an;)d.isSuggestion=!1,A=t.offsetOf(d),d=d.rightSibling;else if(e==="forward"){if(d=d.rightSibling,!d||!(d instanceof an))return t.announce("plonk"),!1;for(;d&&d instanceof an&&/[a-zA-Z\*]/.test(d.value);)A=t.offsetOf(d),d=d.rightSibling}else{if(d=d.leftSibling,!d||!(d instanceof an))return t.announce("plonk"),!1;for(;d&&d instanceof an&&/[a-zA-Z\*]/.test(d.value);)A=t.offsetOf(d),d=d.leftSibling}else if(e==="forward"&&d.type==="mopen"){let f=0;do d.type==="mopen"?f+=1:d.type==="mclose"&&(f-=1),d=d.rightSibling;while(!d.isLastSibling&&f!==0);A=t.offsetOf(d.leftSibling)}else if(e==="backward"&&d.type==="mclose"){let f=0;do d.type==="mopen"?f+=1:d.type==="mclose"&&(f-=1),d=d.leftSibling;while(!d.isFirstSibling&&f!==0);A=t.offsetOf(d)}else if(e==="backward")if(d.type==="first")for(;A>0&&d.type==="first";)A-=1,d=t.at(A);else{let f=d.type;d.type==="subsup"&&(A=t.offsetOf(t.at(A).leftSibling)),A-=1;let p=(i=t.at(A))==null?void 0:i.type;for(;A>=0&&p===f;)((s=t.at(A))==null?void 0:s.type)==="subsup"?A=t.offsetOf(t.at(A).leftSibling):A-=1,p=t.at(A).type}else{let{type:f}=d,p=(a=t.at(A))==null?void 0:a.type,{lastOffset:m}=t;for(;A<=m&&(p===f||p==="subsup");){for(;((o=t.at(A).rightSibling)==null?void 0:o.type)==="subsup";)A=t.offsetOf(t.at(A).rightSibling);A+=1,p=(l=t.at(A))==null?void 0:l.type}A-=1}if((c=r==null?void 0:r.extend)!=null&&c){if(!t.setSelection(t.anchor,A))return t.announce("plonk"),!1}else{if(A===t.position)return t.announce("plonk"),!1;t.position=A}return t.announce("move",u),t.mathfield.stopCoalescingUndo(),!0}function vo(t,e,r){var n,i;if(r=r??{extend:!1},t.mathfield.styleBias=e==="backward"?"right":"left",e!=="forward"){let[o,l]=Pre(t);o!==void 0&&l!==void 0&&t.deleteAtoms([o,l])}if(e==="upward")return Cje(t,r);if(e==="downward")return Sje(t,r);if(r.extend){let o=Tx(t,t.position,e);o<0&&(o=0),o>t.lastOffset&&(o=t.lastOffset);let l=t.setSelection(t.anchor,o);return t.mathfield.stopCoalescingUndo(),l}if(t.selectionIsPlaceholder){t.collapseSelection(e);let o=vo(t,e);return t.mathfield.stopCoalescingUndo(),o}let s=t.position,a=s;if(t.collapseSelection(e)?(s=t.position,Zre(t,s)||(s=Tx(t,s,e))):s=Tx(t,s,e),s<0||s>t.lastOffset){let o=!0;return t.silenceNotifications||(o=(i=(n=t.mathfield.host)==null?void 0:n.dispatchEvent(new CustomEvent("move-out",{detail:{direction:e},cancelable:!0,bubbles:!0,composed:!0})))!=null?i:!0),o&&t.announce("plonk"),o}return t.setPositionHandlingPlaceholder(s),t.mathfield.stopCoalescingUndo(),t.announce("move",a),!0}function Tx(t,e,r){return e=e+(r==="forward"?1:-1),e<0||e>t.lastOffset||Zre(t,e)?e:Tx(t,e,r)}function Zre(t,e){var r;let n=t.at(e),i=n.parent;for(;i&&!i.inCaptureSelection;)i=i.parent;return!(i!=null&&i.inCaptureSelection||(r=n.parent)!=null&&r.skipBoundary&&(!n.isFirstSibling&&n.isLastSibling||n.type==="first")||t.mathfield.hasEditablePrompts&&!n.parentPrompt)}function wje(t,e,r){let n=1/0,i=0;for(;i<e.length;i++){let s=e[i],a=t.getHTMLElement(s);if(!a)continue;let o=Rte(a).right,l=Math.abs(r-o);if(l<=n)n=l;else break}return e[i-1]}function T3(t,e,r,n,i){let s=t.mathfield.hasEditablePrompts,a=s?r.filter(c=>c.type==="prompt"&&!c.captureSelection):r,o=Rte(t.mathfield.getHTMLElement(e)).right,l=t.offsetOf(wje(t.mathfield,a,o))-(s?1:0);if(n){let[c,u]=t.selection.ranges[0],d;l<(i==="up"?c:u)?d={ranges:[[l,u]],direction:"backward"}:d={ranges:[[c,l]],direction:"forward"},t.setSelection(d)}else t.setPositionHandlingPlaceholder(l);t.announce(`move ${i}`)}function Cje(t,e){var r,n;let i=(r=e==null?void 0:e.extend)!=null?r:!1;i||t.collapseSelection("backward");let s=()=>{var l,c;let u=!0;return t.silenceNotifications||(u=(c=(l=t.mathfield.host)==null?void 0:l.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"upward"},cancelable:!0,bubbles:!0,composed:!0})))!=null?c:!0),t.announce(u?"line":"plonk"),u},a=t.at(t.position),o=a;for(;o&&o.parentBranch!=="below"&&!(Array.isArray(o.parentBranch)&&o.parent instanceof dt);)o=o.parent;if(Array.isArray(o==null?void 0:o.parentBranch)&&o.parent instanceof dt){let l=o.parent;if(o.parentBranch[0]<1)return s();let c=o.parentBranch[0]-1,u=l.getCell(c,o.parentBranch[1]);if(!u.some(d=>d.type==="prompt"&&!d.captureSelection)&&t.mathfield.hasEditablePrompts)return s();T3(t,a,u,i,"up")}else if(o){let l=(n=o.parent.branch("above"))!=null?n:o.parent.createBranch("above");if(!l.some(c=>c.type==="prompt"&&c.placeholderId)&&t.mathfield.hasEditablePrompts)return s();T3(t,a,l,i,"up")}else return s();return t.mathfield.stopCoalescingUndo(),!0}function Sje(t,e){var r,n;let i=(r=e==null?void 0:e.extend)!=null?r:!1;i||t.collapseSelection("forward");let s=()=>{var l,c;let u=!0;return t.silenceNotifications||(u=(c=(l=t.mathfield.host)==null?void 0:l.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"downward"},cancelable:!0,bubbles:!0,composed:!0})))!=null?c:!0),t.announce(u?"line":"plonk"),u},a=t.at(t.position),o=a;for(;o&&o.parentBranch!=="above"&&!(Hl(o.parentBranch)&&o.parent instanceof dt);)o=o.parent;if(Hl(o==null?void 0:o.parentBranch)&&o.parent instanceof dt){let l=o.parent;if(o.parentBranch[0]+1>l.rows.length-1)return s();let c=o.parentBranch[0]+1,u=l.getCell(c,o.parentBranch[1]);if(!u.some(d=>d.type==="prompt"&&!d.captureSelection)&&t.mathfield.hasEditablePrompts)return s();T3(t,a,u,i,"down")}else if(o){let l=(n=o.parent.branch("below"))!=null?n:o.parent.createBranch("below");if(!l.some(c=>c.type==="prompt")&&t.mathfield.hasEditablePrompts)return s();T3(t,a,l,i,"down")}else return s();return!0}function ene(t){let e=t.position,r=t.at(e).parent;return r!=null&&r.parent?(t.position=t.offsetOf(r),t.mathfield.stopCoalescingUndo(),t.announce("move",e),!0):(t.announce("plonk"),!1)}function Bje(t){let e=0,r=t.at(t.position),n=!1;for(;r;)(!r.hasEmptyBranch("superscript")||!r.hasEmptyBranch("subscript"))&&(e+=1),r.hasEmptyBranch("superscript")?r.hasEmptyBranch("subscript")||(n=!1):n=!0,r=r.parent;return n?e:0}function _je(t){let e=0,r=t.at(t.position),n=!1;for(;r;)(!r.hasEmptyBranch("superscript")||!r.hasEmptyBranch("subscript"))&&(e+=1),r.hasEmptyBranch("superscript")?r.hasEmptyBranch("subscript")||(n=!0):n=!1,r=r.parent;return n?e:0}function IH(t){var e;if(t.collapseSelection(),Bje(t)>=t.mathfield.options.scriptDepth[1])return t.announce("plonk"),!1;let r=t.at(t.position);return r.subsupPlacement===void 0&&(((e=r.rightSibling)==null?void 0:e.type)!=="subsup"&&r.parent.addChildAfter(new E5({style:r.style}),r),r=r.rightSibling),r.createBranch("superscript"),t.setSelection(t.getSiblingsRange(t.offsetOf(r.superscript[0]))),!0}function OH(t){var e;if(t.collapseSelection(),_je(t)>=t.mathfield.options.scriptDepth[0])return t.announce("plonk"),!1;let r=t.at(t.position);return r.subsupPlacement===void 0&&(((e=t.at(t.position+1))==null?void 0:e.type)!=="subsup"&&r.parent.addChildAfter(new E5({style:t.at(t.position).style}),r),r=t.at(t.position+1)),r.createBranch("subscript"),t.setSelection(t.getSiblingsRange(t.offsetOf(r.subscript[0]))),!0}function kje(){function t(l){let c=[],u=[];return[...l.querySelectorAll(`input, select, textarea, a[href], button,
        [tabindex], audio[controls], video[controls],
        [contenteditable]:not([contenteditable="false"]), details>summary`)].filter(e).forEach((d,A)=>{let f=n(d);f===0?c.push(d):u.push({documentOrder:A,tabIndex:f,node:d})}),u.sort((d,A)=>d.tabIndex===A.tabIndex?d.documentOrder-A.documentOrder:d.tabIndex-A.tabIndex).map(d=>d.node).concat(c)}function e(l){return!(!r(l)||i(l)||n(l)<0)}function r(l){return!(l.disabled||l.type==="hidden"&&l.tagName.toUpperCase()==="INPUT"||o(l))}function n(l){var c;let u=Number.parseInt((c=l.getAttribute("tabindex"))!=null?c:"NaN",10);return Number.isNaN(u)?l.contentEditable==="true"||(l.nodeName==="AUDIO"||l.nodeName==="VIDEO")&&l.getAttribute("tabindex")===null?0:l.tabIndex:u}function i(l){return l.tagName.toUpperCase()==="INPUT"&&l.type==="radio"&&!a(l)}function s(l,c){for(let u of l)if(u.checked&&u.form===c)return u;return null}function a(l){var c;if(!l.name)return!0;let u=((c=l.form)!=null?c:l.ownerDocument).querySelectorAll('input[type="radio"][name="'+l.name+'"]'),d=s(u,l.form);return!d||d===l}function o(l){if(!ia()||l===document.activeElement||l.contains(document.activeElement))return!1;if(getComputedStyle(l).visibility==="hidden")return!0;let c=l.getBoundingClientRect();if(c.width===0||c.height===0)return!0;for(;l;){if(getComputedStyle(l).display==="none")return!0;l=l.parentElement}return!1}return ia()?t(document.body):[]}function zn(t,e,r="forward"){let n=t.position;if(bn(e)){let i=t.offsetOf(e[0]),s=t.offsetOf(e[e.length-1]);return r==="forward"?t.setSelection(i,s):t.setSelection(s,i),t.announce("move",n),t.mathfield.stopCoalescingUndo(),!0}return r==="forward"?zn(t,[e.leftSibling,e]):zn(t,[e,e.leftSibling])}function ha(t,e){let r=t.position;if(typeof e=="number"&&(e=t.at(e)),e.type==="prompt")t.setSelection(t.offsetOf(e.firstChild),t.offsetOf(e.lastChild));else{let n=t.offsetOf(e);e.type==="placeholder"?t.setSelection(n-1,n):t.position=n}return t.announce("move",r),t.mathfield.stopCoalescingUndo(),!0}function sA(t,e){var r,n;let i=e==="forward"?1:-1;t.at(t.anchor).type==="placeholder"&&vo(t,e);let s,a=t.at(t.anchor).parentPrompt;a?e==="forward"?s=t.offsetOf(a)+1:s=t.offsetOf(a.leftSibling):s=Math.max(t.position+i,0);let o=r_(t,s,e);if(!o||e==="forward"&&t.offsetOf(o)<s||e==="backward"&&t.offsetOf(o)>s){if(!((n=(r=t.mathfield.host)==null?void 0:r.dispatchEvent(new CustomEvent("move-out",{detail:{direction:e},cancelable:!0,bubbles:!0,composed:!0})))==null||n))return t.announce("plonk"),!1;let l=kje();if(!document.activeElement||l.length<=1)return t.announce("plonk"),!1;let c=l.indexOf(document.activeElement)+i;return c<0&&(c=l.length-1),c>=l.length&&(c=0),l[c].focus(),t.mathfield.stopCoalescingUndo(),!0}return ha(t,o),!0}function r_(t,e=0,r="forward"){return t.findAtom(n=>n.type==="placeholder"||n.type==="prompt"||!t.mathfield.readOnly&&n.treeDepth>2&&n.isFirstSibling&&n.isLastSibling,e,r)}bi({moveToOpposite:t=>{let e={superscript:"subscript",subscript:"superscript",above:"below",below:"above"},r=t.at(t.position),{parent:n}=r;if(!n)return t.announce("plonk"),!1;let i=r.parentBranch,s;if(typeof i=="string"&&(s=e[i]),!s){let o=r.subsupPlacement?OH(t):IH(t);return t.mathfield.stopCoalescingUndo(),o}n.branch(s)||n.createBranch(s);let a=t.setSelection(t.getBranchRange(t.offsetOf(n),s));return t.mathfield.stopCoalescingUndo(),a},moveBeforeParent:t=>{let{parent:e}=t.at(t.position);return e?(t.position=t.offsetOf(e),t.mathfield.stopCoalescingUndo(),!0):(t.announce("plonk"),!1)},moveAfterParent:t=>ene(t),moveToNextChar:t=>vo(t,"forward"),moveToPreviousChar:t=>vo(t,"backward"),moveUp:t=>vo(t,"upward"),moveDown:t=>vo(t,"downward"),moveToNextWord:t=>iA(t,"forward"),moveToPreviousWord:t=>iA(t,"backward"),moveToGroupStart:t=>{let e=t.offsetOf(t.at(t.position).firstSibling);return e===t.position?(t.announce("plonk"),!1):(t.position=e,t.mathfield.stopCoalescingUndo(),!0)},moveToGroupEnd:t=>{let e=t.offsetOf(t.at(t.position).lastSibling);return e===t.position?(t.announce("plonk"),!1):(t.position=e,t.mathfield.stopCoalescingUndo(),!0)},moveToNextGroup:t=>{var e,r,n,i;if(t.position===t.lastOffset&&t.anchor===t.lastOffset)return sA(t,"forward");let s=t.at(t.position);if(s.mode==="text"){if(t.selectionIsCollapsed){let d=s;for(;d&&d.mode==="text";)d=d.leftSibling;let A=s;for(;((e=A.rightSibling)==null?void 0:e.mode)==="text";)A=A.rightSibling;if(d&&A)return zn(t,[d,A])}if(s.rightSibling.mode==="text"){let d=s;for(;d&&d.mode==="text";)d=d.rightSibling;return d?(ha(t,(r=d.leftSibling)!=null?r:d),t.mathfield.switchMode("math"),!0):ha(t,t.lastOffset)}}let a=t.at(t.anchor).parentPrompt,o=a?t.offsetOf(a)+1:Math.max(t.position+1,0),l=r_(t,o,"forward");if(l&&t.offsetOf(l)<o)return sA(t,"forward");if(l)return ha(t,l);let c=PH(t,s,d=>d.type==="leftright"||d.type==="text","forward");if(c){if(c.mode==="text"){let d=c;for(;d&&d.mode==="text";)d=d.rightSibling;return zn(t,[(n=c.leftSibling)!=null?n:c,(i=d.leftSibling)!=null?i:d])}return zn(t,c)}let u=s.parent;if(u){if(u.type==="leftright"||u.type==="surd")return zn(t,u);if(s.parentBranch==="superscript"&&u.subscript)return zn(t,u.subscript);if(s.parentBranch==="above"&&u.below)return zn(t,u.below);if(s.parentBranch==="superscript"||s.parentBranch==="subscript")return ha(t,u);if(s.parentBranch==="above"||s.parentBranch==="below")return zn(t,u)}return ha(t,t.lastOffset)},moveToPreviousGroup:t=>{var e;if(t.position===0&&t.anchor===0)return sA(t,"backward");let r=t.at(t.position),n=r.mode;if(n==="text"){if(t.selectionIsCollapsed){let o=r;for(;o&&o.mode==="text";)o=o.leftSibling;let l=r;for(;((e=l.rightSibling)==null?void 0:e.mode)==="text";)l=l.rightSibling;if(o&&l)return zn(t,[o,l])}for(;r&&r.mode==="text";)r=r.leftSibling;return r?ha(t,r):ha(t,0)}let i=t.at(t.anchor).parentPrompt,s=i?t.offsetOf(i.leftSibling):Math.max(t.position-1,0),a=r_(t,s,"backward");if(a&&t.offsetOf(a)>s)return sA(t,"backward");if(a)return ha(t,a);if(n==="math"){let o=PH(t,r,c=>c.type==="leftright"||c.type==="text","backward");if(o){if(o.mode==="text"){let c=o;for(;c&&c.mode==="text";)c=c.leftSibling;return zn(t,[o,c])}return zn(t,o)}let l=r.parent;if(l){if(l.type==="leftright"||l.type==="surd")return zn(t,l);if(r.parentBranch==="subscript"&&l.superscript)return zn(t,l.superscript);if(r.parentBranch==="below"&&l.above)return zn(t,l.above);if(r.parentBranch==="superscript"||r.parentBranch==="subscript")return ha(t,l);if(r.parentBranch==="above"||r.parentBranch==="below")return zn(t,l)}return ha(t,0)}return!1},moveToMathfieldStart:t=>t.selectionIsCollapsed&&t.position===0?(t.announce("plonk"),!1):(t.position=0,t.mathfield.stopCoalescingUndo(),!0),moveToMathfieldEnd:t=>t.selectionIsCollapsed&&t.position===t.lastOffset?(t.announce("plonk"),!1):(t.position=t.lastOffset,t.mathfield.stopCoalescingUndo(),!0),moveToSuperscript:IH,moveToSubscript:OH},{target:"model",changeSelection:!0});bi({moveToNextPlaceholder:t=>sA(t,"forward"),moveToPreviousPlaceholder:t=>sA(t,"backward")},{target:"model",changeSelection:!0,audioFeedback:"return"});function PH(t,e,r,n){if(n==="forward"){let s=e.rightSibling;for(;s&&!r(s);)s=s.rightSibling;return s}let i=e.leftSibling;for(;i&&!r(i);)i=i.leftSibling;return i}function Tv(t,e,r){typeof e=="function"&&(r=e,e=1/0),e===void 0&&(e=1/0);let n=t.position,i=!1,s="";for(;!i;){let a=t.at(n);i=e===0||a===void 0||a.type==="first"||a.mode!=="math"||!(a.type&&/mord|mpunct|operator/.test(a.type)||a.type==="mop"&&/[a-zA-Z ]+/.test(a.value))||!a.hasEmptyBranch("superscript")||!a.hasEmptyBranch("subscript")||typeof r=="function"&&!r(a),i||(a.mode="text",a.command=a.value,a.verbatimLatex=void 0,s+=a.value),n-=1,e-=1}t.contentDidChange({data:s,inputType:"insertText"})}function _p(t,e,r){typeof e=="function"&&(r=e,e=1/0),e===void 0&&(e=1/0);let n=t.position,i=!1,s=[];for(;!i;){let a=t.at(n);i=e===0||!a||a.type==="first"||a.isFirstSibling||a.mode!=="text"||a.value===" "||typeof r=="function"&&!r(a),i||(s.push(se.serialize([a],{defaultMode:"math"})),a.mode="math"),n-=1,e-=1}iT(t),t.contentDidChange({data:ot(s),inputType:"insertText"})}function iT(t){var e;let r=t.position-1;for(;r>=0&&((e=t.at(r))==null?void 0:e.mode)==="math";)r-=1;if(!(r<0)&&t.at(r).mode==="text"&&t.at(r).value===" "&&t.at(r-1).mode==="math"){t.at(r-1).parent.removeChild(t.at(r-1));let n=t.silenceNotifications;t.silenceNotifications=!0,t.position-=1,t.silenceNotifications=n,t.contentDidChange({inputType:"deleteContent"})}}function Eje(t){let e="",r=t.position,n=!1;for(;!n;){let i=t.at(r);n=!(i&&(i.mode==="text"||i.mode==="math"&&i.type&&/mord|mpunct/.test(i.type))),n||(e=i.value+e),r-=1}return e}function Mje(t,e,r){let{model:n}=t;if(n.mode==="latex"||!n.at(n.position).isLastSibling||!r||!F5(r))return!1;let i=k0(r);if(!n.selectionIsCollapsed)return!!(t.model.mode==="text"&&/[/_^]/.test(i));let s=Eje(n)+i;if(t.model.mode==="text"){if(e==="Esc"||/[/\\]/.test(i))return!0;if(/[\^_]/.test(i))return/(^|\s)[a-zA-Z][^_]$/.test(s)&&_p(n,1),!0;let a={")":"(","}":"{","]":"["}[i],{parent:o}=n.at(n.position);if(a&&o instanceof Ar&&o.leftDelim===a)return!0;if(/(^|[^a-zA-Z])(a|I) $/.test(s))return!1;if(/[$]/u.test(i))return!0;if(/(^|[^a-zA-Z'])[a-zA-Z] $/.test(s))return _p(n,1),!1;if(/\D\.[^\d\s]$/.test(s)){_p(n,1);let l=n.at(n.position);return l.value="",l.style.variant="normal",l.command="\\cdot",l.verbatimLatex=void 0,n.contentDidChange({data:"\\cdot",inputType:"insertText"}),!0}if(/(^|\s)[a-zA-Z][^a-zA-Z]$/.test(s)||/\.\d$/.test(s)||/\([\d+\-.]$/.test(s))return _p(n,1),!0;if(/\([a-z][,;]$/.test(s))return _p(n,2),!0;if(/[\d+\-=><*|]$/.test(i))return iT(n),!0}else{if(e==="[Space]")return Tv(n,void 0,a=>/[a-z][:,;.]$/.test(a.value)),!0;if(/[a-zA-Z]{3,}$/.test(s)&&!/(dxd|abc|xyz|uvw)$/.test(s))return Tv(n,void 0,a=>/[a-zA-Z]/.test(a.value)),!0;if(/(^|\W)(if)$/i.test(s))return Tv(n,1),!0;if(/(\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5){3,}$/u.test(s)&&!/()$/.test(s))return Tv(n,void 0,a=>/(:|,|;|.|\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5)/u.test(a.value)),!0;if(i==="?"||i==="."&&!/[\d-+]\.$/.test(s))return!0}return!1}function Fje(t,e){if(!t.isSelectionEditable||!t.keystrokeCaptionVisible)return;let r=tne(),n=t.element.getBoundingClientRect();r.style.left=`${n.left}px`,r.style.top=`${n.top-64}px`,r.innerHTML=globalThis.MathfieldElement.createHTML("<span>"+(XF(e)||e)+"</span>"+r.innerHTML),r.style.visibility="visible",setTimeout(()=>{r.childNodes.length>0&&r.childNodes[r.childNodes.length-1].remove(),r.childNodes.length===0&&(r.style.visibility="hidden")},3e3)}function Tje(t){if(t.keystrokeCaptionVisible=!t.keystrokeCaptionVisible,t.keystrokeCaptionVisible){let e=tne();e.innerHTML=""}else{let e=D5("mathlive-keystroke-caption-panel");e.style.visibility="hidden"}return!1}function tne(){return document.getElementById("mathlive-keystroke-caption-panel")||(Fu("keystroke-caption"),Fu("core"),D5("mathlive-keystroke-caption-panel"))}function Dje(){document.getElementById("mathlive-keystroke-caption-panel")&&(ZF("mathlive-keystroke-caption-panel"),Tu("core"),Tu("keystroke-caption"))}function rne(t,e){var r,n,i,s;let{model:a}=t,o=Ore(e);if(e.isTrusted){wNe(e);let m=i1();t.keyboardLayout!==m.id&&(t.keyboardLayout=m.id,t._keybindings=void 0)}if(clearTimeout(t.inlineShortcutBufferFlushTimer),t.inlineShortcutBufferFlushTimer=0,Fje(t,o),e.isTrusted&&e.defaultPrevented)return t.flushInlineShortcutBuffer(),!1;let l,c=0,u="",d=0,A=t.inlineShortcutBuffer;if(t.isSelectionEditable){if(a.mode==="math")if(o==="[Backspace]")t.undoManager.lastOp==="insert-shortcut"?u="undo":A.pop();else if(!F5(e))t.flushInlineShortcutBuffer();else{let m=k0(e),y=[...(n=(r=A[A.length-1])==null?void 0:r.keystrokes)!=null?n:[],m];A.push({state:a.getState(),keystrokes:y,leftSiblings:Lje(t)}),c=0;let g="";for(;!l&&c<y.length;)d=A.length-(y.length-c),g=y.slice(c).join(""),l=zF(A[d].leftSiblings,g,t.options.inlineShortcuts),!l&&/^[a-zA-Z][a-zA-Z0-9]+?([_\^][a-zA-Z0-9\*\+\-]+?)?$/.test(g)&&(l=t.options.onInlineShortcut(t,g)),c+=1;t.flushInlineShortcutBuffer({defer:!0})}t.options.smartMode&&(l?t.switchMode("math"):Mje(t,o,e)&&(t.switchMode({math:"text",text:"math"}[a.mode]),u=""))}if(!l){if(u||(u=ENe(t.keybindings,a.mode,e)),!u&&(o==="[Enter]"||o==="[Return]")){let m=!0;return a.contentWillChange({inputType:"insertLineBreak"})&&(t.host&&(m=t.host.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),!m&&e.preventDefault?(e.preventDefault(),e.stopPropagation()):((i=a.parentEnvironment)!=null&&i.isMultiline&&t.executeCommand("addRowAfter"),a.contentDidChange({inputType:"insertLineBreak"}))),m}if((!u||o==="[Space]")&&a.mode==="math"){if(o==="[Space]"){if(t.styleBias="none",t.flushInlineShortcutBuffer(),t.options.mathModeSpace)return Qt.insert(a,t.options.mathModeSpace,{format:"latex",mode:"math"}),t.snapshot("insert-space"),u="",t.dirty=!0,t.scrollIntoView(),e.preventDefault&&(e.preventDefault(),e.stopPropagation()),!1;let m=a.at(a.position+1),y=a.at(a.position-1);if((m==null?void 0:m.mode)==="text"||(y==null?void 0:y.mode)==="text")return Qt.insert(a," ",{mode:"text"}),t.snapshot("insert-space"),t.dirty=!0,t.scrollIntoView(),!1}(s=a.at(a.position))!=null&&s.isDigit()&&globalThis.MathfieldElement.decimalSeparator===","&&k0(e)===","&&(u="insertDecimalSeparator")}}if(!l&&!u){if(a.mathfield.smartFence){if(i_(a,k0(e),ZA(t)))return t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}else{let{parent:m}=a.at(a.position);if(m instanceof Ar&&m.rightDelim==="?"&&a.at(a.position).isLastSibling&&/^[)}\]|]$/.test(o))return t.snapshot(),m.isDirty=!0,m.rightDelim=o,a.position+=1,a.selectionDidChange(),a.contentDidChange({data:k0(e),inputType:"insertText"}),t.snapshot("insert-fence"),t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1;if(!a.selectionIsCollapsed){let y=k0(e);if(y==="("||y==="{"||y==="["){let g={"(":"(","{":"\\lbrace","[":"\\lbrack"}[y],v={"(":")","{":"\\rbrace","[":"\\rbrack"}[y],[x,b]=jn(a.selection);return t.snapshot(),a.position=b,Qt.insert(a,v,{format:"latex"}),a.position=x,Qt.insert(a,g,{format:"latex"}),a.setSelection(x+1,b+1),a.contentDidChange({data:y,inputType:"insertText"}),t.snapshot("insert-fence"),t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}}}return!0}let f=a.at(Math.max(a.position,a.anchor)),{parent:p}=f;if(u==="moveAfterParent"&&(p==null?void 0:p.type)==="leftright"&&f.isLastSibling&&t.options.smartFence&&i_(a,".",t.defaultStyle)&&(u="",tr(t)),t.keyboardDelegate.cancelComposition(),u)t.executeCommand(u);else if(l){let m=ZA(t);a.setState(A[d].state);let y=A[A.length-1].keystrokes;y=y.slice(c-1);for(let g of y)Qt.insert(a,g,{silenceNotifications:!0,style:m});t.snapshot("insert-shortcut"),a.setState(A[d].state),a.deferNotifications({content:!0,selection:!0,data:l,type:"insertText"},()=>(Qt.insert(a,l,{format:"latex",style:m}),iT(t.model),l.endsWith(" ")&&(t.switchMode("text"),Qt.insert(a," ",{style:m,mode:"text"})),t.snapshot(),a.selectionIsCollapsed||t.flushInlineShortcutBuffer(),!0)),t.dirty=!0,a.announce("replacement")}return t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}function n_(t,e,r){let{model:n}=t;if(!t.isSelectionEditable){n.announce("plonk");return}r!=null||(r={}),r.focus&&t.focus(),r.feedback&&globalThis.MathfieldElement.playSound("keypress"),typeof r.mode=="string"&&(t.switchMode(r.mode),t.snapshot());let i=Bte(e),s=window.mathVirtualKeyboard;if(s!=null&&s.isShifted&&(i=typeof i=="string"?i.toUpperCase():i.map(a=>a.toUpperCase())),r.simulateKeystroke){let a=!0;for(let o of i)rne(t,new KeyboardEvent("keypress",{key:o}))&&(a=!1);if(a)return}if(n.mode==="latex")n.deferNotifications({content:!0,selection:!0,data:e,type:"insertText"},()=>{T5(t);for(let a of i)Qt.insert(n,a,{insertionMode:"replaceSelection"});t.snapshot("insert-latex"),Y1(t)});else if(n.mode==="text"){let a=U(U({},jje(n)),t.defaultStyle);for(let o of i)Qt.insert(n,o,{style:a,insertionMode:"replaceSelection"});t.snapshot("insert-text")}else if(n.mode==="math")for(let a of i)Nje(t,a);t.dirty=!0,t.scrollIntoView()}function Lje(t){let e=t.model,r=[],n=e.at(Math.min(e.position,e.anchor));for(;n.type!=="first";)r.push(n),n=n.leftSibling;return r}function Nje(t,e){let r=t.model,n={"^":"moveToSuperscript",_:"moveToSubscript"," ":t.options.mathModeSpace?["insert",t.options.mathModeSpace]:"moveAfterParent"}[e];if(n){t.executeCommand(n);return}let i=U({},ZA(t));!/[a-zA-Z0-9]/.test(e)&&t.styleBias!=="none"&&(i.variant="normal",i.variantStyle=void 0);let s=r.at(r.position);if(/\d/.test(e)&&t.options.smartSuperscript&&s.parentBranch==="superscript"&&s.parent.type!=="mop"&&s.parent.type!=="operator"&&s.parent.type!=="extensible-symbol"&&s.hasNoSiblings){if(!Qt.insert(r,e,{style:i,insertionMode:"replaceSelection"})){t.undoManager.pop();return}t.snapshot("insert-mord"),ene(r);return}let a=e;a==="{"?a="\\lbrace":a==="}"?a="\\rbrace":a==="&"?a="\\&":a==="#"?a="\\#":a==="$"?a="\\$":a==="%"?a="\\%":a==="~"?a="\\~":a==="\\"&&(a="\\backslash"),Qt.insert(r,a,{style:i,insertionMode:"replaceSelection"})&&t.snapshot(`insert-${r.at(r.position).type}`)}function jje(t){var e,r,n,i;if(t.selectionIsCollapsed)return(r=(e=t.at(t.position))==null?void 0:e.style)!=null?r:{};let s=jn(t.selection)[0];return(i=(n=t.at(s+1))==null?void 0:n.style)!=null?i:{}}function i_(t,e,r){var n;if(!e||t.mode!=="math")return!1;let i=t.at(t.position),{parent:s}=i,a={"(":"(",")":")","{":"\\lbrace","}":"\\rbrace","[":"\\lbrack","]":"\\rbrack","|":"|"}[e];if(!a)return!1;let o=w3[a],l=_5[a];if(!t.selectionIsCollapsed){t.mathfield.snapshot();let[c,u]=jn(t.selection),d=t.extractAtoms([c,u]),A=s.addChildrenAfter([new Ar("left...right",d,{leftDelim:a,rightDelim:l})],t.at(c));return t.setSelection(t.offsetOf(A.firstChild),t.offsetOf(A.lastChild)),t.mathfield.snapshot("insert-fence"),t.contentDidChange({data:a,inputType:"insertText"}),!0}if(a==="|"){let c=s instanceof Ar?s.leftDelim+s.rightDelim:"";if(c==="\\lbrace\\rbrace"||c==="\\{\\}"||c==="\\lbrace?")return t.mathfield.snapshot(),Qt.insert(t,"\\,\\middle\\vert\\,",{format:"latex",style:r}),t.mathfield.snapshot("insert-fence"),t.contentDidChange({data:a,inputType:"insertText"}),!0}if(l){if(s instanceof Ar&&s.firstChild===i&&(s.leftDelim==="?"||s.leftDelim==="."))return s.leftDelim=a,s.isDirty=!0,t.mathfield.snapshot(),t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;if(!(s instanceof Ar)){let A=i;for(;A&&!(A.type==="mclose"&&A.value===l);)A=A.rightSibling;if(A){t.mathfield.snapshot();let f=t.extractAtoms([t.offsetOf(i),t.offsetOf(A)]);return f.pop(),s.addChildrenAfter([new Ar("left...right",f,{leftDelim:a,rightDelim:l})],i),t.position=t.offsetOf(s.firstChild)+1,t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}}let c=t.offsetOf(i.lastSibling),u;for(u=t.position;u<=c;u++){let A=t.at(u);if(A instanceof Ar&&(A.leftDelim==="?"||A.leftDelim===".")&&UH(a,A.rightDelim))break}let d=t.at(u);if(u<=c&&d instanceof Ar){d.leftDelim=a,t.mathfield.snapshot();let A=t.extractAtoms([t.position,u-1]);return A=A.filter(f=>f.type!=="first"),d.addChildren(A,d.parentBranch),t.position+=1,t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}if(s instanceof Ar&&(s.leftDelim==="?"||s.leftDelim===".")&&UH(a,s.rightDelim)){s.isDirty=!0,s.leftDelim=a,t.mathfield.snapshot();let A=t.extractAtoms([t.offsetOf(i.firstSibling),t.position]);for(let f of A)s.parent.addChildBefore(f,s);return t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}if(!(s instanceof Ar&&s.leftDelim==="|")){if(a==="("){let A=t.position-1,f=!1;for(;A>=0;){let p=t.at(A);if(p.type==="first")break;if(p.type==="mord"&&p.value&&/^[\d]$/.test(p.value)){A-=1;continue}if(p.type==="group"&&((n=p.body)==null?void 0:n.length)===2&&p.body[0].type==="first"&&p.body[1].value===","){f=!0;break}if(p.type==="mord"&&(p.value===","||p.value===".")){f=!0;break}break}if(f)return!1}if(t.mathfield.snapshot(),Qt.insert(t,`\\left${a}\\right?`,{format:"latex",style:r}),i.lastSibling.type!=="first"){let A=t.offsetOf(i.lastSibling),f=t.extractAtoms([t.position,A]);t.at(t.position).body=f,t.position-=1}return t.mathfield.snapshot("insert-fence"),!0}}if(o){if(a===")"){let p=t.position-1,m=!1;for(;p>=0;){let y=t.at(p);if(y.type==="first")break;if(y.type==="mord"&&y.value&&/^[\d]$/.test(y.value)){m=!0,p-=1;continue}break}if(m&&t.at(p).type==="mopen"&&t.at(p).value==="(")return!1}let c=i;for(;c;){if(c.type==="mopen"&&c.value===o){t.mathfield.snapshot();let p=c.leftSibling,m=t.extractAtoms([t.offsetOf(c.leftSibling),t.offsetOf(i)]);[,...m]=m;let y=new Ar("left...right",m,{leftDelim:o,rightDelim:a});return s.addChildrenAfter([y],p),t.position=t.offsetOf(y),t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}c=c.leftSibling}if(s instanceof Ar&&i.isLastSibling&&J7(s.leftDelim,a))return t.mathfield.snapshot(),s.isDirty=!0,s.rightDelim=a,t.position+=1,t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;let u=t.offsetOf(i.firstSibling),d;for(d=t.position;d>=u;d--){let p=t.at(d);if(p instanceof Ar&&(p.rightDelim==="?"||p.rightDelim===".")&&J7(p.leftDelim,a))break}let A=t.at(d);if(d>=u&&A instanceof Ar)return t.mathfield.snapshot(),A.rightDelim=a,A.addChildren(t.extractAtoms([d,t.position]),A.parentBranch),t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;if(s instanceof Ar&&(s.rightDelim==="?"||s.rightDelim===".")&&J7(s.leftDelim,a))return t.mathfield.snapshot(),s.isDirty=!0,s.rightDelim=a,s.parent.addChildren(t.extractAtoms([t.position,t.offsetOf(i.lastSibling)]),s.parentBranch),t.position=t.offsetOf(s),t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;let f=s.parent;return f instanceof Ar&&(f.rightDelim==="?"||f.rightDelim===".")&&t.at(t.position).isLastSibling?(t.position=t.offsetOf(f),i_(t,a,r)):!1}return!1}function J7(t,e){return t?["(","\\lparen","{","\\{","\\lbrace","[","\\lbrack"].includes(t)?[")","\\rparen","}","\\}","\\rbrace","]","\\rbrack"].includes(e):_5[t]===e:!0}function UH(t,e){return e?[")","\\rparen","}","\\}","\\rbrace","]","\\rbrack"].includes(e)?["(","\\lparen","{","\\{","\\lbrace","[","\\lbrack"].includes(t):w3[e]===t:!0}bi({undo:t=>(t.undo(),!0),redo:t=>(t.redo(),!0),scrollIntoView:t=>(t.scrollIntoView(),!0),scrollToStart:t=>(t.field.scroll(0,0),!0),scrollToEnd:t=>{let e=t.field.getBoundingClientRect();return t.field.scroll(e.left-window.scrollX,0),!0},toggleKeystrokeCaption:Tje,toggleContextMenu:t=>{let e=t.toggleContextMenu();return e||t.model.announce("plonk"),e},plonk:t=>(t.model.announce("plonk"),!0),switchMode:(t,e,r,n)=>(t.switchMode(e,r,n),!0),insert:(t,e,r)=>t.insert(e,r),typedText:(t,e,r)=>(n_(t,e,r),!0),insertDecimalSeparator:t=>{let e=t.model;return e.mode==="math"&&globalThis.MathfieldElement.decimalSeparator===","&&e.at(Math.max(e.position,e.anchor)).isDigit()?(t.insert("{,}",{format:"latex"}),t.snapshot("insert-mord"),!0):(t.insert("."),!0)},commit:t=>{var e,r;let n=t.model;return n.contentWillChange({inputType:"insertLineBreak"})&&((e=t.host)==null||e.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),(r=n.parentEnvironment)!=null&&r.isMultiline&&t.executeCommand("addRowAfter"),n.contentDidChange({inputType:"insertLineBreak"})),!0},insertPrompt:(t,e,r)=>{let n=t.getPrompts(),i="prompt-"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36),s=0;for(;n.includes(i)&&s<100;){if(s===99)return console.error("could not find a unique ID after 100 tries"),!1;i="prompt-"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36),s++}return t.insert(`\\placeholder[${e??i}]{}`,r),!0}});bi({copyToClipboard:t=>(t.focus(),t.model.selectionIsCollapsed&&t.select(),"queryCommandSupported"in document&&document.queryCommandSupported("copy")&&document.execCommand("copy")||t.element.querySelector(".ML__keyboard-sink").dispatchEvent(new ClipboardEvent("copy",{bubbles:!0,composed:!0})),!1)},{target:"mathfield"});bi({cutToClipboard:t=>(t.focus(),"queryCommandSupported"in document&&document.queryCommandSupported("cut")&&document.execCommand("cut")||t.element.querySelector(".ML__keyboard-sink").dispatchEvent(new ClipboardEvent("cut",{bubbles:!0,composed:!0})),!0),pasteFromClipboard:t=>(t.focus(),"queryCommandSupported"in document&&document.queryCommandSupported("paste")?(document.execCommand("paste"),!0):(navigator.clipboard.readText().then(e=>{e&&t.model.contentWillChange({inputType:"insertFromPaste",data:e})?(t.stopCoalescingUndo(),t.stopRecording(),t.insert(e,{mode:t.model.mode})&&(Y1(t),t.startRecording(),t.snapshot("paste"),t.model.contentDidChange({inputType:"insertFromPaste"}),tr(t))):t.model.announce("plonk"),t.startRecording()}),!0))},{target:"mathfield",canUndo:!0,changeContent:!0,changeSelection:!0});function s_(t){let[e,r]=jn(t.selection);if(e=QH(t,e,"backward"),r=QH(t,r,"forward"),e===r){let n=t.at(e);if(n.type==="leftright")return t.setSelection(t.offsetOf(n.firstChild)-1,r);if(n.type==="first"&&(n.parent.type==="leftright"||n.parent.type==="surd"))return t.setSelection(e-1,t.offsetOf(n.parent.lastChild)+1);t.setSelection(e-1,r)}else t.setSelection(e,r);return!0}function QH(t,e,r){var n,i,s;let a=t.at(e);if(!a)return e;let o=r==="forward"?1:-1;if(a.mode==="text"){for(;a&&!(a.mode!=="text"||!t1.test(a.value));)e+=o,a=t.at(e);return r==="backward"?e-1:e}if(a.mode==="latex"){if(/[a-zA-Z\*]/.test(a.value))if(r==="backward")for(;a&&a.mode==="latex"&&a.value!=="\\"&&/[a-zA-Z]/.test(a.value);)e+=o,a=t.at(e);else for(;a&&a.mode==="latex"&&/[a-zA-Z\*]/.test(a.value);)e+=o,a=t.at(e);else if(a.value==="{"){if(r==="forward"){for(;a&&a.mode==="latex"&&a.value!=="}";)e+=o,a=t.at(e);return e}return e-1}else if(a.value==="}"){if(r==="backward"){for(;a&&a.mode==="latex"&&a.value!=="{";)e+=o,a=t.at(e);return e-1}return e}return e-1}if(a.mode==="math"){if(a.isDigit()){for(;(n=t.at(e+o))!=null&&n.isDigit();)e+=o;return r==="backward"?e-1:e}if(a.style.variant||a.style.variantStyle){let l=(i=t.at(e))==null?void 0:i.style;for(;l&&l.variant===a.style.variant&&l.variantStyle===a.style.variantStyle;)l=(s=t.at(e+o))==null?void 0:s.style,e+=o;return r==="backward"?e-1:e}return e}return e}bi({selectGroup:t=>{let e=s_(t);return e||t.announce("plonk"),e},selectAll:t=>t.setSelection(0,t.lastOffset),extendSelectionForward:t=>vo(t,"forward",{extend:!0}),extendSelectionBackward:t=>vo(t,"backward",{extend:!0}),extendToNextWord:t=>iA(t,"forward",{extend:!0}),extendToPreviousWord:t=>iA(t,"backward",{extend:!0}),extendSelectionUpward:t=>vo(t,"upward",{extend:!0}),extendSelectionDownward:t=>vo(t,"downward",{extend:!0}),extendToNextBoundary:t=>iA(t,"forward",{extend:!0}),extendToPreviousBoundary:t=>iA(t,"backward",{extend:!0}),extendToGroupStart:t=>{let e=t.setSelection(t.anchor,t.offsetOf(t.at(t.position).firstSibling));return e||t.announce("plonk"),e},extendToGroupEnd:t=>{let e=t.setSelection(t.anchor,t.offsetOf(t.at(t.position).lastSibling));return e||t.announce("plonk"),e},extendToMathFieldStart:t=>{let e=t.setSelection(t.anchor,0);return e||t.announce("plonk"),e},extendToMathFieldEnd:t=>{let e=t.setSelection(t.anchor,t.lastOffset);return e||t.announce("plonk"),e}},{target:"model",changeSelection:!0});var Ad=null,kp=0,D3=class js{static start(e,r,n,i){var s;js.element=e,(s=js.controller)==null||s.abort(),js.controller=new AbortController;let a={signal:js.controller.signal};"PointerEvent"in window?(e.addEventListener("pointermove",n,a),e.addEventListener("pointerup",i,a),e.addEventListener("pointercancel",i,a),a_(r)&&(js.pointerId=r.pointerId,e.setPointerCapture(r.pointerId))):(window.addEventListener("mousemove",n,a),window.addEventListener("blur",i,a),window.addEventListener("mouseup",i,a))}static stop(){var e;(e=js.controller)==null||e.abort(),js.controller=void 0,typeof js.pointerId=="number"&&(js.element.releasePointerCapture(js.pointerId),js.pointerId=void 0)}};function a_(t){return t!==null&&globalThis.PointerEvent!==void 0&&t instanceof PointerEvent}function RH(t,e){var r;if(e.buttons>1)return;t.atomBoundsCache=new Map;let n=t,i,s=!1,a=!1,o="none",l=!1,c=!1,u=e.clientX,d=e.clientY,A=Date.now(),f=n.field,p=setInterval(()=>{l?f.scroll({top:0,left:f.scrollLeft-16}):c&&f.scroll({top:0,left:f.scrollLeft+16})},32);function m(){D3.stop(),s=!1,clearInterval(p),t.element.classList.remove("tracking"),e&&e.preventDefault()}function y(v){if(!n.hasFocus()){m();return}let x=v.clientX,b=v.clientY,w=a_(v)&&v.pointerType==="touch"?20:5;if(Date.now()<A+500&&Math.abs(u-x)<w&&Math.abs(d-b)<w){v.preventDefault(),v.stopPropagation();return}let C=f.getBoundingClientRect();c=x>C.right,l=x<C.left;let S=i;a_(v)&&(v.isPrimary||(S=Dx(n,v.clientX,v.clientY,{bias:0})));let B=Dx(n,x,b,{bias:x<=u?x===u?0:-1:1});S>=0&&B>=0&&(n.model.extendSelectionTo(S,B),tr(t)),a&&s_(n.model)}Ad&&Math.abs(Ad.x-u)<5&&Math.abs(Ad.y-d)<5&&Date.now()<Ad.time+500?(kp+=1,Ad.time=A):(Ad={x:u,y:d,time:A},kp=1);let g=f.getBoundingClientRect();if(u>=g.left&&u<=g.right&&d>=g.top&&d<=g.bottom){if(t.flushInlineShortcutBuffer(),i=Dx(t,u,d,{bias:0}),i!==t.model.anchor&&(t.defaultStyle={},t.styleBias="left"),i>=0){if(t.element.classList.add("tracking"),e.shiftKey){let v=t.model.selectionIsCollapsed;t.model.extendSelectionTo(t.model.anchor,i),MH(t.model)||v?o="all":o="selection"}else t.model.at(i).type==="placeholder"?(t.model.setSelection(i-1,i),o="selection"):((r=t.model.at(i).rightSibling)==null?void 0:r.type)==="placeholder"?(t.model.setSelection(i,i+1),o="selection"):(t.model.position=i,MH(t.model)?o="all":o="selection");e.detail===3||kp>2?(m(),(e.detail===3||kp===3)&&(t.model.selection={ranges:[[0,t.model.lastOffset]]},o="all")):s||(s=!0,D3.start(f,e,y,m),(e.detail===2||kp===2)&&(a=!0,s_(t.model),o="all"))}t.hasFocus()||(o="none",t.focus({preventScroll:!0}))}else Ad=null;t.stopCoalescingUndo(),o!=="none"&&(t.model.selectionIsCollapsed&&(o="all"),tr(t)),e.preventDefault()}function Ije(t,e,r){if(t>=r.left&&t<=r.right&&e>=r.top&&e<=r.bottom)return 0;let n=t-(r.left+r.right)/2,i=e-(r.top+r.bottom)/2;return n*n+i*i}function o_(t,e,r,n,i){if(!r.id)return[1/0,null];if(e.has(r.id))return e.get(r.id);let s=Tf(t,r);if(!s)return[1/0,null];let a=[1/0,null],o=t.model;if(r instanceof dt)for(let l of r.rows)for(let c of l){let u=[o.offsetOf(c[0]),o.offsetOf(c[c.length-1])],d=hLe(t,u);if(i>=d.top&&i<=d.bottom)for(let A of c){let f=o_(t,e,A,n,i);f[0]<=a[0]&&(a=f)}}else if(r.hasChildren&&!r.captureSelection&&n>=s.left&&n<=s.right){let l=r.children;for(let c of l){let u=o_(t,e,c,n,i);u[0]<=a[0]&&(a=u)}}return a[1]||(a=[Ije(n,i,s),r]),e.set(r.id,a),a}function Oje(t,e,r){let[,n]=o_(t,new Map,t.model.root,e,r);return n}function Dx(t,e,r,n){var i;let s=t.field.querySelector(".ML__latex").getBoundingClientRect();if(!s)return 0;if(e>s.right||r>s.bottom+8)return t.model.lastOffset;if(e<s.left||r<s.top-8)return 0;n=n??{},n.bias=(i=n.bias)!=null?i:0;let a=Oje(t,e,r),o=[],l=a;for(;l;)o.unshift(l),l=l.parent;for(let u of o)if(u.captureSelection){a=u;break}let c=t.model.offsetOf(a);if(c<0)return-1;if(a.leftSibling)if(n.bias===0&&a.type!=="placeholder"){let u=Tf(t,a);u&&e<(u.left+u.right)/2&&(c=t.model.offsetOf(a.leftSibling))}else n.bias<0&&(c=t.model.offsetOf(a.leftSibling));return c}var Pje=class extends Qt{constructor(){super("math")}onPaste(t,e){if(!e||!t.model.contentWillChange({data:typeof e=="string"?e:null,dataTransfer:typeof e=="string"?null:e,inputType:"insertFromPaste"}))return!1;let r="",n="auto",i=typeof e!="string"?e.getData("application/json+mathlive"):"";if(i)try{let s=JSON.parse(i);if(s&&Array.isArray(s)){t.snapshot();let a=du(s),{model:o}=t;o.selectionIsCollapsed||o.deleteAtoms(jn(o.selection));let l=o.at(o.position);if(l.parent instanceof dt){l.parentBranch;let c=[],u=[];a[0].type==="first"&&a.shift(),a[a.length-1].type==="first"&&a.pop();for(let p of a)p.type==="first"&&u.length>0?(c.push(u),u=[p]):u.push(p);u.length>0&&c.push(u);let d=Number(l.parentBranch[0]),A=Number(l.parentBranch[1]),f=l.parent.maxColumns;for(;l.parent.colCount-A<c.length&&l.parent.colCount<f;)l.parent.addColumn();l.parent.addChildrenAfter(c[0],l);for(let p=1;p<c.length;p++)A++,A>=f&&(A=0,l.parent.addRowAfter(d),d++),l.parent.setCell(d,A,c[p])}else l.parent.addChildrenAfter(a.filter(c=>c.type!=="first"),l);return o.position=o.offsetOf(a[a.length-1]),o.contentDidChange({inputType:"insertFromPaste"}),tr(t),!0}}catch{}if(i=typeof e!="string"?e.getData("application/json"):"",i&&globalThis.MathfieldElement.computeEngine)try{let s=JSON.parse(i);if(typeof s=="object"&&"latex"in s&&s.latex&&(r=s.latex),!r){let a=globalThis.MathfieldElement.computeEngine.box(s);a&&!a.has("Error")&&(r=a.latex)}r||(n="latex")}catch{}if(!r&&typeof e!="string"&&(r=e.getData("application/x-latex"),r&&(n="latex")),r||(r=typeof e=="string"?e:e.getData("text/plain")),r){let s;return[s,r]=$F(r),n==="auto"&&s&&(n="latex"),t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,r,{format:n})&&(t.startRecording(),t.snapshot("paste"),tr(t)),t.startRecording(),!0}return!1}insert(t,e,r){var n,i;let s=typeof e=="string"?e:(i=(n=globalThis.MathfieldElement.computeEngine)==null?void 0:n.box(e).latex)!=null?i:"";if(!r.silenceNotifications&&!t.contentWillChange({data:s,inputType:"insertText"}))return!1;r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder"),r.format||(r.format="auto");let{silenceNotifications:a}=t;r.silenceNotifications&&(t.silenceNotifications=!0);let o=t.silenceNotifications;t.silenceNotifications=!0;let l={"?":"\\placeholder{}","@":"\\placeholder{}"};l[0]=r.insertionMode==="replaceAll"?"":t.getValue(t.selection,"latex-unstyled"),r.insertionMode==="replaceSelection"?t.deleteAtoms(jn(t.selection)):r.insertionMode==="replaceAll"?t.deleteAtoms():r.insertionMode==="insertBefore"?t.collapseSelection("backward"):r.insertionMode==="insertAfter"&&t.collapseSelection("forward"),!t.at(t.position).isLastSibling&&t.at(t.position+1).type==="placeholder"?t.deleteAtoms([t.position,t.position+1]):t.at(t.position).type==="placeholder"&&t.deleteAtoms([t.position-1,t.position]);let c=-1;l[0]?l["@"]=l[0]:typeof e=="string"&&/(^|[^\\])#@/.test(e)&&(c=Uje(t),c>=0&&(l["@"]=t.getValue(c,t.position,"latex"))),l[0]||(l[0]=l["?"]);let u=!1,d=y=>(u=!0,l[y]),[A,f]=HH(t,e,d,r);if(!f)return!1;let p=f.length===1&&f[0].type==="genfrac";if(p&&c>=0&&typeof t.mathfield.options.isImplicitFunction=="function"&&t.mathfield.options.isImplicitFunction(t.at(t.position).command)?(l["@"]=l["?"],u=!1,[A,f]=HH(t,e,d,r)):c>=0&&t.deleteAtoms([c,t.position]),f.length===1&&f[0].isRoot)t.root=f[0];else{let{parent:y}=t.at(t.position),g=y.hasEmptyBranch("body");if(p&&A!=="latex"&&t.mathfield.options.removeExtraneousParentheses&&y instanceof Ar&&y.leftDelim==="("&&g){let x=y.parent,b=y.parentBranch;x.removeChild(y),x.setChildren(f,b)}let v=t.at(t.position);v.parent.addChildrenAfter(f,v),A==="latex"&&typeof e=="string"&&(y==null?void 0:y.type)==="root"&&g&&!u&&(y.verbatimLatex=e)}t.silenceNotifications=o;let m=f[f.length-1];if(r.selectionMode==="placeholder"){let y=f.flatMap(g=>[g,...g.children]).find(g=>g.type==="placeholder");if(y){let g=t.offsetOf(y);t.setSelection(g-1,g),t.announce("move")}else m&&(t.position=t.offsetOf(m))}else r.selectionMode==="before"||(r.selectionMode==="after"?m&&(t.position=t.offsetOf(m)):r.selectionMode==="item"&&t.setSelection(t.anchor,t.offsetOf(m)));return t.contentDidChange({data:s,inputType:"insertText"}),t.silenceNotifications=a,!0}};function HH(t,e,r,n){var i;let s,a=[];if(typeof e!="string"||n.format==="math-json"){let o=globalThis.MathfieldElement.computeEngine;if(!o)return["math-json",[]];[s,e]=["latex",o.box(e).latex],a=Ys(e,{context:t.mathfield.context})}else typeof e=="string"&&n.format==="ascii-math"?([s,e]=V9(e,{format:"ascii-math",inlineShortcuts:t.mathfield.options.inlineShortcuts}),a=Ys(e,{context:t.mathfield.context}),s!=="latex"&&t.mathfield.options.removeExtraneousParentheses&&(a=a.map(o=>L3(o)))):(n.format==="auto"||(i=n.format)!=null&&i.startsWith("latex"))&&(n.format==="auto"&&([s,e]=V9(e,{format:"auto",inlineShortcuts:t.mathfield.options.inlineShortcuts})),n.format==="latex"&&([,e]=$F(e)),a=Ys(e,{context:t.mathfield.context,args:r}),n.format!=="latex"&&t.mathfield.options.removeExtraneousParentheses&&(a=a.map(o=>L3(o))));return WF(a,n.style),[s??"latex",a]}function L3(t){var e;if(t instanceof Ar&&t.leftDelim!=="("&&t.rightDelim===")"){let r=(e=t.body)==null?void 0:e.filter(n=>n.type!=="first");if((r==null?void 0:r.length)===1&&r[0].type==="genfrac")return r[0]}for(let r of t.branches)t.hasEmptyBranch(r)||t.setChildren(t.branch(r).map(n=>L3(n)),r);return t instanceof dt&&t.forEachCell((r,n,i)=>{t.setCell(n,i,r.map(s=>L3(s)))}),t}function Uje(t){let e=t.at(t.position);if(e.mode==="text"){for(;!e.isFirstSibling&&e.mode==="text";)e=e.leftSibling;return t.offsetOf(e)}let r=e,n=!1;if(e.type==="mclose"){let i=w3[e.value];for(;!e.isFirstSibling&&!(e.type==="mopen"&&e.value===i);)e=e.leftSibling;e.isFirstSibling||(e=e.leftSibling),n=!0}else e.type==="leftright"&&(e=e.leftSibling,n=!0);if(n)for(;!e.isFirstSibling&&(e.isFunction||zH(e));)e=e.leftSibling;else{let i=[];for(;!e.isFirstSibling&&(zH(e)||i.length>0);)e.type==="mclose"&&i.unshift(e.value),e.type==="mopen"&&i.length>0&&e.value===w3[i[0]]&&i.shift(),e=e.leftSibling}return r===e?-1:t.offsetOf(e)}function zH(t){return t.isDigit()?!0:t.type&&/^(mord|surd|subsup|leftright|mop|mclose)$/.test(t.type)?t.type!=="extensible-symbol":!1}new Pje;var Qje=class extends Qt{constructor(){super("text")}onPaste(t,e){if(!e)return!1;let r=typeof e=="string"?e:e.getData("text/plain");return r&&t.model.contentWillChange({inputType:"insertFromPaste",data:r})?(t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,r)&&(t.model.contentDidChange({inputType:"insertFromPaste"}),t.startRecording(),t.snapshot("paste"),tr(t)),t.startRecording(),!0):!1}insert(t,e,r={}){if(!t.contentWillChange({data:e,inputType:"insertText"}))return!1;r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder"),r.format||(r.format="auto");let{silenceNotifications:n}=t;r.silenceNotifications&&(t.silenceNotifications=!0);let i=t.silenceNotifications;t.silenceNotifications=!0,r.insertionMode==="replaceSelection"&&!t.selectionIsCollapsed?t.deleteAtoms(jn(t.selection)):r.insertionMode==="replaceAll"?(t.root.setChildren([],"body"),t.position=0):r.insertionMode==="insertBefore"?t.collapseSelection("backward"):r.insertionMode==="insertAfter"&&t.collapseSelection("forward");let s=Rje(e,t.mathfield.context);if(WF(s,r.style),!s)return!1;let a=t.at(t.position),o=a.parent.addChildrenAfter(s,a);return t.silenceNotifications=i,r.selectionMode==="before"||(r.selectionMode==="item"?t.setSelection(t.anchor,t.offsetOf(o)):o&&(t.position=t.offsetOf(o))),t.contentDidChange({data:e,inputType:"insertText"}),t.silenceNotifications=n,!0}};function Rje(t,e){return t=t.replace(/\\/g,"\\textbackslash "),t=t.replace(/#/g,"\\#"),t=t.replace(/\$/g,"\\$"),t=t.replace(/%/g,"\\%"),t=t.replace(/&/g,"\\&"),t=t.replace(/_/g,"\\_"),t=t.replace(/{/g,"\\textbraceleft "),t=t.replace(/}/g,"\\textbraceright "),t=t.replace(/lbrace/g,"\\textbraceleft "),t=t.replace(/rbrace/g,"\\textbraceright "),t=t.replace(/\^/g,"\\textasciicircum "),t=t.replace(/~/g,"\\textasciitilde "),t=t.replace(//g,"\\textsterling "),Ys(t,{context:e,parseMode:"text"})}new Qje;function Ic(t){return{value:t.model.getValue(),selectionIsCollapsed:t.model.selectionIsCollapsed,canUndo:t.canUndo(),canRedo:t.canRedo(),style:Hje(t.model),mode:t.model.mode}}function Hje(t){var e;if(t.selectionIsCollapsed)return(e=t.at(t.position))==null?void 0:e.style;let r=t.getAtoms(t.selection);if(r.length===0)return{};let n=U({},r[0].style);for(let i of r)for(let[s,a]of Object.entries(i.style))n[s]!==a&&delete n[s];return n}var $t=4,Ai=20,Mr=2*(Ai+$t),Dv=(t,e)=>`
  <line x1="${t+Ai}" y1="${e+Ai}" 
    x2="${t>e?t+Ai:7*Ai+10*$t}" 
    y2="${t<e?e+Ai:7*Ai+10*$t}"/>
  <svg id="plus" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <path class="font" d="m33.33,20c0,1.84-1.49,3.34-3.33,3.34h-6.67v6.66c0,1.84-1.49,3.34-3.33,3.34s-3.34-1.5-3.34-3.34v-6.66h-6.66c-1.84,0-3.34-1.5-3.34-3.34s1.5-3.33,3.34-3.33h6.66v-6.67c0-1.84,1.5-3.33,3.34-3.33s3.33,1.49,3.33,3.33v6.67h6.67c1.84,0,3.33,1.49,3.33,3.33Z"/>
  </svg>`,$H=(t,e)=>`
  <line x1="${t+Ai}" y1="${e+Ai}" 
    x2="${t>e?t+Ai:7*Ai+10*$t}" 
    y2="${t<e?e+Ai:7*Ai+10*$t}"/>
  <svg id="minus" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <path class="font" d="m33.33,20c0,1.84-1.49,3.33-3.33,3.33H10c-1.84,0-3.34-1.49-3.34-3.33s1.5-3.34,3.34-3.34h20c1.84,0,3.33,1.5,3.33,3.34Z"/>
  </svg>`,Lv=(t,e,r)=>`
  <svg id="arrow" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <g transform="rotate(${r})" transform-origin="20 20">
      <path class="font" d="m17.7,7.23h4.6c.52,0,.94.42.94.94v13.82c0,.52.42.94.94.94h3.39c.83,0,1.25,1.01.66,1.6l-7.56,7.56c-.37.37-.96.37-1.32,0l-7.56-7.56c-.59-.59-.17-1.6.66-1.6h3.39c.52,0,.94-.42.94-.94v-13.82c0-.52.42-.94.94-.94Z"/>
    </g>  
  </svg>`,zje=`
<svg class="MLEP__array-buttons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
viewBox=
"-2 -2 ${8*Ai+10*$t+5} ${8*Ai+10*$t+5}">
  <rect 
      class="MLEP__array-insert-background rows"
      x="0" 
      y="${Mr+$t}" 
      height="${3*Mr}" 
      width="${Mr}" 
      rx="${Mr/2}"/>
      <rect 
      class="MLEP__array-insert-background columns"
      x="${Mr+$t}" 
      y="0" 
      height="${Mr}" 
      width="${3*Mr}" 
      rx="${Mr/2}"/>
  <g data-command='"moveDown"'>
  ${Lv(2*($t+Mr),2*$t+3*Mr,0)}
  </g>
  <g data-command='"moveUp"'>
  ${Lv(2*($t+Mr),2*$t+Mr,180)}
  </g>
  <g data-command='"moveToNextWord"'>
  ${Lv(2*$t+3*Mr,2*($t+Mr),-90)}
  </g>
  <g data-command='"moveToPreviousWord"'>
  ${Lv(2*$t+Mr,2*($t+Mr),90)}
  </g>
  <g>

  <g data-command='"addColumnBefore"'>
  ${Dv(2*$t+Mr,$t)}
  </g>
  <g data-command='"removeColumn"'>
  ${$H(2*$t+2*Mr,$t)}
  </g>
  <g data-command='"addColumnAfter"'>
  ${Dv(2*$t+3*Mr,$t)}
  </g>
  <g data-command='"addRowBefore"'>
  ${Dv($t,2*$t+Mr)}
  </g>
  <g data-command='"removeRow"'>
  ${$H($t,2*$t+2*Mr)}
  </g>
  <g data-command='"addRowAfter"'>
    ${Dv($t,2*$t+3*Mr)}
  </g>
</svg>`,$je=t=>`
<svg id="matrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","matrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/></svg>`,Vje=t=>`
<svg id="pmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
data-command='["setEnvironment","pmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4c-3.96,4.6-3.96,11.4,0,16"/>
  <path class="cls-2" d="m22,4c3.96,4.6,3.96,11.4,0,16"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/></svg>`,nne=t=>`
<svg id="Bmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","Bmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4c-1.1,0-2,.9-2,2v3c0,1.66-.9,3-2,3,1.1,0,2,1.34,2,3v3c0,1.1.9,2,2,2"/>
  <path class="cls-2" d="m22,4c1.1,0,2,.9,2,2v3c0,1.66.9,3,2,3-1.1,0-2,1.34-2,3v3c0,1.1-.9,2-2,2"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
</svg>`,Kje=t=>`
<svg id="bmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","bmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4h-3v16h3"/>
  <path class="cls-2" d="m22,4h3v16h-3"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
</svg>`,qje=t=>`
<svg id="vmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","vmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
  <line class="cls-2" x1="4" y1="4" x2="4" y2="20"/>
  <line class="cls-2" x1="24" y1="4" x2="24" y2="20"/>
</svg>`,Wje=t=>`
<svg id="Vmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="-3.5 -3 35 30" 
  data-command='["setEnvironment","Vmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
  <line class="cls-2" x1="6" y1="4" x2="6" y2="20"/>
  <line class="cls-2" x1="22" y1="4" x2="22" y2="20"/>
  <line class="cls-2" x1="2" y1="4" x2="2" y2="20"/>
  <line class="cls-2" x1="26" y1="4" x2="26" y2="20"/>
</svg>`,Gje=t=>`
<svg id="cases" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","cases"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m10,4c-1.1,0-2,.9-2,2v3c0,1.66-.9,3-2,3,1.1,0,2,1.34,2,3v3c0,1.1.9,2,2,2"/>
  <circle cx="13" cy="8" r="1"/>
  <circle cx="13" cy="16" r="1"/>
  <circle cx="21" cy="8" r="1"/>
  <circle cx="21" cy="16" r="1"/>
</svg>`,Xje=t=>`
<svg id="rcases" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","rcases"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m18,20c1.1,0,2-.9,2-2v-3c0-1.66.9-3,2-3-1.1,0-2-1.34-2-3v-3c0-1.1-.9-2-2-2"/>
  <circle cx="15" cy="8" r="1"/>
  <circle cx="15" cy="16" r="1"/>
  <circle cx="7" cy="8" r="1"/>
  <circle cx="7" cy="16" r="1"/>
</svg>`,Z7={matrix:$je,pmatrix:Vje,bmatrix:Kje,Bmatrix:nne,vmatrix:qje,Vmatrix:Wje},eC={cases:Gje,rcases:Xje,Bmatrix:nne};function Yje(t){var e,r;let n=(e=t.model.parentEnvironment)==null?void 0:e.rows;if(!n)return;let i=0;n.forEach(f=>{(!i||f.length>i)&&(i=f.length)});let s=document.getElementById("mathlive-environment-popover");s||(s=D5("mathlive-environment-popover"),Fu("environment-popover"),Fu("core"),s.setAttribute("aria-hidden","true"));let a,o=s.querySelector(".MLEP__environment-controls");o?a=o:(a=document.createElement("div"),s.innerHTML="",s.appendChild(a)),a.className="MLEP__environment-controls",a.style.display="flex",a.style.width="100%",a.style.height="100%",a.style.boxSizing="border-box",a.innerHTML=zje;let l=[],c="",u=t.model.parentEnvironment.environmentName;if(Yte(u)){let f=Zje(u);c=Z7[f]("active");let p=Z7,m=g3(p,[CU(f)]);l=Object.values(m).map(y=>y("inactive"))}else if(NLe(u)){let f=eIe(u);c=eC[f]("active");let p=eC,m=g3(p,[CU(f)]);l=Object.values(m).map(y=>y("inactive"))}else jLe(u)&&(c=Z7.matrix("active"),l=Object.values(eC).map(f=>f("inactive")));let d=document.createElement("div");d.className="MLEP__environment-delimiter-controls",d.style.display="flex",d.style.flexDirection="column",d.innerHTML=`
  <div class='MLEP__array-delimiter-options'>
  ${c}
  ${l.join("")}
  </div>`,c&&a.appendChild(d),a.querySelectorAll("[data-command]").forEach(f=>{let p=f.dataset.command,m=p;try{m=JSON.parse(p)}catch{}f.addEventListener("mousedown",y=>y.preventDefault()),m&&f.addEventListener("click",()=>t.executeCommand(m))});let A=(r=t.field)==null?void 0:r.getBoundingClientRect();A&&(s.style.top=`${window.scrollY+(A.top-s.clientHeight-15)}px`,s.style.left=`${A.left+20}px`,s.classList.add("is-visible"))}function l_(){let t=document.getElementById("mathlive-environment-popover");t==null||t.classList.remove("is-visible")}function Jje(){document.getElementById("mathlive-environment-popover")&&(ZF("mathlive-environment-popover"),Tu("environment-popover"),Tu("core"))}function Nv(t){if(!t.hasFocus())return;let e=!1;if(t.model.mode==="math"){let r=t.model.parentEnvironment;if(r!=null&&r.rows&&LLe(r.environmentName)){let n=t.options.environmentPopoverPolicy;e=n==="auto"||n==="on"}}e?Yje(t):l_()}function Zje(t){return t.replace("*","")}function eIe(t){return t==="dcases"?"cases":t}function ine(t){let e=getComputedStyle(t).direction;return e==="ltr"||e==="rtl"?e:"ltr"}function VH(t,e,r){return e==="left"||e==="leading"&&r==="ltr"||e==="trailing"&&r==="rtl"?t.left:t.right}function tC(t,e,r,n){return r==="middle"?t-e/2:r==="start"&&n==="rtl"||r==="end"&&n==="ltr"||r==="top"||r==="right"?Math.max(0,t-e):t}function tIe(t,e,r,n){return r==="middle"?t-e/2:r==="start"&&n==="ltr"||r==="end"&&n==="rtl"||r==="top"||r==="right"?t:t-e}function rIe(t,e){var r,n,i;let s=(r=ine(t))!=null?r:"ltr";t.style.position="fixed",t.style.left="",t.style.top="",t.style.right="",t.style.bottom="",t.style.height="",t.style.width="";let a=t.getBoundingClientRect(),o=Number.isFinite(e.maxHeight)?Math.min(e.maxHeight,window.innerHeight):window.innerHeight,l=Math.min(o,(n=e.height)!=null?n:a.height),c=tC(e.location.y,l,e.verticalPos,s);c+l>window.innerHeight-8&&(e.alternateLocation?(c=tC(e.alternateLocation.y,l,e.verticalPos,s),c+l>window.innerHeight-8&&(c=void 0)):c=void 0),Number.isFinite(c)||(c=Math.max(8,window.innerHeight-8-l),8+l>window.innerHeight-8&&(t.style.bottom="8px")),l=Math.min(c+l,window.innerHeight-8)-c;let u=Number.isFinite(e.maxWidth)?Math.min(e.maxWidth,window.innerWidth):window.innerWidth,d=Math.min(u,(i=e.width)!=null?i:a.width),A=tC(e.location.x,d,e.horizontalPos,s);A+d>window.innerWidth-8&&(e.alternateLocation?(A=tIe(e.alternateLocation.x,d,e.verticalPos,s),A+d>window.innerWidth-8&&(A=void 0)):A=void 0),Number.isFinite(A)||(A=Math.max(8,window.innerWidth-8-d),8+d>window.innerWidth-8&&(t.style.right="8px")),d=Math.min(A+d,window.innerWidth-8)-A,s==="rtl"?t.style.right=`${Math.ceil(window.innerWidth-A-d).toString()}px`:t.style.left=`${Math.ceil(A).toString()}px`,t.style.top=`${Math.ceil(c).toString()}px`,l!==a.height&&(t.style.height=`${Math.ceil(l).toString()}px`),d!==a.width&&(t.style.width=`${Math.ceil(d).toString()}px`)}function nIe(t,e){return Math.hypot(e.x-t.x,e.y-t.y)}function aA(t){return"submenu"in t}function sl(t){return"type"in t&&t.type==="command"||"onMenuSelect"in t||"id"in t}function c_(t){return"type"in t&&t.type==="divider"}function rC(t){return"type"in t&&t.type==="heading"}var KH={};function nC(t){let e=KH[t];if(!e){let r;switch(t){case"checkmark":r=`<span aria-hidden="true" class="ui-checkmark"><svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"></path></svg>
      </span>`;break;case"trailing-chevron":r='<span aria-hidden="true" class="ui-trailing-chevron"><svg focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"></path></svg></span>';break;case"mixedmark":r='<span aria-hidden="true" class="ui-mixedmark"><svg xmlns="http://www.w3.org/2000/svg" width="16" viewBox="0 0 512 512"><path fill="currentColor" d="M0 256c0-13.3 10.7-24 24-24H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H24c-13.3 0-24-10.7-24-24z"/></svg></span>'}if(r){let n=document.createElement("template");n.innerHTML=r,KH[t]=n,e=n}}if(e){if("content"in e)return e.content.cloneNode(!0);let r=document.createElement("svg");return r.innerHTML=e.innerHTML,r}}var qH=80,sne=class{constructor(t,e){this._className="",this._element=null;var r;this.parentMenu=e,this._declaration=t,Object.freeze(this._declaration),aA(t)?(this.type="submenu",this.submenu=new ane(t.submenu,{parentMenu:e,submenuClass:t.submenuClass,columnCount:t.columnCount})):this.type=(r=t.type)!=null?r:"command",this.hasCheck=sl(t)&&t.checked!==void 0}get rootMenu(){return this.parentMenu.rootMenu}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}dispose(){var t,e;(t=this._abortController)==null||t.abort(),this._abortController=void 0,(e=this._element)==null||e.remove(),this._element=null,this.submenu&&this.submenu.dispose(),this.submenu=void 0}get menuItem(){return this._declaration}get label(){var t;return(t=this._label)!=null?t:""}set label(t){t===void 0&&(t=""),t!==this._label&&(this._label=t,this.dirty=!0)}get visible(){return this._visible}set visible(t){t!==this._visible&&(this._visible=t,this.dirty=!0)}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this.element&&(t?this.element.removeAttribute("aria-disabled"):this.element.setAttribute("aria-disabled","true")),this.dirty=!0}get checked(){return this._checked}set checked(t){this._checked=t,this.dirty=!0}get tooltip(){return this._tooltip}set tooltip(t){t!==this._tooltip&&(this._tooltip=t,this.dirty=!0)}get ariaLabel(){return this._ariaLabel}set ariaLabel(t){t!==this._ariaLabel&&(this._ariaLabel=t,this.dirty=!0)}get active(){var t,e;return(e=(t=this.element)==null?void 0:t.classList.contains("active"))!=null?e:!1}set active(t){this.element&&this.element.classList.toggle("active",t)}updateState(t){var e,r,n;let i=this._declaration;if(c_(i)){this.enabled=!1,this.checked=!1;return}rC(i)&&(this.enabled=!1,this.checked=!1,this.visible=!0),sl(i)&&(this.checked=(e=fd(i.checked,t))!=null?e:!1),(sl(i)||aA(i))&&(this.enabled=(r=fd(i.enabled,t))!=null?r:!0,this.visible=(n=fd(i.visible,t))!=null?n:!0,this.visible&&this.enabled&&this.submenu&&(this.submenu.updateState(t),this.submenu.visible||(this.visible=!1))),(sl(i)||rC(i)||aA(i))&&(this.label=fd(i.label,t),this._className=fd(i.class,t),this.tooltip=fd(i.tooltip,t),this.ariaLabel=fd(i.ariaLabel,t)),this._element&&this.updateElement()}set dirty(t){t&&this.parentMenu&&(this.parentMenu.dirty=!0)}updateElement(){var t;if(!this.visible||!this.element)return;let e=this.element;e.textContent="",e.className="",e.className=(t=this._className)!=null?t:"",this.enabled?e.removeAttribute("aria-disabled"):e.setAttribute("aria-disabled","true"),this.checked===!0?(e.setAttribute("aria-checked","true"),e.append(nC("checkmark"))):this.checked==="mixed"?(e.setAttribute("aria-checked","mixed"),e.append(nC("mixedmark"))):e.removeAttribute("aria-checked"),this.ariaLabel&&e.setAttribute("aria-label",this.ariaLabel);let r=document.createElement("span");if(r.className=this.parentMenu.hasCheck?"label indent":"label",this.type==="heading"&&r.classList.add("heading"),r.innerHTML=this.label,e.append(r),this._tooltip&&e.setAttribute("data-tooltip",this._tooltip),sl(this._declaration)&&this._declaration.keyboardShortcut){let n=document.createElement("kbd");n.innerHTML=XF(this._declaration.keyboardShortcut),e.append(n)}this.type==="submenu"&&e.append(nC("trailing-chevron"))}get element(){if(this._element)return this._element;if(c_(this._declaration)){let r=document.createElement("li");return r.setAttribute("part","menu-divider"),r.setAttribute("role","divider"),this._element=r,r}let t=document.createElement("li");this._element=t,(sl(this._declaration)||rC(this._declaration)||aA(this._declaration))&&t.setAttribute("part","menu-item"),t.setAttribute("tabindex","-1"),this.hasCheck?t.setAttribute("role","menuitemcheckbox"):t.setAttribute("role","menuitem"),this.type==="submenu"&&(t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-expanded","false"));let e=this.abortController.signal;return t.addEventListener("pointerenter",this,{signal:e}),t.addEventListener("pointerleave",this,{signal:e}),t.addEventListener("pointerup",this,{signal:e}),t.addEventListener("click",this,{signal:e}),this._element}dispatchSelect(){var t;if(!sl(this._declaration))return;let e=new CustomEvent("menu-select",{cancelable:!0,bubbles:!0,detail:{modifiers:this.rootMenu.modifiers,id:this._declaration.id,data:this._declaration.data}});this.parentMenu.dispatchEvent(e)&&typeof this._declaration.onMenuSelect=="function"&&this._declaration.onMenuSelect({target:(t=this.parentMenu.host)!=null?t:void 0,modifiers:this.rootMenu.modifiers,id:this._declaration.id,data:this._declaration.data})}handleEvent(t){var e;if(!(!this.visible||!this.enabled)){if(t.type==="click"){this.rootMenu.state==="modal"&&this.select(),t.stopPropagation(),t.preventDefault();return}if(t.type==="pointerenter"){let r=t;this.rootMenu.cancelDelayedOperation(),this.parentMenu.isSubmenuOpen&&(e=this.parentMenu.activeMenuItem)!=null&&e.movingTowardSubmenu(r)?this.rootMenu.scheduleOperation(()=>{this.parentMenu.activeMenuItem=this,this.openSubmenu()}):(this.parentMenu.activeMenuItem=this,this.openSubmenu({withDelay:!0}));return}if(t.type==="pointerleave"){this.rootMenu.activeSubmenu===this.parentMenu&&(this.parentMenu.activeMenuItem=null);return}if(t.type==="pointerup"){this.rootMenu.state!=="modal"&&this.select(),t.stopPropagation(),t.preventDefault();return}}}select(){if(this.rootMenu.cancelDelayedOperation(),this.type==="submenu"){this.openSubmenu();return}this.active=!1,setTimeout(()=>{this.active=!0,setTimeout(()=>{this.active=!1,this.rootMenu.hide(),this.dispatchSelect()},qH)},qH)}openSubmenu(t){var e;if(this.type!=="submenu"||!this.element)return;if((e=t==null?void 0:t.withDelay)!=null&&e){this.rootMenu.scheduleOperation(()=>this.openSubmenu());return}let r=this.element.getBoundingClientRect(),n=ine(this.element);this.submenu.show({container:this.rootMenu.element.parentNode,location:{x:VH(r,"trailing",n),y:r.top-4},alternateLocation:{x:VH(r,"leading",n),y:r.top-4}})}movingTowardSubmenu(t){if(!this.element||this.type!=="submenu")return!1;let e=this.rootMenu.lastMoveEvent;if(!e)return!1;let r=t.timeStamp-e.timeStamp;if(r>500)return!1;let n=t.clientX-e.clientX;if(iIe(n,e.clientY-t.clientY,r)<=.2)return!1;let i="right";if(this.submenu.element){let s=this.submenu.element.getBoundingClientRect(),a=this.element.getBoundingClientRect();s.left<a.left+a.width/2&&(i="left")}return i==="right"?n>0:n<0}};function iIe(t,e,r){return Math.hypot(t,e)/r}function fd(t,e){return t===void 0||typeof t!="function"?t:(e!=null||(e={alt:!1,control:!1,shift:!1,meta:!1}),t(e))}var ane=class tm{constructor(e,r){this._element=null,this._activeMenuItem=null,this._dirty=!0;var n,i;this.parentMenu=(n=r==null?void 0:r.parentMenu)!=null?n:null,this._submenuClass=r==null?void 0:r.submenuClass,this.columnCount=(i=r==null?void 0:r.columnCount)!=null?i:1,this.isSubmenuOpen=!1,this.menuItems=e}get children(){return Object.freeze([...this._menuItems])}set menuItems(e){let r=this.parentMenu;this.dispose(),this.parentMenu=r,e=[...e],this._menuItems=e.map(n=>n.onCreate?n.onCreate(n,this):new sne(n,this)),this.hasCheck=void 0,this.dirty=!0}dispose(){var e;this.hide(),this._element&&this._element.remove(),this._abortController&&this._abortController.abort(),(e=this._menuItems)==null||e.forEach(r=>r.dispose()),this._menuItems=[],this._activeMenuItem=null,this.parentMenu=null}handleEvent(e){if(e.type==="wheel"&&this._element){let r=e;this._element.scrollBy(0,r.deltaY),e.stopPropagation()}}dispatchEvent(e){return this.rootMenu.dispatchEvent(e)}get host(){return this.rootMenu.host}get rootMenu(){return this.parentMenu.rootMenu}updateState(e){var r,n,i;this._menuItems.forEach(c=>c.updateState(e));let s=this.hasCheck;this.hasCheck=this._menuItems.some(c=>c.visible&&c.hasCheck),this.hasCheck!==s&&this._menuItems.forEach(c=>c.updateState(e));let a,o=0;for(let c of this._menuItems)c.type==="heading"?(a&&o===0&&(a.visible=!1),a=c,o=0):c.type==="divider"&&a?(a.visible=o>0,a=void 0,o=0):a&&c.visible&&(o+=1);a&&(a.visible=o>0);let l=!0;for(let c of this._menuItems)c.type==="divider"?(c.visible=!l,l=!0):c.visible&&(l=!1);(r=this.activeMenuItem)!=null&&r.visible||(this.activeMenuItem=null),!((n=this.activeMenuItem)!=null&&n.enabled)&&((i=this.activeMenuItem)==null?void 0:i.type)==="submenu"&&this._activeMenuItem.submenu.hide(),this._dirty=!1}get enabled(){return this.updateIfDirty(),this._menuItems.some(e=>e.type!=="divider"&&e.visible&&e.enabled)}get visible(){return this.updateIfDirty(),this._menuItems.some(e=>e.type!=="divider"&&e.visible)}set dirty(e){this._dirty!==e&&e&&this.parentMenu&&(this._dirty=!0,this.parentMenu.dirty=!0)}updateIfDirty(){this._dirty&&this.updateState(this.rootMenu.modifiers)}updateElement(){var e;if(this._element){this._element.textContent="";for(let{element:r,visible:n}of this._menuItems)r&&n&&this._element.append(r);(e=this._element.querySelector("li:first-of-type"))==null||e.setAttribute("tabindex","0")}}get element(){if(this._element)return this._element;let e=document.createElement("menu");e.setAttribute("role","menu"),e.setAttribute("tabindex","-1"),e.setAttribute("aria-orientation","vertical"),e.setAttribute("part","ui-menu-container"),this._submenuClass&&e.classList.add(this._submenuClass),e.classList.add("ui-menu-container"),this._abortController||(this._abortController=new AbortController);let r=this._abortController.signal;return e.addEventListener("focus",this,{signal:r}),e.addEventListener("wheel",this,{passive:!0,signal:r}),this._element=e,this.updateElement(),e}get activeMenuItem(){return this._activeMenuItem}set activeMenuItem(e){var r,n,i,s;if(this.rootMenu.cancelDelayedOperation(),e!==this._activeMenuItem){if(this.activeMenuItem){let a=this.activeMenuItem;a.active=!1,(r=a.submenu)==null||r.hide()}if(!((n=e==null?void 0:e.visible)==null||n)){this._activeMenuItem=null;return}this._activeMenuItem=e,e&&(e.active=!0)}e?(i=e.element)==null||i.focus({preventScroll:!0}):(s=this._element)==null||s.focus({preventScroll:!0})}get firstMenuItem(){this.updateIfDirty();let e=0,r=!1,n=this._menuItems;for(;!r&&e<=n.length-1;){let i=n[e];r=i.type!=="divider"&&i.visible&&i.enabled,e+=1}return r?n[e-1]:null}get lastMenuItem(){this.updateIfDirty();let e=this._menuItems,r=e.length-1,n=!1;for(;!n&&r>=0;){let i=e[r];n=i.type!=="divider"&&i.visible&&i.enabled,r-=1}return n?e[r+1]:null}nextMenuItem(e){if(e===0)return this._activeMenuItem;if(!this._activeMenuItem)return e>0?this.firstMenuItem:this.lastMenuItem;if(!this.firstMenuItem||!this.lastMenuItem||!this._activeMenuItem)return null;this.updateIfDirty();let r=this._menuItems.indexOf(this.firstMenuItem),n=this._menuItems.indexOf(this.lastMenuItem),i=this._menuItems.indexOf(this._activeMenuItem),s=1;for(;i>=r&&i<=n;){i+=e>0?1:-1;let a=this._menuItems[i];if(!a)break;if(a.visible&&a.enabled){if(s===Math.abs(e))return this._menuItems[i];s+=1}}return e>0?this.lastMenuItem:this.firstMenuItem}getMenuItemColumn(e){this.updateIfDirty();let r=this._menuItems.filter(n=>n.visible&&n.enabled).indexOf(e);return r<0?-1:r%this.columnCount}static get collator(){return tm._collator||(tm._collator=new Intl.Collator(void 0,{usage:"search",sensitivity:"base"})),tm._collator}findMenuItem(e){var r;this.updateIfDirty();let n=this._menuItems.filter(o=>o.type!=="divider"&&o.visible&&o.enabled);if(n.length===0)return null;let i=Math.max(...n.map(o=>o.label.length))-e.length;if(i<0)return null;let s=null,a=0;for(;a<i&&!s;)s=(r=n.find(o=>tm.collator.compare(e,o.label.substring(a,e.length))===0))!=null?r:null,a++;return s}show(e){return!this.visible||!e.container?!1:(this.updateElement(),e.container.appendChild(this.element),SU()&&(this.element.popover="manual",this.element.showPopover()),e.location&&rIe(this.element,{location:e.location,alternateLocation:e.alternateLocation,verticalPos:"bottom",horizontalPos:"start"}),WH(),this.element.focus({preventScroll:!0}),GH(),this.parentMenu&&(this.parentMenu.openSubmenu=this),!0)}hide(){var e,r,n,i,s,a;this.openSubmenu=null,this.activeMenuItem=null,this.parentMenu&&(this.parentMenu.openSubmenu=null),!(!((e=this._element)!=null&&e.isConnected)||!this._element.parentElement)&&(SU()&&(r=this._element)!=null&&r.popover&&this._element.hidePopover(),WH(),(i=(n=this.parentMenu)==null?void 0:n.element)==null||i.focus(),(a=(s=this._element)==null?void 0:s.parentNode)==null||a.removeChild(this._element),GH())}set openSubmenu(e){var r,n,i,s;let a=e!==null;((r=this.activeMenuItem)==null?void 0:r.type)==="submenu"&&((n=this.activeMenuItem.element)==null||n.setAttribute("aria-expanded",a.toString())),(s=(i=this.activeMenuItem)==null?void 0:i.element)==null||s.classList.toggle("is-submenu-open",a),this.isSubmenuOpen=a}};function WH(){document.addEventListener("focusin",Xc,!0),document.addEventListener("focusout",Xc,!0),document.addEventListener("focus",Xc,!0),document.addEventListener("blur",Xc,!0)}function Xc(t){t.stopImmediatePropagation(),t.preventDefault()}function GH(){document.removeEventListener("focusin",Xc,!0),document.removeEventListener("focusout",Xc,!0),document.removeEventListener("focus",Xc,!0),document.removeEventListener("blur",Xc,!0)}var one=class lne extends ane{constructor(e,r){var n;super(e),this.state="closed",this.typingBufferResetTimer=0,this.hysteresisTimer=0,this._updating=!1,this._host=(n=r==null?void 0:r.host)!=null?n:null,this.isDynamic=e.some(cne),this._modifiers={shift:!1,control:!1,alt:!1,meta:!1},this.typingBuffer="",this.state="closed"}get modifiers(){return this._modifiers}set modifiers(e){SNe(this._modifiers,e)||(this._modifiers=e,this.dirty=!0)}get activeSubmenu(){let e=this;for(;e.isSubmenuOpen;)e=e.activeMenuItem.submenu;return e}set dirty(e){this._updating||this._dirty!==e&&(this._dirty=!0,e&&setTimeout(()=>{this.updateState(this.modifiers),this.updateElement()}))}updateState(e){this._updating=!0,this.modifiers=e??this.modifiers,super.updateState(this.modifiers),this._updating=!1}handleKeyupEvent(e){this.isDynamic&&(this.modifiers=Kd(e)),e.stopImmediatePropagation()}handleKeydownEvent(e){var r,n,i;if(e.key==="Tab"||e.key==="Escape"){this.hide();return}this.isDynamic&&(this.modifiers=Kd(e));let s=!0,a=this.activeSubmenu,o=a.activeMenuItem;switch(e.key){case" ":case"Space":case"Return":case"Enter":o==null||o.select(Kd(e));break;case"ArrowRight":if((o==null?void 0:o.type)==="submenu")o.select(Kd(e)),this.activeSubmenu.activeMenuItem=this.activeSubmenu.firstMenuItem;else if(!o)a.activeMenuItem=a.firstMenuItem;else{let l=(r=a.getMenuItemColumn(o))!=null?r:-1;if(l>=0&&l<((n=a.columnCount)!=null?n:1)-1){let c=a.nextMenuItem(1);c&&(a.activeMenuItem=c)}}break;case"ArrowLeft":if(a===this.rootMenu)o||(a.activeMenuItem=a.firstMenuItem);else if((o&&(i=a.getMenuItemColumn(o))!=null?i:-1)<=0||!o){a.hide();let l=a.parentMenu.activeMenuItem;if(l){let{element:c}=l;c==null||c.focus(),c==null||c.classList.remove("is-submenu-open")}}else{let l=a.nextMenuItem(-1);l&&(a.activeMenuItem=l)}break;case"ArrowDown":a.activeMenuItem=a.nextMenuItem(a.columnCount);break;case"ArrowUp":a.activeMenuItem=a.nextMenuItem(-a.columnCount);break;case"Home":case"PageUp":a.activeMenuItem=a.firstMenuItem;break;case"End":case"PageDown":a.activeMenuItem=a.lastMenuItem;break;case"Backspace":if(this.typingBuffer&&(this.typingBuffer=this.typingBuffer.slice(0,-1),this.typingBuffer)){clearTimeout(this.typingBufferResetTimer);let l=a.findMenuItem(this.typingBuffer);l&&(a.activeMenuItem=l),this.typingBufferResetTimer=setTimeout(()=>{this.typingBuffer=""},500)}break;default:if(F5(e)){isFinite(this.typingBufferResetTimer)&&clearTimeout(this.typingBufferResetTimer),this.typingBuffer+=e.key;let l=a.findMenuItem(this.typingBuffer);l&&(a.activeMenuItem=l),this.typingBufferResetTimer=setTimeout(()=>{this.typingBuffer=""},500)}else s=!1}s&&(e.preventDefault(),e.stopPropagation())}handleEvent(e){if(e.type==="keydown")this.handleKeydownEvent(e);else if(e.type==="keyup")this.handleKeyupEvent(e);else if(e.type==="pointermove")this.lastMoveEvent=e;else if(e.type==="pointerup"&&e.target===this.scrim)Number.isFinite(this.rootMenu._openTimestamp)&&Date.now()-this.rootMenu._openTimestamp<120?this.state="modal":this.state==="modal"&&this.hide();else if(e.type==="contextmenu"){e.preventDefault(),e.stopPropagation();return}super.handleEvent(e)}dispatchEvent(e){return this._host?this._host.dispatchEvent(e):!0}get host(){return this._host}get scrim(){return Ca.element}connectScrim(e){let r=this.scrim;r.addEventListener("pointerup",this),r.addEventListener("contextmenu",this),r.addEventListener("keydown",this),r.addEventListener("keyup",this),r.addEventListener("pointermove",this),Ca.open({root:e,onDismiss:()=>this.hide()})}disconnectScrim(){let e=this.scrim;e.removeEventListener("pointerup",this),e.removeEventListener("contextmenu",this),e.removeEventListener("keydown",this),e.removeEventListener("keyup",this),e.removeEventListener("pointermove",this),Ca.state==="open"&&Ca.scrim.close()}get rootMenu(){return this}show(e){return this._onDismiss=e==null?void 0:e.onDismiss,e!=null&&e.modifiers&&(this.modifiers=e.modifiers),this.updateState(),this.connectScrim(e==null?void 0:e.target),super.show(W(U({},e),{container:this.scrim}))?(this._openTimestamp=Date.now(),this.state="open",!0):(this.disconnectScrim(),!1)}hide(){this.cancelDelayedOperation(),this.state!==void 0&&(this.state!=="closed"&&(this.activeMenuItem=null,Ca.element.parentElement.focus(),super.hide(),this.state="closed",this.disconnectScrim()),this._onDismiss&&(this._onDismiss(),this._onDismiss=void 0))}scheduleOperation(e){this.cancelDelayedOperation();let r=lne.SUBMENU_DELAY;if(r<=0){e();return}this.hysteresisTimer=setTimeout(()=>{this.hysteresisTimer=0,e()},r)}cancelDelayedOperation(){this.hysteresisTimer&&(clearTimeout(this.hysteresisTimer),this.hysteresisTimer=0)}};one.SUBMENU_DELAY=120;var XH=one;function cne(t){return c_(t)?!1:typeof t.label=="function"||typeof t.ariaLabel=="function"||typeof t.tooltip=="function"||(sl(t)||aA(t))&&(typeof t.enabled=="function"||typeof t.visible=="function")||sl(t)&&typeof t.checked=="function"?!0:aA(t)?t.submenu.some(cne):!1}var N3=class{};N3.DELAY=300,N3.MAX_DISTANCE=10;function sIe(t){return new Promise((e,r)=>{let n=B3(t);n||e(!1);let i=n,s=setTimeout(()=>{a.abort(),e(nIe(i,n)<N3.MAX_DISTANCE)},N3.DELAY),a=new AbortController,o=a.signal;for(let l of["pointermove","pointerup","pointercancel"])window.addEventListener(l,c=>{if(c.type==="pointerup"||c.type==="pointercancel")clearTimeout(s),a.abort(),e(!1);else if(c.type==="pointermove"){let u=B3(c);u&&(i=u)}},{passive:!0,signal:o})})}async function YH(t,e,r){if(t.defaultPrevented)return!1;if(t.type==="contextmenu"){let n=t;if(r.show({target:e,location:B3(n),modifiers:Kd(n)}))return t.preventDefault(),t.stopPropagation(),!0}if(t.type==="keydown"){let n=t;if(n.code==="ContextMenu"||n.code==="F10"&&n.shiftKey){let i=e==null?void 0:e.getBoundingClientRect();if(JH(e)&&i&&r.show({target:e,location:{x:Math.ceil(i.left+i.width/2),y:Math.ceil(i.top+i.height/2)},modifiers:Kd(n)}))return t.preventDefault(),t.stopPropagation(),!0}}if(t.type==="pointerdown"&&t.pointerType!=="mouse"&&t.button===0){let n=t.target;for(;n&&e!==n;)n=n.parentNode;if(!n||!r.visible)return!1;let i=B3(t);if(await sIe(t))return r.state!=="closed"||!JH(e)?!1:(r.show({target:e,location:i}),!0)}return!1}function JH(t){return t.dispatchEvent(new Event("contextmenu",{cancelable:!0}))}var ZH={acute:714,grave:715,dot:729,ddot:168,dddot:8411,ddddot:8412,mathring:730,tilde:126,bar:713,breve:728,check:711,hat:94,vec:8407};de(Object.keys(ZH),"{body:auto}",{createAtom:t=>new B5(W(U({},t),{body:Ee(t.args[0]),accentChar:ZH[t.command.slice(1)]}))});de(["widehat","widecheck","widetilde"],"{body:auto}",{createAtom:t=>{let e=wte(Ee(t.args[0]));return new B5(W(U({},t),{body:Ee(t.args[0]),svgAccent:t.command.slice(1)+(e.length>5?"4":["1","1","2","2","3","3"][e.length])}))}});de(["overarc","overparen","wideparen"],"{body:auto}",{createAtom:t=>new B5(W(U({},t),{body:Ee(t.args[0]),svgAccent:"overarc"}))});de(["underarc","underparen"],"{body:auto}",{createAtom:t=>new aa(W(U({},t),{body:Ee(t.args[0]),svgBelow:"underarc"}))});de("utilde","{body:auto}",{createAtom:t=>{let e=Ee(t.args[0]),r=wte(e),n="widetilde"+(r.length>5?"4":["1","1","2","2","3","3"][r.length]);return new aa(W(U({},t),{body:e,svgBelow:n,boxType:K1(e)}))}});de("^","{:string}",{createAtom:t=>{var e;return new se(W(U({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[t.args[0]])!=null?e:"^"}))}});de("`","{:string}",{createAtom:t=>{var e;return new se(W(U({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[t.args[0]])!=null?e:"`"}))}});de("'","{:string}",{createAtom:t=>{var e;return new se(W(U({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[t.args[0]])!=null?e:"'"}))}});de('"',"{:string}",{createAtom:t=>{var e,r;return new se(W(U({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:(e=t.args)!=null&&e[0]?(r={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[t.args[0]])!=null?r:'"'+t.args[0]:'"'}))}});de(".","{:string}",{createAtom:t=>{var e,r;return new se(W(U({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:(e=t.args)!=null&&e[0]?(r={a:"",e:"",i:"i",o:"",u:"u",A:"",E:"",I:"",O:"",U:"U"}[t.args[0]])!=null?r:"."+t.args[0]:"."}))}});de("=","{:string}",{createAtom:t=>{var e,r;return new se(W(U({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:(e=t.args)!=null&&e[0]?(r={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[t.args[0]])!=null?r:"="+t.args[0]:"="}))}});de("~","{:string}",{createAtom:t=>{var e;return new se(W(U({type:"mord"},t),{isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={n:"",N:"",a:"",o:"",A:"",O:""}[t.args[0]])!=null?e:""}))}});de("c","{:string}",{createAtom:t=>{var e;return new se(W(U({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={c:"",C:""}[t.args[0]])!=null?e:""}))}});de("enclose","{notation:string}[style:string]{body:auto}",{createAtom:t=>{var e,r;let n=t.args,i={strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",backgroundcolor:"transparent",padding:"auto",shadow:"none",svgStrokeStyle:void 0,borderStyle:void 0,style:(e=t.style)!=null?e:{}};if(n[1]){let a=n[1].split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(let o of a){let l=o.match(/\s*(\S+)\s+(\S+)\s+(.*)/);if(l)i.strokeWidth=l[1],i.strokeStyle=l[2],i.strokeColor=l[3];else{let c=o.match(/\s*([a-z]*)\s*=\s*"(.*)"/);c&&(c[1]==="mathbackground"?i.backgroundcolor=c[2]:c[1]==="mathcolor"?i.strokeColor=c[2]:c[1]==="padding"?i.padding=c[2]:c[1]==="shadow"&&(i.shadow=c[2]))}}i.strokeStyle==="dashed"?i.svgStrokeStyle="5,5":i.strokeStyle==="dotted"&&(i.svgStrokeStyle="1,5")}i.borderStyle=`${i.strokeWidth} ${i.strokeStyle} ${i.strokeColor}`;let s={};return((r=n[0])!=null?r:"").split(/[, ]/).filter(a=>a.length>0).forEach(a=>{s[a.toLowerCase()]=!0}),new q1(t.command,Ee(n[2]),s,i)}});de("cancel","{body:auto}",{createAtom:t=>{var e;return new q1(t.command,Ee(t.args[0]),{updiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(e=t.style)!=null?e:{}})}});de("bcancel","{body:auto}",{createAtom:t=>{var e;return new q1(t.command,Ee(t.args[0]),{downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(e=t.style)!=null?e:{}})}});de("xcancel","{body:auto}",{createAtom:t=>{var e;return new q1(t.command,Ee(t.args[0]),{updiagonalstrike:!0,downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(e=t.style)!=null?e:{}})}});de(["overrightarrow","overleftarrow","Overrightarrow","overleftharpoon","overrightharpoon","overleftrightarrow","overlinesegment","overgroup"],"{:auto}",{createAtom:t=>{var e;return new aa(W(U({},t),{body:Ee((e=t.args)==null?void 0:e[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",svgAbove:t.command.slice(1)}))}});de("overbrace","{:auto}",{createAtom:t=>new aa(W(U({},t),{body:Ee(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",svgAbove:t.command.slice(1)}))});de(["underrightarrow","underleftarrow","underleftrightarrow","underlinesegment","undergroup"],"{:auto}",{createAtom:t=>new aa(W(U({},t),{body:Ee(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",svgBelow:t.command.slice(1)}))});de(["underbrace"],"{:auto}",{createAtom:t=>new aa(W(U({},t),{body:Ee(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",svgBelow:t.command.slice(1)}))});de(["xrightarrow","longrightarrow","xleftarrow","longleftarrow","xRightarrow","xLeftarrow","xleftharpoonup","xleftharpoondown","xrightharpoonup","xrightharpoondown","xlongequal","xtwoheadleftarrow","xtwoheadrightarrow","xleftrightarrow","longleftrightarrow","xLeftrightarrow","xrightleftharpoons","longrightleftharpoons","xleftrightharpoons","xhookleftarrow","xhookrightarrow","xmapsto","xtofrom","xleftrightarrows","longleftrightarrows","xRightleftharpoons","longRightleftharpoons","xLeftrightharpoons","longLeftrightharpoons"],"[:auto]{:auto}",{createAtom:t=>{var e,r,n,i,s;return new aa(W(U({},t),{svgBody:t.command.slice(1),above:((r=Ee((e=t.args)==null?void 0:e[1]))==null?void 0:r.length)===0?void 0:Ee((n=t.args)==null?void 0:n[1]),below:(s=Ee((i=t.args)==null?void 0:i[0]))!=null?s:null,skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,paddedLabels:!0,boxType:"rel"}))},serialize:(t,e)=>t.command+(t.hasEmptyBranch("below")?"":`[${t.belowToLatex(e)}]`)+`{${t.aboveToLatex(e)}}${t.supsubToLatex(e)}`});de(["arccos","arcsin","arctan","arctg","arcctg","arg","ch","cos","cosh","cot","cotg","coth","ctg","cth","csc","cosec","deg","dim","exp","gcd","hom","inf","ker","lb","lg","ln","log","Pr","sec","sh","sin","sinh","sup","tan","tanh","tg","th","arcsec","arccsc","arsinh","arcosh","artanh","arcsech","arccsch"],"",{isFunction:!0,ifMode:"math",createAtom:t=>new Uh(t.command.slice(1),W(U({},t),{limits:"adjacent",isFunction:!0,variant:"main",variantStyle:"up"}))});de(["liminf","limsup"],"",{ifMode:"math",createAtom:t=>new Uh({"\\liminf":"lim inf","\\limsup":"lim sup"}[t.command],W(U({},t),{limits:"over-under",variant:"main"}))});de(["lim","mod"],"",{ifMode:"math",createAtom:t=>new Uh(t.command.slice(1),W(U({},t),{limits:"over-under",variant:"main"}))});de(["det","max","min"],"",{ifMode:"math",isFunction:!0,createAtom:t=>new Uh(t.command.slice(1),W(U({},t),{limits:"over-under",isFunction:!0,variant:"main"}))});de("ang","{:math}",{ifMode:"math",createAtom:t=>new se(W(U({},t),{body:Ee(t.args[0])})),serialize:(t,e)=>`\\ang{${t.bodyToLatex(e)}}`,render:(t,e)=>{let r=t.createBox(e),n=r.caret;r.caret=void 0;let i=new ge("",{style:W(U({},t.style),{variant:"normal",variantStyle:"up"})});return new ge([r,i],{type:"inner",isSelected:t.isSelected,caret:n})}});de("sqrt","[index:auto]{radicand:expression}",{ifMode:"math",createAtom:t=>new Mre(W(U({},t),{body:Ee(t.args[1]),index:t.args[0]?Ee(t.args[0]):void 0}))});de(["frac","dfrac","tfrac","binom","dbinom","tbinom"],"{:expression}{:expression}",{ifMode:"math",createAtom:t=>{let e=U({},t),r=t.command,n=t.args;switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":e.hasBarLine=!0;break;case"\\atopfrac":e.hasBarLine=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":e.hasBarLine=!1,e.leftDelim="(",e.rightDelim=")";break;case"\\cfrac":e.hasBarLine=!0,e.continuousFraction=!0;break}switch(r){case"\\dfrac":case"\\dbinom":e.mathstyleName="displaystyle";break;case"\\tfrac":case"\\tbinom":e.mathstyleName="textstyle";break}return new Oh(n[0]?Ee(n[0]):[new Do],n[1]?Ee(n[1]):[new Do],e)},serialize:(t,e)=>{let r=t.aboveToLatex(e),n=t.belowToLatex(e);return/^[0-9]$/.test(r)&&/^[0-9]$/.test(n)?`${t.command}${r}${n}`:zt(t.command,r,n)}});de(["cfrac"],"[:string]{:expression}{:expression}",{ifMode:"math",createAtom:t=>{let e=U({},t),r=t.args;return e.hasBarLine=!0,e.continuousFraction=!0,r[0]==="r"&&(e.align="right"),r[0]==="l"&&(e.align="left"),new Oh(r[1]?Ee(r[1]):[new Do],r[2]?Ee(r[2]):[new Do],e)},serialize:(t,e)=>{let r=t.aboveToLatex(e),n=t.belowToLatex(e);return zt(t.command,r,n)}});de(["brace","brack"],"",{infix:!0,createAtom:t=>new Oh(Ee(t.args[0]),Ee(t.args[1]),W(U({},t),{hasBarLine:!1,leftDelim:t.command==="\\brace"?"\\lbrace":"\\lbrack",rightDelim:t.command==="\\brace"?"\\rbrace":"\\rbrack"})),serialize:(t,e)=>ot([t.aboveToLatex(e),t.command,t.belowToLatex(e)])});de(["over","atop","choose"],"",{infix:!0,createAtom:t=>{let e,r,n=t.args;return t.command==="\\choose"&&(e="(",r=")"),new Oh(Ee(n[0]),Ee(n[1]),W(U({},t),{hasBarLine:t.command==="\\over",leftDelim:e,rightDelim:r}))},serialize:(t,e)=>ot([t.aboveToLatex(e),t.command,t.belowToLatex(e)])});de(["overwithdelims","atopwithdelims"],"{numer:auto}{denom:auto}{left-delim:delim}{right-delim:delim}",{infix:!0,createAtom:t=>{var e,r;let n=t.args;return new Oh(Ee(n[0]),Ee(n[1]),W(U({},t),{leftDelim:(e=n[2])!=null?e:".",rightDelim:(r=n[3])!=null?r:".",hasBarLine:!1}))},serialize:(t,e)=>`${t.aboveToLatex(e)} ${t.command}${t.leftDelim}${t.rightDelim}${t.belowToLatex(e)}`});de("pdiff","{numerator}{denominator}",{ifMode:"math",createAtom:t=>new Oh(Ee(t.args[0]),Ee(t.args[1]),W(U({},t),{hasBarLine:!0,numerPrefix:"",denomPrefix:""}))});de(["sum","prod","bigcup","bigcap","coprod","bigvee","bigwedge","biguplus","bigotimes","bigoplus","bigodot","bigsqcup","intop"],"",{ifMode:"math",createAtom:t=>new KF({coprod:"",bigvee:"",bigwedge:"",biguplus:"",bigcap:"",bigcup:"",intop:"",prod:"",sum:"",bigotimes:"",bigoplus:"",bigodot:"",bigsqcup:"",smallint:""}[t.command.slice(1)],W(U({},t),{limits:"auto",variant:"main"}))});de("smallint","",{ifMode:"math",createAtom:t=>new Uh("",W(U({},t),{limits:"adjacent",variant:"main"}))});var ez={int:"",iint:"",iiint:"",oint:"",oiint:"",oiiint:"",intclockwise:"",varointclockwise:"",ointctrclockwise:"",intctrclockwise:"",sqcup:"",sqcap:"",uplus:"",wr:"",amalg:"",Cap:"",Cup:"",doublecap:"",doublecup:""};de(Object.keys(ez),"",{ifMode:"math",createAtom:t=>{let e=t.command,r=ez[e.slice(1)];return new KF(r,W(U({},t),{limits:"adjacent",variant:{"":"ams","":"ams"}[r]}))}});de(["Re","Im"],"",{ifMode:"math",createAtom:t=>new Uh({"\\Re":"","\\Im":""}[t.command],W(U({},t),{limits:"adjacent",isFunction:!0,variant:"fraktur"}))});de("middle","{:delim}",{ifMode:"math",createAtom:t=>{var e;return new mre(W(U({},t),{delim:(e=t.args[0])!=null?e:"|",size:1}))}});de("the","{:value}",{createAtom:t=>new se(W(U({},t),{captureSelection:!0,verbatimLatex:null})),render:(t,e)=>{var r;let n=new pt({parent:e},t.style),i="";t.isSelected&&(i+=" ML__selected");let s=n.evaluate(t.args[0]);return new ge(((r=xn(s))!=null?r:"").split("").map(a=>new ge(a,{type:"ord",classes:i,mode:t.mode,isSelected:t.isSelected,style:U({variant:"main"},t.style)})),{type:"lift",style:t.style,caret:t.caret,isSelected:t.isSelected,classes:i}).wrap(n)},serialize:t=>{var e;return`\\the${(e=xn(t.args[0]))!=null?e:"\\relax"}`}});de("mathtip","{:auto}{:math}",{createAtom:t=>new qF(W(U({},t),{body:Ee(t.args[0]),tooltip:Ee(t.args[1]),content:"math"})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\mathtip{${t.bodyToLatex(e)}}{${se.serialize([t.tooltip],W(U({},e),{defaultMode:"math"}))}}`});de("texttip","{:auto}{:text}",{createAtom:t=>new qF(W(U({},t),{body:Ee(t.args[0]),tooltip:Ee(t.args[1]),content:"text"})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\texttip{${t.bodyToLatex(e)}}{${se.serialize([t.tooltip],W(U({},e),{defaultMode:"text"}))}}`});de("error","{:math}",{createAtom:t=>new se(W(U({},t),{body:Ee(t.args[0])})),serialize:(t,e)=>`\\error{${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__error"})});de("ensuremath","{:math}",{createAtom:t=>new se(W(U({},t),{body:Ee(t.args[0])})),serialize:(t,e)=>`${t.command}{${t.bodyToLatex(W(U({},e),{defaultMode:"math"}))}}`});de("color","{:value}",{applyStyle:(t,e,r,n)=>{var i,s;return W(U({},t),{verbatimColor:(i=xn(r[0]))!=null?i:void 0,color:n.toColor((s=r[0])!=null?s:{string:"red"})})}});de("textcolor","{:value}{content:auto*}",{applyStyle:(t,e,r,n)=>{var i,s;return W(U({},t),{verbatimColor:(i=xn(r[0]))!=null?i:void 0,color:n.toColor((s=r[0])!=null?s:{string:"red"})})}});de("boxed","{content:math}",{createAtom:t=>new Du(W(U({},t),{body:Ee(t.args[0]),framecolor:{string:"black"}}))});de("colorbox","{:value}{:text*}",{applyStyle:(t,e,r,n)=>{var i,s;return W(U({},t),{verbatimBackgroundColor:(i=xn(r[0]))!=null?i:void 0,backgroundColor:n.toBackgroundColor((s=r[0])!=null?s:{string:"yellow"})})}});de("fcolorbox","{frame-color:value}{background-color:value}{content:text}",{applyMode:"text",createAtom:t=>{var e,r;return new Du(W(U({},t),{body:Ee(t.args[2]),framecolor:(e=t.args[0])!=null?e:{string:"blue"},backgroundcolor:(r=t.args[1])!=null?r:{string:"yellow"}}))},serialize:(t,e)=>{var r,n;return e.skipStyles?t.bodyToLatex(W(U({},e),{defaultMode:"text"})):zt(t.command,(r=xn(t.framecolor))!=null?r:"",(n=xn(t.backgroundcolor))!=null?n:"",t.bodyToLatex(W(U({},e),{defaultMode:"text"})))}});de("bbox","[:bbox]{body:auto}",{createAtom:t=>{var e;let r=t.args[0],n=Ee(t.args[1]);return r?new Du(W(U({},t),{body:n,padding:r.padding,border:r.border,backgroundcolor:(e=r.backgroundcolor)!=null?e:void 0})):new Du(W(U({},t),{body:n}))},serialize:(t,e)=>{var r,n;if(e.skipStyles)return t.bodyToLatex(e);let i=t.command;if(Number.isFinite(t.padding)||t.border!==void 0||t.backgroundcolor!==void 0){let s=[];t.padding&&s.push((r=xn(t.padding))!=null?r:""),t.border&&s.push(`border: ${t.border}`),t.backgroundcolor&&s.push((n=xn(t.backgroundcolor))!=null?n:""),i+=`[${s.join(",")}]`}return zt(i,t.bodyToLatex(e))}});de(["displaystyle","textstyle","scriptstyle","scriptscriptstyle"],"{:rest}",{createAtom:t=>new se(W(U({},t),{body:Ee(t.args[0])})),render:(t,e)=>{let r=new pt({parent:e,mathstyle:t.command.slice(1)},t.style),n=se.createBox(r,t.body,{type:"lift"});return t.caret&&(n.caret=t.caret),t.bind(e,n)},serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`{${ot([t.command,t.bodyToLatex(e)])}}`});de(["tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"],"",{applyStyle:(t,e)=>W(U({},t),{fontSize:{"\\tiny":1,"\\scriptsize":2,"\\footnotesize":3,"\\small":4,"\\normalsize":5,"\\large":6,"\\Large":7,"\\LARGE":8,"\\huge":9,"\\Huge":10}[e]})});de("fontseries","{:string}",{ifMode:"text",applyStyle:(t,e,r)=>{var n;return W(U({},t),{fontSeries:(n=r[0])!=null?n:"auto"})}});de("fontshape","{:string}",{ifMode:"text",applyStyle:(t,e,r)=>{var n;return W(U({},t),{fontShape:(n=r[0])!=null?n:"auto"})}});de("fontfamily","{:string}",{ifMode:"text",applyStyle:(t,e,r)=>{var n;return W(U({},t),{fontFamily:(n=r[0])!=null?n:"roman"})}});de("selectfont","",{ifMode:"text",applyStyle:t=>t});de("bf","{:rest*}",{applyStyle:t=>W(U({},t),{fontSeries:"b",fontShape:"n",fontFamily:"roman"})});de(["boldsymbol","bm","bold"],"{:math*}",{applyMode:"math",applyStyle:t=>W(U({},t),{variantStyle:"bold"})});de("bfseries","{:rest*}",{applyMode:"text",applyStyle:t=>W(U({},t),{fontSeries:"b"})});de("mdseries","{:rest*}",{applyMode:"text",applyStyle:t=>W(U({},t),{fontSeries:"m"})});de("upshape","{:rest*}",{applyMode:"text",applyStyle:t=>W(U({},t),{fontShape:"n"})});de("slshape","{:rest*}",{applyMode:"text",applyStyle:t=>W(U({},t),{fontShape:"sl"})});de("scshape","{:rest*}",{applyMode:"text",applyStyle:t=>W(U({},t),{fontShape:"sc"})});de("textbf","{:text*}",{applyMode:"text",applyStyle:t=>W(U({},t),{fontSeries:"b"})});de("textmd","{:text*}",{applyMode:"text",applyStyle:t=>W(U({},t),{fontSeries:"m"})});de("textup","{:text*}",{applyMode:"text",applyStyle:t=>W(U({},t),{fontShape:"n"})});de("textnormal","{:text*}",{applyMode:"text",applyStyle:t=>W(U({},t),{fontShape:"n",fontSeries:"m"})});de("textsl","{:text*}",{applyMode:"text",applyStyle:t=>W(U({},t),{fontShape:"sl"})});de("textit","{:text*}",{applyMode:"text",applyStyle:t=>W(U({},t),{fontShape:"it"})});de("textsc","{:text*}",{applyMode:"text",applyStyle:t=>W(U({},t),{fontShape:"sc"})});de("textrm","{:text*}",{applyMode:"text",applyStyle:t=>W(U({},t),{fontFamily:"roman"})});de("textsf","{:text*}",{applyMode:"text",applyStyle:t=>W(U({},t),{fontFamily:"sans-serif"})});de("texttt","{:text*}",{applyMode:"text",applyStyle:t=>W(U({},t),{fontFamily:"monospace"})});de("mathbf","{:math*}",{applyMode:"math",applyStyle:t=>W(U({},t),{variant:"normal",variantStyle:"bold"})});de("mathit","{:math*}",{applyMode:"math",applyStyle:t=>W(U({},t),{variant:"main",variantStyle:"italic"})});de("mathnormal","{:math*}",{applyMode:"math",applyStyle:t=>W(U({},t),{variant:"normal",variantStyle:"italic"})});de("mathbfit","{:math*}",{applyMode:"math",applyStyle:t=>W(U({},t),{variant:"main",variantStyle:"bolditalic"})});de("mathrm","{:math*}",{applyMode:"math",applyStyle:t=>W(U({},t),{variant:"normal",variantStyle:"up"})});de("mathsf","{:math*}",{applyMode:"math",applyStyle:t=>W(U({},t),{variant:"sans-serif",variantStyle:"up"})});de("mathtt","{:math*}",{applyMode:"math",applyStyle:t=>W(U({},t),{variant:"monospace",variantStyle:"up"})});de("it","{:rest*}",{applyStyle:t=>W(U({},t),{fontSeries:"m",fontShape:"it",fontFamily:"roman",variantStyle:"italic"})});de("rmfamily","{:rest*}",{applyStyle:t=>W(U({},t),{fontFamily:"roman"})});de("sffamily","{:rest*}",{applyStyle:t=>W(U({},t),{fontFamily:"sans-serif"})});de("ttfamily","{:rest*}",{applyStyle:t=>W(U({},t),{fontFamily:"monospace"})});de(["Bbb","mathbb"],"{:math*}",{applyStyle:t=>W(U({},t),{variant:"double-struck",variantStyle:M5(t.variantStyle)})});de(["frak","mathfrak"],"{:math*}",{applyStyle:t=>W(U({},t),{variant:"fraktur",variantStyle:M5(t.variantStyle)})});de("mathcal","{:math*}",{applyStyle:t=>W(U({},t),{variant:"calligraphic",variantStyle:M5(t.variantStyle)})});de("mathscr","{:math*}",{applyStyle:t=>W(U({},t),{variant:"script",variantStyle:M5(t.variantStyle)})});de("mbox","{:text}",{ifMode:"math",createAtom:t=>new se(W(U({},t),{type:"mord",body:Ee(t.args[0]),mode:"math"})),serialize:(t,e)=>zt("\\mbox",t.bodyToLatex(W(U({},e),{defaultMode:"text"})))});de("text","{:text}",{ifMode:"math",applyMode:"text"});de(["class","htmlClass"],"{name:string}{content:auto}",{createAtom:t=>new se(W(U({},t),{body:Ee(t.args[1])})),serialize:(t,e)=>!t.args[0]||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`,render:(t,e)=>{var r;return t.createBox(e,{classes:(r=t.args[0])!=null?r:""})}});de(["cssId","htmlId"],"{id:string}{content:auto}",{createAtom:t=>new se(W(U({},t),{body:Ee(t.args[1])})),serialize:(t,e)=>{var r;return!((r=t.args)!=null&&r[0])||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var r;let n=t.createBox(e);return n.cssId=(r=t.args[0])!=null?r:"",n}});de("htmlData","{data:string}{content:auto}",{createAtom:t=>new se(W(U({},t),{body:Ee(t.args[1])})),serialize:(t,e)=>{var r;return!((r=t.args)!=null&&r[0])||e.skipStyles?t.bodyToLatex(e):`\\htmlData{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var r;let n=t.createBox(e);return n.htmlData=(r=t.args[0])!=null?r:"",n}});de(["style","htmlStyle"],"{data:string}{content:auto}",{createAtom:t=>new se(W(U({},t),{body:Ee(t.args[1])})),serialize:(t,e)=>{var r;return!((r=t.args)!=null&&r[0])||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var r;let n=t.createBox(e);return n.htmlStyle=(r=t.args[0])!=null?r:"",n}});de("href","{url:string}{content:auto}",{createAtom:t=>new se(W(U({},t),{body:Ee(t.args[1])})),render:(t,e)=>{var r;let n=t.createBox(e),i=(r=t.args[0])!=null?r:"";return i&&(n.htmlData=`href=${i}`),n}});de("em","{:rest}",{createAtom:t=>new se(W(U({},t),{body:Ee(t.args[0])})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`{\\em ${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__emph",boxType:"lift"})});de("emph","{:auto}",{createAtom:t=>new se(W(U({},t),{body:Ee(t.args[1])})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\emph{${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__emph",boxType:"lift"})});var tz={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};de(["bigl","Bigl","biggl","Biggl","bigr","Bigr","biggr","Biggr","bigm","Bigm","biggm","Biggm","big","Big","bigg","Bigg"],"{:delim}",{createAtom:t=>{var e;return new yre(W(U({},t),{delim:(e=t.args[0])!=null?e:".",size:tz[t.command].size,delimType:tz[t.command].mclass}))}});de(["hspace","hspace*"],"{width:value}",{createAtom:t=>{var e;return new G1(W(U({},t),{width:(e=t.args[0])!=null?e:{dimension:0}}))}});de(["mkern","kern","mskip","hskip","mspace"],"{width:value}",{createAtom:t=>{var e;return new G1(W(U({},t),{width:(e=t.args[0])!=null?e:{dimension:0}}))}});de("mathchoice","{:math}{:math}{:math}{:math}",{createAtom:t=>new se(t),render:(t,e)=>{let r=0,n=e.mathstyle.id;(n===S5||n===Dd)&&(r=1),(n===BA||n===ss)&&(r=2),(n===Vd||n===Hn)&&(r=3);let i=Ee(t.args[r]);return se.createBox(e,i)},serialize:(t,e)=>`\\mathchoice{${se.serialize(t.args[0],e)}}{${se.serialize(t.args[1],e)}}{${se.serialize(t.args[2],e)}}{${se.serialize(t.args[3],e)}}`});de("mathop","{:auto}",{createAtom:t=>new se(W(U({},t),{type:"mop",body:Ee(t.args[0]),limits:"over-under",isFunction:!0,captureSelection:!0})),render:(t,e)=>{var r;let n=se.createBox(e,t.body);if(t.superscript||t.subscript){let i=(r=t.subsupPlacement)!=null?r:"auto";n=i==="over-under"||i==="auto"&&e.isDisplayStyle?t.attachLimits(e,{base:n}):t.attachSupsub(e,{base:n})}return t.caret&&(n.caret=t.caret),new ge(t.bind(e,n),{type:"op",isSelected:t.isSelected,classes:"ML__op-group"})},serialize:(t,e)=>{let r=[zt(t.command,t.bodyToLatex(e))];return t.explicitSubsupPlacement&&(t.subsupPlacement==="over-under"&&r.push("\\limits"),t.subsupPlacement==="adjacent"&&r.push("\\nolimits"),t.subsupPlacement==="auto"&&r.push("\\displaylimits")),r.push(t.supsubToLatex(e)),ot(r)}});de(["mathbin","mathrel","mathopen","mathclose","mathpunct","mathord","mathinner"],"{:auto}",{createAtom:t=>new se(W(U({},t),{type:{"\\mathbin":"mbin","\\mathrel":"mrel","\\mathopen":"mopen","\\mathclose":"mclose","\\mathpunct":"mpunct","\\mathord":"mord","\\mathinner":"minner"}[t.command],body:Ee(t.args[0])}))});de(["operatorname","operatorname*"],"{operator:math}",{createAtom:t=>{let e=Ee(t.args[0]).map(r=>{var n;return r.type!=="first"&&(r.type="mord",r.value=(n={"":"*","":"-"}[r.value])!=null?n:r.value,r.isFunction=!1,!r.style.variant&&!r.style.variantStyle&&(r.style.variant="main",r.style.variantStyle="up")),r});return new se(W(U({},t),{type:"mop",body:e,isFunction:!0,limits:t.command==="\\operatorname"?"adjacent":"over-under"}))},render:(t,e)=>{var r;let n=se.createBox(e,t.body);if(t.superscript||t.subscript){let i=(r=t.subsupPlacement)!=null?r:"auto";n=i==="over-under"||i==="auto"&&e.isDisplayStyle?t.attachLimits(e,{base:n}):t.attachSupsub(e,{base:n})}return t.caret&&(n.caret=t.caret),new ge(t.bind(e,n),{type:"op",isSelected:t.isSelected,classes:"ML__op-group"})},serialize:(t,e)=>{let r=[zt(t.command,t.bodyToLatex(e))];return t.explicitSubsupPlacement&&(t.subsupPlacement==="over-under"&&r.push("\\limits"),t.subsupPlacement==="adjacent"&&r.push("\\nolimits"),t.subsupPlacement==="auto"&&r.push("\\displaylimits")),r.push(t.supsubToLatex(e)),ot(r)}});de(["char","unicode"],"{charcode:value}",{createAtom:t=>new se(W(U({},t),{type:t.mode==="text"?"text":"mord"})),serialize:t=>{var e;return`${t.command}${xn((e=t.args[0])!=null?e:{number:10067,base:"hexadecimal"})}`},render:(t,e)=>{let r=e.evaluate(t.args[0]);return(!r||!("number"in r))&&(r={number:10067,base:"hexadecimal"}),t.value=String.fromCodePoint(r.number),t.createBox(e)}});de("rule","[raise:value]{width:value}{thickness:value}",{createAtom:t=>new se(t),render:(t,e)=>{var r,n,i;let s=new pt({parent:e,mathstyle:"textstyle"},t.style),a=s.toEm((r=t.args[0])!=null?r:{dimension:0}),o=s.toEm((n=t.args[1])!=null?n:{dimension:10}),l=s.toEm((i=t.args[2])!=null?i:{dimension:10}),c=new ge(null,{classes:"ML__rule",type:"ord"});return c.width=o,c.height=l+a,c.depth=-a,c.setStyle("border-right-width",o,"em"),c.setStyle("border-top-width",l,"em"),c.setStyle("border-color",t.style.color),c.setStyle("vertical-align",a,"em"),t.isSelected&&c.setStyle("opacity","50%"),t.bind(s,c),t.caret&&(c.caret=t.caret),c.wrap(e)},serialize:t=>`\\rule${t.args[0]?`[${xn(t.args[0])}]`:""}{${xn(t.args[1])}}{${xn(t.args[2])}}`});de(["overline","underline"],"{:auto}",{createAtom:t=>new se(W(U({},t),{body:Ee(t.args[0])})),render:(t,e)=>{let r=t.command.substring(1),n=new pt({parent:e,mathstyle:"cramp"},t.style),i=se.createBox(n,t.body);if(!i)return null;let s=n.metrics.defaultRuleThickness/n.scalingFactor,a=new ge(null,{classes:r+"-line"});a.height=s,a.maxFontSize=s*1.125*n.scalingFactor;let o;return r==="overline"?o=new Vr({shift:0,children:[{box:i},3*s,{box:a},s]}):o=new Vr({top:i.height,children:[s,{box:a},3*s,{box:i}]}),t.caret&&(o.caret=t.caret),new ge(o,{classes:r,type:"ignore"})}});de("overset","{:auto}{base:auto}",{createAtom:t=>{let e=Ee(t.args[1]);return new aa(W(U({},t),{above:Ee(t.args[0]),body:e,skipBoundary:!1,boxType:K1(e)}))},serialize:(t,e)=>zt(t.command,t.aboveToLatex(e),t.bodyToLatex(e))});de("underset","{:auto}{base:auto}",{createAtom:t=>{let e=Ee(t.args[1]);return new aa(W(U({},t),{below:Ee(t.args[0]),body:e,skipBoundary:!1,boxType:K1(e)}))},serialize:(t,e)=>zt(t.command,t.belowToLatex(e),t.bodyToLatex(e))});de("overunderset","{above:auto}{below:auto}{base:auto}",{createAtom:t=>{let e=Ee(t.args[2]);return new aa(W(U({},t),{above:Ee(t.args[0]),below:Ee(t.args[1]),body:e,skipBoundary:!1,boxType:K1(e)}))},serialize:(t,e)=>zt(t.command,t.belowToLatex(e),t.bodyToLatex(e))});de(["stackrel","stackbin"],"[below:auto]{above:auto}{base:auto}",{createAtom:t=>new aa(W(U({},t),{body:Ee(t.args[2]),above:Ee(t.args[1]),below:Ee(t.args[0]),skipBoundary:!1,boxType:t.command==="\\stackrel"?"rel":"bin"})),serialize:(t,e)=>zt(t.command,t.aboveToLatex(e),t.bodyToLatex(e))});de("smash","[:string]{:auto}",{createAtom:t=>{var e,r,n,i;return new W1(W(U({},t),{body:Ee(t.args[1]),smashHeight:(r=(e=t.args[0])==null?void 0:e.includes("t"))!=null?r:!0,smashDepth:(i=(n=t.args[0])==null?void 0:n.includes("b"))!=null?i:!0}))}});de(["vphantom"],"{:auto}",{createAtom:t=>new W1(W(U({},t),{body:Ee(t.args[0]),isInvisible:!0,smashWidth:!0}))});de(["hphantom"],"{:auto}",{createAtom:t=>new W1(W(U({},t),{body:Ee(t.args[0]),isInvisible:!0,smashHeight:!0,smashDepth:!0}))});de(["phantom"],"{:auto}",{createAtom:t=>new W1(W(U({},t),{body:Ee(t.args[0]),isInvisible:!0}))});de("not","{:math}",{createAtom:t=>{let e=Ee(t.args[0]);return e.length===0?new se(W(U({},t),{type:"mrel",value:""})):new se(W(U({},t),{body:[new Ph(W(U({},t),{body:"",align:"right"})),...e],captureSelection:!0}))},serialize:(t,e)=>{let r=t.args[0],n=r&&typeof r=="object"&&"group"in r;return t.value!==""?n?`\\not{${se.serialize(r.group,e)}}`:`\\not${se.serialize(r,e)}`:n?"\\not{}":"\\not"},render:(t,e)=>{if(t.value)return t.createBox(e);let r=t.args[0]&&typeof t.args[0]=="object"&&"group"in t.args[0]?"ord":K1(Ee(t.args[0])),n=se.createBox(e,t.body,{type:r});return t.caret&&(n.caret=t.caret),t.bind(e,n)}});de(["ne","neq"],"",{createAtom:t=>new se(W(U({},t),{type:"mrel",body:[new Ph(W(U({},t),{body:"",align:"right",boxType:"rel"})),new se(W(U({},t),{value:"="}))],captureSelection:!0})),serialize:t=>t.command});de("rlap","{:auto}",{createAtom:t=>new Ph(W(U({},t),{body:Ee(t.args[0]),align:"right"}))});de("llap","{:auto}",{createAtom:t=>new Ph(W(U({},t),{body:Ee(t.args[0]),align:"left"}))});de("mathrlap","{:math}",{createAtom:t=>new Ph(W(U({},t),{body:Ee(t.args[0]),align:"right"}))});de("mathllap","{:math}",{createAtom:t=>new Ph(W(U({},t),{body:Ee(t.args[0]),align:"left"}))});de("raisebox","{:value}{:text}",{createAtom:t=>{var e;return new Du(W(U({},t),{body:Ee(t.args[1]),padding:{dimension:0},offset:(e=t.args[0])!=null?e:{dimension:0}}))},serialize:(t,e)=>{var r;return zt("\\raisebox",(r=xn(t.offset))!=null?r:"0pt",t.bodyToLatex(e))}});de("raise","{:value}{:auto}",{createAtom:t=>{var e;return new Du(W(U({},t),{body:Ee(t.args[1]),padding:{dimension:0},offset:(e=t.args[0])!=null?e:{dimension:0}}))},serialize:(t,e)=>{var r;return zt("\\raise",(r=xn(t.offset))!=null?r:"0pt",t.bodyToLatex(e))}});de("lower","{:value}{:auto}",{createAtom:t=>{var e;return new Du(W(U({},t),{body:Ee(t.args[1]),padding:{dimension:0},offset:(e=no(t.args[0],-1))!=null?e:{dimension:0}}))},serialize:(t,e)=>{var r,n;return zt("\\lower",(n=xn(no((r=t.offset)!=null?r:{dimension:0},-1)))!=null?n:"0pt",t.bodyToLatex(e))}});fn("0123456789/@.?!");bte(65,90);bte(97,122);fn([["\\forall",8704],["\\exists",8707],["\\nexists",8708,"mord","ams"],["\\mid",8739,"mrel"],["\\top",8868],["\\bot",8869]]);fn([["\\#",35],["\\&",38],["\\parallelogram",9649],["\\spadesuit",9824],["\\heartsuit",9825],["\\diamondsuit",9826],["\\clubsuit",9827],["\\flat",9837],["\\natural",9838],["\\sharp",9839]]);fn([["\\backslash",92],["\\nabla",8711],["\\partial",8706],["\\ell",8467],["\\hbar",8463],["\\pounds",163],["\\euro",8364]]);fn([["\\rightarrow",8594],["\\to",8594],["\\leftarrow",8592],["\\gets",8592],["\\Rightarrow",8658],["\\Leftarrow",8656],["\\longrightarrow",10230],["\\longleftarrow",10229],["\\Longrightarrow",10233],["\\implies",10233],["\\Longleftarrow",10232],["\\impliedby",10232],["\\longleftrightarrow",10231],["\\biconditional",10231],["\\Longleftrightarrow",10234],["\\mapsto",8614],["\\longmapsto",10236],["\\uparrow",8593],["\\downarrow",8595],["\\Uparrow",8657],["\\Downarrow",8659],["\\updownarrow",8597],["\\Updownarrow",8661],["\\hookrightarrow",8618],["\\hookleftarrow",8617],["\\rightharpoonup",8640],["\\leftharpoonup",8636],["\\rightharpoondown",8641],["\\leftharpoondown",8637],["\\searrow",8600],["\\nearrow",8599],["\\swarrow",8601],["\\nwarrow",8598],["\\originalof",8886],["\\laplace",8886],["\\imageof",8887],["\\Laplace",8887]],"mrel");fn([["\\mapsfrom",8612,"mrel"],["\\Mapsfrom",10502,"mrel"],["\\MapsTo",10503,"mrel"],["\\Yup",8516,"mord"],["\\lightning",8623,"mrel"],["\\leftarrowtriangle",8701,"mrel"],["\\rightarrowtriangle",8702,"mrel"],["\\leftrightarrowtriangle",8703,"mrel"],["\\boxdot",8865,"mbin"],["\\bigtriangleup",9651,"mbin"],["\\bigtriangledown",9661,"mbin"],["\\boxbar",9707,"mbin"],["\\Lbag",10181,"mopen"],["\\Rbag",10182,"mclose"],["\\llbracket",10214,"mopen"],["\\rrbracket",10215,"mclose"],["\\longmapsfrom",10235,"mrel"],["\\Longmapsfrom",10237,"mrel"],["\\Longmapsto",10238,"mrel"],["\\boxslash",10692,"mbin"],["\\boxbslash",10693,"mbin"],["\\boxast",10694,"mbin"],["\\boxcircle",10695,"mbin"],["\\boxbox",10696,"mbin"],["\\fatsemi",10783,"mop"],["\\leftslice",10918,"mrel"],["\\rightslice",10919,"mrel"],["\\interleave",10996,"mbin"],["\\biginterleave",11004,"mop"],["\\sslash",11005,"mbin"],["\\talloblong",11006,"mbin"]]);fn([["\\lbrace",123,"mopen"],["\\rbrace",125,"mclose"],["\\lparen",40,"mopen"],["\\rparen",41,"mclose"],["\\langle",10216,"mopen"],["\\rangle",10217,"mclose"],["\\lfloor",8970,"mopen"],["\\rfloor",8971,"mclose"],["\\lceil",8968,"mopen"],["\\rceil",8969,"mclose"],["\\vert",8739],["\\lvert",8739,"mopen"],["\\rvert",8739,"mclose"],["\\|",8741],["\\Vert",8741],["\\mVert",8741],["\\lVert",8741,"mopen"],["\\rVert",8741,"mclose"],["\\lbrack",91,"mopen"],["\\rbrack",93,"mclose"],["\\{",123,"mopen"],["\\}",125,"mclose"],["(",40,"mopen"],[")",41,"mclose"],["[",91,"mopen"],["]",93,"mclose"],["\\ulcorner",9484,"mopen","ams"],["\\urcorner",9488,"mclose","ams"],["\\llcorner",9492,"mopen","ams"],["\\lrcorner",9496,"mclose","ams"],["\\lgroup",10222,"mopen"],["\\rgroup",10223,"mclose"],["\\lmoustache",9136,"mopen"],["\\rmoustache",9137,"mclose"]]);fn([["\\dashrightarrow",8674],["\\dashleftarrow",8672],["\\Rrightarrow",8667],["\\Lleftarrow",8666],["\\leftrightarrows",8646],["\\rightleftarrows",8644],["\\curvearrowright",8631],["\\curvearrowleft",8630],["\\rightrightarrows",8649],["\\leftleftarrows",8647],["\\upuparrows",8648],["\\downdownarrows",8650],["\\vartriangle",9651],["\\triangleq",8796],["\\vartriangleleft",8882],["\\trianglelefteq",8884],["\\ntriangleleft",8938],["\\ntrianglelefteq",8940],["\\vartriangleright",8883],["\\trianglerighteq",8885],["\\ntriangleright",8939],["\\ntrianglerighteq",8941],["\\blacktriangleleft",9664],["\\blacktriangleright",9654],["\\leftarrowtail",8610],["\\rightarrowtail",8611],["\\looparrowright",8620],["\\looparrowleft",8619],["\\twoheadleftarrow",8606],["\\twoheadrightarrow",8608],["\\twoheadrightarrowtail",10518],["\\rightleftharpoons",8652],["\\leftrightharpoons",8651],["\\Rsh",8625],["\\Lsh",8624],["\\circlearrowright",8635],["\\circlearrowleft",8634],["\\restriction",8638],["\\upharpoonright",8638],["\\upharpoonleft",8639],["\\downharpoonright",8642],["\\downharpoonleft",8643],["\\rightsquigarrow",8669],["\\leadsto",8669],["\\leftrightsquigarrow",8621],["\\multimap",8888],["\\nleftarrow",8602],["\\nrightarrow",8603],["\\nRightarrow",8655],["\\nLeftarrow",8653],["\\nleftrightarrow",8622],["\\nLeftrightarrow",8654],["\\nvrightarrow",8696],["\\nvtwoheadrightarrow",10496],["\\nvrightarrowtail",10516],["\\nvtwoheadrightarrowtail",10519],["\\shortparallel",8741],["\\nless",8814],["\\nleqslant",57360],["\\lneq",10887],["\\lneqq",8808],["\\nleqq",57361],["\\lvertneqq",57356],["\\lnsim",8934],["\\lnapprox",10889],["\\nprec",8832],["\\npreceq",8928],["\\precnsim",8936],["\\precnapprox",10937],["\\nsim",8769],["\\nshortmid",57350],["\\nmid",8740],["\\nvdash",8876],["\\nvDash",8877],["\\ngtr",8815],["\\ngeqslant",57359],["\\ngeqq",57358],["\\gneq",10888],["\\gneqq",8809],["\\gvertneqq",57357],["\\gnsim",8935],["\\gnapprox",10890],["\\nsucc",8833],["\\nsucceq",8929],["\\succnsim",8937],["\\succnapprox",10938],["\\ncong",8774],["\\nshortparallel",57351],["\\nparallel",8742],["\\nVDash",8879],["\\nsupseteqq",57368],["\\supsetneq",8843],["\\varsupsetneq",57371],["\\supsetneqq",10956],["\\varsupsetneqq",57369],["\\nVdash",8878],["\\precneqq",10933],["\\succneqq",10934],["\\nsubseteqq",57366],["\\leqslant",10877],["\\geqslant",10878],["\\gtrsim",8819],["\\approxeq",8778],["\\thickapprox",8776],["\\lessapprox",10885],["\\gtrapprox",10886],["\\precapprox",10935],["\\succapprox",10936],["\\thicksim",8764],["\\succsim",8831],["\\precsim",8830],["\\backsim",8765],["\\eqsim",8770],["\\backsimeq",8909],["\\lesssim",8818],["\\nleq",8816],["\\ngeq",8817],["\\smallsmile",8995],["\\smallfrown",8994],["\\leqq",8806],["\\eqslantless",10901],["\\lll",8920],["\\lessgtr",8822],["\\lesseqgtr",8922],["\\lesseqqgtr",10891],["\\risingdotseq",8787],["\\fallingdotseq",8786],["\\subseteqq",10949],["\\Subset",8912],["\\sqsubset",8847],["\\preccurlyeq",8828],["\\curlyeqprec",8926],["\\vDash",8872],["\\Vvdash",8874],["\\bumpeq",8783],["\\Bumpeq",8782],["\\geqq",8807],["\\eqslantgtr",10902],["\\ggg",8921],["\\gtrless",8823],["\\gtreqless",8923],["\\gtreqqless",10892],["\\supseteqq",10950],["\\Supset",8913],["\\sqsupset",8848],["\\succcurlyeq",8829],["\\curlyeqsucc",8927],["\\Vdash",8873],["\\shortmid",8739],["\\between",8812],["\\pitchfork",8916],["\\varpropto",8733],["\\backepsilon",8717],["\\llless",8920],["\\gggtr",8921],["\\doteqdot",8785],["\\Doteq",8785],["\\eqcirc",8790],["\\circeq",8791],["\\therefore",8756],["\\because",8757]],"mrel","ams");fn([["+",43],["-",8722],["",8722],["\\pm",177],["\\mp",8723],["*",8727],["\\times",215],["\\div",247],["\\divides",8739],["\\cdot",8901],["\\cap",8745],["\\cup",8746],["\\setminus",8726],["\\land",8743],["\\wedge",8743],["\\lor",8744],["\\vee",8744],["\\circ",8728],["\\bigcirc",9711],["\\bullet",8729],["\\oplus",8853],["\\ominus",8854],["\\otimes",8855],["\\odot",8857],["\\oslash",8856],["\\bigtriangleup",9651],["\\bigtriangledown",9661],["\\triangleleft",9667],["\\triangleright",9657],["\\And",38],["\\dagger",8224],["\\dag",8224],["\\ddag",8225],["\\ddagger",8225],["\\ast",8727],["\\star",8902],["\\bigstar",9733],["\\diamond",8900]],"mbin");fn([["\\lhd",8882],["\\rhd",8883],["\\lessdot",8918],["\\gtrdot",8919],["\\ltimes",8905],["\\rtimes",8906],["\\leftthreetimes",8907],["\\rightthreetimes",8908],["\\intercal",8890],["\\dotplus",8724],["\\doublebarwedge",10846],["\\divideontimes",8903],["\\centerdot",8901],["\\smallsetminus",8726],["\\barwedge",8892],["\\veebar",8891],["\\nor",8891],["\\curlywedge",8911],["\\curlyvee",8910],["\\boxminus",8863],["\\boxplus",8862],["\\boxtimes",8864],["\\boxdot",8865],["\\circleddash",8861],["\\circledast",8859],["\\circledcirc",8858],["\\unlhd",8884],["\\unrhd",8885]],"mbin","ams");fn([["\\surd",8730],["\\S",167],["\\infty",8734],["\\prime",8242],["\\doubleprime",8243],["\\angle",8736],["`",8216],["\\$",36],["\\%",37],["\\_",95],["\\alpha",945],["\\beta",946],["\\gamma",947],["\\delta",948],["\\epsilon",1013],["\\varepsilon",949],["\\zeta",950],["\\eta",951],["\\theta",952],["\\vartheta",977],["\\iota",953],["\\kappa",954],["\\varkappa",1008,"mord","ams"],["\\lambda",955],["\\mu",956],["\\nu",957],["\\xi",958],["\\omicron",111],["\\pi",960],["\\varpi",982],["\\rho",961],["\\varrho",1009],["\\sigma",963],["\\varsigma",962],["\\tau",964],["\\phi",981],["\\varphi",966],["\\upsilon",965],["\\chi",967],["\\psi",968],["\\omega",969],["\\Gamma",915],["\\Delta",916],["\\Theta",920],["\\Lambda",923],["\\Xi",926],["\\Pi",928],["\\Sigma",931],["\\Upsilon",933],["\\Phi",934],["\\Psi",936],["\\Omega",937],["\\digamma",989,"mord","ams"],["\\varkappa",1008,"mord","ams"],["\\coppa",985,"mord","ams"],["\\koppa",985,"mord","ams"],["\\Coppa",984,"mord","ams"],["\\Koppa",984,"mord","ams"],["\\sampi",993,"mord","ams"],["\\Sampi",992,"mord","ams"],["\\emptyset",8709]]);fn([["=",61],["<",60],["\\lt",60],[">",62],["\\gt",62],["\\le",8804],["\\leq",8804],["\\ge",8805],["\\geq",8805],["\\ll",8810],["\\gg",8811],["\\coloneq",8788],["\\coloneqq",8788],["\\colonequals",8788],["\\measeq",8797],["\\eqdef",8798],["\\questeq",8799],[":",58],["\\cong",8773],["\\equiv",8801],["\\prec",8826],["\\preceq",10927],["\\succ",8827],["\\succeq",10928],["\\perp",10178],["\\propto",8733],["\\Colon",8759],["\\smile",8995],["\\frown",8994],["\\sim",8764],["\\doteq",8784],["\\bowtie",8904],["\\Join",8904],["\\asymp",8781],["\\sqsubseteq",8849],["\\sqsupseteq",8850],["\\approx",8776],["\\~",126],["\\leftrightarrow",8596],["\\Leftrightarrow",8660],["\\models",8872],["\\vdash",8866],["\\dashv",8867],["\\roundimplies",10608],["\\in",8712],["\\notin",8713],["\\ni",8715],["\\owns",8715],["\\subset",8834],["\\supset",8835],["\\subseteq",8838],["\\supseteq",8839],["\\differencedelta",8710],["\\mvert",8739],["\\parallel",8741],["\\simeq",8771]],"mrel");fn([["\\lnot",172],["\\neg",172],["\\triangle",9651],["\\subsetneq",8842],["\\varsubsetneq",57370],["\\subsetneqq",10955],["\\varsubsetneqq",57367],["\\nsubset",8836],["\\nsupset",8837],["\\nsubseteq",8840],["\\nsupseteq",8841]],"mrel","ams");fn([["\\wp",8472],["\\aleph",8501]]);fn([["\\blacktriangle",9650],["\\hslash",8463],["\\Finv",8498],["\\Game",8513],["\\eth",240],["\\mho",8487],["\\Bbbk",107],["\\yen",165],["\\square",9633],["\\Box",9633],["\\blacksquare",9632],["\\circledS",9416],["\\circledR",174],["\\triangledown",9661],["\\blacktriangledown",9660],["\\checkmark",10003],["\\diagup",9585],["\\measuredangle",8737],["\\sphericalangle",8738],["\\backprime",8245],["\\backdoubleprime",8246],["\\Diamond",9674],["\\lozenge",9674],["\\blacklozenge",10731],["\\varnothing",8709],["\\complement",8705],["\\maltese",10016],["\\beth",8502],["\\daleth",8504],["\\gimel",8503]],"mord","ams");fn([["\\ ",160],["~",160]],"space");de(["!",",",":",";",">","enskip","enspace","quad","qquad"],"",{createAtom:t=>new G1(t)});de("space","",{createAtom:t=>new G1(t)});fn([["\\colon",58],["\\cdotp",8901],["\\vdots",8942,"mord"],["\\ldotp",46],[",",44],[";",59]],"mpunct");fn([["\\cdots",8943],["\\ddots",8945],["\\ldots",8230],["\\mathellipsis",8230]],"minner");fn([["\\/",47],["|",8739,"mord"],["\\imath",305],["\\jmath",567],["\\degree",176],["'",8242],['"',8221]]);var une="<mo>&#x2061;</mo>",j3="<mo>&#8290;</mo>";function Lx(t){return t.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Nt(t,e){return!t||!e.generateID?"":` extid="${t}"`}function aIe(t,e,r){var n,i,s,a,o,l,c,u;let d=!1;e=e??t.atoms.length;let A="",f="",p=t.atoms[t.index],m=(n=p.style)==null?void 0:n.variant,y=(i=p.style)==null?void 0:i.variantStyle,g="";if(p.value&&(m||y)){let x=(s=N9(p.value,m,y))!=null?s:p.value;if(x!==p.value)return t.index+=1,A=`<mi${Nt(p.id,r)}>${x}</mi>`,xo(A,t,r)||(t.mathML+=A,t.lastType="mi"),!0;g=(a={upnormal:"normal",boldnormal:"bold",italicmain:"italic",bolditalicmain:"bold-italic","updouble-struck":"double-struck","double-struck":"double-struck",boldfraktur:"bold-fraktur",calligraphic:"script",upcalligraphic:"script",script:"script",boldscript:"bold-script",boldcalligraphic:"bold-script",fraktur:"fraktur","upsans-serif":"sans-serif","boldsans-serif":"bold-sans-serif","italicsans-serif":"sans-serif-italic","bolditalicsans-serif":"sans-serif-bold-italic",monospace:"monospace"}[(y??"")+(m??"")])!=null?a:"",g&&(g=` mathvariant="${g}"`)}let v={"\\exponentialE":"&#x02147;","\\imaginaryI":"&#x2148;","\\differentialD":"&#x2146;","\\capitalDifferentialD":"&#x2145;","\\alpha":"&#x03b1;","\\pi":"&#x03c0;","\\infty":"&#x221e;","\\forall":"&#x2200;","\\nexists":"&#x2204;","\\exists":"&#x2203;","\\hbar":"","\\cdotp":"","\\ldots":"","\\cdots":"","\\ddots":"","\\vdots":"","\\ldotp":"."};if(p.command==="!")return t.index+=1,A="<mo>!</mo>",xo(A,t,r)||(t.mathML+=A,t.lastType="mo"),!0;if(v[p.command]){t.index+=1;let x=`<mi${Nt(p.id,r)}${g}>${v[p.command]}</mi>`;return(t.lastType==="mi"||t.lastType==="mn"||t.lastType==="mtext"||t.lastType==="fence")&&(x=j3+x),xo(x,t,r)||(t.mathML+=x,t.lastType="mi"),!0}if(p.command==="\\operatorname")f=EA(p.body),t.index+=1;else if(m||y)for(;t.index<e&&(p.type==="mord"||p.type==="macro")&&!p.isDigit()&&m===((l=(o=p.style)==null?void 0:o.variant)!=null?l:"")&&y===((u=(c=p.style)==null?void 0:c.variantStyle)!=null?u:"");)f+=EA([p]),t.index+=1,p=t.atoms[t.index];else(p.type==="mord"||p.type==="macro")&&!p.isDigit()&&(f+=EA([p]),t.index+=1);if(f.length>0){d=!0,A=`<mi${g}>${f}</mi>`;let x=t.lastType;A.endsWith(">f</mi>")||A.endsWith(">g</mi>")?(A+=une,t.lastType="applyfunction"):t.lastType=/^<mo>(.*)<\/mo>$/.test(A)?"mo":"mi",xo(A,t,r)||((x==="mi"||x==="mn"||x==="mtext"||x==="fence")&&(A=j3+A),t.mathML+=A)}return d}function dne(t){return t.index<t.atoms.length&&t.atoms[t.index].superscript&&t.atoms[t.index].type==="subsup"}function hne(t){let e=-1,r=t.index,n=!1,i=!1;for(;r<t.atoms.length&&!n&&!i;){let s=t.atoms[r];n=!s.isDigit(),i=!n&&s.superscript!==void 0,r++}return i&&(e=r-1),e}function xo(t,e,r){var n;let i=e.atoms[e.index-1];if(!i)return!1;if(!i.superscript&&!i.subscript)if(((n=e.atoms[e.index])==null?void 0:n.type)==="subsup")i=e.atoms[e.index],e.index+=1;else return!1;let s=e.lastType;e.lastType="";let a=Ct(i.superscript,r);e.lastType="";let o=Ct(i.subscript,r);if(e.lastType=s,!a&&!o)return!1;let l="";return a&&o?l=`<msubsup>${t}${o}${a}</msubsup>`:a?l=`<msup>${t}${a}</msup>`:o&&(l=`<msub>${t}${o}</msub>`),e.mathML+=l,e.lastType="",!0}function oIe(t,e,r){e=e??t.atoms.length;let n=t.index,i="",s=hne(t);for(s>=0&&s<e&&(e=s);t.index<e&&t.atoms[t.index].mode==="text";)i+=t.atoms[t.index].value?t.atoms[t.index].value:" ",t.index+=1;return i.length>0?(i=`<mtext ${Nt(t.atoms[n].id,r)}>${i}</mtext>`,s<0&&dne(t)&&(s=t.index,t.index+=1),xo(i,t,r)||(t.mathML+=i,t.lastType="mtext"),!0):!1}function lIe(t,e,r){e=e??t.atoms.length;let n=t.index,i="",s=hne(t);for(s>=0&&s<e&&(e=s);t.index<e&&t.atoms[t.index].isDigit();)i+=t.atoms[t.index].asDigit(),t.index+=1;return i.length<=0?!1:(i="<mn"+Nt(t.atoms[n].id,r)+">"+i+"</mn>",s<0&&dne(t)&&(s=t.index,t.index+=1),xo(i,t,r)||(t.mathML+=i,t.lastType="mn"),!0)}function cIe(t,e,r){let n=!1;e=e??t.atoms.length;let i="",s="";if(t.index<e&&t.atoms[t.index].type==="mopen"){let a=!1,o=0,l=t.index,c=-1,u=l+1;for(;u<e&&!a;)t.atoms[u].type==="mopen"?o+=1:t.atoms[u].type==="mclose"&&(o-=1),o===-1&&(a=!0,c=u),u+=1;a&&(i="<mrow>",i+=sh(t.atoms[l],r),i+=Ct(t.atoms,r,l+1,c),i+=sh(t.atoms[c],r),i+="</mrow>",t.index=c+1,(t.lastType==="mi"||t.lastType==="mn"||t.lastType==="mfrac"||t.lastType==="fence")&&(t.mathML+=j3),xo(i,t,r)&&(n=!0,t.lastType="",i=""),s="fence")}return i.length>0&&(n=!0,t.mathML+=i,t.lastType=s),n}function uIe(t,e,r){let n=!1;e=e??t.atoms.length;let i="",s="",a=t.atoms[t.index];if(!a)return!1;let o={"\\ne":"&ne;","\\neq":"&ne;","\\pm":"&#177;","\\times":"&#215;","\\colon":":","\\vert":"|","\\Vert":"","\\mid":"","\\{":"{","\\}":"}","\\lbrace":"{","\\rbrace":"}","\\lbrack":"[","\\rbrack":"]","\\lparen":"(","\\rparen":")","\\langle":"","\\rangle":"","\\lfloor":"","\\rfloor":"","\\lceil":"","\\rceil":""};if(o[a.command]){t.index+=1;let l=`<mo${Nt(a.id,r)}>${o[a.command]}</mo>`;return xo(l,t,r)||(t.mathML+=l,t.lastType="mo"),!0}if(t.index<e&&(a.type==="mbin"||a.type==="mrel"))i+=u_(t.atoms[t.index],r),t.index+=1,s="mo";else if(t.index<e&&(a.type==="mop"||a.type==="operator"||a.type==="extensible-symbol")){if(a.subsupPlacement==="over-under"&&(a.superscript||a.subscript)){let l=sh(a,r);return a.superscript&&a.subscript?(i+="<munderover>"+l,i+=Ct(a.subscript,r),i+=Ct(a.superscript,r),i+="</munderover>"):a.superscript?(i+="<mover>"+l,i+=Ct(a.superscript,r),i+="</mover>"):a.subscript&&(i+="<munder>"+l,i+=Ct(a.subscript,r),i+="</munder>"),t.mathML+=i,t.lastType="mo",t.index+=1,!0}{let l=t.atoms[t.index],c=l.value==="\\operatorname",u=c?'<mi class="MathML-Unit"'+Nt(l.id,r)+">"+EA(l.value)+"</mi>":sh(l,r);i+=u,!c&&!/^<mo>(.*)<\/mo>$/.test(u)?(i+=une,s="applyfunction"):s=c?"mi":"mo"}(t.lastType==="mi"||t.lastType==="mn")&&!/^<mo>(.*)<\/mo>$/.test(i)&&(i=j3+i),t.index+=1}return i.length>0&&(n=!0,xo(i,t,r)||(t.mathML+=i,t.lastType=s)),n}function Ct(t,e,r,n){e!=null||(e={});let i={atoms:[],index:r??0,mathML:"",lastType:""};if(typeof t=="number"||typeof t=="boolean")i.mathML=t.toString();else if(typeof t=="string")i.mathML=t;else if(t instanceof se)i.mathML=u_(t,e);else if(Array.isArray(t)){i.atoms=t;let s=0;for(n=n||(t?t.length:0);i.index<n;)if(oIe(i,n,e)||lIe(i,n,e)||aIe(i,n,e)||uIe(i,n,e)||cIe(i,n,e))s+=1;else if(i.index<n){let a=u_(i.atoms[i.index],e);i.lastType==="mn"&&a.length>0&&i.atoms[i.index].type==="genfrac"&&(a="<mo>&#x2064;</mo>"+a),i.atoms[i.index].type==="genfrac"?i.lastType="mfrac":i.lastType="",i.index+=1,xo(a,i,e)?s+=1:a.length>0&&(i.mathML+=a,s+=1)}s>1&&(i.mathML="<mrow>"+i.mathML+"</mrow>")}return i.mathML}function sh(t,e){let r="",n=EA(t.value);return n&&(r="<mo"+Nt(t.id,e)+">"+n+"</mo>"),r}function EA(t){if(!t)return"";if(typeof t=="string")return Lx(t);if(!Array.isArray(t)&&typeof t.body=="string")return Lx(t.body);let e="";for(let r of t)typeof r.value=="string"&&(e+=r.value);return Lx(e)}function u_(t,e){var r,n,i,s,a,o,l,c,u,d,A,f,p,m,y,g,v,x,b,w,C,S;if(t.mode==="text")return`<mi${Nt(t.id,e)}>${t.value}</mi>`;let B={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",longleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",longrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",longrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xleftrightarrows:"",xRightleftharpoons:"",longRightleftharpoons:"",xLeftrightharpoons:"",longLeftrightharpoons:""},E={"\\!":-3/18,"\\ ":6/18,"\\,":3/18,"\\:":4/18,"\\>":4/18,"\\;":5/18,"\\enspace":.5,"\\quad":1,"\\qquad":2,"\\enskip":.5},M="",D="",L,I,z,R,Y,$,{command:P}=t;if(t.command==="\\error")return`<merror${Nt(t.id,e)}>${Ct(t.body,e)}</merror>`;let q={"\\vert":"|","\\Vert":"","\\mid":"","\\lbrack":"[","\\rbrack":"]","\\{":"{","\\}":"}","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"","\\rangle":"","\\lfloor":"","\\rfloor":"","\\lceil":"","\\rceil":""},N={"\\vec":"&#x20d7;","\\acute":"&#x00b4;","\\grave":"&#x0060;","\\dot":"&#x02d9;","\\ddot":"&#x00a8;","\\tilde":"&#x007e;","\\bar":"&#x00af;","\\breve":"&#x02d8;","\\check":"&#x02c7;","\\hat":"&#x005e;"};switch(t.type){case"first":break;case"group":case"root":M=Ct(t.body,e);break;case"array":let ae=t;if((ae.leftDelim&&ae.leftDelim!=="."||ae.rightDelim&&ae.rightDelim!==".")&&(M+="<mrow>",ae.leftDelim&&ae.leftDelim!=="."&&(M+="<mo>"+(q[ae.leftDelim]||ae.leftDelim)+"</mo>")),M+="<mtable",ae.colFormat){for(M+=' columnalign="',z=0;z<ae.colFormat.length;z++){let ee=ae.colFormat[z];"align"in ee&&(M+={l:"left",c:"center",r:"right"}[ee.align]+" ")}M+='"'}for(M+=">",I=0;I<ae.rows.length;I++){for(M+="<mtr>",L=0;L<ae.rows[I].length;L++)M+="<mtd>"+Ct(ae.rows[I][L],e)+"</mtd>";M+="</mtr>"}M+="</mtable>",(ae.leftDelim&&ae.leftDelim!=="."||ae.rightDelim&&ae.rightDelim!==".")&&(ae.rightDelim&&ae.rightDelim!=="."&&(M+="<mo>"+(q[ae.leftDelim]||ae.rightDelim)+"</mo>"),M+="</mrow>");break;case"genfrac":let oe=t;(oe.leftDelim||oe.rightDelim)&&(M+="<mrow>"),oe.leftDelim&&oe.leftDelim!=="."&&(M+="<mo"+Nt(t.id,e)+">"+(q[oe.leftDelim]||oe.leftDelim)+"</mo>"),oe.hasBarLine?(M+="<mfrac>",M+=Ct(t.above,e)||"<mi>&nbsp;</mi>",M+=Ct(t.below,e)||"<mi>&nbsp;</mi>",M+="</mfrac>"):(M+="<mtable"+Nt(t.id,e)+">",M+="<mtr>"+Ct(t.above,e)+"</mtr>",M+="<mtr>"+Ct(t.below,e)+"</mtr>",M+="</mtable>"),oe.rightDelim&&oe.rightDelim!=="."&&(M+="<mo"+Nt(t.id,e)+">"+(q[oe.rightDelim]||oe.rightDelim)+"</mo>"),(oe.leftDelim||oe.rightDelim)&&(M+="</mrow>");break;case"surd":t.hasEmptyBranch("above")?(M+="<msqrt"+Nt(t.id,e)+">",M+=Ct(t.body,e),M+="</msqrt>"):(M+="<mroot"+Nt(t.id,e)+">",M+=Ct(t.body,e),M+=Ct(t.above,e),M+="</mroot>");break;case"leftright":let O=t,fe=O.leftDelim;M="<mrow>",fe&&fe!=="."&&(M+=`<mo${Nt(t.id,e)}>${(r=q[fe])!=null?r:fe}</mo>`),t.body&&(M+=Ct(t.body,e));let Se=O.matchingRightDelim();Se&&Se!=="."&&(M+=`<mo${Nt(t.id,e)}>${(n=q[Se])!=null?n:Se}</mo>`),M+="</mrow>";break;case"sizeddelim":case"delim":M+=`<mo${Nt(t.id,e)}>${q[t.value]||t.value}</mo>`;break;case"accent":let ie=t;M+='<mover accent="true"'+Nt(t.id,e)+">",M+=Ct(t.body,e),M+="<mo>"+(N[P]||ie.accent)+"</mo>",M+="</mover>";break;case"line":case"overlap":break;case"overunder":let pe=t;Y=t.above,R=t.below,(pe.svgAbove||Y)&&(pe.svgBelow||R)?$=t.body:Y&&Y.length>0?($=t.body,(s=(i=t.body)==null?void 0:i[0])!=null&&s.below?(R=t.body[0].below,$=t.body[0].body):((o=(a=t.body)==null?void 0:a[0])==null?void 0:o.type)==="first"&&(c=(l=t.body)==null?void 0:l[1])!=null&&c.below&&(R=t.body[1].below,$=t.body[1].body)):R&&R.length>0&&($=t.body,(d=(u=t.body)==null?void 0:u[0])!=null&&d.above?(Y=t.body[0].above,$=t.body[0].body):((f=(A=t.body)==null?void 0:A[0])==null?void 0:f.type)==="first"&&(m=(p=t.body)==null?void 0:p[1])!=null&&m.above&&(Y=t.body[1].above,$=t.body[1].body)),(pe.svgAbove||Y)&&(pe.svgBelow||R)?(M+=`<munderover ${Nt(t.id,e)}>`,M+=(y=B[pe.svgBody])!=null?y:Ct($,e),M+=(g=B[pe.svgBelow])!=null?g:Ct(R,e),M+=(v=B[pe.svgAbove])!=null?v:Ct(Y,e),M+="</munderover>"):pe.svgAbove||Y?(M+=`<mover ${Nt(t.id,e)}>`+((x=B[pe.svgBody])!=null?x:Ct($,e)),M+=(b=B[pe.svgAbove])!=null?b:Ct(Y,e),M+="</mover>"):(pe.svgBelow||R)&&(M+=`<munder ${Nt(t.id,e)}>`+((w=B[pe.svgBody])!=null?w:Ct($,e)),M+=(C=B[pe.svgBelow])!=null?C:Ct(R,e),M+="</munder>");break;case"placeholder":M+="?";break;case"mord":{M=typeof t.value=="string"?t.value:P,M.length>0&&M.startsWith("\\")&&(typeof t.value=="string"&&t.value.charCodeAt(0)>255?M="&#x"+("000000"+t.value.charCodeAt(0).toString(16)).slice(-4)+";":typeof t.value=="string"?M=t.value.charAt(0):(console.error("Did not expect this"),M=""));let ee=/\d/.test(M)?"mn":"mi";M=`<${ee}${Nt(t.id,e)}>${Lx(M)}</${ee}>`;break}case"mbin":case"mrel":case"minner":M=sh(t,e);break;case"mpunct":M='<mo separator="true"'+Nt(t.id,e)+">"+P+"</mo>";break;case"mop":case"operator":case"extensible-symbol":t.value!==""&&(M="<mo"+Nt(t.id,e)+">",M+=P==="\\operatorname"?t.body:P||t.body,M+="</mo>");break;case"box":let J=t;M='<menclose notation="box"',J.backgroundcolor&&(M+=' mathbackground="'+J.backgroundcolor+'"'),M+=Nt(t.id,e)+">"+Ct(t.body,e)+"</menclose>";break;case"spacing":M+='<mspace width="'+((S=E[P])!=null?S:0)+'em"/>';break;case"enclose":let re=t;M='<menclose notation="';for(let ee in re.notation)Object.prototype.hasOwnProperty.call(re.notation,ee)&&re.notation[ee]&&(M+=D+ee,D=" ");M+=Nt(t.id,e)+'">'+Ct(t.body,e)+"</menclose>";break;case"prompt":M='<menclose notation="roundexbox""">'+Ct(t.body,e)+"</menclose>";break;case"space":M+="&nbsp;";break;case"subsup":break;case"phantom":break;case"composition":break;case"rule":break;case"chem":break;case"mopen":M+=sh(t,e);break;case"mclose":M+=sh(t,e);break;case"macro":{let ee=t.command+EA(t.macroArgs);ee&&(M+=`<mo ${Nt(t.id,e)}>${ee}</mo>`)}break;case"latexgroup":M+=Ct(t.body,e);break;case"latex":M+="<mtext"+Nt(t.id,e)+">"+t.value+"</mtext>";break;case"tooltip":M+=Ct(t.body,e);break;case"text":M+=`<mtext ${Nt(t.id,e)}x>${t.value}</mtext>`;break;default:if(t.command==="\\displaystyle")return`<mrow ${Nt(t.id,e)} displaystyle="true">${Ct(t.body,e)}</mrow>`;if(t.command==="\\textstyle")return`<mrow ${Nt(t.id,e)} displaystyle="false">${Ct(t.body,e)}</mrow>`;console.info("Unexpected element in conversion to MathML:",t)}return M}var p0={"\\alpha":"alpha ","\\mu":"mew ","\\sigma":"sigma ","\\pi":"pie ","\\imaginaryI":"imaginary eye ","\\imaginaryJ":"imaginary jay ","\\sum":"Summation ","\\prod":"Product ","+":"plus ","-":"minus ",";":'<break time="150ms"/> semi-colon <break time="150ms"/>',",":'<break time="150ms"/> comma  <break time="150ms"/>',"|":'<break time="150ms"/>Vertical bar<break time="150ms"/>',"(":'<break time="150ms"/>Open paren. <break time="150ms"/>',")":'<break time="150ms"/> Close paren. <break time="150ms"/>',"=":"equals ","<":"is less than ","\\lt":"is less than ","<=":"is less than or equal to ","\\le":"is less than or equal to ","\\gt":"is greater than ",">":"is greater than ","\\pm":"plus or minus","\\mp":"minus or plus","\\ge":"is greater than or equal to ","\\geq":"is greater than or equal to ","\\leq":"is less than or equal to ","\\ne":"is not equal to ","\\neq":"is not equal to ","!":"factorial ","\\sin":"sine ","\\cos":"cosine ","":"","":"minus ",":":'<break time="150ms"/> such that <break time="200ms"/> ',"\\colon":'<break time="150ms"/> such that <break time="200ms"/> ',"\\hbar":"etch bar ","\\iff":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\Longleftrightarrow":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\land":"and ","\\lor":"or ","\\neg":"not ","\\div":"divided by ","\\forall":"for all ","\\exists":"there exists ","\\nexists":"there does not exists ","\\in":"element of ","\\N":'the set <break time="150ms"/><say-as interpret-as="character">n</say-as>',"\\C":'the set <break time="150ms"/><say-as interpret-as="character">c</say-as>',"\\Z":'the set <break time="150ms"/><say-as interpret-as="character">z</say-as>',"\\Q":'the set <break time="150ms"/><say-as interpret-as="character">q</say-as>',"\\infty":"infinity ","\\nabla":"nabla ","\\partial":"partial derivative of ","\\cdot":"times ","\\cdots":"dot dot dot ","\\Rightarrow":"implies ","\\lparen":'<break time="150ms"/>open paren<break time="150ms"/>',"\\rparen":'<break time="150ms"/>close paren<break time="150ms"/>',"\\lbrace":'<break time="150ms"/>open brace<break time="150ms"/>',"\\{":'<break time="150ms"/>open brace<break time="150ms"/>',"\\rbrace":'<break time="150ms"/>close brace<break time="150ms"/>',"\\}":'<break time="150ms"/>close brace<break time="150ms"/>',"\\langle":'<break time="150ms"/>left angle bracket<break time="150ms"/>',"\\rangle":'<break time="150ms"/>right angle bracket<break time="150ms"/>',"\\lfloor":'<break time="150ms"/>open floor<break time="150ms"/>',"\\rfloor":'<break time="150ms"/>close floor<break time="150ms"/>',"\\lceil":'<break time="150ms"/>open ceiling<break time="150ms"/>',"\\rceil":'<break time="150ms"/>close ceiling<break time="150ms"/>',"\\vert":'<break time="150ms"/>vertical bar<break time="150ms"/>',"\\mvert":'<break time="150ms"/>divides<break time="150ms"/>',"\\lvert":'<break time="150ms"/>left vertical bar<break time="150ms"/>',"\\rvert":'<break time="150ms"/>right vertical bar<break time="150ms"/>',"\\lbrack":'<break time="150ms"/> open square bracket <break time="150ms"/>',"\\rbrack":'<break time="150ms"/> close square bracket <break time="150ms"/>',mm:"millimeters",cm:"centimeters",km:"kilometers",kg:"kilograms"},iC={array:"array",matrix:"matrix",pmatrix:"parenthesis matrix",bmatrix:"square brackets matrix",Bmatrix:"braces matrix",vmatrix:"bars matrix",Vmatrix:"double bars matrix","matrix*":"matrix",smallmatrix:"small matrix"};function dIe(t){let e="";return t.startsWith("\\")&&(e=" "+t.replace("\\","")+" "),e}function Ep(t){let e=0;if(bn(t))for(let r of t)r.type!=="first"&&(e+=1);return e===1}function hIe(t){if(bn(t)){for(let e of t)if(e.type!=="first"&&e.id)return e.id.toString()}return""}function rz(t){let e="";if(bn(t))for(let r of t)r.type!=="first"&&typeof r.value=="string"&&(e+=r.value);return e}function AIe(t){return t?t.map(e=>e.value).join(""):""}function jv(t){if(t&&!t.some(e=>e.type!=="first"&&e.value===void 0))return t.map(e=>e.value).join("")}function d_(t){return`<emphasis>${t}</emphasis>`}function fIe(t,e){var r;let n="",i=!1,s=!1;for(let a=0;a<e.length;a++)e[a].type!=="first"&&(e[a].mode!=="text"&&(s=!1),a<e.length-2&&e[a].type==="mopen"&&e[a+2].type==="mclose"&&e[a+1].type==="mord"?(n+=" of ",n+=d_(it(t,e[a+1])),a+=2):e[a].mode==="text"?s?n+=(r=e[a].value)!=null?r:" ":(s=!0,n+=it("text",e[a])):e[a].isDigit()?i?n+=e[a].asDigit():(i=!0,n+=it(t,e[a])):(i=!1,n+=it(t,e[a])));return n}function it(t,e){var r,n,i,s,a,o,l,c;function u(g){return globalThis.MathfieldElement.textToSpeechMarkup?/[a-z]/.test(g)?` <say-as interpret-as="character">${g}</say-as>`:/[A-Z]/.test(g)?`capital <say-as interpret-as="character">${g.toLowerCase()}</say-as>`:g:/[a-z]/.test(g)?" '"+g.toUpperCase()+"'":/[A-Z]/.test(g)?" 'capital "+g.toUpperCase()+"'":g}if(!e)return"";if(bn(e))return fIe(t,e);let d="";if(e.id&&t==="math"&&(d+='<mark name="'+e.id.toString()+'"/>'),e.mode==="text")return d+e.value;let A="",f="",p="",m=!1,{command:y}=e;switch(y){case"\\vec":return"vector "+it(t,e.body);case"\\acute":return it(t,e.body)+" acute";case"\\grave":return it(t,e.body)+" grave";case"\\dot":return"dot over"+it(t,e.body);case"\\ddot":return"double dot over"+it(t,e.body);case"\\mathring":return"ring over"+it(t,e.body);case"\\tilde":case"\\widetilde":return"tilde over"+it(t,e.body);case"\\bar":return it(t,e.body)+" bar";case"\\breve":return it(t,e.body)+" breve";case"\\check":case"\\widecheck":return"check over "+it(t,e.body);case"\\hat":case"\\widehat":return"hat over"+it(t,e.body);case"\\overarc":case"\\overparen":case"\\wideparen":return"arc over "+it(t,e.body);case"\\underarc":case"\\underparen":return"arc under "+it(t,e.body);case"\\mathop":return(r=jv(e.body))!=null?r:it(t,e.body);case"\\mathit":return(n=jv(e.body))!=null?n:it(t,e.body);case"\\mathrm":return(i=jv(e.body))!=null?i:it(t,e.body);case"\\mathbb":return"blackboard"+((s=jv(e.body))!=null?s:it(t,e.body))}switch(e.type){case"prompt":let g=e.body.length>1?'start input . <break time="500ms"/> '+it(t,e.body)+'. <break time="500ms"/> end input':"blank";d+=' <break time="300ms"/> '+g+'. <break time="700ms"/>'+((a=e.correctness)!=null?a:"")+' . <break time="700ms"/> ';break;case"array":let v=e.rows,x=e.environmentName;if(Object.keys(iC).includes(x)){d+=` begin ${iC[x]} `;for(let C=0;C<v.length;C++){C>0&&(d+=","),d+=` row ${C+1} `;for(let S=0;S<v[C].length;S++)S>0&&(d+=","),d+=` column ${S+1}: `,d+=it("math",v[C][S])}d+=` end ${iC[x]} `}break;case"group":y==="\\ne"?d+=" not equal ":(y==="\\not"&&(d+=" not "),d+=it("math",e.body));break;case"root":d+=it("math",e.body);break;case"genfrac":if(A=it("math",e.above),f=it("math",e.below),Ep(e.above)&&Ep(e.below)){let C={"1/2":" half ","1/3":" one third ","2/3":" two third","1/4":" one quarter ","3/4":" three quarter ","1/5":" one fifth ","2/5":" two fifths ","3/5":" three fifths ","4/5":" four fifths ","1/6":" one sixth ","5/6":" five sixths ","1/8":" one eight ","3/8":" three eights ","5/8":" five eights ","7/8":" seven eights ","1/9":" one ninth ","2/9":" two ninths ","4/9":" four ninths ","5/9":" five ninths ","7/9":" seven ninths ","8/9":" eight ninths "}[rz(e.above)+"/"+rz(e.below)];C?d=C:d+=A+" over "+f}else d+=' the fraction <break time="150ms"/>'+A+' over <break time="150ms"/>'+f+'.<break time="150ms"/> End fraction.<break time="150ms"/>';break;case"surd":if(p=it("math",e.body),e.hasEmptyBranch("above"))d+=Ep(e.body)?" the square root of "+p+" , ":' the square root of <break time="200ms"/>'+p+'. <break time="200ms"/> End square root';else{let C=it("math",e.above);C=C.trim();let S=C.replace(/<mark([^/]*)\/>/g,"");S==="3"?d+=' the cube root of <break time="200ms"/>'+p+'. <break time="200ms"/> End cube root':S==="n"?d+=' the nth root of <break time="200ms"/>'+p+'. <break time="200ms"/> End root':d+=' the root with index: <break time="200ms"/>'+C+', of <break time="200ms"/>'+p+'. <break time="200ms"/> End root'}break;case"leftright":{let C=e;d+=(o=C.leftDelim?p0[C.leftDelim]:void 0)!=null?o:C.leftDelim,d+=it("math",e.body),d+=(l=C.rightDelim?p0[C.rightDelim]:void 0)!=null?l:C.rightDelim}break;case"rule":break;case"overunder":break;case"overlap":break;case"macro":let b=y.replace(/^\\/g,""),w=QF()[b];w&&(w!=null&&w.expand?d+=it("math",e.body):d+=`${b} `);break;case"placeholder":d+="placeholder ";break;case"delim":case"sizeddelim":case"mord":case"minner":case"mbin":case"mrel":case"mpunct":case"mopen":case"mclose":{if(y==="\\mathbin"||y==="\\mathrel"||y==="\\mathopen"||y==="\\mathclose"||y==="\\mathpunct"||y==="\\mathord"||y==="\\mathinner"){d=it(t,e.body);break}let C=e.isDigit()?e.asDigit():e.value,S=e.command;if((e.type==="delim"||e.type==="sizeddelim")&&(S=e.value,C=S),t==="text")d+=C;else{if(e.type==="mbin"&&(d+='<break time="150ms"/>'),C){let B=p0[C]||(S?p0[S.trim()]:"");if(B)d+=" "+B;else{let E=S?dIe(S.trim()):"";d+=E||u(C)}}else d+=it("math",e.body);e.type==="mbin"&&(d+='<break time="150ms"/>')}break}case"mop":case"operator":case"extensible-symbol":if(e.value!==""){let C=e.command;if(C==="\\sum")if(!e.hasEmptyBranch("superscript")&&!e.hasEmptyBranch("subscript")){let S=it("math",e.superscript);S=S.trim();let B=it("math",e.subscript);B=B.trim(),d+=' the summation from <break time="200ms"/>'+B+'<break time="200ms"/> to  <break time="200ms"/>'+S+'<break time="200ms"/> of <break time="150ms"/>',m=!0}else if(e.hasEmptyBranch("subscript"))d+=" the summation of";else{let S=it("math",e.subscript);S=S.trim(),d+=' the summation from <break time="200ms"/>'+S+'<break time="200ms"/> of <break time="150ms"/>',m=!0}else if(C==="\\prod")if(!e.hasEmptyBranch("superscript")&&!e.hasEmptyBranch("subscript")){let S=it("math",e.superscript);S=S.trim();let B=it("math",e.subscript);B=B.trim(),d+=' the product from <break time="200ms"/>'+B+'<break time="200ms"/> to <break time="200ms"/>'+S+'<break time="200ms"/> of <break time="150ms"/>',m=!0}else if(e.hasEmptyBranch("subscript"))d+=" the product  of ";else{let S=it("math",e.subscript);S=S.trim(),d+=' the product from <break time="200ms"/>'+S+'<break time="200ms"/> of <break time="150ms"/>',m=!0}else if(C==="\\int")if(!e.hasEmptyBranch("superscript")&&!e.hasEmptyBranch("subscript")){let S=it("math",e.superscript);S=S.trim();let B=it("math",e.subscript);B=B.trim(),d+=' the integral from <break time="200ms"/>'+d_(B)+'<break time="200ms"/> to <break time="200ms"/>'+d_(S)+' <break time="200ms"/> of ',m=!0}else d+=' the integral of <break time="200ms"/> ';else if(C==="\\operatorname"||C==="\\operatorname*")d+=AIe(e.body)+" ";else if(typeof e.value=="string"){let S=(c=p0[e.value])!=null?c:e.command?p0[e.command]:void 0;d+=S||" "+e.value}else e.command&&(e.command==="\\mathop"?d+=it("math",e.body):d+=e.command.startsWith("\\")?" "+e.command.slice(1):" "+e.command)}break;case"enclose":p=it("math",e.body),d+=" crossed out "+p+". End crossed out.";break}if(!m&&!e.hasEmptyBranch("superscript")){let g=it(t,e.superscript);g=g.trim();let v=g.replace(/<[^>]*>/g,"");if(Ep(e.superscript)){if(t==="math"){let x=hIe(e.superscript);x&&(d+='<mark name="'+x+'"/>')}v===""?d+=" prime ":v==="2"?d+=" squared ":v==="3"?d+=" cubed ":Number.isNaN(Number.parseInt(v))?d+=" to the "+g+"; ":d+=' to the <say-as interpret-as="ordinal">'+v+"</say-as> power; "}else Number.isNaN(Number.parseInt(v))?d+=" raised to the "+g+"; ":d+=' raised to the <say-as interpret-as="ordinal">'+v+"</say-as> power; "}if(!m&&!e.hasEmptyBranch("subscript")){let g=it("math",e.subscript);g=g.trim(),d+=Ep(e.subscript)?" sub "+g:" subscript "+g+". End subscript. "}return d}function MA(t){var e,r;let n=globalThis.MathfieldElement;if(n.textToSpeechRules==="sre"&&("sre"in window||"SRE"in window)){let s=Ct(t);if(s){n.textToSpeechMarkup&&(n.textToSpeechRulesOptions=(e=n.textToSpeechRulesOptions)!=null?e:{},n.textToSpeechRulesOptions=W(U({},n.textToSpeechRulesOptions),{markup:n.textToSpeechMarkup}),n.textToSpeechRulesOptions.markup==="ssml"&&(n.textToSpeechRulesOptions=W(U({},n.textToSpeechRulesOptions),{markup:"ssml_step"})),n.textToSpeechRulesOptions=W(U({},n.textToSpeechRulesOptions),{rate:n.speechEngineRate}));let a=(r=window.SRE)!=null?r:globalThis.sre.System.getInstance();n.textToSpeechRulesOptions&&a.setupEngine(n.textToSpeechRulesOptions);let o="";try{o=a.toSpeech(s)}catch(l){console.error("MathLive 0.104.0: `SRE.toSpeech()` runtime error",l)}return o}return""}let i=it("math",t);if(n.textToSpeechMarkup==="ssml"){let s="";n.speechEngineRate&&(s='<prosody rate="'+n.speechEngineRate+'">'),i='<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="en-US"><amazon:auto-breaths>'+s+"<p><s>"+i+"</s></p>"+(s?"</prosody>":"")+"</amazon:auto-breaths></speak>"}else n.textToSpeechMarkup==="mac"&&Mf()==="macos"?i=i.replace(/<mark([^/]*)\/>/g,"").replace(/<emphasis>/g,"[[emph+]]").replace(/<\/emphasis>/g,"").replace(/<break time="(\d*)ms"\/>/g,"[[slc $1]]").replace(/<say-as[^>]*>/g,"").replace(/<\/say-as>/g,""):i=i.replace(/<[^>]*>/g,"").replace(/\s{2,}/g," ");return i}var Ga={"\\ne":"","\\neq":"","":"-","-":"-","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\delta":"delta","\\epsilon":"epsilon","\\varepsilon":"varepsilon","\\zeta":"zeta","\\eta":"eta","\\theta":"theta","\\vartheta":"vartheta","\\iota":"iota","\\kappa":"kappa","\\lambda":"lambda","\\mu":"mu","\\nu":"nu","\\xi":"xi","\\pi":"pi","\\rho":"rho","\\sigma":"sigma","\\tau":"tau","\\upsilon":"upsilon","\\phi":"phi","\\varphi":"varphi","\\chi":"chi","\\psi":"psi","\\omega":"omega","\\Gamma":"Gamma","\\Delta":"Delta","\\Theta":"Theta","\\Lambda":"Lambda","\\Xi":"Xi","\\Pi":"Pi","\\Sigma":"Sigma","\\Phi":"Phi","\\Psi":"Psi","\\Omega":"Omega","\\exponentialE":"e","\\imaginaryI":"i","\\imaginaryJ":"j","\\!":" ","\\,":" ","\\:":" ","\\>":" ","\\;":" ","\\enskip":" ","\\enspace":" ","\\qquad":" ","\\quad":" ","\\infty":"oo","\\R":"RR","\\mathbb{R}":"RR","\\N":"NN","\\mathbb{N}":"NN","\\Z":"ZZ","\\mathbb{Z}":"ZZ","\\Q":"QQ","\\mathbb{Q}":"QQ","\\C":"CC","\\mathbb{C}":"CC","\\emptyset":"O/","\\varnothing":"O/","\\varDelta":"Delta","\\varTheta":"Theta","\\varLambda":"Lambda","\\varXi":"Xi","\\varPi":"Pi","\\varSigma":"Sigma","\\varUpsilon":"Upsilon","\\varPhi":"Phi","\\varPsi":"Psi","\\varOmega":"Omega"},Mp={"\\pm":"+-","\\colon":" : ","\\sum":" sum ","\\prod":" prod ","\\bigcap":" nnn ","\\bigcup":" uuu ","\\int":" int ","\\oint":" oint ","\\ge":">=","\\le":"<=","\\ne":"!=","\\neq":"!=","\\lt":"<","\\gt":">","\\gets":"<-","\\to":"->","\\land":" and ","\\lor":" or ","\\lnot":" not ","\\forall":" AA ","\\exists":" EE ","\\in":" in ","\\notin":" !in ","\\mapsto":"|->","\\implies":"=>","\\iff":"<=>","\\cdot":" * ","\\ast":" ** ","\\star":" *** ","\\times":" * ","\\div":" -: ","\\ltimes":" |>< ","\\rtimes":" ><| ","\\bowtie":" |><| ","\\circ":"@"},Iv={"\\vert":"|","\\Vert":"||","\\mid":"|","\\lbrack":"[","\\rbrack":"]","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"(:","\\rangle":":)"};function pIe(t){let e="";for(let r of t){let n=e[e.length-1];n!==void 0&&(/\d$/.test(n)&&/^\d/.test(r)||/[a-zA-Z]$/.test(n)&&/^[a-zA-Z]/.test(r))&&(e+=" "),e+=r}return e}function Jt(t,e){var r,n,i,s,a,o,l,c,u,d,A,f,p,m,y,g,v;if(!t)return"";if(bn(t)){if(t.length===0)return"";if(t[0].mode==="latex")return t.map(E=>Jt(E)).join("");if(t[0].mode==="text"){let E=0,M="";for(;((r=t[E])==null?void 0:r.mode)==="text";)M+=t[E].body?Jt(t[E].body,e):t[E].value,E++;return e!=null&&e.plain?M+Jt(t.slice(E),e):`"${M}" ${Jt(t.slice(E))}`}let S=0,B=[];for(;t[S]&&t[S].mode==="math";){let E="";for(;t[S]&&t[S].type==="mord"&&/\d/.test(t[S].value);)E+=t[S++].value;E?B.push(E):B.push(Jt(t[S++],e))}return B.push(Jt(t.slice(S),e)),pIe(B)}if(t.mode==="text")return e!=null&&e.plain?t.value:`"${t.value}"`;let x="",{command:b}=t,w;if(b==="\\placeholder")return`(${Jt(t.body,e)})`;let C=se.serialize([t],{expandMacro:!1,defaultMode:"math"});switch(t.type){case"accent":let S={"\\vec":"vec","\\dot":"dot","\\ddot":"ddot","\\bar":"bar","\\hat":"hat","\\acute":"acute;","\\grave":"grave","\\tilde":"tilde","\\breve":"breave","\\check":"check"}[b];x=`${S??""} ${Jt(t.body,e)} `;break;case"first":return"";case"latexgroup":return t.body.map(E=>E.value).join("");case"group":case"root":x=(n=Ga[b])!=null?n:Jt(t.body,e);break;case"genfrac":{let E=t;(E.leftDelim||E.rightDelim)&&(x=E.leftDelim==="."||!E.leftDelim?"{:":E.leftDelim),E.hasBarLine?(x+="(",x+=Jt(E.above,e),x+=")/(",x+=Jt(E.below,e),x+=")"):(x+="((",x+=Jt(E.above,e),x+=") choose (",x+=Jt(E.below,e),x+="))"),(E.leftDelim||E.rightDelim)&&(x+=E.rightDelim==="."||!E.rightDelim?"{:":E.rightDelim)}break;case"surd":t.hasEmptyBranch("above")?x+=`sqrt(${Jt(t.body,e)})`:x+=`root(${Jt(t.above,e)})(${Jt(t.body,e)})`;break;case"latex":x=t.value;break;case"leftright":{let E=t,M=E.leftDelim;M&&Iv[M]&&(M=Iv[M]),x+=M==="."||!M?"{:":M,x+=Jt(E.body,e);let D=E.matchingRightDelim();D&&Iv[D]&&(D=Iv[D]),x+=D==="."||!D?":}":D}break;case"sizeddelim":case"delim":x=t.value;break;case"overlap":break;case"overunder":break;case"mord":if(Ga[C])return Ga[C];x=(a=(s=(i=Ga[b])!=null?i:b)!=null?s:b)!=null?a:typeof t.value=="string"?t.value:"",x.startsWith("\\")&&(x+=" "),w=b?b.match(/{?\\char"([\dabcdefABCDEF]+)}?/):null,w?x=String.fromCodePoint(Number.parseInt("0x"+w[1])):x.length>0&&x.startsWith("\\")&&(x=typeof t.value=="string"?t.value.charAt(0):t.command),x=mIe(x,t.style);break;case"mbin":case"mrel":case"minner":x=(c=(l=(o=Ga[C])!=null?o:Ga[b])!=null?l:Mp[b])!=null?c:t.value;break;case"mopen":case"mclose":x=t.value;break;case"mpunct":x=(u=Mp[b])!=null?u:b;break;case"mop":case"operator":case"extensible-symbol":t.value!==""&&(Mp[b]?x=Mp[b]:x=b==="\\operatorname"?Jt(t.body,e):(d=t.value)!=null?d:b,x+=" ");break;case"array":let B=t.environmentName;if(t.isMultiline)x=t.rows.map(E=>E.map(M=>Jt(M,e)).join("")).join(`
`);else{let E=(A={bmatrix:["[","]"],"bmatrix*":["[","]"]}[B])!=null?A:["(",")"],M=[],D=t.rows;for(let I of D){let z=[];for(let R of I)z.push(Jt(R,e));M.push(E[0]+z.join(",")+E[1])}let L=(f={bmatrix:["[","]"],"bmatrix*":["[","]"],cases:["{",":}"]}[B])!=null?f:["(",")"];x=L[0]+M.join(",")+L[1]}break;case"box":break;case"spacing":x=(m=(p=Ga[C])!=null?p:Ga[b])!=null?m:" ";break;case"enclose":x="("+Jt(t.body,e)+")";break;case"space":x=" ";break;case"subsup":x="";break;case"macro":x=(v=(g=(y=Ga[C])!=null?y:Ga[b])!=null?g:Mp[b])!=null?v:Jt(t.body,e);break}if(!t.hasEmptyBranch("subscript")){x+="_";let S=Jt(t.subscript,e);x+=S.length!==1?`(${S})`:S}if(!t.hasEmptyBranch("superscript")){x+="^";let S=Jt(t.superscript,e);x+=S.length!==1?`(${S})`:S}return x}function mIe(t,e){if(!e)return t;let r=t;return e.variant==="double-struck"&&(r=`bbb "${r}"`),e.variant==="script"&&(r=`cc "${r}"`),e.variant==="fraktur"&&(r=`fr "${r}"`),e.variant==="sans-serif"&&(r=`sf "${r}"`),e.variant==="monospace"&&(r=`tt "${r}"`),e.variantStyle==="bold"&&(r=`bb "${r}"`),e.color?`color({${e.color}})(${r})`:r}function Gr(t,e){var r;let n=W(U({},Dte()),{renderPlaceholder:()=>new ge(160,{maxFontSize:1})}),i=(r=void 0)!=null?r:"math",s="math",a="displaystyle";i==="inline-math"?a="textstyle":i==="math"?a="displaystyle":i==="text"&&(a="textstyle",s="text");let o=new pt({from:n}),l=new se({type:"root",mode:s,body:Ys(t,{context:o,parseMode:s,mathstyle:a})}).render(o);return l?(w5(X1(l,o)),C5(l,{classes:"ML__latex"}).toMarkup()):""}function h_(t){if(typeof t=="string"){let e=gIe(t);if(!e)throw new Error(`Invalid color: ${t}`);return e}return"C"in t?vIe(t):"a"in t?Ane(t):t}function FA(t){return t<0?0:t>255?255:Math.round(t)}function gIe(t){if(!t||t[0]!=="#")return;t=t.slice(1);let e;return t.length<=4?(e={r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16)},t.length===4&&(e.a=parseInt(t[3]+t[3],16)/255)):(e={r:parseInt(t[0]+t[1],16),g:parseInt(t[2]+t[3],16),b:parseInt(t[4]+t[5],16)},t.length===8&&(e.a=parseInt(t[6]+t[7],16)/255)),e&&typeof e.a>"u"&&(e.a=1),e}function A_(t){let[e,r,n]=[t.L,t.C,t.H],i=n*Math.PI/180,s={L:e,a:r*Math.cos(i),b:r*Math.sin(i)};return t.alpha!==void 0&&(s.alpha=t.alpha),s}function yIe(t){let[e,r,n]=[t.L,t.a,t.b],i=Math.sqrt(r*r+n*n),s=Math.atan2(n,r)*180/Math.PI,a={L:e,C:i,H:s};return t.alpha!==void 0&&(a.alpha=t.alpha),a}function sC(t){let[e,r,n]=[t.L,t.a,t.b],i=Math.pow(.9999999984505198*e+.39633779217376786*r+.2158037580607588*n,3),s=Math.pow(1.00000000888176*e-.10556134232365635*r-.0638541747717059*n,3),a=Math.pow(e*1.000000054672411-.0894841820949657*r-1.2914855378640917*n,3),o=4.076741661347994*i-3.307711590408193*s+.230969928729428*a,l=-1.2684380040921763*i+2.6097574006633715*s-.3413193963102197*a,c=-.004196086541837188*i-.7034186144594493*s+1.7076147009309444*a,u=d=>{let A=Math.abs(d);return A<=.0031308?d*12.92:(Math.sign(d)||1)*(1.055*Math.pow(A,1/2.4)-.055)};return[u(o),u(l),u(c)]}function aC(t){let[e,r,n]=t;return e>=0&&e<=1&&r>=0&&r<=1&&n>=0&&n<=1}function oC(t,e){let[r,n,i]=t;return r=FA(r*255),n=FA(n*255),i=FA(i*255),e!==void 0?{r,g:n,b:i,alpha:e}:{r,g:n,b:i}}function Ane(t){let[e,r,n]=sC(t);if(aC([e,r,n]))return oC([e,r,n],t.alpha);let i=yIe(t);if(i.C=0,[e,r,n]=sC(A_(i)),!aC([e,r,n]))return oC([e,r,n],t.alpha);let s=0,a=t.L,o=(s+a)/2;i.C=o;let l=.36/Math.pow(2,12);for(;a-s>l;)o=(s+a)/2,i.C=o,[e,r,n]=sC(A_(i)),aC([e,r,n])?s=o:a=o;return oC([e,r,n],t.alpha)}function vIe(t){return Ane(A_(t))}function nz(t,e){let r=h_(t),n=h_(e),i=.56,s=.57,a=.62,o=.65,l=.022,c=1.414,u=.1,d=5e-4,A=1.14,f=.027,p=1.14,m=.027;function y(S){return S>=l?S:S+(l-S)**c}function g(S){return(S<0?-1:1)*Math.pow(Math.abs(S),2.4)}let v=y(g(n.r/255)*.2126729+g(n.g/255)*.7151522+g(n.b/255)*.072175),x=y(g(r.r/255)*.2126729+g(r.g/255)*.7151522+g(r.b/255)*.072175),b,w,C;return Math.abs(x-v)<d?w=0:x>v?(b=x**i-v**s,w=b*A):(b=x**o-v**a,w=b*p),Math.abs(w)<u?C=0:w>0?C=w-m:C=w+f,C*100}function fne(t,e,r){r!=null||(r="#fff"),e!=null||(e="#000");let n=nz(t,r),i=nz(t,e);return Math.abs(n)>Math.abs(i)?r:e}function xIe(t){let e=h_(t),r=((1<<24)+(FA(e.r)<<16)+(FA(e.g)<<8)+FA(e.b)).toString(16).slice(1);return e.alpha!==void 0&&e.alpha<1&&(r+=("00"+Math.round(e.alpha*255).toString(16)).slice(-2)),r[0]===r[1]&&r[2]===r[3]&&r[4]===r[5]&&r[6]===r[7]&&(r=r[0]+r[2]+r[4]+(e.alpha!==void 0&&e.alpha<1?r[6]:"")),"#"+r}function jt(t){let e=pne(t),r="";for(let n of e){if(typeof n.value!="string")return"";r+=n.value}return r}function pne(t){let e=t.model.selection.ranges;if(e.length!==1)return[];let r=t.model.getAtoms(e[0]);return r.length===1&&r[0].isRoot&&(r=r[0].children),r.filter(n=>n.type!=="first")}function bIe(t,e){let r=pne(t);if(r.length!==1)return!1;let n=W9[e];return n?!!n.test(r[0].value):!1}function wIe(t){return jt(t).length>0}function CIe(t){return[cC(t,"double-struck","mathbb","tooltip.blackboard"),cC(t,"fraktur","mathfrak","tooltip.fraktur"),cC(t,"calligraphic","mathcal","tooltip.caligraphic"),uC(t,"up","mathrm","tooltip.roman-upright"),uC(t,"bold","bm","tooltip.bold"),uC(t,"italic","mathit","tooltip.italic")]}function SIe(t){return[{id:"accent-vec",class:"ML__center-menu",label:()=>Gr(`\\vec{${jt(t)}}`),visible:()=>jt(t).length===1,onMenuSelect:()=>t.insert("\\vec{#@}",{selectionMode:"item"})},{id:"accent-overrightarrow",class:"ML__center-menu",label:()=>Gr(`\\overrightarrow{${jt(t)}}`),visible:()=>jt(t).length>0,onMenuSelect:()=>t.insert("\\overrightarrow{#@}",{selectionMode:"item"})},{id:"accent-overleftarrow",class:"ML__center-menu",label:()=>Gr(`\\overleftarrow{${jt(t)}}`),visible:()=>jt(t).length>0,onMenuSelect:()=>t.insert("\\overleftarrow{#@}",{selectionMode:"item"})},{id:"accent-dot",class:"ML__center-menu",label:()=>Gr(`\\dot{${jt(t)}}`),visible:()=>jt(t).length===1,onMenuSelect:()=>t.insert("\\dot{#@}",{selectionMode:"item"})},{id:"accent-ddot",class:"ML__center-menu",label:()=>Gr(`\\ddot{${jt(t)}}`),visible:()=>jt(t).length===1,onMenuSelect:()=>t.insert("\\ddot{#@}",{selectionMode:"item"})},{id:"accent-bar",class:"ML__center-menu",label:()=>Gr(`\\bar{${jt(t)}}`),visible:()=>jt(t).length===1,onMenuSelect:()=>t.insert("\\bar{#@}",{selectionMode:"item"})},{id:"accent-overline",class:"ML__center-menu",label:()=>Gr(`\\overline{${jt(t)}}`),visible:()=>jt(t).length>0,onMenuSelect:()=>t.insert("\\overline{#@}",{selectionMode:"item"})},{id:"accent-overgroup",class:"ML__center-menu",label:()=>Gr(`\\overgroup{${jt(t)}}`),visible:()=>jt(t).length>0,onMenuSelect:()=>t.insert("\\overgroup{#@}",{selectionMode:"item"})},{id:"accent-overbrace",class:"ML__center-menu",label:()=>Gr(`\\overbrace{${jt(t)}}`),visible:()=>jt(t).length>0,onMenuSelect:()=>t.insert("\\overbrace{#@}",{selectionMode:"item"})},{id:"accent-underline",class:"ML__center-menu",label:()=>Gr(`\\underline{${jt(t)}}`),visible:()=>jt(t).length>0,onMenuSelect:()=>t.insert("\\underline{#@}",{selectionMode:"item"})},{id:"accent-undergroup",class:"ML__center-menu",label:()=>Gr(`\\undergroup{${jt(t)}}`),visible:()=>jt(t).length>0,onMenuSelect:()=>t.insert("\\undergroup{#@}",{selectionMode:"item"})},{id:"accent-underbrace",class:"ML__center-menu",label:()=>Gr(`\\underbrace{${jt(t)}}`),visible:()=>jt(t).length>0,onMenuSelect:()=>t.insert("\\underbrace{#@}",{selectionMode:"item"})}]}function BIe(t){return[{id:"decoration-boxed",label:()=>Gr(`\\boxed{${t.getValue(t.model.selection)}}}`),onMenuSelect:()=>t.insert("\\boxed{#@}",{selectionMode:"item"})},{id:"decoration-red-box",label:()=>Gr(`\\bbox[5px, border: 2px solid red]{${t.getValue(t.model.selection)}}`),onMenuSelect:()=>t.insert("\\bbox[5px, border: 2px solid red]{#@}",{selectionMode:"item"})},{id:"decoration-dashed-black-box",label:()=>Gr(`\\bbox[5px, border: 2px dashed black]{${t.getValue(t.model.selection)}}`),onMenuSelect:()=>t.insert("\\bbox[5px, border: 2px dashed black]{#@}",{selectionMode:"item"})}]}function _Ie(t){let e=[];for(let r of Object.keys(rh))e.push({id:`background-color-${r}`,class:(xIe(fne(rh[r]))==="#000"?"dark-contrast":"light-contrast")+" menu-swatch",label:`<span style="background:${rh[r]} "></span>`,ariaLabel:()=>{var n;return(n=Ze(r))!=null?n:r},checked:()=>{var n;return(n={some:"mixed",all:!0}[t.queryStyle({backgroundColor:r})])!=null?n:!1},onMenuSelect:()=>t.applyStyle({backgroundColor:r},{operation:"toggle"})});return e}function kIe(t){let e=[];for(let r of Object.keys(nh))e.push({id:`color-${r}`,class:(fne(nh[r])==="#000"?"dark-contrast":"light-contrast")+" menu-swatch",label:`<span style="background:${nh[r]} "></span>`,ariaLabel:()=>{var n;return(n=Ze(r))!=null?n:r},checked:()=>{var n;return(n={some:"mixed",all:!0}[t.queryStyle({color:r})])!=null?n:!1},onMenuSelect:()=>t.applyStyle({color:r},{operation:"toggle"})});return e}var EIe=class extends sne{constructor(t,e,r,n){super(t,e),this.row=r,this.col=n}set active(t){let e=this.parentMenu.children;if(t)for(let r of e)r.element.classList.toggle("active",r.row<=this.row&&r.col<=this.col);else for(let r of e)r.element.classList.remove("active")}};function MIe(t){let e=[];for(let r=1;r<=5;r++)for(let n=1;n<=5;n++)e.push({id:`insert-matrix-${r}x${n}`,onCreate:(i,s)=>new EIe(i,s,r,n),label:"",tooltip:()=>Ze("tooltip.row-by-col",r,n),data:{row:r,col:n},onMenuSelect:()=>{t.insert(`\\begin{pmatrix}${Array(r).fill(Array(n).fill("#?").join(" & ")).join("\\\\")}\\end{pmatrix}`,{selectionMode:"item"})}});return e}function FIe(t){return[{label:()=>Ze("menu.array.add row above"),id:"add-row-above",onMenuSelect:()=>t.executeCommand("addRowBefore"),keyboardShortcut:"shift+alt+[Return]",visible:()=>{if(!t.isSelectionEditable||!pd(t))return!1;let[e,r]=bc(t),[n,i]=m0(t);return e!==n}},{label:()=>Ze("menu.array.add row below"),id:"add-row-below",onMenuSelect:()=>t.executeCommand("addRowAfter"),keyboardShortcut:"alt+[Return]",visible:()=>{if(!t.isSelectionEditable||!pd(t))return!1;let[e,r]=bc(t),[n,i]=m0(t);return e!==n}},{label:()=>Ze("menu.array.add column before"),id:"add-column-before",onMenuSelect:()=>t.executeCommand("addColumnBefore"),visible:()=>{if(!t.isSelectionEditable||!pd(t))return!1;let[e,r]=bc(t),[n,i]=m0(t);return r!==i},keyboardShortcut:"shift+alt+[Tab]",enabled:()=>{let e=t.model.parentEnvironment;if(!e)return!1;let[r,n]=lC(t);return r<e.maxColumns}},{label:()=>Ze("menu.array.add column after"),id:"add-column-after",onMenuSelect:()=>t.executeCommand("addColumnAfter"),keyboardShortcut:"alt+[Tab]",visible:()=>{if(!t.isSelectionEditable||!pd(t))return!1;let[e,r]=bc(t),[n,i]=m0(t);return r!==i}},{type:"divider"},{label:()=>Ze("menu.array.delete row"),id:"delete-row",onMenuSelect:()=>t.executeCommand("removeRow"),enabled:()=>{let[e,r]=bc(t),[n,i]=lC(t);return n>e},visible:()=>{if(!t.isSelectionEditable||!pd(t))return!1;let[e,r]=bc(t),[n,i]=m0(t);return e!==n}},{label:()=>Ze("menu.array.delete column"),id:"delete-column",onMenuSelect:()=>t.executeCommand("removeColumn"),enabled:()=>{let[e,r]=bc(t),[n,i]=lC(t);return i>r},visible:()=>{if(!t.isSelectionEditable||!pd(t))return!1;let[e,r]=bc(t),[n,i]=m0(t);return r!==i}},{type:"divider"},{label:()=>Ze("menu.borders"),visible:()=>(TIe(t)||pd(t))&&t.isSelectionEditable,submenu:[{label:"  ",id:"environment-no-border",onMenuSelect:()=>Fp(t,"matrix")},{label:"()",id:"environment-parentheses",onMenuSelect:()=>Fp(t,"pmatrix")},{label:"[]",id:"environment-brackets",onMenuSelect:()=>Fp(t,"bmatrix")},{label:"||",id:"environment-bar",onMenuSelect:()=>Fp(t,"vmatrix")},{label:"{}",id:"environment-braces",onMenuSelect:()=>Fp(t,"Bmatrix")}],submenuClass:"border-submenu"},{type:"divider"},{label:()=>Ze("menu.insert matrix"),id:"insert-matrix",visible:()=>t.isSelectionEditable,submenu:MIe(t),submenuClass:"insert-matrix-submenu",columnCount:5},{type:"divider"},{label:()=>Ze("menu.insert"),id:"insert",submenu:LIe(t)},{type:"divider"},{label:()=>Ze("menu.mode"),id:"mode",visible:()=>t.isSelectionEditable&&t.model.selectionIsCollapsed,submenu:[{label:()=>Ze("menu.mode-math"),id:"mode-math",onMenuSelect:()=>{ef(t,"accept-all"),t.executeCommand(["switchMode","math"])},checked:()=>t.model.mode==="math"},{label:()=>Ze("menu.mode-text"),id:"mode-text",onMenuSelect:()=>{ef(t,"accept-all"),t.executeCommand(["switchMode","text"])},checked:()=>t.model.mode==="text"},{label:()=>Ze("menu.mode-latex"),id:"mode-latex",onMenuSelect:()=>t.executeCommand(["switchMode","latex"]),checked:()=>t.model.mode==="latex"}]},{type:"divider"},{label:()=>Ze("menu.font-style"),id:"variant",visible:()=>t.isSelectionEditable,submenu:CIe(t),submenuClass:"variant-submenu"},{label:()=>Ze("menu.color"),id:"color",visible:()=>t.isSelectionEditable,submenu:kIe(t),columnCount:4,submenuClass:"swatches-submenu"},{label:()=>Ze("menu.background-color"),id:"background-color",visible:()=>t.isSelectionEditable,submenu:_Ie(t),columnCount:4,submenuClass:"swatches-submenu"},{label:()=>Ze("menu.accent"),id:"accent",visible:()=>t.isSelectionEditable,submenu:SIe(t),submenuClass:"variant-submenu"},{label:()=>Ze("menu.decoration"),id:"decoration",visible:()=>t.isSelectionEditable&&jt(t).length>0,submenu:BIe(t),submenuClass:"variant-submenu"},{type:"divider"},{label:()=>Ze("menu.evaluate"),id:"ce-evaluate",visible:()=>t.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null,onMenuSelect:()=>{let e=DIe(t);if(!e){t.model.announce("plonk");return}t.model.selectionIsCollapsed?(t.model.position=t.model.lastOffset,t.insert(`=${e}`,{insertionMode:"insertAfter",selectionMode:"item"})):t.insert(e,{insertionMode:"replaceSelection",selectionMode:"item"})}},{label:()=>Ze("menu.simplify"),id:"ce-simplify",visible:()=>t.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null,onMenuSelect:()=>{var e,r;if(t.model.selectionIsCollapsed){let n=(e=t.expression)==null?void 0:e.simplify();if(t.model.position=t.model.lastOffset,!n){t.model.announce("plonk");return}t.insert(`=${n.latex}`,{insertionMode:"insertAfter",selectionMode:"item"})}else{let n=(r=globalThis.MathfieldElement.computeEngine)==null?void 0:r.parse(t.getValue(t.model.selection)).simplify();if(!n){t.model.announce("plonk");return}t.insert(n.latex,{insertionMode:"replaceSelection",selectionMode:"item"})}}},{label:()=>{var e;let r=globalThis.MathfieldElement.computeEngine;if(r===null)return"";let n=(e=t.expression)==null?void 0:e.unknowns[0];if(n){let i=r.box(n).latex;return Ze("menu.solve-for",Gr(i))}return Ze("menu.solve")},id:"ce-solve",visible:()=>{var e;return t.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null&&((e=t.expression)==null?void 0:e.unknowns.length)===1&&t.expression.unknowns[0]!=="Nothing"},onMenuSelect:()=>{var e;let r=t.expression,n=r==null?void 0:r.unknowns[0],i=(e=r.solve(n))==null?void 0:e.map(s=>{var a;return(a=s.simplify().latex)!=null?a:""});if(!i){t.model.announce("plonk");return}t.insert(`${n}=${i.length===1?i[0]:"\\left\\lbrace"+(i==null?void 0:i.join(", "))+"\\right\\rbrace"}`,{insertionMode:"replaceAll",selectionMode:"item"})}},{type:"divider"},{label:()=>Ze("menu.cut"),id:"cut",onMenuSelect:()=>t.executeCommand("cutToClipboard"),visible:()=>!t.options.readOnly&&t.isSelectionEditable,keyboardShortcut:"meta+X"},{label:()=>Ze("menu.copy"),id:"copy",submenu:[{label:()=>Ze("menu.copy-as-latex"),id:"copy-latex",onMenuSelect:()=>Qt.copyToClipboard(t,"latex"),keyboardShortcut:"meta+C"},{label:()=>Ze("menu.copy-as-ascii-math"),id:"copy-ascii-math",onMenuSelect:()=>Qt.copyToClipboard(t,"ascii-math")},{label:()=>Ze("menu.copy-as-mathml"),id:"copy-math-ml",onMenuSelect:()=>Qt.copyToClipboard(t,"math-ml")}]},{label:()=>Ze("menu.paste"),id:"paste",onMenuSelect:()=>t.executeCommand("pasteFromClipboard"),visible:()=>t.hasEditableContent,keyboardShortcut:"meta+V"},{label:()=>Ze("menu.select-all"),id:"select-all",keyboardShortcut:"meta+A",onMenuSelect:()=>t.executeCommand("selectAll")}]}function pd(t){var e,r;let n=(r=(e=t.model.parentEnvironment)==null?void 0:e.environmentName)!=null?r:"";return["array","matrix","pmatrix","bmatrix","vmatrix","Bmatrix"].includes(n)}function TIe(t){let e=t.model.at(t.model.position);if(e.type!=="array")return!1;let r=e.environmentName;return["matrix","pmatrix","bmatrix","vmatrix","Bmatrix"].includes(r)}function lC(t){var e;let r=(e=t.model.parentEnvironment)==null?void 0:e.rows;return r?[r.length,r.reduce((n,i)=>Math.max(n,i.length),0)]:[0,0]}function bc(t){let e=t.model.parentEnvironment;return e?[e.minRows,e.minColumns]:[0,0]}function m0(t){let e=t.model.parentEnvironment;return e?[e.maxRows,e.maxColumns]:[0,0]}function Fp(t,e){T5(t),t.flushInlineShortcutBuffer(),Gre(t.model,e),tr(t)}function DIe(t){var e,r;let n;if(t.model.selectionIsCollapsed?n=(e=globalThis.MathfieldElement.computeEngine)==null?void 0:e.parse(t.getValue(),{canonical:!1}):n=(r=globalThis.MathfieldElement.computeEngine)==null?void 0:r.parse(t.getValue(t.model.selection),{canonical:!1}),!n)return"";let i=n.evaluate();return i.isSame(n)&&(i=n.N()),i.latex}function cC(t,e,r,n){return{id:`variant-${e}`,label:()=>{var i;return jt(t).length<12?Gr(`\\${r}{${jt(t)}}`):(i=Ze(n))!=null?i:n},class:"ML__xl",tooltip:()=>{var i;return(i=Ze(n))!=null?i:n},visible:()=>bIe(t,e),checked:()=>{var i;return(i={some:"mixed",all:!0}[t.queryStyle({variant:e})])!=null?i:!1},onMenuSelect:()=>t.applyStyle({variant:e},{operation:"toggle"})}}function uC(t,e,r,n){return{id:`variant-style-${e}`,label:()=>{var i;let s=jt(t);return s.length>0&&s.length<12?Gr(`\\${r}{${jt(t)}}`):(i=Ze(n))!=null?i:n},class:()=>{let i=jt(t);return i.length>0&&i.length<12?"ML__xl":""},tooltip:()=>{var i;return(i=Ze(n))!=null?i:n},visible:e==="bold"?!0:()=>wIe(t),checked:()=>{var i;return(i={some:"mixed",all:!0}[t.queryStyle({variantStyle:e})])!=null?i:!1},onMenuSelect:()=>t.applyStyle({variantStyle:e},{operation:"toggle"})}}function LIe(t){return[{label:()=>ts("abs"),id:"insert-abs",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("|#?|")},{label:()=>ts("nth-root"),id:"insert-nth-root",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\sqrt[#?]{#?}")},{label:()=>ts("log-base"),id:"insert-log-base",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\log_{#?}{#?}")},{type:"heading",label:()=>Ze("menu.insert.heading-calculus")},{label:()=>ts("derivative"),id:"insert-derivative",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\dfrac{\\mathrm{d}}{\\mathrm{d}x}#?\\bigm|_{x=#?}")},{label:()=>ts("nth-derivative"),id:"insert-nth-derivative",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\dfrac{\\mathrm{d}^#?}{\\mathrm{d}x^#?}#?\\bigm|_{x=#?}")},{label:()=>ts("integral"),id:"insert-integral",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\int_#?^#?#?\\,\\mathrm{d}#?")},{label:()=>ts("sum"),id:"insert-sum",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\sum_#?^#?#?")},{label:()=>ts("product"),id:"insert-product",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\prod_#?^#?#?")},{type:"heading",label:()=>Ze("menu.insert.heading-complex-numbers")},{label:()=>ts("modulus"),id:"insert-modulus",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\lvert#?\\rvert")},{label:()=>ts("argument"),id:"insert-argument",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\arg(#?)")},{label:()=>ts("real-part"),id:"insert-real-part",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\Re(#?)")},{label:()=>ts("imaginary-part"),id:"insert-imaginary-part",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\Im(#?)")},{label:()=>ts("conjugate"),id:"insert-conjugate",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\overline{#?}")}]}function ts(t){return`<span class='ML__insert-template'> ${Gr(Ze(`menu.insert.${t}-template`))}</span><span class="ML__insert-label">${Ze(`menu.insert.${t}`)}</span>`}function Yc(t,e){return typeof t=="string"?t+MA(e):MA(t)}function f_(t){var e;let r;if(t.parent.type==="prompt")t.parentBranch==="body"&&(r="prompt");else if(t.parentBranch==="body"){if(t.type==="first"&&(t.parent.type==="root"?r="mathfield":t.parent.type==="surd"?r="radicand":t.parent.type==="genfrac"?r="fraction":t.parent.type==="sizeddelim"&&(r="delimiter"),r))return r;t.type==="subsup"?t.superscript&&t.subscript?r="superscript and subscript":t.superscript?r="superscript":t.subscript&&(r="subscript"):t.type&&(r=(e={accent:"accented",array:"array",box:"box",chem:"chemical formula",delim:"delimiter",enclose:"cross out","extensible-symbol":"extensible symbol",error:"error",first:"first",genfrac:"fraction",group:"group",latex:"LaTeX",leftright:"delimiter",line:"line",subsup:"subscript-superscript",operator:"operator",overunder:"over-under",placeholder:"placeholder",rule:"rule",sizeddelim:"delimiter",space:"space",spacing:"spacing",surd:"square root",text:"text",prompt:"prompt",root:"math field",mop:"operator"}[t.type])!=null?e:"parent")}else if(t.parent.type==="genfrac"){if(t.parentBranch==="above")return"numerator";if(t.parentBranch==="below")return"denominator"}else t.parent.type==="surd"?t.parentBranch==="above"&&(r="index"):t.parentBranch==="superscript"?r="superscript":t.parentBranch==="subscript"&&(r="subscript");return r??"parent"}function NIe(t,e,r,n){let i="";if(e==="plonk"){globalThis.MathfieldElement.playSound("plonk"),t.flushInlineShortcutBuffer();return}if(e==="delete")i=Yc("deleted: ",n);else if(e==="focus"||e.includes("move"))i=jIe(t.model,r),i+=IIe(t.model);else if(e==="replacement")i=Yc(t.model.at(t.model.position));else if(e==="line"){let s=Yc(t.model.root);t.keyboardDelegate.setAriaLabel(s)}else i=n?Yc(e+" ",n):e;if(i){let s=t.ariaLiveText.textContent.includes("")?"  ":"  ";t.ariaLiveText.textContent=i+s}}function jIe(t,e){if(Number.isNaN(e))return"";let r=t.at(e);if(!r||r.treeDepth<=t.at(t.position).treeDepth)return"";let n="",i=r.parent,s=t.at(t.position).parent;for(;i!==t.root&&i!==s;)n+=`out of ${f_(i)};`,i=i.parent;return n}function IIe(t){if(!t.selectionIsCollapsed)return`selected: ${Yc(t.getAtoms(t.selection))}`;let e="",r=t.at(t.position);if(r.isFirstSibling&&(e=`start of ${f_(r)}: `),r.isLastSibling){if(!r.isFirstSibling){if(!r.parent.parent)return`${Yc(r)}; end of mathfield`;e=`${Yc(r)}; end of ${f_(r)}`}}else e+=Yc(r);return e}var OIe=class{constructor(t,e,r){this.mathfield=t,this.mode=e,this.silenceNotifications=!1,this._selection={ranges:[[0,0]],direction:"none"},this._anchor=0,this._position=0,this.root=r}dispose(){this.mathfield=void 0}getState(){let t={ranges:[...this._selection.ranges]};return this.selection.direction&&this.selection.direction!=="none"&&(t.direction=this.selection.direction),{content:this.root.toJson(),selection:t,mode:this.mode}}setState(t,e){var r;let n=this.silenceNotifications;this.silenceNotifications=(r=e==null?void 0:e.silenceNotifications)!=null?r:!0;let i={};if((e==null?void 0:e.type)==="undo"&&(i={inputType:"historyUndo"}),(e==null?void 0:e.type)==="redo"&&(i={inputType:"historyRedo"}),this.contentWillChange(i)){let s=this.silenceNotifications;this.silenceNotifications=!0,this.mode=t.mode,this.root=du(t.content),this.selection=t.selection,this.silenceNotifications=s,this.contentDidChange(i),this.selectionDidChange()}this.silenceNotifications=n}get atoms(){return this.root.children}get selection(){return this._selection}set selection(t){this.setSelection(t)}setSelection(t,e){return!this.mathfield.contentEditable&&this.mathfield.userSelect==="none"?!1:this.deferNotifications({selection:!0,content:!0},()=>{var r,n,i;let s=this.normalizeSelection(t,e);if(s===void 0)throw new TypeError("Invalid selection");if(s.ranges.length===1&&s.ranges[0][0]===s.ranges[0][1]){let u=s.ranges[0][0];if(!this.mathfield.dirty&&!((r=this.at(u))!=null&&r.parentPrompt)&&this.mathfield.hasEditablePrompts){if((n=this.at(u-1))!=null&&n.parentPrompt){this._anchor=this.normalizeOffset(u-1),this._position=this._anchor,this._selection=this.normalizeSelection(this._anchor);return}if((i=this.at(u+1))!=null&&i.parentPrompt){this._anchor=this.normalizeOffset(u+1),this._position=this._anchor,this._selection=this.normalizeSelection(this._anchor);return}this._anchor=0,this._position=0,this._selection={ranges:[[0,0]]};return}this._anchor=u,this._position=u,this._selection=s;return}let a=jn(s);s.direction==="backward"?[this._position,this._anchor]=a:[this._anchor,this._position]=a;let o=this.at(a[0]+1),l=this.at(a[1]),c=se.commonAncestor(o,l);(c==null?void 0:c.type)==="array"&&o.parent===c&&l.parent===c?this._selection={ranges:[a],direction:s.direction}:this._selection={ranges:[a],direction:s.direction},this._position>=0&&this._position<=this.lastOffset})}setPositionHandlingPlaceholder(t){var e;let r=this.at(t);(r==null?void 0:r.type)==="placeholder"?this.setSelection(t-1,t):((e=r==null?void 0:r.rightSibling)==null?void 0:e.type)==="placeholder"?this.setSelection(t,t+1):this.position=t,r instanceof an&&r.isSuggestion&&(r.isSuggestion=!1),this.mathfield.stopCoalescingUndo()}get position(){return this._position}set position(t){this.setSelection(t,t)}get anchor(){return this._anchor}get selectionIsCollapsed(){return this._anchor===this._position}get selectionIsPlaceholder(){return Math.abs(this._anchor-this._position)===1?this.at(Math.max(this._anchor,this._position)).type==="placeholder":!1}collapseSelection(t="forward"){return this._anchor===this._position?!1:(t==="backward"?this.position=Math.min(this._anchor,this._position):this.position=Math.max(this._anchor,this._position),!0)}get lastOffset(){return this.atoms.length-1}at(t){return this.atoms[t]}offsetOf(t){return this.atoms.indexOf(t)}getSiblingsRange(t){let e=this.at(t),{parent:r}=e;if(!r)return[0,this.lastOffset];let n=e.parent.branch(e.parentBranch);return[this.offsetOf(n[0]),this.offsetOf(n[n.length-1])]}getBranchRange(t,e){let r=this.at(t).branch(e);return[this.offsetOf(r[0]),this.offsetOf(r[r.length-1])]}getCellRange(t){var e;this.getParentCell(t);let r=this.at(t);if(r){for(;r&&((e=r.parent)==null?void 0:e.type)!=="array";)r=r.parent;if(!(!(r!=null&&r.parent)||r.parent.type!=="array"))return[this.offsetOf(r.firstSibling),this.offsetOf(r.lastSibling)]}}getAtoms(t,e,r){let n=r??{};if(Sx(t)){if(n=e??{},t.ranges.length>1)return t.ranges.reduce((c,u)=>[...c,...this.getAtoms(u,n)],[]);t=t.ranges[0]}let i,s;if(jc(t)){if(i=t,!jc(e))return[];s=e}else[i,s]=t,n=e??{};if(!Number.isFinite(i))return[];n.includeChildren===void 0&&(n.includeChildren=!1),i<0&&(i=this.lastOffset-i+1),s<0&&(s=this.lastOffset+s+1);let a=Math.min(i,s)+1,o=Math.max(i,s);if(!n.includeChildren&&a===1&&o===this.lastOffset)return[this.root];let l=[];for(let c=a;c<=o;c++){let u=this.atoms[c];iz(this,u,a,o)&&l.push(u)}return n.includeChildren||(l=l.filter(c=>{let u=!1,{parent:d}=c;for(;d&&!u;)u=iz(this,d,a,o),d=d.parent;return!u})),l}findAtom(t,e=0,r="forward"){let n,i=this.lastOffset;if(r==="forward"){for(let s=e;s<=i;s++)if(n=this.atoms[s],t(n))return n;for(let s=0;s<e;s++)if(n=this.atoms[s],t(n))return n;return}for(let s=e;s>=0;s--)if(n=this.atoms[s],t(n))return n;for(let s=i;s>e;s--)if(n=this.atoms[s],t(n))return n}extractAtoms(t){var e;let r=this.getAtoms(t);r.length===1&&!r[0].parent&&r[0].isRoot&&(r=[...(e=r[0].body)!=null?e:r[0].children],r.shift());for(let n of r)n.parent.removeChild(n);return r}deleteAtoms(t){t!=null||(t=[0,-1]),this.extractAtoms(t),this.position=t[0]}atomToString(t,e){let r=e??"latex";if(r.startsWith("latex"))return se.serialize([t],{expandMacro:r==="latex-expanded",skipStyles:r==="latex-unstyled",skipPlaceholders:r==="latex-without-placeholders",defaultMode:this.mathfield.options.defaultMode});if(r==="math-ml")return Ct(t);if(r==="spoken")return MA(t);if(r==="spoken-text"){let n=globalThis.MathfieldElement.textToSpeechMarkup;globalThis.MathfieldElement.textToSpeechMarkup="";let i=MA(t);return globalThis.MathfieldElement.textToSpeechMarkup=n,i}if(r==="spoken-ssml"||r==="spoken-ssml-with-highlighting"){let n=globalThis.MathfieldElement.textToSpeechMarkup;globalThis.MathfieldElement.textToSpeechMarkup="ssml";let i=MA(t);return globalThis.MathfieldElement.textToSpeechMarkup=n,i}return r==="plain-text"?Jt(t,{plain:!0}):r==="ascii-math"?Jt(t):(console.error(`MathLive 0.104.0: Unexpected format "${r}`),"")}getValue(t,e,r){if(t===void 0)return this.atomToString(this.root,"latex");if(typeof t=="string"&&t!=="math-json")return this.atomToString(this.root,t);let n,i;if(jc(t)&&jc(e)?(n=[this.normalizeRange([t,e])],i=r):b3(t)?(n=[this.normalizeRange(t)],i=e):Sx(t)?(n=t.ranges,i=e):(n=[this.normalizeRange([0,-1])],i=t),i!=null||(i="latex"),i==="math-json"){if(!globalThis.MathfieldElement.computeEngine)return window[Symbol.for("io.cortexjs.compute-engine")]||console.error(`The CortexJS Compute Engine library is not available.
Load the library, for example with:
import "https://unpkg.com/@cortex-js/compute-engine?module"`),'["Error", "compute-engine-not-available"]';let s=this.getValue({ranges:n},"latex-unstyled");try{let a=globalThis.MathfieldElement.computeEngine.parse(s);return JSON.stringify(a.json)}catch(a){return JSON.stringify(["Error",`'${a.toString()}'`])}}if(i.startsWith("latex")){let s={expandMacro:i==="latex-expanded",skipStyles:i==="latex-unstyled",skipPlaceholders:i==="latex-without-placeholders",defaultMode:this.mathfield.options.defaultMode};return ot(n.map(a=>se.serialize(this.getAtoms(a),s)))}return n.map(s=>this.getAtoms(s).map(a=>this.atomToString(a,i)).join("")).join("")}extendSelectionTo(t,e){return!this.mathfield.contentEditable&&this.mathfield.userSelect==="none"?!1:this.deferNotifications({selection:!0},()=>{let r=this.normalizeRange([t,e]),[n,i]=r,{parent:s}=this.at(i);if(s&&(s.type==="genfrac"||s.type==="subsup"))for(;s!==this.root&&dC(this,s,[n,i]);)i=this.offsetOf(s),s=s.parent;for(s=this.at(n).parent;s!==this.root&&dC(this,s,[n,i]);)n=this.offsetOf(s.leftSibling),s=s.parent;if(s=this.at(i).parent,(s==null?void 0:s.type)==="genfrac")for(;s!==this.root&&dC(this,s,[n,i]);)i=this.offsetOf(s),s=s.parent;this._position=this.normalizeOffset(e),this._selection={ranges:[[n,i]],direction:"none"}})}announce(t,e,r=[]){var n,i;((i=(n=this.mathfield.host)==null?void 0:n.dispatchEvent(new CustomEvent("announce",{detail:{command:t,previousPosition:e,atoms:r},cancelable:!0,bubbles:!0,composed:!0})))==null||i)&&NIe(this.mathfield,t,e,r)}deferNotifications(t,e){let r=this._selection,n=this._anchor,i=this._position,s=this.silenceNotifications;this.silenceNotifications=!0;let a=this.root.changeCounter;e(),this.silenceNotifications=s;let o=n!==this._anchor||i!==this._position||eLe(this._selection,r)==="different";t.selection&&o&&this.selectionDidChange();let l=this.root.changeCounter!==a;return t.content&&l&&this.contentDidChange({inputType:t.type}),l||o}normalizeOffset(t){return t>0?t=Math.min(t,this.lastOffset):t<0&&(t=this.lastOffset+t+1),t}normalizeRange(t){let[e,r]=t;return e=this.normalizeOffset(e),r=this.normalizeOffset(r),e<r?[e,r]:[r,e]}normalizeSelection(t,e){var r;let n;if(jc(t)){let i=this.normalizeOffset(t);if(jc(e)){let s=this.normalizeOffset(e);n=i<=s?{ranges:[[i,s]],direction:"none"}:{ranges:[[s,i]],direction:"backward"}}else n={ranges:[[i,i]],direction:"none"}}else if(b3(t)){let i=this.normalizeOffset(t[0]),s=this.normalizeOffset(t[1]);n=i<=s?{ranges:[[i,s]],direction:"none"}:{ranges:[[s,i]],direction:"backward"}}else Sx(t)&&(n={ranges:t.ranges.map(i=>this.normalizeRange(i)),direction:(r=t.direction)!=null?r:"none"});return n}get parentEnvironment(){let t=this.at(this.position).parent;if(t){for(;t.parent&&t.type!=="array";)t=t.parent;if(t.type==="array")return t}}get parentCell(){return this.getParentCell(this.position)}getParentCell(t){var e;let r=this.at(t);if(r){for(;r&&((e=r.parent)==null?void 0:e.type)!=="array";)r=r.parent;if(!(!(r!=null&&r.parent)||r.parent.type!=="array"))return r.parentBranch}}contentWillChange(t={}){if(this.silenceNotifications||!this.mathfield)return!0;let e=this.silenceNotifications;this.silenceNotifications=!0;let r=this.mathfield.onContentWillChange(t);return this.silenceNotifications=e,r}contentDidChange(t){if(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Ic(this.mathfield)),this.silenceNotifications||!this.mathfield.host||!this.mathfield)return;let e=this.silenceNotifications;this.silenceNotifications=!0,setTimeout(()=>{var r;!this.mathfield||!Hc(this.mathfield)||!this.mathfield.host||this.mathfield.host.dispatchEvent(new InputEvent("input",W(U({},t),{data:t.data?t.data:(r=t.inputType)!=null?r:"",bubbles:!0,composed:!0})))},0),this.silenceNotifications=e}selectionDidChange(){if(!this.mathfield||(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Ic(this.mathfield)),this.silenceNotifications))return;let t=this.silenceNotifications;this.silenceNotifications=!0,this.mathfield.onSelectionDidChange(),this.silenceNotifications=t}};function iz(t,e,r,n){let i=t.offsetOf(e);if(i<r||i>n)return!1;if(!e.hasChildren)return!0;let s=t.offsetOf(e.firstChild);if(s>=r&&s<=n){let a=t.offsetOf(e.lastChild);if(a>=r&&a<=n)return!0}return!1}function dC(t,e,r){if(!(e!=null&&e.hasChildren))return!1;let[n,i]=r,s=t.offsetOf(e.firstChild),a=t.offsetOf(e.lastChild);return s>=n&&s<=i&&a>=s&&a<=i}function Xm(t,e,r,n){var i,s,a,o,l,c;let u=r.parent;if(Hl(n)&&u&&u instanceof dt&&u.isMultiline&&u.rows.length>1){let[d,A]=n;if(u.rows[d].length===1){let f=u.getCell(d,A);if(u.removeRow(d),e==="backward"){let p=u.getCell(d-1,0);t.position=t.offsetOf(p[p.length-1]),u.setCell(d-1,0,[...p,...f])}else{let p=u.getCell(d,0);t.position=t.offsetOf(p[0]),u.setCell(d,0,[...f,...p])}return!0}}if(u&&r instanceof Ar){let d=!n&&e==="forward"||n==="body"&&e==="backward",A=d?t.offsetOf(r.firstChild):t.offsetOf(r.lastChild);return d?r.rightDelim!=="?"&&r.rightDelim!=="."?(r.leftDelim=".",r.isDirty=!0):(u.addChildrenAfter(r.removeBranch("body"),r),u.removeChild(r),A--):r.leftDelim!=="?"&&r.leftDelim!=="."?(r.rightDelim=".",r.isDirty=!0):(u.addChildrenAfter(r.removeBranch("body"),r),u.removeChild(r),A--),t.position=A,!0}if(u&&r.type==="surd"){if(e==="forward"&&!n||e==="backward"&&n==="body"){let d=r.leftSibling;r.hasChildren&&u.addChildrenAfter(r.removeBranch("body"),r),u.removeChild(r),t.position=t.offsetOf(d)}else e==="forward"&&n==="body"?t.position=t.offsetOf(r):!n&&e==="backward"?r.hasChildren?t.position=t.offsetOf(r.lastChild):(t.position=Math.max(0,t.offsetOf(r)-1),u.removeChild(r)):n==="above"&&(r.hasEmptyBranch("above")&&r.removeBranch("above"),e==="backward"?t.position=t.offsetOf(r.leftSibling):t.position=t.offsetOf(r.body[0]));return!0}if(u&&(r.type==="box"||r.type==="enclose")){let d=n&&e==="backward"||!n&&e==="forward"?r.leftSibling:r.lastChild;return u.addChildrenAfter(r.removeBranch("body"),r),u.removeChild(r),t.position=t.offsetOf(d),!0}if(r.type==="genfrac"||r.type==="overunder"){if(!n)return r.type==="overunder"&&r.hasEmptyBranch("body")||r.type==="genfrac"&&r.hasEmptyBranch("below")&&r.hasEmptyBranch("above")?!1:(t.position=t.offsetOf(e==="forward"?r.firstChild:r.lastChild),!0);let d=Lu.fractionNavigationOrder==="numerator-denominator"?"above":"below",A=d==="above"?"below":"above";if(u&&(e==="forward"&&n===d||e==="backward"&&n===A)){let f=r.removeBranch(d),p=r.removeBranch(A);return u.addChildrenAfter([...f,...p],r),u.removeChild(r),t.position=t.offsetOf(f.length>0?f[f.length-1]:p[0]),!0}return e==="backward"?t.position=t.offsetOf(r.leftSibling):t.position=t.offsetOf(r),!0}if(r.type==="extensible-symbol"||r.type==="subsup"){if(!n&&e==="forward")return!1;if(!n){if(r.subscript||r.superscript){let d=e==="forward"?(a=(i=r.superscript)==null?void 0:i[0])!=null?a:(s=r.subscript)==null?void 0:s[0]:(c=(o=r.subscript)==null?void 0:o[0].lastSibling)!=null?c:(l=r.superscript)==null?void 0:l[0].lastSibling;return d&&(t.position=t.offsetOf(d)),!0}return!1}if(!r.hasChildren&&r.type==="subsup"){let d=e==="forward"?t.offsetOf(r):Math.max(0,t.offsetOf(r)-1);return r.parent.removeChild(r),t.position=d,!0}if(n==="superscript")if(e==="backward"){let d=t.offsetOf(r.firstChild)-1;t.position=d}else r.subscript?t.position=t.offsetOf(r.subscript[0]):t.position=t.offsetOf(r);else n==="subscript"&&(e==="backward"&&r.superscript?t.position=t.offsetOf(r.superscript[0].lastSibling):e==="backward"?t.position=t.offsetOf(r.firstChild)-1:t.position=t.offsetOf(r));if(n&&r.hasEmptyBranch(n)&&(r.removeBranch(n),r.type==="subsup"&&!r.subscript&&!r.superscript)){let d=e==="forward"?t.offsetOf(r):Math.max(0,t.offsetOf(r)-1);r.parent.removeChild(r),t.position=d}return!0}if((u==null?void 0:u.type)==="genfrac"&&!n&&r.type!=="first"){let d=t.offsetOf(r.leftSibling);return u.removeChild(r),u.hasEmptyBranch("above")&&u.hasEmptyBranch("below")?(d=t.offsetOf(u.leftSibling),u.parent.removeChild(u),t.announce("delete",void 0,[u]),t.position=d,!0):(t.announce("delete",void 0,[r]),t.position=d,!0)}if(e==="backward"&&((u==null?void 0:u.command)==="\\ln"||(u==null?void 0:u.command)==="\\log")&&r.parentBranch!=="body"){let d=t.offsetOf(u.leftSibling);return u.parent.removeChild(u),t.announce("delete",void 0,[u]),t.position=d,!0}return!1}function PIe(t){return!t.mathfield.isSelectionEditable||!t.contentWillChange({inputType:"deleteContentBackward"})?!1:t.selectionIsCollapsed?t.deferNotifications({content:!0,selection:!0,type:"deleteContentBackward"},()=>{let e=t.at(t.position);if(!(e&&Xm(t,"backward",e))){if(e!=null&&e.isFirstSibling){if(Xm(t,"backward",e.parent,e.parentBranch))return;e=null}if(!e){t.announce("plonk");return}t.position=t.offsetOf(e.leftSibling),e.parent.removeChild(e),t.announce("delete",void 0,[e])}}):va(t,jn(t.selection),"deleteContentBackward")}function UIe(t){return!t.mathfield.isSelectionEditable||!t.contentWillChange({inputType:"deleteContentForward"})?!1:t.selectionIsCollapsed?t.deferNotifications({content:!0,selection:!0,type:"deleteContentForward"},()=>{var e,r;let n=t.at(t.position).rightSibling;if(n&&Xm(t,"forward",n))return;if(n){if(t.at(t.position).isLastSibling&&Xm(t,"forward",n.parent,n.parentBranch))return}else{if(n=t.at(t.position),n.isLastSibling&&Xm(t,"forward",n.parent,n.parentBranch))return;n=void 0}if(t.position===t.lastOffset||!n){t.announce("plonk");return}n.parent.removeChild(n);let i=(e=t.at(t.position))==null?void 0:e.rightSibling;for(;(i==null?void 0:i.type)==="subsup";)i.parent.removeChild(i),i=(r=t.at(t.position))==null?void 0:r.rightSibling;t.announce("delete",void 0,[n])}):va(t,jn(t.selection),"deleteContentForward")}function va(t,e,r){let n=t.getAtoms(e);if(n.length>0&&n[0].parent){let i=n[0];for(;i&&!(i instanceof dt);)i=i.parent;let s=n[n.length-1];for(;s&&!(s instanceof dt);)s=s.parent;if(i&&i instanceof dt){let u=i;if(u&&s===u&&u.isMultiline){let[d,A]=[Math.min(t.position,t.anchor),Math.max(t.position,t.anchor)],[f,p]=t.at(d).parentBranch,[m,y]=t.at(A).parentBranch;if(m-f+1>2){t.extractAtoms([d,A]);for(let v=f+1;v<m;v++)u.removeRow(v);return t.position=d,!0}}}let a=n[0].parent.firstChild;a.type==="first"&&(a=a.rightSibling);let o=n[n.length-1].parent.lastChild,l=n[0];l.type==="first"&&(l=l.rightSibling);let c=n[n.length-1];if(l===a&&c===o){let u=n[0].parent;u.parent&&u.type!=="prompt"&&(e=[t.offsetOf(u.leftSibling),t.offsetOf(u)])}if(n.length===1&&n[0].type==="placeholder"&&n[0].parent.type==="genfrac"){let u=n[0].parent,d=n[0].parentBranch==="below"?"above":"below",A=t.offsetOf(u.leftSibling);return t.deferNotifications({content:!0,selection:!0,type:r},()=>{var f,p;let m=u.removeBranch(d);if(m.length===1&&m[0].type==="placeholder")(p=u.parent)==null||p.removeChild(u),t.position=Math.max(0,A);else{let y=u.parent.addChildrenAfter(m,u);(f=u.parent)==null||f.removeChild(u),t.position=t.offsetOf(y)}})}}return t.deferNotifications({content:!0,selection:!0,type:r},()=>t.deleteAtoms(e))}bi({deleteAll:t=>t.contentWillChange({inputType:"deleteContent"})&&va(t,[0,-1],"deleteContent"),deleteForward:t=>UIe(t),deleteBackward:t=>PIe(t),deleteNextWord:t=>t.contentWillChange({inputType:"deleteWordForward"})&&va(t,[t.anchor,t_(t,t.position,"forward")],"deleteWordForward"),deletePreviousWord:t=>t.contentWillChange({inputType:"deleteWordBackward"})&&va(t,[t.anchor,t_(t,t.position,"backward")],"deleteWordBackward"),deleteToGroupStart:t=>t.contentWillChange({inputType:"deleteSoftLineBackward"})&&va(t,[t.anchor,t.offsetOf(t.at(t.position).firstSibling)],"deleteSoftLineBackward"),deleteToGroupEnd:t=>t.contentWillChange({inputType:"deleteSoftLineForward"})&&va(t,[t.anchor,t.offsetOf(t.at(t.position).lastSibling)],"deleteSoftLineForward"),deleteToMathFieldStart:t=>t.contentWillChange({inputType:"deleteHardLineBackward"})&&va(t,[t.anchor,0],"deleteHardLineBackward"),deleteToMathFieldEnd:t=>t.contentWillChange({inputType:"deleteHardLineForward"})&&va(t,[t.anchor,-1],"deleteHardLineForward")},{target:"model",audioFeedback:"delete",canUndo:!0,changeContent:!0,changeSelection:!0});var QIe=`<svg xmlns="http://www.w3.org/2000/svg" style="width: 21px;"  viewBox="0 0 576 512" role="img" aria-label="${Ze("tooltip.toggle virtual keyboard")}"><path d="M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/></svg>`,RIe=`<svg xmlns="http://www.w3.org/2000/svg" style="height: 18px;" viewBox="0 0 448 512" role="img" aria-label="${Ze("tooltip.menu")}"><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg>`,HIe=class{constructor(t,e){this.focusBlurInProgress=!1;var r,n,i;this.options=U(W(U({},Fx()),{macros:QF(),registers:Tte()}),F3(e)),this.eventController=new AbortController;let s=this.eventController.signal;e.eventSink&&(this.host=e.eventSink),this.element=t,t.mathfield=this,this.blurred=!0,this.keystrokeCaptionVisible=!1,this.suggestionIndex=0,this.inlineShortcutBuffer=[],this.inlineShortcutBufferFlushTimer=0,this.defaultStyle={},this.styleBias="left",this.options.defaultMode==="inline-math"?this.element.classList.add("ML__is-inline"):this.element.classList.remove("ML__is-inline"),this.dirty=!1;let a=(n=(r=e.value)!=null?r:this.element.textContent)!=null?n:"";a=a.trim();let o=jH(this.options),l=Ys(a,{context:this.context}),c;l.length===1&&l[0].isRoot?c=l[0]:c=new se({type:"root",mode:o,body:l}),this.model=new OIe(this,o,c),this.undoManager=new bje(this.model);let u=[];if(u.push("<span contenteditable=true role=textbox aria-autocomplete=none aria-multiline=false part=keyboard-sink class=ML__keyboard-sink autocapitalize=off autocomplete=off autocorrect=off spellcheck=false inputmode=none tabindex=0></span>"),u.push('<span part=container class=ML__container aria-hidden=true  style="visibility:hidden">'),u.push("<span part=content class=ML__content>"),u.push(Qre(this)),u.push("</span>"),window.mathVirtualKeyboard&&(u.push(`<div part=virtual-keyboard-toggle class=ML__virtual-keyboard-toggle role=button ${this.hasEditableContent?"":'style="display:none;"'} data-l10n-tooltip="tooltip.toggle virtual keyboard">`),u.push(QIe),u.push("</div>")),u.push('<div part=menu-toggle class=ML__menu-toggle role=button data-l10n-tooltip="tooltip.menu">'),u.push(RIe),u.push("</div>"),u.push("</span>"),u.push("<span class=ML__sr-only>"),u.push("<span role=status aria-live=assertive aria-atomic=true></span>"),u.push("</span>"),this.element.innerHTML=globalThis.MathfieldElement.createHTML(u.join("")),!this.element.children){console.error("%cMathLive 0.104.0: Something went wrong and the mathfield could not be created.%c\nIf you are using Vue, this may be because you are using the runtime-only build of Vue. Make sure to include `runtimeCompiler: true` in your Vue configuration. There may a warning from Vue in the log above.","color:red;font-family:system-ui;font-size:1.2rem;font-weight:bold","color:inherit;font-family:system-ui;font-size:inherit;font-weight:inherit");return}this._l10Subscription=at.subscribe(()=>at.update(this.element)),at.update(this.element),this.field=this.element.querySelector("[part=content]"),this.field.addEventListener("click",A=>A.stopImmediatePropagation(),{capture:!1,signal:s}),this.field.addEventListener("wheel",this,{passive:!1,signal:s}),"PointerEvent"in window?this.field.addEventListener("pointerdown",this,{signal:s}):this.field.addEventListener("mousedown",this,{signal:s}),(i=this.element.querySelector("[part=virtual-keyboard-toggle]"))==null||i.addEventListener("click",()=>{window.mathVirtualKeyboard.visible?window.mathVirtualKeyboard.hide():(window.mathVirtualKeyboard.show({animate:!0}),window.mathVirtualKeyboard.update(Ic(this)))},{signal:s}),this.field.addEventListener("contextmenu",this,{signal:s});let d=this.element.querySelector("[part=menu-toggle]");d==null||d.addEventListener("pointerdown",A=>{if(A.currentTarget!==d)return;let f=this.menu;if(f.state!=="closed")return;this.element.classList.add("tracking");let p=d.getBoundingClientRect();f.modifiers=Kd(A),f.show({target:d,location:{x:p.left,y:p.bottom},onDismiss:()=>this.element.classList.remove("tracking")}),A.preventDefault(),A.stopPropagation()},{signal:s}),(this.model.atoms.length<=1||this.disabled||this.readOnly&&!this.hasEditableContent||this.userSelect==="none")&&(d.style.display="none"),this.ariaLiveText=this.element.querySelector("[role=status]"),this.keyboardDelegate=_Ne(this.element.querySelector(".ML__keyboard-sink"),this.element,this),window.addEventListener("resize",this,{signal:s}),document.addEventListener("scroll",this,{signal:s}),this.resizeObserver=new ResizeObserver(A=>{if(this.resizeObserverStarted){this.resizeObserverStarted=!1;return}tr(this)}),this.resizeObserverStarted=!0,this.resizeObserver.observe(this.field),window.mathVirtualKeyboard.addEventListener("virtual-keyboard-toggle",this,{signal:s}),ls!=="ready"&&document.fonts.ready.then(()=>E3(this)),t.querySelector("[part=container]").style.removeProperty("visibility"),this.undoManager.startRecording(),this.undoManager.snapshot("set-value"),tr(this)}connectToVirtualKeyboard(){this.connectedToVirtualKeyboard||(this.connectedToVirtualKeyboard=!0,window.addEventListener("message",this,{signal:this.eventController.signal}),window.mathVirtualKeyboard.connect(),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Ic(this)),Nv(this))}disconnectFromVirtualKeyboard(){this.connectedToVirtualKeyboard&&(window.removeEventListener("message",this),window.mathVirtualKeyboard.disconnect(),this.connectedToVirtualKeyboard=!1,l_())}showMenu(t){var e,r;let n=(r=(e=t==null?void 0:t.location)!=null?e:_x(this.field))!=null?r:void 0,i=t==null?void 0:t.modifiers,s=this.element.querySelector("[part=container]");return this._menu.show({target:s,location:n,modifiers:i})}get colorMap(){return t=>{var e,r,n;return(n=(r=(e=this.options).colorMap)==null?void 0:r.call(e,t))!=null?n:b5(t)}}get backgroundColorMap(){return t=>{var e,r,n,i,s,a;return(a=(s=(r=(e=this.options).backgroundColorMap)==null?void 0:r.call(e,t))!=null?s:(i=(n=this.options).colorMap)==null?void 0:i.call(n,t))!=null?a:OF(t)}}get smartFence(){var t;return(t=this.options.smartFence)!=null?t:!1}get readOnly(){var t;return(t=this.options.readOnly)!=null?t:!1}get disabled(){var t,e;return(e=(t=this.host)==null?void 0:t.disabled)!=null?e:!1}get contentEditable(){return this.host?this.host.getAttribute("contenteditable")!=="false":!1}get userSelect(){if(!this.host)return"";let t=getComputedStyle(this.host);return t.getPropertyValue("user-select")||t.getPropertyValue("-webkit-user-select")}get hasEditableContent(){return this.disabled||!this.contentEditable?!1:!this.readOnly||this.hasEditablePrompts}get hasEditablePrompts(){return this.readOnly&&!this.disabled&&this.contentEditable&&this.model.findAtom(t=>t.type==="prompt"&&!t.locked)!==void 0}get isSelectionEditable(){if(this.disabled||!this.contentEditable)return!1;if(!this.readOnly)return!0;let t=this.model.at(this.model.anchor),e=this.model.at(this.model.position),r=se.commonAncestor(t,e);return!!((r==null?void 0:r.type)==="prompt"||r!=null&&r.parentPrompt)}get letterShapeStyle(){var t;return(t=this.options.letterShapeStyle)!=null?t:"tex"}get minFontScale(){return this.options.minFontScale}get maxMatrixCols(){return this.options.maxMatrixCols}queryStyle(t){let e=Y9(this,t);"verbatimColor"in e&&delete e.verbatimColor,"verbatimBackgroundColor"in e&&delete e.verbatimBackgroundColor;let r=Object.keys(e).length;if(r===0)return"all";if(r>1){for(let l of Object.keys(e)){let c=this.queryStyle({[l]:e[l]});if(c==="none")return"none";if(c==="some")return"some"}return"all"}let n=Object.keys(e)[0],i=e[n];if(this.model.selectionIsCollapsed)return ZA(this)[n]===i?"all":"none";let s=this.model.getAtoms(this.model.selection,{includeChildren:!0}),a=s.length;if(a===0)return"none";let o=0;for(let l of s){if(l.type==="first"){a-=1;continue}l.style[n]===i&&(o+=1)}return o===0?"none":o===a?"all":"some"}get keybindings(){var t,e;if(this._keybindings)return this._keybindings;let[r,n]=TNe(this.options.keybindings,(t=i1())!=null?t:CNe());return((e=i1())==null?void 0:e.score)>0&&(this._keybindings=r,n.length>0&&console.error("MathLive 0.104.0: Invalid keybindings for current keyboard layout",n)),r}get menu(){return this._menu!=null||(this._menu=new XH(FIe(this),{host:this.host})),this._menu}set menuItems(t){this._menu?this._menu.menuItems=t:this._menu=new XH(t,{host:this.host})}setOptions(t){var e;this.options=U(U({},this.options),F3(t)),this._keybindings=void 0,this.options.defaultMode==="inline-math"?this.element.classList.add("ML__is-inline"):this.element.classList.remove("ML__is-inline");let r=this.options.defaultMode;r==="inline-math"&&(r="math"),((e=this.model.root.firstChild)==null?void 0:e.mode)!==r&&(this.model.root.firstChild.mode=r),this.options.readOnly&&this.hasFocus()&&window.mathVirtualKeyboard.visible&&this.executeCommand("hideVirtualKeyboard");let n=se.serialize([this.model.root],{expandMacro:!1,defaultMode:this.options.defaultMode});("macros"in t||this.model.getValue()!==n)&&Rre(this),("value"in t||"registers"in t||"colorMap"in t||"backgroundColorMap"in t||"letterShapeStyle"in t||"minFontScale"in t||"maxMatrixCols"in t||"readOnly"in t||"placeholderContent"in t||"placeholderSymbol"in t)&&tr(this)}getOptions(t){return Nd(this.options,t)}getOption(t){return Nd(this.options,t)}async handleEvent(t){var e;if(Hc(this)){if(rT(t)){if(!VF(t.origin,(e=this.options.originValidator)!=null?e:"none"))throw new DOMException(`Message from unknown origin (${t.origin}) cannot be handled`,"SecurityError");let{action:r}=t.data;if(r==="execute-command"){let n=s1(t.data.command);if(!n||_A(n)==="virtual-keyboard")return;this.executeCommand(n)}else r==="update-state"||(r==="focus"?this.focus({preventScroll:!0}):r==="blur"&&this.blur());return}switch(t.type){case"focus":this.onFocus();break;case"blur":this.onBlur();break;case"mousedown":this.userSelect!=="none"&&RH(this,t);break;case"pointerdown":!t.defaultPrevented&&this.userSelect!=="none"&&(RH(this,t),t.shiftKey===!1&&await YH(t,this.element.querySelector("[part=container]"),this.menu)&&D3.stop());break;case"contextmenu":this.userSelect!=="none"&&t.shiftKey===!1&&await YH(t,this.element.querySelector("[part=container]"),this.menu)&&D3.stop();break;case"virtual-keyboard-toggle":this.hasFocus()&&Nv(this);break;case"resize":this.geometryChangeTimer&&cancelAnimationFrame(this.geometryChangeTimer),this.geometryChangeTimer=requestAnimationFrame(()=>Hc(this)&&this.onGeometryChange());break;case"scroll":this.geometryChangeTimer&&cancelAnimationFrame(this.geometryChangeTimer),this.geometryChangeTimer=requestAnimationFrame(()=>Hc(this)&&this.onGeometryChange());break;case"wheel":this.onWheel(t);break;case"message":break;default:console.warn("Unexpected event type",t.type)}}}dispose(){if(!Hc(this))return;at.unsubscribe(this._l10Subscription),this.keyboardDelegate.dispose(),this.keyboardDelegate=void 0,this.eventController.abort(),this.eventController=void 0,this.resizeObserver.disconnect(),window.mathVirtualKeyboard.removeEventListener("virtual-keyboard-toggle",this),this.disconnectFromVirtualKeyboard(),this.model.dispose();let t=this.element;delete t.mathfield,this.element=void 0,this.host=void 0,this.field=void 0,this.ariaLiveText=void 0,Dje(),ONe(),Jje()}flushInlineShortcutBuffer(t){if(t!=null||(t={defer:!1}),!t.defer){this.inlineShortcutBuffer=[],clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=0;return}this.options.inlineShortcutTimeout>0&&(clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=setTimeout(()=>this.flushInlineShortcutBuffer(),this.options.inlineShortcutTimeout))}executeCommand(t){return _A(t)==="virtual-keyboard"?(this.focus({preventScroll:!0}),window.mathVirtualKeyboard.executeCommand(t),requestAnimationFrame(()=>window.mathVirtualKeyboard.update(Ic(this))),!1):$Ne(this,t)}get errors(){return RLe(this.model.getValue(),{context:this.context})}getValue(t,e,r){return this.model.getValue(t,e,r)}setValue(t,e){var r;e=e??{mode:"math"},e.insertionMode===void 0&&(e.insertionMode="replaceAll"),(e.format===void 0||e.format==="auto")&&(e.format="latex"),(e.mode===void 0||e.mode==="auto")&&(e.mode=(r=rLe(this.model,this.model.position))!=null?r:"math");let n=this.undoManager.canUndo();Qt.insert(this.model,t,e)&&(tr(this),n||this.undoManager.reset(),this.undoManager.snapshot("set-value"))}get expression(){let t=globalThis.MathfieldElement.computeEngine;return t?t.box(t.parse(this.model.getValue("latex-unstyled"))):(console.error("MathLive 0.104.0:  no compute engine available. Make sure the Compute Engine library is loaded."),null)}scrollIntoView(){var t;if(!this.element)return;if(this.host){if(this.options.onScrollIntoView)this.options.onScrollIntoView(this);else if(this.host.scrollIntoView({block:"nearest",inline:"nearest"}),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.container===window.document.body){let n=window.mathVirtualKeyboard.boundingRect,i=this.host.getBoundingClientRect();i.bottom>n.top&&((t=window.document.scrollingElement)==null||t.scrollBy(0,i.bottom-n.top+8))}}this.dirty&&ih(this,{interactive:!0});let e=this.field.getBoundingClientRect(),r=null;if(this.model.selectionIsCollapsed)r=_x(this.field);else{let n=Qte(this);if(n.length>0){let i=-1/0,s=-1/0;for(let a of n)a.right>i&&(i=a.right),a.top<s&&(s=a.top);r={x:i+e.left-this.field.scrollLeft,y:s+e.top-this.field.scrollTop,height:0}}}if(this.host&&r){let n=this.host.getBoundingClientRect(),i=r.y,s=this.host.scrollTop;i<n.top?s=i-n.top+this.host.scrollTop:i>n.bottom&&(s=i-n.bottom+this.host.scrollTop+r.height),this.host.scroll({top:s,left:0})}if(r){let n=r.x-window.scrollX,i=this.field.scrollLeft;n<e.left?i=n-e.left+this.field.scrollLeft-20:n>e.right&&(i=n-e.right+this.field.scrollLeft+20),this.field.scroll({top:this.field.scrollTop,left:i})}}insert(t,e){if(typeof t!="string"||t.length===0&&((e==null?void 0:e.insertionMode)==="insertBefore"||(e==null?void 0:e.insertionMode)==="insertAfter")||t.length===0&&this.model.selectionIsCollapsed)return!1;if(this.flushInlineShortcutBuffer(),e=e??{mode:"math"},e.focus&&this.focus(),e.feedback&&(globalThis.MathfieldElement.keypressVibration&&gte()&&navigator.vibrate(Hre),globalThis.MathfieldElement.playSound("keypress")),t==="\\\\")qre(this.model);else if(t==="&")Wre(this.model);else if(this.model.selectionIsCollapsed){let r=U({},ZA(this));!/^[a-zA-Z0-9]$/.test(t)&&this.styleBias!=="none"&&(r.variant="normal",r.variantStyle=void 0),Qt.insert(this.model,t,U({style:r},e))}else Qt.insert(this.model,t,e);return this.snapshot(`insert-${this.model.at(this.model.position).type}`),tr(this),e.scrollIntoView&&this.scrollIntoView(),!0}switchMode(t,e="",r=""){if(this.model.mode===t||!this.hasEditableContent||!this.contentEditable||this.disabled)return;let{model:n}=this,i=n.mode;if(n.mode=t,this.host&&!this.host.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0}))){n.mode=i;return}n.mode=i,n.deferNotifications({content:!!r||!!e,selection:!0,type:"insertText"},()=>{let s=n.at(n.position),a=(u,d)=>{if(!u)return;let A=n.mode==="math"?Ys(V9(u,{format:"ascii-math"})[1],{context:this.context}):[...u].map(f=>new Ff(f,f,{}));if(d.select){let f=s.parent.addChildrenAfter(A,s);n.setSelection(n.offsetOf(A[0].leftSibling),n.offsetOf(f))}else n.position=n.offsetOf(s.parent.addChildrenAfter(A,s));c=!0},o=(u,d)=>{let A=new Vm(u);s.parent.addChildAfter(A,s),d.select?n.setSelection(n.offsetOf(A.firstChild),n.offsetOf(A.lastChild)):n.position=n.offsetOf(A.lastChild),c=!0},l=()=>{let u=t==="latex"?"latex":t==="math"?"plain-text":"ascii-math",d=jn(n.selection),A=this.model.getValue(d,u),f=this.model.extractAtoms(d);return f.length===1&&f[0].type==="placeholder"&&(A=r),s=n.at(d[0]),A},c=!1;if(this.flushInlineShortcutBuffer(),this.stopCoalescingUndo(),ef(this,"accept"),n.selectionIsCollapsed)a(e,{select:!1}),n.mode=t,t==="latex"?o(r,{select:!1}):a(r,{select:!1});else{let u=l();n.mode=t,t==="latex"?o(u,{select:!0}):a(u,{select:!0})}return tr(this),this.undoManager.snapshot(t==="latex"?"insert-latex":"insert"),c}),n.mode=t,window.mathVirtualKeyboard.update(Ic(this))}hasFocus(){return!this.blurred}focus(t){var e;this.hasFocus()||(this.keyboardDelegate.focus(),this.connectToVirtualKeyboard(),this.onFocus(),this.model.announce("line")),(e=t==null?void 0:t.preventScroll)!=null&&e||this.scrollIntoView()}blur(){this.disconnectFromVirtualKeyboard(),this.hasFocus()&&this.keyboardDelegate.blur()}select(){this.model.selection={ranges:[[0,this.model.lastOffset]]},this.focus()}applyStyle(t,e={}){var r;let n,i="set",s=!1;b3(e)?n=e:(e.operation==="toggle"&&(i="toggle"),n=e.range,s=(r=e.silenceNotifications)!=null?r:!1),n&&(n=this.model.normalizeRange(n)),n&&n[0]===n[1]&&(n=void 0);let a=Y9(this,t);if(n===void 0&&this.model.selectionIsCollapsed){if(i==="set"){let l=U({},this.defaultStyle);"color"in a&&delete l.verbatimColor,"backgroundColor"in a&&delete l.verbatimBackgroundColor,this.defaultStyle=U(U({},l),a),this.styleBias="none";return}let o=U({},this.defaultStyle);for(let l of Object.keys(a))o[l]===a[l]?(l==="color"&&delete o.verbatimColor,l==="backgroundColor"&&delete o.verbatimBackgroundColor,delete o[l]):o[l]=a[l];this.defaultStyle=o,this.styleBias="none";return}this.model.deferNotifications({content:!s,type:"insertText"},()=>{if(n===void 0)for(let o of this.model.selection.ranges)q9(this.model,o,a,{operation:i});else q9(this.model,n,a,{operation:i})}),tr(this)}toggleContextMenu(){var t;let e=this.menu;if(!e.visible)return!1;if(e.state==="open")return e.hide(),!0;let r=(t=Hte(this,this.model.position))==null?void 0:t.bounds;if(!r)return!1;let n={x:r.right,y:r.bottom};return e.show({target:this.element.querySelector("[part=container]"),location:n,onDismiss:()=>{var i;return(i=this.element)==null?void 0:i.focus()}}),!0}getPrompt(t){return this.model.findAtom(r=>r.type==="prompt"&&r.placeholderId===t)}getPromptValue(t,e){let r=this.getPrompt(t);if(!r)return"";let n=this.model.offsetOf(r.firstChild),i=this.model.offsetOf(r.lastChild);return this.model.getValue(n,i,e)}getPrompts(t){return this.model.atoms.filter(e=>e.type!=="prompt"?!1:t?!(t.id&&e.placeholderId!==t.id||t.locked&&e.locked!==t.locked||t.correctness==="undefined"&&e.correctness||t.correctness&&e.correctness!==t.correctness):!0).map(e=>e.placeholderId)}setPromptValue(t,e,r){if(e!==void 0){let n=this.getPrompt(t);if(!n){console.error(`MathLive 0.104.0: unknown prompt ${t}`);return}let i=this.model.getBranchRange(this.model.offsetOf(n),"body");this.model.setSelection(i),this.insert(e,W(U({},r),{insertionMode:"replaceSelection"}))}r!=null&&r.silenceNotifications&&(this.valueOnFocus=this.getValue()),tr(this)}setPromptState(t,e,r){let n=this.getPrompt(t);if(!n){console.error(`MathLive 0.104.0: unknown prompt ${t}`);return}e==="undefined"?n.correctness=void 0:typeof e=="string"&&(n.correctness=e),typeof r=="boolean"&&(n.locked=r,n.captureSelection=r),tr(this)}getPromptState(t){let e=this.getPrompt(t);return e?[e.correctness,e.locked]:(console.error(`MathLive 0.104.0: unknown prompt ${t}`),[void 0,!0])}getPromptRange(t){let e=this.getPrompt(t);return e?this.model.getBranchRange(this.model.offsetOf(e),"body"):(console.error(`MathLive 0.104.0: unknown prompt ${t}`),[0,0])}canUndo(){return this.undoManager.canUndo()}canRedo(){return this.undoManager.canRedo()}popUndoStack(){this.undoManager.pop()}snapshot(t){var e;this.undoManager.snapshot(t)&&(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Ic(this)),(e=this.host)==null||e.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"snapshot"}})))}stopCoalescingUndo(){this.undoManager.stopCoalescing(this.model.selection)}stopRecording(){this.undoManager.stopRecording()}startRecording(){this.undoManager.startRecording()}undo(){var t;this.undoManager.undo()&&((t=this.host)==null||t.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}redo(){var t;this.undoManager.redo()&&((t=this.host)==null||t.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"redo"}})))}resetUndo(){var t;(t=this.undoManager)==null||t.reset()}onSelectionDidChange(){var t,e;let r=this.model;if(this.keyboardDelegate.setValue(r.getValue(r.selection,"latex-expanded")),r.selectionIsCollapsed){let n=YF(r),i=r.position,s=r.at(i),a=(t=s.mode)!=null?t:jH(this.options);if(n&&(i<r.offsetOf(n.firstChild)-1||i>r.offsetOf(n.lastChild)+1))ef(this,"accept",{mode:a}),r.position=r.offsetOf(s);else{let o=r.at(i+1);(o==null?void 0:o.type)==="first"&&o.mode==="latex"?r.position=i+1:n&&(o==null?void 0:o.mode)!=="latex"?r.position=i-1:this.switchMode(a)}}(e=this.host)==null||e.dispatchEvent(new Event("selection-change",{bubbles:!0,composed:!0})),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Ic(this)),Nv(this)}onContentWillChange(t){var e,r,n;return(n=(r=this.host)==null?void 0:r.dispatchEvent(new InputEvent("beforeinput",W(U({},t),{data:t.data?t.data:(e=t.inputType)!=null?e:"",cancelable:!0,bubbles:!0,composed:!0}))))!=null?n:!0}onFocus(){this.focusBlurInProgress||!this.blurred||(this.focusBlurInProgress=!0,this.blurred=!1,this.keyboardDelegate.focus(),this.stopCoalescingUndo(),ih(this,{interactive:!0}),this.valueOnFocus=this.model.getValue(),this.hasEditablePrompts&&!this.model.at(this.model.anchor).parentPrompt&&this.executeCommand("moveToNextPlaceholder"),this.focusBlurInProgress=!1)}onBlur(){var t,e,r;if(!(this.focusBlurInProgress||this.blurred)&&(this.focusBlurInProgress=!0,this.stopCoalescingUndo(),this.blurred=!0,this.ariaLiveText.textContent="",tf(this),this.model.getValue()!==this.valueOnFocus&&((t=this.host)==null||t.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),this.disconnectFromVirtualKeyboard(),(e=this.host)==null||e.dispatchEvent(new Event("blur",{bubbles:!1,composed:!0})),(r=this.host)==null||r.dispatchEvent(new UIEvent("focusout",{bubbles:!0,composed:!0})),tr(this),this.focusBlurInProgress=!1,l_(),sT.restoreFocusWhenDocumentFocused)){let n=new AbortController,i=n.signal;window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{Hc(this)&&this.focus({preventScroll:!0})},{once:!0,signal:i})},{once:!0,signal:i}),document.addEventListener("focusin",()=>n.abort(),{once:!0}),document.addEventListener("click",()=>n.abort(),{once:!0})}}onInput(t){n_(this,t)}onKeystroke(t){return rne(this,t)}onCompositionStart(t){va(this.model,jn(this.model.selection),"insertText");let e=_x(this.field);e&&requestAnimationFrame(()=>{ih(this),this.keyboardDelegate.moveTo(e.x,e.y-e.height)})}onCompositionUpdate(t){hje(this.model,t),tr(this)}onCompositionEnd(t){Aje(this.model),n_(this,t,{simulateKeystroke:!0})}onCut(t){if(!this.isSelectionEditable){this.model.announce("plonk");return}this.model.contentWillChange({inputType:"deleteByCut"})&&(this.stopCoalescingUndo(),t.clipboardData?Qt.onCopy(this,t):Qt.copyToClipboard(this,"latex"),va(this.model,jn(this.model.selection),"deleteByCut"),this.snapshot("cut"),tr(this))}onCopy(t){t.clipboardData?Qt.onCopy(this,t):Qt.copyToClipboard(this,"latex")}onPaste(t){let e=this.isSelectionEditable;return e&&(e=Qt.onPaste(this.model.at(this.model.position).mode,this,t.clipboardData)),e||this.model.announce("plonk"),t.preventDefault(),t.stopPropagation(),e}onGeometryChange(){var t;(t=this._menu)==null||t.hide(),L5(this),Nv(this)}onWheel(t){let e=5*t.deltaX;if(!Number.isFinite(e)||e===0)return;let r=this.field;e<0&&r.scrollLeft===0||e>0&&r.offsetWidth+r.scrollLeft>=r.scrollWidth||(r.scrollBy({top:0,left:e}),t.preventDefault(),t.stopPropagation())}getHTMLElement(t){let e=t;for(;!e.id&&e.hasChildren;)e=t.children[0];return this.field.querySelector(`[data-atom-id="${e.id}"]`)}get context(){var t,e;return{registers:(t=this.options.registers)!=null?t:{},smartFence:this.smartFence,letterShapeStyle:this.letterShapeStyle,minFontScale:this.minFontScale,maxMatrixCols:this.maxMatrixCols,placeholderSymbol:(e=this.options.placeholderSymbol)!=null?e:"",colorMap:r=>this.colorMap(r),backgroundColorMap:r=>this.backgroundColorMap(r),getMacro:r=>Cte(r,this.options.macros),atomIdsSettings:{seed:"random",groupNumbers:!1}}}};bi({speak:(t,e,r)=>zIe(t,e,r)},{target:"mathfield"});function zIe(t,e,r){var n;r=r??{withHighlighting:!1};let{model:i}=t;function s(u){let d=null;switch(u){case"all":d=i.root;break;case"selection":d=i.getAtoms(i.selection);break;case"left":{d=i.getAtoms(i.offsetOf(i.at(i.position).leftSibling),i.position);break}case"right":{d=i.getAtoms(i.position,i.offsetOf(i.at(i.position).rightSibling));break}case"group":d=i.getAtoms(i.getSiblingsRange(i.position));break;case"parent":{let{parent:A}=i.at(i.position);A!=null&&A.parent?d=A:d=i.root;break}default:d=i.root}return d}function a(u){let d="";switch(u){case"all":console.error("Internal failure: speak all failed");break;case"selection":d="no selection";break;case"left":d="at start";break;case"right":d="at end";break;case"group":console.error("Internal failure: speak group failed");break;case"parent":d="no parent";break;default:console.error('unknown speak_ param value: "'+u+'"');break}return d}let o=globalThis.MathfieldElement,l=s(e);if(l===null)return(n=o.speakHook)==null||n.call(o,a(e)),!1;(r.withHighlighting||o.speechEngine==="amazon")&&(o.textToSpeechMarkup=globalThis.sre&&o.textToSpeechRules==="sre"?"ssml_step":"ssml");let c=MA(l);return ia()&&r.withHighlighting?(Mc().readAloudMathfield=t,ih(t,{forHighlighting:!0}),o.readAloudHook&&o.readAloudHook(t.field,c)):o.speakHook&&o.speakHook(c),!1}function $Ie(t){var e,r;if(!ia())return;let n=globalThis.MathfieldElement;if(!n.speechEngine||n.speechEngine==="local"){let i=new SpeechSynthesisUtterance(t);globalThis.speechSynthesis.speak(i)}else if(n.speechEngine==="amazon")if(!("AWS"in window))console.error("MathLive 0.104.0: AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");else{let i=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),s={OutputFormat:"mp3",VoiceId:(e=n.speechEngineVoice)!=null?e:"Joanna",Engine:["Amy","Emma","Brian","Ivy","Joanna","Kendra","Kimberly","Salli","Joey","Justin","Matthew"].includes((r=n.speechEngineVoice)!=null?r:"Joanna")?"neural":"standard",Text:t,TextType:"ssml"};i.synthesizeSpeech(s,(a,o)=>{if(a)console.trace(`MathLive 0.104.0: \`polly.synthesizeSpeech()\` error: ${a}`);else if(o!=null&&o.AudioStream){let l=new Uint8Array(o.AudioStream),c=new Blob([l.buffer],{type:"audio/mpeg"}),u=URL.createObjectURL(c);new Audio(u).play().catch(d=>console.error(d))}})}else n.speechEngine==="google"&&console.error("MathLive 0.104.0: The Google speech engine is not supported yet. Please come again.")}function mne(t){if(t&&(t.classList.remove("ML__highlight"),t.children))for(let e of t.children)mne(e)}function p_(t,e){var r;t&&(!e||((r=t.dataset)==null?void 0:r.atomId)===e?(t.classList.add("ML__highlight"),t.children&&t.children.length>0&&[...t.children].forEach(n=>{n instanceof HTMLElement&&p_(n)})):(t.classList.remove("ML__highlight"),t.children&&t.children.length>0&&[...t.children].forEach(n=>{n instanceof HTMLElement&&p_(n,e)})))}function VIe(t,e){var r;if(!ia())return;if(globalThis.MathfieldElement.speechEngine!=="amazon"){console.error("MathLive 0.104.0: Use Amazon TTS Engine for synchronized highlighting"),typeof globalThis.MathfieldElement.speakHook=="function"&&globalThis.MathfieldElement.speakHook(e);return}if(!globalThis.AWS){console.error("MathLive 0.104.0: AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");return}let n=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),i={OutputFormat:"json",VoiceId:(r=globalThis.MathfieldElement.speechEngineVoice)!=null?r:"Joanna",Engine:"standard",Text:e,TextType:"ssml",SpeechMarkTypes:["ssml"]};Mc().readAloudElement=t,n.synthesizeSpeech(i,(s,a)=>{if(s){console.trace(`MathLive 0.104.0: \`polly.synthesizeSpeech()\` error: ${s}`);return}if(!(a!=null&&a.AudioStream))return;let o=new TextDecoder("utf-8").decode(new Uint8Array(a.AudioStream));Mc().readAloudMarks=o.split(`
`).map(l=>l?JSON.parse(l):{}),Mc().readAloudTokens=[];for(let l of Mc().readAloudMarks)l.value&&Mc().readAloudTokens.push(l.value);Mc().readAloudCurrentMark="",i.OutputFormat="mp3",i.SpeechMarkTypes=[],n.synthesizeSpeech(i,(l,c)=>{if(l){console.trace(`MathLive 0.104.0: \`polly.synthesizeSpeech("${e}") error:${l}`);return}if(!(c!=null&&c.AudioStream))return;let u=new Uint8Array(c.AudioStream),d=new Blob([u.buffer],{type:"audio/mpeg"}),A=URL.createObjectURL(d),f=Mc();f.readAloudAudio?f.readAloudAudio.pause():(f.readAloudAudio=new Audio,f.readAloudAudio.addEventListener("ended",()=>{let p=f.readAloudMathfield;f.readAloudStatus="ended",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),p?(ih(p),f.readAloudElement=null,f.readAloudMathfield=null,f.readAloudTokens=[],f.readAloudMarks=[],f.readAloudCurrentMark=""):mne(f.readAloudElement)}),f.readAloudAudio.addEventListener("timeupdate",()=>{let p="",m=f.readAloudAudio.currentTime*1e3+100;for(let y of f.readAloudMarks)y.time<m&&(p=y.value);f.readAloudCurrentMark!==p&&(f.readAloudCurrentToken=p,p&&p===f.readAloudFinalToken?f.readAloudAudio.pause():(f.readAloudCurrentMark=p,p_(f.readAloudElement,f.readAloudCurrentMark)))})),f.readAloudAudio.src=A,f.readAloudStatus="playing",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),f.readAloudAudio.play()})})}ia()||console.error('MathLive 0.104.0: this version of the MathLive library is for use in the browser. A subset of the API is available on the server side in the "mathlive-ssr" library. If using server side rendering (with React for example) you may want to do a dynamic import of the MathLive library inside a `useEffect()` call.');var _t=new WeakMap,KIe=.5,wc={letterShapeStyle:"mf.letterShapeStyle = ...",horizontalSpacingScale:'Removed. Use `"thinmuskip"`, `"medmuskip"`, and `"thickmuskip"` registers ',macros:"mf.macros = ...",registers:"mf.registers = ...",backgroundColorMap:"mf.backgroundColorMap = ...",colorMap:"mf.colorMap = ...",enablePopover:"mf.popoverPolicy = ...",mathModeSpace:"mf.mathModeSpace = ...",placeholderSymbol:"mf.placeholderSymbol = ...",readOnly:"mf.readOnly = ...",removeExtraneousParentheses:"mf.removeExtraneousParentheses = ...",scriptDepth:"mf.scriptDepth = ...",smartFence:"mf.smartFence = ...",smartMode:"mf.smartMode = ...",smartSuperscript:"mf.smartSuperscript = ...",inlineShortcutTimeout:"mf.inlineShortcutTimeout = ...",inlineShortcuts:"mf.inlineShortcuts = ...",keybindings:"mf.keybindings = ...",virtualKeyboardMode:"mf.mathVirtualKeyboardPolicy = ...",customVirtualKeyboardLayers:"mathVirtualKeyboard.layers = ...",customVirtualKeyboards:"mathVirtualKeyboard.layouts = ...",keypressSound:"mathVirtualKeyboard.keypressSound = ...",keypressVibration:"mathVirtualKeyboard.keypressVibration = ...",plonkSound:"mathVirtualKeyboard.plonkSound = ...",virtualKeyboardContainer:"mathVirtualKeyboard.container = ...",virtualKeyboardLayout:"mathVirtualKeyboard.alphabeticLayout = ...",virtualKeyboardTheme:"No longer supported",virtualKeyboardToggleGlyph:"No longer supported",virtualKeyboardToolbar:"mathVirtualKeyboard.editToolbar = ...",virtualKeyboards:"Use `mathVirtualKeyboard.layouts`",speechEngine:"`MathfieldElement.speechEngine`",speechEngineRate:"`MathfieldElement.speechEngineRate`",speechEngineVoice:"`MathfieldElement.speechEngineVoice`",textToSpeechMarkup:"`MathfieldElement.textToSpeechMarkup`",textToSpeechRules:"`MathfieldElement.textToSpeechRules`",textToSpeechRulesOptions:"`MathfieldElement.textToSpeechRulesOptions`",readAloudHook:"`MathfieldElement.readAloudHook`",speakHook:"`MathfieldElement.speakHook`",computeEngine:"`MathfieldElement.computeEngine`",fontsDirectory:"`MathfieldElement.fontsDirectory`",soundsDirectory:"`MathfieldElement.soundsDirectory`",createHTML:"`MathfieldElement.createHTML`",onExport:"`mf.onExport`",onInlineShortcut:"`mf.onInlineShortcut`",onScrollIntoView:"`mf.onScrollIntoView`",locale:"MathfieldElement.locale = ...",strings:"MathfieldElement.strings = ...",decimalSeparator:"MathfieldElement.decimalSeparator = ...",fractionNavigationOrder:"MathfieldElement.fractionNavigationOrder = ..."},jr=class Ec extends HTMLElement{constructor(e){if(super(),this._observer=null,e){let r=[];for(let n of Object.keys(e))if(wc[n])if(wc[n].startsWith("mf."))if(wc[n].startsWith(`mf.${n}`))r.push(`Option \`${n}\` cannot be used as a constructor option. Use ${wc[n]}`);else{let i=wc[n].match(/([a-zA-Z]+) =/);r.push(`Option \`${n}\` has been renamed \`${i[1]}\``)}else r.push(`Option \`${n}\` cannot be used as a constructor option. Use ${wc[n]}`);if(r.length>0){console.group("%cMathLive 0.104.0: %cInvalid Options","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),console.warn("Some of the options passed to `new MathfieldElement(...)` are invalid. \n          See mathfield/changelog/ for details.");for(let n of r)console.warn(n);console.groupEnd()}}if(g0()&&(this._internals=this.attachInternals(),this._internals.role="math",this._internals.ariaLabel="math input field",this._internals.ariaMultiLine="false"),this.attachShadow({mode:"open",delegatesFocus:!0}),this.shadowRoot&&"adoptedStyleSheets"in this.shadowRoot){this.shadowRoot.adoptedStyleSheets=[_0("core"),_0("mathfield"),_0("mathfield-element"),_0("ui"),_0("menu")],this.shadowRoot.appendChild(document.createElement("span"));let r=document.createElement("slot");r.style.display="none",this.shadowRoot.appendChild(r)}else this.shadowRoot.innerHTML="<style>"+Ld("core")+Ld("mathfield")+Ld("mathfield-element")+Ld("ui")+Ld("menu")+'</style><span></span><slot style="display:none"></slot>';e&&this._setOptions(e)}static get formAssociated(){return g0()}static get optionsAttributes(){return{"default-mode":"string","letter-shape-style":"string","min-font-scale":"number","max-matrix-cols":"number","popover-policy":"string","math-mode-space":"string","read-only":"boolean","remove-extraneous-parentheses":"on/off","smart-fence":"on/off","smart-mode":"on/off","smart-superscript":"on/off","inline-shortcut-timeout":"string","script-depth":"string",placeholder:"string","virtual-keyboard-target-origin":"string","math-virtual-keyboard-policy":"string"}}static get observedAttributes(){return[...Object.keys(this.optionsAttributes),"contenteditable","disabled","readonly","read-only"]}static get fontsDirectory(){return this._fontsDirectory}static set fontsDirectory(e){e!==this._fontsDirectory&&(this._fontsDirectory=e,QNe())}get fontsDirectory(){throw new Error("Use MathfieldElement.fontsDirectory instead")}set fontsDirectory(e){throw new Error("Use MathfieldElement.fontsDirectory instead")}static get soundsDirectory(){return this._soundsDirectory}static set soundsDirectory(e){this._soundsDirectory=e,this.audioBuffers={}}get soundsDirectory(){throw new Error("Use MathfieldElement.soundsDirectory instead")}set soundsDirectory(e){throw new Error("Use MathfieldElement.soundsDirectory instead")}static get keypressSound(){return this._keypressSound}static set keypressSound(e){var r,n,i;this.audioBuffers={},e===null?this._keypressSound={spacebar:null,return:null,delete:null,default:null}:typeof e=="string"?this._keypressSound={spacebar:e,return:e,delete:e,default:e}:typeof e=="object"&&"default"in e&&(this._keypressSound={spacebar:(r=e.spacebar)!=null?r:e.default,return:(n=e.return)!=null?n:e.default,delete:(i=e.delete)!=null?i:e.default,default:e.default})}static get plonkSound(){return this._plonkSound}static set plonkSound(e){this.audioBuffers={},this._plonkSound=e}static get audioContext(){return this._audioContext||(this._audioContext=new AudioContext),this._audioContext}static get speechEngine(){return this._speechEngine}static set speechEngine(e){this._speechEngine=e}static get speechEngineRate(){return this._speechEngineRate}static set speechEngineRate(e){this._speechEngineRate=e}static get speechEngineVoice(){return this._speechEngineVoice}static set speechEngineVoice(e){this._speechEngineVoice=e}static get textToSpeechMarkup(){return this._textToSpeechMarkup}static set textToSpeechMarkup(e){this._textToSpeechMarkup=e}static get textToSpeechRules(){return this._textToSpeechRules}static set textToSpeechRules(e){this._textToSpeechRules=e}static get textToSpeechRulesOptions(){return this._textToSpeechRulesOptions}static set textToSpeechRulesOptions(e){this._textToSpeechRulesOptions=e}static get locale(){return at.locale}static set locale(e){e==="auto"&&(e=navigator.language.slice(0,5)),at.locale=e}get locale(){throw new Error("Use MathfieldElement.locale instead")}set locale(e){throw new Error("Use MathfieldElement.locale instead")}static get strings(){return at.strings}static set strings(e){at.merge(e)}get strings(){throw new Error("Use MathfieldElement.strings instead")}set strings(e){throw new Error("Use MathfieldElement.strings instead")}static get decimalSeparator(){return this._decimalSeparator}static set decimalSeparator(e){this._decimalSeparator=e,this._computeEngine&&(this._computeEngine.decimalSeparator=this.decimalSeparator===","?"{,}":".")}get decimalSeparator(){throw new Error("Use MathfieldElement.decimalSeparator instead")}set decimalSeparator(e){throw new Error("Use MathfieldElement.decimalSeparator instead")}static get fractionNavigationOrder(){return kx.fractionNavigationOrder}static set fractionNavigationOrder(e){if(e!=="numerator-denominator"&&e!=="denominator-numerator")throw new Error("Invalid value");kx.fractionNavigationOrder!==e&&(kx.fractionNavigationOrder=e,DH())}static get computeEngine(){var e,r;if(this._computeEngine===void 0){let n=(e=window[Symbol.for("io.cortexjs.compute-engine")])==null?void 0:e.ComputeEngine;if(!n)return null;this._computeEngine=new n,this._computeEngine&&this.decimalSeparator===","&&(this._computeEngine.decimalSeparator="{,}")}return(r=this._computeEngine)!=null?r:null}static set computeEngine(e){this._computeEngine=e}get computeEngine(){throw new Error("Use MathfieldElement.computeEngine instead")}set computeEngine(e){throw new Error("Use MathfieldElement.computeEngine instead")}static get isFunction(){return typeof this._isFunction!="function"?()=>!1:this._isFunction}static set isFunction(e){this._isFunction=e,DH()}static async loadSound(e){delete this.audioBuffers[e];let r="";switch(e){case"keypress":r=this._keypressSound.default;break;case"return":r=this._keypressSound.return;break;case"spacebar":r=this._keypressSound.spacebar;break;case"delete":r=this._keypressSound.delete;break;case"plonk":r=this.plonkSound;break}if(typeof r!="string")return;r=r.trim();let n=this.soundsDirectory;if(!(n==null||n==="null"||r==="none"||r==="null"))try{let i=await(await fetch(await Ure(`${n}/${r}`))).arrayBuffer(),s=await this.audioContext.decodeAudioData(i);this.audioBuffers[e]=s}catch{}}static async playSound(e){if((this.audioContext.state==="suspended"||this.audioContext.state==="interrupted")&&await this.audioContext.resume(),this.audioBuffers[e]||await this.loadSound(e),!this.audioBuffers[e])return;let r=this.audioContext.createBufferSource();r.buffer=this.audioBuffers[e];let n=this.audioContext.createGain();n.gain.value=KIe,r.connect(n).connect(this.audioContext.destination),r.start()}showMenu(e){var r,n;return(n=(r=this._mathfield)==null?void 0:r.showMenu(e))!=null?n:!1}get mathVirtualKeyboard(){throw new Error("The `mathVirtualKeyboard` property is not available on the MathfieldElement. Use `window.mathVirtualKeyboard` instead.")}onPointerDown(){window.addEventListener("pointerup",e=>{let r=this._mathfield;if(r&&e.target===this&&!r.disabled){this.dispatchEvent(new MouseEvent("click",{altKey:e.altKey,button:e.button,buttons:e.buttons,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,movementX:e.movementX,movementY:e.movementY,relatedTarget:e.relatedTarget,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey}));let n=this.getOffsetFromPoint(e.clientX,e.clientY);n>=0&&Ec.openUrl(fLe(r,n)),e.pointerType==="touch"&&this.selectionIsCollapsed&&(this.position=n)}},{once:!0})}getPromptValue(e,r){var n,i;return(i=(n=this._mathfield)==null?void 0:n.getPromptValue(e,r))!=null?i:""}setPromptValue(e,r,n){var i;(i=this._mathfield)==null||i.setPromptValue(e,r,n)}getPromptRange(e){var r,n;return(n=(r=this._mathfield)==null?void 0:r.getPromptRange(e))!=null?n:null}getPrompts(e){var r,n;return(n=(r=this._mathfield)==null?void 0:r.getPrompts(e))!=null?n:[]}get form(){var e;return(e=this._internals)==null?void 0:e.form}get name(){var e;return(e=this.getAttribute("name"))!=null?e:""}get type(){return this.localName}get mode(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.model.mode)!=null?r:this.defaultMode==="text"?"text":"math"}set mode(e){var r;(r=this._mathfield)==null||r.switchMode(e)}get expression(){if(this._mathfield)return window[Symbol.for("io.cortexjs.compute-engine")]?this._mathfield.expression:(console.error(`MathLive 0.104.0: The CortexJS Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://unpkg.com/@cortex-js/compute-engine?module"`),null)}set expression(e){var r,n;if(!this._mathfield)return;let i=(n=(r=Ec.computeEngine)==null?void 0:r.box(e).latex)!=null?n:null;i!==null&&this._mathfield.setValue(i),window[Symbol.for("io.cortexjs.compute-engine")]||console.error(`MathLive 0.104.0: The Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://unpkg.com/@cortex-js/compute-engine?module"`)}get errors(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.errors)!=null?r:[]}_getOptions(e){return this._mathfield?Nd(this._mathfield.options,e):_t.has(this)?U({},Nd(U(U({},Fx()),F3(_t.get(this).options)),e)):null}getOptions(e){return console.warn("%cMathLive 0.104.0: %cDeprecated Usage%c\n      `mf.getOptions()` is deprecated. Read the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem","color: inherit, font-size: 1rem"),this._mathfield?Nd(this._mathfield.options,e):_t.has(this)?Nd(U(U({},Fx()),F3(_t.get(this).options)),e):null}reflectAttributes(){let e=Fx(),r=this._getOptions();Object.keys(Ec.optionsAttributes).forEach(n=>{let i=ul(n);Ec.optionsAttributes[n]==="on/off"?e[i]!==r[i]?this.setAttribute(n,r[i]?"on":"off"):this.removeAttribute(n):e[i]!==r[i]&&(Ec.optionsAttributes[n]==="boolean"?r[i]?this.setAttribute(n,""):this.removeAttribute(n):(typeof r[i]=="string"||typeof r[i]=="number")&&this.setAttribute(n,r[i].toString()))})}getOption(e){return console.warn("%cMathLive 0.104.0: %cDeprecated Usage%c\n      `mf.getOption()` is deprecated. Read the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem","color: inherit, font-size: 1rem"),this._getOptions([e])[e]}_getOption(e){return this._getOptions([e])[e]}_setOptions(e){if(this._mathfield)this._mathfield.setOptions(e);else if(_t.has(this)){let r=U(U({},_t.get(this).options),e);_t.set(this,W(U({},_t.get(this)),{selection:{ranges:r.readOnly?[[0,0]]:[[0,-1]]},options:r}))}else _t.set(this,{value:void 0,selection:{ranges:[[0,0]]},options:e,menuItems:void 0});this.reflectAttributes()}setOptions(e){console.group("%cMathLive 0.104.0: %cDeprecated Usage","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),console.warn(" `mf.setOptions()` is deprecated. Set the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.");for(let r of Object.keys(e))wc[r]&&console.warn(`\`mf.setOptions({${r}:...})\` -> ${wc[r]}`);console.groupEnd(),this._setOptions(e)}executeCommand(...e){var r,n;let i;if(e.length===1?i=e[0]:i=[e[0],...e.slice(1)],i)return(n=(r=this._mathfield)==null?void 0:r.executeCommand(i))!=null?n:!1;throw new Error("Invalid selector")}getValue(e,r,n){var i,s;if(this._mathfield)return this._mathfield.model.getValue(e,r,n);if(_t.has(this)){let a,o,l;if(Sx(e)?([a,o]=e.ranges[0],l=r):b3(e)?([a,o]=e,l=r):jc(e)&&jc(r)?(a=e,o=r,l=n):(a=0,o=-1,l=e),(l===void 0||l==="latex")&&a===0&&o===-1)return(s=(i=_t.get(this).value)!=null?i:this.textContent)!=null?s:""}return""}setValue(e,r){if(this._mathfield&&e!==void 0){if(this._mathfield.model.getValue()===e)return;r!=null||(r={silenceNotifications:!0,mode:"math"}),this._mathfield.setValue(e,r);return}if(_t.has(this)){let i=_t.get(this).options;_t.set(this,{value:e,selection:{ranges:[[-1,-1]],direction:"forward"},options:i,menuItems:void 0});return}let n=Ov(this);_t.set(this,{value:e,selection:{ranges:[[-1,-1]],direction:"forward"},options:n,menuItems:void 0})}hasFocus(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.hasFocus())!=null?r:!1}focus(){var e;(e=this._mathfield)==null||e.focus()}blur(){var e;(e=this._mathfield)==null||e.blur()}select(){var e;(e=this._mathfield)==null||e.select()}insert(e,r){var n,i;return(i=(n=this._mathfield)==null?void 0:n.insert(e,r))!=null?i:!1}applyStyle(e,r){var n;return(n=this._mathfield)==null?void 0:n.applyStyle(e,r)}queryStyle(e){var r,n;return(n=(r=this._mathfield)==null?void 0:r.queryStyle(e))!=null?n:"none"}getOffsetFromPoint(e,r,n){return this._mathfield?Dx(this._mathfield,e,r,n):-1}getElementInfo(e){return Hte(this._mathfield,e)}resetUndo(){var e;(e=this._mathfield)==null||e.resetUndo()}canUndo(){return this._mathfield?this._mathfield.canUndo():!1}canRedo(){return this._mathfield?this._mathfield.canRedo():!1}handleEvent(e){var r,n,i,s,a,o;if(Ca.state!=="closed"||((n=(r=this._mathfield)==null?void 0:r.menu)==null?void 0:n.state)!=="closed"||(e.type==="pointerdown"&&this.onPointerDown(),e.type==="focus"&&((i=this._mathfield)==null||i.focus()),e.type!=="blur"))return;let l=mte();l&&(s=window==null?void 0:window.mathVirtualKeyboard)!=null&&s.visible||((a=Ca.scrim)==null?void 0:a.state)!=="closed"||l&&fDe()||(o=this._mathfield)==null||o.blur()}connectedCallback(){var e,r,n,i;let s=this.shadowRoot,a=s.host,o=window.getComputedStyle(this).userSelect!=="none";if(o)a.addEventListener("pointerdown",this,!0);else{let u=s.querySelector("span");u.style.pointerEvents="none"}a.addEventListener("focus",this,!0),a.addEventListener("blur",this,!0),this._observer=new MutationObserver(()=>{var u;this.value=(u=this.textContent)!=null?u:""}),this._observer.observe(this,{childList:!0,characterData:!0,subtree:!0}),g0()||(this.hasAttribute("role")||this.setAttribute("role","math"),this.hasAttribute("aria-label")||this.setAttribute("aria-label","math input field"),this.setAttribute("aria-multiline","false")),o&&!this.hasAttribute("contenteditable")&&this.setAttribute("contenteditable","true"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0");let l=s.querySelector("slot:not([name])");if(l)try{this._style=l.assignedElements().filter(u=>u.tagName.toLowerCase()==="style").map(u=>u.textContent).join("")}catch(u){console.error(u)}if(this._style){let u=document.createElement("style");u.textContent=this._style,s.appendChild(u)}let c="";if(this.hasAttribute("value")?c=this.getAttribute("value"):c=(e=l==null?void 0:l.assignedNodes().map(u=>u.nodeType===3?u.textContent:"").join("").trim())!=null?e:"",this._mathfield=new HIe(s.querySelector(":host > span"),W(U({},(n=(r=_t.get(this))==null?void 0:r.options)!=null?n:Ov(this)),{eventSink:this,value:c})),!_t.has(this)){this.upgradeProperty("disabled"),this.upgradeProperty("readonly");for(let u of Object.keys(Ec.optionsAttributes))this.upgradeProperty(ul(u))}if(!((i=this._mathfield)!=null&&i.model)){this._mathfield=null;return}if(_t.has(this)){let u=this._mathfield,d=_t.get(this),A=d.menuItems;u.model.deferNotifications({content:!1,selection:!1},()=>{let f=d.value;f!==void 0&&u.setValue(f),u.model.selection=d.selection,_t.delete(this)}),A&&(this.menuItems=A)}window.queueMicrotask(()=>{this.isConnected&&this.dispatchEvent(new Event("mount",{cancelable:!1,bubbles:!0,composed:!0}))}),eT()}disconnectedCallback(){var e,r,n;if(this.shadowRoot.host.removeEventListener("pointerdown",this,!0),!this._mathfield)return;(e=this._observer)==null||e.disconnect(),this._observer=null,window.queueMicrotask(()=>this.dispatchEvent(new Event("unmount",{cancelable:!1,bubbles:!0,composed:!0})));let i=Nd(this._mathfield.options,Object.keys(Ec.optionsAttributes).map(s=>ul(s)));_t.set(this,{value:this._mathfield.getValue(),selection:this._mathfield.model.selection,menuItems:(n=(r=this._mathfield.menu)==null?void 0:r.menuItems)!=null?n:void 0,options:i}),this._mathfield.dispose(),this._mathfield=null}upgradeProperty(e){if(this.hasOwnProperty(e)){let r=this[e];delete this[e],(e==="readonly"||e==="read-only")&&(e="readOnly"),this[e]=r}}attributeChangedCallback(e,r,n){if(r===n)return;let i=n!==null;switch(e){case"contenteditable":tr(this._mathfield);break;case"placeholder":n===!1&&(n=""),this.placeholder=n;break;case"disabled":this.disabled=i;break;case"read-only":case"readonly":this.readOnly=i;break}}get readonly(){return this.hasAttribute("readonly")||this.hasAttribute("read-only")}set readonly(e){let r=!!e;r?(this.setAttribute("readonly",""),g0()?this._internals.ariaReadOnly="true":this.setAttribute("aria-readonly","true"),this.setAttribute("aria-readonly","true")):(g0()?this._internals.ariaReadOnly="false":this.removeAttribute("aria-readonly"),this.removeAttribute("readonly"),this.removeAttribute("read-only")),this._setOptions({readOnly:r})}get disabled(){return this.hasAttribute("disabled")}set disabled(e){var r;let n=!!e;n?this.setAttribute("disabled",""):this.removeAttribute("disabled"),g0()?this._internals.ariaDisabled=n?"true":"false":this.setAttribute("aria-disabled",n?"true":"false"),n&&(r=this._mathfield)!=null&&r.hasFocus&&window.mathVirtualKeyboard.visible&&this._mathfield.executeCommand("hideVirtualKeyboard")}get value(){return this.getValue()}set value(e){this.setValue(e)}get defaultMode(){return this._getOption("defaultMode")}set defaultMode(e){this._setOptions({defaultMode:e})}get macros(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("macros")}set macros(e){this._setOptions({macros:e})}get registers(){if(!this._mathfield)throw new Error("Mathfield not mounted");let e=this;return new Proxy({},{get:(r,n)=>{if(typeof n=="string")return e._getOption("registers")[n]},set(r,n,i){return typeof n!="string"?!1:(e._setOptions({registers:W(U({},e._getOption("registers")),{[n]:i})}),!0)},ownKeys:()=>Reflect.ownKeys(e._getOption("registers")),getOwnPropertyDescriptor:(r,n)=>{let i=e._getOption("registers")[n];if(i!==void 0)return{configurable:!0,enumerable:!0,value:i,writable:!0}}})}set registers(e){this._setOptions({registers:e})}get colorMap(){return this._getOption("colorMap")}set colorMap(e){this._setOptions({colorMap:e})}get backgroundColorMap(){return this._getOption("backgroundColorMap")}set backgroundColorMap(e){this._setOptions({backgroundColorMap:e})}get letterShapeStyle(){return this._getOption("letterShapeStyle")}set letterShapeStyle(e){this._setOptions({letterShapeStyle:e})}get minFontScale(){return this._getOption("minFontScale")}set minFontScale(e){this._setOptions({minFontScale:e})}get maxMatrixCols(){return this._getOption("maxMatrixCols")}set maxMatrixCols(e){this._setOptions({maxMatrixCols:e})}get smartMode(){return this._getOption("smartMode")}set smartMode(e){this._setOptions({smartMode:e})}get smartFence(){return this._getOption("smartFence")}set smartFence(e){this._setOptions({smartFence:e})}get smartSuperscript(){return this._getOption("smartSuperscript")}set smartSuperscript(e){this._setOptions({smartSuperscript:e})}get scriptDepth(){return this._getOption("scriptDepth")}set scriptDepth(e){this._setOptions({scriptDepth:e})}get removeExtraneousParentheses(){return this._getOption("removeExtraneousParentheses")}set removeExtraneousParentheses(e){this._setOptions({removeExtraneousParentheses:e})}get mathModeSpace(){return this._getOption("mathModeSpace")}set mathModeSpace(e){this._setOptions({mathModeSpace:e})}get placeholderSymbol(){return this._getOption("placeholderSymbol")}set placeholderSymbol(e){this._setOptions({placeholderSymbol:e})}get placeholder(){var e;return(e=this.getAttribute("placeholder"))!=null?e:""}set placeholder(e){var r;typeof e=="string"&&((r=this._mathfield)==null||r.setOptions({contentPlaceholder:e}))}get popoverPolicy(){return this._getOption("popoverPolicy")}set popoverPolicy(e){this._setOptions({popoverPolicy:e})}get environmentPopoverPolicy(){return this._getOption("environmentPopoverPolicy")}set environmentPopoverPolicy(e){this._setOptions({environmentPopoverPolicy:e})}get menuItems(){var e;if(!this._mathfield)throw new Error("Mathfield not mounted");return(e=this._mathfield.menu._menuItems.map(r=>r.menuItem))!=null?e:[]}set menuItems(e){var r;if(!this._mathfield)throw new Error("Mathfield not mounted");if(this._mathfield){let n=(r=this._mathfield.element)==null?void 0:r.querySelector("[part=menu-toggle]");n&&(n.style.display=e.length===0?"none":""),this._mathfield.menu.menuItems=e}}get mathVirtualKeyboardPolicy(){return this._getOption("mathVirtualKeyboardPolicy")}set mathVirtualKeyboardPolicy(e){this._setOptions({mathVirtualKeyboardPolicy:e})}get inlineShortcuts(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("inlineShortcuts")}set inlineShortcuts(e){if(!this._mathfield)throw new Error("Mathfield not mounted");this._setOptions({inlineShortcuts:e})}get inlineShortcutTimeout(){return this._getOption("inlineShortcutTimeout")}set inlineShortcutTimeout(e){this._setOptions({inlineShortcutTimeout:e})}get keybindings(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("keybindings")}set keybindings(e){if(!this._mathfield)throw new Error("Mathfield not mounted");this._setOptions({keybindings:e})}get onInsertStyle(){let e=this._getOption("onInsertStyle");return e===void 0?JF:e}set onInsertStyle(e){this._setOptions({onInsertStyle:e})}get onInlineShortcut(){return this._getOption("onInlineShortcut")}set onInlineShortcut(e){this._setOptions({onInlineShortcut:e})}get onScrollIntoView(){return this._getOption("onScrollIntoView")}set onScrollIntoView(e){this._setOptions({onScrollIntoView:e})}get onExport(){return this._getOption("onExport")}set onExport(e){this._setOptions({onExport:e})}get readOnly(){return this._getOption("readOnly")}set readOnly(e){this._setOptions({readOnly:e})}get isSelectionEditable(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.isSelectionEditable)!=null?r:!1}setPromptState(e,r,n){var i;(i=this._mathfield)==null||i.setPromptState(e,r,n)}getPromptState(e){var r,n;return(n=(r=this._mathfield)==null?void 0:r.getPromptState(e))!=null?n:[void 0,!0]}get virtualKeyboardTargetOrigin(){return this._getOption("virtualKeyboardTargetOrigin")}set virtualKeyboardTargetOrigin(e){this._setOptions({virtualKeyboardTargetOrigin:e})}get selection(){return this._mathfield?this._mathfield.model.selection:_t.has(this)?_t.get(this).selection:{ranges:[[0,0]],direction:"forward"}}set selection(e){if(typeof e=="number"&&(e={ranges:[[e,e]]}),this._mathfield){this._mathfield.model.selection=e,tr(this._mathfield);return}if(_t.has(this)){_t.set(this,W(U({},_t.get(this)),{selection:e}));return}_t.set(this,{value:void 0,selection:e,options:Ov(this),menuItems:void 0})}get selectionIsCollapsed(){let e=this.selection;return e.ranges.length===1&&e.ranges[0][0]===e.ranges[0][1]}get position(){return this._mathfield?this._mathfield.model.position:_t.has(this)?_t.get(this).selection.ranges[0][0]:0}set position(e){if(this._mathfield&&(this._mathfield.model.position=e,tr(this._mathfield)),_t.has(this)){_t.set(this,W(U({},_t.get(this)),{selection:{ranges:[[e,e]]}}));return}_t.set(this,{value:void 0,selection:{ranges:[[e,e]]},options:Ov(this),menuItems:void 0})}get lastOffset(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.model.lastOffset)!=null?r:-1}};jr.version="0.104.0",jr.openUrl=t=>{if(!t)return;let e=new URL(t);if(!["http:","https:","file:"].includes(e.protocol.toLowerCase())){jr.playSound("plonk");return}window.open(e,"_blank")},jr._fontsDirectory="./fonts",jr._soundsDirectory="./sounds",jr.keypressVibration=!0,jr._keypressSound={spacebar:"keypress-spacebar.wav",return:"keypress-return.wav",delete:"keypress-delete.wav",default:"keypress-standard.wav"},jr._plonkSound="plonk.wav",jr.audioBuffers={},jr.createHTML=t=>t,jr._speechEngineRate="100%",jr._speechEngineVoice="Joanna",jr._textToSpeechMarkup="",jr._textToSpeechRules="mathlive",jr._textToSpeechRulesOptions={},jr.speakHook=$Ie,jr.readAloudHook=VIe,jr.restoreFocusWhenDocumentFocused=!0,jr._decimalSeparator=".",jr._isFunction=t=>{var e,r;let n=globalThis.MathfieldElement.computeEngine;return(r=(e=n==null?void 0:n.parse(t).domain)==null?void 0:e.isFunction)!=null?r:!1};var Lu=jr;function ul(t){return t.replace(/[^a-zA-Z\d]+(.)/g,(e,r)=>r.toUpperCase())}function Ov(t){let e={readOnly:!1},r=Lu.optionsAttributes;return Object.keys(r).forEach(n=>{var i;if(t.hasAttribute(n)){let s=t.getAttribute(n);n==="placeholder"?e.contentPlaceholder=s??"":r[n]==="boolean"?e[ul(n)]=!0:r[n]==="on/off"?(s=(i=s==null?void 0:s.toLowerCase())!=null?i:"",s==="on"||s==="true"?e[ul(n)]=!0:s==="off"||s==="false"?e[ul(n)]=!1:e[ul(n)]=void 0):r[n]==="number"?e[ul(n)]=Number.parseFloat(s??"0"):e[ul(n)]=s}}),e}function g0(){return!(!("ElementInternals"in window)||!HTMLElement.prototype.attachInternals||!("role"in window.ElementInternals.prototype))}var sT=Lu,sz,az,oz;if(ia()&&!((sz=window.customElements)!=null&&sz.get("math-field"))){window[az=Symbol.for("io.cortexjs.mathlive")]!=null||(window[az]={});let t=window[Symbol.for("io.cortexjs.mathlive")];t.version="0.104.0",globalThis.MathfieldElement=Lu,(oz=window.customElements)==null||oz.define("math-field",Lu)}function qIe(t,e){let r=Wu.singleton;return r?(r.show(),rA(),r.currentLayer=e,r.render(),r.focus(),!0):!1}function WIe(){let t=window.mathVirtualKeyboard;return t.visible?t.hide({animate:!0}):t.show({animate:!0}),!1}bi({switchKeyboardLayer:qIe,toggleVirtualKeyboard:WIe,hideVirtualKeyboard:()=>(window.mathVirtualKeyboard.hide({animate:!0}),!1),showVirtualKeyboard:()=>(window.mathVirtualKeyboard.show({animate:!0}),!1)},{target:"virtual-keyboard"});function Mc(){var t;return globalThis[t=Symbol.for("io.cortexjs.mathlive")]!=null||(globalThis[t]={}),globalThis[Symbol.for("io.cortexjs.mathlive")]}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var m_=function(t,e){return m_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},m_(t,e)};function Ra(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");m_(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var g_=function(){return g_=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},g_.apply(this,arguments)};function li(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,[])).next())})}function $n(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Pv(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var zl=function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),j5=function(t,e){return zl.fromClientRect(t,e.getBoundingClientRect())},GIe=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new zl(0,0,n,i)},I5=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},Or=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=t[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},lz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",XIe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Uv=0;Uv<lz.length;Uv++)XIe[lz.charCodeAt(Uv)]=Uv;var cz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rm=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Qv=0;Qv<cz.length;Qv++)rm[cz.charCodeAt(Qv)]=Qv;var YIe=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)s=rm[t.charCodeAt(n)],a=rm[t.charCodeAt(n+1)],o=rm[t.charCodeAt(n+2)],l=rm[t.charCodeAt(n+3)],u[i++]=s<<2|a>>4,u[i++]=(a&15)<<4|o>>2,u[i++]=(o&3)<<6|l&63;return c},JIe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},ZIe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},ah=5,aT=11,hC=2,eOe=aT-ah,gne=65536>>ah,tOe=1<<ah,AC=tOe-1,rOe=1024>>ah,nOe=gne+rOe,iOe=nOe,sOe=32,aOe=iOe+sOe,oOe=65536>>aT,lOe=1<<eOe,cOe=lOe-1,uz=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},uOe=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},dOe=function(t,e){var r=YIe(t),n=Array.isArray(r)?ZIe(r):new Uint32Array(r),i=Array.isArray(r)?JIe(r):new Uint16Array(r),s=24,a=uz(i,s/2,n[4]/2),o=n[5]===2?uz(i,(s+n[4])/2):uOe(n,Math.ceil((s+n[4])/4));return new hOe(n[0],n[1],n[2],n[3],a,o)},hOe=function(){function t(e,r,n,i,s,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>ah],r=(r<<hC)+(e&AC),this.data[r];if(e<=65535)return r=this.index[gne+(e-55296>>ah)],r=(r<<hC)+(e&AC),this.data[r];if(e<this.highStart)return r=aOe-oOe+(e>>aT),r=this.index[r],r+=e>>ah&cOe,r=this.index[r],r=(r<<hC)+(e&AC),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),dz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",AOe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Rv=0;Rv<dz.length;Rv++)AOe[dz.charCodeAt(Rv)]=Rv;var fOe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",hz=50,pOe=1,yne=2,vne=3,mOe=4,gOe=5,Az=7,xne=8,fz=9,Jc=10,y_=11,pz=12,v_=13,yOe=14,nm=15,x_=16,Hv=17,Tp=18,vOe=19,mz=20,b_=21,Dp=22,fC=23,y0=24,is=25,im=26,sm=27,v0=28,xOe=29,jd=30,bOe=31,zv=32,$v=33,w_=34,C_=35,S_=36,o1=37,B_=38,Nx=39,jx=40,pC=41,bne=42,wOe=43,COe=[9001,65288],wne="!",bt="",Vv="",__=dOe(fOe),Xo=[jd,S_],k_=[pOe,yne,vne,gOe],Cne=[Jc,xne],gz=[sm,im],SOe=k_.concat(Cne),yz=[B_,Nx,jx,w_,C_],BOe=[nm,v_],_Oe=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(s,a){var o=__.get(s);if(o>hz?(i.push(!0),o-=hz):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(a),r.push(x_);if(o===mOe||o===y_){if(a===0)return n.push(a),r.push(jd);var l=r[a-1];return SOe.indexOf(l)===-1?(n.push(n[a-1]),r.push(l)):(n.push(a),r.push(jd))}if(n.push(a),o===bOe)return r.push(e==="strict"?b_:o1);if(o===bne||o===xOe)return r.push(jd);if(o===wOe)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(o1):r.push(jd);r.push(o)}),[n,r,i]},mC=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=r;s<=n.length;){s++;var a=n[s];if(a===e)return!0;if(a!==Jc)break}if(i===Jc)for(var s=r;s>0;){s--;var o=n[s];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var l=r;l<=n.length;){l++;var a=n[l];if(a===e)return!0;if(a!==Jc)break}if(o!==Jc)break}return!1},vz=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===Jc)r--;else return n}return 0},kOe=function(t,e,r,n,i){if(r[n]===0)return bt;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return bt;var a=s-1,o=s+1,l=e[s],c=a>=0?e[a]:0,u=e[o];if(l===yne&&u===vne)return bt;if(k_.indexOf(l)!==-1)return wne;if(k_.indexOf(u)!==-1||Cne.indexOf(u)!==-1)return bt;if(vz(s,e)===xne)return Vv;if(__.get(t[s])===y_||(l===zv||l===$v)&&__.get(t[o])===y_||l===Az||u===Az||l===fz||[Jc,v_,nm].indexOf(l)===-1&&u===fz||[Hv,Tp,vOe,y0,v0].indexOf(u)!==-1||vz(s,e)===Dp||mC(fC,Dp,s,e)||mC([Hv,Tp],b_,s,e)||mC(pz,pz,s,e))return bt;if(l===Jc)return Vv;if(l===fC||u===fC)return bt;if(u===x_||l===x_)return Vv;if([v_,nm,b_].indexOf(u)!==-1||l===yOe||c===S_&&BOe.indexOf(l)!==-1||l===v0&&u===S_||u===mz||Xo.indexOf(u)!==-1&&l===is||Xo.indexOf(l)!==-1&&u===is||l===sm&&[o1,zv,$v].indexOf(u)!==-1||[o1,zv,$v].indexOf(l)!==-1&&u===im||Xo.indexOf(l)!==-1&&gz.indexOf(u)!==-1||gz.indexOf(l)!==-1&&Xo.indexOf(u)!==-1||[sm,im].indexOf(l)!==-1&&(u===is||[Dp,nm].indexOf(u)!==-1&&e[o+1]===is)||[Dp,nm].indexOf(l)!==-1&&u===is||l===is&&[is,v0,y0].indexOf(u)!==-1)return bt;if([is,v0,y0,Hv,Tp].indexOf(u)!==-1)for(var d=s;d>=0;){var A=e[d];if(A===is)return bt;if([v0,y0].indexOf(A)!==-1)d--;else break}if([sm,im].indexOf(u)!==-1)for(var d=[Hv,Tp].indexOf(l)!==-1?a:s;d>=0;){var A=e[d];if(A===is)return bt;if([v0,y0].indexOf(A)!==-1)d--;else break}if(B_===l&&[B_,Nx,w_,C_].indexOf(u)!==-1||[Nx,w_].indexOf(l)!==-1&&[Nx,jx].indexOf(u)!==-1||[jx,C_].indexOf(l)!==-1&&u===jx||yz.indexOf(l)!==-1&&[mz,im].indexOf(u)!==-1||yz.indexOf(u)!==-1&&l===sm||Xo.indexOf(l)!==-1&&Xo.indexOf(u)!==-1||l===y0&&Xo.indexOf(u)!==-1||Xo.concat(is).indexOf(l)!==-1&&u===Dp&&COe.indexOf(t[o])===-1||Xo.concat(is).indexOf(u)!==-1&&l===Tp)return bt;if(l===pC&&u===pC){for(var f=r[s],p=1;f>0&&(f--,e[f]===pC);)p++;if(p%2!==0)return bt}return l===zv&&u===$v?bt:Vv},EOe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=_Oe(t,e.lineBreak),n=r[0],i=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[is,jd,bne].indexOf(o)!==-1?o1:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,l){return o&&t[l]>=19968&&t[l]<=40959}):void 0;return[n,i,a]},MOe=function(){function t(e,r,n,i){this.codePoints=e,this.required=r===wne,this.start=n,this.end=i}return t.prototype.slice=function(){return Or.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),FOe=function(t,e){var r=I5(t),n=EOe(r,e),i=n[0],s=n[1],a=n[2],o=r.length,l=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var u=bt;c<o&&(u=kOe(r,s,i,++c,a))===bt;);if(u!==bt||c===o){var d=new MOe(r,u,l,c);return l=c,{value:d,done:!1}}return{done:!0,value:null}}}},TOe=1,DOe=2,J1=4,xz=8,I3=10,bz=47,Ym=92,LOe=9,NOe=32,Kv=34,Lp=61,jOe=35,IOe=36,OOe=37,qv=39,Wv=40,Np=41,POe=95,Ti=45,UOe=33,QOe=60,ROe=62,HOe=64,zOe=91,$Oe=93,VOe=61,KOe=123,Gv=63,qOe=125,wz=124,WOe=126,GOe=128,Cz=65533,gC=42,qd=43,XOe=44,YOe=58,JOe=59,l1=46,ZOe=0,ePe=8,tPe=11,rPe=14,nPe=31,iPe=127,Xa=-1,Sne=48,Bne=97,_ne=101,sPe=102,aPe=117,oPe=122,kne=65,Ene=69,Mne=70,lPe=85,cPe=90,Wn=function(t){return t>=Sne&&t<=57},uPe=function(t){return t>=55296&&t<=57343},x0=function(t){return Wn(t)||t>=kne&&t<=Mne||t>=Bne&&t<=sPe},dPe=function(t){return t>=Bne&&t<=oPe},hPe=function(t){return t>=kne&&t<=cPe},APe=function(t){return dPe(t)||hPe(t)},fPe=function(t){return t>=GOe},Xv=function(t){return t===I3||t===LOe||t===NOe},O3=function(t){return APe(t)||fPe(t)||t===POe},Sz=function(t){return O3(t)||Wn(t)||t===Ti},pPe=function(t){return t>=ZOe&&t<=ePe||t===tPe||t>=rPe&&t<=nPe||t===iPe},Oc=function(t,e){return t!==Ym?!1:e!==I3},Yv=function(t,e,r){return t===Ti?O3(e)||Oc(e,r):O3(t)?!0:!!(t===Ym&&Oc(t,e))},yC=function(t,e,r){return t===qd||t===Ti?Wn(e)?!0:e===l1&&Wn(r):Wn(t===l1?e:t)},mPe=function(t){var e=0,r=1;(t[e]===qd||t[e]===Ti)&&(t[e]===Ti&&(r=-1),e++);for(var n=[];Wn(t[e]);)n.push(t[e++]);var i=n.length?parseInt(Or.apply(void 0,n),10):0;t[e]===l1&&e++;for(var s=[];Wn(t[e]);)s.push(t[e++]);var a=s.length,o=a?parseInt(Or.apply(void 0,s),10):0;(t[e]===Ene||t[e]===_ne)&&e++;var l=1;(t[e]===qd||t[e]===Ti)&&(t[e]===Ti&&(l=-1),e++);for(var c=[];Wn(t[e]);)c.push(t[e++]);var u=c.length?parseInt(Or.apply(void 0,c),10):0;return r*(i+o*Math.pow(10,-a))*Math.pow(10,l*u)},gPe={type:2},yPe={type:3},vPe={type:4},xPe={type:13},bPe={type:8},wPe={type:21},CPe={type:9},SPe={type:10},BPe={type:11},_Pe={type:12},kPe={type:14},Jv={type:23},EPe={type:1},MPe={type:25},FPe={type:24},TPe={type:26},DPe={type:27},LPe={type:28},NPe={type:29},jPe={type:31},E_={type:32},Fne=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(I5(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==E_;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Kv:return this.consumeStringToken(Kv);case jOe:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(Sz(r)||Oc(n,i)){var s=Yv(r,n,i)?DOe:TOe,a=this.consumeName();return{type:5,value:a,flags:s}}break;case IOe:if(this.peekCodePoint(0)===Lp)return this.consumeCodePoint(),xPe;break;case qv:return this.consumeStringToken(qv);case Wv:return gPe;case Np:return yPe;case gC:if(this.peekCodePoint(0)===Lp)return this.consumeCodePoint(),kPe;break;case qd:if(yC(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case XOe:return vPe;case Ti:var o=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(yC(o,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Yv(o,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Ti&&c===ROe)return this.consumeCodePoint(),this.consumeCodePoint(),FPe;break;case l1:if(yC(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case bz:if(this.peekCodePoint(0)===gC)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===gC&&(u=this.consumeCodePoint(),u===bz))return this.consumeToken();if(u===Xa)return this.consumeToken()}break;case YOe:return TPe;case JOe:return DPe;case QOe:if(this.peekCodePoint(0)===UOe&&this.peekCodePoint(1)===Ti&&this.peekCodePoint(2)===Ti)return this.consumeCodePoint(),this.consumeCodePoint(),MPe;break;case HOe:var d=this.peekCodePoint(0),A=this.peekCodePoint(1),f=this.peekCodePoint(2);if(Yv(d,A,f)){var a=this.consumeName();return{type:7,value:a}}break;case zOe:return LPe;case Ym:if(Oc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case $Oe:return NPe;case VOe:if(this.peekCodePoint(0)===Lp)return this.consumeCodePoint(),bPe;break;case KOe:return BPe;case qOe:return _Pe;case aPe:case lPe:var p=this.peekCodePoint(0),m=this.peekCodePoint(1);return p===qd&&(x0(m)||m===Gv)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case wz:if(this.peekCodePoint(0)===Lp)return this.consumeCodePoint(),CPe;if(this.peekCodePoint(0)===wz)return this.consumeCodePoint(),wPe;break;case WOe:if(this.peekCodePoint(0)===Lp)return this.consumeCodePoint(),SPe;break;case Xa:return E_}return Xv(e)?(this.consumeWhiteSpace(),jPe):Wn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):O3(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Or(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();x0(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===Gv&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Or.apply(void 0,e.map(function(l){return l===Gv?Sne:l})),16),s=parseInt(Or.apply(void 0,e.map(function(l){return l===Gv?Mne:l})),16);return{type:30,start:i,end:s}}var a=parseInt(Or.apply(void 0,e),16);if(this.peekCodePoint(0)===Ti&&x0(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];x0(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var s=parseInt(Or.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Wv?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Wv?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Xa)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===qv||r===Kv){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Xa||this.peekCodePoint(0)===Np)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Jv)}for(;;){var i=this.consumeCodePoint();if(i===Xa||i===Np)return{type:22,value:Or.apply(void 0,e)};if(Xv(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Xa||this.peekCodePoint(0)===Np?(this.consumeCodePoint(),{type:22,value:Or.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Jv);if(i===Kv||i===qv||i===Wv||pPe(i))return this.consumeBadUrlRemnants(),Jv;if(i===Ym)if(Oc(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Jv;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;Xv(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Np||e===Xa)return;Oc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=Or.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===Xa||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===I3)return this._value.splice(0,n),EPe;if(i===Ym){var s=this._value[n+1];s!==Xa&&s!==void 0&&(s===I3?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Oc(i,s)&&(r+=this.consumeStringSlice(n),r+=Or(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=J1,n=this.peekCodePoint(0);for((n===qd||n===Ti)&&e.push(this.consumeCodePoint());Wn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===l1&&Wn(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=xz;Wn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===Ene||n===_ne)&&((i===qd||i===Ti)&&Wn(s)||Wn(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=xz;Wn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[mPe(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(Yv(i,s,a)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return i===OOe?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(x0(e)){for(var r=Or(e);x0(this.peekCodePoint(0))&&r.length<6;)r+=Or(this.consumeCodePoint());Xv(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||uPe(n)||n>1114111?Cz:n}return e===Xa?Cz:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(Sz(r))e+=Or(r);else if(Oc(r,this.peekCodePoint(0)))e+=Or(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),Tne=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new Fne;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||OPe(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?E_:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Z1=function(t){return t.type===15},Df=function(t){return t.type===17},Gt=function(t){return t.type===20},IPe=function(t){return t.type===0},M_=function(t,e){return Gt(t)&&t.value===e},Dne=function(t){return t.type!==31},rf=function(t){return t.type!==31&&t.type!==4},Po=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},OPe=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Nu=function(t){return t.type===17||t.type===15},Zr=function(t){return t.type===16||Nu(t)},Lne=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Ln={type:17,number:0,flags:J1},oT={type:16,number:50,flags:J1},Zc={type:16,number:100,flags:J1},am=function(t,e,r){var n=t[0],i=t[1];return[rr(n,e),rr(typeof i<"u"?i:n,r)]},rr=function(t,e){if(t.type===16)return t.number/100*e;if(Z1(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},Nne="deg",jne="grad",Ine="rad",One="turn",O5={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case Nne:return Math.PI*e.number/180;case jne:return Math.PI/200*e.number;case Ine:return e.number;case One:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Pne=function(t){return t.type===15&&(t.unit===Nne||t.unit===jne||t.unit===Ine||t.unit===One)},Une=function(t){var e=t.filter(Gt).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ln,Ln];case"to top":case"bottom":return Ks(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ln,Zc];case"to right":case"left":return Ks(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Zc,Zc];case"to bottom":case"top":return Ks(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Zc,Ln];case"to left":case"right":return Ks(270)}return 0},Ks=function(t){return Math.PI*t/180},hu={name:"color",parse:function(t,e){if(e.type===18){var r=PPe[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return eu(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return eu(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return eu(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return eu(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=El[e.value.toUpperCase()];if(typeof o<"u")return o}return El.TRANSPARENT}},Au=function(t){return(255&t)===0},mn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},eu=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},Bz=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},_z=function(t,e){var r=e.filter(rf);if(r.length===3){var n=r.map(Bz),i=n[0],s=n[1],a=n[2];return eu(i,s,a,1)}if(r.length===4){var o=r.map(Bz),i=o[0],s=o[1],a=o[2],l=o[3];return eu(i,s,a,l)}return 0};function vC(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var kz=function(t,e){var r=e.filter(rf),n=r[0],i=r[1],s=r[2],a=r[3],o=(n.type===17?Ks(n.number):O5.parse(t,n))/(Math.PI*2),l=Zr(i)?i.number/100:0,c=Zr(s)?s.number/100:0,u=typeof a<"u"&&Zr(a)?rr(a,1):1;if(l===0)return eu(c*255,c*255,c*255,1);var d=c<=.5?c*(l+1):c+l-c*l,A=c*2-d,f=vC(A,d,o+1/3),p=vC(A,d,o),m=vC(A,d,o-1/3);return eu(f*255,p*255,m*255,u)},PPe={hsl:kz,hsla:kz,rgb:_z,rgba:_z},Jm=function(t,e){return hu.parse(t,Tne.create(e).parseComponentValue())},El={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},UPe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Gt(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},QPe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},P5=function(t,e){var r=hu.parse(t,e[0]),n=e[1];return n&&Zr(n)?{color:r,stop:n}:{color:r,stop:null}},Ez=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Ln),n.stop===null&&(n.stop=Zc);for(var i=[],s=0,a=0;a<t.length;a++){var o=t[a].stop;if(o!==null){var l=rr(o,e);l>s?i.push(l):i.push(s),s=l}else i.push(null)}for(var c=null,a=0;a<i.length;a++){var u=i[a];if(u===null)c===null&&(c=a);else if(c!==null){for(var d=a-c,A=i[c-1],f=(u-A)/(d+1),p=1;p<=d;p++)i[c+p-1]=f*p;c=null}}return t.map(function(m,y){var g=m.color;return{color:g,stop:Math.max(Math.min(1,i[y]/e),0)}})},RPe=function(t,e,r){var n=e/2,i=r/2,s=rr(t[0],e)-n,a=i-rr(t[1],r);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},HPe=function(t,e,r){var n=typeof t=="number"?t:RPe(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,a=r/2,o=i/2,l=Math.sin(n-Math.PI/2)*o,c=Math.cos(n-Math.PI/2)*o;return[i,s-c,s+c,a-l,a+l]},Aa=function(t,e){return Math.sqrt(t*t+e*e)},Mz=function(t,e,r,n,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(a,o){var l=o[0],c=o[1],u=Aa(r-l,n-c);return(i?u<a.optimumDistance:u>a.optimumDistance)?{optimumCorner:o,optimumDistance:u}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},zPe=function(t,e,r,n,i){var s=0,a=0;switch(t.size){case 0:t.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)s=a=Math.min(Aa(e,r),Aa(e,r-i),Aa(e-n,r),Aa(e-n,r-i));else if(t.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),l=Mz(n,i,e,r,!0),c=l[0],u=l[1];s=Aa(c-e,(u-r)/o),a=o*s}break;case 1:t.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)s=a=Math.max(Aa(e,r),Aa(e,r-i),Aa(e-n,r),Aa(e-n,r-i));else if(t.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),d=Mz(n,i,e,r,!1),c=d[0],u=d[1];s=Aa(c-e,(u-r)/o),a=o*s}break}return Array.isArray(t.size)&&(s=rr(t.size[0],n),a=t.size.length===2?rr(t.size[1],i):s),[s,a]},$Pe=function(t,e){var r=Ks(180),n=[];return Po(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){r=Une(i);return}else if(Pne(a)){r=O5.parse(t,a);return}}var o=P5(t,i);n.push(o)}),{angle:r,stops:n,type:1}},Zv=function(t,e){var r=Ks(180),n=[];return Po(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){r=Une(i);return}else if(Pne(a)){r=(O5.parse(t,a)+Ks(270))%Ks(360);return}}var o=P5(t,i);n.push(o)}),{angle:r,stops:n,type:1}},VPe=function(t,e){var r=Ks(180),n=[],i=1,s=0,a=3,o=[];return Po(e).forEach(function(l,c){var u=l[0];if(c===0){if(Gt(u)&&u.value==="linear"){i=1;return}else if(Gt(u)&&u.value==="radial"){i=2;return}}if(u.type===18){if(u.name==="from"){var d=hu.parse(t,u.values[0]);n.push({stop:Ln,color:d})}else if(u.name==="to"){var d=hu.parse(t,u.values[0]);n.push({stop:Zc,color:d})}else if(u.name==="color-stop"){var A=u.values.filter(rf);if(A.length===2){var d=hu.parse(t,A[1]),f=A[0];Df(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:d})}}}}),i===1?{angle:(r+Ks(180))%Ks(360),stops:n,type:i}:{size:a,shape:s,stops:n,position:o,type:i}},Qne="closest-side",Rne="farthest-side",Hne="closest-corner",zne="farthest-corner",$ne="circle",Vne="ellipse",Kne="cover",qne="contain",KPe=function(t,e){var r=0,n=3,i=[],s=[];return Po(e).forEach(function(a,o){var l=!0;if(o===0){var c=!1;l=a.reduce(function(d,A){if(c)if(Gt(A))switch(A.value){case"center":return s.push(oT),d;case"top":case"left":return s.push(Ln),d;case"right":case"bottom":return s.push(Zc),d}else(Zr(A)||Nu(A))&&s.push(A);else if(Gt(A))switch(A.value){case $ne:return r=0,!1;case Vne:return r=1,!1;case"at":return c=!0,!1;case Qne:return n=0,!1;case Kne:case Rne:return n=1,!1;case qne:case Hne:return n=2,!1;case zne:return n=3,!1}else if(Nu(A)||Zr(A))return Array.isArray(n)||(n=[]),n.push(A),!1;return d},l)}if(l){var u=P5(t,a);i.push(u)}}),{size:n,shape:r,stops:i,position:s,type:2}},e4=function(t,e){var r=0,n=3,i=[],s=[];return Po(e).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(u,d){if(Gt(d))switch(d.value){case"center":return s.push(oT),!1;case"top":case"left":return s.push(Ln),!1;case"right":case"bottom":return s.push(Zc),!1}else if(Zr(d)||Nu(d))return s.push(d),!1;return u},l):o===1&&(l=a.reduce(function(u,d){if(Gt(d))switch(d.value){case $ne:return r=0,!1;case Vne:return r=1,!1;case qne:case Qne:return n=0,!1;case Rne:return n=1,!1;case Hne:return n=2,!1;case Kne:case zne:return n=3,!1}else if(Nu(d)||Zr(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return u},l)),l){var c=P5(t,a);i.push(c)}}),{size:n,shape:r,stops:i,position:s,type:2}},qPe=function(t){return t.type===1},WPe=function(t){return t.type===2},lT={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=Wne[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function GPe(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!Wne[t.name])}var Wne={"linear-gradient":$Pe,"-moz-linear-gradient":Zv,"-ms-linear-gradient":Zv,"-o-linear-gradient":Zv,"-webkit-linear-gradient":Zv,"radial-gradient":KPe,"-moz-radial-gradient":e4,"-ms-radial-gradient":e4,"-o-radial-gradient":e4,"-webkit-radial-gradient":e4,"-webkit-gradient":VPe},XPe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return rf(n)&&GPe(n)}).map(function(n){return lT.parse(t,n)})}},YPe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Gt(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},JPe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Po(e).map(function(r){return r.filter(Zr)}).map(Lne)}},ZPe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Po(e).map(function(r){return r.filter(Gt).map(function(n){return n.value}).join(" ")}).map(eUe)}},eUe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},TA;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(TA||(TA={}));var tUe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Po(e).map(function(r){return r.filter(rUe)})}},rUe=function(t){return Gt(t)||Zr(t)},U5=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},nUe=U5("top"),iUe=U5("right"),sUe=U5("bottom"),aUe=U5("left"),Q5=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return Lne(r.filter(Zr))}}},oUe=Q5("top-left"),lUe=Q5("top-right"),cUe=Q5("bottom-right"),uUe=Q5("bottom-left"),R5=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},dUe=R5("top"),hUe=R5("right"),AUe=R5("bottom"),fUe=R5("left"),H5=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Z1(r)?r.number:0}}},pUe=H5("top"),mUe=H5("right"),gUe=H5("bottom"),yUe=H5("left"),vUe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},xUe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},bUe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Gt).reduce(function(r,n){return r|wUe(n.value)},0)}},wUe=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},CUe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},SUe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},P3;(function(t){t.NORMAL="normal",t.STRICT="strict"})(P3||(P3={}));var BUe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return P3.STRICT;case"normal":default:return P3.NORMAL}}},_Ue={name:"line-height",initialValue:"normal",prefix:!1,type:4},Fz=function(t,e){return Gt(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Zr(t)?rr(t,e):e},kUe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:lT.parse(t,e)}},EUe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},F_={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},z5=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},MUe=z5("top"),FUe=z5("right"),TUe=z5("bottom"),DUe=z5("left"),LUe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Gt).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},NUe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},$5=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},jUe=$5("top"),IUe=$5("right"),OUe=$5("bottom"),PUe=$5("left"),UUe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},QUe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},RUe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&M_(e[0],"none")?[]:Po(e).map(function(r){for(var n={color:El.TRANSPARENT,offsetX:Ln,offsetY:Ln,blur:Ln},i=0,s=0;s<r.length;s++){var a=r[s];Nu(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:n.blur=a,i++):n.color=hu.parse(t,a)}return n})}},HUe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},zUe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=KUe[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},$Ue=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},VUe=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[r,n,i,s,a,o]:null},KUe={matrix:$Ue,matrix3d:VUe},Tz={type:16,number:50,flags:J1},qUe=[Tz,Tz],WUe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Zr);return r.length!==2?qUe:[r[0],r[1]]}},GUe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Zm;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Zm||(Zm={}));var XUe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Zm.BREAK_ALL;case"keep-all":return Zm.KEEP_ALL;case"normal":default:return Zm.NORMAL}}},YUe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Df(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Gne={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},JUe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Df(e)?e.number:1}},ZUe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},eQe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Gt).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},tQe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},rQe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},nQe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Df(e))return e.number;if(Gt(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},iQe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Gt).map(function(r){return r.value})}},sQe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},on=function(t,e){return(t&e)!==0},aQe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},oQe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(Dne),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var l=o&&Df(o)?o.number:1;n.push({counter:a.value,increment:l})}}return n}},lQe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(Dne),i=0;i<n.length;i++){var s=n[i],a=n[i+1];if(Gt(s)&&s.value!=="none"){var o=a&&Df(a)?a.number:0;r.push({counter:s.value,reset:o})}}return r}},cQe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Z1).map(function(r){return Gne.parse(t,r)})}},uQe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(IPe);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;n.push({open:a,close:o})}return n}},Dz=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},dQe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&M_(e[0],"none")?[]:Po(e).map(function(r){for(var n={color:255,offsetX:Ln,offsetY:Ln,blur:Ln,spread:Ln,inset:!1},i=0,s=0;s<r.length;s++){var a=r[s];M_(a,"inset")?n.inset=!0:Nu(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:i===2?n.blur=a:n.spread=a,i++):n.color=hu.parse(t,a)}return n})}},hQe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(Gt).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},AQe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},fQe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Z1(e)?e.number:0}},pQe=function(){function t(e,r){var n,i;this.animationDuration=Ie(e,cQe,r.animationDuration),this.backgroundClip=Ie(e,UPe,r.backgroundClip),this.backgroundColor=Ie(e,QPe,r.backgroundColor),this.backgroundImage=Ie(e,XPe,r.backgroundImage),this.backgroundOrigin=Ie(e,YPe,r.backgroundOrigin),this.backgroundPosition=Ie(e,JPe,r.backgroundPosition),this.backgroundRepeat=Ie(e,ZPe,r.backgroundRepeat),this.backgroundSize=Ie(e,tUe,r.backgroundSize),this.borderTopColor=Ie(e,nUe,r.borderTopColor),this.borderRightColor=Ie(e,iUe,r.borderRightColor),this.borderBottomColor=Ie(e,sUe,r.borderBottomColor),this.borderLeftColor=Ie(e,aUe,r.borderLeftColor),this.borderTopLeftRadius=Ie(e,oUe,r.borderTopLeftRadius),this.borderTopRightRadius=Ie(e,lUe,r.borderTopRightRadius),this.borderBottomRightRadius=Ie(e,cUe,r.borderBottomRightRadius),this.borderBottomLeftRadius=Ie(e,uUe,r.borderBottomLeftRadius),this.borderTopStyle=Ie(e,dUe,r.borderTopStyle),this.borderRightStyle=Ie(e,hUe,r.borderRightStyle),this.borderBottomStyle=Ie(e,AUe,r.borderBottomStyle),this.borderLeftStyle=Ie(e,fUe,r.borderLeftStyle),this.borderTopWidth=Ie(e,pUe,r.borderTopWidth),this.borderRightWidth=Ie(e,mUe,r.borderRightWidth),this.borderBottomWidth=Ie(e,gUe,r.borderBottomWidth),this.borderLeftWidth=Ie(e,yUe,r.borderLeftWidth),this.boxShadow=Ie(e,dQe,r.boxShadow),this.color=Ie(e,vUe,r.color),this.direction=Ie(e,xUe,r.direction),this.display=Ie(e,bUe,r.display),this.float=Ie(e,CUe,r.cssFloat),this.fontFamily=Ie(e,tQe,r.fontFamily),this.fontSize=Ie(e,rQe,r.fontSize),this.fontStyle=Ie(e,sQe,r.fontStyle),this.fontVariant=Ie(e,iQe,r.fontVariant),this.fontWeight=Ie(e,nQe,r.fontWeight),this.letterSpacing=Ie(e,SUe,r.letterSpacing),this.lineBreak=Ie(e,BUe,r.lineBreak),this.lineHeight=Ie(e,_Ue,r.lineHeight),this.listStyleImage=Ie(e,kUe,r.listStyleImage),this.listStylePosition=Ie(e,EUe,r.listStylePosition),this.listStyleType=Ie(e,F_,r.listStyleType),this.marginTop=Ie(e,MUe,r.marginTop),this.marginRight=Ie(e,FUe,r.marginRight),this.marginBottom=Ie(e,TUe,r.marginBottom),this.marginLeft=Ie(e,DUe,r.marginLeft),this.opacity=Ie(e,JUe,r.opacity);var s=Ie(e,LUe,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Ie(e,NUe,r.overflowWrap),this.paddingTop=Ie(e,jUe,r.paddingTop),this.paddingRight=Ie(e,IUe,r.paddingRight),this.paddingBottom=Ie(e,OUe,r.paddingBottom),this.paddingLeft=Ie(e,PUe,r.paddingLeft),this.paintOrder=Ie(e,hQe,r.paintOrder),this.position=Ie(e,QUe,r.position),this.textAlign=Ie(e,UUe,r.textAlign),this.textDecorationColor=Ie(e,ZUe,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Ie(e,eQe,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=Ie(e,RUe,r.textShadow),this.textTransform=Ie(e,HUe,r.textTransform),this.transform=Ie(e,zUe,r.transform),this.transformOrigin=Ie(e,WUe,r.transformOrigin),this.visibility=Ie(e,GUe,r.visibility),this.webkitTextStrokeColor=Ie(e,AQe,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ie(e,fQe,r.webkitTextStrokeWidth),this.wordBreak=Ie(e,XUe,r.wordBreak),this.zIndex=Ie(e,YUe,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Au(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return on(this.display,4)||on(this.display,33554432)||on(this.display,268435456)||on(this.display,536870912)||on(this.display,67108864)||on(this.display,134217728)},t}(),mQe=function(){function t(e,r){this.content=Ie(e,aQe,r.content),this.quotes=Ie(e,uQe,r.quotes)}return t}(),Lz=function(){function t(e,r){this.counterIncrement=Ie(e,oQe,r.counterIncrement),this.counterReset=Ie(e,lQe,r.counterReset)}return t}(),Ie=function(t,e,r){var n=new Fne,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var s=new Tne(n.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(t,Gt(a)?a.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return O5.parse(t,s.parseComponentValue());case"color":return hu.parse(t,s.parseComponentValue());case"image":return lT.parse(t,s.parseComponentValue());case"length":var o=s.parseComponentValue();return Nu(o)?o:Ln;case"length-percentage":var l=s.parseComponentValue();return Zr(l)?l:Ln;case"time":return Gne.parse(t,s.parseComponentValue())}break}},gQe="data-html2canvas-debug",yQe=function(t){var e=t.getAttribute(gQe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},T_=function(t,e){var r=yQe(t);return r===1||e===r},Uo=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,T_(r,3))debugger;this.styles=new pQe(e,window.getComputedStyle(r,null)),N_(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=j5(this.context,r),T_(r,4)&&(this.flags|=16)}return t}(),vQe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Nz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",om=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var t4=0;t4<Nz.length;t4++)om[Nz.charCodeAt(t4)]=t4;var xQe=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)s=om[t.charCodeAt(n)],a=om[t.charCodeAt(n+1)],o=om[t.charCodeAt(n+2)],l=om[t.charCodeAt(n+3)],u[i++]=s<<2|a>>4,u[i++]=(a&15)<<4|o>>2,u[i++]=(o&3)<<6|l&63;return c},bQe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},wQe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},oh=5,cT=11,xC=2,CQe=cT-oh,Xne=65536>>oh,SQe=1<<oh,bC=SQe-1,BQe=1024>>oh,_Qe=Xne+BQe,kQe=_Qe,EQe=32,MQe=kQe+EQe,FQe=65536>>cT,TQe=1<<CQe,DQe=TQe-1,jz=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},LQe=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},NQe=function(t,e){var r=xQe(t),n=Array.isArray(r)?wQe(r):new Uint32Array(r),i=Array.isArray(r)?bQe(r):new Uint16Array(r),s=24,a=jz(i,s/2,n[4]/2),o=n[5]===2?jz(i,(s+n[4])/2):LQe(n,Math.ceil((s+n[4])/4));return new jQe(n[0],n[1],n[2],n[3],a,o)},jQe=function(){function t(e,r,n,i,s,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>oh],r=(r<<xC)+(e&bC),this.data[r];if(e<=65535)return r=this.index[Xne+(e-55296>>oh)],r=(r<<xC)+(e&bC),this.data[r];if(e<this.highStart)return r=MQe-FQe+(e>>cT),r=this.index[r],r+=e>>oh&DQe,r=this.index[r],r=(r<<xC)+(e&bC),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Iz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",IQe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var r4=0;r4<Iz.length;r4++)IQe[Iz.charCodeAt(r4)]=r4;var OQe=1,wC=2,CC=3,Oz=4,Pz=5,PQe=7,Uz=8,SC=9,BC=10,Qz=11,Rz=12,Hz=13,zz=14,_C=15,UQe=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},QQe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=t[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},RQe=NQe(vQe),Os="",kC="",HQe=function(t){return RQe.get(t)},zQe=function(t,e,r){var n=r-2,i=e[n],s=e[r-1],a=e[r];if(s===wC&&a===CC)return Os;if(s===wC||s===CC||s===Oz||a===wC||a===CC||a===Oz)return kC;if(s===Uz&&[Uz,SC,Qz,Rz].indexOf(a)!==-1||(s===Qz||s===SC)&&(a===SC||a===BC)||(s===Rz||s===BC)&&a===BC||a===Hz||a===Pz||a===PQe||s===OQe)return Os;if(s===Hz&&a===zz){for(;i===Pz;)i=e[--n];if(i===zz)return Os}if(s===_C&&a===_C){for(var o=0;i===_C;)o++,i=e[--n];if(o%2===0)return Os}return kC},$Qe=function(t){var e=UQe(t),r=e.length,n=0,i=0,s=e.map(HQe);return{next:function(){if(n>=r)return{done:!0,value:null};for(var a=Os;n<r&&(a=zQe(e,s,++n))===Os;);if(a!==Os||n===r){var o=QQe.apply(null,e.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},VQe=function(t){for(var e=$Qe(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},KQe=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(n),s===e)return!0}}return!1},qQe=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=I5(n.data).map(function(l){return Or(l)}),s=0,a={},o=i.every(function(l,c){r.setStart(n,s),r.setEnd(n,s+l.length);var u=r.getBoundingClientRect();s+=l.length;var d=u.x>a.x||u.y>a.y;return a=u,c===0?!0:d});return t.body.removeChild(e),o},WQe=function(){return typeof new Image().crossOrigin<"u"},GQe=function(){return typeof new XMLHttpRequest().responseType=="string"},XQe=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},$z=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},YQe=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,s=e.toDataURL();i.src=s;var a=D_(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),Vz(a).then(function(o){n.drawImage(o,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var c=t.createElement("div");return c.style.backgroundImage="url("+s+")",c.style.height=r+"px",$z(l)?Vz(D_(r,r,0,0,c)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),$z(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},D_=function(t,e,r,n,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},Vz=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},En={get SUPPORT_RANGE_BOUNDS(){var t=KQe(document);return Object.defineProperty(En,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=En.SUPPORT_RANGE_BOUNDS&&qQe(document);return Object.defineProperty(En,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=XQe(document);return Object.defineProperty(En,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?YQe(document):Promise.resolve(!1);return Object.defineProperty(En,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=WQe();return Object.defineProperty(En,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=GQe();return Object.defineProperty(En,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(En,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(En,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},eg=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),JQe=function(t,e,r,n){var i=tRe(e,r),s=[],a=0;return i.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(En.SUPPORT_RANGE_BOUNDS){var l=Kz(n,a,o.length).getClientRects();if(l.length>1){var c=uT(o),u=0;c.forEach(function(A){s.push(new eg(A,zl.fromDOMRectList(t,Kz(n,u+a,A.length).getClientRects()))),u+=A.length})}else s.push(new eg(o,zl.fromDOMRectList(t,l)))}else{var d=n.splitText(o.length);s.push(new eg(o,ZQe(t,n))),n=d}else En.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));a+=o.length}),s},ZQe=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=j5(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return zl.EMPTY},Kz=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},uT=function(t){if(En.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return VQe(t)},eRe=function(t,e){if(En.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return nRe(t,e)},tRe=function(t,e){return e.letterSpacing!==0?uT(t):eRe(t,e)},rRe=[32,160,4961,65792,65793,4153,4241],nRe=function(t,e){for(var r=FOe(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var a=i.value.slice(),o=I5(a),l="";o.forEach(function(c){rRe.indexOf(c)===-1?l+=Or(c):(l.length&&n.push(l),n.push(Or(c)),l="")}),l.length&&n.push(l)}};!(i=r.next()).done;)s();return n},iRe=function(){function t(e,r,n){this.text=sRe(r.data,n.textTransform),this.textBounds=JQe(e,this.text,n,r)}return t}(),sRe=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(aRe,oRe);case 2:return t.toUpperCase();default:return t}},aRe=/(^|\s|:|-|\(|\))([a-z])/g,oRe=function(t,e,r){return t.length>0?e+r.toUpperCase():t},Yne=function(t){Ra(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(Uo),Jne=function(t){Ra(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(Uo),Zne=function(t){Ra(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=new XMLSerializer,a=j5(r,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(Uo),eie=function(t){Ra(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Uo),L_=function(t){Ra(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(Uo),lRe=[{type:15,flags:0,unit:"px",number:3}],cRe=[{type:16,flags:0,number:50}],uRe=function(t){return t.width>t.height?new zl(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new zl(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},dRe=function(t){var e=t.type===hRe?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},U3="checkbox",Q3="radio",hRe="password",qz=707406591,dT=function(t){Ra(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=dRe(n),(i.type===U3||i.type===Q3)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=uRe(i.bounds)),i.type){case U3:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=lRe;break;case Q3:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=cRe;break}return i}return e}(Uo),tie=function(t){Ra(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(Uo),rie=function(t){Ra(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Uo),nie=function(t){Ra(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=sie(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?Jm(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):El.TRANSPARENT,a=n.contentWindow.document.body?Jm(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):El.TRANSPARENT;i.backgroundColor=Au(s)?Au(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e}(Uo),ARe=["OL","UL","MENU"],Ix=function(t,e,r,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,aie(i)&&i.data.trim().length>0)r.textNodes.push(new iRe(t,i,r.styles));else if(oA(i))if(uie(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return Ix(t,o,r,n)});else{var a=iie(t,i);a.styles.isVisible()&&(fRe(i,a,n)?a.flags|=4:pRe(a.styles)&&(a.flags|=2),ARe.indexOf(i.tagName)!==-1&&(a.flags|=8),r.elements.push(a),i.slot,i.shadowRoot?Ix(t,i.shadowRoot,a,n):!R3(i)&&!oie(i)&&!H3(i)&&Ix(t,i,a,n))}},iie=function(t,e){return j_(e)?new Yne(t,e):lie(e)?new Jne(t,e):oie(e)?new Zne(t,e):mRe(e)?new eie(t,e):gRe(e)?new L_(t,e):yRe(e)?new dT(t,e):H3(e)?new tie(t,e):R3(e)?new rie(t,e):cie(e)?new nie(t,e):new Uo(t,e)},sie=function(t,e){var r=iie(t,e);return r.flags|=4,Ix(t,e,r,r),r},fRe=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||hT(t)&&r.styles.isTransparent()},pRe=function(t){return t.isPositioned()||t.isFloating()},aie=function(t){return t.nodeType===Node.TEXT_NODE},oA=function(t){return t.nodeType===Node.ELEMENT_NODE},N_=function(t){return oA(t)&&typeof t.style<"u"&&!Ox(t)},Ox=function(t){return typeof t.className=="object"},mRe=function(t){return t.tagName==="LI"},gRe=function(t){return t.tagName==="OL"},yRe=function(t){return t.tagName==="INPUT"},vRe=function(t){return t.tagName==="HTML"},oie=function(t){return t.tagName==="svg"},hT=function(t){return t.tagName==="BODY"},lie=function(t){return t.tagName==="CANVAS"},Wz=function(t){return t.tagName==="VIDEO"},j_=function(t){return t.tagName==="IMG"},cie=function(t){return t.tagName==="IFRAME"},Gz=function(t){return t.tagName==="STYLE"},xRe=function(t){return t.tagName==="SCRIPT"},R3=function(t){return t.tagName==="TEXTAREA"},H3=function(t){return t.tagName==="SELECT"},uie=function(t){return t.tagName==="SLOT"},Xz=function(t){return t.tagName.indexOf("-")>0},bRe=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(o){var l=r.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var l=r.counters[o.counter];a.push(o.counter),l||(l=r.counters[o.counter]=[]),l.push(o.reset)}),a},t}(),Yz={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Jz={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},wRe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},CRe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},b0=function(t,e,r,n,i,s){return t<e||t>r?c1(t,i,s.length>0):n.integers.reduce(function(a,o,l){for(;t>=o;)t-=o,a+=n.values[l];return a},"")+s},die=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},Nr=function(t,e,r,n,i){var s=r-e+1;return(t<0?"-":"")+(die(Math.abs(t),s,n,function(a){return Or(Math.floor(a%s)+e)})+i)},md=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return die(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},E0=1,Fc=2,Tc=4,lm=8,Yo=function(t,e,r,n,i,s){if(t<-9999||t>9999)return c1(t,4,i.length>0);var a=Math.abs(t),o=i;if(a===0)return e[0]+o;for(var l=0;a>0&&l<=4;l++){var c=a%10;c===0&&on(s,E0)&&o!==""?o=e[c]+o:c>1||c===1&&l===0||c===1&&l===1&&on(s,Fc)||c===1&&l===1&&on(s,Tc)&&t>100||c===1&&l>1&&on(s,lm)?o=e[c]+(l>0?r[l-1]:"")+o:c===1&&l>0&&(o=r[l-1]+o),a=Math.floor(a/10)}return(t<0?n:"")+o},Zz="",e$="",t$="",EC="",c1=function(t,e,r){var n=r?". ":"",i=r?"":"",s=r?", ":"",a=r?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=Nr(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return md(t,"",i);case 6:return b0(t,1,3999,Yz,3,n).toLowerCase();case 7:return b0(t,1,3999,Yz,3,n);case 8:return Nr(t,945,969,!1,n);case 9:return Nr(t,97,122,!1,n);case 10:return Nr(t,65,90,!1,n);case 11:return Nr(t,1632,1641,!0,n);case 12:case 49:return b0(t,1,9999,Jz,3,n);case 35:return b0(t,1,9999,Jz,3,n).toLowerCase();case 13:return Nr(t,2534,2543,!0,n);case 14:case 30:return Nr(t,6112,6121,!0,n);case 15:return md(t,"",i);case 16:return md(t,"",i);case 17:case 48:return Yo(t,"",Zz,"",i,Fc|Tc|lm);case 47:return Yo(t,"",e$,"",i,E0|Fc|Tc|lm);case 42:return Yo(t,"",Zz,"",i,Fc|Tc|lm);case 41:return Yo(t,"",e$,"",i,E0|Fc|Tc|lm);case 26:return Yo(t,"","",t$,i,0);case 25:return Yo(t,"","",t$,i,E0|Fc|Tc);case 31:return Yo(t,"","",EC,s,E0|Fc|Tc);case 33:return Yo(t,"","",EC,s,0);case 32:return Yo(t,"","",EC,s,E0|Fc|Tc);case 18:return Nr(t,2406,2415,!0,n);case 20:return b0(t,1,19999,CRe,3,n);case 21:return Nr(t,2790,2799,!0,n);case 22:return Nr(t,2662,2671,!0,n);case 22:return b0(t,1,10999,wRe,3,n);case 23:return md(t,"");case 24:return md(t,"");case 27:return Nr(t,3302,3311,!0,n);case 28:return md(t,"",i);case 29:return md(t,"",i);case 34:return Nr(t,3792,3801,!0,n);case 37:return Nr(t,6160,6169,!0,n);case 38:return Nr(t,4160,4169,!0,n);case 39:return Nr(t,2918,2927,!0,n);case 40:return Nr(t,1776,1785,!0,n);case 43:return Nr(t,3046,3055,!0,n);case 44:return Nr(t,3174,3183,!0,n);case 45:return Nr(t,3664,3673,!0,n);case 46:return Nr(t,3872,3881,!0,n);case 3:default:return Nr(t,48,57,!0,n)}},hie="data-html2canvas-ignore",r$=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new bRe,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=SRe(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,l=o.document,c=kRe(i).then(function(){return li(n,void 0,void 0,function(){var u,d;return $n(this,function(A){switch(A.label){case 0:return this.scrolledElements.forEach(TRe),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),u=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:A.sent(),A.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,_Re(l)]:[3,4];case 3:A.sent(),A.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,d)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(MRe(document.doctype)+"<html></html>"),FRe(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},t.prototype.createElementClone=function(e){if(T_(e,2))debugger;if(lie(e))return this.createCanvasClone(e);if(Wz(e))return this.createVideoClone(e);if(Gz(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return j_(r)&&(j_(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),Xz(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return MC(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!oA(r)||!xRe(r)&&!r.hasAttribute(hie)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!oA(r)||!Gz(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(oA(s)&&uie(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(r,o,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(aie(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&oA(e)&&(N_(e)||Ox(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&N_(i)&&(this.clonedReferenceElement=i),hT(i)&&NRe(i);var l=this.counters.parse(new Lz(this.context,s)),c=this.resolvePseudoContent(e,i,a,tg.BEFORE);Xz(e)&&(r=!0),Wz(e)||this.cloneChildNodes(e,i,r),c&&i.insertBefore(c,i.firstChild);var u=this.resolvePseudoContent(e,i,o,tg.AFTER);return u&&i.appendChild(u),this.counters.pop(l),(s&&(this.options.copyStyles||Ox(e))&&!cie(e)||r)&&MC(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(R3(e)||H3(e))&&(R3(i)||H3(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var s=this;if(n){var a=n.content,o=r.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new Lz(this.context,n));var l=new mQe(this.context,n),c=o.createElement("html2canvaspseudoelement");MC(n,c),l.content.forEach(function(d){if(d.type===0)c.appendChild(o.createTextNode(d.value));else if(d.type===22){var A=o.createElement("img");A.src=d.value,A.style.opacity="1",c.appendChild(A)}else if(d.type===18){if(d.name==="attr"){var f=d.values.filter(Gt);f.length&&c.appendChild(o.createTextNode(e.getAttribute(f[0].value)||""))}else if(d.name==="counter"){var p=d.values.filter(rf),m=p[0],y=p[1];if(m&&Gt(m)){var g=s.counters.getCounterValue(m.value),v=y&&Gt(y)?F_.parse(s.context,y.value):3;c.appendChild(o.createTextNode(c1(g,v,!1)))}}else if(d.name==="counters"){var x=d.values.filter(rf),m=x[0],b=x[1],y=x[2];if(m&&Gt(m)){var w=s.counters.getCounterValues(m.value),C=y&&Gt(y)?F_.parse(s.context,y.value):3,S=b&&b.type===0?b.value:"",B=w.map(function(D){return c1(D,C,!1)}).join(S);c.appendChild(o.createTextNode(B))}}}else if(d.type===20)switch(d.value){case"open-quote":c.appendChild(o.createTextNode(Dz(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":c.appendChild(o.createTextNode(Dz(l.quotes,--s.quoteDepth,!1)));break;default:c.appendChild(o.createTextNode(d.value))}}),c.className=I_+" "+O_;var u=i===tg.BEFORE?" "+I_:" "+O_;return Ox(r)?r.className.baseValue+=u:r.className+=u,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),tg;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(tg||(tg={}));var SRe=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(hie,"true"),t.body.appendChild(r),r},BRe=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},_Re=function(t){return Promise.all([].slice.call(t.images,0).map(BRe))},kRe=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},ERe=["all","d","content"],MC=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);ERe.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},MRe=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},FRe=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},TRe=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},DRe=":before",LRe=":after",I_="___html2canvas___pseudoelement_before",O_="___html2canvas___pseudoelement_after",n$=`{
    content: "" !important;
    display: none !important;
}`,NRe=function(t){jRe(t,"."+I_+DRe+n$+`
         .`+O_+LRe+n$)},jRe=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},Aie=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),IRe=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(TC(e)||QRe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return li(this,void 0,void 0,function(){var r,n,i,s,a=this;return $n(this,function(o){switch(o.label){case 0:return r=Aie.isSameOrigin(e),n=!FC(e)&&this._options.useCORS===!0&&En.SUPPORT_CORS_IMAGES&&!r,i=!FC(e)&&!r&&!TC(e)&&typeof this._options.proxy=="string"&&En.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!FC(e)&&!TC(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var u=new Image;u.onload=function(){return l(u)},u.onerror=c,(RRe(s)||n)&&(u.crossOrigin="anonymous"),u.src=s,u.complete===!0&&setTimeout(function(){return l(u)},500),a._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=En.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var d=new FileReader;d.addEventListener("load",function(){return s(d.result)},!1),d.addEventListener("error",function(A){return a(A)},!1),d.readAsDataURL(l.response)}else a("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=a;var c=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),r._options.imageTimeout){var u=r._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return a("Timed out ("+u+"ms) proxying "+i)}}l.send()})},t}(),ORe=/^data:image\/svg\+xml/i,PRe=/^data:image\/.*;base64,/i,URe=/^data:image\/.*/i,QRe=function(t){return En.SUPPORT_SVG_DRAWING||!HRe(t)},FC=function(t){return URe.test(t)},RRe=function(t){return PRe.test(t)},TC=function(t){return t.substr(0,4)==="blob"},HRe=function(t){return t.substr(-3).toLowerCase()==="svg"||ORe.test(t)},je=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),w0=function(t,e,r){return new je(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},n4=function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=w0(this.start,this.startControl,e),i=w0(this.startControl,this.endControl,e),s=w0(this.endControl,this.end,e),a=w0(n,i,e),o=w0(i,s,e),l=w0(a,o,e);return r?new t(this.start,n,a,l):new t(l,o,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Hs=function(t){return t.type===1},zRe=function(){function t(e){var r=e.styles,n=e.bounds,i=am(r.borderTopLeftRadius,n.width,n.height),s=i[0],a=i[1],o=am(r.borderTopRightRadius,n.width,n.height),l=o[0],c=o[1],u=am(r.borderBottomRightRadius,n.width,n.height),d=u[0],A=u[1],f=am(r.borderBottomLeftRadius,n.width,n.height),p=f[0],m=f[1],y=[];y.push((s+l)/n.width),y.push((p+d)/n.width),y.push((a+m)/n.height),y.push((c+A)/n.height);var g=Math.max.apply(Math,y);g>1&&(s/=g,a/=g,l/=g,c/=g,d/=g,A/=g,p/=g,m/=g);var v=n.width-l,x=n.height-A,b=n.width-d,w=n.height-m,C=r.borderTopWidth,S=r.borderRightWidth,B=r.borderBottomWidth,E=r.borderLeftWidth,M=rr(r.paddingTop,e.bounds.width),D=rr(r.paddingRight,e.bounds.width),L=rr(r.paddingBottom,e.bounds.width),I=rr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?hr(n.left+E/3,n.top+C/3,s-E/3,a-C/3,Pt.TOP_LEFT):new je(n.left+E/3,n.top+C/3),this.topRightBorderDoubleOuterBox=s>0||a>0?hr(n.left+v,n.top+C/3,l-S/3,c-C/3,Pt.TOP_RIGHT):new je(n.left+n.width-S/3,n.top+C/3),this.bottomRightBorderDoubleOuterBox=d>0||A>0?hr(n.left+b,n.top+x,d-S/3,A-B/3,Pt.BOTTOM_RIGHT):new je(n.left+n.width-S/3,n.top+n.height-B/3),this.bottomLeftBorderDoubleOuterBox=p>0||m>0?hr(n.left+E/3,n.top+w,p-E/3,m-B/3,Pt.BOTTOM_LEFT):new je(n.left+E/3,n.top+n.height-B/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?hr(n.left+E*2/3,n.top+C*2/3,s-E*2/3,a-C*2/3,Pt.TOP_LEFT):new je(n.left+E*2/3,n.top+C*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?hr(n.left+v,n.top+C*2/3,l-S*2/3,c-C*2/3,Pt.TOP_RIGHT):new je(n.left+n.width-S*2/3,n.top+C*2/3),this.bottomRightBorderDoubleInnerBox=d>0||A>0?hr(n.left+b,n.top+x,d-S*2/3,A-B*2/3,Pt.BOTTOM_RIGHT):new je(n.left+n.width-S*2/3,n.top+n.height-B*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||m>0?hr(n.left+E*2/3,n.top+w,p-E*2/3,m-B*2/3,Pt.BOTTOM_LEFT):new je(n.left+E*2/3,n.top+n.height-B*2/3),this.topLeftBorderStroke=s>0||a>0?hr(n.left+E/2,n.top+C/2,s-E/2,a-C/2,Pt.TOP_LEFT):new je(n.left+E/2,n.top+C/2),this.topRightBorderStroke=s>0||a>0?hr(n.left+v,n.top+C/2,l-S/2,c-C/2,Pt.TOP_RIGHT):new je(n.left+n.width-S/2,n.top+C/2),this.bottomRightBorderStroke=d>0||A>0?hr(n.left+b,n.top+x,d-S/2,A-B/2,Pt.BOTTOM_RIGHT):new je(n.left+n.width-S/2,n.top+n.height-B/2),this.bottomLeftBorderStroke=p>0||m>0?hr(n.left+E/2,n.top+w,p-E/2,m-B/2,Pt.BOTTOM_LEFT):new je(n.left+E/2,n.top+n.height-B/2),this.topLeftBorderBox=s>0||a>0?hr(n.left,n.top,s,a,Pt.TOP_LEFT):new je(n.left,n.top),this.topRightBorderBox=l>0||c>0?hr(n.left+v,n.top,l,c,Pt.TOP_RIGHT):new je(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||A>0?hr(n.left+b,n.top+x,d,A,Pt.BOTTOM_RIGHT):new je(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=p>0||m>0?hr(n.left,n.top+w,p,m,Pt.BOTTOM_LEFT):new je(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?hr(n.left+E,n.top+C,Math.max(0,s-E),Math.max(0,a-C),Pt.TOP_LEFT):new je(n.left+E,n.top+C),this.topRightPaddingBox=l>0||c>0?hr(n.left+Math.min(v,n.width-S),n.top+C,v>n.width+S?0:Math.max(0,l-S),Math.max(0,c-C),Pt.TOP_RIGHT):new je(n.left+n.width-S,n.top+C),this.bottomRightPaddingBox=d>0||A>0?hr(n.left+Math.min(b,n.width-E),n.top+Math.min(x,n.height-B),Math.max(0,d-S),Math.max(0,A-B),Pt.BOTTOM_RIGHT):new je(n.left+n.width-S,n.top+n.height-B),this.bottomLeftPaddingBox=p>0||m>0?hr(n.left+E,n.top+Math.min(w,n.height-B),Math.max(0,p-E),Math.max(0,m-B),Pt.BOTTOM_LEFT):new je(n.left+E,n.top+n.height-B),this.topLeftContentBox=s>0||a>0?hr(n.left+E+I,n.top+C+M,Math.max(0,s-(E+I)),Math.max(0,a-(C+M)),Pt.TOP_LEFT):new je(n.left+E+I,n.top+C+M),this.topRightContentBox=l>0||c>0?hr(n.left+Math.min(v,n.width+E+I),n.top+C+M,v>n.width+E+I?0:l-E+I,c-(C+M),Pt.TOP_RIGHT):new je(n.left+n.width-(S+D),n.top+C+M),this.bottomRightContentBox=d>0||A>0?hr(n.left+Math.min(b,n.width-(E+I)),n.top+Math.min(x,n.height+C+M),Math.max(0,d-(S+D)),A-(B+L),Pt.BOTTOM_RIGHT):new je(n.left+n.width-(S+D),n.top+n.height-(B+L)),this.bottomLeftContentBox=p>0||m>0?hr(n.left+E+I,n.top+w,Math.max(0,p-(E+I)),m-(B+L),Pt.BOTTOM_LEFT):new je(n.left+E+I,n.top+n.height-(B+L))}return t}(),Pt;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Pt||(Pt={}));var hr=function(t,e,r,n,i){var s=4*((Math.sqrt(2)-1)/3),a=r*s,o=n*s,l=t+r,c=e+n;switch(i){case Pt.TOP_LEFT:return new n4(new je(t,c),new je(t,c-o),new je(l-a,e),new je(l,e));case Pt.TOP_RIGHT:return new n4(new je(t,e),new je(t+a,e),new je(l,c-o),new je(l,c));case Pt.BOTTOM_RIGHT:return new n4(new je(l,e),new je(l,e+o),new je(t+a,c),new je(t,c));case Pt.BOTTOM_LEFT:default:return new n4(new je(l,c),new je(l-a,c),new je(t,e+o),new je(t,e))}},z3=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},$Re=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},$3=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},VRe=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),i4=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),KRe=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),qRe=function(t){return t.type===0},fie=function(t){return t.type===1},WRe=function(t){return t.type===2},i$=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},GRe=function(t,e,r,n,i){return t.map(function(s,a){switch(a){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+i);case 3:return s.add(e,r+i)}return s})},pie=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),mie=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new zRe(this.container),this.container.styles.opacity<1&&this.effects.push(new KRe(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new VRe(n,i,s))}if(this.container.styles.overflowX!==0){var a=z3(this.curves),o=$3(this.curves);i$(a,o)?this.effects.push(new i4(a,6)):(this.effects.push(new i4(a,2)),this.effects.push(new i4(o,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(l){return!fie(l)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=z3(n.curves),o=$3(n.curves);i$(a,o)||i.unshift(new i4(o,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(l){return on(l.target,e)})},t}(),P_=function(t,e,r,n){t.container.elements.forEach(function(i){var s=on(i.flags,4),a=on(i.flags,2),o=new mie(i,t);on(i.styles.display,2048)&&n.push(o);var l=on(i.flags,8)?[]:n;if(s||a){var c=s||i.styles.isPositioned()?r:e,u=new pie(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var d=i.styles.zIndex.order;if(d<0){var A=0;c.negativeZIndex.some(function(p,m){return d>p.element.container.styles.zIndex.order?(A=m,!1):A>0}),c.negativeZIndex.splice(A,0,u)}else if(d>0){var f=0;c.positiveZIndex.some(function(p,m){return d>=p.element.container.styles.zIndex.order?(f=m+1,!1):f>0}),c.positiveZIndex.splice(f,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);P_(o,u,s?u:r,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),P_(o,e,r,l);on(i.flags,8)&&gie(i,l)})},gie=function(t,e){for(var r=t instanceof L_?t.start:1,n=t instanceof L_?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof eie&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=c1(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},XRe=function(t){var e=new mie(t,null),r=new pie(e),n=[];return P_(e,r,r,n),gie(e.container,n),r},s$=function(t,e){switch(e){case 0:return qs(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return qs(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return qs(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return qs(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},YRe=function(t,e){switch(e){case 0:return qs(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return qs(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return qs(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return qs(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},JRe=function(t,e){switch(e){case 0:return qs(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return qs(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return qs(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return qs(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},ZRe=function(t,e){switch(e){case 0:return s4(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return s4(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return s4(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return s4(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},s4=function(t,e){var r=[];return Hs(t)?r.push(t.subdivide(.5,!1)):r.push(t),Hs(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},qs=function(t,e,r,n){var i=[];return Hs(t)?i.push(t.subdivide(.5,!1)):i.push(t),Hs(r)?i.push(r.subdivide(.5,!0)):i.push(r),Hs(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Hs(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},yie=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},V3=function(t){var e=t.styles,r=t.bounds,n=rr(e.paddingLeft,r.width),i=rr(e.paddingRight,r.width),s=rr(e.paddingTop,r.width),a=rr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},eHe=function(t,e){return t===0?e.bounds:t===2?V3(e):yie(e)},tHe=function(t,e){return t===0?e.bounds:t===2?V3(e):yie(e)},DC=function(t,e,r){var n=eHe(M0(t.styles.backgroundOrigin,e),t),i=tHe(M0(t.styles.backgroundClip,e),t),s=rHe(M0(t.styles.backgroundSize,e),r,n),a=s[0],o=s[1],l=am(M0(t.styles.backgroundPosition,e),n.width-a,n.height-o),c=nHe(M0(t.styles.backgroundRepeat,e),l,s,n,i),u=Math.round(n.left+l[0]),d=Math.round(n.top+l[1]);return[c,u,d,a,o]},C0=function(t){return Gt(t)&&t.value===TA.AUTO},a4=function(t){return typeof t=="number"},rHe=function(t,e,r){var n=e[0],i=e[1],s=e[2],a=t[0],o=t[1];if(!a)return[0,0];if(Zr(a)&&o&&Zr(o))return[rr(a,r.width),rr(o,r.height)];var l=a4(s);if(Gt(a)&&(a.value===TA.CONTAIN||a.value===TA.COVER)){if(a4(s)){var c=r.width/r.height;return c<s!=(a.value===TA.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var u=a4(n),d=a4(i),A=u||d;if(C0(a)&&(!o||C0(o))){if(u&&d)return[n,i];if(!l&&!A)return[r.width,r.height];if(A&&l){var f=u?n:i*s,p=d?i:n/s;return[f,p]}var m=u?n:r.width,y=d?i:r.height;return[m,y]}if(l){var g=0,v=0;return Zr(a)?g=rr(a,r.width):Zr(o)&&(v=rr(o,r.height)),C0(a)?g=v*s:(!o||C0(o))&&(v=g/s),[g,v]}var x=null,b=null;if(Zr(a)?x=rr(a,r.width):o&&Zr(o)&&(b=rr(o,r.height)),x!==null&&(!o||C0(o))&&(b=u&&d?x/n*i:r.height),b!==null&&C0(a)&&(x=u&&d?b/i*n:r.width),x!==null&&b!==null)return[x,b];throw new Error("Unable to calculate background-size for element")},M0=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},nHe=function(t,e,r,n,i){var s=e[0],a=e[1],o=r[0],l=r[1];switch(t){case 2:return[new je(Math.round(n.left),Math.round(n.top+a)),new je(Math.round(n.left+n.width),Math.round(n.top+a)),new je(Math.round(n.left+n.width),Math.round(l+n.top+a)),new je(Math.round(n.left),Math.round(l+n.top+a))];case 3:return[new je(Math.round(n.left+s),Math.round(n.top)),new je(Math.round(n.left+s+o),Math.round(n.top)),new je(Math.round(n.left+s+o),Math.round(n.height+n.top)),new je(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new je(Math.round(n.left+s),Math.round(n.top+a)),new je(Math.round(n.left+s+o),Math.round(n.top+a)),new je(Math.round(n.left+s+o),Math.round(n.top+a+l)),new je(Math.round(n.left+s),Math.round(n.top+a+l))];default:return[new je(Math.round(i.left),Math.round(i.top)),new je(Math.round(i.left+i.width),Math.round(i.top)),new je(Math.round(i.left+i.width),Math.round(i.height+i.top)),new je(Math.round(i.left),Math.round(i.height+i.top))]}},iHe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",a$="Hidden Text",sHe=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),i.src=iHe,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(a$)),n.appendChild(s),n.appendChild(i);var o=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(a$)),n.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:l}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),vie=function(){function t(e,r){this.context=e,this.options=r}return t}(),aHe=1e4,oHe=function(t){Ra(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new sHe(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),WRe(r)&&(this.ctx.globalAlpha=r.opacity),qRe(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),fie(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return li(this,void 0,void 0,function(){var n;return $n(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return li(this,void 0,void 0,function(){return $n(this,function(n){switch(n.label){case 0:if(on(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var a=uT(r.text);a.reduce(function(o,l){return s.ctx.fillText(l,o,r.bounds.top+i),o+s.ctx.measureText(l).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=hHe(r.fontFamily).join(", "),s=Z1(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(r,n){return li(this,void 0,void 0,function(){var i,s,a,o,l,c,u,d,A=this;return $n(this,function(f){return i=this.createFontStyle(n),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),c=l.baseline,u=l.middle,d=n.paintOrder,r.textBounds.forEach(function(p){d.forEach(function(m){switch(m){case 0:A.ctx.fillStyle=mn(n.color),A.renderTextWithLetterSpacing(p,n.letterSpacing,c);var y=n.textShadow;y.length&&p.text.trim().length&&(y.slice(0).reverse().forEach(function(g){A.ctx.shadowColor=mn(g.color),A.ctx.shadowOffsetX=g.offsetX.number*A.options.scale,A.ctx.shadowOffsetY=g.offsetY.number*A.options.scale,A.ctx.shadowBlur=g.blur.number,A.renderTextWithLetterSpacing(p,n.letterSpacing,c)}),A.ctx.shadowColor="",A.ctx.shadowOffsetX=0,A.ctx.shadowOffsetY=0,A.ctx.shadowBlur=0),n.textDecorationLine.length&&(A.ctx.fillStyle=mn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(g){switch(g){case 1:A.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+c),p.bounds.width,1);break;case 2:A.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:A.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+u),p.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&p.text.trim().length&&(A.ctx.strokeStyle=mn(n.webkitTextStrokeColor),A.ctx.lineWidth=n.webkitTextStrokeWidth,A.ctx.lineJoin=window.chrome?"miter":"round",A.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+c)),A.ctx.strokeStyle="",A.ctx.lineWidth=0,A.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=V3(r),a=$3(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return li(this,void 0,void 0,function(){var n,i,s,a,o,l,v,v,c,u,d,A,b,f,p,w,m,y,g,v,x,b,w;return $n(this,function(C){switch(C.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,s=n.styles,a=0,o=n.textNodes,C.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:C.sent(),C.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof Yne))return[3,8];C.label=5;case 5:return C.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return v=C.sent(),this.renderReplacedElement(n,i,v),[3,8];case 7:return C.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Jne&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof Zne))return[3,12];C.label=9;case 9:return C.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return v=C.sent(),this.renderReplacedElement(n,i,v),[3,12];case 11:return C.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof nie&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:u=C.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),C.label=14;case 14:if(n instanceof dT&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===U3?n.checked&&(this.ctx.save(),this.path([new je(n.bounds.left+d*.39363,n.bounds.top+d*.79),new je(n.bounds.left+d*.16,n.bounds.top+d*.5549),new je(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new je(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new je(n.bounds.left+d*.72983,n.bounds.top+d*.23),new je(n.bounds.left+d*.84,n.bounds.top+d*.34085),new je(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=mn(qz),this.ctx.fill(),this.ctx.restore()):n.type===Q3&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=mn(qz),this.ctx.fill(),this.ctx.restore())),lHe(n)&&n.value.length){switch(A=this.createFontStyle(s),b=A[0],f=A[1],p=this.fontMetrics.getMetrics(b,f).baseline,this.ctx.font=b,this.ctx.fillStyle=mn(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=uHe(n.styles.textAlign),w=V3(n),m=0,n.styles.textAlign){case 1:m+=w.width/2;break;case 2:m+=w.width;break}y=w.add(m,0,0,-w.height/2+1),this.ctx.save(),this.path([new je(w.left,w.top),new je(w.left+w.width,w.top),new je(w.left+w.width,w.top+w.height),new je(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new eg(n.value,y),s.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!on(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(g=n.styles.listStyleImage,g.type!==0)return[3,18];v=void 0,x=g.url,C.label=15;case 15:return C.trys.push([15,17,,18]),[4,this.context.cache.match(x)];case 16:return v=C.sent(),this.ctx.drawImage(v,n.bounds.left-(v.width+10),n.bounds.top),[3,18];case 17:return C.sent(),this.context.logger.error("Error loading list-style-image "+x),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(b=this.createFontStyle(s)[0],this.ctx.font=b,this.ctx.fillStyle=mn(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new zl(n.bounds.left,n.bounds.top+rr(n.styles.paddingTop,n.bounds.width),n.bounds.width,Fz(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new eg(r.listValue,w),s.letterSpacing,Fz(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),C.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return li(this,void 0,void 0,function(){var n,i,g,s,a,g,o,l,g,c,u,g,d,A,g,f,p,g,m,y,g;return $n(this,function(v){switch(v.label){case 0:if(on(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:v.sent(),n=0,i=r.negativeZIndex,v.label=2;case 2:return n<i.length?(g=i[n],[4,this.renderStack(g)]):[3,5];case 3:v.sent(),v.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:v.sent(),s=0,a=r.nonInlineLevel,v.label=7;case 7:return s<a.length?(g=a[s],[4,this.renderNode(g)]):[3,10];case 8:v.sent(),v.label=9;case 9:return s++,[3,7];case 10:o=0,l=r.nonPositionedFloats,v.label=11;case 11:return o<l.length?(g=l[o],[4,this.renderStack(g)]):[3,14];case 12:v.sent(),v.label=13;case 13:return o++,[3,11];case 14:c=0,u=r.nonPositionedInlineLevel,v.label=15;case 15:return c<u.length?(g=u[c],[4,this.renderStack(g)]):[3,18];case 16:v.sent(),v.label=17;case 17:return c++,[3,15];case 18:d=0,A=r.inlineLevel,v.label=19;case 19:return d<A.length?(g=A[d],[4,this.renderNode(g)]):[3,22];case 20:v.sent(),v.label=21;case 21:return d++,[3,19];case 22:f=0,p=r.zeroOrAutoZIndexOrTransformedOrOpacity,v.label=23;case 23:return f<p.length?(g=p[f],[4,this.renderStack(g)]):[3,26];case 24:v.sent(),v.label=25;case 25:return f++,[3,23];case 26:m=0,y=r.positiveZIndex,v.label=27;case 27:return m<y.length?(g=y[m],[4,this.renderStack(g)]):[3,30];case 28:v.sent(),v.label=29;case 29:return m++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,s){var a=Hs(i)?i.start:i;s===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),Hs(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(r,n,i){var s;if(r.width===n&&r.height===i)return r;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,i);var l=o.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,i),o},e.prototype.renderBackgroundImage=function(r){return li(this,void 0,void 0,function(){var n,i,s,a,o,l;return $n(this,function(c){switch(c.label){case 0:n=r.styles.backgroundImage.length-1,i=function(u){var d,A,f,M,Y,$,I,z,B,p,M,Y,$,I,z,m,y,g,v,x,b,w,C,S,B,E,M,D,L,I,z,R,Y,$,P,q,N,ae,oe,O,fe,Se;return $n(this,function(ie){switch(ie.label){case 0:if(u.type!==0)return[3,5];d=void 0,A=u.url,ie.label=1;case 1:return ie.trys.push([1,3,,4]),[4,s.context.cache.match(A)];case 2:return d=ie.sent(),[3,4];case 3:return ie.sent(),s.context.logger.error("Error loading background-image "+A),[3,4];case 4:return d&&(f=DC(r,n,[d.width,d.height,d.width/d.height]),M=f[0],Y=f[1],$=f[2],I=f[3],z=f[4],B=s.ctx.createPattern(s.resizeImage(d,I,z),"repeat"),s.renderRepeat(M,B,Y,$)),[3,6];case 5:qPe(u)?(p=DC(r,n,[null,null,null]),M=p[0],Y=p[1],$=p[2],I=p[3],z=p[4],m=HPe(u.angle,I,z),y=m[0],g=m[1],v=m[2],x=m[3],b=m[4],w=document.createElement("canvas"),w.width=I,w.height=z,C=w.getContext("2d"),S=C.createLinearGradient(g,x,v,b),Ez(u.stops,y).forEach(function(pe){return S.addColorStop(pe.stop,mn(pe.color))}),C.fillStyle=S,C.fillRect(0,0,I,z),I>0&&z>0&&(B=s.ctx.createPattern(w,"repeat"),s.renderRepeat(M,B,Y,$))):WPe(u)&&(E=DC(r,n,[null,null,null]),M=E[0],D=E[1],L=E[2],I=E[3],z=E[4],R=u.position.length===0?[oT]:u.position,Y=rr(R[0],I),$=rr(R[R.length-1],z),P=zPe(u,Y,$,I,z),q=P[0],N=P[1],q>0&&N>0&&(ae=s.ctx.createRadialGradient(D+Y,L+$,0,D+Y,L+$,q),Ez(u.stops,q*2).forEach(function(pe){return ae.addColorStop(pe.stop,mn(pe.color))}),s.path(M),s.ctx.fillStyle=ae,q!==N?(oe=r.bounds.left+.5*r.bounds.width,O=r.bounds.top+.5*r.bounds.height,fe=N/q,Se=1/fe,s.ctx.save(),s.ctx.translate(oe,O),s.ctx.transform(1,0,0,fe,0,0),s.ctx.translate(-oe,-O),s.ctx.fillRect(D,Se*(L-O)+O,I,z*Se),s.ctx.restore()):s.ctx.fill())),ie.label=6;case 6:return n--,[2]}})},s=this,a=0,o=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return a<o.length?(l=o[a],[5,i(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return li(this,void 0,void 0,function(){return $n(this,function(s){return this.path(s$(i,n)),this.ctx.fillStyle=mn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,s){return li(this,void 0,void 0,function(){var a,o;return $n(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=YRe(s,i),this.path(a),this.ctx.fillStyle=mn(r),this.ctx.fill(),o=JRe(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return li(this,void 0,void 0,function(){var n,i,s,a,o,l,c,u,d=this;return $n(this,function(A){switch(A.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!Au(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=cHe(M0(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Au(n.backgroundColor)||(this.ctx.fillStyle=mn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:A.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){d.ctx.save();var p=z3(r.curves),m=f.inset?0:aHe,y=GRe(p,-m+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(d.path(p),d.ctx.clip(),d.mask(y)):(d.mask(p),d.ctx.clip(),d.path(y)),d.ctx.shadowOffsetX=f.offsetX.number+m,d.ctx.shadowOffsetY=f.offsetY.number,d.ctx.shadowColor=mn(f.color),d.ctx.shadowBlur=f.blur.number,d.ctx.fillStyle=f.inset?mn(f.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),A.label=2;case 2:o=0,l=0,c=s,A.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!Au(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return A.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,3)];case 6:return A.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,o,r.curves)];case 8:return A.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,o,r.curves)];case 10:A.sent(),A.label=11;case 11:o++,A.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,s,a){return li(this,void 0,void 0,function(){var o,l,c,u,d,A,f,p,m,y,g,v,x,b,w,C,w,C;return $n(this,function(S){return this.ctx.save(),o=ZRe(s,i),l=s$(s,i),a===2&&(this.path(l),this.ctx.clip()),Hs(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),Hs(l[1])?(d=l[1].end.x,A=l[1].end.y):(d=l[1].x,A=l[1].y),i===0||i===2?f=Math.abs(c-d):f=Math.abs(u-A),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),p=n<3?n*3:n*2,m=n<3?n*2:n,a===3&&(p=n,m=n),y=!0,f<=p*2?y=!1:f<=p*2+m?(g=f/(2*p+m),p*=g,m*=g):(v=Math.floor((f+m)/(p+m)),x=(f-v*p)/(v-1),b=(f-(v+1)*p)/v,m=b<=0||Math.abs(m-x)<Math.abs(m-b)?x:b),y&&(a===3?this.ctx.setLineDash([0,p+m]):this.ctx.setLineDash([p,m])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=mn(r),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Hs(l[0])&&(w=l[3],C=l[0],this.ctx.beginPath(),this.formatPath([new je(w.end.x,w.end.y),new je(C.start.x,C.start.y)]),this.ctx.stroke()),Hs(l[1])&&(w=l[1],C=l[2],this.ctx.beginPath(),this.formatPath([new je(w.end.x,w.end.y),new je(C.start.x,C.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return li(this,void 0,void 0,function(){var n;return $n(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=mn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=XRe(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(vie),lHe=function(t){return t instanceof rie||t instanceof tie?!0:t instanceof dT&&t.type!==Q3&&t.type!==U3},cHe=function(t,e){switch(t){case 0:return z3(e);case 2:return $Re(e);case 1:default:return $3(e)}},uHe=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},dHe=["-apple-system","system-ui"],hHe=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return dHe.indexOf(e)===-1}):t},AHe=function(t){Ra(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return li(this,void 0,void 0,function(){var n,i;return $n(this,function(s){switch(s.label){case 0:return n=D_(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,fHe(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=mn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(vie),fHe=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},pHe=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Pv([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Pv([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Pv([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Pv([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),mHe=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new pHe({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new IRe(this,e)}return t.instanceCount=1,t}(),V5=function(t,e){return e===void 0&&(e={}),gHe(t,e)};typeof window<"u"&&Aie.setContext(window);var gHe=function(t,e){return li(void 0,void 0,void 0,function(){var r,n,i,s,a,o,l,c,u,d,A,f,p,m,y,g,v,x,b,w,S,C,S,B,E,M,D,L,I,z,R,Y,$,P,q,N,ae,oe,O,fe;return $n(this,function(Se){switch(Se.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(B=e.allowTaint)!==null&&B!==void 0?B:!1,imageTimeout:(E=e.imageTimeout)!==null&&E!==void 0?E:15e3,proxy:e.proxy,useCORS:(M=e.useCORS)!==null&&M!==void 0?M:!1},s=g_({logging:(D=e.logging)!==null&&D!==void 0?D:!0,cache:e.cache},i),a={windowWidth:(L=e.windowWidth)!==null&&L!==void 0?L:n.innerWidth,windowHeight:(I=e.windowHeight)!==null&&I!==void 0?I:n.innerHeight,scrollX:(z=e.scrollX)!==null&&z!==void 0?z:n.pageXOffset,scrollY:(R=e.scrollY)!==null&&R!==void 0?R:n.pageYOffset},o=new zl(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new mHe(s,o),c=(Y=e.foreignObjectRendering)!==null&&Y!==void 0?Y:!1,u={allowTaint:($=e.allowTaint)!==null&&$!==void 0?$:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),d=new r$(l,t,u),A=d.clonedReferenceElement,A?[4,d.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=Se.sent(),p=hT(A)||vRe(A)?GIe(A.ownerDocument):j5(l,A),m=p.width,y=p.height,g=p.left,v=p.top,x=yHe(l,A,e.backgroundColor),b={canvas:e.canvas,backgroundColor:x,scale:(q=(P=e.scale)!==null&&P!==void 0?P:n.devicePixelRatio)!==null&&q!==void 0?q:1,x:((N=e.x)!==null&&N!==void 0?N:0)+g,y:((ae=e.y)!==null&&ae!==void 0?ae:0)+v,width:(oe=e.width)!==null&&oe!==void 0?oe:Math.ceil(m),height:(O=e.height)!==null&&O!==void 0?O:Math.ceil(y)},c?(l.logger.debug("Document cloned, using foreign object rendering"),S=new AHe(l,b),[4,S.render(A)]):[3,3];case 2:return w=Se.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+g+","+v+" with size "+m+"x"+y+" using computed rendering"),l.logger.debug("Starting DOM parsing"),C=sie(l,A),x===C.styles.backgroundColor&&(C.styles.backgroundColor=El.TRANSPARENT),l.logger.debug("Starting renderer for element at "+b.x+","+b.y+" with size "+b.width+"x"+b.height),S=new oHe(l,b),[4,S.render(C)];case 4:w=Se.sent(),Se.label=5;case 5:return(!((fe=e.removeContainer)!==null&&fe!==void 0)||fe)&&(r$.destroy(f)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,w]}})})},yHe=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?Jm(t,getComputedStyle(n.documentElement).backgroundColor):El.TRANSPARENT,s=n.body?Jm(t,getComputedStyle(n.body).backgroundColor):El.TRANSPARENT,a=typeof r=="string"?Jm(t,r):r===null?El.TRANSPARENT:4294967295;return e===n.documentElement?Au(i)?Au(s)?a:s:i:a};function vHe(t){let e=new Lu;e.setOptions({virtualKeyboardMode:"off",hideVirtualKeyboardToggle:!0,readOnly:!1,customFontsDirectory:null}),document.body.appendChild(e),Object.assign(e.style,{position:"absolute",left:"100px",top:"100px",zIndex:"1000",fontSize:"20px",padding:"5px",background:"transparent",overflow:"hidden",resize:"none"}),e.focus(),mathVirtualKeyboard.show(),setTimeout(()=>{var r,n,i,s;(n=(r=e.shadowRoot)==null?void 0:r.querySelector(".ML__virtual-keyboard-toggle"))==null||n.remove(),(s=(i=e.shadowRoot)==null?void 0:i.querySelector(".ML__menu-toggle"))==null||s.remove()},100),e.addEventListener("keydown",r=>{if(r.key==="Enter"){r.preventDefault();let n=e.getValue("latex");n.includes("\\begin{array}")?n=n.replace("\\end{array}"," \\\\ \\end{array}"):n="\\begin{array}{l}"+n+" \\\\ \\end{array}",e.setValue(n)}if(r.key==="Enter"&&r.shiftKey){r.preventDefault();let n=e.getValue("latex");n.includes("\\begin{array}")?n=n.replace("\\end{array}","\\\\ \\end{array}"):n="\\begin{array}{l}"+n+"\\\\ \\end{array}",e.setValue(n),xHe(e,t,n)}})}function xHe(t,e,r){console.log("Captured LaTeX:",t.getValue("latex")),setTimeout(()=>{var i;const n=(i=t.shadowRoot)==null?void 0:i.querySelector(".ML__container");n&&(V5(n).then(s=>{const a=new qn(s,{left:100,top:100,selectable:!1,backgroundColor:"tranparent",latex:r,controls:{...Nc.createControls().controls,delete:new Xr({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,mouseUpHandler:(o,l,c,u)=>{e.remove(l.target)},cursorStyle:"pointer",render:(o,l,c,u,d)=>{o.save(),o.fillStyle="red",o.fillRect(l-10,c-10,20,20),o.strokeStyle="white",o.lineWidth=2,o.beginPath(),o.moveTo(l-5,c-5),o.lineTo(l+5,c+5),o.moveTo(l+5,c-5),o.lineTo(l-5,c+5),o.stroke(),o.restore()}})}});console.log("Fabric Image created from screenshot:",a),e.add(a),e.renderAll()}),t.remove())},100)}function bHe({canvas:t}){vHe(t)}const wHe=({canvas:t})=>{const e=document.getElementById("chartPreviewContainer");e&&V5(e,{scrollY:-window.scrollY}).then(r=>{const n=new qn(r,{left:100,top:100,selectable:!1,backgroundColor:"transparent",controls:{...qn.createControls().controls,delete:new Xr({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,backgroundColor:"tranparent",mouseUpHandler:(i,s,a,o)=>{t.remove(s.target)},cursorStyle:"pointer",render:(i,s,a,o,l)=>{i.save(),i.fillStyle="red",i.fillRect(s-10,a-10,20,20),i.strokeStyle="white",i.lineWidth=2,i.beginPath(),i.moveTo(s-5,a-5),i.lineTo(s+5,a+5),i.moveTo(s+5,a-5),i.lineTo(s-5,a+5),i.stroke(),i.restore()}})}});t.add(n),t.renderAll()})};function CHe(t){wHe(t)}const SHe=({isOpen:t,onClose:e,parameters:r})=>{const[n,i]=_.useState({title:"",labels:"",data:"",colors:""}),[s,a]=_.useState(null),o=_.useRef(null),[l,c]=_.useState(null),u=f=>{i({...n,[f.target.name]:f.target.value})},d=f=>{f.preventDefault();const p=n.labels.split(",").map(v=>v.trim()),m=n.data.split(",").map(v=>parseFloat(v.trim())),y=n.colors.split(",").map(v=>v.trim()),g={type:"pie",data:{labels:p,datasets:[{data:m,backgroundColor:y,label:n.title}]},options:{responsive:!1,maintainAspectRatio:!1}};a(g)};_.useEffect(()=>{if(s&&o.current){l&&l.destroy();const f=new wf(o.current.getContext("2d"),s);c(f)}},[s]);const A=()=>{CHe(r),a(null),i({title:"",labels:"",data:"",colors:""}),l&&(l.destroy(),c(null))};return t?h.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[h.jsx("div",{className:"absolute inset-0 bg-gray-900 opacity-50",onClick:e}),h.jsx("div",{className:"bg-white rounded shadow-lg p-6 z-10 w-11/12 md:w-1/2",children:s?h.jsxs(h.Fragment,{children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Chart Preview"}),h.jsx("div",{id:"chartPreviewContainer",style:{padding:"10px",background:"transparent",overflow:"visible",display:"flex",justifyContent:"center"},children:h.jsx("canvas",{id:"chartPreviewCanvas",ref:o,width:"400",height:"400"})}),h.jsxs("div",{className:"flex justify-end mt-4",children:[h.jsx("button",{type:"button",onClick:()=>a(null),className:"mr-2 bg-gray-500 text-white px-4 py-2 rounded",children:"Edit"}),h.jsx("button",{type:"button",onClick:A,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Add"})]})]}):h.jsxs(h.Fragment,{children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Create Pie Chart"}),h.jsxs("form",{onSubmit:d,children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 mb-1",children:"Title"}),h.jsx("input",{type:"text",name:"title",className:"w-full px-3 py-2 border rounded",value:n.title,onChange:u,placeholder:"Enter chart title",required:!0})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 mb-1",children:"Labels (comma separated)"}),h.jsx("input",{type:"text",name:"labels",className:"w-full px-3 py-2 border rounded",value:n.labels,onChange:u,placeholder:"e.g., Red, Blue, Green",required:!0})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 mb-1",children:"Data (comma separated numbers)"}),h.jsx("input",{type:"text",name:"data",className:"w-full px-3 py-2 border rounded",value:n.data,onChange:u,placeholder:"e.g., 10, 20, 30",required:!0})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 mb-1",children:"Colors (comma separated hex codes)"}),h.jsx("input",{type:"text",name:"colors",className:"w-full px-3 py-2 border rounded",value:n.colors,onChange:u,placeholder:"e.g., #FF6384, #36A2EB, #FFCE56",required:!0})]}),h.jsxs("div",{className:"flex justify-end",children:[h.jsx("button",{type:"button",onClick:e,className:"mr-2 bg-gray-500 text-white px-4 py-2 rounded",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Preview"})]})]})]})})]}):null},BHe=({canvas:t})=>{const e=document.getElementById("chartPreviewContainer");e&&V5(e,{scrollY:-window.scrollY}).then(r=>{const n=new qn(r,{left:100,top:100,selectable:!1,backgroundColor:"transparent",controls:{...qn.createControls().controls,delete:new Xr({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,backgroundColor:"tranparent",mouseUpHandler:(i,s,a,o)=>{t.remove(s.target)},cursorStyle:"pointer",render:(i,s,a,o,l)=>{i.save(),i.fillStyle="red",i.fillRect(s-10,a-10,20,20),i.strokeStyle="white",i.lineWidth=2,i.beginPath(),i.moveTo(s-5,a-5),i.lineTo(s+5,a+5),i.moveTo(s+5,a-5),i.lineTo(s-5,a+5),i.stroke(),i.restore()}})}});t.add(n),t.renderAll()})};function _He(t){BHe(t)}const kHe=({isOpen:t,onClose:e,parameters:r})=>{const[n,i]=_.useState({title:"",labels:"",data:"",colors:""}),[s,a]=_.useState(null),o=_.useRef(null),[l,c]=_.useState(null),u=f=>{i({...n,[f.target.name]:f.target.value})},d=f=>{f.preventDefault();const p=n.labels.split(",").map(v=>v.trim()),m=n.data.split(",").map(v=>parseFloat(v.trim())),y=n.colors.split(",").map(v=>v.trim()),g={type:"bar",data:{labels:p,datasets:[{data:m,backgroundColor:y,label:n.title}]},options:{responsive:!1,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}};a(g)};_.useEffect(()=>{if(s&&o.current){l&&l.destroy();const f=new wf(o.current.getContext("2d"),s);c(f)}},[s]);const A=()=>{_He(r),a(null),i({title:"",labels:"",data:"",colors:""}),l&&(l.destroy(),c(null))};return t?h.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[h.jsx("div",{className:"absolute inset-0 bg-gray-900 opacity-50",onClick:e}),h.jsx("div",{className:"bg-white rounded shadow-lg p-6 z-10 w-11/12 md:w-1/2",children:s?h.jsxs(h.Fragment,{children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Chart Preview"}),h.jsx("div",{id:"chartPreviewContainer",style:{padding:"10px",background:"transparent",overflow:"visible",display:"flex",justifyContent:"center"},children:h.jsx("canvas",{id:"chartPreviewCanvas",ref:o,width:"400",height:"400"})}),h.jsxs("div",{className:"flex justify-end mt-4",children:[h.jsx("button",{type:"button",onClick:()=>a(null),className:"mr-2 bg-gray-500 text-white px-4 py-2 rounded",children:"Edit"}),h.jsx("button",{type:"button",onClick:A,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Add"})]})]}):h.jsxs(h.Fragment,{children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Create Bar Chart"}),h.jsxs("form",{onSubmit:d,children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 mb-1",children:"Title"}),h.jsx("input",{type:"text",name:"title",className:"w-full px-3 py-2 border rounded",value:n.title,onChange:u,placeholder:"Enter chart title",required:!0})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 mb-1",children:"Labels (comma separated)"}),h.jsx("input",{type:"text",name:"labels",className:"w-full px-3 py-2 border rounded",value:n.labels,onChange:u,placeholder:"e.g., Q1, Q2, Q3, Q4",required:!0})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 mb-1",children:"Data (comma separated numbers)"}),h.jsx("input",{type:"text",name:"data",className:"w-full px-3 py-2 border rounded",value:n.data,onChange:u,placeholder:"e.g., 150, 200, 250, 300",required:!0})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 mb-1",children:"Colors (comma separated hex codes)"}),h.jsx("input",{type:"text",name:"colors",className:"w-full px-3 py-2 border rounded",value:n.colors,onChange:u,placeholder:"e.g., #4CAF50, #2196F3, #FFC107, #F44336",required:!0})]}),h.jsxs("div",{className:"flex justify-end",children:[h.jsx("button",{type:"button",onClick:e,className:"mr-2 bg-gray-500 text-white px-4 py-2 rounded",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Preview"})]})]})]})})]}):null},EHe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20width='100'%20height='100'%3e%3crect%20x='20'%20y='10'%20width='60'%20height='10'%20fill='black'%20/%3e%3cline%20x1='50'%20y1='20'%20x2='50'%20y2='60'%20stroke='black'%20stroke-width='3'%20/%3e%3cline%20x1='20'%20y1='60'%20x2='80'%20y2='60'%20stroke='black'%20stroke-width='3'%20/%3e%3cline%20x1='30'%20y1='70'%20x2='30'%20y2='90'%20stroke='black'%20stroke-width='3'%20/%3e%3cline%20x1='70'%20y1='70'%20x2='70'%20y2='90'%20stroke='black'%20stroke-width='3'%20/%3e%3c/svg%3e",MHe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20width='100'%20height='100'%3e%3crect%20x='20'%20y='10'%20width='60'%20height='10'%20fill='black'%20/%3e%3cline%20x1='50'%20y1='20'%20x2='50'%20y2='60'%20stroke='black'%20stroke-width='3'%20/%3e%3ccircle%20cx='50'%20cy='60'%20r='10'%20fill='black'%20/%3e%3c/svg%3e",FHe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20width='100'%20height='100'%3e%3crect%20x='30'%20y='40'%20width='40'%20height='20'%20fill='gray'%20/%3e%3cline%20x1='30'%20y1='50'%20x2='20'%20y2='50'%20stroke='black'%20stroke-width='3'%20/%3e%3cline%20x1='70'%20y1='50'%20x2='80'%20y2='50'%20stroke='black'%20stroke-width='3'%20/%3e%3c/svg%3e",THe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20width='100'%20height='100'%3e%3cline%20x1='10'%20y1='10'%20x2='90'%20y2='90'%20stroke='black'%20stroke-width='3'%20/%3e%3c/svg%3e",DHe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20width='100'%20height='100'%3e%3crect%20x='35'%20y='30'%20width='30'%20height='40'%20fill='blue'%20/%3e%3cline%20x1='35'%20y1='30'%20x2='10'%20y2='30'%20stroke='black'%20stroke-width='3'%20/%3e%3cline%20x1='65'%20y1='30'%20x2='90'%20y2='30'%20stroke='black'%20stroke-width='3'%20/%3e%3c/svg%3e",LHe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20width='100'%20height='100'%3e%3crect%20x='30'%20y='10'%20width='40'%20height='60'%20fill='gray'%20/%3e%3crect%20x='45'%20y='5'%20width='10'%20height='5'%20fill='black'%20/%3e%3cline%20x1='50'%20y1='70'%20x2='50'%20y2='80'%20stroke='black'%20stroke-width='3'%20/%3e%3c/svg%3e",NHe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20width='100'%20height='100'%3e%3crect%20x='30'%20y='40'%20width='40'%20height='20'%20fill='gray'%20/%3e%3cline%20x1='50'%20y1='40'%20x2='50'%20y2='60'%20stroke='black'%20stroke-width='3'%20/%3e%3ccircle%20cx='50'%20cy='30'%20r='5'%20fill='black'%20/%3e%3ccircle%20cx='50'%20cy='70'%20r='5'%20fill='black'%20/%3e%3c/svg%3e",jHe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20width='100'%20height='100'%3e%3ccircle%20cx='50'%20cy='30'%20r='20'%20fill='yellow'%20stroke='black'%20stroke-width='3'%20/%3e%3crect%20x='40'%20y='50'%20width='20'%20height='30'%20fill='silver'%20/%3e%3cline%20x1='50'%20y1='80'%20x2='50'%20y2='90'%20stroke='black'%20stroke-width='3'%20/%3e%3c/svg%3e",Cc=(t,e)=>{var r=document.getElementById(`${t}`);r&&console.log("found");var n=new qn(r,{left:100,top:100,width:200,selectable:!1,backgroundColor:"transparent",controls:{...qn.createControls().controls,delete:new Xr({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,backgroundColor:"tranparent",mouseUpHandler:(i,s,a,o)=>{e.remove(s.target)},cursorStyle:"pointer",render:(i,s,a,o,l)=>{i.save(),i.fillStyle="red",i.fillRect(s-10,a-10,20,20),i.strokeStyle="white",i.lineWidth=2,i.beginPath(),i.moveTo(s-5,a-5),i.lineTo(s+5,a+5),i.moveTo(s+5,a-5),i.lineTo(s-5,a+5),i.stroke(),i.restore()}})}});e.add(n),e.renderAll()},xie=({parameters:t})=>{const[e,r]=_.useState(!1),[n,i]=_.useState(!1),[s,a]=_.useState(!1),[o,l]=_.useState(null);_.useRef(null);const c=()=>{r(!1)},u=()=>{i(!1)},d=()=>{a(y=>!y)},A=()=>{a(!1)},f=[{name:"Pointer",icon:h.jsx(aEe,{className:"w-6 h-6 text-gray-700"}),action:()=>lDe(t)},{name:"Eraser",icon:h.jsx(tEe,{className:"w-6 h-6 text-gray-700"}),action:()=>cDe(t)},{name:"Pencil",icon:h.jsx(iEe,{className:"w-6 h-6 text-gray-700"}),action:()=>oDe(t)},{name:"Line",icon:h.jsx(nEe,{className:"w-6 h-6 text-gray-700"}),action:()=>nDe(t)},{name:"Text Box",icon:h.jsx(Kke,{className:"w-6 h-6 text-gray-700"}),action:()=>aDe(t)},{name:"Rectangle",icon:h.jsx(oEe,{className:"w-6 h-6 text-gray-700"}),action:()=>YTe(t)},{name:"Triangle",icon:h.jsx(uEe,{className:"w-6 h-6 text-gray-700"}),action:()=>WTe(t)},{name:"Ellipse",icon:h.jsx(eEe,{className:"w-6 h-6 text-gray-700"}),action:()=>eDe(t)},{name:"Pie Chart",icon:h.jsx(Gke,{className:"w-6 h-6 text-gray-700"}),action:()=>r(!0)},{name:"Bar Chart",icon:h.jsx(Wke,{className:"w-6 h-6 text-gray-700"}),action:()=>i(!0)},{name:"Equation",icon:h.jsx(lEe,{className:"w-6 h-6 text-gray-700"}),action:()=>bHe(t)},{name:"Electronics",icon:h.jsx(Xke,{className:"w-6 h-6 text-gray-700"}),action:d}],p=[{name:"Ground",icon:h.jsx("img",{src:EHe,alt:"Ground",id:"ground",className:"w-6 h-6"}),action:()=>Cc("ground",t.canvas)},{name:"VCC",icon:h.jsx("img",{src:MHe,alt:"VCC",id:"vcc",className:"w-6 h-6"}),action:()=>Cc("vcc",t.canvas)},{name:"Resistor",icon:h.jsx("img",{src:FHe,alt:"Resistor",id:"resistor",className:"w-6 h-6"}),action:()=>Cc("resistor",t.canvas)},{name:"Wire",icon:h.jsx("img",{src:THe,alt:"Wire",id:"wire",className:"w-6 h-6"}),action:()=>Cc("wire",t.canvas)},{name:"Capacitor",icon:h.jsx("img",{src:DHe,alt:"Capacitor",id:"capacitor",className:"w-6 h-6"}),action:()=>Cc("capacitor",t.canvas)},{name:"Battery",icon:h.jsx("img",{src:LHe,alt:"Battery",id:"battery",className:"w-6 h-6"}),action:()=>Cc("battery",t.canvas)},{name:"Switch",icon:h.jsx("img",{src:NHe,alt:"Switch",id:"switch",className:"w-6 h-6"}),action:()=>Cc("switch",t.canvas)},{name:"Bulb",icon:h.jsx("img",{src:jHe,alt:"Bulb",id:"bulb",className:"w-6 h-6"}),action:()=>Cc("bulb",t.canvas)}],m=(y,g)=>{l(g),typeof y.action=="function"&&y.action()};return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative w-[150px] min-h-[70vh] bg-gray-100 border-2 border-gray-300 shadow-lg p-4 flex flex-wrap items-center justify-center gap-x-3 overflow-y-none rounded-lg",children:[f.map((y,g)=>h.jsx("button",{className:`flex flex-col items-center border-2 justify-center p-2 w-[50px] h-[50px] hover:bg-gray-200 rounded-lg transition ${o===g?"bg-purple-200 border-purple-500":"border-gray-300"}`,onClick:()=>m(y,g),children:y.icon},g)),s&&h.jsxs("div",{className:"absolute mb-8 ml-12 w-[150px] bg-gray-100 shadow-lg border-2 border-gray-300 p-2 rounded-lg",children:[h.jsx("button",{className:"absolute top-0 right-0 text-white bg-red-600 p-1 rounded-full",onClick:A,children:""}),p.map((y,g)=>h.jsx("button",{className:"flex flex-col items-center border-2 border-gray-300 justify-center p-2 w-[50px] h-[50px] hover:bg-gray-200 rounded-lg transition",onClick:()=>y.action(),children:y.icon},g))]})]}),h.jsx(SHe,{isOpen:e,onClose:c,parameters:t}),h.jsx(kHe,{isOpen:n,onClose:u,parameters:t})]})};function IHe({canvas:t}){t.clear()}function OHe(t){const[e,r]=_.useState("#000000"),[n,i]=_.useState(5),[s,a]=_.useState(!1);return _.useEffect(()=>{globalThis.options={currentColor:e,currentWidth:n,fill:s}},[e,n,s]),h.jsxs("div",{className:"flex flex-col gap-4 p-2 bg-gray-50 border-2 rounded-lg border-gray-300 items-center justify-center ",children:[h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("input",{id:"colorPicker",type:"color",value:e,onChange:o=>r(o.target.value),className:"w-10 h-10 p-0 border-0"})}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>i(o=>Math.max(1,o-1)),className:"p-1 border rounded",children:"-"}),h.jsx("span",{children:n}),h.jsx("button",{onClick:()=>i(o=>o+1),className:"p-1 border rounded",children:"+"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("label",{htmlFor:"fillCheck",className:"font-medium text-gray-700",children:"Fill:"}),h.jsx("input",{id:"fillCheck",type:"checkbox",checked:s,onChange:o=>a(o.target.checked)})]})]})}const PHe={RECTANGLE:"RECTANGLE",TRIANGLE:"TRIANGLE",ELLIPSE:"ELLIPSE",LINE:"LINE",PENCIL:"PENCIL",ERASER:"ERASER"};function o4({aspectRatio:t=4/3}){const[e,r]=_.useState(options);_.useState({description:""});const n=xt(),[i,s]=_.useState(null),a=_.useRef(),o=_.useRef(),l=_.useRef(!0);return _.useEffect(()=>{if(!i&&a.current&&l.current){console.log("here canvas");const c=Ate(a.current,o.current.clientWidth,o.current.clientHeight);s(()=>c),l.current=!1}},[a]),h.jsxs("div",{className:"relative flex w-full min-h-[95vh] items-center justify-center p-2 bg-[whitesmoke]",children:[h.jsx("div",{className:"absolute flex w-[60px] h-[60px] items-center justify-center top-2 left-2 cursor-pointer bg-white hover:bg-purple-300 border rounded-lg ",onClick:()=>n(-1),children:h.jsx(ZZ,{})}),h.jsx("div",{className:"absolute flex items-center justify-around w-[200px] bottom-2 left-2",children:h.jsx("div",{className:"flex items-center justify-center bottom-2 left-2",children:h.jsx("button",{className:"w-[80px] h-[45px] text-white font-bold bg-red-600 rounded-lg",onClick:()=>IHe({canvas:i}),children:"Clear"})})}),h.jsx("div",{className:"flex flex-col p-8 h-full",children:h.jsx(xie,{parameters:{canvas:i,modes:PHe},setDrawOptions:r})}),h.jsx("div",{ref:o,className:"w-full h-full flex items-center justify-center bg-transparent shadow-lg rounded-lg border",children:h.jsx("canvas",{ref:a,id:"canvas",className:"w-full h-full border border-gray-300 border-4 rounded-lg"})}),h.jsx("div",{className:"flex flex-col p-4 h-full",children:h.jsx(OHe,{})})]})}const UHe=()=>{var b;const t=xt(),[e,r]=_.useState(1),[n,i]=_.useState(10),[s,a]=_.useState(!1),[o,l]=_.useState(null),{data:c,isLoading:u,error:d,isError:A,refetch:f}=yEe({page:e,limit:n});_.useEffect(()=>{f()},[]);const[p]=gEe(),m=async w=>{const C=await p({puzzle_id:Number(w)}).unwrap();(C==null?void 0:C.statusCode)===200?(Z.success("Puzzle deleted successfully!",{position:"top-right",autoClose:3e3}),f()):Z.error("Puzzle deletion failed!",{position:"top-right",autoClose:3e3}),a(!1),l(null)},y=w=>{l(w),a(!0)},g=[{Header:"Index",accessor:"index"},{Header:"ID",accessor:"id"},{Header:"Description",accessor:"description"},{Header:"Total Score",accessor:"total_score"},{Header:"Image",accessor:"image"},{Header:"Actions",accessor:"actions"}],v=w=>h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ea,{onClick:()=>t(`/admin/puzzles/${w.id}`),className:"w-4 h-4 text-[#6925EF] hover:text-[#3C1589] cursor-pointer transition-colors",title:"Edit Puzzle"}),h.jsx(Pu,{onClick:()=>y(w.id),className:"w-4 h-4 text-red-500 hover:text-red-700 cursor-pointer transition-colors",title:"Delete Puzzle"})]}),x=(b=c==null?void 0:c.data)==null?void 0:b.map((w,C)=>({index:C+1,id:w.id,description:w.description,total_score:w.total_score,image:h.jsx("a",{href:Tt+"/images/"+w.image_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"View Image"}),actions:v(w)}));return h.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:[h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[h.jsx(xb,{className:"text-[#6925EF]"}),"Manage Puzzles"]}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all puzzles in the system"})]}),h.jsxs(hn,{onClick:()=>t("/admin/puzzles/create"),className:"self-stretch sm:self-auto",children:[h.jsx(xb,{}),h.jsx("span",{children:" New Puzzle"})]})]})}),h.jsx("div",{className:"p-6",children:u?h.jsxs("div",{className:"flex justify-center items-center",children:[h.jsx(kr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"text-gray-600 ml-2",children:"Loading puzzles..."})]}):A?h.jsx("div",{className:"text-red-500 text-center",children:(d==null?void 0:d.message)||"Error loading puzzles"}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsx("tr",{children:g.map(w=>h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:w.Header},w.accessor))})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x==null?void 0:x.map(({index:w,id:C,description:S,total_score:B,image:E,actions:M})=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:C}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:S}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:B}),h.jsx("td",{className:"px-6 py-4 text-sm",children:E}),h.jsx("td",{className:"px-6 py-4 text-sm",children:M})]},C))})]})})}),h.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200",children:h.jsx(Gl,{currentPage:e,totalPages:(c==null?void 0:c.totalPages)||1,limit:n,onPageChange:r,onLimitChange:w=>{i(w),r(1)}})})]})}),h.jsx(Nh,{isOpen:s,onClose:()=>a(!1),onConfirm:()=>m(o),title:"Delete Puzzle",message:"Are you sure you want to delete this puzzle? This action cannot be undone."})]})};class bie{static async CreatePuzzle(e,r){const n={"Content-Type":"multipart/form-data",token:localStorage.getItem("accessToken")};return bg((i,s,a)=>Bt.post(i,s,a),e,`${Tt}/puzzle`,n,r)}static async SubmitPuzzle(e,r){const n={"Content-Type":"multipart/form-data",token:localStorage.getItem("accessToken")};return bg((i,s,a)=>Bt.post(i,s,a),e,`${Tt}/puzzle/submit-puzzle`,n,r)}}const QHe=()=>{var w;const[t,e]=_.useState(""),[r,n]=_.useState(""),[i,s]=_.useState(""),[a,o]=_.useState(""),[l,c]=_.useState(null),[u,d]=_.useState([]),[A,f]=_.useState(!1),{data:p,isLoading:m}=Io(),[y,{isLoading:g}]=xf(),v=async C=>{const S=C.target.value;n(S),s(""),d([]);try{const B=await y({level_id:Number(S)}).unwrap();(B==null?void 0:B.statusCode)===200&&d(B.data)}catch{Z.error("Failed to fetch subjects for the selected level.")}},x=C=>{const S=C.target.files[0];S&&(["image/png","image/jpeg","image/jpg"].includes(S.type)?c(S):(Z.error("Please upload a valid image file (png, jpg, jpeg)."),C.target.value=null))},b=async C=>{var B,E,M;if(C.preventDefault(),f(!0),!t||!r||!i||!l){Z.error("Please fill all required fields.");return}const S=new FormData;S.append("description",t),S.append("level_id",r),S.append("subject_id",i),S.append("total_score",a),S.append("image",l);try{const D=await bie.CreatePuzzle(S);((B=D==null?void 0:D.data)==null?void 0:B.statusCode)===200?(Z.success("Puzzle created successfully."),e(""),n(""),o(""),s(""),c(null),d([])):Z.error("Failed to create puzzle.")}catch(D){Z.error(((M=(E=D==null?void 0:D.response)==null?void 0:E.data)==null?void 0:M.message)||"Failed to create puzzle.")}f(!1)};return h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-md w-full max-w-lg p-6",children:[h.jsxs("h1",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[h.jsx(pA,{className:"text-[#6925EF]"})," Create Puzzle"]}),h.jsxs("form",{onSubmit:b,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),h.jsx("textarea",{value:t,onChange:C=>e(C.target.value),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#6925EF]/20",placeholder:"Enter puzzle description",rows:3,required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Level"}),h.jsxs("select",{value:r,onChange:v,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[h.jsx("option",{value:"",children:m?"Loading...":"Select Level"}),(w=p==null?void 0:p.data)==null?void 0:w.map(({id:C,level:S})=>h.jsx("option",{value:C,children:S},C))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Subject"}),h.jsxs("select",{value:i,onChange:C=>s(C.target.value),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#6925EF]/20",disabled:!r||g,required:!0,children:[h.jsx("option",{value:"",children:g?"Loading...":"Select Subject"}),u==null?void 0:u.map(({id:C,title:S})=>h.jsx("option",{value:C,children:S},C))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Upload Puzzle Image"}),h.jsx("input",{type:"file",onChange:x,accept:".png, .jpg, .jpeg",className:"mt-1 w-full",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Score"}),h.jsx("input",{type:"number",value:a,onChange:C=>o(C.target.value),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#6925EF]/20",required:!0})]}),h.jsx("div",{children:h.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-md hover:opacity-90 transition-opacity",children:A?"Creating...":"Create Puzzle"})})]})]})})};function RHe(){const t=xt(),{data:e,isLoading:r,isError:n,error:i,refetch:s}=mEe(),[a]=pEe();if(_.useEffect(()=>{s()},[]),r)return h.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:h.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center",children:[h.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-purple-600 border-t-transparent rounded-full mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Loading available puzzles..."})]})});if(n)return h.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:h.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center max-w-md w-full",children:[h.jsx(tee,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Error Loading Puzzles"}),h.jsx("p",{className:"text-gray-600 mb-4",children:(i==null?void 0:i.message)||"Failed to load puzzles. Please try again later."}),h.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Retry"})]})});const o=(e==null?void 0:e.data)||[];if(!o.length)return h.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:h.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center max-w-md w-full",children:[h.jsx(a9,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Puzzles Available"}),h.jsx("p",{className:"text-gray-600",children:"There are currently no puzzles available for your level."})]})});const l=async c=>{try{(await a({puzzle_assignment_id:Number(c)}).unwrap()).statusCode===200&&t(`/puzzles/whiteboard/${c}`)}catch(u){Z.error(u.message||"Failed to start puzzle")}};return h.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Available Puzzles"}),h.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Select a puzzle to start solving. Make sure to check the description and total marks before starting."})]}),h.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:o.map(c=>{var u,d,A,f,p,m;return h.jsxs("div",{className:"min-h-[300px] bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden  group",children:[h.jsx("div",{className:"px-6 w-full py-4 border-t border-gray-100",children:h.jsx("img",{src:Tt+"/images/"+((u=c==null?void 0:c.puzzle)==null?void 0:u.image_url),alt:"Puzzle",className:"w-full h-auto rounded-lg"})}),h.jsxs("div",{className:"p-6 h-[75%]",children:[h.jsx("p",{className:"mt-2 text-gray-600 text-sm line-clamp-2",children:(d=c==null?void 0:c.puzzle)==null?void 0:d.description}),h.jsxs("div",{className:"mt-4 space-y-2",children:[h.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[h.jsx(UP,{className:"w-4 h-4 mr-2 text-gray-400"}),"Total Marks: ",(A=c==null?void 0:c.puzzle)==null?void 0:A.total_score]}),h.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[h.jsx(UP,{className:"w-4 h-4 mr-2 text-gray-400"}),"Subject: ",(p=(f=c==null?void 0:c.puzzle)==null?void 0:f.subject)==null?void 0:p.display_title]})]}),(c==null?void 0:c.solve_attempts.length)>0&&((m=c==null?void 0:c.solve_attempts[0])!=null&&m.marked)?h.jsx("button",{disabled:!0,className:"cursor-pointer bg-gray-400 w-full p-4 rounded-lg mt-4 text-white",children:"Solved"}):h.jsx("button",{className:"cursor-pointer bg-purple-700 w-full p-4 rounded-lg mt-4 text-white",onClick:()=>l(c.id),children:"Start Puzzle"})]})]},c.id)})})]})})}let HHe={drawInstance:null,origX:void 0,origY:void 0,mouseDown:!1};const zHe={currentMode:"",currentColor:"#000000",currentWidth:5,fill:!1,group:{}},$He={RECTANGLE:"RECTANGLE",TRIANGLE:"TRIANGLE",ELLIPSE:"ELLIPSE",LINE:"LINE",PENCIL:"PENCIL",ERASER:"ERASER"};function VHe(){const t=Af(),{puzzle_assignment_id:e}=ur();_.useState({description:""});const r=xt(),[n,i]=_.useState(!1),[s,a]=_.useState(null),[o,l]=_.useState(null),[c,u]=_.useState(""),d=_.useRef(),A=_.useRef(),f=_.useRef(!0),{data:p,isLoading:m,isError:y,error:g}=hEe(e);_.useEffect(()=>{var x,b,w,C;if(!s&&d.current&&f.current){console.log("Initializing canvas");const S=Ate(d.current,A.current.clientWidth,A.current.clientHeight);a(()=>S),f.current=!1}if(s&&p){const S=(b=(x=p==null?void 0:p.data)==null?void 0:x.puzzle)==null?void 0:b.image_url,B=(C=(w=p==null?void 0:p.data)==null?void 0:w.puzzle)==null?void 0:C.description;l(Tt+"/images/"+S),u(B);const E=document.getElementById("my-image");E.crossOrigin="anonymous",E.onload=()=>{const M=new qn(E,{left:0,top:0,selectable:!1}),D=s.getWidth(),L=s.getHeight();M.scaleToWidth(D),M.scaleToHeight(L),s.add(M),s.renderAll()}}},[d,p,s]);const v=async()=>{var x,b,w,C;if(i(!0),!s){Z.error("No image to submit");return}try{const S=document.getElementById("canvas");(await V5(S,{useCORS:!0,scale:2})).toBlob(async E=>{var L,I;const M=new FormData;M.append("puzzle_assignment_id",e),M.append("image",E,"canvas-screenshot.png");const D=await bie.SubmitPuzzle(M,t);((L=D==null?void 0:D.data)==null?void 0:L.statusCode)===200?(Z.success("Puzzle attempt submitted successfully"),console.log((I=D==null?void 0:D.data)==null?void 0:I.data)):console.log("hahhhhaha")})}catch(S){Z.error(((b=(x=S==null?void 0:S.response)==null?void 0:x.data)==null?void 0:b.message)||((C=(w=S==null?void 0:S.response)==null?void 0:w.data)==null?void 0:C.error)||"Failed to submit puzzle")}i(!1)};return h.jsxs("div",{className:"flex flex-col w-full",children:[h.jsxs("div",{className:"relative flex w-full min-h-[90vh] items-center justify-center p-2 bg-[whitesmoke]",children:[h.jsx("div",{className:"absolute flex w-[60px] h-[60px] items-center justify-center top-2 left-2 cursor-pointer bg-white hover:bg-purple-300 border rounded-lg",onClick:()=>r("/puzzles"),children:h.jsx(ZZ,{})}),h.jsx("div",{className:"flex flex-col p-8 h-full",children:h.jsx(xie,{parameters:{canvas:s,options:zHe,modes:$He,instanceReference:HHe}})}),h.jsx("img",{id:"my-image",src:o,alt:"Puzzle",style:{display:"none"}}),h.jsx("div",{ref:A,className:"w-[80%] h-[80%] flex items-center justify-center bg-transparent shadow-lg rounded-lg border",children:h.jsx("canvas",{ref:d,id:"canvas",className:"w-full h-full border border-gray-300 border-4 rounded-lg"})})]}),h.jsxs("div",{className:"flex w-full items-center justify-center p-4",children:[h.jsxs("div",{className:"w-full",children:[h.jsx("h3",{className:"font-bold text-xl mb-4",children:"Description"}),h.jsx("p",{children:c})]}),h.jsx("div",{className:"w-full",children:h.jsx("button",{className:"w-full h-12 text-white font-bold bg-blue-600 rounded-lg",onClick:v,disabled:n,children:n?"Submitting...":"Submit Puzzle"})})]})]})}const KHe=()=>{var D,L;const{puzzle_id:t}=ur(),[e,r]=_.useState(""),[n,i]=_.useState(""),[s,a]=_.useState(""),[o,l]=_.useState(""),[c,u]=_.useState([]),[d,A]=_.useState(null),[f,p]=_.useState(!1),[m]=xEe(),{data:y,isLoading:g,isError:v,error:x,refetch:b}=vEe(t),[w,{isLoading:C}]=xf(),{data:S,isLoading:B}=Io();_.useEffect(()=>{y!=null&&y.data&&(A(y.data),r(y.data.description),i(y.data.level_id),a(y.data.subject_id),l(y.data.total_score))},[y]);const E=async I=>{const z=I.target.value;if(i(z),a(""),u([]),z)try{const R=await w({level_id:Number(z)}).unwrap();(R==null?void 0:R.statusCode)===200&&u(R.data)}catch{Z.error("Failed to fetch subjects for the selected level.")}},M=async I=>{var R,Y;I.preventDefault(),p(!0);const z={description:e,level_id:Number(n),subject_id:Number(s),total_score:Number(o),id:Number(t)};try{const $=await m(z).unwrap();($==null?void 0:$.statusCode)===200?(Z.success("Puzzle updated successfully."),b()):Z.error("Failed to update puzzle.")}catch($){Z.error(((Y=(R=$==null?void 0:$.response)==null?void 0:R.data)==null?void 0:Y.message)||"Failed to update puzzle.")}p(!1)};return h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-md w-full max-w-lg p-6",children:[h.jsxs("h1",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[h.jsx(pA,{className:"text-[#6925EF]"})," Update Puzzle"]}),g?h.jsx("p",{children:"Loading..."}):h.jsxs("form",{onSubmit:M,className:"space-y-4",children:[h.jsxs("div",{className:"mt-4",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Puzzle Image"}),h.jsx("div",{className:"mt-2",children:(d==null?void 0:d.image_url)&&h.jsx("img",{src:Tt+"/images/"+d.image_url,alt:"Puzzle Image",className:"w-full max-w-xs mx-auto border-2 border-gray-300 rounded-md"})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),h.jsx("textarea",{value:e,onChange:I=>r(I.target.value),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#6925EF]/20",placeholder:"Enter puzzle description",rows:3})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Level"}),h.jsxs("select",{value:n,onChange:E,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#6925EF]/20",children:[h.jsx("option",{value:"",children:B?"Loading...":"Select Level"}),(D=S==null?void 0:S.data)==null?void 0:D.map(({id:I,level:z})=>h.jsx("option",{value:I,children:z},I))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Subject"}),h.jsxs("select",{value:s,onChange:I=>a(I.target.value),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#6925EF]/20",disabled:!n||C,children:[h.jsx("option",{value:"",children:(L=d==null?void 0:d.subject)==null?void 0:L.title}),c==null?void 0:c.map(({id:I,title:z})=>h.jsx("option",{value:I,children:z},I))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Score"}),h.jsx("input",{type:"number",value:o,onChange:I=>l(I.target.value),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#6925EF]/20"})]}),h.jsx("div",{children:h.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-md hover:opacity-90 transition-opacity",children:f?"Updating...":"Update Puzzle"})})]})]})})},qHe=()=>{var p;xt();const[t,e]=_.useState(1),[r,n]=_.useState(10),{data:i,isLoading:s,error:a,isError:o,refetch:l}=AEe({page:t,limit:r});_.useEffect(()=>{l()},[]);const[c]=dEe(),u=async m=>{const y=await c({puzzle_id:Number(m)}).unwrap();(y==null?void 0:y.statusCode)===200?(Z.success("Puzzle assigned successfully!"),l()):Z.error("Puzzle assignment failed!")},d=[{Header:"ID",accessor:"id"},{Header:"Level",accessor:"level"},{Header:"Subject",accessor:"subject"},{Header:"Description",accessor:"description"},{Header:"Total Score",accessor:"total_score"},{Header:"Image",accessor:"image"},{Header:"Actions",accessor:"actions"}],A=m=>h.jsx("div",{className:"flex items-center gap-2",children:m.puzzle_assignments.length<=0?h.jsx(xb,{onClick:()=>u(m.id),className:"w-4 h-4 text-[#6925EF] hover:text-[#3C1589] cursor-pointer transition-colors",title:"Assign Puzzle"}):h.jsx("span",{children:" Already Assigned"})}),f=(p=i==null?void 0:i.data)==null?void 0:p.map((m,y)=>{var g,v;return{index:y+1,level:(g=m==null?void 0:m.level)==null?void 0:g.level,subject:(v=m==null?void 0:m.subject)==null?void 0:v.display_title,description:m.description,total_score:m.total_score,image:h.jsx("a",{href:Tt+"/images/"+m.image_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"View Image"}),actions:A(m)}});return h.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("div",{className:"flex justify-between items-center",children:h.jsx("div",{children:h.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[h.jsx(xb,{className:"text-[#6925EF]"}),"Assign Puzzles"]})})})}),h.jsx("div",{className:"p-6",children:s?h.jsxs("div",{className:"flex justify-center items-center",children:[h.jsx(kr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"text-gray-600 ml-2",children:"Loading puzzles..."})]}):o?h.jsx("div",{className:"text-red-500 text-center",children:(a==null?void 0:a.message)||"Error loading puzzles"}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsx("tr",{children:d.map(m=>h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:m.Header},m.accessor))})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f==null?void 0:f.map(({index:m,id:y,description:g,total_score:v,level:x,subject:b,image:w,actions:C})=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:m}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:x}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:b}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs",children:g}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:v}),h.jsx("td",{className:"px-6 py-4 text-sm",children:w}),h.jsx("td",{className:"px-6 py-4 text-sm",children:C})]},y))})]})})}),h.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200",children:h.jsx(Gl,{currentPage:t,totalPages:(i==null?void 0:i.totalPages)||1,limit:r,onPageChange:e,onLimitChange:m=>{n(m),e(1)}})})]})})})},WHe=()=>{const{user:t,isLoading:e}=ti(),r=yu(n=>n.auth.isAuthenticated);return e?h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100",children:h.jsx(kr,{className:"inline animate-spin text-[#6925EF]"})}):r?h.jsxs(TD,{children:[(t==null?void 0:t.role)===ve.SUPER_ADMIN&&h.jsxs(Te,{path:"/admin/",element:h.jsx(Jh,{}),children:[h.jsx(Te,{index:!0,element:h.jsx(b8,{})}),h.jsx(Te,{path:"users",element:h.jsx(I8,{})}),h.jsx(Te,{path:"users/:user_id",element:h.jsx(M8,{})}),h.jsx(Te,{path:"users/create",element:h.jsx(j8,{})}),h.jsx(Te,{path:"districts",element:h.jsx(YEe,{})}),h.jsx(Te,{path:"districts/:district_id",element:h.jsx(tMe,{})}),h.jsx(Te,{path:"districts/create",element:h.jsx(ZEe,{})}),h.jsx(Te,{path:"chat-screen/:bot_id",element:h.jsx(Wf,{})}),h.jsx(Te,{path:"settings",element:h.jsx(pO,{})}),h.jsx(Te,{path:"puzzles",element:h.jsx(UHe,{})}),h.jsx(Te,{path:"puzzles/create",element:h.jsx(QHe,{})}),h.jsx(Te,{path:"puzzles/:puzzle_id",element:h.jsx(KHe,{})}),h.jsx(Te,{path:"new-bot",element:h.jsx(y3e,{})}),h.jsx(Te,{path:"bots",element:h.jsx(iCe,{})}),h.jsx(Te,{path:"bots/:bot_id",element:h.jsx(aCe,{})}),h.jsx(Te,{path:"files",element:h.jsx(oCe,{})}),h.jsx(Te,{path:"files/new-file",element:h.jsx(sMe,{})}),h.jsx(Te,{path:"levels",element:h.jsx(hCe,{})}),h.jsx(Te,{path:"levels/create",element:h.jsx(fCe,{})}),h.jsx(Te,{path:"levels/:id",element:h.jsx(mCe,{})}),h.jsx(Te,{path:"subjects",element:h.jsx(gCe,{})}),h.jsx(Te,{path:"subjects/create",element:h.jsx(vCe,{})}),h.jsx(Te,{path:"subjects/:id",element:h.jsx(bCe,{})}),h.jsx(Te,{path:"deepgram-models",element:h.jsx(_Ce,{})}),h.jsx(Te,{path:"whiteboard",element:h.jsx(o4,{})})]}),(t==null?void 0:t.role)===ve.SUPER_INTENDENT&&h.jsxs(Te,{path:"/admin/",element:h.jsx(Jh,{}),children:[h.jsx(Te,{index:!0,element:h.jsx(b8,{})}),h.jsx(Te,{path:"users",element:h.jsx(I8,{})}),h.jsx(Te,{path:"users/:user_id",element:h.jsx(M8,{})}),h.jsx(Te,{path:"users/create",element:h.jsx(j8,{})}),h.jsx(Te,{path:"schools",element:h.jsx(_Ee,{})}),h.jsx(Te,{path:"schools/create",element:h.jsx(EEe,{})}),h.jsx(Te,{path:"schools/:school_id",element:h.jsx(FEe,{})}),h.jsx(Te,{path:"chat-screen/:bot_id",element:h.jsx(Wf,{})}),h.jsx(Te,{path:"settings",element:h.jsx(pO,{})}),h.jsx(Te,{path:"whiteboard",element:h.jsx(o4,{})})]}),(t==null?void 0:t.role)===ve.ADMIN&&h.jsxs(Te,{path:"/admin/",element:h.jsx(Jh,{}),children:[h.jsx(Te,{index:!0,element:h.jsx(b8,{})}),h.jsx(Te,{path:"users",element:h.jsx(I8,{})}),h.jsx(Te,{path:"users/:user_id",element:h.jsx(M8,{})}),h.jsx(Te,{path:"users/create",element:h.jsx(j8,{})}),h.jsx(Te,{path:"chat-screen/:bot_id",element:h.jsx(Wf,{})}),h.jsx(Te,{path:"settings",element:h.jsx(nx,{})}),h.jsx(Te,{path:"whiteboard",element:h.jsx(o4,{})})]}),(t==null?void 0:t.role)===ve.TEACHER&&h.jsxs(Te,{path:"/teacher/",element:h.jsx(Jh,{}),children:[h.jsx(Te,{index:!0,element:h.jsx(CCe,{})}),h.jsx(Te,{path:"subject",element:h.jsx(SCe,{})}),h.jsx(Te,{path:"subject/:subject_id",element:h.jsx(BCe,{})}),h.jsx(Te,{path:"subject/:subject_id/:user_id/:bot_id",element:h.jsx(SEe,{})}),h.jsx(Te,{path:"subject/:subject_id/:user_id/:bot_id/:quiz_attempt_id",element:h.jsx(QEe,{})}),h.jsx(Te,{path:"chat-screen/:bot_id",element:h.jsx(Wf,{})}),h.jsx(Te,{path:"puzzles",element:h.jsx(qHe,{})}),h.jsx(Te,{path:"quiz",element:h.jsx(BEe,{})}),h.jsx(Te,{path:"quiz/:quiz_id",element:h.jsx(NEe,{})}),h.jsx(Te,{path:"settings",element:h.jsx(nx,{})}),h.jsx(Te,{path:"quiz/create",element:h.jsx(l3e,{})})]}),(t==null?void 0:t.role)===ve.PARENT&&h.jsxs(Te,{path:"/parent/children",element:h.jsx(Jh,{}),children:[h.jsx(Te,{index:!0,element:h.jsx(jEe,{})}),h.jsx(Te,{path:":child_id",element:h.jsx(UEe,{})})]}),(t==null?void 0:t.role)===ve.USER&&h.jsxs(Te,{path:"/",element:h.jsx(Jh,{}),children:[h.jsx(Te,{index:!0,element:h.jsx(uCe,{})}),h.jsx(Te,{path:"chat-screen/:bot_id",element:h.jsx(Wf,{})}),h.jsx(Te,{path:"profile",element:h.jsx(c3e,{})}),h.jsx(Te,{path:"puzzles",element:h.jsx(RHe,{})}),h.jsx(Te,{path:"puzzles/whiteboard/:puzzle_assignment_id",element:h.jsx(VHe,{})}),h.jsx(Te,{path:"quiz",element:h.jsx(TEe,{})}),h.jsx(Te,{path:"quiz/:quizId",element:h.jsx(DEe,{})}),h.jsx(Te,{path:"quiz-history",element:h.jsx(nMe,{})}),h.jsx(Te,{path:"settings",element:h.jsx(nx,{})}),h.jsx(Te,{path:"whiteboard",element:h.jsx(o4,{})})]}),h.jsx(Te,{path:"*",element:h.jsx(FD,{to:(t==null?void 0:t.role)===ve.SUPER_ADMIN||(t==null?void 0:t.role)===ve.ADMIN||(t==null?void 0:t.role)===ve.SUPER_INTENDENT?"/admin":(t==null?void 0:t.role)===ve.TEACHER?"/teacher":(t==null?void 0:t.role)===ve.PARENT?"/parent/children":"/",replace:!0})})]}):h.jsxs(TD,{children:[h.jsx(Te,{path:"/login",element:h.jsx(p0e,{})}),h.jsx(Te,{path:"/forget-password",element:h.jsx(m0e,{})}),h.jsx(Te,{path:"/email-verification",element:h.jsx(j0e,{})}),h.jsx(Te,{path:"*",element:h.jsx(FD,{to:"/login",replace:!0})})]})},GHe=()=>h.jsx(Ede,{children:h.jsx(vle,{children:h.jsx(WHe,{})})}),XHe=ude({reducer:{[E4.reducerPath]:E4.reducer,[j4.reducerPath]:j4.reducer,[N4.reducerPath]:N4.reducer,[$p.reducerPath]:$p.reducer,[U4.reducerPath]:U4.reducer,[V4.reducerPath]:V4.reducer,[$4.reducerPath]:$4.reducer,[R4.reducerPath]:R4.reducer,[Q4.reducerPath]:Q4.reducer,[H4.reducerPath]:H4.reducer,[Y4.reducerPath]:Y4.reducer,[z4.reducerPath]:z4.reducer,[X4.reducerPath]:X4.reducer,[hx.reducerPath]:hx.reducer,auth:Sq.reducer},middleware:t=>t().concat(E4.middleware,j4.middleware,N4.middleware,$p.middleware,U4.middleware,V4.middleware,$4.middleware,R4.middleware,$p.middleware,Q4.middleware,H4.middleware,Y4.middleware,z4.middleware,X4.middleware,hx.middleware)});xK(document.getElementById("root")).render(h.jsx(_.StrictMode,{children:h.jsxs(Bue,{store:XHe,children:[h.jsx(che,{position:"top-right",autoClose:1500,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),h.jsx(GHe,{})]})}));
