var Eie=Object.defineProperty;var Mie=(t,e,r)=>e in t?Eie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var _e=(t,e,r)=>Mie(t,typeof e!="symbol"?e+"":e,r);function Fie(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var AT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function q3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var d$={exports:{}},W3={},h$={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1=Symbol.for("react.element"),Tie=Symbol.for("react.portal"),Die=Symbol.for("react.fragment"),Lie=Symbol.for("react.strict_mode"),Nie=Symbol.for("react.profiler"),jie=Symbol.for("react.provider"),Iie=Symbol.for("react.context"),Oie=Symbol.for("react.forward_ref"),Pie=Symbol.for("react.suspense"),Uie=Symbol.for("react.memo"),Rie=Symbol.for("react.lazy"),fT=Symbol.iterator;function Qie(t){return t===null||typeof t!="object"?null:(t=fT&&t[fT]||t["@@iterator"],typeof t=="function"?t:null)}var A$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f$=Object.assign,p$={};function af(t,e,r){this.props=t,this.context=e,this.refs=p$,this.updater=r||A$}af.prototype.isReactComponent={};af.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};af.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function m$(){}m$.prototype=af.prototype;function R_(t,e,r){this.props=t,this.context=e,this.refs=p$,this.updater=r||A$}var Q_=R_.prototype=new m$;Q_.constructor=R_;f$(Q_,af.prototype);Q_.isPureReactComponent=!0;var pT=Array.isArray,g$=Object.prototype.hasOwnProperty,z_={current:null},y$={key:!0,ref:!0,__self:!0,__source:!0};function v$(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)g$.call(e,n)&&!y$.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:u1,type:t,key:s,ref:a,props:i,_owner:z_.current}}function zie(t,e){return{$$typeof:u1,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function H_(t){return typeof t=="object"&&t!==null&&t.$$typeof===u1}function Hie(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var mT=/\/+/g;function q5(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Hie(""+t.key):e.toString(36)}function u4(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case u1:case Tie:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+q5(a,0):n,pT(i)?(r="",t!=null&&(r=t.replace(mT,"$&/")+"/"),u4(i,e,r,"",function(c){return c})):i!=null&&(H_(i)&&(i=zie(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(mT,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",pT(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+q5(s,o);a+=u4(s,e,r,l,i)}else if(l=Qie(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+q5(s,o++),a+=u4(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function t2(t,e,r){if(t==null)return t;var n=[],i=0;return u4(t,n,"","",function(s){return e.call(r,s,i++)}),n}function $ie(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vi={current:null},d4={transition:null},Vie={ReactCurrentDispatcher:vi,ReactCurrentBatchConfig:d4,ReactCurrentOwner:z_};function x$(){throw Error("act(...) is not supported in production builds of React.")}xt.Children={map:t2,forEach:function(t,e,r){t2(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return t2(t,function(){e++}),e},toArray:function(t){return t2(t,function(e){return e})||[]},only:function(t){if(!H_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xt.Component=af;xt.Fragment=Die;xt.Profiler=Nie;xt.PureComponent=R_;xt.StrictMode=Lie;xt.Suspense=Pie;xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vie;xt.act=x$;xt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=f$({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=z_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)g$.call(e,l)&&!y$.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:u1,type:t.type,key:i,ref:s,props:n,_owner:a}};xt.createContext=function(t){return t={$$typeof:Iie,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jie,_context:t},t.Consumer=t};xt.createElement=v$;xt.createFactory=function(t){var e=v$.bind(null,t);return e.type=t,e};xt.createRef=function(){return{current:null}};xt.forwardRef=function(t){return{$$typeof:Oie,render:t}};xt.isValidElement=H_;xt.lazy=function(t){return{$$typeof:Rie,_payload:{_status:-1,_result:t},_init:$ie}};xt.memo=function(t,e){return{$$typeof:Uie,type:t,compare:e===void 0?null:e}};xt.startTransition=function(t){var e=d4.transition;d4.transition={};try{t()}finally{d4.transition=e}};xt.unstable_act=x$;xt.useCallback=function(t,e){return vi.current.useCallback(t,e)};xt.useContext=function(t){return vi.current.useContext(t)};xt.useDebugValue=function(){};xt.useDeferredValue=function(t){return vi.current.useDeferredValue(t)};xt.useEffect=function(t,e){return vi.current.useEffect(t,e)};xt.useId=function(){return vi.current.useId()};xt.useImperativeHandle=function(t,e,r){return vi.current.useImperativeHandle(t,e,r)};xt.useInsertionEffect=function(t,e){return vi.current.useInsertionEffect(t,e)};xt.useLayoutEffect=function(t,e){return vi.current.useLayoutEffect(t,e)};xt.useMemo=function(t,e){return vi.current.useMemo(t,e)};xt.useReducer=function(t,e,r){return vi.current.useReducer(t,e,r)};xt.useRef=function(t){return vi.current.useRef(t)};xt.useState=function(t){return vi.current.useState(t)};xt.useSyncExternalStore=function(t,e,r){return vi.current.useSyncExternalStore(t,e,r)};xt.useTransition=function(){return vi.current.useTransition()};xt.version="18.3.1";h$.exports=xt;var _=h$.exports;const Pe=q3(_),gT=Fie({__proto__:null,default:Pe},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kie=_,qie=Symbol.for("react.element"),Wie=Symbol.for("react.fragment"),Gie=Object.prototype.hasOwnProperty,Xie=Kie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yie={key:!0,ref:!0,__self:!0,__source:!0};function b$(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Gie.call(e,n)&&!Yie.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:qie,type:t,key:s,ref:a,props:i,_owner:Xie.current}}W3.Fragment=Wie;W3.jsx=b$;W3.jsxs=b$;d$.exports=W3;var h=d$.exports,w$={exports:{}},Bs={},C$={exports:{}},B$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,q){var N=U.length;U.push(q);e:for(;0<N;){var ne=N-1>>>1,re=U[ne];if(0<i(re,q))U[ne]=q,U[N]=re,N=ne;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var q=U[0],N=U.pop();if(N!==q){U[0]=N;e:for(var ne=0,re=U.length,O=re>>>1;ne<O;){var me=2*(ne+1)-1,Ce=U[me],oe=me+1,ye=U[oe];if(0>i(Ce,N))oe<re&&0>i(ye,Ce)?(U[ne]=ye,U[oe]=N,ne=oe):(U[ne]=Ce,U[me]=N,ne=me);else if(oe<re&&0>i(ye,N))U[ne]=ye,U[oe]=N,ne=oe;else break e}}return q}function i(U,q){var N=U.sortIndex-q.sortIndex;return N!==0?N:U.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,A=3,f=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(U){for(var q=r(c);q!==null;){if(q.callback===null)n(c);else if(q.startTime<=U)n(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=r(c)}}function b(U){if(m=!1,x(U),!p)if(r(l)!==null)p=!0,W(w);else{var q=r(c);q!==null&&K(b,q.startTime-U)}}function w(U,q){p=!1,m&&(m=!1,g(S),S=-1),f=!0;var N=A;try{for(x(q),d=r(l);d!==null&&(!(d.expirationTime>q)||U&&!T());){var ne=d.callback;if(typeof ne=="function"){d.callback=null,A=d.priorityLevel;var re=ne(d.expirationTime<=q);q=t.unstable_now(),typeof re=="function"?d.callback=re:d===r(l)&&n(l),x(q)}else n(l);d=r(l)}if(d!==null)var O=!0;else{var me=r(c);me!==null&&K(b,me.startTime-q),O=!1}return O}finally{d=null,A=N,f=!1}}var C=!1,B=null,S=-1,E=5,M=-1;function T(){return!(t.unstable_now()-M<E)}function L(){if(B!==null){var U=t.unstable_now();M=U;var q=!0;try{q=B(!0,U)}finally{q?I():(C=!1,B=null)}}else C=!1}var I;if(typeof y=="function")I=function(){y(L)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,z=R.port2;R.port1.onmessage=L,I=function(){z.postMessage(null)}}else I=function(){v(L,0)};function W(U){B=U,C||(C=!0,I())}function K(U,q){S=v(function(){U(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,W(w))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(U){switch(A){case 1:case 2:case 3:var q=3;break;default:q=A}var N=A;A=q;try{return U()}finally{A=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var N=A;A=U;try{return q()}finally{A=N}},t.unstable_scheduleCallback=function(U,q,N){var ne=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?ne+N:ne):N=ne,U){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=N+re,U={id:u++,callback:q,priorityLevel:U,startTime:N,expirationTime:re,sortIndex:-1},N>ne?(U.sortIndex=N,e(c,U),r(l)===null&&U===r(c)&&(m?(g(S),S=-1):m=!0,K(b,N-ne))):(U.sortIndex=re,e(l,U),p||f||(p=!0,W(w))),U},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(U){var q=A;return function(){var N=A;A=q;try{return U.apply(this,arguments)}finally{A=N}}}})(B$);C$.exports=B$;var Jie=C$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zie=_,xs=Jie;function we(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S$=new Set,rg={};function E0(t,e){NA(t,e),NA(t+"Capture",e)}function NA(t,e){for(rg[t]=e,t=0;t<e.length;t++)S$.add(e[t])}var Fl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),NC=Object.prototype.hasOwnProperty,ese=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yT={},vT={};function tse(t){return NC.call(vT,t)?!0:NC.call(yT,t)?!1:ese.test(t)?vT[t]=!0:(yT[t]=!0,!1)}function rse(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nse(t,e,r,n){if(e===null||typeof e>"u"||rse(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xi(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pn[t]=new xi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pn[e]=new xi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pn[t]=new xi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pn[t]=new xi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pn[t]=new xi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pn[t]=new xi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pn[t]=new xi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pn[t]=new xi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pn[t]=new xi(t,5,!1,t.toLowerCase(),null,!1,!1)});var $_=/[\-:]([a-z])/g;function V_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($_,V_);Pn[e]=new xi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($_,V_);Pn[e]=new xi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($_,V_);Pn[e]=new xi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pn[t]=new xi(t,1,!1,t.toLowerCase(),null,!1,!1)});Pn.xlinkHref=new xi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pn[t]=new xi(t,1,!1,t.toLowerCase(),null,!0,!0)});function K_(t,e,r,n){var i=Pn.hasOwnProperty(e)?Pn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nse(e,r,i,n)&&(r=null),n||i===null?tse(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Kl=Zie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,r2=Symbol.for("react.element"),Dh=Symbol.for("react.portal"),Lh=Symbol.for("react.fragment"),q_=Symbol.for("react.strict_mode"),jC=Symbol.for("react.profiler"),_$=Symbol.for("react.provider"),k$=Symbol.for("react.context"),W_=Symbol.for("react.forward_ref"),IC=Symbol.for("react.suspense"),OC=Symbol.for("react.suspense_list"),G_=Symbol.for("react.memo"),Dc=Symbol.for("react.lazy"),E$=Symbol.for("react.offscreen"),xT=Symbol.iterator;function Lf(t){return t===null||typeof t!="object"?null:(t=xT&&t[xT]||t["@@iterator"],typeof t=="function"?t:null)}var Er=Object.assign,W5;function jp(t){if(W5===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);W5=e&&e[1]||""}return`
`+W5+t}var G5=!1;function X5(t,e){if(!t||G5)return"";G5=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{G5=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?jp(t):""}function ise(t){switch(t.tag){case 5:return jp(t.type);case 16:return jp("Lazy");case 13:return jp("Suspense");case 19:return jp("SuspenseList");case 0:case 2:case 15:return t=X5(t.type,!1),t;case 11:return t=X5(t.type.render,!1),t;case 1:return t=X5(t.type,!0),t;default:return""}}function PC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Lh:return"Fragment";case Dh:return"Portal";case jC:return"Profiler";case q_:return"StrictMode";case IC:return"Suspense";case OC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case k$:return(t.displayName||"Context")+".Consumer";case _$:return(t._context.displayName||"Context")+".Provider";case W_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case G_:return e=t.displayName||null,e!==null?e:PC(t.type)||"Memo";case Dc:e=t._payload,t=t._init;try{return PC(t(e))}catch{}}return null}function sse(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return PC(e);case 8:return e===q_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function M$(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ase(t){var e=M$(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function n2(t){t._valueTracker||(t._valueTracker=ase(t))}function F$(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=M$(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ux(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function UC(t,e){var r=e.checked;return Er({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function bT(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=fu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function T$(t,e){e=e.checked,e!=null&&K_(t,"checked",e,!1)}function RC(t,e){T$(t,e);var r=fu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?QC(t,e.type,r):e.hasOwnProperty("defaultValue")&&QC(t,e.type,fu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wT(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function QC(t,e,r){(e!=="number"||Ux(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ip=Array.isArray;function uA(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+fu(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(we(91));return Er({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function CT(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(we(92));if(Ip(r)){if(1<r.length)throw Error(we(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:fu(r)}}function D$(t,e){var r=fu(e.value),n=fu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function BT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function L$(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function HC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?L$(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var i2,N$=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(i2=i2||document.createElement("div"),i2.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=i2.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ng(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var cm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ose=["Webkit","ms","Moz","O"];Object.keys(cm).forEach(function(t){ose.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cm[e]=cm[t]})});function j$(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||cm.hasOwnProperty(t)&&cm[t]?(""+e).trim():e+"px"}function I$(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=j$(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var lse=Er({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $C(t,e){if(e){if(lse[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(we(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(we(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(we(61))}if(e.style!=null&&typeof e.style!="object")throw Error(we(62))}}function VC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var KC=null;function X_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qC=null,dA=null,hA=null;function ST(t){if(t=A1(t)){if(typeof qC!="function")throw Error(we(280));var e=t.stateNode;e&&(e=Z3(e),qC(t.stateNode,t.type,e))}}function O$(t){dA?hA?hA.push(t):hA=[t]:dA=t}function P$(){if(dA){var t=dA,e=hA;if(hA=dA=null,ST(t),e)for(t=0;t<e.length;t++)ST(e[t])}}function U$(t,e){return t(e)}function R$(){}var Y5=!1;function Q$(t,e,r){if(Y5)return t(e,r);Y5=!0;try{return U$(t,e,r)}finally{Y5=!1,(dA!==null||hA!==null)&&(R$(),P$())}}function ig(t,e){var r=t.stateNode;if(r===null)return null;var n=Z3(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(we(231,e,typeof r));return r}var WC=!1;if(Fl)try{var Nf={};Object.defineProperty(Nf,"passive",{get:function(){WC=!0}}),window.addEventListener("test",Nf,Nf),window.removeEventListener("test",Nf,Nf)}catch{WC=!1}function cse(t,e,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var um=!1,Rx=null,Qx=!1,GC=null,use={onError:function(t){um=!0,Rx=t}};function dse(t,e,r,n,i,s,a,o,l){um=!1,Rx=null,cse.apply(use,arguments)}function hse(t,e,r,n,i,s,a,o,l){if(dse.apply(this,arguments),um){if(um){var c=Rx;um=!1,Rx=null}else throw Error(we(198));Qx||(Qx=!0,GC=c)}}function M0(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function z$(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _T(t){if(M0(t)!==t)throw Error(we(188))}function Ase(t){var e=t.alternate;if(!e){if(e=M0(t),e===null)throw Error(we(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return _T(i),t;if(s===n)return _T(i),e;s=s.sibling}throw Error(we(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(we(189))}}if(r.alternate!==n)throw Error(we(190))}if(r.tag!==3)throw Error(we(188));return r.stateNode.current===r?t:e}function H$(t){return t=Ase(t),t!==null?$$(t):null}function $$(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$$(t);if(e!==null)return e;t=t.sibling}return null}var V$=xs.unstable_scheduleCallback,kT=xs.unstable_cancelCallback,fse=xs.unstable_shouldYield,pse=xs.unstable_requestPaint,zr=xs.unstable_now,mse=xs.unstable_getCurrentPriorityLevel,Y_=xs.unstable_ImmediatePriority,K$=xs.unstable_UserBlockingPriority,zx=xs.unstable_NormalPriority,gse=xs.unstable_LowPriority,q$=xs.unstable_IdlePriority,G3=null,wo=null;function yse(t){if(wo&&typeof wo.onCommitFiberRoot=="function")try{wo.onCommitFiberRoot(G3,t,void 0,(t.current.flags&128)===128)}catch{}}var Ea=Math.clz32?Math.clz32:bse,vse=Math.log,xse=Math.LN2;function bse(t){return t>>>=0,t===0?32:31-(vse(t)/xse|0)|0}var s2=64,a2=4194304;function Op(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hx(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Op(o):(s&=a,s!==0&&(n=Op(s)))}else a=r&~i,a!==0?n=Op(a):s!==0&&(n=Op(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ea(e),i=1<<r,n|=t[r],e&=~i;return n}function wse(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cse(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ea(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=wse(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function XC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function W$(){var t=s2;return s2<<=1,!(s2&4194240)&&(s2=64),t}function J5(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function d1(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ea(e),t[e]=r}function Bse(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ea(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function J_(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ea(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Xt=0;function G$(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var X$,Z_,Y$,J$,Z$,YC=!1,o2=[],tu=null,ru=null,nu=null,sg=new Map,ag=new Map,Pc=[],Sse="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ET(t,e){switch(t){case"focusin":case"focusout":tu=null;break;case"dragenter":case"dragleave":ru=null;break;case"mouseover":case"mouseout":nu=null;break;case"pointerover":case"pointerout":sg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ag.delete(e.pointerId)}}function jf(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=A1(e),e!==null&&Z_(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _se(t,e,r,n,i){switch(e){case"focusin":return tu=jf(tu,t,e,r,n,i),!0;case"dragenter":return ru=jf(ru,t,e,r,n,i),!0;case"mouseover":return nu=jf(nu,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return sg.set(s,jf(sg.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ag.set(s,jf(ag.get(s)||null,t,e,r,n,i)),!0}return!1}function eV(t){var e=Pd(t.target);if(e!==null){var r=M0(e);if(r!==null){if(e=r.tag,e===13){if(e=z$(r),e!==null){t.blockedOn=e,Z$(t.priority,function(){Y$(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function h4(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=JC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);KC=n,r.target.dispatchEvent(n),KC=null}else return e=A1(r),e!==null&&Z_(e),t.blockedOn=r,!1;e.shift()}return!0}function MT(t,e,r){h4(t)&&r.delete(e)}function kse(){YC=!1,tu!==null&&h4(tu)&&(tu=null),ru!==null&&h4(ru)&&(ru=null),nu!==null&&h4(nu)&&(nu=null),sg.forEach(MT),ag.forEach(MT)}function If(t,e){t.blockedOn===e&&(t.blockedOn=null,YC||(YC=!0,xs.unstable_scheduleCallback(xs.unstable_NormalPriority,kse)))}function og(t){function e(i){return If(i,t)}if(0<o2.length){If(o2[0],t);for(var r=1;r<o2.length;r++){var n=o2[r];n.blockedOn===t&&(n.blockedOn=null)}}for(tu!==null&&If(tu,t),ru!==null&&If(ru,t),nu!==null&&If(nu,t),sg.forEach(e),ag.forEach(e),r=0;r<Pc.length;r++)n=Pc[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Pc.length&&(r=Pc[0],r.blockedOn===null);)eV(r),r.blockedOn===null&&Pc.shift()}var AA=Kl.ReactCurrentBatchConfig,$x=!0;function Ese(t,e,r,n){var i=Xt,s=AA.transition;AA.transition=null;try{Xt=1,ek(t,e,r,n)}finally{Xt=i,AA.transition=s}}function Mse(t,e,r,n){var i=Xt,s=AA.transition;AA.transition=null;try{Xt=4,ek(t,e,r,n)}finally{Xt=i,AA.transition=s}}function ek(t,e,r,n){if($x){var i=JC(t,e,r,n);if(i===null)l6(t,e,n,Vx,r),ET(t,n);else if(_se(i,t,e,r,n))n.stopPropagation();else if(ET(t,n),e&4&&-1<Sse.indexOf(t)){for(;i!==null;){var s=A1(i);if(s!==null&&X$(s),s=JC(t,e,r,n),s===null&&l6(t,e,n,Vx,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else l6(t,e,n,null,r)}}var Vx=null;function JC(t,e,r,n){if(Vx=null,t=X_(n),t=Pd(t),t!==null)if(e=M0(t),e===null)t=null;else if(r=e.tag,r===13){if(t=z$(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vx=t,null}function tV(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mse()){case Y_:return 1;case K$:return 4;case zx:case gse:return 16;case q$:return 536870912;default:return 16}default:return 16}}var Hc=null,tk=null,A4=null;function rV(){if(A4)return A4;var t,e=tk,r=e.length,n,i="value"in Hc?Hc.value:Hc.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return A4=i.slice(t,1<n?1-n:void 0)}function f4(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function l2(){return!0}function FT(){return!1}function Ss(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?l2:FT,this.isPropagationStopped=FT,this}return Er(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=l2)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=l2)},persist:function(){},isPersistent:l2}),e}var of={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rk=Ss(of),h1=Er({},of,{view:0,detail:0}),Fse=Ss(h1),Z5,e6,Of,X3=Er({},h1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Of&&(Of&&t.type==="mousemove"?(Z5=t.screenX-Of.screenX,e6=t.screenY-Of.screenY):e6=Z5=0,Of=t),Z5)},movementY:function(t){return"movementY"in t?t.movementY:e6}}),TT=Ss(X3),Tse=Er({},X3,{dataTransfer:0}),Dse=Ss(Tse),Lse=Er({},h1,{relatedTarget:0}),t6=Ss(Lse),Nse=Er({},of,{animationName:0,elapsedTime:0,pseudoElement:0}),jse=Ss(Nse),Ise=Er({},of,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ose=Ss(Ise),Pse=Er({},of,{data:0}),DT=Ss(Pse),Use={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rse={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qse={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zse(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qse[t])?!!e[t]:!1}function nk(){return zse}var Hse=Er({},h1,{key:function(t){if(t.key){var e=Use[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=f4(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Rse[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nk,charCode:function(t){return t.type==="keypress"?f4(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?f4(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$se=Ss(Hse),Vse=Er({},X3,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LT=Ss(Vse),Kse=Er({},h1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nk}),qse=Ss(Kse),Wse=Er({},of,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gse=Ss(Wse),Xse=Er({},X3,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Yse=Ss(Xse),Jse=[9,13,27,32],ik=Fl&&"CompositionEvent"in window,dm=null;Fl&&"documentMode"in document&&(dm=document.documentMode);var Zse=Fl&&"TextEvent"in window&&!dm,nV=Fl&&(!ik||dm&&8<dm&&11>=dm),NT=" ",jT=!1;function iV(t,e){switch(t){case"keyup":return Jse.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nh=!1;function eae(t,e){switch(t){case"compositionend":return sV(e);case"keypress":return e.which!==32?null:(jT=!0,NT);case"textInput":return t=e.data,t===NT&&jT?null:t;default:return null}}function tae(t,e){if(Nh)return t==="compositionend"||!ik&&iV(t,e)?(t=rV(),A4=tk=Hc=null,Nh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nV&&e.locale!=="ko"?null:e.data;default:return null}}var rae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rae[t.type]:e==="textarea"}function aV(t,e,r,n){O$(n),e=Kx(e,"onChange"),0<e.length&&(r=new rk("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var hm=null,lg=null;function nae(t){gV(t,0)}function Y3(t){var e=Oh(t);if(F$(e))return t}function iae(t,e){if(t==="change")return e}var oV=!1;if(Fl){var r6;if(Fl){var n6="oninput"in document;if(!n6){var OT=document.createElement("div");OT.setAttribute("oninput","return;"),n6=typeof OT.oninput=="function"}r6=n6}else r6=!1;oV=r6&&(!document.documentMode||9<document.documentMode)}function PT(){hm&&(hm.detachEvent("onpropertychange",lV),lg=hm=null)}function lV(t){if(t.propertyName==="value"&&Y3(lg)){var e=[];aV(e,lg,t,X_(t)),Q$(nae,e)}}function sae(t,e,r){t==="focusin"?(PT(),hm=e,lg=r,hm.attachEvent("onpropertychange",lV)):t==="focusout"&&PT()}function aae(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Y3(lg)}function oae(t,e){if(t==="click")return Y3(e)}function lae(t,e){if(t==="input"||t==="change")return Y3(e)}function cae(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ja=typeof Object.is=="function"?Object.is:cae;function cg(t,e){if(ja(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!NC.call(e,i)||!ja(t[i],e[i]))return!1}return!0}function UT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function RT(t,e){var r=UT(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=UT(r)}}function cV(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cV(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uV(){for(var t=window,e=Ux();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ux(t.document)}return e}function sk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uae(t){var e=uV(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&cV(r.ownerDocument.documentElement,r)){if(n!==null&&sk(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=RT(r,s);var a=RT(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dae=Fl&&"documentMode"in document&&11>=document.documentMode,jh=null,ZC=null,Am=null,e9=!1;function QT(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;e9||jh==null||jh!==Ux(n)||(n=jh,"selectionStart"in n&&sk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Am&&cg(Am,n)||(Am=n,n=Kx(ZC,"onSelect"),0<n.length&&(e=new rk("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=jh)))}function c2(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ih={animationend:c2("Animation","AnimationEnd"),animationiteration:c2("Animation","AnimationIteration"),animationstart:c2("Animation","AnimationStart"),transitionend:c2("Transition","TransitionEnd")},i6={},dV={};Fl&&(dV=document.createElement("div").style,"AnimationEvent"in window||(delete Ih.animationend.animation,delete Ih.animationiteration.animation,delete Ih.animationstart.animation),"TransitionEvent"in window||delete Ih.transitionend.transition);function J3(t){if(i6[t])return i6[t];if(!Ih[t])return t;var e=Ih[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in dV)return i6[t]=e[r];return t}var hV=J3("animationend"),AV=J3("animationiteration"),fV=J3("animationstart"),pV=J3("transitionend"),mV=new Map,zT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Iu(t,e){mV.set(t,e),E0(e,[t])}for(var s6=0;s6<zT.length;s6++){var a6=zT[s6],hae=a6.toLowerCase(),Aae=a6[0].toUpperCase()+a6.slice(1);Iu(hae,"on"+Aae)}Iu(hV,"onAnimationEnd");Iu(AV,"onAnimationIteration");Iu(fV,"onAnimationStart");Iu("dblclick","onDoubleClick");Iu("focusin","onFocus");Iu("focusout","onBlur");Iu(pV,"onTransitionEnd");NA("onMouseEnter",["mouseout","mouseover"]);NA("onMouseLeave",["mouseout","mouseover"]);NA("onPointerEnter",["pointerout","pointerover"]);NA("onPointerLeave",["pointerout","pointerover"]);E0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));E0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));E0("onBeforeInput",["compositionend","keypress","textInput","paste"]);E0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));E0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));E0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fae=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pp));function HT(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,hse(n,e,void 0,t),t.currentTarget=null}function gV(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;HT(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;HT(i,o,c),s=l}}}if(Qx)throw t=GC,Qx=!1,GC=null,t}function lr(t,e){var r=e[s9];r===void 0&&(r=e[s9]=new Set);var n=t+"__bubble";r.has(n)||(yV(e,t,2,!1),r.add(n))}function o6(t,e,r){var n=0;e&&(n|=4),yV(r,t,n,e)}var u2="_reactListening"+Math.random().toString(36).slice(2);function ug(t){if(!t[u2]){t[u2]=!0,S$.forEach(function(r){r!=="selectionchange"&&(fae.has(r)||o6(r,!1,t),o6(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[u2]||(e[u2]=!0,o6("selectionchange",!1,e))}}function yV(t,e,r,n){switch(tV(e)){case 1:var i=Ese;break;case 4:i=Mse;break;default:i=ek}r=i.bind(null,e,r,t),i=void 0,!WC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function l6(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Pd(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}Q$(function(){var c=s,u=X_(r),d=[];e:{var A=mV.get(t);if(A!==void 0){var f=rk,p=t;switch(t){case"keypress":if(f4(r)===0)break e;case"keydown":case"keyup":f=$se;break;case"focusin":p="focus",f=t6;break;case"focusout":p="blur",f=t6;break;case"beforeblur":case"afterblur":f=t6;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=TT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Dse;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=qse;break;case hV:case AV:case fV:f=jse;break;case pV:f=Gse;break;case"scroll":f=Fse;break;case"wheel":f=Yse;break;case"copy":case"cut":case"paste":f=Ose;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=LT}var m=(e&4)!==0,v=!m&&t==="scroll",g=m?A!==null?A+"Capture":null:A;m=[];for(var y=c,x;y!==null;){x=y;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,g!==null&&(b=ig(y,g),b!=null&&m.push(dg(y,b,x)))),v)break;y=y.return}0<m.length&&(A=new f(A,p,null,r,u),d.push({event:A,listeners:m}))}}if(!(e&7)){e:{if(A=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",A&&r!==KC&&(p=r.relatedTarget||r.fromElement)&&(Pd(p)||p[Tl]))break e;if((f||A)&&(A=u.window===u?u:(A=u.ownerDocument)?A.defaultView||A.parentWindow:window,f?(p=r.relatedTarget||r.toElement,f=c,p=p?Pd(p):null,p!==null&&(v=M0(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(m=TT,b="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=LT,b="onPointerLeave",g="onPointerEnter",y="pointer"),v=f==null?A:Oh(f),x=p==null?A:Oh(p),A=new m(b,y+"leave",f,r,u),A.target=v,A.relatedTarget=x,b=null,Pd(u)===c&&(m=new m(g,y+"enter",p,r,u),m.target=x,m.relatedTarget=v,b=m),v=b,f&&p)t:{for(m=f,g=p,y=0,x=m;x;x=H0(x))y++;for(x=0,b=g;b;b=H0(b))x++;for(;0<y-x;)m=H0(m),y--;for(;0<x-y;)g=H0(g),x--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=H0(m),g=H0(g)}m=null}else m=null;f!==null&&$T(d,A,f,m,!1),p!==null&&v!==null&&$T(d,v,p,m,!0)}}e:{if(A=c?Oh(c):window,f=A.nodeName&&A.nodeName.toLowerCase(),f==="select"||f==="input"&&A.type==="file")var w=iae;else if(IT(A))if(oV)w=lae;else{w=aae;var C=sae}else(f=A.nodeName)&&f.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(w=oae);if(w&&(w=w(t,c))){aV(d,w,r,u);break e}C&&C(t,A,c),t==="focusout"&&(C=A._wrapperState)&&C.controlled&&A.type==="number"&&QC(A,"number",A.value)}switch(C=c?Oh(c):window,t){case"focusin":(IT(C)||C.contentEditable==="true")&&(jh=C,ZC=c,Am=null);break;case"focusout":Am=ZC=jh=null;break;case"mousedown":e9=!0;break;case"contextmenu":case"mouseup":case"dragend":e9=!1,QT(d,r,u);break;case"selectionchange":if(dae)break;case"keydown":case"keyup":QT(d,r,u)}var B;if(ik)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Nh?iV(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(nV&&r.locale!=="ko"&&(Nh||S!=="onCompositionStart"?S==="onCompositionEnd"&&Nh&&(B=rV()):(Hc=u,tk="value"in Hc?Hc.value:Hc.textContent,Nh=!0)),C=Kx(c,S),0<C.length&&(S=new DT(S,t,null,r,u),d.push({event:S,listeners:C}),B?S.data=B:(B=sV(r),B!==null&&(S.data=B)))),(B=Zse?eae(t,r):tae(t,r))&&(c=Kx(c,"onBeforeInput"),0<c.length&&(u=new DT("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=B))}gV(d,e)})}function dg(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Kx(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ig(t,r),s!=null&&n.unshift(dg(t,s,i)),s=ig(t,e),s!=null&&n.push(dg(t,s,i))),t=t.return}return n}function H0(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $T(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=ig(r,s),l!=null&&a.unshift(dg(r,l,o))):i||(l=ig(r,s),l!=null&&a.push(dg(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var pae=/\r\n?/g,mae=/\u0000|\uFFFD/g;function VT(t){return(typeof t=="string"?t:""+t).replace(pae,`
`).replace(mae,"")}function d2(t,e,r){if(e=VT(e),VT(t)!==e&&r)throw Error(we(425))}function qx(){}var t9=null,r9=null;function n9(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var i9=typeof setTimeout=="function"?setTimeout:void 0,gae=typeof clearTimeout=="function"?clearTimeout:void 0,KT=typeof Promise=="function"?Promise:void 0,yae=typeof queueMicrotask=="function"?queueMicrotask:typeof KT<"u"?function(t){return KT.resolve(null).then(t).catch(vae)}:i9;function vae(t){setTimeout(function(){throw t})}function c6(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),og(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);og(e)}function iu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var lf=Math.random().toString(36).slice(2),co="__reactFiber$"+lf,hg="__reactProps$"+lf,Tl="__reactContainer$"+lf,s9="__reactEvents$"+lf,xae="__reactListeners$"+lf,bae="__reactHandles$"+lf;function Pd(t){var e=t[co];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Tl]||r[co]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=qT(t);t!==null;){if(r=t[co])return r;t=qT(t)}return e}t=r,r=t.parentNode}return null}function A1(t){return t=t[co]||t[Tl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Oh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(we(33))}function Z3(t){return t[hg]||null}var a9=[],Ph=-1;function Ou(t){return{current:t}}function cr(t){0>Ph||(t.current=a9[Ph],a9[Ph]=null,Ph--)}function ar(t,e){Ph++,a9[Ph]=t.current,t.current=e}var pu={},ri=Ou(pu),Oi=Ou(!1),u0=pu;function jA(t,e){var r=t.type.contextTypes;if(!r)return pu;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Pi(t){return t=t.childContextTypes,t!=null}function Wx(){cr(Oi),cr(ri)}function WT(t,e,r){if(ri.current!==pu)throw Error(we(168));ar(ri,e),ar(Oi,r)}function vV(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(we(108,sse(t)||"Unknown",i));return Er({},r,n)}function Gx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pu,u0=ri.current,ar(ri,t),ar(Oi,Oi.current),!0}function GT(t,e,r){var n=t.stateNode;if(!n)throw Error(we(169));r?(t=vV(t,e,u0),n.__reactInternalMemoizedMergedChildContext=t,cr(Oi),cr(ri),ar(ri,t)):cr(Oi),ar(Oi,r)}var ol=null,ew=!1,u6=!1;function xV(t){ol===null?ol=[t]:ol.push(t)}function wae(t){ew=!0,xV(t)}function Pu(){if(!u6&&ol!==null){u6=!0;var t=0,e=Xt;try{var r=ol;for(Xt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ol=null,ew=!1}catch(i){throw ol!==null&&(ol=ol.slice(t+1)),V$(Y_,Pu),i}finally{Xt=e,u6=!1}}return null}var Uh=[],Rh=0,Xx=null,Yx=0,Rs=[],Qs=0,d0=null,Al=1,fl="";function vd(t,e){Uh[Rh++]=Yx,Uh[Rh++]=Xx,Xx=t,Yx=e}function bV(t,e,r){Rs[Qs++]=Al,Rs[Qs++]=fl,Rs[Qs++]=d0,d0=t;var n=Al;t=fl;var i=32-Ea(n)-1;n&=~(1<<i),r+=1;var s=32-Ea(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Al=1<<32-Ea(e)+i|r<<i|n,fl=s+t}else Al=1<<s|r<<i|n,fl=t}function ak(t){t.return!==null&&(vd(t,1),bV(t,1,0))}function ok(t){for(;t===Xx;)Xx=Uh[--Rh],Uh[Rh]=null,Yx=Uh[--Rh],Uh[Rh]=null;for(;t===d0;)d0=Rs[--Qs],Rs[Qs]=null,fl=Rs[--Qs],Rs[Qs]=null,Al=Rs[--Qs],Rs[Qs]=null}var ms=null,fs=null,mr=!1,ba=null;function wV(t,e){var r=Vs(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function XT(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ms=t,fs=iu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ms=t,fs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=d0!==null?{id:Al,overflow:fl}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Vs(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ms=t,fs=null,!0):!1;default:return!1}}function o9(t){return(t.mode&1)!==0&&(t.flags&128)===0}function l9(t){if(mr){var e=fs;if(e){var r=e;if(!XT(t,e)){if(o9(t))throw Error(we(418));e=iu(r.nextSibling);var n=ms;e&&XT(t,e)?wV(n,r):(t.flags=t.flags&-4097|2,mr=!1,ms=t)}}else{if(o9(t))throw Error(we(418));t.flags=t.flags&-4097|2,mr=!1,ms=t}}}function YT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ms=t}function h2(t){if(t!==ms)return!1;if(!mr)return YT(t),mr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!n9(t.type,t.memoizedProps)),e&&(e=fs)){if(o9(t))throw CV(),Error(we(418));for(;e;)wV(t,e),e=iu(e.nextSibling)}if(YT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(we(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){fs=iu(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}fs=null}}else fs=ms?iu(t.stateNode.nextSibling):null;return!0}function CV(){for(var t=fs;t;)t=iu(t.nextSibling)}function IA(){fs=ms=null,mr=!1}function lk(t){ba===null?ba=[t]:ba.push(t)}var Cae=Kl.ReactCurrentBatchConfig;function Pf(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(we(309));var n=r.stateNode}if(!n)throw Error(we(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(we(284));if(!r._owner)throw Error(we(290,t))}return t}function A2(t,e){throw t=Object.prototype.toString.call(e),Error(we(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function JT(t){var e=t._init;return e(t._payload)}function BV(t){function e(g,y){if(t){var x=g.deletions;x===null?(g.deletions=[y],g.flags|=16):x.push(y)}}function r(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=lu(g,y),g.index=0,g.sibling=null,g}function s(g,y,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<y?(g.flags|=2,y):x):(g.flags|=2,y)):(g.flags|=1048576,y)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,y,x,b){return y===null||y.tag!==6?(y=g6(x,g.mode,b),y.return=g,y):(y=i(y,x),y.return=g,y)}function l(g,y,x,b){var w=x.type;return w===Lh?u(g,y,x.props.children,b,x.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Dc&&JT(w)===y.type)?(b=i(y,x.props),b.ref=Pf(g,y,x),b.return=g,b):(b=b4(x.type,x.key,x.props,null,g.mode,b),b.ref=Pf(g,y,x),b.return=g,b)}function c(g,y,x,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=y6(x,g.mode,b),y.return=g,y):(y=i(y,x.children||[]),y.return=g,y)}function u(g,y,x,b,w){return y===null||y.tag!==7?(y=Yd(x,g.mode,b,w),y.return=g,y):(y=i(y,x),y.return=g,y)}function d(g,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=g6(""+y,g.mode,x),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case r2:return x=b4(y.type,y.key,y.props,null,g.mode,x),x.ref=Pf(g,null,y),x.return=g,x;case Dh:return y=y6(y,g.mode,x),y.return=g,y;case Dc:var b=y._init;return d(g,b(y._payload),x)}if(Ip(y)||Lf(y))return y=Yd(y,g.mode,x,null),y.return=g,y;A2(g,y)}return null}function A(g,y,x,b){var w=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:o(g,y,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case r2:return x.key===w?l(g,y,x,b):null;case Dh:return x.key===w?c(g,y,x,b):null;case Dc:return w=x._init,A(g,y,w(x._payload),b)}if(Ip(x)||Lf(x))return w!==null?null:u(g,y,x,b,null);A2(g,x)}return null}function f(g,y,x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(x)||null,o(y,g,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case r2:return g=g.get(b.key===null?x:b.key)||null,l(y,g,b,w);case Dh:return g=g.get(b.key===null?x:b.key)||null,c(y,g,b,w);case Dc:var C=b._init;return f(g,y,x,C(b._payload),w)}if(Ip(b)||Lf(b))return g=g.get(x)||null,u(y,g,b,w,null);A2(y,b)}return null}function p(g,y,x,b){for(var w=null,C=null,B=y,S=y=0,E=null;B!==null&&S<x.length;S++){B.index>S?(E=B,B=null):E=B.sibling;var M=A(g,B,x[S],b);if(M===null){B===null&&(B=E);break}t&&B&&M.alternate===null&&e(g,B),y=s(M,y,S),C===null?w=M:C.sibling=M,C=M,B=E}if(S===x.length)return r(g,B),mr&&vd(g,S),w;if(B===null){for(;S<x.length;S++)B=d(g,x[S],b),B!==null&&(y=s(B,y,S),C===null?w=B:C.sibling=B,C=B);return mr&&vd(g,S),w}for(B=n(g,B);S<x.length;S++)E=f(B,g,S,x[S],b),E!==null&&(t&&E.alternate!==null&&B.delete(E.key===null?S:E.key),y=s(E,y,S),C===null?w=E:C.sibling=E,C=E);return t&&B.forEach(function(T){return e(g,T)}),mr&&vd(g,S),w}function m(g,y,x,b){var w=Lf(x);if(typeof w!="function")throw Error(we(150));if(x=w.call(x),x==null)throw Error(we(151));for(var C=w=null,B=y,S=y=0,E=null,M=x.next();B!==null&&!M.done;S++,M=x.next()){B.index>S?(E=B,B=null):E=B.sibling;var T=A(g,B,M.value,b);if(T===null){B===null&&(B=E);break}t&&B&&T.alternate===null&&e(g,B),y=s(T,y,S),C===null?w=T:C.sibling=T,C=T,B=E}if(M.done)return r(g,B),mr&&vd(g,S),w;if(B===null){for(;!M.done;S++,M=x.next())M=d(g,M.value,b),M!==null&&(y=s(M,y,S),C===null?w=M:C.sibling=M,C=M);return mr&&vd(g,S),w}for(B=n(g,B);!M.done;S++,M=x.next())M=f(B,g,S,M.value,b),M!==null&&(t&&M.alternate!==null&&B.delete(M.key===null?S:M.key),y=s(M,y,S),C===null?w=M:C.sibling=M,C=M);return t&&B.forEach(function(L){return e(g,L)}),mr&&vd(g,S),w}function v(g,y,x,b){if(typeof x=="object"&&x!==null&&x.type===Lh&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case r2:e:{for(var w=x.key,C=y;C!==null;){if(C.key===w){if(w=x.type,w===Lh){if(C.tag===7){r(g,C.sibling),y=i(C,x.props.children),y.return=g,g=y;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Dc&&JT(w)===C.type){r(g,C.sibling),y=i(C,x.props),y.ref=Pf(g,C,x),y.return=g,g=y;break e}r(g,C);break}else e(g,C);C=C.sibling}x.type===Lh?(y=Yd(x.props.children,g.mode,b,x.key),y.return=g,g=y):(b=b4(x.type,x.key,x.props,null,g.mode,b),b.ref=Pf(g,y,x),b.return=g,g=b)}return a(g);case Dh:e:{for(C=x.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(g,y.sibling),y=i(y,x.children||[]),y.return=g,g=y;break e}else{r(g,y);break}else e(g,y);y=y.sibling}y=y6(x,g.mode,b),y.return=g,g=y}return a(g);case Dc:return C=x._init,v(g,y,C(x._payload),b)}if(Ip(x))return p(g,y,x,b);if(Lf(x))return m(g,y,x,b);A2(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(g,y.sibling),y=i(y,x),y.return=g,g=y):(r(g,y),y=g6(x,g.mode,b),y.return=g,g=y),a(g)):r(g,y)}return v}var OA=BV(!0),SV=BV(!1),Jx=Ou(null),Zx=null,Qh=null,ck=null;function uk(){ck=Qh=Zx=null}function dk(t){var e=Jx.current;cr(Jx),t._currentValue=e}function c9(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function fA(t,e){Zx=t,ck=Qh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ii=!0),t.firstContext=null)}function Zs(t){var e=t._currentValue;if(ck!==t)if(t={context:t,memoizedValue:e,next:null},Qh===null){if(Zx===null)throw Error(we(308));Qh=t,Zx.dependencies={lanes:0,firstContext:t}}else Qh=Qh.next=t;return e}var Ud=null;function hk(t){Ud===null?Ud=[t]:Ud.push(t)}function _V(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,hk(e)):(r.next=i.next,i.next=r),e.interleaved=r,Dl(t,n)}function Dl(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Lc=!1;function Ak(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kV(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function su(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ft&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Dl(t,r)}return i=n.interleaved,i===null?(e.next=e,hk(n)):(e.next=i.next,i.next=e),n.interleaved=e,Dl(t,r)}function p4(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,J_(t,r)}}function ZT(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function eb(t,e,r,n){var i=t.updateQueue;Lc=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,u=c=l=null,o=s;do{var A=o.lane,f=o.eventTime;if((n&A)===A){u!==null&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,m=o;switch(A=e,f=r,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(f,d,A);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,A=typeof p=="function"?p.call(f,d,A):p,A==null)break e;d=Er({},d,A);break e;case 2:Lc=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,A=i.effects,A===null?i.effects=[o]:A.push(o))}else f={eventTime:f,lane:A,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,a|=A;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;A=o,o=A.next,A.next=null,i.lastBaseUpdate=A,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);A0|=a,t.lanes=a,t.memoizedState=d}}function eD(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(we(191,i));i.call(n)}}}var f1={},Co=Ou(f1),Ag=Ou(f1),fg=Ou(f1);function Rd(t){if(t===f1)throw Error(we(174));return t}function fk(t,e){switch(ar(fg,e),ar(Ag,t),ar(Co,f1),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:HC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=HC(e,t)}cr(Co),ar(Co,e)}function PA(){cr(Co),cr(Ag),cr(fg)}function EV(t){Rd(fg.current);var e=Rd(Co.current),r=HC(e,t.type);e!==r&&(ar(Ag,t),ar(Co,r))}function pk(t){Ag.current===t&&(cr(Co),cr(Ag))}var Cr=Ou(0);function tb(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var d6=[];function mk(){for(var t=0;t<d6.length;t++)d6[t]._workInProgressVersionPrimary=null;d6.length=0}var m4=Kl.ReactCurrentDispatcher,h6=Kl.ReactCurrentBatchConfig,h0=0,kr=null,on=null,xn=null,rb=!1,fm=!1,pg=0,Bae=0;function Un(){throw Error(we(321))}function gk(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ja(t[r],e[r]))return!1;return!0}function yk(t,e,r,n,i,s){if(h0=s,kr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,m4.current=t===null||t.memoizedState===null?Eae:Mae,t=r(n,i),fm){s=0;do{if(fm=!1,pg=0,25<=s)throw Error(we(301));s+=1,xn=on=null,e.updateQueue=null,m4.current=Fae,t=r(n,i)}while(fm)}if(m4.current=nb,e=on!==null&&on.next!==null,h0=0,xn=on=kr=null,rb=!1,e)throw Error(we(300));return t}function vk(){var t=pg!==0;return pg=0,t}function eo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?kr.memoizedState=xn=t:xn=xn.next=t,xn}function ea(){if(on===null){var t=kr.alternate;t=t!==null?t.memoizedState:null}else t=on.next;var e=xn===null?kr.memoizedState:xn.next;if(e!==null)xn=e,on=t;else{if(t===null)throw Error(we(310));on=t,t={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},xn===null?kr.memoizedState=xn=t:xn=xn.next=t}return xn}function mg(t,e){return typeof e=="function"?e(t):e}function A6(t){var e=ea(),r=e.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=t;var n=on,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((h0&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=n):l=l.next=d,kr.lanes|=u,A0|=u}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,ja(n,e.memoizedState)||(Ii=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,kr.lanes|=s,A0|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function f6(t){var e=ea(),r=e.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ja(s,e.memoizedState)||(Ii=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function MV(){}function FV(t,e){var r=kr,n=ea(),i=e(),s=!ja(n.memoizedState,i);if(s&&(n.memoizedState=i,Ii=!0),n=n.queue,xk(LV.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||xn!==null&&xn.memoizedState.tag&1){if(r.flags|=2048,gg(9,DV.bind(null,r,n,i,e),void 0,null),wn===null)throw Error(we(349));h0&30||TV(r,e,i)}return i}function TV(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=kr.updateQueue,e===null?(e={lastEffect:null,stores:null},kr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function DV(t,e,r,n){e.value=r,e.getSnapshot=n,NV(e)&&jV(t)}function LV(t,e,r){return r(function(){NV(e)&&jV(t)})}function NV(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ja(t,r)}catch{return!0}}function jV(t){var e=Dl(t,1);e!==null&&Ma(e,t,1,-1)}function tD(t){var e=eo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mg,lastRenderedState:t},e.queue=t,t=t.dispatch=kae.bind(null,kr,t),[e.memoizedState,t]}function gg(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=kr.updateQueue,e===null?(e={lastEffect:null,stores:null},kr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function IV(){return ea().memoizedState}function g4(t,e,r,n){var i=eo();kr.flags|=t,i.memoizedState=gg(1|e,r,void 0,n===void 0?null:n)}function tw(t,e,r,n){var i=ea();n=n===void 0?null:n;var s=void 0;if(on!==null){var a=on.memoizedState;if(s=a.destroy,n!==null&&gk(n,a.deps)){i.memoizedState=gg(e,r,s,n);return}}kr.flags|=t,i.memoizedState=gg(1|e,r,s,n)}function rD(t,e){return g4(8390656,8,t,e)}function xk(t,e){return tw(2048,8,t,e)}function OV(t,e){return tw(4,2,t,e)}function PV(t,e){return tw(4,4,t,e)}function UV(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function RV(t,e,r){return r=r!=null?r.concat([t]):null,tw(4,4,UV.bind(null,e,t),r)}function bk(){}function QV(t,e){var r=ea();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&gk(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function zV(t,e){var r=ea();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&gk(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function HV(t,e,r){return h0&21?(ja(r,e)||(r=W$(),kr.lanes|=r,A0|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ii=!0),t.memoizedState=r)}function Sae(t,e){var r=Xt;Xt=r!==0&&4>r?r:4,t(!0);var n=h6.transition;h6.transition={};try{t(!1),e()}finally{Xt=r,h6.transition=n}}function $V(){return ea().memoizedState}function _ae(t,e,r){var n=ou(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},VV(t))KV(e,r);else if(r=_V(t,e,r,n),r!==null){var i=gi();Ma(r,t,n,i),qV(r,e,n)}}function kae(t,e,r){var n=ou(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(VV(t))KV(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,ja(o,a)){var l=e.interleaved;l===null?(i.next=i,hk(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=_V(t,e,i,n),r!==null&&(i=gi(),Ma(r,t,n,i),qV(r,e,n))}}function VV(t){var e=t.alternate;return t===kr||e!==null&&e===kr}function KV(t,e){fm=rb=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function qV(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,J_(t,r)}}var nb={readContext:Zs,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useInsertionEffect:Un,useLayoutEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useMutableSource:Un,useSyncExternalStore:Un,useId:Un,unstable_isNewReconciler:!1},Eae={readContext:Zs,useCallback:function(t,e){return eo().memoizedState=[t,e===void 0?null:e],t},useContext:Zs,useEffect:rD,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,g4(4194308,4,UV.bind(null,e,t),r)},useLayoutEffect:function(t,e){return g4(4194308,4,t,e)},useInsertionEffect:function(t,e){return g4(4,2,t,e)},useMemo:function(t,e){var r=eo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=eo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=_ae.bind(null,kr,t),[n.memoizedState,t]},useRef:function(t){var e=eo();return t={current:t},e.memoizedState=t},useState:tD,useDebugValue:bk,useDeferredValue:function(t){return eo().memoizedState=t},useTransition:function(){var t=tD(!1),e=t[0];return t=Sae.bind(null,t[1]),eo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=kr,i=eo();if(mr){if(r===void 0)throw Error(we(407));r=r()}else{if(r=e(),wn===null)throw Error(we(349));h0&30||TV(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,rD(LV.bind(null,n,s,t),[t]),n.flags|=2048,gg(9,DV.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=eo(),e=wn.identifierPrefix;if(mr){var r=fl,n=Al;r=(n&~(1<<32-Ea(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=pg++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Bae++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Mae={readContext:Zs,useCallback:QV,useContext:Zs,useEffect:xk,useImperativeHandle:RV,useInsertionEffect:OV,useLayoutEffect:PV,useMemo:zV,useReducer:A6,useRef:IV,useState:function(){return A6(mg)},useDebugValue:bk,useDeferredValue:function(t){var e=ea();return HV(e,on.memoizedState,t)},useTransition:function(){var t=A6(mg)[0],e=ea().memoizedState;return[t,e]},useMutableSource:MV,useSyncExternalStore:FV,useId:$V,unstable_isNewReconciler:!1},Fae={readContext:Zs,useCallback:QV,useContext:Zs,useEffect:xk,useImperativeHandle:RV,useInsertionEffect:OV,useLayoutEffect:PV,useMemo:zV,useReducer:f6,useRef:IV,useState:function(){return f6(mg)},useDebugValue:bk,useDeferredValue:function(t){var e=ea();return on===null?e.memoizedState=t:HV(e,on.memoizedState,t)},useTransition:function(){var t=f6(mg)[0],e=ea().memoizedState;return[t,e]},useMutableSource:MV,useSyncExternalStore:FV,useId:$V,unstable_isNewReconciler:!1};function ma(t,e){if(t&&t.defaultProps){e=Er({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function u9(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Er({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var rw={isMounted:function(t){return(t=t._reactInternals)?M0(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=gi(),i=ou(t),s=xl(n,i);s.payload=e,r!=null&&(s.callback=r),e=su(t,s,i),e!==null&&(Ma(e,t,i,n),p4(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=gi(),i=ou(t),s=xl(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=su(t,s,i),e!==null&&(Ma(e,t,i,n),p4(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=gi(),n=ou(t),i=xl(r,n);i.tag=2,e!=null&&(i.callback=e),e=su(t,i,n),e!==null&&(Ma(e,t,n,r),p4(e,t,n))}};function nD(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!cg(r,n)||!cg(i,s):!0}function WV(t,e,r){var n=!1,i=pu,s=e.contextType;return typeof s=="object"&&s!==null?s=Zs(s):(i=Pi(e)?u0:ri.current,n=e.contextTypes,s=(n=n!=null)?jA(t,i):pu),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rw,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function iD(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&rw.enqueueReplaceState(e,e.state,null)}function d9(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Ak(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Zs(s):(s=Pi(e)?u0:ri.current,i.context=jA(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(u9(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&rw.enqueueReplaceState(i,i.state,null),eb(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function UA(t,e){try{var r="",n=e;do r+=ise(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function p6(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function h9(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Tae=typeof WeakMap=="function"?WeakMap:Map;function GV(t,e,r){r=xl(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){sb||(sb=!0,w9=n),h9(t,e)},r}function XV(t,e,r){r=xl(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){h9(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){h9(t,e),typeof n!="function"&&(au===null?au=new Set([this]):au.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function sD(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Tae;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Vae.bind(null,t,e,r),e.then(t,t))}function aD(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function oD(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=xl(-1,1),e.tag=2,su(r,e,1))),r.lanes|=1),t)}var Dae=Kl.ReactCurrentOwner,Ii=!1;function ui(t,e,r,n){e.child=t===null?SV(e,null,r,n):OA(e,t.child,r,n)}function lD(t,e,r,n,i){r=r.render;var s=e.ref;return fA(e,i),n=yk(t,e,r,n,s,i),r=vk(),t!==null&&!Ii?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ll(t,e,i)):(mr&&r&&ak(e),e.flags|=1,ui(t,e,n,i),e.child)}function cD(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Mk(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,YV(t,e,s,n,i)):(t=b4(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:cg,r(a,n)&&t.ref===e.ref)return Ll(t,e,i)}return e.flags|=1,t=lu(s,n),t.ref=e.ref,t.return=e,e.child=t}function YV(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(cg(s,n)&&t.ref===e.ref)if(Ii=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Ii=!0);else return e.lanes=t.lanes,Ll(t,e,i)}return A9(t,e,r,n,i)}function JV(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ar(Hh,ls),ls|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ar(Hh,ls),ls|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ar(Hh,ls),ls|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,ar(Hh,ls),ls|=n;return ui(t,e,i,r),e.child}function ZV(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function A9(t,e,r,n,i){var s=Pi(r)?u0:ri.current;return s=jA(e,s),fA(e,i),r=yk(t,e,r,n,s,i),n=vk(),t!==null&&!Ii?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ll(t,e,i)):(mr&&n&&ak(e),e.flags|=1,ui(t,e,r,i),e.child)}function uD(t,e,r,n,i){if(Pi(r)){var s=!0;Gx(e)}else s=!1;if(fA(e,i),e.stateNode===null)y4(t,e),WV(e,r,n),d9(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Zs(c):(c=Pi(r)?u0:ri.current,c=jA(e,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&iD(e,a,n,c),Lc=!1;var A=e.memoizedState;a.state=A,eb(e,n,a,i),l=e.memoizedState,o!==n||A!==l||Oi.current||Lc?(typeof u=="function"&&(u9(e,r,u,n),l=e.memoizedState),(o=Lc||nD(e,r,o,n,A,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,kV(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:ma(e.type,o),a.props=c,d=e.pendingProps,A=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Zs(l):(l=Pi(r)?u0:ri.current,l=jA(e,l));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||A!==l)&&iD(e,a,n,l),Lc=!1,A=e.memoizedState,a.state=A,eb(e,n,a,i);var p=e.memoizedState;o!==d||A!==p||Oi.current||Lc?(typeof f=="function"&&(u9(e,r,f,n),p=e.memoizedState),(c=Lc||nD(e,r,c,n,A,p,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&A===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&A===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),a.props=n,a.state=p,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&A===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&A===t.memoizedState||(e.flags|=1024),n=!1)}return f9(t,e,r,n,s,i)}function f9(t,e,r,n,i,s){ZV(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&GT(e,r,!1),Ll(t,e,s);n=e.stateNode,Dae.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=OA(e,t.child,null,s),e.child=OA(e,null,o,s)):ui(t,e,o,s),e.memoizedState=n.state,i&&GT(e,r,!0),e.child}function eK(t){var e=t.stateNode;e.pendingContext?WT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&WT(t,e.context,!1),fk(t,e.containerInfo)}function dD(t,e,r,n,i){return IA(),lk(i),e.flags|=256,ui(t,e,r,n),e.child}var p9={dehydrated:null,treeContext:null,retryLane:0};function m9(t){return{baseLanes:t,cachePool:null,transitions:null}}function tK(t,e,r){var n=e.pendingProps,i=Cr.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ar(Cr,i&1),t===null)return l9(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=sw(a,n,0,null),t=Yd(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=m9(r),e.memoizedState=p9,t):wk(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Lae(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=lu(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=lu(o,s):(s=Yd(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?m9(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=p9,n}return s=t.child,t=s.sibling,n=lu(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function wk(t,e){return e=sw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function f2(t,e,r,n){return n!==null&&lk(n),OA(e,t.child,null,r),t=wk(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Lae(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=p6(Error(we(422))),f2(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=sw({mode:"visible",children:n.children},i,0,null),s=Yd(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&OA(e,t.child,null,a),e.child.memoizedState=m9(a),e.memoizedState=p9,s);if(!(e.mode&1))return f2(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(we(419)),n=p6(s,n,void 0),f2(t,e,a,n)}if(o=(a&t.childLanes)!==0,Ii||o){if(n=wn,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Dl(t,i),Ma(n,t,i,-1))}return Ek(),n=p6(Error(we(421))),f2(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Kae.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,fs=iu(i.nextSibling),ms=e,mr=!0,ba=null,t!==null&&(Rs[Qs++]=Al,Rs[Qs++]=fl,Rs[Qs++]=d0,Al=t.id,fl=t.overflow,d0=e),e=wk(e,n.children),e.flags|=4096,e)}function hD(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),c9(t.return,e,r)}function m6(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function rK(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(ui(t,e,n.children,r),n=Cr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hD(t,r,e);else if(t.tag===19)hD(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ar(Cr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&tb(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),m6(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&tb(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}m6(e,!0,r,null,s);break;case"together":m6(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function y4(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ll(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),A0|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(we(153));if(e.child!==null){for(t=e.child,r=lu(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=lu(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Nae(t,e,r){switch(e.tag){case 3:eK(e),IA();break;case 5:EV(e);break;case 1:Pi(e.type)&&Gx(e);break;case 4:fk(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ar(Jx,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ar(Cr,Cr.current&1),e.flags|=128,null):r&e.child.childLanes?tK(t,e,r):(ar(Cr,Cr.current&1),t=Ll(t,e,r),t!==null?t.sibling:null);ar(Cr,Cr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return rK(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ar(Cr,Cr.current),n)break;return null;case 22:case 23:return e.lanes=0,JV(t,e,r)}return Ll(t,e,r)}var nK,g9,iK,sK;nK=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};g9=function(){};iK=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Rd(Co.current);var s=null;switch(r){case"input":i=UC(t,i),n=UC(t,n),s=[];break;case"select":i=Er({},i,{value:void 0}),n=Er({},n,{value:void 0}),s=[];break;case"textarea":i=zC(t,i),n=zC(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=qx)}$C(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(rg.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(rg.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&lr("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};sK=function(t,e,r,n){r!==n&&(e.flags|=4)};function Uf(t,e){if(!mr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Rn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function jae(t,e,r){var n=e.pendingProps;switch(ok(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(e),null;case 1:return Pi(e.type)&&Wx(),Rn(e),null;case 3:return n=e.stateNode,PA(),cr(Oi),cr(ri),mk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(h2(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ba!==null&&(S9(ba),ba=null))),g9(t,e),Rn(e),null;case 5:pk(e);var i=Rd(fg.current);if(r=e.type,t!==null&&e.stateNode!=null)iK(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(we(166));return Rn(e),null}if(t=Rd(Co.current),h2(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[co]=e,n[hg]=s,t=(e.mode&1)!==0,r){case"dialog":lr("cancel",n),lr("close",n);break;case"iframe":case"object":case"embed":lr("load",n);break;case"video":case"audio":for(i=0;i<Pp.length;i++)lr(Pp[i],n);break;case"source":lr("error",n);break;case"img":case"image":case"link":lr("error",n),lr("load",n);break;case"details":lr("toggle",n);break;case"input":bT(n,s),lr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},lr("invalid",n);break;case"textarea":CT(n,s),lr("invalid",n)}$C(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&d2(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&d2(n.textContent,o,t),i=["children",""+o]):rg.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&lr("scroll",n)}switch(r){case"input":n2(n),wT(n,s,!0);break;case"textarea":n2(n),BT(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=qx)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=L$(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[co]=e,t[hg]=n,nK(t,e,!1,!1),e.stateNode=t;e:{switch(a=VC(r,n),r){case"dialog":lr("cancel",t),lr("close",t),i=n;break;case"iframe":case"object":case"embed":lr("load",t),i=n;break;case"video":case"audio":for(i=0;i<Pp.length;i++)lr(Pp[i],t);i=n;break;case"source":lr("error",t),i=n;break;case"img":case"image":case"link":lr("error",t),lr("load",t),i=n;break;case"details":lr("toggle",t),i=n;break;case"input":bT(t,n),i=UC(t,n),lr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Er({},n,{value:void 0}),lr("invalid",t);break;case"textarea":CT(t,n),i=zC(t,n),lr("invalid",t);break;default:i=n}$C(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?I$(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&N$(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ng(t,l):typeof l=="number"&&ng(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(rg.hasOwnProperty(s)?l!=null&&s==="onScroll"&&lr("scroll",t):l!=null&&K_(t,s,l,a))}switch(r){case"input":n2(t),wT(t,n,!1);break;case"textarea":n2(t),BT(t);break;case"option":n.value!=null&&t.setAttribute("value",""+fu(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?uA(t,!!n.multiple,s,!1):n.defaultValue!=null&&uA(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=qx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rn(e),null;case 6:if(t&&e.stateNode!=null)sK(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(we(166));if(r=Rd(fg.current),Rd(Co.current),h2(e)){if(n=e.stateNode,r=e.memoizedProps,n[co]=e,(s=n.nodeValue!==r)&&(t=ms,t!==null))switch(t.tag){case 3:d2(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&d2(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[co]=e,e.stateNode=n}return Rn(e),null;case 13:if(cr(Cr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mr&&fs!==null&&e.mode&1&&!(e.flags&128))CV(),IA(),e.flags|=98560,s=!1;else if(s=h2(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(we(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(we(317));s[co]=e}else IA(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rn(e),s=!1}else ba!==null&&(S9(ba),ba=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Cr.current&1?un===0&&(un=3):Ek())),e.updateQueue!==null&&(e.flags|=4),Rn(e),null);case 4:return PA(),g9(t,e),t===null&&ug(e.stateNode.containerInfo),Rn(e),null;case 10:return dk(e.type._context),Rn(e),null;case 17:return Pi(e.type)&&Wx(),Rn(e),null;case 19:if(cr(Cr),s=e.memoizedState,s===null)return Rn(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Uf(s,!1);else{if(un!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=tb(t),a!==null){for(e.flags|=128,Uf(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ar(Cr,Cr.current&1|2),e.child}t=t.sibling}s.tail!==null&&zr()>RA&&(e.flags|=128,n=!0,Uf(s,!1),e.lanes=4194304)}else{if(!n)if(t=tb(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Uf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!mr)return Rn(e),null}else 2*zr()-s.renderingStartTime>RA&&r!==1073741824&&(e.flags|=128,n=!0,Uf(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=zr(),e.sibling=null,r=Cr.current,ar(Cr,n?r&1|2:r&1),e):(Rn(e),null);case 22:case 23:return kk(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ls&1073741824&&(Rn(e),e.subtreeFlags&6&&(e.flags|=8192)):Rn(e),null;case 24:return null;case 25:return null}throw Error(we(156,e.tag))}function Iae(t,e){switch(ok(e),e.tag){case 1:return Pi(e.type)&&Wx(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return PA(),cr(Oi),cr(ri),mk(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return pk(e),null;case 13:if(cr(Cr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(we(340));IA()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return cr(Cr),null;case 4:return PA(),null;case 10:return dk(e.type._context),null;case 22:case 23:return kk(),null;case 24:return null;default:return null}}var p2=!1,Yn=!1,Oae=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function zh(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Dr(t,e,n)}else r.current=null}function y9(t,e,r){try{r()}catch(n){Dr(t,e,n)}}var AD=!1;function Pae(t,e){if(t9=$x,t=uV(),sk(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=t,A=null;t:for(;;){for(var f;d!==r||i!==0&&d.nodeType!==3||(o=a+i),d!==s||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(f=d.firstChild)!==null;)A=d,d=f;for(;;){if(d===t)break t;if(A===r&&++c===i&&(o=a),A===s&&++u===n&&(l=a),(f=d.nextSibling)!==null)break;d=A,A=d.parentNode}d=f}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(r9={focusedElem:t,selectionRange:r},$x=!1,Qe=e;Qe!==null;)if(e=Qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Qe=t;else for(;Qe!==null;){e=Qe;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,v=p.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:ma(e.type,m),v);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(b){Dr(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Qe=t;break}Qe=e.return}return p=AD,AD=!1,p}function pm(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&y9(e,r,s)}i=i.next}while(i!==n)}}function nw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function v9(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function aK(t){var e=t.alternate;e!==null&&(t.alternate=null,aK(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[co],delete e[hg],delete e[s9],delete e[xae],delete e[bae])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oK(t){return t.tag===5||t.tag===3||t.tag===4}function fD(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oK(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function x9(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=qx));else if(n!==4&&(t=t.child,t!==null))for(x9(t,e,r),t=t.sibling;t!==null;)x9(t,e,r),t=t.sibling}function b9(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(b9(t,e,r),t=t.sibling;t!==null;)b9(t,e,r),t=t.sibling}var En=null,ga=!1;function nc(t,e,r){for(r=r.child;r!==null;)lK(t,e,r),r=r.sibling}function lK(t,e,r){if(wo&&typeof wo.onCommitFiberUnmount=="function")try{wo.onCommitFiberUnmount(G3,r)}catch{}switch(r.tag){case 5:Yn||zh(r,e);case 6:var n=En,i=ga;En=null,nc(t,e,r),En=n,ga=i,En!==null&&(ga?(t=En,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):En.removeChild(r.stateNode));break;case 18:En!==null&&(ga?(t=En,r=r.stateNode,t.nodeType===8?c6(t.parentNode,r):t.nodeType===1&&c6(t,r),og(t)):c6(En,r.stateNode));break;case 4:n=En,i=ga,En=r.stateNode.containerInfo,ga=!0,nc(t,e,r),En=n,ga=i;break;case 0:case 11:case 14:case 15:if(!Yn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&y9(r,e,a),i=i.next}while(i!==n)}nc(t,e,r);break;case 1:if(!Yn&&(zh(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Dr(r,e,o)}nc(t,e,r);break;case 21:nc(t,e,r);break;case 22:r.mode&1?(Yn=(n=Yn)||r.memoizedState!==null,nc(t,e,r),Yn=n):nc(t,e,r);break;default:nc(t,e,r)}}function pD(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Oae),e.forEach(function(n){var i=qae.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function la(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:En=o.stateNode,ga=!1;break e;case 3:En=o.stateNode.containerInfo,ga=!0;break e;case 4:En=o.stateNode.containerInfo,ga=!0;break e}o=o.return}if(En===null)throw Error(we(160));lK(s,a,i),En=null,ga=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Dr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cK(e,t),e=e.sibling}function cK(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(la(e,t),Ha(t),n&4){try{pm(3,t,t.return),nw(3,t)}catch(m){Dr(t,t.return,m)}try{pm(5,t,t.return)}catch(m){Dr(t,t.return,m)}}break;case 1:la(e,t),Ha(t),n&512&&r!==null&&zh(r,r.return);break;case 5:if(la(e,t),Ha(t),n&512&&r!==null&&zh(r,r.return),t.flags&32){var i=t.stateNode;try{ng(i,"")}catch(m){Dr(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&T$(i,s),VC(o,a);var c=VC(o,s);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?I$(i,d):u==="dangerouslySetInnerHTML"?N$(i,d):u==="children"?ng(i,d):K_(i,u,d,c)}switch(o){case"input":RC(i,s);break;case"textarea":D$(i,s);break;case"select":var A=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?uA(i,!!s.multiple,f,!1):A!==!!s.multiple&&(s.defaultValue!=null?uA(i,!!s.multiple,s.defaultValue,!0):uA(i,!!s.multiple,s.multiple?[]:"",!1))}i[hg]=s}catch(m){Dr(t,t.return,m)}}break;case 6:if(la(e,t),Ha(t),n&4){if(t.stateNode===null)throw Error(we(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Dr(t,t.return,m)}}break;case 3:if(la(e,t),Ha(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{og(e.containerInfo)}catch(m){Dr(t,t.return,m)}break;case 4:la(e,t),Ha(t);break;case 13:la(e,t),Ha(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Sk=zr())),n&4&&pD(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Yn=(c=Yn)||u,la(e,t),Yn=c):la(e,t),Ha(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Qe=t,u=t.child;u!==null;){for(d=Qe=u;Qe!==null;){switch(A=Qe,f=A.child,A.tag){case 0:case 11:case 14:case 15:pm(4,A,A.return);break;case 1:zh(A,A.return);var p=A.stateNode;if(typeof p.componentWillUnmount=="function"){n=A,r=A.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Dr(n,r,m)}}break;case 5:zh(A,A.return);break;case 22:if(A.memoizedState!==null){gD(d);continue}}f!==null?(f.return=A,Qe=f):gD(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=j$("display",a))}catch(m){Dr(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Dr(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:la(e,t),Ha(t),n&4&&pD(t);break;case 21:break;default:la(e,t),Ha(t)}}function Ha(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(oK(r)){var n=r;break e}r=r.return}throw Error(we(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ng(i,""),n.flags&=-33);var s=fD(t);b9(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=fD(t);x9(t,o,a);break;default:throw Error(we(161))}}catch(l){Dr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Uae(t,e,r){Qe=t,uK(t)}function uK(t,e,r){for(var n=(t.mode&1)!==0;Qe!==null;){var i=Qe,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||p2;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Yn;o=p2;var c=Yn;if(p2=a,(Yn=l)&&!c)for(Qe=i;Qe!==null;)a=Qe,l=a.child,a.tag===22&&a.memoizedState!==null?yD(i):l!==null?(l.return=a,Qe=l):yD(i);for(;s!==null;)Qe=s,uK(s),s=s.sibling;Qe=i,p2=o,Yn=c}mD(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Qe=s):mD(t)}}function mD(t){for(;Qe!==null;){var e=Qe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yn||nw(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Yn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ma(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&eD(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}eD(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&og(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}Yn||e.flags&512&&v9(e)}catch(A){Dr(e,e.return,A)}}if(e===t){Qe=null;break}if(r=e.sibling,r!==null){r.return=e.return,Qe=r;break}Qe=e.return}}function gD(t){for(;Qe!==null;){var e=Qe;if(e===t){Qe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Qe=r;break}Qe=e.return}}function yD(t){for(;Qe!==null;){var e=Qe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{nw(4,e)}catch(l){Dr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Dr(e,i,l)}}var s=e.return;try{v9(e)}catch(l){Dr(e,s,l)}break;case 5:var a=e.return;try{v9(e)}catch(l){Dr(e,a,l)}}}catch(l){Dr(e,e.return,l)}if(e===t){Qe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Qe=o;break}Qe=e.return}}var Rae=Math.ceil,ib=Kl.ReactCurrentDispatcher,Ck=Kl.ReactCurrentOwner,Gs=Kl.ReactCurrentBatchConfig,Ft=0,wn=null,rn=null,In=0,ls=0,Hh=Ou(0),un=0,yg=null,A0=0,iw=0,Bk=0,mm=null,Li=null,Sk=0,RA=1/0,il=null,sb=!1,w9=null,au=null,m2=!1,$c=null,ab=0,gm=0,C9=null,v4=-1,x4=0;function gi(){return Ft&6?zr():v4!==-1?v4:v4=zr()}function ou(t){return t.mode&1?Ft&2&&In!==0?In&-In:Cae.transition!==null?(x4===0&&(x4=W$()),x4):(t=Xt,t!==0||(t=window.event,t=t===void 0?16:tV(t.type)),t):1}function Ma(t,e,r,n){if(50<gm)throw gm=0,C9=null,Error(we(185));d1(t,r,n),(!(Ft&2)||t!==wn)&&(t===wn&&(!(Ft&2)&&(iw|=r),un===4&&Uc(t,In)),Ui(t,n),r===1&&Ft===0&&!(e.mode&1)&&(RA=zr()+500,ew&&Pu()))}function Ui(t,e){var r=t.callbackNode;Cse(t,e);var n=Hx(t,t===wn?In:0);if(n===0)r!==null&&kT(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&kT(r),e===1)t.tag===0?wae(vD.bind(null,t)):xV(vD.bind(null,t)),yae(function(){!(Ft&6)&&Pu()}),r=null;else{switch(G$(n)){case 1:r=Y_;break;case 4:r=K$;break;case 16:r=zx;break;case 536870912:r=q$;break;default:r=zx}r=yK(r,dK.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function dK(t,e){if(v4=-1,x4=0,Ft&6)throw Error(we(327));var r=t.callbackNode;if(pA()&&t.callbackNode!==r)return null;var n=Hx(t,t===wn?In:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ob(t,n);else{e=n;var i=Ft;Ft|=2;var s=AK();(wn!==t||In!==e)&&(il=null,RA=zr()+500,Xd(t,e));do try{Hae();break}catch(o){hK(t,o)}while(!0);uk(),ib.current=s,Ft=i,rn!==null?e=0:(wn=null,In=0,e=un)}if(e!==0){if(e===2&&(i=XC(t),i!==0&&(n=i,e=B9(t,i))),e===1)throw r=yg,Xd(t,0),Uc(t,n),Ui(t,zr()),r;if(e===6)Uc(t,n);else{if(i=t.current.alternate,!(n&30)&&!Qae(i)&&(e=ob(t,n),e===2&&(s=XC(t),s!==0&&(n=s,e=B9(t,s))),e===1))throw r=yg,Xd(t,0),Uc(t,n),Ui(t,zr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(we(345));case 2:xd(t,Li,il);break;case 3:if(Uc(t,n),(n&130023424)===n&&(e=Sk+500-zr(),10<e)){if(Hx(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){gi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=i9(xd.bind(null,t,Li,il),e);break}xd(t,Li,il);break;case 4:if(Uc(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Ea(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=zr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Rae(n/1960))-n,10<n){t.timeoutHandle=i9(xd.bind(null,t,Li,il),n);break}xd(t,Li,il);break;case 5:xd(t,Li,il);break;default:throw Error(we(329))}}}return Ui(t,zr()),t.callbackNode===r?dK.bind(null,t):null}function B9(t,e){var r=mm;return t.current.memoizedState.isDehydrated&&(Xd(t,e).flags|=256),t=ob(t,e),t!==2&&(e=Li,Li=r,e!==null&&S9(e)),t}function S9(t){Li===null?Li=t:Li.push.apply(Li,t)}function Qae(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ja(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Uc(t,e){for(e&=~Bk,e&=~iw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ea(e),n=1<<r;t[r]=-1,e&=~n}}function vD(t){if(Ft&6)throw Error(we(327));pA();var e=Hx(t,0);if(!(e&1))return Ui(t,zr()),null;var r=ob(t,e);if(t.tag!==0&&r===2){var n=XC(t);n!==0&&(e=n,r=B9(t,n))}if(r===1)throw r=yg,Xd(t,0),Uc(t,e),Ui(t,zr()),r;if(r===6)throw Error(we(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xd(t,Li,il),Ui(t,zr()),null}function _k(t,e){var r=Ft;Ft|=1;try{return t(e)}finally{Ft=r,Ft===0&&(RA=zr()+500,ew&&Pu())}}function f0(t){$c!==null&&$c.tag===0&&!(Ft&6)&&pA();var e=Ft;Ft|=1;var r=Gs.transition,n=Xt;try{if(Gs.transition=null,Xt=1,t)return t()}finally{Xt=n,Gs.transition=r,Ft=e,!(Ft&6)&&Pu()}}function kk(){ls=Hh.current,cr(Hh)}function Xd(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,gae(r)),rn!==null)for(r=rn.return;r!==null;){var n=r;switch(ok(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Wx();break;case 3:PA(),cr(Oi),cr(ri),mk();break;case 5:pk(n);break;case 4:PA();break;case 13:cr(Cr);break;case 19:cr(Cr);break;case 10:dk(n.type._context);break;case 22:case 23:kk()}r=r.return}if(wn=t,rn=t=lu(t.current,null),In=ls=e,un=0,yg=null,Bk=iw=A0=0,Li=mm=null,Ud!==null){for(e=0;e<Ud.length;e++)if(r=Ud[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Ud=null}return t}function hK(t,e){do{var r=rn;try{if(uk(),m4.current=nb,rb){for(var n=kr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}rb=!1}if(h0=0,xn=on=kr=null,fm=!1,pg=0,Ck.current=null,r===null||r.return===null){un=1,yg=e,rn=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=In,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var A=u.alternate;A?(u.updateQueue=A.updateQueue,u.memoizedState=A.memoizedState,u.lanes=A.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=aD(a);if(f!==null){f.flags&=-257,oD(f,a,o,s,e),f.mode&1&&sD(s,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){sD(s,c,e),Ek();break e}l=Error(we(426))}}else if(mr&&o.mode&1){var v=aD(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),oD(v,a,o,s,e),lk(UA(l,o));break e}}s=l=UA(l,o),un!==4&&(un=2),mm===null?mm=[s]:mm.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=GV(s,l,e);ZT(s,g);break e;case 1:o=l;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(au===null||!au.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=XV(s,o,e);ZT(s,b);break e}}s=s.return}while(s!==null)}pK(r)}catch(w){e=w,rn===r&&r!==null&&(rn=r=r.return);continue}break}while(!0)}function AK(){var t=ib.current;return ib.current=nb,t===null?nb:t}function Ek(){(un===0||un===3||un===2)&&(un=4),wn===null||!(A0&268435455)&&!(iw&268435455)||Uc(wn,In)}function ob(t,e){var r=Ft;Ft|=2;var n=AK();(wn!==t||In!==e)&&(il=null,Xd(t,e));do try{zae();break}catch(i){hK(t,i)}while(!0);if(uk(),Ft=r,ib.current=n,rn!==null)throw Error(we(261));return wn=null,In=0,un}function zae(){for(;rn!==null;)fK(rn)}function Hae(){for(;rn!==null&&!fse();)fK(rn)}function fK(t){var e=gK(t.alternate,t,ls);t.memoizedProps=t.pendingProps,e===null?pK(t):rn=e,Ck.current=null}function pK(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Iae(r,e),r!==null){r.flags&=32767,rn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{un=6,rn=null;return}}else if(r=jae(r,e,ls),r!==null){rn=r;return}if(e=e.sibling,e!==null){rn=e;return}rn=e=t}while(e!==null);un===0&&(un=5)}function xd(t,e,r){var n=Xt,i=Gs.transition;try{Gs.transition=null,Xt=1,$ae(t,e,r,n)}finally{Gs.transition=i,Xt=n}return null}function $ae(t,e,r,n){do pA();while($c!==null);if(Ft&6)throw Error(we(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(we(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(Bse(t,s),t===wn&&(rn=wn=null,In=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||m2||(m2=!0,yK(zx,function(){return pA(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Gs.transition,Gs.transition=null;var a=Xt;Xt=1;var o=Ft;Ft|=4,Ck.current=null,Pae(t,r),cK(r,t),uae(r9),$x=!!t9,r9=t9=null,t.current=r,Uae(r),pse(),Ft=o,Xt=a,Gs.transition=s}else t.current=r;if(m2&&(m2=!1,$c=t,ab=i),s=t.pendingLanes,s===0&&(au=null),yse(r.stateNode),Ui(t,zr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(sb)throw sb=!1,t=w9,w9=null,t;return ab&1&&t.tag!==0&&pA(),s=t.pendingLanes,s&1?t===C9?gm++:(gm=0,C9=t):gm=0,Pu(),null}function pA(){if($c!==null){var t=G$(ab),e=Gs.transition,r=Xt;try{if(Gs.transition=null,Xt=16>t?16:t,$c===null)var n=!1;else{if(t=$c,$c=null,ab=0,Ft&6)throw Error(we(331));var i=Ft;for(Ft|=4,Qe=t.current;Qe!==null;){var s=Qe,a=s.child;if(Qe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Qe=c;Qe!==null;){var u=Qe;switch(u.tag){case 0:case 11:case 15:pm(8,u,s)}var d=u.child;if(d!==null)d.return=u,Qe=d;else for(;Qe!==null;){u=Qe;var A=u.sibling,f=u.return;if(aK(u),u===c){Qe=null;break}if(A!==null){A.return=f,Qe=A;break}Qe=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Qe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Qe=a;else e:for(;Qe!==null;){if(s=Qe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:pm(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Qe=g;break e}Qe=s.return}}var y=t.current;for(Qe=y;Qe!==null;){a=Qe;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,Qe=x;else e:for(a=y;Qe!==null;){if(o=Qe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:nw(9,o)}}catch(w){Dr(o,o.return,w)}if(o===a){Qe=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,Qe=b;break e}Qe=o.return}}if(Ft=i,Pu(),wo&&typeof wo.onPostCommitFiberRoot=="function")try{wo.onPostCommitFiberRoot(G3,t)}catch{}n=!0}return n}finally{Xt=r,Gs.transition=e}}return!1}function xD(t,e,r){e=UA(r,e),e=GV(t,e,1),t=su(t,e,1),e=gi(),t!==null&&(d1(t,1,e),Ui(t,e))}function Dr(t,e,r){if(t.tag===3)xD(t,t,r);else for(;e!==null;){if(e.tag===3){xD(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(au===null||!au.has(n))){t=UA(r,t),t=XV(e,t,1),e=su(e,t,1),t=gi(),e!==null&&(d1(e,1,t),Ui(e,t));break}}e=e.return}}function Vae(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=gi(),t.pingedLanes|=t.suspendedLanes&r,wn===t&&(In&r)===r&&(un===4||un===3&&(In&130023424)===In&&500>zr()-Sk?Xd(t,0):Bk|=r),Ui(t,e)}function mK(t,e){e===0&&(t.mode&1?(e=a2,a2<<=1,!(a2&130023424)&&(a2=4194304)):e=1);var r=gi();t=Dl(t,e),t!==null&&(d1(t,e,r),Ui(t,r))}function Kae(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),mK(t,r)}function qae(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(we(314))}n!==null&&n.delete(e),mK(t,r)}var gK;gK=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Oi.current)Ii=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ii=!1,Nae(t,e,r);Ii=!!(t.flags&131072)}else Ii=!1,mr&&e.flags&1048576&&bV(e,Yx,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;y4(t,e),t=e.pendingProps;var i=jA(e,ri.current);fA(e,r),i=yk(null,e,n,t,i,r);var s=vk();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pi(n)?(s=!0,Gx(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ak(e),i.updater=rw,e.stateNode=i,i._reactInternals=e,d9(e,n,t,r),e=f9(null,e,n,!0,s,r)):(e.tag=0,mr&&s&&ak(e),ui(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(y4(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Gae(n),t=ma(n,t),i){case 0:e=A9(null,e,n,t,r);break e;case 1:e=uD(null,e,n,t,r);break e;case 11:e=lD(null,e,n,t,r);break e;case 14:e=cD(null,e,n,ma(n.type,t),r);break e}throw Error(we(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ma(n,i),A9(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ma(n,i),uD(t,e,n,i,r);case 3:e:{if(eK(e),t===null)throw Error(we(387));n=e.pendingProps,s=e.memoizedState,i=s.element,kV(t,e),eb(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=UA(Error(we(423)),e),e=dD(t,e,n,r,i);break e}else if(n!==i){i=UA(Error(we(424)),e),e=dD(t,e,n,r,i);break e}else for(fs=iu(e.stateNode.containerInfo.firstChild),ms=e,mr=!0,ba=null,r=SV(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(IA(),n===i){e=Ll(t,e,r);break e}ui(t,e,n,r)}e=e.child}return e;case 5:return EV(e),t===null&&l9(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,n9(n,i)?a=null:s!==null&&n9(n,s)&&(e.flags|=32),ZV(t,e),ui(t,e,a,r),e.child;case 6:return t===null&&l9(e),null;case 13:return tK(t,e,r);case 4:return fk(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=OA(e,null,n,r):ui(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ma(n,i),lD(t,e,n,i,r);case 7:return ui(t,e,e.pendingProps,r),e.child;case 8:return ui(t,e,e.pendingProps.children,r),e.child;case 12:return ui(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,ar(Jx,n._currentValue),n._currentValue=a,s!==null)if(ja(s.value,a)){if(s.children===i.children&&!Oi.current){e=Ll(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=xl(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),c9(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(we(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),c9(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}ui(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,fA(e,r),i=Zs(i),n=n(i),e.flags|=1,ui(t,e,n,r),e.child;case 14:return n=e.type,i=ma(n,e.pendingProps),i=ma(n.type,i),cD(t,e,n,i,r);case 15:return YV(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ma(n,i),y4(t,e),e.tag=1,Pi(n)?(t=!0,Gx(e)):t=!1,fA(e,r),WV(e,n,i),d9(e,n,i,r),f9(null,e,n,!0,t,r);case 19:return rK(t,e,r);case 22:return JV(t,e,r)}throw Error(we(156,e.tag))};function yK(t,e){return V$(t,e)}function Wae(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vs(t,e,r,n){return new Wae(t,e,r,n)}function Mk(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gae(t){if(typeof t=="function")return Mk(t)?1:0;if(t!=null){if(t=t.$$typeof,t===W_)return 11;if(t===G_)return 14}return 2}function lu(t,e){var r=t.alternate;return r===null?(r=Vs(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function b4(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")Mk(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Lh:return Yd(r.children,i,s,e);case q_:a=8,i|=8;break;case jC:return t=Vs(12,r,e,i|2),t.elementType=jC,t.lanes=s,t;case IC:return t=Vs(13,r,e,i),t.elementType=IC,t.lanes=s,t;case OC:return t=Vs(19,r,e,i),t.elementType=OC,t.lanes=s,t;case E$:return sw(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _$:a=10;break e;case k$:a=9;break e;case W_:a=11;break e;case G_:a=14;break e;case Dc:a=16,n=null;break e}throw Error(we(130,t==null?t:typeof t,""))}return e=Vs(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Yd(t,e,r,n){return t=Vs(7,t,n,e),t.lanes=r,t}function sw(t,e,r,n){return t=Vs(22,t,n,e),t.elementType=E$,t.lanes=r,t.stateNode={isHidden:!1},t}function g6(t,e,r){return t=Vs(6,t,null,e),t.lanes=r,t}function y6(t,e,r){return e=Vs(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Xae(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=J5(0),this.expirationTimes=J5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=J5(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fk(t,e,r,n,i,s,a,o,l){return t=new Xae(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Vs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ak(s),t}function Yae(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dh,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function vK(t){if(!t)return pu;t=t._reactInternals;e:{if(M0(t)!==t||t.tag!==1)throw Error(we(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(we(171))}if(t.tag===1){var r=t.type;if(Pi(r))return vV(t,r,e)}return e}function xK(t,e,r,n,i,s,a,o,l){return t=Fk(r,n,!0,t,i,s,a,o,l),t.context=vK(null),r=t.current,n=gi(),i=ou(r),s=xl(n,i),s.callback=e??null,su(r,s,i),t.current.lanes=i,d1(t,i,n),Ui(t,n),t}function aw(t,e,r,n){var i=e.current,s=gi(),a=ou(i);return r=vK(r),e.context===null?e.context=r:e.pendingContext=r,e=xl(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=su(i,e,a),t!==null&&(Ma(t,i,a,s),p4(t,i,a)),a}function lb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bD(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Tk(t,e){bD(t,e),(t=t.alternate)&&bD(t,e)}var bK=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dk(t){this._internalRoot=t}ow.prototype.render=Dk.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(we(409));aw(t,e,null,null)};ow.prototype.unmount=Dk.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;f0(function(){aw(null,t,null,null)}),e[Tl]=null}};function ow(t){this._internalRoot=t}ow.prototype.unstable_scheduleHydration=function(t){if(t){var e=J$();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Pc.length&&e!==0&&e<Pc[r].priority;r++);Pc.splice(r,0,t),r===0&&eV(t)}};function Lk(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wD(){}function Jae(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=lb(a);s.call(c)}}var a=xK(e,n,t,0,null,!1,!1,"",wD);return t._reactRootContainer=a,t[Tl]=a.current,ug(t.nodeType===8?t.parentNode:t),f0(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=lb(l);o.call(c)}}var l=Fk(t,0,!1,null,null,!1,!1,"",wD);return t._reactRootContainer=l,t[Tl]=l.current,ug(t.nodeType===8?t.parentNode:t),f0(function(){aw(e,l,r,n)}),l}function cw(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=lb(a);o.call(l)}}aw(e,a,t,i)}else a=Jae(r,e,t,i,n);return lb(a)}X$=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Op(e.pendingLanes);r!==0&&(J_(e,r|1),Ui(e,zr()),!(Ft&6)&&(RA=zr()+500,Pu()))}break;case 13:f0(function(){var n=Dl(t,1);if(n!==null){var i=gi();Ma(n,t,1,i)}}),Tk(t,1)}};Z_=function(t){if(t.tag===13){var e=Dl(t,134217728);if(e!==null){var r=gi();Ma(e,t,134217728,r)}Tk(t,134217728)}};Y$=function(t){if(t.tag===13){var e=ou(t),r=Dl(t,e);if(r!==null){var n=gi();Ma(r,t,e,n)}Tk(t,e)}};J$=function(){return Xt};Z$=function(t,e){var r=Xt;try{return Xt=t,e()}finally{Xt=r}};qC=function(t,e,r){switch(e){case"input":if(RC(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Z3(n);if(!i)throw Error(we(90));F$(n),RC(n,i)}}}break;case"textarea":D$(t,r);break;case"select":e=r.value,e!=null&&uA(t,!!r.multiple,e,!1)}};U$=_k;R$=f0;var Zae={usingClientEntryPoint:!1,Events:[A1,Oh,Z3,O$,P$,_k]},Rf={findFiberByHostInstance:Pd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eoe={bundleType:Rf.bundleType,version:Rf.version,rendererPackageName:Rf.rendererPackageName,rendererConfig:Rf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=H$(t),t===null?null:t.stateNode},findFiberByHostInstance:Rf.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var g2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!g2.isDisabled&&g2.supportsFiber)try{G3=g2.inject(eoe),wo=g2}catch{}}Bs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zae;Bs.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lk(e))throw Error(we(200));return Yae(t,e,null,r)};Bs.createRoot=function(t,e){if(!Lk(t))throw Error(we(299));var r=!1,n="",i=bK;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fk(t,1,!1,null,null,r,!1,n,i),t[Tl]=e.current,ug(t.nodeType===8?t.parentNode:t),new Dk(e)};Bs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(we(188)):(t=Object.keys(t).join(","),Error(we(268,t)));return t=H$(e),t=t===null?null:t.stateNode,t};Bs.flushSync=function(t){return f0(t)};Bs.hydrate=function(t,e,r){if(!lw(e))throw Error(we(200));return cw(null,t,e,!0,r)};Bs.hydrateRoot=function(t,e,r){if(!Lk(t))throw Error(we(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=bK;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=xK(e,null,t,1,r??null,i,!1,s,a),t[Tl]=e.current,ug(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new ow(e)};Bs.render=function(t,e,r){if(!lw(e))throw Error(we(200));return cw(null,t,e,!1,r)};Bs.unmountComponentAtNode=function(t){if(!lw(t))throw Error(we(40));return t._reactRootContainer?(f0(function(){cw(null,null,t,!1,function(){t._reactRootContainer=null,t[Tl]=null})}),!0):!1};Bs.unstable_batchedUpdates=_k;Bs.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!lw(r))throw Error(we(200));if(t==null||t._reactInternals===void 0)throw Error(we(38));return cw(t,e,r,!1,n)};Bs.version="18.3.1-next-f1338f8080-20240426";function wK(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wK)}catch(t){console.error(t)}}wK(),w$.exports=Bs;var CK=w$.exports,BK,CD=CK;BK=CD.createRoot,CD.hydrateRoot;var Nk={};Object.defineProperty(Nk,"__esModule",{value:!0});Nk.parse=ooe;Nk.serialize=loe;const toe=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,roe=/^[\u0021-\u003A\u003C-\u007E]*$/,noe=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,ioe=/^[\u0020-\u003A\u003D-\u007E]*$/,soe=Object.prototype.toString,aoe=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function ooe(t,e){const r=new aoe,n=t.length;if(n<2)return r;const i=(e==null?void 0:e.decode)||coe;let s=0;do{const a=t.indexOf("=",s);if(a===-1)break;const o=t.indexOf(";",s),l=o===-1?n:o;if(a>l){s=t.lastIndexOf(";",a-1)+1;continue}const c=BD(t,s,a),u=SD(t,a,c),d=t.slice(c,u);if(r[d]===void 0){let A=BD(t,a+1,l),f=SD(t,l,A);const p=i(t.slice(A,f));r[d]=p}s=l+1}while(s<n);return r}function BD(t,e,r){do{const n=t.charCodeAt(e);if(n!==32&&n!==9)return e}while(++e<r);return r}function SD(t,e,r){for(;e>r;){const n=t.charCodeAt(--e);if(n!==32&&n!==9)return e+1}return r}function loe(t,e,r){const n=(r==null?void 0:r.encode)||encodeURIComponent;if(!toe.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=n(e);if(!roe.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!r)return s;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);s+="; Max-Age="+r.maxAge}if(r.domain){if(!noe.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);s+="; Domain="+r.domain}if(r.path){if(!ioe.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);s+="; Path="+r.path}if(r.expires){if(!uoe(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.partitioned&&(s+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return s}function coe(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function uoe(t){return soe.call(t)==="[object Date]"}/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _D="popstate";function doe(t={}){function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return _9("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:vg(i)}return Aoe(e,r,null,t)}function vr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ia(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hoe(){return Math.random().toString(36).substring(2,10)}function kD(t,e){return{usr:t.state,key:t.key,idx:e}}function _9(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?cf(e):e,state:r,key:e&&e.key||n||hoe()}}function vg({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function cf(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Aoe(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o="POP",l=null,c=u();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function u(){return(a.state||{idx:null}).idx}function d(){o="POP";let v=u(),g=v==null?null:v-c;c=v,l&&l({action:o,location:m.location,delta:g})}function A(v,g){o="PUSH";let y=_9(m.location,v,g);c=u()+1;let x=kD(y,c),b=m.createHref(y);try{a.pushState(x,"",b)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(b)}s&&l&&l({action:o,location:m.location,delta:1})}function f(v,g){o="REPLACE";let y=_9(m.location,v,g);c=u();let x=kD(y,c),b=m.createHref(y);a.replaceState(x,"",b),s&&l&&l({action:o,location:m.location,delta:0})}function p(v){let g=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:vg(v);return y=y.replace(/ $/,"%20"),vr(g,`No window.location.(origin|href) available to create URL for href: ${y}`),new URL(y,g)}let m={get action(){return o},get location(){return t(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(_D,d),l=v,()=>{i.removeEventListener(_D,d),l=null}},createHref(v){return e(i,v)},createURL:p,encodeLocation(v){let g=p(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:A,replace:f,go(v){return a.go(v)}};return m}function SK(t,e,r="/"){return foe(t,e,r,!1)}function foe(t,e,r,n){let i=typeof e=="string"?cf(e):e,s=mu(i.pathname||"/",r);if(s==null)return null;let a=_K(t);poe(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=_oe(s);o=Boe(a[l],c,n)}return o}function _K(t,e=[],r=[],n=""){let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(vr(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let c=bl([n,l.relativePath]),u=r.concat(l);s.children&&s.children.length>0&&(vr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),_K(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:woe(c,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of kK(s.path))i(s,a,l)}),e}function kK(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=kK(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function poe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Coe(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var moe=/^:[\w-]+$/,goe=3,yoe=2,voe=1,xoe=10,boe=-2,ED=t=>t==="*";function woe(t,e){let r=t.split("/"),n=r.length;return r.some(ED)&&(n+=boe),e&&(n+=yoe),r.filter(i=>!ED(i)).reduce((i,s)=>i+(moe.test(s)?goe:s===""?voe:xoe),n)}function Coe(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Boe(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=cb({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),A=l.route;if(!d&&c&&r&&!n[n.length-1].route.index&&(d=cb({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:bl([s,d.pathname]),pathnameBase:Foe(bl([s,d.pathnameBase])),route:A}),d.pathnameBase!=="/"&&(s=bl([s,d.pathnameBase]))}return a}function cb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Soe(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,{paramName:u,isOptional:d},A)=>{if(u==="*"){let p=o[A]||"";a=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const f=o[A];return d&&!f?c[u]=void 0:c[u]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function Soe(t,e=!1,r=!0){Ia(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function _oe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ia(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function mu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function koe(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?cf(t):t;return{pathname:r?r.startsWith("/")?r:Eoe(r,e):e,search:Toe(n),hash:Doe(i)}}function Eoe(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function v6(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Moe(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function jk(t){let e=Moe(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Ik(t,e,r,n=!1){let i;typeof t=="string"?i=cf(t):(i={...t},vr(!i.pathname||!i.pathname.includes("?"),v6("?","pathname","search",i)),vr(!i.pathname||!i.pathname.includes("#"),v6("#","pathname","hash",i)),vr(!i.search||!i.search.includes("#"),v6("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let d=e.length-1;if(!n&&a.startsWith("..")){let A=a.split("/");for(;A[0]==="..";)A.shift(),d-=1;i.pathname=A.join("/")}o=d>=0?e[d]:"/"}let l=koe(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var bl=t=>t.join("/").replace(/\/\/+/g,"/"),Foe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Toe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Doe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Loe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var EK=["POST","PUT","PATCH","DELETE"];new Set(EK);var Noe=["GET",...EK];new Set(Noe);var uf=_.createContext(null);uf.displayName="DataRouter";var uw=_.createContext(null);uw.displayName="DataRouterState";var MK=_.createContext({isTransitioning:!1});MK.displayName="ViewTransition";var joe=_.createContext(new Map);joe.displayName="Fetchers";var Ioe=_.createContext(null);Ioe.displayName="Await";var Ua=_.createContext(null);Ua.displayName="Navigation";var p1=_.createContext(null);p1.displayName="Location";var aa=_.createContext({outlet:null,matches:[],isDataRoute:!1});aa.displayName="Route";var Ok=_.createContext(null);Ok.displayName="RouteError";function Ooe(t,{relative:e}={}){vr(df(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=_.useContext(Ua),{hash:i,pathname:s,search:a}=m1(t,{relative:e}),o=s;return r!=="/"&&(o=s==="/"?r:bl([r,s])),n.createHref({pathname:o,search:a,hash:i})}function df(){return _.useContext(p1)!=null}function Ra(){return vr(df(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(p1).location}var FK="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TK(t){_.useContext(Ua).static||_.useLayoutEffect(t)}function bt(){let{isDataRoute:t}=_.useContext(aa);return t?Joe():Poe()}function Poe(){vr(df(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(uf),{basename:e,navigator:r}=_.useContext(Ua),{matches:n}=_.useContext(aa),{pathname:i}=Ra(),s=JSON.stringify(jk(n)),a=_.useRef(!1);return TK(()=>{a.current=!0}),_.useCallback((l,c={})=>{if(Ia(a.current,FK),!a.current)return;if(typeof l=="number"){r.go(l);return}let u=Ik(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:bl([e,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[e,r,s,i,t])}var Uoe=_.createContext(null);function Roe(t){let e=_.useContext(aa).outlet;return e&&_.createElement(Uoe.Provider,{value:t},e)}function Ar(){let{matches:t}=_.useContext(aa),e=t[t.length-1];return e?e.params:{}}function m1(t,{relative:e}={}){let{matches:r}=_.useContext(aa),{pathname:n}=Ra(),i=JSON.stringify(jk(r));return _.useMemo(()=>Ik(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function Qoe(t,e){return DK(t,e)}function DK(t,e,r,n){var g;vr(df(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=_.useContext(Ua),{matches:s}=_.useContext(aa),a=s[s.length-1],o=a?a.params:{},l=a?a.pathname:"/",c=a?a.pathnameBase:"/",u=a&&a.route;{let y=u&&u.path||"";LK(l,!u||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let d=Ra(),A;if(e){let y=typeof e=="string"?cf(e):e;vr(c==="/"||((g=y.pathname)==null?void 0:g.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${y.pathname}" was given in the \`location\` prop.`),A=y}else A=d;let f=A.pathname||"/",p=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=SK(t,{pathname:p});Ia(u||m!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Ia(m==null||m[m.length-1].route.element!==void 0||m[m.length-1].route.Component!==void 0||m[m.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=Koe(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:bl([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:bl([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return e&&v?_.createElement(p1.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},v):v}function zoe(){let t=Yoe(),e=Loe(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:s},"ErrorBoundary")," or"," ",_.createElement("code",{style:s},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),r?_.createElement("pre",{style:i},r):null,a)}var Hoe=_.createElement(zoe,null),$oe=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?_.createElement(aa.Provider,{value:this.props.routeContext},_.createElement(Ok.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Voe({routeContext:t,match:e,children:r}){let n=_.useContext(uf);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(aa.Provider,{value:t},r)}function Koe(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,s=r==null?void 0:r.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);vr(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let a=!1,o=-1;if(r)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(o=l),c.route.id){let{loaderData:u,errors:d}=r,A=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||A){a=!0,o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let d,A=!1,f=null,p=null;r&&(d=s&&c.route.id?s[c.route.id]:void 0,f=c.route.errorElement||Hoe,a&&(o<0&&u===0?(LK("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,p=null):o===u&&(A=!0,p=c.route.hydrateFallbackElement||null)));let m=e.concat(i.slice(0,u+1)),v=()=>{let g;return d?g=f:A?g=p:c.route.Component?g=_.createElement(c.route.Component,null):c.route.element?g=c.route.element:g=l,_.createElement(Voe,{match:c,routeContext:{outlet:l,matches:m,isDataRoute:r!=null},children:g})};return r&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?_.createElement($oe,{location:r.location,revalidation:r.revalidation,component:f,error:d,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}function Pk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qoe(t){let e=_.useContext(uf);return vr(e,Pk(t)),e}function Woe(t){let e=_.useContext(uw);return vr(e,Pk(t)),e}function Goe(t){let e=_.useContext(aa);return vr(e,Pk(t)),e}function Uk(t){let e=Goe(t),r=e.matches[e.matches.length-1];return vr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Xoe(){return Uk("useRouteId")}function Yoe(){var n;let t=_.useContext(Ok),e=Woe("useRouteError"),r=Uk("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Joe(){let{router:t}=qoe("useNavigate"),e=Uk("useNavigate"),r=_.useRef(!1);return TK(()=>{r.current=!0}),_.useCallback(async(i,s={})=>{Ia(r.current,FK),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var MD={};function LK(t,e,r){!e&&!MD[t]&&(MD[t]=!0,Ia(!1,r))}_.memo(Zoe);function Zoe({routes:t,future:e,state:r}){return DK(t,void 0,r,e)}function FD({to:t,replace:e,state:r,relative:n}){vr(df(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(Ua);Ia(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=_.useContext(aa),{pathname:a}=Ra(),o=bt(),l=Ik(t,jk(s),a,n==="path"),c=JSON.stringify(l);return _.useEffect(()=>{o(JSON.parse(c),{replace:e,state:r,relative:n})},[o,c,n,e,r]),null}function ele(t){return Roe(t.context)}function Me(t){vr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tle({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){vr(!df(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=_.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof r=="string"&&(r=cf(r));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:A="default"}=r,f=_.useMemo(()=>{let p=mu(l,a);return p==null?null:{location:{pathname:p,search:c,hash:u,state:d,key:A},navigationType:n}},[a,l,c,u,d,A,n]);return Ia(f!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:_.createElement(Ua.Provider,{value:o},_.createElement(p1.Provider,{children:e,value:f}))}function TD({children:t,location:e}){return Qoe(k9(t),e)}function k9(t,e=[]){let r=[];return _.Children.forEach(t,(n,i)=>{if(!_.isValidElement(n))return;let s=[...e,i];if(n.type===_.Fragment){r.push.apply(r,k9(n.props.children,s));return}vr(n.type===Me,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=k9(n.props.children,s)),r.push(a)}),r}var w4="get",C4="application/x-www-form-urlencoded";function dw(t){return t!=null&&typeof t.tagName=="string"}function rle(t){return dw(t)&&t.tagName.toLowerCase()==="button"}function nle(t){return dw(t)&&t.tagName.toLowerCase()==="form"}function ile(t){return dw(t)&&t.tagName.toLowerCase()==="input"}function sle(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ale(t,e){return t.button===0&&(!e||e==="_self")&&!sle(t)}var y2=null;function ole(){if(y2===null)try{new FormData(document.createElement("form"),0),y2=!1}catch{y2=!0}return y2}var lle=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function x6(t){return t!=null&&!lle.has(t)?(Ia(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${C4}"`),null):t}function cle(t,e){let r,n,i,s,a;if(nle(t)){let o=t.getAttribute("action");n=o?mu(o,e):null,r=t.getAttribute("method")||w4,i=x6(t.getAttribute("enctype"))||C4,s=new FormData(t)}else if(rle(t)||ile(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(n=l?mu(l,e):null,r=t.getAttribute("formmethod")||o.getAttribute("method")||w4,i=x6(t.getAttribute("formenctype"))||x6(o.getAttribute("enctype"))||C4,s=new FormData(o,t),!ole()){let{name:c,type:u,value:d}=t;if(u==="image"){let A=c?`${c}.`:"";s.append(`${A}x`,"0"),s.append(`${A}y`,"0")}else c&&s.append(c,d)}}else{if(dw(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=w4,n=null,i=C4,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:a}}function Rk(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function ule(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dle(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function hle(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await ule(s,r);return a.links?a.links():[]}return[]}));return mle(n.flat(1).filter(dle).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function DD(t,e,r,n,i,s){let a=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,o=(l,c)=>{var u;return r[c].pathname!==l.pathname||((u=r[c].route.path)==null?void 0:u.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):s==="data"?e.filter((l,c)=>{var d;let u=n.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let A=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Ale(t,e){return fle(t.map(r=>{let n=e.routes[r.route.id];if(!n)return[];let i=[n.module];return n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function fle(t){return[...new Set(t)]}function ple(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function mle(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(ple(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function gle(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function yle(){let t=_.useContext(uf);return Rk(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function vle(){let t=_.useContext(uw);return Rk(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Qk=_.createContext(void 0);Qk.displayName="FrameworkContext";function NK(){let t=_.useContext(Qk);return Rk(t,"You must render this element inside a <HydratedRouter> element"),t}function xle(t,e){let r=_.useContext(Qk),[n,i]=_.useState(!1),[s,a]=_.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=e,A=_.useRef(null);_.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let m=g=>{g.forEach(y=>{a(y.isIntersecting)})},v=new IntersectionObserver(m,{threshold:.5});return A.current&&v.observe(A.current),()=>{v.disconnect()}}},[t]),_.useEffect(()=>{if(n){let m=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(m)}}},[n]);let f=()=>{i(!0)},p=()=>{i(!1),a(!1)};return r?t!=="intent"?[s,A,{}]:[s,A,{onFocus:Qf(o,f),onBlur:Qf(l,p),onMouseEnter:Qf(c,f),onMouseLeave:Qf(u,p),onTouchStart:Qf(d,f)}]:[!1,A,{}]}function Qf(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function ble({page:t,...e}){let{router:r}=yle(),n=_.useMemo(()=>SK(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?_.createElement(Cle,{page:t,matches:n,...e}):null}function wle(t){let{manifest:e,routeModules:r}=NK(),[n,i]=_.useState([]);return _.useEffect(()=>{let s=!1;return hle(t,e,r).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,r]),n}function Cle({page:t,matches:e,...r}){let n=Ra(),{manifest:i,routeModules:s}=NK(),{loaderData:a,matches:o}=vle(),l=_.useMemo(()=>DD(t,e,o,i,n,"data"),[t,e,o,i,n]),c=_.useMemo(()=>DD(t,e,o,i,n,"assets"),[t,e,o,i,n]),u=_.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let f=new Set,p=!1;if(e.forEach(v=>{var y;let g=i.routes[v.route.id];!g||!g.hasLoader||(!l.some(x=>x.route.id===v.route.id)&&v.route.id in a&&((y=s[v.route.id])!=null&&y.shouldRevalidate)||g.hasClientLoader?p=!0:f.add(v.route.id))}),f.size===0)return[];let m=gle(t);return p&&f.size>0&&m.searchParams.set("_routes",e.filter(v=>f.has(v.route.id)).map(v=>v.route.id).join(",")),[m.pathname+m.search]},[a,n,i,l,e,t,s]),d=_.useMemo(()=>Ale(c,i),[c,i]),A=wle(c);return _.createElement(_.Fragment,null,u.map(f=>_.createElement("link",{key:f,rel:"prefetch",as:"fetch",href:f,...r})),d.map(f=>_.createElement("link",{key:f,rel:"modulepreload",href:f,...r})),A.map(({key:f,link:p})=>_.createElement("link",{key:f,...p})))}function Ble(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var jK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jK&&(window.__reactRouterVersion="7.1.1")}catch{}function Sle({basename:t,children:e,window:r}){let n=_.useRef();n.current==null&&(n.current=doe({window:r,v5Compat:!0}));let i=n.current,[s,a]=_.useState({action:i.action,location:i.location}),o=_.useCallback(l=>{_.startTransition(()=>a(l))},[a]);return _.useLayoutEffect(()=>i.listen(o),[i,o]),_.createElement(tle,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var IK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gu=_.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d,...A},f){let{basename:p}=_.useContext(Ua),m=typeof c=="string"&&IK.test(c),v,g=!1;if(typeof c=="string"&&m&&(v=c,jK))try{let E=new URL(window.location.href),M=c.startsWith("//")?new URL(E.protocol+c):new URL(c),T=mu(M.pathname,p);M.origin===E.origin&&T!=null?c=T+M.search+M.hash:g=!0}catch{Ia(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=Ooe(c,{relative:i}),[x,b,w]=xle(n,A),C=Mle(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:d});function B(E){e&&e(E),E.defaultPrevented||C(E)}let S=_.createElement("a",{...A,...w,href:v||y,onClick:g||s?e:B,ref:Ble(f,b),target:l,"data-discover":!m&&r==="render"?"true":void 0});return x&&!m?_.createElement(_.Fragment,null,S,_.createElement(ble,{page:y})):S});gu.displayName="Link";var _le=_.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...c},u){let d=m1(a,{relative:c.relative}),A=Ra(),f=_.useContext(uw),{navigator:p,basename:m}=_.useContext(Ua),v=f!=null&&Nle(d)&&o===!0,g=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,y=A.pathname,x=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(y=y.toLowerCase(),x=x?x.toLowerCase():null,g=g.toLowerCase()),x&&m&&(x=mu(x,m)||x);const b=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let w=y===g||!i&&y.startsWith(g)&&y.charAt(b)==="/",C=x!=null&&(x===g||!i&&x.startsWith(g)&&x.charAt(g.length)==="/"),B={isActive:w,isPending:C,isTransitioning:v},S=w?e:void 0,E;typeof n=="function"?E=n(B):E=[n,w?"active":null,C?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let M=typeof s=="function"?s(B):s;return _.createElement(gu,{...c,"aria-current":S,className:E,ref:u,style:M,to:a,viewTransition:o},typeof l=="function"?l(B):l)});_le.displayName="NavLink";var kle=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:a=w4,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...A},f)=>{let p=Dle(),m=Lle(o,{relative:c}),v=a.toLowerCase()==="get"?"get":"post",g=typeof o=="string"&&IK.test(o),y=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let b=x.nativeEvent.submitter,w=(b==null?void 0:b.getAttribute("formmethod"))||a;p(b||x.currentTarget,{fetcherKey:e,method:w,navigate:r,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:d})};return _.createElement("form",{ref:f,method:v,action:m,onSubmit:n?l:y,...A,"data-discover":!g&&t==="render"?"true":void 0})});kle.displayName="Form";function Ele(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OK(t){let e=_.useContext(uf);return vr(e,Ele(t)),e}function Mle(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=bt(),l=Ra(),c=m1(t,{relative:s});return _.useCallback(u=>{if(ale(u,e)){u.preventDefault();let d=r!==void 0?r:vg(l)===vg(c);o(t,{replace:d,state:n,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,c,r,n,e,t,i,s,a])}var Fle=0,Tle=()=>`__${String(++Fle)}__`;function Dle(){let{router:t}=OK("useSubmit"),{basename:e}=_.useContext(Ua),r=Xoe();return _.useCallback(async(n,i={})=>{let{action:s,method:a,encType:o,formData:l,body:c}=cle(n,e);if(i.navigate===!1){let u=i.fetcherKey||Tle();await t.fetch(u,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function Lle(t,{relative:e}={}){let{basename:r}=_.useContext(Ua),n=_.useContext(aa);vr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...m1(t||".",{relative:e})},a=Ra();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(d=>d).forEach(d=>o.append("index",d));let u=o.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:bl([r,s.pathname])),vg(s)}function Nle(t,e={}){let r=_.useContext(MK);vr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=OK("useViewTransitionState"),i=m1(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=mu(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=mu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return cb(i.pathname,a)!=null||cb(i.pathname,s)!=null}new TextEncoder;const he={SUPER_ADMIN:"superAdmin",SUPER_INTENDENT:"superIntendent",ADMIN:"admin",USER:"user",TEACHER:"teacher",PARENT:"parent"},jle=t=>{switch(t){case he.SUPER_ADMIN:return"Super Admin";case he.SUPER_INTENDENT:return"Super Intendent";case he.ADMIN:return"Principal";case he.TEACHER:return"Teacher";case he.PARENT:return"Parent";case he.USER:return"Student";default:return"Unknown Role"}},ya={MCQS:"multiple-choice",QA:"question-answer"};function PK(t,e){return function(){return t.apply(e,arguments)}}const{toString:Ile}=Object.prototype,{getPrototypeOf:zk}=Object,hw=(t=>e=>{const r=Ile.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Qa=t=>(t=t.toLowerCase(),e=>hw(e)===t),Aw=t=>e=>typeof e===t,{isArray:hf}=Array,xg=Aw("undefined");function Ole(t){return t!==null&&!xg(t)&&t.constructor!==null&&!xg(t.constructor)&&gs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const UK=Qa("ArrayBuffer");function Ple(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&UK(t.buffer),e}const Ule=Aw("string"),gs=Aw("function"),RK=Aw("number"),fw=t=>t!==null&&typeof t=="object",Rle=t=>t===!0||t===!1,B4=t=>{if(hw(t)!=="object")return!1;const e=zk(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Qle=Qa("Date"),zle=Qa("File"),Hle=Qa("Blob"),$le=Qa("FileList"),Vle=t=>fw(t)&&gs(t.pipe),Kle=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||gs(t.append)&&((e=hw(t))==="formdata"||e==="object"&&gs(t.toString)&&t.toString()==="[object FormData]"))},qle=Qa("URLSearchParams"),[Wle,Gle,Xle,Yle]=["ReadableStream","Request","Response","Headers"].map(Qa),Jle=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function g1(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),hf(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function QK(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Qd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,zK=t=>!xg(t)&&t!==Qd;function E9(){const{caseless:t}=zK(this)&&this||{},e={},r=(n,i)=>{const s=t&&QK(e,i)||i;B4(e[s])&&B4(n)?e[s]=E9(e[s],n):B4(n)?e[s]=E9({},n):hf(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&g1(arguments[n],r);return e}const Zle=(t,e,r,{allOwnKeys:n}={})=>(g1(e,(i,s)=>{r&&gs(i)?t[s]=PK(i,r):t[s]=i},{allOwnKeys:n}),t),ece=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),tce=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},rce=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&zk(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},nce=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},ice=t=>{if(!t)return null;if(hf(t))return t;let e=t.length;if(!RK(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},sce=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&zk(Uint8Array)),ace=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},oce=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},lce=Qa("HTMLFormElement"),cce=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),LD=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),uce=Qa("RegExp"),HK=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};g1(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},dce=t=>{HK(t,(e,r)=>{if(gs(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(gs(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},hce=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return hf(t)?n(t):n(String(t).split(e)),r},Ace=()=>{},fce=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,b6="abcdefghijklmnopqrstuvwxyz",ND="0123456789",$K={DIGIT:ND,ALPHA:b6,ALPHA_DIGIT:b6+b6.toUpperCase()+ND},pce=(t=16,e=$K.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function mce(t){return!!(t&&gs(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const gce=t=>{const e=new Array(10),r=(n,i)=>{if(fw(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=hf(n)?[]:{};return g1(n,(a,o)=>{const l=r(a,i+1);!xg(l)&&(s[o]=l)}),e[i]=void 0,s}}return n};return r(t,0)},yce=Qa("AsyncFunction"),vce=t=>t&&(fw(t)||gs(t))&&gs(t.then)&&gs(t.catch),VK=((t,e)=>t?setImmediate:e?((r,n)=>(Qd.addEventListener("message",({source:i,data:s})=>{i===Qd&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Qd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",gs(Qd.postMessage)),xce=typeof queueMicrotask<"u"?queueMicrotask.bind(Qd):typeof process<"u"&&process.nextTick||VK,le={isArray:hf,isArrayBuffer:UK,isBuffer:Ole,isFormData:Kle,isArrayBufferView:Ple,isString:Ule,isNumber:RK,isBoolean:Rle,isObject:fw,isPlainObject:B4,isReadableStream:Wle,isRequest:Gle,isResponse:Xle,isHeaders:Yle,isUndefined:xg,isDate:Qle,isFile:zle,isBlob:Hle,isRegExp:uce,isFunction:gs,isStream:Vle,isURLSearchParams:qle,isTypedArray:sce,isFileList:$le,forEach:g1,merge:E9,extend:Zle,trim:Jle,stripBOM:ece,inherits:tce,toFlatObject:rce,kindOf:hw,kindOfTest:Qa,endsWith:nce,toArray:ice,forEachEntry:ace,matchAll:oce,isHTMLForm:lce,hasOwnProperty:LD,hasOwnProp:LD,reduceDescriptors:HK,freezeMethods:dce,toObjectSet:hce,toCamelCase:cce,noop:Ace,toFiniteNumber:fce,findKey:QK,global:Qd,isContextDefined:zK,ALPHABET:$K,generateString:pce,isSpecCompliantForm:mce,toJSONObject:gce,isAsyncFn:yce,isThenable:vce,setImmediate:VK,asap:xce};function ut(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}le.inherits(ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:le.toJSONObject(this.config),code:this.code,status:this.status}}});const KK=ut.prototype,qK={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{qK[t]={value:t}});Object.defineProperties(ut,qK);Object.defineProperty(KK,"isAxiosError",{value:!0});ut.from=(t,e,r,n,i,s)=>{const a=Object.create(KK);return le.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),ut.call(a,t.message,e,r,n,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const bce=null;function M9(t){return le.isPlainObject(t)||le.isArray(t)}function WK(t){return le.endsWith(t,"[]")?t.slice(0,-2):t}function jD(t,e,r){return t?t.concat(e).map(function(i,s){return i=WK(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function wce(t){return le.isArray(t)&&!t.some(M9)}const Cce=le.toFlatObject(le,{},null,function(e){return/^is[A-Z]/.test(e)});function pw(t,e,r){if(!le.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=le.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!le.isUndefined(v[m])});const n=r.metaTokens,i=r.visitor||u,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&le.isSpecCompliantForm(e);if(!le.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(le.isDate(p))return p.toISOString();if(!l&&le.isBlob(p))throw new ut("Blob is not supported. Use a Buffer instead.");return le.isArrayBuffer(p)||le.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,v){let g=p;if(p&&!v&&typeof p=="object"){if(le.endsWith(m,"{}"))m=n?m:m.slice(0,-2),p=JSON.stringify(p);else if(le.isArray(p)&&wce(p)||(le.isFileList(p)||le.endsWith(m,"[]"))&&(g=le.toArray(p)))return m=WK(m),g.forEach(function(x,b){!(le.isUndefined(x)||x===null)&&e.append(a===!0?jD([m],b,s):a===null?m:m+"[]",c(x))}),!1}return M9(p)?!0:(e.append(jD(v,m,s),c(p)),!1)}const d=[],A=Object.assign(Cce,{defaultVisitor:u,convertValue:c,isVisitable:M9});function f(p,m){if(!le.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),le.forEach(p,function(g,y){(!(le.isUndefined(g)||g===null)&&i.call(e,g,le.isString(y)?y.trim():y,m,A))===!0&&f(g,m?m.concat(y):[y])}),d.pop()}}if(!le.isObject(t))throw new TypeError("data must be an object");return f(t),e}function ID(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Hk(t,e){this._pairs=[],t&&pw(t,this,e)}const GK=Hk.prototype;GK.append=function(e,r){this._pairs.push([e,r])};GK.toString=function(e){const r=e?function(n){return e.call(this,n,ID)}:ID;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Bce(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function XK(t,e,r){if(!e)return t;const n=r&&r.encode||Bce;le.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=le.isURLSearchParams(e)?e.toString():new Hk(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class OD{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){le.forEach(this.handlers,function(n){n!==null&&e(n)})}}const YK={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Sce=typeof URLSearchParams<"u"?URLSearchParams:Hk,_ce=typeof FormData<"u"?FormData:null,kce=typeof Blob<"u"?Blob:null,Ece={isBrowser:!0,classes:{URLSearchParams:Sce,FormData:_ce,Blob:kce},protocols:["http","https","file","blob","url","data"]},$k=typeof window<"u"&&typeof document<"u",F9=typeof navigator=="object"&&navigator||void 0,Mce=$k&&(!F9||["ReactNative","NativeScript","NS"].indexOf(F9.product)<0),Fce=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Tce=$k&&window.location.href||"http://localhost",Dce=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$k,hasStandardBrowserEnv:Mce,hasStandardBrowserWebWorkerEnv:Fce,navigator:F9,origin:Tce},Symbol.toStringTag,{value:"Module"})),Jn={...Dce,...Ece};function Lce(t,e){return pw(t,new Jn.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return Jn.isNode&&le.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Nce(t){return le.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jce(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function JK(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&le.isArray(i)?i.length:a,l?(le.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!le.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&le.isArray(i[a])&&(i[a]=jce(i[a])),!o)}if(le.isFormData(t)&&le.isFunction(t.entries)){const r={};return le.forEachEntry(t,(n,i)=>{e(Nce(n),i,r,0)}),r}return null}function Ice(t,e,r){if(le.isString(t))try{return(e||JSON.parse)(t),le.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(t)}const y1={transitional:YK,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=le.isObject(e);if(s&&le.isHTMLForm(e)&&(e=new FormData(e)),le.isFormData(e))return i?JSON.stringify(JK(e)):e;if(le.isArrayBuffer(e)||le.isBuffer(e)||le.isStream(e)||le.isFile(e)||le.isBlob(e)||le.isReadableStream(e))return e;if(le.isArrayBufferView(e))return e.buffer;if(le.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Lce(e,this.formSerializer).toString();if((o=le.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return pw(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),Ice(e)):e}],transformResponse:[function(e){const r=this.transitional||y1.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(le.isResponse(e)||le.isReadableStream(e))return e;if(e&&le.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?ut.from(o,ut.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jn.classes.FormData,Blob:Jn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};le.forEach(["delete","get","head","post","put","patch"],t=>{y1.headers[t]={}});const Oce=le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Pce=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&Oce[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},PD=Symbol("internals");function zf(t){return t&&String(t).trim().toLowerCase()}function S4(t){return t===!1||t==null?t:le.isArray(t)?t.map(S4):String(t)}function Uce(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Rce=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function w6(t,e,r,n,i){if(le.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!le.isString(e)){if(le.isString(n))return e.indexOf(n)!==-1;if(le.isRegExp(n))return n.test(e)}}function Qce(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function zce(t,e){const r=le.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}class Ri{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,l,c){const u=zf(l);if(!u)throw new Error("header name must be a non-empty string");const d=le.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=S4(o))}const a=(o,l)=>le.forEach(o,(c,u)=>s(c,u,l));if(le.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(le.isString(e)&&(e=e.trim())&&!Rce(e))a(Pce(e),r);else if(le.isHeaders(e))for(const[o,l]of e.entries())s(l,o,n);else e!=null&&s(r,e,n);return this}get(e,r){if(e=zf(e),e){const n=le.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return Uce(i);if(le.isFunction(r))return r.call(this,i,n);if(le.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=zf(e),e){const n=le.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||w6(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=zf(a),a){const o=le.findKey(n,a);o&&(!r||w6(n,n[o],o,r))&&(delete n[o],i=!0)}}return le.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||w6(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return le.forEach(this,(i,s)=>{const a=le.findKey(n,s);if(a){r[a]=S4(i),delete r[s];return}const o=e?Qce(s):String(s).trim();o!==s&&delete r[s],r[o]=S4(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return le.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&le.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[PD]=this[PD]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=zf(a);n[o]||(zce(i,a),n[o]=!0)}return le.isArray(e)?e.forEach(s):s(e),this}}Ri.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);le.reduceDescriptors(Ri.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});le.freezeMethods(Ri);function C6(t,e){const r=this||y1,n=e||r,i=Ri.from(n.headers);let s=n.data;return le.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function ZK(t){return!!(t&&t.__CANCEL__)}function Af(t,e,r){ut.call(this,t??"canceled",ut.ERR_CANCELED,e,r),this.name="CanceledError"}le.inherits(Af,ut,{__CANCEL__:!0});function eq(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new ut("Request failed with status code "+r.status,[ut.ERR_BAD_REQUEST,ut.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Hce(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function $ce(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=n[s];a||(a=c),r[i]=l,n[i]=c;let d=s,A=0;for(;d!==i;)A+=r[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-a<e)return;const f=u&&c-u;return f?Math.round(A*1e3/f):void 0}}function Vce(t,e){let r=0,n=1e3/e,i,s;const a=(c,u=Date.now())=>{r=u,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-r;d>=n?a(c,u):(i=c,s||(s=setTimeout(()=>{s=null,a(i)},n-d)))},()=>i&&a(i)]}const ub=(t,e,r=3)=>{let n=0;const i=$ce(50,250);return Vce(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,c=i(l),u=a<=o;n=a;const d={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(d)},r)},UD=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},RD=t=>(...e)=>le.asap(()=>t(...e)),Kce=Jn.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Jn.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Jn.origin),Jn.navigator&&/(msie|trident)/i.test(Jn.navigator.userAgent)):()=>!0,qce=Jn.hasStandardBrowserEnv?{write(t,e,r,n,i,s){const a=[t+"="+encodeURIComponent(e)];le.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),le.isString(n)&&a.push("path="+n),le.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Wce(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Gce(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function tq(t,e){return t&&!Wce(e)?Gce(t,e):e}const QD=t=>t instanceof Ri?{...t}:t;function p0(t,e){e=e||{};const r={};function n(c,u,d,A){return le.isPlainObject(c)&&le.isPlainObject(u)?le.merge.call({caseless:A},c,u):le.isPlainObject(u)?le.merge({},u):le.isArray(u)?u.slice():u}function i(c,u,d,A){if(le.isUndefined(u)){if(!le.isUndefined(c))return n(void 0,c,d,A)}else return n(c,u,d,A)}function s(c,u){if(!le.isUndefined(u))return n(void 0,u)}function a(c,u){if(le.isUndefined(u)){if(!le.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function o(c,u,d){if(d in e)return n(c,u);if(d in t)return n(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,u,d)=>i(QD(c),QD(u),d,!0)};return le.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,A=d(t[u],e[u],u);le.isUndefined(A)&&d!==o||(r[u]=A)}),r}const rq=t=>{const e=p0({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;e.headers=a=Ri.from(a),e.url=XK(tq(e.baseURL,e.url),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(le.isFormData(r)){if(Jn.hasStandardBrowserEnv||Jn.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Jn.hasStandardBrowserEnv&&(n&&le.isFunction(n)&&(n=n(e)),n||n!==!1&&Kce(e.url))){const c=i&&s&&qce.read(s);c&&a.set(i,c)}return e},Xce=typeof XMLHttpRequest<"u",Yce=Xce&&function(t){return new Promise(function(r,n){const i=rq(t);let s=i.data;const a=Ri.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=i,u,d,A,f,p;function m(){f&&f(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function g(){if(!v)return;const x=Ri.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:x,config:t,request:v};eq(function(B){r(B),m()},function(B){n(B),m()},w),v=null}"onloadend"in v?v.onloadend=g:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(g)},v.onabort=function(){v&&(n(new ut("Request aborted",ut.ECONNABORTED,t,v)),v=null)},v.onerror=function(){n(new ut("Network Error",ut.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const w=i.transitional||YK;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new ut(b,w.clarifyTimeoutError?ut.ETIMEDOUT:ut.ECONNABORTED,t,v)),v=null},s===void 0&&a.setContentType(null),"setRequestHeader"in v&&le.forEach(a.toJSON(),function(b,w){v.setRequestHeader(w,b)}),le.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),o&&o!=="json"&&(v.responseType=i.responseType),c&&([A,p]=ub(c,!0),v.addEventListener("progress",A)),l&&v.upload&&([d,f]=ub(l),v.upload.addEventListener("progress",d),v.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(u=x=>{v&&(n(!x||x.type?new Af(null,t,v):x),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const y=Hce(i.url);if(y&&Jn.protocols.indexOf(y)===-1){n(new ut("Unsupported protocol "+y+":",ut.ERR_BAD_REQUEST,t));return}v.send(s||null)})},Jce=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(c){if(!i){i=!0,o();const u=c instanceof Error?c:this.reason;n.abort(u instanceof ut?u:new Af(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,s(new ut(`timeout ${e} of ms exceeded`,ut.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>le.asap(o),l}},Zce=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},eue=async function*(t,e){for await(const r of tue(t))yield*Zce(r,e)},tue=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},zD=(t,e,r,n)=>{const i=eue(t,e);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){o(),l.close();return}let d=u.byteLength;if(r){let A=s+=d;r(A)}l.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},mw=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",nq=mw&&typeof ReadableStream=="function",rue=mw&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),iq=(t,...e)=>{try{return!!t(...e)}catch{return!1}},nue=nq&&iq(()=>{let t=!1;const e=new Request(Jn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),HD=64*1024,T9=nq&&iq(()=>le.isReadableStream(new Response("").body)),db={stream:T9&&(t=>t.body)};mw&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!db[e]&&(db[e]=le.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new ut(`Response type '${e}' is not supported`,ut.ERR_NOT_SUPPORT,n)})})})(new Response);const iue=async t=>{if(t==null)return 0;if(le.isBlob(t))return t.size;if(le.isSpecCompliantForm(t))return(await new Request(Jn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(le.isArrayBufferView(t)||le.isArrayBuffer(t))return t.byteLength;if(le.isURLSearchParams(t)&&(t=t+""),le.isString(t))return(await rue(t)).byteLength},sue=async(t,e)=>{const r=le.toFiniteNumber(t.getContentLength());return r??iue(e)},aue=mw&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:A}=rq(t);c=c?(c+"").toLowerCase():"text";let f=Jce([i,s&&s.toAbortSignal()],a),p;const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let v;try{if(l&&nue&&r!=="get"&&r!=="head"&&(v=await sue(u,n))!==0){let w=new Request(e,{method:"POST",body:n,duplex:"half"}),C;if(le.isFormData(n)&&(C=w.headers.get("content-type"))&&u.setContentType(C),w.body){const[B,S]=UD(v,ub(RD(l)));n=zD(w.body,HD,B,S)}}le.isString(d)||(d=d?"include":"omit");const g="credentials"in Request.prototype;p=new Request(e,{...A,signal:f,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:g?d:void 0});let y=await fetch(p);const x=T9&&(c==="stream"||c==="response");if(T9&&(o||x&&m)){const w={};["status","statusText","headers"].forEach(E=>{w[E]=y[E]});const C=le.toFiniteNumber(y.headers.get("content-length")),[B,S]=o&&UD(C,ub(RD(o),!0))||[];y=new Response(zD(y.body,HD,B,()=>{S&&S(),m&&m()}),w)}c=c||"text";let b=await db[le.findKey(db,c)||"text"](y,t);return!x&&m&&m(),await new Promise((w,C)=>{eq(w,C,{data:b,headers:Ri.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:p})})}catch(g){throw m&&m(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new ut("Network Error",ut.ERR_NETWORK,t,p),{cause:g.cause||g}):ut.from(g,g&&g.code,t,p)}}),D9={http:bce,xhr:Yce,fetch:aue};le.forEach(D9,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const $D=t=>`- ${t}`,oue=t=>le.isFunction(t)||t===null||t===!1,sq={getAdapter:t=>{t=le.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let s=0;s<e;s++){r=t[s];let a;if(n=r,!oue(r)&&(n=D9[(a=String(r)).toLowerCase()],n===void 0))throw new ut(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+s]=n}if(!n){const s=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map($D).join(`
`):" "+$D(s[0]):"as no adapter specified";throw new ut("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:D9};function B6(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Af(null,t)}function VD(t){return B6(t),t.headers=Ri.from(t.headers),t.data=C6.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),sq.getAdapter(t.adapter||y1.adapter)(t).then(function(n){return B6(t),n.data=C6.call(t,t.transformResponse,n),n.headers=Ri.from(n.headers),n},function(n){return ZK(n)||(B6(t),n&&n.response&&(n.response.data=C6.call(t,t.transformResponse,n.response),n.response.headers=Ri.from(n.response.headers))),Promise.reject(n)})}const aq="1.7.9",gw={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{gw[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const KD={};gw.transitional=function(e,r,n){function i(s,a){return"[Axios v"+aq+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new ut(i(a," has been removed"+(r?" in "+r:"")),ut.ERR_DEPRECATED);return r&&!KD[a]&&(KD[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};gw.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function lue(t,e,r){if(typeof t!="object")throw new ut("options must be an object",ut.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new ut("option "+s+" must be "+l,ut.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ut("Unknown option "+s,ut.ERR_BAD_OPTION)}}const _4={assertOptions:lue,validators:gw},$a=_4.validators;class Jd{constructor(e){this.defaults=e,this.interceptors={request:new OD,response:new OD}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=p0(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&_4.assertOptions(n,{silentJSONParsing:$a.transitional($a.boolean),forcedJSONParsing:$a.transitional($a.boolean),clarifyTimeoutError:$a.transitional($a.boolean)},!1),i!=null&&(le.isFunction(i)?r.paramsSerializer={serialize:i}:_4.assertOptions(i,{encode:$a.function,serialize:$a.function},!0)),_4.assertOptions(r,{baseUrl:$a.spelling("baseURL"),withXsrfToken:$a.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&le.merge(s.common,s[r.method]);s&&le.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=Ri.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(l=l&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,A;if(!l){const p=[VD.bind(this),void 0];for(p.unshift.apply(p,o),p.push.apply(p,c),A=p.length,u=Promise.resolve(r);d<A;)u=u.then(p[d++],p[d++]);return u}A=o.length;let f=r;for(d=0;d<A;){const p=o[d++],m=o[d++];try{f=p(f)}catch(v){m.call(this,v);break}}try{u=VD.call(this,f)}catch(p){return Promise.reject(p)}for(d=0,A=c.length;d<A;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=p0(this.defaults,e);const r=tq(e.baseURL,e.url);return XK(r,e.params,e.paramsSerializer)}}le.forEach(["delete","get","head","options"],function(e){Jd.prototype[e]=function(r,n){return this.request(p0(n||{},{method:e,url:r,data:(n||{}).data}))}});le.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(p0(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Jd.prototype[e]=r(),Jd.prototype[e+"Form"]=r(!0)});class Vk{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new Af(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Vk(function(i){e=i}),cancel:e}}}function cue(t){return function(r){return t.apply(null,r)}}function uue(t){return le.isObject(t)&&t.isAxiosError===!0}const L9={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(L9).forEach(([t,e])=>{L9[e]=t});function oq(t){const e=new Jd(t),r=PK(Jd.prototype.request,e);return le.extend(r,Jd.prototype,e,{allOwnKeys:!0}),le.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return oq(p0(t,i))},r}const kt=oq(y1);kt.Axios=Jd;kt.CanceledError=Af;kt.CancelToken=Vk;kt.isCancel=ZK;kt.VERSION=aq;kt.toFormData=pw;kt.AxiosError=ut;kt.Cancel=kt.CanceledError;kt.all=function(e){return Promise.all(e)};kt.spread=cue;kt.isAxiosError=uue;kt.mergeConfig=p0;kt.AxiosHeaders=Ri;kt.formToJSON=t=>JK(le.isHTMLForm(t)?new FormData(t):t);kt.getAdapter=sq.getAdapter;kt.HttpStatusCode=L9;kt.default=kt;const Ut="https://staging.tooty.ai/backend";localStorage.getItem("accessToken");const k4=["gpt-3.5-turbo","gpt-4o-mini","o1-mini","gpt-4-turbo","gpt-4-turbo-preview"],bg=async(t,e,r,n,i)=>{var s,a;try{return await t(r,e,{headers:n})}catch(o){if(((a=(s=o.response)==null?void 0:s.data)==null?void 0:a.statusCode)===4001)try{const l=await due(),c={...n,token:l};return await t(r,e,{headers:c})}catch(l){return console.error("Token refresh failed:",l),await hue(i),l}else return o}},due=async()=>{var r,n;const t=localStorage.getItem("refreshToken");if(!t)throw new Error("No refresh token available");const e=await kt.post(`${Ut}/auth/refresh-access-token`,{refresh_token:t},{headers:{"Content-Type":"application/json",token:t}});if(((r=e==null?void 0:e.data)==null?void 0:r.statusCode)===200)return localStorage.setItem("accessToken",(n=e==null?void 0:e.data)==null?void 0:n.accessToken),e==null?void 0:e.data.accessToken;throw new Error("Token refresh failed")},hue=async t=>{try{await kt.post(`${Ut}/auth/logout`,{refresh_token:`${localStorage.getItem("refreshToken")}`}),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),t(setAuthenticated(!1))}catch(e){console.error("Logout failed:",e)}};class lq{static async UserLogout(e){console.log(e);const r=await kt.post(`${Ut}/auth/logout`,e,{Headers:{"Content-Type":"applicaiton/json"},headers:{token:localStorage.getItem("accessToken")}});return console.log("res logout",r),r}static async UpdateAvatar(e,r){const n={"Content-Type":"multipart/form-data",token:localStorage.getItem("accessToken")};return bg((i,s,a)=>kt.put(i,s,a),e,`${Ut}/auth/update-avatar`,n,r)}}var cq={exports:{}},uq={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1=_;function Aue(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fue=typeof Object.is=="function"?Object.is:Aue,pue=v1.useSyncExternalStore,mue=v1.useRef,gue=v1.useEffect,yue=v1.useMemo,vue=v1.useDebugValue;uq.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=mue(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=yue(function(){function l(f){if(!c){if(c=!0,u=f,f=n(f),i!==void 0&&a.hasValue){var p=a.value;if(i(p,f))return d=p}return d=f}if(p=d,fue(u,f))return p;var m=n(f);return i!==void 0&&i(p,m)?(u=f,p):(u=f,d=m)}var c=!1,u,d,A=r===void 0?null:r;return[function(){return l(e())},A===null?void 0:function(){return l(A())}]},[e,r,n,i]);var o=pue(t,s[0],s[1]);return gue(function(){a.hasValue=!0,a.value=o},[o]),vue(o),o};cq.exports=uq;var xue=cq.exports;function dq(t){t()}function bue(){let t=null,e=null;return{clear(){t=null,e=null},notify(){dq(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var qD={notify(){},get:()=>[]};function wue(t,e){let r,n=qD,i=0,s=!1;function a(m){u();const v=n.subscribe(m);let g=!1;return()=>{g||(g=!0,v(),d())}}function o(){n.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return s}function u(){i++,r||(r=t.subscribe(l),n=bue())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=qD)}function A(){s||(s=!0,u())}function f(){s&&(s=!1,d())}const p={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:A,tryUnsubscribe:f,getListeners:()=>n};return p}var Cue=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bue=Cue(),Sue=()=>typeof navigator<"u"&&navigator.product==="ReactNative",_ue=Sue(),kue=()=>Bue||_ue?_.useLayoutEffect:_.useEffect,Eue=kue();function WD(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function ym(t,e){if(WD(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!WD(t[r[i]],e[r[i]]))return!1;return!0}var S6=Symbol.for("react-redux-context"),_6=typeof globalThis<"u"?globalThis:{};function Mue(){if(!_.createContext)return{};const t=_6[S6]??(_6[S6]=new Map);let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var yu=Mue();function Fue(t){const{children:e,context:r,serverState:n,store:i}=t,s=_.useMemo(()=>{const l=wue(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),a=_.useMemo(()=>i.getState(),[i]);Eue(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=r||yu;return _.createElement(o.Provider,{value:s},e)}var Tue=Fue;function Kk(t=yu){return function(){return _.useContext(t)}}var hq=Kk();function Aq(t=yu){const e=t===yu?hq:Kk(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var fq=Aq();function Due(t=yu){const e=t===yu?fq:Aq(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var F0=Due(),Lue=(t,e)=>t===e;function Nue(t=yu){const e=t===yu?hq:Kk(t),r=(n,i={})=>{const{equalityFn:s=Lue}=typeof i=="function"?{equalityFn:i}:i,a=e(),{store:o,subscription:l,getServerState:c}=a;_.useRef(!0);const u=_.useCallback({[n.name](A){return n(A)}}[n.name],[n]),d=xue.useSyncExternalStoreWithSelector(l.addNestedSub,o.getState,c||o.getState,u,s);return _.useDebugValue(d),d};return Object.assign(r,{withTypes:()=>r}),r}var vu=Nue(),jue=dq;function kn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Iue=typeof Symbol=="function"&&Symbol.observable||"@@observable",GD=Iue,k6=()=>Math.random().toString(36).substring(7).split("").join("."),Oue={INIT:`@@redux/INIT${k6()}`,REPLACE:`@@redux/REPLACE${k6()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${k6()}`},hb=Oue;function Eo(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function pq(t,e,r){if(typeof t!="function")throw new Error(kn(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(kn(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(kn(1));return r(pq)(t,e)}let n=t,i=e,s=new Map,a=s,o=0,l=!1;function c(){a===s&&(a=new Map,s.forEach((v,g)=>{a.set(g,v)}))}function u(){if(l)throw new Error(kn(3));return i}function d(v){if(typeof v!="function")throw new Error(kn(4));if(l)throw new Error(kn(5));let g=!0;c();const y=o++;return a.set(y,v),function(){if(g){if(l)throw new Error(kn(6));g=!1,c(),a.delete(y),s=null}}}function A(v){if(!Eo(v))throw new Error(kn(7));if(typeof v.type>"u")throw new Error(kn(8));if(typeof v.type!="string")throw new Error(kn(17));if(l)throw new Error(kn(9));try{l=!0,i=n(i,v)}finally{l=!1}return(s=a).forEach(y=>{y()}),v}function f(v){if(typeof v!="function")throw new Error(kn(10));n=v,A({type:hb.REPLACE})}function p(){const v=d;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(kn(11));function y(){const b=g;b.next&&b.next(u())}return y(),{unsubscribe:v(y)}},[GD](){return this}}}return A({type:hb.INIT}),{dispatch:A,subscribe:d,getState:u,replaceReducer:f,[GD]:p}}function Pue(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:hb.INIT})>"u")throw new Error(kn(12));if(typeof r(void 0,{type:hb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(kn(13))})}function mq(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(r[a]=t[a])}const n=Object.keys(r);let i;try{Pue(r)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const c={};for(let u=0;u<n.length;u++){const d=n[u],A=r[d],f=a[d],p=A(f,o);if(typeof p>"u")throw o&&o.type,new Error(kn(14));c[d]=p,l=l||p!==f}return l=l||n.length!==Object.keys(a).length,l?c:a}}function Ab(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function Uue(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(kn(15))};const a={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},o=t.map(l=>l(a));return s=Ab(...o)(i.dispatch),{...i,dispatch:s}}}function gq(t){return Eo(t)&&"type"in t&&typeof t.type=="string"}var qk=Symbol.for("immer-nothing"),vm=Symbol.for("immer-draftable"),Ki=Symbol.for("immer-state");function Dn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var m0=Object.getPrototypeOf;function Mo(t){return!!t&&!!t[Ki]}function Oa(t){var e;return t?yq(t)||Array.isArray(t)||!!t[vm]||!!((e=t.constructor)!=null&&e[vm])||x1(t)||b1(t):!1}var Rue=Object.prototype.constructor.toString();function yq(t){if(!t||typeof t!="object")return!1;const e=m0(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Rue}function Que(t){return Mo(t)||Dn(15,t),t[Ki].base_}function wg(t,e){g0(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function g0(t){const e=t[Ki];return e?e.type_:Array.isArray(t)?1:x1(t)?2:b1(t)?3:0}function Cg(t,e){return g0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function E6(t,e){return g0(t)===2?t.get(e):t[e]}function vq(t,e,r){const n=g0(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function zue(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function x1(t){return t instanceof Map}function b1(t){return t instanceof Set}function bd(t){return t.copy_||t.base_}function N9(t,e){if(x1(t))return new Map(t);if(b1(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=yq(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Ki];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(m0(t),n)}else{const n=m0(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function Wk(t,e=!1){return yw(t)||Mo(t)||!Oa(t)||(g0(t)>1&&(t.set=t.add=t.clear=t.delete=Hue),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>Wk(n,!0))),t}function Hue(){Dn(2)}function yw(t){return Object.isFrozen(t)}var j9={};function y0(t){const e=j9[t];return e||Dn(0,t),e}function $ue(t,e){j9[t]||(j9[t]=e)}var Bg;function xq(){return Bg}function Vue(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function XD(t,e){e&&(y0("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function I9(t){O9(t),t.drafts_.forEach(Kue),t.drafts_=null}function O9(t){t===Bg&&(Bg=t.parent_)}function YD(t){return Bg=Vue(Bg,t)}function Kue(t){const e=t[Ki];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function JD(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Ki].modified_&&(I9(e),Dn(4)),Oa(t)&&(t=fb(e,t),e.parent_||pb(e,t)),e.patches_&&y0("Patches").generateReplacementPatches_(r[Ki].base_,t,e.patches_,e.inversePatches_)):t=fb(e,r,[]),I9(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==qk?t:void 0}function fb(t,e,r){if(yw(e))return e;const n=e[Ki];if(!n)return wg(e,(i,s)=>ZD(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return pb(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),wg(s,(o,l)=>ZD(t,n,i,o,l,r,a)),pb(t,i,!1),r&&t.patches_&&y0("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function ZD(t,e,r,n,i,s,a){if(Mo(i)){const o=s&&e&&e.type_!==3&&!Cg(e.assigned_,n)?s.concat(n):void 0,l=fb(t,i,o);if(vq(r,n,l),Mo(l))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Oa(i)&&!yw(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;fb(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&pb(t,i)}}function pb(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Wk(e,r)}function que(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:xq(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=Gk;r&&(i=[n],s=Sg);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var Gk={get(t,e){if(e===Ki)return t;const r=bd(t);if(!Cg(r,e))return Wue(t,r,e);const n=r[e];return t.finalized_||!Oa(n)?n:n===M6(t.base_,e)?(F6(t),t.copy_[e]=U9(n,t)):n},has(t,e){return e in bd(t)},ownKeys(t){return Reflect.ownKeys(bd(t))},set(t,e,r){const n=bq(bd(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=M6(bd(t),e),s=i==null?void 0:i[Ki];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(zue(r,i)&&(r!==void 0||Cg(t.base_,e)))return!0;F6(t),P9(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return M6(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,F6(t),P9(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=bd(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Dn(11)},getPrototypeOf(t){return m0(t.base_)},setPrototypeOf(){Dn(12)}},Sg={};wg(Gk,(t,e)=>{Sg[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Sg.deleteProperty=function(t,e){return Sg.set.call(this,t,e,void 0)};Sg.set=function(t,e,r){return Gk.set.call(this,t[0],e,r,t[0])};function M6(t,e){const r=t[Ki];return(r?bd(r):t)[e]}function Wue(t,e,r){var i;const n=bq(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function bq(t,e){if(!(e in t))return;let r=m0(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=m0(r)}}function P9(t){t.modified_||(t.modified_=!0,t.parent_&&P9(t.parent_))}function F6(t){t.copy_||(t.copy_=N9(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Gue=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(l=s,...c){return a.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&Dn(6),n!==void 0&&typeof n!="function"&&Dn(7);let i;if(Oa(e)){const s=YD(this),a=U9(e,void 0);let o=!0;try{i=r(a),o=!1}finally{o?I9(s):O9(s)}return XD(s,n),JD(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===qk&&(i=void 0),this.autoFreeze_&&Wk(i,!0),n){const s=[],a=[];y0("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else Dn(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let n,i;return[this.produce(e,r,(a,o)=>{n=a,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Oa(t)||Dn(8),Mo(t)&&(t=Xue(t));const e=YD(this),r=U9(t,void 0);return r[Ki].isManual_=!0,O9(e),r}finishDraft(t,e){const r=t&&t[Ki];(!r||!r.isManual_)&&Dn(9);const{scope_:n}=r;return XD(n,e),JD(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=y0("Patches").applyPatches_;return Mo(t)?n(t,e):this.produce(t,i=>n(i,e))}};function U9(t,e){const r=x1(t)?y0("MapSet").proxyMap_(t,e):b1(t)?y0("MapSet").proxySet_(t,e):que(t,e);return(e?e.scope_:xq()).drafts_.push(r),r}function Xue(t){return Mo(t)||Dn(10,t),wq(t)}function wq(t){if(!Oa(t)||yw(t))return t;const e=t[Ki];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=N9(t,e.scope_.immer_.useStrictShallowCopy_)}else r=N9(t,!0);return wg(r,(n,i)=>{vq(r,n,wq(i))}),e&&(e.finalized_=!1),r}function Yue(){const e="replace",r="add",n="remove";function i(A,f,p,m){switch(A.type_){case 0:case 2:return a(A,f,p,m);case 1:return s(A,f,p,m);case 3:return o(A,f,p,m)}}function s(A,f,p,m){let{base_:v,assigned_:g}=A,y=A.copy_;y.length<v.length&&([v,y]=[y,v],[p,m]=[m,p]);for(let x=0;x<v.length;x++)if(g[x]&&y[x]!==v[x]){const b=f.concat([x]);p.push({op:e,path:b,value:d(y[x])}),m.push({op:e,path:b,value:d(v[x])})}for(let x=v.length;x<y.length;x++){const b=f.concat([x]);p.push({op:r,path:b,value:d(y[x])})}for(let x=y.length-1;v.length<=x;--x){const b=f.concat([x]);m.push({op:n,path:b})}}function a(A,f,p,m){const{base_:v,copy_:g}=A;wg(A.assigned_,(y,x)=>{const b=E6(v,y),w=E6(g,y),C=x?Cg(v,y)?e:r:n;if(b===w&&C===e)return;const B=f.concat(y);p.push(C===n?{op:C,path:B}:{op:C,path:B,value:w}),m.push(C===r?{op:n,path:B}:C===n?{op:r,path:B,value:d(b)}:{op:e,path:B,value:d(b)})})}function o(A,f,p,m){let{base_:v,copy_:g}=A,y=0;v.forEach(x=>{if(!g.has(x)){const b=f.concat([y]);p.push({op:n,path:b,value:x}),m.unshift({op:r,path:b,value:x})}y++}),y=0,g.forEach(x=>{if(!v.has(x)){const b=f.concat([y]);p.push({op:r,path:b,value:x}),m.unshift({op:n,path:b,value:x})}y++})}function l(A,f,p,m){p.push({op:e,path:[],value:f===qk?void 0:f}),m.push({op:e,path:[],value:A})}function c(A,f){return f.forEach(p=>{const{path:m,op:v}=p;let g=A;for(let w=0;w<m.length-1;w++){const C=g0(g);let B=m[w];typeof B!="string"&&typeof B!="number"&&(B=""+B),(C===0||C===1)&&(B==="__proto__"||B==="constructor")&&Dn(19),typeof g=="function"&&B==="prototype"&&Dn(19),g=E6(g,B),typeof g!="object"&&Dn(18,m.join("/"))}const y=g0(g),x=u(p.value),b=m[m.length-1];switch(v){case e:switch(y){case 2:return g.set(b,x);case 3:Dn(16);default:return g[b]=x}case r:switch(y){case 1:return b==="-"?g.push(x):g.splice(b,0,x);case 2:return g.set(b,x);case 3:return g.add(x);default:return g[b]=x}case n:switch(y){case 1:return g.splice(b,1);case 2:return g.delete(b);case 3:return g.delete(p.value);default:return delete g[b]}default:Dn(17,v)}}),A}function u(A){if(!Oa(A))return A;if(Array.isArray(A))return A.map(u);if(x1(A))return new Map(Array.from(A.entries()).map(([p,m])=>[p,u(m)]));if(b1(A))return new Set(Array.from(A).map(u));const f=Object.create(m0(A));for(const p in A)f[p]=u(A[p]);return Cg(A,vm)&&(f[vm]=A[vm]),f}function d(A){return Mo(A)?u(A):A}$ue("Patches",{applyPatches_:c,generatePatches_:i,generateReplacementPatches_:l})}var bs=new Gue,w1=bs.produce,Cq=bs.produceWithPatches.bind(bs);bs.setAutoFreeze.bind(bs);bs.setUseStrictShallowCopy.bind(bs);var eL=bs.applyPatches.bind(bs);bs.createDraft.bind(bs);bs.finishDraft.bind(bs);function Jue(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Zue(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function ede(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var tL=t=>Array.isArray(t)?t:[t];function tde(t){const e=Array.isArray(t[0])?t[0]:t;return ede(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function rde(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var nde=class{constructor(t){this.value=t}deref(){return this.value}},ide=typeof WeakRef<"u"?WeakRef:nde,sde=0,rL=1;function v2(){return{s:sde,v:void 0,o:null,p:null}}function mb(t,e={}){let r=v2();const{resultEqualityCheck:n}=e;let i,s=0;function a(){var d;let o=r;const{length:l}=arguments;for(let A=0,f=l;A<f;A++){const p=arguments[A];if(typeof p=="function"||typeof p=="object"&&p!==null){let m=o.o;m===null&&(o.o=m=new WeakMap);const v=m.get(p);v===void 0?(o=v2(),m.set(p,o)):o=v}else{let m=o.p;m===null&&(o.p=m=new Map);const v=m.get(p);v===void 0?(o=v2(),m.set(p,o)):o=v}}const c=o;let u;if(o.s===rL)u=o.v;else if(u=t.apply(null,arguments),s++,n){const A=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;A!=null&&n(A,u)&&(u=A,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new ide(u):u}return c.s=rL,c.v=u,u}return a.clearCache=()=>{r=v2(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function ade(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),Jue(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:d,memoizeOptions:A=[],argsMemoize:f=mb,argsMemoizeOptions:p=[],devModeChecks:m={}}=u,v=tL(A),g=tL(p),y=tde(i),x=d(function(){return s++,c.apply(null,arguments)},...v),b=f(function(){a++;const C=rde(y,arguments);return o=x.apply(null,C),o},...g);return Object.assign(b,{resultFunc:c,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:f})};return Object.assign(n,{withTypes:()=>n}),n}var Xk=ade(mb),ode=Object.assign((t,e=Xk)=>{Zue(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,o,l)=>(a[r[l]]=o,a),{}))},{withTypes:()=>ode});function Bq(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var lde=Bq(),cde=Bq,ude=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ab:Ab.apply(null,arguments)},dde=t=>t&&typeof t.match=="function";function Fa(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Ta(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>gq(n)&&n.type===t,r}var Sq=class Up extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Up.prototype)}static get[Symbol.species](){return Up}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Up(...e[0].concat(this)):new Up(...e.concat(this))}};function nL(t){return Oa(t)?w1(t,()=>{}):t}function iL(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function hde(t){return typeof t=="boolean"}var Ade=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new Sq;return r&&(hde(r)?a.push(lde):a.push(cde(r.extraArgument))),a},zd="RTK_autoBatch",Hf=()=>t=>({payload:t,meta:{[zd]:!0}}),sL=t=>e=>{setTimeout(e,t)},fde=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,a=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:sL(10):t.type==="callback"?t.queueNotification:sL(t.timeout),c=()=>{a=!1,s&&(s=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const d=()=>i&&u(),A=n.subscribe(d);return o.add(u),()=>{A(),o.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[zd]),s=!i,s&&(a||(a=!0,l(c))),n.dispatch(u)}finally{i=!0}}})},pde=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new Sq(t);return n&&i.push(fde(typeof n=="object"?n:void 0)),i};function mde(t){const e=Ade(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t;let o;if(typeof r=="function")o=r;else if(Eo(r))o=mq(r);else throw new Error(Ta(1));let l;typeof n=="function"?l=n(e):l=e();let c=Ab;i&&(c=ude({trace:!1,...typeof i=="object"&&i}));const u=Uue(...l),d=pde(u);let A=typeof a=="function"?a(d):d();const f=c(...A);return pq(o,s,f)}function _q(t){const e={},r=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Ta(28));if(o in e)throw new Error(Ta(29));return e[o]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function gde(t){return typeof t=="function"}function yde(t,e){let[r,n,i]=_q(e),s;if(gde(t))s=()=>nL(t());else{const o=nL(t);s=()=>o}function a(o=s(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(Mo(u)){const f=d(u,l);return f===void 0?u:f}else{if(Oa(u))return w1(u,A=>d(A,l));{const A=d(u,l);if(A===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return A}}return u},o)}return a.getInitialState=s,a}var kq=(t,e)=>dde(t)?t.match(e):t(e);function Nl(...t){return e=>t.some(r=>kq(r,e))}function xm(...t){return e=>t.every(r=>kq(r,e))}function vw(t,e){if(!t||!t.meta)return!1;const r=typeof t.meta.requestId=="string",n=e.indexOf(t.meta.requestStatus)>-1;return r&&n}function C1(t){return typeof t[0]=="function"&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function Yk(...t){return t.length===0?e=>vw(e,["pending"]):C1(t)?Nl(...t.map(e=>e.pending)):Yk()(t[0])}function QA(...t){return t.length===0?e=>vw(e,["rejected"]):C1(t)?Nl(...t.map(e=>e.rejected)):QA()(t[0])}function xw(...t){const e=r=>r&&r.meta&&r.meta.rejectedWithValue;return t.length===0?xm(QA(...t),e):C1(t)?xm(QA(...t),e):xw()(t[0])}function xu(...t){return t.length===0?e=>vw(e,["fulfilled"]):C1(t)?Nl(...t.map(e=>e.fulfilled)):xu()(t[0])}function R9(...t){return t.length===0?e=>vw(e,["pending","fulfilled","rejected"]):C1(t)?Nl(...t.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):R9()(t[0])}var vde="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Jk=(t=21)=>{let e="",r=t;for(;r--;)e+=vde[Math.random()*64|0];return e},xde=["name","message","stack","code"],T6=class{constructor(t,e){_e(this,"_type");this.payload=t,this.meta=e}},aL=class{constructor(t,e){_e(this,"_type");this.payload=t,this.meta=e}},bde=t=>{if(typeof t=="object"&&t!==null){const e={};for(const r of xde)typeof t[r]=="string"&&(e[r]=t[r]);return e}return{message:String(t)}},oL=(()=>{function t(e,r,n){const i=Fa(e+"/fulfilled",(l,c,u,d)=>({payload:l,meta:{...d||{},arg:u,requestId:c,requestStatus:"fulfilled"}})),s=Fa(e+"/pending",(l,c,u)=>({payload:void 0,meta:{...u||{},arg:c,requestId:l,requestStatus:"pending"}})),a=Fa(e+"/rejected",(l,c,u,d,A)=>({payload:d,error:(n&&n.serializeError||bde)(l||"Rejected"),meta:{...A||{},arg:u,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function o(l){return(c,u,d)=>{const A=n!=null&&n.idGenerator?n.idGenerator(l):Jk(),f=new AbortController;let p,m;function v(y){m=y,f.abort()}const g=async function(){var b,w;let y;try{let C=(b=n==null?void 0:n.condition)==null?void 0:b.call(n,l,{getState:u,extra:d});if(Cde(C)&&(C=await C),C===!1||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const B=new Promise((S,E)=>{p=()=>{E({name:"AbortError",message:m||"Aborted"})},f.signal.addEventListener("abort",p)});c(s(A,l,(w=n==null?void 0:n.getPendingMeta)==null?void 0:w.call(n,{requestId:A,arg:l},{getState:u,extra:d}))),y=await Promise.race([B,Promise.resolve(r(l,{dispatch:c,getState:u,extra:d,requestId:A,signal:f.signal,abort:v,rejectWithValue:(S,E)=>new T6(S,E),fulfillWithValue:(S,E)=>new aL(S,E)})).then(S=>{if(S instanceof T6)throw S;return S instanceof aL?i(S.payload,A,l,S.meta):i(S,A,l)})])}catch(C){y=C instanceof T6?a(null,A,l,C.payload,C.meta):a(C,A,l)}finally{p&&f.signal.removeEventListener("abort",p)}return n&&!n.dispatchConditionRejection&&a.match(y)&&y.meta.condition||c(y),y}();return Object.assign(g,{abort:v,requestId:A,arg:l,unwrap(){return g.then(wde)}})}}return Object.assign(o,{pending:s,rejected:a,fulfilled:i,settled:Nl(a,i),typePrefix:e})}return t.withTypes=()=>t,t})();function wde(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Cde(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Bde=Symbol.for("rtk-slice-createasyncthunk");function Sde(t,e){return`${t}/${e}`}function _de({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[Bde];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Ta(11));const o=(typeof i.reducers=="function"?i.reducers(Ede()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(x,b){const w=typeof x=="string"?x:x.type;if(!w)throw new Error(Ta(12));if(w in c.sliceCaseReducersByType)throw new Error(Ta(13));return c.sliceCaseReducersByType[w]=b,u},addMatcher(x,b){return c.sliceMatchers.push({matcher:x,reducer:b}),u},exposeAction(x,b){return c.actionCreators[x]=b,u},exposeCaseReducer(x,b){return c.sliceCaseReducersByName[x]=b,u}};l.forEach(x=>{const b=o[x],w={reducerName:x,type:Sde(s,x),createNotation:typeof i.reducers=="function"};Fde(b)?Dde(w,b,u,e):Mde(w,b,u)});function d(){const[x={},b=[],w=void 0]=typeof i.extraReducers=="function"?_q(i.extraReducers):[i.extraReducers],C={...x,...c.sliceCaseReducersByType};return yde(i.initialState,B=>{for(let S in C)B.addCase(S,C[S]);for(let S of c.sliceMatchers)B.addMatcher(S.matcher,S.reducer);for(let S of b)B.addMatcher(S.matcher,S.reducer);w&&B.addDefaultCase(w)})}const A=x=>x,f=new Map;let p;function m(x,b){return p||(p=d()),p(x,b)}function v(){return p||(p=d()),p.getInitialState()}function g(x,b=!1){function w(B){let S=B[x];return typeof S>"u"&&b&&(S=v()),S}function C(B=A){const S=iL(f,b,()=>new WeakMap);return iL(S,B,()=>{const E={};for(const[M,T]of Object.entries(i.selectors??{}))E[M]=kde(T,B,v,b);return E})}return{reducerPath:x,getSelectors:C,get selectors(){return C(w)},selectSlice:w}}const y={name:s,reducer:m,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...g(a),injectInto(x,{reducerPath:b,...w}={}){const C=b??a;return x.inject({reducerPath:C,reducer:m},w),{...y,...g(C,!0)}}};return y}}function kde(t,e,r,n){function i(s,...a){let o=e(s);return typeof o>"u"&&n&&(o=r()),t(o,...a)}return i.unwrapped=t,i}var wd=_de();function Ede(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function Mde({type:t,reducerName:e,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!Tde(n))throw new Error(Ta(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Fa(t,a):Fa(t))}function Fde(t){return t._reducerDefinitionType==="asyncThunk"}function Tde(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Dde({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Ta(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:c,options:u}=r,d=i(t,s,u);n.exposeAction(e,d),a&&n.addCase(d.fulfilled,a),o&&n.addCase(d.pending,o),l&&n.addCase(d.rejected,l),c&&n.addMatcher(d.settled,c),n.exposeCaseReducer(e,{fulfilled:a||x2,pending:o||x2,rejected:l||x2,settled:c||x2})}function x2(){}function Ta(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const Lde={isAuthenticated:!1,avatar_url:""},Eq=wd({name:"auth",initialState:Lde,reducers:{setAuthenticated:(t,e)=>{t.isAuthenticated=e.payload},setAvatar:(t,e)=>{t.avatar_url=e.payload}}}),{setAuthenticated:E4,setAvatar:b2}=Eq.actions,Mq=_.createContext(null),Nde=({children:t})=>{const e=F0(),r=vu(p=>p.auth.isAuthenticated),n=vu(p=>p.auth.avatar_url),[i,s]=_.useState(null),[a,o]=_.useState(!0),[l,c]=_.useState({accessToken:"",refreshToken:""});_.useEffect(()=>{const p=localStorage.getItem("accessToken"),m=localStorage.getItem("refreshToken"),v=localStorage.getItem("user");if(p&&v&&m)try{const g=JSON.parse(v);e(E4(!0)),e(b2(g==null?void 0:g.user_image_url)),s(g),c({accessToken:p,refreshToken:m})}catch{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user")}o(!1)},[e]);const u=p=>{p!=null&&p.accessToken&&(localStorage.setItem("accessToken",p.accessToken),c(m=>({...m,accessToken:p.accessToken})))},d=p=>{if(p!=null&&p.userAvatar){const m=JSON.parse(localStorage.getItem("user"));e(b2(p==null?void 0:p.userAvatar));const v={...m,user_image_url:p==null?void 0:p.userAvatar};console.log("user in update lcoa vatar",v),localStorage.setItem("user",JSON.stringify(v))}},A=p=>{var m;localStorage.setItem("accessToken",p.accessToken),localStorage.setItem("refreshToken",p.refreshToken),localStorage.setItem("user",JSON.stringify(p.user)),e(E4(!0)),e(b2((m=p==null?void 0:p.user)==null?void 0:m.user_image_url)),s(p.user),c({accessToken:p.accessToken,refreshToken:p.refreshToken}),o(!1)},f=async()=>{await lq.UserLogout({refresh_token:localStorage.getItem("refreshToken")}),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),e(E4(!1)),e(b2("")),s(null),c({accessToken:"",refreshToken:""}),o(!1)};return h.jsx(Mq.Provider,{value:{isAuthenticated:r,avatar_url:n,user:i,isLoading:a,tokens:l,login:A,logout:f,updateToken:u,updateAvatarLocal:d},children:t})},An=()=>{const t=_.useContext(Mq);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};function Fq(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=Fq(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Zd(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=Fq(t))&&(n&&(n+=" "),n+=e);return n}function jde(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}jde(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var B1=t=>typeof t=="number"&&!isNaN(t),v0=t=>typeof t=="string",jl=t=>typeof t=="function",Ide=t=>v0(t)||B1(t),Q9=t=>v0(t)||jl(t)?t:null,Ode=(t,e)=>t===!1||B1(t)&&t>0?t:e,z9=t=>_.isValidElement(t)||v0(t)||jl(t)||B1(t);function Pde(t,e,r=300){let{scrollHeight:n,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${r}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,r)})})}function Ude({enter:t,exit:e,appendPosition:r=!1,collapse:n=!0,collapseDuration:i=300}){return function({children:s,position:a,preventExitTransition:o,done:l,nodeRef:c,isIn:u,playToast:d}){let A=r?`${t}--${a}`:t,f=r?`${e}--${a}`:e,p=_.useRef(0);return _.useLayoutEffect(()=>{let m=c.current,v=A.split(" "),g=y=>{y.target===c.current&&(d(),m.removeEventListener("animationend",g),m.removeEventListener("animationcancel",g),p.current===0&&y.type!=="animationcancel"&&m.classList.remove(...v))};m.classList.add(...v),m.addEventListener("animationend",g),m.addEventListener("animationcancel",g)},[]),_.useEffect(()=>{let m=c.current,v=()=>{m.removeEventListener("animationend",v),n?Pde(m,l,i):l()};u||(o?v():(p.current=1,m.className+=` ${f}`,m.addEventListener("animationend",v)))},[u]),Pe.createElement(Pe.Fragment,null,s)}}function lL(t,e){return{content:Tq(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function Tq(t,e,r=!1){return _.isValidElement(t)&&!v0(t.type)?_.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:r}):jl(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:r}):t}function Rde({closeToast:t,theme:e,ariaLabel:r="close"}){return Pe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:n=>{n.stopPropagation(),t(!0)},"aria-label":r},Pe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Pe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Qde({delay:t,isRunning:e,closeToast:r,type:n="default",hide:i,className:s,controlledProgress:a,progress:o,rtl:l,isIn:c,theme:u}){let d=i||a&&o===0,A={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};a&&(A.transform=`scaleX(${o})`);let f=Zd("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":l}),p=jl(s)?s({rtl:l,type:n,defaultClassName:f}):Zd(f,s),m={[a&&o>=1?"onTransitionEnd":"onAnimationEnd"]:a&&o<1?null:()=>{c&&r()}};return Pe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":d},Pe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${n}`}),Pe.createElement("div",{role:"progressbar","aria-hidden":d?"true":"false","aria-label":"notification timer",className:p,style:A,...m}))}var zde=1,Dq=()=>`${zde++}`;function Hde(t,e,r){let n=1,i=0,s=[],a=[],o=e,l=new Map,c=new Set,u=y=>(c.add(y),()=>c.delete(y)),d=()=>{a=Array.from(l.values()),c.forEach(y=>y())},A=({containerId:y,toastId:x,updateId:b})=>{let w=y?y!==t:t!==1,C=l.has(x)&&b==null;return w||C},f=(y,x)=>{l.forEach(b=>{var w;(x==null||x===b.props.toastId)&&((w=b.toggle)==null||w.call(b,y))})},p=y=>{var x,b;(b=(x=y.props)==null?void 0:x.onClose)==null||b.call(x,y.removalReason),y.isActive=!1},m=y=>{if(y==null)l.forEach(p);else{let x=l.get(y);x&&p(x)}d()},v=()=>{i-=s.length,s=[]},g=y=>{var x,b;let{toastId:w,updateId:C}=y.props,B=C==null;y.staleId&&l.delete(y.staleId),y.isActive=!0,l.set(w,y),d(),r(lL(y,B?"added":"updated")),B&&((b=(x=y.props).onOpen)==null||b.call(x))};return{id:t,props:o,observe:u,toggle:f,removeToast:m,toasts:l,clearQueue:v,buildToast:(y,x)=>{if(A(x))return;let{toastId:b,updateId:w,data:C,staleId:B,delay:S}=x,E=w==null;E&&i++;let M={...o,style:o.toastStyle,key:n++,...Object.fromEntries(Object.entries(x).filter(([L,I])=>I!=null)),toastId:b,updateId:w,data:C,isIn:!1,className:Q9(x.className||o.toastClassName),progressClassName:Q9(x.progressClassName||o.progressClassName),autoClose:x.isLoading?!1:Ode(x.autoClose,o.autoClose),closeToast(L){l.get(b).removalReason=L,m(b)},deleteToast(){let L=l.get(b);if(L!=null){if(r(lL(L,"removed")),l.delete(b),i--,i<0&&(i=0),s.length>0){g(s.shift());return}d()}}};M.closeButton=o.closeButton,x.closeButton===!1||z9(x.closeButton)?M.closeButton=x.closeButton:x.closeButton===!0&&(M.closeButton=z9(o.closeButton)?o.closeButton:!0);let T={content:y,props:M,staleId:B};o.limit&&o.limit>0&&i>o.limit&&E?s.push(T):B1(S)?setTimeout(()=>{g(T)},S):g(T)},setProps(y){o=y},setToggle:(y,x)=>{let b=l.get(y);b&&(b.toggle=x)},isToastActive:y=>{var x;return(x=l.get(y))==null?void 0:x.isActive},getSnapshot:()=>a}}var pi=new Map,_g=[],H9=new Set,$de=t=>H9.forEach(e=>e(t)),Lq=()=>pi.size>0;function Vde(){_g.forEach(t=>jq(t.content,t.options)),_g=[]}var Kde=(t,{containerId:e})=>{var r;return(r=pi.get(e||1))==null?void 0:r.toasts.get(t)};function Nq(t,e){var r;if(e)return!!((r=pi.get(e))!=null&&r.isToastActive(t));let n=!1;return pi.forEach(i=>{i.isToastActive(t)&&(n=!0)}),n}function qde(t){if(!Lq()){_g=_g.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||Ide(t))pi.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=pi.get(t.containerId);e?e.removeToast(t.id):pi.forEach(r=>{r.removeToast(t.id)})}}var Wde=(t={})=>{pi.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function jq(t,e){z9(t)&&(Lq()||_g.push({content:t,options:e}),pi.forEach(r=>{r.buildToast(t,e)}))}function Gde(t){var e;(e=pi.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function Iq(t,e){pi.forEach(r=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===r.id)&&r.toggle(t,e==null?void 0:e.id)})}function Xde(t){let e=t.containerId||1;return{subscribe(r){let n=Hde(e,t,$de);pi.set(e,n);let i=n.observe(r);return Vde(),()=>{i(),pi.delete(e)}},setProps(r){var n;(n=pi.get(e))==null||n.setProps(r)},getSnapshot(){var r;return(r=pi.get(e))==null?void 0:r.getSnapshot()}}}function Yde(t){return H9.add(t),()=>{H9.delete(t)}}function Jde(t){return t&&(v0(t.toastId)||B1(t.toastId))?t.toastId:Dq()}function S1(t,e){return jq(t,e),e.toastId}function bw(t,e){return{...e,type:e&&e.type||t,toastId:Jde(e)}}function ww(t){return(e,r)=>S1(e,bw(t,r))}function Z(t,e){return S1(t,bw("default",e))}Z.loading=(t,e)=>S1(t,bw("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Zde(t,{pending:e,error:r,success:n},i){let s;e&&(s=v0(e)?Z.loading(e,i):Z.loading(e.render,{...i,...e}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(c,u,d)=>{if(u==null){Z.dismiss(s);return}let A={type:c,...a,...i,data:d},f=v0(u)?{render:u}:u;return s?Z.update(s,{...A,...f}):Z(f.render,{...A,...f}),d},l=jl(t)?t():t;return l.then(c=>o("success",n,c)).catch(c=>o("error",r,c)),l}Z.promise=Zde;Z.success=ww("success");Z.info=ww("info");Z.error=ww("error");Z.warning=ww("warning");Z.warn=Z.warning;Z.dark=(t,e)=>S1(t,bw("default",{theme:"dark",...e}));function e0e(t){qde(t)}Z.dismiss=e0e;Z.clearWaitingQueue=Wde;Z.isActive=Nq;Z.update=(t,e={})=>{let r=Kde(t,e);if(r){let{props:n,content:i}=r,s={delay:100,...n,...e,toastId:e.toastId||t,updateId:Dq()};s.toastId!==t&&(s.staleId=t);let a=s.render||i;delete s.render,S1(a,s)}};Z.done=t=>{Z.update(t,{progress:1})};Z.onChange=Yde;Z.play=t=>Iq(!0,t);Z.pause=t=>Iq(!1,t);function t0e(t){var e;let{subscribe:r,getSnapshot:n,setProps:i}=_.useRef(Xde(t)).current;i(t);let s=(e=_.useSyncExternalStore(r,n,n))==null?void 0:e.slice();function a(o){if(!s)return[];let l=new Map;return t.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:u}=c.props;l.has(u)||l.set(u,[]),l.get(u).push(c)}),Array.from(l,c=>o(c[0],c[1]))}return{getToastToRender:a,isToastActive:Nq,count:s==null?void 0:s.length}}function r0e(t){let[e,r]=_.useState(!1),[n,i]=_.useState(!1),s=_.useRef(null),a=_.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:d}=t;Gde({id:t.toastId,containerId:t.containerId,fn:r}),_.useEffect(()=>{if(t.pauseOnFocusLoss)return A(),()=>{f()}},[t.pauseOnFocusLoss]);function A(){document.hasFocus()||g(),window.addEventListener("focus",v),window.addEventListener("blur",g)}function f(){window.removeEventListener("focus",v),window.removeEventListener("blur",g)}function p(B){if(t.draggable===!0||t.draggable===B.pointerType){y();let S=s.current;a.canCloseOnClick=!0,a.canDrag=!0,S.style.transition="none",t.draggableDirection==="x"?(a.start=B.clientX,a.removalDistance=S.offsetWidth*(t.draggablePercent/100)):(a.start=B.clientY,a.removalDistance=S.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function m(B){let{top:S,bottom:E,left:M,right:T}=s.current.getBoundingClientRect();B.nativeEvent.type!=="touchend"&&t.pauseOnHover&&B.clientX>=M&&B.clientX<=T&&B.clientY>=S&&B.clientY<=E?g():v()}function v(){r(!0)}function g(){r(!1)}function y(){a.didMove=!1,document.addEventListener("pointermove",b),document.addEventListener("pointerup",w)}function x(){document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",w)}function b(B){let S=s.current;if(a.canDrag&&S){a.didMove=!0,e&&g(),t.draggableDirection==="x"?a.delta=B.clientX-a.start:a.delta=B.clientY-a.start,a.start!==B.clientX&&(a.canCloseOnClick=!1);let E=t.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;S.style.transform=`translate3d(${E},0)`,S.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function w(){x();let B=s.current;if(a.canDrag&&a.didMove&&B){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}B.style.transition="transform 0.2s, opacity 0.2s",B.style.removeProperty("transform"),B.style.removeProperty("opacity")}}let C={onPointerDown:p,onPointerUp:m};return o&&l&&(C.onMouseEnter=g,t.stacked||(C.onMouseLeave=v)),d&&(C.onClick=B=>{u&&u(B),a.canCloseOnClick&&c(!0)}),{playToast:v,pauseToast:g,isRunning:e,preventExitTransition:n,toastRef:s,eventHandlers:C}}var n0e=typeof window<"u"?_.useLayoutEffect:_.useEffect,Cw=({theme:t,type:e,isLoading:r,...n})=>Pe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...n});function i0e(t){return Pe.createElement(Cw,{...t},Pe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function s0e(t){return Pe.createElement(Cw,{...t},Pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function a0e(t){return Pe.createElement(Cw,{...t},Pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function o0e(t){return Pe.createElement(Cw,{...t},Pe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function l0e(){return Pe.createElement("div",{className:"Toastify__spinner"})}var $9={info:s0e,warning:i0e,success:a0e,error:o0e,spinner:l0e},c0e=t=>t in $9;function u0e({theme:t,type:e,isLoading:r,icon:n}){let i=null,s={theme:t,type:e};return n===!1||(jl(n)?i=n({...s,isLoading:r}):_.isValidElement(n)?i=_.cloneElement(n,s):r?i=$9.spinner():c0e(e)&&(i=$9[e](s))),i}var d0e=t=>{let{isRunning:e,preventExitTransition:r,toastRef:n,eventHandlers:i,playToast:s}=r0e(t),{closeButton:a,children:o,autoClose:l,onClick:c,type:u,hideProgressBar:d,closeToast:A,transition:f,position:p,className:m,style:v,progressClassName:g,updateId:y,role:x,progress:b,rtl:w,toastId:C,deleteToast:B,isIn:S,isLoading:E,closeOnClick:M,theme:T,ariaLabel:L}=t,I=Zd("Toastify__toast",`Toastify__toast-theme--${T}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":w},{"Toastify__toast--close-on-click":M}),R=jl(m)?m({rtl:w,position:p,type:u,defaultClassName:I}):Zd(I,m),z=u0e(t),W=!!b||!l,K={closeToast:A,type:u,theme:T},U=null;return a===!1||(jl(a)?U=a(K):_.isValidElement(a)?U=_.cloneElement(a,K):U=Rde(K)),Pe.createElement(f,{isIn:S,done:B,position:p,preventExitTransition:r,nodeRef:n,playToast:s},Pe.createElement("div",{id:C,tabIndex:0,onClick:c,"data-in":S,className:R,...i,style:v,ref:n,...S&&{role:x,"aria-label":L}},z!=null&&Pe.createElement("div",{className:Zd("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!E})},z),Tq(o,t,!e),U,!t.customProgressBar&&Pe.createElement(Qde,{...y&&!W?{key:`p-${y}`}:{},rtl:w,theme:T,delay:l,isRunning:e,isIn:S,closeToast:A,hide:d,type:u,className:g,controlledProgress:W,progress:b||0})))},h0e=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),A0e=Ude(h0e("bounce",!0)),f0e={position:"top-right",transition:A0e,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function p0e(t){let e={...f0e,...t},r=t.stacked,[n,i]=_.useState(!0),s=_.useRef(null),{getToastToRender:a,isToastActive:o,count:l}=t0e(e),{className:c,style:u,rtl:d,containerId:A,hotKeys:f}=e;function p(v){let g=Zd("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":d});return jl(c)?c({position:v,rtl:d,defaultClassName:g}):Zd(g,Q9(c))}function m(){r&&(i(!0),Z.play())}return n0e(()=>{var v;if(r){let g=s.current.querySelectorAll('[data-in="true"]'),y=12,x=(v=e.position)==null?void 0:v.includes("top"),b=0,w=0;Array.from(g).reverse().forEach((C,B)=>{let S=C;S.classList.add("Toastify__toast--stacked"),B>0&&(S.dataset.collapsed=`${n}`),S.dataset.pos||(S.dataset.pos=x?"top":"bot");let E=b*(n?.2:1)+(n?0:y*B);S.style.setProperty("--y",`${x?E:E*-1}px`),S.style.setProperty("--g",`${y}`),S.style.setProperty("--s",`${1-(n?w:0)}`),b+=S.offsetHeight,w+=.025})}},[n,l,r]),_.useEffect(()=>{function v(g){var y;let x=s.current;f(g)&&((y=x.querySelector('[tabIndex="0"]'))==null||y.focus(),i(!1),Z.pause()),g.key==="Escape"&&(document.activeElement===x||x!=null&&x.contains(document.activeElement))&&(i(!0),Z.play())}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[f]),Pe.createElement("section",{ref:s,className:"Toastify",id:A,onMouseEnter:()=>{r&&(i(!1),Z.pause())},onMouseLeave:m,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},a((v,g)=>{let y=g.length?{...u}:{...u,pointerEvents:"none"};return Pe.createElement("div",{tabIndex:-1,className:p(v),"data-stacked":r,style:y,key:`c-${v}`},g.map(({content:x,props:b})=>Pe.createElement(d0e,{...b,stacked:r,collapseAll:m,isIn:o(b.toastId,b.containerId),key:`t-${b.key}`},x)))}))}const T0="/assets/tooty-new-logo-CILz-_WG.svg",m0e="/assets/sign_in-CjgmJBQl.png";var Oq=(t=>(t.uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected",t))(Oq||{});function g0e(t){return{status:t,isUninitialized:t==="uninitialized",isLoading:t==="pending",isSuccess:t==="fulfilled",isError:t==="rejected"}}var cL=Eo;function Pq(t,e){if(t===e||!(cL(t)&&cL(e)||Array.isArray(t)&&Array.isArray(e)))return e;const r=Object.keys(e),n=Object.keys(t);let i=r.length===n.length;const s=Array.isArray(e)?[]:{};for(const a of r)s[a]=Pq(t[a],e[a]),i&&(i=t[a]===s[a]);return i?t:s}function mA(t){let e=0;for(const r in t)e++;return e}var uL=t=>[].concat(...t);function y0e(t){return new RegExp("(^|:)//").test(t)}function v0e(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function gb(t){return t!=null}function x0e(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var b0e=t=>t.replace(/\/$/,""),w0e=t=>t.replace(/^\//,"");function C0e(t,e){if(!t)return e;if(!e)return t;if(y0e(e))return e;const r=t.endsWith("/")||!e.startsWith("?")?"/":"";return t=b0e(t),e=w0e(e),`${t}${r}${e}`}function B0e(t,e,r){return t.has(e)?t.get(e):t.set(e,r).get(e)}var dL=(...t)=>fetch(...t),S0e=t=>t.status>=200&&t.status<=299,_0e=t=>/ion\/(vnd\.api\+)?json/.test(t.get("content-type")||"");function hL(t){if(!Eo(t))return t;const e={...t};for(const[r,n]of Object.entries(e))n===void 0&&delete e[r];return e}function Uq({baseUrl:t,prepareHeaders:e=d=>d,fetchFn:r=dL,paramsSerializer:n,isJsonContentType:i=_0e,jsonContentType:s="application/json",jsonReplacer:a,timeout:o,responseHandler:l,validateStatus:c,...u}={}){return typeof fetch>"u"&&r===dL&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(A,f,p)=>{const{getState:m,extra:v,endpoint:g,forced:y,type:x}=f;let b,{url:w,headers:C=new Headers(u.headers),params:B=void 0,responseHandler:S=l??"json",validateStatus:E=c??S0e,timeout:M=o,...T}=typeof A=="string"?{url:A}:A,L,I=f.signal;M&&(L=new AbortController,f.signal.addEventListener("abort",L.abort),I=L.signal);let R={...u,signal:I,...T};C=new Headers(hL(C)),R.headers=await e(C,{getState:m,arg:A,extra:v,endpoint:g,forced:y,type:x,extraOptions:p})||C;const z=me=>typeof me=="object"&&(Eo(me)||Array.isArray(me)||typeof me.toJSON=="function");if(!R.headers.has("content-type")&&z(R.body)&&R.headers.set("content-type",s),z(R.body)&&i(R.headers)&&(R.body=JSON.stringify(R.body,a)),B){const me=~w.indexOf("?")?"&":"?",Ce=n?n(B):new URLSearchParams(hL(B));w+=me+Ce}w=C0e(t,w);const W=new Request(w,R);b={request:new Request(w,R)};let U,q=!1,N=L&&setTimeout(()=>{q=!0,L.abort()},M);try{U=await r(W)}catch(me){return{error:{status:q?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(me)},meta:b}}finally{N&&clearTimeout(N),L==null||L.signal.removeEventListener("abort",L.abort)}const ne=U.clone();b.response=ne;let re,O="";try{let me;if(await Promise.all([d(U,S).then(Ce=>re=Ce,Ce=>me=Ce),ne.text().then(Ce=>O=Ce,()=>{})]),me)throw me}catch(me){return{error:{status:"PARSING_ERROR",originalStatus:U.status,data:O,error:String(me)},meta:b}}return E(U,re)?{data:re,meta:b}:{error:{status:U.status,data:re},meta:b}};async function d(A,f){if(typeof f=="function")return f(A);if(f==="content-type"&&(f=i(A.headers)?"json":"text"),f==="json"){const p=await A.text();return p.length?JSON.parse(p):null}return A.text()}}var AL=class{constructor(t,e=void 0){this.value=t,this.meta=e}},Zk=Fa("__rtkq/focused"),Rq=Fa("__rtkq/unfocused"),eE=Fa("__rtkq/online"),Qq=Fa("__rtkq/offline");function zq(t){return t.type==="query"}function k0e(t){return t.type==="mutation"}function tE(t,e,r,n,i,s){return E0e(t)?t(e,r,n,i).filter(gb).map(V9).map(s):Array.isArray(t)?t.map(V9).map(s):[]}function E0e(t){return typeof t=="function"}function V9(t){return typeof t=="string"?{type:t}:t}function M0e(t,e){return t.catch(e)}var kg=Symbol("forceQueryFn"),K9=t=>typeof t[kg]=="function";function F0e({serializeQueryArgs:t,queryThunk:e,mutationThunk:r,api:n,context:i}){const s=new Map,a=new Map,{unsubscribeQueryResult:o,removeMutationResult:l,updateSubscriptionOptions:c}=n.internalActions;return{buildInitiateQuery:p,buildInitiateMutation:m,getRunningQueryThunk:u,getRunningMutationThunk:d,getRunningQueriesThunk:A,getRunningMutationsThunk:f};function u(v,g){return y=>{var w;const x=i.endpointDefinitions[v],b=t({queryArgs:g,endpointDefinition:x,endpointName:v});return(w=s.get(y))==null?void 0:w[b]}}function d(v,g){return y=>{var x;return(x=a.get(y))==null?void 0:x[g]}}function A(){return v=>Object.values(s.get(v)||{}).filter(gb)}function f(){return v=>Object.values(a.get(v)||{}).filter(gb)}function p(v,g){const y=(x,{subscribe:b=!0,forceRefetch:w,subscriptionOptions:C,[kg]:B,...S}={})=>(E,M)=>{var re;const T=t({queryArgs:x,endpointDefinition:g,endpointName:v}),L=e({...S,type:"query",subscribe:b,forceRefetch:w,subscriptionOptions:C,endpointName:v,originalArgs:x,queryCacheKey:T,[kg]:B}),I=n.endpoints[v].select(x),R=E(L),z=I(M()),{requestId:W,abort:K}=R,U=z.requestId!==W,q=(re=s.get(E))==null?void 0:re[T],N=()=>I(M()),ne=Object.assign(B?R.then(N):U&&!q?Promise.resolve(z):Promise.all([q,R]).then(N),{arg:x,requestId:W,subscriptionOptions:C,queryCacheKey:T,abort:K,async unwrap(){const O=await ne;if(O.isError)throw O.error;return O.data},refetch:()=>E(y(x,{subscribe:!1,forceRefetch:!0})),unsubscribe(){b&&E(o({queryCacheKey:T,requestId:W}))},updateSubscriptionOptions(O){ne.subscriptionOptions=O,E(c({endpointName:v,requestId:W,queryCacheKey:T,options:O}))}});if(!q&&!U&&!B){const O=B0e(s,E,{});O[T]=ne,ne.then(()=>{delete O[T],mA(O)||s.delete(E)})}return ne};return y}function m(v){return(g,{track:y=!0,fixedCacheKey:x}={})=>(b,w)=>{const C=r({type:"mutation",endpointName:v,originalArgs:g,track:y,fixedCacheKey:x}),B=b(C),{requestId:S,abort:E,unwrap:M}=B,T=M0e(B.unwrap().then(z=>({data:z})),z=>({error:z})),L=()=>{b(l({requestId:S,fixedCacheKey:x}))},I=Object.assign(T,{arg:B.arg,requestId:S,abort:E,unwrap:M,reset:L}),R=a.get(b)||{};return a.set(b,R),R[S]=I,I.then(()=>{delete R[S],mA(R)||a.delete(b)}),x&&(R[x]=I,I.then(()=>{R[x]===I&&(delete R[x],mA(R)||a.delete(b))})),I}}}function fL(t){return t}function T0e({reducerPath:t,baseQuery:e,context:{endpointDefinitions:r},serializeQueryArgs:n,api:i,assertTagType:s}){const a=(y,x,b,w)=>(C,B)=>{const S=r[y],E=n({queryArgs:x,endpointDefinition:S,endpointName:y});if(C(i.internalActions.queryResultPatched({queryCacheKey:E,patches:b})),!w)return;const M=i.endpoints[y].select(x)(B()),T=tE(S.providesTags,M.data,void 0,x,{},s);C(i.internalActions.updateProvidedBy({queryCacheKey:E,providedTags:T}))},o=(y,x,b,w=!0)=>(C,B)=>{const E=i.endpoints[y].select(x)(B()),M={patches:[],inversePatches:[],undo:()=>C(i.util.patchQueryData(y,x,M.inversePatches,w))};if(E.status==="uninitialized")return M;let T;if("data"in E)if(Oa(E.data)){const[L,I,R]=Cq(E.data,b);M.patches.push(...I),M.inversePatches.push(...R),T=L}else T=b(E.data),M.patches.push({op:"replace",path:[],value:T}),M.inversePatches.push({op:"replace",path:[],value:E.data});return M.patches.length===0||C(i.util.patchQueryData(y,x,M.patches,w)),M},l=(y,x,b)=>w=>w(i.endpoints[y].initiate(x,{subscribe:!1,forceRefetch:!0,[kg]:()=>({data:b})})),c=async(y,{signal:x,abort:b,rejectWithValue:w,fulfillWithValue:C,dispatch:B,getState:S,extra:E})=>{const M=r[y.endpointName];try{let T=fL,L;const I={signal:x,abort:b,dispatch:B,getState:S,extra:E,endpoint:y.endpointName,type:y.type,forced:y.type==="query"?u(y,S()):void 0,queryCacheKey:y.type==="query"?y.queryCacheKey:void 0},R=y.type==="query"?y[kg]:void 0;if(R?L=R():M.query?(L=await e(M.query(y.originalArgs),I,M.extraOptions),M.transformResponse&&(T=M.transformResponse)):L=await M.queryFn(y.originalArgs,I,M.extraOptions,z=>e(z,I,M.extraOptions)),typeof process<"u",L.error)throw new AL(L.error,L.meta);return C(await T(L.data,L.meta,y.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:L.meta,[zd]:!0})}catch(T){let L=T;if(L instanceof AL){let I=fL;M.query&&M.transformErrorResponse&&(I=M.transformErrorResponse);try{return w(await I(L.value,L.meta,y.originalArgs),{baseQueryMeta:L.meta,[zd]:!0})}catch(R){L=R}}throw console.error(L),L}};function u(y,x){var S,E,M;const b=(E=(S=x[t])==null?void 0:S.queries)==null?void 0:E[y.queryCacheKey],w=(M=x[t])==null?void 0:M.config.refetchOnMountOrArgChange,C=b==null?void 0:b.fulfilledTimeStamp,B=y.forceRefetch??(y.subscribe&&w);return B?B===!0||(Number(new Date)-Number(C))/1e3>=B:!1}const d=oL(`${t}/executeQuery`,c,{getPendingMeta(){return{startedTimeStamp:Date.now(),[zd]:!0}},condition(y,{getState:x}){var M,T,L;const b=x(),w=(T=(M=b[t])==null?void 0:M.queries)==null?void 0:T[y.queryCacheKey],C=w==null?void 0:w.fulfilledTimeStamp,B=y.originalArgs,S=w==null?void 0:w.originalArgs,E=r[y.endpointName];return K9(y)?!0:(w==null?void 0:w.status)==="pending"?!1:u(y,b)||zq(E)&&((L=E==null?void 0:E.forceRefetch)!=null&&L.call(E,{currentArg:B,previousArg:S,endpointState:w,state:b}))?!0:!C},dispatchConditionRejection:!0}),A=oL(`${t}/executeMutation`,c,{getPendingMeta(){return{startedTimeStamp:Date.now(),[zd]:!0}}}),f=y=>"force"in y,p=y=>"ifOlderThan"in y,m=(y,x,b)=>(w,C)=>{const B=f(b)&&b.force,S=p(b)&&b.ifOlderThan,E=(T=!0)=>{const L={forceRefetch:T,isPrefetch:!0};return i.endpoints[y].initiate(x,L)},M=i.endpoints[y].select(x)(C());if(B)w(E());else if(S){const T=M==null?void 0:M.fulfilledTimeStamp;if(!T){w(E());return}(Number(new Date)-Number(new Date(T)))/1e3>=S&&w(E())}else w(E(!1))};function v(y){return x=>{var b,w;return((w=(b=x==null?void 0:x.meta)==null?void 0:b.arg)==null?void 0:w.endpointName)===y}}function g(y,x){return{matchPending:xm(Yk(y),v(x)),matchFulfilled:xm(xu(y),v(x)),matchRejected:xm(QA(y),v(x))}}return{queryThunk:d,mutationThunk:A,prefetch:m,updateQueryData:o,upsertQueryData:l,patchQueryData:a,buildMatchThunkActions:g}}function Hq(t,e,r,n){return tE(r[t.meta.arg.endpointName][e],xu(t)?t.payload:void 0,xw(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,n)}function w2(t,e,r){const n=t[e];n&&r(n)}function Eg(t){return("arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)??t.requestId}function pL(t,e,r){const n=t[Eg(e)];n&&r(n)}var $f={};function D0e({reducerPath:t,queryThunk:e,mutationThunk:r,serializeQueryArgs:n,context:{endpointDefinitions:i,apiUid:s,extractRehydrationInfo:a,hasRehydrationInfo:o},assertTagType:l,config:c}){const u=Fa(`${t}/resetApiState`);function d(C,B,S,E){var M;C[M=B.queryCacheKey]??(C[M]={status:"uninitialized",endpointName:B.endpointName}),w2(C,B.queryCacheKey,T=>{T.status="pending",T.requestId=S&&T.requestId?T.requestId:E.requestId,B.originalArgs!==void 0&&(T.originalArgs=B.originalArgs),T.startedTimeStamp=E.startedTimeStamp})}function A(C,B,S){w2(C,B.arg.queryCacheKey,E=>{if(E.requestId!==B.requestId&&!K9(B.arg))return;const{merge:M}=i[B.arg.endpointName];if(E.status="fulfilled",M)if(E.data!==void 0){const{fulfilledTimeStamp:T,arg:L,baseQueryMeta:I,requestId:R}=B;let z=w1(E.data,W=>M(W,S,{arg:L.originalArgs,baseQueryMeta:I,fulfilledTimeStamp:T,requestId:R}));E.data=z}else E.data=S;else E.data=i[B.arg.endpointName].structuralSharing??!0?Pq(Mo(E.data)?Que(E.data):E.data,S):S;delete E.error,E.fulfilledTimeStamp=B.fulfilledTimeStamp})}const f=wd({name:`${t}/queries`,initialState:$f,reducers:{removeQueryResult:{reducer(C,{payload:{queryCacheKey:B}}){delete C[B]},prepare:Hf()},cacheEntriesUpserted:{reducer(C,B){for(const S of B.payload){const{queryDescription:E,value:M}=S;d(C,E,!0,{arg:E,requestId:B.meta.requestId,startedTimeStamp:B.meta.timestamp}),A(C,{arg:E,requestId:B.meta.requestId,fulfilledTimeStamp:B.meta.timestamp,baseQueryMeta:{}},M)}},prepare:C=>({payload:C.map(E=>{const{endpointName:M,arg:T,value:L}=E,I=i[M];return{queryDescription:{type:"query",endpointName:M,originalArgs:E.arg,queryCacheKey:n({queryArgs:T,endpointDefinition:I,endpointName:M})},value:L}}),meta:{[zd]:!0,requestId:Jk(),timestamp:Date.now()}})},queryResultPatched:{reducer(C,{payload:{queryCacheKey:B,patches:S}}){w2(C,B,E=>{E.data=eL(E.data,S.concat())})},prepare:Hf()}},extraReducers(C){C.addCase(e.pending,(B,{meta:S,meta:{arg:E}})=>{const M=K9(E);d(B,E,M,S)}).addCase(e.fulfilled,(B,{meta:S,payload:E})=>{A(B,S,E)}).addCase(e.rejected,(B,{meta:{condition:S,arg:E,requestId:M},error:T,payload:L})=>{w2(B,E.queryCacheKey,I=>{if(!S){if(I.requestId!==M)return;I.status="rejected",I.error=L??T}})}).addMatcher(o,(B,S)=>{const{queries:E}=a(S);for(const[M,T]of Object.entries(E))((T==null?void 0:T.status)==="fulfilled"||(T==null?void 0:T.status)==="rejected")&&(B[M]=T)})}}),p=wd({name:`${t}/mutations`,initialState:$f,reducers:{removeMutationResult:{reducer(C,{payload:B}){const S=Eg(B);S in C&&delete C[S]},prepare:Hf()}},extraReducers(C){C.addCase(r.pending,(B,{meta:S,meta:{requestId:E,arg:M,startedTimeStamp:T}})=>{M.track&&(B[Eg(S)]={requestId:E,status:"pending",endpointName:M.endpointName,startedTimeStamp:T})}).addCase(r.fulfilled,(B,{payload:S,meta:E})=>{E.arg.track&&pL(B,E,M=>{M.requestId===E.requestId&&(M.status="fulfilled",M.data=S,M.fulfilledTimeStamp=E.fulfilledTimeStamp)})}).addCase(r.rejected,(B,{payload:S,error:E,meta:M})=>{M.arg.track&&pL(B,M,T=>{T.requestId===M.requestId&&(T.status="rejected",T.error=S??E)})}).addMatcher(o,(B,S)=>{const{mutations:E}=a(S);for(const[M,T]of Object.entries(E))((T==null?void 0:T.status)==="fulfilled"||(T==null?void 0:T.status)==="rejected")&&M!==(T==null?void 0:T.requestId)&&(B[M]=T)})}}),m=wd({name:`${t}/invalidation`,initialState:$f,reducers:{updateProvidedBy:{reducer(C,B){var M,T;const{queryCacheKey:S,providedTags:E}=B.payload;for(const L of Object.values(C))for(const I of Object.values(L)){const R=I.indexOf(S);R!==-1&&I.splice(R,1)}for(const{type:L,id:I}of E){const R=(M=C[L]??(C[L]={}))[T=I||"__internal_without_id"]??(M[T]=[]);R.includes(S)||R.push(S)}},prepare:Hf()}},extraReducers(C){C.addCase(f.actions.removeQueryResult,(B,{payload:{queryCacheKey:S}})=>{for(const E of Object.values(B))for(const M of Object.values(E)){const T=M.indexOf(S);T!==-1&&M.splice(T,1)}}).addMatcher(o,(B,S)=>{var M,T;const{provided:E}=a(S);for(const[L,I]of Object.entries(E))for(const[R,z]of Object.entries(I)){const W=(M=B[L]??(B[L]={}))[T=R||"__internal_without_id"]??(M[T]=[]);for(const K of z)W.includes(K)||W.push(K)}}).addMatcher(Nl(xu(e),xw(e)),(B,S)=>{const E=Hq(S,"providesTags",i,l),{queryCacheKey:M}=S.meta.arg;m.caseReducers.updateProvidedBy(B,m.actions.updateProvidedBy({queryCacheKey:M,providedTags:E}))})}}),v=wd({name:`${t}/subscriptions`,initialState:$f,reducers:{updateSubscriptionOptions(C,B){},unsubscribeQueryResult(C,B){},internal_getRTKQSubscriptions(){}}}),g=wd({name:`${t}/internalSubscriptions`,initialState:$f,reducers:{subscriptionsUpdated:{reducer(C,B){return eL(C,B.payload)},prepare:Hf()}}}),y=wd({name:`${t}/config`,initialState:{online:x0e(),focused:v0e(),middlewareRegistered:!1,...c},reducers:{middlewareRegistered(C,{payload:B}){C.middlewareRegistered=C.middlewareRegistered==="conflict"||s!==B?"conflict":!0}},extraReducers:C=>{C.addCase(eE,B=>{B.online=!0}).addCase(Qq,B=>{B.online=!1}).addCase(Zk,B=>{B.focused=!0}).addCase(Rq,B=>{B.focused=!1}).addMatcher(o,B=>({...B}))}}),x=mq({queries:f.reducer,mutations:p.reducer,provided:m.reducer,subscriptions:g.reducer,config:y.reducer}),b=(C,B)=>x(u.match(B)?void 0:C,B),w={...y.actions,...f.actions,...v.actions,...g.actions,...p.actions,...m.actions,resetApiState:u};return{reducer:b,actions:w}}var Rc=Symbol.for("RTKQ/skipToken"),$q={status:"uninitialized"},mL=w1($q,()=>{}),gL=w1($q,()=>{});function L0e({serializeQueryArgs:t,reducerPath:e,createSelector:r}){const n=d=>mL,i=d=>gL;return{buildQuerySelector:o,buildMutationSelector:l,selectInvalidatedBy:c,selectCachedArgsForQuery:u};function s(d){return{...d,...g0e(d.status)}}function a(d){return d[e]}function o(d,A){return f=>{if(f===Rc)return r(n,s);const p=t({queryArgs:f,endpointDefinition:A,endpointName:d});return r(v=>{var g,y;return((y=(g=a(v))==null?void 0:g.queries)==null?void 0:y[p])??mL},s)}}function l(){return d=>{let A;return typeof d=="object"?A=Eg(d)??Rc:A=d,r(A===Rc?i:m=>{var v,g;return((g=(v=a(m))==null?void 0:v.mutations)==null?void 0:g[A])??gL},s)}}function c(d,A){const f=d[e],p=new Set;for(const m of A.filter(gb).map(V9)){const v=f.provided[m.type];if(!v)continue;let g=(m.id!==void 0?v[m.id]:uL(Object.values(v)))??[];for(const y of g)p.add(y)}return uL(Array.from(p.values()).map(m=>{const v=f.queries[m];return v?[{queryCacheKey:m,endpointName:v.endpointName,originalArgs:v.originalArgs}]:[]}))}function u(d,A){return Object.values(d[e].queries).filter(f=>(f==null?void 0:f.endpointName)===A&&f.status!=="uninitialized").map(f=>f.originalArgs)}}var $0=WeakMap?new WeakMap:void 0,yL=({endpointName:t,queryArgs:e})=>{let r="";const n=$0==null?void 0:$0.get(e);if(typeof n=="string")r=n;else{const i=JSON.stringify(e,(s,a)=>(a=typeof a=="bigint"?{$bigint:a.toString()}:a,a=Eo(a)?Object.keys(a).sort().reduce((o,l)=>(o[l]=a[l],o),{}):a,a));Eo(e)&&($0==null||$0.set(e,i)),r=i}return`${t}(${r})`};function N0e(...t){return function(r){const n=mb(c=>{var u;return(u=r.extractRehydrationInfo)==null?void 0:u.call(r,c,{reducerPath:r.reducerPath??"api"})}),i={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...r,extractRehydrationInfo:n,serializeQueryArgs(c){let u=yL;if("serializeQueryArgs"in c.endpointDefinition){const d=c.endpointDefinition.serializeQueryArgs;u=A=>{const f=d(A);return typeof f=="string"?f:yL({...A,queryArgs:f})}}else r.serializeQueryArgs&&(u=r.serializeQueryArgs);return u(c)},tagTypes:[...r.tagTypes||[]]},s={endpointDefinitions:{},batch(c){c()},apiUid:Jk(),extractRehydrationInfo:n,hasRehydrationInfo:mb(c=>n(c)!=null)},a={injectEndpoints:l,enhanceEndpoints({addTagTypes:c,endpoints:u}){if(c)for(const d of c)i.tagTypes.includes(d)||i.tagTypes.push(d);if(u)for(const[d,A]of Object.entries(u))typeof A=="function"?A(s.endpointDefinitions[d]):Object.assign(s.endpointDefinitions[d]||{},A);return a}},o=t.map(c=>c.init(a,i,s));function l(c){const u=c.endpoints({query:d=>({...d,type:"query"}),mutation:d=>({...d,type:"mutation"})});for(const[d,A]of Object.entries(u)){if(c.overrideExisting!==!0&&d in s.endpointDefinitions){if(c.overrideExisting==="throw")throw new Error(Ta(39));continue}s.endpointDefinitions[d]=A;for(const f of o)f.injectEndpoint(d,A)}return a}return a.injectEndpoints({endpoints:r.endpoints})}}function ic(t,...e){return Object.assign(t,...e)}var j0e=({api:t,queryThunk:e,internalState:r})=>{const n=`${t.reducerPath}/subscriptions`;let i=null,s=null;const{updateSubscriptionOptions:a,unsubscribeQueryResult:o}=t.internalActions,l=(f,p)=>{var v,g,y;if(a.match(p)){const{queryCacheKey:x,requestId:b,options:w}=p.payload;return(v=f==null?void 0:f[x])!=null&&v[b]&&(f[x][b]=w),!0}if(o.match(p)){const{queryCacheKey:x,requestId:b}=p.payload;return f[x]&&delete f[x][b],!0}if(t.internalActions.removeQueryResult.match(p))return delete f[p.payload.queryCacheKey],!0;if(e.pending.match(p)){const{meta:{arg:x,requestId:b}}=p,w=f[g=x.queryCacheKey]??(f[g]={});return w[`${b}_running`]={},x.subscribe&&(w[b]=x.subscriptionOptions??w[b]??{}),!0}let m=!1;if(e.fulfilled.match(p)||e.rejected.match(p)){const x=f[p.meta.arg.queryCacheKey]||{},b=`${p.meta.requestId}_running`;m||(m=!!x[b]),delete x[b]}if(e.rejected.match(p)){const{meta:{condition:x,arg:b,requestId:w}}=p;if(x&&b.subscribe){const C=f[y=b.queryCacheKey]??(f[y]={});C[w]=b.subscriptionOptions??C[w]??{},m=!0}}return m},c=()=>r.currentSubscriptions,A={getSubscriptions:c,getSubscriptionCount:f=>{const m=c()[f]??{};return mA(m)},isRequestSubscribed:(f,p)=>{var v;const m=c();return!!((v=m==null?void 0:m[f])!=null&&v[p])}};return(f,p)=>{if(i||(i=JSON.parse(JSON.stringify(r.currentSubscriptions))),t.util.resetApiState.match(f))return i=r.currentSubscriptions={},s=null,[!0,!1];if(t.internalActions.internal_getRTKQSubscriptions.match(f))return[!1,A];const m=l(r.currentSubscriptions,f);let v=!0;if(m){s||(s=setTimeout(()=>{const x=JSON.parse(JSON.stringify(r.currentSubscriptions)),[,b]=Cq(i,()=>x);p.next(t.internalActions.subscriptionsUpdated(b)),i=x,s=null},500));const g=typeof f.type=="string"&&!!f.type.startsWith(n),y=e.rejected.match(f)&&f.meta.condition&&!!f.meta.arg.subscribe;v=!g&&!y}return[v,!1]}};function I0e(t){for(const e in t)return!1;return!0}var O0e=2147483647/1e3-1,P0e=({reducerPath:t,api:e,queryThunk:r,context:n,internalState:i})=>{const{removeQueryResult:s,unsubscribeQueryResult:a,cacheEntriesUpserted:o}=e.internalActions,l=Nl(a.match,r.fulfilled,r.rejected,o.match);function c(f){const p=i.currentSubscriptions[f];return!!p&&!I0e(p)}const u={},d=(f,p,m)=>{var v;if(l(f)){const g=p.getState()[t];let y;if(o.match(f))y=f.payload.map(x=>x.queryDescription.queryCacheKey);else{const{queryCacheKey:x}=a.match(f)?f.payload:f.meta.arg;y=[x]}for(const x of y)A(x,(v=g.queries[x])==null?void 0:v.endpointName,p,g.config)}if(e.util.resetApiState.match(f))for(const[g,y]of Object.entries(u))y&&clearTimeout(y),delete u[g];if(n.hasRehydrationInfo(f)){const g=p.getState()[t],{queries:y}=n.extractRehydrationInfo(f);for(const[x,b]of Object.entries(y))A(x,b==null?void 0:b.endpointName,p,g.config)}};function A(f,p,m,v){const g=n.endpointDefinitions[p],y=(g==null?void 0:g.keepUnusedDataFor)??v.keepUnusedDataFor;if(y===1/0)return;const x=Math.max(0,Math.min(y,O0e));if(!c(f)){const b=u[f];b&&clearTimeout(b),u[f]=setTimeout(()=>{c(f)||m.dispatch(s({queryCacheKey:f})),delete u[f]},x*1e3)}}return d},vL=new Error("Promise never resolved before cacheEntryRemoved."),U0e=({api:t,reducerPath:e,context:r,queryThunk:n,mutationThunk:i,internalState:s})=>{const a=R9(n),o=R9(i),l=xu(n,i),c={};function u(m,v,g){const y=c[m];y!=null&&y.valueResolved&&(y.valueResolved({data:v,meta:g}),delete y.valueResolved)}function d(m){const v=c[m];v&&(delete c[m],v.cacheEntryRemoved())}const A=(m,v,g)=>{const y=f(m);function x(b,w,C,B){const S=g[e].queries[w],E=v.getState()[e].queries[w];!S&&E&&p(b,B,w,v,C)}if(n.pending.match(m))x(m.meta.arg.endpointName,y,m.meta.requestId,m.meta.arg.originalArgs);else if(t.internalActions.cacheEntriesUpserted.match(m))for(const{queryDescription:b,value:w}of m.payload){const{endpointName:C,originalArgs:B,queryCacheKey:S}=b;x(C,S,m.meta.requestId,B),u(S,w,{})}else if(i.pending.match(m))v.getState()[e].mutations[y]&&p(m.meta.arg.endpointName,m.meta.arg.originalArgs,y,v,m.meta.requestId);else if(l(m))u(y,m.payload,m.meta.baseQueryMeta);else if(t.internalActions.removeQueryResult.match(m)||t.internalActions.removeMutationResult.match(m))d(y);else if(t.util.resetApiState.match(m))for(const b of Object.keys(c))d(b)};function f(m){return a(m)?m.meta.arg.queryCacheKey:o(m)?m.meta.arg.fixedCacheKey??m.meta.requestId:t.internalActions.removeQueryResult.match(m)?m.payload.queryCacheKey:t.internalActions.removeMutationResult.match(m)?Eg(m.payload):""}function p(m,v,g,y,x){const b=r.endpointDefinitions[m],w=b==null?void 0:b.onCacheEntryAdded;if(!w)return;const C={},B=new Promise(I=>{C.cacheEntryRemoved=I}),S=Promise.race([new Promise(I=>{C.valueResolved=I}),B.then(()=>{throw vL})]);S.catch(()=>{}),c[g]=C;const E=t.endpoints[m].select(b.type==="query"?v:g),M=y.dispatch((I,R,z)=>z),T={...y,getCacheEntry:()=>E(y.getState()),requestId:x,extra:M,updateCachedData:b.type==="query"?I=>y.dispatch(t.util.updateQueryData(m,v,I)):void 0,cacheDataLoaded:S,cacheEntryRemoved:B},L=w(v,T);Promise.resolve(L).catch(I=>{if(I!==vL)throw I})}return A},R0e=({api:t,context:{apiUid:e},reducerPath:r})=>(n,i)=>{t.util.resetApiState.match(n)&&i.dispatch(t.internalActions.middlewareRegistered(e))},Q0e=({reducerPath:t,context:e,context:{endpointDefinitions:r},mutationThunk:n,queryThunk:i,api:s,assertTagType:a,refetchQuery:o,internalState:l})=>{const{removeQueryResult:c}=s.internalActions,u=Nl(xu(n),xw(n)),d=Nl(xu(n,i),QA(n,i));let A=[];const f=(v,g)=>{u(v)?m(Hq(v,"invalidatesTags",r,a),g):d(v)?m([],g):s.util.invalidateTags.match(v)&&m(tE(v.payload,void 0,void 0,void 0,void 0,a),g)};function p(v){var g,y;for(const x in v.queries)if(((g=v.queries[x])==null?void 0:g.status)==="pending")return!0;for(const x in v.mutations)if(((y=v.mutations[x])==null?void 0:y.status)==="pending")return!0;return!1}function m(v,g){const y=g.getState(),x=y[t];if(A.push(...v),x.config.invalidationBehavior==="delayed"&&p(x))return;const b=A;if(A=[],b.length===0)return;const w=s.util.selectInvalidatedBy(y,b);e.batch(()=>{const C=Array.from(w.values());for(const{queryCacheKey:B}of C){const S=x.queries[B],E=l.currentSubscriptions[B]??{};S&&(mA(E)===0?g.dispatch(c({queryCacheKey:B})):S.status!=="uninitialized"&&g.dispatch(o(S)))}})}return f},z0e=({reducerPath:t,queryThunk:e,api:r,refetchQuery:n,internalState:i})=>{const s={},a=(A,f)=>{(r.internalActions.updateSubscriptionOptions.match(A)||r.internalActions.unsubscribeQueryResult.match(A))&&l(A.payload,f),(e.pending.match(A)||e.rejected.match(A)&&A.meta.condition)&&l(A.meta.arg,f),(e.fulfilled.match(A)||e.rejected.match(A)&&!A.meta.condition)&&o(A.meta.arg,f),r.util.resetApiState.match(A)&&u()};function o({queryCacheKey:A},f){const p=f.getState()[t],m=p.queries[A],v=i.currentSubscriptions[A];if(!m||m.status==="uninitialized")return;const{lowestPollingInterval:g,skipPollingIfUnfocused:y}=d(v);if(!Number.isFinite(g))return;const x=s[A];x!=null&&x.timeout&&(clearTimeout(x.timeout),x.timeout=void 0);const b=Date.now()+g;s[A]={nextPollTimestamp:b,pollingInterval:g,timeout:setTimeout(()=>{(p.config.focused||!y)&&f.dispatch(n(m)),o({queryCacheKey:A},f)},g)}}function l({queryCacheKey:A},f){const m=f.getState()[t].queries[A],v=i.currentSubscriptions[A];if(!m||m.status==="uninitialized")return;const{lowestPollingInterval:g}=d(v);if(!Number.isFinite(g)){c(A);return}const y=s[A],x=Date.now()+g;(!y||x<y.nextPollTimestamp)&&o({queryCacheKey:A},f)}function c(A){const f=s[A];f!=null&&f.timeout&&clearTimeout(f.timeout),delete s[A]}function u(){for(const A of Object.keys(s))c(A)}function d(A={}){let f=!1,p=Number.POSITIVE_INFINITY;for(let m in A)A[m].pollingInterval&&(p=Math.min(A[m].pollingInterval,p),f=A[m].skipPollingIfUnfocused||f);return{lowestPollingInterval:p,skipPollingIfUnfocused:f}}return a},H0e=({api:t,context:e,queryThunk:r,mutationThunk:n})=>{const i=Yk(r,n),s=QA(r,n),a=xu(r,n),o={};return(c,u)=>{var d,A;if(i(c)){const{requestId:f,arg:{endpointName:p,originalArgs:m}}=c.meta,v=e.endpointDefinitions[p],g=v==null?void 0:v.onQueryStarted;if(g){const y={},x=new Promise((B,S)=>{y.resolve=B,y.reject=S});x.catch(()=>{}),o[f]=y;const b=t.endpoints[p].select(v.type==="query"?m:f),w=u.dispatch((B,S,E)=>E),C={...u,getCacheEntry:()=>b(u.getState()),requestId:f,extra:w,updateCachedData:v.type==="query"?B=>u.dispatch(t.util.updateQueryData(p,m,B)):void 0,queryFulfilled:x};g(m,C)}}else if(a(c)){const{requestId:f,baseQueryMeta:p}=c.meta;(d=o[f])==null||d.resolve({data:c.payload,meta:p}),delete o[f]}else if(s(c)){const{requestId:f,rejectedWithValue:p,baseQueryMeta:m}=c.meta;(A=o[f])==null||A.reject({error:c.payload??c.error,isUnhandledError:!p,meta:m}),delete o[f]}}},$0e=({reducerPath:t,context:e,api:r,refetchQuery:n,internalState:i})=>{const{removeQueryResult:s}=r.internalActions,a=(l,c)=>{Zk.match(l)&&o(c,"refetchOnFocus"),eE.match(l)&&o(c,"refetchOnReconnect")};function o(l,c){const u=l.getState()[t],d=u.queries,A=i.currentSubscriptions;e.batch(()=>{for(const f of Object.keys(A)){const p=d[f],m=A[f];if(!m||!p)continue;(Object.values(m).some(g=>g[c]===!0)||Object.values(m).every(g=>g[c]===void 0)&&u.config[c])&&(mA(m)===0?l.dispatch(s({queryCacheKey:f})):p.status!=="uninitialized"&&l.dispatch(n(p)))}})}return a};function V0e(t){const{reducerPath:e,queryThunk:r,api:n,context:i}=t,{apiUid:s}=i,a={invalidateTags:Fa(`${e}/invalidateTags`)},o=d=>d.type.startsWith(`${e}/`),l=[R0e,P0e,Q0e,z0e,U0e,H0e];return{middleware:d=>{let A=!1;const p={...t,internalState:{currentSubscriptions:{}},refetchQuery:u,isThisApiSliceAction:o},m=l.map(y=>y(p)),v=j0e(p),g=$0e(p);return y=>x=>{if(!gq(x))return y(x);A||(A=!0,d.dispatch(n.internalActions.middlewareRegistered(s)));const b={...d,next:y},w=d.getState(),[C,B]=v(x,b,w);let S;if(C?S=y(x):S=B,d.getState()[e]&&(g(x,b,w),o(x)||i.hasRehydrationInfo(x)))for(const E of m)E(x,b,w);return S}},actions:a};function u(d){return t.api.endpoints[d.endpointName].initiate(d.originalArgs,{subscribe:!1,forceRefetch:!0})}}var xL=Symbol(),K0e=({createSelector:t=Xk}={})=>({name:xL,init(e,{baseQuery:r,tagTypes:n,reducerPath:i,serializeQueryArgs:s,keepUnusedDataFor:a,refetchOnMountOrArgChange:o,refetchOnFocus:l,refetchOnReconnect:c,invalidationBehavior:u},d){Yue();const A=U=>U;Object.assign(e,{reducerPath:i,endpoints:{},internalActions:{onOnline:eE,onOffline:Qq,onFocus:Zk,onFocusLost:Rq},util:{}});const{queryThunk:f,mutationThunk:p,patchQueryData:m,updateQueryData:v,upsertQueryData:g,prefetch:y,buildMatchThunkActions:x}=T0e({baseQuery:r,reducerPath:i,context:d,api:e,serializeQueryArgs:s,assertTagType:A}),{reducer:b,actions:w}=D0e({context:d,queryThunk:f,mutationThunk:p,serializeQueryArgs:s,reducerPath:i,assertTagType:A,config:{refetchOnFocus:l,refetchOnReconnect:c,refetchOnMountOrArgChange:o,keepUnusedDataFor:a,reducerPath:i,invalidationBehavior:u}});ic(e.util,{patchQueryData:m,updateQueryData:v,upsertQueryData:g,prefetch:y,resetApiState:w.resetApiState,upsertQueryEntries:w.cacheEntriesUpserted}),ic(e.internalActions,w);const{middleware:C,actions:B}=V0e({reducerPath:i,context:d,queryThunk:f,mutationThunk:p,api:e,assertTagType:A});ic(e.util,B),ic(e,{reducer:b,middleware:C});const{buildQuerySelector:S,buildMutationSelector:E,selectInvalidatedBy:M,selectCachedArgsForQuery:T}=L0e({serializeQueryArgs:s,reducerPath:i,createSelector:t});ic(e.util,{selectInvalidatedBy:M,selectCachedArgsForQuery:T});const{buildInitiateQuery:L,buildInitiateMutation:I,getRunningMutationThunk:R,getRunningMutationsThunk:z,getRunningQueriesThunk:W,getRunningQueryThunk:K}=F0e({queryThunk:f,mutationThunk:p,api:e,serializeQueryArgs:s,context:d});return ic(e.util,{getRunningMutationThunk:R,getRunningMutationsThunk:z,getRunningQueryThunk:K,getRunningQueriesThunk:W}),{name:xL,injectEndpoint(U,q){var ne;const N=e;(ne=N.endpoints)[U]??(ne[U]={}),zq(q)?ic(N.endpoints[U],{name:U,select:S(U,q),initiate:L(U,q)},x(f,U)):k0e(q)&&ic(N.endpoints[U],{name:U,select:E(),initiate:I(U)},x(p,U))}}}});function D6(t){return t.replace(t[0],t[0].toUpperCase())}function q0e(t){return t.type==="query"}function W0e(t){return t.type==="mutation"}function C2(t,...e){return Object.assign(t,...e)}var V0=WeakMap?new WeakMap:void 0,G0e=({endpointName:t,queryArgs:e})=>{let r="";const n=V0==null?void 0:V0.get(e);if(typeof n=="string")r=n;else{const i=JSON.stringify(e,(s,a)=>(a=typeof a=="bigint"?{$bigint:a.toString()}:a,a=Eo(a)?Object.keys(a).sort().reduce((o,l)=>(o[l]=a[l],o),{}):a,a));Eo(e)&&(V0==null||V0.set(e,i)),r=i}return`${t}(${r})`},L6=Symbol();function bL(t,e,r,n){const i=_.useMemo(()=>({queryArgs:t,serialized:typeof t=="object"?e({queryArgs:t,endpointDefinition:r,endpointName:n}):t}),[t,e,r,n]),s=_.useRef(i);return _.useEffect(()=>{s.current.serialized!==i.serialized&&(s.current=i)},[i]),s.current.serialized===i.serialized?s.current.queryArgs:t}function N6(t){const e=_.useRef(t);return _.useEffect(()=>{ym(e.current,t)||(e.current=t)},[t]),ym(e.current,t)?e.current:t}var X0e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y0e=X0e(),J0e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Z0e=J0e(),ehe=()=>Y0e||Z0e?_.useLayoutEffect:_.useEffect,the=ehe(),rhe=t=>t.isUninitialized?{...t,isUninitialized:!1,isFetching:!0,isLoading:t.data===void 0,status:Oq.pending}:t;function nhe({api:t,moduleOptions:{batch:e,hooks:{useDispatch:r,useSelector:n,useStore:i},unstable__sideEffectsInRender:s,createSelector:a},serializeQueryArgs:o,context:l}){const c=s?p=>p():_.useEffect;return{buildQueryHooks:A,buildMutationHook:f,usePrefetch:d};function u(p,m,v){if(m!=null&&m.endpointName&&p.isUninitialized){const{endpointName:C}=m,B=l.endpointDefinitions[C];v!==Rc&&o({queryArgs:m.originalArgs,endpointDefinition:B,endpointName:C})===o({queryArgs:v,endpointDefinition:B,endpointName:C})&&(m=void 0)}let g=p.isSuccess?p.data:m==null?void 0:m.data;g===void 0&&(g=p.data);const y=g!==void 0,x=p.isLoading,b=(!m||m.isLoading||m.isUninitialized)&&!y&&x,w=p.isSuccess||y&&(x&&!(m!=null&&m.isError)||p.isUninitialized);return{...p,data:g,currentData:p.data,isFetching:x,isLoading:b,isSuccess:w}}function d(p,m){const v=r(),g=N6(m);return _.useCallback((y,x)=>v(t.util.prefetch(p,y,{...g,...x})),[p,v,g])}function A(p){const m=(y,{refetchOnReconnect:x,refetchOnFocus:b,refetchOnMountOrArgChange:w,skip:C=!1,pollingInterval:B=0,skipPollingIfUnfocused:S=!1}={})=>{const{initiate:E}=t.endpoints[p],M=r(),T=_.useRef(void 0);if(!T.current){const N=M(t.internalActions.internal_getRTKQSubscriptions());T.current=N}const L=bL(C?Rc:y,G0e,l.endpointDefinitions[p],p),I=N6({refetchOnReconnect:x,refetchOnFocus:b,pollingInterval:B,skipPollingIfUnfocused:S}),R=_.useRef(!1),z=_.useRef(void 0);let{queryCacheKey:W,requestId:K}=z.current||{},U=!1;W&&K&&(U=T.current.isRequestSubscribed(W,K));const q=!U&&R.current;return c(()=>{R.current=U}),c(()=>{q&&(z.current=void 0)},[q]),c(()=>{var re;const N=z.current;if(L===Rc){N==null||N.unsubscribe(),z.current=void 0;return}const ne=(re=z.current)==null?void 0:re.subscriptionOptions;if(!N||N.arg!==L){N==null||N.unsubscribe();const O=M(E(L,{subscriptionOptions:I,forceRefetch:w}));z.current=O}else I!==ne&&N.updateSubscriptionOptions(I)},[M,E,w,L,I,q]),_.useEffect(()=>()=>{var N;(N=z.current)==null||N.unsubscribe(),z.current=void 0},[]),_.useMemo(()=>({refetch:()=>{var N;if(!z.current)throw new Error(Ta(38));return(N=z.current)==null?void 0:N.refetch()}}),[])},v=({refetchOnReconnect:y,refetchOnFocus:x,pollingInterval:b=0,skipPollingIfUnfocused:w=!1}={})=>{const{initiate:C}=t.endpoints[p],B=r(),[S,E]=_.useState(L6),M=_.useRef(void 0),T=N6({refetchOnReconnect:y,refetchOnFocus:x,pollingInterval:b,skipPollingIfUnfocused:w});c(()=>{var W,K;const z=(W=M.current)==null?void 0:W.subscriptionOptions;T!==z&&((K=M.current)==null||K.updateSubscriptionOptions(T))},[T]);const L=_.useRef(T);c(()=>{L.current=T},[T]);const I=_.useCallback(function(z,W=!1){let K;return e(()=>{var U;(U=M.current)==null||U.unsubscribe(),M.current=K=B(C(z,{subscriptionOptions:L.current,forceRefetch:!W})),E(z)}),K},[B,C]),R=_.useCallback(()=>{var z,W;(z=M.current)!=null&&z.queryCacheKey&&B(t.internalActions.removeQueryResult({queryCacheKey:(W=M.current)==null?void 0:W.queryCacheKey}))},[B]);return _.useEffect(()=>()=>{var z;(z=M==null?void 0:M.current)==null||z.unsubscribe()},[]),_.useEffect(()=>{S!==L6&&!M.current&&I(S,!0)},[S,I]),_.useMemo(()=>[I,S,{reset:R}],[I,S,R])},g=(y,{skip:x=!1,selectFromResult:b}={})=>{const{select:w}=t.endpoints[p],C=bL(x?Rc:y,o,l.endpointDefinitions[p],p),B=_.useRef(void 0),S=_.useMemo(()=>a([w(C),(I,R)=>R,I=>C],u,{memoizeOptions:{resultEqualityCheck:ym}}),[w,C]),E=_.useMemo(()=>b?a([S],b,{devModeChecks:{identityFunctionCheck:"never"}}):S,[S,b]),M=n(I=>E(I,B.current),ym),T=i(),L=S(T.getState(),B.current);return the(()=>{B.current=L},[L]),M};return{useQueryState:g,useQuerySubscription:m,useLazyQuerySubscription:v,useLazyQuery(y){const[x,b,{reset:w}]=v(y),C=g(b,{...y,skip:b===L6}),B=_.useMemo(()=>({lastArg:b}),[b]);return _.useMemo(()=>[x,{...C,reset:w},B],[x,C,w,B])},useQuery(y,x){const b=m(y,x),w=g(y,{selectFromResult:y===Rc||x!=null&&x.skip?void 0:rhe,...x}),{data:C,status:B,isLoading:S,isSuccess:E,isError:M,error:T}=w;return _.useDebugValue({data:C,status:B,isLoading:S,isSuccess:E,isError:M,error:T}),_.useMemo(()=>({...w,...b}),[w,b])}}}function f(p){return({selectFromResult:m,fixedCacheKey:v}={})=>{const{select:g,initiate:y}=t.endpoints[p],x=r(),[b,w]=_.useState();_.useEffect(()=>()=>{b!=null&&b.arg.fixedCacheKey||b==null||b.reset()},[b]);const C=_.useCallback(function(ne){const re=x(y(ne,{fixedCacheKey:v}));return w(re),re},[x,y,v]),{requestId:B}=b||{},S=_.useMemo(()=>g({fixedCacheKey:v,requestId:b==null?void 0:b.requestId}),[v,b,g]),E=_.useMemo(()=>m?a([S],m):S,[m,S]),M=n(E,ym),T=v==null?b==null?void 0:b.arg.originalArgs:void 0,L=_.useCallback(()=>{e(()=>{b&&w(void 0),v&&x(t.internalActions.removeMutationResult({requestId:B,fixedCacheKey:v}))})},[x,v,b,B]),{endpointName:I,data:R,status:z,isLoading:W,isSuccess:K,isError:U,error:q}=M;_.useDebugValue({endpointName:I,data:R,status:z,isLoading:W,isSuccess:K,isError:U,error:q});const N=_.useMemo(()=>({...M,originalArgs:T,reset:L}),[M,T,L]);return _.useMemo(()=>[C,N],[C,N])}}}var ihe=Symbol(),she=({batch:t=jue,hooks:e={useDispatch:F0,useSelector:vu,useStore:fq},createSelector:r=Xk,unstable__sideEffectsInRender:n=!1,...i}={})=>({name:ihe,init(s,{serializeQueryArgs:a},o){const l=s,{buildQueryHooks:c,buildMutationHook:u,usePrefetch:d}=nhe({api:s,moduleOptions:{batch:t,hooks:e,unstable__sideEffectsInRender:n,createSelector:r},serializeQueryArgs:a,context:o});return C2(l,{usePrefetch:d}),C2(o,{batch:t}),{injectEndpoint(A,f){if(q0e(f)){const{useQuery:p,useLazyQuery:m,useLazyQuerySubscription:v,useQueryState:g,useQuerySubscription:y}=c(A);C2(l.endpoints[A],{useQuery:p,useLazyQuery:m,useLazyQuerySubscription:v,useQueryState:g,useQuerySubscription:y}),s[`use${D6(A)}Query`]=p,s[`useLazy${D6(A)}Query`]=m}else if(W0e(f)){const p=u(A);C2(l.endpoints[A],{useMutation:p}),s[`use${D6(A)}Mutation`]=p}}}}}),Xi=N0e(K0e(),she());const ahe=async()=>{var r,n;const t=localStorage.getItem("refreshToken");if(!t)throw new Error("No refresh token available");const e=await kt.post(`${Ut}/auth/refresh-access-token`,{refresh_token:t},{headers:{"Content-Type":"application/json",token:t}});if(((r=e==null?void 0:e.data)==null?void 0:r.statusCode)===200)return localStorage.setItem("accessToken",(n=e==null?void 0:e.data)==null?void 0:n.accessToken),e==null?void 0:e.data.accessToken;throw new Error("Token refresh failed")},ohe=Uq({baseUrl:`${Ut}`,prepareHeaders:(t,{meta:e})=>{const r=localStorage.getItem("accessToken");return e!=null&&e.file?t.set("Content-Type","multipart/form-data"):t.set("Content-Type","application/json"),r&&t.set("token",r),t}}),lhe=Uq({baseUrl:`${Ut}`}),Yi=async(t,e,r)=>{var a,o;const{meta:n}=t,i=n!=null&&n.skipHeaders?lhe:ohe;let s=await i(t,e,r);if(((o=(a=s.error)==null?void 0:a.data)==null?void 0:o.statusCode)===4001)try{const l=await ahe(),c={...t.headers,token:l},u={...t,headers:c,meta:{...n,skipHeaders:!1}};s=await i(u,e,r),console.log("Retry result after token refresh:",s)}catch(l){console.error("Token refresh failed:",l),await kt.post(`${Ut}/auth/logout`,{refresh_token:`${localStorage.getItem("refreshToken")}`}),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),e.dispatch(E4(!1)),s={error:{message:"Token refresh failed. Please log in again.",statusCode:1010}},console.log("result refresh token failure",s)}return s},M4=Xi({reducerPath:"user",baseQuery:Yi,endpoints:t=>({updateAvatar:t.mutation({query:e=>({url:"/auth/update-avatar",method:"PUT",body:e,headers:{"Content-Type":"multipart/form-data"}}),meta:{skipToken:!0,skipHeaders:!0}}),userSignUp:t.mutation({query:e=>({url:"/auth/signup",method:"POST",body:e}),meta:{skipToken:!0,skipHeaders:!0}}),createUser:t.mutation({query:e=>({url:"/auth/create-user",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),createAdmin:t.mutation({query:e=>({url:"/auth/create-admin",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),deleteUser:t.mutation({query:e=>({url:"/auth/delete-user",method:"DELETE",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),userLogIn:t.mutation({query:e=>({url:"/auth/login",method:"POST",body:e}),meta:{skipToken:!0,skipHeaders:!0}}),studentLogIn:t.mutation({query:e=>({url:"/auth/login-student",method:"POST",body:e}),meta:{skipToken:!0,skipHeaders:!0}}),userLogOut:t.mutation({query:e=>({url:"/auth/logout",method:"POST",body:e}),meta:{skipToken:!0,skipHeaders:!0}}),updateProfile:t.mutation({query:e=>({url:"/auth/update-profile",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),updateUser:t.mutation({query:e=>({url:"/auth/update-user",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),updatePassword:t.mutation({query:e=>({url:"/auth/update-password",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),verifyUser:t.mutation({query:e=>({url:"/auth/verify-user",method:"POST",body:e}),meta:{skipToken:!0,skipHeaders:!1}}),verifyOtp:t.mutation({query:e=>({url:"/auth/verify-otp",method:"POST",body:e}),meta:{skipToken:!0,skipHeaders:!1}}),sendOtpToEmail:t.mutation({query:e=>({url:"/auth/send-otp",method:"POST",body:e}),meta:{skipToken:!0,skipHeaders:!1}}),getUser:t.query({query:({user_id:e})=>({url:`/auth/get-user/${e}`,method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}}),getAllParents:t.query({query:({page:e,limit:r})=>{const n={};return e!==void 0&&(n.page=e),r!==void 0&&(n.limit=r),{url:"/auth/get-all-parents",method:"GET",params:n}},meta:{skipToken:!1,skipHeaders:!1}}),getAllTeachers:t.query({query:({page:e,limit:r})=>{const n={};return e!==void 0&&(n.page=e),r!==void 0&&(n.limit=r),{url:"/auth/get-all-teachers",method:"GET",params:n}},meta:{skipToken:!1,skipHeaders:!1}}),getAllStudents:t.query({query:({page:e,limit:r})=>{const n={};return e!==void 0&&(n.page=e),r!==void 0&&(n.limit=r),{url:"/auth/get-all-students",method:"GET",params:n}},meta:{skipToken:!1,skipHeaders:!1}})})}),{useUserLogOutMutation:che,useUpdateProfileMutation:uhe,useGetAllParentsQuery:rE,useUpdateAvatarMutation:dhe,useDeleteUserMutation:hhe,useCreateUserMutation:Ahe,useCreateAdminMutation:wHe,useUpdateUserMutation:fhe,useUserSignUpMutation:CHe,useUserLogInMutation:phe,useStudentLogInMutation:mhe,useUpdatePasswordMutation:Vq,useVerifyUserMutation:ghe,useVerifyOtpMutation:yhe,useSendOtpToEmailMutation:vhe,useGetUserQuery:Kq,useGetAllStudentsQuery:xhe,useGetAllTeachersQuery:bhe}=M4,whe=()=>{const t=bt(),{login:e}=An(),[r,{isLoading:n}]=phe(),[i,{isLoading:s}]=mhe(),[a,o]=_.useState("student"),[l,c]=_.useState({rollNo:"",email:"",password:""}),u=async d=>{var A,f,p;if(d.preventDefault(),a==="student"&&l.rollNo!==""&&l.password!==""||a==="other"&&l.email!==""&&l.password!=="")try{let m;if(a==="student"?m=await i({user_roll_no:l.rollNo,password:l.password}).unwrap():m=await r({email:l.email,password:l.password}).unwrap(),(m==null?void 0:m.statusCode)===200){const v=m.data.user,g={user:v,accessToken:(A=m==null?void 0:m.data)==null?void 0:A.accessToken,refreshToken:(f=m==null?void 0:m.data)==null?void 0:f.refreshToken,isAuthenticated:!0};e(g),Z.success("Sign-in successful!",{position:"top-right",autoClose:3e3}),v.role===he.SUPER_ADMIN||v.role===he.ADMIN?t("/admin/"):v.role===he.USER?t("/"):v.role===he.PARENT?t("/parent"):v.role===he.TEACHER&&t("/teacher")}}catch(m){console.error("Error during sign-in",m),Z.error(`${((p=m.data)==null?void 0:p.message)||(m==null?void 0:m.message)||"An error occurred. Please try again."}`,{position:"top-right",autoClose:3e3})}else Z.error("Please fill in all required fields.",{position:"top-right",autoClose:3e3})};return h.jsxs("div",{className:"min-h-screen relative bg-custom-gradient overflow-hidden",children:[h.jsxs("div",{className:"absolute inset-0",children:[h.jsx("div",{className:"h-1/2 bg-bg-gradient"}),h.jsx("div",{className:"h-1/2 bg-white"})]}),h.jsxs("div",{className:"relative px-6 py-4 lg:flex lg:justify-center lg:items-center lg:min-h-screen",children:[h.jsxs("div",{className:"lg:w-1/2 lg:pl-12 items-start mb-1 lg:mb-0 order-2 lg:order-9 z-20 hidden lg:block",children:[h.jsx("img",{src:T0,alt:"Tooty Logo",className:"w-32 h-auto mb-8"}),h.jsxs("div",{className:"text-white max-w-xl",children:[h.jsx("h1",{className:"font-paytone text-[32px] sm:text-[40px] font-bold leading-tight mb-4",children:"Meet Tooty"}),h.jsx("p",{className:"font-rubik text-[16px] sm:text-[18px] font-normal leading-relaxed mb-8",children:"Improving Grades, Building Confidence, and Empowering Success."}),h.jsx("div",{className:"relative -right-20 transform lg:translate-x-0",children:h.jsx("img",{src:m0e,alt:"Sign-in Animation",className:"max-w-[20rem] h-auto"})})]})]}),h.jsxs("div",{className:"font-poppins bg-white shadow-xl rounded-3xl p-6 sm:p-8 lg:w-[440px] w-full max-w-[400px] mx-auto mt-4 lg:mt-0 z-30",children:[h.jsxs("div",{className:"text-start mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold font-paytone text-gray-600",children:"Welcome to Tooty!"}),h.jsx("h1",{className:"text-lg font-normal font-rubik text-gray-600 mt-1.5",children:"Please enter your details"}),h.jsx("h1",{className:"text-3xl font-bold font-paytone mt-2",children:"Sign In"})]}),h.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a==="student"?h.jsxs("div",{children:[h.jsx("label",{htmlFor:"rollNo",className:"block text-sm font-medium text-gray-700",children:"Enter your Roll No"}),h.jsx("input",{id:"rollNo",name:"rollNo",type:"text",required:!0,className:"mt-1 block w-full rounded-lg border border-gray-300 px-4 py-2.5 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500",placeholder:"Roll Number",value:l.rollNo,onChange:d=>c({...l,rollNo:d.target.value})})]}):h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Enter your Email address"}),h.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"mt-1 block w-full rounded-lg border border-gray-300 px-4 py-2.5 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500",placeholder:"Email address",value:l.email,onChange:d=>c({...l,email:d.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Enter your Password"}),h.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"mt-1 block w-full rounded-lg border border-gray-300 px-4 py-2.5 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500",placeholder:"Password",value:l.password,onChange:d=>c({...l,password:d.target.value})})]}),h.jsx("div",{className:"flex items-end justify-end",children:h.jsx(gu,{to:"/forget-password",className:"text-[13px] text-black hover:text-[#3B1E76]",children:"Forgot Password"})}),h.jsx("button",{disabled:n||s,className:`w-full rounded-lg py-2.5 text-white transition-all focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 ${n||s?"bg-gray-400 cursor-not-allowed":"bg-bg-gradient hover:bg-hover-gradient"}`,children:n||s?"Signing in...":"Sign in"}),h.jsxs("div",{className:"text-center mt-4",children:[h.jsx("p",{className:"text-sm text-gray-600",children:"No Account? Contact your School Administration."}),h.jsx(gu,{to:"#",onClick:()=>o(a==="student"?"other":"student"),className:"text-sm text-[#3B1E76] hover:text-purple-600",children:a==="student"?"Login with another account":"Login as student"})]})]})]})]})]})},qq="/assets/logo-CE3pLYgU.png",Wq="/assets/signin-CPN8mZs1.png",Che=()=>{const[t,e]=_.useState(1),[r,n]=_.useState(""),[i,s]=_.useState(""),[a,o]=_.useState(""),[l,c]=_.useState(""),[u,d]=_.useState(!1),[A,{isLoading:f}]=Vq(),[p,{isLoading:m}]=yhe(),[v,{isLoading:g}]=vhe(),y=async w=>{var B;w.preventDefault();const C={email:r};if(r!=="")try{const S=await v(C).unwrap();(S==null?void 0:S.statusCode)===200&&e(2)}catch(S){Z.error(((B=S==null?void 0:S.data)==null?void 0:B.message)||(S==null?void 0:S.message)||"Error Sending OTP to email")}},x=async w=>{var B;w.preventDefault();const C={email:r,otp:i};if(r!==""&&i!=="")try{const S=await p(C).unwrap();(S==null?void 0:S.statusCode)===200&&(S!=null&&S.data.success)&&(d(!0),e(3))}catch(S){Z.error(((B=S==null?void 0:S.data)==null?void 0:B.message)||(S==null?void 0:S.message)||"Invalid OTP")}},b=async w=>{var C;if(w.preventDefault(),a!=""&&l!=""){if(a!==l){Z.error("Passwords do not match. Please try again.");return}const B={email:r,otp:i,password:a};try{const S=await A(B).unwrap();(S==null?void 0:S.statusCode)===200&&e(4)}catch(S){Z.error(((C=S==null?void 0:S.data)==null?void 0:C.message)||(S==null?void 0:S.message)||"Failed to update password")}}};return h.jsxs("div",{className:"min-h-full relative bg-bg-gradient",children:[h.jsxs("div",{className:"absolute inset-0",children:[h.jsx("div",{className:"h-1/2 bg-background-colour"}),h.jsx("div",{className:"h-1/2 bg-white"})]}),h.jsx("div",{className:"absolute top-8 transform translate-x-40 z-10 hidden lg:block",children:h.jsx("img",{src:Wq,alt:"Sign-in Animation",className:"max-w-[38rem] h-auto max-h-[30rem]"})}),h.jsxs("div",{className:"relative px-8 flex flex-col lg:flex-row justify-center lg:justify-between items-center",children:[h.jsxs("div",{className:"lg:w-1/2 top-0 pb-36 items-start mb-10 lg:mb-36 hidden lg:block",children:[h.jsx("img",{src:qq,alt:"Tooty Logo",width:120,height:80}),h.jsxs("div",{className:"text-white max-w-2xl",children:[h.jsx("h1",{className:"font-poppins text-[34px] font-normal leading-[51px] text-left mb-0 lg:mb-0",children:"Forget password"}),h.jsx("p",{className:"font-poppins text-[13px] font-light leading-[19.5px] text-left mb-8",children:"Complete the following steps to reset your password."})]})]}),h.jsxs("div",{className:"font-poppins bg-white shadow-xl rounded-3xl p-8 lg:w-[480px] w-full max-w-[400px] lg:mr-12 mt-5 z-20",children:[t===1&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl text-black",children:"Enter Your Email"}),h.jsxs("form",{onSubmit:y,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Enter your email address"}),h.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"mt-2 block w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500",placeholder:"Email address",value:r,onChange:w=>n(w.target.value)})]}),h.jsx("button",{type:"submit",className:`w-full rounded-lg ${g?"bg-gray-400 cursor-not-allowed":"bg-bg-gradient hover:bg-hover-gradient"} py-3 text-white  focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all`,children:g?"Sending OTP...":"Send OTP"})]})]}),t===2&&!u&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl text-black",children:"Enter OTP"}),h.jsxs("form",{onSubmit:x,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-700",children:["Enter the OTP sent to ",r]}),h.jsx("div",{className:"flex justify-center space-x-2 mt-4",children:[...Array(6)].map((w,C)=>h.jsx("input",{type:"number",maxLength:"1",value:i[C]||"",onChange:B=>{const S=i.split("");if(S[C]=B.target.value,B.target.value&&C<5){const E=document.getElementById(`otp-input-${C+1}`);E&&E.focus()}s(S.join(""))},onKeyDown:B=>{const S=B.key;if(S==="Backspace"&&!i[C]&&C>0){const E=document.getElementById(`otp-input-${C-1}`);E&&E.focus()}!/^\d$/.test(S)&&S!=="Backspace"&&S!=="ArrowLeft"&&S!=="ArrowRight"&&B.preventDefault()},id:`otp-input-${C}`,className:"w-9 h-9 lg:w-12 lg:h-12 text-center text-xl border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none"},C))})]}),h.jsx("button",{type:"submit",className:`w-full rounded-lg  py-3 text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all ${m?"bg-gray-400 cursor-not-allowed":"bg-bg-gradient hover:bg-hover-gradient"}`,children:"Verify OTP"})]})]}),t===2&&u&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl text-black",children:"OTP Verified"}),h.jsx("p",{className:"text-green-500 mt-4",children:"Your OTP has been successfully verified!"})]}),t===3&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl text-black mb-4 font-semibold",children:"Set New Password"}),h.jsxs("form",{onSubmit:b,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"new-password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),h.jsx("input",{id:"new-password",name:"new-password",type:"password",required:!0,className:"mt-2 block w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500",placeholder:"New password",value:a,onChange:w=>o(w.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),h.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",required:!0,className:"mt-2 block w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500",placeholder:"Confirm new password",value:l,onChange:w=>c(w.target.value)})]}),h.jsx("button",{type:"submit",className:`w-full rounded-lg py-3 text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all ${f?"bg-gray-400 cursor-not-allowed":"bg-bg-gradient hover:bg-hover-gradient"}`,children:"Reset Password"})]})]}),t===4&&h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-xl text-black",children:"Password Reset Complete"}),h.jsx("p",{className:"mt-4 text-green-500",children:"Your password has been reset successfully."}),h.jsx(gu,{to:"/login",className:"text-blue-500 underline mt-6 block",children:"Go to Login"})]})]})]})]})};var Gq={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wL=Pe.createContext&&Pe.createContext(Gq),Bhe=["attr","size","title"];function She(t,e){if(t==null)return{};var r=_he(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _he(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yb(){return yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yb.apply(this,arguments)}function CL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(r),!0).forEach(function(n){khe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function khe(t,e,r){return e=Ehe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ehe(t){var e=Mhe(t,"string");return typeof e=="symbol"?e:e+""}function Mhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xq(t){return t&&t.map((e,r)=>Pe.createElement(e.tag,vb({key:r},e.attr),Xq(e.child)))}function it(t){return e=>Pe.createElement(Fhe,yb({attr:vb({},t.attr)},e),Xq(t.child))}function Fhe(t){var e=r=>{var{attr:n,size:i,title:s}=t,a=She(t,Bhe),o=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),Pe.createElement("svg",yb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:l,style:vb(vb({color:t.color||r.color},r.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&Pe.createElement("title",null,s),t.children)};return wL!==void 0?Pe.createElement(wL.Consumer,null,r=>e(r)):e(Gq)}function The(t){return it({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function nE(t){return it({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(t)}function q9(t){return it({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M208 0c-29.9 0-54.7 20.5-61.8 48.2-.8 0-1.4-.2-2.2-.2-35.3 0-64 28.7-64 64 0 4.8.6 9.5 1.7 14C52.5 138 32 166.6 32 200c0 12.6 3.2 24.3 8.3 34.9C16.3 248.7 0 274.3 0 304c0 33.3 20.4 61.9 49.4 73.9-.9 4.6-1.4 9.3-1.4 14.1 0 39.8 32.2 72 72 72 4.1 0 8.1-.5 12-1.2 9.6 28.5 36.2 49.2 68 49.2 39.8 0 72-32.2 72-72V64c0-35.3-28.7-64-64-64zm368 304c0-29.7-16.3-55.3-40.3-69.1 5.2-10.6 8.3-22.3 8.3-34.9 0-33.4-20.5-62-49.7-74 1-4.5 1.7-9.2 1.7-14 0-35.3-28.7-64-64-64-.8 0-1.5.2-2.2.2C422.7 20.5 397.9 0 368 0c-35.3 0-64 28.6-64 64v376c0 39.8 32.2 72 72 72 31.8 0 58.4-20.7 68-49.2 3.9.7 7.9 1.2 12 1.2 39.8 0 72-32.2 72-72 0-4.8-.5-9.5-1.4-14.1 29-12 49.4-40.6 49.4-73.9z"},child:[]}]})(t)}function Yq(t){return it({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"},child:[]}]})(t)}function Dhe(t){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function Lhe(t){return it({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M616 192H480V24c0-13.26-10.74-24-24-24H312c-13.26 0-24 10.74-24 24v72h-64V16c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v80h-64V16c0-8.84-7.16-16-16-16H80c-8.84 0-16 7.16-16 16v80H24c-13.26 0-24 10.74-24 24v360c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V216c0-13.26-10.75-24-24-24zM128 404c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm128 192c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12V76c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 288c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40z"},child:[]}]})(t)}function ta(t){return it({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function iE(t){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function gA(t){return it({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function F4(t){return it({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function Sa(t){return it({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function xb(t){return it({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"},child:[]}]})(t)}function Nhe(t){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(t)}function sE(t){return it({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(t)}function jhe(t){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(t)}function zA(t){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function j6(t){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(t)}function aE(t){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"},child:[]}]})(t)}function bm(t){return it({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function W9(t){return it({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function Ihe(t){return it({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function Jq(t){return it({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function oE(t){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function Zq(t){return it({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function _1(t){return it({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function bb(t){return it({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M519.442 288.651c-41.519 0-59.5 31.593-82.058 31.593C377.409 320.244 432 144 432 144s-196.288 80-196.288-3.297c0-35.827 36.288-46.25 36.288-85.985C272 19.216 243.885 0 210.539 0c-34.654 0-66.366 18.891-66.366 56.346 0 41.364 31.711 59.277 31.711 81.75C175.885 207.719 0 166.758 0 166.758v333.237s178.635 41.047 178.635-28.662c0-22.473-40-40.107-40-81.471 0-37.456 29.25-56.346 63.577-56.346 33.673 0 61.788 19.216 61.788 54.717 0 39.735-36.288 50.158-36.288 85.985 0 60.803 129.675 25.73 181.23 25.73 0 0-34.725-120.101 25.827-120.101 35.962 0 46.423 36.152 86.308 36.152C556.712 416 576 387.99 576 354.443c0-34.199-18.962-65.792-56.558-65.792z"},child:[]}]})(t)}function BL(t){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(t)}function Xs(t){return it({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(t)}function ff(t){return it({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function x0(t){return it({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M0 224v272c0 8.84 7.16 16 16 16h80V192H32c-17.67 0-32 14.33-32 32zm360-48h-24v-40c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v64c0 4.42 3.58 8 8 8h48c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zm137.75-63.96l-160-106.67a32.02 32.02 0 0 0-35.5 0l-160 106.67A32.002 32.002 0 0 0 128 138.66V512h128V368c0-8.84 7.16-16 16-16h96c8.84 0 16 7.16 16 16v144h128V138.67c0-10.7-5.35-20.7-14.25-26.63zM320 256c-44.18 0-80-35.82-80-80s35.82-80 80-80 80 35.82 80 80-35.82 80-80 80zm288-64h-64v320h80c8.84 0 16-7.16 16-16V224c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function Ohe(t){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function jr(t){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function G9(t){return it({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"},child:[]}]})(t)}function Phe(t){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(t)}function Uhe(t){return it({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Uu(t){return it({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function Rhe(t){return it({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z"},child:[]}]})(t)}function HA(t){return it({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function Qhe(t){return it({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M630.6 364.9l-90.3-90.2c-12-12-28.3-18.7-45.3-18.7h-79.3c-17.7 0-32 14.3-32 32v79.2c0 17 6.7 33.2 18.7 45.2l90.3 90.2c12.5 12.5 32.8 12.5 45.3 0l92.5-92.5c12.6-12.5 12.6-32.7.1-45.2zm-182.8-21c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24c0 13.2-10.7 24-24 24zm-223.8-88c70.7 0 128-57.3 128-128C352 57.3 294.7 0 224 0S96 57.3 96 128c0 70.6 57.3 127.9 128 127.9zm127.8 111.2V294c-12.2-3.6-24.9-6.2-38.2-6.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 287.9 0 348.1 0 422.3v41.6c0 26.5 21.5 48 48 48h352c15.5 0 29.1-7.5 37.9-18.9l-58-58c-18.1-18.1-28.1-42.2-28.1-67.9z"},child:[]}]})(t)}function di(t){return it({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const zhe=()=>{const t=Ra(),{userEmail:e}=t.state,[r,n]=_.useState(1),[i,s]=_.useState(""),[a,o]=_.useState(!1),[l,c]=_.useState(!1),[u,{isLoading:d,error:A}]=ghe(),f=async m=>{m.preventDefault();const v={email:e,otp:i};if(e&&i.length===6){c(!0);try{const g=await u(v).unwrap();(g==null?void 0:g.statusCode)===200&&(g!=null&&g.data.success)?(o(!0),n(2)):(o(!1),Z.error("Invalid OTP, please try again."))}catch(g){console.error("Verification error:",g),Z.error("Could Not verify OTP")}finally{c(!1)}}else Z.error("Please enter a valid 6-digit OTP.")},p=(m,v)=>{const g=m.target.value;if(/^\d*$/.test(g)&&g.length<=1){const y=i.split("");y[v]=g,s(y.join("")),g&&v<5&&document.getElementById(`otp-input-${v+1}`).focus()}};return h.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-bg-gradient",children:[h.jsxs("div",{className:"absolute inset-0",children:[h.jsx("div",{className:"h-1/2 bg-background-colour"}),h.jsx("div",{className:"h-1/2 bg-white"})]}),h.jsx("div",{className:"absolute top-8 transform translate-x-40 z-10 hidden lg:block",children:h.jsx("img",{src:Wq,alt:"Sign-in Animation",className:"max-w-[38rem] h-auto max-h-[30rem]"})}),h.jsxs("div",{className:"relative px-4 lg:px-8 flex flex-col lg:flex-row justify-between items-center w-full max-w-5xl",children:[h.jsxs("div",{className:"lg:w-1/2 top-0 pb-36 items-start mb-10 lg:mb-36 hidden lg:block",children:[h.jsx("img",{src:qq,alt:"Tooty Logo",width:120,height:80}),h.jsxs("div",{className:"text-white max-w-2xl",children:[h.jsx("h1",{className:"font-poppins text-3xl font-normal leading-tight text-left mb-0 lg:mb-0",children:"Email Verification"}),h.jsx("p",{className:"font-poppins text-sm font-light leading-relaxed text-left mb-8",children:"Complete the following step to verify your email."})]})]}),h.jsxs("div",{className:"font-poppins bg-white shadow-xl rounded-3xl p-8 lg:w-[480px] w-full max-w-[400px] mr-12 mt-5 z-20",children:[r===1&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl text-black",children:"OTP Sent"}),h.jsx("p",{className:"text-gray-500 mt-4",children:"We have sent an OTP to your email. Please enter it below to verify your email."}),h.jsxs("form",{onSubmit:f,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-700",children:"Enter the OTP sent to your email"}),h.jsx("div",{className:"flex justify-center space-x-2 mt-4",children:[...Array(6)].map((m,v)=>h.jsx("input",{id:`otp-input-${v}`,type:"text",maxLength:"1",value:i[v]||"",onChange:g=>p(g,v),className:"w-12 h-12 text-center text-xl border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none"},v))})]}),h.jsx("button",{type:"submit",className:`w-full rounded-lg bg-bg-gradient py-3 text-white hover:bg-hover-gradient focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all ${l?"opacity-50 cursor-not-allowed":""}`,disabled:d,children:d?"Verifying...":"Verify OTP"})]})]}),r===2&&!a&&h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-xl text-black",children:"Invalid OTP"}),h.jsx("p",{className:"text-red-500 mt-4",children:"The OTP you entered is invalid. Please try again."}),h.jsx("div",{className:"text-red-500 mt-4",children:h.jsx(Phe,{className:"inline-block text-4xl"})}),h.jsx("button",{onClick:()=>n(1),className:"w-full rounded-lg bg-bg-gradient py-3 text-white mt-6 hover:bg-hover-gradient focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all",children:"Try Again"})]}),r===2&&a&&h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-xl text-black",children:"OTP Verified"}),h.jsx("p",{className:"text-green-500 mt-4",children:"Your OTP has been successfully verified!"}),h.jsx("div",{className:"text-green-500 mt-4",children:h.jsx(Dhe,{className:"inline-block text-4xl"})}),h.jsxs(gu,{to:"/login",className:"w-full rounded-lg bg-bg-gradient py-3 text-white mt-6 hover:bg-hover-gradient focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all flex justify-center items-center gap-2",children:[h.jsx(The,{})," Back to Login"]})]})]})]})]})},lE="/assets/user-default-image-UXuvzQ4k.jpeg";function Hhe({subject:t}){vu(r=>r.auth.avatar_url);const{user:e}=An();return console.log("user",e),h.jsxs("div",{className:"border-b bg-white border-gray-200 p-4 flex items-center justify-between sticky top-0 z-10",children:[h.jsx("div",{className:"flex items-center gap-3 ml-[25px]",children:h.jsx("h1",{className:"text-2xl font-semibold text-[#434C56]",children:t})}),h.jsx("div",{className:"relative"})]})}function SL(t){const e=[],r=String(t||"");let n=r.indexOf(","),i=0,s=!1;for(;!s;){n===-1&&(n=r.length,s=!0);const a=r.slice(i,n).trim();(a||!s)&&e.push(a),i=n+1,n=r.indexOf(",",i)}return e}function $he(t,e){const r={};return(t[t.length-1]===""?[...t,""]:t).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const Vhe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Khe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qhe={};function _L(t,e){return(qhe.jsx?Khe:Vhe).test(t)}const Whe=/[ \t\n\f\r]/g;function Ghe(t){return typeof t=="object"?t.type==="text"?kL(t.value):!1:kL(t)}function kL(t){return t.replace(Whe,"")===""}let k1=class{constructor(e,r,n){this.normal=r,this.property=e,n&&(this.space=n)}};k1.prototype.normal={};k1.prototype.property={};k1.prototype.space=void 0;function eW(t,e){const r={},n={};for(const i of t)Object.assign(r,i.property),Object.assign(n,i.normal);return new k1(r,n,e)}function Mg(t){return t.toLowerCase()}class Ji{constructor(e,r){this.attribute=r,this.property=e}}Ji.prototype.attribute="";Ji.prototype.booleanish=!1;Ji.prototype.boolean=!1;Ji.prototype.commaOrSpaceSeparated=!1;Ji.prototype.commaSeparated=!1;Ji.prototype.defined=!1;Ji.prototype.mustUseProperty=!1;Ji.prototype.number=!1;Ji.prototype.overloadedBoolean=!1;Ji.prototype.property="";Ji.prototype.spaceSeparated=!1;Ji.prototype.space=void 0;let Xhe=0;const ct=D0(),Xr=D0(),tW=D0(),Be=D0(),rr=D0(),yA=D0(),ns=D0();function D0(){return 2**++Xhe}const X9=Object.freeze(Object.defineProperty({__proto__:null,boolean:ct,booleanish:Xr,commaOrSpaceSeparated:ns,commaSeparated:yA,number:Be,overloadedBoolean:tW,spaceSeparated:rr},Symbol.toStringTag,{value:"Module"})),I6=Object.keys(X9);class cE extends Ji{constructor(e,r,n,i){let s=-1;if(super(e,r),EL(this,"space",i),typeof n=="number")for(;++s<I6.length;){const a=I6[s];EL(this,I6[s],(n&X9[a])===X9[a])}}}cE.prototype.defined=!0;function EL(t,e,r){r&&(t[e]=r)}function pf(t){const e={},r={};for(const[n,i]of Object.entries(t.properties)){const s=new cE(n,t.transform(t.attributes||{},n),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(n)&&(s.mustUseProperty=!0),e[n]=s,r[Mg(n)]=n,r[Mg(s.attribute)]=n}return new k1(e,r,t.space)}const rW=pf({properties:{ariaActiveDescendant:null,ariaAtomic:Xr,ariaAutoComplete:null,ariaBusy:Xr,ariaChecked:Xr,ariaColCount:Be,ariaColIndex:Be,ariaColSpan:Be,ariaControls:rr,ariaCurrent:null,ariaDescribedBy:rr,ariaDetails:null,ariaDisabled:Xr,ariaDropEffect:rr,ariaErrorMessage:null,ariaExpanded:Xr,ariaFlowTo:rr,ariaGrabbed:Xr,ariaHasPopup:null,ariaHidden:Xr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:rr,ariaLevel:Be,ariaLive:null,ariaModal:Xr,ariaMultiLine:Xr,ariaMultiSelectable:Xr,ariaOrientation:null,ariaOwns:rr,ariaPlaceholder:null,ariaPosInSet:Be,ariaPressed:Xr,ariaReadOnly:Xr,ariaRelevant:null,ariaRequired:Xr,ariaRoleDescription:rr,ariaRowCount:Be,ariaRowIndex:Be,ariaRowSpan:Be,ariaSelected:Xr,ariaSetSize:Be,ariaSort:null,ariaValueMax:Be,ariaValueMin:Be,ariaValueNow:Be,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function nW(t,e){return e in t?t[e]:e}function iW(t,e){return nW(t,e.toLowerCase())}const Yhe=pf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:yA,acceptCharset:rr,accessKey:rr,action:null,allow:null,allowFullScreen:ct,allowPaymentRequest:ct,allowUserMedia:ct,alt:null,as:null,async:ct,autoCapitalize:null,autoComplete:rr,autoFocus:ct,autoPlay:ct,blocking:rr,capture:null,charSet:null,checked:ct,cite:null,className:rr,cols:Be,colSpan:null,content:null,contentEditable:Xr,controls:ct,controlsList:rr,coords:Be|yA,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ct,defer:ct,dir:null,dirName:null,disabled:ct,download:tW,draggable:Xr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ct,formTarget:null,headers:rr,height:Be,hidden:ct,high:Be,href:null,hrefLang:null,htmlFor:rr,httpEquiv:rr,id:null,imageSizes:null,imageSrcSet:null,inert:ct,inputMode:null,integrity:null,is:null,isMap:ct,itemId:null,itemProp:rr,itemRef:rr,itemScope:ct,itemType:rr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ct,low:Be,manifest:null,max:null,maxLength:Be,media:null,method:null,min:null,minLength:Be,multiple:ct,muted:ct,name:null,nonce:null,noModule:ct,noValidate:ct,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ct,optimum:Be,pattern:null,ping:rr,placeholder:null,playsInline:ct,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ct,referrerPolicy:null,rel:rr,required:ct,reversed:ct,rows:Be,rowSpan:Be,sandbox:rr,scope:null,scoped:ct,seamless:ct,selected:ct,shadowRootClonable:ct,shadowRootDelegatesFocus:ct,shadowRootMode:null,shape:null,size:Be,sizes:null,slot:null,span:Be,spellCheck:Xr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Be,step:null,style:null,tabIndex:Be,target:null,title:null,translate:null,type:null,typeMustMatch:ct,useMap:null,value:Xr,width:Be,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:rr,axis:null,background:null,bgColor:null,border:Be,borderColor:null,bottomMargin:Be,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ct,declare:ct,event:null,face:null,frame:null,frameBorder:null,hSpace:Be,leftMargin:Be,link:null,longDesc:null,lowSrc:null,marginHeight:Be,marginWidth:Be,noResize:ct,noHref:ct,noShade:ct,noWrap:ct,object:null,profile:null,prompt:null,rev:null,rightMargin:Be,rules:null,scheme:null,scrolling:Xr,standby:null,summary:null,text:null,topMargin:Be,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Be,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ct,disableRemotePlayback:ct,prefix:null,property:null,results:Be,security:null,unselectable:null},space:"html",transform:iW}),Jhe=pf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ns,accentHeight:Be,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Be,amplitude:Be,arabicForm:null,ascent:Be,attributeName:null,attributeType:null,azimuth:Be,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Be,by:null,calcMode:null,capHeight:Be,className:rr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Be,diffuseConstant:Be,direction:null,display:null,dur:null,divisor:Be,dominantBaseline:null,download:ct,dx:null,dy:null,edgeMode:null,editable:null,elevation:Be,enableBackground:null,end:null,event:null,exponent:Be,externalResourcesRequired:null,fill:null,fillOpacity:Be,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:yA,g2:yA,glyphName:yA,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Be,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Be,horizOriginX:Be,horizOriginY:Be,id:null,ideographic:Be,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Be,k:Be,k1:Be,k2:Be,k3:Be,k4:Be,kernelMatrix:ns,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Be,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Be,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Be,overlineThickness:Be,paintOrder:null,panose1:null,path:null,pathLength:Be,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:rr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Be,pointsAtY:Be,pointsAtZ:Be,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ns,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ns,rev:ns,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ns,requiredFeatures:ns,requiredFonts:ns,requiredFormats:ns,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Be,specularExponent:Be,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Be,strikethroughThickness:Be,string:null,stroke:null,strokeDashArray:ns,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Be,strokeOpacity:Be,strokeWidth:null,style:null,surfaceScale:Be,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ns,tabIndex:Be,tableValues:null,target:null,targetX:Be,targetY:Be,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ns,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Be,underlineThickness:Be,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Be,values:null,vAlphabetic:Be,vMathematical:Be,vectorEffect:null,vHanging:Be,vIdeographic:Be,version:null,vertAdvY:Be,vertOriginX:Be,vertOriginY:Be,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Be,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:nW}),sW=pf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),aW=pf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:iW}),oW=pf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Zhe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},eAe=/[A-Z]/g,ML=/-[a-z]/g,tAe=/^data[-\w.:]+$/i;function lW(t,e){const r=Mg(e);let n=e,i=Ji;if(r in t.normal)return t.property[t.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&tAe.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(ML,nAe);n="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!ML.test(s)){let a=s.replace(eAe,rAe);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=cE}return new i(n,e)}function rAe(t){return"-"+t.toLowerCase()}function nAe(t){return t.charAt(1).toUpperCase()}const cW=eW([rW,Yhe,sW,aW,oW],"html"),Bw=eW([rW,Jhe,sW,aW,oW],"svg");function FL(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function iAe(t){return t.join(" ").trim()}var uW={},TL=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,sAe=/\n/g,aAe=/^\s*/,oAe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,lAe=/^:\s*/,cAe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,uAe=/^[;\s]*/,dAe=/^\s+|\s+$/g,hAe=`
`,DL="/",LL="*",Td="",AAe="comment",fAe="declaration",pAe=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var r=1,n=1;function i(p){var m=p.match(sAe);m&&(r+=m.length);var v=p.lastIndexOf(hAe);n=~v?p.length-v:n+p.length}function s(){var p={line:r,column:n};return function(m){return m.position=new a(p),c(),m}}function a(p){this.start=p,this.end={line:r,column:n},this.source=e.source}a.prototype.content=t;function o(p){var m=new Error(e.source+":"+r+":"+n+": "+p);if(m.reason=p,m.filename=e.source,m.line=r,m.column=n,m.source=t,!e.silent)throw m}function l(p){var m=p.exec(t);if(m){var v=m[0];return i(v),t=t.slice(v.length),m}}function c(){l(aAe)}function u(p){var m;for(p=p||[];m=d();)m!==!1&&p.push(m);return p}function d(){var p=s();if(!(DL!=t.charAt(0)||LL!=t.charAt(1))){for(var m=2;Td!=t.charAt(m)&&(LL!=t.charAt(m)||DL!=t.charAt(m+1));)++m;if(m+=2,Td===t.charAt(m-1))return o("End of comment missing");var v=t.slice(2,m-2);return n+=2,i(v),t=t.slice(m),n+=2,p({type:AAe,comment:v})}}function A(){var p=s(),m=l(oAe);if(m){if(d(),!l(lAe))return o("property missing ':'");var v=l(cAe),g=p({type:fAe,property:NL(m[0].replace(TL,Td)),value:v?NL(v[0].replace(TL,Td)):Td});return l(uAe),g}}function f(){var p=[];u(p);for(var m;m=A();)m!==!1&&(p.push(m),u(p));return p}return c(),f()};function NL(t){return t?t.replace(dAe,Td):Td}var mAe=AT&&AT.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(uW,"__esModule",{value:!0});var jL=uW.default=yAe,gAe=mAe(pAe);function yAe(t,e){var r=null;if(!t||typeof t!="string")return r;var n=(0,gAe.default)(t),i=typeof e=="function";return n.forEach(function(s){if(s.type==="declaration"){var a=s.property,o=s.value;i?e(a,o,s):o&&(r=r||{},r[a]=o)}}),r}const vAe=jL.default||jL,dW=hW("end"),uE=hW("start");function hW(t){return e;function e(r){const n=r&&r.position&&r.position[t]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function xAe(t){const e=uE(t),r=dW(t);if(e&&r)return{start:e,end:r}}function wm(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?IL(t.position):"start"in t||"end"in t?IL(t):"line"in t||"column"in t?Y9(t):""}function Y9(t){return OL(t&&t.line)+":"+OL(t&&t.column)}function IL(t){return Y9(t&&t.start)+"-"+Y9(t&&t.end)}function OL(t){return t&&typeof t=="number"?t:1}class ii extends Error{constructor(e,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",s={},a=!1;if(r&&("line"in r&&"column"in r?s={place:r}:"start"in r&&"end"in r?s={place:r}:"type"in r?s={ancestors:[r],place:r.position}:s={...r}),typeof e=="string"?i=e:!s.cause&&e&&(a=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?s.ruleId=n:(s.source=n.slice(0,l),s.ruleId=n.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=o?o.line:void 0,this.name=wm(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}ii.prototype.file="";ii.prototype.name="";ii.prototype.reason="";ii.prototype.message="";ii.prototype.stack="";ii.prototype.column=void 0;ii.prototype.line=void 0;ii.prototype.ancestors=void 0;ii.prototype.cause=void 0;ii.prototype.fatal=void 0;ii.prototype.place=void 0;ii.prototype.ruleId=void 0;ii.prototype.source=void 0;const dE={}.hasOwnProperty,bAe=new Map,wAe=/[A-Z]/g,CAe=/-([a-z])/g,BAe=new Set(["table","tbody","thead","tfoot","tr"]),SAe=new Set(["td","th"]),AW="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function _Ae(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=e.filePath||void 0;let n;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=NAe(r,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=LAe(r,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:n,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Bw:cW,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=fW(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function fW(t,e,r){if(e.type==="element")return kAe(t,e,r);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return EAe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return FAe(t,e,r);if(e.type==="mdxjsEsm")return MAe(t,e);if(e.type==="root")return TAe(t,e,r);if(e.type==="text")return DAe(t,e)}function kAe(t,e,r){const n=t.schema;let i=n;e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=Bw,t.schema=i),t.ancestors.push(e);const s=mW(t,e.tagName,!1),a=jAe(t,e);let o=AE(t,e);return BAe.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!Ghe(l):!0})),pW(t,a,s,e),hE(a,o),t.ancestors.pop(),t.schema=n,t.create(e,s,a,r)}function EAe(t,e){if(e.data&&e.data.estree&&t.evaluater){const n=e.data.estree.body[0];return n.type,t.evaluater.evaluateExpression(n.expression)}Fg(t,e.position)}function MAe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Fg(t,e.position)}function FAe(t,e,r){const n=t.schema;let i=n;e.name==="svg"&&n.space==="html"&&(i=Bw,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:mW(t,e.name,!0),a=IAe(t,e),o=AE(t,e);return pW(t,a,s,e),hE(a,o),t.ancestors.pop(),t.schema=n,t.create(e,s,a,r)}function TAe(t,e,r){const n={};return hE(n,AE(t,e)),t.create(e,t.Fragment,n,r)}function DAe(t,e){return e.value}function pW(t,e,r,n){typeof r!="string"&&r!==t.Fragment&&t.passNode&&(e.node=n)}function hE(t,e){if(e.length>0){const r=e.length>1?e:e[0];r&&(t.children=r)}}function LAe(t,e,r){return n;function n(i,s,a,o){const c=Array.isArray(a.children)?r:e;return o?c(s,a,o):c(s,a)}}function NAe(t,e){return r;function r(n,i,s,a){const o=Array.isArray(s.children),l=uE(n);return e(i,s,a,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function jAe(t,e){const r={};let n,i;for(i in e.properties)if(i!=="children"&&dE.call(e.properties,i)){const s=OAe(t,i,e.properties[i]);if(s){const[a,o]=s;t.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&SAe.has(e.tagName)?n=o:r[a]=o}}if(n){const s=r.style||(r.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function IAe(t,e){const r={};for(const n of e.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&t.evaluater){const s=n.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(r,t.evaluater.evaluateExpression(o.argument))}else Fg(t,e.position);else{const i=n.name;let s;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&t.evaluater){const o=n.value.data.estree.body[0];o.type,s=t.evaluater.evaluateExpression(o.expression)}else Fg(t,e.position);else s=n.value===null?!0:n.value;r[i]=s}return r}function AE(t,e){const r=[];let n=-1;const i=t.passKeys?new Map:bAe;for(;++n<e.children.length;){const s=e.children[n];let a;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;a=l+"-"+c,i.set(l,c+1)}}const o=fW(t,s,a);o!==void 0&&r.push(o)}return r}function OAe(t,e,r){const n=lW(t.schema,e);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?$he(r):iAe(r)),n.property==="style"){let i=typeof r=="object"?r:PAe(t,String(r));return t.stylePropertyNameCase==="css"&&(i=UAe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&n.space?Zhe[n.property]||n.property:n.attribute,r]}}function PAe(t,e){const r={};try{vAe(e,n)}catch(i){if(!t.ignoreInvalidStyle){const s=i,a=new ii("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=AW+"#cannot-parse-style-attribute",a}}return r;function n(i,s){let a=i;a.slice(0,2)!=="--"&&(a.slice(0,4)==="-ms-"&&(a="ms-"+a.slice(4)),a=a.replace(CAe,QAe)),r[a]=s}}function mW(t,e,r){let n;if(!r)n={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,a;for(;++s<i.length;){const o=_L(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}n=a}else n=_L(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(n.type==="Literal"){const i=n.value;return dE.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(n);Fg(t)}function Fg(t,e){const r=new ii("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=AW+"#cannot-handle-mdx-estrees-without-createevaluater",r}function UAe(t){const e={};let r;for(r in t)dE.call(t,r)&&(e[RAe(r)]=t[r]);return e}function RAe(t){let e=t.replace(wAe,zAe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function QAe(t,e){return e.toUpperCase()}function zAe(t){return"-"+t.toLowerCase()}const O6={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},HAe={};function $Ae(t,e){const r=HAe,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return gW(t,n,i)}function gW(t,e,r){if(VAe(t)){if("value"in t)return t.type==="html"&&!r?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return PL(t.children,e,r)}return Array.isArray(t)?PL(t,e,r):""}function PL(t,e,r){const n=[];let i=-1;for(;++i<t.length;)n[i]=gW(t[i],e,r);return n.join("")}function VAe(t){return!!(t&&typeof t=="object")}const UL=document.createElement("i");function fE(t){const e="&"+t+";";UL.innerHTML=e;const r=UL.textContent;return r.charCodeAt(r.length-1)===59&&t!=="semi"||r===e?!1:r}function Fo(t,e,r,n){const i=t.length;let s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,r=r>0?r:0,n.length<1e4)a=Array.from(n),a.unshift(e,r),t.splice(...a);else for(r&&t.splice(e,r);s<n.length;)a=n.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}function zs(t,e){return t.length>0?(Fo(t,t.length,0,e),t):e}const RL={}.hasOwnProperty;function KAe(t){const e={};let r=-1;for(;++r<t.length;)qAe(e,t[r]);return e}function qAe(t,e){let r;for(r in e){const i=(RL.call(t,r)?t[r]:void 0)||(t[r]={}),s=e[r];let a;if(s)for(a in s){RL.call(i,a)||(i[a]=[]);const o=s[a];WAe(i[a],Array.isArray(o)?o:o?[o]:[])}}}function WAe(t,e){let r=-1;const n=[];for(;++r<e.length;)(e[r].add==="after"?t:n).push(e[r]);Fo(t,0,0,n)}function yW(t,e){const r=Number.parseInt(t,e);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"�":String.fromCodePoint(r)}function vA(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const uo=Ru(/[A-Za-z]/),ps=Ru(/[\dA-Za-z]/),GAe=Ru(/[#-'*+\--9=?A-Z^-~]/);function J9(t){return t!==null&&(t<32||t===127)}const Z9=Ru(/\d/),XAe=Ru(/[\dA-Fa-f]/),YAe=Ru(/[!-/:-@[-`{-~]/);function Ve(t){return t!==null&&t<-2}function Qi(t){return t!==null&&(t<0||t===32)}function Pt(t){return t===-2||t===-1||t===32}const JAe=Ru(new RegExp("\\p{P}|\\p{S}","u")),ZAe=Ru(/\s/);function Ru(t){return e;function e(r){return r!==null&&r>-1&&t.test(String.fromCharCode(r))}}function mf(t){const e=[];let r=-1,n=0,i=0;for(;++r<t.length;){const s=t.charCodeAt(r);let a="";if(s===37&&ps(t.charCodeAt(r+1))&&ps(t.charCodeAt(r+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=t.charCodeAt(r+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a="�"}else a=String.fromCharCode(s);a&&(e.push(t.slice(n,r),encodeURIComponent(a)),n=r+i+1,a=""),i&&(r+=i,i=0)}return e.join("")+t.slice(n)}function Vt(t,e,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return Pt(l)?(t.enter(r),o(l)):e(l)}function o(l){return Pt(l)&&s++<i?(t.consume(l),o):(t.exit(r),e(l))}}const efe={tokenize:tfe};function tfe(t){const e=t.attempt(this.parser.constructs.contentInitial,n,i);let r;return e;function n(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Vt(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),s(o)}function s(o){const l=t.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,a(o)}function a(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return Ve(o)?(t.consume(o),t.exit("chunkText"),s):(t.consume(o),a)}}const rfe={tokenize:nfe},QL={tokenize:ife};function nfe(t){const e=this,r=[];let n=0,i,s,a;return o;function o(x){if(n<r.length){const b=r[n];return e.containerState=b[1],t.attempt(b[0].continuation,l,c)(x)}return c(x)}function l(x){if(n++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&y();const b=e.events.length;let w=b,C;for(;w--;)if(e.events[w][0]==="exit"&&e.events[w][1].type==="chunkFlow"){C=e.events[w][1].end;break}g(n);let B=b;for(;B<e.events.length;)e.events[B][1].end={...C},B++;return Fo(e.events,w+1,0,e.events.slice(b)),e.events.length=B,c(x)}return o(x)}function c(x){if(n===r.length){if(!i)return A(x);if(i.currentConstruct&&i.currentConstruct.concrete)return p(x);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(QL,u,d)(x)}function u(x){return i&&y(),g(n),A(x)}function d(x){return e.parser.lazy[e.now().line]=n!==r.length,a=e.now().offset,p(x)}function A(x){return e.containerState={},t.attempt(QL,f,p)(x)}function f(x){return n++,r.push([e.currentConstruct,e.containerState]),A(x)}function p(x){if(x===null){i&&y(),g(0),t.consume(x);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),m(x)}function m(x){if(x===null){v(t.exit("chunkFlow"),!0),g(0),t.consume(x);return}return Ve(x)?(t.consume(x),v(t.exit("chunkFlow")),n=0,e.interrupt=void 0,o):(t.consume(x),m)}function v(x,b){const w=e.sliceStream(x);if(b&&w.push(null),x.previous=s,s&&(s.next=x),s=x,i.defineSkip(x.start),i.write(w),e.parser.lazy[x.start.line]){let C=i.events.length;for(;C--;)if(i.events[C][1].start.offset<a&&(!i.events[C][1].end||i.events[C][1].end.offset>a))return;const B=e.events.length;let S=B,E,M;for(;S--;)if(e.events[S][0]==="exit"&&e.events[S][1].type==="chunkFlow"){if(E){M=e.events[S][1].end;break}E=!0}for(g(n),C=B;C<e.events.length;)e.events[C][1].end={...M},C++;Fo(e.events,S+1,0,e.events.slice(B)),e.events.length=C}}function g(x){let b=r.length;for(;b-- >x;){const w=r[b];e.containerState=w[1],w[0].exit.call(e,t)}r.length=x}function y(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function ife(t,e,r){return Vt(t,t.attempt(this.parser.constructs.document,e,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function zL(t){if(t===null||Qi(t)||ZAe(t))return 1;if(JAe(t))return 2}function pE(t,e,r){const n=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!n.includes(s)&&(e=s(e,r),n.push(s))}return e}const eB={name:"attention",resolveAll:sfe,tokenize:afe};function sfe(t,e){let r=-1,n,i,s,a,o,l,c,u;for(;++r<t.length;)if(t[r][0]==="enter"&&t[r][1].type==="attentionSequence"&&t[r][1]._close){for(n=r;n--;)if(t[n][0]==="exit"&&t[n][1].type==="attentionSequence"&&t[n][1]._open&&e.sliceSerialize(t[n][1]).charCodeAt(0)===e.sliceSerialize(t[r][1]).charCodeAt(0)){if((t[n][1]._close||t[r][1]._open)&&(t[r][1].end.offset-t[r][1].start.offset)%3&&!((t[n][1].end.offset-t[n][1].start.offset+t[r][1].end.offset-t[r][1].start.offset)%3))continue;l=t[n][1].end.offset-t[n][1].start.offset>1&&t[r][1].end.offset-t[r][1].start.offset>1?2:1;const d={...t[n][1].end},A={...t[r][1].start};HL(d,-l),HL(A,l),a={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[n][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[r][1].start},end:A},s={type:l>1?"strongText":"emphasisText",start:{...t[n][1].end},end:{...t[r][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},t[n][1].end={...a.start},t[r][1].start={...o.end},c=[],t[n][1].end.offset-t[n][1].start.offset&&(c=zs(c,[["enter",t[n][1],e],["exit",t[n][1],e]])),c=zs(c,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),c=zs(c,pE(e.parser.constructs.insideSpan.null,t.slice(n+1,r),e)),c=zs(c,[["exit",s,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[r][1].end.offset-t[r][1].start.offset?(u=2,c=zs(c,[["enter",t[r][1],e],["exit",t[r][1],e]])):u=0,Fo(t,n-1,r-n+3,c),r=n+c.length-u-2;break}}for(r=-1;++r<t.length;)t[r][1].type==="attentionSequence"&&(t[r][1].type="data");return t}function afe(t,e){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=zL(n);let s;return a;function a(l){return s=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===s)return t.consume(l),o;const c=t.exit("attentionSequence"),u=zL(l),d=!u||u===2&&i||r.includes(l),A=!i||i===2&&u||r.includes(n);return c._open=!!(s===42?d:d&&(i||!A)),c._close=!!(s===42?A:A&&(u||!d)),e(l)}}function HL(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const ofe={name:"autolink",tokenize:lfe};function lfe(t,e,r){let n=0;return i;function i(f){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(f){return uo(f)?(t.consume(f),a):f===64?r(f):c(f)}function a(f){return f===43||f===45||f===46||ps(f)?(n=1,o(f)):c(f)}function o(f){return f===58?(t.consume(f),n=0,l):(f===43||f===45||f===46||ps(f))&&n++<32?(t.consume(f),o):(n=0,c(f))}function l(f){return f===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):f===null||f===32||f===60||J9(f)?r(f):(t.consume(f),l)}function c(f){return f===64?(t.consume(f),u):GAe(f)?(t.consume(f),c):r(f)}function u(f){return ps(f)?d(f):r(f)}function d(f){return f===46?(t.consume(f),n=0,u):f===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):A(f)}function A(f){if((f===45||ps(f))&&n++<63){const p=f===45?A:d;return t.consume(f),p}return r(f)}}const Sw={partial:!0,tokenize:cfe};function cfe(t,e,r){return n;function n(s){return Pt(s)?Vt(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||Ve(s)?e(s):r(s)}}const vW={continuation:{tokenize:dfe},exit:hfe,name:"blockQuote",tokenize:ufe};function ufe(t,e,r){const n=this;return i;function i(a){if(a===62){const o=n.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return r(a)}function s(a){return Pt(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function dfe(t,e,r){const n=this;return i;function i(a){return Pt(a)?Vt(t,s,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(vW,e,r)(a)}}function hfe(t){t.exit("blockQuote")}const xW={name:"characterEscape",tokenize:Afe};function Afe(t,e,r){return n;function n(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return YAe(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):r(s)}}const bW={name:"characterReference",tokenize:ffe};function ffe(t,e,r){const n=this;let i=0,s,a;return o;function o(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,a=ps,u(d))}function c(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=XAe,u):(t.enter("characterReferenceValue"),s=7,a=Z9,u(d))}function u(d){if(d===59&&i){const A=t.exit("characterReferenceValue");return a===ps&&!fE(n.sliceSerialize(A))?r(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(d)&&i++<s?(t.consume(d),u):r(d)}}const $L={partial:!0,tokenize:mfe},VL={concrete:!0,name:"codeFenced",tokenize:pfe};function pfe(t,e,r){const n=this,i={partial:!0,tokenize:w};let s=0,a=0,o;return l;function l(C){return c(C)}function c(C){const B=n.events[n.events.length-1];return s=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,o=C,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(C)}function u(C){return C===o?(a++,t.consume(C),u):a<3?r(C):(t.exit("codeFencedFenceSequence"),Pt(C)?Vt(t,d,"whitespace")(C):d(C))}function d(C){return C===null||Ve(C)?(t.exit("codeFencedFence"),n.interrupt?e(C):t.check($L,m,b)(C)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),A(C))}function A(C){return C===null||Ve(C)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(C)):Pt(C)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Vt(t,f,"whitespace")(C)):C===96&&C===o?r(C):(t.consume(C),A)}function f(C){return C===null||Ve(C)?d(C):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),p(C))}function p(C){return C===null||Ve(C)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(C)):C===96&&C===o?r(C):(t.consume(C),p)}function m(C){return t.attempt(i,b,v)(C)}function v(C){return t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),g}function g(C){return s>0&&Pt(C)?Vt(t,y,"linePrefix",s+1)(C):y(C)}function y(C){return C===null||Ve(C)?t.check($L,m,b)(C):(t.enter("codeFlowValue"),x(C))}function x(C){return C===null||Ve(C)?(t.exit("codeFlowValue"),y(C)):(t.consume(C),x)}function b(C){return t.exit("codeFenced"),e(C)}function w(C,B,S){let E=0;return M;function M(z){return C.enter("lineEnding"),C.consume(z),C.exit("lineEnding"),T}function T(z){return C.enter("codeFencedFence"),Pt(z)?Vt(C,L,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):L(z)}function L(z){return z===o?(C.enter("codeFencedFenceSequence"),I(z)):S(z)}function I(z){return z===o?(E++,C.consume(z),I):E>=a?(C.exit("codeFencedFenceSequence"),Pt(z)?Vt(C,R,"whitespace")(z):R(z)):S(z)}function R(z){return z===null||Ve(z)?(C.exit("codeFencedFence"),B(z)):S(z)}}}function mfe(t,e,r){const n=this;return i;function i(a){return a===null?r(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return n.parser.lazy[n.now().line]?r(a):e(a)}}const P6={name:"codeIndented",tokenize:yfe},gfe={partial:!0,tokenize:vfe};function yfe(t,e,r){const n=this;return i;function i(c){return t.enter("codeIndented"),Vt(t,s,"linePrefix",5)(c)}function s(c){const u=n.events[n.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?a(c):r(c)}function a(c){return c===null?l(c):Ve(c)?t.attempt(gfe,a,l)(c):(t.enter("codeFlowValue"),o(c))}function o(c){return c===null||Ve(c)?(t.exit("codeFlowValue"),a(c)):(t.consume(c),o)}function l(c){return t.exit("codeIndented"),e(c)}}function vfe(t,e,r){const n=this;return i;function i(a){return n.parser.lazy[n.now().line]?r(a):Ve(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):Vt(t,s,"linePrefix",5)(a)}function s(a){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):Ve(a)?i(a):r(a)}}const xfe={name:"codeText",previous:wfe,resolve:bfe,tokenize:Cfe};function bfe(t){let e=t.length-4,r=3,n,i;if((t[r][1].type==="lineEnding"||t[r][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(n=r;++n<e;)if(t[n][1].type==="codeTextData"){t[r][1].type="codeTextPadding",t[e][1].type="codeTextPadding",r+=2,e-=2;break}}for(n=r-1,e++;++n<=e;)i===void 0?n!==e&&t[n][1].type!=="lineEnding"&&(i=n):(n===e||t[n][1].type==="lineEnding")&&(t[i][1].type="codeTextData",n!==i+2&&(t[i][1].end=t[n-1][1].end,t.splice(i+2,n-i-2),e-=n-i-2,n=i+2),i=void 0);return t}function wfe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Cfe(t,e,r){let n=0,i,s;return a;function a(d){return t.enter("codeText"),t.enter("codeTextSequence"),o(d)}function o(d){return d===96?(t.consume(d),n++,o):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?r(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(s=t.enter("codeTextSequence"),i=0,u(d)):Ve(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||Ve(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),c)}function u(d){return d===96?(t.consume(d),i++,u):i===n?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",c(d))}}class Bfe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,r,n){const i=r||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&Vf(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Vf(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Vf(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const r=this.left.splice(e,Number.POSITIVE_INFINITY);Vf(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Vf(this.left,r.reverse())}}}function Vf(t,e){let r=0;if(e.length<1e4)t.push(...e);else for(;r<e.length;)t.push(...e.slice(r,r+1e4)),r+=1e4}function wW(t){const e={};let r=-1,n,i,s,a,o,l,c;const u=new Bfe(t);for(;++r<u.length;){for(;r in e;)r=e[r];if(n=u.get(r),r&&n[1].type==="chunkFlow"&&u.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(n[0]==="enter")n[1].contentType&&(Object.assign(e,Sfe(u,r)),r=e[r],c=!0);else if(n[1]._container){for(s=r,i=void 0;s--;)if(a=u.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(a[1].type!=="linePrefix")break;i&&(n[1].end={...u.get(i)[1].start},o=u.slice(i,r),o.unshift(n),u.splice(i,r-i+1,o))}}return Fo(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function Sfe(t,e){const r=t.get(e)[1],n=t.get(e)[2];let i=e-1;const s=[],a=r._tokenizer||n.parser[r.contentType](r.start),o=a.events,l=[],c={};let u,d,A=-1,f=r,p=0,m=0;const v=[m];for(;f;){for(;t.get(++i)[1]!==f;);s.push(i),f._tokenizer||(u=n.sliceStream(f),f.next||u.push(null),d&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=r;++A<o.length;)o[A][0]==="exit"&&o[A-1][0]==="enter"&&o[A][1].type===o[A-1][1].type&&o[A][1].start.line!==o[A][1].end.line&&(m=A+1,v.push(m),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):v.pop(),A=v.length;A--;){const g=o.slice(v[A],v[A+1]),y=s.pop();l.push([y,y+g.length-1]),t.splice(y,2,g)}for(l.reverse(),A=-1;++A<l.length;)c[p+l[A][0]]=p+l[A][1],p+=l[A][1]-l[A][0]-1;return c}const _fe={resolve:Efe,tokenize:Mfe},kfe={partial:!0,tokenize:Ffe};function Efe(t){return wW(t),t}function Mfe(t,e){let r;return n;function n(o){return t.enter("content"),r=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):Ve(o)?t.check(kfe,a,s)(o):(t.consume(o),i)}function s(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function a(o){return t.consume(o),t.exit("chunkContent"),r.next=t.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function Ffe(t,e,r){const n=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Vt(t,s,"linePrefix")}function s(a){if(a===null||Ve(a))return r(a);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):t.interrupt(n.parser.constructs.flow,r,e)(a)}}function CW(t,e,r,n,i,s,a,o,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(g){return g===60?(t.enter(n),t.enter(i),t.enter(s),t.consume(g),t.exit(s),A):g===null||g===32||g===41||J9(g)?r(g):(t.enter(n),t.enter(a),t.enter(o),t.enter("chunkString",{contentType:"string"}),m(g))}function A(g){return g===62?(t.enter(s),t.consume(g),t.exit(s),t.exit(i),t.exit(n),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===62?(t.exit("chunkString"),t.exit(o),A(g)):g===null||g===60||Ve(g)?r(g):(t.consume(g),g===92?p:f)}function p(g){return g===60||g===62||g===92?(t.consume(g),f):f(g)}function m(g){return!u&&(g===null||g===41||Qi(g))?(t.exit("chunkString"),t.exit(o),t.exit(a),t.exit(n),e(g)):u<c&&g===40?(t.consume(g),u++,m):g===41?(t.consume(g),u--,m):g===null||g===32||g===40||J9(g)?r(g):(t.consume(g),g===92?v:m)}function v(g){return g===40||g===41||g===92?(t.consume(g),m):m(g)}}function BW(t,e,r,n,i,s){const a=this;let o=0,l;return c;function c(f){return t.enter(n),t.enter(i),t.consume(f),t.exit(i),t.enter(s),u}function u(f){return o>999||f===null||f===91||f===93&&!l||f===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?r(f):f===93?(t.exit(s),t.enter(i),t.consume(f),t.exit(i),t.exit(n),e):Ve(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===null||f===91||f===93||Ve(f)||o++>999?(t.exit("chunkString"),u(f)):(t.consume(f),l||(l=!Pt(f)),f===92?A:d)}function A(f){return f===91||f===92||f===93?(t.consume(f),o++,d):d(f)}}function SW(t,e,r,n,i,s){let a;return o;function o(A){return A===34||A===39||A===40?(t.enter(n),t.enter(i),t.consume(A),t.exit(i),a=A===40?41:A,l):r(A)}function l(A){return A===a?(t.enter(i),t.consume(A),t.exit(i),t.exit(n),e):(t.enter(s),c(A))}function c(A){return A===a?(t.exit(s),l(a)):A===null?r(A):Ve(A)?(t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),Vt(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(A))}function u(A){return A===a||A===null||Ve(A)?(t.exit("chunkString"),c(A)):(t.consume(A),A===92?d:u)}function d(A){return A===a||A===92?(t.consume(A),u):u(A)}}function Cm(t,e){let r;return n;function n(i){return Ve(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),r=!0,n):Pt(i)?Vt(t,n,r?"linePrefix":"lineSuffix")(i):e(i)}}const Tfe={name:"definition",tokenize:Lfe},Dfe={partial:!0,tokenize:Nfe};function Lfe(t,e,r){const n=this;let i;return s;function s(f){return t.enter("definition"),a(f)}function a(f){return BW.call(n,t,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function o(f){return i=vA(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),f===58?(t.enter("definitionMarker"),t.consume(f),t.exit("definitionMarker"),l):r(f)}function l(f){return Qi(f)?Cm(t,c)(f):c(f)}function c(f){return CW(t,u,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function u(f){return t.attempt(Dfe,d,d)(f)}function d(f){return Pt(f)?Vt(t,A,"whitespace")(f):A(f)}function A(f){return f===null||Ve(f)?(t.exit("definition"),n.parser.defined.push(i),e(f)):r(f)}}function Nfe(t,e,r){return n;function n(o){return Qi(o)?Cm(t,i)(o):r(o)}function i(o){return SW(t,s,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return Pt(o)?Vt(t,a,"whitespace")(o):a(o)}function a(o){return o===null||Ve(o)?e(o):r(o)}}const jfe={name:"hardBreakEscape",tokenize:Ife};function Ife(t,e,r){return n;function n(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return Ve(s)?(t.exit("hardBreakEscape"),e(s)):r(s)}}const Ofe={name:"headingAtx",resolve:Pfe,tokenize:Ufe};function Pfe(t,e){let r=t.length-2,n=3,i,s;return t[n][1].type==="whitespace"&&(n+=2),r-2>n&&t[r][1].type==="whitespace"&&(r-=2),t[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&t[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:t[n][1].start,end:t[r][1].end},s={type:"chunkText",start:t[n][1].start,end:t[r][1].end,contentType:"text"},Fo(t,n,r-n+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function Ufe(t,e,r){let n=0;return i;function i(u){return t.enter("atxHeading"),s(u)}function s(u){return t.enter("atxHeadingSequence"),a(u)}function a(u){return u===35&&n++<6?(t.consume(u),a):u===null||Qi(u)?(t.exit("atxHeadingSequence"),o(u)):r(u)}function o(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||Ve(u)?(t.exit("atxHeading"),e(u)):Pt(u)?Vt(t,o,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),o(u))}function c(u){return u===null||u===35||Qi(u)?(t.exit("atxHeadingText"),o(u)):(t.consume(u),c)}}const Rfe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],KL=["pre","script","style","textarea"],Qfe={concrete:!0,name:"htmlFlow",resolveTo:$fe,tokenize:Vfe},zfe={partial:!0,tokenize:qfe},Hfe={partial:!0,tokenize:Kfe};function $fe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Vfe(t,e,r){const n=this;let i,s,a,o,l;return c;function c(O){return u(O)}function u(O){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(O),d}function d(O){return O===33?(t.consume(O),A):O===47?(t.consume(O),s=!0,m):O===63?(t.consume(O),i=3,n.interrupt?e:N):uo(O)?(t.consume(O),a=String.fromCharCode(O),v):r(O)}function A(O){return O===45?(t.consume(O),i=2,f):O===91?(t.consume(O),i=5,o=0,p):uo(O)?(t.consume(O),i=4,n.interrupt?e:N):r(O)}function f(O){return O===45?(t.consume(O),n.interrupt?e:N):r(O)}function p(O){const me="CDATA[";return O===me.charCodeAt(o++)?(t.consume(O),o===me.length?n.interrupt?e:L:p):r(O)}function m(O){return uo(O)?(t.consume(O),a=String.fromCharCode(O),v):r(O)}function v(O){if(O===null||O===47||O===62||Qi(O)){const me=O===47,Ce=a.toLowerCase();return!me&&!s&&KL.includes(Ce)?(i=1,n.interrupt?e(O):L(O)):Rfe.includes(a.toLowerCase())?(i=6,me?(t.consume(O),g):n.interrupt?e(O):L(O)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(O):s?y(O):x(O))}return O===45||ps(O)?(t.consume(O),a+=String.fromCharCode(O),v):r(O)}function g(O){return O===62?(t.consume(O),n.interrupt?e:L):r(O)}function y(O){return Pt(O)?(t.consume(O),y):M(O)}function x(O){return O===47?(t.consume(O),M):O===58||O===95||uo(O)?(t.consume(O),b):Pt(O)?(t.consume(O),x):M(O)}function b(O){return O===45||O===46||O===58||O===95||ps(O)?(t.consume(O),b):w(O)}function w(O){return O===61?(t.consume(O),C):Pt(O)?(t.consume(O),w):x(O)}function C(O){return O===null||O===60||O===61||O===62||O===96?r(O):O===34||O===39?(t.consume(O),l=O,B):Pt(O)?(t.consume(O),C):S(O)}function B(O){return O===l?(t.consume(O),l=null,E):O===null||Ve(O)?r(O):(t.consume(O),B)}function S(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||Qi(O)?w(O):(t.consume(O),S)}function E(O){return O===47||O===62||Pt(O)?x(O):r(O)}function M(O){return O===62?(t.consume(O),T):r(O)}function T(O){return O===null||Ve(O)?L(O):Pt(O)?(t.consume(O),T):r(O)}function L(O){return O===45&&i===2?(t.consume(O),W):O===60&&i===1?(t.consume(O),K):O===62&&i===4?(t.consume(O),ne):O===63&&i===3?(t.consume(O),N):O===93&&i===5?(t.consume(O),q):Ve(O)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(zfe,re,I)(O)):O===null||Ve(O)?(t.exit("htmlFlowData"),I(O)):(t.consume(O),L)}function I(O){return t.check(Hfe,R,re)(O)}function R(O){return t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),z}function z(O){return O===null||Ve(O)?I(O):(t.enter("htmlFlowData"),L(O))}function W(O){return O===45?(t.consume(O),N):L(O)}function K(O){return O===47?(t.consume(O),a="",U):L(O)}function U(O){if(O===62){const me=a.toLowerCase();return KL.includes(me)?(t.consume(O),ne):L(O)}return uo(O)&&a.length<8?(t.consume(O),a+=String.fromCharCode(O),U):L(O)}function q(O){return O===93?(t.consume(O),N):L(O)}function N(O){return O===62?(t.consume(O),ne):O===45&&i===2?(t.consume(O),N):L(O)}function ne(O){return O===null||Ve(O)?(t.exit("htmlFlowData"),re(O)):(t.consume(O),ne)}function re(O){return t.exit("htmlFlow"),e(O)}}function Kfe(t,e,r){const n=this;return i;function i(a){return Ve(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):r(a)}function s(a){return n.parser.lazy[n.now().line]?r(a):e(a)}}function qfe(t,e,r){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Sw,e,r)}}const Wfe={name:"htmlText",tokenize:Gfe};function Gfe(t,e,r){const n=this;let i,s,a;return o;function o(N){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(N),l}function l(N){return N===33?(t.consume(N),c):N===47?(t.consume(N),w):N===63?(t.consume(N),x):uo(N)?(t.consume(N),S):r(N)}function c(N){return N===45?(t.consume(N),u):N===91?(t.consume(N),s=0,p):uo(N)?(t.consume(N),y):r(N)}function u(N){return N===45?(t.consume(N),f):r(N)}function d(N){return N===null?r(N):N===45?(t.consume(N),A):Ve(N)?(a=d,K(N)):(t.consume(N),d)}function A(N){return N===45?(t.consume(N),f):d(N)}function f(N){return N===62?W(N):N===45?A(N):d(N)}function p(N){const ne="CDATA[";return N===ne.charCodeAt(s++)?(t.consume(N),s===ne.length?m:p):r(N)}function m(N){return N===null?r(N):N===93?(t.consume(N),v):Ve(N)?(a=m,K(N)):(t.consume(N),m)}function v(N){return N===93?(t.consume(N),g):m(N)}function g(N){return N===62?W(N):N===93?(t.consume(N),g):m(N)}function y(N){return N===null||N===62?W(N):Ve(N)?(a=y,K(N)):(t.consume(N),y)}function x(N){return N===null?r(N):N===63?(t.consume(N),b):Ve(N)?(a=x,K(N)):(t.consume(N),x)}function b(N){return N===62?W(N):x(N)}function w(N){return uo(N)?(t.consume(N),C):r(N)}function C(N){return N===45||ps(N)?(t.consume(N),C):B(N)}function B(N){return Ve(N)?(a=B,K(N)):Pt(N)?(t.consume(N),B):W(N)}function S(N){return N===45||ps(N)?(t.consume(N),S):N===47||N===62||Qi(N)?E(N):r(N)}function E(N){return N===47?(t.consume(N),W):N===58||N===95||uo(N)?(t.consume(N),M):Ve(N)?(a=E,K(N)):Pt(N)?(t.consume(N),E):W(N)}function M(N){return N===45||N===46||N===58||N===95||ps(N)?(t.consume(N),M):T(N)}function T(N){return N===61?(t.consume(N),L):Ve(N)?(a=T,K(N)):Pt(N)?(t.consume(N),T):E(N)}function L(N){return N===null||N===60||N===61||N===62||N===96?r(N):N===34||N===39?(t.consume(N),i=N,I):Ve(N)?(a=L,K(N)):Pt(N)?(t.consume(N),L):(t.consume(N),R)}function I(N){return N===i?(t.consume(N),i=void 0,z):N===null?r(N):Ve(N)?(a=I,K(N)):(t.consume(N),I)}function R(N){return N===null||N===34||N===39||N===60||N===61||N===96?r(N):N===47||N===62||Qi(N)?E(N):(t.consume(N),R)}function z(N){return N===47||N===62||Qi(N)?E(N):r(N)}function W(N){return N===62?(t.consume(N),t.exit("htmlTextData"),t.exit("htmlText"),e):r(N)}function K(N){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),U}function U(N){return Pt(N)?Vt(t,q,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):q(N)}function q(N){return t.enter("htmlTextData"),a(N)}}const mE={name:"labelEnd",resolveAll:Zfe,resolveTo:epe,tokenize:tpe},Xfe={tokenize:rpe},Yfe={tokenize:npe},Jfe={tokenize:ipe};function Zfe(t){let e=-1;const r=[];for(;++e<t.length;){const n=t[e][1];if(r.push(t[e]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",e+=i}}return t.length!==r.length&&Fo(t,0,t.length,r),t}function epe(t,e){let r=t.length,n=0,i,s,a,o;for(;r--;)if(i=t[r][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(a=r);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[a][1].end}},u={type:"labelText",start:{...t[s+n+2][1].end},end:{...t[a-2][1].start}};return o=[["enter",l,e],["enter",c,e]],o=zs(o,t.slice(s+1,s+n+3)),o=zs(o,[["enter",u,e]]),o=zs(o,pE(e.parser.constructs.insideSpan.null,t.slice(s+n+4,a-3),e)),o=zs(o,[["exit",u,e],t[a-2],t[a-1],["exit",c,e]]),o=zs(o,t.slice(a+1)),o=zs(o,[["exit",l,e]]),Fo(t,s,t.length,o),t}function tpe(t,e,r){const n=this;let i=n.events.length,s,a;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){s=n.events[i][1];break}return o;function o(A){return s?s._inactive?d(A):(a=n.parser.defined.includes(vA(n.sliceSerialize({start:s.end,end:n.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(A),t.exit("labelMarker"),t.exit("labelEnd"),l):r(A)}function l(A){return A===40?t.attempt(Xfe,u,a?u:d)(A):A===91?t.attempt(Yfe,u,a?c:d)(A):a?u(A):d(A)}function c(A){return t.attempt(Jfe,u,d)(A)}function u(A){return e(A)}function d(A){return s._balanced=!0,r(A)}}function rpe(t,e,r){return n;function n(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return Qi(d)?Cm(t,s)(d):s(d)}function s(d){return d===41?u(d):CW(t,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function a(d){return Qi(d)?Cm(t,l)(d):u(d)}function o(d){return r(d)}function l(d){return d===34||d===39||d===40?SW(t,c,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return Qi(d)?Cm(t,u)(d):u(d)}function u(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):r(d)}}function npe(t,e,r){const n=this;return i;function i(o){return BW.call(n,t,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return n.parser.defined.includes(vA(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?e(o):r(o)}function a(o){return r(o)}}function ipe(t,e,r){return n;function n(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):r(s)}}const spe={name:"labelStartImage",resolveAll:mE.resolveAll,tokenize:ape};function ape(t,e,r){const n=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),s}function s(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),a):r(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):e(o)}}const ope={name:"labelStartLink",resolveAll:mE.resolveAll,tokenize:lpe};function lpe(t,e,r){const n=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(a):e(a)}}const U6={name:"lineEnding",tokenize:cpe};function cpe(t,e){return r;function r(n){return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),Vt(t,e,"linePrefix")}}const T4={name:"thematicBreak",tokenize:upe};function upe(t,e,r){let n=0,i;return s;function s(c){return t.enter("thematicBreak"),a(c)}function a(c){return i=c,o(c)}function o(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):n>=3&&(c===null||Ve(c))?(t.exit("thematicBreak"),e(c)):r(c)}function l(c){return c===i?(t.consume(c),n++,l):(t.exit("thematicBreakSequence"),Pt(c)?Vt(t,o,"whitespace")(c):o(c))}}const Si={continuation:{tokenize:fpe},exit:mpe,name:"list",tokenize:Ape},dpe={partial:!0,tokenize:gpe},hpe={partial:!0,tokenize:ppe};function Ape(t,e,r){const n=this,i=n.events[n.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(f){const p=n.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!n.containerState.marker||f===n.containerState.marker:Z9(f)){if(n.containerState.type||(n.containerState.type=p,t.enter(p,{_container:!0})),p==="listUnordered")return t.enter("listItemPrefix"),f===42||f===45?t.check(T4,r,c)(f):c(f);if(!n.interrupt||f===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(f)}return r(f)}function l(f){return Z9(f)&&++a<10?(t.consume(f),l):(!n.interrupt||a<2)&&(n.containerState.marker?f===n.containerState.marker:f===41||f===46)?(t.exit("listItemValue"),c(f)):r(f)}function c(f){return t.enter("listItemMarker"),t.consume(f),t.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||f,t.check(Sw,n.interrupt?r:u,t.attempt(dpe,A,d))}function u(f){return n.containerState.initialBlankLine=!0,s++,A(f)}function d(f){return Pt(f)?(t.enter("listItemPrefixWhitespace"),t.consume(f),t.exit("listItemPrefixWhitespace"),A):r(f)}function A(f){return n.containerState.size=s+n.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(f)}}function fpe(t,e,r){const n=this;return n.containerState._closeFlow=void 0,t.check(Sw,i,s);function i(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,Vt(t,e,"listItemIndent",n.containerState.size+1)(o)}function s(o){return n.containerState.furtherBlankLines||!Pt(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,a(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,t.attempt(hpe,e,a)(o))}function a(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,Vt(t,t.attempt(Si,e,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function ppe(t,e,r){const n=this;return Vt(t,i,"listItemIndent",n.containerState.size+1);function i(s){const a=n.events[n.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===n.containerState.size?e(s):r(s)}}function mpe(t){t.exit(this.containerState.type)}function gpe(t,e,r){const n=this;return Vt(t,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=n.events[n.events.length-1];return!Pt(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):r(s)}}const qL={name:"setextUnderline",resolveTo:ype,tokenize:vpe};function ype(t,e){let r=t.length,n,i,s;for(;r--;)if(t[r][0]==="enter"){if(t[r][1].type==="content"){n=r;break}t[r][1].type==="paragraph"&&(i=r)}else t[r][1].type==="content"&&t.splice(r,1),!s&&t[r][1].type==="definition"&&(s=r);const a={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",a,e]),t.splice(s+1,0,["exit",t[n][1],e]),t[n][1].end={...t[s][1].end}):t[n][1]=a,t.push(["exit",a,e]),t}function vpe(t,e,r){const n=this;let i;return s;function s(c){let u=n.events.length,d;for(;u--;)if(n.events[u][1].type!=="lineEnding"&&n.events[u][1].type!=="linePrefix"&&n.events[u][1].type!=="content"){d=n.events[u][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||d)?(t.enter("setextHeadingLine"),i=c,a(c)):r(c)}function a(c){return t.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(t.consume(c),o):(t.exit("setextHeadingLineSequence"),Pt(c)?Vt(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Ve(c)?(t.exit("setextHeadingLine"),e(c)):r(c)}}const xpe={tokenize:bpe};function bpe(t){const e=this,r=t.attempt(Sw,n,t.attempt(this.parser.constructs.flowInitial,i,Vt(t,t.attempt(this.parser.constructs.flow,i,t.attempt(_fe,i)),"linePrefix")));return r;function n(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,r}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,r}}const wpe={resolveAll:kW()},Cpe=_W("string"),Bpe=_W("text");function _W(t){return{resolveAll:kW(t==="text"?Spe:void 0),tokenize:e};function e(r){const n=this,i=this.parser.constructs[t],s=r.attempt(i,a,o);return a;function a(u){return c(u)?s(u):o(u)}function o(u){if(u===null){r.consume(u);return}return r.enter("data"),r.consume(u),l}function l(u){return c(u)?(r.exit("data"),s(u)):(r.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let A=-1;if(d)for(;++A<d.length;){const f=d[A];if(!f.previous||f.previous.call(n,n.previous))return!0}return!1}}}function kW(t){return e;function e(r,n){let i=-1,s;for(;++i<=r.length;)s===void 0?r[i]&&r[i][1].type==="data"&&(s=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==s+2&&(r[s][1].end=r[i-1][1].end,r.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(r,n):r}}function Spe(t,e){let r=0;for(;++r<=t.length;)if((r===t.length||t[r][1].type==="lineEnding")&&t[r-1][1].type==="data"){const n=t[r-1][1],i=e.sliceStream(n);let s=i.length,a=-1,o=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(c===-2)l=!0,o++;else if(c!==-1){s++;break}}if(o){const c={type:r===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:n.start._bufferIndex+a,_index:n.start._index+s,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...c.start},n.start.offset===n.end.offset?Object.assign(n,c):(t.splice(r,0,["enter",c,e],["exit",c,e]),r+=2)}r++}return t}const _pe={42:Si,43:Si,45:Si,48:Si,49:Si,50:Si,51:Si,52:Si,53:Si,54:Si,55:Si,56:Si,57:Si,62:vW},kpe={91:Tfe},Epe={[-2]:P6,[-1]:P6,32:P6},Mpe={35:Ofe,42:T4,45:[qL,T4],60:Qfe,61:qL,95:T4,96:VL,126:VL},Fpe={38:bW,92:xW},Tpe={[-5]:U6,[-4]:U6,[-3]:U6,33:spe,38:bW,42:eB,60:[ofe,Wfe],91:ope,92:[jfe,xW],93:mE,95:eB,96:xfe},Dpe={null:[eB,wpe]},Lpe={null:[42,95]},Npe={null:[]},jpe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Lpe,contentInitial:kpe,disable:Npe,document:_pe,flow:Mpe,flowInitial:Epe,insideSpan:Dpe,string:Fpe,text:Tpe},Symbol.toStringTag,{value:"Module"}));function Ipe(t,e,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},s=[];let a=[],o=[];const l={attempt:B(w),check:B(C),consume:y,enter:x,exit:b,interrupt:B(C,{interrupt:!0})},c={code:null,containerState:{},defineSkip:m,events:[],now:p,parser:t,previous:null,sliceSerialize:A,sliceStream:f,write:d};let u=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function d(T){return a=zs(a,T),v(),a[a.length-1]!==null?[]:(S(e,0),c.events=pE(s,c.events,c),c.events)}function A(T,L){return Ppe(f(T),L)}function f(T){return Ope(a,T)}function p(){const{_bufferIndex:T,_index:L,line:I,column:R,offset:z}=n;return{_bufferIndex:T,_index:L,line:I,column:R,offset:z}}function m(T){i[T.line]=T.column,M()}function v(){let T;for(;n._index<a.length;){const L=a[n._index];if(typeof L=="string")for(T=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===T&&n._bufferIndex<L.length;)g(L.charCodeAt(n._bufferIndex));else g(L)}}function g(T){u=u(T)}function y(T){Ve(T)?(n.line++,n.column=1,n.offset+=T===-3?2:1,M()):T!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===a[n._index].length&&(n._bufferIndex=-1,n._index++)),c.previous=T}function x(T,L){const I=L||{};return I.type=T,I.start=p(),c.events.push(["enter",I,c]),o.push(I),I}function b(T){const L=o.pop();return L.end=p(),c.events.push(["exit",L,c]),L}function w(T,L){S(T,L.from)}function C(T,L){L.restore()}function B(T,L){return I;function I(R,z,W){let K,U,q,N;return Array.isArray(R)?re(R):"tokenize"in R?re([R]):ne(R);function ne(oe){return ye;function ye(ze){const fe=ze!==null&&oe[ze],J=ze!==null&&oe.null,ie=[...Array.isArray(fe)?fe:fe?[fe]:[],...Array.isArray(J)?J:J?[J]:[]];return re(ie)(ze)}}function re(oe){return K=oe,U=0,oe.length===0?W:O(oe[U])}function O(oe){return ye;function ye(ze){return N=E(),q=oe,oe.partial||(c.currentConstruct=oe),oe.name&&c.parser.constructs.disable.null.includes(oe.name)?Ce():oe.tokenize.call(L?Object.assign(Object.create(c),L):c,l,me,Ce)(ze)}}function me(oe){return T(q,N),z}function Ce(oe){return N.restore(),++U<K.length?O(K[U]):W}}}function S(T,L){T.resolveAll&&!s.includes(T)&&s.push(T),T.resolve&&Fo(c.events,L,c.events.length-L,T.resolve(c.events.slice(L),c)),T.resolveTo&&(c.events=T.resolveTo(c.events,c))}function E(){const T=p(),L=c.previous,I=c.currentConstruct,R=c.events.length,z=Array.from(o);return{from:R,restore:W};function W(){n=T,c.previous=L,c.currentConstruct=I,c.events.length=R,o=z,M()}}function M(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function Ope(t,e){const r=e.start._index,n=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let a;if(r===i)a=[t[r].slice(n,s)];else{if(a=t.slice(r,i),n>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(n):a.shift()}s>0&&a.push(t[i].slice(0,s))}return a}function Ppe(t,e){let r=-1;const n=[];let i;for(;++r<t.length;){const s=t[r];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,n.push(a)}return n.join("")}function Upe(t){const n={constructs:KAe([jpe,...(t||{}).extensions||[]]),content:i(efe),defined:[],document:i(rfe),flow:i(xpe),lazy:{},string:i(Cpe),text:i(Bpe)};return n;function i(s){return a;function a(o){return Ipe(n,s,o)}}}function Rpe(t){for(;!wW(t););return t}const WL=/[\0\t\n\r]/g;function Qpe(){let t=1,e="",r=!0,n;return i;function i(s,a,o){const l=[];let c,u,d,A,f;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),d=0,e="",r&&(s.charCodeAt(0)===65279&&d++,r=void 0);d<s.length;){if(WL.lastIndex=d,c=WL.exec(s),A=c&&c.index!==void 0?c.index:s.length,f=s.charCodeAt(A),!c){e=s.slice(d);break}if(f===10&&d===A&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),d<A&&(l.push(s.slice(d,A)),t+=A-d),f){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:n=!0,t=1}d=A+1}return o&&(n&&l.push(-5),e&&l.push(e),l.push(null)),l}}const zpe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Hpe(t){return t.replace(zpe,$pe)}function $pe(t,e,r){if(e)return e;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),s=i===120||i===88;return yW(r.slice(s?2:1),s?16:10)}return fE(r)||t}const EW={}.hasOwnProperty;function Vpe(t,e,r){return typeof e!="string"&&(r=e,e=void 0),Kpe(r)(Rpe(Upe(r).document().write(Qpe()(t,e,!0))))}function Kpe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ee),autolinkProtocol:E,autolinkEmail:E,atxHeading:s(Ze),blockQuote:s(J),characterEscape:E,characterReference:E,codeFenced:s(ie),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(ie,a),codeText:s(Ue,a),codeTextData:E,data:E,codeFlowValue:E,definition:s($e),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Bt),hardBreakEscape:s(et),hardBreakTrailing:s(et),htmlFlow:s(He,a),htmlFlowData:E,htmlText:s(He,a),htmlTextData:E,image:s($),label:a,link:s(ee),listItem:s(Ne),listItemValue:A,listOrdered:s(ue,d),listUnordered:s(ue),paragraph:s(Te),reference:O,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Ze),strong:s(Se),thematicBreak:s(ft)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:fe,autolinkProtocol:ze,blockQuote:l(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:Ce,characterReferenceMarkerNumeric:Ce,characterReferenceValue:oe,characterReference:ye,codeFenced:l(v),codeFencedFence:m,codeFencedFenceInfo:f,codeFencedFenceMeta:p,codeFlowValue:M,codeIndented:l(g),codeText:l(z),codeTextData:M,data:M,definition:l(),definitionDestinationString:b,definitionLabelString:y,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(L),hardBreakTrailing:l(L),htmlFlow:l(I),htmlFlowData:M,htmlText:l(R),htmlTextData:M,image:l(K),label:q,labelText:U,lineEnding:T,link:l(W),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:me,resourceDestinationString:N,resourceTitleString:ne,resource:re,setextHeading:l(S),setextHeadingLineSequence:B,setextHeadingText:C,strong:l(),thematicBreak:l()}};MW(e,(t||{}).mdastExtensions||[]);const r={};return n;function n(ae){let ve={type:"root",children:[]};const Ge={stack:[ve],tokenStack:[],config:e,enter:o,exit:c,buffer:a,resume:u,data:r},yt=[];let Lt=-1;for(;++Lt<ae.length;)if(ae[Lt][1].type==="listOrdered"||ae[Lt][1].type==="listUnordered")if(ae[Lt][0]==="enter")yt.push(Lt);else{const si=yt.pop();Lt=i(ae,si,Lt)}for(Lt=-1;++Lt<ae.length;){const si=e[ae[Lt][0]];EW.call(si,ae[Lt][1].type)&&si[ae[Lt][1].type].call(Object.assign({sliceSerialize:ae[Lt][2].sliceSerialize},Ge),ae[Lt][1])}if(Ge.tokenStack.length>0){const si=Ge.tokenStack[Ge.tokenStack.length-1];(si[1]||GL).call(Ge,void 0,si[0])}for(ve.position={start:sc(ae.length>0?ae[0][1].start:{line:1,column:1,offset:0}),end:sc(ae.length>0?ae[ae.length-2][1].end:{line:1,column:1,offset:0})},Lt=-1;++Lt<e.transforms.length;)ve=e.transforms[Lt](ve)||ve;return ve}function i(ae,ve,Ge){let yt=ve-1,Lt=-1,si=!1,Qo,Es,Yu,rc;for(;++yt<=Ge;){const es=ae[yt];switch(es[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{es[0]==="enter"?Lt++:Lt--,rc=void 0;break}case"lineEndingBlank":{es[0]==="enter"&&(Qo&&!rc&&!Lt&&!Yu&&(Yu=yt),rc=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:rc=void 0}if(!Lt&&es[0]==="enter"&&es[1].type==="listItemPrefix"||Lt===-1&&es[0]==="exit"&&(es[1].type==="listUnordered"||es[1].type==="listOrdered")){if(Qo){let z0=yt;for(Es=void 0;z0--;){const zo=ae[z0];if(zo[1].type==="lineEnding"||zo[1].type==="lineEndingBlank"){if(zo[0]==="exit")continue;Es&&(ae[Es][1].type="lineEndingBlank",si=!0),zo[1].type="lineEnding",Es=z0}else if(!(zo[1].type==="linePrefix"||zo[1].type==="blockQuotePrefix"||zo[1].type==="blockQuotePrefixWhitespace"||zo[1].type==="blockQuoteMarker"||zo[1].type==="listItemIndent"))break}Yu&&(!Es||Yu<Es)&&(Qo._spread=!0),Qo.end=Object.assign({},Es?ae[Es][1].start:es[1].end),ae.splice(Es||yt,0,["exit",Qo,es[2]]),yt++,Ge++}if(es[1].type==="listItemPrefix"){const z0={type:"listItem",_spread:!1,start:Object.assign({},es[1].start),end:void 0};Qo=z0,ae.splice(yt,0,["enter",z0,es[2]]),yt++,Ge++,Yu=void 0,rc=!0}}}return ae[ve][1]._spread=si,Ge}function s(ae,ve){return Ge;function Ge(yt){o.call(this,ae(yt),yt),ve&&ve.call(this,yt)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(ae,ve,Ge){this.stack[this.stack.length-1].children.push(ae),this.stack.push(ae),this.tokenStack.push([ve,Ge||void 0]),ae.position={start:sc(ve.start),end:void 0}}function l(ae){return ve;function ve(Ge){ae&&ae.call(this,Ge),c.call(this,Ge)}}function c(ae,ve){const Ge=this.stack.pop(),yt=this.tokenStack.pop();if(yt)yt[0].type!==ae.type&&(ve?ve.call(this,ae,yt[0]):(yt[1]||GL).call(this,ae,yt[0]));else throw new Error("Cannot close `"+ae.type+"` ("+wm({start:ae.start,end:ae.end})+"): it’s not open");Ge.position.end=sc(ae.end)}function u(){return $Ae(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function A(ae){if(this.data.expectingFirstListItemValue){const ve=this.stack[this.stack.length-2];ve.start=Number.parseInt(this.sliceSerialize(ae),10),this.data.expectingFirstListItemValue=void 0}}function f(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.lang=ae}function p(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.meta=ae}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ae.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ae.replace(/(\r?\n|\r)$/g,"")}function y(ae){const ve=this.resume(),Ge=this.stack[this.stack.length-1];Ge.label=ve,Ge.identifier=vA(this.sliceSerialize(ae)).toLowerCase()}function x(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.title=ae}function b(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.url=ae}function w(ae){const ve=this.stack[this.stack.length-1];if(!ve.depth){const Ge=this.sliceSerialize(ae).length;ve.depth=Ge}}function C(){this.data.setextHeadingSlurpLineEnding=!0}function B(ae){const ve=this.stack[this.stack.length-1];ve.depth=this.sliceSerialize(ae).codePointAt(0)===61?1:2}function S(){this.data.setextHeadingSlurpLineEnding=void 0}function E(ae){const Ge=this.stack[this.stack.length-1].children;let yt=Ge[Ge.length-1];(!yt||yt.type!=="text")&&(yt=We(),yt.position={start:sc(ae.start),end:void 0},Ge.push(yt)),this.stack.push(yt)}function M(ae){const ve=this.stack.pop();ve.value+=this.sliceSerialize(ae),ve.position.end=sc(ae.end)}function T(ae){const ve=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ge=ve.children[ve.children.length-1];Ge.position.end=sc(ae.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ve.type)&&(E.call(this,ae),M.call(this,ae))}function L(){this.data.atHardBreak=!0}function I(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ae}function R(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ae}function z(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ae}function W(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=ve,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function K(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=ve,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function U(ae){const ve=this.sliceSerialize(ae),Ge=this.stack[this.stack.length-2];Ge.label=Hpe(ve),Ge.identifier=vA(ve).toLowerCase()}function q(){const ae=this.stack[this.stack.length-1],ve=this.resume(),Ge=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ge.type==="link"){const yt=ae.children;Ge.children=yt}else Ge.alt=ve}function N(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.url=ae}function ne(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.title=ae}function re(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function me(ae){const ve=this.resume(),Ge=this.stack[this.stack.length-1];Ge.label=ve,Ge.identifier=vA(this.sliceSerialize(ae)).toLowerCase(),this.data.referenceType="full"}function Ce(ae){this.data.characterReferenceType=ae.type}function oe(ae){const ve=this.sliceSerialize(ae),Ge=this.data.characterReferenceType;let yt;Ge?(yt=yW(ve,Ge==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):yt=fE(ve);const Lt=this.stack[this.stack.length-1];Lt.value+=yt}function ye(ae){const ve=this.stack.pop();ve.position.end=sc(ae.end)}function ze(ae){M.call(this,ae);const ve=this.stack[this.stack.length-1];ve.url=this.sliceSerialize(ae)}function fe(ae){M.call(this,ae);const ve=this.stack[this.stack.length-1];ve.url="mailto:"+this.sliceSerialize(ae)}function J(){return{type:"blockquote",children:[]}}function ie(){return{type:"code",lang:null,meta:null,value:""}}function Ue(){return{type:"inlineCode",value:""}}function $e(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Bt(){return{type:"emphasis",children:[]}}function Ze(){return{type:"heading",depth:0,children:[]}}function et(){return{type:"break"}}function He(){return{type:"html",value:""}}function $(){return{type:"image",title:null,url:"",alt:null}}function ee(){return{type:"link",title:null,url:"",children:[]}}function ue(ae){return{type:"list",ordered:ae.type==="listOrdered",start:null,spread:ae._spread,children:[]}}function Ne(ae){return{type:"listItem",spread:ae._spread,checked:null,children:[]}}function Te(){return{type:"paragraph",children:[]}}function Se(){return{type:"strong",children:[]}}function We(){return{type:"text",value:""}}function ft(){return{type:"thematicBreak"}}}function sc(t){return{line:t.line,column:t.column,offset:t.offset}}function MW(t,e){let r=-1;for(;++r<e.length;){const n=e[r];Array.isArray(n)?MW(t,n):qpe(t,n)}}function qpe(t,e){let r;for(r in e)if(EW.call(e,r))switch(r){case"canContainEols":{const n=e[r];n&&t[r].push(...n);break}case"transforms":{const n=e[r];n&&t[r].push(...n);break}case"enter":case"exit":{const n=e[r];n&&Object.assign(t[r],n);break}}}function GL(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+wm({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+wm({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+wm({start:e.start,end:e.end})+") is still open")}function Wpe(t){const e=this;e.parser=r;function r(n){return Vpe(n,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Gpe(t,e){const r={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,r),t.applyData(e,r)}function Xpe(t,e){const r={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,r),[t.applyData(e,r),{type:"text",value:`
`}]}function Ype(t,e){const r=e.value?e.value+`
`:"",n={};e.lang&&(n.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function Jpe(t,e){const r={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Zpe(t,e){const r={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function eme(t,e){const r=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=String(e.identifier).toUpperCase(),i=mf(n.toLowerCase()),s=t.footnoteOrder.indexOf(n);let a,o=t.footnoteCounts.get(n);o===void 0?(o=0,t.footnoteOrder.push(n),a=t.footnoteOrder.length):a=s+1,o+=1,t.footnoteCounts.set(n,o);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function tme(t,e){const r={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function rme(t,e){if(t.options.allowDangerousHtml){const r={type:"raw",value:e.value};return t.patch(e,r),t.applyData(e,r)}}function FW(t,e){const r=e.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+n}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=n:i.push({type:"text",value:n}),i}function nme(t,e){const r=String(e.identifier).toUpperCase(),n=t.definitionById.get(r);if(!n)return FW(t,e);const i={src:mf(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function ime(t,e){const r={src:mf(e.url)};e.alt!==null&&e.alt!==void 0&&(r.alt=e.alt),e.title!==null&&e.title!==void 0&&(r.title=e.title);const n={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,n),t.applyData(e,n)}function sme(t,e){const r={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return t.patch(e,n),t.applyData(e,n)}function ame(t,e){const r=String(e.identifier).toUpperCase(),n=t.definitionById.get(r);if(!n)return FW(t,e);const i={href:mf(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function ome(t,e){const r={href:mf(e.url)};e.title!==null&&e.title!==void 0&&(r.title=e.title);const n={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function lme(t,e,r){const n=t.all(e),i=r?cme(r):TW(e),s={},a=[];if(typeof e.checked=="boolean"){const u=n[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},n.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const u=n[o];(i||o!==0||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?a.push(...u.children):a.push(u)}const l=n[n.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:a};return t.patch(e,c),t.applyData(e,c)}function cme(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const r=t.children;let n=-1;for(;!e&&++n<r.length;)e=TW(r[n])}return e}function TW(t){const e=t.spread;return e??t.children.length>1}function ume(t,e){const r={},n=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(r.start=e.start);++i<n.length;){const a=n[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:r,children:t.wrap(n,!0)};return t.patch(e,s),t.applyData(e,s)}function dme(t,e){const r={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function hme(t,e){const r={type:"root",children:t.wrap(t.all(e))};return t.patch(e,r),t.applyData(e,r)}function Ame(t,e){const r={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function fme(t,e){const r=t.all(e),n=r.shift(),i=[];if(n){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([n],!0)};t.patch(e.children[0],a),i.push(a)}if(r.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(r,!0)},o=uE(e.children[1]),l=dW(e.children[e.children.length-1]);o&&l&&(a.position={start:o,end:l}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function pme(t,e,r){const n=r?r.children:void 0,s=(n?n.indexOf(e):1)===0?"th":"td",a=r&&r.type==="table"?r.align:void 0,o=a?a.length:e.children.length;let l=-1;const c=[];for(;++l<o;){const d=e.children[l],A={},f=a?a[l]:void 0;f&&(A.align=f);let p={type:"element",tagName:s,properties:A,children:[]};d&&(p.children=t.all(d),t.patch(d,p),p=t.applyData(d,p)),c.push(p)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,u),t.applyData(e,u)}function mme(t,e){const r={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}const XL=9,YL=32;function gme(t){const e=String(t),r=/\r?\n|\r/g;let n=r.exec(e),i=0;const s=[];for(;n;)s.push(JL(e.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(e);return s.push(JL(e.slice(i),i>0,!1)),s.join("")}function JL(t,e,r){let n=0,i=t.length;if(e){let s=t.codePointAt(n);for(;s===XL||s===YL;)n++,s=t.codePointAt(n)}if(r){let s=t.codePointAt(i-1);for(;s===XL||s===YL;)i--,s=t.codePointAt(i-1)}return i>n?t.slice(n,i):""}function yme(t,e){const r={type:"text",value:gme(String(e.value))};return t.patch(e,r),t.applyData(e,r)}function vme(t,e){const r={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,r),t.applyData(e,r)}const xme={blockquote:Gpe,break:Xpe,code:Ype,delete:Jpe,emphasis:Zpe,footnoteReference:eme,heading:tme,html:rme,imageReference:nme,image:ime,inlineCode:sme,linkReference:ame,link:ome,listItem:lme,list:ume,paragraph:dme,root:hme,strong:Ame,table:fme,tableCell:mme,tableRow:pme,text:yme,thematicBreak:vme,toml:B2,yaml:B2,definition:B2,footnoteDefinition:B2};function B2(){}const DW=-1,_w=0,Bm=1,wb=2,gE=3,yE=4,vE=5,xE=6,LW=7,NW=8,ZL=typeof self=="object"?self:globalThis,bme=(t,e)=>{const r=(i,s)=>(t.set(s,i),i),n=i=>{if(t.has(i))return t.get(i);const[s,a]=e[i];switch(s){case _w:case DW:return r(a,i);case Bm:{const o=r([],i);for(const l of a)o.push(n(l));return o}case wb:{const o=r({},i);for(const[l,c]of a)o[n(l)]=n(c);return o}case gE:return r(new Date(a),i);case yE:{const{source:o,flags:l}=a;return r(new RegExp(o,l),i)}case vE:{const o=r(new Map,i);for(const[l,c]of a)o.set(n(l),n(c));return o}case xE:{const o=r(new Set,i);for(const l of a)o.add(n(l));return o}case LW:{const{name:o,message:l}=a;return r(new ZL[o](l),i)}case NW:return r(BigInt(a),i);case"BigInt":return r(Object(BigInt(a)),i);case"ArrayBuffer":return r(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return r(new DataView(o),a)}}return r(new ZL[s](a),i)};return n},eN=t=>bme(new Map,t)(0),K0="",{toString:wme}={},{keys:Cme}=Object,Kf=t=>{const e=typeof t;if(e!=="object"||!t)return[_w,e];const r=wme.call(t).slice(8,-1);switch(r){case"Array":return[Bm,K0];case"Object":return[wb,K0];case"Date":return[gE,K0];case"RegExp":return[yE,K0];case"Map":return[vE,K0];case"Set":return[xE,K0];case"DataView":return[Bm,r]}return r.includes("Array")?[Bm,r]:r.includes("Error")?[LW,r]:[wb,r]},S2=([t,e])=>t===_w&&(e==="function"||e==="symbol"),Bme=(t,e,r,n)=>{const i=(a,o)=>{const l=n.push(a)-1;return r.set(o,l),l},s=a=>{if(r.has(a))return r.get(a);let[o,l]=Kf(a);switch(o){case _w:{let u=a;switch(l){case"bigint":o=NW,u=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([DW],a)}return i([o,u],a)}case Bm:{if(l){let A=a;return l==="DataView"?A=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(A=new Uint8Array(a)),i([l,[...A]],a)}const u=[],d=i([o,u],a);for(const A of a)u.push(s(A));return d}case wb:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(e&&"toJSON"in a)return s(a.toJSON());const u=[],d=i([o,u],a);for(const A of Cme(a))(t||!S2(Kf(a[A])))&&u.push([s(A),s(a[A])]);return d}case gE:return i([o,a.toISOString()],a);case yE:{const{source:u,flags:d}=a;return i([o,{source:u,flags:d}],a)}case vE:{const u=[],d=i([o,u],a);for(const[A,f]of a)(t||!(S2(Kf(A))||S2(Kf(f))))&&u.push([s(A),s(f)]);return d}case xE:{const u=[],d=i([o,u],a);for(const A of a)(t||!S2(Kf(A)))&&u.push(s(A));return d}}const{message:c}=a;return i([o,{name:l,message:c}],a)};return s},tN=(t,{json:e,lossy:r}={})=>{const n=[];return Bme(!(e||r),!!e,new Map,n)(t),n},Cb=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?eN(tN(t,e)):structuredClone(t):(t,e)=>eN(tN(t,e));function Sme(t,e){const r=[{type:"text",value:"↩"}];return e>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),r}function _me(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function kme(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=t.options.footnoteBackContent||Sme,n=t.options.footnoteBackLabel||_me,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const u=t.all(c),d=String(c.identifier).toUpperCase(),A=mf(d.toLowerCase());let f=0;const p=[],m=t.footnoteCounts.get(d);for(;m!==void 0&&++f<=m;){p.length>0&&p.push({type:"text",value:" "});let y=typeof r=="string"?r:r(l,f);typeof y=="string"&&(y={type:"text",value:y}),p.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+A+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,f),className:["data-footnote-backref"]},children:Array.isArray(y)?y:[y]})}const v=u[u.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const y=v.children[v.children.length-1];y&&y.type==="text"?y.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...p)}else u.push(...p);const g={type:"element",tagName:"li",properties:{id:e+"fn-"+A},children:t.wrap(u,!0)};t.patch(c,g),o.push(g)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Cb(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const bE=function(t){if(t==null)return Tme;if(typeof t=="function")return kw(t);if(typeof t=="object")return Array.isArray(t)?Eme(t):Mme(t);if(typeof t=="string")return Fme(t);throw new Error("Expected function, string, or object as test")};function Eme(t){const e=[];let r=-1;for(;++r<t.length;)e[r]=bE(t[r]);return kw(n);function n(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function Mme(t){const e=t;return kw(r);function r(n){const i=n;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function Fme(t){return kw(e);function e(r){return r&&r.type===t}}function kw(t){return e;function e(r,n,i){return!!(Dme(r)&&t.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function Tme(){return!0}function Dme(t){return t!==null&&typeof t=="object"&&"type"in t}const jW=[],Lme=!0,rN=!1,IW="skip";function OW(t,e,r,n){let i;typeof e=="function"&&typeof r!="function"?(n=r,r=e):i=e;const s=bE(i),a=n?-1:1;o(t,void 0,[])();function o(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(A,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return A;function A(){let f=jW,p,m,v;if((!e||s(l,c,u[u.length-1]||void 0))&&(f=Nme(r(l,u)),f[0]===rN))return f;if("children"in l&&l.children){const g=l;if(g.children&&f[0]!==IW)for(m=(n?g.children.length:-1)+a,v=u.concat(g);m>-1&&m<g.children.length;){const y=g.children[m];if(p=o(y,m,v)(),p[0]===rN)return p;m=typeof p[1]=="number"?p[1]:m+a}}return f}}}function Nme(t){return Array.isArray(t)?t:typeof t=="number"?[Lme,t]:t==null?jW:[t]}function PW(t,e,r,n){let i,s,a;typeof e=="function"&&typeof r!="function"?(s=void 0,a=e,i=r):(s=e,a=r,i=n),OW(t,s,o,i);function o(l,c){const u=c[c.length-1],d=u?u.children.indexOf(l):void 0;return a(l,d,u)}}const tB={}.hasOwnProperty,jme={};function Ime(t,e){const r=e||jme,n=new Map,i=new Map,s=new Map,a={...xme,...r.handlers},o={all:c,applyData:Pme,definitionById:n,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:l,options:r,patch:Ome,wrap:Rme};return PW(t,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const d=u.type==="definition"?n:i,A=String(u.identifier).toUpperCase();d.has(A)||d.set(A,u)}}),o;function l(u,d){const A=u.type,f=o.handlers[A];if(tB.call(o.handlers,A)&&f)return f(o,u,d);if(o.options.passThrough&&o.options.passThrough.includes(A)){if("children"in u){const{children:m,...v}=u,g=Cb(v);return g.children=o.all(u),g}return Cb(u)}return(o.options.unknownHandler||Ume)(o,u,d)}function c(u){const d=[];if("children"in u){const A=u.children;let f=-1;for(;++f<A.length;){const p=o.one(A[f],u);if(p){if(f&&A[f-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=nN(p.value)),!Array.isArray(p)&&p.type==="element")){const m=p.children[0];m&&m.type==="text"&&(m.value=nN(m.value))}Array.isArray(p)?d.push(...p):d.push(p)}}}return d}}function Ome(t,e){t.position&&(e.position=xAe(t))}function Pme(t,e){let r=e;if(t&&t.data){const n=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const a="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:a}}r.type==="element"&&s&&Object.assign(r.properties,Cb(s)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function Ume(t,e){const r=e.data||{},n="value"in e&&!(tB.call(r,"hProperties")||tB.call(r,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Rme(t,e){const r=[];let n=-1;for(e&&r.push({type:"text",value:`
`});++n<t.length;)n&&r.push({type:"text",value:`
`}),r.push(t[n]);return e&&t.length>0&&r.push({type:"text",value:`
`}),r}function nN(t){let e=0,r=t.charCodeAt(e);for(;r===9||r===32;)e++,r=t.charCodeAt(e);return t.slice(e)}function iN(t,e){const r=Ime(t,e),n=r.one(t,void 0),i=kme(r),s=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Qme(t,e){return t&&"run"in t?async function(r,n){const i=iN(r,{file:n,...e});await t.run(i,n)}:function(r,n){return iN(r,{file:n,...t||e})}}function sN(t){if(t)throw t}var D4=Object.prototype.hasOwnProperty,UW=Object.prototype.toString,aN=Object.defineProperty,oN=Object.getOwnPropertyDescriptor,lN=function(e){return typeof Array.isArray=="function"?Array.isArray(e):UW.call(e)==="[object Array]"},cN=function(e){if(!e||UW.call(e)!=="[object Object]")return!1;var r=D4.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&D4.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;var i;for(i in e);return typeof i>"u"||D4.call(e,i)},uN=function(e,r){aN&&r.name==="__proto__"?aN(e,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):e[r.name]=r.newValue},dN=function(e,r){if(r==="__proto__")if(D4.call(e,r)){if(oN)return oN(e,r).value}else return;return e[r]},zme=function t(){var e,r,n,i,s,a,o=arguments[0],l=1,c=arguments.length,u=!1;for(typeof o=="boolean"&&(u=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(e=arguments[l],e!=null)for(r in e)n=dN(o,r),i=dN(e,r),o!==i&&(u&&i&&(cN(i)||(s=lN(i)))?(s?(s=!1,a=n&&lN(n)?n:[]):a=n&&cN(n)?n:{},uN(o,{name:r,newValue:t(u,a,i)})):typeof i<"u"&&uN(o,{name:r,newValue:i}));return o};const R6=q3(zme);function rB(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Hme(){const t=[],e={run:r,use:n};return e;function r(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(l,...c){const u=t[++s];let d=-1;if(l){a(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?$me(u,o)(...c):a(null,...c)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function $me(t,e){let r;return n;function n(...a){const o=t.length>a.length;let l;o&&a.push(i);try{l=t.apply(this,a)}catch(c){const u=c;if(o&&r)throw u;return i(u)}o||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(a,...o){r||(r=!0,e(a,...o))}function s(a){i(null,a)}}const to={basename:Vme,dirname:Kme,extname:qme,join:Wme,sep:"/"};function Vme(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');E1(t);let r=0,n=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){r=i+1;break}}else n<0&&(s=!0,n=i+1);return n<0?"":t.slice(r,n)}if(e===t)return"";let a=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){r=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(n=i):(o=-1,n=a));return r===n?n=a:n<0&&(n=t.length),t.slice(r,n)}function Kme(t){if(E1(t),t.length===0)return".";let e=-1,r=t.length,n;for(;--r;)if(t.codePointAt(r)===47){if(n){e=r;break}}else n||(n=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function qme(t){E1(t);let e=t.length,r=-1,n=0,i=-1,s=0,a;for(;e--;){const o=t.codePointAt(e);if(o===47){if(a){n=e+1;break}continue}r<0&&(a=!0,r=e+1),o===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||r<0||s===0||s===1&&i===r-1&&i===n+1?"":t.slice(i,r)}function Wme(...t){let e=-1,r;for(;++e<t.length;)E1(t[e]),t[e]&&(r=r===void 0?t[e]:r+"/"+t[e]);return r===void 0?".":Gme(r)}function Gme(t){E1(t);const e=t.codePointAt(0)===47;let r=Xme(t,!e);return r.length===0&&!e&&(r="."),r.length>0&&t.codePointAt(t.length-1)===47&&(r+="/"),e?"/"+r:r}function Xme(t,e){let r="",n=0,i=-1,s=0,a=-1,o,l;for(;++a<=t.length;){if(a<t.length)o=t.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length>0){r="",n=0,i=a,s=0;continue}}e&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+t.slice(i+1,a):r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return r}function E1(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Yme={cwd:Jme};function Jme(){return"/"}function nB(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Zme(t){if(typeof t=="string")t=new URL(t);else if(!nB(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return ege(t)}function ege(t){if(t.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const e=t.pathname;let r=-1;for(;++r<e.length;)if(e.codePointAt(r)===37&&e.codePointAt(r+1)===50){const n=e.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Q6=["history","path","basename","stem","extname","dirname"];class RW{constructor(e){let r;e?nB(e)?r={path:e}:typeof e=="string"||tge(e)?r={value:e}:r=e:r={},this.cwd="cwd"in r?"":Yme.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<Q6.length;){const s=Q6[n];s in r&&r[s]!==void 0&&r[s]!==null&&(this[s]=s==="history"?[...r[s]]:r[s])}let i;for(i in r)Q6.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?to.basename(this.path):void 0}set basename(e){H6(e,"basename"),z6(e,"basename"),this.path=to.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?to.dirname(this.path):void 0}set dirname(e){hN(this.basename,"dirname"),this.path=to.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?to.extname(this.path):void 0}set extname(e){if(z6(e,"extname"),hN(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=to.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){nB(e)&&(e=Zme(e)),H6(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?to.basename(this.path,this.extname):void 0}set stem(e){H6(e,"stem"),z6(e,"stem"),this.path=to.join(this.dirname||"",e+(this.extname||""))}fail(e,r,n){const i=this.message(e,r,n);throw i.fatal=!0,i}info(e,r,n){const i=this.message(e,r,n);return i.fatal=void 0,i}message(e,r,n){const i=new ii(e,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function z6(t,e){if(t&&t.includes(to.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+to.sep+"`")}function H6(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function hN(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function tge(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const rge=function(t){const n=this.constructor.prototype,i=n[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,n),s},nge={}.hasOwnProperty;class wE extends rge{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Hme()}copy(){const e=new wE;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];e.use(...n)}return e.data(R6(!0,{},this.namespace)),e}data(e,r){return typeof e=="string"?arguments.length===2?(K6("data",this.frozen),this.namespace[e]=r,this):nge.call(this.namespace,e)&&this.namespace[e]||void 0:e?(K6("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(e,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const r=_2(e),n=this.parser||this.Parser;return $6("parse",n),n(String(r),r)}process(e,r){const n=this;return this.freeze(),$6("process",this.parser||this.Parser),V6("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(s,a){const o=_2(e),l=n.parse(o);n.run(l,o,function(u,d,A){if(u||!d||!A)return c(u);const f=d,p=n.stringify(f,A);age(p)?A.value=p:A.result=p,c(u,A)});function c(u,d){u||!d?a(u):s?s(d):r(void 0,d)}}}processSync(e){let r=!1,n;return this.freeze(),$6("processSync",this.parser||this.Parser),V6("processSync",this.compiler||this.Compiler),this.process(e,i),fN("processSync","process",r),n;function i(s,a){r=!0,sN(s),n=a}}run(e,r,n){AN(e),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?s(void 0,n):new Promise(s);function s(a,o){const l=_2(r);i.run(e,l,c);function c(u,d,A){const f=d||e;u?o(u):a?a(f):n(void 0,f,A)}}}runSync(e,r){let n=!1,i;return this.run(e,r,s),fN("runSync","run",n),i;function s(a,o){sN(a),i=o,n=!0}}stringify(e,r){this.freeze();const n=_2(r),i=this.compiler||this.Compiler;return V6("stringify",i),AN(e),i(e,n)}use(e,...r){const n=this.attachers,i=this.namespace;if(K6("use",this.frozen),e!=null)if(typeof e=="function")l(e,r);else if(typeof e=="object")Array.isArray(e)?o(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...d]=c;l(u,d)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=R6(!0,i.settings,c.settings))}function o(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const d=c[u];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let d=-1,A=-1;for(;++d<n.length;)if(n[d][0]===c){A=d;break}if(A===-1)n.push([c,...u]);else if(u.length>0){let[f,...p]=u;const m=n[A][1];rB(m)&&rB(f)&&(f=R6(!0,m,f)),n[A]=[c,f,...p]}}}}const ige=new wE().freeze();function $6(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function V6(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function K6(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function AN(t){if(!rB(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function fN(t,e,r){if(!r)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function _2(t){return sge(t)?t:new RW(t)}function sge(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function age(t){return typeof t=="string"||oge(t)}function oge(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const lge="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",pN=[],mN={allowDangerousHtml:!0},cge=/^(https?|ircs?|mailto|xmpp)$/i,uge=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function dge(t){const e=hge(t),r=Age(t);return fge(e.runSync(e.parse(r),r),t)}function hge(t){const e=t.rehypePlugins||pN,r=t.remarkPlugins||pN,n=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...mN}:mN;return ige().use(Wpe).use(r).use(Qme,n).use(e)}function Age(t){const e=t.children||"",r=new RW;return typeof e=="string"&&(r.value=e),r}function fge(t,e){const r=e.allowedElements,n=e.allowElement,i=e.components,s=e.disallowedElements,a=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||pge;for(const u of uge)Object.hasOwn(e,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+lge+u.id,void 0);return PW(t,c),_Ae(t,{Fragment:h.Fragment,components:i,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function c(u,d,A){if(u.type==="raw"&&A&&typeof d=="number")return a?A.children.splice(d,1):A.children[d]={type:"text",value:u.value},d;if(u.type==="element"){let f;for(f in O6)if(Object.hasOwn(O6,f)&&Object.hasOwn(u.properties,f)){const p=u.properties[f],m=O6[f];(m===null||m.includes(u.tagName))&&(u.properties[f]=l(String(p||""),f,u))}}if(u.type==="element"){let f=r?!r.includes(u.tagName):s?s.includes(u.tagName):!1;if(!f&&n&&typeof d=="number"&&(f=!n(u,d,A)),f&&A&&typeof d=="number")return o&&u.children?A.children.splice(d,1,...u.children):A.children.splice(d,1),d}}}function pge(t){const e=t.indexOf(":"),r=t.indexOf("?"),n=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||r!==-1&&e>r||n!==-1&&e>n||cge.test(t.slice(0,e))?t:""}const mge="/assets/icon-BJdMBtym.png";function gge(t,e){const r=String(t);let n=r.indexOf(e),i=n,s=0,a=0;for(;n!==-1;)n===i?++s>a&&(a=s):s=1,i=n+e.length,n=r.indexOf(e,i);return a}function yge(){return{enter:{mathFlow:t,mathFlowFenceMeta:e,mathText:s},exit:{mathFlow:i,mathFlowFence:n,mathFlowFenceMeta:r,mathFlowValue:o,mathText:a,mathTextData:o}};function t(l){const c={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[c]}},l)}function e(){this.buffer()}function r(){const l=this.resume(),c=this.stack[this.stack.length-1];c.type,c.meta=l}function n(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(l){const c=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),u=this.stack[this.stack.length-1];u.type,this.exit(l),u.value=c;const d=u.data.hChildren[0];d.type,d.tagName,d.children.push({type:"text",value:c}),this.data.mathFlowInside=void 0}function s(l){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},l),this.buffer()}function a(l){const c=this.resume(),u=this.stack[this.stack.length-1];u.type,this.exit(l),u.value=c,u.data.hChildren.push({type:"text",value:c})}function o(l){this.config.enter.data.call(this,l),this.config.exit.data.call(this,l)}}function vge(t){let e=(t||{}).singleDollarTextMath;return e==null&&(e=!0),n.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:e?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:r,inlineMath:n}};function r(s,a,o,l){const c=s.value||"",u=o.createTracker(l),d="$".repeat(Math.max(gge(c,"$")+1,2)),A=o.enter("mathFlow");let f=u.move(d);if(s.meta){const p=o.enter("mathFlowMeta");f+=u.move(o.safe(s.meta,{after:`
`,before:f,encode:["$"],...u.current()})),p()}return f+=u.move(`
`),c&&(f+=u.move(c+`
`)),f+=u.move(d),A(),f}function n(s,a,o){let l=s.value||"",c=1;for(e||c++;new RegExp("(^|[^$])"+"\\$".repeat(c)+"([^$]|$)").test(l);)c++;const u="$".repeat(c);/[^ \r\n]/.test(l)&&(/^[ \r\n]/.test(l)&&/[ \r\n]$/.test(l)||/^\$|\$$/.test(l))&&(l=" "+l+" ");let d=-1;for(;++d<o.unsafe.length;){const A=o.unsafe[d];if(!A.atBreak)continue;const f=o.compilePattern(A);let p;for(;p=f.exec(l);){let m=p.index;l.codePointAt(m)===10&&l.codePointAt(m-1)===13&&m--,l=l.slice(0,m)+" "+l.slice(p.index+1)}}return u+l+u}function i(){return"$"}}const xge={tokenize:bge,concrete:!0,name:"mathFlow"},gN={tokenize:wge,partial:!0};function bge(t,e,r){const n=this,i=n.events[n.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let a=0;return o;function o(y){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),l(y)}function l(y){return y===36?(t.consume(y),a++,l):a<2?r(y):(t.exit("mathFlowFenceSequence"),Vt(t,c,"whitespace")(y))}function c(y){return y===null||Ve(y)?d(y):(t.enter("mathFlowFenceMeta"),t.enter("chunkString",{contentType:"string"}),u(y))}function u(y){return y===null||Ve(y)?(t.exit("chunkString"),t.exit("mathFlowFenceMeta"),d(y)):y===36?r(y):(t.consume(y),u)}function d(y){return t.exit("mathFlowFence"),n.interrupt?e(y):t.attempt(gN,A,v)(y)}function A(y){return t.attempt({tokenize:g,partial:!0},v,f)(y)}function f(y){return(s?Vt(t,p,"linePrefix",s+1):p)(y)}function p(y){return y===null?v(y):Ve(y)?t.attempt(gN,A,v)(y):(t.enter("mathFlowValue"),m(y))}function m(y){return y===null||Ve(y)?(t.exit("mathFlowValue"),p(y)):(t.consume(y),m)}function v(y){return t.exit("mathFlow"),e(y)}function g(y,x,b){let w=0;return Vt(y,C,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function C(E){return y.enter("mathFlowFence"),y.enter("mathFlowFenceSequence"),B(E)}function B(E){return E===36?(w++,y.consume(E),B):w<a?b(E):(y.exit("mathFlowFenceSequence"),Vt(y,S,"whitespace")(E))}function S(E){return E===null||Ve(E)?(y.exit("mathFlowFence"),x(E)):b(E)}}}function wge(t,e,r){const n=this;return i;function i(a){return a===null?e(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return n.parser.lazy[n.now().line]?r(a):e(a)}}function Cge(t){let r=t.singleDollarTextMath;return r==null&&(r=!0),{tokenize:n,resolve:Bge,previous:Sge,name:"mathText"};function n(i,s,a){let o=0,l,c;return u;function u(m){return i.enter("mathText"),i.enter("mathTextSequence"),d(m)}function d(m){return m===36?(i.consume(m),o++,d):o<2&&!r?a(m):(i.exit("mathTextSequence"),A(m))}function A(m){return m===null?a(m):m===36?(c=i.enter("mathTextSequence"),l=0,p(m)):m===32?(i.enter("space"),i.consume(m),i.exit("space"),A):Ve(m)?(i.enter("lineEnding"),i.consume(m),i.exit("lineEnding"),A):(i.enter("mathTextData"),f(m))}function f(m){return m===null||m===32||m===36||Ve(m)?(i.exit("mathTextData"),A(m)):(i.consume(m),f)}function p(m){return m===36?(i.consume(m),l++,p):l===o?(i.exit("mathTextSequence"),i.exit("mathText"),s(m)):(c.type="mathTextData",f(m))}}}function Bge(t){let e=t.length-4,r=3,n,i;if((t[r][1].type==="lineEnding"||t[r][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(n=r;++n<e;)if(t[n][1].type==="mathTextData"){t[e][1].type="mathTextPadding",t[r][1].type="mathTextPadding",r+=2,e-=2;break}}for(n=r-1,e++;++n<=e;)i===void 0?n!==e&&t[n][1].type!=="lineEnding"&&(i=n):(n===e||t[n][1].type==="lineEnding")&&(t[i][1].type="mathTextData",n!==i+2&&(t[i][1].end=t[n-1][1].end,t.splice(i+2,n-i-2),e-=n-i-2,n=i+2),i=void 0);return t}function Sge(t){return t!==36||this.events[this.events.length-1][1].type==="characterEscape"}function _ge(t){return{flow:{36:xge},text:{36:Cge(t)}}}class us{constructor(e,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=n}static range(e,r){return r?!e||!e.loc||!r.loc||e.loc.lexer!==r.loc.lexer?null:new us(e.loc.lexer,e.loc.start,r.loc.end):e&&e.loc}}class Ys{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new Ys(r,us.range(this,e))}}class be{constructor(e,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+e,i,s,a=r&&r.loc;if(a&&a.start<=a.end){var o=a.lexer.input;i=a.start,s=a.end,i===o.length?n+=" at end of input: ":n+=" at position "+(i+1)+": ";var l=o.slice(i,s).replace(/[^]/g,"$&̲"),c;i>15?c="…"+o.slice(i-15,i):c=o.slice(0,i);var u;s+15<o.length?u=o.slice(s,s+15)+"…":u=o.slice(s),n+=c+l+u}var d=new Error(n);return d.name="ParseError",d.__proto__=be.prototype,d.position=i,i!=null&&s!=null&&(d.length=s-i),d.rawMessage=e,d}}be.prototype.__proto__=Error.prototype;var kge=function(e,r){return e.indexOf(r)!==-1},Ege=function(e,r){return e===void 0?r:e},Mge=/([A-Z])/g,Fge=function(e){return e.replace(Mge,"-$1").toLowerCase()},Tge={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Dge=/[&><"']/g;function Lge(t){return String(t).replace(Dge,e=>Tge[e])}var QW=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},Nge=function(e){var r=QW(e);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},jge=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},Ige=function(e){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},qe={contains:kge,deflt:Ege,escape:Lge,hyphenate:Fge,getBaseElem:QW,isCharacterBox:Nge,protocolFromUrl:Ige},L4={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function Oge(t){if(t.default)return t.default;var e=t.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class CE{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var r in L4)if(L4.hasOwnProperty(r)){var n=L4[r];this[r]=e[r]!==void 0?n.processor?n.processor(e[r]):e[r]:Oge(n)}}reportNonstrict(e,r,n){var i=this.strict;if(typeof i=="function"&&(i=i(e,r,n)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new be("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+e+"]"),n);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]"))}}useStrictBehavior(e,r,n){var i=this.strict;if(typeof i=="function")try{i=i(e,r,n)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var r=qe.protocolFromUrl(e.url);if(r==null)return!1;e.protocol=r}var n=typeof this.trust=="function"?this.trust(e):this.trust;return!!n}}class ac{constructor(e,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=n}sup(){return ao[Pge[this.id]]}sub(){return ao[Uge[this.id]]}fracNum(){return ao[Rge[this.id]]}fracDen(){return ao[Qge[this.id]]}cramp(){return ao[zge[this.id]]}text(){return ao[Hge[this.id]]}isTight(){return this.size>=2}}var BE=0,Bb=1,xA=2,wl=3,Tg=4,Ks=5,$A=6,mi=7,ao=[new ac(BE,0,!1),new ac(Bb,0,!0),new ac(xA,1,!1),new ac(wl,1,!0),new ac(Tg,2,!1),new ac(Ks,2,!0),new ac($A,3,!1),new ac(mi,3,!0)],Pge=[Tg,Ks,Tg,Ks,$A,mi,$A,mi],Uge=[Ks,Ks,Ks,Ks,mi,mi,mi,mi],Rge=[xA,wl,Tg,Ks,$A,mi,$A,mi],Qge=[wl,wl,Ks,Ks,mi,mi,mi,mi],zge=[Bb,Bb,wl,wl,Ks,Ks,mi,mi],Hge=[BE,Bb,xA,wl,xA,wl,xA,wl],Je={DISPLAY:ao[BE],TEXT:ao[xA],SCRIPT:ao[Tg],SCRIPTSCRIPT:ao[$A]},iB=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function $ge(t){for(var e=0;e<iB.length;e++)for(var r=iB[e],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(t>=i[0]&&t<=i[1])return r.name}return null}var N4=[];iB.forEach(t=>t.blocks.forEach(e=>N4.push(...e)));function zW(t){for(var e=0;e<N4.length;e+=2)if(t>=N4[e]&&t<=N4[e+1])return!0;return!1}var q0=80,Vge=function(e,r){return"M95,"+(622+e+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},Kge=function(e,r){return"M263,"+(601+e+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},qge=function(e,r){return"M983 "+(10+e+r)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},Wge=function(e,r){return"M424,"+(2398+e+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+r+`
h400000v`+(40+e)+"h-400000z"},Gge=function(e,r){return"M473,"+(2713+e+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+r+"h400000v"+(40+e)+"H1017.7z"},Xge=function(e){var r=e/2;return"M400000 "+e+" H0 L"+r+" 0 l65 45 L145 "+(e-80)+" H400000z"},Yge=function(e,r,n){var i=n-54-r-e;return"M702 "+(e+r)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+e)+"H742z"},Jge=function(e,r,n){r=1e3*r;var i="";switch(e){case"sqrtMain":i=Vge(r,q0);break;case"sqrtSize1":i=Kge(r,q0);break;case"sqrtSize2":i=qge(r,q0);break;case"sqrtSize3":i=Wge(r,q0);break;case"sqrtSize4":i=Gge(r,q0);break;case"sqrtTall":i=Yge(r,q0,n)}return i},Zge=function(e,r){switch(e){case"⎜":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"∣":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"∥":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"⎟":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"⎢":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"⎥":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"⎪":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"⏐":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"‖":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},yN={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},e1e=function(e,r){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class M1{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return qe.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){var e=r=>r.toText();return this.children.map(e).join("")}}var po={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},k2={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},vN={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function t1e(t,e){po[t]=e}function SE(t,e,r){if(!po[e])throw new Error("Font metrics not found for font: "+e+".");var n=t.charCodeAt(0),i=po[e][n];if(!i&&t[0]in vN&&(n=vN[t[0]].charCodeAt(0),i=po[e][n]),!i&&r==="text"&&zW(n)&&(i=po[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var q6={};function r1e(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!q6[e]){var r=q6[e]={cssEmPerMu:k2.quad[e]/18};for(var n in k2)k2.hasOwnProperty(n)&&(r[n]=k2[n][e])}return q6[e]}var n1e=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],xN=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],bN=function(e,r){return r.size<2?e:n1e[e-1][r.size-1]};class ll{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||ll.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=xN[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return new ll(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:bN(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:xN[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=bN(ll.BASESIZE,e);return this.size===r&&this.textSize===ll.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==ll.BASESIZE?["sizing","reset-size"+this.size,"size"+ll.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=r1e(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}ll.BASESIZE=6;var sB={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},i1e={ex:!0,em:!0,mu:!0},HW=function(e){return typeof e!="string"&&(e=e.unit),e in sB||e in i1e||e==="ex"},Br=function(e,r){var n;if(e.unit in sB)n=sB[e.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(e.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var i;if(r.style.isTight()?i=r.havingStyle(r.style.text()):i=r,e.unit==="ex")n=i.fontMetrics().xHeight;else if(e.unit==="em")n=i.fontMetrics().quad;else throw new be("Invalid unit: '"+e.unit+"'");i!==r&&(n*=i.sizeMultiplier/r.sizeMultiplier)}return Math.min(e.number*n,r.maxSize)},ke=function(e){return+e.toFixed(4)+"em"},bu=function(e){return e.filter(r=>r).join(" ")},$W=function(e,r,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var i=r.getColor();i&&(this.style.color=i)}},VW=function(e){var r=document.createElement(e);r.className=bu(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&r.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)r.appendChild(this.children[s].toNode());return r},s1e=/[\s"'>/=\x00-\x1f]/,KW=function(e){var r="<"+e;this.classes.length&&(r+=' class="'+qe.escape(bu(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=qe.hyphenate(i)+":"+this.style[i]+";");n&&(r+=' style="'+qe.escape(n)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(s1e.test(s))throw new be("Invalid attribute name '"+s+"'");r+=" "+s+'="'+qe.escape(this.attributes[s])+'"'}r+=">";for(var a=0;a<this.children.length;a++)r+=this.children[a].toMarkup();return r+="</"+e+">",r};class F1{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,$W.call(this,e,n,i),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return qe.contains(this.classes,e)}toNode(){return VW.call(this,"span")}toMarkup(){return KW.call(this,"span")}}class _E{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,$W.call(this,r,i),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return qe.contains(this.classes,e)}toNode(){return VW.call(this,"a")}toMarkup(){return KW.call(this,"a")}}class a1e{constructor(e,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return qe.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e='<img src="'+qe.escape(this.src)+'"'+(' alt="'+qe.escape(this.alt)+'"'),r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=qe.hyphenate(n)+":"+this.style[n]+";");return r&&(e+=' style="'+qe.escape(r)+'"'),e+="'/>",e}}var o1e={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class ra{constructor(e,r,n,i,s,a,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=n||0,this.italic=i||0,this.skew=s||0,this.width=a||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var c=$ge(this.text.charCodeAt(0));c&&this.classes.push(c+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=o1e[this.text])}hasClass(e){return qe.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=ke(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=bu(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=qe.escape(bu(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=qe.hyphenate(i)+":"+this.style[i]+";");n&&(e=!0,r+=' style="'+qe.escape(n)+'"');var s=qe.escape(this.text);return e?(r+=">",r+=s,r+="</span>",r):s}}class Il{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+qe.escape(this.attributes[r])+'"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}}class wu{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",yN[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+qe.escape(this.alternate)+'"/>':'<path d="'+qe.escape(yN[this.pathName])+'"/>'}}class aB{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+qe.escape(this.attributes[r])+'"');return e+="/>",e}}function wN(t){if(t instanceof ra)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function l1e(t){if(t instanceof F1)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var c1e={bin:1,close:1,inner:1,open:1,punct:1,rel:1},u1e={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},or={math:{},text:{}};function k(t,e,r,n,i,s){or[t][i]={font:e,group:r,replace:n},s&&n&&(or[t][n]=or[t][i])}var F="math",pe="text",D="main",Q="ams",br="accent-token",Oe="bin",bi="close",gf="inner",Xe="mathord",nn="op-token",_s="open",Ew="punct",H="rel",ql="spacing",X="textord";k(F,D,H,"≡","\\equiv",!0);k(F,D,H,"≺","\\prec",!0);k(F,D,H,"≻","\\succ",!0);k(F,D,H,"∼","\\sim",!0);k(F,D,H,"⊥","\\perp");k(F,D,H,"⪯","\\preceq",!0);k(F,D,H,"⪰","\\succeq",!0);k(F,D,H,"≃","\\simeq",!0);k(F,D,H,"∣","\\mid",!0);k(F,D,H,"≪","\\ll",!0);k(F,D,H,"≫","\\gg",!0);k(F,D,H,"≍","\\asymp",!0);k(F,D,H,"∥","\\parallel");k(F,D,H,"⋈","\\bowtie",!0);k(F,D,H,"⌣","\\smile",!0);k(F,D,H,"⊑","\\sqsubseteq",!0);k(F,D,H,"⊒","\\sqsupseteq",!0);k(F,D,H,"≐","\\doteq",!0);k(F,D,H,"⌢","\\frown",!0);k(F,D,H,"∋","\\ni",!0);k(F,D,H,"∝","\\propto",!0);k(F,D,H,"⊢","\\vdash",!0);k(F,D,H,"⊣","\\dashv",!0);k(F,D,H,"∋","\\owns");k(F,D,Ew,".","\\ldotp");k(F,D,Ew,"⋅","\\cdotp");k(F,D,X,"#","\\#");k(pe,D,X,"#","\\#");k(F,D,X,"&","\\&");k(pe,D,X,"&","\\&");k(F,D,X,"ℵ","\\aleph",!0);k(F,D,X,"∀","\\forall",!0);k(F,D,X,"ℏ","\\hbar",!0);k(F,D,X,"∃","\\exists",!0);k(F,D,X,"∇","\\nabla",!0);k(F,D,X,"♭","\\flat",!0);k(F,D,X,"ℓ","\\ell",!0);k(F,D,X,"♮","\\natural",!0);k(F,D,X,"♣","\\clubsuit",!0);k(F,D,X,"℘","\\wp",!0);k(F,D,X,"♯","\\sharp",!0);k(F,D,X,"♢","\\diamondsuit",!0);k(F,D,X,"ℜ","\\Re",!0);k(F,D,X,"♡","\\heartsuit",!0);k(F,D,X,"ℑ","\\Im",!0);k(F,D,X,"♠","\\spadesuit",!0);k(F,D,X,"§","\\S",!0);k(pe,D,X,"§","\\S");k(F,D,X,"¶","\\P",!0);k(pe,D,X,"¶","\\P");k(F,D,X,"†","\\dag");k(pe,D,X,"†","\\dag");k(pe,D,X,"†","\\textdagger");k(F,D,X,"‡","\\ddag");k(pe,D,X,"‡","\\ddag");k(pe,D,X,"‡","\\textdaggerdbl");k(F,D,bi,"⎱","\\rmoustache",!0);k(F,D,_s,"⎰","\\lmoustache",!0);k(F,D,bi,"⟯","\\rgroup",!0);k(F,D,_s,"⟮","\\lgroup",!0);k(F,D,Oe,"∓","\\mp",!0);k(F,D,Oe,"⊖","\\ominus",!0);k(F,D,Oe,"⊎","\\uplus",!0);k(F,D,Oe,"⊓","\\sqcap",!0);k(F,D,Oe,"∗","\\ast");k(F,D,Oe,"⊔","\\sqcup",!0);k(F,D,Oe,"◯","\\bigcirc",!0);k(F,D,Oe,"∙","\\bullet",!0);k(F,D,Oe,"‡","\\ddagger");k(F,D,Oe,"≀","\\wr",!0);k(F,D,Oe,"⨿","\\amalg");k(F,D,Oe,"&","\\And");k(F,D,H,"⟵","\\longleftarrow",!0);k(F,D,H,"⇐","\\Leftarrow",!0);k(F,D,H,"⟸","\\Longleftarrow",!0);k(F,D,H,"⟶","\\longrightarrow",!0);k(F,D,H,"⇒","\\Rightarrow",!0);k(F,D,H,"⟹","\\Longrightarrow",!0);k(F,D,H,"↔","\\leftrightarrow",!0);k(F,D,H,"⟷","\\longleftrightarrow",!0);k(F,D,H,"⇔","\\Leftrightarrow",!0);k(F,D,H,"⟺","\\Longleftrightarrow",!0);k(F,D,H,"↦","\\mapsto",!0);k(F,D,H,"⟼","\\longmapsto",!0);k(F,D,H,"↗","\\nearrow",!0);k(F,D,H,"↩","\\hookleftarrow",!0);k(F,D,H,"↪","\\hookrightarrow",!0);k(F,D,H,"↘","\\searrow",!0);k(F,D,H,"↼","\\leftharpoonup",!0);k(F,D,H,"⇀","\\rightharpoonup",!0);k(F,D,H,"↙","\\swarrow",!0);k(F,D,H,"↽","\\leftharpoondown",!0);k(F,D,H,"⇁","\\rightharpoondown",!0);k(F,D,H,"↖","\\nwarrow",!0);k(F,D,H,"⇌","\\rightleftharpoons",!0);k(F,Q,H,"≮","\\nless",!0);k(F,Q,H,"","\\@nleqslant");k(F,Q,H,"","\\@nleqq");k(F,Q,H,"⪇","\\lneq",!0);k(F,Q,H,"≨","\\lneqq",!0);k(F,Q,H,"","\\@lvertneqq");k(F,Q,H,"⋦","\\lnsim",!0);k(F,Q,H,"⪉","\\lnapprox",!0);k(F,Q,H,"⊀","\\nprec",!0);k(F,Q,H,"⋠","\\npreceq",!0);k(F,Q,H,"⋨","\\precnsim",!0);k(F,Q,H,"⪹","\\precnapprox",!0);k(F,Q,H,"≁","\\nsim",!0);k(F,Q,H,"","\\@nshortmid");k(F,Q,H,"∤","\\nmid",!0);k(F,Q,H,"⊬","\\nvdash",!0);k(F,Q,H,"⊭","\\nvDash",!0);k(F,Q,H,"⋪","\\ntriangleleft");k(F,Q,H,"⋬","\\ntrianglelefteq",!0);k(F,Q,H,"⊊","\\subsetneq",!0);k(F,Q,H,"","\\@varsubsetneq");k(F,Q,H,"⫋","\\subsetneqq",!0);k(F,Q,H,"","\\@varsubsetneqq");k(F,Q,H,"≯","\\ngtr",!0);k(F,Q,H,"","\\@ngeqslant");k(F,Q,H,"","\\@ngeqq");k(F,Q,H,"⪈","\\gneq",!0);k(F,Q,H,"≩","\\gneqq",!0);k(F,Q,H,"","\\@gvertneqq");k(F,Q,H,"⋧","\\gnsim",!0);k(F,Q,H,"⪊","\\gnapprox",!0);k(F,Q,H,"⊁","\\nsucc",!0);k(F,Q,H,"⋡","\\nsucceq",!0);k(F,Q,H,"⋩","\\succnsim",!0);k(F,Q,H,"⪺","\\succnapprox",!0);k(F,Q,H,"≆","\\ncong",!0);k(F,Q,H,"","\\@nshortparallel");k(F,Q,H,"∦","\\nparallel",!0);k(F,Q,H,"⊯","\\nVDash",!0);k(F,Q,H,"⋫","\\ntriangleright");k(F,Q,H,"⋭","\\ntrianglerighteq",!0);k(F,Q,H,"","\\@nsupseteqq");k(F,Q,H,"⊋","\\supsetneq",!0);k(F,Q,H,"","\\@varsupsetneq");k(F,Q,H,"⫌","\\supsetneqq",!0);k(F,Q,H,"","\\@varsupsetneqq");k(F,Q,H,"⊮","\\nVdash",!0);k(F,Q,H,"⪵","\\precneqq",!0);k(F,Q,H,"⪶","\\succneqq",!0);k(F,Q,H,"","\\@nsubseteqq");k(F,Q,Oe,"⊴","\\unlhd");k(F,Q,Oe,"⊵","\\unrhd");k(F,Q,H,"↚","\\nleftarrow",!0);k(F,Q,H,"↛","\\nrightarrow",!0);k(F,Q,H,"⇍","\\nLeftarrow",!0);k(F,Q,H,"⇏","\\nRightarrow",!0);k(F,Q,H,"↮","\\nleftrightarrow",!0);k(F,Q,H,"⇎","\\nLeftrightarrow",!0);k(F,Q,H,"△","\\vartriangle");k(F,Q,X,"ℏ","\\hslash");k(F,Q,X,"▽","\\triangledown");k(F,Q,X,"◊","\\lozenge");k(F,Q,X,"Ⓢ","\\circledS");k(F,Q,X,"®","\\circledR");k(pe,Q,X,"®","\\circledR");k(F,Q,X,"∡","\\measuredangle",!0);k(F,Q,X,"∄","\\nexists");k(F,Q,X,"℧","\\mho");k(F,Q,X,"Ⅎ","\\Finv",!0);k(F,Q,X,"⅁","\\Game",!0);k(F,Q,X,"‵","\\backprime");k(F,Q,X,"▲","\\blacktriangle");k(F,Q,X,"▼","\\blacktriangledown");k(F,Q,X,"■","\\blacksquare");k(F,Q,X,"⧫","\\blacklozenge");k(F,Q,X,"★","\\bigstar");k(F,Q,X,"∢","\\sphericalangle",!0);k(F,Q,X,"∁","\\complement",!0);k(F,Q,X,"ð","\\eth",!0);k(pe,D,X,"ð","ð");k(F,Q,X,"╱","\\diagup");k(F,Q,X,"╲","\\diagdown");k(F,Q,X,"□","\\square");k(F,Q,X,"□","\\Box");k(F,Q,X,"◊","\\Diamond");k(F,Q,X,"¥","\\yen",!0);k(pe,Q,X,"¥","\\yen",!0);k(F,Q,X,"✓","\\checkmark",!0);k(pe,Q,X,"✓","\\checkmark");k(F,Q,X,"ℶ","\\beth",!0);k(F,Q,X,"ℸ","\\daleth",!0);k(F,Q,X,"ℷ","\\gimel",!0);k(F,Q,X,"ϝ","\\digamma",!0);k(F,Q,X,"ϰ","\\varkappa");k(F,Q,_s,"┌","\\@ulcorner",!0);k(F,Q,bi,"┐","\\@urcorner",!0);k(F,Q,_s,"└","\\@llcorner",!0);k(F,Q,bi,"┘","\\@lrcorner",!0);k(F,Q,H,"≦","\\leqq",!0);k(F,Q,H,"⩽","\\leqslant",!0);k(F,Q,H,"⪕","\\eqslantless",!0);k(F,Q,H,"≲","\\lesssim",!0);k(F,Q,H,"⪅","\\lessapprox",!0);k(F,Q,H,"≊","\\approxeq",!0);k(F,Q,Oe,"⋖","\\lessdot");k(F,Q,H,"⋘","\\lll",!0);k(F,Q,H,"≶","\\lessgtr",!0);k(F,Q,H,"⋚","\\lesseqgtr",!0);k(F,Q,H,"⪋","\\lesseqqgtr",!0);k(F,Q,H,"≑","\\doteqdot");k(F,Q,H,"≓","\\risingdotseq",!0);k(F,Q,H,"≒","\\fallingdotseq",!0);k(F,Q,H,"∽","\\backsim",!0);k(F,Q,H,"⋍","\\backsimeq",!0);k(F,Q,H,"⫅","\\subseteqq",!0);k(F,Q,H,"⋐","\\Subset",!0);k(F,Q,H,"⊏","\\sqsubset",!0);k(F,Q,H,"≼","\\preccurlyeq",!0);k(F,Q,H,"⋞","\\curlyeqprec",!0);k(F,Q,H,"≾","\\precsim",!0);k(F,Q,H,"⪷","\\precapprox",!0);k(F,Q,H,"⊲","\\vartriangleleft");k(F,Q,H,"⊴","\\trianglelefteq");k(F,Q,H,"⊨","\\vDash",!0);k(F,Q,H,"⊪","\\Vvdash",!0);k(F,Q,H,"⌣","\\smallsmile");k(F,Q,H,"⌢","\\smallfrown");k(F,Q,H,"≏","\\bumpeq",!0);k(F,Q,H,"≎","\\Bumpeq",!0);k(F,Q,H,"≧","\\geqq",!0);k(F,Q,H,"⩾","\\geqslant",!0);k(F,Q,H,"⪖","\\eqslantgtr",!0);k(F,Q,H,"≳","\\gtrsim",!0);k(F,Q,H,"⪆","\\gtrapprox",!0);k(F,Q,Oe,"⋗","\\gtrdot");k(F,Q,H,"⋙","\\ggg",!0);k(F,Q,H,"≷","\\gtrless",!0);k(F,Q,H,"⋛","\\gtreqless",!0);k(F,Q,H,"⪌","\\gtreqqless",!0);k(F,Q,H,"≖","\\eqcirc",!0);k(F,Q,H,"≗","\\circeq",!0);k(F,Q,H,"≜","\\triangleq",!0);k(F,Q,H,"∼","\\thicksim");k(F,Q,H,"≈","\\thickapprox");k(F,Q,H,"⫆","\\supseteqq",!0);k(F,Q,H,"⋑","\\Supset",!0);k(F,Q,H,"⊐","\\sqsupset",!0);k(F,Q,H,"≽","\\succcurlyeq",!0);k(F,Q,H,"⋟","\\curlyeqsucc",!0);k(F,Q,H,"≿","\\succsim",!0);k(F,Q,H,"⪸","\\succapprox",!0);k(F,Q,H,"⊳","\\vartriangleright");k(F,Q,H,"⊵","\\trianglerighteq");k(F,Q,H,"⊩","\\Vdash",!0);k(F,Q,H,"∣","\\shortmid");k(F,Q,H,"∥","\\shortparallel");k(F,Q,H,"≬","\\between",!0);k(F,Q,H,"⋔","\\pitchfork",!0);k(F,Q,H,"∝","\\varpropto");k(F,Q,H,"◀","\\blacktriangleleft");k(F,Q,H,"∴","\\therefore",!0);k(F,Q,H,"∍","\\backepsilon");k(F,Q,H,"▶","\\blacktriangleright");k(F,Q,H,"∵","\\because",!0);k(F,Q,H,"⋘","\\llless");k(F,Q,H,"⋙","\\gggtr");k(F,Q,Oe,"⊲","\\lhd");k(F,Q,Oe,"⊳","\\rhd");k(F,Q,H,"≂","\\eqsim",!0);k(F,D,H,"⋈","\\Join");k(F,Q,H,"≑","\\Doteq",!0);k(F,Q,Oe,"∔","\\dotplus",!0);k(F,Q,Oe,"∖","\\smallsetminus");k(F,Q,Oe,"⋒","\\Cap",!0);k(F,Q,Oe,"⋓","\\Cup",!0);k(F,Q,Oe,"⩞","\\doublebarwedge",!0);k(F,Q,Oe,"⊟","\\boxminus",!0);k(F,Q,Oe,"⊞","\\boxplus",!0);k(F,Q,Oe,"⋇","\\divideontimes",!0);k(F,Q,Oe,"⋉","\\ltimes",!0);k(F,Q,Oe,"⋊","\\rtimes",!0);k(F,Q,Oe,"⋋","\\leftthreetimes",!0);k(F,Q,Oe,"⋌","\\rightthreetimes",!0);k(F,Q,Oe,"⋏","\\curlywedge",!0);k(F,Q,Oe,"⋎","\\curlyvee",!0);k(F,Q,Oe,"⊝","\\circleddash",!0);k(F,Q,Oe,"⊛","\\circledast",!0);k(F,Q,Oe,"⋅","\\centerdot");k(F,Q,Oe,"⊺","\\intercal",!0);k(F,Q,Oe,"⋒","\\doublecap");k(F,Q,Oe,"⋓","\\doublecup");k(F,Q,Oe,"⊠","\\boxtimes",!0);k(F,Q,H,"⇢","\\dashrightarrow",!0);k(F,Q,H,"⇠","\\dashleftarrow",!0);k(F,Q,H,"⇇","\\leftleftarrows",!0);k(F,Q,H,"⇆","\\leftrightarrows",!0);k(F,Q,H,"⇚","\\Lleftarrow",!0);k(F,Q,H,"↞","\\twoheadleftarrow",!0);k(F,Q,H,"↢","\\leftarrowtail",!0);k(F,Q,H,"↫","\\looparrowleft",!0);k(F,Q,H,"⇋","\\leftrightharpoons",!0);k(F,Q,H,"↶","\\curvearrowleft",!0);k(F,Q,H,"↺","\\circlearrowleft",!0);k(F,Q,H,"↰","\\Lsh",!0);k(F,Q,H,"⇈","\\upuparrows",!0);k(F,Q,H,"↿","\\upharpoonleft",!0);k(F,Q,H,"⇃","\\downharpoonleft",!0);k(F,D,H,"⊶","\\origof",!0);k(F,D,H,"⊷","\\imageof",!0);k(F,Q,H,"⊸","\\multimap",!0);k(F,Q,H,"↭","\\leftrightsquigarrow",!0);k(F,Q,H,"⇉","\\rightrightarrows",!0);k(F,Q,H,"⇄","\\rightleftarrows",!0);k(F,Q,H,"↠","\\twoheadrightarrow",!0);k(F,Q,H,"↣","\\rightarrowtail",!0);k(F,Q,H,"↬","\\looparrowright",!0);k(F,Q,H,"↷","\\curvearrowright",!0);k(F,Q,H,"↻","\\circlearrowright",!0);k(F,Q,H,"↱","\\Rsh",!0);k(F,Q,H,"⇊","\\downdownarrows",!0);k(F,Q,H,"↾","\\upharpoonright",!0);k(F,Q,H,"⇂","\\downharpoonright",!0);k(F,Q,H,"⇝","\\rightsquigarrow",!0);k(F,Q,H,"⇝","\\leadsto");k(F,Q,H,"⇛","\\Rrightarrow",!0);k(F,Q,H,"↾","\\restriction");k(F,D,X,"‘","`");k(F,D,X,"$","\\$");k(pe,D,X,"$","\\$");k(pe,D,X,"$","\\textdollar");k(F,D,X,"%","\\%");k(pe,D,X,"%","\\%");k(F,D,X,"_","\\_");k(pe,D,X,"_","\\_");k(pe,D,X,"_","\\textunderscore");k(F,D,X,"∠","\\angle",!0);k(F,D,X,"∞","\\infty",!0);k(F,D,X,"′","\\prime");k(F,D,X,"△","\\triangle");k(F,D,X,"Γ","\\Gamma",!0);k(F,D,X,"Δ","\\Delta",!0);k(F,D,X,"Θ","\\Theta",!0);k(F,D,X,"Λ","\\Lambda",!0);k(F,D,X,"Ξ","\\Xi",!0);k(F,D,X,"Π","\\Pi",!0);k(F,D,X,"Σ","\\Sigma",!0);k(F,D,X,"Υ","\\Upsilon",!0);k(F,D,X,"Φ","\\Phi",!0);k(F,D,X,"Ψ","\\Psi",!0);k(F,D,X,"Ω","\\Omega",!0);k(F,D,X,"A","Α");k(F,D,X,"B","Β");k(F,D,X,"E","Ε");k(F,D,X,"Z","Ζ");k(F,D,X,"H","Η");k(F,D,X,"I","Ι");k(F,D,X,"K","Κ");k(F,D,X,"M","Μ");k(F,D,X,"N","Ν");k(F,D,X,"O","Ο");k(F,D,X,"P","Ρ");k(F,D,X,"T","Τ");k(F,D,X,"X","Χ");k(F,D,X,"¬","\\neg",!0);k(F,D,X,"¬","\\lnot");k(F,D,X,"⊤","\\top");k(F,D,X,"⊥","\\bot");k(F,D,X,"∅","\\emptyset");k(F,Q,X,"∅","\\varnothing");k(F,D,Xe,"α","\\alpha",!0);k(F,D,Xe,"β","\\beta",!0);k(F,D,Xe,"γ","\\gamma",!0);k(F,D,Xe,"δ","\\delta",!0);k(F,D,Xe,"ϵ","\\epsilon",!0);k(F,D,Xe,"ζ","\\zeta",!0);k(F,D,Xe,"η","\\eta",!0);k(F,D,Xe,"θ","\\theta",!0);k(F,D,Xe,"ι","\\iota",!0);k(F,D,Xe,"κ","\\kappa",!0);k(F,D,Xe,"λ","\\lambda",!0);k(F,D,Xe,"μ","\\mu",!0);k(F,D,Xe,"ν","\\nu",!0);k(F,D,Xe,"ξ","\\xi",!0);k(F,D,Xe,"ο","\\omicron",!0);k(F,D,Xe,"π","\\pi",!0);k(F,D,Xe,"ρ","\\rho",!0);k(F,D,Xe,"σ","\\sigma",!0);k(F,D,Xe,"τ","\\tau",!0);k(F,D,Xe,"υ","\\upsilon",!0);k(F,D,Xe,"ϕ","\\phi",!0);k(F,D,Xe,"χ","\\chi",!0);k(F,D,Xe,"ψ","\\psi",!0);k(F,D,Xe,"ω","\\omega",!0);k(F,D,Xe,"ε","\\varepsilon",!0);k(F,D,Xe,"ϑ","\\vartheta",!0);k(F,D,Xe,"ϖ","\\varpi",!0);k(F,D,Xe,"ϱ","\\varrho",!0);k(F,D,Xe,"ς","\\varsigma",!0);k(F,D,Xe,"φ","\\varphi",!0);k(F,D,Oe,"∗","*",!0);k(F,D,Oe,"+","+");k(F,D,Oe,"−","-",!0);k(F,D,Oe,"⋅","\\cdot",!0);k(F,D,Oe,"∘","\\circ",!0);k(F,D,Oe,"÷","\\div",!0);k(F,D,Oe,"±","\\pm",!0);k(F,D,Oe,"×","\\times",!0);k(F,D,Oe,"∩","\\cap",!0);k(F,D,Oe,"∪","\\cup",!0);k(F,D,Oe,"∖","\\setminus",!0);k(F,D,Oe,"∧","\\land");k(F,D,Oe,"∨","\\lor");k(F,D,Oe,"∧","\\wedge",!0);k(F,D,Oe,"∨","\\vee",!0);k(F,D,X,"√","\\surd");k(F,D,_s,"⟨","\\langle",!0);k(F,D,_s,"∣","\\lvert");k(F,D,_s,"∥","\\lVert");k(F,D,bi,"?","?");k(F,D,bi,"!","!");k(F,D,bi,"⟩","\\rangle",!0);k(F,D,bi,"∣","\\rvert");k(F,D,bi,"∥","\\rVert");k(F,D,H,"=","=");k(F,D,H,":",":");k(F,D,H,"≈","\\approx",!0);k(F,D,H,"≅","\\cong",!0);k(F,D,H,"≥","\\ge");k(F,D,H,"≥","\\geq",!0);k(F,D,H,"←","\\gets");k(F,D,H,">","\\gt",!0);k(F,D,H,"∈","\\in",!0);k(F,D,H,"","\\@not");k(F,D,H,"⊂","\\subset",!0);k(F,D,H,"⊃","\\supset",!0);k(F,D,H,"⊆","\\subseteq",!0);k(F,D,H,"⊇","\\supseteq",!0);k(F,Q,H,"⊈","\\nsubseteq",!0);k(F,Q,H,"⊉","\\nsupseteq",!0);k(F,D,H,"⊨","\\models");k(F,D,H,"←","\\leftarrow",!0);k(F,D,H,"≤","\\le");k(F,D,H,"≤","\\leq",!0);k(F,D,H,"<","\\lt",!0);k(F,D,H,"→","\\rightarrow",!0);k(F,D,H,"→","\\to");k(F,Q,H,"≱","\\ngeq",!0);k(F,Q,H,"≰","\\nleq",!0);k(F,D,ql," ","\\ ");k(F,D,ql," ","\\space");k(F,D,ql," ","\\nobreakspace");k(pe,D,ql," ","\\ ");k(pe,D,ql," "," ");k(pe,D,ql," ","\\space");k(pe,D,ql," ","\\nobreakspace");k(F,D,ql,null,"\\nobreak");k(F,D,ql,null,"\\allowbreak");k(F,D,Ew,",",",");k(F,D,Ew,";",";");k(F,Q,Oe,"⊼","\\barwedge",!0);k(F,Q,Oe,"⊻","\\veebar",!0);k(F,D,Oe,"⊙","\\odot",!0);k(F,D,Oe,"⊕","\\oplus",!0);k(F,D,Oe,"⊗","\\otimes",!0);k(F,D,X,"∂","\\partial",!0);k(F,D,Oe,"⊘","\\oslash",!0);k(F,Q,Oe,"⊚","\\circledcirc",!0);k(F,Q,Oe,"⊡","\\boxdot",!0);k(F,D,Oe,"△","\\bigtriangleup");k(F,D,Oe,"▽","\\bigtriangledown");k(F,D,Oe,"†","\\dagger");k(F,D,Oe,"⋄","\\diamond");k(F,D,Oe,"⋆","\\star");k(F,D,Oe,"◃","\\triangleleft");k(F,D,Oe,"▹","\\triangleright");k(F,D,_s,"{","\\{");k(pe,D,X,"{","\\{");k(pe,D,X,"{","\\textbraceleft");k(F,D,bi,"}","\\}");k(pe,D,X,"}","\\}");k(pe,D,X,"}","\\textbraceright");k(F,D,_s,"{","\\lbrace");k(F,D,bi,"}","\\rbrace");k(F,D,_s,"[","\\lbrack",!0);k(pe,D,X,"[","\\lbrack",!0);k(F,D,bi,"]","\\rbrack",!0);k(pe,D,X,"]","\\rbrack",!0);k(F,D,_s,"(","\\lparen",!0);k(F,D,bi,")","\\rparen",!0);k(pe,D,X,"<","\\textless",!0);k(pe,D,X,">","\\textgreater",!0);k(F,D,_s,"⌊","\\lfloor",!0);k(F,D,bi,"⌋","\\rfloor",!0);k(F,D,_s,"⌈","\\lceil",!0);k(F,D,bi,"⌉","\\rceil",!0);k(F,D,X,"\\","\\backslash");k(F,D,X,"∣","|");k(F,D,X,"∣","\\vert");k(pe,D,X,"|","\\textbar",!0);k(F,D,X,"∥","\\|");k(F,D,X,"∥","\\Vert");k(pe,D,X,"∥","\\textbardbl");k(pe,D,X,"~","\\textasciitilde");k(pe,D,X,"\\","\\textbackslash");k(pe,D,X,"^","\\textasciicircum");k(F,D,H,"↑","\\uparrow",!0);k(F,D,H,"⇑","\\Uparrow",!0);k(F,D,H,"↓","\\downarrow",!0);k(F,D,H,"⇓","\\Downarrow",!0);k(F,D,H,"↕","\\updownarrow",!0);k(F,D,H,"⇕","\\Updownarrow",!0);k(F,D,nn,"∐","\\coprod");k(F,D,nn,"⋁","\\bigvee");k(F,D,nn,"⋀","\\bigwedge");k(F,D,nn,"⨄","\\biguplus");k(F,D,nn,"⋂","\\bigcap");k(F,D,nn,"⋃","\\bigcup");k(F,D,nn,"∫","\\int");k(F,D,nn,"∫","\\intop");k(F,D,nn,"∬","\\iint");k(F,D,nn,"∭","\\iiint");k(F,D,nn,"∏","\\prod");k(F,D,nn,"∑","\\sum");k(F,D,nn,"⨂","\\bigotimes");k(F,D,nn,"⨁","\\bigoplus");k(F,D,nn,"⨀","\\bigodot");k(F,D,nn,"∮","\\oint");k(F,D,nn,"∯","\\oiint");k(F,D,nn,"∰","\\oiiint");k(F,D,nn,"⨆","\\bigsqcup");k(F,D,nn,"∫","\\smallint");k(pe,D,gf,"…","\\textellipsis");k(F,D,gf,"…","\\mathellipsis");k(pe,D,gf,"…","\\ldots",!0);k(F,D,gf,"…","\\ldots",!0);k(F,D,gf,"⋯","\\@cdots",!0);k(F,D,gf,"⋱","\\ddots",!0);k(F,D,X,"⋮","\\varvdots");k(pe,D,X,"⋮","\\varvdots");k(F,D,br,"ˊ","\\acute");k(F,D,br,"ˋ","\\grave");k(F,D,br,"¨","\\ddot");k(F,D,br,"~","\\tilde");k(F,D,br,"ˉ","\\bar");k(F,D,br,"˘","\\breve");k(F,D,br,"ˇ","\\check");k(F,D,br,"^","\\hat");k(F,D,br,"⃗","\\vec");k(F,D,br,"˙","\\dot");k(F,D,br,"˚","\\mathring");k(F,D,Xe,"","\\@imath");k(F,D,Xe,"","\\@jmath");k(F,D,X,"ı","ı");k(F,D,X,"ȷ","ȷ");k(pe,D,X,"ı","\\i",!0);k(pe,D,X,"ȷ","\\j",!0);k(pe,D,X,"ß","\\ss",!0);k(pe,D,X,"æ","\\ae",!0);k(pe,D,X,"œ","\\oe",!0);k(pe,D,X,"ø","\\o",!0);k(pe,D,X,"Æ","\\AE",!0);k(pe,D,X,"Œ","\\OE",!0);k(pe,D,X,"Ø","\\O",!0);k(pe,D,br,"ˊ","\\'");k(pe,D,br,"ˋ","\\`");k(pe,D,br,"ˆ","\\^");k(pe,D,br,"˜","\\~");k(pe,D,br,"ˉ","\\=");k(pe,D,br,"˘","\\u");k(pe,D,br,"˙","\\.");k(pe,D,br,"¸","\\c");k(pe,D,br,"˚","\\r");k(pe,D,br,"ˇ","\\v");k(pe,D,br,"¨",'\\"');k(pe,D,br,"˝","\\H");k(pe,D,br,"◯","\\textcircled");var qW={"--":!0,"---":!0,"``":!0,"''":!0};k(pe,D,X,"–","--",!0);k(pe,D,X,"–","\\textendash");k(pe,D,X,"—","---",!0);k(pe,D,X,"—","\\textemdash");k(pe,D,X,"‘","`",!0);k(pe,D,X,"‘","\\textquoteleft");k(pe,D,X,"’","'",!0);k(pe,D,X,"’","\\textquoteright");k(pe,D,X,"“","``",!0);k(pe,D,X,"“","\\textquotedblleft");k(pe,D,X,"”","''",!0);k(pe,D,X,"”","\\textquotedblright");k(F,D,X,"°","\\degree",!0);k(pe,D,X,"°","\\degree");k(pe,D,X,"°","\\textdegree",!0);k(F,D,X,"£","\\pounds");k(F,D,X,"£","\\mathsterling",!0);k(pe,D,X,"£","\\pounds");k(pe,D,X,"£","\\textsterling",!0);k(F,Q,X,"✠","\\maltese");k(pe,Q,X,"✠","\\maltese");var CN='0123456789/@."';for(var W6=0;W6<CN.length;W6++){var BN=CN.charAt(W6);k(F,D,X,BN,BN)}var SN='0123456789!@*()-=+";:?/.,';for(var G6=0;G6<SN.length;G6++){var _N=SN.charAt(G6);k(pe,D,X,_N,_N)}var Sb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var X6=0;X6<Sb.length;X6++){var E2=Sb.charAt(X6);k(F,D,Xe,E2,E2),k(pe,D,X,E2,E2)}k(F,Q,X,"C","ℂ");k(pe,Q,X,"C","ℂ");k(F,Q,X,"H","ℍ");k(pe,Q,X,"H","ℍ");k(F,Q,X,"N","ℕ");k(pe,Q,X,"N","ℕ");k(F,Q,X,"P","ℙ");k(pe,Q,X,"P","ℙ");k(F,Q,X,"Q","ℚ");k(pe,Q,X,"Q","ℚ");k(F,Q,X,"R","ℝ");k(pe,Q,X,"R","ℝ");k(F,Q,X,"Z","ℤ");k(pe,Q,X,"Z","ℤ");k(F,D,Xe,"h","ℎ");k(pe,D,Xe,"h","ℎ");var st="";for(var ai=0;ai<Sb.length;ai++){var Mr=Sb.charAt(ai);st=String.fromCharCode(55349,56320+ai),k(F,D,Xe,Mr,st),k(pe,D,X,Mr,st),st=String.fromCharCode(55349,56372+ai),k(F,D,Xe,Mr,st),k(pe,D,X,Mr,st),st=String.fromCharCode(55349,56424+ai),k(F,D,Xe,Mr,st),k(pe,D,X,Mr,st),st=String.fromCharCode(55349,56580+ai),k(F,D,Xe,Mr,st),k(pe,D,X,Mr,st),st=String.fromCharCode(55349,56684+ai),k(F,D,Xe,Mr,st),k(pe,D,X,Mr,st),st=String.fromCharCode(55349,56736+ai),k(F,D,Xe,Mr,st),k(pe,D,X,Mr,st),st=String.fromCharCode(55349,56788+ai),k(F,D,Xe,Mr,st),k(pe,D,X,Mr,st),st=String.fromCharCode(55349,56840+ai),k(F,D,Xe,Mr,st),k(pe,D,X,Mr,st),st=String.fromCharCode(55349,56944+ai),k(F,D,Xe,Mr,st),k(pe,D,X,Mr,st),ai<26&&(st=String.fromCharCode(55349,56632+ai),k(F,D,Xe,Mr,st),k(pe,D,X,Mr,st),st=String.fromCharCode(55349,56476+ai),k(F,D,Xe,Mr,st),k(pe,D,X,Mr,st))}st="𝕜";k(F,D,Xe,"k",st);k(pe,D,X,"k",st);for(var Ju=0;Ju<10;Ju++){var oc=Ju.toString();st=String.fromCharCode(55349,57294+Ju),k(F,D,Xe,oc,st),k(pe,D,X,oc,st),st=String.fromCharCode(55349,57314+Ju),k(F,D,Xe,oc,st),k(pe,D,X,oc,st),st=String.fromCharCode(55349,57324+Ju),k(F,D,Xe,oc,st),k(pe,D,X,oc,st),st=String.fromCharCode(55349,57334+Ju),k(F,D,Xe,oc,st),k(pe,D,X,oc,st)}var oB="ÐÞþ";for(var Y6=0;Y6<oB.length;Y6++){var M2=oB.charAt(Y6);k(F,D,Xe,M2,M2),k(pe,D,X,M2,M2)}var F2=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],kN=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],d1e=function(e,r){var n=e.charCodeAt(0),i=e.charCodeAt(1),s=(n-55296)*1024+(i-56320)+65536,a=r==="math"?0:1;if(119808<=s&&s<120484){var o=Math.floor((s-119808)/26);return[F2[o][2],F2[o][a]]}else if(120782<=s&&s<=120831){var l=Math.floor((s-120782)/10);return[kN[l][2],kN[l][a]]}else{if(s===120485||s===120486)return[F2[0][2],F2[0][a]];if(120486<s&&s<120782)return["",""];throw new be("Unsupported character: "+e)}},Mw=function(e,r,n){return or[n][e]&&or[n][e].replace&&(e=or[n][e].replace),{value:e,metrics:SE(e,r,n)}},va=function(e,r,n,i,s){var a=Mw(e,r,n),o=a.metrics;e=a.value;var l;if(o){var c=o.italic;(n==="text"||i&&i.font==="mathit")&&(c=0),l=new ra(e,o.height,o.depth,c,o.skew,o.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+r+"' and mode '"+n+"'")),l=new ra(e,0,0,0,0,0,s);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var u=i.getColor();u&&(l.style.color=u)}return l},h1e=function(e,r,n,i){return i===void 0&&(i=[]),n.font==="boldsymbol"&&Mw(e,"Main-Bold",r).metrics?va(e,"Main-Bold",r,n,i.concat(["mathbf"])):e==="\\"||or[r][e].font==="main"?va(e,"Main-Regular",r,n,i):va(e,"AMS-Regular",r,n,i.concat(["amsrm"]))},A1e=function(e,r,n,i,s){return s!=="textord"&&Mw(e,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},f1e=function(e,r,n){var i=e.mode,s=e.text,a=["mord"],o=i==="math"||i==="text"&&r.font,l=o?r.font:r.fontFamily,c="",u="";if(s.charCodeAt(0)===55349&&([c,u]=d1e(s,i)),c.length>0)return va(s,c,i,r,a.concat(u));if(l){var d,A;if(l==="boldsymbol"){var f=A1e(s,i,r,a,n);d=f.fontName,A=[f.fontClass]}else o?(d=XW[l].fontName,A=[l]):(d=T2(l,r.fontWeight,r.fontShape),A=[l,r.fontWeight,r.fontShape]);if(Mw(s,d,i).metrics)return va(s,d,i,r,a.concat(A));if(qW.hasOwnProperty(s)&&d.slice(0,10)==="Typewriter"){for(var p=[],m=0;m<s.length;m++)p.push(va(s[m],d,i,r,a.concat(A)));return GW(p)}}if(n==="mathord")return va(s,"Math-Italic",i,r,a.concat(["mathnormal"]));if(n==="textord"){var v=or[i][s]&&or[i][s].font;if(v==="ams"){var g=T2("amsrm",r.fontWeight,r.fontShape);return va(s,g,i,r,a.concat("amsrm",r.fontWeight,r.fontShape))}else if(v==="main"||!v){var y=T2("textrm",r.fontWeight,r.fontShape);return va(s,y,i,r,a.concat(r.fontWeight,r.fontShape))}else{var x=T2(v,r.fontWeight,r.fontShape);return va(s,x,i,r,a.concat(x,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},p1e=(t,e)=>{if(bu(t.classes)!==bu(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in t.style)if(t.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},m1e=t=>{for(var e=0;e<t.length-1;e++){var r=t[e],n=t[e+1];r instanceof ra&&n instanceof ra&&p1e(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,t.splice(e+1,1),e--)}return t},kE=function(e){for(var r=0,n=0,i=0,s=0;s<e.children.length;s++){var a=e.children[s];a.height>r&&(r=a.height),a.depth>n&&(n=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}e.height=r,e.depth=n,e.maxFontSize=i},Mi=function(e,r,n,i){var s=new F1(e,r,n,i);return kE(s),s},WW=(t,e,r,n)=>new F1(t,e,r,n),g1e=function(e,r,n){var i=Mi([e],[],r);return i.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),i.style.borderBottomWidth=ke(i.height),i.maxFontSize=1,i},y1e=function(e,r,n,i){var s=new _E(e,r,n,i);return kE(s),s},GW=function(e){var r=new M1(e);return kE(r),r},v1e=function(e,r){return e instanceof M1?Mi([],[e],r):e},x1e=function(e){if(e.positionType==="individualShift"){for(var r=e.children,n=[r[0]],i=-r[0].shift-r[0].elem.depth,s=i,a=1;a<r.length;a++){var o=-r[a].shift-s-r[a].elem.depth,l=o-(r[a-1].elem.height+r[a-1].elem.depth);s=s+o,n.push({type:"kern",size:l}),n.push(r[a])}return{children:n,depth:i}}var c;if(e.positionType==="top"){for(var u=e.positionData,d=0;d<e.children.length;d++){var A=e.children[d];u-=A.type==="kern"?A.size:A.elem.height+A.elem.depth}c=u}else if(e.positionType==="bottom")c=-e.positionData;else{var f=e.children[0];if(f.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")c=-f.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")c=-f.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:c}},b1e=function(e,r){for(var{children:n,depth:i}=x1e(e),s=0,a=0;a<n.length;a++){var o=n[a];if(o.type==="elem"){var l=o.elem;s=Math.max(s,l.maxFontSize,l.height)}}s+=2;var c=Mi(["pstrut"],[]);c.style.height=ke(s);for(var u=[],d=i,A=i,f=i,p=0;p<n.length;p++){var m=n[p];if(m.type==="kern")f+=m.size;else{var v=m.elem,g=m.wrapperClasses||[],y=m.wrapperStyle||{},x=Mi(g,[c,v],void 0,y);x.style.top=ke(-s-f-v.depth),m.marginLeft&&(x.style.marginLeft=m.marginLeft),m.marginRight&&(x.style.marginRight=m.marginRight),u.push(x),f+=v.height+v.depth}d=Math.min(d,f),A=Math.max(A,f)}var b=Mi(["vlist"],u);b.style.height=ke(A);var w;if(d<0){var C=Mi([],[]),B=Mi(["vlist"],[C]);B.style.height=ke(-d);var S=Mi(["vlist-s"],[new ra("​")]);w=[Mi(["vlist-r"],[b,S]),Mi(["vlist-r"],[B])]}else w=[Mi(["vlist-r"],[b])];var E=Mi(["vlist-t"],w);return w.length===2&&E.classes.push("vlist-t2"),E.height=A,E.depth=-d,E},w1e=(t,e)=>{var r=Mi(["mspace"],[],e),n=Br(t,e);return r.style.marginRight=ke(n),r},T2=function(e,r,n){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return r==="textbf"&&n==="textit"?s="BoldItalic":r==="textbf"?s="Bold":r==="textit"?s="Italic":s="Regular",i+"-"+s},XW={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},YW={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},C1e=function(e,r){var[n,i,s]=YW[e],a=new wu(n),o=new Il([a],{width:ke(i),height:ke(s),style:"width:"+ke(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),l=WW(["overlay"],[o],r);return l.height=s,l.style.height=ke(s),l.style.width=ke(i),l},te={fontMap:XW,makeSymbol:va,mathsym:h1e,makeSpan:Mi,makeSvgSpan:WW,makeLineSpan:g1e,makeAnchor:y1e,makeFragment:GW,wrapFragment:v1e,makeVList:b1e,makeOrd:f1e,makeGlue:w1e,staticSvg:C1e,svgData:YW,tryCombineChars:m1e},wr={number:3,unit:"mu"},Zu={number:4,unit:"mu"},Ho={number:5,unit:"mu"},B1e={mord:{mop:wr,mbin:Zu,mrel:Ho,minner:wr},mop:{mord:wr,mop:wr,mrel:Ho,minner:wr},mbin:{mord:Zu,mop:Zu,mopen:Zu,minner:Zu},mrel:{mord:Ho,mop:Ho,mopen:Ho,minner:Ho},mopen:{},mclose:{mop:wr,mbin:Zu,mrel:Ho,minner:wr},mpunct:{mord:wr,mop:wr,mrel:Ho,mopen:wr,mclose:wr,mpunct:wr,minner:wr},minner:{mord:wr,mop:wr,mbin:Zu,mrel:Ho,mopen:wr,mpunct:wr,minner:wr}},S1e={mord:{mop:wr},mop:{mord:wr,mop:wr},mbin:{},mrel:{},mopen:{},mclose:{mop:wr},mpunct:{},minner:{mop:wr}},JW={},_b={},kb={};function Le(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:s,mathmlBuilder:a}=t,o={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},l=0;l<r.length;++l)JW[r[l]]=o;e&&(s&&(_b[e]=s),a&&(kb[e]=a))}function L0(t){var{type:e,htmlBuilder:r,mathmlBuilder:n}=t;Le({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var Eb=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},$r=function(e){return e.type==="ordgroup"?e.body:[e]},Ol=te.makeSpan,_1e=["leftmost","mbin","mopen","mrel","mop","mpunct"],k1e=["rightmost","mrel","mclose","mpunct"],E1e={display:Je.DISPLAY,text:Je.TEXT,script:Je.SCRIPT,scriptscript:Je.SCRIPTSCRIPT},M1e={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},fn=function(e,r,n,i){i===void 0&&(i=[null,null]);for(var s=[],a=0;a<e.length;a++){var o=Dt(e[a],r);if(o instanceof M1){var l=o.children;s.push(...l)}else s.push(o)}if(te.tryCombineChars(s),!n)return s;var c=r;if(e.length===1){var u=e[0];u.type==="sizing"?c=r.havingSize(u.size):u.type==="styling"&&(c=r.havingStyle(E1e[u.style]))}var d=Ol([i[0]||"leftmost"],[],r),A=Ol([i[1]||"rightmost"],[],r),f=n==="root";return EN(s,(p,m)=>{var v=m.classes[0],g=p.classes[0];v==="mbin"&&qe.contains(k1e,g)?m.classes[0]="mord":g==="mbin"&&qe.contains(_1e,v)&&(p.classes[0]="mord")},{node:d},A,f),EN(s,(p,m)=>{var v=lB(m),g=lB(p),y=v&&g?p.hasClass("mtight")?S1e[v][g]:B1e[v][g]:null;if(y)return te.makeGlue(y,c)},{node:d},A,f),s},EN=function t(e,r,n,i,s){i&&e.push(i);for(var a=0;a<e.length;a++){var o=e[a],l=ZW(o);if(l){t(l.children,r,n,null,s);continue}var c=!o.hasClass("mspace");if(c){var u=r(o,n.node);u&&(n.insertAfter?n.insertAfter(u):(e.unshift(u),a++))}c?n.node=o:s&&o.hasClass("newline")&&(n.node=Ol(["leftmost"])),n.insertAfter=(d=>A=>{e.splice(d+1,0,A),a++})(a)}i&&e.pop()},ZW=function(e){return e instanceof M1||e instanceof _E||e instanceof F1&&e.hasClass("enclosing")?e:null},F1e=function t(e,r){var n=ZW(e);if(n){var i=n.children;if(i.length){if(r==="right")return t(i[i.length-1],"right");if(r==="left")return t(i[0],"left")}}return e},lB=function(e,r){return e?(r&&(e=F1e(e,r)),M1e[e.classes[0]]||null):null},Dg=function(e,r){var n=["nulldelimiter"].concat(e.baseSizingClasses());return Ol(r.concat(n))},Dt=function(e,r,n){if(!e)return Ol();if(_b[e.type]){var i=_b[e.type](e,r);if(n&&r.size!==n.size){i=Ol(r.sizingClasses(n),[i],r);var s=r.sizeMultiplier/n.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new be("Got group of unknown type: '"+e.type+"'")};function D2(t,e){var r=Ol(["base"],t,e),n=Ol(["strut"]);return n.style.height=ke(r.height+r.depth),r.depth&&(n.style.verticalAlign=ke(-r.depth)),r.children.unshift(n),r}function cB(t,e){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var n=fn(t,e,"root"),i;n.length===2&&n[1].hasClass("tag")&&(i=n.pop());for(var s=[],a=[],o=0;o<n.length;o++)if(a.push(n[o]),n[o].hasClass("mbin")||n[o].hasClass("mrel")||n[o].hasClass("allowbreak")){for(var l=!1;o<n.length-1&&n[o+1].hasClass("mspace")&&!n[o+1].hasClass("newline");)o++,a.push(n[o]),n[o].hasClass("nobreak")&&(l=!0);l||(s.push(D2(a,e)),a=[])}else n[o].hasClass("newline")&&(a.pop(),a.length>0&&(s.push(D2(a,e)),a=[]),s.push(n[o]));a.length>0&&s.push(D2(a,e));var c;r?(c=D2(fn(r,e,!0)),c.classes=["tag"],s.push(c)):i&&s.push(i);var u=Ol(["katex-html"],s);if(u.setAttribute("aria-hidden","true"),c){var d=c.children[0];d.style.height=ke(u.height+u.depth),u.depth&&(d.style.verticalAlign=ke(-u.depth))}return u}function eG(t){return new M1(t)}class As{constructor(e,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=bu(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof mo&&this.children[n+1]instanceof mo){for(var i=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof mo;)i+=this.children[++n].toText();e.appendChild(new mo(i).toNode())}else e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=qe.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+qe.escape(bu(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class mo{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return qe.escape(this.toText())}toText(){return this.text}}class T1e{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",ke(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ke(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var xe={MathNode:As,TextNode:mo,SpaceNode:T1e,newDocumentFragment:eG},na=function(e,r,n){return or[r][e]&&or[r][e].replace&&e.charCodeAt(0)!==55349&&!(qW.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(e=or[r][e].replace),new xe.TextNode(e)},EE=function(e){return e.length===1?e[0]:new xe.MathNode("mrow",e)},ME=function(e,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var i=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var s=e.text;if(qe.contains(["\\imath","\\jmath"],s))return null;or[i][s]&&or[i][s].replace&&(s=or[i][s].replace);var a=te.fontMap[n].fontName;return SE(s,a,i)?te.fontMap[n].variant:null};function J6(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof mo&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var r=t.children[0];return r instanceof mo&&r.text===","}else return!1}var Zi=function(e,r,n){if(e.length===1){var i=er(e[0],r);return n&&i instanceof As&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],a,o=0;o<e.length;o++){var l=er(e[o],r);if(l instanceof As&&a instanceof As){if(l.type==="mtext"&&a.type==="mtext"&&l.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...l.children);continue}else if(l.type==="mn"&&a.type==="mn"){a.children.push(...l.children);continue}else if(J6(l)&&a.type==="mn"){a.children.push(...l.children);continue}else if(l.type==="mn"&&J6(a))l.children=[...a.children,...l.children],s.pop();else if((l.type==="msup"||l.type==="msub")&&l.children.length>=1&&(a.type==="mn"||J6(a))){var c=l.children[0];c instanceof As&&c.type==="mn"&&(c.children=[...a.children,...c.children],s.pop())}else if(a.type==="mi"&&a.children.length===1){var u=a.children[0];if(u instanceof mo&&u.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof mo&&d.text.length>0&&(d.text=d.text.slice(0,1)+"̸"+d.text.slice(1),s.pop())}}}s.push(l),a=l}return s},Cu=function(e,r,n){return EE(Zi(e,r,n))},er=function(e,r){if(!e)return new xe.MathNode("mrow");if(kb[e.type]){var n=kb[e.type](e,r);return n}else throw new be("Got group of unknown type: '"+e.type+"'")};function MN(t,e,r,n,i){var s=Zi(t,r),a;s.length===1&&s[0]instanceof As&&qe.contains(["mrow","mtable"],s[0].type)?a=s[0]:a=new xe.MathNode("mrow",s);var o=new xe.MathNode("annotation",[new xe.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var l=new xe.MathNode("semantics",[a,o]),c=new xe.MathNode("math",[l]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&c.setAttribute("display","block");var u=i?"katex":"katex-mathml";return te.makeSpan([u],[c])}var tG=function(e){return new ll({style:e.displayMode?Je.DISPLAY:Je.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},rG=function(e,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),e=te.makeSpan(n,[e])}return e},D1e=function(e,r,n){var i=tG(n),s;if(n.output==="mathml")return MN(e,r,i,n.displayMode,!0);if(n.output==="html"){var a=cB(e,i);s=te.makeSpan(["katex"],[a])}else{var o=MN(e,r,i,n.displayMode,!1),l=cB(e,i);s=te.makeSpan(["katex"],[o,l])}return rG(s,n)},L1e=function(e,r,n){var i=tG(n),s=cB(e,i),a=te.makeSpan(["katex"],[s]);return rG(a,n)},N1e={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},j1e=function(e){var r=new xe.MathNode("mo",[new xe.TextNode(N1e[e.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},I1e={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},O1e=function(e){return e.type==="ordgroup"?e.body.length:1},P1e=function(e,r){function n(){var o=4e5,l=e.label.slice(1);if(qe.contains(["widehat","widecheck","widetilde","utilde"],l)){var c=e,u=O1e(c.base),d,A,f;if(u>5)l==="widehat"||l==="widecheck"?(d=420,o=2364,f=.42,A=l+"4"):(d=312,o=2340,f=.34,A="tilde4");else{var p=[1,1,2,2,3,3][u];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][p],d=[0,239,300,360,420][p],f=[0,.24,.3,.3,.36,.42][p],A=l+p):(o=[0,600,1033,2339,2340][p],d=[0,260,286,306,312][p],f=[0,.26,.286,.3,.306,.34][p],A="tilde"+p)}var m=new wu(A),v=new Il([m],{width:"100%",height:ke(f),viewBox:"0 0 "+o+" "+d,preserveAspectRatio:"none"});return{span:te.makeSvgSpan([],[v],r),minWidth:0,height:f}}else{var g=[],y=I1e[l],[x,b,w]=y,C=w/1e3,B=x.length,S,E;if(B===1){var M=y[3];S=["hide-tail"],E=[M]}else if(B===2)S=["halfarrow-left","halfarrow-right"],E=["xMinYMin","xMaxYMin"];else if(B===3)S=["brace-left","brace-center","brace-right"],E=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+B+" children.");for(var T=0;T<B;T++){var L=new wu(x[T]),I=new Il([L],{width:"400em",height:ke(C),viewBox:"0 0 "+o+" "+w,preserveAspectRatio:E[T]+" slice"}),R=te.makeSvgSpan([S[T]],[I],r);if(B===1)return{span:R,minWidth:b,height:C};R.style.height=ke(C),g.push(R)}return{span:te.makeSpan(["stretchy"],g,r),minWidth:b,height:C}}}var{span:i,minWidth:s,height:a}=n();return i.height=a,i.style.height=ke(a),s>0&&(i.style.minWidth=ke(s)),i},U1e=function(e,r,n,i,s){var a,o=e.height+e.depth+n+i;if(/fbox|color|angl/.test(r)){if(a=te.makeSpan(["stretchy",r],[],s),r==="fbox"){var l=s.color&&s.getColor();l&&(a.style.borderColor=l)}}else{var c=[];/^[bx]cancel$/.test(r)&&c.push(new aB({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&c.push(new aB({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var u=new Il(c,{width:"100%",height:ke(o)});a=te.makeSvgSpan([],[u],s)}return a.height=o,a.style.height=ke(o),a},Pl={encloseSpan:U1e,mathMLnode:j1e,svgSpan:P1e};function At(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function FE(t){var e=Fw(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function Fw(t){return t&&(t.type==="atom"||u1e.hasOwnProperty(t.type))?t:null}var TE=(t,e)=>{var r,n,i;t&&t.type==="supsub"?(n=At(t.base,"accent"),r=n.base,t.base=r,i=l1e(Dt(t,e)),t.base=n):(n=At(t,"accent"),r=n.base);var s=Dt(r,e.havingCrampedStyle()),a=n.isShifty&&qe.isCharacterBox(r),o=0;if(a){var l=qe.getBaseElem(r),c=Dt(l,e.havingCrampedStyle());o=wN(c).skew}var u=n.label==="\\c",d=u?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),A;if(n.isStretchy)A=Pl.svgSpan(n,e),A=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:A,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+ke(2*o)+")",marginLeft:ke(2*o)}:void 0}]},e);else{var f,p;n.label==="\\vec"?(f=te.staticSvg("vec",e),p=te.svgData.vec[1]):(f=te.makeOrd({mode:n.mode,text:n.label},e,"textord"),f=wN(f),f.italic=0,p=f.width,u&&(d+=f.depth)),A=te.makeSpan(["accent-body"],[f]);var m=n.label==="\\textcircled";m&&(A.classes.push("accent-full"),d=s.height);var v=o;m||(v-=p/2),A.style.left=ke(v),n.label==="\\textcircled"&&(A.style.top=".2em"),A=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-d},{type:"elem",elem:A}]},e)}var g=te.makeSpan(["mord","accent"],[A],e);return i?(i.children[0]=g,i.height=Math.max(g.height,i.height),i.classes[0]="mord",i):g},nG=(t,e)=>{var r=t.isStretchy?Pl.mathMLnode(t.label):new xe.MathNode("mo",[na(t.label,t.mode)]),n=new xe.MathNode("mover",[er(t.base,e),r]);return n.setAttribute("accent","true"),n},R1e=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Le({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var r=Eb(e[0]),n=!R1e.test(t.funcName),i=!n||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:n,isShifty:i,base:r}},htmlBuilder:TE,mathmlBuilder:nG});Le({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var r=e[0],n=t.parser.mode;return n==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:TE,mathmlBuilder:nG});Le({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},htmlBuilder:(t,e)=>{var r=Dt(t.base,e),n=Pl.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,s=te.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},e);return te.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var r=Pl.mathMLnode(t.label),n=new xe.MathNode("munder",[er(t.base,e),r]);return n.setAttribute("accentunder","true"),n}});var L2=t=>{var e=new xe.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Le({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n,funcName:i}=t;return{type:"xArrow",mode:n.mode,label:i,body:e[0],below:r[0]}},htmlBuilder(t,e){var r=e.style,n=e.havingStyle(r.sup()),i=te.wrapFragment(Dt(t.body,n,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var a;t.below&&(n=e.havingStyle(r.sub()),a=te.wrapFragment(Dt(t.below,n,e),e),a.classes.push(s+"-arrow-pad"));var o=Pl.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*o.height,c=-e.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(c-=i.depth);var u;if(a){var d=-e.fontMetrics().axisHeight+a.height+.5*o.height+.111;u=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:o,shift:l},{type:"elem",elem:a,shift:d}]},e)}else u=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:o,shift:l}]},e);return u.children[0].children[0].children[1].classes.push("svg-align"),te.makeSpan(["mrel","x-arrow"],[u],e)},mathmlBuilder(t,e){var r=Pl.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(t.body){var i=L2(er(t.body,e));if(t.below){var s=L2(er(t.below,e));n=new xe.MathNode("munderover",[r,s,i])}else n=new xe.MathNode("mover",[r,i])}else if(t.below){var a=L2(er(t.below,e));n=new xe.MathNode("munder",[r,a])}else n=L2(),n=new xe.MathNode("mover",[r,n]);return n}});var Q1e=te.makeSpan;function iG(t,e){var r=fn(t.body,e,!0);return Q1e([t.mclass],r,e)}function sG(t,e){var r,n=Zi(t.body,e);return t.mclass==="minner"?r=new xe.MathNode("mpadded",n):t.mclass==="mord"?t.isCharacterBox?(r=n[0],r.type="mi"):r=new xe.MathNode("mi",n):(t.isCharacterBox?(r=n[0],r.type="mo"):r=new xe.MathNode("mo",n),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}Le({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:$r(i),isCharacterBox:qe.isCharacterBox(i)}},htmlBuilder:iG,mathmlBuilder:sG});var Tw=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Le({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:Tw(e[0]),body:$r(e[1]),isCharacterBox:qe.isCharacterBox(e[1])}}});Le({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:r,funcName:n}=t,i=e[1],s=e[0],a;n!=="\\stackrel"?a=Tw(i):a="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:$r(i)},l={type:"supsub",mode:s.mode,base:o,sup:n==="\\underset"?null:s,sub:n==="\\underset"?s:null};return{type:"mclass",mode:r.mode,mclass:a,body:[l],isCharacterBox:qe.isCharacterBox(l)}},htmlBuilder:iG,mathmlBuilder:sG});Le({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"pmb",mode:r.mode,mclass:Tw(e[0]),body:$r(e[0])}},htmlBuilder(t,e){var r=fn(t.body,e,!0),n=te.makeSpan([t.mclass],r,e);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(t,e){var r=Zi(t.body,e),n=new xe.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var z1e={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},FN=()=>({type:"styling",body:[],mode:"math",style:"display"}),TN=t=>t.type==="textord"&&t.text==="@",H1e=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function $1e(t,e,r){var n=z1e[t];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=r.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:n,mode:"math",family:"rel"},a=r.callFunction("\\Big",[s],[]),o=r.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,a,o]};return r.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var c={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[c],[])}default:return{type:"textord",text:" ",mode:"math"}}}function V1e(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new be("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var n=[],i=[n],s=0;s<e.length;s++){for(var a=e[s],o=FN(),l=0;l<a.length;l++)if(!TN(a[l]))o.body.push(a[l]);else{n.push(o),l+=1;var c=FE(a[l]).text,u=new Array(2);if(u[0]={type:"ordgroup",mode:"math",body:[]},u[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(c)>-1))if("<>AV".indexOf(c)>-1)for(var d=0;d<2;d++){for(var A=!0,f=l+1;f<a.length;f++){if(H1e(a[f],c)){A=!1,l=f;break}if(TN(a[f]))throw new be("Missing a "+c+" character to complete a CD arrow.",a[f]);u[d].body.push(a[f])}if(A)throw new be("Missing a "+c+" character to complete a CD arrow.",a[l])}else throw new be('Expected one of "<>AV=|." after @',a[l]);var p=$1e(c,u,t),m={type:"styling",body:[p],mode:"math",style:"display"};n.push(m),o=FN()}s%2===0?n.push(o):n.shift(),n=[],i.push(n)}t.gullet.endGroup(),t.gullet.endGroup();var v=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:v,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}Le({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:e[0]}},htmlBuilder(t,e){var r=e.havingStyle(e.style.sup()),n=te.wrapFragment(Dt(t.label,r,e),e);return n.classes.push("cd-label-"+t.side),n.style.bottom=ke(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(t,e){var r=new xe.MathNode("mrow",[er(t.label,e)]);return r=new xe.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new xe.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});Le({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(t,e){var r=te.wrapFragment(Dt(t.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,e){return new xe.MathNode("mrow",[er(t.fragment,e)])}});Le({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:r}=t,n=At(e[0],"ordgroup"),i=n.body,s="",a=0;a<i.length;a++){var o=At(i[a],"textord");s+=o.text}var l=parseInt(s),c;if(isNaN(l))throw new be("\\@char has non-numeric argument "+s);if(l<0||l>=1114111)throw new be("\\@char with invalid code point "+s);return l<=65535?c=String.fromCharCode(l):(l-=65536,c=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:r.mode,text:c}}});var aG=(t,e)=>{var r=fn(t.body,e.withColor(t.color),!1);return te.makeFragment(r)},oG=(t,e)=>{var r=Zi(t.body,e.withColor(t.color)),n=new xe.MathNode("mstyle",r);return n.setAttribute("mathcolor",t.color),n};Le({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:r}=t,n=At(e[0],"color-token").color,i=e[1];return{type:"color",mode:r.mode,color:n,body:$r(i)}},htmlBuilder:aG,mathmlBuilder:oG});Le({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:r,breakOnTokenText:n}=t,i=At(e[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var s=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:s}},htmlBuilder:aG,mathmlBuilder:oG});Le({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,r){var{parser:n}=t,i=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,s=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:s,size:i&&At(i,"size").value}},htmlBuilder(t,e){var r=te.makeSpan(["mspace"],[],e);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=ke(Br(t.size,e)))),r},mathmlBuilder(t,e){var r=new xe.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",ke(Br(t.size,e)))),r}});var uB={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},lG=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new be("Expected a control sequence",t);return e},K1e=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},cG=(t,e,r,n)=>{var i=t.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(e,i,n)};Le({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:r}=t;e.consumeSpaces();var n=e.fetch();if(uB[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=uB[n.text]),At(e.parseFunction(),"internal");throw new be("Invalid token after macro prefix",n)}});Le({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=e.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new be("Expected a control sequence",n);for(var s=0,a,o=[[]];e.gullet.future().text!=="{";)if(n=e.gullet.popToken(),n.text==="#"){if(e.gullet.future().text==="{"){a=e.gullet.future(),o[s].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new be('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==s+1)throw new be('Argument number "'+n.text+'" out of order');s++,o.push([])}else{if(n.text==="EOF")throw new be("Expected a macro definition");o[s].push(n.text)}var{tokens:l}=e.gullet.consumeArg();return a&&l.unshift(a),(r==="\\edef"||r==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:s,delimiters:o},r===uB[r]),{type:"internal",mode:e.mode}}});Le({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=lG(e.gullet.popToken());e.gullet.consumeSpaces();var i=K1e(e);return cG(e,n,i,r==="\\\\globallet"),{type:"internal",mode:e.mode}}});Le({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=lG(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return cG(e,n,s,r==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Rp=function(e,r,n){var i=or.math[e]&&or.math[e].replace,s=SE(i||e,r,n);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+r+".");return s},DE=function(e,r,n,i){var s=n.havingBaseStyle(r),a=te.makeSpan(i.concat(s.sizingClasses(n)),[e],n),o=s.sizeMultiplier/n.sizeMultiplier;return a.height*=o,a.depth*=o,a.maxFontSize=s.sizeMultiplier,a},uG=function(e,r,n){var i=r.havingBaseStyle(n),s=(1-r.sizeMultiplier/i.sizeMultiplier)*r.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=ke(s),e.height-=s,e.depth+=s},q1e=function(e,r,n,i,s,a){var o=te.makeSymbol(e,"Main-Regular",s,i),l=DE(o,r,i,a);return n&&uG(l,i,r),l},W1e=function(e,r,n,i){return te.makeSymbol(e,"Size"+r+"-Regular",n,i)},dG=function(e,r,n,i,s,a){var o=W1e(e,r,s,i),l=DE(te.makeSpan(["delimsizing","size"+r],[o],i),Je.TEXT,i,a);return n&&uG(l,i,Je.TEXT),l},Z6=function(e,r,n){var i;r==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=te.makeSpan(["delimsizinginner",i],[te.makeSpan([],[te.makeSymbol(e,r,n)])]);return{type:"elem",elem:s}},e8=function(e,r,n){var i=po["Size4-Regular"][e.charCodeAt(0)]?po["Size4-Regular"][e.charCodeAt(0)][4]:po["Size1-Regular"][e.charCodeAt(0)][4],s=new wu("inner",Zge(e,Math.round(1e3*r))),a=new Il([s],{width:ke(i),height:ke(r),style:"width:"+ke(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),o=te.makeSvgSpan([],[a],n);return o.height=r,o.style.height=ke(r),o.style.width=ke(i),{type:"elem",elem:o}},dB=.008,N2={type:"kern",size:-1*dB},G1e=["|","\\lvert","\\rvert","\\vert"],X1e=["\\|","\\lVert","\\rVert","\\Vert"],hG=function(e,r,n,i,s,a){var o,l,c,u,d="",A=0;o=c=u=e,l=null;var f="Size1-Regular";e==="\\uparrow"?c=u="⏐":e==="\\Uparrow"?c=u="‖":e==="\\downarrow"?o=c="⏐":e==="\\Downarrow"?o=c="‖":e==="\\updownarrow"?(o="\\uparrow",c="⏐",u="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",c="‖",u="\\Downarrow"):qe.contains(G1e,e)?(c="∣",d="vert",A=333):qe.contains(X1e,e)?(c="∥",d="doublevert",A=556):e==="["||e==="\\lbrack"?(o="⎡",c="⎢",u="⎣",f="Size4-Regular",d="lbrack",A=667):e==="]"||e==="\\rbrack"?(o="⎤",c="⎥",u="⎦",f="Size4-Regular",d="rbrack",A=667):e==="\\lfloor"||e==="⌊"?(c=o="⎢",u="⎣",f="Size4-Regular",d="lfloor",A=667):e==="\\lceil"||e==="⌈"?(o="⎡",c=u="⎢",f="Size4-Regular",d="lceil",A=667):e==="\\rfloor"||e==="⌋"?(c=o="⎥",u="⎦",f="Size4-Regular",d="rfloor",A=667):e==="\\rceil"||e==="⌉"?(o="⎤",c=u="⎥",f="Size4-Regular",d="rceil",A=667):e==="("||e==="\\lparen"?(o="⎛",c="⎜",u="⎝",f="Size4-Regular",d="lparen",A=875):e===")"||e==="\\rparen"?(o="⎞",c="⎟",u="⎠",f="Size4-Regular",d="rparen",A=875):e==="\\{"||e==="\\lbrace"?(o="⎧",l="⎨",u="⎩",c="⎪",f="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="⎫",l="⎬",u="⎭",c="⎪",f="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(o="⎧",u="⎩",c="⎪",f="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(o="⎫",u="⎭",c="⎪",f="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(o="⎧",u="⎭",c="⎪",f="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(o="⎫",u="⎩",c="⎪",f="Size4-Regular");var p=Rp(o,f,s),m=p.height+p.depth,v=Rp(c,f,s),g=v.height+v.depth,y=Rp(u,f,s),x=y.height+y.depth,b=0,w=1;if(l!==null){var C=Rp(l,f,s);b=C.height+C.depth,w=2}var B=m+x+b,S=Math.max(0,Math.ceil((r-B)/(w*g))),E=B+S*w*g,M=i.fontMetrics().axisHeight;n&&(M*=i.sizeMultiplier);var T=E/2-M,L=[];if(d.length>0){var I=E-m-x,R=Math.round(E*1e3),z=e1e(d,Math.round(I*1e3)),W=new wu(d,z),K=(A/1e3).toFixed(3)+"em",U=(R/1e3).toFixed(3)+"em",q=new Il([W],{width:K,height:U,viewBox:"0 0 "+A+" "+R}),N=te.makeSvgSpan([],[q],i);N.height=R/1e3,N.style.width=K,N.style.height=U,L.push({type:"elem",elem:N})}else{if(L.push(Z6(u,f,s)),L.push(N2),l===null){var ne=E-m-x+2*dB;L.push(e8(c,ne,i))}else{var re=(E-m-x-b)/2+2*dB;L.push(e8(c,re,i)),L.push(N2),L.push(Z6(l,f,s)),L.push(N2),L.push(e8(c,re,i))}L.push(N2),L.push(Z6(o,f,s))}var O=i.havingBaseStyle(Je.TEXT),me=te.makeVList({positionType:"bottom",positionData:T,children:L},O);return DE(te.makeSpan(["delimsizing","mult"],[me],O),Je.TEXT,i,a)},t8=80,r8=.08,n8=function(e,r,n,i,s){var a=Jge(e,i,n),o=new wu(e,a),l=new Il([o],{width:"400em",height:ke(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return te.makeSvgSpan(["hide-tail"],[l],s)},Y1e=function(e,r){var n=r.havingBaseSizing(),i=mG("\\surd",e*n.sizeMultiplier,pG,n),s=n.sizeMultiplier,a=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),o,l=0,c=0,u=0,d;return i.type==="small"?(u=1e3+1e3*a+t8,e<1?s=1:e<1.4&&(s=.7),l=(1+a+r8)/s,c=(1+a)/s,o=n8("sqrtMain",l,u,a,r),o.style.minWidth="0.853em",d=.833/s):i.type==="large"?(u=(1e3+t8)*Sm[i.size],c=(Sm[i.size]+a)/s,l=(Sm[i.size]+a+r8)/s,o=n8("sqrtSize"+i.size,l,u,a,r),o.style.minWidth="1.02em",d=1/s):(l=e+a+r8,c=e+a,u=Math.floor(1e3*e+a)+t8,o=n8("sqrtTall",l,u,a,r),o.style.minWidth="0.742em",d=1.056),o.height=c,o.style.height=ke(l),{span:o,advanceWidth:d,ruleWidth:(r.fontMetrics().sqrtRuleThickness+a)*s}},AG=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],J1e=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],fG=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Sm=[0,1.2,1.8,2.4,3],Z1e=function(e,r,n,i,s){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),qe.contains(AG,e)||qe.contains(fG,e))return dG(e,r,!1,n,i,s);if(qe.contains(J1e,e))return hG(e,Sm[r],!1,n,i,s);throw new be("Illegal delimiter: '"+e+"'")},e2e=[{type:"small",style:Je.SCRIPTSCRIPT},{type:"small",style:Je.SCRIPT},{type:"small",style:Je.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],t2e=[{type:"small",style:Je.SCRIPTSCRIPT},{type:"small",style:Je.SCRIPT},{type:"small",style:Je.TEXT},{type:"stack"}],pG=[{type:"small",style:Je.SCRIPTSCRIPT},{type:"small",style:Je.SCRIPT},{type:"small",style:Je.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],r2e=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},mG=function(e,r,n,i){for(var s=Math.min(2,3-i.style.size),a=s;a<n.length&&n[a].type!=="stack";a++){var o=Rp(e,r2e(n[a]),"math"),l=o.height+o.depth;if(n[a].type==="small"){var c=i.havingBaseStyle(n[a].style);l*=c.sizeMultiplier}if(l>r)return n[a]}return n[n.length-1]},gG=function(e,r,n,i,s,a){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var o;qe.contains(fG,e)?o=e2e:qe.contains(AG,e)?o=pG:o=t2e;var l=mG(e,r,o,i);return l.type==="small"?q1e(e,l.style,n,i,s,a):l.type==="large"?dG(e,l.size,n,i,s,a):hG(e,r,n,i,s,a)},n2e=function(e,r,n,i,s,a){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,c=5/i.fontMetrics().ptPerEm,u=Math.max(r-o,n+o),d=Math.max(u/500*l,2*u-c);return gG(e,d,!0,i,s,a)},Cl={sqrtImage:Y1e,sizedDelim:Z1e,sizeToMaxHeight:Sm,customSizedDelim:gG,leftRightDelim:n2e},DN={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},i2e=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Dw(t,e){var r=Fw(t);if(r&&qe.contains(i2e,r.text))return r;throw r?new be("Invalid delimiter '"+r.text+"' after '"+e.funcName+"'",t):new be("Invalid delimiter type '"+t.type+"'",t)}Le({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var r=Dw(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:DN[t.funcName].size,mclass:DN[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,e)=>t.delim==="."?te.makeSpan([t.mclass]):Cl.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(na(t.delim,t.mode));var r=new xe.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=ke(Cl.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}});function LN(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Le({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new be("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Dw(e[0],t).text,color:r}}});Le({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=Dw(e[0],t),n=t.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var s=At(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{LN(t);for(var r=fn(t.body,e,!0,["mopen","mclose"]),n=0,i=0,s=!1,a=0;a<r.length;a++)r[a].isMiddle?s=!0:(n=Math.max(r[a].height,n),i=Math.max(r[a].depth,i));n*=e.sizeMultiplier,i*=e.sizeMultiplier;var o;if(t.left==="."?o=Dg(e,["mopen"]):o=Cl.leftRightDelim(t.left,n,i,e,t.mode,["mopen"]),r.unshift(o),s)for(var l=1;l<r.length;l++){var c=r[l],u=c.isMiddle;u&&(r[l]=Cl.leftRightDelim(u.delim,n,i,u.options,t.mode,[]))}var d;if(t.right===".")d=Dg(e,["mclose"]);else{var A=t.rightColor?e.withColor(t.rightColor):e;d=Cl.leftRightDelim(t.right,n,i,A,t.mode,["mclose"])}return r.push(d),te.makeSpan(["minner"],r,e)},mathmlBuilder:(t,e)=>{LN(t);var r=Zi(t.body,e);if(t.left!=="."){var n=new xe.MathNode("mo",[na(t.left,t.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(t.right!=="."){var i=new xe.MathNode("mo",[na(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),r.push(i)}return EE(r)}});Le({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=Dw(e[0],t);if(!t.parser.leftrightDepth)throw new be("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,e)=>{var r;if(t.delim===".")r=Dg(e,[]);else{r=Cl.sizedDelim(t.delim,1,e,t.mode,[]);var n={delim:t.delim,options:e};r.isMiddle=n}return r},mathmlBuilder:(t,e)=>{var r=t.delim==="\\vert"||t.delim==="|"?na("|","text"):na(t.delim,t.mode),n=new xe.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var LE=(t,e)=>{var r=te.wrapFragment(Dt(t.body,e),e),n=t.label.slice(1),i=e.sizeMultiplier,s,a=0,o=qe.isCharacterBox(t.body);if(n==="sout")s=te.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,a=-.5*e.fontMetrics().xHeight;else if(n==="phase"){var l=Br({number:.6,unit:"pt"},e),c=Br({number:.35,unit:"ex"},e),u=e.havingBaseSizing();i=i/u.sizeMultiplier;var d=r.height+r.depth+l+c;r.style.paddingLeft=ke(d/2+l);var A=Math.floor(1e3*d*i),f=Xge(A),p=new Il([new wu("phase",f)],{width:"400em",height:ke(A/1e3),viewBox:"0 0 400000 "+A,preserveAspectRatio:"xMinYMin slice"});s=te.makeSvgSpan(["hide-tail"],[p],e),s.style.height=ke(d),a=r.depth+l+c}else{/cancel/.test(n)?o||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var m=0,v=0,g=0;/box/.test(n)?(g=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),m=e.fontMetrics().fboxsep+(n==="colorbox"?0:g),v=m):n==="angl"?(g=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),m=4*g,v=Math.max(0,.25-r.depth)):(m=o?.2:0,v=m),s=Pl.encloseSpan(r,n,m,v,e),/fbox|boxed|fcolorbox/.test(n)?(s.style.borderStyle="solid",s.style.borderWidth=ke(g)):n==="angl"&&g!==.049&&(s.style.borderTopWidth=ke(g),s.style.borderRightWidth=ke(g)),a=r.depth+v,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var y;if(t.backgroundColor)y=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:a},{type:"elem",elem:r,shift:0}]},e);else{var x=/cancel|phase/.test(n)?["svg-align"]:[];y=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:s,shift:a,wrapperClasses:x}]},e)}return/cancel/.test(n)&&(y.height=r.height,y.depth=r.depth),/cancel/.test(n)&&!o?te.makeSpan(["mord","cancel-lap"],[y],e):te.makeSpan(["mord"],[y],e)},NE=(t,e)=>{var r=0,n=new xe.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[er(t.body,e)]);switch(t.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&n.setAttribute("mathbackground",t.backgroundColor),n};Le({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,s=At(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:s,body:a}},htmlBuilder:LE,mathmlBuilder:NE});Le({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,s=At(e[0],"color-token").color,a=At(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:a,borderColor:s,body:o}},htmlBuilder:LE,mathmlBuilder:NE});Le({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}});Le({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:LE,mathmlBuilder:NE});Le({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});var yG={};function No(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:s,mathmlBuilder:a}=t,o={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<r.length;++l)yG[r[l]]=o;s&&(_b[e]=s),a&&(kb[e]=a)}var vG={};function j(t,e){vG[t]=e}function NN(t){var e=[];t.consumeSpaces();var r=t.fetch().text;for(r==="\\relax"&&(t.consume(),t.consumeSpaces(),r=t.fetch().text);r==="\\hline"||r==="\\hdashline";)t.consume(),e.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return e}var Lw=t=>{var e=t.parser.settings;if(!e.displayMode)throw new be("{"+t.envName+"} can be used only in display mode.")};function jE(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Qu(t,e,r){var{hskipBeforeAndAfter:n,addJot:i,cols:s,arraystretch:a,colSeparationType:o,autoTag:l,singleRow:c,emptySingleRow:u,maxNumCols:d,leqno:A}=e;if(t.gullet.beginGroup(),c||t.gullet.macros.set("\\cr","\\\\\\relax"),!a){var f=t.gullet.expandMacroAsText("\\arraystretch");if(f==null)a=1;else if(a=parseFloat(f),!a||a<0)throw new be("Invalid \\arraystretch: "+f)}t.gullet.beginGroup();var p=[],m=[p],v=[],g=[],y=l!=null?[]:void 0;function x(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function b(){y&&(t.gullet.macros.get("\\df@tag")?(y.push(t.subparse([new Ys("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):y.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(x(),g.push(NN(t));;){var w=t.parseExpression(!1,c?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),w={type:"ordgroup",mode:t.mode,body:w},r&&(w={type:"styling",mode:t.mode,style:r,body:[w]}),p.push(w);var C=t.fetch().text;if(C==="&"){if(d&&p.length===d){if(c||o)throw new be("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(C==="\\end"){b(),p.length===1&&w.type==="styling"&&w.body[0].body.length===0&&(m.length>1||!u)&&m.pop(),g.length<m.length+1&&g.push([]);break}else if(C==="\\\\"){t.consume();var B=void 0;t.gullet.future().text!==" "&&(B=t.parseSizeGroup(!0)),v.push(B?B.value:null),b(),g.push(NN(t)),p=[],m.push(p),x()}else throw new be("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:a,body:m,cols:s,rowGaps:v,hskipBeforeAndAfter:n,hLinesBeforeRow:g,colSeparationType:o,tags:y,leqno:A}}function IE(t){return t.slice(0,1)==="d"?"display":"text"}var jo=function(e,r){var n,i,s=e.body.length,a=e.hLinesBeforeRow,o=0,l=new Array(s),c=[],u=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),d=1/r.fontMetrics().ptPerEm,A=5*d;if(e.colSeparationType&&e.colSeparationType==="small"){var f=r.havingStyle(Je.SCRIPT).sizeMultiplier;A=.2778*(f/r.sizeMultiplier)}var p=e.colSeparationType==="CD"?Br({number:3,unit:"ex"},r):12*d,m=3*d,v=e.arraystretch*p,g=.7*v,y=.3*v,x=0;function b($){for(var ee=0;ee<$.length;++ee)ee>0&&(x+=.25),c.push({pos:x,isDashed:$[ee]})}for(b(a[0]),n=0;n<e.body.length;++n){var w=e.body[n],C=g,B=y;o<w.length&&(o=w.length);var S=new Array(w.length);for(i=0;i<w.length;++i){var E=Dt(w[i],r);B<E.depth&&(B=E.depth),C<E.height&&(C=E.height),S[i]=E}var M=e.rowGaps[n],T=0;M&&(T=Br(M,r),T>0&&(T+=y,B<T&&(B=T),T=0)),e.addJot&&(B+=m),S.height=C,S.depth=B,x+=C,S.pos=x,x+=B+T,l[n]=S,b(a[n+1])}var L=x/2+r.fontMetrics().axisHeight,I=e.cols||[],R=[],z,W,K=[];if(e.tags&&e.tags.some($=>$))for(n=0;n<s;++n){var U=l[n],q=U.pos-L,N=e.tags[n],ne=void 0;N===!0?ne=te.makeSpan(["eqn-num"],[],r):N===!1?ne=te.makeSpan([],[],r):ne=te.makeSpan([],fn(N,r,!0),r),ne.depth=U.depth,ne.height=U.height,K.push({type:"elem",elem:ne,shift:q})}for(i=0,W=0;i<o||W<I.length;++i,++W){for(var re=I[W]||{},O=!0;re.type==="separator";){if(O||(z=te.makeSpan(["arraycolsep"],[]),z.style.width=ke(r.fontMetrics().doubleRuleSep),R.push(z)),re.separator==="|"||re.separator===":"){var me=re.separator==="|"?"solid":"dashed",Ce=te.makeSpan(["vertical-separator"],[],r);Ce.style.height=ke(x),Ce.style.borderRightWidth=ke(u),Ce.style.borderRightStyle=me,Ce.style.margin="0 "+ke(-u/2);var oe=x-L;oe&&(Ce.style.verticalAlign=ke(-oe)),R.push(Ce)}else throw new be("Invalid separator type: "+re.separator);W++,re=I[W]||{},O=!1}if(!(i>=o)){var ye=void 0;(i>0||e.hskipBeforeAndAfter)&&(ye=qe.deflt(re.pregap,A),ye!==0&&(z=te.makeSpan(["arraycolsep"],[]),z.style.width=ke(ye),R.push(z)));var ze=[];for(n=0;n<s;++n){var fe=l[n],J=fe[i];if(J){var ie=fe.pos-L;J.depth=fe.depth,J.height=fe.height,ze.push({type:"elem",elem:J,shift:ie})}}ze=te.makeVList({positionType:"individualShift",children:ze},r),ze=te.makeSpan(["col-align-"+(re.align||"c")],[ze]),R.push(ze),(i<o-1||e.hskipBeforeAndAfter)&&(ye=qe.deflt(re.postgap,A),ye!==0&&(z=te.makeSpan(["arraycolsep"],[]),z.style.width=ke(ye),R.push(z)))}}if(l=te.makeSpan(["mtable"],R),c.length>0){for(var Ue=te.makeLineSpan("hline",r,u),$e=te.makeLineSpan("hdashline",r,u),Bt=[{type:"elem",elem:l,shift:0}];c.length>0;){var Ze=c.pop(),et=Ze.pos-L;Ze.isDashed?Bt.push({type:"elem",elem:$e,shift:et}):Bt.push({type:"elem",elem:Ue,shift:et})}l=te.makeVList({positionType:"individualShift",children:Bt},r)}if(K.length===0)return te.makeSpan(["mord"],[l],r);var He=te.makeVList({positionType:"individualShift",children:K},r);return He=te.makeSpan(["tag"],[He],r),te.makeFragment([l,He])},s2e={c:"center ",l:"left ",r:"right "},Io=function(e,r){for(var n=[],i=new xe.MathNode("mtd",[],["mtr-glue"]),s=new xe.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var o=e.body[a],l=[],c=0;c<o.length;c++)l.push(new xe.MathNode("mtd",[er(o[c],r)]));e.tags&&e.tags[a]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(s):l.push(s)),n.push(new xe.MathNode("mtr",l))}var u=new xe.MathNode("mtable",n),d=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);u.setAttribute("rowspacing",ke(d));var A="",f="";if(e.cols&&e.cols.length>0){var p=e.cols,m="",v=!1,g=0,y=p.length;p[0].type==="separator"&&(A+="top ",g=1),p[p.length-1].type==="separator"&&(A+="bottom ",y-=1);for(var x=g;x<y;x++)p[x].type==="align"?(f+=s2e[p[x].align],v&&(m+="none "),v=!0):p[x].type==="separator"&&v&&(m+=p[x].separator==="|"?"solid ":"dashed ",v=!1);u.setAttribute("columnalign",f.trim()),/[sd]/.test(m)&&u.setAttribute("columnlines",m.trim())}if(e.colSeparationType==="align"){for(var b=e.cols||[],w="",C=1;C<b.length;C++)w+=C%2?"0em ":"1em ";u.setAttribute("columnspacing",w.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?u.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?u.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?u.setAttribute("columnspacing","0.5em"):u.setAttribute("columnspacing","1em");var B="",S=e.hLinesBeforeRow;A+=S[0].length>0?"left ":"",A+=S[S.length-1].length>0?"right ":"";for(var E=1;E<S.length-1;E++)B+=S[E].length===0?"none ":S[E][0]?"dashed ":"solid ";return/[sd]/.test(B)&&u.setAttribute("rowlines",B.trim()),A!==""&&(u=new xe.MathNode("menclose",[u]),u.setAttribute("notation",A.trim())),e.arraystretch&&e.arraystretch<1&&(u=new xe.MathNode("mstyle",[u]),u.setAttribute("scriptlevel","1")),u},xG=function(e,r){e.envName.indexOf("ed")===-1&&Lw(e);var n=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",a=Qu(e.parser,{cols:n,addJot:!0,autoTag:s?void 0:jE(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),o,l=0,c={type:"ordgroup",mode:e.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var u="",d=0;d<r[0].body.length;d++){var A=At(r[0].body[d],"textord");u+=A.text}o=Number(u),l=o*2}var f=!l;a.body.forEach(function(g){for(var y=1;y<g.length;y+=2){var x=At(g[y],"styling"),b=At(x.body[0],"ordgroup");b.body.unshift(c)}if(f)l<g.length&&(l=g.length);else{var w=g.length/2;if(o<w)throw new be("Too many math in a row: "+("expected "+o+", but got "+w),g[0])}});for(var p=0;p<l;++p){var m="r",v=0;p%2===1?m="l":p>0&&f&&(v=1),n[p]={type:"align",align:m,pregap:v,postgap:0}}return a.colSeparationType=f?"align":"alignat",a};No({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var r=Fw(e[0]),n=r?[e[0]]:At(e[0],"ordgroup").body,i=n.map(function(a){var o=FE(a),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new be("Unknown column alignment: "+l,a)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Qu(t.parser,s,IE(t.envName))},htmlBuilder:jo,mathmlBuilder:Io});No({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new be("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var s=Qu(t.parser,n,IE(t.envName)),a=Math.max(0,...s.body.map(o=>o.length));return s.cols=new Array(a).fill({type:"align",align:r}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:jo,mathmlBuilder:Io});No({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},r=Qu(t.parser,e,"script");return r.colSeparationType="small",r},htmlBuilder:jo,mathmlBuilder:Io});No({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var r=Fw(e[0]),n=r?[e[0]]:At(e[0],"ordgroup").body,i=n.map(function(a){var o=FE(a),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new be("Unknown column alignment: "+l,a)});if(i.length>1)throw new be("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=Qu(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new be("{subarray} can contain only one column");return s},htmlBuilder:jo,mathmlBuilder:Io});No({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=Qu(t.parser,e,IE(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:jo,mathmlBuilder:Io});No({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:xG,htmlBuilder:jo,mathmlBuilder:Io});No({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){qe.contains(["gather","gather*"],t.envName)&&Lw(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:jE(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Qu(t.parser,e,"display")},htmlBuilder:jo,mathmlBuilder:Io});No({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:xG,htmlBuilder:jo,mathmlBuilder:Io});No({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){Lw(t);var e={autoTag:jE(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Qu(t.parser,e,"display")},htmlBuilder:jo,mathmlBuilder:Io});No({type:"array",names:["CD"],props:{numArgs:0},handler(t){return Lw(t),V1e(t.parser)},htmlBuilder:jo,mathmlBuilder:Io});j("\\nonumber","\\gdef\\@eqnsw{0}");j("\\notag","\\nonumber");Le({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new be(t.funcName+" valid only within array environment")}});var jN=yG;Le({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];if(i.type!=="ordgroup")throw new be("Invalid environment name",i);for(var s="",a=0;a<i.body.length;++a)s+=At(i.body[a],"textord").text;if(n==="\\begin"){if(!jN.hasOwnProperty(s))throw new be("No such environment: "+s,i);var o=jN[s],{args:l,optArgs:c}=r.parseArguments("\\begin{"+s+"}",o),u={mode:r.mode,envName:s,parser:r},d=o.handler(u,l,c);r.expect("\\end",!1);var A=r.nextToken,f=At(r.parseFunction(),"environment");if(f.name!==s)throw new be("Mismatch: \\begin{"+s+"} matched by \\end{"+f.name+"}",A);return d}return{type:"environment",mode:r.mode,name:s,nameGroup:i}}});var bG=(t,e)=>{var r=t.font,n=e.withFont(r);return Dt(t.body,n)},wG=(t,e)=>{var r=t.font,n=e.withFont(r);return er(t.body,n)},IN={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Le({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=Eb(e[0]),s=n;return s in IN&&(s=IN[s]),{type:"font",mode:r.mode,font:s.slice(1),body:i}},htmlBuilder:bG,mathmlBuilder:wG});Le({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:r}=t,n=e[0],i=qe.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:Tw(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}}});Le({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,breakOnTokenText:i}=t,{mode:s}=r,a=r.parseExpression(!0,i),o="math"+n.slice(1);return{type:"font",mode:s,font:o,body:{type:"ordgroup",mode:r.mode,body:a}}},htmlBuilder:bG,mathmlBuilder:wG});var CG=(t,e)=>{var r=e;return t==="display"?r=r.id>=Je.SCRIPT.id?r.text():Je.DISPLAY:t==="text"&&r.size===Je.DISPLAY.size?r=Je.TEXT:t==="script"?r=Je.SCRIPT:t==="scriptscript"&&(r=Je.SCRIPTSCRIPT),r},OE=(t,e)=>{var r=CG(t.size,e.style),n=r.fracNum(),i=r.fracDen(),s;s=e.havingStyle(n);var a=Dt(t.numer,s,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;a.height=a.height<o?o:a.height,a.depth=a.depth<l?l:a.depth}s=e.havingStyle(i);var c=Dt(t.denom,s,e),u,d,A;t.hasBarLine?(t.barSize?(d=Br(t.barSize,e),u=te.makeLineSpan("frac-line",e,d)):u=te.makeLineSpan("frac-line",e),d=u.height,A=u.height):(u=null,d=0,A=e.fontMetrics().defaultRuleThickness);var f,p,m;r.size===Je.DISPLAY.size||t.size==="display"?(f=e.fontMetrics().num1,d>0?p=3*A:p=7*A,m=e.fontMetrics().denom1):(d>0?(f=e.fontMetrics().num2,p=A):(f=e.fontMetrics().num3,p=3*A),m=e.fontMetrics().denom2);var v;if(u){var y=e.fontMetrics().axisHeight;f-a.depth-(y+.5*d)<p&&(f+=p-(f-a.depth-(y+.5*d))),y-.5*d-(c.height-m)<p&&(m+=p-(y-.5*d-(c.height-m)));var x=-(y-.5*d);v=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:m},{type:"elem",elem:u,shift:x},{type:"elem",elem:a,shift:-f}]},e)}else{var g=f-a.depth-(c.height-m);g<p&&(f+=.5*(p-g),m+=.5*(p-g)),v=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:m},{type:"elem",elem:a,shift:-f}]},e)}s=e.havingStyle(r),v.height*=s.sizeMultiplier/e.sizeMultiplier,v.depth*=s.sizeMultiplier/e.sizeMultiplier;var b;r.size===Je.DISPLAY.size?b=e.fontMetrics().delim1:r.size===Je.SCRIPTSCRIPT.size?b=e.havingStyle(Je.SCRIPT).fontMetrics().delim2:b=e.fontMetrics().delim2;var w,C;return t.leftDelim==null?w=Dg(e,["mopen"]):w=Cl.customSizedDelim(t.leftDelim,b,!0,e.havingStyle(r),t.mode,["mopen"]),t.continued?C=te.makeSpan([]):t.rightDelim==null?C=Dg(e,["mclose"]):C=Cl.customSizedDelim(t.rightDelim,b,!0,e.havingStyle(r),t.mode,["mclose"]),te.makeSpan(["mord"].concat(s.sizingClasses(e)),[w,te.makeSpan(["mfrac"],[v]),C],e)},PE=(t,e)=>{var r=new xe.MathNode("mfrac",[er(t.numer,e),er(t.denom,e)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var n=Br(t.barSize,e);r.setAttribute("linethickness",ke(n))}var i=CG(t.size,e.style);if(i.size!==e.style.size){r=new xe.MathNode("mstyle",[r]);var s=i.size===Je.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",s),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var a=[];if(t.leftDelim!=null){var o=new xe.MathNode("mo",[new xe.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),a.push(o)}if(a.push(r),t.rightDelim!=null){var l=new xe.MathNode("mo",[new xe.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return EE(a)}return r};Le({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],s=e[1],a,o=null,l=null,c="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,o="(",l=")";break;case"\\\\bracefrac":a=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":a=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:s,hasBarLine:a,leftDelim:o,rightDelim:l,size:c,barSize:null}},htmlBuilder:OE,mathmlBuilder:PE});Le({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],s=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Le({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:r,token:n}=t,i;switch(r){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:n}}});var ON=["display","text","script","scriptscript"],PN=function(e){var r=null;return e.length>0&&(r=e,r=r==="."?null:r),r};Le({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:r}=t,n=e[4],i=e[5],s=Eb(e[0]),a=s.type==="atom"&&s.family==="open"?PN(s.text):null,o=Eb(e[1]),l=o.type==="atom"&&o.family==="close"?PN(o.text):null,c=At(e[2],"size"),u,d=null;c.isBlank?u=!0:(d=c.value,u=d.number>0);var A="auto",f=e[3];if(f.type==="ordgroup"){if(f.body.length>0){var p=At(f.body[0],"textord");A=ON[Number(p.text)]}}else f=At(f,"textord"),A=ON[Number(f.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:i,continued:!1,hasBarLine:u,barSize:d,leftDelim:a,rightDelim:l,size:A}},htmlBuilder:OE,mathmlBuilder:PE});Le({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:r,funcName:n,token:i}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:At(e[0],"size").value,token:i}}});Le({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],s=jge(At(e[1],"infix").size),a=e[2],o=s.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:a,continued:!1,hasBarLine:o,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:OE,mathmlBuilder:PE});var BG=(t,e)=>{var r=e.style,n,i;t.type==="supsub"?(n=t.sup?Dt(t.sup,e.havingStyle(r.sup()),e):Dt(t.sub,e.havingStyle(r.sub()),e),i=At(t.base,"horizBrace")):i=At(t,"horizBrace");var s=Dt(i.base,e.havingBaseStyle(Je.DISPLAY)),a=Pl.svgSpan(i,e),o;if(i.isOver?(o=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=te.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),n){var l=te.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e);i.isOver?o=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:n}]},e):o=te.makeVList({positionType:"bottom",positionData:l.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return te.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e)},a2e=(t,e)=>{var r=Pl.mathMLnode(t.label);return new xe.MathNode(t.isOver?"mover":"munder",[er(t.base,e),r])};Le({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:BG,mathmlBuilder:a2e});Le({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[1],i=At(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:$r(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var r=fn(t.body,e,!1);return te.makeAnchor(t.href,[],r,e)},mathmlBuilder:(t,e)=>{var r=Cu(t.body,e);return r instanceof As||(r=new As("mrow",[r])),r.setAttribute("href",t.href),r}});Le({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=At(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<n.length;s++){var a=n[s];a==="~"&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var o={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:$r(o)}}});Le({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:$r(e[0])}},htmlBuilder(t,e){var r=fn(t.body,e,!1);return te.makeFragment(r)},mathmlBuilder(t,e){return new xe.MathNode("mrow",Zi(t.body,e))}});Le({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,token:i}=t,s=At(e[0],"raw").string,a=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(n){case"\\htmlClass":l.class=s,o={command:"\\htmlClass",class:s};break;case"\\htmlId":l.id=s,o={command:"\\htmlId",id:s};break;case"\\htmlStyle":l.style=s,o={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var c=s.split(","),u=0;u<c.length;u++){var d=c[u].split("=");if(d.length!==2)throw new be("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(o)?{type:"html",mode:r.mode,attributes:l,body:$r(a)}:r.formatUnsupportedCmd(n)},htmlBuilder:(t,e)=>{var r=fn(t.body,e,!1),n=["enclosing"];t.attributes.class&&n.push(...t.attributes.class.trim().split(/\s+/));var i=te.makeSpan(n,r,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&i.setAttribute(s,t.attributes[s]);return i},mathmlBuilder:(t,e)=>Cu(t.body,e)});Le({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:$r(e[0]),mathml:$r(e[1])}},htmlBuilder:(t,e)=>{var r=fn(t.html,e,!1);return te.makeFragment(r)},mathmlBuilder:(t,e)=>Cu(t.mathml,e)});var i8=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!r)throw new be("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!HW(n))throw new be("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};Le({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,r)=>{var{parser:n}=t,i={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},o="";if(r[0])for(var l=At(r[0],"raw").string,c=l.split(","),u=0;u<c.length;u++){var d=c[u].split("=");if(d.length===2){var A=d[1].trim();switch(d[0].trim()){case"alt":o=A;break;case"width":i=i8(A);break;case"height":s=i8(A);break;case"totalheight":a=i8(A);break;default:throw new be("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var f=At(e[0],"url").url;return o===""&&(o=f,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:f})?{type:"includegraphics",mode:n.mode,alt:o,width:i,height:s,totalheight:a,src:f}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var r=Br(t.height,e),n=0;t.totalheight.number>0&&(n=Br(t.totalheight,e)-r);var i=0;t.width.number>0&&(i=Br(t.width,e));var s={height:ke(r+n)};i>0&&(s.width=ke(i)),n>0&&(s.verticalAlign=ke(-n));var a=new a1e(t.src,t.alt,s);return a.height=r,a.depth=n,a},mathmlBuilder:(t,e)=>{var r=new xe.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var n=Br(t.height,e),i=0;if(t.totalheight.number>0&&(i=Br(t.totalheight,e)-n,r.setAttribute("valign",ke(-i))),r.setAttribute("height",ke(n+i)),t.width.number>0){var s=Br(t.width,e);r.setAttribute("width",ke(s))}return r.setAttribute("src",t.src),r}});Le({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=At(e[0],"size");if(r.settings.strict){var s=n[1]==="m",a=i.value.unit==="mu";s?(a||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+i.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):a&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder(t,e){return te.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var r=Br(t.dimension,e);return new xe.SpaceNode(r)}});Le({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},htmlBuilder:(t,e)=>{var r;t.alignment==="clap"?(r=te.makeSpan([],[Dt(t.body,e)]),r=te.makeSpan(["inner"],[r],e)):r=te.makeSpan(["inner"],[Dt(t.body,e)]);var n=te.makeSpan(["fix"],[]),i=te.makeSpan([t.alignment],[r,n],e),s=te.makeSpan(["strut"]);return s.style.height=ke(i.height+i.depth),i.depth&&(s.style.verticalAlign=ke(-i.depth)),i.children.unshift(s),i=te.makeSpan(["thinbox"],[i],e),te.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var r=new xe.MathNode("mpadded",[er(t.body,e)]);if(t.alignment!=="rlap"){var n=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}});Le({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:r,parser:n}=t,i=n.mode;n.switchMode("math");var s=r==="\\("?"\\)":"$",a=n.parseExpression(!1,s);return n.expect(s),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:a}}});Le({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new be("Mismatched "+t.funcName)}});var UN=(t,e)=>{switch(e.style.size){case Je.DISPLAY.size:return t.display;case Je.TEXT.size:return t.text;case Je.SCRIPT.size:return t.script;case Je.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Le({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:$r(e[0]),text:$r(e[1]),script:$r(e[2]),scriptscript:$r(e[3])}},htmlBuilder:(t,e)=>{var r=UN(t,e),n=fn(r,e,!1);return te.makeFragment(n)},mathmlBuilder:(t,e)=>{var r=UN(t,e);return Cu(r,e)}});var SG=(t,e,r,n,i,s,a)=>{t=te.makeSpan([],[t]);var o=r&&qe.isCharacterBox(r),l,c;if(e){var u=Dt(e,n.havingStyle(i.sup()),n);c={elem:u,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-u.depth)}}if(r){var d=Dt(r,n.havingStyle(i.sub()),n);l={elem:d,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-d.height)}}var A;if(c&&l){var f=n.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+a;A=te.makeVList({positionType:"bottom",positionData:f,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:ke(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:ke(s)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(l){var p=t.height-a;A=te.makeVList({positionType:"top",positionData:p,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:ke(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},n)}else if(c){var m=t.depth+a;A=te.makeVList({positionType:"bottom",positionData:m,children:[{type:"elem",elem:t},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:ke(s)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return t;var v=[A];if(l&&s!==0&&!o){var g=te.makeSpan(["mspace"],[],n);g.style.marginRight=ke(s),v.unshift(g)}return te.makeSpan(["mop","op-limits"],v,n)},_G=["\\smallint"],yf=(t,e)=>{var r,n,i=!1,s;t.type==="supsub"?(r=t.sup,n=t.sub,s=At(t.base,"op"),i=!0):s=At(t,"op");var a=e.style,o=!1;a.size===Je.DISPLAY.size&&s.symbol&&!qe.contains(_G,s.name)&&(o=!0);var l;if(s.symbol){var c=o?"Size2-Regular":"Size1-Regular",u="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(u=s.name.slice(1),s.name=u==="oiint"?"\\iint":"\\iiint"),l=te.makeSymbol(s.name,c,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),u.length>0){var d=l.italic,A=te.staticSvg(u+"Size"+(o?"2":"1"),e);l=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:A,shift:o?.08:0}]},e),s.name="\\"+u,l.classes.unshift("mop"),l.italic=d}}else if(s.body){var f=fn(s.body,e,!0);f.length===1&&f[0]instanceof ra?(l=f[0],l.classes[0]="mop"):l=te.makeSpan(["mop"],f,e)}else{for(var p=[],m=1;m<s.name.length;m++)p.push(te.mathsym(s.name[m],s.mode,e));l=te.makeSpan(["mop"],p,e)}var v=0,g=0;return(l instanceof ra||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(v=(l.height-l.depth)/2-e.fontMetrics().axisHeight,g=l.italic),i?SG(l,r,n,e,a,g,v):(v&&(l.style.position="relative",l.style.top=ke(v)),l)},T1=(t,e)=>{var r;if(t.symbol)r=new As("mo",[na(t.name,t.mode)]),qe.contains(_G,t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new As("mo",Zi(t.body,e));else{r=new As("mi",[new mo(t.name.slice(1))]);var n=new As("mo",[na("⁡","text")]);t.parentIsSupSub?r=new As("mrow",[r,n]):r=eG([r,n])}return r},o2e={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Le({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=n;return i.length===1&&(i=o2e[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:yf,mathmlBuilder:T1});Le({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:$r(n)}},htmlBuilder:yf,mathmlBuilder:T1});var l2e={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Le({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:yf,mathmlBuilder:T1});Le({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:yf,mathmlBuilder:T1});Le({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t,n=r;return n.length===1&&(n=l2e[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:yf,mathmlBuilder:T1});var kG=(t,e)=>{var r,n,i=!1,s;t.type==="supsub"?(r=t.sup,n=t.sub,s=At(t.base,"operatorname"),i=!0):s=At(t,"operatorname");var a;if(s.body.length>0){for(var o=s.body.map(d=>{var A=d.text;return typeof A=="string"?{type:"textord",mode:d.mode,text:A}:d}),l=fn(o,e.withFont("mathrm"),!0),c=0;c<l.length;c++){var u=l[c];u instanceof ra&&(u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=te.makeSpan(["mop"],l,e)}else a=te.makeSpan(["mop"],[],e);return i?SG(a,r,n,e,e.style,0,0):a},c2e=(t,e)=>{for(var r=Zi(t.body,e.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var s=r[i];if(!(s instanceof xe.SpaceNode))if(s instanceof xe.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=s.children[0];s.children.length===1&&a instanceof xe.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var o=r.map(u=>u.toText()).join("");r=[new xe.TextNode(o)]}var l=new xe.MathNode("mi",r);l.setAttribute("mathvariant","normal");var c=new xe.MathNode("mo",[na("⁡","text")]);return t.parentIsSupSub?new xe.MathNode("mrow",[l,c]):xe.newDocumentFragment([l,c])};Le({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"operatorname",mode:r.mode,body:$r(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:kG,mathmlBuilder:c2e});j("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");L0({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?te.makeFragment(fn(t.body,e,!1)):te.makeSpan(["mord"],fn(t.body,e,!0),e)},mathmlBuilder(t,e){return Cu(t.body,e,!0)}});Le({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:r}=t,n=e[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(t,e){var r=Dt(t.body,e.havingCrampedStyle()),n=te.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},e);return te.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var r=new xe.MathNode("mo",[new xe.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new xe.MathNode("mover",[er(t.body,e),r]);return n.setAttribute("accent","true"),n}});Le({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"phantom",mode:r.mode,body:$r(n)}},htmlBuilder:(t,e)=>{var r=fn(t.body,e.withPhantom(),!1);return te.makeFragment(r)},mathmlBuilder:(t,e)=>{var r=Zi(t.body,e);return new xe.MathNode("mphantom",r)}});Le({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=te.makeSpan([],[Dt(t.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),te.makeSpan(["mord"],[r],e)},mathmlBuilder:(t,e)=>{var r=Zi($r(t.body),e),n=new xe.MathNode("mphantom",r),i=new xe.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});Le({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=te.makeSpan(["inner"],[Dt(t.body,e.withPhantom())]),n=te.makeSpan(["fix"],[]);return te.makeSpan(["mord","rlap"],[r,n],e)},mathmlBuilder:(t,e)=>{var r=Zi($r(t.body),e),n=new xe.MathNode("mphantom",r),i=new xe.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i}});Le({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t,n=At(e[0],"size").value,i=e[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(t,e){var r=Dt(t.body,e),n=Br(t.dy,e);return te.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){var r=new xe.MathNode("mpadded",[er(t.body,e)]),n=t.dy.number+t.dy.unit;return r.setAttribute("voffset",n),r}});Le({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});Le({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,r){var{parser:n}=t,i=r[0],s=At(e[0],"size"),a=At(e[1],"size");return{type:"rule",mode:n.mode,shift:i&&At(i,"size").value,width:s.value,height:a.value}},htmlBuilder(t,e){var r=te.makeSpan(["mord","rule"],[],e),n=Br(t.width,e),i=Br(t.height,e),s=t.shift?Br(t.shift,e):0;return r.style.borderRightWidth=ke(n),r.style.borderTopWidth=ke(i),r.style.bottom=ke(s),r.width=n,r.height=i+s,r.depth=-s,r.maxFontSize=i*1.125*e.sizeMultiplier,r},mathmlBuilder(t,e){var r=Br(t.width,e),n=Br(t.height,e),i=t.shift?Br(t.shift,e):0,s=e.color&&e.getColor()||"black",a=new xe.MathNode("mspace");a.setAttribute("mathbackground",s),a.setAttribute("width",ke(r)),a.setAttribute("height",ke(n));var o=new xe.MathNode("mpadded",[a]);return i>=0?o.setAttribute("height",ke(i)):(o.setAttribute("height",ke(i)),o.setAttribute("depth",ke(-i))),o.setAttribute("voffset",ke(i)),o}});function EG(t,e,r){for(var n=fn(t,e,!1),i=e.sizeMultiplier/r.sizeMultiplier,s=0;s<n.length;s++){var a=n[s].classes.indexOf("sizing");a<0?Array.prototype.push.apply(n[s].classes,e.sizingClasses(r)):n[s].classes[a+1]==="reset-size"+e.size&&(n[s].classes[a+1]="reset-size"+r.size),n[s].height*=i,n[s].depth*=i}return te.makeFragment(n)}var RN=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],u2e=(t,e)=>{var r=e.havingSize(t.size);return EG(t.body,r,e)};Le({type:"sizing",names:RN,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:r,funcName:n,parser:i}=t,s=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:RN.indexOf(n)+1,body:s}},htmlBuilder:u2e,mathmlBuilder:(t,e)=>{var r=e.havingSize(t.size),n=Zi(t.body,r),i=new xe.MathNode("mstyle",n);return i.setAttribute("mathsize",ke(r.sizeMultiplier)),i}});Le({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,r)=>{var{parser:n}=t,i=!1,s=!1,a=r[0]&&At(r[0],"ordgroup");if(a)for(var o="",l=0;l<a.body.length;++l){var c=a.body[l];if(o=c.text,o==="t")i=!0;else if(o==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var u=e[0];return{type:"smash",mode:n.mode,body:u,smashHeight:i,smashDepth:s}},htmlBuilder:(t,e)=>{var r=te.makeSpan([],[Dt(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var s=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return te.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var r=new xe.MathNode("mpadded",[er(t.body,e)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}});Le({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n}=t,i=r[0],s=e[0];return{type:"sqrt",mode:n.mode,body:s,index:i}},htmlBuilder(t,e){var r=Dt(t.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=te.wrapFragment(r,e);var n=e.fontMetrics(),i=n.defaultRuleThickness,s=i;e.style.id<Je.TEXT.id&&(s=e.fontMetrics().xHeight);var a=i+s/4,o=r.height+r.depth+a+i,{span:l,ruleWidth:c,advanceWidth:u}=Cl.sqrtImage(o,e),d=l.height-c;d>r.height+r.depth+a&&(a=(a+d-r.height-r.depth)/2);var A=l.height-r.height-a-c;r.style.paddingLeft=ke(u);var f=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+A)},{type:"elem",elem:l},{type:"kern",size:c}]},e);if(t.index){var p=e.havingStyle(Je.SCRIPTSCRIPT),m=Dt(t.index,p,e),v=.6*(f.height-f.depth),g=te.makeVList({positionType:"shift",positionData:-v,children:[{type:"elem",elem:m}]},e),y=te.makeSpan(["root"],[g]);return te.makeSpan(["mord","sqrt"],[y,f],e)}else return te.makeSpan(["mord","sqrt"],[f],e)},mathmlBuilder(t,e){var{body:r,index:n}=t;return n?new xe.MathNode("mroot",[er(r,e),er(n,e)]):new xe.MathNode("msqrt",[er(r,e)])}});var QN={display:Je.DISPLAY,text:Je.TEXT,script:Je.SCRIPT,scriptscript:Je.SCRIPTSCRIPT};Le({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:r,funcName:n,parser:i}=t,s=i.parseExpression(!0,r),a=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:a,body:s}},htmlBuilder(t,e){var r=QN[t.style],n=e.havingStyle(r).withFont("");return EG(t.body,n,e)},mathmlBuilder(t,e){var r=QN[t.style],n=e.havingStyle(r),i=Zi(t.body,n),s=new xe.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=a[t.style];return s.setAttribute("scriptlevel",o[0]),s.setAttribute("displaystyle",o[1]),s}});var d2e=function(e,r){var n=e.base;if(n)if(n.type==="op"){var i=n.limits&&(r.style.size===Je.DISPLAY.size||n.alwaysHandleSupSub);return i?yf:null}else if(n.type==="operatorname"){var s=n.alwaysHandleSupSub&&(r.style.size===Je.DISPLAY.size||n.limits);return s?kG:null}else{if(n.type==="accent")return qe.isCharacterBox(n.base)?TE:null;if(n.type==="horizBrace"){var a=!e.sub;return a===n.isOver?BG:null}else return null}else return null};L0({type:"supsub",htmlBuilder(t,e){var r=d2e(t,e);if(r)return r(t,e);var{base:n,sup:i,sub:s}=t,a=Dt(n,e),o,l,c=e.fontMetrics(),u=0,d=0,A=n&&qe.isCharacterBox(n);if(i){var f=e.havingStyle(e.style.sup());o=Dt(i,f,e),A||(u=a.height-f.fontMetrics().supDrop*f.sizeMultiplier/e.sizeMultiplier)}if(s){var p=e.havingStyle(e.style.sub());l=Dt(s,p,e),A||(d=a.depth+p.fontMetrics().subDrop*p.sizeMultiplier/e.sizeMultiplier)}var m;e.style===Je.DISPLAY?m=c.sup1:e.style.cramped?m=c.sup3:m=c.sup2;var v=e.sizeMultiplier,g=ke(.5/c.ptPerEm/v),y=null;if(l){var x=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(a instanceof ra||x)&&(y=ke(-a.italic))}var b;if(o&&l){u=Math.max(u,m,o.depth+.25*c.xHeight),d=Math.max(d,c.sub2);var w=c.defaultRuleThickness,C=4*w;if(u-o.depth-(l.height-d)<C){d=C-(u-o.depth)+l.height;var B=.8*c.xHeight-(u-o.depth);B>0&&(u+=B,d-=B)}var S=[{type:"elem",elem:l,shift:d,marginRight:g,marginLeft:y},{type:"elem",elem:o,shift:-u,marginRight:g}];b=te.makeVList({positionType:"individualShift",children:S},e)}else if(l){d=Math.max(d,c.sub1,l.height-.8*c.xHeight);var E=[{type:"elem",elem:l,marginLeft:y,marginRight:g}];b=te.makeVList({positionType:"shift",positionData:d,children:E},e)}else if(o)u=Math.max(u,m,o.depth+.25*c.xHeight),b=te.makeVList({positionType:"shift",positionData:-u,children:[{type:"elem",elem:o,marginRight:g}]},e);else throw new Error("supsub must have either sup or sub.");var M=lB(a,"right")||"mord";return te.makeSpan([M],[a,te.makeSpan(["msupsub"],[b])],e)},mathmlBuilder(t,e){var r=!1,n,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(r=!0,n=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[er(t.base,e)];t.sub&&s.push(er(t.sub,e)),t.sup&&s.push(er(t.sup,e));var a;if(r)a=n?"mover":"munder";else if(t.sub)if(t.sup){var c=t.base;c&&c.type==="op"&&c.limits&&e.style===Je.DISPLAY||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(e.style===Je.DISPLAY||c.limits)?a="munderover":a="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===Je.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===Je.DISPLAY)?a="munder":a="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===Je.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===Je.DISPLAY)?a="mover":a="msup"}return new xe.MathNode(a,s)}});L0({type:"atom",htmlBuilder(t,e){return te.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var r=new xe.MathNode("mo",[na(t.text,t.mode)]);if(t.family==="bin"){var n=ME(t,e);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});var MG={mi:"italic",mn:"normal",mtext:"normal"};L0({type:"mathord",htmlBuilder(t,e){return te.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var r=new xe.MathNode("mi",[na(t.text,t.mode,e)]),n=ME(t,e)||"italic";return n!==MG[r.type]&&r.setAttribute("mathvariant",n),r}});L0({type:"textord",htmlBuilder(t,e){return te.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var r=na(t.text,t.mode,e),n=ME(t,e)||"normal",i;return t.mode==="text"?i=new xe.MathNode("mtext",[r]):/[0-9]/.test(t.text)?i=new xe.MathNode("mn",[r]):t.text==="\\prime"?i=new xe.MathNode("mo",[r]):i=new xe.MathNode("mi",[r]),n!==MG[i.type]&&i.setAttribute("mathvariant",n),i}});var s8={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},a8={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};L0({type:"spacing",htmlBuilder(t,e){if(a8.hasOwnProperty(t.text)){var r=a8[t.text].className||"";if(t.mode==="text"){var n=te.makeOrd(t,e,"textord");return n.classes.push(r),n}else return te.makeSpan(["mspace",r],[te.mathsym(t.text,t.mode,e)],e)}else{if(s8.hasOwnProperty(t.text))return te.makeSpan(["mspace",s8[t.text]],[],e);throw new be('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var r;if(a8.hasOwnProperty(t.text))r=new xe.MathNode("mtext",[new xe.TextNode(" ")]);else{if(s8.hasOwnProperty(t.text))return new xe.MathNode("mspace");throw new be('Unknown type of space "'+t.text+'"')}return r}});var zN=()=>{var t=new xe.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};L0({type:"tag",mathmlBuilder(t,e){var r=new xe.MathNode("mtable",[new xe.MathNode("mtr",[zN(),new xe.MathNode("mtd",[Cu(t.body,e)]),zN(),new xe.MathNode("mtd",[Cu(t.tag,e)])])]);return r.setAttribute("width","100%"),r}});var HN={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},$N={"\\textbf":"textbf","\\textmd":"textmd"},h2e={"\\textit":"textit","\\textup":"textup"},VN=(t,e)=>{var r=t.font;if(r){if(HN[r])return e.withTextFontFamily(HN[r]);if($N[r])return e.withTextFontWeight($N[r]);if(r==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(h2e[r])};Le({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"text",mode:r.mode,body:$r(i),font:n}},htmlBuilder(t,e){var r=VN(t,e),n=fn(t.body,r,!0);return te.makeSpan(["mord","text"],n,r)},mathmlBuilder(t,e){var r=VN(t,e);return Cu(t.body,r)}});Le({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Dt(t.body,e),n=te.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=te.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},e);return te.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var r=new xe.MathNode("mo",[new xe.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new xe.MathNode("munder",[er(t.body,e),r]);return n.setAttribute("accentunder","true"),n}});Le({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Dt(t.body,e),n=e.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return te.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){return new xe.MathNode("mpadded",[er(t.body,e)],["vcenter"])}});Le({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,r){throw new be("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var r=KN(t),n=[],i=e.havingStyle(e.style.text()),s=0;s<r.length;s++){var a=r[s];a==="~"&&(a="\\textasciitilde"),n.push(te.makeSymbol(a,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return te.makeSpan(["mord","text"].concat(i.sizingClasses(e)),te.tryCombineChars(n),i)},mathmlBuilder(t,e){var r=new xe.TextNode(KN(t)),n=new xe.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var KN=t=>t.body.replace(/ /g,t.star?"␣":" "),Vc=JW,FG=`[ \r
	]`,A2e="\\\\[a-zA-Z@]+",f2e="\\\\[^\uD800-\uDFFF]",p2e="("+A2e+")"+FG+"*",m2e=`\\\\(
|[ \r	]+
?)[ \r	]*`,hB="[̀-ͯ]",g2e=new RegExp(hB+"+$"),y2e="("+FG+"+)|"+(m2e+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(hB+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(hB+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+p2e)+("|"+f2e+")");class qN{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(y2e,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new Ys("EOF",new us(this,r,r));var n=this.tokenRegex.exec(e);if(n===null||n.index!==r)throw new be("Unexpected character: '"+e[r]+"'",new Ys(e[r],new us(this,r,r+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new Ys(i,new us(this,r,this.tokenRegex.lastIndex))}}class v2e{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new be("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,n){if(n===void 0&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}}var x2e=vG;j("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});j("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});j("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});j("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});j("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});j("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");j("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var WN={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};j("\\char",function(t){var e=t.popToken(),r,n="";if(e.text==="'")r=8,e=t.popToken();else if(e.text==='"')r=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")n=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new be("\\char` missing argument");n=e.text.charCodeAt(0)}else r=10;if(r){if(n=WN[e.text],n==null||n>=r)throw new be("Invalid base-"+r+" digit "+e.text);for(var i;(i=WN[t.future().text])!=null&&i<r;)n*=r,n+=i,t.popToken()}return"\\@char{"+n+"}"});var UE=(t,e,r,n)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new be("\\newcommand's first argument must be a macro name");var s=i[0].text,a=t.isDefined(s);if(a&&!e)throw new be("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!a&&!r)throw new be("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var o=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var l="",c=t.expandNextToken();c.text!=="]"&&c.text!=="EOF";)l+=c.text,c=t.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new be("Invalid number of arguments: "+l);o=parseInt(l),i=t.consumeArg().tokens}return a&&n||t.macros.set(s,{tokens:i,numArgs:o}),""};j("\\newcommand",t=>UE(t,!1,!0,!1));j("\\renewcommand",t=>UE(t,!0,!1,!1));j("\\providecommand",t=>UE(t,!0,!0,!0));j("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""});j("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""});j("\\show",t=>{var e=t.popToken(),r=e.text;return console.log(e,t.macros.get(r),Vc[r],or.math[r],or.text[r]),""});j("\\bgroup","{");j("\\egroup","}");j("~","\\nobreakspace");j("\\lq","`");j("\\rq","'");j("\\aa","\\r a");j("\\AA","\\r A");j("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");j("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");j("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");j("ℬ","\\mathscr{B}");j("ℰ","\\mathscr{E}");j("ℱ","\\mathscr{F}");j("ℋ","\\mathscr{H}");j("ℐ","\\mathscr{I}");j("ℒ","\\mathscr{L}");j("ℳ","\\mathscr{M}");j("ℛ","\\mathscr{R}");j("ℭ","\\mathfrak{C}");j("ℌ","\\mathfrak{H}");j("ℨ","\\mathfrak{Z}");j("\\Bbbk","\\Bbb{k}");j("·","\\cdotp");j("\\llap","\\mathllap{\\textrm{#1}}");j("\\rlap","\\mathrlap{\\textrm{#1}}");j("\\clap","\\mathclap{\\textrm{#1}}");j("\\mathstrut","\\vphantom{(}");j("\\underbar","\\underline{\\text{#1}}");j("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');j("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");j("\\ne","\\neq");j("≠","\\neq");j("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");j("∉","\\notin");j("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");j("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");j("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");j("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");j("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");j("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");j("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");j("⟂","\\perp");j("‼","\\mathclose{!\\mkern-0.8mu!}");j("∌","\\notni");j("⌜","\\ulcorner");j("⌝","\\urcorner");j("⌞","\\llcorner");j("⌟","\\lrcorner");j("©","\\copyright");j("®","\\textregistered");j("️","\\textregistered");j("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');j("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');j("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');j("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');j("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");j("⋮","\\vdots");j("\\varGamma","\\mathit{\\Gamma}");j("\\varDelta","\\mathit{\\Delta}");j("\\varTheta","\\mathit{\\Theta}");j("\\varLambda","\\mathit{\\Lambda}");j("\\varXi","\\mathit{\\Xi}");j("\\varPi","\\mathit{\\Pi}");j("\\varSigma","\\mathit{\\Sigma}");j("\\varUpsilon","\\mathit{\\Upsilon}");j("\\varPhi","\\mathit{\\Phi}");j("\\varPsi","\\mathit{\\Psi}");j("\\varOmega","\\mathit{\\Omega}");j("\\substack","\\begin{subarray}{c}#1\\end{subarray}");j("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");j("\\boxed","\\fbox{$\\displaystyle{#1}$}");j("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");j("\\implies","\\DOTSB\\;\\Longrightarrow\\;");j("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");j("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");j("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var GN={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};j("\\dots",function(t){var e="\\dotso",r=t.expandAfterFuture().text;return r in GN?e=GN[r]:(r.slice(0,4)==="\\not"||r in or.math&&qe.contains(["bin","rel"],or.math[r].group))&&(e="\\dotsb"),e});var RE={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};j("\\dotso",function(t){var e=t.future().text;return e in RE?"\\ldots\\,":"\\ldots"});j("\\dotsc",function(t){var e=t.future().text;return e in RE&&e!==","?"\\ldots\\,":"\\ldots"});j("\\cdots",function(t){var e=t.future().text;return e in RE?"\\@cdots\\,":"\\@cdots"});j("\\dotsb","\\cdots");j("\\dotsm","\\cdots");j("\\dotsi","\\!\\cdots");j("\\dotsx","\\ldots\\,");j("\\DOTSI","\\relax");j("\\DOTSB","\\relax");j("\\DOTSX","\\relax");j("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");j("\\,","\\tmspace+{3mu}{.1667em}");j("\\thinspace","\\,");j("\\>","\\mskip{4mu}");j("\\:","\\tmspace+{4mu}{.2222em}");j("\\medspace","\\:");j("\\;","\\tmspace+{5mu}{.2777em}");j("\\thickspace","\\;");j("\\!","\\tmspace-{3mu}{.1667em}");j("\\negthinspace","\\!");j("\\negmedspace","\\tmspace-{4mu}{.2222em}");j("\\negthickspace","\\tmspace-{5mu}{.277em}");j("\\enspace","\\kern.5em ");j("\\enskip","\\hskip.5em\\relax");j("\\quad","\\hskip1em\\relax");j("\\qquad","\\hskip2em\\relax");j("\\tag","\\@ifstar\\tag@literal\\tag@paren");j("\\tag@paren","\\tag@literal{({#1})}");j("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new be("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});j("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");j("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");j("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");j("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");j("\\newline","\\\\\\relax");j("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var TG=ke(po["Main-Regular"][84][1]-.7*po["Main-Regular"][65][1]);j("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+TG+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");j("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+TG+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");j("\\hspace","\\@ifstar\\@hspacer\\@hspace");j("\\@hspace","\\hskip #1\\relax");j("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");j("\\ordinarycolon",":");j("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");j("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');j("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');j("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');j("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');j("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');j("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');j("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');j("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');j("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');j("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');j("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');j("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');j("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');j("∷","\\dblcolon");j("∹","\\eqcolon");j("≔","\\coloneqq");j("≕","\\eqqcolon");j("⩴","\\Coloneqq");j("\\ratio","\\vcentcolon");j("\\coloncolon","\\dblcolon");j("\\colonequals","\\coloneqq");j("\\coloncolonequals","\\Coloneqq");j("\\equalscolon","\\eqqcolon");j("\\equalscoloncolon","\\Eqqcolon");j("\\colonminus","\\coloneq");j("\\coloncolonminus","\\Coloneq");j("\\minuscolon","\\eqcolon");j("\\minuscoloncolon","\\Eqcolon");j("\\coloncolonapprox","\\Colonapprox");j("\\coloncolonsim","\\Colonsim");j("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");j("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");j("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");j("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");j("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");j("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");j("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");j("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");j("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");j("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");j("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");j("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");j("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");j("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");j("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");j("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");j("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");j("\\nleqq","\\html@mathml{\\@nleqq}{≰}");j("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");j("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");j("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");j("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");j("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");j("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");j("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");j("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");j("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");j("\\imath","\\html@mathml{\\@imath}{ı}");j("\\jmath","\\html@mathml{\\@jmath}{ȷ}");j("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");j("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");j("⟦","\\llbracket");j("⟧","\\rrbracket");j("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");j("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");j("⦃","\\lBrace");j("⦄","\\rBrace");j("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");j("⦵","\\minuso");j("\\darr","\\downarrow");j("\\dArr","\\Downarrow");j("\\Darr","\\Downarrow");j("\\lang","\\langle");j("\\rang","\\rangle");j("\\uarr","\\uparrow");j("\\uArr","\\Uparrow");j("\\Uarr","\\Uparrow");j("\\N","\\mathbb{N}");j("\\R","\\mathbb{R}");j("\\Z","\\mathbb{Z}");j("\\alef","\\aleph");j("\\alefsym","\\aleph");j("\\Alpha","\\mathrm{A}");j("\\Beta","\\mathrm{B}");j("\\bull","\\bullet");j("\\Chi","\\mathrm{X}");j("\\clubs","\\clubsuit");j("\\cnums","\\mathbb{C}");j("\\Complex","\\mathbb{C}");j("\\Dagger","\\ddagger");j("\\diamonds","\\diamondsuit");j("\\empty","\\emptyset");j("\\Epsilon","\\mathrm{E}");j("\\Eta","\\mathrm{H}");j("\\exist","\\exists");j("\\harr","\\leftrightarrow");j("\\hArr","\\Leftrightarrow");j("\\Harr","\\Leftrightarrow");j("\\hearts","\\heartsuit");j("\\image","\\Im");j("\\infin","\\infty");j("\\Iota","\\mathrm{I}");j("\\isin","\\in");j("\\Kappa","\\mathrm{K}");j("\\larr","\\leftarrow");j("\\lArr","\\Leftarrow");j("\\Larr","\\Leftarrow");j("\\lrarr","\\leftrightarrow");j("\\lrArr","\\Leftrightarrow");j("\\Lrarr","\\Leftrightarrow");j("\\Mu","\\mathrm{M}");j("\\natnums","\\mathbb{N}");j("\\Nu","\\mathrm{N}");j("\\Omicron","\\mathrm{O}");j("\\plusmn","\\pm");j("\\rarr","\\rightarrow");j("\\rArr","\\Rightarrow");j("\\Rarr","\\Rightarrow");j("\\real","\\Re");j("\\reals","\\mathbb{R}");j("\\Reals","\\mathbb{R}");j("\\Rho","\\mathrm{P}");j("\\sdot","\\cdot");j("\\sect","\\S");j("\\spades","\\spadesuit");j("\\sub","\\subset");j("\\sube","\\subseteq");j("\\supe","\\supseteq");j("\\Tau","\\mathrm{T}");j("\\thetasym","\\vartheta");j("\\weierp","\\wp");j("\\Zeta","\\mathrm{Z}");j("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");j("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");j("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");j("\\bra","\\mathinner{\\langle{#1}|}");j("\\ket","\\mathinner{|{#1}\\rangle}");j("\\braket","\\mathinner{\\langle{#1}\\rangle}");j("\\Bra","\\left\\langle#1\\right|");j("\\Ket","\\left|#1\\right\\rangle");var DG=t=>e=>{var r=e.consumeArg().tokens,n=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,a=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var l=d=>A=>{t&&(A.macros.set("|",a),i.length&&A.macros.set("\\|",o));var f=d;if(!d&&i.length){var p=A.future();p.text==="|"&&(A.popToken(),f=!0)}return{tokens:f?i:n,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var c=e.consumeArg().tokens,u=e.expandTokens([...s,...c,...r]);return e.macros.endGroup(),{tokens:u.reverse(),numArgs:0}};j("\\bra@ket",DG(!1));j("\\bra@set",DG(!0));j("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");j("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");j("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");j("\\angln","{\\angl n}");j("\\blue","\\textcolor{##6495ed}{#1}");j("\\orange","\\textcolor{##ffa500}{#1}");j("\\pink","\\textcolor{##ff00af}{#1}");j("\\red","\\textcolor{##df0030}{#1}");j("\\green","\\textcolor{##28ae7b}{#1}");j("\\gray","\\textcolor{gray}{#1}");j("\\purple","\\textcolor{##9d38bd}{#1}");j("\\blueA","\\textcolor{##ccfaff}{#1}");j("\\blueB","\\textcolor{##80f6ff}{#1}");j("\\blueC","\\textcolor{##63d9ea}{#1}");j("\\blueD","\\textcolor{##11accd}{#1}");j("\\blueE","\\textcolor{##0c7f99}{#1}");j("\\tealA","\\textcolor{##94fff5}{#1}");j("\\tealB","\\textcolor{##26edd5}{#1}");j("\\tealC","\\textcolor{##01d1c1}{#1}");j("\\tealD","\\textcolor{##01a995}{#1}");j("\\tealE","\\textcolor{##208170}{#1}");j("\\greenA","\\textcolor{##b6ffb0}{#1}");j("\\greenB","\\textcolor{##8af281}{#1}");j("\\greenC","\\textcolor{##74cf70}{#1}");j("\\greenD","\\textcolor{##1fab54}{#1}");j("\\greenE","\\textcolor{##0d923f}{#1}");j("\\goldA","\\textcolor{##ffd0a9}{#1}");j("\\goldB","\\textcolor{##ffbb71}{#1}");j("\\goldC","\\textcolor{##ff9c39}{#1}");j("\\goldD","\\textcolor{##e07d10}{#1}");j("\\goldE","\\textcolor{##a75a05}{#1}");j("\\redA","\\textcolor{##fca9a9}{#1}");j("\\redB","\\textcolor{##ff8482}{#1}");j("\\redC","\\textcolor{##f9685d}{#1}");j("\\redD","\\textcolor{##e84d39}{#1}");j("\\redE","\\textcolor{##bc2612}{#1}");j("\\maroonA","\\textcolor{##ffbde0}{#1}");j("\\maroonB","\\textcolor{##ff92c6}{#1}");j("\\maroonC","\\textcolor{##ed5fa6}{#1}");j("\\maroonD","\\textcolor{##ca337c}{#1}");j("\\maroonE","\\textcolor{##9e034e}{#1}");j("\\purpleA","\\textcolor{##ddd7ff}{#1}");j("\\purpleB","\\textcolor{##c6b9fc}{#1}");j("\\purpleC","\\textcolor{##aa87ff}{#1}");j("\\purpleD","\\textcolor{##7854ab}{#1}");j("\\purpleE","\\textcolor{##543b78}{#1}");j("\\mintA","\\textcolor{##f5f9e8}{#1}");j("\\mintB","\\textcolor{##edf2df}{#1}");j("\\mintC","\\textcolor{##e0e5cc}{#1}");j("\\grayA","\\textcolor{##f6f7f7}{#1}");j("\\grayB","\\textcolor{##f0f1f2}{#1}");j("\\grayC","\\textcolor{##e3e5e6}{#1}");j("\\grayD","\\textcolor{##d6d8da}{#1}");j("\\grayE","\\textcolor{##babec2}{#1}");j("\\grayF","\\textcolor{##888d93}{#1}");j("\\grayG","\\textcolor{##626569}{#1}");j("\\grayH","\\textcolor{##3b3e40}{#1}");j("\\grayI","\\textcolor{##21242c}{#1}");j("\\kaBlue","\\textcolor{##314453}{#1}");j("\\kaGreen","\\textcolor{##71B307}{#1}");var LG={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class b2e{constructor(e,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new v2e(x2e,r.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new qN(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,n,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:i,end:n}=this.consumeArg(["]"])}else({tokens:i,start:r,end:n}=this.consumeArg());return this.pushToken(new Ys("EOF",n.loc)),this.pushTokens(i),r.range(n,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var r=[],n=e&&e.length>0;n||this.consumeSpaces();var i=this.future(),s,a=0,o=0;do{if(s=this.popToken(),r.push(s),s.text==="{")++a;else if(s.text==="}"){if(--a,a===-1)throw new be("Extra }",s)}else if(s.text==="EOF")throw new be("Unexpected end of input in a macro argument, expected '"+(e&&n?e[o]:"}")+"'",s);if(e&&n)if((a===0||a===1&&e[o]==="{")&&s.text===e[o]){if(++o,o===e.length){r.splice(-o,o);break}}else o=0}while(a!==0||n);return i.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:i,end:s}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new be("The length of delimiters doesn't match the number of args!");for(var n=r[0],i=0;i<n.length;i++){var s=this.popToken();if(n[i]!==s.text)throw new be("Use of the macro doesn't match its definition",s)}}for(var a=[],o=0;o<e;o++)a.push(this.consumeArg(r&&r[o+1]).tokens);return a}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new be("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var r=this.popToken(),n=r.text,i=r.noexpand?null:this._getExpansion(n);if(i==null||e&&i.unexpandable){if(e&&i==null&&n[0]==="\\"&&!this.isDefined(n))throw new be("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var s=i.tokens,a=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var o=s.length-1;o>=0;--o){var l=s[o];if(l.text==="#"){if(o===0)throw new be("Incomplete placeholder at end of macro body",l);if(l=s[--o],l.text==="#")s.splice(o+1,1);else if(/^[1-9]$/.test(l.text))s.splice(o,2,...a[+l.text-1]);else throw new be("Not a valid argument number",l)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Ys(e)]):void 0}expandTokens(e){var r=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),r.push(i)}return this.countExpansion(r.length),r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(n=>n.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var i=typeof r=="function"?r(this):r;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var a=i.replace(/##/g,"");a.indexOf("#"+(s+1))!==-1;)++s;for(var o=new qN(i,this.settings),l=[],c=o.lex();c.text!=="EOF";)l.push(c),c=o.lex();l.reverse();var u={tokens:l,numArgs:s};return u}return i}isDefined(e){return this.macros.has(e)||Vc.hasOwnProperty(e)||or.math.hasOwnProperty(e)||or.text.hasOwnProperty(e)||LG.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:Vc.hasOwnProperty(e)&&!Vc[e].primitive}}var XN=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,j2=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),o8={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},YN={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};let NG=class jG{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new b2e(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new be("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new Ys("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(e,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(jG.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||e&&Vc[i.text]&&Vc[i.text].infix)break;var s=this.parseAtom(r);if(s){if(s.type==="internal")continue}else break;n.push(s)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var r=-1,n,i=0;i<e.length;i++)if(e[i].type==="infix"){if(r!==-1)throw new be("only one infix operator per group",e[i].token);r=i,n=e[i].replaceWith}if(r!==-1&&n){var s,a,o=e.slice(0,r),l=e.slice(r+1);o.length===1&&o[0].type==="ordgroup"?s=o[0]:s={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?a=l[0]:a={type:"ordgroup",mode:this.mode,body:l};var c;return n==="\\\\abovefrac"?c=this.callFunction(n,[s,e[r],a],[]):c=this.callFunction(n,[s,a],[]),[c]}else return e}handleSupSubscript(e){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new be("Expected group after '"+n+"'",r);return i}formatUnsupportedCmd(e){for(var r=[],n=0;n<e.length;n++)r.push({type:"textord",mode:"text",text:e[n]});var i={type:"text",mode:this.mode,body:r},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(e){var r=this.parseGroup("atom",e);if(this.mode==="text")return r;for(var n,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(r&&r.type==="op"){var a=s.text==="\\limits";r.limits=a,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=s.text==="\\limits");else throw new be("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(n)throw new be("Double superscript",s);n=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new be("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(n)throw new be("Double superscript",s);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:l}}else if(j2[s.text]){var c=XN.test(s.text),u=[];for(u.push(new Ys(j2[s.text])),this.consume();;){var d=this.fetch().text;if(!j2[d]||XN.test(d)!==c)break;u.unshift(new Ys(j2[d])),this.consume()}var A=this.subparse(u);c?i={type:"ordgroup",mode:"math",body:A}:n={type:"ordgroup",mode:"math",body:A}}else break}return n||i?{type:"supsub",mode:this.mode,base:r,sup:n,sub:i}:r}parseFunction(e,r){var n=this.fetch(),i=n.text,s=Vc[i];if(!s)return null;if(this.consume(),r&&r!=="atom"&&!s.allowedInArgument)throw new be("Got function '"+i+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!s.allowedInText)throw new be("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&s.allowedInMath===!1)throw new be("Can't use function '"+i+"' in math mode",n);var{args:a,optArgs:o}=this.parseArguments(i,s);return this.callFunction(i,a,o,n,e)}callFunction(e,r,n,i,s){var a={funcName:e,parser:this,token:i,breakOnTokenText:s},o=Vc[e];if(o&&o.handler)return o.handler(a,r,n);throw new be("No function handler for "+e)}parseArguments(e,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],s=[],a=0;a<n;a++){var o=r.argTypes&&r.argTypes[a],l=a<r.numOptionalArgs;(r.primitive&&o==null||r.type==="sqrt"&&a===1&&s[0]==null)&&(o="primitive");var c=this.parseGroupOfType("argument to '"+e+"'",o,l);if(l)s.push(c);else if(c!=null)i.push(c);else throw new be("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(e,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",n);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(n)throw new be("A primitive argument cannot be optional");var a=this.parseGroup(e);if(a==null)throw new be("Expected group as "+e,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new be("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(e,r){for(var n=this.fetch(),i=n,s="",a;(a=this.fetch()).text!=="EOF"&&e.test(s+a.text);)i=a,s+=i.text,this.consume();if(s==="")throw new be("Invalid "+r+": '"+n.text+"'",n);return n.range(i,s)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new be("Invalid color: '"+r.text+"'",r);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var r,n=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",e),!r)return null;!e&&r.text.length===0&&(r.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new be("Invalid size: '"+r.text+"'",r);var s={number:+(i[1]+i[2]),unit:i[3]};if(!HW(s))throw new be("Invalid unit: '"+s.unit+"'",r);return{type:"size",mode:this.mode,value:s,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,r){var n=this.gullet.scanArgument(e);if(n==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:n.loc,body:s};return r&&this.switchMode(i),a}parseGroup(e,r){var n=this.fetch(),i=n.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var a=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,a),l=this.fetch();this.expect(a),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:us.range(n,l),body:o,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(r,e)||this.parseSymbol(),s==null&&i[0]==="\\"&&!LG.hasOwnProperty(i)){if(this.settings.throwOnError)throw new be("Undefined control sequence: "+i,n);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(e){for(var r=e.length-1,n=0;n<r;++n){var i=e[n],s=i.text;s==="-"&&e[n+1].text==="-"&&(n+1<r&&e[n+2].text==="-"?(e.splice(n,3,{type:"textord",mode:"text",loc:us.range(i,e[n+2]),text:"---"}),r-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:us.range(i,e[n+1]),text:"--"}),r-=1)),(s==="'"||s==="`")&&e[n+1].text===s&&(e.splice(n,2,{type:"textord",mode:"text",loc:us.range(i,e[n+1]),text:s+s}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new be(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:i}}YN.hasOwnProperty(r[0])&&!or[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=YN[r[0]]+r.slice(1));var s=g2e.exec(r);s&&(r=r.substring(0,s.index),r==="i"?r="ı":r==="j"&&(r="ȷ"));var a;if(or[this.mode][r]){this.settings.strict&&this.mode==="math"&&oB.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var o=or[this.mode][r].group,l=us.range(e),c;if(c1e.hasOwnProperty(o)){var u=o;c={type:"atom",mode:this.mode,family:u,loc:l,text:r}}else c={type:o,mode:this.mode,loc:l,text:r};a=c}else if(r.charCodeAt(0)>=128)this.settings.strict&&(zW(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),e)),a={type:"textord",mode:"text",loc:us.range(e),text:r};else return null;if(this.consume(),s)for(var d=0;d<s[0].length;d++){var A=s[0][d];if(!o8[A])throw new be("Unknown accent ' "+A+"'",e);var f=o8[A][this.mode]||o8[A].text;if(!f)throw new be("Accent "+A+" unsupported in "+this.mode+" mode",e);a={type:"accent",mode:this.mode,loc:us.range(e),label:f,isStretchy:!1,isShifty:!0,base:a}}return a}};NG.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var QE=function(e,r){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new NG(e,r);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new be("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new Ys("\\df@tag")])}]}return i},IG=function(e,r,n){r.textContent="";var i=zE(e,n).toNode();r.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),IG=function(){throw new be("KaTeX doesn't work in quirks mode.")});var w2e=function(e,r){var n=zE(e,r).toMarkup();return n},C2e=function(e,r){var n=new CE(r);return QE(e,n)},OG=function(e,r,n){if(n.throwOnError||!(e instanceof be))throw e;var i=te.makeSpan(["katex-error"],[new ra(r)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+n.errorColor),i},zE=function(e,r){var n=new CE(r);try{var i=QE(e,n);return D1e(i,e,n)}catch(s){return OG(s,e,n)}},B2e=function(e,r){var n=new CE(r);try{var i=QE(e,n);return L1e(i,e,n)}catch(s){return OG(s,e,n)}},S2e="0.16.21",_2e={Span:F1,Anchor:_E,SymbolNode:ra,SvgNode:Il,PathNode:wu,LineNode:aB},JN={version:S2e,render:IG,renderToString:w2e,ParseError:be,SETTINGS_SCHEMA:L4,__parse:C2e,__renderToDomTree:zE,__renderToHTMLTree:B2e,__setFontMetrics:t1e,__defineSymbol:k,__defineFunction:Le,__defineMacro:j,__domTree:_2e};const k2e={};function E2e(t){const e=this,r=t||k2e,n=e.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(_ge(r)),s.push(yge()),a.push(vge(r))}const ZN=/[#.]/g;function M2e(t,e){const r=t||"",n={};let i=0,s,a;for(;i<r.length;){ZN.lastIndex=i;const o=ZN.exec(r),l=r.slice(i,o?o.index:r.length);l&&(s?s==="#"?n.id=l:Array.isArray(n.className)?n.className.push(l):n.className=[l]:a=l,i+=l.length),o&&(s=o[0],i++)}return{type:"element",tagName:a||e||"div",properties:n,children:[]}}function PG(t,e,r){const n=r?L2e(r):void 0;function i(s,a,...o){let l;if(s==null){l={type:"root",children:[]};const c=a;o.unshift(c)}else{l=M2e(s,e);const c=l.tagName.toLowerCase(),u=n?n.get(c):void 0;if(l.tagName=u||c,F2e(a))o.unshift(a);else for(const[d,A]of Object.entries(a))T2e(t,l.properties,d,A)}for(const c of o)AB(l.children,c);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function F2e(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,r=Object.keys(t);for(const n of r){const i=e[n];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const a of s)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function T2e(t,e,r,n){const i=lW(t,r);let s;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;s=n}else typeof n=="boolean"?s=n:typeof n=="string"?i.spaceSeparated?s=FL(n):i.commaSeparated?s=SL(n):i.commaOrSpaceSeparated?s=FL(SL(n).join(" ")):s=ej(i,i.property,n):Array.isArray(n)?s=[...n]:s=i.property==="style"?D2e(n):String(n);if(Array.isArray(s)){const a=[];for(const o of s)a.push(ej(i,i.property,o));s=a}i.property==="className"&&Array.isArray(e.className)&&(s=e.className.concat(s)),e[i.property]=s}}function AB(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const r of e)AB(t,r);else if(typeof e=="object"&&"type"in e)e.type==="root"?AB(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function ej(t,e,r){if(typeof r=="string"){if(t.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((t.boolean||t.overloadedBoolean)&&(r===""||Mg(r)===Mg(e)))return!0}return r}function D2e(t){const e=[];for(const[r,n]of Object.entries(t))e.push([r,n].join(": "));return e.join("; ")}function L2e(t){const e=new Map;for(const r of t)e.set(r.toLowerCase(),r);return e}const N2e=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],j2e=PG(cW,"div"),I2e=PG(Bw,"g",N2e),l8={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function O2e(t,e){return UG(t,{})||{type:"root",children:[]}}function UG(t,e){const r=P2e(t,e);return r&&e.afterTransform&&e.afterTransform(t,r),r}function P2e(t,e){switch(t.nodeType){case 1:return z2e(t,e);case 3:return R2e(t);case 8:return Q2e(t);case 9:return tj(t,e);case 10:return U2e();case 11:return tj(t,e);default:return}}function tj(t,e){return{type:"root",children:RG(t,e)}}function U2e(){return{type:"doctype"}}function R2e(t){return{type:"text",value:t.nodeValue||""}}function Q2e(t){return{type:"comment",value:t.nodeValue||""}}function z2e(t,e){const r=t.namespaceURI,n=r===l8.svg?I2e:j2e,i=r===l8.html?t.tagName.toLowerCase():t.tagName,s=r===l8.html&&i==="template"?t.content:t,a=t.getAttributeNames(),o={};let l=-1;for(;++l<a.length;)o[a[l]]=t.getAttribute(a[l])||"";return n(i,o,RG(s,e))}function RG(t,e){const r=t.childNodes,n=[];let i=-1;for(;++i<r.length;){const s=UG(r[i],e);s!==void 0&&n.push(s)}return n}new DOMParser;function H2e(t,e){const r=$2e(t);return O2e(r)}function $2e(t){const e=document.createElement("template");return e.innerHTML=t,e.content}const rj=function(t,e,r){const n=bE(r);if(!t||!t.type||!t.children)throw new Error("Expected parent node");if(typeof e=="number"){if(e<0||e===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(e=t.children.indexOf(e),e<0)throw new Error("Expected child node or index");for(;++e<t.children.length;)if(n(t.children[e],e,t))return t.children[e]},N0=function(t){if(t==null)return q2e;if(typeof t=="string")return K2e(t);if(typeof t=="object")return V2e(t);if(typeof t=="function")return HE(t);throw new Error("Expected function, string, or array as `test`")};function V2e(t){const e=[];let r=-1;for(;++r<t.length;)e[r]=N0(t[r]);return HE(n);function n(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function K2e(t){return HE(e);function e(r){return r.tagName===t}}function HE(t){return e;function e(r,n,i){return!!(W2e(r)&&t.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function q2e(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="element"&&"tagName"in t&&typeof t.tagName=="string")}function W2e(t){return t!==null&&typeof t=="object"&&"type"in t&&"tagName"in t}const nj=/\n/g,ij=/[\t ]+/g,fB=N0("br"),sj=N0(rye),G2e=N0("p"),aj=N0("tr"),X2e=N0(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",tye,nye]),QG=N0(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function Y2e(t,e){const r=e,n="children"in t?t.children:[],i=QG(t),s=$G(t,{whitespace:r.whitespace||"normal",breakBefore:!1,breakAfter:!1}),a=[];(t.type==="text"||t.type==="comment")&&a.push(...HG(t,{whitespace:s,breakBefore:!0,breakAfter:!0}));let o=-1;for(;++o<n.length;)a.push(...zG(n[o],t,{whitespace:s,breakBefore:o?void 0:i,breakAfter:o<n.length-1?fB(n[o+1]):i}));const l=[];let c;for(o=-1;++o<a.length;){const u=a[o];typeof u=="number"?c!==void 0&&u>c&&(c=u):u&&(c!==void 0&&c>-1&&l.push(`
`.repeat(c)||" "),c=-1,l.push(u))}return l.join("")}function zG(t,e,r){return t.type==="element"?J2e(t,e,r):t.type==="text"?r.whitespace==="normal"?HG(t,r):Z2e(t):[]}function J2e(t,e,r){const n=$G(t,r),i=t.children||[];let s=-1,a=[];if(X2e(t))return a;let o,l;for(fB(t)||aj(t)&&rj(e,t,aj)?l=`
`:G2e(t)?(o=2,l=2):QG(t)&&(o=1,l=1);++s<i.length;)a=a.concat(zG(i[s],t,{whitespace:n,breakBefore:s?void 0:o,breakAfter:s<i.length-1?fB(i[s+1]):l}));return sj(t)&&rj(e,t,sj)&&a.push("	"),o&&a.unshift(o),l&&a.push(l),a}function HG(t,e){const r=String(t.value),n=[],i=[];let s=0;for(;s<=r.length;){nj.lastIndex=s;const l=nj.exec(r),c=l&&"index"in l?l.index:r.length;n.push(eye(r.slice(s,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),s===0?e.breakBefore:!0,c===r.length?e.breakAfter:!0)),s=c+1}let a=-1,o;for(;++a<n.length;)n[a].charCodeAt(n[a].length-1)===8203||a<n.length-1&&n[a+1].charCodeAt(0)===8203?(i.push(n[a]),o=void 0):n[a]?(typeof o=="number"&&i.push(o),i.push(n[a]),o=0):(a===0||a===n.length-1)&&i.push(0);return i}function Z2e(t){return[String(t.value)]}function eye(t,e,r){const n=[];let i=0,s;for(;i<t.length;){ij.lastIndex=i;const a=ij.exec(t);s=a?a.index:t.length,!i&&!s&&a&&!e&&n.push(""),i!==s&&n.push(t.slice(i,s)),i=a?s+a[0].length:s}return i!==s&&!r&&n.push(""),n.join(" ")}function $G(t,e){if(t.type==="element"){const r=t.properties||{};switch(t.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":e.whitespace;case"textarea":return"pre-wrap"}}return e.whitespace}function tye(t){return!!(t.properties||{}).hidden}function rye(t){return t.tagName==="td"||t.tagName==="th"}function nye(t){return t.tagName==="dialog"&&!(t.properties||{}).open}const iye={},sye=[];function aye(t){const e=t||iye;return function(r,n){OW(r,"element",function(i,s){const a=Array.isArray(i.properties.className)?i.properties.className:sye,o=a.includes("language-math"),l=a.includes("math-display"),c=a.includes("math-inline");let u=l;if(!o&&!l&&!c)return;let d=s[s.length-1],A=i;if(i.tagName==="code"&&o&&d&&d.type==="element"&&d.tagName==="pre"&&(A=d,d=s[s.length-2],u=!0),!d)return;const f=Y2e(A,{whitespace:"pre"});let p;try{p=JN.renderToString(f,{...e,displayMode:u,throwOnError:!0})}catch(v){const g=v,y=g.name.toLowerCase();n.message("Could not render math with KaTeX",{ancestors:[...s,i],cause:g,place:i.position,ruleId:y,source:"rehype-katex"});try{p=JN.renderToString(f,{...e,displayMode:u,strict:"ignore",throwOnError:!1})}catch{p=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(e.errorColor||"#cc0000"),title:String(v)},children:[{type:"text",value:f}]}]}}typeof p=="string"&&(p=H2e(p).children);const m=d.children.indexOf(A);return d.children.splice(m,1,...p),IW})}}function oye({chat:t}){const e=vu(r=>r.auth.avatar_url);return _.useState(t.message),h.jsxs("div",{className:`flex gap-3 sm:gap-4 w-full ${t.is_bot?"flex-row":"flex-row-reverse"} items-start mb-[20px]`,children:[t.is_bot?h.jsx("img",{src:mge,alt:"Bot",className:"w-10 h-10 sm:w-12 sm:h-12 lg:w-14 lg:h-14 rounded-full mt-1"}):h.jsx("img",{src:e?`${Ut}/images/${e}`:lE,alt:"User",className:"w-10 h-10 sm:w-12 sm:h-12 lg:w-14 lg:h-14 rounded-full mt-1"}),h.jsx("div",{className:`max-w-[90%] sm:max-w-[70%] lg:max-w-[60%] w-auto ${t.is_bot?"bg-slate-50 shadow-md":"bg-[#E6E6E6] shadow-md ml-4"} p-3 sm:p-4 rounded-lg`,children:t!=null&&t.image_url||t!=null&&t.image?h.jsx("div",{className:"mb-4",children:t.loading?h.jsx("div",{className:"text-gray-600 text-sm",children:"Bot is generating image..."}):h.jsx("img",{src:Ut+"/images/"+t.image_url,className:"object-cover w-[220px] sm:w-[250px] h-[150px] sm:h-[200px] rounded-lg shadow-md mx-auto",alt:t.isError?t.message:"Generated Content"})}):h.jsx("div",{children:h.jsx(dge,{children:t.loading?t!=null&&t.is_bot?"Bot is typing...":"...":t.isError?`<span style="color:red;">${t.message}</span>`:t.message,remarkPlugins:[E2e],rehypePlugins:[aye]})})})]})}const lye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAT8SURBVHgB1ZRJjBRlFMf/tVdv1dXDbMDs4DAsOsAMDBoG9KAmxBiNZkKCJsQlHjwZz0aiid70YjKYYOIBJeEIB4wHE1EJjoQ4MBvDLD1LzzDTS1VXdXVX1+qbNkYFVLyY+F2689X3/d77v//7HvB/Xcw/HQhHR2OVhcrDvlHaz0djrs+hHHK47gaelbJXM8zQkP/A8PDaNcG+ZR71rMqgpCaedz2/RWxQUwHDIGRZlBdXkejYgrDiwHfc2dDzhiOCNMw821/+W7jzzY2+IKt9FDjeEUYQwNbFUdENxLs74OaKWB2fQsvTg+C8AMXpOSgtW8HwHKqF4g1SdCLxRO/YfeGl85dP5mbmP27Y+ZAqtzbCNcooLGbQfHg/wHEIDQshx4BV4giXs2DUeG0fjksUwpiVK/aadjz63MGlP8GLpy8e42PRLwKBVUVVQWBaYAjCEYBzqaTJGEK9RL8ENMtgIxLCENBHxiBGIpA7t9CeCC+nzwpK/AhzuGelBs98eiEaKdtpSU02yHUK/HIVXH0K8H0wsQhCgjEE9Sggl4jB1wzwm5KkhEock8BEZQR5A6zIIyQFfqk8rbfJfY179pR4r2jsC1i+gQ0CwKrCMUzE6pIIXBd+wQXrB3SpBM8qg8wD45GSUuVXyVUXnm7WjPYdBwypoeDd0fXCY/T1a1ZfyT4eksbV9CJcyoq6hILYCOhiaT1LmVgAqWFtB9rMPELa9wnoFYqwbqXhr2uAZhLUhHZjCgLDgXP8k7WyfPfGe1e7WtsHZInqSNnrhQJau7vBCCzMvIaSrqO+rRWM62FmYgI6Kdu8uQk2BZRjUWzr2AbXcyCQV6D7pTtZSNGorVn5dn56eiYpgkUiEYcoSjCLBuYmJ2v/C7ksrt8cRXdHFxJKEk3tbejp7wdPrcjwPNXAg191kL59G+2dXRB4oXZHVVOyb7vdvBQRiqNTE1CjcUiiAIHjMXZ5EgN9B7B9905sam2pAbp27ABDmYWOh9mpKUQkGaIso6hpsKh0i3NzqNtUT76Qer3o69XyPL+Qybzb1bjlkmEYDC0s3slgYG8fDh44UGs3ISWSXGrXzCq0Qh4uGb1xrkpZj1z5Hq0tLdi1dy+W0gtkjY2KXYEXwuwdt9Zqpp9+dGjY8/2X80U9FqVsjg4cgiRFUDINiIKIKl1SVRWxOLUkdQz8EBy9TJ98qNo2ItEoWHpQllXaGAkwSubNwS8/fITbgPcvj1+y6xouSIxkqkpihxpXorZThaKQSQwLQRQpIxtLy8soGgbSC2k49A6q1WpNCcFAyRHcQrlSQSUMPjg79sOP9wyu4cPHX4lzwmfNTc1gKTvdKNYCeBt9jxCzK2nMZ5ehRGKoj6hoVOrgUuC29k4ylMPSSmYs+dQLfUOnhhz+bnjA++fnllcPreWyr8myzJCFyFsGlswcCr6J+pSCQ/v3oaeli56DhZn0DObWM5i8vmgpUvxM/daOT14n8D1T8Y/rrebeg67jtmuJ0Mtx3vt5TevqVJJSd9NW9sneQWxSUrX+tisWqctRSYxzL148d4KA4W8M7q/gV0trmZFKduJmMTd17KUTZ81C/nMlCLJxKXKkUUnSmAyoviYch15w4GYgsa/2jP2cw/1G7oOsUwA7v33XM02K+jYF2C2xHEuNPcIGeOfNb7/66e7z/wr+e5BT7Mrmi7KfEuUz41c06vsQ//X6BRjshsl53wYeAAAAAElFTkSuQmCC";function oj(t){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204 240H68a36 36 0 0 1-36-36V68a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36zm240 0H308a36 36 0 0 1-36-36V68a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36zM204 480H68a36 36 0 0 1-36-36V308a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36zm240 0H308a36 36 0 0 1-36-36V308a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36z"},child:[]}]})(t)}function cye(t){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.64 64.58C313.18 43.57 286 32 256 32c-30.16 0-57.43 11.5-76.8 32.38-19.58 21.11-29.12 49.8-26.88 80.78C156.76 206.28 203.27 256 256 256s99.16-49.71 103.67-110.82c2.27-30.7-7.33-59.33-27.03-80.6zM432 480H80a31 31 0 0 1-24.2-11.13c-6.5-7.77-9.12-18.38-7.18-29.11C57.06 392.94 83.4 353.61 124.8 326c36.78-24.51 83.37-38 131.2-38s94.42 13.5 131.2 38c41.4 27.6 67.74 66.93 76.18 113.75 1.94 10.73-.68 21.34-7.18 29.11A31 31 0 0 1 432 480z"},child:[]}]})(t)}function uye(t){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(t)}function dye(t){return it({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13.5 2C13.5 2.44425 13.3069 2.84339 13 3.11805V5H18C19.6569 5 21 6.34315 21 8V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V8C3 6.34315 4.34315 5 6 5H11V3.11805C10.6931 2.84339 10.5 2.44425 10.5 2C10.5 1.17157 11.1716 0.5 12 0.5C12.8284 0.5 13.5 1.17157 13.5 2ZM0 10H2V16H0V10ZM24 10H22V16H24V10ZM9 14.5C9.82843 14.5 10.5 13.8284 10.5 13C10.5 12.1716 9.82843 11.5 9 11.5C8.17157 11.5 7.5 12.1716 7.5 13C7.5 13.8284 8.17157 14.5 9 14.5ZM16.5 13C16.5 12.1716 15.8284 11.5 15 11.5C14.1716 11.5 13.5 12.1716 13.5 13C13.5 13.8284 14.1716 14.5 15 14.5C15.8284 14.5 16.5 13.8284 16.5 13Z"},child:[]}]})(t)}const hye=({speak:t})=>(_.useEffect(()=>{console.log("speakin",t)},[]),h.jsx("div",{id:"visuals",children:t?h.jsxs("div",{className:"visual ripple",children:[h.jsx(dye,{}),h.jsx("div",{className:"ripple-effect"})]}):h.jsx("div",{className:"",children:h.jsx(Ihe,{})})})),j4=Xi({reducerPath:"chat",baseQuery:Yi,endpoints:t=>({getChatHistory:t.mutation({query:e=>({url:"/chat/fetch-chat-history",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getChats:t.mutation({query:e=>({url:"/chat/fetch-chat",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),createMessage:t.mutation({query:e=>({url:"/chat/create-message",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}})})}),{useGetChatHistoryMutation:Aye,useGetChatsMutation:fye,useCreateMessageMutation:VG}=j4,I4=Xi({reducerPath:"bot",baseQuery:Yi,endpoints:t=>({createBot:t.mutation({query:e=>({url:"/bot/create-bot",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1,file:!0}}),updateBot:t.mutation({query:e=>({url:"/bot/update-bot",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getBotBySubject:t.mutation({query:e=>({url:"/bot/get-bot-by-subject",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getBot:t.mutation({query:e=>({url:"/bot/get-bot",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),deleteBot:t.mutation({query:e=>({url:"/bot/delete-bot",method:"DELETE",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getJoinBotContext:t.mutation({query:e=>({url:"/bot/get-join-bot-context",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),deletejoinBotAndFile:t.mutation({query:e=>({url:"/bot/delete-join-bot-context",method:"DELETE",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),createjoinBotAndFile:t.mutation({query:e=>({url:"/bot/create-join-bot-context",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),updatejoinBotAndFile:t.mutation({query:e=>({url:"/bot/update-join-bot-context",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),generateImage:t.mutation({query:e=>({url:"/bot/generate-image",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),queryBot:t.mutation({query:e=>({url:"/bot/query-bot",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getAllBotsByTeacher:t.query({query:({page:e=1,limit:r=10})=>({url:"/bot/get-all-bots-by-teacher",method:"GET",params:{page:e,limit:r}}),meta:{skipToken:!1,skipHeaders:!1}}),getAllBots:t.query({query:({page:e=1,limit:r=10})=>({url:"/bot/get-all-bots",method:"GET",params:{page:e,limit:r}}),meta:{skipToken:!1,skipHeaders:!1}}),getAllBotsBySchool:t.query({query:({page:e=1,limit:r=10})=>({url:"/bot/get-all-bot-by-school",method:"GET",params:{page:e,limit:r}}),meta:{skipToken:!1,skipHeaders:!1}}),getAllBotsByLevel:t.query({query:()=>({url:"/bot/get-bots-by-level",method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}})})}),{useCreateBotMutation:SHe,useGetBotBySubjectMutation:_He,useDeletejoinBotAndFileMutation:pye,useCreatejoinBotAndFileMutation:mye,useGetJoinBotContextMutation:gye,useUpdatejoinBotAndFileMutation:kHe,useUpdateBotMutation:yye,useGetBotMutation:KG,useGetAllBotsByTeacherQuery:vye,useDeleteBotMutation:qG,useGenerateImageMutation:WG,useQueryBotMutation:GG,useGetAllBotsQuery:XG,useGetAllBotsBySchoolQuery:xye,useGetAllBotsByLevelQuery:bye}=I4;function wye(t){return it({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14 17H4v2h10v-2zm6-8H4v2h16V9zM4 15h16v-2H4v2zM4 5v2h16V5H4z"},child:[]}]})(t)}function Cye(t){return it({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"},child:[]}]})(t)}function Bye(t){return it({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17.59 18 19 16.59 14.42 12 19 7.41 17.59 6l-6 6z"},child:[]},{tag:"path",attr:{d:"m11 18 1.41-1.41L7.83 12l4.58-4.59L11 6l-6 6z"},child:[]}]})(t)}function Sye(t){return it({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.41 6 5 7.41 9.58 12 5 16.59 6.41 18l6-6z"},child:[]},{tag:"path",attr:{d:"m13 6-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"},child:[]}]})(t)}function _ye(t){return it({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z",opacity:".87"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"},child:[]}]})(t)}function kye({handleSubmit:t,setInputValue:e,inputValue:r,loading:n,setLoading:i,setChats:s,deepgram:a,isErrorDeepGramAPI:o,isLoadingDeepGramAPI:l,bot:c,voiceModelData:u,setNewMessageCreated:d,errorVoiceModel:A,loadingVoiceModel:f}){const[p,m]=_.useState(!1),[v,g]=_.useState(!1),[y,x]=_.useState(!1),[b,w]=_.useState(),{bot_id:C}=Ar(),[B,S]=_.useState(!1),[E,M]=_.useState(null),[T,L]=_.useState(!1),[I,R]=_.useState(),[z]=VG(),[W]=WG(),[K]=GG(),U=_.useRef(null),q=_.useRef([]),N=async fe=>{var $e;if(!fe){Z.error("Input can't be empty");return}i(!0);const J=Math.random()*100,ie=Math.random()*100,Ue=Math.random()*100;try{s(Ze=>[...Ze,{id:J,is_bot:!1,image:!1,image_url:"",message:fe,loading:!0}]),d(!0);const Bt=await z({bot_id:+`${C}`,message:fe,image_url:""}).unwrap();if((Bt==null?void 0:Bt.statusCode)==200){s(et=>et.map(He=>He.id===J?{...He,loading:!1}:He)),e(""),s(et=>[...et,{id:ie,is_bot:!0,image:!1,image_url:"",message:"",loading:!0}]),d(!0);const Ze=await K({bot_id:+`${C}`,query:fe}).unwrap();if((Ze==null?void 0:Ze.statusCode)==200&&(s(et=>et.map(He=>{var $;return He.id===ie?{...He,message:($=Ze==null?void 0:Ze.data)==null?void 0:$.message,loading:!1}:He})),g(!0),S(!0),await Ce(($e=Ze==null?void 0:Ze.data)==null?void 0:$e.message),Ze!=null&&Ze.do_generate_image)){s(He=>[...He,{id:Ue,is_bot:!0,image:!0,image_url:"",message:"",loading:!0}]),d(!0);const et=await W({answer:Ze==null?void 0:Ze.data.message,chat_id:Ze==null?void 0:Ze.data.id,bot_id:Number(C)}).unwrap();(et==null?void 0:et.statusCode)==200&&s(He=>He.map($=>{var ee;return $.id===Ue?{...$,image_url:(ee=et==null?void 0:et.data)==null?void 0:ee.image_url,message:"",loading:!1}:$}))}}x(!1)}catch(Bt){console.log(Bt)}},ne=async()=>{if(x(!0),!navigator.mediaDevices||!window.MediaRecorder){Z.error("Your browser does not support audio recording.");return}const fe=await navigator.mediaDevices.getUserMedia({audio:!0}),J=new MediaRecorder(fe);let ie=[];J.ondataavailable=Ue=>{ie.push(Ue.data)},J.onstop=async()=>{const Ue=new Blob(ie,{type:"audio/wav"}),$e=new File([Ue],"recording.wav");try{const Bt=await me($e).then(async Ze=>{e(Ze??null),w(Ze??null),await N(Ze??null)})}catch(Bt){console.error("Error during voice-to-text:",Bt)}},J.start(),m(!0),U.current=J,q.current=ie,x(!1)},re=()=>{U.current&&(U.current.stop(),m(!1))},O=()=>{p?re():ne()},me=async fe=>(await kt.post("https://api.deepgram.com/v1/listen",fe,{headers:{Authorization:`Token ${a}`,"Content-Type":"audio/wav"}})).data.results.channels[0].alternatives[0].transcript??null,Ce=async fe=>{const J=await kt.post(`https://api.deepgram.com/v1/speak?model=${u.data.canonical_name}`,{text:fe},{headers:{Authorization:`Token ${a}`},responseType:"arraybuffer"}),ie=new Blob([J.data],{type:"audio/wav"}),Ue=URL.createObjectURL(ie),$e=new Audio(Ue);M($e),$e.play().then(()=>{g(!0)}),$e.addEventListener("ended",()=>{g(!1),S(!1),i(!1)}),$e.addEventListener("pause",()=>{g(!1)})},oe=()=>{E&&(E.paused?(E.play(),g(!0),S(!0),R(!1)):(E.pause(),g(!1),L(!1),R(!0)))},ye=()=>{E&&(E.pause(),g(!1),S(!1),L(!0),e(""),i(!1))},ze=fe=>{fe.key==="Enter"&&t(fe)};return h.jsx("div",{className:"bg-white p-3 rounded-2xl w-full border border-slate-200 shadow-md",children:h.jsxs("div",{className:"flex items-center gap-3 w-full",children:[h.jsx("img",{src:lye,alt:"Brain Icon",className:"w-8 h-8 hidden lg:block"}),h.jsx("input",{disabled:B||n,type:"text",value:r,onKeyDown:ze,onChange:fe=>e(fe.target.value),placeholder:"What's on your mind?",className:`flex-1 ${B?"w-[50%]":" w-[70%] lg:w-auto"} outline-none text-gray-700 placeholder-gray-400 font-medium text-sm border border-white rounded-full px-4 py-3`}),h.jsx("button",{type:"submit",onClick:t,className:"p-3 rounded-full bg-bg-gradient text-white hover:bg-hover-gradient transition-colors duration-300",disabled:B||n,children:n?"...":h.jsx(uye,{})}),h.jsx("button",{disabled:y||B||n||l||o||f||A,onClick:O,className:`p-0 w-[43px] h-[43px] flex items-center justify-center rounded-full transition-colors duration-300 ${l||o||f||A?"bg-gray-500":`${p?"bg-red-500 text-white":"bg-bg-gradient text-white hover:bg-hover-gradient"}`}  `,children:h.jsx(hye,{speak:v})}),B&&!T&&h.jsx("button",{onClick:oe,className:"p-3 rounded-full bg-bg-gradient text-white hover:bg-hover-gradient transition-colors duration-300",children:I?h.jsx(Zq,{}):h.jsx(Jq,{})}),B&&h.jsx("button",{onClick:ye,className:"p-3 rounded-full bg-red-500 text-white hover:bg-red-600 transition-colors duration-300",children:h.jsx(_ye,{})})]})})}function Eye(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function Nw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const pB=t=>Array.isArray(t);function YG(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Lg(t){return typeof t=="string"||Array.isArray(t)}function lj(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function $E(t,e,r,n){if(typeof e=="function"){const[i,s]=lj(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=lj(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function jw(t,e,r){const n=t.getProps();return $E(n,e,r!==void 0?r:n.custom,t)}const VE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],KE=["initial",...VE],D1=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],j0=new Set(D1),Bl=t=>t*1e3,Sl=t=>t/1e3,Mye={type:"spring",stiffness:500,damping:25,restSpeed:10},Fye=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Tye={type:"keyframes",duration:.8},Dye={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Lye=(t,{keyframes:e})=>e.length>2?Tye:j0.has(t)?t.startsWith("scale")?Fye(e[1]):Mye:Dye;function qE(t,e){return t?t[e]||t.default||t:void 0}const Nye={skipAnimations:!1,useManualTiming:!1},jye=t=>t!==null;function Iw(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(jye),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const ys=t=>t;let mB=ys;function Iye(t){let e=new Set,r=new Set,n=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(c){s.has(c)&&(l.schedule(c),t()),c(a)}const l={schedule:(c,u=!1,d=!1)=>{const f=d&&n?e:r;return u&&s.add(c),f.has(c)||f.add(c),c},cancel:c=>{r.delete(c),s.delete(c)},process:c=>{if(a=c,n){i=!0;return}n=!0,[e,r]=[r,e],e.forEach(o),e.clear(),n=!1,i&&(i=!1,l.process(c))}};return l}const I2=["read","resolveKeyframes","update","preRender","render","postRender"],Oye=40;function JG(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=I2.reduce((g,y)=>(g[y]=Iye(s),g),{}),{read:o,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:A}=a,f=()=>{const g=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(g-i.timestamp,Oye),1),i.timestamp=g,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),d.process(i),A.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(f))},p=()=>{r=!0,n=!0,i.isProcessing||t(f)};return{schedule:I2.reduce((g,y)=>{const x=a[y];return g[y]=(b,w=!1,C=!1)=>(r||p(),x.schedule(b,w,C)),g},{}),cancel:g=>{for(let y=0;y<I2.length;y++)a[I2[y]].cancel(g)},state:i,steps:a}}const{schedule:dr,cancel:Bu,state:Mn,steps:c8}=JG(typeof requestAnimationFrame<"u"?requestAnimationFrame:ys,!0),ZG=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Pye=1e-7,Uye=12;function Rye(t,e,r,n,i){let s,a,o=0;do a=e+(r-e)/2,s=ZG(a,n,i)-t,s>0?r=a:e=a;while(Math.abs(s)>Pye&&++o<Uye);return a}function L1(t,e,r,n){if(t===e&&r===n)return ys;const i=s=>Rye(s,0,1,t,r);return s=>s===0||s===1?s:ZG(i(s),e,n)}const eX=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,tX=t=>e=>1-t(1-e),rX=L1(.33,1.53,.69,.99),WE=tX(rX),nX=eX(WE),iX=t=>(t*=2)<1?.5*WE(t):.5*(2-Math.pow(2,-10*(t-1))),GE=t=>1-Math.sin(Math.acos(t)),sX=tX(GE),aX=eX(GE),oX=t=>/^0[^.\s]+$/u.test(t);function Qye(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||oX(t):!0}const lX=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),cX=t=>e=>typeof e=="string"&&e.startsWith(t),uX=cX("--"),zye=cX("var(--"),XE=t=>zye(t)?Hye.test(t.split("/*")[0].trim()):!1,Hye=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$ye=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Vye(t){const e=$ye.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function dX(t,e,r=1){const[n,i]=Vye(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const a=s.trim();return lX(a)?parseFloat(a):a}return XE(i)?dX(i,e,r+1):i}const Ul=(t,e,r)=>r>e?e:r<t?t:r,vf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ng={...vf,transform:t=>Ul(0,1,t)},O2={...vf,default:1},N1=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Sc=N1("deg"),Bo=N1("%"),tt=N1("px"),Kye=N1("vh"),qye=N1("vw"),cj={...Bo,parse:t=>Bo.parse(t)/100,transform:t=>Bo.transform(t*100)},Wye=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),uj=t=>t===vf||t===tt,dj=(t,e)=>parseFloat(t.split(", ")[e]),hj=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return dj(i[1],e);{const s=n.match(/^matrix\((.+)\)$/u);return s?dj(s[1],t):0}},Gye=new Set(["x","y","z"]),Xye=D1.filter(t=>!Gye.has(t));function Yye(t){const e=[];return Xye.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const VA={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:hj(4,13),y:hj(5,14)};VA.translateX=VA.x;VA.translateY=VA.y;const hX=t=>e=>e.test(t),Jye={test:t=>t==="auto",parse:t=>t},AX=[vf,tt,Bo,Sc,qye,Kye,Jye],Aj=t=>AX.find(hX(t)),e0=new Set;let gB=!1,yB=!1;function fX(){if(yB){const t=Array.from(e0).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=Yye(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{var o;(o=n.getValue(s))===null||o===void 0||o.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}yB=!1,gB=!1,e0.forEach(t=>t.complete()),e0.clear()}function pX(){e0.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(yB=!0)})}function Zye(){pX(),fX()}class YE{constructor(e,r,n,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(e0.add(this),gB||(gB=!0,dr.read(pX),dr.resolveKeyframes(fX))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&r){const l=n.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),e0.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,e0.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const _m=t=>Math.round(t*1e5)/1e5,JE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eve(t){return t==null}const tve=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ZE=(t,e)=>r=>!!(typeof r=="string"&&tve.test(r)&&r.startsWith(t)||e&&!eve(r)&&Object.prototype.hasOwnProperty.call(r,e)),mX=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,o]=n.match(JE);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},rve=t=>Ul(0,255,t),u8={...vf,transform:t=>Math.round(rve(t))},Hd={test:ZE("rgb","red"),parse:mX("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+u8.transform(t)+", "+u8.transform(e)+", "+u8.transform(r)+", "+_m(Ng.transform(n))+")"};function nve(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const vB={test:ZE("#"),parse:nve,transform:Hd.transform},$h={test:ZE("hsl","hue"),parse:mX("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Bo.transform(_m(e))+", "+Bo.transform(_m(r))+", "+_m(Ng.transform(n))+")"},Wn={test:t=>Hd.test(t)||vB.test(t)||$h.test(t),parse:t=>Hd.test(t)?Hd.parse(t):$h.test(t)?$h.parse(t):vB.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Hd.transform(t):$h.transform(t)},ive=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sve(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(JE))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(ive))===null||r===void 0?void 0:r.length)||0)>0}const gX="number",yX="color",ave="var",ove="var(",fj="${}",lve=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jg(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(lve,l=>(Wn.test(l)?(n.color.push(s),i.push(yX),r.push(Wn.parse(l))):l.startsWith(ove)?(n.var.push(s),i.push(ave),r.push(l)):(n.number.push(s),i.push(gX),r.push(parseFloat(l))),++s,fj)).split(fj);return{values:r,split:o,indexes:n,types:i}}function vX(t){return jg(t).values}function xX(t){const{split:e,types:r}=jg(t),n=e.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=e[a],i[a]!==void 0){const o=r[a];o===gX?s+=_m(i[a]):o===yX?s+=Wn.transform(i[a]):s+=i[a]}return s}}const cve=t=>typeof t=="number"?0:t;function uve(t){const e=vX(t);return xX(t)(e.map(cve))}const Su={test:sve,parse:vX,createTransformer:xX,getAnimatableNone:uve},dve=new Set(["brightness","contrast","saturate","opacity"]);function hve(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(JE)||[];if(!n)return t;const i=r.replace(n,"");let s=dve.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const Ave=/\b([a-z-]*)\(.*?\)/gu,xB={...Su,getAnimatableNone:t=>{const e=t.match(Ave);return e?e.map(hve).join(" "):t}},fve={borderWidth:tt,borderTopWidth:tt,borderRightWidth:tt,borderBottomWidth:tt,borderLeftWidth:tt,borderRadius:tt,radius:tt,borderTopLeftRadius:tt,borderTopRightRadius:tt,borderBottomRightRadius:tt,borderBottomLeftRadius:tt,width:tt,maxWidth:tt,height:tt,maxHeight:tt,top:tt,right:tt,bottom:tt,left:tt,padding:tt,paddingTop:tt,paddingRight:tt,paddingBottom:tt,paddingLeft:tt,margin:tt,marginTop:tt,marginRight:tt,marginBottom:tt,marginLeft:tt,backgroundPositionX:tt,backgroundPositionY:tt},pve={rotate:Sc,rotateX:Sc,rotateY:Sc,rotateZ:Sc,scale:O2,scaleX:O2,scaleY:O2,scaleZ:O2,skew:Sc,skewX:Sc,skewY:Sc,distance:tt,translateX:tt,translateY:tt,translateZ:tt,x:tt,y:tt,z:tt,perspective:tt,transformPerspective:tt,opacity:Ng,originX:cj,originY:cj,originZ:tt},pj={...vf,transform:Math.round},eM={...fve,...pve,zIndex:pj,size:tt,fillOpacity:Ng,strokeOpacity:Ng,numOctaves:pj},mve={...eM,color:Wn,backgroundColor:Wn,outlineColor:Wn,fill:Wn,stroke:Wn,borderColor:Wn,borderTopColor:Wn,borderRightColor:Wn,borderBottomColor:Wn,borderLeftColor:Wn,filter:xB,WebkitFilter:xB},tM=t=>mve[t];function bX(t,e){let r=tM(t);return r!==xB&&(r=Su),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const gve=new Set(["auto","none","0"]);function yve(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!gve.has(s)&&jg(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=bX(r,i)}class wX extends YE{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),XE(c))){const u=dX(c,r.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Wye.has(n)||e.length!==2)return;const[i,s]=e,a=Aj(i),o=Aj(s);if(a!==o)if(uj(a)&&uj(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)Qye(e[i])&&n.push(i);n.length&&yve(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=VA[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const s=r.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=VA[n](r.measureViewportBox(),window.getComputedStyle(r.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{r.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function rM(t){return typeof t=="function"}let O4;function vve(){O4=void 0}const So={now:()=>(O4===void 0&&So.set(Mn.isProcessing||Nye.useManualTiming?Mn.timestamp:performance.now()),O4),set:t=>{O4=t,queueMicrotask(vve)}},mj=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Su.test(t)||t==="0")&&!t.startsWith("url("));function xve(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function bve(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=mj(i,e),o=mj(s,e);return!a||!o?!1:xve(t)||(r==="spring"||rM(r))&&n}const wve=40;class CX{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=So.now(),this.options={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>wve?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Zye(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=So.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:s,delay:a,onComplete:o,onUpdate:l,isGenerator:c}=this.options;if(!c&&!bve(e,n,i,s))if(a)this.options.duration=0;else{l==null||l(Iw(e,this.options,r)),o==null||o(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,r);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...u},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const KA=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},BX=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=t(KA(0,i-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function SX(t,e){return e?t*(1e3/e):0}const Cve=5;function _X(t,e,r){const n=Math.max(e-Cve,0);return SX(r-t(n),e-n)}const Tr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},d8=.001;function Bve({duration:t=Tr.duration,bounce:e=Tr.bounce,velocity:r=Tr.velocity,mass:n=Tr.mass}){let i,s,a=1-e;a=Ul(Tr.minDamping,Tr.maxDamping,a),t=Ul(Tr.minDuration,Tr.maxDuration,Sl(t)),a<1?(i=c=>{const u=c*a,d=u*t,A=u-r,f=bB(c,a),p=Math.exp(-d);return d8-A/f*p},s=c=>{const d=c*a*t,A=d*r+r,f=Math.pow(a,2)*Math.pow(c,2)*t,p=Math.exp(-d),m=bB(Math.pow(c,2),a);return(-i(c)+d8>0?-1:1)*((A-f)*p)/m}):(i=c=>{const u=Math.exp(-c*t),d=(c-r)*t+1;return-d8+u*d},s=c=>{const u=Math.exp(-c*t),d=(r-c)*(t*t);return u*d});const o=5/t,l=_ve(i,s,o);if(t=Bl(t),isNaN(l))return{stiffness:Tr.stiffness,damping:Tr.damping,duration:t};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:a*2*Math.sqrt(n*c),duration:t}}}const Sve=12;function _ve(t,e,r){let n=r;for(let i=1;i<Sve;i++)n=n-t(n)/e(n);return n}function bB(t,e){return t*Math.sqrt(1-e*e)}const wB=2e4;function kX(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<wB;)e+=r,n=t.next(e);return e>=wB?1/0:e}const kve=["duration","bounce"],Eve=["stiffness","damping","mass"];function gj(t,e){return e.some(r=>t[r]!==void 0)}function Mve(t){let e={velocity:Tr.velocity,stiffness:Tr.stiffness,damping:Tr.damping,mass:Tr.mass,isResolvedFromDuration:!1,...t};if(!gj(t,Eve)&&gj(t,kve))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Ul(.05,1,1-t.bounce)*Math.sqrt(i);e={...e,mass:Tr.mass,stiffness:i,damping:s}}else{const r=Bve(t);e={...e,...r,mass:Tr.mass},e.isResolvedFromDuration=!0}return e}function EX(t=Tr.visualDuration,e=Tr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:A,isResolvedFromDuration:f}=Mve({...r,velocity:-Sl(r.velocity||0)}),p=A||0,m=c/(2*Math.sqrt(l*u)),v=a-s,g=Sl(Math.sqrt(l/u)),y=Math.abs(v)<5;n||(n=y?Tr.restSpeed.granular:Tr.restSpeed.default),i||(i=y?Tr.restDelta.granular:Tr.restDelta.default);let x;if(m<1){const w=bB(g,m);x=C=>{const B=Math.exp(-m*g*C);return a-B*((p+m*g*v)/w*Math.sin(w*C)+v*Math.cos(w*C))}}else if(m===1)x=w=>a-Math.exp(-g*w)*(v+(p+g*v)*w);else{const w=g*Math.sqrt(m*m-1);x=C=>{const B=Math.exp(-m*g*C),S=Math.min(w*C,300);return a-B*((p+m*g*v)*Math.sinh(S)+w*v*Math.cosh(S))/w}}const b={calculatedDuration:f&&d||null,next:w=>{const C=x(w);if(f)o.done=w>=d;else{let B=0;m<1&&(B=w===0?Bl(p):_X(x,w,C));const S=Math.abs(B)<=n,E=Math.abs(a-C)<=i;o.done=S&&E}return o.value=o.done?a:C,o},toString:()=>{const w=Math.min(kX(b),wB),C=BX(B=>b.next(w*B).value,w,30);return w+"ms "+C}};return b}function yj({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],A={done:!1,value:d},f=S=>o!==void 0&&S<o||l!==void 0&&S>l,p=S=>o===void 0?l:l===void 0||Math.abs(o-S)<Math.abs(l-S)?o:l;let m=r*e;const v=d+m,g=a===void 0?v:a(v);g!==v&&(m=g-d);const y=S=>-m*Math.exp(-S/n),x=S=>g+y(S),b=S=>{const E=y(S),M=x(S);A.done=Math.abs(E)<=c,A.value=A.done?g:M};let w,C;const B=S=>{f(A.value)&&(w=S,C=EX({keyframes:[A.value,p(A.value)],velocity:_X(x,S,A.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return B(0),{calculatedDuration:null,next:S=>{let E=!1;return!C&&w===void 0&&(E=!0,b(S),B(S)),w!==void 0&&S>=w?C.next(S-w):(!E&&b(S),A)}}}const Fve=L1(.42,0,1,1),Tve=L1(0,0,.58,1),MX=L1(.42,0,.58,1),Dve=t=>Array.isArray(t)&&typeof t[0]!="number",nM=t=>Array.isArray(t)&&typeof t[0]=="number",vj={linear:ys,easeIn:Fve,easeInOut:MX,easeOut:Tve,circIn:GE,circInOut:aX,circOut:sX,backIn:WE,backInOut:nX,backOut:rX,anticipate:iX},xj=t=>{if(nM(t)){mB(t.length===4);const[e,r,n,i]=t;return L1(e,r,n,i)}else if(typeof t=="string")return mB(vj[t]!==void 0),vj[t];return t},Lve=(t,e)=>r=>e(t(r)),j1=(...t)=>t.reduce(Lve),Sr=(t,e,r)=>t+(e-t)*r;function h8(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Nve({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,a=0;if(!e)i=s=a=r;else{const o=r<.5?r*(1+e):r+e-r*e,l=2*r-o;i=h8(l,o,t+1/3),s=h8(l,o,t),a=h8(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function Mb(t,e){return r=>r>0?e:t}const A8=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},jve=[vB,Hd,$h],Ive=t=>jve.find(e=>e.test(t));function bj(t){const e=Ive(t);if(!e)return!1;let r=e.parse(t);return e===$h&&(r=Nve(r)),r}const wj=(t,e)=>{const r=bj(t),n=bj(e);if(!r||!n)return Mb(t,e);const i={...r};return s=>(i.red=A8(r.red,n.red,s),i.green=A8(r.green,n.green,s),i.blue=A8(r.blue,n.blue,s),i.alpha=Sr(r.alpha,n.alpha,s),Hd.transform(i))},CB=new Set(["none","hidden"]);function Ove(t,e){return CB.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Pve(t,e){return r=>Sr(t,e,r)}function iM(t){return typeof t=="number"?Pve:typeof t=="string"?XE(t)?Mb:Wn.test(t)?wj:Qve:Array.isArray(t)?FX:typeof t=="object"?Wn.test(t)?wj:Uve:Mb}function FX(t,e){const r=[...t],n=r.length,i=t.map((s,a)=>iM(s)(s,e[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function Uve(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=iM(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function Rve(t,e){var r;const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][i[a]],l=(r=t.values[o])!==null&&r!==void 0?r:0;n[s]=l,i[a]++}return n}const Qve=(t,e)=>{const r=Su.createTransformer(e),n=jg(t),i=jg(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?CB.has(t)&&!i.values.length||CB.has(e)&&!n.values.length?Ove(t,e):j1(FX(Rve(n,i),i.values),r):Mb(t,e)};function TX(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Sr(t,e,r):iM(t)(t,e)}function zve(t,e,r){const n=[],i=r||TX,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||ys:e;o=j1(l,o)}n.push(o)}return n}function Hve(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(mB(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=zve(e,n,i),o=a.length,l=c=>{let u=0;if(o>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=KA(t[u],t[u+1],c);return a[u](d)};return r?c=>l(Ul(t[0],t[s-1],c)):l}function $ve(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=KA(0,e,n);t.push(Sr(r,1,i))}}function Vve(t){const e=[0];return $ve(e,t.length-1),e}function Kve(t,e){return t.map(r=>r*e)}function qve(t,e){return t.map(()=>e||MX).splice(0,t.length-1)}function Fb({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=Dve(n)?n.map(xj):xj(n),s={done:!1,value:e[0]},a=Kve(r&&r.length===e.length?r:Vve(e),t),o=Hve(a,e,{ease:Array.isArray(i)?i:qve(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const Wve=t=>{const e=({timestamp:r})=>t(r);return{start:()=>dr.update(e,!0),stop:()=>Bu(e),now:()=>Mn.isProcessing?Mn.timestamp:So.now()}},Gve={decay:yj,inertia:yj,tween:Fb,keyframes:Fb,spring:EX},Xve=t=>t/100;class sM extends CX{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:r,motionValue:n,element:i,keyframes:s}=this.options,a=(i==null?void 0:i.KeyframeResolver)||YE,o=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new a(s,o,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,o=rM(r)?r:Gve[r]||Fb;let l,c;o!==Fb&&typeof e[0]!="number"&&(l=j1(Xve,TX(e[0],e[1])),e=[0,100]);const u=o({...this.options,keyframes:e});s==="mirror"&&(c=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=kX(u));const{calculatedDuration:d}=u,A=d+i,f=A*(n+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:A,totalDuration:f}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:n}=this;if(!n){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=n;if(this.startTime===null)return s.next(0);const{delay:A,repeat:f,repeatType:p,repeatDelay:m,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-A*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>u;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let x=this.currentTime,b=s;if(f){const S=Math.min(this.currentTime,u)/d;let E=Math.floor(S),M=S%1;!M&&S>=1&&(M=1),M===1&&E--,E=Math.min(E,f+1),!!(E%2)&&(p==="reverse"?(M=1-M,m&&(M-=m/d)):p==="mirror"&&(b=a)),x=Ul(0,1,M)*d}const w=y?{done:!1,value:l[0]}:b.next(x);o&&(w.value=o(w.value));let{done:C}=w;!y&&c!==null&&(C=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return B&&i!==void 0&&(w.value=Iw(l,this.options,i)),v&&v(w.value),B&&this.finish(),w}get duration(){const{resolved:e}=this;return e?Sl(e.calculatedDuration):0}get time(){return Sl(this.currentTime)}set time(e){e=Bl(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Sl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Wve,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Yve=new Set(["opacity","clipPath","filter","transform"]);function aM(t){let e;return()=>(e===void 0&&(e=t()),e)}const Jve={linearEasing:void 0};function Zve(t,e){const r=aM(t);return()=>{var n;return(n=Jve[e])!==null&&n!==void 0?n:r()}}const Tb=Zve(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function DX(t){return!!(typeof t=="function"&&Tb()||!t||typeof t=="string"&&(t in BB||Tb())||nM(t)||Array.isArray(t)&&t.every(DX))}const Qp=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,BB={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qp([0,.65,.55,1]),circOut:Qp([.55,0,1,.45]),backIn:Qp([.31,.01,.66,-.59]),backOut:Qp([.33,1.53,.69,.99])};function LX(t,e){if(t)return typeof t=="function"&&Tb()?BX(t,e):nM(t)?Qp(t):Array.isArray(t)?t.map(r=>LX(r,e)||BB.easeOut):BB[t]}function e4e(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const c={[e]:r};l&&(c.offset=l);const u=LX(o,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:n,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}function Cj(t,e){t.timeline=e,t.onfinish=null}const t4e=aM(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Db=10,r4e=2e4;function n4e(t){return rM(t.type)||t.type==="spring"||!DX(t.ease)}function i4e(t,e){const r=new sM({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const i=[];let s=0;for(;!n.done&&s<r4e;)n=r.sample(s),i.push(n.value),s+=Db;return{times:void 0,keyframes:i,duration:s-Db,ease:"linear"}}const NX={anticipate:iX,backInOut:nX,circInOut:aX};function s4e(t){return t in NX}class Bj extends CX{constructor(e){super(e);const{name:r,motionValue:n,element:i,keyframes:s}=this.options;this.resolver=new wX(s,(a,o)=>this.onKeyframesResolved(a,o),r,n,i),this.resolver.scheduleResolve()}initPlayback(e,r){var n;let{duration:i=300,times:s,ease:a,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!(!((n=l.owner)===null||n===void 0)&&n.current))return!1;if(typeof a=="string"&&Tb()&&s4e(a)&&(a=NX[a]),n4e(this.options)){const{onComplete:A,onUpdate:f,motionValue:p,element:m,...v}=this.options,g=i4e(e,v);e=g.keyframes,e.length===1&&(e[1]=e[0]),i=g.duration,s=g.times,a=g.ease,o="keyframes"}const d=e4e(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:a});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Cj(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:A}=this.options;l.set(Iw(e,this.options,r)),A&&A(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:s,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return Sl(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return Sl(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Bl(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return ys;const{animation:n}=r;Cj(n,e)}return ys}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:n,duration:i,type:s,ease:a,times:o}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:A,...f}=this.options,p=new sM({...f,keyframes:n,duration:i,type:s,ease:a,times:o,isGenerator:!0}),m=Bl(this.time);c.setWithVelocity(p.sample(m-Db).value,p.sample(m).value,Db)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:n,repeatDelay:i,repeatType:s,damping:a,type:o}=e;return t4e()&&n&&Yve.has(n)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!i&&s!=="mirror"&&a!==0&&o!=="inertia"}}const a4e=aM(()=>window.ScrollTimeline!==void 0);class o4e{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,r){return Promise.all(this.animations).then(e).catch(r)}getAll(e){return this.animations[0][e]}setAll(e,r){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=r}attachTimeline(e,r){const n=this.animations.map(i=>a4e()&&i.attachTimeline?i.attachTimeline(e):r(i));return()=>{n.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function l4e({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const oM=(t,e,r,n={},i,s)=>a=>{const o=qE(n,t)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Bl(l);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:A=>{e.set(A),o.onUpdate&&o.onUpdate(A)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};l4e(o)||(u={...u,...Lye(t,u)}),u.duration&&(u.duration=Bl(u.duration)),u.repeatDelay&&(u.repeatDelay=Bl(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const A=Iw(u.keyframes,o);if(A!==void 0)return dr.update(()=>{u.onUpdate(A),u.onComplete()}),new o4e([])}return!s&&Bj.supports(u)?new Bj(u):new sM(u)},c4e=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),u4e=t=>pB(t)?t[t.length-1]||0:t;function lM(t,e){t.indexOf(e)===-1&&t.push(e)}function cM(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class uM{constructor(){this.subscriptions=[]}add(e){return lM(this.subscriptions,e),()=>cM(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sj=30,d4e=t=>!isNaN(parseFloat(t));class h4e{constructor(e,r={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const s=So.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=So.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=d4e(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new uM);const n=this.events[e].add(r);return e==="change"?()=>{n(),dr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=So.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Sj)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Sj);return SX(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ig(t,e){return new h4e(t,e)}function A4e(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Ig(r))}function f4e(t,e){const r=jw(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const o=u4e(s[a]);A4e(t,a,o)}}const dM=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),p4e="framerAppearId",jX="data-"+dM(p4e);function IX(t){return t.props[jX]}const Zn=t=>!!(t&&t.getVelocity);function m4e(t){return!!(Zn(t)&&t.add)}function SB(t,e){const r=t.getValue("willChange");if(m4e(r))return r.add(e)}function g4e({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function OX(t,e,{delay:r=0,transitionOverride:n,type:i}={}){var s;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(a=n);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const A=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),f=l[d];if(f===void 0||u&&g4e(u,d))continue;const p={delay:r,...qE(a||{},d)};let m=!1;if(window.MotionHandoffAnimation){const g=IX(t);if(g){const y=window.MotionHandoffAnimation(g,d,dr);y!==null&&(p.startTime=y,m=!0)}}SB(t,d),A.start(oM(d,A,f,t.shouldReduceMotion&&j0.has(d)?{type:!1}:p,t,m));const v=A.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{dr.update(()=>{o&&f4e(t,o)})}),c}function _B(t,e,r={}){var n;const i=jw(t,e,r.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(s=r.transitionOverride);const a=i?()=>Promise.all(OX(t,i,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:A}=s;return y4e(t,e,u+c,d,A,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>u())}else return Promise.all([a(),o(r.delay)])}function y4e(t,e,r=0,n=0,i=1,s){const a=[],o=(t.variantChildren.size-1)*n,l=i===1?(c=0)=>c*n:(c=0)=>o-c*n;return Array.from(t.variantChildren).sort(v4e).forEach((c,u)=>{c.notify("AnimationStart",e),a.push(_B(c,e,{...s,delay:r+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function v4e(t,e){return t.sortNodePosition(e)}function x4e(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>_B(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=_B(t,e,r);else{const i=typeof e=="function"?jw(t,e,r.custom):e;n=Promise.all(OX(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const b4e=KE.length;function PX(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?PX(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<b4e;r++){const n=KE[r],i=t.props[n];(Lg(i)||i===!1)&&(e[n]=i)}return e}const w4e=[...VE].reverse(),C4e=VE.length;function B4e(t){return e=>Promise.all(e.map(({animation:r,options:n})=>x4e(t,r,n)))}function S4e(t){let e=B4e(t),r=_j(),n=!0;const i=l=>(c,u)=>{var d;const A=jw(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(A){const{transition:f,transitionEnd:p,...m}=A;c={...c,...m,...p}}return c};function s(l){e=l(t)}function a(l){const{props:c}=t,u=PX(t.parent)||{},d=[],A=new Set;let f={},p=1/0;for(let v=0;v<C4e;v++){const g=w4e[v],y=r[g],x=c[g]!==void 0?c[g]:u[g],b=Lg(x),w=g===l?y.isActive:null;w===!1&&(p=v);let C=x===u[g]&&x!==c[g]&&b;if(C&&n&&t.manuallyAnimateOnMount&&(C=!1),y.protectedKeys={...f},!y.isActive&&w===null||!x&&!y.prevProp||Nw(x)||typeof x=="boolean")continue;const B=_4e(y.prevProp,x);let S=B||g===l&&y.isActive&&!C&&b||v>p&&b,E=!1;const M=Array.isArray(x)?x:[x];let T=M.reduce(i(g),{});w===!1&&(T={});const{prevResolvedValues:L={}}=y,I={...L,...T},R=K=>{S=!0,A.has(K)&&(E=!0,A.delete(K)),y.needsAnimating[K]=!0;const U=t.getValue(K);U&&(U.liveStyle=!1)};for(const K in I){const U=T[K],q=L[K];if(f.hasOwnProperty(K))continue;let N=!1;pB(U)&&pB(q)?N=!YG(U,q):N=U!==q,N?U!=null?R(K):A.add(K):U!==void 0&&A.has(K)?R(K):y.protectedKeys[K]=!0}y.prevProp=x,y.prevResolvedValues=T,y.isActive&&(f={...f,...T}),n&&t.blockInitialAnimation&&(S=!1),S&&(!(C&&B)||E)&&d.push(...M.map(K=>({animation:K,options:{type:g}})))}if(A.size){const v={};A.forEach(g=>{const y=t.getBaseTarget(g),x=t.getValue(g);x&&(x.liveStyle=!0),v[g]=y??null}),d.push({animation:v})}let m=!!d.length;return n&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(m=!1),n=!1,m?e(d):Promise.resolve()}function o(l,c){var u;if(r[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(A=>{var f;return(f=A.animationState)===null||f===void 0?void 0:f.setActive(l,c)}),r[l].isActive=c;const d=a(l);for(const A in r)r[A].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>r,reset:()=>{r=_j(),n=!0}}}function _4e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!YG(e,t):!1}function ed(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _j(){return{animate:ed(!0),whileInView:ed(),whileHover:ed(),whileTap:ed(),whileDrag:ed(),whileFocus:ed(),exit:ed()}}class zu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class k4e extends zu{constructor(e){super(e),e.animationState||(e.animationState=S4e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Nw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let E4e=0;class M4e extends zu{constructor(){super(...arguments),this.id=E4e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const F4e={animation:{Feature:k4e},exit:{Feature:M4e}},pa={x:!1,y:!1};function UX(){return pa.x||pa.y}function T4e(t,e,r){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function RX(t,e){const r=T4e(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function kj(t){return e=>{e.pointerType==="touch"||UX()||t(e)}}function D4e(t,e,r={}){const[n,i,s]=RX(t,r),a=kj(o=>{const{target:l}=o,c=e(o);if(!c||!l)return;const u=kj(d=>{c(d),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return n.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const hM=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,zp=new WeakSet;function Ej(t){return e=>{e.key==="Enter"&&t(e)}}function f8(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const L4e=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=Ej(()=>{if(zp.has(r))return;f8(r,"down");const i=Ej(()=>{f8(r,"up")}),s=()=>f8(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)},N4e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function j4e(t){return N4e.has(t.tagName)||t.tabIndex!==-1}const QX=(t,e)=>e?t===e?!0:QX(t,e.parentElement):!1;function Mj(t){return hM(t)&&!UX()}function I4e(t,e,r={}){const[n,i,s]=RX(t,r),a=o=>{const l=o.currentTarget;if(!Mj(o)||zp.has(l))return;zp.add(l);const c=e(o),u=(f,p)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",A),!(!Mj(f)||!zp.has(l))&&(zp.delete(l),c&&c(f,{success:p}))},d=f=>{u(f,r.useGlobalTarget||QX(l,f.target))},A=f=>{u(f,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",A,i)};return n.forEach(o=>{j4e(o)||(o.tabIndex=0),(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),o.addEventListener("focus",c=>L4e(c,i),i)}),s}function O4e(t){return t==="x"||t==="y"?pa[t]?null:(pa[t]=!0,()=>{pa[t]=!1}):pa.x||pa.y?null:(pa.x=pa.y=!0,()=>{pa.x=pa.y=!1})}function I1(t){return{point:{x:t.pageX,y:t.pageY}}}const P4e=t=>e=>hM(e)&&t(e,I1(e));function Og(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function km(t,e,r,n){return Og(t,e,P4e(r),n)}const Fj=(t,e)=>Math.abs(t-e);function U4e(t,e){const r=Fj(t.x,e.x),n=Fj(t.y,e.y);return Math.sqrt(r**2+n**2)}class zX{constructor(e,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=m8(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,f=U4e(d.offset,{x:0,y:0})>=3;if(!A&&!f)return;const{point:p}=d,{timestamp:m}=Mn;this.history.push({...p,timestamp:m});const{onStart:v,onMove:g}=this.handlers;A||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,A)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=p8(A,this.transformPagePoint),dr.update(this.updatePoint,!0)},this.handlePointerUp=(d,A)=>{this.end();const{onEnd:f,onSessionEnd:p,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=m8(d.type==="pointercancel"?this.lastMoveEventInfo:p8(A,this.transformPagePoint),this.history);this.startEvent&&f&&f(d,v),p&&p(d,v)},!hM(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const a=I1(e),o=p8(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=Mn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=r;u&&u(e,m8(o,this.history)),this.removeListeners=j1(km(this.contextWindow,"pointermove",this.handlePointerMove),km(this.contextWindow,"pointerup",this.handlePointerUp),km(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Bu(this.updatePoint)}}function p8(t,e){return e?{point:e(t.point)}:t}function Tj(t,e){return{x:t.x-e.x,y:t.y-e.y}}function m8({point:t},e){return{point:t,delta:Tj(t,HX(e)),offset:Tj(t,R4e(e)),velocity:Q4e(e,.1)}}function R4e(t){return t[0]}function HX(t){return t[t.length-1]}function Q4e(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=HX(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Bl(e)));)r--;if(!n)return{x:0,y:0};const s=Sl(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Vh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const $X=1e-4,z4e=1-$X,H4e=1+$X,VX=.01,$4e=0-VX,V4e=0+VX;function ws(t){return t.max-t.min}function K4e(t,e,r){return Math.abs(t-e)<=r}function Dj(t,e,r,n=.5){t.origin=n,t.originPoint=Sr(e.min,e.max,t.origin),t.scale=ws(r)/ws(e),t.translate=Sr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=z4e&&t.scale<=H4e||isNaN(t.scale))&&(t.scale=1),(t.translate>=$4e&&t.translate<=V4e||isNaN(t.translate))&&(t.translate=0)}function Em(t,e,r,n){Dj(t.x,e.x,r.x,n?n.originX:void 0),Dj(t.y,e.y,r.y,n?n.originY:void 0)}function Lj(t,e,r){t.min=r.min+e.min,t.max=t.min+ws(e)}function q4e(t,e,r){Lj(t.x,e.x,r.x),Lj(t.y,e.y,r.y)}function Nj(t,e,r){t.min=e.min-r.min,t.max=t.min+ws(e)}function Mm(t,e,r){Nj(t.x,e.x,r.x),Nj(t.y,e.y,r.y)}function W4e(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Sr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Sr(r,t,n.max):Math.min(t,r)),t}function jj(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function G4e(t,{top:e,left:r,bottom:n,right:i}){return{x:jj(t.x,r,i),y:jj(t.y,e,n)}}function Ij(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function X4e(t,e){return{x:Ij(t.x,e.x),y:Ij(t.y,e.y)}}function Y4e(t,e){let r=.5;const n=ws(t),i=ws(e);return i>n?r=KA(e.min,e.max-n,t.min):n>i&&(r=KA(t.min,t.max-i,e.min)),Ul(0,1,r)}function J4e(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const kB=.35;function Z4e(t=kB){return t===!1?t=0:t===!0&&(t=kB),{x:Oj(t,"left","right"),y:Oj(t,"top","bottom")}}function Oj(t,e,r){return{min:Pj(t,e),max:Pj(t,r)}}function Pj(t,e){return typeof t=="number"?t:t[e]||0}const Uj=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kh=()=>({x:Uj(),y:Uj()}),Rj=()=>({min:0,max:0}),Pr=()=>({x:Rj(),y:Rj()});function Os(t){return[t("x"),t("y")]}function KX({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function exe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function txe(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function g8(t){return t===void 0||t===1}function EB({scale:t,scaleX:e,scaleY:r}){return!g8(t)||!g8(e)||!g8(r)}function Cd(t){return EB(t)||qX(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function qX(t){return Qj(t.x)||Qj(t.y)}function Qj(t){return t&&t!=="0%"}function Lb(t,e,r){const n=t-r,i=e*n;return r+i}function zj(t,e,r,n,i){return i!==void 0&&(t=Lb(t,i,n)),Lb(t,r,n)+e}function MB(t,e=0,r=1,n,i){t.min=zj(t.min,e,r,n,i),t.max=zj(t.max,e,r,n,i)}function WX(t,{x:e,y:r}){MB(t.x,e.translate,e.scale,e.originPoint),MB(t.y,r.translate,r.scale,r.originPoint)}const Hj=.999999999999,$j=1.0000000000001;function rxe(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=r[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Wh(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,WX(t,a)),n&&Cd(s.latestValues)&&Wh(t,s.latestValues))}e.x<$j&&e.x>Hj&&(e.x=1),e.y<$j&&e.y>Hj&&(e.y=1)}function qh(t,e){t.min=t.min+e,t.max=t.max+e}function Vj(t,e,r,n,i=.5){const s=Sr(t.min,t.max,i);MB(t,e,r,s,n)}function Wh(t,e){Vj(t.x,e.x,e.scaleX,e.scale,e.originX),Vj(t.y,e.y,e.scaleY,e.scale,e.originY)}function GX(t,e){return KX(txe(t.getBoundingClientRect(),e))}function nxe(t,e,r){const n=GX(t,r),{scroll:i}=e;return i&&(qh(n.x,i.offset.x),qh(n.y,i.offset.y)),n}const XX=({current:t})=>t?t.ownerDocument.defaultView:null,ixe=new WeakMap;class sxe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pr(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(I1(u).point)},s=(u,d)=>{const{drag:A,dragPropagation:f,onDragStart:p}=this.getProps();if(A&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=O4e(A),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Os(v=>{let g=this.getAxisMotionValue(v).get()||0;if(Bo.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[v];x&&(g=ws(x)*(parseFloat(g)/100))}}this.originPoint[v]=g}),p&&dr.postRender(()=>p(u,d)),SB(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},a=(u,d)=>{const{dragPropagation:A,dragDirectionLock:f,onDirectionLock:p,onDrag:m}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:v}=d;if(f&&this.currentDirection===null){this.currentDirection=axe(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),m&&m(u,d)},o=(u,d)=>this.stop(u,d),l=()=>Os(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new zX(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:XX(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&dr.postRender(()=>s(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!P2(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=W4e(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;r&&Vh(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=G4e(i.layoutBox,r):this.constraints=!1,this.elastic=Z4e(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Os(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=J4e(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Vh(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=nxe(n,i.root,this.visualElement.getTransformPagePoint());let a=X4e(i.layout.layoutBox,s);if(r){const o=r(exe(a));this.hasMutatedConstraints=!!o,o&&(a=KX(o))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Os(u=>{if(!P2(u,r,this.currentDirection))return;let d=l[u]||{};a&&(d={min:0,max:0});const A=i?200:1e6,f=i?40:1e7,p={type:"inertia",velocity:n?e[u]:0,bounceStiffness:A,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(o)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return SB(this.visualElement,e),n.start(oM(e,n,0,r,this.visualElement,!1))}stopAnimation(){Os(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Os(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Os(r=>{const{drag:n}=this.getProps();if(!P2(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[r];s.set(e[r]-Sr(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Vh(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Os(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=Y4e({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Os(a=>{if(!P2(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(Sr(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;ixe.set(this.visualElement,this);const e=this.visualElement.current,r=km(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Vh(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),dr.read(n);const a=Og(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Os(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{a(),r(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=kB,dragMomentum:o=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function P2(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function axe(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class oxe extends zu{constructor(e){super(e),this.removeGroupControls=ys,this.removeListeners=ys,this.controls=new sxe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ys}unmount(){this.removeGroupControls(),this.removeListeners()}}const Kj=t=>(e,r)=>{t&&dr.postRender(()=>t(e,r))};class lxe extends zu{constructor(){super(...arguments),this.removePointerDownListener=ys}onPointerDown(e){this.session=new zX(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:XX(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Kj(e),onStart:Kj(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&dr.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=km(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ow=_.createContext(null);function cxe(){const t=_.useContext(Ow);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,i=_.useId();_.useEffect(()=>n(i),[]);const s=_.useCallback(()=>r&&r(i),[i,r]);return!e&&r?[!1,s]:[!0]}const AM=_.createContext({}),YX=_.createContext({}),P4={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qj(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qf={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(tt.test(t))t=parseFloat(t);else return t;const r=qj(t,e.target.x),n=qj(t,e.target.y);return`${r}% ${n}%`}},uxe={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=Su.parse(t);if(i.length>5)return n;const s=Su.createTransformer(t),a=typeof i[0]!="number"?1:0,o=r.x.scale*e.x,l=r.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=Sr(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}},Nb={};function dxe(t){Object.assign(Nb,t)}const{schedule:fM,cancel:EHe}=JG(queueMicrotask,!1);class hxe extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;dxe(Axe),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),P4.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,a=n.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==r||r===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||dr.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),fM.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function JX(t){const[e,r]=cxe(),n=_.useContext(AM);return h.jsx(hxe,{...t,layoutGroup:n,switchLayoutGroup:_.useContext(YX),isPresent:e,safeToRemove:r})}const Axe={borderRadius:{...qf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qf,borderTopRightRadius:qf,borderBottomLeftRadius:qf,borderBottomRightRadius:qf,boxShadow:uxe},ZX=["TopLeft","TopRight","BottomLeft","BottomRight"],fxe=ZX.length,Wj=t=>typeof t=="string"?parseFloat(t):t,Gj=t=>typeof t=="number"||tt.test(t);function pxe(t,e,r,n,i,s){i?(t.opacity=Sr(0,r.opacity!==void 0?r.opacity:1,mxe(n)),t.opacityExit=Sr(e.opacity!==void 0?e.opacity:1,0,gxe(n))):s&&(t.opacity=Sr(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let a=0;a<fxe;a++){const o=`border${ZX[a]}Radius`;let l=Xj(e,o),c=Xj(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Gj(l)===Gj(c)?(t[o]=Math.max(Sr(Wj(l),Wj(c),n),0),(Bo.test(c)||Bo.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||r.rotate)&&(t.rotate=Sr(e.rotate||0,r.rotate||0,n))}function Xj(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const mxe=eY(0,.5,sX),gxe=eY(.5,.95,ys);function eY(t,e,r){return n=>n<t?0:n>e?1:r(KA(t,e,n))}function Yj(t,e){t.min=e.min,t.max=e.max}function Ms(t,e){Yj(t.x,e.x),Yj(t.y,e.y)}function Jj(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Zj(t,e,r,n,i){return t-=e,t=Lb(t,1/r,n),i!==void 0&&(t=Lb(t,1/i,n)),t}function yxe(t,e=0,r=1,n=.5,i,s=t,a=t){if(Bo.test(e)&&(e=parseFloat(e),e=Sr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Sr(s.min,s.max,n);t===s&&(o-=e),t.min=Zj(t.min,e,r,o,i),t.max=Zj(t.max,e,r,o,i)}function eI(t,e,[r,n,i],s,a){yxe(t,e[r],e[n],e[i],e.scale,s,a)}const vxe=["x","scaleX","originX"],xxe=["y","scaleY","originY"];function tI(t,e,r,n){eI(t.x,e,vxe,r?r.x:void 0,n?n.x:void 0),eI(t.y,e,xxe,r?r.y:void 0,n?n.y:void 0)}function rI(t){return t.translate===0&&t.scale===1}function tY(t){return rI(t.x)&&rI(t.y)}function nI(t,e){return t.min===e.min&&t.max===e.max}function bxe(t,e){return nI(t.x,e.x)&&nI(t.y,e.y)}function iI(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function rY(t,e){return iI(t.x,e.x)&&iI(t.y,e.y)}function sI(t){return ws(t.x)/ws(t.y)}function aI(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class wxe{constructor(){this.members=[]}add(e){lM(this.members,e),e.scheduleRender()}remove(e){if(cM(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Cxe(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(r==null?void 0:r.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:A,skewX:f,skewY:p}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),d&&(n+=`rotateX(${d}deg) `),A&&(n+=`rotateY(${A}deg) `),f&&(n+=`skewX(${f}deg) `),p&&(n+=`skewY(${p}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const Bxe=(t,e)=>t.depth-e.depth;class Sxe{constructor(){this.children=[],this.isDirty=!1}add(e){lM(this.children,e),this.isDirty=!0}remove(e){cM(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Bxe),this.isDirty=!1,this.children.forEach(e)}}function U4(t){const e=Zn(t)?t.get():t;return c4e(e)?e.toValue():e}function _xe(t,e){const r=So.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(Bu(n),t(s-e))};return dr.read(n,!0),()=>Bu(n)}function kxe(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Exe(t,e,r){const n=Zn(t)?t:Ig(t);return n.start(oM("",n,e,r)),n.animation}const Bd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Hp=typeof window<"u"&&window.MotionDebug!==void 0,y8=["","X","Y","Z"],Mxe={visibility:"hidden"},oI=1e3;let Fxe=0;function v8(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function nY(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=IX(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",dr,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&nY(n)}function iY({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=Fxe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Hp&&(Bd.totalNodes=Bd.resolvedTargetDeltas=Bd.recalculatedProjection=0),this.nodes.forEach(Lxe),this.nodes.forEach(Pxe),this.nodes.forEach(Uxe),this.nodes.forEach(Nxe),Hp&&window.MotionDebug.record(Bd)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Sxe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new uM),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=kxe(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const A=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=_xe(A,250),P4.hasAnimatedSinceResize&&(P4.hasAnimatedSinceResize=!1,this.nodes.forEach(cI))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:A,hasRelativeTargetChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||$xe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:g}=u.getProps(),y=!this.targetLayout||!rY(this.targetLayout,p)||f,x=!A&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||A&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const b={...qE(m,"layout"),onPlay:v,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else A||cI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Bu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Rxe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nY(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lI);return}this.isUpdating||this.nodes.forEach(Ixe),this.isUpdating=!1,this.nodes.forEach(Oxe),this.nodes.forEach(Txe),this.nodes.forEach(Dxe),this.clearAllSnapshots();const o=So.now();Mn.delta=Ul(0,1e3/60,o-Mn.timestamp),Mn.timestamp=o,Mn.isProcessing=!0,c8.update.process(Mn),c8.preRender.process(Mn),c8.render.process(Mn),Mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fM.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jxe),this.sharedNodes.forEach(Qxe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!tY(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&(o||Cd(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),Vxe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Pr();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(Kxe))){const{scroll:u}=this.root;u&&(qh(l.x,u.offset.x),qh(l.y,u.offset.y))}return l}removeElementScroll(a){var o;const l=Pr();if(Ms(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:A}=u;u!==this.root&&d&&A.layoutScroll&&(d.wasRoot&&Ms(l,a),qh(l.x,d.offset.x),qh(l.y,d.offset.y))}return l}applyTransform(a,o=!1){const l=Pr();Ms(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Wh(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Cd(u.latestValues)&&Wh(l,u.latestValues)}return Cd(this.latestValues)&&Wh(l,this.latestValues),l}removeTransform(a){const o=Pr();Ms(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Cd(c.latestValues))continue;EB(c.latestValues)&&c.updateSnapshot();const u=Pr(),d=c.measurePageBox();Ms(u,d),tI(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Cd(this.latestValues)&&tI(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:A}=this.options;if(!(!this.layout||!(d||A))){if(this.resolvedRelativeTargetAt=Mn.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pr(),this.relativeTargetOrigin=Pr(),Mm(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Ms(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Pr(),this.targetWithTransforms=Pr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),q4e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ms(this.target,this.layout.layoutBox),WX(this.target,this.targetDelta)):Ms(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pr(),this.relativeTargetOrigin=Pr(),Mm(this.relativeTargetOrigin,this.target,f.target),Ms(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Hp&&Bd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||EB(this.parent.latestValues)||qX(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Mn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ms(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,f=this.treeScale.y;rxe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Pr());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Jj(this.prevProjectionDelta.x,this.projectionDelta.x),Jj(this.prevProjectionDelta.y,this.projectionDelta.y)),Em(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==f||!aI(this.projectionDelta.x,this.prevProjectionDelta.x)||!aI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Hp&&Bd.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Kh(),this.projectionDelta=Kh(),this.projectionDeltaWithTransform=Kh()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Kh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const A=Pr(),f=l?l.source:void 0,p=this.layout?this.layout.source:void 0,m=f!==p,v=this.getStack(),g=!v||v.members.length<=1,y=!!(m&&!g&&this.options.crossfade===!0&&!this.path.some(Hxe));this.animationProgress=0;let x;this.mixTargetDelta=b=>{const w=b/1e3;uI(d.x,a.x,w),uI(d.y,a.y,w),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mm(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zxe(this.relativeTarget,this.relativeTargetOrigin,A,w),x&&bxe(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Pr()),Ms(x,this.relativeTarget)),m&&(this.animationValues=u,pxe(u,c,this.latestValues,w,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Bu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dr.update(()=>{P4.hasAnimatedSinceResize=!0,this.currentAnimation=Exe(0,oI,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&sY(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Pr();const d=ws(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const A=ws(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+A}Ms(o,l),Wh(o,u),Em(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new wxe),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&v8("z",a,c,this.animationValues);for(let u=0;u<y8.length;u++)v8(`rotate${y8[u]}`,a,c,this.animationValues),v8(`skew${y8[u]}`,a,c,this.animationValues);a.render();for(const u in c)a.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Mxe;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=U4(a==null?void 0:a.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=U4(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Cd(this.latestValues)&&(m.transform=u?u({},""):"none",this.hasProjected=!1),m}const A=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=Cxe(this.projectionDeltaWithTransform,this.treeScale,A),u&&(c.transform=u(A,c.transform));const{x:f,y:p}=this.projectionDelta;c.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(o=A.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:A.opacityExit:c.opacity=d===this?A.opacity!==void 0?A.opacity:"":A.opacityExit!==void 0?A.opacityExit:0;for(const m in Nb){if(A[m]===void 0)continue;const{correct:v,applyTo:g}=Nb[m],y=c.transform==="none"?A[m]:v(A[m],d);if(g){const x=g.length;for(let b=0;b<x;b++)c[g[b]]=y}else c[m]=y}return this.options.layoutId&&(c.pointerEvents=d===this?U4(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(lI),this.root.sharedNodes.clear()}}}function Txe(t){t.updateLayout()}function Dxe(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,a=r.source!==t.layout.source;s==="size"?Os(d=>{const A=a?r.measuredBox[d]:r.layoutBox[d],f=ws(A);A.min=n[d].min,A.max=A.min+f}):sY(s,r.layoutBox,n)&&Os(d=>{const A=a?r.measuredBox[d]:r.layoutBox[d],f=ws(n[d]);A.max=A.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const o=Kh();Em(o,n,r.layoutBox);const l=Kh();a?Em(l,t.applyTransform(i,!0),r.measuredBox):Em(l,n,r.layoutBox);const c=!tY(o);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:A,layout:f}=d;if(A&&f){const p=Pr();Mm(p,r.layoutBox,A.layoutBox);const m=Pr();Mm(m,n,f.layoutBox),rY(p,m)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=p,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Lxe(t){Hp&&Bd.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Nxe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function jxe(t){t.clearSnapshot()}function lI(t){t.clearMeasurements()}function Ixe(t){t.isLayoutDirty=!1}function Oxe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function cI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Pxe(t){t.resolveTargetDelta()}function Uxe(t){t.calcProjection()}function Rxe(t){t.resetSkewAndRotation()}function Qxe(t){t.removeLeadSnapshot()}function uI(t,e,r){t.translate=Sr(e.translate,0,r),t.scale=Sr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function dI(t,e,r,n){t.min=Sr(e.min,r.min,n),t.max=Sr(e.max,r.max,n)}function zxe(t,e,r,n){dI(t.x,e.x,r.x,n),dI(t.y,e.y,r.y,n)}function Hxe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $xe={duration:.45,ease:[.4,0,.1,1]},hI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),AI=hI("applewebkit/")&&!hI("chrome/")?Math.round:ys;function fI(t){t.min=AI(t.min),t.max=AI(t.max)}function Vxe(t){fI(t.x),fI(t.y)}function sY(t,e,r){return t==="position"||t==="preserve-aspect"&&!K4e(sI(e),sI(r),.2)}function Kxe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const qxe=iY({attachResizeListener:(t,e)=>Og(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),x8={current:void 0},aY=iY({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!x8.current){const t=new qxe({});t.mount(window),t.setOptions({layoutScroll:!0}),x8.current=t}return x8.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Wxe={pan:{Feature:lxe},drag:{Feature:oxe,ProjectionNode:aY,MeasureLayout:JX}};function pI(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&dr.postRender(()=>s(e,I1(e)))}class Gxe extends zu{mount(){const{current:e}=this.node;e&&(this.unmount=D4e(e,r=>(pI(this.node,r,"Start"),n=>pI(this.node,n,"End"))))}unmount(){}}class Xxe extends zu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=j1(Og(this.node.current,"focus",()=>this.onFocus()),Og(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mI(t,e,r){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&dr.postRender(()=>s(e,I1(e)))}class Yxe extends zu{mount(){const{current:e}=this.node;e&&(this.unmount=I4e(e,r=>(mI(this.node,r,"Start"),(n,{success:i})=>mI(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const FB=new WeakMap,b8=new WeakMap,Jxe=t=>{const e=FB.get(t.target);e&&e(t)},Zxe=t=>{t.forEach(Jxe)};function ebe({root:t,...e}){const r=t||document;b8.has(r)||b8.set(r,{});const n=b8.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(Zxe,{root:t,...e})),n[i]}function tbe(t,e,r){const n=ebe(e);return FB.set(t,r),n.observe(t),()=>{FB.delete(t),n.unobserve(t)}}const rbe={some:0,all:1};class nbe extends zu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:rbe[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),A=c?u:d;A&&A(l)};return tbe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(ibe(e,r))&&this.startObserver()}unmount(){}}function ibe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const sbe={inView:{Feature:nbe},tap:{Feature:Yxe},focus:{Feature:Xxe},hover:{Feature:Gxe}},abe={layout:{ProjectionNode:aY,MeasureLayout:JX}},pM=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Pw=_.createContext({}),mM=typeof window<"u",oY=mM?_.useLayoutEffect:_.useEffect,lY=_.createContext({strict:!1});function obe(t,e,r,n,i){var s,a;const{visualElement:o}=_.useContext(Pw),l=_.useContext(lY),c=_.useContext(Ow),u=_.useContext(pM).reducedMotion,d=_.useRef(null);n=n||l.renderer,!d.current&&n&&(d.current=n(t,{visualState:e,parent:o,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const A=d.current,f=_.useContext(YX);A&&!A.projection&&i&&(A.type==="html"||A.type==="svg")&&lbe(d.current,r,i,f);const p=_.useRef(!1);_.useInsertionEffect(()=>{A&&p.current&&A.update(r,c)});const m=r[jX],v=_.useRef(!!m&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,m))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,m)));return oY(()=>{A&&(p.current=!0,window.MotionIsMounted=!0,A.updateFeatures(),fM.render(A.render),v.current&&A.animationState&&A.animationState.animateChanges())}),_.useEffect(()=>{A&&(!v.current&&A.animationState&&A.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,m)}),v.current=!1))}),A}function lbe(t,e,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:cY(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&Vh(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:c})}function cY(t){if(t)return t.options.allowProjection!==!1?t.projection:cY(t.parent)}function cbe(t,e,r){return _.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Vh(r)&&(r.current=n))},[e])}function Uw(t){return Nw(t.animate)||KE.some(e=>Lg(t[e]))}function uY(t){return!!(Uw(t)||t.variants)}function ube(t,e){if(Uw(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Lg(r)?r:void 0,animate:Lg(n)?n:void 0}}return t.inherit!==!1?e:{}}function dbe(t){const{initial:e,animate:r}=ube(t,_.useContext(Pw));return _.useMemo(()=>({initial:e,animate:r}),[gI(e),gI(r)])}function gI(t){return Array.isArray(t)?t.join(" "):t}const yI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qA={};for(const t in yI)qA[t]={isEnabled:e=>yI[t].some(r=>!!e[r])};function hbe(t){for(const e in t)qA[e]={...qA[e],...t[e]}}const Abe=Symbol.for("motionComponentSymbol");function fbe({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){t&&hbe(t);function s(o,l){let c;const u={..._.useContext(pM),...o,layoutId:pbe(o)},{isStatic:d}=u,A=dbe(o),f=n(o,d);if(!d&&mM){mbe();const p=gbe(u);c=p.MeasureLayout,A.visualElement=obe(i,f,u,e,p.ProjectionNode)}return h.jsxs(Pw.Provider,{value:A,children:[c&&A.visualElement?h.jsx(c,{visualElement:A.visualElement,...u}):null,r(i,o,cbe(f,A.visualElement,l),f,d,A.visualElement)]})}const a=_.forwardRef(s);return a[Abe]=i,a}function pbe({layoutId:t}){const e=_.useContext(AM).id;return e&&t!==void 0?e+"-"+t:t}function mbe(t,e){_.useContext(lY).strict}function gbe(t){const{drag:e,layout:r}=qA;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const ybe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gM(t){return typeof t!="string"||t.includes("-")?!1:!!(ybe.indexOf(t)>-1||/[A-Z]/u.test(t))}function dY(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const s in r)t.style.setProperty(s,r[s])}const hY=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AY(t,e,r,n){dY(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(hY.has(i)?i:dM(i),e.attrs[i])}function fY(t,{layout:e,layoutId:r}){return j0.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Nb[t]||t==="opacity")}function yM(t,e,r){var n;const{style:i}=t,s={};for(const a in i)(Zn(i[a])||e.style&&Zn(e.style[a])||fY(a,t)||((n=r==null?void 0:r.getValue(a))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(s[a]=i[a]);return s}function pY(t,e,r){const n=yM(t,e,r);for(const i in t)if(Zn(t[i])||Zn(e[i])){const s=D1.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}function vM(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}function vbe({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,i,s){const a={latestValues:xbe(n,i,s,t),renderState:e()};return r&&(a.mount=o=>r(n,o,a)),a}const mY=t=>(e,r)=>{const n=_.useContext(Pw),i=_.useContext(Ow),s=()=>vbe(t,e,n,i);return r?s():vM(s)};function xbe(t,e,r,n){const i={},s=n(t,{});for(const A in s)i[A]=U4(s[A]);let{initial:a,animate:o}=t;const l=Uw(t),c=uY(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let u=r?r.initial===!1:!1;u=u||a===!1;const d=u?o:a;if(d&&typeof d!="boolean"&&!Nw(d)){const A=Array.isArray(d)?d:[d];for(let f=0;f<A.length;f++){const p=$E(t,A[f]);if(p){const{transitionEnd:m,transition:v,...g}=p;for(const y in g){let x=g[y];if(Array.isArray(x)){const b=u?x.length-1:0;x=x[b]}x!==null&&(i[y]=x)}for(const y in m)i[y]=m[y]}}}return i}const xM=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),gY=()=>({...xM(),attrs:{}}),yY=(t,e)=>e&&typeof t=="number"?e.transform(t):t,bbe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wbe=D1.length;function Cbe(t,e,r){let n="",i=!0;for(let s=0;s<wbe;s++){const a=D1[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=yY(o,eM[a]);if(!l){i=!1;const u=bbe[a]||a;n+=`${u}(${c}) `}r&&(e[a]=c)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function bM(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const c=e[l];if(j0.has(l)){a=!0;continue}else if(uX(l)){i[l]=c;continue}else{const u=yY(c,eM[l]);l.startsWith("origin")?(o=!0,s[l]=u):n[l]=u}}if(e.transform||(a||r?n.transform=Cbe(e,t.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;n.transformOrigin=`${l} ${c} ${u}`}}function vI(t,e,r){return typeof t=="string"?t:tt.transform(e+r*t)}function Bbe(t,e,r){const n=vI(e,t.x,t.width),i=vI(r,t.y,t.height);return`${n} ${i}`}const Sbe={offset:"stroke-dashoffset",array:"stroke-dasharray"},_be={offset:"strokeDashoffset",array:"strokeDasharray"};function kbe(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?Sbe:_be;t[s.offset]=tt.transform(-n);const a=tt.transform(e),o=tt.transform(r);t[s.array]=`${a} ${o}`}function wM(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},u,d){if(bM(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:A,style:f,dimensions:p}=t;A.transform&&(p&&(f.transform=A.transform),delete A.transform),p&&(i!==void 0||s!==void 0||f.transform)&&(f.transformOrigin=Bbe(p,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(A.x=e),r!==void 0&&(A.y=r),n!==void 0&&(A.scale=n),a!==void 0&&kbe(A,a,o,l,!1)}const CM=t=>typeof t=="string"&&t.toLowerCase()==="svg",Ebe={useVisualState:mY({scrapeMotionValuesFromProps:pY,createRenderState:gY,onMount:(t,e,{renderState:r,latestValues:n})=>{dr.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),dr.render(()=>{wM(r,n,CM(e.tagName),t.transformTemplate),AY(e,r)})}})},Mbe={useVisualState:mY({scrapeMotionValuesFromProps:yM,createRenderState:xM})};function vY(t,e,r){for(const n in e)!Zn(e[n])&&!fY(n,r)&&(t[n]=e[n])}function Fbe({transformTemplate:t},e){return _.useMemo(()=>{const r=xM();return bM(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Tbe(t,e){const r=t.style||{},n={};return vY(n,r,t),Object.assign(n,Fbe(t,e)),n}function Dbe(t,e){const r={},n=Tbe(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const Lbe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Lbe.has(t)}let xY=t=>!jb(t);function Nbe(t){t&&(xY=e=>e.startsWith("on")?!jb(e):t(e))}try{Nbe(require("@emotion/is-prop-valid").default)}catch{}function jbe(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(xY(i)||r===!0&&jb(i)||!e&&!jb(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function Ibe(t,e,r,n){const i=_.useMemo(()=>{const s=gY();return wM(s,e,CM(n),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};vY(s,t.style,t),i.style={...s,...i.style}}return i}function Obe(t=!1){return(r,n,i,{latestValues:s},a)=>{const l=(gM(r)?Ibe:Dbe)(n,s,a,r),c=jbe(n,typeof r=="string",t),u=r!==_.Fragment?{...c,...l,ref:i}:{},{children:d}=n,A=_.useMemo(()=>Zn(d)?d.get():d,[d]);return _.createElement(r,{...u,children:A})}}function Pbe(t,e){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...gM(n)?Ebe:Mbe,preloadedFeatures:t,useRender:Obe(i),createVisualElement:e,Component:n};return fbe(a)}}const TB={current:null},bY={current:!1};function Ube(){if(bY.current=!0,!!mM)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>TB.current=t.matches;t.addListener(e),e()}else TB.current=!1}function Rbe(t,e,r){for(const n in e){const i=e[n],s=r[n];if(Zn(i))t.addValue(n,i);else if(Zn(s))t.addValue(n,Ig(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(n);t.addValue(n,Ig(a!==void 0?a:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const xI=new WeakMap,Qbe=[...AX,Wn,Su],zbe=t=>Qbe.find(hX(t)),bI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Hbe{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=YE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=So.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,dr.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=Uw(r),this.isVariantNode=uY(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{},this);for(const A in d){const f=d[A];l[A]!==void 0&&Zn(f)&&f.set(l[A],!1)}}mount(e){this.current=e,xI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),bY.current||Ube(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:TB.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){xI.delete(this.current),this.projection&&this.projection.unmount(),Bu(this.notifyUpdate),Bu(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=j0.has(e),i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&dr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in qA){const r=qA[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<bI.length;n++){const i=bI[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Rbe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Ig(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){var n;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(lX(i)||oX(i))?i=parseFloat(i):!zbe(i)&&Su.test(r)&&(i=bX(e,r)),this.setBaseTarget(e,Zn(i)?i.get():i)),Zn(i)?i.get():i}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=$E(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);a&&(i=a[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Zn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new uM),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class wY extends Hbe{constructor(){super(...arguments),this.KeyframeResolver=wX}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function $be(t){return window.getComputedStyle(t)}class Vbe extends wY{constructor(){super(...arguments),this.type="html",this.renderInstance=dY}readValueFromInstance(e,r){if(j0.has(r)){const n=tM(r);return n&&n.default||0}else{const n=$be(e),i=(uX(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return GX(e,r)}build(e,r,n){bM(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return yM(e,r,n)}}class Kbe extends wY{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(j0.has(r)){const n=tM(r);return n&&n.default||0}return r=hY.has(r)?r:dM(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return pY(e,r,n)}build(e,r,n){wM(e,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,r,n,i){AY(e,r,n,i)}mount(e){this.isSVGTag=CM(e.tagName),super.mount(e)}}const qbe=(t,e)=>gM(t)?new Kbe(e):new Vbe(e,{allowProjection:t!==_.Fragment}),Wbe=Pbe({...F4e,...sbe,...Wxe,...abe},qbe),Hr=Eye(Wbe);class Gbe extends _.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Xbe({children:t,isPresent:e}){const r=_.useId(),n=_.useRef(null),i=_.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=_.useContext(pM);return _.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=i.current;if(e||!n.current||!a||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),h.jsx(Gbe,{isPresent:e,childRef:n,sizeRef:i,children:_.cloneElement(t,{ref:n})})}const Ybe=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a})=>{const o=vM(Jbe),l=_.useId(),c=_.useCallback(d=>{o.set(d,!0);for(const A of o.values())if(!A)return;n&&n()},[o,n]),u=_.useMemo(()=>({id:l,initial:e,isPresent:r,custom:i,onExitComplete:c,register:d=>(o.set(d,!1),()=>o.delete(d))}),s?[Math.random(),c]:[r,c]);return _.useMemo(()=>{o.forEach((d,A)=>o.set(A,!1))},[r]),_.useEffect(()=>{!r&&!o.size&&n&&n()},[r]),a==="popLayout"&&(t=h.jsx(Xbe,{isPresent:r,children:t})),h.jsx(Ow.Provider,{value:u,children:t})};function Jbe(){return new Map}const U2=t=>t.key||"";function wI(t){const e=[];return _.Children.forEach(t,r=>{_.isValidElement(r)&&e.push(r)}),e}const CY=({children:t,exitBeforeEnter:e,custom:r,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync"})=>{const o=_.useMemo(()=>wI(t),[t]),l=o.map(U2),c=_.useRef(!0),u=_.useRef(o),d=vM(()=>new Map),[A,f]=_.useState(o),[p,m]=_.useState(o);oY(()=>{c.current=!1,u.current=o;for(let y=0;y<p.length;y++){const x=U2(p[y]);l.includes(x)?d.delete(x):d.get(x)!==!0&&d.set(x,!1)}},[p,l.length,l.join("-")]);const v=[];if(o!==A){let y=[...o];for(let x=0;x<p.length;x++){const b=p[x],w=U2(b);l.includes(w)||(y.splice(x,0,b),v.push(b))}a==="wait"&&v.length&&(y=v),m(wI(y)),f(o);return}const{forceRender:g}=_.useContext(AM);return h.jsx(h.Fragment,{children:p.map(y=>{const x=U2(y),b=o===p||l.includes(x),w=()=>{if(d.has(x))d.set(x,!0);else return;let C=!0;d.forEach(B=>{B||(C=!1)}),C&&(g==null||g(),m(u.current),i&&i())};return h.jsx(Ybe,{isPresent:b,initial:!c.current||n?void 0:!1,custom:b?void 0:r,presenceAffectsLayout:s,mode:a,onExitComplete:b?void 0:w,children:y},x)})})},R4=Xi({reducerPath:"apiKey",baseQuery:Yi,endpoints:t=>({updateApiKey:t.mutation({query:e=>({url:"/api/update",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getDeepGramApi:t.query({query:()=>({url:"/api/get-deepgram-api",method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}}),getAllApiKeys:t.query({query:()=>({url:"/api/get-all-apis",method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}})})}),{useUpdateApiKeyMutation:FHe,useGetAllApiKeysQuery:THe,useGetDeepGramApiQuery:Zbe}=R4,Q4=Xi({reducerPath:"deepgramSlice",baseQuery:Yi,endpoints:t=>({getDeepgramModels:t.query({query:()=>"api/get-deepgram-models",method:"GET"}),getAImodelById:t.mutation({query:e=>({url:"api/get-voice-model",method:"POST",body:e})})})}),{useGetDeepgramModelsQuery:BM,useGetAImodelByIdMutation:e3e}=Q4;function t3e(){var fe;const{data:t,isError:e,isLoading:r}=Zbe(),{bot_id:n}=Ar(),[i,s]=_.useState(""),[a,o]=_.useState(null),[l,c]=_.useState(!1),[u,d]=_.useState(!1),[A,f]=_.useState(null),[p,m]=_.useState([]),[v,g]=_.useState(1),[y,x]=_.useState(),[b,w]=_.useState(!0),[C,B]=_.useState(!1),[S,{isLoading:E}]=fye(),[M,{isError:T}]=VG(),[L,{isError:I}]=WG(),[R,{isError:z}]=GG(),[W]=KG(),[K,{data:U,isLoading:q,isError:N}]=e3e();_.useEffect(()=>{y!=null&&y.voice_model&&K({model_id:y==null?void 0:y.voice_model})},[y]),_.useEffect(()=>{N&&Z.error("Error Loading Voice Model")},[N]);const ne=_.useRef(null),re=_.useRef(null);_.useEffect(()=>{if(C&&ne.current&&re.current){const J=ne.current.offsetTop,ie=re.current.clientHeight;re.current.scrollTo({top:J-ie/2,behavior:"smooth"}),B(!1)}},[p,C]);const O=async()=>{try{const J=await W({bot_id:Number(n)}).unwrap();(J==null?void 0:J.statusCode)===200&&x(J==null?void 0:J.bot)}catch{Z.error("Error fetching bot data")}},me=_.useCallback(async J=>{var ie;try{const Ue=await S({bot_id:Number(n),limit:20,page:J}).unwrap();(Ue==null?void 0:Ue.statusCode)===200&&(((ie=Ue==null?void 0:Ue.data)==null?void 0:ie.length)>0&&m($e=>[...Ue==null?void 0:Ue.data,...$e]),w((Ue==null?void 0:Ue.data.length)>=20))}catch{Z.error("Error fetching chat data")}},[n,S]),Ce=_.useRef(!0),oe=_.useRef(!0);_.useEffect(()=>{Ce.current&&(me(1),Ce.current=!1)},[me]),_.useEffect(()=>{p.length>0&&re.current&&oe.current&&(re.current.scrollTop=re.current.scrollHeight,oe.current=!1)},[p]),_.useEffect(()=>{v>1&&me(v)},[v,me]),_.useEffect(()=>{O()},[]);const ye=_.useCallback(()=>{if(re.current){const{scrollTop:J,scrollHeight:ie,clientHeight:Ue}=re.current;if(E){console.log("fetching");return}J<(ie-Ue)*.1&&b&&(console.log("here we go again"),g($e=>$e+1))}},[b,E]);_.useEffect(()=>{const J=re.current;if(J)return J.addEventListener("scroll",ye),()=>J.removeEventListener("scroll",ye)},[ye]);const ze=async J=>{var Bt;J.preventDefault();const ie=Math.random()*100,Ue=Math.random()*100,$e=Math.random()*100;if(!i){Z.error("Input can't be empty");return}c(!0),o(null),f(null);try{m(et=>[...et,{id:ie,is_bot:!1,image:!1,image_url:"",message:i,loading:!0,isError:!1}]),B(!0);const Ze=await M({bot_id:+`${n}`,message:i,image_url:""}).unwrap();if((Ze==null?void 0:Ze.statusCode)===200){m(He=>He.map($=>$.id===ie?{...$,loading:!1}:$)),s(""),m(He=>[...He,{id:Ue,is_bot:!0,image:!1,image_url:"",message:"",loading:!0,isError:!1}]);const et=await R({bot_id:+`${n}`,query:i}).unwrap();if((et==null?void 0:et.statusCode)===200&&(m(He=>He.map($=>{var ee;return $.id===Ue?{...$,message:(ee=et==null?void 0:et.data)==null?void 0:ee.message,loading:!1}:$})),B(!0),et!=null&&et.do_generate_image)){m($=>[...$,{id:$e,is_bot:!0,image:!0,image_url:"",message:"",loading:!0,isError:!1}]),B(!0);const He=await L({answer:et==null?void 0:et.data.message,chat_id:et==null?void 0:et.data.id,bot_id:Number(n)}).unwrap();(He==null?void 0:He.statusCode)===200&&(m($=>$.map(ee=>{var ue;return ee.id===$e?{...ee,image_url:(ue=He==null?void 0:He.data)==null?void 0:ue.image_url,message:"",loading:!1}:ee})),d(!1))}o(et.data)}c(!1)}catch(Ze){console.log(Ze),Z.error((Ze==null?void 0:Ze.message)||((Bt=Ze==null?void 0:Ze.data)==null?void 0:Bt.message)||"Error sending message"),T&&m(et=>et.map(He=>He.id===ie?{...He,loading:!1,isError:!0,message:"Error sending Message"}:He)),z&&(m(et=>et.map(He=>He.id===Ue?{...He,message:"Error Generating Answer",loading:!1,isError:!0}:He)),B(!0)),I&&(m(et=>et.map(He=>He.id===$e?{...He,image_url:null,message:"Error Generating Image",loading:!1,isError:!0}:He)),d(!1)),c(!1)}};return h.jsxs("div",{className:"flex flex-col h-[90vh] w-full",children:[h.jsx(Hhe,{subject:y==null?void 0:y.display_name}),h.jsx("div",{ref:re,className:"flex w-full mb-[90px] pb-[20px] scrollable-container scrollbar-thin overflow-y-auto px-0 lg:px-4 py-6 space-y-6",children:h.jsx("div",{className:"flex mb-[10px] flex-row w-full",children:h.jsx(CY,{children:h.jsxs(Hr.div,{className:"flex w-full flex-col space-y-4 p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:[p==null?void 0:p.map((J,ie)=>h.jsx("div",{ref:ie===p.length-1?ne:null,children:h.jsx(oye,{chat:J})},J.id)),h.jsx("div",{})]})})})}),h.jsx("div",{className:"bg-white flex items-center justify-center fixed bottom-0 right-0 w-full h-28 lg:w-[78%] lg:ml-[23%]",children:h.jsx("div",{className:"w-[90vw] lg:w-[80%]",children:h.jsx(kye,{deepgram:(fe=t==null?void 0:t.api)==null?void 0:fe.deepgram,isErrorDeepGramAPI:e,isLoadingDeepGramAPI:r,setLoading:c,loading:l||u,setChats:m,setInputValue:s,inputValue:i,handleSubmit:ze,bot:y,voiceModelData:U,setNewMessageCreated:B,errorVoiceModel:N,loadingVoiceModel:q})})})]})}const BY=_.createContext(),r3e=()=>_.useContext(BY);function Wf(){const{setShowHeader:t}=r3e();return _.useEffect(()=>(t(!1),()=>t(!0)),[]),h.jsx("div",{className:"flex w-full h-full",children:h.jsx(t3e,{})})}const z4=Xi({reducerPath:"subject",baseQuery:Yi,endpoints:t=>({getSubjectByTeacher:t.query({query:()=>({url:"/subject/get-subjects-by-teacher",method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}}),getSubjectsByLevel:t.mutation({query:e=>({url:"/subject/get-subjects-by-level",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getSubject:t.mutation({query:e=>({url:"/subject/get-subject",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getAllSubjects:t.query({query:({page:e,limit:r})=>{const n={};return e!==void 0&&(n.page=e),r!==void 0&&(n.limit=r),{url:"/subject/get-all-subjects",method:"GET",params:n}},meta:{skipToken:!1,skipHeaders:!1}}),createSubject:t.mutation({query:e=>({url:"/subject/create-subject",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),updateSubject:t.mutation({query:e=>({url:"/subject/update-subject",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}})})}),{useGetSubjectByTeacherQuery:O1,useGetAllSubjectsQuery:SY,useCreateSubjectMutation:n3e,useGetSubjectMutation:_Y,useUpdateSubjectMutation:i3e,useGetSubjectsByLevelMutation:xf}=z4,H4=Xi({reducerPath:"quizeSlice",baseQuery:Yi,endpoints:t=>({createQuiz:t.mutation({query:e=>({url:"/quiz",method:"POST",body:e})}),editQuiz:t.mutation({query:e=>({url:"/quiz",method:"PATCH",body:e})}),getQuizzes:t.query({query:({page:e,limit:r})=>({url:"/quiz",method:"GET",params:{page:e,limit:r}})}),getQuizById:t.query({query:e=>`/quiz/${e}`,method:"GET"}),getQuizByUserLevel:t.query({query:({page:e,limit:r})=>({url:"/quiz/get-quiz-by-level",method:"GET",params:{page:e,limit:r}})}),updateQuiz:t.mutation({query:({quizId:e,quizData:r})=>({url:`/quiz/${e}`,method:"PUT",body:r})}),createSubmitQuizAttempt:t.mutation({query:e=>({url:"quiz-attempt/create-submition",method:"POST",body:e})}),submitQuizAttempt:t.mutation({query:e=>({url:"quiz-attempt/submit",method:"POST",body:e})}),deleteQuiz:t.mutation({query:e=>({url:`/quiz/${e}`,method:"DELETE"})}),getQuizAttempts:t.query({query:({subjectId:e,studentId:r,page:n,limit:i})=>({url:`/quiz-attempt/${e}/${r}`,method:"GET",params:{page:n,limit:i}})}),getQuizAttemptsByStudent:t.query({query:()=>({url:"/quiz-attempt/student-quiz-history",method:"GET"})}),getQuizAttemptDetails:t.query({query:e=>({url:`/quiz-attempt/get-quiz-attempt-detail/${e}`,method:"GET"})})})}),{useGetQuizAttemptsByStudentQuery:s3e,useGetQuizAttemptsQuery:a3e,useGetQuizAttemptDetailsQuery:o3e,useCreateSubmitQuizAttemptMutation:l3e,useEditQuizMutation:c3e,useCreateQuizMutation:u3e,useGetQuizzesQuery:d3e,useGetQuizByUserLevelQuery:h3e,useGetQuizByIdQuery:kY,useUpdateQuizMutation:DHe,useDeleteQuizMutation:A3e,useSubmitQuizAttemptMutation:f3e}=H4,p3e=()=>{var x,b,w;const[t,e]=_.useState({quizType:ya.MCQS,title:"",description:"",subject:"",startTime:"",endTime:"",duration:""}),[r,n]=_.useState([{question:"",options:["","","",""],correctAnswer:"",score:""}]),{data:i,isLoading:s,refetch:a,isError:o,error:l}=O1(),[c,{isLoading:u,isError:d,error:A}]=u3e();_.useEffect(()=>{Z.error(A)},[d]),_.useEffect(()=>{a()},[]);const f=async C=>{var S;if(C.preventDefault(),t.startTime===""&&t.endTime!==""||t.startTime!==""&&t.endTime===""){Z.error("Both start_time & end_time can be null, or both must be defined"),e(E=>({...E,startTime:"",endTime:""}));return}if(!t.title||!t.description||!t.subject||t.duration<=0){Z.error("Please fill in all the quiz metadata fields and ensure duration is greater than 0.");return}for(const E of r)if(!E.question||E.score<=0||t.quizType===ya.MCQS&&!E.correctAnswer&&E.options.some(M=>!M)){Z.error(`Please fill in all the question fields, ensure score is greater than 0 ${t.quizType===ya.MCQS&&", and select a correct answer if quiz type is MCQS."} `);return}const B={title:t.title,description:t.description,quiz_type:t.quizType,subject_id:Number(t.subject),start_time:t.startTime===""?null:t.startTime,end_time:t.endTime===""?null:t.endTime,duration:t.duration,questions:r==null?void 0:r.map(E=>({text:E.question,questionType:t.quizType,score:E.score,options:E.options.map((M,T)=>({text:M,isCorrect:E.correctAnswer===M}))}))};try{const E=await c(B).unwrap();console.log("response",E),Z.success("Quiz created successfully!"),e({quizType:ya.MCQS,title:"",description:"",subject:"",startTime:"",endTime:"",duration:""}),n([{question:"",options:["","","",""],correctAnswer:"",score:""}])}catch(E){Z.error(JSON.stringify((S=E==null?void 0:E.data)==null?void 0:S.message)||JSON.stringify(E==null?void 0:E.message)||"Failed to create quiz. Please try again.")}},p=()=>{n([...r,{question:"",options:["","","",""],correctAnswer:"",score:""}])},m=C=>{n(r==null?void 0:r.filter((B,S)=>S!==C))},v=(C,B,S)=>{const E=[...r];E[C].options[B]=S,n(E)},g=(C,B)=>{e({...t,[C]:B})},y=(C,B,S)=>{const E=[...r];E[C][B]=S,n(E)};return h.jsx("div",{className:"min-h-screen p-4 md:p-6 lg:p-8",children:h.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Create Quiz"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Fill in the details to create a new quiz"})]}),h.jsxs("form",{onSubmit:f,className:"p-6 space-y-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Quiz Title*"}),h.jsx("input",{type:"text",value:t.title,onChange:C=>g("title",C.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",placeholder:"Enter quiz title"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Quiz Description*"}),h.jsx("textarea",{value:t.description,onChange:C=>g("description",C.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",placeholder:"Enter quiz description"})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Quiz Type*"}),h.jsxs("select",{value:t.quizType,onChange:C=>g("quizType",C.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",children:[h.jsx("option",{value:ya.MCQS,children:"Multiple Choice"}),h.jsx("option",{value:ya.QA,children:"Question/Answer"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Subject*"}),h.jsxs("select",{value:t.subject,onChange:C=>g("subject",C.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all disabled:bg-gray-100",disabled:s,children:[h.jsx("option",{children:"Select Subject"}),(w=(b=(x=i==null?void 0:i.data)==null?void 0:x.teacher_profile)==null?void 0:b.subjects)==null?void 0:w.map(C=>h.jsx("option",{value:C==null?void 0:C.id,children:C==null?void 0:C.title},C==null?void 0:C.id))]}),o&&h.jsx("p",{className:"text-sm text-red-500 mt-1",children:l})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Start Time"}),h.jsx("input",{type:"date",value:t.startTime,onChange:C=>g("startTime",C.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"End Time"}),h.jsx("input",{type:"date",value:t.endTime,onChange:C=>g("endTime",C.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Duration (minutes)*"}),h.jsx("input",{type:"number",value:t.duration,onChange:C=>g("duration",parseInt(C.target.value)),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all"})]})]}),h.jsx("div",{className:"space-y-6",children:r==null?void 0:r.map((C,B)=>h.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg border border-gray-200",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Question ",B+1]}),(r==null?void 0:r.length)>1&&h.jsx("button",{type:"button",onClick:()=>m(B),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-full transition-all",children:h.jsx(Uu,{className:"w-4 h-4"})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Question Text*"}),h.jsx("textarea",{value:C.question,onChange:S=>y(B,"question",S.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",rows:"3",placeholder:"Enter your question here..."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Score*"}),h.jsx("input",{type:"number",value:C.score,onChange:S=>y(B,"score",parseInt(S.target.value)),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",placeholder:"Enter score"})]}),t.quizType===ya.MCQS&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.options.map((S,E)=>h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",value:S,onChange:M=>v(B,E,M.target.value),className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",placeholder:`Option ${E+1}*`}),h.jsxs("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-sm font-semibold text-gray-500",children:[String.fromCharCode(65+E),"."]})]},E))}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Correct Answer*"}),h.jsx("select",{value:C.correctAnswer,onChange:S=>y(B,"correctAnswer",S.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all",children:C.options.map((S,E)=>h.jsxs("option",{value:S,children:["Option ",String.fromCharCode(65+E)]},E))})]})]})]})]},B))}),h.jsxs("div",{className:"flex justify-between items-center pt-6",children:[h.jsxs("button",{type:"button",onClick:p,className:"inline-flex items-center px-4 py-2 bg-white border-2 border-purple-600 text-purple-600 rounded-lg hover:bg-purple-50 transition-all font-medium",children:[h.jsx(_1,{className:"w-4 h-4 mr-2"}),"Add Question"]}),h.jsxs("button",{type:"submit",className:`inline-flex items-center px-6 py-3 ${u?"bg-gray-400":"bg-gradient-to-r from-purple-600 to-purple-800"}  text-white rounded-lg hover:opacity-90 transition-all font-medium shadow-lg shadow-purple-200`,disabled:u,children:[h.jsx(ff,{className:"w-4 h-4 mr-2"}),u?"Saving...":"Save Quiz"]})]})]})]})})},m3e=()=>h.jsxs("div",{children:[h.jsx("h2",{children:"Your Profile"}),h.jsx("p",{children:"This is your user profile page."})]}),an=({statTitle:t,statValue:e,icon:r})=>h.jsx(Hr.div,{whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-5 hover:shadow-lg transition-all duration-300",children:h.jsxs("div",{className:"flex items-start space-x-4",children:[h.jsx("div",{className:"rounded-xl bg-[#EAECFF] p-3 flex items-center justify-center",children:h.jsx("img",{src:r,alt:t,className:"h-8 w-8 object-contain"})}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-2xl font-bold text-gray-900",children:e}),h.jsx("span",{className:"text-sm font-medium text-gray-500 mt-1",children:t})]})]})});function EY({title:t,image:e,href:r}){var l;const{user:n}=An(),i=bt();function s(c){c.target.src=T0}function a(c,u){return c?c.length>u?`${c.substring(0,u)}...`:c:""}function o(c){n.role===he.USER?i(`/chat-screen/${c}`):n.role===he.ADMIN||n.role===he.SUPER_ADMIN||n.role===he.SUPER_INTENDENT?i(`/admin/chat-screen/${c}`):n.role===he.TEACHER&&i(`/teacher/chat-screen/${c}`)}return h.jsx(Hr.div,{whileHover:{y:-5},className:"relative group cursor-pointer",onClick:()=>o(r),children:h.jsxs("div",{className:`bg-white rounded-xl shadow-md overflow-hidden transition-all duration-300 group-hover:shadow-lg\r
                    w-[180px] h-[240px] sm:w-[170px] sm:h-[230px] md:w-[175px] md:h-[235px] lg:w-[180px] lg:h-[240px]`,children:[h.jsxs("div",{className:"relative h-[100px] sm:h-[95px] md:h-[98px] lg:h-[100px] overflow-hidden",children:[h.jsx("img",{src:e,alt:t==null?void 0:t.display_name,onError:s,className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-black/20 to-transparent"}),n.role===he.SUPER_ADMIN&&h.jsx("div",{className:"absolute bottom-2 left-2",children:h.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-purple-700 px-2 py-0.5 rounded-full text-[10px] font-medium",children:a((l=t==null?void 0:t.school)==null?void 0:l.name,15)})})]}),h.jsxs("div",{className:"px-3 pt-2.5 pb-3 flex flex-col h-[140px] sm:h-[135px] md:h-[137px] lg:h-[140px]",children:[h.jsx("h3",{className:"font-medium text-[14px] text-gray-800 mb-1 line-clamp-1",children:t==null?void 0:t.display_name}),n.role===he.SUPER_ADMIN&&h.jsx("p",{className:"text-[12px] text-gray-600 line-clamp-3 mb-2 leading-relaxed",children:t==null?void 0:t.description}),h.jsx("div",{className:"mt-auto flex justify-end",children:h.jsx("svg",{className:"w-4 h-4 text-purple-600 transform transition-transform duration-300 group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})]})]})})}const SM=({bots:t})=>{console.log("Received bots",t);const[e,r]=_.useState(0),[n,i]=_.useState(4),[s,a]=_.useState(!1),[o,l]=_.useState(0),c=_.useCallback(()=>{const f=window.innerWidth;f<480?i(1):f<640?i(2):f<868?i(3):f<1280?i(4):i(5)},[]);_.useEffect(()=>{const f=()=>{c(),l(window.innerWidth)};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[c]);const u=_.useCallback(()=>{r(f=>f+n>=(t==null?void 0:t.length)?0:f+n)},[n,t==null?void 0:t.length]),d=_.useCallback(()=>{r(f=>f===0?Math.max(0,(t==null?void 0:t.length)-n):f-n)},[n,t==null?void 0:t.length]),A=_.useCallback(f=>{r(f*n)},[n]);return h.jsxs("div",{className:"w-full max-w-[1440px] mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute top-[-4px] left-0 w-full h-1 bg-gray-100 rounded-full overflow-hidden",children:h.jsx(Hr.div,{className:"h-full bg-gradient-to-r from-[#6F38DE] to-[#9747FF]",initial:{width:"0%"},animate:{width:`${e/Math.max((t==null?void 0:t.length)-n,1)*100}%`},transition:{duration:.3}})}),h.jsx("div",{className:"relative overflow-hidden mx-4 sm:mx-6 h-[300px] sm:h-[280px] md:h-[290px] lg:h-[300px]",children:h.jsx(Hr.div,{className:"flex gap-4 sm:gap-5 md:gap-6 h-full items-center",initial:!1,animate:{x:`${-e*(100/n)}%`},transition:{type:"spring",stiffness:300,damping:30},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.1,onDragStart:()=>a(!0),onDragEnd:(f,{offset:p,velocity:m})=>{a(!1),Math.abs(m.x)>500&&(m.x>0?d():u())},children:h.jsx(CY,{mode:"wait",children:t==null?void 0:t.map(f=>h.jsx("div",{children:f&&h.jsx(Hr.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"flex-shrink-0 w-[220px] sm:w-[200px] md:w-[210px] lg:w-[220px]",style:{"--items-to-show":n},whileHover:{scale:s?1:1.02},children:h.jsx(EY,{title:f,image:Ut+"/images/"+(f==null?void 0:f.bot_image_url),href:f==null?void 0:f.id})},f==null?void 0:f.id)},f==null?void 0:f.id))})})}),h.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center",children:h.jsx(Hr.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:d,className:`group relative -ml-2 flex h-8 w-8 items-center justify-center \r
                     rounded-full bg-white shadow-md hover:shadow-lg\r
                     border border-gray-200 transition-all duration-200\r
                     disabled:opacity-50 disabled:cursor-not-allowed\r
                     focus:outline-none focus:ring-2 focus:ring-[#6F38DE]/50`,children:h.jsx(Bye,{size:16,className:"text-[#6F38DE] transition-transform group-hover:-translate-x-0.5"})})}),h.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:h.jsx(Hr.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:u,className:`group relative -mr-2 flex h-8 w-8 items-center justify-center \r
                     rounded-full bg-white shadow-md hover:shadow-lg\r
                     border border-gray-200 transition-all duration-200\r
                     disabled:opacity-50 disabled:cursor-not-allowed\r
                     focus:outline-none focus:ring-2 focus:ring-[#6F38DE]/50`,children:h.jsx(Sye,{size:16,className:"text-[#6F38DE] transition-transform group-hover:translate-x-0.5"})})})]}),h.jsx("div",{className:"flex justify-center mt-4 space-x-1.5",children:Array.from({length:Math.ceil((t==null?void 0:t.length)/n)}).map((f,p)=>h.jsx(Hr.button,{whileHover:{scale:1.2},whileTap:{scale:.9},onClick:()=>A(p),className:`h-1.5 transition-all duration-300 rounded-full
              ${e===p*n?"w-4 bg-[#6F38DE]":"w-1.5 bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to slide ${p+1}`},p))})]})},Fm="/assets/state1-BPzGH9JW.svg",ro="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAb8SURBVHgB7VhbbBRVGP5mdmZnZy/d2bZbLkW7omgwqMVbUAJOoyjBC61GRR6EB1FCNKJRo8akmBhNjInwoiY8uD4Y9cEoUZBAAgsmiGiwBCSBcNnKpd3Sy273Ortz8ZyZ7nba3S3tNvhiv6Sdc+b85/zf+c9//v+fBWYwgxlMGQymiXZZllzgWn0uLuSYQI5hmLiQzUa2RiJxTBEcpoG18opXifItboGTOMfV95tzu3eQRzumiJpJrpUf7iTnsMXBMZgMQQqyIT9qAIsasEaWQ5SgtcC0PeaqqIkkC35zsa3rBq41aiJJbHdHsa0Sktm8Bt24dmSndXGWtTbhxmYfmoMiAnXO0vt4soDYYBanuodx7PQQpotpkVw0X8KN87xmm1wKOHjebDc2ONFQ78bC+QEsX9yEPYd7TML/KUmDZeKwnS4l6PL7zOd4zPG68eBSnpA8AcMwEqgBNfmkoesH6snxFq1I2FUkaA6xLIKNXgT8AhjDiKAGVLTkxpUrQ5qmSdv37u2qNG6A+3Hjkzd/iknCJXDY8Ozt2LX/dAS/lOlaD5YNlU3S9fAXu3dHaXPM9mkGcTm5LQLPSiOvomT34c927XrfLtfzw9shctrni31qLZEc99Ug8FpIXPpeN20/Jz+8zis61nMsK1cRj3++c2eANthRgjSDMFt5jpFsgiGDpL1Nq1Z12mfnkJty/jXn5VXTJ2kyIN4RZhlGnkC8xIMtTipmkErRjhLd+NhjcrF/Q8dWQtKYKtFooG3LyBwuRP/nCzqcPAvJx084kbOYjmYQwelAc6OI7p70WEldp4VBpEQczDbiK52YJBjbXKI2ShbEbQsCWL18HkTBqp96B3JEbwpH/u6nsbZ0H6zjZpkW+qDCL3UswPOPzscrz96CB+6cZZIeQciuNI/c1qI1yW2n4QUTIEoSU8mvv43sjt58nS++ZkUL3CIPgYQpl8+DlusDWHrXXKx7fAG8bv7AGJKMbkg0pJAbiwZSHdIJwSYfHrh7Nl7suAmzGlw0xNxh10qPXIejrUhUUwrVCMYNw9ERaHsnan+5oX0BLdvAC4KZBFiOg8PphNMtYnZzPd7ddM9YSxKfa6UEaXqjBOkE3mWRbWzw4JmHWsosSTGv48OuRFzZVihoKORyZdZUsgpiFwa2BdreKgtlRNLyT6ZaFcWUfJ59WpZbyVMaGlasIXY0vtO20+PGpUHLShtWrGittFwioWBgIIPB3iEkBpIYiMXR+08/YhcHkc+rqEiB0SOYEMyoJXnwpuI9v/dYOxxnjVxOxf4jl8w2x3Hy+KXq6lwISCIE4s95cuSZZAZqLg8Ha8Dvd6GeuE8lNHd8/CPR1qVrWtkYobDN7h4suTSraePspRTCP59FLpUpCQ8PZ7H9u+MYSigj0uxq+2K3eja1rnsj07nvNxUej9MkRf98dYLZ/3mfhqc2pTsXeV+WKxFVoLQpmWxX0TA6uYD5fCFMCG62y7GkEOwudk6cS+BK7zAuno2ZfxfO9+NyX9q2Q+NYsS2HPgoJvPPLWL+OT7YreP71DGJXdHPsbLeONz/M4ouvFaQzBniO/3QlkR9Pkl4+FcfiF8704vL5Plw614dc+mBZ/DW9do28kiygyctbg52P3j8vpKm66dAO8u3yzZ7uyLme1A53Oh3uisoQWM96MkYtKmuair7By4S8Xlrw/mUcDv066ocMw6Kpfi5ZywzJER36V/KyaNe7bxyQVVVZnUpekdXM3Shk7oHTtw+8eAZe/+wwyzp2QElGmMXRuEnSOL5IVpSGzsEL98njd8GyKoI37A+val8bNxisZ2DY0yYy2RQJvP1mO3iTA3MWGeg9waDvjOVrkq+RxELv+GXR/sRJbHzhCNKpflLdO8E3vIJ87AO4PfVwCh6bGY3XHMpfoU4H5wxzfDYkiANQFT90TTDHnaQvzT2Kb7+vbz1wqG6JKLjLbgHPWxU5GUNoYQMWkgSQ7OFJdufMdx535cLj8B8MCmoeS+7NQPCEkJ/1Jrz5n8Dxoyp0XUUy0beEy6SGNuuiBpfoJ4F0AI0tB0kGsXIpw1qhZ9/B+cjmUmY7UNdYptDnsYzbHJyDRx65FckzJxGP9qAa4sP9yJD1Tp32kpMibqDFcOJ0FEs83BiCqeEr9CnRt1Iua5X2lKid3HhQoizxMb+vvuK4a0SJ6K5e8CdSgyZBimTKksvpwTI5JZc0iVKwduaTQZpsiF6YSpCC1lFJTWLFcTovnZnct479Mtb0+aBWISkWLemp/KuQWsUQKkRizUZUQ00kq0EKimOek4WqeyYc50h10UHXNTSDVhoVhZ556jL+PBoo9TViEabCzyspmv/JMm4vV3GcxD7Yv1juWjxo6uSZpJkL7fq1UT41fQXMYAb/e/wLHp2UNj8YFhMAAAAASUVORK5CYII=",Tm="/assets/state2-OBhDDxWe.svg",MY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAa/SURBVHgBvZhfbBRFHMe/s7t3vf6jvWAp/yTHHUgI5V80xggJpYoGJZHomw8WHjUY6ps8Ab5IDAomJvVJ8cUnE2OiL75wTUoiEJPrH7FIS7eFVkCh2z/Xu+ve7jgz2727vZu9blviN5nbmdnd2c/+5je/39wSrED0TsclUNIFkBQo1VnpgWqnkIdOdiZ1PGURLFN0tL0ZpjpVZUQDFCnxArY9JuDnkCL7kwb+N8g7r7Yzy13FssWgQY1F6/eAWDp5LpkKdCeWKTrU0QWFXBKN+peB6DtAdgSwHjjH3DBgp5cx4qLLgPZBsZPIpQ3SdjO1Osi/Oi6z206LRk0CWPseoK136q7sOQY74kBn+oD8A6cdROYj/sv83DpP2m5dWSHkK3yq26UnOSgHrt0DRLaxNitKffE8B827Fh+RwFMX0m1fIbv+OLkCn+yYYiu7OfANHJLDRtgLqK2V8OlrwOTZxcEXGHjZmqT2SQ0B1B471xxCXeyt4/fYorlVCVi7F2j5QG4l7p98ynkplWt17hoFoHzlwxWlU6sE+jQWUsPtCsVeEBpjVtsnjkxjegOk4kDzKcdKfCG5Vir1zfKFlRup9FNqVY5N0V6AfD1+8TQl5BwBbRa+4ToCoYXr9+x5AqnMh8C/3cW2ayV+5NNcxyxd83bx/N9seueuSQbKy0Y3NAfw80sMpouAopri8VkEkmuldBmIC5/xCY+2WdnHEoN2JPHZCVbrQgCtb50v1M1QG2ain0DNj0K1/hFHjRXFesSOOqrCyyT8UWqkPk2B0omAiieKlrS02OJxqyioedFzrQsfWhgU0LxNaLUgb/n0U11j7PuCxKF4fMY7pLqu6vUu/EIJPIcUwOYoQuYgwrkbxRtkUy0YSUojlBjs7iXjXmtrxgsRimG5oqSeuckuUSxzqxdSvmhYt5ZSKKGBknz5yra0OFYjPv1eSafbIPtThsIizBgCKFEy3ZYag03qsBrxBeaRLbGk2PKxa21CAlmydLptpQGrVcjUiw2eDuUSaYotbmtJyPp60wNphndhtVKt0un2ic+KleQHzTRDeo1qoZoSZSs7kr3KpiDN/HKdCEV8FdukHkHF4ykp3XPaPpa0iS6uT+ofGSzj6G5+lkImvJmG+1Mk87Onj7J8nVe3Cmgz3AZbbWELc6t0PIXFT6/kK5vtJ8Usi7RIqd1DCInBR+vKwo90QGaZkD0o4l/pC4h4qTDgkBM3OXw4d917syxGEhTcUFvs0FFFWzaNI20MQ1FroIUbQYgqjkEkMg9GEV644XMFhdQnKR0rg6y+wje0DMLMOnk7l35YBAjVMfAwVK3OU1+WqE+msYnXkoplpqga8hsGN3/fjkMH+ir6LXNeFBPef6vC2opjbecFapkdfPbX1CfTqMWoU0jbryUuTrGGb3r85peX0PKMAWtuAFZ6AHZ2XByDikO7Fle1WuE6At5mM2RLfJ7a+z0Lx+lkfkmwT/aA+jU12LjjgKiH1r7pOecC541eUeeF5qclz7SQX5gVpVQqh9U0ROrWsH8KBRzDBSyDZP97CZFCJnb673jU+t2ilMJzSBfYzoxXhbesnCgLubQAjdQ2FdJhBSRxlrx0b9m6eQ2WI6I1QWs6KIoHyHUTH5fJzs9A01gE0SJ9ckgFKSqJBEePXMex9p+QGemB1nywALASyawu4MYvIDt2walnZtDQWKNLIbNs31aeHvlC6Xz3V1HPTfaz0u15oBLZ4jy4oVhfiSJbPsbCw+8d3zZzYqNbet6zKS9d4Tkzy9z0Ebq/+AEbWoN92+FWLsA37C5Yjvcvpbn+Y8hP9zoNi0Sjhw3DD/JH1nF8Nm2AF1fb4lNYv24O2+NPivXEFILKhS+3ugufm+hG5u4Z52IWZaKHpj1J3xNh+QZ4PjfnAWxsqoPWsAlrE5vRsnszNuzZhB3s2NhUGzz8sD5upYKlFuW6hyfeEvt8+f0eSL4Bns8UP3u8f+YoK2/AT6sOP+XJgJLvoodmr6AaJN8ALzBf5Nq4ZW1VQD/xKczgeUw+jmFoYAK3+1/AxNgT3Puzx99lRCIhX0YPGZdlY3og+Qa42Kr+NcPV5PhjATPJQG7338fN3mHRV6kohu9G0fvbs55eFvaSg3NfHa72jIq/3LsbTxW+P3JL8innmp3O4PbAfQz1TwgYAcZgeH9AGQxIZ9+bUqpt91GF6KqqJVPG5SW/pUsgPzzB3u9bt80XCF88cuv4ierUiXV9bDOtm6aZHMp+rWOFkn68aGs4dY6lybNYWtw6LkzKsq1UOBTWg1hn1ZBc3KKU0k4G245VTNXT0H/8vmamA0sU8wAAAABJRU5ErkJggg==",$4=Xi({reducerPath:"stats",baseQuery:Yi,endpoints:t=>({getStats:t.query({query:()=>({url:"/stats",method:"GET"}),providesTags:["Stats"]})})}),{useGetStatsQuery:_M}=$4,Rw="/assets/bannerbg-CL3ltOA0.png";function g3e(){return bt(),h.jsxs(Hr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative w-full mb-8 overflow-hidden rounded-3xl bg-gradient-to-r from-[#433074] to-[#6247AA] p-6 sm:p-8 lg:p-10 text-white mr-4 sm:mr-7",children:[h.jsx("div",{className:"absolute inset-0 z-0",children:h.jsxs("div",{className:"relative h-full w-full",children:[h.jsx("img",{src:Rw,alt:"Hero Banner Background",className:"object-cover w-full h-full brightness-75"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#433074]/80 to-[#6247AA]/80 mix-blend-multiply"})]})}),h.jsxs("div",{className:"relative z-20 max-w-xl space-y-6 md:space-y-8",children:[h.jsxs(Hr.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:`text-2xl sm:text-3xl md:text-4xl font-poppins font-medium leading-tight sm:leading-snug md:leading-normal\r
            bg-gradient-to-r from-white to-white/90 bg-clip-text text-transparent`,children:["Manage Schools, Settings,",h.jsx("br",{className:"hidden sm:block"}),"and AI Integrations."]}),h.jsx(Hr.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-sm sm:text-base md:text-lg text-white/90 max-w-prose leading-relaxed",children:"Configure OpenAI keys, manage schools, and customize settings to optimize the platform."}),h.jsxs(Hr.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`group relative overflow-hidden rounded-full px-6 py-3 text-xs sm:text-sm md:text-base \r
            bg-gradient-to-r from-[#433074] to-[#6247AA] text-white\r
            hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out\r
            focus:outline-none focus:ring-2 focus:ring-[#6247AA] focus:ring-opacity-50`,children:[h.jsx("span",{className:"relative z-10",children:"MANAGE SETTINGS"}),h.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"})]})]}),h.jsx(Hr.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},transition:{delay:.4,type:"spring"},className:"absolute bottom-0 right-0 h-40 sm:h-48 md:h-52 w-2/5 z-10 items-center justify-center",children:h.jsx("img",{src:T0,alt:"Admin Image",className:"object-contain w-full h-full transform hover:scale-105 transition-transform duration-300"})})]})}function y3e(){return h.jsxs(Hr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative w-full mb-8 overflow-hidden rounded-3xl bg-gradient-to-r from-[#433074] to-[#6247AA] p-6 sm:p-8 lg:p-10 text-white mr-4 sm:mr-7",children:[h.jsx("div",{className:"absolute inset-0 z-0",children:h.jsxs("div",{className:"relative h-full w-full",children:[h.jsx("img",{src:Rw,alt:"Hero Banner Background",className:"object-cover w-full h-full brightness-75"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#433074]/80 to-[#6247AA]/80 mix-blend-multiply"})]})}),h.jsxs("div",{className:"relative z-20 max-w-xl space-y-6 md:space-y-8",children:[h.jsxs(Hr.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"text-2xl sm:text-3xl md:text-4xl font-poppins font-medium leading-tight sm:leading-snug md:leading-normal",children:["Manage Subjects, Levels, Files,",h.jsx("br",{className:"hidden sm:block"}),"Voice Models, Bots, and Users."]}),h.jsx(Hr.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-sm sm:text-base md:text-lg text-white/90 max-w-prose leading-relaxed",children:"Configure and manage all aspects of the platform, from subjects and levels to AI voice models and user accounts."}),h.jsxs(Hr.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`group relative overflow-hidden rounded-full px-6 py-3 text-xs sm:text-sm md:text-base \r
            bg-gradient-to-r from-[#433074] to-[#6247AA] text-white\r
            hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out\r
            focus:outline-none focus:ring-2 focus:ring-[#6247AA] focus:ring-opacity-50`,children:[h.jsx("span",{className:"relative z-10",children:"MANAGE PLATFORM"}),h.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"})]})]}),h.jsx(Hr.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},transition:{delay:.4,type:"spring"},className:"absolute bottom-0 right-0 h-40 sm:h-48 md:h-52 w-2/5 z-10",children:h.jsx("img",{src:T0,alt:"Admin Image",className:"object-contain w-full h-full transform hover:scale-105 transition-transform duration-300"})})]})}const w8=()=>{var W;const t=bt(),{user:e}=An(),[r,n]=_.useState(1),[i,s]=_.useState(10),[a,o]=_.useState(!1),l=(e==null?void 0:e.role)===he.SUPER_ADMIN,c=(e==null?void 0:e.role)===he.SUPER_INTENDENT,u=(e==null?void 0:e.role)===he.ADMIN,{data:d,error:A,isError:f,isLoading:p,refetch:m}=XG({page:r,limit:i},{skip:!(l||c)}),{data:v,error:g,isError:y,isLoading:x,refetch:b}=xye({page:r,limit:i},{skip:!u});_.useEffect(()=>{u&&b(),l&&m(),c&&m()},[]);const{data:w,isLoading:C,isError:B,error:S,refetch:E}=_M();_.useEffect(()=>{E()},[]);const M=l||c?d:u?v:null,T=l||c?p:u?x:!1,L=l||c?f:u?y:!1,I=l||c?A:u?g:null,R=()=>{t("/admin/bots")},z=(M==null?void 0:M.totalPages)||1;return T||C?h.jsx("div",{className:"text-center py-8",children:"Loading..."}):L||B?h.jsx("div",{className:"text-red-500 text-center py-8",children:h.jsx("p",{children:((W=I==null?void 0:I.data)==null?void 0:W.message)||(S==null?void 0:S.message)||"Error loading data. Please try again."})}):(console.log("botsData",M),h.jsxs("div",{className:"flex-1 p-6",children:[l?h.jsx(g3e,{}):h.jsx(y3e,{}),h.jsxs("section",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[h.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[h.jsx(Xs,{className:"text-[#6F38DE]"}),"Bots"]}),u&&h.jsx("button",{onClick:R,className:`inline-flex items-center px-4 py-2 text-sm font-medium text-[#6F38DE] \r
                     bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors duration-200`,children:a?"View Less":"View All"})]}),h.jsx("div",{className:"w-full",children:(M==null?void 0:M.bots.length)===0?h.jsx("p",{className:"text-center text-gray-500 py-8",children:"No bots available."}):h.jsx("div",{className:"py-8",children:h.jsx(SM,{bots:M==null?void 0:M.bots})})}),M&&(M==null?void 0:M.bots.length)>0&&h.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[h.jsx("select",{value:i,onChange:K=>{s(Number(K.target.value)),n(1)},className:"border border-gray-300 rounded-md text-sm px-2 py-1 focus:outline-none focus:ring-2 focus:ring-[#6F38DE] focus:border-transparent",children:[10,20,50,100].map(K=>h.jsxs("option",{value:K,children:[K," per page"]},K))}),h.jsx("div",{className:"flex gap-1",children:Array.from({length:z},(K,U)=>U+1).map(K=>h.jsx("button",{onClick:()=>n(K),className:`px-3 py-1 rounded-md text-sm font-medium ${r===K?"bg-gradient-to-r from-[#6F38DE] to-[#3C1589] text-white":"text-gray-700 hover:bg-gray-100"}`,children:K},K))})]})]}),h.jsxs("div",{className:"mt-0",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsx("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2 mt-5",children:"Activity Stats"})}),h.jsx("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-4 gap-4",children:C?h.jsx("p",{children:"Loading statistics..."}):B?h.jsxs("p",{className:"text-red-500",children:["Error: ",S==null?void 0:S.message]}):h.jsxs(h.Fragment,{children:[l&&h.jsxs(h.Fragment,{children:[h.jsx(an,{statTitle:"Districts",statValue:(w==null?void 0:w.districts)||0,icon:Fm}),h.jsx(an,{statTitle:"Super Intendents",statValue:(w==null?void 0:w.super_intendents)||0,icon:ro}),h.jsx(an,{statTitle:"Bots",statValue:(w==null?void 0:w.bots)||0,icon:Tm}),h.jsx(an,{statTitle:"Levels",statValue:(w==null?void 0:w.levels)||0,icon:Fm}),h.jsx(an,{statTitle:"Subjects",statValue:(w==null?void 0:w.subjects)||0,icon:ro})]}),c&&h.jsxs(h.Fragment,{children:[h.jsx(an,{statTitle:"Principals",statValue:(w==null?void 0:w.principals)||0,icon:ro}),h.jsx(an,{statTitle:"Schools",statValue:(w==null?void 0:w.schools)||0,icon:ro}),h.jsx(an,{statTitle:"Teachers",statValue:(w==null?void 0:w.teachers)||0,icon:ro}),h.jsx(an,{statTitle:"Students",statValue:(w==null?void 0:w.students)||0,icon:ro})]}),u&&h.jsxs(h.Fragment,{children:[h.jsx(an,{statTitle:`Teachers (Subjects: ${(w==null?void 0:w.teachers_subjects)||0})`,statValue:(w==null?void 0:w.teachers)||0,icon:ro}),h.jsx(an,{statTitle:"Students",statValue:(w==null?void 0:w.students)||0,icon:Tm}),h.jsx(an,{statTitle:"Bots",statValue:(w==null?void 0:w.bots)||0,icon:MY}),h.jsx(an,{statTitle:"Levels",statValue:(w==null?void 0:w.levels)||0,icon:Fm}),h.jsx(an,{statTitle:"Student Subjects",statValue:(w==null?void 0:w.students_subjects)||0,icon:ro}),h.jsx(an,{statTitle:"Quizzes",statValue:(w==null?void 0:w.quizzes)||0,icon:Tm})]})]})})]})]}))},$p=Xi({reducerPath:"file",baseQuery:Yi,endpoints:t=>({getFiles:t.query({query:({page:e,limit:r})=>{const n={};return e!==void 0&&(n.page=e),r!==void 0&&(n.limit=r),{url:"/context-data/files",method:"GET",params:n}},meta:{skipToken:!1,skipHeaders:!1}}),createFile:t.mutation({query:e=>({url:"/context-data/upload",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),deleteFile:t.mutation({query:e=>({url:"/context-data/delete",method:"DELETE",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getFilesBySubject:t.mutation({query:e=>({url:"/context-data/files-by-subject",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}})})}),{useGetFilesBySubjectMutation:v3e,useGetFilesQuery:FY,useCreateFileMutation:LHe,useDeleteFileMutation:x3e}=$p;class b3e{static async CreateBot(e,r){const n={"Content-Type":"multipart/form-data",token:localStorage.getItem("accessToken")};return bg((i,s,a)=>kt.post(i,s,a),e,`${Ut}/bot/create-bot`,n,r)}}const V4=Xi({reducerPath:"level",baseQuery:Yi,endpoints:t=>({getLevel:t.mutation({query:e=>({url:"/level/get-level",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getAllLevels:t.query({query:({page:e,limit:r}={})=>{const n={};return e!==void 0&&(n.page=e),r!==void 0&&(n.limit=r),{url:"/level/get-all-levels",method:"GET",params:n}},meta:{skipToken:!1,skipHeaders:!1}}),createLevel:t.mutation({query:e=>({url:"/level/create-level",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),updateLevel:t.mutation({query:e=>({url:"/level/update-level",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}})})}),{useGetLevelMutation:w3e,useGetAllLevelsQuery:Oo,useCreateLevelMutation:C3e,useUpdateLevelMutation:B3e}=V4,R2=({label:t,icon:e,error:r,...n})=>h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[e&&h.jsx(e,{className:"text-[#6925EF] w-4 h-4"}),t]}),n.type==="textarea"?h.jsx("textarea",{...n,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20 transition-all duration-200"}):h.jsx("input",{...n,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20 transition-all duration-200"})]}),S3e=()=>{var oe,ye,ze,fe;const t=F0(),[e,r]=_.useState(""),[n,i]=_.useState(""),[s,a]=_.useState(""),[o,l]=_.useState(""),[c,u]=_.useState(""),[d,A]=_.useState(""),[f,p]=_.useState(null),[m,v]=_.useState(""),[g,y]=_.useState(""),[x,b]=_.useState(!1),[w,C]=_.useState(""),[B,S]=_.useState(null),[E,M]=_.useState(),{data:T,refetch:L,isLoading:I}=Oo(),{data:R,isLoading:z}=BM(),[W,{isLoading:K}]=xf(),[U,{data:q,isLoading:N}]=v3e();_.useEffect(()=>{L()},[]);const ne=J=>{const ie=J.target.value,Ue=q==null?void 0:q.files.find($e=>$e.slug===ie);Ue&&(p(Ue),C(Ue.file_name))},re=async J=>{const ie=J.target.value;y(ie);try{await U({subject_id:Number(ie)}).unwrap()}catch{Z.error("Failed to fetch files for the selected subject.")}},O=async J=>{const ie=J.target.value;v(ie);try{const Ue=await W({level_id:Number(ie)}).unwrap();(Ue==null?void 0:Ue.statusCode)===200&&M(Ue==null?void 0:Ue.data)}catch{Z.error("Failed to fetch subjects for the selected level.")}},me=J=>{const ie=J.target.files[0];ie&&ie.type.startsWith("image/")?S(ie):Z.error("Please upload a valid image file.")},Ce=async J=>{var Ue,$e,Bt,Ze,et;J.preventDefault(),b(!0);const ie=new FormData;ie.append("name",e),ie.append("description",s),ie.append("first_message",o),ie.append("ai_model",c),ie.append("voice_model",d),ie.append("file_id",Number(f==null?void 0:f.id)),ie.append("display_name",n),ie.append("level_id",Number(m)),ie.append("subject_id",Number(g)),ie.append("image",B);try{const He=await b3e.CreateBot(ie,t);console.log("res",He),((Ue=He==null?void 0:He.data)==null?void 0:Ue.statusCode)===200?(Z.success("Bot created successfully"),r(""),i(""),a(""),p(null),u(""),A(""),v(""),y(""),l(""),C(""),S(null),b(!1)):(Z.error(((Bt=($e=He==null?void 0:He.response)==null?void 0:$e.data)==null?void 0:Bt.message)||((et=(Ze=He==null?void 0:He.response)==null?void 0:Ze.data)==null?void 0:et.error)||"Failed to create Bot"),b(!1))}catch{}b(!1)};return h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[h.jsx(Xs,{className:"text-[#6925EF]"}),"Create AI Chat Bot"]}),h.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Configure your new AI chatbot with the required information"})]}),h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:h.jsx("div",{className:"p-6 space-y-6",children:h.jsxs("form",{onSubmit:Ce,className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsx(R2,{label:"Bot Name",icon:Xs,type:"text",value:e,onChange:J=>r(J.target.value),placeholder:"Enter bot name",required:!0}),h.jsx(R2,{label:"Display Name",icon:xb,type:"text",value:n,onChange:J=>i(J.target.value),placeholder:"Enter display name",required:!0}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(q9,{className:"text-[#6925EF] w-4 h-4"}),"Select AI Model"]}),h.jsxs("select",{value:c,onChange:J=>u(J.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[h.jsx("option",{value:"",children:"Select AI Model"}),k4==null?void 0:k4.map((J,ie)=>h.jsx("option",{value:J,children:J},ie))]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(q9,{className:"text-[#6925EF] w-4 h-4"}),"Select Deepgram Model"]}),h.jsxs("select",{value:d,onChange:J=>A(J.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[h.jsx("option",{value:"",children:z?"Loading...":"Select Deepgram Model"}),z?h.jsx("option",{children:"Loading..."}):(ye=(oe=R==null?void 0:R.api)==null?void 0:oe.tts)==null?void 0:ye.map((J,ie)=>h.jsx("option",{value:J.uuid,children:J.name},ie))]})]}),h.jsx(R2,{label:"Bot Description",icon:gA,type:"textarea",value:s,onChange:J=>a(J.target.value),rows:"4",placeholder:"Enter bot description",required:!0}),h.jsx(R2,{label:"Bot First Message",icon:gA,type:"textarea",value:o,onChange:J=>l(J.target.value),rows:"2",placeholder:"Enter bot first message",required:!0}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(sE,{className:"text-[#6925EF] w-4 h-4"}),"Select Level"]}),h.jsxs("select",{value:m,onChange:O,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[h.jsx("option",{value:"",children:I?"Loading...":"Select Level"}),(ze=T==null?void 0:T.data)==null?void 0:ze.map(({id:J,level:ie})=>h.jsx("option",{value:J,children:ie},J))]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(xb,{className:"text-[#6925EF] w-4 h-4"}),"Select Subject"]}),h.jsxs("select",{value:g,onChange:re,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",disabled:!m,required:!0,children:[h.jsx("option",{value:"",children:K?"Loading...":"Select Subject"}),E==null?void 0:E.map(({id:J,title:ie})=>h.jsx("option",{value:J,children:ie},J))]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(gA,{className:"text-[#6925EF] w-4 h-4"}),"Choose File"]}),h.jsxs("select",{value:f?f.slug:"",onChange:ne,disabled:!g,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[h.jsx("option",{value:"",children:N?"Loading...":"Select a file"}),(fe=q==null?void 0:q.files)==null?void 0:fe.map(({file_name:J,slug:ie,id:Ue})=>h.jsx("option",{value:ie,children:J},Ue))]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(jhe,{className:"text-[#6925EF] w-4 h-4"}),"Bot Image"]}),h.jsx("input",{type:"file",onChange:me,accept:"image/*",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0},B?"uploaded":"not-uploaded")]}),h.jsx("div",{className:"pt-4",children:h.jsxs("button",{type:"submit",className:`w-full px-6 py-3 ${x?"bg-gray-400":"bg-gradient-to-r from-[#6925EF] to-[#3C1589]"}  text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium`,disabled:x,children:[h.jsx(Xs,{className:"w-5 h-5"}),"Create Bot"]})})]})})})]})})},K4=Xi({reducerPath:"profile",baseQuery:Yi,endpoints:t=>({getProfile:t.query({query:({role:e,id:r,payload:n})=>{let i="",s="GET",a;switch(console.log("role",e=="user"),e){case"superadmin":i="/profile/get-superadmin-profile";break;case"admin":i=`/profile/get-admin-profile/${r}`;break;case"teacher":i="/profile/get-teacher-profile",s="POST",a=n;break;case"user":i="/profile/get-student-profile",s="POST",a=n;break;case"parent":i=`/profile/get-parent-profile/${r}`;break;default:throw new Error("Invalid role")}return{url:i,method:s,body:a}}}),updateProfile:t.mutation({query:({role:e,...r})=>{let n="";switch(e){case"superadmin":n="/profile/update-superadmin-profile";break;case"admin":n="/profile/update-admin-profile";break;case"teacher":n="/profile/fill-teacher-profile";break;case"student":n="/profile/fill-student-profile";break;default:throw new Error("Invalid role")}return{url:n,method:"PUT",body:r}}}),updateSuperAdminProfile:t.mutation({query:e=>({url:"/profile/update-superadmin-profile",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getSuperAdminProfile:t.query({query:e=>({url:"/profile/get-superadmin-profile",method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}}),updateSchoolAssignmnet:t.mutation({query:e=>({url:"/profile/update-school-assignment",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),updateAdminProfile:t.mutation({query:e=>({url:"/profile/update-admin-profile",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getAdminProfile:t.query({query:e=>({url:`/profile/get-admin-profile/${e.admin_id}`,method:"GET"})}),getAllSuperIntendentsProfile:t.query({query:()=>({url:"/profile/get-all-super-intendents",method:"GET"})}),getAllAdminProfile:t.query({query:()=>({url:"/profile/get-all-admins",method:"GET"})}),getParentProfile:t.query({query:e=>({url:`/profile/get-parent-profile/${e}`,method:"GET"})}),deleteJoinTeacherSubjectLevel:t.mutation({query:e=>({url:"/profile/delete-join-teacher-subject-level",method:"DELETE",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),createJoinTeacherSubjectLevel:t.mutation({query:e=>({url:"/profile/create-join-teacher-subject-level",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getAllJoinTeacherSubjectLevel:t.mutation({query:e=>({url:"/profile/get-join-teacher-subject-level",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getTeacherProfile:t.mutation({query:e=>({url:"/profile/get-teacher-profile",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),fillProfile:t.mutation({query:e=>({url:"/profile/fill-profile",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getAllChildren:t.query({query:()=>({url:"/profile/get-all-children",method:"GET"})}),getStudentById:t.query({query:e=>({url:`/profile/get-student/${e}`,method:"GET"})}),getChildrenById:t.query({query:e=>({url:`/profile/get-children/${e}`,method:"GET"})}),getStudentProfile:t.mutation({query:e=>({url:"/profile/get-student-profile",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getStudentsByLevel:t.query({query:e=>({url:"/profile/get-students-by-level",method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}}),getChildrenAttemptedPuzzles:t.query({query:({child_id:e,page:r,limit:n})=>({url:`/profile/get-children-attempted-puzzles/${e}?page=${r}&limit=${n}`,method:"GET"})}),getChildrenAttemptedQuizzes:t.query({query:({child_id:e,page:r,limit:n})=>({url:`/profile/get-children-attempted-quizzes/${e}?page=${r}&limit=${n}`,method:"GET"})})})}),{useGetAllSuperIntendentsProfileQuery:_3e,useGetStudentByIdQuery:k3e,useGetProfileQuery:NHe,useUpdateProfileMutation:jHe,useGetParentProfileQuery:IHe,useGetSuperAdminProfileQuery:E3e,useUpdateSuperAdminProfileMutation:M3e,useGetStudentsByLevelQuery:F3e,useCreateJoinTeacherSubjectLevelMutation:TY,useDeleteJoinTeacherSubjectLevelMutation:T3e,useGetAllJoinTeacherSubjectLevelMutation:OHe,useFillTeacherProfileMutation:PHe,useFillProfileMutation:kM,useUpdateSchoolAssignmnetMutation:D3e,useGetTeacherProfileMutation:UHe,useUpdateAdminProfileMutation:RHe,useGetAdminProfileQuery:QHe,useGetAllAdminProfileQuery:L3e,useFillStudentProfileMutation:zHe,useGetStudentProfileMutation:HHe,useGetAllChildrenQuery:N3e,useGetChildrenByIdQuery:j3e,useGetChildrenAttemptedPuzzlesQuery:I3e,useGetChildrenAttemptedQuizzesQuery:O3e}=K4;function P3e({studentProfile:t,profileRefetch:e}){var S,E,M,T,L;console.info("studentprfile",t);const{user_id:r}=Ar(),[n,i]=_.useState(t==null?void 0:t.level_id),[s,a]=_.useState(t==null?void 0:t.user_roll_no),[o,l]=_.useState(t==null?void 0:t.parent_id);_.useEffect(()=>{t!=null&&t.level_id&&i(t==null?void 0:t.level_id)},[t==null?void 0:t.level_id]),_.useEffect(()=>{t!=null&&t.parent_id&&l(t==null?void 0:t.parent_id)},[t==null?void 0:t.parent_id]),_.useEffect(()=>{t!=null&&t.user_roll_no&&a(t==null?void 0:t.user_roll_no)},[t==null?void 0:t.user_roll_no]);const[c,{isLoading:u,isError:d,error:A}]=kM(),{data:f,isLoading:p,isError:m,error:v,refetch:g}=Oo(),{data:y,isLoading:x,isError:b,error:w,refetch:C}=rE({page:1,limit:1e16});_.useEffect(()=>{g(),C()},[]);const B=async I=>{I.preventDefault();try{const R=await c({level_id:Number(n),user_roll_no:s,user_id:Number(r),parent_id:Number(o),role:he.USER}).unwrap();(R==null?void 0:R.statusCode)==200?(Z.success("Student Profile updated successfully"),e()):Z.error((R==null?void 0:R.message)||"Update failed")}catch{Z.error("Error updating student profile")}};return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[h.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Student Profile"})}),h.jsxs("form",{onSubmit:B,className:"p-6 space-y-6",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Level"}),p?h.jsx("p",{children:"Loading levels..."}):m?h.jsxs("p",{className:"text-red-500",children:["Error loading levels: ",((S=v==null?void 0:v.data)==null?void 0:S.message)||"Unknown error"]}):h.jsxs("select",{value:n,onChange:I=>i(I.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[h.jsx("option",{value:"",disabled:!0,children:"Select Level"}),(E=f==null?void 0:f.data)==null?void 0:E.map(I=>h.jsxs("option",{value:I.id,children:[I.level.charAt(0).toUpperCase()+I.level.slice(1)," - ",I.description]},I.id))]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Parent"}),p?h.jsx("p",{children:"Loading Parents..."}):m?h.jsxs("p",{className:"text-red-500",children:["Error loading Parents: ",((M=w==null?void 0:w.data)==null?void 0:M.message)||"Unknown error"]}):h.jsxs("select",{value:o,onChange:I=>l(I.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[h.jsx("option",{value:"",disabled:!0,children:"Select Parent"}),(T=y==null?void 0:y.users)==null?void 0:T.map(I=>h.jsx("option",{value:I.id,children:I==null?void 0:I.email},I.id))]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Roll Number"}),h.jsx("input",{type:"text",value:s,onChange:I=>a(I.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0})]}),d&&h.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg text-sm",children:((L=A==null?void 0:A.data)==null?void 0:L.message)||"An error occurred"}),h.jsx("button",{type:"submit",disabled:u,className:`w-full px-4 py-2.5 ${u?"bg-gray-400":"bg-gradient-to-r from-[#6925EF] to-[#3C1589]"}  text-white rounded-lg hover:opacity-90`,children:"Update Student Profile"})]})]})})}function b0(t){"@babel/helpers - typeof";return b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b0(t)}function U3e(t,e){if(b0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(b0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DY(t){var e=U3e(t,"string");return b0(e)=="symbol"?e:e+""}function Vp(t,e,r){return(e=DY(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ye(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(r),!0).forEach(function(n){Vp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R3e(t){if(Array.isArray(t))return t}function Q3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function DB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function LY(t,e){if(t){if(typeof t=="string")return DB(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?DB(t,e):void 0}}function z3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _l(t,e){return R3e(t)||Q3e(t,e)||LY(t,e)||z3e()}function H3e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}function Wl(t,e){if(t==null)return{};var r,n,i=H3e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var $3e=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function V3e(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,i=n===void 0?!1:n,s=t.defaultValue,a=s===void 0?null:s,o=t.inputValue,l=t.menuIsOpen,c=t.onChange,u=t.onInputChange,d=t.onMenuClose,A=t.onMenuOpen,f=t.value,p=Wl(t,$3e),m=_.useState(o!==void 0?o:r),v=_l(m,2),g=v[0],y=v[1],x=_.useState(l!==void 0?l:i),b=_l(x,2),w=b[0],C=b[1],B=_.useState(f!==void 0?f:a),S=_l(B,2),E=S[0],M=S[1],T=_.useCallback(function(U,q){typeof c=="function"&&c(U,q),M(U)},[c]),L=_.useCallback(function(U,q){var N;typeof u=="function"&&(N=u(U,q)),y(N!==void 0?N:U)},[u]),I=_.useCallback(function(){typeof A=="function"&&A(),C(!0)},[A]),R=_.useCallback(function(){typeof d=="function"&&d(),C(!1)},[d]),z=o!==void 0?o:g,W=l!==void 0?l:w,K=f!==void 0?f:E;return Ye(Ye({},p),{},{inputValue:z,menuIsOpen:W,onChange:T,onInputChange:L,onMenuClose:R,onMenuOpen:I,value:K})}function nt(){return nt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nt.apply(null,arguments)}function K3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DY(n.key),n)}}function q3e(t,e,r){return BI(t.prototype,e),BI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function LB(t,e){return LB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},LB(t,e)}function W3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LB(t,e)}function Ib(t){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ib(t)}function NY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NY=function(){return!!t})()}function G3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X3e(t,e){if(e&&(b0(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G3e(t)}function Y3e(t){var e=NY();return function(){var r,n=Ib(t);if(e){var i=Ib(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return X3e(this,r)}}function J3e(t){if(Array.isArray(t))return DB(t)}function Z3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ewe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EM(t){return J3e(t)||Z3e(t)||LY(t)||ewe()}var twe=!1;function rwe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function nwe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var iwe=function(){function t(r){var n=this;this._insertTag=function(i){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,s),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!twe:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(nwe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=rwe(i);try{s.insertRule(n,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},t}(),zn="-ms-",Ob="-moz-",Nt="-webkit-",jY="comm",MM="rule",FM="decl",swe="@import",IY="@keyframes",awe="@layer",owe=Math.abs,Qw=String.fromCharCode,lwe=Object.assign;function cwe(t,e){return Tn(t,0)^45?(((e<<2^Tn(t,0))<<2^Tn(t,1))<<2^Tn(t,2))<<2^Tn(t,3):0}function OY(t){return t.trim()}function uwe(t,e){return(t=e.exec(t))?t[0]:t}function Ot(t,e,r){return t.replace(e,r)}function NB(t,e){return t.indexOf(e)}function Tn(t,e){return t.charCodeAt(e)|0}function Pg(t,e,r){return t.slice(e,r)}function oo(t){return t.length}function TM(t){return t.length}function Q2(t,e){return e.push(t),t}function dwe(t,e){return t.map(e).join("")}var zw=1,WA=1,PY=0,qi=0,Zr=0,bf="";function Hw(t,e,r,n,i,s,a){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:zw,column:WA,length:a,return:""}}function Gf(t,e){return lwe(Hw("",null,null,"",null,null,0),t,{length:-t.length},e)}function hwe(){return Zr}function Awe(){return Zr=qi>0?Tn(bf,--qi):0,WA--,Zr===10&&(WA=1,zw--),Zr}function vs(){return Zr=qi<PY?Tn(bf,qi++):0,WA++,Zr===10&&(WA=1,zw++),Zr}function _o(){return Tn(bf,qi)}function q4(){return qi}function P1(t,e){return Pg(bf,t,e)}function Ug(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function UY(t){return zw=WA=1,PY=oo(bf=t),qi=0,[]}function RY(t){return bf="",t}function W4(t){return OY(P1(qi-1,jB(t===91?t+2:t===40?t+1:t)))}function fwe(t){for(;(Zr=_o())&&Zr<33;)vs();return Ug(t)>2||Ug(Zr)>3?"":" "}function pwe(t,e){for(;--e&&vs()&&!(Zr<48||Zr>102||Zr>57&&Zr<65||Zr>70&&Zr<97););return P1(t,q4()+(e<6&&_o()==32&&vs()==32))}function jB(t){for(;vs();)switch(Zr){case t:return qi;case 34:case 39:t!==34&&t!==39&&jB(Zr);break;case 40:t===41&&jB(t);break;case 92:vs();break}return qi}function mwe(t,e){for(;vs()&&t+Zr!==57;)if(t+Zr===84&&_o()===47)break;return"/*"+P1(e,qi-1)+"*"+Qw(t===47?t:vs())}function gwe(t){for(;!Ug(_o());)vs();return P1(t,qi)}function ywe(t){return RY(G4("",null,null,null,[""],t=UY(t),0,[0],t))}function G4(t,e,r,n,i,s,a,o,l){for(var c=0,u=0,d=a,A=0,f=0,p=0,m=1,v=1,g=1,y=0,x="",b=i,w=s,C=n,B=x;v;)switch(p=y,y=vs()){case 40:if(p!=108&&Tn(B,d-1)==58){NB(B+=Ot(W4(y),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:B+=W4(y);break;case 9:case 10:case 13:case 32:B+=fwe(p);break;case 92:B+=pwe(q4()-1,7);continue;case 47:switch(_o()){case 42:case 47:Q2(vwe(mwe(vs(),q4()),e,r),l);break;default:B+="/"}break;case 123*m:o[c++]=oo(B)*g;case 125*m:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+u:g==-1&&(B=Ot(B,/\f/g,"")),f>0&&oo(B)-d&&Q2(f>32?_I(B+";",n,r,d-1):_I(Ot(B," ","")+";",n,r,d-2),l);break;case 59:B+=";";default:if(Q2(C=SI(B,e,r,c,u,i,o,x,b=[],w=[],d),s),y===123)if(u===0)G4(B,e,C,C,b,s,d,o,w);else switch(A===99&&Tn(B,3)===110?100:A){case 100:case 108:case 109:case 115:G4(t,C,C,n&&Q2(SI(t,C,C,0,0,i,o,x,i,b=[],d),w),i,w,d,o,n?b:w);break;default:G4(B,C,C,C,[""],w,0,o,w)}}c=u=f=0,m=g=1,x=B="",d=a;break;case 58:d=1+oo(B),f=p;default:if(m<1){if(y==123)--m;else if(y==125&&m++==0&&Awe()==125)continue}switch(B+=Qw(y),y*m){case 38:g=u>0?1:(B+="\f",-1);break;case 44:o[c++]=(oo(B)-1)*g,g=1;break;case 64:_o()===45&&(B+=W4(vs())),A=_o(),u=d=oo(x=B+=gwe(q4())),y++;break;case 45:p===45&&oo(B)==2&&(m=0)}}return s}function SI(t,e,r,n,i,s,a,o,l,c,u){for(var d=i-1,A=i===0?s:[""],f=TM(A),p=0,m=0,v=0;p<n;++p)for(var g=0,y=Pg(t,d+1,d=owe(m=a[p])),x=t;g<f;++g)(x=OY(m>0?A[g]+" "+y:Ot(y,/&\f/g,A[g])))&&(l[v++]=x);return Hw(t,e,r,i===0?MM:o,l,c,u)}function vwe(t,e,r){return Hw(t,e,r,jY,Qw(hwe()),Pg(t,2,-2),0)}function _I(t,e,r,n){return Hw(t,e,r,FM,Pg(t,0,n),Pg(t,n+1,-1),n)}function bA(t,e){for(var r="",n=TM(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function xwe(t,e,r,n){switch(t.type){case awe:if(t.children.length)break;case swe:case FM:return t.return=t.return||t.value;case jY:return"";case IY:return t.return=t.value+"{"+bA(t.children,n)+"}";case MM:t.value=t.props.join(",")}return oo(r=bA(t.children,n))?t.return=t.value+"{"+r+"}":""}function bwe(t){var e=TM(t);return function(r,n,i,s){for(var a="",o=0;o<e;o++)a+=t[o](r,n,i,s)||"";return a}}function wwe(t){return function(e){e.root||(e=e.return)&&t(e)}}function Cwe(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var Bwe=function(e,r,n){for(var i=0,s=0;i=s,s=_o(),i===38&&s===12&&(r[n]=1),!Ug(s);)vs();return P1(e,qi)},Swe=function(e,r){var n=-1,i=44;do switch(Ug(i)){case 0:i===38&&_o()===12&&(r[n]=1),e[n]+=Bwe(qi-1,r,n);break;case 2:e[n]+=W4(i);break;case 4:if(i===44){e[++n]=_o()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Qw(i)}while(i=vs());return e},_we=function(e,r){return RY(Swe(UY(e),r))},kI=new WeakMap,kwe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!kI.get(n))&&!i){kI.set(e,!0);for(var s=[],a=_we(r,s),o=n.props,l=0,c=0;l<a.length;l++)for(var u=0;u<o.length;u++,c++)e.props[c]=s[l]?a[l].replace(/&\f/g,o[u]):o[u]+" "+a[l]}}},Ewe=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function QY(t,e){switch(cwe(t,e)){case 5103:return Nt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Nt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Nt+t+Ob+t+zn+t+t;case 6828:case 4268:return Nt+t+zn+t+t;case 6165:return Nt+t+zn+"flex-"+t+t;case 5187:return Nt+t+Ot(t,/(\w+).+(:[^]+)/,Nt+"box-$1$2"+zn+"flex-$1$2")+t;case 5443:return Nt+t+zn+"flex-item-"+Ot(t,/flex-|-self/,"")+t;case 4675:return Nt+t+zn+"flex-line-pack"+Ot(t,/align-content|flex-|-self/,"")+t;case 5548:return Nt+t+zn+Ot(t,"shrink","negative")+t;case 5292:return Nt+t+zn+Ot(t,"basis","preferred-size")+t;case 6060:return Nt+"box-"+Ot(t,"-grow","")+Nt+t+zn+Ot(t,"grow","positive")+t;case 4554:return Nt+Ot(t,/([^-])(transform)/g,"$1"+Nt+"$2")+t;case 6187:return Ot(Ot(Ot(t,/(zoom-|grab)/,Nt+"$1"),/(image-set)/,Nt+"$1"),t,"")+t;case 5495:case 3959:return Ot(t,/(image-set\([^]*)/,Nt+"$1$`$1");case 4968:return Ot(Ot(t,/(.+:)(flex-)?(.*)/,Nt+"box-pack:$3"+zn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Nt+t+t;case 4095:case 3583:case 4068:case 2532:return Ot(t,/(.+)-inline(.+)/,Nt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(oo(t)-1-e>6)switch(Tn(t,e+1)){case 109:if(Tn(t,e+4)!==45)break;case 102:return Ot(t,/(.+:)(.+)-([^]+)/,"$1"+Nt+"$2-$3$1"+Ob+(Tn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~NB(t,"stretch")?QY(Ot(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Tn(t,e+1)!==115)break;case 6444:switch(Tn(t,oo(t)-3-(~NB(t,"!important")&&10))){case 107:return Ot(t,":",":"+Nt)+t;case 101:return Ot(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Nt+(Tn(t,14)===45?"inline-":"")+"box$3$1"+Nt+"$2$3$1"+zn+"$2box$3")+t}break;case 5936:switch(Tn(t,e+11)){case 114:return Nt+t+zn+Ot(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Nt+t+zn+Ot(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Nt+t+zn+Ot(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Nt+t+zn+t+t}return t}var Mwe=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case FM:e.return=QY(e.value,e.length);break;case IY:return bA([Gf(e,{value:Ot(e.value,"@","@"+Nt)})],i);case MM:if(e.length)return dwe(e.props,function(s){switch(uwe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return bA([Gf(e,{props:[Ot(s,/:(read-\w+)/,":"+Ob+"$1")]})],i);case"::placeholder":return bA([Gf(e,{props:[Ot(s,/:(plac\w+)/,":"+Nt+"input-$1")]}),Gf(e,{props:[Ot(s,/:(plac\w+)/,":"+Ob+"$1")]}),Gf(e,{props:[Ot(s,/:(plac\w+)/,zn+"input-$1")]})],i)}return""})}},Fwe=[Mwe],Twe=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(m){var v=m.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||Fwe,s={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(m){for(var v=m.getAttribute("data-emotion").split(" "),g=1;g<v.length;g++)s[v[g]]=!0;o.push(m)});var l,c=[kwe,Ewe];{var u,d=[xwe,wwe(function(m){u.insert(m)})],A=bwe(c.concat(i,d)),f=function(v){return bA(ywe(v),A)};l=function(v,g,y,x){u=y,f(v?v+"{"+g.styles+"}":g.styles),x&&(p.inserted[g.name]=!0)}}var p={key:r,sheet:new iwe({key:r,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(o),p},zY={exports:{}},Yt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sn=typeof Symbol=="function"&&Symbol.for,DM=Sn?Symbol.for("react.element"):60103,LM=Sn?Symbol.for("react.portal"):60106,$w=Sn?Symbol.for("react.fragment"):60107,Vw=Sn?Symbol.for("react.strict_mode"):60108,Kw=Sn?Symbol.for("react.profiler"):60114,qw=Sn?Symbol.for("react.provider"):60109,Ww=Sn?Symbol.for("react.context"):60110,NM=Sn?Symbol.for("react.async_mode"):60111,Gw=Sn?Symbol.for("react.concurrent_mode"):60111,Xw=Sn?Symbol.for("react.forward_ref"):60112,Yw=Sn?Symbol.for("react.suspense"):60113,Dwe=Sn?Symbol.for("react.suspense_list"):60120,Jw=Sn?Symbol.for("react.memo"):60115,Zw=Sn?Symbol.for("react.lazy"):60116,Lwe=Sn?Symbol.for("react.block"):60121,Nwe=Sn?Symbol.for("react.fundamental"):60117,jwe=Sn?Symbol.for("react.responder"):60118,Iwe=Sn?Symbol.for("react.scope"):60119;function ks(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case DM:switch(t=t.type,t){case NM:case Gw:case $w:case Kw:case Vw:case Yw:return t;default:switch(t=t&&t.$$typeof,t){case Ww:case Xw:case Zw:case Jw:case qw:return t;default:return e}}case LM:return e}}}function HY(t){return ks(t)===Gw}Yt.AsyncMode=NM;Yt.ConcurrentMode=Gw;Yt.ContextConsumer=Ww;Yt.ContextProvider=qw;Yt.Element=DM;Yt.ForwardRef=Xw;Yt.Fragment=$w;Yt.Lazy=Zw;Yt.Memo=Jw;Yt.Portal=LM;Yt.Profiler=Kw;Yt.StrictMode=Vw;Yt.Suspense=Yw;Yt.isAsyncMode=function(t){return HY(t)||ks(t)===NM};Yt.isConcurrentMode=HY;Yt.isContextConsumer=function(t){return ks(t)===Ww};Yt.isContextProvider=function(t){return ks(t)===qw};Yt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===DM};Yt.isForwardRef=function(t){return ks(t)===Xw};Yt.isFragment=function(t){return ks(t)===$w};Yt.isLazy=function(t){return ks(t)===Zw};Yt.isMemo=function(t){return ks(t)===Jw};Yt.isPortal=function(t){return ks(t)===LM};Yt.isProfiler=function(t){return ks(t)===Kw};Yt.isStrictMode=function(t){return ks(t)===Vw};Yt.isSuspense=function(t){return ks(t)===Yw};Yt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===$w||t===Gw||t===Kw||t===Vw||t===Yw||t===Dwe||typeof t=="object"&&t!==null&&(t.$$typeof===Zw||t.$$typeof===Jw||t.$$typeof===qw||t.$$typeof===Ww||t.$$typeof===Xw||t.$$typeof===Nwe||t.$$typeof===jwe||t.$$typeof===Iwe||t.$$typeof===Lwe)};Yt.typeOf=ks;zY.exports=Yt;var Owe=zY.exports,$Y=Owe,Pwe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Uwe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},VY={};VY[$Y.ForwardRef]=Pwe;VY[$Y.Memo]=Uwe;var Rwe=!0;function Qwe(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(n+=i+" ")}),n}var KY=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||Rwe===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},zwe=function(e,r,n){KY(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Hwe(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var $we={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Vwe=/[A-Z]|^ms/g,Kwe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,qY=function(e){return e.charCodeAt(1)===45},EI=function(e){return e!=null&&typeof e!="boolean"},C8=Cwe(function(t){return qY(t)?t:t.replace(Vwe,"-$&").toLowerCase()}),MI=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Kwe,function(n,i,s){return lo={name:i,styles:s,next:lo},i})}return $we[e]!==1&&!qY(e)&&typeof r=="number"&&r!==0?r+"px":r};function Rg(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return lo={name:i.name,styles:i.styles,next:lo},i.name;var s=r;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)lo={name:a.name,styles:a.styles,next:lo},a=a.next;var o=s.styles+";";return o}return qwe(t,e,r)}case"function":{if(t!==void 0){var l=lo,c=r(t);return lo=l,Rg(t,e,c)}break}}var u=r;return u}function qwe(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Rg(t,e,r[i])+";";else for(var s in r){var a=r[s];if(typeof a!="object"){var o=a;EI(o)&&(n+=C8(s)+":"+MI(s,o)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&e==null)for(var l=0;l<a.length;l++)EI(a[l])&&(n+=C8(s)+":"+MI(s,a[l])+";");else{var c=Rg(t,e,a);switch(s){case"animation":case"animationName":{n+=C8(s)+":"+c+";";break}default:n+=s+"{"+c+"}"}}}return n}var FI=/label:\s*([^\s;{]+)\s*(;|$)/g,lo;function WY(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,i="";lo=void 0;var s=t[0];if(s==null||s.raw===void 0)n=!1,i+=Rg(r,e,s);else{var a=s;i+=a[0]}for(var o=1;o<t.length;o++)if(i+=Rg(r,e,t[o]),n){var l=s;i+=l[o]}FI.lastIndex=0;for(var c="",u;(u=FI.exec(i))!==null;)c+="-"+u[1];var d=Hwe(i)+c;return{name:d,styles:i,next:lo}}var Wwe=function(e){return e()},Gwe=gT.useInsertionEffect?gT.useInsertionEffect:!1,Xwe=Gwe||Wwe,Ywe=!1,GY=_.createContext(typeof HTMLElement<"u"?Twe({key:"css"}):null);GY.Provider;var Jwe=function(e){return _.forwardRef(function(r,n){var i=_.useContext(GY);return e(r,i,n)})},Zwe=_.createContext({}),jM={}.hasOwnProperty,IB="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",e5e=function(e,r){var n={};for(var i in r)jM.call(r,i)&&(n[i]=r[i]);return n[IB]=e,n},t5e=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return KY(r,n,i),Xwe(function(){return zwe(r,n,i)}),null},r5e=Jwe(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var i=t[IB],s=[n],a="";typeof t.className=="string"?a=Qwe(e.registered,s,t.className):t.className!=null&&(a=t.className+" ");var o=WY(s,void 0,_.useContext(Zwe));a+=e.key+"-"+o.name;var l={};for(var c in t)jM.call(t,c)&&c!=="css"&&c!==IB&&!Ywe&&(l[c]=t[c]);return l.className=a,r&&(l.ref=r),_.createElement(_.Fragment,null,_.createElement(t5e,{cache:e,serialized:o,isStringTag:typeof i=="string"}),_.createElement(i,l))}),n5e=r5e,Ke=function(e,r){var n=arguments;if(r==null||!jM.call(r,"css"))return _.createElement.apply(void 0,n);var i=n.length,s=new Array(i);s[0]=n5e,s[1]=e5e(e,r);for(var a=2;a<i;a++)s[a]=n[a];return _.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Ke);function IM(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return WY(e)}function i5e(){var t=IM.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function s5e(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const a5e=Math.min,o5e=Math.max,Pb=Math.round,z2=Math.floor,Ub=t=>({x:t,y:t});function l5e(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function e5(){return typeof window<"u"}function XY(t){return JY(t)?(t.nodeName||"").toLowerCase():"#document"}function Rl(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function YY(t){var e;return(e=(JY(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function JY(t){return e5()?t instanceof Node||t instanceof Rl(t).Node:!1}function c5e(t){return e5()?t instanceof Element||t instanceof Rl(t).Element:!1}function OM(t){return e5()?t instanceof HTMLElement||t instanceof Rl(t).HTMLElement:!1}function TI(t){return!e5()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Rl(t).ShadowRoot}function ZY(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=PM(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function u5e(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function d5e(t){return["html","body","#document"].includes(XY(t))}function PM(t){return Rl(t).getComputedStyle(t)}function h5e(t){if(XY(t)==="html")return t;const e=t.assignedSlot||t.parentNode||TI(t)&&t.host||YY(t);return TI(e)?e.host:e}function eJ(t){const e=h5e(t);return d5e(e)?t.ownerDocument?t.ownerDocument.body:t.body:OM(e)&&ZY(e)?e:eJ(e)}function Rb(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=eJ(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),a=Rl(i);if(s){const o=OB(a);return e.concat(a,a.visualViewport||[],ZY(i)?i:[],o&&r?Rb(o):[])}return e.concat(i,Rb(i,[],r))}function OB(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function A5e(t){const e=PM(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=OM(t),s=i?t.offsetWidth:r,a=i?t.offsetHeight:n,o=Pb(r)!==s||Pb(n)!==a;return o&&(r=s,n=a),{width:r,height:n,$:o}}function UM(t){return c5e(t)?t:t.contextElement}function DI(t){const e=UM(t);if(!OM(e))return Ub(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=A5e(e);let a=(s?Pb(r.width):r.width)/n,o=(s?Pb(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const f5e=Ub(0);function p5e(t){const e=Rl(t);return!u5e()||!e.visualViewport?f5e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function m5e(t,e,r){return!1}function LI(t,e,r,n){e===void 0&&(e=!1);const i=t.getBoundingClientRect(),s=UM(t);let a=Ub(1);e&&(a=DI(t));const o=m5e()?p5e(s):Ub(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(s){const A=Rl(s),f=n;let p=A,m=OB(p);for(;m&&n&&f!==p;){const v=DI(m),g=m.getBoundingClientRect(),y=PM(m),x=g.left+(m.clientLeft+parseFloat(y.paddingLeft))*v.x,b=g.top+(m.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=x,c+=b,p=Rl(m),m=OB(p)}}return l5e({width:u,height:d,x:l,y:c})}function g5e(t,e){let r=null,n;const i=YY(t);function s(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:A}=t.getBoundingClientRect();if(o||e(),!d||!A)return;const f=z2(u),p=z2(i.clientWidth-(c+d)),m=z2(i.clientHeight-(u+A)),v=z2(c),y={rootMargin:-f+"px "+-p+"px "+-m+"px "+-v+"px",threshold:o5e(0,a5e(1,l))||1};let x=!0;function b(w){const C=w[0].intersectionRatio;if(C!==l){if(!x)return a();C?a(!1,C):n=setTimeout(()=>{a(!1,1e-7)},1e3)}x=!1}try{r=new IntersectionObserver(b,{...y,root:i.ownerDocument})}catch{r=new IntersectionObserver(b,y)}r.observe(t)}return a(!0),s}function y5e(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=UM(t),u=i||s?[...c?Rb(c):[],...Rb(e)]:[];u.forEach(g=>{i&&g.addEventListener("scroll",r,{passive:!0}),s&&g.addEventListener("resize",r)});const d=c&&o?g5e(c,r):null;let A=-1,f=null;a&&(f=new ResizeObserver(g=>{let[y]=g;y&&y.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(A),A=requestAnimationFrame(()=>{var x;(x=f)==null||x.observe(e)})),r()}),c&&!l&&f.observe(c),f.observe(e));let p,m=l?LI(t):null;l&&v();function v(){const g=LI(t);m&&(g.x!==m.x||g.y!==m.y||g.width!==m.width||g.height!==m.height)&&r(),m=g,p=requestAnimationFrame(v)}return r(),()=>{var g;u.forEach(y=>{i&&y.removeEventListener("scroll",r),s&&y.removeEventListener("resize",r)}),d==null||d(),(g=f)==null||g.disconnect(),f=null,l&&cancelAnimationFrame(p)}}var PB=_.useLayoutEffect,v5e=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Qb=function(){};function x5e(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function b5e(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var s=[].concat(n);if(e&&t)for(var a in e)e.hasOwnProperty(a)&&e[a]&&s.push("".concat(x5e(t,a)));return s.filter(function(o){return o}).map(function(o){return String(o).trim()}).join(" ")}var NI=function(e){return F5e(e)?e.filter(Boolean):b0(e)==="object"&&e!==null?[e]:[]},tJ=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=Wl(e,v5e);return Ye({},r)},Nr=function(e,r,n){var i=e.cx,s=e.getStyles,a=e.getClassNames,o=e.className;return{css:s(r,e),className:i(n??{},a(r,e),o)}};function t5(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function w5e(t){return t5(t)?window.innerHeight:t.clientHeight}function rJ(t){return t5(t)?window.pageYOffset:t.scrollTop}function zb(t,e){if(t5(t)){window.scrollTo(0,e);return}t.scrollTop=e}function C5e(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function B5e(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function H2(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Qb,i=rJ(t),s=e-i,a=10,o=0;function l(){o+=a;var c=B5e(o,i,s,r);zb(t,c),o<r?window.requestAnimationFrame(l):n(t)}l()}function jI(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),i=e.offsetHeight/3;n.bottom+i>r.bottom?zb(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):n.top-i<r.top&&zb(t,Math.max(e.offsetTop-i,0))}function S5e(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function II(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function _5e(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var nJ=!1,k5e={get passive(){return nJ=!0}},$2=typeof window<"u"?window:{};$2.addEventListener&&$2.removeEventListener&&($2.addEventListener("p",Qb,k5e),$2.removeEventListener("p",Qb,!1));var E5e=nJ;function M5e(t){return t!=null}function F5e(t){return Array.isArray(t)}function V2(t,e,r){return t?e:r}var T5e=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var s=Object.entries(e).filter(function(a){var o=_l(a,1),l=o[0];return!n.includes(l)});return s.reduce(function(a,o){var l=_l(o,2),c=l[0],u=l[1];return a[c]=u,a},{})},D5e=["children","innerProps"],L5e=["children","innerProps"];function N5e(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,i=t.placement,s=t.shouldScroll,a=t.isFixedPosition,o=t.controlHeight,l=C5e(r),c={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return c;var u=l.getBoundingClientRect(),d=u.height,A=r.getBoundingClientRect(),f=A.bottom,p=A.height,m=A.top,v=r.offsetParent.getBoundingClientRect(),g=v.top,y=a?window.innerHeight:w5e(l),x=rJ(l),b=parseInt(getComputedStyle(r).marginBottom,10),w=parseInt(getComputedStyle(r).marginTop,10),C=g-w,B=y-m,S=C+x,E=d-x-m,M=f-y+x+b,T=x+m-w,L=160;switch(i){case"auto":case"bottom":if(B>=p)return{placement:"bottom",maxHeight:e};if(E>=p&&!a)return s&&H2(l,M,L),{placement:"bottom",maxHeight:e};if(!a&&E>=n||a&&B>=n){s&&H2(l,M,L);var I=a?B-b:E-b;return{placement:"bottom",maxHeight:I}}if(i==="auto"||a){var R=e,z=a?C:S;return z>=n&&(R=Math.min(z-b-o,e)),{placement:"top",maxHeight:R}}if(i==="bottom")return s&&zb(l,M),{placement:"bottom",maxHeight:e};break;case"top":if(C>=p)return{placement:"top",maxHeight:e};if(S>=p&&!a)return s&&H2(l,T,L),{placement:"top",maxHeight:e};if(!a&&S>=n||a&&C>=n){var W=e;return(!a&&S>=n||a&&C>=n)&&(W=a?C-w:S-w),s&&H2(l,T,L),{placement:"top",maxHeight:W}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function j5e(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var iJ=function(e){return e==="auto"?"bottom":e},I5e=function(e,r){var n,i=e.placement,s=e.theme,a=s.borderRadius,o=s.spacing,l=s.colors;return Ye((n={label:"menu"},Vp(n,j5e(i),"100%"),Vp(n,"position","absolute"),Vp(n,"width","100%"),Vp(n,"zIndex",1),n),r?{}:{backgroundColor:l.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:o.menuGutter,marginTop:o.menuGutter})},sJ=_.createContext(null),O5e=function(e){var r=e.children,n=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,a=e.menuPosition,o=e.menuShouldScrollIntoView,l=e.theme,c=_.useContext(sJ)||{},u=c.setPortalPlacement,d=_.useRef(null),A=_.useState(i),f=_l(A,2),p=f[0],m=f[1],v=_.useState(null),g=_l(v,2),y=g[0],x=g[1],b=l.spacing.controlHeight;return PB(function(){var w=d.current;if(w){var C=a==="fixed",B=o&&!C,S=N5e({maxHeight:i,menuEl:w,minHeight:n,placement:s,shouldScroll:B,isFixedPosition:C,controlHeight:b});m(S.maxHeight),x(S.placement),u==null||u(S.placement)}},[i,s,a,o,n,u,b]),r({ref:d,placerProps:Ye(Ye({},e),{},{placement:y||iJ(s),maxHeight:p})})},P5e=function(e){var r=e.children,n=e.innerRef,i=e.innerProps;return Ke("div",nt({},Nr(e,"menu",{menu:!0}),{ref:n},i),r)},U5e=P5e,R5e=function(e,r){var n=e.maxHeight,i=e.theme.spacing.baseUnit;return Ye({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:i,paddingTop:i})},Q5e=function(e){var r=e.children,n=e.innerProps,i=e.innerRef,s=e.isMulti;return Ke("div",nt({},Nr(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},n),r)},aJ=function(e,r){var n=e.theme,i=n.spacing.baseUnit,s=n.colors;return Ye({textAlign:"center"},r?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},z5e=aJ,H5e=aJ,$5e=function(e){var r=e.children,n=r===void 0?"No options":r,i=e.innerProps,s=Wl(e,D5e);return Ke("div",nt({},Nr(Ye(Ye({},s),{},{children:n,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),n)},V5e=function(e){var r=e.children,n=r===void 0?"Loading...":r,i=e.innerProps,s=Wl(e,L5e);return Ke("div",nt({},Nr(Ye(Ye({},s),{},{children:n,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),n)},K5e=function(e){var r=e.rect,n=e.offset,i=e.position;return{left:r.left,position:i,top:n,width:r.width,zIndex:1}},q5e=function(e){var r=e.appendTo,n=e.children,i=e.controlElement,s=e.innerProps,a=e.menuPlacement,o=e.menuPosition,l=_.useRef(null),c=_.useRef(null),u=_.useState(iJ(a)),d=_l(u,2),A=d[0],f=d[1],p=_.useMemo(function(){return{setPortalPlacement:f}},[]),m=_.useState(null),v=_l(m,2),g=v[0],y=v[1],x=_.useCallback(function(){if(i){var B=S5e(i),S=o==="fixed"?0:window.pageYOffset,E=B[A]+S;(E!==(g==null?void 0:g.offset)||B.left!==(g==null?void 0:g.rect.left)||B.width!==(g==null?void 0:g.rect.width))&&y({offset:E,rect:B})}},[i,o,A,g==null?void 0:g.offset,g==null?void 0:g.rect.left,g==null?void 0:g.rect.width]);PB(function(){x()},[x]);var b=_.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),i&&l.current&&(c.current=y5e(i,l.current,x,{elementResize:"ResizeObserver"in window}))},[i,x]);PB(function(){b()},[b]);var w=_.useCallback(function(B){l.current=B,b()},[b]);if(!r&&o!=="fixed"||!g)return null;var C=Ke("div",nt({ref:w},Nr(Ye(Ye({},e),{},{offset:g.offset,position:o,rect:g.rect}),"menuPortal",{"menu-portal":!0}),s),n);return Ke(sJ.Provider,{value:p},r?CK.createPortal(C,r):C)},W5e=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},G5e=function(e){var r=e.children,n=e.innerProps,i=e.isDisabled,s=e.isRtl;return Ke("div",nt({},Nr(e,"container",{"--is-disabled":i,"--is-rtl":s}),n),r)},X5e=function(e,r){var n=e.theme.spacing,i=e.isMulti,s=e.hasValue,a=e.selectProps.controlShouldRenderValue;return Ye({alignItems:"center",display:i&&s&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},Y5e=function(e){var r=e.children,n=e.innerProps,i=e.isMulti,s=e.hasValue;return Ke("div",nt({},Nr(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),n),r)},J5e=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Z5e=function(e){var r=e.children,n=e.innerProps;return Ke("div",nt({},Nr(e,"indicatorsContainer",{indicators:!0}),n),r)},OI,e6e=["size"],t6e=["innerProps","isRtl","size"],r6e={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},oJ=function(e){var r=e.size,n=Wl(e,e6e);return Ke("svg",nt({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:r6e},n))},RM=function(e){return Ke(oJ,nt({size:20},e),Ke("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},lJ=function(e){return Ke(oJ,nt({size:20},e),Ke("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},cJ=function(e,r){var n=e.isFocused,i=e.theme,s=i.spacing.baseUnit,a=i.colors;return Ye({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?a.neutral60:a.neutral20,padding:s*2,":hover":{color:n?a.neutral80:a.neutral40}})},n6e=cJ,i6e=function(e){var r=e.children,n=e.innerProps;return Ke("div",nt({},Nr(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||Ke(lJ,null))},s6e=cJ,a6e=function(e){var r=e.children,n=e.innerProps;return Ke("div",nt({},Nr(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||Ke(RM,null))},o6e=function(e,r){var n=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,a=i.colors;return Ye({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?a.neutral10:a.neutral20,marginBottom:s*2,marginTop:s*2})},l6e=function(e){var r=e.innerProps;return Ke("span",nt({},r,Nr(e,"indicatorSeparator",{"indicator-separator":!0})))},c6e=i5e(OI||(OI=s5e([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),u6e=function(e,r){var n=e.isFocused,i=e.size,s=e.theme,a=s.colors,o=s.spacing.baseUnit;return Ye({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?a.neutral60:a.neutral20,padding:o*2})},B8=function(e){var r=e.delay,n=e.offset;return Ke("span",{css:IM({animation:"".concat(c6e," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},d6e=function(e){var r=e.innerProps,n=e.isRtl,i=e.size,s=i===void 0?4:i,a=Wl(e,t6e);return Ke("div",nt({},Nr(Ye(Ye({},a),{},{innerProps:r,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),Ke(B8,{delay:0,offset:n}),Ke(B8,{delay:160,offset:!0}),Ke(B8,{delay:320,offset:!n}))},h6e=function(e,r){var n=e.isDisabled,i=e.isFocused,s=e.theme,a=s.colors,o=s.borderRadius,l=s.spacing;return Ye({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?a.neutral5:a.neutral0,borderColor:n?a.neutral10:i?a.primary:a.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:i?a.primary:a.neutral30}})},A6e=function(e){var r=e.children,n=e.isDisabled,i=e.isFocused,s=e.innerRef,a=e.innerProps,o=e.menuIsOpen;return Ke("div",nt({ref:s},Nr(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":i,"control--menu-is-open":o}),a,{"aria-disabled":n||void 0}),r)},f6e=A6e,p6e=["data"],m6e=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},g6e=function(e){var r=e.children,n=e.cx,i=e.getStyles,s=e.getClassNames,a=e.Heading,o=e.headingProps,l=e.innerProps,c=e.label,u=e.theme,d=e.selectProps;return Ke("div",nt({},Nr(e,"group",{group:!0}),l),Ke(a,nt({},o,{selectProps:d,theme:u,getStyles:i,getClassNames:s,cx:n}),c),Ke("div",null,r))},y6e=function(e,r){var n=e.theme,i=n.colors,s=n.spacing;return Ye({label:"group",cursor:"default",display:"block"},r?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},v6e=function(e){var r=tJ(e);r.data;var n=Wl(r,p6e);return Ke("div",nt({},Nr(e,"groupHeading",{"group-heading":!0}),n))},x6e=g6e,b6e=["innerRef","isDisabled","isHidden","inputClassName"],w6e=function(e,r){var n=e.isDisabled,i=e.value,s=e.theme,a=s.spacing,o=s.colors;return Ye(Ye({visibility:n?"hidden":"visible",transform:i?"translateZ(0)":""},C6e),r?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:o.neutral80})},uJ={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},C6e={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ye({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},uJ)},B6e=function(e){return Ye({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},uJ)},S6e=function(e){var r=e.cx,n=e.value,i=tJ(e),s=i.innerRef,a=i.isDisabled,o=i.isHidden,l=i.inputClassName,c=Wl(i,b6e);return Ke("div",nt({},Nr(e,"input",{"input-container":!0}),{"data-value":n||""}),Ke("input",nt({className:r({input:!0},l),ref:s,style:B6e(o),disabled:a},c)))},_6e=S6e,k6e=function(e,r){var n=e.theme,i=n.spacing,s=n.borderRadius,a=n.colors;return Ye({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:a.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},E6e=function(e,r){var n=e.theme,i=n.borderRadius,s=n.colors,a=e.cropWithEllipsis;return Ye({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},M6e=function(e,r){var n=e.theme,i=n.spacing,s=n.borderRadius,a=n.colors,o=e.isFocused;return Ye({alignItems:"center",display:"flex"},r?{}:{borderRadius:s/2,backgroundColor:o?a.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},dJ=function(e){var r=e.children,n=e.innerProps;return Ke("div",n,r)},F6e=dJ,T6e=dJ;function D6e(t){var e=t.children,r=t.innerProps;return Ke("div",nt({role:"button"},r),e||Ke(RM,{size:14}))}var L6e=function(e){var r=e.children,n=e.components,i=e.data,s=e.innerProps,a=e.isDisabled,o=e.removeProps,l=e.selectProps,c=n.Container,u=n.Label,d=n.Remove;return Ke(c,{data:i,innerProps:Ye(Ye({},Nr(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),s),selectProps:l},Ke(u,{data:i,innerProps:Ye({},Nr(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},r),Ke(d,{data:i,innerProps:Ye(Ye({},Nr(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},o),selectProps:l}))},N6e=L6e,j6e=function(e,r){var n=e.isDisabled,i=e.isFocused,s=e.isSelected,a=e.theme,o=a.spacing,l=a.colors;return Ye({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:n?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(o.baseUnit*2,"px ").concat(o.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?l.primary:l.primary50}})},I6e=function(e){var r=e.children,n=e.isDisabled,i=e.isFocused,s=e.isSelected,a=e.innerRef,o=e.innerProps;return Ke("div",nt({},Nr(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":i,"option--is-selected":s}),{ref:a,"aria-disabled":n},o),r)},O6e=I6e,P6e=function(e,r){var n=e.theme,i=n.spacing,s=n.colors;return Ye({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},U6e=function(e){var r=e.children,n=e.innerProps;return Ke("div",nt({},Nr(e,"placeholder",{placeholder:!0}),n),r)},R6e=U6e,Q6e=function(e,r){var n=e.isDisabled,i=e.theme,s=i.spacing,a=i.colors;return Ye({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?a.neutral40:a.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},z6e=function(e){var r=e.children,n=e.isDisabled,i=e.innerProps;return Ke("div",nt({},Nr(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),i),r)},H6e=z6e,$6e={ClearIndicator:a6e,Control:f6e,DropdownIndicator:i6e,DownChevron:lJ,CrossIcon:RM,Group:x6e,GroupHeading:v6e,IndicatorsContainer:Z5e,IndicatorSeparator:l6e,Input:_6e,LoadingIndicator:d6e,Menu:U5e,MenuList:Q5e,MenuPortal:q5e,LoadingMessage:V5e,NoOptionsMessage:$5e,MultiValue:N6e,MultiValueContainer:F6e,MultiValueLabel:T6e,MultiValueRemove:D6e,Option:O6e,Placeholder:R6e,SelectContainer:G5e,SingleValue:H6e,ValueContainer:Y5e},V6e=function(e){return Ye(Ye({},$6e),e.components)},PI=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function K6e(t,e){return!!(t===e||PI(t)&&PI(e))}function q6e(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!K6e(t[r],e[r]))return!1;return!0}function W6e(t,e){e===void 0&&(e=q6e);var r=null;function n(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(r&&r.lastThis===this&&e(i,r.lastArgs))return r.lastResult;var a=t.apply(this,i);return r={lastResult:a,lastArgs:i,lastThis:this},a}return n.clear=function(){r=null},n}var G6e={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},X6e=function(e){return Ke("span",nt({css:G6e},e))},UI=X6e,Y6e={guidance:function(e){var r=e.isSearchable,n=e.isMulti,i=e.tabSelectsValue,s=e.context,a=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,i=n===void 0?"":n,s=e.labels,a=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return a?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,i=e.options,s=e.label,a=s===void 0?"":s,o=e.selectValue,l=e.isDisabled,c=e.isSelected,u=e.isAppleDevice,d=function(m,v){return m&&m.length?"".concat(m.indexOf(v)+1," of ").concat(m.length):""};if(r==="value"&&o)return"value ".concat(a," focused, ").concat(d(o,n),".");if(r==="menu"&&u){var A=l?" disabled":"",f="".concat(c?" selected":"").concat(A);return"".concat(a).concat(f,", ").concat(d(i,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},J6e=function(e){var r=e.ariaSelection,n=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,a=e.isFocused,o=e.selectValue,l=e.selectProps,c=e.id,u=e.isAppleDevice,d=l.ariaLiveMessages,A=l.getOptionLabel,f=l.inputValue,p=l.isMulti,m=l.isOptionDisabled,v=l.isSearchable,g=l.menuIsOpen,y=l.options,x=l.screenReaderStatus,b=l.tabSelectsValue,w=l.isLoading,C=l["aria-label"],B=l["aria-live"],S=_.useMemo(function(){return Ye(Ye({},Y6e),d||{})},[d]),E=_.useMemo(function(){var z="";if(r&&S.onChange){var W=r.option,K=r.options,U=r.removedValue,q=r.removedValues,N=r.value,ne=function(ze){return Array.isArray(ze)?null:ze},re=U||W||ne(N),O=re?A(re):"",me=K||q||void 0,Ce=me?me.map(A):[],oe=Ye({isDisabled:re&&m(re,o),label:O,labels:Ce},r);z=S.onChange(oe)}return z},[r,S,m,o,A]),M=_.useMemo(function(){var z="",W=n||i,K=!!(n&&o&&o.includes(n));if(W&&S.onFocus){var U={focused:W,label:A(W),isDisabled:m(W,o),isSelected:K,options:s,context:W===n?"menu":"value",selectValue:o,isAppleDevice:u};z=S.onFocus(U)}return z},[n,i,A,m,S,s,o,u]),T=_.useMemo(function(){var z="";if(g&&y.length&&!w&&S.onFilter){var W=x({count:s.length});z=S.onFilter({inputValue:f,resultsMessage:W})}return z},[s,f,g,S,y,x,w]),L=(r==null?void 0:r.action)==="initial-input-focus",I=_.useMemo(function(){var z="";if(S.guidance){var W=i?"value":g?"menu":"input";z=S.guidance({"aria-label":C,context:W,isDisabled:n&&m(n,o),isMulti:p,isSearchable:v,tabSelectsValue:b,isInitialFocus:L})}return z},[C,n,i,p,m,v,g,S,o,b,L]),R=Ke(_.Fragment,null,Ke("span",{id:"aria-selection"},E),Ke("span",{id:"aria-focused"},M),Ke("span",{id:"aria-results"},T),Ke("span",{id:"aria-guidance"},I));return Ke(_.Fragment,null,Ke(UI,{id:c},L&&R),Ke(UI,{"aria-live":B,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!L&&R))},Z6e=J6e,UB=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],e8e=new RegExp("["+UB.map(function(t){return t.letters}).join("")+"]","g"),hJ={};for(var S8=0;S8<UB.length;S8++)for(var _8=UB[S8],k8=0;k8<_8.letters.length;k8++)hJ[_8.letters[k8]]=_8.base;var AJ=function(e){return e.replace(e8e,function(r){return hJ[r]})},t8e=W6e(AJ),RI=function(e){return e.replace(/^\s+|\s+$/g,"")},r8e=function(e){return"".concat(e.label," ").concat(e.value)},n8e=function(e){return function(r,n){if(r.data.__isNew__)return!0;var i=Ye({ignoreCase:!0,ignoreAccents:!0,stringify:r8e,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,a=i.ignoreAccents,o=i.stringify,l=i.trim,c=i.matchFrom,u=l?RI(n):n,d=l?RI(o(r)):o(r);return s&&(u=u.toLowerCase(),d=d.toLowerCase()),a&&(u=t8e(u),d=AJ(d)),c==="start"?d.substr(0,u.length)===u:d.indexOf(u)>-1}},i8e=["innerRef"];function s8e(t){var e=t.innerRef,r=Wl(t,i8e),n=T5e(r,"onExited","in","enter","exit","appear");return Ke("input",nt({ref:e},n,{css:IM({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var a8e=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function o8e(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,a=_.useRef(!1),o=_.useRef(!1),l=_.useRef(0),c=_.useRef(null),u=_.useCallback(function(v,g){if(c.current!==null){var y=c.current,x=y.scrollTop,b=y.scrollHeight,w=y.clientHeight,C=c.current,B=g>0,S=b-w-x,E=!1;S>g&&a.current&&(n&&n(v),a.current=!1),B&&o.current&&(s&&s(v),o.current=!1),B&&g>S?(r&&!a.current&&r(v),C.scrollTop=b,E=!0,a.current=!0):!B&&-g>x&&(i&&!o.current&&i(v),C.scrollTop=0,E=!0,o.current=!0),E&&a8e(v)}},[r,n,i,s]),d=_.useCallback(function(v){u(v,v.deltaY)},[u]),A=_.useCallback(function(v){l.current=v.changedTouches[0].clientY},[]),f=_.useCallback(function(v){var g=l.current-v.changedTouches[0].clientY;u(v,g)},[u]),p=_.useCallback(function(v){if(v){var g=E5e?{passive:!1}:!1;v.addEventListener("wheel",d,g),v.addEventListener("touchstart",A,g),v.addEventListener("touchmove",f,g)}},[f,A,d]),m=_.useCallback(function(v){v&&(v.removeEventListener("wheel",d,!1),v.removeEventListener("touchstart",A,!1),v.removeEventListener("touchmove",f,!1))},[f,A,d]);return _.useEffect(function(){if(e){var v=c.current;return p(v),function(){m(v)}}},[e,p,m]),function(v){c.current=v}}var QI=["boxSizing","height","overflow","paddingRight","position"],zI={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function HI(t){t.cancelable&&t.preventDefault()}function $I(t){t.stopPropagation()}function VI(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function KI(){return"ontouchstart"in window||navigator.maxTouchPoints}var qI=!!(typeof window<"u"&&window.document&&window.document.createElement),Xf=0,W0={capture:!1,passive:!1};function l8e(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,i=_.useRef({}),s=_.useRef(null),a=_.useCallback(function(l){if(qI){var c=document.body,u=c&&c.style;if(n&&QI.forEach(function(p){var m=u&&u[p];i.current[p]=m}),n&&Xf<1){var d=parseInt(i.current.paddingRight,10)||0,A=document.body?document.body.clientWidth:0,f=window.innerWidth-A+d||0;Object.keys(zI).forEach(function(p){var m=zI[p];u&&(u[p]=m)}),u&&(u.paddingRight="".concat(f,"px"))}c&&KI()&&(c.addEventListener("touchmove",HI,W0),l&&(l.addEventListener("touchstart",VI,W0),l.addEventListener("touchmove",$I,W0))),Xf+=1}},[n]),o=_.useCallback(function(l){if(qI){var c=document.body,u=c&&c.style;Xf=Math.max(Xf-1,0),n&&Xf<1&&QI.forEach(function(d){var A=i.current[d];u&&(u[d]=A)}),c&&KI()&&(c.removeEventListener("touchmove",HI,W0),l&&(l.removeEventListener("touchstart",VI,W0),l.removeEventListener("touchmove",$I,W0)))}},[n]);return _.useEffect(function(){if(e){var l=s.current;return a(l),function(){o(l)}}},[e,a,o]),function(l){s.current=l}}var c8e=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},u8e={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function d8e(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,i=n===void 0?!0:n,s=t.onBottomArrive,a=t.onBottomLeave,o=t.onTopArrive,l=t.onTopLeave,c=o8e({isEnabled:i,onBottomArrive:s,onBottomLeave:a,onTopArrive:o,onTopLeave:l}),u=l8e({isEnabled:r}),d=function(f){c(f),u(f)};return Ke(_.Fragment,null,r&&Ke("div",{onClick:c8e,css:u8e}),e(d))}var h8e={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},A8e=function(e){var r=e.name,n=e.onFocus;return Ke("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:h8e,value:"",onChange:function(){}})},f8e=A8e;function QM(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function p8e(){return QM(/^iPhone/i)}function fJ(){return QM(/^Mac/i)}function m8e(){return QM(/^iPad/i)||fJ()&&navigator.maxTouchPoints>1}function g8e(){return p8e()||m8e()}function y8e(){return fJ()||g8e()}var v8e=function(e){return e.label},x8e=function(e){return e.label},b8e=function(e){return e.value},w8e=function(e){return!!e.isDisabled},C8e={clearIndicator:s6e,container:W5e,control:h6e,dropdownIndicator:n6e,group:m6e,groupHeading:y6e,indicatorsContainer:J5e,indicatorSeparator:o6e,input:w6e,loadingIndicator:u6e,loadingMessage:H5e,menu:I5e,menuList:R5e,menuPortal:K5e,multiValue:k6e,multiValueLabel:E6e,multiValueRemove:M6e,noOptionsMessage:z5e,option:j6e,placeholder:P6e,singleValue:Q6e,valueContainer:X5e},B8e={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},S8e=4,pJ=4,_8e=38,k8e=pJ*2,E8e={baseUnit:pJ,controlHeight:_8e,menuGutter:k8e},E8={borderRadius:S8e,colors:B8e,spacing:E8e},M8e={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:II(),captureMenuScroll:!II(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:n8e(),formatGroupLabel:v8e,getOptionLabel:x8e,getOptionValue:b8e,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:w8e,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!_5e(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function WI(t,e,r,n){var i=yJ(t,e,r),s=vJ(t,e,r),a=gJ(t,e),o=Hb(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:a,value:o,index:n}}function X4(t,e){return t.options.map(function(r,n){if("options"in r){var i=r.options.map(function(a,o){return WI(t,a,e,o)}).filter(function(a){return XI(t,a)});return i.length>0?{type:"group",data:r,options:i,index:n}:void 0}var s=WI(t,r,e,n);return XI(t,s)?s:void 0}).filter(M5e)}function mJ(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,EM(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function GI(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,EM(n.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(n.index,"-").concat(i.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function F8e(t,e){return mJ(X4(t,e))}function XI(t,e){var r=t.inputValue,n=r===void 0?"":r,i=e.data,s=e.isSelected,a=e.label,o=e.value;return(!bJ(t)||!s)&&xJ(t,{label:a,value:o,data:i},n)}function T8e(t,e){var r=t.focusedValue,n=t.selectValue,i=n.indexOf(r);if(i>-1){var s=e.indexOf(r);if(s>-1)return r;if(i<e.length)return e[i]}return null}function D8e(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var M8=function(e,r){var n,i=(n=e.find(function(s){return s.data===r}))===null||n===void 0?void 0:n.id;return i||null},gJ=function(e,r){return e.getOptionLabel(r)},Hb=function(e,r){return e.getOptionValue(r)};function yJ(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function vJ(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=Hb(t,e);return r.some(function(i){return Hb(t,i)===n})}function xJ(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var bJ=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},L8e=1,wJ=function(t){W3e(r,t);var e=Y3e(r);function r(n){var i;if(K3e(this,r),i=e.call(this,n),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=y8e(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,c){var u=i.props,d=u.onChange,A=u.name;c.name=A,i.ariaOnChange(l,c),d(l,c)},i.setValue=function(l,c,u){var d=i.props,A=d.closeMenuOnSelect,f=d.isMulti,p=d.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:p}),A&&(i.setState({inputIsHiddenAfterUpdate:!f}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:c,option:u})},i.selectOption=function(l){var c=i.props,u=c.blurInputOnSelect,d=c.isMulti,A=c.name,f=i.state.selectValue,p=d&&i.isOptionSelected(l,f),m=i.isOptionDisabled(l,f);if(p){var v=i.getOptionValue(l);i.setValue(f.filter(function(g){return i.getOptionValue(g)!==v}),"deselect-option",l)}else if(!m)d?i.setValue([].concat(EM(f),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:A});return}u&&i.blurInput()},i.removeValue=function(l){var c=i.props.isMulti,u=i.state.selectValue,d=i.getOptionValue(l),A=u.filter(function(p){return i.getOptionValue(p)!==d}),f=V2(c,A,A[0]||null);i.onChange(f,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(V2(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,c=i.state.selectValue,u=c[c.length-1],d=c.slice(0,c.length-1),A=V2(l,d,d[0]||null);u&&i.onChange(A,{action:"pop-value",removedValue:u})},i.getFocusedOptionId=function(l){return M8(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return GI(X4(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return b5e.apply(void 0,[i.props.classNamePrefix].concat(c))},i.getOptionLabel=function(l){return gJ(i.props,l)},i.getOptionValue=function(l){return Hb(i.props,l)},i.getStyles=function(l,c){var u=i.props.unstyled,d=C8e[l](c,u);d.boxSizing="border-box";var A=i.props.styles[l];return A?A(d,c):d},i.getClassNames=function(l,c){var u,d;return(u=(d=i.props.classNames)[l])===null||u===void 0?void 0:u.call(d,c)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return V6e(i.props)},i.buildCategorizedOptions=function(){return X4(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return mJ(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,c){i.setState({ariaSelection:Ye({value:l},c)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var c=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():c&&i.openMenu("first"):(c&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var c=i.props,u=c.isMulti,d=c.menuIsOpen;i.focusInput(),d?(i.setState({inputIsHiddenAfterUpdate:!u}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&t5(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var c=l.touches,u=c&&c.item(0);u&&(i.initialTouchX=u.clientX,i.initialTouchY=u.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var c=l.touches,u=c&&c.item(0);if(u){var d=Math.abs(u.clientX-i.initialTouchX),A=Math.abs(u.clientY-i.initialTouchY),f=5;i.userIsDragging=d>f||A>f}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var c=i.props.inputValue,u=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(u,{action:"input-change",prevInputValue:c}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var c=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:c}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var c=i.getFocusableOptions(),u=c.indexOf(l);i.setState({focusedOption:l,focusedOptionId:u>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return bJ(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var c=i.props,u=c.isMulti,d=c.backspaceRemovesValue,A=c.escapeClearsValue,f=c.inputValue,p=c.isClearable,m=c.isDisabled,v=c.menuIsOpen,g=c.onKeyDown,y=c.tabSelectsValue,x=c.openMenuOnFocus,b=i.state,w=b.focusedOption,C=b.focusedValue,B=b.selectValue;if(!m&&!(typeof g=="function"&&(g(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!u||f)return;i.focusValue("previous");break;case"ArrowRight":if(!u||f)return;i.focusValue("next");break;case"Delete":case"Backspace":if(f)return;if(C)i.removeValue(C);else{if(!d)return;u?i.popValue():p&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!v||!y||!w||x&&i.isOptionSelected(w,B))return;i.selectOption(w);break;case"Enter":if(l.keyCode===229)break;if(v){if(!w||i.isComposing)return;i.selectOption(w);break}return;case"Escape":v?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:f}),i.onMenuClose()):p&&A&&i.clearValue();break;case" ":if(f)return;if(!v){i.openMenu("first");break}if(!w)return;i.selectOption(w);break;case"ArrowUp":v?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":v?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!v)return;i.focusOption("pageup");break;case"PageDown":if(!v)return;i.focusOption("pagedown");break;case"Home":if(!v)return;i.focusOption("first");break;case"End":if(!v)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++L8e),i.state.selectValue=NI(n.value),n.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),a=i.buildFocusableOptions(),o=a.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=a[o],i.state.focusedOptionId=M8(s,a[o])}return i}return q3e(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&jI(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isDisabled,o=s.menuIsOpen,l=this.state.isFocused;(l&&!a&&i.isDisabled||l&&o&&!i.menuIsOpen)&&this.focusInput(),l&&a&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!a&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(jI(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,a=this.state,o=a.selectValue,l=a.isFocused,c=this.buildFocusableOptions(),u=i==="first"?0:c.length-1;if(!this.props.isMulti){var d=c.indexOf(o[0]);d>-1&&(u=d)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[u],focusedOptionId:this.getFocusedOptionId(c[u])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,a=s.selectValue,o=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=a.indexOf(o);o||(l=-1);var c=a.length-1,u=-1;if(a.length){switch(i){case"previous":l===0?u=0:l===-1?u=c:u=l-1;break;case"next":l>-1&&l<c&&(u=l+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:a[u]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,a=this.state.focusedOption,o=this.getFocusableOptions();if(o.length){var l=0,c=o.indexOf(a);a||(c=-1),i==="up"?l=c>0?c-1:o.length-1:i==="down"?l=(c+1)%o.length:i==="pageup"?(l=c-s,l<0&&(l=0)):i==="pagedown"?(l=c+s,l>o.length-1&&(l=o.length-1)):i==="last"&&(l=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(o[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(E8):Ye(Ye({},E8),this.props.theme):E8}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,a=this.getStyles,o=this.getClassNames,l=this.getValue,c=this.selectOption,u=this.setValue,d=this.props,A=d.isMulti,f=d.isRtl,p=d.options,m=this.hasValue();return{clearValue:i,cx:s,getStyles:a,getClassNames:o,getValue:l,hasValue:m,isMulti:A,isRtl:f,options:p,selectOption:c,selectProps:d,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,a=i.isMulti;return s===void 0?a:s}},{key:"isOptionDisabled",value:function(i,s){return yJ(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return vJ(this.props,i,s)}},{key:"filterOption",value:function(i,s){return xJ(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,o=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:a,selectValue:o})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,a=i.isSearchable,o=i.inputId,l=i.inputValue,c=i.tabIndex,u=i.form,d=i.menuIsOpen,A=i.required,f=this.getComponents(),p=f.Input,m=this.state,v=m.inputIsHidden,g=m.ariaSelection,y=this.commonProps,x=o||this.getElementId("input"),b=Ye(Ye(Ye({"aria-autocomplete":"list","aria-expanded":d,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":A,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},d&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?(g==null?void 0:g.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?_.createElement(p,nt({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:x,innerRef:this.getInputRef,isDisabled:s,isHidden:v,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:u,type:"text",value:l},b)):_.createElement(s8e,nt({id:x,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Qb,onFocus:this.onInputFocus,disabled:s,tabIndex:c,inputMode:"none",form:u,value:""},b))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),a=s.MultiValue,o=s.MultiValueContainer,l=s.MultiValueLabel,c=s.MultiValueRemove,u=s.SingleValue,d=s.Placeholder,A=this.commonProps,f=this.props,p=f.controlShouldRenderValue,m=f.isDisabled,v=f.isMulti,g=f.inputValue,y=f.placeholder,x=this.state,b=x.selectValue,w=x.focusedValue,C=x.isFocused;if(!this.hasValue()||!p)return g?null:_.createElement(d,nt({},A,{key:"placeholder",isDisabled:m,isFocused:C,innerProps:{id:this.getElementId("placeholder")}}),y);if(v)return b.map(function(S,E){var M=S===w,T="".concat(i.getOptionLabel(S),"-").concat(i.getOptionValue(S));return _.createElement(a,nt({},A,{components:{Container:o,Label:l,Remove:c},isFocused:M,isDisabled:m,key:T,index:E,removeProps:{onClick:function(){return i.removeValue(S)},onTouchEnd:function(){return i.removeValue(S)},onMouseDown:function(I){I.preventDefault()}},data:S}),i.formatOptionLabel(S,"value"))});if(g)return null;var B=b[0];return _.createElement(u,nt({},A,{data:B,isDisabled:m}),this.formatOptionLabel(B,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,a=this.commonProps,o=this.props,l=o.isDisabled,c=o.isLoading,u=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||c)return null;var d={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return _.createElement(s,nt({},a,{innerProps:d,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,a=this.commonProps,o=this.props,l=o.isDisabled,c=o.isLoading,u=this.state.isFocused;if(!s||!c)return null;var d={"aria-hidden":"true"};return _.createElement(s,nt({},a,{innerProps:d,isDisabled:l,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,a=i.IndicatorSeparator;if(!s||!a)return null;var o=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused;return _.createElement(a,nt({},o,{isDisabled:l,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var a=this.commonProps,o=this.props.isDisabled,l=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return _.createElement(s,nt({},a,{innerProps:c,isDisabled:o,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),a=s.Group,o=s.GroupHeading,l=s.Menu,c=s.MenuList,u=s.MenuPortal,d=s.LoadingMessage,A=s.NoOptionsMessage,f=s.Option,p=this.commonProps,m=this.state.focusedOption,v=this.props,g=v.captureMenuScroll,y=v.inputValue,x=v.isLoading,b=v.loadingMessage,w=v.minMenuHeight,C=v.maxMenuHeight,B=v.menuIsOpen,S=v.menuPlacement,E=v.menuPosition,M=v.menuPortalTarget,T=v.menuShouldBlockScroll,L=v.menuShouldScrollIntoView,I=v.noOptionsMessage,R=v.onMenuScrollToTop,z=v.onMenuScrollToBottom;if(!B)return null;var W=function(O,me){var Ce=O.type,oe=O.data,ye=O.isDisabled,ze=O.isSelected,fe=O.label,J=O.value,ie=m===oe,Ue=ye?void 0:function(){return i.onOptionHover(oe)},$e=ye?void 0:function(){return i.selectOption(oe)},Bt="".concat(i.getElementId("option"),"-").concat(me),Ze={id:Bt,onClick:$e,onMouseMove:Ue,onMouseOver:Ue,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:ze};return _.createElement(f,nt({},p,{innerProps:Ze,data:oe,isDisabled:ye,isSelected:ze,key:Bt,label:fe,type:Ce,value:J,isFocused:ie,innerRef:ie?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(O.data,"menu"))},K;if(this.hasOptions())K=this.getCategorizedOptions().map(function(re){if(re.type==="group"){var O=re.data,me=re.options,Ce=re.index,oe="".concat(i.getElementId("group"),"-").concat(Ce),ye="".concat(oe,"-heading");return _.createElement(a,nt({},p,{key:oe,data:O,options:me,Heading:o,headingProps:{id:ye,data:re.data},label:i.formatGroupLabel(re.data)}),re.options.map(function(ze){return W(ze,"".concat(Ce,"-").concat(ze.index))}))}else if(re.type==="option")return W(re,"".concat(re.index))});else if(x){var U=b({inputValue:y});if(U===null)return null;K=_.createElement(d,p,U)}else{var q=I({inputValue:y});if(q===null)return null;K=_.createElement(A,p,q)}var N={minMenuHeight:w,maxMenuHeight:C,menuPlacement:S,menuPosition:E,menuShouldScrollIntoView:L},ne=_.createElement(O5e,nt({},p,N),function(re){var O=re.ref,me=re.placerProps,Ce=me.placement,oe=me.maxHeight;return _.createElement(l,nt({},p,N,{innerRef:O,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:x,placement:Ce}),_.createElement(d8e,{captureEnabled:g,onTopArrive:R,onBottomArrive:z,lockEnabled:T},function(ye){return _.createElement(c,nt({},p,{innerRef:function(fe){i.getMenuListRef(fe),ye(fe)},innerProps:{role:"listbox","aria-multiselectable":p.isMulti,id:i.getElementId("listbox")},isLoading:x,maxHeight:oe,focusedOption:m}),K)}))});return M||E==="fixed"?_.createElement(u,nt({},p,{appendTo:M,controlElement:this.controlRef,menuPlacement:S,menuPosition:E}),ne):ne}},{key:"renderFormField",value:function(){var i=this,s=this.props,a=s.delimiter,o=s.isDisabled,l=s.isMulti,c=s.name,u=s.required,d=this.state.selectValue;if(u&&!this.hasValue()&&!o)return _.createElement(f8e,{name:c,onFocus:this.onValueInputFocus});if(!(!c||o))if(l)if(a){var A=d.map(function(m){return i.getOptionValue(m)}).join(a);return _.createElement("input",{name:c,type:"hidden",value:A})}else{var f=d.length>0?d.map(function(m,v){return _.createElement("input",{key:"i-".concat(v),name:c,type:"hidden",value:i.getOptionValue(m)})}):_.createElement("input",{name:c,type:"hidden",value:""});return _.createElement("div",null,f)}else{var p=d[0]?this.getOptionValue(d[0]):"";return _.createElement("input",{name:c,type:"hidden",value:p})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,a=s.ariaSelection,o=s.focusedOption,l=s.focusedValue,c=s.isFocused,u=s.selectValue,d=this.getFocusableOptions();return _.createElement(Z6e,nt({},i,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:o,focusedValue:l,isFocused:c,selectValue:u,focusableOptions:d,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,a=i.IndicatorsContainer,o=i.SelectContainer,l=i.ValueContainer,c=this.props,u=c.className,d=c.id,A=c.isDisabled,f=c.menuIsOpen,p=this.state.isFocused,m=this.commonProps=this.getCommonProps();return _.createElement(o,nt({},m,{className:u,innerProps:{id:d,onKeyDown:this.onKeyDown},isDisabled:A,isFocused:p}),this.renderLiveRegion(),_.createElement(s,nt({},m,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:A,isFocused:p,menuIsOpen:f}),_.createElement(l,nt({},m,{isDisabled:A}),this.renderPlaceholderOrValue(),this.renderInput()),_.createElement(a,nt({},m,{isDisabled:A}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var a=s.prevProps,o=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,c=s.ariaSelection,u=s.isFocused,d=s.prevWasFocused,A=s.instancePrefix,f=i.options,p=i.value,m=i.menuIsOpen,v=i.inputValue,g=i.isMulti,y=NI(p),x={};if(a&&(p!==a.value||f!==a.options||m!==a.menuIsOpen||v!==a.inputValue)){var b=m?F8e(i,y):[],w=m?GI(X4(i,y),"".concat(A,"-option")):[],C=o?T8e(s,y):null,B=D8e(s,b),S=M8(w,B);x={selectValue:y,focusedOption:B,focusedOptionId:S,focusableOptionsWithIds:w,focusedValue:C,clearFocusValueOnUpdate:!1}}var E=l!=null&&i!==a?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},M=c,T=u&&d;return u&&!T&&(M={value:V2(g,y,y[0]||null),options:y,action:"initial-input-focus"},T=!d),(c==null?void 0:c.action)==="initial-input-focus"&&(M=null),Ye(Ye(Ye({},x),E),{},{prevProps:i,ariaSelection:M,prevWasFocused:T})}}]),r}(_.Component);wJ.defaultProps=M8e;var N8e=_.forwardRef(function(t,e){var r=V3e(t);return _.createElement(wJ,nt({ref:e},r))}),CJ=N8e;const j8e=({teacherSubjects:t,allSubjects:e,onSubjectCreate:r,onDelete:n,selectedSubjects:i,onSubjectsChange:s,isLoading:a,isError:o})=>{const[l,c]=_.useState(),u=_.useRef(),d=()=>{u.current.clearValue()};_.useEffect(()=>{const f=e==null?void 0:e.data.filter(p=>!(t!=null&&t.some(m=>m.id===p.id)));c(f)},[t,e]);const A=l==null?void 0:l.map(f=>({value:f.id,label:f.title}));return h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-8",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Sa,{className:"text-[#6F38DE] h-6 w-6"}),h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Assigned Subjects"})]})}),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:t&&t.length>0?h.jsx(h.Fragment,{children:t==null?void 0:t.map(f=>h.jsxs("div",{className:"flex items-center justify-between p-4 mb-1 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200",children:[h.jsxs("p",{className:"flex items-center gap-2 text-green-600",children:[h.jsx(Sa,{className:"h-4 w-4"}),f.title]}),h.jsxs("button",{onClick:()=>n(f==null?void 0:f.id),className:"flex items-center gap-1 px-3 py-1 text-sm text-red-600 bg-red-100 rounded-lg hover:bg-red-200 transition-all duration-200",children:[h.jsx(Uu,{className:"h-4 w-4"}),"Delete"]})]},f.id))}):h.jsxs("p",{className:"flex items-center gap-2 text-red-500",children:[h.jsx(Sa,{className:"h-4 w-4"}),"No Subjects Assigned"]})}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Subject"}),h.jsx(CJ,{ref:u,isMulti:!0,options:A,onChange:s,value:i,placeholder:"Select Subjects..."})]}),h.jsxs("button",{type:"button",onClick:()=>{r().then(()=>{d()})},disabled:a,className:`inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-lg text-base font-medium text-white ${a?"bg-gray-400":"bg-[#6F38DE] hover:bg-[#5C2EBA] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#6F38DE]"} `,children:[h.jsx(Sa,{className:"w-5 h-5 mr-2"}),a?"Loading...":"Assign Subject"]})]})]})};function I8e({teacherProfile:t,profileRefetch:e}){var W,K,U;const{user_id:r}=Ar(),[n,i]=_.useState([]),s=q=>{i(q||[])},[a,o]=_.useState(t.title),[l,c]=_.useState(t.level_id),[u,d]=_.useState(t),[A,{data:f}]=xf();_.useEffect(()=>{A({level_id:Number(l)})},[l]),_.useEffect(()=>{d(t)},[t,e]);const[p,{isLoading:m,isError:v,error:g}]=kM(),{data:y,isLoading:x,isError:b,error:w,refetch:C}=Oo(),[B,{isError:S,isLoading:E}]=TY(),[M,{isError:T,isLoading:L}]=T3e();_.useEffect(()=>{C()},[]);async function I(q){const N=n.map(re=>re.value),ne=await B({level_id:Number(l),subject_id:N,teacher_id:Number(u==null?void 0:u.id)}).unwrap();(ne==null?void 0:ne.statusCode)==200?(Z.success("success assigning subjects"),e()):Z.error("unable to assign subjects to teacher")}async function R(q){const N=await M({level_id:Number(l),subject_id:Number(q),teacher_id:Number(u==null?void 0:u.id)}).unwrap();(N==null?void 0:N.statusCode)==200?(Z.success("success detaching subjects"),e()):Z.error("unable to detach subjects to teacher")}const z=async q=>{q.preventDefault();try{const N=await p({title:a,level_id:Number(l),user_id:Number(r),role:he.TEACHER}).unwrap();(N==null?void 0:N.statusCode)==200?(Z.success("teacher Profile updated successfully"),e()):Z.error((N==null?void 0:N.message)||"Update failed")}catch{Z.error("Error updating teacher profile")}};return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[h.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Teacher Profile"})}),h.jsxs("form",{onSubmit:z,className:"p-6 space-y-6",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Level"}),x?h.jsx("p",{children:"Loading levels..."}):b?h.jsxs("p",{className:"text-red-500",children:["Error loading levels: ",((W=w==null?void 0:w.data)==null?void 0:W.message)||"Unknown error"]}):h.jsxs("select",{value:l,onChange:q=>c(q.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[h.jsx("option",{value:"",disabled:!0,children:"Select Level"}),(K=y==null?void 0:y.data)==null?void 0:K.map(q=>h.jsx("option",{value:q.id,children:q.level.charAt(0).toUpperCase()+q.level.slice(1)},q.id))]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),h.jsx("input",{type:"text",value:a,onChange:q=>o(q.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0})]}),v&&h.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg text-sm",children:((U=g==null?void 0:g.data)==null?void 0:U.message)||"An error occurred"}),h.jsx("button",{type:"submit",disabled:m,className:`w-full px-4 py-2.5 ${m?"bg-gray-400":"bg-gradient-to-r from-[#6925EF] to-[#3C1589]"}  text-white rounded-lg hover:opacity-90`,children:"Update Teacher Profile"})]}),h.jsx(j8e,{teacherSubjects:u==null?void 0:u.subjects,allSubjects:f,onSubjectCreate:I,onDelete:R,selectedSubjects:n,onSubjectsChange:s,isLoading:E,isError:S})]})})}const Y4=Xi({reducerPath:"district",baseQuery:Yi,endpoints:t=>({createDistrict:t.mutation({query:e=>({url:"/district",method:"POST",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),updateDistrict:t.mutation({query:e=>({url:"/district",method:"PUT",body:e}),meta:{skipToken:!1,skipHeaders:!1}}),getDistrictById:t.query({query:e=>({url:`/district/${e}`,method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}}),getAllDistricts:t.query({query:()=>({url:"/district",method:"GET"}),meta:{skipToken:!1,skipHeaders:!1}})})}),{useCreateDistrictMutation:O8e,useUpdateDistrictMutation:P8e,useGetDistrictByIdQuery:U8e,useGetAllDistrictsQuery:zM}=Y4;function R8e({superIntendentProfile:t,profileRefetch:e}){var m,v,g;const{user_id:r}=Ar(),[n,i]=_.useState((t==null?void 0:t.district_id)||""),{data:s,isLoading:a,isError:o,error:l,refetch:c}=zM();_.useEffect(()=>{c()},[]);const[u,{isLoading:d,isError:A,error:f}]=kM(),p=async y=>{y.preventDefault();try{const x=await u({district_id:Number(n),user_id:Number(r),role:he.SUPER_INTENDENT}).unwrap();(x==null?void 0:x.statusCode)===200?(Z.success("Super Intendent profile updated successfully"),e()):Z.error((x==null?void 0:x.message)||"Update failed")}catch{Z.error("Error updating Super Intendent profile")}};return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[h.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Super Intendent Profile"})}),h.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"District"}),a?h.jsx("p",{children:"Loading districts..."}):o?h.jsxs("p",{className:"text-red-500",children:["Error loading districts: ",((m=l==null?void 0:l.data)==null?void 0:m.message)||"Unknown error"]}):h.jsx("select",{value:n,onChange:y=>i(y.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:(v=s==null?void 0:s.data)==null?void 0:v.map(y=>h.jsx("option",{value:y.id,children:y.name},y.id))})]}),A&&h.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg text-sm",children:((g=f==null?void 0:f.data)==null?void 0:g.message)||"An error occurred"}),h.jsx("button",{type:"submit",disabled:d,className:`w-full px-4 py-2.5 ${d?"bg-gray-400":"bg-gradient-to-r from-[#6925EF] to-[#3C1589]"}  text-white rounded-lg hover:opacity-90`,children:"Update Super Intendent Profile"})]})]})})}const J4=Xi({reducerPath:"schoolSlice",baseQuery:Yi,endpoints:t=>({createSchool:t.mutation({query:e=>({url:"/school/",method:"POST",body:e})}),getSchools:t.query({query:({page:e,limit:r})=>{const n={};return e!==void 0&&(n.page=e),r!==void 0&&(n.limit=r),{url:"/school/get-all-schools",method:"GET",params:n}}}),getSchoolById:t.query({query:e=>({url:`/school/${e}`,method:"GET"})}),updateSchool:t.mutation({query:({id:e,schoolData:r})=>({url:`/school/${e}`,method:"PUT",body:r})}),deleteSchool:t.mutation({query:e=>({url:`/school/${e}`,method:"DELETE"})}),restoreSchool:t.mutation({query:e=>({url:`/school/${e}/restore`,method:"POST"})})})}),{useCreateSchoolMutation:Q8e,useGetSchoolsQuery:HM,useGetSchoolByIdQuery:z8e,useUpdateSchoolMutation:H8e,useDeleteSchoolMutation:$He,useRestoreSchoolMutation:VHe}=J4;function $8e({principle_profile:t,profileRefetch:e}){var v,g,y,x,b;const{user_id:r}=Ar(),[n,i]=_.useState(((v=t==null?void 0:t.schools[0])==null?void 0:v.id)||""),{data:s,isLoading:a,isError:o,error:l,refetch:c}=HM({page:1,limit:1e18},{refetchOnMountOrArgChange:!0}),[u,{isLoading:d,isError:A,error:f}]=D3e(),p=w=>{const C=w.target.value;i(C)},m=async()=>{try{const w=await u({school_id:Number(n),admin_id:Number(r)}).unwrap();(w==null?void 0:w.statusCode)===200?(Z.success("School assignment updated successfully"),e()):Z.error((w==null?void 0:w.message)||"Failed to update school assignment")}catch{Z.error("Error updating school assignment")}};return _.useEffect(()=>{c()},[c]),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[h.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Principal Profile"})}),h.jsxs("form",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"School"}),a?h.jsx("p",{children:"Loading schools..."}):o?h.jsxs("p",{className:"text-red-500",children:["Error loading schools: ",((g=l==null?void 0:l.data)==null?void 0:g.message)||"Unknown error"]}):h.jsx("select",{value:n,onChange:p,className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:(x=(y=s==null?void 0:s.data)==null?void 0:y.data)==null?void 0:x.map(w=>h.jsx("option",{value:w.id,children:w.name},w.id))})]}),A&&h.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg text-sm",children:((b=f==null?void 0:f.data)==null?void 0:b.message)||"An error occurred while updating school assignment"}),h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{type:"button",onClick:m,disabled:d,className:`w-auto px-4 py-2 ${d?"bg-gray-400":"bg-gradient-to-r from-[#6925EF] to-[#3C1589]"}  text-white rounded-lg hover:opacity-90`,children:"Update School Assignment"})})]})]})}const F8=()=>{var d,A,f,p;const{user_id:t}=Ar(),[e,r]=_.useState(!1),[n,i]=_.useState({id:"",name:"",email:"",isVerified:!1,role:"",contact:""}),[s,{isLoading:a}]=fhe(),{data:o,refetch:l}=Kq({user_id:Number(t)},{skip:!t});_.useEffect(()=>{l()},[]),_.useEffect(()=>{o!=null&&o.data&&i({id:o.data.id||"",name:o.data.name||"",email:o.data.email||"",contact:o.data.contact||"",isVerified:o.data.isVerified||!1,role:o.data.role||""})},[o]);const c=(m,v)=>{i(g=>({...g,[m]:v}))},u=async()=>{var m;try{const v=await s({id:n.id,name:n.name,email:n.email,contact:n.contact,isVerified:n.isVerified}).unwrap();(v==null?void 0:v.statusCode)===200&&(Z.success("User profile updated successfully"),r(!1))}catch(v){console.log("error",v),Z.error(((m=v==null?void 0:v.data)==null?void 0:m.message)||"Error updating user profile")}};return h.jsx("div",{className:"min-h-screen",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[h.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"User Profile"})}),h.jsxs("form",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),h.jsx("input",{type:"text",value:n.name,onChange:m=>c("name",m.target.value),disabled:!e,className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20"})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),h.jsx("input",{type:"email",value:n.email,onChange:m=>c("email",m.target.value),disabled:!e,className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20"})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Eamil Verification Status"}),e?h.jsxs("select",{value:n!=null&&n.isVerified?"true":"false",onChange:m=>c("isVerified",m.target.value==="true"),disabled:!e,className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20",children:[h.jsx("option",{value:"true",children:"Verified"}),h.jsx("option",{value:"false",children:"Not Verified"})]}):h.jsx("span",{className:"flex w-full bg-slate-50 py-2.5 px-4",children:n!=null&&n.isVerified?"verified":"Not Verified"})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone No"}),h.jsx("input",{type:"text",value:n.contact,onChange:m=>c("contact",m.target.value),disabled:!e,className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20"})]})]}),h.jsx("div",{className:"flex justify-end gap-4",children:e?h.jsxs(h.Fragment,{children:[h.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),h.jsx("button",{type:"button",onClick:u,className:`px-4 py-2 ${a?"bg-gray-400":"bg-gradient-to-r from-[#6925EF] to-[#3C1589]"} text-white rounded-lg hover:opacity-90`,disabled:a,children:"Save Changes"})]}):h.jsx("button",{type:"button",onClick:()=>r(!0),className:"px-4 py-2 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90",children:"Edit Profile"})})]})]}),(n==null?void 0:n.role)==he.USER&&h.jsx(P3e,{studentProfile:(d=o==null?void 0:o.data)==null?void 0:d.student_profile,profileRefetch:l}),(n==null?void 0:n.role)==he.TEACHER&&h.jsx(I8e,{teacherProfile:(A=o==null?void 0:o.data)==null?void 0:A.teacher_profile,profileRefetch:l}),(n==null?void 0:n.role)===he.SUPER_INTENDENT&&h.jsx(R8e,{superIntendentProfile:(f=o==null?void 0:o.data)==null?void 0:f.super_intendent_profile,profileRefetch:l}),(n==null?void 0:n.role)===he.ADMIN&&h.jsx($8e,{principle_profile:(p=o==null?void 0:o.data)==null?void 0:p.admin_profile,profileRefetch:l})]})})})};var U1=t=>t.type==="checkbox",$d=t=>t instanceof Date,hi=t=>t==null;const BJ=t=>typeof t=="object";var Wr=t=>!hi(t)&&!Array.isArray(t)&&BJ(t)&&!$d(t),SJ=t=>Wr(t)&&t.target?U1(t.target)?t.target.checked:t.target.value:t,V8e=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,_J=(t,e)=>t.has(V8e(e)),K8e=t=>{const e=t.constructor&&t.constructor.prototype;return Wr(e)&&e.hasOwnProperty("isPrototypeOf")},$M=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ei(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!($M&&(t instanceof Blob||n))&&(r||Wr(t)))if(e=r?[]:{},!r&&!K8e(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Ei(t[i]));else return t;return e}var r5=t=>Array.isArray(t)?t.filter(Boolean):[],Rr=t=>t===void 0,Fe=(t,e,r)=>{if(!e||!Wr(t))return r;const n=r5(e.split(/[,[\].]+?/)).reduce((i,s)=>hi(i)?i:i[s],t);return Rr(n)||n===t?Rr(t[e])?r:t[e]:n},Us=t=>typeof t=="boolean",VM=t=>/^\w*$/.test(t),kJ=t=>r5(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ht=(t,e,r)=>{let n=-1;const i=VM(e)?[e]:kJ(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const c=t[o];l=Wr(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}return t};const $b={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},wa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$o={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},q8e=Pe.createContext(null),KM=()=>Pe.useContext(q8e);var EJ=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==wa.all&&(e._proxyFormState[a]=!n||wa.all),r&&(r[a]=!0),t[a]}});return i},Fi=t=>Wr(t)&&!Object.keys(t).length,MJ=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Fi(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||wa.all))},Dm=t=>Array.isArray(t)?t:[t],FJ=(t,e,r)=>!t||!e||t===e||Dm(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function qM(t){const e=Pe.useRef(t);e.current=t,Pe.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function W8e(t){const e=KM(),{control:r=e.control,disabled:n,name:i,exact:s}=t,[a,o]=Pe.useState(r._formState),l=Pe.useRef(!0),c=Pe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Pe.useRef(i);return u.current=i,qM({disabled:n,next:d=>l.current&&FJ(u.current,d.name,s)&&MJ(d,c.current,r._updateFormState)&&o({...r._formState,...d}),subject:r._subjects.state}),Pe.useEffect(()=>(l.current=!0,c.current.isValid&&r._updateValid(!0),()=>{l.current=!1}),[r]),Pe.useMemo(()=>EJ(a,r,c.current,!1),[a,r])}var go=t=>typeof t=="string",TJ=(t,e,r,n,i)=>go(t)?(n&&e.watch.add(t),Fe(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),Fe(r,s))):(n&&(e.watchAll=!0),r);function G8e(t){const e=KM(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a}=t,o=Pe.useRef(n);o.current=n,qM({disabled:s,subject:r._subjects.values,next:u=>{FJ(o.current,u.name,a)&&c(Ei(TJ(o.current,r._names,u.values||r._formValues,!1,i)))}});const[l,c]=Pe.useState(r._getWatch(n,i));return Pe.useEffect(()=>r._removeUnmounted()),l}function X8e(t){const e=KM(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s}=t,a=_J(i._names.array,r),o=G8e({control:i,name:r,defaultValue:Fe(i._formValues,r,Fe(i._defaultValues,r,t.defaultValue)),exact:!0}),l=W8e({control:i,name:r,exact:!0}),c=Pe.useRef(i.register(r,{...t.rules,value:o,...Us(t.disabled)?{disabled:t.disabled}:{}})),u=Pe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Fe(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!Fe(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Fe(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Fe(l.validatingFields,r)},error:{enumerable:!0,get:()=>Fe(l.errors,r)}}),[l,r]),d=Pe.useMemo(()=>({name:r,value:o,...Us(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:A=>c.current.onChange({target:{value:SJ(A),name:r},type:$b.CHANGE}),onBlur:()=>c.current.onBlur({target:{value:Fe(i._formValues,r),name:r},type:$b.BLUR}),ref:A=>{const f=Fe(i._fields,r);f&&A&&(f._f.ref={focus:()=>A.focus(),select:()=>A.select(),setCustomValidity:p=>A.setCustomValidity(p),reportValidity:()=>A.reportValidity()})}}),[r,i._formValues,n,l.disabled,o,i._fields]);return Pe.useEffect(()=>{const A=i._options.shouldUnregister||s,f=(p,m)=>{const v=Fe(i._fields,p);v&&v._f&&(v._f.mount=m)};if(f(r,!0),A){const p=Ei(Fe(i._options.defaultValues,r));Ht(i._defaultValues,r,p),Rr(Fe(i._formValues,r))&&Ht(i._formValues,r,p)}return!a&&i.register(r),()=>{(a?A&&!i._state.action:A)?i.unregister(r):f(r,!1)}},[r,i,a,s]),Pe.useEffect(()=>{i._updateDisabledField({disabled:n,fields:i._fields,name:r})},[n,r,i]),Pe.useMemo(()=>({field:d,formState:l,fieldState:u}),[d,l,u])}const Y8e=t=>t.render(X8e(t));var DJ=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},YI=t=>({isOnSubmit:!t||t===wa.onSubmit,isOnBlur:t===wa.onBlur,isOnChange:t===wa.onChange,isOnAll:t===wa.all,isOnTouch:t===wa.onTouched}),JI=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Lm=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=Fe(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(Lm(o,e))break}else if(Wr(o)&&Lm(o,e))break}}};var J8e=(t,e,r)=>{const n=Dm(Fe(t,r));return Ht(n,"root",e[r]),Ht(t,r,n),t},WM=t=>t.type==="file",ho=t=>typeof t=="function",Vb=t=>{if(!$M)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Z4=t=>go(t),GM=t=>t.type==="radio",Kb=t=>t instanceof RegExp;const ZI={value:!1,isValid:!1},eO={value:!0,isValid:!0};var LJ=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Rr(t[0].attributes.value)?Rr(t[0].value)||t[0].value===""?eO:{value:t[0].value,isValid:!0}:eO:ZI}return ZI};const tO={isValid:!1,value:null};var NJ=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,tO):tO;function rO(t,e,r="validate"){if(Z4(t)||Array.isArray(t)&&t.every(Z4)||Us(t)&&!t)return{type:r,message:Z4(t)?t:"",ref:e}}var G0=t=>Wr(t)&&!Kb(t)?t:{value:t,message:""},nO=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:d,max:A,pattern:f,validate:p,name:m,valueAsNumber:v,mount:g}=t._f,y=Fe(r,m);if(!g||e.has(m))return{};const x=o?o[0]:a,b=L=>{i&&x.reportValidity&&(x.setCustomValidity(Us(L)?"":L||""),x.reportValidity())},w={},C=GM(a),B=U1(a),S=C||B,E=(v||WM(a))&&Rr(a.value)&&Rr(y)||Vb(a)&&a.value===""||y===""||Array.isArray(y)&&!y.length,M=DJ.bind(null,m,n,w),T=(L,I,R,z=$o.maxLength,W=$o.minLength)=>{const K=L?I:R;w[m]={type:L?z:W,message:K,ref:a,...M(L?z:W,K)}};if(s?!Array.isArray(y)||!y.length:l&&(!S&&(E||hi(y))||Us(y)&&!y||B&&!LJ(o).isValid||C&&!NJ(o).isValid)){const{value:L,message:I}=Z4(l)?{value:!!l,message:l}:G0(l);if(L&&(w[m]={type:$o.required,message:I,ref:x,...M($o.required,I)},!n))return b(I),w}if(!E&&(!hi(d)||!hi(A))){let L,I;const R=G0(A),z=G0(d);if(!hi(y)&&!isNaN(y)){const W=a.valueAsNumber||y&&+y;hi(R.value)||(L=W>R.value),hi(z.value)||(I=W<z.value)}else{const W=a.valueAsDate||new Date(y),K=N=>new Date(new Date().toDateString()+" "+N),U=a.type=="time",q=a.type=="week";go(R.value)&&y&&(L=U?K(y)>K(R.value):q?y>R.value:W>new Date(R.value)),go(z.value)&&y&&(I=U?K(y)<K(z.value):q?y<z.value:W<new Date(z.value))}if((L||I)&&(T(!!L,R.message,z.message,$o.max,$o.min),!n))return b(w[m].message),w}if((c||u)&&!E&&(go(y)||s&&Array.isArray(y))){const L=G0(c),I=G0(u),R=!hi(L.value)&&y.length>+L.value,z=!hi(I.value)&&y.length<+I.value;if((R||z)&&(T(R,L.message,I.message),!n))return b(w[m].message),w}if(f&&!E&&go(y)){const{value:L,message:I}=G0(f);if(Kb(L)&&!y.match(L)&&(w[m]={type:$o.pattern,message:I,ref:a,...M($o.pattern,I)},!n))return b(I),w}if(p){if(ho(p)){const L=await p(y,r),I=rO(L,x);if(I&&(w[m]={...I,...M($o.validate,I.message)},!n))return b(I.message),w}else if(Wr(p)){let L={};for(const I in p){if(!Fi(L)&&!n)break;const R=rO(await p[I](y,r),x,I);R&&(L={...R,...M(I,R.message)},b(R.message),n&&(w[m]=L))}if(!Fi(L)&&(w[m]={ref:x,...L},!n))return w}}return b(!0),w};function Z8e(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Rr(t)?n++:t[e[n++]];return t}function e7e(t){for(const e in t)if(t.hasOwnProperty(e)&&!Rr(t[e]))return!1;return!0}function sn(t,e){const r=Array.isArray(e)?e:VM(e)?[e]:kJ(e),n=r.length===1?t:Z8e(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Wr(n)&&Fi(n)||Array.isArray(n)&&e7e(n))&&sn(t,r.slice(0,-1)),t}var T8=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},RB=t=>hi(t)||!BJ(t);function Qc(t,e){if(RB(t)||RB(e))return t===e;if($d(t)&&$d(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const s=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const a=e[i];if($d(s)&&$d(a)||Wr(s)&&Wr(a)||Array.isArray(s)&&Array.isArray(a)?!Qc(s,a):s!==a)return!1}}return!0}var jJ=t=>t.type==="select-multiple",t7e=t=>GM(t)||U1(t),D8=t=>Vb(t)&&t.isConnected,IJ=t=>{for(const e in t)if(ho(t[e]))return!0;return!1};function qb(t,e={}){const r=Array.isArray(t);if(Wr(t)||r)for(const n in t)Array.isArray(t[n])||Wr(t[n])&&!IJ(t[n])?(e[n]=Array.isArray(t[n])?[]:{},qb(t[n],e[n])):hi(t[n])||(e[n]=!0);return e}function OJ(t,e,r){const n=Array.isArray(t);if(Wr(t)||n)for(const i in t)Array.isArray(t[i])||Wr(t[i])&&!IJ(t[i])?Rr(e)||RB(r[i])?r[i]=Array.isArray(t[i])?qb(t[i],[]):{...qb(t[i])}:OJ(t[i],hi(e)?{}:e[i],r[i]):r[i]=!Qc(t[i],e[i]);return r}var Yf=(t,e)=>OJ(t,e,qb(e)),PJ=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Rr(t)?t:e?t===""?NaN:t&&+t:r&&go(t)?new Date(t):n?n(t):t;function L8(t){const e=t.ref;return WM(e)?e.files:GM(e)?NJ(t.refs).value:jJ(e)?[...e.selectedOptions].map(({value:r})=>r):U1(e)?LJ(t.refs).value:PJ(Rr(e.value)?t.ref.value:e.value,t)}var r7e=(t,e,r,n)=>{const i={};for(const s of t){const a=Fe(e,s);a&&Ht(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Jf=t=>Rr(t)?t:Kb(t)?t.source:Wr(t)?Kb(t.value)?t.value.source:t.value:t;const iO="AsyncFunction";var n7e=t=>!!t&&!!t.validate&&!!(ho(t.validate)&&t.validate.constructor.name===iO||Wr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===iO)),i7e=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function sO(t,e,r){const n=Fe(t,r);if(n||VM(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=Fe(e,s),o=Fe(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};i.pop()}return{name:r}}var s7e=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,a7e=(t,e)=>!r5(Fe(t,e)).length&&sn(t,e);const o7e={mode:wa.onSubmit,reValidateMode:wa.onChange,shouldFocusError:!0};function l7e(t={}){let e={...o7e,...t},r={submitCount:0,isDirty:!1,isLoading:ho(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Wr(e.defaultValues)||Wr(e.values)?Ei(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Ei(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:T8(),array:T8(),state:T8()},A=YI(e.mode),f=YI(e.reValidateMode),p=e.criteriaMode===wa.all,m=$=>ee=>{clearTimeout(c),c=setTimeout($,ee)},v=async $=>{if(!e.disabled&&(u.isValid||$)){const ee=e.resolver?Fi((await S()).errors):await M(n,!0);ee!==r.isValid&&d.state.next({isValid:ee})}},g=($,ee)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&(($||Array.from(o.mount)).forEach(ue=>{ue&&(ee?Ht(r.validatingFields,ue,ee):sn(r.validatingFields,ue))}),d.state.next({validatingFields:r.validatingFields,isValidating:!Fi(r.validatingFields)}))},y=($,ee=[],ue,Ne,Te=!0,Se=!0)=>{if(Ne&&ue&&!e.disabled){if(a.action=!0,Se&&Array.isArray(Fe(n,$))){const We=ue(Fe(n,$),Ne.argA,Ne.argB);Te&&Ht(n,$,We)}if(Se&&Array.isArray(Fe(r.errors,$))){const We=ue(Fe(r.errors,$),Ne.argA,Ne.argB);Te&&Ht(r.errors,$,We),a7e(r.errors,$)}if(u.touchedFields&&Se&&Array.isArray(Fe(r.touchedFields,$))){const We=ue(Fe(r.touchedFields,$),Ne.argA,Ne.argB);Te&&Ht(r.touchedFields,$,We)}u.dirtyFields&&(r.dirtyFields=Yf(i,s)),d.state.next({name:$,isDirty:L($,ee),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ht(s,$,ee)},x=($,ee)=>{Ht(r.errors,$,ee),d.state.next({errors:r.errors})},b=$=>{r.errors=$,d.state.next({errors:r.errors,isValid:!1})},w=($,ee,ue,Ne)=>{const Te=Fe(n,$);if(Te){const Se=Fe(s,$,Rr(ue)?Fe(i,$):ue);Rr(Se)||Ne&&Ne.defaultChecked||ee?Ht(s,$,ee?Se:L8(Te._f)):z($,Se),a.mount&&v()}},C=($,ee,ue,Ne,Te)=>{let Se=!1,We=!1;const ft={name:$};if(!e.disabled){const ae=!!(Fe(n,$)&&Fe(n,$)._f&&Fe(n,$)._f.disabled);if(!ue||Ne){u.isDirty&&(We=r.isDirty,r.isDirty=ft.isDirty=L(),Se=We!==ft.isDirty);const ve=ae||Qc(Fe(i,$),ee);We=!!(!ae&&Fe(r.dirtyFields,$)),ve||ae?sn(r.dirtyFields,$):Ht(r.dirtyFields,$,!0),ft.dirtyFields=r.dirtyFields,Se=Se||u.dirtyFields&&We!==!ve}if(ue){const ve=Fe(r.touchedFields,$);ve||(Ht(r.touchedFields,$,ue),ft.touchedFields=r.touchedFields,Se=Se||u.touchedFields&&ve!==ue)}Se&&Te&&d.state.next(ft)}return Se?ft:{}},B=($,ee,ue,Ne)=>{const Te=Fe(r.errors,$),Se=u.isValid&&Us(ee)&&r.isValid!==ee;if(e.delayError&&ue?(l=m(()=>x($,ue)),l(e.delayError)):(clearTimeout(c),l=null,ue?Ht(r.errors,$,ue):sn(r.errors,$)),(ue?!Qc(Te,ue):Te)||!Fi(Ne)||Se){const We={...Ne,...Se&&Us(ee)?{isValid:ee}:{},errors:r.errors,name:$};r={...r,...We},d.state.next(We)}},S=async $=>{g($,!0);const ee=await e.resolver(s,e.context,r7e($||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return g($),ee},E=async $=>{const{errors:ee}=await S($);if($)for(const ue of $){const Ne=Fe(ee,ue);Ne?Ht(r.errors,ue,Ne):sn(r.errors,ue)}else r.errors=ee;return ee},M=async($,ee,ue={valid:!0})=>{for(const Ne in $){const Te=$[Ne];if(Te){const{_f:Se,...We}=Te;if(Se){const ft=o.array.has(Se.name),ae=Te._f&&n7e(Te._f);ae&&u.validatingFields&&g([Ne],!0);const ve=await nO(Te,o.disabled,s,p,e.shouldUseNativeValidation&&!ee,ft);if(ae&&u.validatingFields&&g([Ne]),ve[Se.name]&&(ue.valid=!1,ee))break;!ee&&(Fe(ve,Se.name)?ft?J8e(r.errors,ve,Se.name):Ht(r.errors,Se.name,ve[Se.name]):sn(r.errors,Se.name))}!Fi(We)&&await M(We,ee,ue)}}return ue.valid},T=()=>{for(const $ of o.unMount){const ee=Fe(n,$);ee&&(ee._f.refs?ee._f.refs.every(ue=>!D8(ue)):!D8(ee._f.ref))&&oe($)}o.unMount=new Set},L=($,ee)=>!e.disabled&&($&&ee&&Ht(s,$,ee),!Qc(ne(),i)),I=($,ee,ue)=>TJ($,o,{...a.mount?s:Rr(ee)?i:go($)?{[$]:ee}:ee},ue,ee),R=$=>r5(Fe(a.mount?s:i,$,e.shouldUnregister?Fe(i,$,[]):[])),z=($,ee,ue={})=>{const Ne=Fe(n,$);let Te=ee;if(Ne){const Se=Ne._f;Se&&(!Se.disabled&&Ht(s,$,PJ(ee,Se)),Te=Vb(Se.ref)&&hi(ee)?"":ee,jJ(Se.ref)?[...Se.ref.options].forEach(We=>We.selected=Te.includes(We.value)):Se.refs?U1(Se.ref)?Se.refs.length>1?Se.refs.forEach(We=>(!We.defaultChecked||!We.disabled)&&(We.checked=Array.isArray(Te)?!!Te.find(ft=>ft===We.value):Te===We.value)):Se.refs[0]&&(Se.refs[0].checked=!!Te):Se.refs.forEach(We=>We.checked=We.value===Te):WM(Se.ref)?Se.ref.value="":(Se.ref.value=Te,Se.ref.type||d.values.next({name:$,values:{...s}})))}(ue.shouldDirty||ue.shouldTouch)&&C($,Te,ue.shouldTouch,ue.shouldDirty,!0),ue.shouldValidate&&N($)},W=($,ee,ue)=>{for(const Ne in ee){const Te=ee[Ne],Se=`${$}.${Ne}`,We=Fe(n,Se);(o.array.has($)||Wr(Te)||We&&!We._f)&&!$d(Te)?W(Se,Te,ue):z(Se,Te,ue)}},K=($,ee,ue={})=>{const Ne=Fe(n,$),Te=o.array.has($),Se=Ei(ee);Ht(s,$,Se),Te?(d.array.next({name:$,values:{...s}}),(u.isDirty||u.dirtyFields)&&ue.shouldDirty&&d.state.next({name:$,dirtyFields:Yf(i,s),isDirty:L($,Se)})):Ne&&!Ne._f&&!hi(Se)?W($,Se,ue):z($,Se,ue),JI($,o)&&d.state.next({...r}),d.values.next({name:a.mount?$:void 0,values:{...s}})},U=async $=>{a.mount=!0;const ee=$.target;let ue=ee.name,Ne=!0;const Te=Fe(n,ue),Se=()=>ee.type?L8(Te._f):SJ($),We=ft=>{Ne=Number.isNaN(ft)||$d(ft)&&isNaN(ft.getTime())||Qc(ft,Fe(s,ue,ft))};if(Te){let ft,ae;const ve=Se(),Ge=$.type===$b.BLUR||$.type===$b.FOCUS_OUT,yt=!i7e(Te._f)&&!e.resolver&&!Fe(r.errors,ue)&&!Te._f.deps||s7e(Ge,Fe(r.touchedFields,ue),r.isSubmitted,f,A),Lt=JI(ue,o,Ge);Ht(s,ue,ve),Ge?(Te._f.onBlur&&Te._f.onBlur($),l&&l(0)):Te._f.onChange&&Te._f.onChange($);const si=C(ue,ve,Ge,!1),Qo=!Fi(si)||Lt;if(!Ge&&d.values.next({name:ue,type:$.type,values:{...s}}),yt)return u.isValid&&(e.mode==="onBlur"&&Ge?v():Ge||v()),Qo&&d.state.next({name:ue,...Lt?{}:si});if(!Ge&&Lt&&d.state.next({...r}),e.resolver){const{errors:Es}=await S([ue]);if(We(ve),Ne){const Yu=sO(r.errors,n,ue),rc=sO(Es,n,Yu.name||ue);ft=rc.error,ue=rc.name,ae=Fi(Es)}}else g([ue],!0),ft=(await nO(Te,o.disabled,s,p,e.shouldUseNativeValidation))[ue],g([ue]),We(ve),Ne&&(ft?ae=!1:u.isValid&&(ae=await M(n,!0)));Ne&&(Te._f.deps&&N(Te._f.deps),B(ue,ae,ft,si))}},q=($,ee)=>{if(Fe(r.errors,ee)&&$.focus)return $.focus(),1},N=async($,ee={})=>{let ue,Ne;const Te=Dm($);if(e.resolver){const Se=await E(Rr($)?$:Te);ue=Fi(Se),Ne=$?!Te.some(We=>Fe(Se,We)):ue}else $?(Ne=(await Promise.all(Te.map(async Se=>{const We=Fe(n,Se);return await M(We&&We._f?{[Se]:We}:We)}))).every(Boolean),!(!Ne&&!r.isValid)&&v()):Ne=ue=await M(n);return d.state.next({...!go($)||u.isValid&&ue!==r.isValid?{}:{name:$},...e.resolver||!$?{isValid:ue}:{},errors:r.errors}),ee.shouldFocus&&!Ne&&Lm(n,q,$?Te:o.mount),Ne},ne=$=>{const ee={...a.mount?s:i};return Rr($)?ee:go($)?Fe(ee,$):$.map(ue=>Fe(ee,ue))},re=($,ee)=>({invalid:!!Fe((ee||r).errors,$),isDirty:!!Fe((ee||r).dirtyFields,$),error:Fe((ee||r).errors,$),isValidating:!!Fe(r.validatingFields,$),isTouched:!!Fe((ee||r).touchedFields,$)}),O=$=>{$&&Dm($).forEach(ee=>sn(r.errors,ee)),d.state.next({errors:$?r.errors:{}})},me=($,ee,ue)=>{const Ne=(Fe(n,$,{_f:{}})._f||{}).ref,Te=Fe(r.errors,$)||{},{ref:Se,message:We,type:ft,...ae}=Te;Ht(r.errors,$,{...ae,...ee,ref:Ne}),d.state.next({name:$,errors:r.errors,isValid:!1}),ue&&ue.shouldFocus&&Ne&&Ne.focus&&Ne.focus()},Ce=($,ee)=>ho($)?d.values.subscribe({next:ue=>$(I(void 0,ee),ue)}):I($,ee,!0),oe=($,ee={})=>{for(const ue of $?Dm($):o.mount)o.mount.delete(ue),o.array.delete(ue),ee.keepValue||(sn(n,ue),sn(s,ue)),!ee.keepError&&sn(r.errors,ue),!ee.keepDirty&&sn(r.dirtyFields,ue),!ee.keepTouched&&sn(r.touchedFields,ue),!ee.keepIsValidating&&sn(r.validatingFields,ue),!e.shouldUnregister&&!ee.keepDefaultValue&&sn(i,ue);d.values.next({values:{...s}}),d.state.next({...r,...ee.keepDirty?{isDirty:L()}:{}}),!ee.keepIsValid&&v()},ye=({disabled:$,name:ee,field:ue,fields:Ne})=>{(Us($)&&a.mount||$||o.disabled.has(ee))&&($?o.disabled.add(ee):o.disabled.delete(ee),C(ee,L8(ue?ue._f:Fe(Ne,ee)._f),!1,!1,!0))},ze=($,ee={})=>{let ue=Fe(n,$);const Ne=Us(ee.disabled)||Us(e.disabled);return Ht(n,$,{...ue||{},_f:{...ue&&ue._f?ue._f:{ref:{name:$}},name:$,mount:!0,...ee}}),o.mount.add($),ue?ye({field:ue,disabled:Us(ee.disabled)?ee.disabled:e.disabled,name:$}):w($,!0,ee.value),{...Ne?{disabled:ee.disabled||e.disabled}:{},...e.progressive?{required:!!ee.required,min:Jf(ee.min),max:Jf(ee.max),minLength:Jf(ee.minLength),maxLength:Jf(ee.maxLength),pattern:Jf(ee.pattern)}:{},name:$,onChange:U,onBlur:U,ref:Te=>{if(Te){ze($,ee),ue=Fe(n,$);const Se=Rr(Te.value)&&Te.querySelectorAll&&Te.querySelectorAll("input,select,textarea")[0]||Te,We=t7e(Se),ft=ue._f.refs||[];if(We?ft.find(ae=>ae===Se):Se===ue._f.ref)return;Ht(n,$,{_f:{...ue._f,...We?{refs:[...ft.filter(D8),Se,...Array.isArray(Fe(i,$))?[{}]:[]],ref:{type:Se.type,name:$}}:{ref:Se}}}),w($,!1,void 0,Se)}else ue=Fe(n,$,{}),ue._f&&(ue._f.mount=!1),(e.shouldUnregister||ee.shouldUnregister)&&!(_J(o.array,$)&&a.action)&&o.unMount.add($)}}},fe=()=>e.shouldFocusError&&Lm(n,q,o.mount),J=$=>{Us($)&&(d.state.next({disabled:$}),Lm(n,(ee,ue)=>{const Ne=Fe(n,ue);Ne&&(ee.disabled=Ne._f.disabled||$,Array.isArray(Ne._f.refs)&&Ne._f.refs.forEach(Te=>{Te.disabled=Ne._f.disabled||$}))},0,!1))},ie=($,ee)=>async ue=>{let Ne;ue&&(ue.preventDefault&&ue.preventDefault(),ue.persist&&ue.persist());let Te=Ei(s);if(o.disabled.size)for(const Se of o.disabled)Ht(Te,Se,void 0);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:Se,values:We}=await S();r.errors=Se,Te=We}else await M(n);if(sn(r.errors,"root"),Fi(r.errors)){d.state.next({errors:{}});try{await $(Te,ue)}catch(Se){Ne=Se}}else ee&&await ee({...r.errors},ue),fe(),setTimeout(fe);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Fi(r.errors)&&!Ne,submitCount:r.submitCount+1,errors:r.errors}),Ne)throw Ne},Ue=($,ee={})=>{Fe(n,$)&&(Rr(ee.defaultValue)?K($,Ei(Fe(i,$))):(K($,ee.defaultValue),Ht(i,$,Ei(ee.defaultValue))),ee.keepTouched||sn(r.touchedFields,$),ee.keepDirty||(sn(r.dirtyFields,$),r.isDirty=ee.defaultValue?L($,Ei(Fe(i,$))):L()),ee.keepError||(sn(r.errors,$),u.isValid&&v()),d.state.next({...r}))},$e=($,ee={})=>{const ue=$?Ei($):i,Ne=Ei(ue),Te=Fi($),Se=Te?i:Ne;if(ee.keepDefaultValues||(i=ue),!ee.keepValues){if(ee.keepDirtyValues){const We=new Set([...o.mount,...Object.keys(Yf(i,s))]);for(const ft of Array.from(We))Fe(r.dirtyFields,ft)?Ht(Se,ft,Fe(s,ft)):K(ft,Fe(Se,ft))}else{if($M&&Rr($))for(const We of o.mount){const ft=Fe(n,We);if(ft&&ft._f){const ae=Array.isArray(ft._f.refs)?ft._f.refs[0]:ft._f.ref;if(Vb(ae)){const ve=ae.closest("form");if(ve){ve.reset();break}}}}n={}}s=e.shouldUnregister?ee.keepDefaultValues?Ei(i):{}:Ei(Se),d.array.next({values:{...Se}}),d.values.next({values:{...Se}})}o={mount:ee.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!u.isValid||!!ee.keepIsValid||!!ee.keepDirtyValues,a.watch=!!e.shouldUnregister,d.state.next({submitCount:ee.keepSubmitCount?r.submitCount:0,isDirty:Te?!1:ee.keepDirty?r.isDirty:!!(ee.keepDefaultValues&&!Qc($,i)),isSubmitted:ee.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Te?{}:ee.keepDirtyValues?ee.keepDefaultValues&&s?Yf(i,s):r.dirtyFields:ee.keepDefaultValues&&$?Yf(i,$):ee.keepDirty?r.dirtyFields:{},touchedFields:ee.keepTouched?r.touchedFields:{},errors:ee.keepErrors?r.errors:{},isSubmitSuccessful:ee.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Bt=($,ee)=>$e(ho($)?$(s):$,ee);return{control:{register:ze,unregister:oe,getFieldState:re,handleSubmit:ie,setError:me,_executeSchema:S,_getWatch:I,_getDirty:L,_updateValid:v,_removeUnmounted:T,_updateFieldArray:y,_updateDisabledField:ye,_getFieldArray:R,_reset:$e,_resetDefaultValues:()=>ho(e.defaultValues)&&e.defaultValues().then($=>{Bt($,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:$=>{r={...r,...$}},_disableForm:J,_subjects:d,_proxyFormState:u,_setErrors:b,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state($){a=$},get _defaultValues(){return i},get _names(){return o},set _names($){o=$},get _formState(){return r},set _formState($){r=$},get _options(){return e},set _options($){e={...e,...$}}},trigger:N,register:ze,handleSubmit:ie,watch:Ce,setValue:K,getValues:ne,reset:Bt,resetField:Ue,clearErrors:O,unregister:oe,setError:me,setFocus:($,ee={})=>{const ue=Fe(n,$),Ne=ue&&ue._f;if(Ne){const Te=Ne.refs?Ne.refs[0]:Ne.ref;Te.focus&&(Te.focus(),ee.shouldSelect&&ho(Te.select)&&Te.select())}},getFieldState:re}}function Gl(t={}){const e=Pe.useRef(void 0),r=Pe.useRef(void 0),[n,i]=Pe.useState({isDirty:!1,isValidating:!1,isLoading:ho(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ho(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...l7e(t),formState:n});const s=e.current.control;return s._options=t,qM({subject:s._subjects.state,next:a=>{MJ(a,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),Pe.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Pe.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Pe.useEffect(()=>{t.values&&!Qc(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[t.values,s]),Pe.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),Pe.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Pe.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=EJ(n,s),e.current}const aO=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Fe(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},UJ=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?aO(n.ref,r,t):n.refs&&n.refs.forEach(i=>aO(i,r,t))}},c7e=(t,e)=>{e.shouldUseNativeValidation&&UJ(t,e);const r={};for(const n in t){const i=Fe(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(u7e(e.names||Object.keys(t),n)){const a=Object.assign({},Fe(r,n));Ht(a,"root",s),Ht(r,n,a)}else Ht(r,n,s)}return r},u7e=(t,e)=>t.some(r=>r.startsWith(e+"."));function Xl(t,e,r){return e===void 0&&(e={}),r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve(function(a,o){try{var l=(e.context,Promise.resolve(t[r.mode==="sync"?"validateSync":"validate"](n,Object.assign({abortEarly:!1},e,{context:i}))).then(function(c){return s.shouldUseNativeValidation&&UJ({},s),{values:r.raw?n:c,errors:{}}}))}catch(c){return o(c)}return l&&l.then?l.then(void 0,o):l}(0,function(a){if(!a.inner)throw a;return{values:{},errors:c7e((o=a,l=!s.shouldUseNativeValidation&&s.criteriaMode==="all",(o.inner||[]).reduce(function(c,u){if(c[u.path]||(c[u.path]={message:u.message,type:u.type}),l){var d=c[u.path].types,A=d&&d[u.type];c[u.path]=DJ(u.path,l,c,u.type,A?[].concat(A,u.message):u.message)}return c},{})),s)};var o,l}))}catch(a){return Promise.reject(a)}}}function I0(t){this._maxSize=t,this.clear()}I0.prototype.clear=function(){this._size=0,this._values=Object.create(null)};I0.prototype.get=function(t){return this._values[t]};I0.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var d7e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,RJ=/^\d+$/,h7e=/^\d/,A7e=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,f7e=/^\s*(['"]?)(.*?)(\1)\s*$/,XM=512,oO=new I0(XM),lO=new I0(XM),cO=new I0(XM),t0={Cache:I0,split:QB,normalizePath:N8,setter:function(t){var e=N8(t);return lO.get(t)||lO.set(t,function(n,i){for(var s=0,a=e.length,o=n;s<a-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return n;o=o[e[s++]]}o[e[s]]=i})},getter:function(t,e){var r=N8(t);return cO.get(t)||cO.set(t,function(i){for(var s=0,a=r.length;s<a;)if(i!=null||!e)i=i[r[s++]];else return;return i})},join:function(t){return t.reduce(function(e,r){return e+(YM(r)||RJ.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){p7e(Array.isArray(t)?t:QB(t),e,r)}};function N8(t){return oO.get(t)||oO.set(t,QB(t).map(function(e){return e.replace(f7e,"$2")}))}function QB(t){return t.match(d7e)||[""]}function p7e(t,e,r){var n=t.length,i,s,a,o;for(s=0;s<n;s++)i=t[s],i&&(y7e(i)&&(i='"'+i+'"'),o=YM(i),a=!o&&/^\d+$/.test(i),e.call(r,i,o,a,s,t))}function YM(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function m7e(t){return t.match(h7e)&&!t.match(RJ)}function g7e(t){return A7e.test(t)}function y7e(t){return!YM(t)&&(m7e(t)||g7e(t))}const v7e=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,n5=t=>t.match(v7e)||[],i5=t=>t[0].toUpperCase()+t.slice(1),JM=(t,e)=>n5(t).join(e).toLowerCase(),QJ=t=>n5(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),x7e=t=>i5(QJ(t)),b7e=t=>JM(t,"_"),w7e=t=>JM(t,"-"),C7e=t=>i5(JM(t," ")),B7e=t=>n5(t).map(i5).join(" ");var j8={words:n5,upperFirst:i5,camelCase:QJ,pascalCase:x7e,snakeCase:b7e,kebabCase:w7e,sentenceCase:C7e,titleCase:B7e},ZM={exports:{}};ZM.exports=function(t){return zJ(S7e(t),t)};ZM.exports.array=zJ;function zJ(t,e){var r=t.length,n=new Array(r),i={},s=r,a=_7e(e),o=k7e(t);for(e.forEach(function(c){if(!o.has(c[0])||!o.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return n;function l(c,u,d){if(d.has(c)){var A;try{A=", node was:"+JSON.stringify(c)}catch{A=""}throw new Error("Cyclic dependency"+A)}if(!o.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!i[u]){i[u]=!0;var f=a.get(c)||new Set;if(f=Array.from(f),u=f.length){d.add(c);do{var p=f[--u];l(p,o.get(p),d)}while(u);d.delete(c)}n[--r]=c}}}function S7e(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var i=t[r];e.add(i[0]),e.add(i[1])}return Array.from(e)}function _7e(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var i=t[r];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function k7e(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var E7e=ZM.exports;const M7e=q3(E7e),F7e=Object.prototype.toString,T7e=Error.prototype.toString,D7e=RegExp.prototype.toString,L7e=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",N7e=/^Symbol\((.*)\)(.*)$/;function j7e(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function uO(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return j7e(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return L7e.call(t).replace(N7e,"Symbol($1)");const n=F7e.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+T7e.call(t)+"]":n==="RegExp"?D7e.call(t):null}function kl(t,e){let r=uO(t,e);return r!==null?r:JSON.stringify(t,function(n,i){let s=uO(this[n],e);return s!==null?s:i},2)}function HJ(t){return t==null?[]:[].concat(t)}let $J,VJ,KJ,I7e=/\$\{\s*(\w+)\s*\}/g;$J=Symbol.toStringTag;class dO{constructor(e,r,n,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[$J]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=i,this.errors=[],this.inner=[],HJ(e).forEach(s=>{if(Ni.isError(s)){this.errors.push(...s.errors);const a=s.inner.length?s.inner:[s];this.inner.push(...a)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}VJ=Symbol.hasInstance;KJ=Symbol.toStringTag;class Ni extends Error{static formatError(e,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof e=="string"?e.replace(I7e,(i,s)=>kl(r[s])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,i,s){const a=new dO(e,r,n,i);if(s)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[KJ]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Ni)}static[VJ](e){return dO[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let so={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const i=n!=null&&n!==r?` (cast from the value \`${kl(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${kl(r,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${kl(r,!0)}\``+i}},_i={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},_c={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},zB={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},O7e={isValue:"${path} field must be ${value}"},ex={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},tx={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},P7e={notType:t=>{const{path:e,value:r,spec:n}=t,i=n.types.length;if(Array.isArray(r)){if(r.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${r.length} for value: \`${kl(r,!0)}\``;if(r.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${r.length} for value: \`${kl(r,!0)}\``}return Ni.formatError(so.notType,t)}};Object.assign(Object.create(null),{mixed:so,string:_i,number:_c,date:zB,object:ex,array:tx,boolean:O7e,tuple:P7e});const s5=t=>t&&t.__isYupSchema__;class Wb{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:i,otherwise:s}=r,a=typeof n=="function"?n:(...o)=>o.every(l=>l===n);return new Wb(e,(o,l)=>{var c;let u=a(...o)?i:s;return(c=u==null?void 0:u(l))!=null?c:l})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(s=>s.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),i=this.fn(n,e,r);if(i===void 0||i===e)return e;if(!s5(i))throw new TypeError("conditions must return a schema object");return i.resolve(r)}}const K2={context:"$",value:"."};function U7e(t,e){return new Hu(t,e)}class Hu{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===K2.context,this.isValue=this.key[0]===K2.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?K2.context:this.isValue?K2.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&t0.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let i=this.isContext?n:this.isValue?e:r;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Hu.prototype.__isYupRef=!0;const pl=t=>t==null;function X0(t){function e({value:r,path:n="",options:i,originalValue:s,schema:a},o,l){const{name:c,test:u,params:d,message:A,skipAbsent:f}=t;let{parent:p,context:m,abortEarly:v=a.spec.abortEarly,disableStackTrace:g=a.spec.disableStackTrace}=i;function y(T){return Hu.isRef(T)?T.getValue(r,p,m):T}function x(T={}){const L=Object.assign({value:r,originalValue:s,label:a.spec.label,path:T.path||n,spec:a.spec,disableStackTrace:T.disableStackTrace||g},d,T.params);for(const R of Object.keys(L))L[R]=y(L[R]);const I=new Ni(Ni.formatError(T.message||A,L),r,L.path,T.type||c,L.disableStackTrace);return I.params=L,I}const b=v?o:l;let w={path:n,parent:p,type:c,from:i.from,createError:x,resolve:y,options:i,originalValue:s,schema:a};const C=T=>{Ni.isError(T)?b(T):T?l(null):b(x())},B=T=>{Ni.isError(T)?b(T):o(T)};if(f&&pl(r))return C(!0);let E;try{var M;if(E=u.call(w,r,w),typeof((M=E)==null?void 0:M.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${w.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(E).then(C,B)}}catch(T){B(T);return}C(E)}return e.OPTIONS=t,e}function R7e(t,e,r,n=r){let i,s,a;return e?(t0.forEach(e,(o,l,c)=>{let u=l?o.slice(1,o.length-1):o;t=t.resolve({context:n,parent:i,value:r});let d=t.type==="tuple",A=c?parseInt(u,10):0;if(t.innerType||d){if(d&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(r&&A>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${e}. because there is no value at that index. `);i=r,r=r&&r[A],t=d?t.spec.types[A]:t.innerType}if(!c){if(!t.fields||!t.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${t.type}")`);i=r,r=r&&r[u],t=t.fields[u]}s=u,a=l?"["+o+"]":"."+o}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class Gb extends Set{describe(){const e=[];for(const r of this.values())e.push(Hu.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new Gb(this.values())}merge(e,r){const n=this.clone();return e.forEach(i=>n.add(i)),r.forEach(i=>n.delete(i)),n}}function Gh(t,e=new Map){if(s5(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=Gh(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,i]of t.entries())r.set(n,Gh(i,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(Gh(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,i]of Object.entries(t))r[n]=Gh(i,e)}else throw Error(`Unable to clone ${t}`);return r}class Cs{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Gb,this._blacklist=new Gb,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(so.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=Gh(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const i=Object.assign({},r.spec,n.spec);return n.spec=i,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(s=>{e.tests.forEach(a=>{s.test(a.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((i,s)=>s.resolve(i,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,i,s;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),i=r.assert==="ignore-optionality",s=n._cast(e,r);if(r.assert!==!1&&!n.isType(s)){if(i&&pl(s))return s;let a=kl(e),o=kl(s);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${a} 
`+(o!==a?`result of cast: ${o}`:""))}return s}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,i){let{path:s,originalValue:a=e,strict:o=this.spec.strict}=r,l=e;o||(l=this._cast(l,Object.assign({assert:!1},r)));let c=[];for(let u of Object.values(this.internalTests))u&&c.push(u);this.runTests({path:s,value:l,originalValue:a,options:r,tests:c},n,u=>{if(u.length)return i(u,l);this.runTests({path:s,value:l,originalValue:a,options:r,tests:this.tests},n,i)})}runTests(e,r,n){let i=!1,{tests:s,value:a,originalValue:o,path:l,options:c}=e,u=m=>{i||(i=!0,r(m,a))},d=m=>{i||(i=!0,n(m,a))},A=s.length,f=[];if(!A)return d([]);let p={value:a,originalValue:o,path:l,options:c,schema:this};for(let m=0;m<s.length;m++){const v=s[m];v(p,u,function(y){y&&(Array.isArray(y)?f.push(...y):f.push(y)),--A<=0&&d(f)})}}asNestedTest({key:e,index:r,parent:n,parentPath:i,originalParent:s,options:a}){const o=e??r;if(o==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof o=="number";let c=n[o];const u=Object.assign({},a,{strict:!0,parent:n,value:c,originalValue:s[o],key:void 0,[l?"index":"key"]:o,path:l||o.includes(".")?`${i||""}[${l?o:`"${o}"`}]`:(i?`${i}.`:"")+e});return(d,A,f)=>this.resolve(u)._validate(c,u,A,f)}validate(e,r){var n;let i=this.resolve(Object.assign({},r,{value:e})),s=(n=r==null?void 0:r.disableStackTrace)!=null?n:i.spec.disableStackTrace;return new Promise((a,o)=>i._validate(e,r,(l,c)=>{Ni.isError(l)&&(l.value=c),o(l)},(l,c)=>{l.length?o(new Ni(l,c,void 0,void 0,s)):a(c)}))}validateSync(e,r){var n;let i=this.resolve(Object.assign({},r,{value:e})),s,a=(n=r==null?void 0:r.disableStackTrace)!=null?n:i.spec.disableStackTrace;return i._validate(e,Object.assign({},r,{sync:!0}),(o,l)=>{throw Ni.isError(o)&&(o.value=l),o},(o,l)=>{if(o.length)throw new Ni(o,e,void 0,void 0,a);s=l}),s}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(Ni.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(Ni.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):Gh(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=X0({message:r,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=X0({message:r,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=so.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=so.notNull){return this.nullability(!1,e)}required(e=so.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=so.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),i=X0(r),s=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(a=>!(a.OPTIONS.name===r.name&&(s||a.OPTIONS.test===i.OPTIONS.test))),n.tests.push(i),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),i=HJ(e).map(s=>new Hu(s));return i.forEach(s=>{s.isSibling&&n.deps.push(s.key)}),n.conditions.push(typeof r=="function"?new Wb(i,r):Wb.fromOptions(i,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=X0({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=so.oneOf){let n=this.clone();return e.forEach(i=>{n._whitelist.add(i),n._blacklist.delete(i)}),n.internalTests.whiteList=X0({message:r,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,a=s.resolveAll(this.resolve);return a.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:a}})}}),n}notOneOf(e,r=so.notOneOf){let n=this.clone();return e.forEach(i=>{n._blacklist.add(i),n._whitelist.delete(i)}),n.internalTests.blacklist=X0({message:r,name:"notOneOf",test(i){let s=this.schema._blacklist,a=s.resolveAll(this.resolve);return a.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:a}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:i,optional:s,nullable:a}=r.spec;return{meta:i,label:n,optional:s,nullable:a,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,c,u)=>u.findIndex(d=>d.name===l.name)===c)}}}Cs.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Cs.prototype[`${t}At`]=function(e,r,n={}){const{parent:i,parentPath:s,schema:a}=R7e(this,e,r,n.context);return a[t](i&&i[s],Object.assign({},n,{parent:i,path:e}))};for(const t of["equals","is"])Cs.prototype[t]=Cs.prototype.oneOf;for(const t of["not","nope"])Cs.prototype[t]=Cs.prototype.notOneOf;const Q7e=()=>!0;function HB(t){return new qJ(t)}class qJ extends Cs{constructor(e){super(typeof e=="function"?{type:"mixed",check:e}:Object.assign({type:"mixed",check:Q7e},e))}}HB.prototype=qJ.prototype;const z7e=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function H7e(t){const e=$B(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function $B(t){var e,r;const n=z7e.exec(t);return n?{year:Vo(n[1]),month:Vo(n[2],1)-1,day:Vo(n[3],1),hour:Vo(n[4]),minute:Vo(n[5]),second:Vo(n[6]),millisecond:n[7]?Vo(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:Vo(n[10]),minuteOffset:Vo(n[11])}:null}function Vo(t,e=0){return Number(t)||e}let $7e=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,V7e=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,K7e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,q7e="^\\d{4}-\\d{2}-\\d{2}",W7e="\\d{2}:\\d{2}:\\d{2}",G7e="(([+-]\\d{2}(:?\\d{2})?)|Z)",X7e=new RegExp(`${q7e}T${W7e}(\\.\\d+)?${G7e}$`),Y7e=t=>pl(t)||t===t.trim(),J7e={}.toString();function gt(){return new WJ}class WJ extends Cs{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===J7e?e:i})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||so.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=_i.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=_i.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=_i.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,i,s;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:i,name:s}=r:i=r),this.test({name:s||"matches",message:i||_i.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&n||a.search(e)!==-1})}email(e=_i.email){return this.matches($7e,{name:"email",message:e,excludeEmptyString:!0})}url(e=_i.url){return this.matches(V7e,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=_i.uuid){return this.matches(K7e,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,i;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:i=void 0}=e:r=e),this.matches(X7e,{name:"datetime",message:r||_i.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||_i.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:s=>{if(!s||n)return!0;const a=$B(s);return a?!!a.z:!1}}).test({name:"datetime_precision",message:r||_i.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const a=$B(s);return a?a.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=_i.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:Y7e})}lowercase(e=_i.lowercase){return this.transform(r=>pl(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>pl(r)||r===r.toLowerCase()})}uppercase(e=_i.uppercase){return this.transform(r=>pl(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>pl(r)||r===r.toUpperCase()})}}gt.prototype=WJ.prototype;let Z7e=t=>t!=+t;function Qg(){return new GJ}class GJ extends Cs{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!Z7e(e)}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce)return e;let i=e;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return n.isType(i)||i===null?i:parseFloat(i)})})}min(e,r=_c.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,r=_c.max){return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,r=_c.lessThan){return this.test({message:r,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,r=_c.moreThan){return this.test({message:r,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=_c.positive){return this.moreThan(0,e)}negative(e=_c.negative){return this.lessThan(0,e)}integer(e=_c.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:r=>Number.isInteger(r)})}truncate(){return this.transform(e=>pl(e)?e:e|0)}round(e){var r;let n=["ceil","floor","round","trunc"];if(e=((r=e)==null?void 0:r.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(i=>pl(i)?i:Math[e](i))}}Qg.prototype=GJ.prototype;let eCe=new Date(""),tCe=t=>Object.prototype.toString.call(t)==="[object Date]";class a5 extends Cs{constructor(){super({type:"date",check(e){return tCe(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=H7e(e),isNaN(e)?a5.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(Hu.isRef(e))n=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=i}return n}min(e,r=zB.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(n)}})}max(e,r=zB.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(n)}})}}a5.INVALID_DATE=eCe;a5.prototype;function rCe(t,e=[]){let r=[],n=new Set,i=new Set(e.map(([a,o])=>`${a}-${o}`));function s(a,o){let l=t0.split(a)[0];n.add(l),i.has(`${o}-${l}`)||r.push([o,l])}for(const a of Object.keys(t)){let o=t[a];n.add(a),Hu.isRef(o)&&o.isSibling?s(o.path,a):s5(o)&&"deps"in o&&o.deps.forEach(l=>s(l,a))}return M7e.array(Array.from(n),r).reverse()}function hO(t,e){let r=1/0;return t.some((n,i)=>{var s;if((s=e.path)!=null&&s.includes(n))return r=i,!0}),r}function XJ(t){return(e,r)=>hO(t,e)-hO(t,r)}const YJ=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function rx(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=rx(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=rx(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(rx)}):"optional"in t?t.optional():t}const nCe=(t,e)=>{const r=[...t0.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),i=t0.getter(t0.join(r),!0)(t);return!!(i&&n in i)};let AO=t=>Object.prototype.toString.call(t)==="[object Object]";function fO(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const iCe=XJ([]);function Po(t){return new JJ(t)}class JJ extends Cs{constructor(e){super({type:"object",check(r){return AO(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=iCe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let i=super._cast(e,r);if(i===void 0)return this.getDefault(r);if(!this._typeCheck(i))return i;let s=this.fields,a=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(i).filter(d=>!this._nodes.includes(d))),l={},c=Object.assign({},r,{parent:l,__validating:r.__validating||!1}),u=!1;for(const d of o){let A=s[d],f=d in i;if(A){let p,m=i[d];c.path=(r.path?`${r.path}.`:"")+d,A=A.resolve({value:m,context:r.context,parent:l});let v=A instanceof Cs?A.spec:void 0,g=v==null?void 0:v.strict;if(v!=null&&v.strip){u=u||d in i;continue}p=!r.__validating||!g?A.cast(i[d],c):i[d],p!==void 0&&(l[d]=p)}else f&&!a&&(l[d]=i[d]);(f!==d in l||l[d]!==i[d])&&(u=!0)}return u?l:i}_validate(e,r={},n,i){let{from:s=[],originalValue:a=e,recursive:o=this.spec.recursive}=r;r.from=[{schema:this,value:a},...s],r.__validating=!0,r.originalValue=a,super._validate(e,r,n,(l,c)=>{if(!o||!AO(c)){i(l,c);return}a=a||c;let u=[];for(let d of this._nodes){let A=this.fields[d];!A||Hu.isRef(A)||u.push(A.asNestedTest({options:r,key:d,parent:c,parentPath:r.path,originalParent:a}))}this.runTests({tests:u,value:c,originalValue:a,options:r},n,d=>{i(d.sort(this._sortErrors).concat(l),c)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[i,s]of Object.entries(this.fields)){const a=n[i];n[i]=a===void 0?s:a}return r.withMutation(i=>i.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var i;const s=this.fields[n];let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[n]})),r[n]=s&&"getDefault"in s?s.getDefault(a):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=rCe(e,r),n._sortErrors=XJ(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let i=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),i=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),i)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return rx(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,i])=>e.includes(n)&&e.includes(i)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let i=t0.getter(e,!0);return this.transform(s=>{if(!s)return s;let a=s;return nCe(s,e)&&(a=Object.assign({},s),n||delete a[e],a[r]=i(s)),a})}json(){return this.transform(YJ)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||ex.exact,test(r){if(r==null)return!0;const n=fO(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=ex.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(i){if(i==null)return!0;const s=fO(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=ex.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const i of Object.keys(r))n[e(i)]=r[i];return n})}camelCase(){return this.transformKeys(j8.camelCase)}snakeCase(){return this.transformKeys(j8.snakeCase)}constantCase(){return this.transformKeys(e=>j8.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[s,a]of Object.entries(r.fields)){var i;let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[s]})),n.fields[s]=a.describe(o)}return n}}Po.prototype=JJ.prototype;function nx(t){return new ZJ(t)}class ZJ extends Cs{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let i=!1;const s=n.map((a,o)=>{const l=this.innerType.cast(a,Object.assign({},r,{path:`${r.path||""}[${o}]`}));return l!==a&&(i=!0),l});return i?s:n}_validate(e,r={},n,i){var s;let a=this.innerType,o=(s=r.recursive)!=null?s:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(l,c)=>{var u;if(!o||!a||!this._typeCheck(c)){i(l,c);return}let d=new Array(c.length);for(let f=0;f<c.length;f++){var A;d[f]=a.asNestedTest({options:r,index:f,parent:c,parentPath:r.path,originalParent:(A=r.originalValue)!=null?A:e})}this.runTests({value:c,tests:d,originalValue:(u=r.originalValue)!=null?u:e,options:r},n,f=>i(f.concat(l),c))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(YJ)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!s5(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+kl(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=tx.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||tx.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||tx.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,i,s)=>!e(n,i,s):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);if(r.innerType){var i;let s=e;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),n.innerType=r.innerType.describe(s)}return n}}nx.prototype=ZJ.prototype;const sCe=Po().shape({name:gt().required("Name is required").min(2),contact:gt().required("Phone is required").matches(/^\d{10}$/,"Must be a 10-digit number"),role:gt().required("Role is required"),email:gt().optional().email(),password:gt().required("Password is required").min(6),confirmPassword:gt().oneOf([U7e("password")],"Passwords must match"),studentLevel:gt().when("role",t=>t===he.USER?gt().required():gt().notRequired()),parentID:gt().when("role",t=>t===he.USER?gt().required():gt().notRequired()),rollNumber:HB().when("role",t=>t===he.USER?Qg().required().positive().integer():HB().notRequired()),teacherGrade:gt().when("role",t=>t===he.TEACHER?gt().required():gt().notRequired()),teacherSubjects:nx().when("role",t=>t===he.TEACHER?nx().of(Qg()).min(1).required():nx().notRequired()),district:gt().when("role",t=>t===he.SUPER_INTENDENT?gt().required("Select A District"):gt().notRequired()),school:gt().when("role",t=>t===he.ADMIN?gt().required():gt().notRequired())}),I8=()=>{var ne,re,O,me,Ce,oe,ye,ze,fe,J;const{user:t}=An(),{register:e,handleSubmit:r,reset:n,watch:i,control:s,setValue:a,clearErrors:o,formState:{errors:l,isSubmitting:c}}=Gl({resolver:Xl(sCe)}),u=i("role"),d=i("teacherGrade"),[A,{isLoading:f}]=Ahe();TY();const{refetch:p,data:m,isLoading:v,isError:g,error:y}=rE({page:1,limit:1e16},{skip:(t==null?void 0:t.role)===he.SUPER_ADMIN||(t==null?void 0:t.role)===he.SUPER_INTENDENT}),{data:x,isLoading:b,isError:w,error:C,refetch:B}=Oo(),[S,{data:E,isLoading:M,isError:T,error:L,refetch:I}]=xf(),[R,z]=_.useState([]),{data:W,refetch:K}=zM({},{skip:(t==null?void 0:t.role)!==he.SUPER_ADMIN});_.useEffect(()=>{u===he.SUPER_INTENDENT&&K()},[u]);const{data:U,refetch:q}=HM({page:1,limit:1e14},{skip:(t==null?void 0:t.role)!==he.SUPER_INTENDENT});_.useEffect(()=>{u===he.ADMIN&&q()},[u,U]),_.useEffect(()=>{u===he.USER&&(B(),p())},[u,B,p]),_.useEffect(()=>{u===he.TEACHER&&B()},[u,B]),_.useEffect(()=>{u===he.TEACHER&&d&&S({level_id:Number(d)})},[u,d,S]),_.useEffect(()=>{if((E==null?void 0:E.statusCode)===200&&(E!=null&&E.data)){const ie=E.data.map(Ue=>({value:Ue.id,label:Ue.display_title||Ue.title}));z(ie)}},[E]),_.useEffect(()=>{u!==he.USER&&(a("email",""),a("studentLevel",""),a("parentID",""),a("rollNumber",""),o(["studentLevel","parentID","rollNumber","email"])),u!==he.TEACHER&&(a("teacherGrade",""),a("teacherSubjects",[]),o(["teacherGrade","teacherSubjects"])),u!==he.SUPER_INTENDENT&&(a("district",""),o(["district"])),u!==he.ADMIN&&(a("school",""),o(["school"]))},[u,a,o]);const N=async ie=>{var Ue;try{const $e={name:ie.name,password:ie.password,email:ie.email,contact:ie.contact,role:ie.role};ie.role===he.USER?($e.level_id=Number(ie.studentLevel),$e.parent_id=Number(ie.parentID),$e.user_roll_no=ie.rollNumber,ie.email.trim()===""&&delete $e.email):ie.role===he.TEACHER?($e.level_id=Number(ie.teacherGrade),$e.subjects=ie==null?void 0:ie.teacherSubjects):ie.role===he.SUPER_INTENDENT?$e.district_id=Number(ie==null?void 0:ie.district):ie.role===he.ADMIN&&($e.school_id=Number(ie==null?void 0:ie.school)),console.log("payload",$e);const Bt=await A($e).unwrap();(Bt==null?void 0:Bt.statusCode)===200&&(Z.success("User created successfully"),n(),z([]))}catch($e){console.error("Error:",$e),Z.error(((Ue=$e==null?void 0:$e.data)==null?void 0:Ue.message)||"Failed to create user")}};return h.jsx("div",{className:"min-h-screen bg-white",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[h.jsx(HA,{className:"text-[#6925EF]"}),"Create New User"]}),h.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Add a new user to the system with their details and role"})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[h.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:h.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[h.jsx(di,{className:"text-[#6925EF] w-5 h-5"}),"User Information"]})}),h.jsxs("form",{onSubmit:r(N),className:"p-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(di,{className:"text-[#6925EF] w-4 h-4"}),"Name"]}),h.jsx("input",{type:"text",...e("name"),placeholder:"Enter full name",className:`w-full px-4 py-2.5 rounded-lg border ${l.name?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`}),l.name&&h.jsx("p",{className:"text-red-500 text-sm",children:l.name.message})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(iE,{className:"text-[#6925EF] w-4 h-4"}),"Email"]}),h.jsx("input",{type:"email",...e("email"),placeholder:"Enter email address",className:`w-full px-4 py-2.5 rounded-lg border ${l.email?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`,required:u!==he.USER}),l.email&&u!==he.USER&&h.jsx("p",{className:"text-red-500 text-sm",children:l.email.message})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(oE,{className:"text-[#6925EF] w-4 h-4"}),"Phone No"]}),h.jsx("input",{type:"text",...e("contact"),placeholder:"Enter phone number",className:`w-full px-4 py-2.5 rounded-lg border ${l.contact?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`}),l.contact&&h.jsx("p",{className:"text-red-500 text-sm",children:l.contact.message})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(Qhe,{className:"text-[#6925EF] w-4 h-4"}),"Role"]}),h.jsxs("select",{...e("role"),onChange:ie=>a("role",ie.target.value),className:`w-full px-4 py-2.5 rounded-lg border ${l.role?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`,children:[h.jsx("option",{value:"",children:"Select Role"}),(t==null?void 0:t.role)===he.SUPER_ADMIN&&h.jsx("option",{value:he.SUPER_INTENDENT,children:"Super Intendent"}),(t==null?void 0:t.role)===he.SUPER_INTENDENT&&h.jsx("option",{value:he.ADMIN,children:"Principal"}),(t==null?void 0:t.role)===he.ADMIN&&h.jsxs(h.Fragment,{children:[h.jsx("option",{value:he.USER,children:"Student"}),h.jsx("option",{value:he.TEACHER,children:"Teacher"}),h.jsx("option",{value:he.PARENT,children:"Parent"})]})]}),l.role&&h.jsx("p",{className:"text-red-500 text-sm",children:l.role.message})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(bm,{className:"text-[#6925EF] w-4 h-4"}),"Password"]}),h.jsx("input",{type:"password",...e("password"),placeholder:"Enter password",className:`w-full px-4 py-2.5 rounded-lg border ${l.password?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`}),l.password&&h.jsx("p",{className:"text-red-500 text-sm",children:l.password.message})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(bm,{className:"text-[#6925EF] w-4 h-4"}),"Confirm Password"]}),h.jsx("input",{type:"password",...e("confirmPassword"),placeholder:"Confirm password",className:`w-full px-4 py-2.5 rounded-lg border ${l.confirmPassword?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`}),l.confirmPassword&&h.jsx("p",{className:"text-red-500 text-sm",children:l.confirmPassword.message})]}),u===he.SUPER_INTENDENT&&h.jsxs("div",{className:"space-y-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(di,{className:"text-[#6925EF] w-4 h-4"}),"District"]}),h.jsxs("select",{...e("district"),className:`w-full px-4 py-2.5 rounded-lg border ${l.district?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`,children:[h.jsx("option",{value:"",children:"Select District"}),(ne=W==null?void 0:W.data)==null?void 0:ne.map(ie=>h.jsx("option",{value:ie==null?void 0:ie.id,children:ie==null?void 0:ie.name},ie==null?void 0:ie.id))]}),l.district&&h.jsx("p",{className:"text-red-500 text-sm",children:l.district.message})]}),u===he.ADMIN&&h.jsxs("div",{className:"space-y-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(di,{className:"text-[#6925EF] w-4 h-4"}),"School"]}),h.jsxs("select",{...e("school"),className:`w-full px-4 py-2.5 rounded-lg border ${l.school?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`,children:[h.jsx("option",{value:"",children:"Select School"}),(O=(re=U==null?void 0:U.data)==null?void 0:re.data)==null?void 0:O.map(ie=>h.jsx("option",{value:ie.id,children:ie.name},ie.id))]}),l.school&&h.jsx("p",{className:"text-red-500 text-sm",children:l.school.message})]}),u===he.USER&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"space-y-1 md:col-span-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(di,{className:"text-[#6925EF] w-4 h-4"}),"Student Level"]}),b?h.jsx("p",{children:"Loading levels..."}):w?h.jsxs("p",{className:"text-red-500",children:["Error loading levels: ",((me=C==null?void 0:C.data)==null?void 0:me.message)||"Unknown error"]}):h.jsxs("select",{...e("studentLevel"),className:`w-full px-4 py-2.5 rounded-lg border ${l.studentLevel?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`,children:[h.jsx("option",{value:"",children:"Select Level"}),(Ce=x==null?void 0:x.data)==null?void 0:Ce.map(ie=>h.jsxs("option",{value:ie.id,children:[ie.level.charAt(0).toUpperCase()+ie.level.slice(1)," - ",ie.description]},ie.id))]}),l.studentLevel&&h.jsx("p",{className:"text-red-500 text-sm",children:l.studentLevel.message})]}),h.jsxs("div",{className:"space-y-1 md:col-span-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(di,{className:"text-[#6925EF] w-4 h-4"}),"Parent"]}),v?h.jsx("p",{children:"Loading parents..."}):g?h.jsxs("p",{className:"text-red-500",children:["Error loading parents: ",((oe=y==null?void 0:y.data)==null?void 0:oe.message)||"Unknown error"]}):h.jsxs("select",{...e("parentID"),className:`w-full px-4 py-2.5 rounded-lg border ${l.parentID?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`,children:[h.jsx("option",{value:"",children:"Select Parent"}),(ye=m==null?void 0:m.users)==null?void 0:ye.map(ie=>h.jsx("option",{value:ie.id,children:ie==null?void 0:ie.email},ie.id))]}),l.parentID&&h.jsx("p",{className:"text-red-500 text-sm",children:l.parentID.message})]}),h.jsxs("div",{className:"space-y-1 md:col-span-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(di,{className:"text-[#6925EF] w-4 h-4"}),"Roll Number"]}),h.jsx("input",{type:"text",...e("rollNumber"),placeholder:"Enter roll number",className:`w-full px-4 py-2.5 rounded-lg border ${l.rollNumber?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`}),l.rollNumber&&h.jsx("p",{className:"text-red-500 text-sm",children:l.rollNumber.message})]})]}),u===he.TEACHER&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"space-y-1 md:col-span-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(di,{className:"text-[#6925EF] w-4 h-4"}),"Teacher Grade"]}),b?h.jsx("p",{children:"Loading grades..."}):w?h.jsxs("p",{className:"text-red-500",children:["Error loading grades: ",((ze=C==null?void 0:C.data)==null?void 0:ze.message)||"Unknown error"]}):h.jsxs("select",{...e("teacherGrade"),className:`w-full px-4 py-2.5 rounded-lg border ${l.teacherGrade?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-[#6925EF]/20"} focus:border-[#6925EF] focus:ring-2 transition-all duration-200`,children:[h.jsx("option",{value:"",children:"Select Grade"}),(fe=x==null?void 0:x.data)==null?void 0:fe.map(ie=>h.jsx("option",{value:ie.id,children:ie.level.charAt(0).toUpperCase()+ie.level.slice(1)},ie.id))]}),l.teacherGrade&&h.jsx("p",{className:"text-red-500 text-sm",children:l.teacherGrade.message})]}),h.jsxs("div",{className:"space-y-1 md:col-span-1",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(di,{className:"text-[#6925EF] w-4 h-4"}),"Teacher Subject"]}),M?h.jsx("p",{children:"Loading subjects..."}):T?h.jsxs("p",{className:"text-red-500",children:["Error loading subjects: ",((J=L==null?void 0:L.data)==null?void 0:J.message)||"Unknown error"]}):h.jsx(Y8e,{name:"teacherSubjects",control:s,defaultValue:[],render:({field:ie})=>{const Ue=()=>!ie.value||ie.value.length===0?[]:R.filter($e=>ie.value.includes($e.value));return h.jsx(CJ,{value:Ue(),isMulti:!0,options:R,placeholder:"Select subjects",classNamePrefix:"react-select",onChange:$e=>ie.onChange($e.map(Bt=>Bt.value)),menuPortalTarget:document.body})}}),l.teacherSubjects&&h.jsx("p",{className:"text-red-500 text-sm",children:l.teacherSubjects.message})]})]})]}),h.jsx("div",{className:"mt-8",children:h.jsx("button",{type:"submit",disabled:f,className:`w-full px-6 py-3 ${f?"bg-gray-400":"bg-gradient-to-r from-[#6925EF] to-[#3C1589]"}  text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50`,children:f?"Creating User...":h.jsxs(h.Fragment,{children:[h.jsx(HA,{className:"w-5 h-5"}),"Create User"]})})})]})]})]})})};var eZ={exports:{}},aCe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oCe=aCe,lCe=oCe;function tZ(){}function rZ(){}rZ.resetWarningCache=tZ;var cCe=function(){function t(n,i,s,a,o,l){if(l!==lCe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:rZ,resetWarningCache:tZ};return r.PropTypes=r,r};eZ.exports=cCe();var uCe=eZ.exports;const Mt=q3(uCe),pn=({children:t,className:e="",...r})=>h.jsx("button",{className:`inline-flex items-center gap-2 px-4 py-2 bg-bg-gradient text-white rounded-md hover:bg-blue-600 transition-all duration-200 shadow-md ${e}`,...r,children:t});pn.propTypes={children:Mt.node.isRequired,className:Mt.string};const _u=({icon:t,onClick:e,tooltip:r,className:n="",variant:i="primary"})=>{const s={primary:"text-[#6925EF] hover:text-[#3C1589] cursor-pointer transition-colors",danger:"text-red-500 hover:text-red-600",success:"text-[rgb(30,64,175,0.8)] hover:text-[rgba(30,64,175)]"};return h.jsx("button",{onClick:e,title:r,className:`p-2 rounded-full transition-all duration-200 ${s[i]} ${n}`,children:t})};_u.propTypes={icon:Mt.element.isRequired,onClick:Mt.func.isRequired,tooltip:Mt.string,className:Mt.string,variant:Mt.oneOf(["primary","danger","success"])};_u.defaultProps={tooltip:"",className:"",variant:"primary"};const $u=({currentPage:t,totalPages:e,limit:r,onPageChange:n,onLimitChange:i})=>{const a=(()=>{const o=[];for(let c=1;c<=e;c++)c===1||c===e||c>=t-2&&c<=t+2?o.push(c):(c===t-2-1||c===t+2+1)&&o.push("...");return[...new Set(o)]})();return h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 py-3 bg-white border-t rounded-md shadow-md",children:[h.jsx("div",{className:"flex items-center gap-4 mb-4 sm:mb-0",children:h.jsx("select",{value:r,onChange:o=>i(Number(o.target.value)),className:"px-2 py-1 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[10,20,50,100].map(o=>h.jsxs("option",{value:o,children:[o," per page"]},o))})}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("button",{onClick:()=>n(Math.max(t-1,1)),disabled:t===1,className:"px-3 py-1 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a.map((o,l)=>o==="..."?h.jsx("span",{className:"px-3 py-1 text-sm font-medium text-gray-400",children:"..."},l):h.jsx("button",{onClick:()=>n(o),className:`px-3 py-1 rounded-md text-sm font-medium ${t===o?"bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white":"text-gray-700 hover:bg-gray-100"}`,children:o},o)),h.jsx("button",{onClick:()=>n(Math.min(t+1,e)),disabled:t===e,className:"px-3 py-1 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})};$u.propTypes={currentPage:Mt.number.isRequired,totalPages:Mt.number.isRequired,limit:Mt.number.isRequired,onPageChange:Mt.func.isRequired,onLimitChange:Mt.func.isRequired};const Vu=({isOpen:t,onClose:e,onConfirm:r,title:n,message:i})=>t?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:n}),h.jsx("p",{className:"text-gray-600 mb-6",children:i}),h.jsxs("div",{className:"flex justify-end gap-4",children:[h.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),h.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-white bg-red-500 rounded-md hover:bg-red-600 transition-colors",children:"Delete"})]})]})}):null;Vu.propTypes={isOpen:Mt.bool.isRequired,onClose:Mt.func.isRequired,onConfirm:Mt.func.isRequired,title:Mt.string,message:Mt.string};Vu.defaultProps={title:"Delete Confirmation",message:"Are you sure you want to delete this item? This action cannot be undone."};const dCe=()=>{var b;const t=bt(),[e,r]=_.useState(1),[n,i]=_.useState(10),[s,a]=_.useState(!1),[o,l]=_.useState(null),{data:c,isLoading:u,error:d,isError:A,refetch:f}=XG({page:e,limit:n});_.useEffect(()=>{f()},[]);const[p]=qG(),m=async w=>{const C=await p({bot_id:w}).unwrap();(C==null?void 0:C.statusCode)===200?(Z.success("Bot deleted successfully!",{position:"top-right",autoClose:3e3}),f()):Z.error("Bot deletion failed!",{position:"top-right",autoClose:3e3}),a(!1),l(null)},v=w=>{l(w),a(!0)},g=[{Header:"ID",accessor:"id"},{Header:"Name",accessor:"name"},{Header:"Display Name",accessor:"display_name"},{Header:"AI Model",accessor:"ai_model"},{Header:"Description",accessor:"description"},{Header:"Actions",accessor:"actions"}],y=w=>h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ta,{onClick:()=>t(`/admin/bots/${w.id}`),className:"w-4 h-4 text-[#6925EF] hover:text-[#3C1589] cursor-pointer transition-colors",title:"Edit Bot"}),h.jsx(Uu,{onClick:()=>v(w.id),className:"w-4 h-4 text-red-500 hover:text-red-700 cursor-pointer transition-colors",title:"Delete Bot"})]}),x=(b=c==null?void 0:c.bots)==null?void 0:b.map((w,C)=>({...w,id:C+1,actions:y(w)}));return h.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:[h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[h.jsx(Xs,{className:"text-[#6925EF]"}),"Manage Bots"]}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all bots in the system"})]}),h.jsxs(pn,{onClick:()=>t("/admin/new-bot"),className:"self-stretch sm:self-auto",children:[h.jsx(Xs,{}),h.jsx("span",{children:" New Bot"})]})]})}),h.jsx("div",{className:"p-6",children:u?h.jsxs("div",{className:"flex justify-center items-center",children:[h.jsx(jr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"text-gray-600 ml-2",children:"Loading bots..."})]}):A?h.jsx("div",{className:"text-red-500 text-center",children:(d==null?void 0:d.message)||"Error loading bots"}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsx("tr",{children:g.map(w=>h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:w.Header},w.accessor))})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x==null?void 0:x.map(({id:w,name:C,display_name:B,level:S,ai_model:E,description:M,actions:T})=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:C}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:B}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:E}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:M}),h.jsx("td",{className:"px-6 py-4 text-sm",children:T})]},w))})]})})}),h.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200",children:h.jsx($u,{currentPage:e,totalPages:(c==null?void 0:c.totalPages)||1,limit:n,onPageChange:r,onLimitChange:w=>{i(w),r(1)}})})]})}),h.jsx(Vu,{isOpen:s,onClose:()=>a(!1),onConfirm:()=>m(o),title:"Delete Bot",message:"Are you sure you want to delete this bot? This action cannot be undone."})]})},hCe=({botFiles:t,allFiles:e,selectedFile:r,onFileChange:n,onFileUpdate:i,onDelete:s})=>{const[a,o]=_.useState();return _.useEffect(()=>{const l=e==null?void 0:e.filter(c=>!(t!=null&&t.some(u=>u.id===c.id)));o(l)},[t,e]),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-8",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Sa,{className:"text-[#6F38DE] h-6 w-6"}),h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"File Attachment"})]})}),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:t&&t.length>0?h.jsx(h.Fragment,{children:t.map(l=>{var c,u,d;return h.jsxs("div",{className:"flex items-center justify-between p-4 mb-1 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200",children:[h.jsxs("p",{className:"flex items-center gap-2 text-green-600",children:[h.jsx(Sa,{className:"h-4 w-4"}),l.file_name," - ",(c=l==null?void 0:l.subject)==null?void 0:c.title," - ",(d=(u=l==null?void 0:l.subject)==null?void 0:u.level)==null?void 0:d.level]}),h.jsxs("button",{onClick:()=>s(l==null?void 0:l.id),className:"flex items-center gap-1 px-3 py-1 text-sm text-red-600 bg-red-100 rounded-lg hover:bg-red-200 transition-all duration-200",children:[h.jsx(Uu,{className:"h-4 w-4"}),"Delete"]})]})})}):h.jsxs("p",{className:"flex items-center gap-2 text-red-500",children:[h.jsx(Sa,{className:"h-4 w-4"}),"No file selected"]})}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select File"}),h.jsxs("select",{value:r,onChange:n,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",children:[h.jsx("option",{value:"",children:"Select a file"}),a==null?void 0:a.map(l=>{var c,u,d;return h.jsx("option",{value:l==null?void 0:l.id,children:h.jsxs("span",{children:[l==null?void 0:l.file_name," - ",(c=l==null?void 0:l.subject)==null?void 0:c.title," - ",(d=(u=l==null?void 0:l.subject)==null?void 0:u.level)==null?void 0:d.level," "]})},l==null?void 0:l.id)})]})]}),h.jsxs("button",{type:"button",onClick:i,className:"inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-lg text-base font-medium text-white bg-[#6F38DE] hover:bg-[#5C2EBA] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#6F38DE]",children:[h.jsx(Sa,{className:"w-5 h-5 mr-2"}),"Attach File"]})]})]})},ACe=()=>{var oe,ye,ze;bt();const{bot_id:t}=Ar(),[e,r]=_.useState(),[n,i]=_.useState(),[s,a]=_.useState({id:"",name:"",display_name:"",description:"",first_message:"",ai_model:"",level_id:"",subject_id:"",voice_model:""}),[o]=gye(),[l,c]=_.useState(null),[u]=KG();qG();const{data:d,isError:A,refetch:f}=FY({page:1,limit:1e9}),{data:p,isLoading:m,isError:v,error:g,refetch:y}=Oo(),{data:x,isLoading:b,isError:w}=BM(),[C,{data:B,isLoading:S,isError:E,error:M}]=xf(),[T,L]=_.useState([]);_.useEffect(()=>{A&&Z.error("Files fetching failed")},[A]);const[I,{isError:R,error:z,isLoading:W}]=yye(),[K]=mye(),[U]=pye();async function q(fe){const J=await o({bot_id:Number(fe)}).unwrap();(J==null?void 0:J.statusCode)===200?r(J==null?void 0:J.data):Z.error("Error getting context data")}async function N(fe){var ie,Ue,$e,Bt,Ze,et,He,$,ee;const J=await u({bot_id:Number(t)}).unwrap();(J==null?void 0:J.statusCode)===200?(a({id:(ie=J==null?void 0:J.bot)==null?void 0:ie.id,name:(Ue=J==null?void 0:J.bot)==null?void 0:Ue.name,display_name:($e=J==null?void 0:J.bot)==null?void 0:$e.display_name,description:(Bt=J==null?void 0:J.bot)==null?void 0:Bt.description,first_message:(Ze=J==null?void 0:J.bot)==null?void 0:Ze.first_message,ai_model:(et=J==null?void 0:J.bot)==null?void 0:et.ai_model,level_id:(He=J==null?void 0:J.bot)==null?void 0:He.level_id,subject_id:($=J==null?void 0:J.bot)==null?void 0:$.subject_id,voice_model:(ee=J==null?void 0:J.bot)==null?void 0:ee.voice_model}),await q(t)):Z.error("Error fetching the bot")}_.useEffect(()=>{if(e&&(d!=null&&d.files)){const fe=e.map(J=>d.files.find(ie=>ie.id===J.file_id)).filter(Boolean);fe.length>0?i(fe):i([])}},[e,d]),_.useEffect(()=>{N()},[t]),_.useEffect(()=>{N()},[]),_.useEffect(()=>{s.level_id&&C({level_id:Number(s.level_id)})},[s.level_id,C]),_.useEffect(()=>{if((B==null?void 0:B.statusCode)===200&&(B!=null&&B.data)){const fe=B.data.map(J=>({value:J.id,label:J.display_title||J.title}));L(fe)}},[B]),_.useEffect(()=>{y(),f()},[y,f]);const ne=async fe=>{if(fe.preventDefault(),s.id===""||s.name===""||s.display_name===""||s.description===""||s.first_message===""||s.ai_model===""||s.level_id===""||s.subject_id===""||s.voice_model===""){Z.error("No field must be empty");return}const J=await I({id:Number(s==null?void 0:s.id),name:s==null?void 0:s.name,display_name:s==null?void 0:s.display_name,description:s==null?void 0:s.description,first_message:s==null?void 0:s.first_message,ai_model:s==null?void 0:s.ai_model,level_id:Number(s==null?void 0:s.level_id),subject_id:Number(s==null?void 0:s.subject_id),voice_model:s==null?void 0:s.voice_model}).unwrap();(J==null?void 0:J.statusCode)===200?(Z.success("Update bot successful!",{position:"top-right",autoClose:3e3}),q(t),N()):Z.error("Update bot failed!",{position:"top-right",autoClose:3e3})},re=fe=>{c(fe.target.value)},O=async fe=>{fe.preventDefault();const J=await K({bot_id:Number(t),file_id:Number(l)}).unwrap();(J==null?void 0:J.statusCode)===200?(Z.success("File of bot created successfully!",{position:"top-right",autoClose:3e3}),q(t),N()):Z.error("File of bot creation failed!",{position:"top-right",autoClose:3e3})},me=async fe=>{const J=await U({bot_id:Number(t),file_id:Number(fe)}).unwrap();(J==null?void 0:J.statusCode)===200?(Z.success("File of bot deleted successfully!",{position:"top-right",autoClose:3e3}),q(t),N()):Z.error("File of bot deletion failed!",{position:"top-right",autoClose:3e3})},Ce=(fe,J)=>{a({...s,[fe]:J})};return h.jsx("div",{className:"min-h-screen",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-8",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Xs,{className:"text-[#6F38DE] h-6 w-6"}),h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Bot"})]})}),h.jsx("form",{onSubmit:ne,className:"p-6",children:h.jsxs("div",{className:"grid gap-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),h.jsx("input",{type:"text",value:s.name,onChange:fe=>Ce("name",fe.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name"}),h.jsx("input",{type:"text",value:s.display_name,onChange:fe=>Ce("display_name",fe.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),h.jsx("textarea",{value:s.description,onChange:fe=>Ce("description",fe.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",rows:"3",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Message"}),h.jsx("textarea",{value:s.first_message,onChange:fe=>Ce("first_message",fe.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",rows:"3",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"AI Model"}),h.jsxs("select",{value:s.ai_model,onChange:fe=>Ce("ai_model",fe.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",required:!0,children:[h.jsx("option",{value:"",children:"Select AI Model"}),k4.map(fe=>h.jsx("option",{value:fe,children:fe},fe))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Level"}),h.jsxs("select",{value:s.level_id,onChange:fe=>Ce("level_id",fe.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",required:!0,children:[h.jsx("option",{value:"",children:"Select Level"}),m?h.jsx("option",{children:"Loading levels..."}):v?h.jsx("option",{children:"Error loading levels"}):(oe=p==null?void 0:p.data)==null?void 0:oe.map(fe=>h.jsx("option",{value:fe.id,children:fe.level},fe.id))]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(q9,{className:"text-[#6F38DE] w-4 h-4"}),"Select Deepgram Model"]}),h.jsxs("select",{value:s.voice_model,onChange:fe=>Ce("voice_model",fe.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#6F38DE] focus:ring-2 focus:ring-[#6F38DE]/20",required:!0,children:[h.jsx("option",{value:"",children:"Select Deepgram Model"}),b?h.jsx("option",{children:"Loading..."}):(ze=(ye=x==null?void 0:x.api)==null?void 0:ye.tts)==null?void 0:ze.map((fe,J)=>h.jsx("option",{value:fe.uuid,children:fe.name},J))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subjects"}),h.jsxs("select",{value:s.subject_id,onChange:fe=>Ce("subject_id",fe.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#6F38DE]/20 focus:border-[#6F38DE]",disabled:S||!s.level_id,children:[h.jsx("option",{value:"",children:"Select Subject"}),S?h.jsx("option",{children:"Loading subjects..."}):E?h.jsx("option",{children:"Error loading subjects"}):T.map(fe=>h.jsx("option",{value:fe.value,children:fe.label},fe.value))]})]}),R&&h.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:h.jsx("p",{className:"text-sm text-red-600",children:z})}),h.jsxs("button",{type:"submit",className:`inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-lg text-base font-medium text-white ${W?"bg-gray-400":"bg-[#6F38DE] hover:bg-[#5C2EBA] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#6F38DE]"}`,disabled:W,children:[h.jsx(ff,{className:"w-5 h-5 mr-2"}),"Update Bot"]})]})})]}),h.jsx(hCe,{botFiles:n,allFiles:d==null?void 0:d.files,selectedFile:l,onFileChange:re,onFileUpdate:O,onDelete:me})]})})},fCe=()=>{var x;const t=bt(),[e,r]=_.useState(1),[n,i]=_.useState(10),[s,a]=_.useState(!1),[o,l]=_.useState(null),{data:c,isLoading:u,error:d,isError:A,refetch:f}=FY({page:e,limit:n}),[p]=x3e(),m=(c==null?void 0:c.totalPages)||1;_.useEffect(()=>{f()},[e,n,f]);const v=async b=>{var w;try{const C=await p({id:Number(b)}).unwrap();(C==null?void 0:C.statusCode)===200&&(Z.success("File deleted successfully!"),f())}catch(C){Z.error(((w=C==null?void 0:C.data)==null?void 0:w.message)||(C==null?void 0:C.message)||"File deletion failed!")}a(!1),l(null)},g=b=>{l(b),a(!0)},y=(x=c==null?void 0:c.files)==null?void 0:x.map(b=>({...b,actions:h.jsx(Uu,{onClick:()=>g(b.id),className:"w-4 h-4 text-red-500 hover:text-red-700 cursor-pointer transition-colors",title:"Delete File"})}));return h.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:[h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[h.jsx(Sa,{className:"text-[#6925EF]"}),"Manage Files"]}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all files uploaded to the system"})]}),h.jsxs(pn,{onClick:()=>t("/admin/files/new-file"),className:"self-stretch sm:self-auto",children:[h.jsx(Sa,{}),h.jsx("span",{children:" New File"})]})]}),h.jsx("div",{className:"p-6",children:u?h.jsxs("div",{className:"flex justify-center items-center",children:[h.jsx(jr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"text-gray-600 ml-2",children:"Loading files..."})]}):A?h.jsxs("div",{className:"text-red-500 text-center",children:[h.jsx("p",{children:(d==null?void 0:d.message)||"Error loading files"}),h.jsx("button",{onClick:f,className:"mt-2 text-blue-500 underline",children:"Retry"})]}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"File Name"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Processed (%)"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y==null?void 0:y.map(({id:b,file_name:w,processed:C,actions:B},S)=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:S+1}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:C||"N/A"}),h.jsx("td",{className:"px-6 py-4 text-sm",children:B})]},b))})]})})}),h.jsx($u,{currentPage:e,totalPages:m,limit:n,onPageChange:r,onLimitChange:b=>{i(b),r(1)}})]})}),h.jsx(Vu,{isOpen:s,onClose:()=>a(!1),onConfirm:()=>v(o),title:"Delete File",message:"Are you sure you want to delete this file? This action cannot be undone."})]})};function pCe(){return h.jsxs("div",{className:"relative w-full mb-8  overflow-hidden rounded-3xl bg-button-gradient p-8 text-white mr-7",children:[h.jsx("div",{className:"absolute bottom-0 right-0 h-52 w-2/5 z-10",children:h.jsx("img",{src:T0,alt:"Banner Image",className:"object-contain w-full h-full"})}),h.jsxs("div",{className:"relative z-20 max-w-xl",children:[h.jsxs("h1",{className:"mb-4 text-2xl font-poppins font-medium leading-tight",children:["Empowering Minds,",h.jsx("br",{}),"One Conversation Away."]}),h.jsx("p",{className:"mb-6 text-[14px] text-white/80",children:"Talk to trending bots this month"}),h.jsx("button",{className:"rounded-full px-4 py-3 lg:w-1/5 lg:px-2 text-[10px] border-white bg-yellow-400 text-white hover:bg-white hover:text-hoverText",children:"VIEW NOW"})]}),h.jsx("div",{className:"absolute right-0 top-0 h-full w-full sm:w-full",children:h.jsx("div",{className:"relative h-full",children:h.jsx("img",{src:Rw,alt:"Hero Banner Background",className:"object-cover brightness-90 w-full h-full"})})})]})}function mCe({title:t,image:e,href:r}){const{user:n}=An();function i(o){o.target.src=T0}const s=bt();function a(o){n.role==he.TEACHER&&s(`/teacher/chat-screen/${o}`)}return h.jsxs("div",{onClick:()=>a(r),className:"block",children:[h.jsx("div",{className:"overflow-hidden transition-transform hover:scale-105 rounded-lg shadow-lg",children:h.jsx("div",{className:"relative",children:h.jsx("img",{src:e,alt:t,onError:i,className:"object-cover w-full h-36 brightness-90"})})}),h.jsx("h3",{className:"text-lg  text-[#434C56] mt-2 text-center font-normal ",children:t})]})}const gCe=()=>{var A,f;const[t,e]=_.useState(!1),{data:r,error:n,isLoading:i,refetch:s}=bye(),{data:a,error:o,isLoading:l,refetch:c}=_M();_.useEffect(()=>{s(),c()},[]);const u=()=>{e(p=>!p)},d=[{statTitle:"Subjects",statValue:(a==null?void 0:a.subjects)||"0",icon:MY},{statTitle:"Total Quizzes",statValue:(a==null?void 0:a.totalQuizzes)||"0",icon:Fm},{statTitle:"Completed Quizzes",statValue:(a==null?void 0:a.completedQuizzes)||"0",icon:Tm},{statTitle:"Pending Quizzes",statValue:(a==null?void 0:a.pendingQuizzes)||"0",icon:ro}];return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"flex-1 p-6",children:[h.jsx(pCe,{}),h.jsxs("div",{className:"container mx-auto pt-5 pb-0",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between items-center",children:[h.jsx("h1",{className:"text-2xl font-semibold",children:"Bots"}),h.jsx("button",{className:"mt-2 md:mt-0 md:ml-4 text-[#6F38DE] rounded font-medium text-xs hover:text-black transition-colors",onClick:u,children:t?"View Less":"View All"})]}),h.jsx("div",{className:"flex items-center justify-between mt-4",children:h.jsx("div",{className:"flex-1",children:t?h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6 mt-4",children:((f=r==null?void 0:r.bots)==null?void 0:f.length)>0?r==null?void 0:r.bots.map(p=>h.jsx(mCe,{name:p,image:Ut+"/images/"+(p==null?void 0:p.bot_image_url),href:p==null?void 0:p.id},p==null?void 0:p.id)):h.jsx("div",{className:"text-center text-gray-500 mt-4",children:h.jsx("p",{children:"No bots found. Please check back later!"})})}):((A=r==null?void 0:r.bots)==null?void 0:A.length)>0?h.jsx(SM,{bots:r==null?void 0:r.bots}):h.jsx("div",{className:"text-center text-gray-500 mt-4",children:h.jsx("p",{children:"No bots found. Please check back later!"})})})})]}),h.jsxs("div",{className:"mt-0",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsx("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2 mt-5",children:"Activity Stats"})}),h.jsx("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-4 gap-4",children:d.map((p,m)=>h.jsx(an,{statTitle:p.statTitle,statValue:p.statValue,icon:p.icon},m))})]})]})})},Zf=({data:t,isLoading:e,isError:r,error:n,currentPage:i,totalPages:s,limit:a,onPageChange:o,onLimitChange:l,refetch:c})=>{const u=bt(),[d,A]=_.useState(!1),[f,p]=_.useState(null),[m]=hhe(),v=(x,b)=>{p({id:x,role:b}),A(!0)},g=async()=>{try{await m({user_id:Number(f.id)}),c()}catch(x){Z.error(x.message||x.res.error||x.res.message+" Failed to delete User")}finally{A(!1),p(null)}},y=()=>{A(!1),p(null)};return h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("div",{className:"rounded-md border",children:[h.jsxs("table",{className:"min-w-full divide-y divide-gray-200 overflow-auto",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone No"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e?h.jsx("tr",{children:h.jsxs("td",{colSpan:"7",className:"px-6 py-4 text-center",children:[h.jsx(jr,{className:"inline animate-spin text-blue-500"}),h.jsx("span",{className:"ml-2",children:"Loading..."})]})}):r?h.jsx("tr",{children:h.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-red-500",children:n})}):t.map((x,b)=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:b+1}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:x.name}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:x.email}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:jle(x.role)}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:h.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${x.isVerified?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:x.isVerified?"Verified":"Not Verified"})}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:x.contact}),h.jsx("td",{className:"px-6 py-4 text-sm",children:h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>u(`/admin/users/${x.id}`),className:"text-[#6925EF] hover:text-[#3C1589]",title:"Edit User",children:h.jsx(ta,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>v(x.id,x.role),className:"text-red-600 hover:text-red-800",title:"Delete User",children:h.jsx(Uu,{className:"w-4 h-4"})})]})})]},x.id))})]}),h.jsx($u,{currentPage:i,totalPages:s,limit:a,onPageChange:o,onLimitChange:l})]}),h.jsx(Vu,{isOpen:d,onClose:y,onConfirm:g})]})},O8=()=>{const t=bt(),{user:e}=An(),[r,n]=_.useState({page:1,limit:10}),[i,s]=_.useState({page:1,limit:10}),[a,o]=_.useState({page:1,limit:10}),[l,c]=_.useState({page:1,limit:10}),[u,d]=_.useState({page:1,limit:10}),{data:A,isLoading:f,error:p,refetch:m}=xhe(r,{skip:(e==null?void 0:e.role)!==he.ADMIN}),{data:v,isLoading:g,error:y,refetch:x}=bhe(i,{skip:(e==null?void 0:e.role)!==he.ADMIN}),{data:b,isLoading:w,error:C,refetch:B}=rE(a,{skip:(e==null?void 0:e.role)!==he.ADMIN}),{data:S,isLoading:E,error:M,refetch:T}=_3e(l,{skip:(e==null?void 0:e.role)!==he.SUPER_ADMIN}),{data:L,isLoading:I,error:R,refetch:z}=L3e(u,{skip:(e==null?void 0:e.role)!==he.SUPER_INTENDENT});_.useEffect(()=>{(e==null?void 0:e.role)===he.ADMIN?(m(),x(),B()):(e==null?void 0:e.role)===he.SUPER_ADMIN?T():(e==null?void 0:e.role)===he.SUPER_INTENDENT&&z()},[e==null?void 0:e.role]);const W=oe=>n(ye=>({...ye,page:oe})),K=oe=>n({page:1,limit:oe}),U=oe=>s(ye=>({...ye,page:oe})),q=oe=>s({page:1,limit:oe}),N=oe=>o(ye=>({...ye,page:oe})),ne=oe=>o({page:1,limit:oe}),re=oe=>c(ye=>({...ye,page:oe})),O=oe=>c({page:1,limit:oe}),me=oe=>d(ye=>({...ye,page:oe})),Ce=oe=>d({page:1,limit:oe});return h.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Users"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage user accounts"})]}),h.jsxs("button",{onClick:()=>t("/admin/users/create"),className:"inline-flex items-center gap-2 px-4 py-2 bg-bg-gradient text-white rounded-md hover:bg-blue-600 transition-all duration-200 shadow-md",children:[h.jsx(HA,{}),h.jsx("span",{children:"Create User"})]})]})}),(e==null?void 0:e.role)===he.SUPER_ADMIN&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Super Intendents"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all super intendent accounts"})]})})}),h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsx(Zf,{data:(S==null?void 0:S.data)||[],isLoading:E,isError:!!M,error:M==null?void 0:M.message,currentPage:l.page,totalPages:(S==null?void 0:S.totalPages)||1,limit:l.limit,onPageChange:re,onLimitChange:O,refetch:T})})})]}),(e==null?void 0:e.role)===he.SUPER_INTENDENT&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Principals"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all principal accounts"})]})})}),h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsx(Zf,{data:(L==null?void 0:L.data)||[],isLoading:I,isError:!!R,error:R==null?void 0:R.message,currentPage:u.page,totalPages:(L==null?void 0:L.totalPages)||1,limit:u.limit,onPageChange:me,onLimitChange:Ce,refetch:z})})})]}),(e==null?void 0:e.role)===he.ADMIN&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Students"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all student accounts"})]})})}),h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsx(Zf,{data:(A==null?void 0:A.users)||[],isLoading:f,isError:!!p,error:p==null?void 0:p.message,currentPage:r.page,totalPages:(A==null?void 0:A.totalPages)||1,limit:r.limit,onPageChange:W,onLimitChange:K,refetch:m})})}),h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Teachers"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all teacher accounts"})]})})}),h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsx(Zf,{data:(v==null?void 0:v.users)||[],isLoading:g,isError:!!y,error:y==null?void 0:y.message,currentPage:i.page,totalPages:(v==null?void 0:v.totalPages)||1,limit:i.limit,onPageChange:U,onLimitChange:q,refetch:x})})}),h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Parents"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all parent accounts"})]})})}),h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsx(Zf,{data:(b==null?void 0:b.users)||[],isLoading:w,isError:!!C,error:C==null?void 0:C.message,currentPage:a.page,totalPages:(b==null?void 0:b.totalPages)||1,limit:a.limit,onPageChange:N,onLimitChange:ne,refetch:B})})})]})]})})})},yCe=({role:t,userId:e})=>{const r=F0(),n=vu(w=>w.auth.avatar_url),{updateAvatarLocal:i}=An(),[s,a]=_.useState({name:"",email:"",contact:"",avatar:""}),[o,l]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,u]=_.useState("profile"),{data:d,isLoading:A,error:f}=Kq({user_id:Number(e)});_.useEffect(()=>{d&&a({name:d.data.name||"",email:d.data.email||"",contact:d.data.contact||"",avatar:d.data.user_image_url||""})},[d]);const[p,{isLoading:m}]=uhe();dhe(),Vq();const v=w=>{const{name:C,value:B}=w.target;a({...s,[C]:B})},g=w=>{const{name:C,value:B}=w.target;l({...o,[C]:B})},y=async w=>{const C=w.target.files[0];if(C){if(!C.type.startsWith("image/")){Z.error("Please upload a valid image file.");return}if(C.size>5*1024*1024){Z.error("File size should not exceed 5MB.");return}const B=new FormData;B.append("avatar",C);try{const S=await lq.UpdateAvatar(B,r);S.status===200?(Z.success("Avatar updated successfully!"),a(E=>({...E,avatar:S.data.data.avatarUrl})),i({userAvatar:S.data.data.avatarUrl})):Z.error("Failed to update avatar.")}catch{Z.error("Failed to update avatar.")}}},x=async w=>{var S,E,M;w.preventDefault();const C=(S=s.name)==null?void 0:S.trim(),B=(E=s.contact)==null?void 0:E.trim();if(!C||!B){Z.error("Name and contact fields cannot be empty.");return}try{(await p(s).unwrap()).statusCode===200&&Z.success("Profile updated successfully!")}catch(T){Z.error(((M=T==null?void 0:T.data)==null?void 0:M.message)||"An error occurred while updating the profile.")}},b=async w=>{if(w.preventDefault(),o.newPassword!==o.confirmPassword){Z.error("New password and confirm password do not match.");return}try{(await p({oldPassword:o.currentPassword,newPassword:o.newPassword}).unwrap()).statusCode===200&&(Z.success("Password updated successfully!"),l({currentPassword:"",newPassword:"",confirmPassword:""}))}catch(C){Z.error(C==null?void 0:C.data.message)}};return A?h.jsx("div",{children:"Loading..."}):f?h.jsx("div",{children:"Error loading profile data."}):h.jsx("div",{className:"min-h-screen  bg-white-100 flex items-center justify-center",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-12 w-full bg-white rounded-lg shadow-md overflow-hidden ",children:[h.jsxs("div",{className:"px-6 py-4 bg-white-50 border-b border-gray-200",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2 capitalize",children:[h.jsx(di,{className:"text-[#6925EF] w-6 h-6 "}),t," Profile"]}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your profile information and password."})]}),h.jsxs("div",{className:"flex space-x-4 p-6 border-b border-gray-200",children:[h.jsx("button",{onClick:()=>u("profile"),className:`py-2 px-4 rounded - md ${c==="profile"?"bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"} `,children:"Profile Information"}),h.jsx("button",{onClick:()=>u("password"),className:`py-2 px-4 rounded - md ${c==="password"?"bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"} `,children:"Password Reset"})]}),c==="profile"&&h.jsxs("form",{onSubmit:x,className:"px-6 py-8 space-y-6",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("img",{src:n!=null?`${Ut}/images/${n}`:lE,alt:"User Avatar",className:"w-24 h-24 rounded-full object-cover"}),h.jsxs("div",{children:[h.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),h.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Upload a new avatar."})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(di,{className:"text-[#6925EF] w-4 h-4"}),"Name"]}),h.jsx("input",{type:"text",name:"name",value:s.name,onChange:v,className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(iE,{className:"text-[#6925EF] w-4 h-4"}),"Email"]}),h.jsx("input",{type:"email",name:"email",value:s.email,onChange:v,disabled:!0,className:"mt-1 block w-full px-4 py-2 bg-dark border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(oE,{className:"text-[#6925EF] w-4 h-4"}),"Contact"]}),h.jsx("input",{type:"text",name:"contact",value:s.contact,onChange:v,className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]"})]}),h.jsx("div",{className:"mt-8 flex justify-end",children:h.jsx(pn,{type:"submit",disabled:m,className:`w-full px-6 py-3 ${m?"bg-gray-400":"bg-gradient-to-r from-[#6925EF] to-[#3C1589]"}  text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium`,children:"Update Profile"})})]}),c==="password"&&h.jsxs("form",{onSubmit:b,className:"px-6 py-8 space-y-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(bm,{className:"text-[#6925EF] w-4 h-4"}),"Current Password"]}),h.jsx("input",{type:"password",name:"currentPassword",value:o.currentPassword,onChange:g,className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(bm,{className:"text-[#6925EF] w-4 h-4"}),"New Password"]}),h.jsx("input",{type:"password",name:"newPassword",value:o.newPassword,onChange:g,className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(bm,{className:"text-[#6925EF] w-4 h-4"}),"Confirm Password"]}),h.jsx("input",{type:"password",name:"confirmPassword",value:o.confirmPassword,onChange:g,className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]"})]}),h.jsx("div",{className:"mt-8 flex justify-end",children:h.jsx(pn,{type:"submit",disabled:m,className:`w-full px-6 py-3  ${m?"bg-gray-400":"bg-gradient-to-r from-[#6925EF] to-[#3C1589]"}  text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium`,children:"Update Password"})})]})]})})},ix=()=>{const{user:t}=An(),r={[he.USER]:"user",[he.ADMIN]:"admin",[he.SUPER_ADMIN]:"superadmin",[he.TEACHER]:"teacher",[he.PARENT]:"parent"}[t.role]||"user";return h.jsx("div",{children:h.jsx(yCe,{role:r,userId:t.id})})},q2=({label:t,icon:e,error:r,...n})=>h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[e&&h.jsx(e,{className:"text-[#6925EF] w-4 h-4"}),t]}),n.type==="textarea"?h.jsx("textarea",{...n,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20 transition-all duration-200"}):h.jsx("input",{...n,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#6925EF] focus:ring-2 focus:ring-[#6925EF]/20 transition-all duration-200"})]}),pO=()=>{const{user:t}=An(),{data:e,refetch:r}=E3e(),[n]=M3e(),[i,s]=_.useState({openai:"",dalle:"",deepgram:"",master_prompt:""});_.useEffect(()=>{var l,c,u,d;e&&s({openai:(l=e==null?void 0:e.data)==null?void 0:l.openai,dalle:(c=e==null?void 0:e.data)==null?void 0:c.dalle,deepgram:(u=e==null?void 0:e.data)==null?void 0:u.deepgram,master_prompt:(d=e==null?void 0:e.data)==null?void 0:d.master_prompt})},[e]);const a=l=>{const{name:c,value:u}=l.target;s(d=>({...d,[c]:u}))},o=async l=>{l.preventDefault();try{const c=await n(i).unwrap();(c==null?void 0:c.statusCode)===200?(Z.success("Profile updated successfully"),r()):Z.error((c==null?void 0:c.message)||"Error updating profile")}catch(c){Z.error("Failed to update profile"),console.error("Error:",c)}};return h.jsxs("div",{className:"min-h-screen bg-white",children:[(t==null?void 0:t.role)===he.SUPER_ADMIN&&h.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[h.jsx(Xs,{className:"text-[#6925EF]"}),"Admin Settings"]}),h.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Configure prompt and APIs"})]}),h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:h.jsx("div",{className:"p-6 space-y-6",children:h.jsxs("form",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsx(q2,{label:"Open AI",icon:j6,type:"text",name:"openai",value:i.openai,onChange:a,placeholder:"Enter OpenAI key"}),h.jsx(q2,{label:"DallE AI",icon:j6,type:"text",name:"dalle",value:i.dalle,onChange:a,placeholder:"Enter DallE API key"}),h.jsx(q2,{label:"DeepGram",icon:j6,type:"text",name:"deepgram",value:i.deepgram,onChange:a,placeholder:"Enter DeepGram API key"})]}),h.jsx(q2,{label:"Master Prompt",icon:Xs,type:"textarea",name:"master_prompt",value:i.master_prompt,onChange:a,rows:"4",placeholder:"Enter master prompt"}),h.jsx("div",{className:"pt-4",children:h.jsx("button",{onClick:o,className:"w-full px-4 py-2 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg hover:opacity-90 transition-opacity font-medium mt-6",children:"Update Profile"})})]})})})]}),h.jsx(ix,{})]})},Ku=({columns:t,data:e,isLoading:r,isError:n,error:i,currentPage:s,totalPages:a,limit:o,onPageChange:l,onLimitChange:c,className:u,emptyStateMessage:d="No data available."})=>{var A;return h.jsx("div",{className:`flex flex-col ${u}`,children:h.jsxs("div",{className:"rounded-md border overflow-auto",children:[h.jsxs("table",{className:"min-w-full divide-y divide-gray-200","aria-label":"Generic Table",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsx("tr",{children:t.map(f=>h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:f.Header},f.accessor))})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r?h.jsx("tr",{children:h.jsxs("td",{colSpan:t.length,className:"px-6 py-4 text-center",children:[h.jsx(jr,{className:"inline animate-spin text-blue-500"}),h.jsx("span",{className:"ml-2",children:"Loading..."})]})}):n?h.jsx("tr",{children:h.jsx("td",{colSpan:t.length,className:"px-6 py-4 text-center text-red-500",children:((A=i==null?void 0:i.data)==null?void 0:A.message)||"An error occurred while fetching data."})}):e.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:t.length,className:"px-6 py-4 text-center text-gray-500",children:d})}):e.map(f=>h.jsx("tr",{className:"hover:bg-gray-50",children:t.map(p=>h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:p.Cell?p.Cell(f):f[p.accessor]},p.accessor))},f.id))})]}),h.jsx($u,{currentPage:s,totalPages:a,limit:o,onPageChange:l,onLimitChange:c})]})})};Ku.propTypes={columns:Mt.arrayOf(Mt.shape({Header:Mt.string.isRequired,accessor:Mt.string.isRequired,Cell:Mt.func})).isRequired,data:Mt.array.isRequired,isLoading:Mt.bool,isError:Mt.bool,error:Mt.object,currentPage:Mt.number,totalPages:Mt.number,limit:Mt.number,onPageChange:Mt.func.isRequired,onLimitChange:Mt.func.isRequired,className:Mt.string,emptyStateMessage:Mt.string};Ku.defaultProps={isLoading:!1,isError:!1,error:null,currentPage:1,totalPages:1,limit:10,className:"",emptyStateMessage:"No data available."};const vCe=()=>{var m,v;const t=bt(),[e,r]=_.useState(1),[n,i]=_.useState(10),{data:s,isLoading:a,isError:o,error:l,refetch:c}=Oo({page:e,limit:n});_.useEffect(()=>{c()},[]);const u=g=>{t(`/admin/levels/${g}`)},d=g=>h.jsx("div",{className:"flex items-center gap-2",children:h.jsx(_u,{icon:h.jsx(ta,{size:16}),onClick:()=>u(g.id),tooltip:"Edit Level",variant:"primary"})}),A=[{Header:"ID",accessor:"id"},{Header:"Description",accessor:"description"},{Header:"Level",accessor:"level"},{Header:"Actions",accessor:"actions"}],f=(m=s==null?void 0:s.data)==null?void 0:m.map((g,y)=>({...g,id:y+1,actions:d(g)})),p=(s==null?void 0:s.totalPages)||1;return h.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Levels"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all levels in the system"})]}),h.jsxs(pn,{onClick:()=>t("/admin/levels/create"),className:"self-stretch sm:self-auto",children:[h.jsx(HA,{}),h.jsx("span",{children:"Create Level"})]})]})}),h.jsx("div",{className:"p-6",children:a?h.jsxs("div",{className:"flex justify-center items-center",children:[h.jsx(jr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"text-gray-600 ml-2",children:"Loading levels..."})]}):o?h.jsxs("div",{className:"text-red-500",children:["Error loading levels: ",((v=l==null?void 0:l.data)==null?void 0:v.message)||"Unknown error"]}):h.jsx("div",{className:"overflow-x-auto",children:h.jsx(Ku,{columns:A,data:f,currentPage:e,totalPages:p,limit:n,onPageChange:r,onLimitChange:g=>{i(g),r(1)},emptyStateMessage:"No levels found."})})})]})})})},xCe=Po().shape({level:gt().required("Level is required").min(2,"Level must be at least 2 characters"),description:gt().required("Description is required").min(10,"Description must be at least 10 characters")}),bCe=()=>{const{register:t,handleSubmit:e,formState:{errors:r,isSubmitting:n},reset:i}=Gl({resolver:Xl(xCe)}),s=bt(),[a,{isLoading:o}]=C3e(),l=async c=>{var u;try{const d={level:c.level,description:c.description},A=await a(d).unwrap();(A==null?void 0:A.statusCode)===200?(Z.success("Level created successfully"),i(),s("/admin/levels")):Z.error((A==null?void 0:A.message)||"Failed to create level")}catch(d){Z.error(((u=d==null?void 0:d.data)==null?void 0:u.message)||"Failed to create level")}};return h.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[h.jsx(aE,{className:"text-[#6925EF] w-6 h-6"}),"Create New Level"]}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Add a new educational level to the system with detailed information."})]}),h.jsxs("form",{onSubmit:e(l),className:"px-6 py-8",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(zA,{className:"text-[#6925EF] w-4 h-4"}),"Level"]}),h.jsx("input",{type:"text",...t("level"),placeholder:"Enter level name",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.level?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.level&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.level.message})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(zA,{className:"text-[#6925EF] w-4 h-4"}),"Description"]}),h.jsx("textarea",{...t("description"),placeholder:"Enter description",rows:"4",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.description?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.description&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.description.message})]})]}),h.jsx("div",{className:"mt-8 flex justify-end",children:h.jsx(pn,{className:`w-full px-6 py-3 ${o?"bg-gray-400":"bg-gradient-to-r from-[#6925EF] to-[#3C1589]"}  text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50`,type:"submit",disabled:o,children:o?"Creating...":h.jsxs(h.Fragment,{children:[h.jsx(_1,{className:"w-4 h-4"}),"Create Level"]})})})]})]})})},wCe=Po().shape({level:gt().required("Level is required").min(2,"Level must be at least 2 characters"),description:gt().required("Description is required").min(10,"Description must be at least 10 characters")}),CCe=()=>{var f;const{id:t}=Ar();bt();const[e,{data:r,isLoading:n,isError:i,error:s}]=w3e();_.useEffect(()=>{e({level_id:Number(t)})},[]);const[a,{isLoading:o}]=B3e(),{register:l,handleSubmit:c,setValue:u,formState:{errors:d}}=Gl({resolver:Xl(wCe)});_.useEffect(()=>{r!=null&&r.data&&(u("level",r.data.level),u("description",r.data.description))},[r,u]);const A=async p=>{var m;try{const v={level:p.level,level_id:Number(t),description:p.description},g=await a({id:t,...v}).unwrap();(g==null?void 0:g.statusCode)===200?(Z.success("Level updated successfully"),refetch()):Z.error((g==null?void 0:g.message)||"Failed to update level")}catch(v){Z.error(((m=v==null?void 0:v.data)==null?void 0:m.message)||"Failed to update level")}};return n?h.jsxs("div",{className:"flex justify-center items-center",children:[h.jsx(jr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"text-gray-600 ml-2",children:"Loading levels..."})]}):i?h.jsxs("div",{className:"text-red-500 text-center mt-10",children:["Error loading level: ",((f=s==null?void 0:s.data)==null?void 0:f.message)||"Unknown error"]}):h.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[h.jsx(ta,{className:"text-[#6925EF] w-6 h-6"}),"Edit Level"]}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update the details of the educational level."})]}),h.jsxs("form",{onSubmit:c(A),className:"px-6 py-8",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(zA,{className:"text-[#6925EF] w-4 h-4"}),"Level"]}),h.jsx("input",{type:"text",...l("level"),placeholder:"Enter level name",className:`mt-1 block w-full px-4 py-2 bg-white border ${d.level?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),d.level&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.level.message})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(zA,{className:"text-[#6925EF] w-4 h-4"}),"Description"]}),h.jsx("textarea",{...l("description"),placeholder:"Enter description",rows:"4",className:`mt-1 block w-full px-4 py-2 bg-white border ${d.description?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),d.description&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.description.message})]})]}),h.jsx("div",{className:"mt-8 flex justify-end",children:h.jsxs(pn,{className:`w-full px-6 py-3 ${o?"bg-gray-400":"bg-gradient-to-r from-[#6925EF] to-[#3C1589]"}  text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50`,type:"submit",disabled:o,children:[h.jsx(ff,{className:"w-5 h-5 mr-2"})," ",h.jsxs("span",{className:"text-center",children:["  ",o?"Updating...":"Update Level"]})]})})]})]})})},BCe=()=>{var m,v;const t=bt(),[e,r]=_.useState(1),[n,i]=_.useState(10),{data:s,isLoading:a,isError:o,error:l,refetch:c}=SY({page:e,limit:n});_.useEffect(()=>{c()},[]);const u=g=>{t(`/admin/subjects/${g}`)};function d(g,y){return g?g.length>y?`${g.substring(0,y)}...`:g:""}const A=[{Header:"ID",accessor:"id"},{Header:"Title",accessor:"display_title"},{Header:"Description",accessor:"description"},{Header:"Actions",accessor:"actions"}],f=(m=s==null?void 0:s.data)==null?void 0:m.map((g,y)=>{var x;return{...g,id:y+1,description:`${d(g.description,50)}`,title:`${g.title}`,level_title:`${(x=g.level)==null?void 0:x.level}`||"N/A",actions:h.jsx("div",{className:"flex items-center justify-center gap-2",children:h.jsx(_u,{icon:h.jsx(ta,{size:16}),onClick:()=>u(g.id),tooltip:"Edit Subject",variant:"primary"})})}}),p=(s==null?void 0:s.totalPages)||1;return h.jsx("div",{className:"min-h-screen p-6 bg-white flex flex-col",children:h.jsxs("div",{className:"max-w-7xl mx-auto w-full bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Subjects"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View, edit, and manage all subjects in the system."})]}),h.jsxs(pn,{onClick:()=>t("/admin/subjects/create"),className:"flex items-center gap-2",children:[h.jsx(ta,{}),h.jsx("span",{children:"Add Subject"})]})]})}),h.jsx("div",{className:"p-6",children:a?h.jsxs("div",{className:"flex justify-center items-center",children:[h.jsx(jr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"ml-2 text-gray-600",children:"Loading subjects..."})]}):o?h.jsxs("div",{className:"text-red-500 text-center",children:["Error loading subjects: ",((v=l==null?void 0:l.data)==null?void 0:v.message)||"Unknown error"]}):h.jsx("div",{className:"overflow-x-auto",children:h.jsx(Ku,{columns:A,data:f,currentPage:e,totalPages:p,limit:n,onPageChange:r,onLimitChange:g=>{i(g),r(1)},emptyStateMessage:"No subjects found.",className:"w-full min-w-[800px]"})})})]})})},SCe=Po().shape({title:gt().required("Title is required").min(2,"Title must be at least 2 characters"),display_title:gt().required("Display Title is required").min(2,"Display Title must be at least 2 characters"),description:gt().required("Description is required").min(10,"Description must be at least 10 characters"),level_id:Qg().typeError("Level is required").required("Level is required")}),_Ce=()=>{var p;const{register:t,handleSubmit:e,formState:{errors:r,isSubmitting:n},reset:i}=Gl({resolver:Xl(SCe)}),{data:s,isLoading:a,isError:o,error:l,refetch:c}=Oo();_.useEffect(()=>{c()},[]);const u=bt(),[d,{isLoading:A}]=n3e(),f=async m=>{var v;try{const g={title:m.title,display_title:m.display_title,description:m.description,level_id:Number(m.level_id)},y=await d(g).unwrap();(y==null?void 0:y.statusCode)===200?(Z.success("Subject created successfully"),i(),u("/admin/subjects")):Z.error((y==null?void 0:y.message)||"Failed to create subject")}catch(g){Z.error(((v=g==null?void 0:g.data)==null?void 0:v.message)||"Failed to create subject")}};return h.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[h.jsxs("h2",{className:"text-2xl font-semibold text-gray-800 flex items-center gap-2",children:[h.jsx(G9,{className:"text-[#6925EF] w-6 h-6"}),"Create New Subject"]}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Add a new subject to the system with detailed information."})]}),h.jsxs("form",{onSubmit:e(f),className:"px-6 py-8",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(nE,{className:"text-[#6925EF] w-4 h-4"}),"Title"]}),h.jsx("input",{type:"text",...t("title"),placeholder:"Enter title",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.title?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.title&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.title.message})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(xb,{className:"text-[#6925EF] w-4 h-4"}),"Display Title"]}),h.jsx("input",{type:"text",...t("display_title"),placeholder:"Enter display title",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.display_title?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.display_title&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.display_title.message})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(G9,{className:"text-[#6925EF] w-4 h-4"}),"Description"]}),h.jsx("textarea",{...t("description"),placeholder:"Enter description",rows:"4",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.description?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.description&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.description.message})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2 mb-1",children:[h.jsx(aE,{className:"text-[#6925EF] w-4 h-4"}),"Level"]}),a?h.jsxs("div",{className:"flex items-center",children:[h.jsx(jr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{children:"Loading levels..."})]}):o?h.jsx("p",{className:"text-red-500 text-sm",children:"Failed to load levels."}):h.jsxs("select",{...t("level_id"),className:`mt-1 block w-full px-4 py-2 bg-white border ${r.level_id?"border-red-500":"border-gray-300"} rounded-lg shadow-sm focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`,children:[h.jsx("option",{value:"",children:"Select a level"}),(p=s==null?void 0:s.data)==null?void 0:p.map(m=>h.jsxs("option",{value:m.id,children:[m.level," "]},m==null?void 0:m.id))]}),r.level_id&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.level_id.message})]})]}),h.jsx("div",{className:"mt-8 flex justify-end",children:h.jsx(pn,{className:`w-full px-6 py-3 ${A?"bg-gray-400":"bg-gradient-to-r from-[#6925EF] to-[#3C1589]"}  text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50`,type:"submit",disabled:A,children:A?h.jsxs(h.Fragment,{children:[h.jsx(jr,{className:"inline animate-spin text-[#6925EF]"}),"Creating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(_1,{className:"w-4 h-4"}),"Create Subject"]})})})]})]})})},kCe=Po().shape({title:gt().required("Title is required").min(2,"Title must be at least 2 characters"),display_title:gt().required("Display Title is required").min(2,"Display Title must be at least 2 characters"),description:gt().required("Description is required").min(10,"Description must be at least 10 characters"),level_id:Qg().typeError("Level is required").required("Level is required")}),ECe=()=>{var w,C;const{id:t}=Ar(),e=bt(),{data:r,isLoading:n,isError:i,error:s,refetch:a}=Oo();_.useEffect(()=>{a()},[]);const[o,{data:l,isLoading:c,isError:u,error:d}]=_Y();_.useEffect(()=>{o({subject_id:Number(t)})},[]),_.useEffect(()=>{o({subject_id:Number(t)})},[t,o]);const[A,{isLoading:f}]=i3e(),{register:p,handleSubmit:m,setValue:v,formState:{errors:g}}=Gl({resolver:Xl(kCe)}),[y,x]=_.useState(null);_.useEffect(()=>{if(l!=null&&l.data){const B=l.data;x(B),v("title",B.title),v("display_title",B.display_title),v("description",B.description),v("level_id",B==null?void 0:B.level_id)}},[l==null?void 0:l.data,e,v]);const b=async B=>{var S;try{const E={id:Number(t),title:B.title,display_title:B.display_title,description:B.description,level_id:B.level_id},M=await A(E).unwrap();(M==null?void 0:M.statusCode)===200?(Z.success("Subject updated successfully"),refetchSubject()):Z.error((M==null?void 0:M.message)||"Failed to update subject")}catch(E){console.log("error",E),Z.error(((S=E==null?void 0:E.data)==null?void 0:S.message)||"Failed to update subject")}};return c||n||f?h.jsxs("div",{className:"flex justify-center items-center min-h-screen",children:[h.jsx(jr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"ml-2 text-gray-600",children:"Loading subject data..."})]}):u?h.jsxs("div",{className:"text-red-500 text-center mt-10",children:["Error loading subjects: ",((w=d==null?void 0:d.data)==null?void 0:w.message)||"Unknown error"]}):h.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[h.jsxs("h2",{className:" text-2xl font-semibold text-gray-800 flex items-center gap-2",children:[h.jsx(ta,{className:"text-[#6925EF] w-6 h-6"}),"Edit Subject"]}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update the details of the subject."})]}),h.jsxs("form",{onSubmit:m(b),className:"px-6 py-8",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(nE,{className:"text-[#6925EF] w-4 h-4"}),"Title"]}),h.jsx("input",{type:"text",...p("title"),placeholder:"Enter title",className:`mt-1 block w-full px-4 py-2 bg-white border ${g.title?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(xb,{className:"text-[#6925EF] w-4 h-4"}),"Display Title"]}),h.jsx("input",{type:"text",...p("display_title"),placeholder:"Enter display title",className:`mt-1 block w-full px-4 py-2 bg-white border ${g.display_title?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),g.display_title&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.display_title.message})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(G9,{className:"text-[#6925EF] w-4 h-4"}),"Description"]}),h.jsx("textarea",{...p("description"),placeholder:"Enter description",rows:"4",className:`mt-1 block w-full px-4 py-2 bg-white border ${g.description?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),g.description&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.description.message})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2 mb-1",children:[h.jsx(aE,{className:"text-[#6925EF] w-4 h-4"}),"Level"]}),h.jsxs("select",{...p("level_id"),className:`mt-1 block w-full px-4 py-2 bg-white border ${g.level_id?"border-red-500":"border-gray-300"} rounded-lg shadow-sm focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`,children:[h.jsx("option",{value:"",children:"Select a level"}),(C=r==null?void 0:r.data)==null?void 0:C.map(B=>h.jsx("option",{value:B.id,children:B.level},B.id))]}),g.level_id&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.level_id.message})]})]}),h.jsx("div",{className:"mt-8 flex justify-end",children:h.jsx(pn,{className:`w-full px-6 py-3 ${f?"bg-gray-400":"bg-gradient-to-r from-[#6925EF] to-[#3C1589]"} text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50`,type:"submit",disabled:f,children:f?h.jsxs(h.Fragment,{children:[h.jsx(jr,{className:"animate-spin w-4 h-4 mr-2"}),"Updating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(ff,{className:"w-5 h-5 mr-2"}),"Update Subject"]})})})]})]})})};function MCe(){return h.jsxs("div",{className:"relative w-full mb-8 overflow-hidden rounded-3xl bg-button-gradient p-6 sm:p-8 text-white mr-7",children:[h.jsx("div",{className:"absolute right-0 top-0 h-full w-full sm:w-full",children:h.jsx("div",{className:"relative h-full",children:h.jsx("img",{src:Rw,alt:"Hero Banner Background",className:"object-cover brightness-90 w-full h-full"})})}),h.jsxs("div",{className:"relative z-20 max-w-xl",children:[h.jsxs("h1",{className:"mb-4 text-2xl sm:text-3xl md:text-4xl font-poppins font-medium leading-tight",children:["Empower Your Students,",h.jsx("br",{}),"Track Their Progress."]}),h.jsx("p",{className:"mb-6 text-xs sm:text-sm md:text-[14px] lg:text-base text-white/80",children:"Monitor quiz results, analyze performance, and support your students' learning journey."}),h.jsx("button",{className:"rounded-full px-4 py-3 text-[10px] sm:text-sm md:text-base border-white bg-yellow-400 text-white hover:bg-white hover:text-hoverText",children:"VIEW REPORTS"})]}),h.jsx("div",{className:"absolute bottom-0 right-0 h-40 sm:h-52 md:h-64 w-2/5 z-10",children:h.jsx("img",{src:T0,alt:"Teacher Image",className:"object-contain w-full h-full"})})]})}const FCe=()=>{var A,f;const[t,e]=_.useState(!1),{data:r,error:n,isLoading:i,refetch:s}=vye({page:1,limit:1e10});console.log(r);const{data:a,isLoading:o,isError:l,error:c,refetch:u}=_M();_.useEffect(()=>{s(),u()},[]);const d=()=>{e(p=>!p)};return i||o?h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100",children:h.jsx(jr,{className:"inline animate-spin text-[#6925EF]"})}):n||l?h.jsx("div",{className:"flex items-center justify-center h-screen",children:h.jsx("div",{className:"text-center text-red-500",children:h.jsx("p",{children:((A=n==null?void 0:n.data)==null?void 0:A.message)||(c==null?void 0:c.message)||"Error loading data. Please try again."})})}):h.jsxs("div",{className:"flex-1 p-6 bg-gray-50",children:[h.jsx(MCe,{}),h.jsxs("div",{className:"container mx-auto pt-5 pb-0",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between items-center",children:[h.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Bots"}),h.jsx("button",{className:"mt-2 md:mt-0 md:ml-4 text-[#6F38DE] rounded-lg font-medium text-sm px-4 py-2 bg-purple-50 hover:bg-purple-100 transition-colors duration-200",onClick:d,children:t?"View Less":"View All"})]}),h.jsx("div",{className:"flex-1 mt-6",children:t?h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r==null?void 0:r.bots.map(p=>h.jsx(Hr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.02},children:h.jsx(EY,{title:p,image:Ut+"/images/"+(p==null?void 0:p.bot_image_url),href:p==null?void 0:p.id,className:"h-full transition-transform duration-200 hover:shadow-lg"})},p==null?void 0:p.id))}):((f=r==null?void 0:r.bots)==null?void 0:f.length)>0?h.jsx(SM,{bots:r==null?void 0:r.bots}):h.jsx("div",{className:"text-center text-gray-500 mt-8",children:h.jsx("p",{children:"No bots found. Please check back later!"})})})]}),h.jsxs("div",{className:"mt-8",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Activity Stats"})}),h.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:o?h.jsx("p",{className:"text-gray-600",children:"Loading statistics..."}):l?h.jsxs("p",{className:"text-red-500",children:["Error: ",c==null?void 0:c.message]}):h.jsxs(h.Fragment,{children:[h.jsx(an,{statTitle:"Students",statValue:(a==null?void 0:a.students)||0,icon:ro,className:"bg-white shadow-sm hover:shadow-md transition-shadow duration-200"}),h.jsx(an,{statTitle:"Subjects",statValue:(a==null?void 0:a.subjects)||0,icon:Fm,className:"bg-white shadow-sm hover:shadow-md transition-shadow duration-200"}),h.jsx(an,{statTitle:"Quizzes",statValue:(a==null?void 0:a.quizzes)||0,icon:Tm,className:"bg-white shadow-sm hover:shadow-md transition-shadow duration-200"})]})})]})]})},TCe=()=>{var f,p,m,v,g,y;const t=bt(),[e,r]=_.useState(1),[n,i]=_.useState(10),{data:s,isLoading:a,error:o,isError:l,refetch:c}=O1({page:e,limit:n});_.useEffect(()=>{c()},[e,n,c]);const u=(s==null?void 0:s.totalPages)||1,d=x=>{r(x)},A=x=>{i(x),r(1)};return h.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("div",{className:"flex justify-between items-center",children:h.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[h.jsx(gA,{className:"text-[#6925EF]"}),"Assigned Subjects"]})})}),h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Display Name"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a?h.jsx("tr",{children:h.jsxs("td",{colSpan:"4",className:"px-6 py-4 text-center",children:[h.jsx(jr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"ml-2 text-gray-600",children:"Loading subjects..."})]})}):l?h.jsx("tr",{children:h.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-red-500",children:(o==null?void 0:o.message)||"Error loading subjects"})}):((m=(p=(f=s==null?void 0:s.data)==null?void 0:f.teacher_profile)==null?void 0:p.subjects)==null?void 0:m.length)===0?h.jsx("tr",{children:h.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-500",children:"No Subjects found"})}):(y=(g=(v=s==null?void 0:s.data)==null?void 0:v.teacher_profile)==null?void 0:g.subjects)==null?void 0:y.map(({id:x,display_title:b,description:w})=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:x}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:b}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w}),h.jsx("td",{className:"px-6 py-4 text-sm",children:h.jsx("button",{onClick:()=>t(`/teacher/subject/${x}`),className:"text-blue-500 hover:text-blue-700 transition-colors",title:"See Details",children:"See Details"})})]},x))})]})})}),h.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200",children:h.jsx($u,{currentPage:e,totalPages:u,limit:n,onPageChange:d,onLimitChange:A})})]})})})},DCe=()=>{var d,A,f,p;const t=bt(),{subject_id:e}=Ar(),[r,{data:n,isLoading:i,isError:s,error:a}]=_Y(),{data:o,isLoading:l,refetch:c}=F3e();_.useEffect(()=>{e&&(r({subject_id:Number(e)}),c())},[]);const u=({title:m,icon:v,data:g})=>h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-8 pb-4 border-b border-gray-100",children:[h.jsx(v,{className:"text-[#6925EF] text-3xl"}),h.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:m})]}),h.jsx("div",{className:"space-y-8",children:h.jsx("div",{className:"grid grid-cols-1 gap-6",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Name"}),h.jsx("p",{className:"text-lg font-semibold text-gray-800",children:g==null?void 0:g.title})]}),h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Display Name"}),h.jsx("p",{className:"text-lg font-semibold text-[#6925EF]",children:g==null?void 0:g.display_title})]})]})})})]});return i||l?h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100",children:h.jsx(jr,{className:"inline animate-spin text-[#6925EF]"})}):h.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6 lg:p-8",children:[s&&h.jsx("div",{children:a.message||"No Suject Found"}),!s&&h.jsx(h.Fragment,{children:h.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[(n==null?void 0:n.data)&&h.jsx(u,{title:"Subject Information",icon:nE,data:n==null?void 0:n.data}),((d=n==null?void 0:n.data)==null?void 0:d.bot)&&h.jsx(u,{title:"Bot Information",icon:Xs,data:{title:(A=n==null?void 0:n.data)==null?void 0:A.bot.name,display_title:(f=n==null?void 0:n.data)==null?void 0:f.bot.display_name}}),(n==null?void 0:n.data)&&h.jsx(h.Fragment,{children:h.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-6 pb-4 border-b border-gray-100",children:[h.jsx(Rhe,{className:"text-[#6925EF] text-3xl"}),h.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Students"})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gray-200",children:[h.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-700",children:"Roll No"}),h.jsx("th",{className:"px-6 py-4 text-right text-sm font-medium text-gray-700",children:"Actions"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200 ",children:((p=o==null?void 0:o.data)==null?void 0:p.length)>0?o.data.map(m=>h.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[h.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-700",children:m.user_roll_no}),h.jsxs("td",{className:"px-6 py-4 text-right",children:[" ",h.jsx("button",{onClick:()=>{var v,g;return t(`/teacher/subject/${e}/${m==null?void 0:m.id}/${((g=(v=n==null?void 0:n.data)==null?void 0:v.bot)==null?void 0:g.id)||0}`)},className:"px-4 py-2 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg text-sm font-medium hover:opacity-90 transition-all duration-200 focus:ring-2 focus:ring-offset-2 focus:ring-[#6925EF] focus:outline-none",children:"View History"})]})]},m.user_roll_no)):h.jsx("tr",{children:h.jsx("td",{colSpan:"2",className:"px-6 py-8 text-center text-gray-500 italic bg-gray-50",children:"No students enrolled yet"})})})]})})]})})})]})})]})},LCe=()=>{var f,p,m;bt();const{data:t,isLoading:e,isError:r,error:n,refetch:i}=BM({}),[s,a]=_.useState(null),[o,l]=_.useState(null);_.useEffect(()=>()=>{s&&(s.pause(),a(null),l(null))},[i]);const c=(v,g)=>{if(!v){Z.error("Sample URL is not available");return}s&&(s.pause(),a(null),l(null));const y=new Audio(v);y.play().then(()=>{a(y),l(g)}).catch(x=>{Z.error("Failed to play the sample"),console.error("Error playing audio:",x)}),y.onended=()=>{l(null)}},u=()=>{s&&(s.pause(),a(null),l(null))},d=[{Header:"Name",accessor:"name"},{Header:"Architecture",accessor:"architecture"},{Header:"Languages",accessor:"languages"},{Header:"Tags",accessor:"tags"},{Header:"Actions",accessor:"actions"}],A=(p=(f=t==null?void 0:t.api)==null?void 0:f.tts)==null?void 0:p.map(v=>({...v,languages:v.languages?v.languages.join(", "):"N/A",tags:v.metadata.tags?v.metadata.tags.join(", "):"N/A",actions:v.metadata.sample?h.jsx("div",{className:"flex items-center gap-2",children:o===v.uuid?h.jsx(_u,{icon:h.jsx(Jq,{size:16}),onClick:u,tooltip:"Pause Sample",variant:"secondary"}):h.jsx(_u,{icon:h.jsx(Zq,{size:16}),onClick:()=>c(v.metadata.sample,v.uuid),tooltip:"Play Sample",variant:"primary"})}):"N/A"}));return h.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Voice Models"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all models, including voice models"})]})})}),h.jsx("div",{className:"p-6",children:e?h.jsxs("div",{className:"flex justify-center items-center",children:[h.jsx(jr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"text-gray-600 ml-2",children:"Loading models..."})]}):r?h.jsxs("div",{className:"text-red-500",children:["Error loading models: ",((m=n==null?void 0:n.data)==null?void 0:m.message)||"Unknown error"]}):h.jsx("div",{className:"overflow-x-auto",children:h.jsx(Ku,{columns:d,data:A,className:"w-full min-w-[750px]"})})})]})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function R1(t){return t+.5|0}const Kc=(t,e,r)=>Math.max(Math.min(t,r),e);function Kp(t){return Kc(R1(t*2.55),0,255)}function cu(t){return Kc(R1(t*255),0,255)}function cl(t){return Kc(R1(t/2.55)/100,0,1)}function mO(t){return Kc(R1(t*100),0,100)}const Fs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},VB=[..."0123456789ABCDEF"],NCe=t=>VB[t&15],jCe=t=>VB[(t&240)>>4]+VB[t&15],W2=t=>(t&240)>>4===(t&15),ICe=t=>W2(t.r)&&W2(t.g)&&W2(t.b)&&W2(t.a);function OCe(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&Fs[t[1]]*17,g:255&Fs[t[2]]*17,b:255&Fs[t[3]]*17,a:e===5?Fs[t[4]]*17:255}:(e===7||e===9)&&(r={r:Fs[t[1]]<<4|Fs[t[2]],g:Fs[t[3]]<<4|Fs[t[4]],b:Fs[t[5]]<<4|Fs[t[6]],a:e===9?Fs[t[7]]<<4|Fs[t[8]]:255})),r}const PCe=(t,e)=>t<255?e(t):"";function UCe(t){var e=ICe(t)?NCe:jCe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+PCe(t.a,e):void 0}const RCe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function nZ(t,e,r){const n=e*Math.min(r,1-r),i=(s,a=(s+t/30)%12)=>r-n*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function QCe(t,e,r){const n=(i,s=(i+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function zCe(t,e,r){const n=nZ(t,1,.5);let i;for(e+r>1&&(i=1/(e+r),e*=i,r*=i),i=0;i<3;i++)n[i]*=1-e-r,n[i]+=e;return n}function HCe(t,e,r,n,i){return t===i?(e-r)/n+(e<r?6:0):e===i?(r-t)/n+2:(t-e)/n+4}function eF(t){const r=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(r,n,i),a=Math.min(r,n,i),o=(s+a)/2;let l,c,u;return s!==a&&(u=s-a,c=o>.5?u/(2-s-a):u/(s+a),l=HCe(r,n,i,u,s),l=l*60+.5),[l|0,c||0,o]}function tF(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(cu)}function rF(t,e,r){return tF(nZ,t,e,r)}function $Ce(t,e,r){return tF(zCe,t,e,r)}function VCe(t,e,r){return tF(QCe,t,e,r)}function iZ(t){return(t%360+360)%360}function KCe(t){const e=RCe.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?Kp(+e[5]):cu(+e[5]));const i=iZ(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=$Ce(i,s,a):e[1]==="hsv"?n=VCe(i,s,a):n=rF(i,s,a),{r:n[0],g:n[1],b:n[2],a:r}}function qCe(t,e){var r=eF(t);r[0]=iZ(r[0]+e),r=rF(r),t.r=r[0],t.g=r[1],t.b=r[2]}function WCe(t){if(!t)return;const e=eF(t),r=e[0],n=mO(e[1]),i=mO(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${i}%, ${cl(t.a)})`:`hsl(${r}, ${n}%, ${i}%)`}const gO={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},yO={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function GCe(){const t={},e=Object.keys(yO),r=Object.keys(gO);let n,i,s,a,o;for(n=0;n<e.length;n++){for(a=o=e[n],i=0;i<r.length;i++)s=r[i],o=o.replace(s,gO[s]);s=parseInt(yO[a],16),t[o]=[s>>16&255,s>>8&255,s&255]}return t}let G2;function XCe(t){G2||(G2=GCe(),G2.transparent=[0,0,0,0]);const e=G2[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const YCe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function JCe(t){const e=YCe.exec(t);let r=255,n,i,s;if(e){if(e[7]!==n){const a=+e[7];r=e[8]?Kp(a):Kc(a*255,0,255)}return n=+e[1],i=+e[3],s=+e[5],n=255&(e[2]?Kp(n):Kc(n,0,255)),i=255&(e[4]?Kp(i):Kc(i,0,255)),s=255&(e[6]?Kp(s):Kc(s,0,255)),{r:n,g:i,b:s,a:r}}}function ZCe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${cl(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const P8=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Y0=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function e9e(t,e,r){const n=Y0(cl(t.r)),i=Y0(cl(t.g)),s=Y0(cl(t.b));return{r:cu(P8(n+r*(Y0(cl(e.r))-n))),g:cu(P8(i+r*(Y0(cl(e.g))-i))),b:cu(P8(s+r*(Y0(cl(e.b))-s))),a:t.a+r*(e.a-t.a)}}function X2(t,e,r){if(t){let n=eF(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=rF(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function sZ(t,e){return t&&Object.assign(e||{},t)}function vO(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=cu(t[3]))):(e=sZ(t,{r:0,g:0,b:0,a:1}),e.a=cu(e.a)),e}function t9e(t){return t.charAt(0)==="r"?JCe(t):KCe(t)}class zg{constructor(e){if(e instanceof zg)return e;const r=typeof e;let n;r==="object"?n=vO(e):r==="string"&&(n=OCe(e)||XCe(e)||t9e(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=sZ(this._rgb);return e&&(e.a=cl(e.a)),e}set rgb(e){this._rgb=vO(e)}rgbString(){return this._valid?ZCe(this._rgb):void 0}hexString(){return this._valid?UCe(this._rgb):void 0}hslString(){return this._valid?WCe(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,i=e.rgb;let s;const a=r===s?.5:r,o=2*a-1,l=n.a-i.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-c,n.r=255&c*n.r+s*i.r+.5,n.g=255&c*n.g+s*i.g+.5,n.b=255&c*n.b+s*i.b+.5,n.a=a*n.a+(1-a)*i.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=e9e(this._rgb,e._rgb,r)),this}clone(){return new zg(this.rgb)}alpha(e){return this._rgb.a=cu(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=R1(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return X2(this._rgb,2,e),this}darken(e){return X2(this._rgb,2,-e),this}saturate(e){return X2(this._rgb,1,e),this}desaturate(e){return X2(this._rgb,1,-e),this}rotate(e){return qCe(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ko(){}const r9e=(()=>{let t=0;return()=>t++})();function vt(t){return t==null}function gr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ct(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Lr(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function os(t,e){return Lr(t)?t:e}function dt(t,e){return typeof t>"u"?e:t}const n9e=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,aZ=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function nr(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function Gt(t,e,r,n){let i,s,a;if(gr(t))for(s=t.length,i=0;i<s;i++)e.call(r,t[i],i);else if(Ct(t))for(a=Object.keys(t),s=a.length,i=0;i<s;i++)e.call(r,t[a[i]],a[i])}function Xb(t,e){let r,n,i,s;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(i=t[r],s=e[r],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Yb(t){if(gr(t))return t.map(Yb);if(Ct(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let i=0;for(;i<n;++i)e[r[i]]=Yb(t[r[i]]);return e}return t}function oZ(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function i9e(t,e,r,n){if(!oZ(t))return;const i=e[t],s=r[t];Ct(i)&&Ct(s)?Hg(i,s,n):e[t]=Yb(s)}function Hg(t,e,r){const n=gr(e)?e:[e],i=n.length;if(!Ct(t))return t;r=r||{};const s=r.merger||i9e;let a;for(let o=0;o<i;++o){if(a=n[o],!Ct(a))continue;const l=Object.keys(a);for(let c=0,u=l.length;c<u;++c)s(l[c],t,a,r)}return t}function Nm(t,e){return Hg(t,e,{merger:s9e})}function s9e(t,e,r){if(!oZ(t))return;const n=e[t],i=r[t];Ct(n)&&Ct(i)?Nm(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Yb(i))}const xO={"":t=>t,x:t=>t.x,y:t=>t.y};function a9e(t){const e=t.split("."),r=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function o9e(t){const e=a9e(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function ku(t,e){return(xO[e]||(xO[e]=o9e(e)))(t)}function nF(t){return t.charAt(0).toUpperCase()+t.slice(1)}const $g=t=>typeof t<"u",Eu=t=>typeof t=="function",bO=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function l9e(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const hr=Math.PI,ur=2*hr,c9e=ur+hr,Jb=Number.POSITIVE_INFINITY,u9e=hr/180,Vr=hr/2,td=hr/4,wO=hr*2/3,qc=Math.log10,ko=Math.sign;function jm(t,e,r){return Math.abs(t-e)<r}function CO(t){const e=Math.round(t);t=jm(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(qc(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function d9e(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((i,s)=>i-s).pop(),e}function h9e(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function GA(t){return!h9e(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function A9e(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function lZ(t,e,r){let n,i,s;for(n=0,i=t.length;n<i;n++)s=t[n][r],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function _a(t){return t*(hr/180)}function iF(t){return t*(180/hr)}function BO(t){if(!Lr(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function cZ(t,e){const r=e.x-t.x,n=e.y-t.y,i=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*hr&&(s+=ur),{angle:s,distance:i}}function KB(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function f9e(t,e){return(t-e+c9e)%ur-hr}function ds(t){return(t%ur+ur)%ur}function Vg(t,e,r,n){const i=ds(t),s=ds(e),a=ds(r),o=ds(s-i),l=ds(a-i),c=ds(i-s),u=ds(i-a);return i===s||i===a||n&&s===a||o>l&&c<u}function bn(t,e,r){return Math.max(e,Math.min(r,t))}function p9e(t){return bn(t,-32768,32767)}function ml(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function sF(t,e,r){r=r||(a=>t[a]<e);let n=t.length-1,i=0,s;for(;n-i>1;)s=i+n>>1,r(s)?i=s:n=s;return{lo:i,hi:n}}const gl=(t,e,r,n)=>sF(t,r,n?i=>{const s=t[i][e];return s<r||s===r&&t[i+1][e]===r}:i=>t[i][e]<r),m9e=(t,e,r)=>sF(t,r,n=>t[n][e]>=r);function g9e(t,e,r){let n=0,i=t.length;for(;n<i&&t[n]<e;)n++;for(;i>n&&t[i-1]>r;)i--;return n>0||i<t.length?t.slice(n,i):t}const uZ=["push","pop","shift","splice","unshift"];function y9e(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),uZ.forEach(r=>{const n="_onData"+nF(r),i=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return t._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...s)}),a}})})}function SO(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(uZ.forEach(s=>{delete t[s]}),delete t._chartjs)}function dZ(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const hZ=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function AZ(t,e){let r=[],n=!1;return function(...i){r=i,n||(n=!0,hZ.call(window,()=>{n=!1,t.apply(e,r)}))}}function v9e(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const aF=t=>t==="start"?"left":t==="end"?"right":"center",qn=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,x9e=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function fZ(t,e,r){const n=e.length;let i=0,s=n;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=a.axis,{min:d,max:A,minDefined:f,maxDefined:p}=a.getUserBounds();if(f){if(i=Math.min(gl(l,u,d).lo,r?n:gl(e,u,a.getPixelForValue(d)).lo),c){const m=l.slice(0,i+1).reverse().findIndex(v=>!vt(v[o.axis]));i-=Math.max(0,m)}i=bn(i,0,n-1)}if(p){let m=Math.max(gl(l,a.axis,A,!0).hi+1,r?0:gl(e,u,a.getPixelForValue(A),!0).hi+1);if(c){const v=l.slice(m-1).findIndex(g=>!vt(g[o.axis]));m+=Math.max(0,v)}s=bn(m,i,n)-i}else s=n-i}return{start:i,count:s}}function pZ(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,i={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=i,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,i),s}const Y2=t=>t===0||t===1,_O=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ur/r)),kO=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*ur/r)+1,Im={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Vr)+1,easeOutSine:t=>Math.sin(t*Vr),easeInOutSine:t=>-.5*(Math.cos(hr*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Y2(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Y2(t)?t:_O(t,.075,.3),easeOutElastic:t=>Y2(t)?t:kO(t,.075,.3),easeInOutElastic(t){return Y2(t)?t:t<.5?.5*_O(t*2,.1125,.45):.5+.5*kO(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Im.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Im.easeInBounce(t*2)*.5:Im.easeOutBounce(t*2-1)*.5+.5};function oF(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function EO(t){return oF(t)?t:new zg(t)}function U8(t){return oF(t)?t:new zg(t).saturate(.5).darken(.1).hexString()}const b9e=["x","y","borderWidth","radius","tension"],w9e=["color","borderColor","backgroundColor"];function C9e(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:w9e},numbers:{type:"number",properties:b9e}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function B9e(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const MO=new Map;function S9e(t,e){e=e||{};const r=t+JSON.stringify(e);let n=MO.get(r);return n||(n=new Intl.NumberFormat(t,e),MO.set(r,n)),n}function Q1(t,e,r){return S9e(e,r).format(t)}const mZ={values(t){return gr(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let i,s=t;if(r.length>1){const c=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=_9e(t,r)}const a=qc(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Q1(t,n,l)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(qc(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?mZ.numeric.call(this,t,e,r):""}};function _9e(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var o5={formatters:mZ};function k9e(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:o5.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const w0=Object.create(null),qB=Object.create(null);function Om(t,e){if(!e)return t;const r=e.split(".");for(let n=0,i=r.length;n<i;++n){const s=r[n];t=t[s]||(t[s]=Object.create(null))}return t}function R8(t,e,r){return typeof e=="string"?Hg(Om(t,e),r):Hg(Om(t,""),e)}class E9e{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>U8(i.backgroundColor),this.hoverBorderColor=(n,i)=>U8(i.borderColor),this.hoverColor=(n,i)=>U8(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return R8(this,e,r)}get(e){return Om(this,e)}describe(e,r){return R8(qB,e,r)}override(e,r){return R8(w0,e,r)}route(e,r,n,i){const s=Om(this,e),a=Om(this,n),o="_"+r;Object.defineProperties(s,{[o]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[o],c=a[i];return Ct(l)?Object.assign({},c,l):dt(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(r=>r(this))}}var yr=new E9e({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[C9e,B9e,k9e]);function M9e(t){return!t||vt(t.size)||vt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Zb(t,e,r,n,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,r.push(i)),s>n&&(n=s),n}function F9e(t,e,r,n){n=n||{};let i=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},s=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let a=0;const o=r.length;let l,c,u,d,A;for(l=0;l<o;l++)if(d=r[l],d!=null&&!gr(d))a=Zb(t,i,s,a,d);else if(gr(d))for(c=0,u=d.length;c<u;c++)A=d[c],A!=null&&!gr(A)&&(a=Zb(t,i,s,a,A));t.restore();const f=s.length/2;if(f>r.length){for(l=0;l<f;l++)delete i[s[l]];s.splice(0,f)}return a}function rd(t,e,r){const n=t.currentDevicePixelRatio,i=r!==0?Math.max(r/2,.5):0;return Math.round((e-i)*n)/n+i}function FO(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function WB(t,e,r,n){gZ(t,e,r,n,null)}function gZ(t,e,r,n,i){let s,a,o,l,c,u,d,A;const f=e.pointStyle,p=e.rotation,m=e.radius;let v=(p||0)*u9e;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(v),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),f){default:i?t.ellipse(r,n,i/2,m,0,0,ur):t.arc(r,n,m,0,ur),t.closePath();break;case"triangle":u=i?i/2:m,t.moveTo(r+Math.sin(v)*u,n-Math.cos(v)*m),v+=wO,t.lineTo(r+Math.sin(v)*u,n-Math.cos(v)*m),v+=wO,t.lineTo(r+Math.sin(v)*u,n-Math.cos(v)*m),t.closePath();break;case"rectRounded":c=m*.516,l=m-c,a=Math.cos(v+td)*l,d=Math.cos(v+td)*(i?i/2-c:l),o=Math.sin(v+td)*l,A=Math.sin(v+td)*(i?i/2-c:l),t.arc(r-d,n-o,c,v-hr,v-Vr),t.arc(r+A,n-a,c,v-Vr,v),t.arc(r+d,n+o,c,v,v+Vr),t.arc(r-A,n+a,c,v+Vr,v+hr),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,u=i?i/2:l,t.rect(r-u,n-l,2*u,2*l);break}v+=td;case"rectRot":d=Math.cos(v)*(i?i/2:m),a=Math.cos(v)*m,o=Math.sin(v)*m,A=Math.sin(v)*(i?i/2:m),t.moveTo(r-d,n-o),t.lineTo(r+A,n-a),t.lineTo(r+d,n+o),t.lineTo(r-A,n+a),t.closePath();break;case"crossRot":v+=td;case"cross":d=Math.cos(v)*(i?i/2:m),a=Math.cos(v)*m,o=Math.sin(v)*m,A=Math.sin(v)*(i?i/2:m),t.moveTo(r-d,n-o),t.lineTo(r+d,n+o),t.moveTo(r+A,n-a),t.lineTo(r-A,n+a);break;case"star":d=Math.cos(v)*(i?i/2:m),a=Math.cos(v)*m,o=Math.sin(v)*m,A=Math.sin(v)*(i?i/2:m),t.moveTo(r-d,n-o),t.lineTo(r+d,n+o),t.moveTo(r+A,n-a),t.lineTo(r-A,n+a),v+=td,d=Math.cos(v)*(i?i/2:m),a=Math.cos(v)*m,o=Math.sin(v)*m,A=Math.sin(v)*(i?i/2:m),t.moveTo(r-d,n-o),t.lineTo(r+d,n+o),t.moveTo(r+A,n-a),t.lineTo(r-A,n+a);break;case"line":a=i?i/2:Math.cos(v)*m,o=Math.sin(v)*m,t.moveTo(r-a,n-o),t.lineTo(r+a,n+o);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(v)*(i?i/2:m),n+Math.sin(v)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function yl(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function l5(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function c5(t){t.restore()}function T9e(t,e,r,n,i){if(!e)return t.lineTo(r.x,r.y);if(i==="middle"){const s=(e.x+r.x)/2;t.lineTo(s,e.y),t.lineTo(s,r.y)}else i==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function D9e(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function L9e(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),vt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function N9e(t,e,r,n,i){if(i.strikethrough||i.underline){const s=t.measureText(n),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=r-s.actualBoundingBoxAscent,c=r+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,u),t.lineTo(o,u),t.stroke()}}function j9e(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function C0(t,e,r,n,i,s={}){const a=gr(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,L9e(t,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&j9e(t,s.backdrop),o&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),vt(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,r,n,s.maxWidth)),t.fillText(c,r,n,s.maxWidth),N9e(t,r,n,c,s),n+=Number(i.lineHeight);t.restore()}function Kg(t,e){const{x:r,y:n,w:i,h:s,radius:a}=e;t.arc(r+a.topLeft,n+a.topLeft,a.topLeft,1.5*hr,hr,!0),t.lineTo(r,n+s-a.bottomLeft),t.arc(r+a.bottomLeft,n+s-a.bottomLeft,a.bottomLeft,hr,Vr,!0),t.lineTo(r+i-a.bottomRight,n+s),t.arc(r+i-a.bottomRight,n+s-a.bottomRight,a.bottomRight,Vr,0,!0),t.lineTo(r+i,n+a.topRight),t.arc(r+i-a.topRight,n+a.topRight,a.topRight,0,-Vr,!0),t.lineTo(r+a.topLeft,n)}const I9e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,O9e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function P9e(t,e){const r=(""+t).match(I9e);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const U9e=t=>+t||0;function lF(t,e){const r={},n=Ct(e),i=n?Object.keys(e):e,s=Ct(t)?n?a=>dt(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)r[a]=U9e(s(a));return r}function yZ(t){return lF(t,{top:"y",right:"x",bottom:"y",left:"x"})}function r0(t){return lF(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ni(t){const e=yZ(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function dn(t,e){t=t||{},e=e||yr.font;let r=dt(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=dt(t.style,e.style);n&&!(""+n).match(O9e)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:dt(t.family,e.family),lineHeight:P9e(dt(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:dt(t.weight,e.weight),string:""};return i.string=M9e(i),i}function qp(t,e,r,n){let i,s,a;for(i=0,s=t.length;i<s;++i)if(a=t[i],a!==void 0&&a!==void 0)return a}function R9e(t,e,r){const{min:n,max:i}=t,s=aZ(e,(i-n)/2),a=(o,l)=>r&&o===0?0:o+l;return{min:a(n,-Math.abs(s)),max:a(i,s)}}function qu(t,e){return Object.assign(Object.create(t),e)}function cF(t,e=[""],r,n,i=()=>t[0]){const s=r||t;typeof n>"u"&&(n=wZ("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:i,override:o=>cF([o,...t],e,s,n)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return xZ(o,l,()=>W9e(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return DO(o).includes(l)},ownKeys(o){return DO(o)},set(o,l,c){const u=o._storage||(o._storage=i());return o[l]=u[l]=c,delete o._keys,!0}})}function XA(t,e,r,n){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:vZ(t,n),setContext:s=>XA(t,s,r,n),override:s=>XA(t.override(s),e,r,n)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,o){return xZ(s,a,()=>z9e(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,o){return t[a]=o,delete s[a],!0}})}function vZ(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:r,indexable:n,isScriptable:Eu(r)?r:()=>r,isIndexable:Eu(n)?n:()=>n}}const Q9e=(t,e)=>t?t+nF(e):e,uF=(t,e)=>Ct(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function xZ(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function z9e(t,e,r){const{_proxy:n,_context:i,_subProxy:s,_descriptors:a}=t;let o=n[e];return Eu(o)&&a.isScriptable(e)&&(o=H9e(e,o,t,r)),gr(o)&&o.length&&(o=$9e(e,o,t,a.isIndexable)),uF(e,o)&&(o=XA(o,i,s&&s[e],a)),o}function H9e(t,e,r,n){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=r;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(s,a||n);return o.delete(t),uF(t,l)&&(l=dF(i._scopes,i,t,l)),l}function $9e(t,e,r,n){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=r;if(typeof s.index<"u"&&n(t))return e[s.index%e.length];if(Ct(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=dF(c,i,t,u);e.push(XA(d,s,a&&a[t],o))}}return e}function bZ(t,e,r){return Eu(t)?t(e,r):t}const V9e=(t,e)=>t===!0?e:typeof t=="string"?ku(e,t):void 0;function K9e(t,e,r,n,i){for(const s of e){const a=V9e(r,s);if(a){t.add(a);const o=bZ(a._fallback,r,i);if(typeof o<"u"&&o!==r&&o!==n)return o}else if(a===!1&&typeof n<"u"&&r!==n)return null}return!1}function dF(t,e,r,n){const i=e._rootScopes,s=bZ(e._fallback,r,n),a=[...t,...i],o=new Set;o.add(n);let l=TO(o,a,r,s||r,n);return l===null||typeof s<"u"&&s!==r&&(l=TO(o,a,s,l,n),l===null)?!1:cF(Array.from(o),[""],i,s,()=>q9e(e,r,n))}function TO(t,e,r,n,i){for(;r;)r=K9e(t,e,r,n,i);return r}function q9e(t,e,r){const n=t._getTarget();e in n||(n[e]={});const i=n[e];return gr(i)&&Ct(r)?r:i||{}}function W9e(t,e,r,n){let i;for(const s of e)if(i=wZ(Q9e(s,t),r),typeof i<"u")return uF(t,i)?dF(r,n,t,i):i}function wZ(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function DO(t){let e=t._keys;return e||(e=t._keys=G9e(t._scopes)),e}function G9e(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}function CZ(t,e,r,n){const{iScale:i}=t,{key:s="r"}=this._parsing,a=new Array(n);let o,l,c,u;for(o=0,l=n;o<l;++o)c=o+r,u=e[c],a[o]={r:i.parse(ku(u,s),c)};return a}const X9e=Number.EPSILON||1e-14,YA=(t,e)=>e<t.length&&!t[e].skip&&t[e],BZ=t=>t==="x"?"y":"x";function Y9e(t,e,r,n){const i=t.skip?e:t,s=e,a=r.skip?e:r,o=KB(s,i),l=KB(a,s);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=n*c,A=n*u;return{previous:{x:s.x-d*(a.x-i.x),y:s.y-d*(a.y-i.y)},next:{x:s.x+A*(a.x-i.x),y:s.y+A*(a.y-i.y)}}}function J9e(t,e,r){const n=t.length;let i,s,a,o,l,c=YA(t,0);for(let u=0;u<n-1;++u)if(l=c,c=YA(t,u+1),!(!l||!c)){if(jm(e[u],0,X9e)){r[u]=r[u+1]=0;continue}i=r[u]/e[u],s=r[u+1]/e[u],o=Math.pow(i,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),r[u]=i*a*e[u],r[u+1]=s*a*e[u])}}function Z9e(t,e,r="x"){const n=BZ(r),i=t.length;let s,a,o,l=YA(t,0);for(let c=0;c<i;++c){if(a=o,o=l,l=YA(t,c+1),!o)continue;const u=o[r],d=o[n];a&&(s=(u-a[r])/3,o[`cp1${r}`]=u-s,o[`cp1${n}`]=d-s*e[c]),l&&(s=(l[r]-u)/3,o[`cp2${r}`]=u+s,o[`cp2${n}`]=d+s*e[c])}}function eBe(t,e="x"){const r=BZ(e),n=t.length,i=Array(n).fill(0),s=Array(n);let a,o,l,c=YA(t,0);for(a=0;a<n;++a)if(o=l,l=c,c=YA(t,a+1),!!l){if(c){const u=c[e]-l[e];i[a]=u!==0?(c[r]-l[r])/u:0}s[a]=o?c?ko(i[a-1])!==ko(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}J9e(t,i,s),Z9e(t,s,e)}function J2(t,e,r){return Math.max(Math.min(t,r),e)}function tBe(t,e){let r,n,i,s,a,o=yl(t[0],e);for(r=0,n=t.length;r<n;++r)a=s,s=o,o=r<n-1&&yl(t[r+1],e),s&&(i=t[r],a&&(i.cp1x=J2(i.cp1x,e.left,e.right),i.cp1y=J2(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=J2(i.cp2x,e.left,e.right),i.cp2y=J2(i.cp2y,e.top,e.bottom)))}function rBe(t,e,r,n,i){let s,a,o,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")eBe(t,i);else{let c=n?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)o=t[s],l=Y9e(c,o,t[Math.min(s+1,a-(n?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&tBe(t,r)}function hF(){return typeof window<"u"&&typeof document<"u"}function AF(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function e3(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const u5=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function nBe(t,e){return u5(t).getPropertyValue(e)}const iBe=["top","right","bottom","left"];function n0(t,e,r){const n={};r=r?"-"+r:"";for(let i=0;i<4;i++){const s=iBe[i];n[s]=parseFloat(t[e+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const sBe=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function aBe(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:i,offsetY:s}=n;let a=!1,o,l;if(sBe(i,s,t.target))o=i,l=s;else{const c=e.getBoundingClientRect();o=n.clientX-c.left,l=n.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function Sd(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,i=u5(r),s=i.boxSizing==="border-box",a=n0(i,"padding"),o=n0(i,"border","width"),{x:l,y:c,box:u}=aBe(t,r),d=a.left+(u&&o.left),A=a.top+(u&&o.top);let{width:f,height:p}=e;return s&&(f-=a.width+o.width,p-=a.height+o.height),{x:Math.round((l-d)/f*r.width/n),y:Math.round((c-A)/p*r.height/n)}}function oBe(t,e,r){let n,i;if(e===void 0||r===void 0){const s=t&&AF(t);if(!s)e=t.clientWidth,r=t.clientHeight;else{const a=s.getBoundingClientRect(),o=u5(s),l=n0(o,"border","width"),c=n0(o,"padding");e=a.width-c.width-l.width,r=a.height-c.height-l.height,n=e3(o.maxWidth,s,"clientWidth"),i=e3(o.maxHeight,s,"clientHeight")}}return{width:e,height:r,maxWidth:n||Jb,maxHeight:i||Jb}}const Z2=t=>Math.round(t*10)/10;function lBe(t,e,r,n){const i=u5(t),s=n0(i,"margin"),a=e3(i.maxWidth,t,"clientWidth")||Jb,o=e3(i.maxHeight,t,"clientHeight")||Jb,l=oBe(t,e,r);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const A=n0(i,"border","width"),f=n0(i,"padding");c-=f.width+A.width,u-=f.height+A.height}return c=Math.max(0,c-s.width),u=Math.max(0,n?c/n:u-s.height),c=Z2(Math.min(c,a,l.maxWidth)),u=Z2(Math.min(u,o,l.maxHeight)),c&&!u&&(u=Z2(c/2)),(e!==void 0||r!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=Z2(Math.floor(u*n))),{width:c,height:u}}function LO(t,e,r){const n=e||1,i=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(r||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||a.height!==i||a.width!==s?(t.currentDevicePixelRatio=n,a.height=i,a.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const cBe=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};hF()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function NO(t,e){const r=nBe(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function _d(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function uBe(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function dBe(t,e,r,n){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=_d(t,i,r),o=_d(i,s,r),l=_d(s,e,r),c=_d(a,o,r),u=_d(o,l,r);return _d(c,u,r)}const hBe=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},ABe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function wA(t,e,r){return t?hBe(e,r):ABe()}function SZ(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function _Z(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function kZ(t){return t==="angle"?{between:Vg,compare:f9e,normalize:ds}:{between:ml,compare:(e,r)=>e-r,normalize:e=>e}}function jO({start:t,end:e,count:r,loop:n,style:i}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:i}}function fBe(t,e,r){const{property:n,start:i,end:s}=r,{between:a,normalize:o}=kZ(n),l=e.length;let{start:c,end:u,loop:d}=t,A,f;if(d){for(c+=l,u+=l,A=0,f=l;A<f&&a(o(e[c%l][n]),i,s);++A)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function EZ(t,e,r){if(!r)return[t];const{property:n,start:i,end:s}=r,a=e.length,{compare:o,between:l,normalize:c}=kZ(n),{start:u,end:d,loop:A,style:f}=fBe(t,e,r),p=[];let m=!1,v=null,g,y,x;const b=()=>l(i,x,g)&&o(i,x)!==0,w=()=>o(s,g)===0||l(s,x,g),C=()=>m||b(),B=()=>!m||w();for(let S=u,E=u;S<=d;++S)y=e[S%a],!y.skip&&(g=c(y[n]),g!==x&&(m=l(g,i,s),v===null&&C()&&(v=o(g,i)===0?S:E),v!==null&&B()&&(p.push(jO({start:v,end:S,loop:A,count:a,style:f})),v=null),E=S,x=g));return v!==null&&p.push(jO({start:v,end:d,loop:A,count:a,style:f})),p}function MZ(t,e){const r=[],n=t.segments;for(let i=0;i<n.length;i++){const s=EZ(n[i],t.points,e);s.length&&r.push(...s)}return r}function pBe(t,e,r,n){let i=0,s=e-1;if(r&&!n)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,r&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function mBe(t,e,r,n){const i=t.length,s=[];let a=e,o=t[e],l;for(l=e+1;l<=r;++l){const c=t[l%i];c.skip||c.stop?o.skip||(n=!1,s.push({start:e%i,end:(l-1)%i,loop:n}),e=a=c.stop?l:null):(a=l,o.skip&&(e=l)),o=c}return a!==null&&s.push({start:e%i,end:a%i,loop:n}),s}function gBe(t,e){const r=t.points,n=t.options.spanGaps,i=r.length;if(!i)return[];const s=!!t._loop,{start:a,end:o}=pBe(r,i,s,n);if(n===!0)return IO(t,[{start:a,end:o,loop:s}],r,e);const l=o<a?o+i:o,c=!!t._fullLoop&&a===0&&o===i-1;return IO(t,mBe(r,a,l,c),r,e)}function IO(t,e,r,n){return!n||!n.setContext||!r?e:yBe(t,e,r,n)}function yBe(t,e,r,n){const i=t._chart.getContext(),s=OO(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=r.length,c=[];let u=s,d=e[0].start,A=d;function f(p,m,v,g){const y=o?-1:1;if(p!==m){for(p+=l;r[p%l].skip;)p-=y;for(;r[m%l].skip;)m+=y;p%l!==m%l&&(c.push({start:p%l,end:m%l,loop:v,style:g}),u=g,d=m%l)}}for(const p of e){d=o?d:p.start;let m=r[d%l],v;for(A=d+1;A<=p.end;A++){const g=r[A%l];v=OO(n.setContext(qu(i,{type:"segment",p0:m,p1:g,p0DataIndex:(A-1)%l,p1DataIndex:A%l,datasetIndex:a}))),vBe(v,u)&&f(d,A-1,p.loop,u),m=g,u=v}d<A-1&&f(d,A-1,p.loop,u)}return c}function OO(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function vBe(t,e){if(!e)return!1;const r=[],n=function(i,s){return oF(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(t,n)!==JSON.stringify(e,n)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class xBe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,i){const s=r.listeners[i],a=r.duration;s.forEach(o=>o({chart:e,initial:r.initial,numSteps:a,currentStep:Math.min(n-r.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=hZ.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const s=n.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,n,e,"progress")),s.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),r+=s.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Zo=new xBe;const PO="transparent",bBe={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=EO(t||PO),i=n.valid&&EO(e||PO);return i&&i.valid?i.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class wBe{constructor(e,r,n,i){const s=r[n];i=qp([e.to,i,s,e.from]);const a=qp([e.from,s,i]);this._active=!0,this._fn=e.fn||bBe[e.type||typeof a],this._easing=Im[e.easing]||Im.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const i=this._target[this._prop],s=n-this._start,a=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=qp([e.to,r,i,e.from]),this._from=qp([e.from,i,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||r<n),!this._active){this._target[i]=o,this._notify(!0);return}if(r<0){this._target[i]=s;return}l=r/n%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][r]()}}class FZ{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Ct(e))return;const r=Object.keys(yr.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Ct(s))return;const a={};for(const o of r)a[o]=s[o];(gr(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!n.has(o))&&n.set(o,a)})})}_animateOptions(e,r){const n=r.options,i=BBe(e,n);if(!i)return[];const s=this._createAnimations(i,n);return n.$shared&&CBe(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,r){const n=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(r),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,r));continue}const u=r[c];let d=s[c];const A=n.get(c);if(d)if(A&&d.active()){d.update(A,u,o);continue}else d.cancel();if(!A||!A.duration){e[c]=u;continue}s[c]=d=new wBe(A,e,c,u),i.push(d)}return i}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return Zo.add(this._chart,n),!0}}function CBe(t,e){const r=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const s=t[n[i]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function BBe(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function UO(t,e){const r=t&&t.options||{},n=r.reverse,i=r.min===void 0?e:0,s=r.max===void 0?e:0;return{start:n?s:i,end:n?i:s}}function SBe(t,e,r){if(r===!1)return!1;const n=UO(t,r),i=UO(e,r);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function _Be(t){let e,r,n,i;return Ct(t)?(e=t.top,r=t.right,n=t.bottom,i=t.left):e=r=n=i=t,{top:e,right:r,bottom:n,left:i,disabled:t===!1}}function TZ(t,e){const r=[],n=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=n.length;i<s;++i)r.push(n[i].index);return r}function RO(t,e,r,n={}){const i=t.keys,s=n.mode==="single";let a,o,l,c;if(e===null)return;let u=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===r){if(u=!0,n.all)continue;break}c=t.values[l],Lr(c)&&(s||e===0||ko(e)===ko(c))&&(e+=c)}return!u&&!n.all?0:e}function kBe(t,e){const{iScale:r,vScale:n}=e,i=r.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[i]:u,[s]:t[u]};return o}function Q8(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function EBe(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function MBe(t){const{min:e,max:r,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?r:Number.POSITIVE_INFINITY}}function FBe(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function QO(t,e,r,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const s=t[i.index];if(r&&s>0||!r&&s<0)return i.index}return null}function zO(t,e){const{chart:r,_cachedMeta:n}=t,i=r._stacks||(r._stacks={}),{iScale:s,vScale:a,index:o}=n,l=s.axis,c=a.axis,u=EBe(s,a,n),d=e.length;let A;for(let f=0;f<d;++f){const p=e[f],{[l]:m,[c]:v}=p,g=p._stacks||(p._stacks={});A=g[c]=FBe(i,u,m),A[o]=v,A._top=QO(A,a,!0,n.type),A._bottom=QO(A,a,!1,n.type);const y=A._visualValues||(A._visualValues={});y[o]=v}}function z8(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function TBe(t,e){return qu(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function DBe(t,e,r){return qu(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function ep(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r],s[n]._visualValues!==void 0&&s[n]._visualValues[r]!==void 0&&delete s[n]._visualValues[r]}}}const H8=t=>t==="reset"||t==="none",HO=(t,e)=>e?t:Object.assign({},t),LBe=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:TZ(r,!0),values:null};class Da{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Q8(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ep(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),i=(d,A,f,p)=>d==="x"?A:d==="r"?p:f,s=r.xAxisID=dt(n.xAxisID,z8(e,"x")),a=r.yAxisID=dt(n.yAxisID,z8(e,"y")),o=r.rAxisID=dt(n.rAxisID,z8(e,"r")),l=r.indexAxis,c=r.iAxisID=i(l,s,a,o),u=r.vAxisID=i(l,a,s,o);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(o),r.iScale=this.getScaleForId(c),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&SO(this._data,this),e._stacked&&ep(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Ct(r)){const i=this._cachedMeta;this._data=kBe(r,i)}else if(n!==r){if(n){SO(n,this);const i=this._cachedMeta;ep(i),i._parsed=[]}r&&Object.isExtensible(r)&&y9e(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const s=r._stacked;r._stacked=Q8(r.vScale,r),r.stack!==n.stack&&(i=!0,ep(r),r.stack=n.stack),this._resyncElements(e),(i||s!==r._stacked)&&(zO(this,r._parsed),r._stacked=Q8(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:i}=this,{iScale:s,_stacked:a}=n,o=s.axis;let l=e===0&&r===i.length?!0:n._sorted,c=e>0&&n._parsed[e-1],u,d,A;if(this._parsing===!1)n._parsed=i,n._sorted=!0,A=i;else{gr(i[e])?A=this.parseArrayData(n,i,e,r):Ct(i[e])?A=this.parseObjectData(n,i,e,r):A=this.parsePrimitiveData(n,i,e,r);const f=()=>d[o]===null||c&&d[o]<c[o];for(u=0;u<r;++u)n._parsed[u+e]=d=A[u],l&&(f()&&(l=!1),c=d);n._sorted=l}a&&zO(this,A)}parsePrimitiveData(e,r,n,i){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,c=s.getLabels(),u=s===a,d=new Array(i);let A,f,p;for(A=0,f=i;A<f;++A)p=A+n,d[A]={[o]:u||s.parse(c[p],p),[l]:a.parse(r[p],p)};return d}parseArrayData(e,r,n,i){const{xScale:s,yScale:a}=e,o=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+n,d=r[u],o[l]={x:s.parse(d[0],u),y:a.parse(d[1],u)};return o}parseObjectData(e,r,n,i){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,A,f;for(u=0,d=i;u<d;++u)A=u+n,f=r[A],c[u]={x:s.parse(ku(f,o),A),y:a.parse(ku(f,l),A)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const i=this.chart,s=this._cachedMeta,a=r[e.axis],o={keys:TZ(i,!0),values:r._stacks[e.axis]._visualValues};return RO(o,a,s.index,{mode:n})}updateRangeFromParsed(e,r,n,i){const s=n[r.axis];let a=s===null?NaN:s;const o=i&&n._stacks[r.axis];i&&o&&(i.values=o,a=RO(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,r){const n=this._cachedMeta,i=n._parsed,s=n._sorted&&e===n.iScale,a=i.length,o=this._getOtherScale(e),l=LBe(r,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=MBe(o);let A,f;function p(){f=i[A];const m=f[o.axis];return!Lr(f[e.axis])||u>m||d<m}for(A=0;A<a&&!(!p()&&(this.updateRangeFromParsed(c,e,f,l),s));++A);if(s){for(A=a-1;A>=0;--A)if(!p()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let i,s,a;for(i=0,s=r.length;i<s;++i)a=r[i][e.axis],Lr(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,i=r.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=_Be(dt(this.options.clip,SBe(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,i=n.data||[],s=r.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||i.length-o,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,s,o,l),u=o;u<o+l;++u){const d=i[u];d.hidden||(d.active&&c?a.push(d):d.draw(e,s))}for(u=0;u<a.length;++u)a[u].draw(e,s)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=DBe(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=TBe(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const i=r==="active",s=this._cachedDataOpts,a=e+"-"+r,o=s[a],l=this.enableOptionSharing&&$g(n);if(o)return HO(o,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],A=c.getOptionScopes(this.getDataset(),u),f=Object.keys(yr.elements[e]),p=()=>this.getContext(n,i,r),m=c.resolveNamedOptions(A,f,p,d);return m.$shared&&(m.$shared=l,s[a]=Object.freeze(HO(m,l))),m}_resolveAnimations(e,r,n){const i=this.chart,s=this._cachedDataOpts,a=`animation-${r}`,o=s[a];if(o)return o;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,r),A=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(A,this.getContext(e,n,r))}const c=new FZ(i,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||H8(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),i=this._sharedOptions,s=this.getSharedOptions(n),a=this.includeOptions(r,s)||s!==i;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:a}}updateElement(e,r,n,i){H8(i)?Object.assign(e,n):this._resolveAnimations(r,i).update(e,n)}updateSharedOptions(e,r,n){e&&!H8(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,i){e.active=i;const s=this.getStyle(r,i);this._resolveAnimations(r,n,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const i=n.length,s=r.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,r,n=!0){const i=this._cachedMeta,s=i.data,a=e+r;let o;const l=c=>{for(c.length+=r,o=c.length-1;o>=a;o--)c[o]=c[o-r]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,r),n&&this.updateElements(s,e,r,"reset")}updateElements(e,r,n,i){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,r);n._stacked&&ep(n,i)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,i]=e;this[r](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}_e(Da,"defaults",{}),_e(Da,"datasetElementType",null),_e(Da,"dataElementType",null);function NBe(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let i=0,s=r.length;i<s;i++)n=n.concat(r[i].controller.getAllParsedValues(t));t._cache.$bar=dZ(n.sort((i,s)=>i-s))}return t._cache.$bar}function jBe(t){const e=t.iScale,r=NBe(e,t.type);let n=e._length,i,s,a,o;const l=()=>{a===32767||a===-32768||($g(o)&&(n=Math.min(n,Math.abs(a-o)||n)),o=a)};for(i=0,s=r.length;i<s;++i)a=e.getPixelForValue(r[i]),l();for(o=void 0,i=0,s=e.ticks.length;i<s;++i)a=e.getPixelForTick(i),l();return n}function IBe(t,e,r,n){const i=r.barThickness;let s,a;return vt(i)?(s=e.min*r.categoryPercentage,a=r.barPercentage):(s=i*n,a=1),{chunk:s/n,ratio:a,start:e.pixels[t]-s/2}}function OBe(t,e,r,n){const i=e.pixels,s=i[t];let a=t>0?i[t-1]:null,o=t<i.length-1?i[t+1]:null;const l=r.categoryPercentage;a===null&&(a=s-(o===null?e.end-e.start:o-s)),o===null&&(o=s+s-a);const c=s-(s-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/n,ratio:r.barPercentage,start:c}}function PBe(t,e,r,n){const i=r.parse(t[0],n),s=r.parse(t[1],n),a=Math.min(i,s),o=Math.max(i,s);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),e[r.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:a,max:o}}function DZ(t,e,r,n){return gr(t)?PBe(t,e,r,n):e[r.axis]=r.parse(t,n),e}function $O(t,e,r,n){const i=t.iScale,s=t.vScale,a=i.getLabels(),o=i===s,l=[];let c,u,d,A;for(c=r,u=r+n;c<u;++c)A=e[c],d={},d[i.axis]=o||i.parse(a[c],c),l.push(DZ(A,d,s,c));return l}function $8(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function UBe(t,e,r){return t!==0?ko(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function RBe(t){let e,r,n,i,s;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(i="end",s="start"):(i="start",s="end"),{start:r,end:n,reverse:e,top:i,bottom:s}}function QBe(t,e,r,n){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:c,bottom:u}=RBe(t);i==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?i=c:(r._bottom||0)===n?i=u:(s[VO(u,a,o,l)]=!0,i=c)),s[VO(i,a,o,l)]=!0,t.borderSkipped=s}function VO(t,e,r,n){return n?(t=zBe(t,e,r),t=KO(t,r,e)):t=KO(t,e,r),t}function zBe(t,e,r){return t===e?r:t===r?e:t}function KO(t,e,r){return t==="start"?e:t==="end"?r:t}function HBe(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class sx extends Da{parsePrimitiveData(e,r,n,i){return $O(e,r,n,i)}parseArrayData(e,r,n,i){return $O(e,r,n,i)}parseObjectData(e,r,n,i){const{iScale:s,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?o:l,u=a.axis==="x"?o:l,d=[];let A,f,p,m;for(A=n,f=n+i;A<f;++A)m=r[A],p={},p[s.axis]=s.parse(ku(m,c),A),d.push(DZ(ku(m,u),p,a,A));return d}updateRangeFromParsed(e,r,n,i){super.updateRangeFromParsed(e,r,n,i);const s=n._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:i}=r,s=this.getParsed(e),a=s._custom,o=$8(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:A}=this._getSharedOptions(r,i);for(let f=r;f<r+n;f++){const p=this.getParsed(f),m=s||vt(p[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),v=this._calculateBarIndexPixels(f,u),g=(p._stacks||{})[o.axis],y={horizontal:c,base:m.base,enableBorderRadius:!g||$8(p._custom)||a===g._top||a===g._bottom,x:c?m.head:v.center,y:c?v.center:m.head,height:c?v.size:Math.abs(m.size),width:c?Math.abs(m.size):v.size};A&&(y.options=d||this.resolveDataElementOptions(f,e[f].active?"active":i));const x=y.options||e[f].options;QBe(y,x,g,a),HBe(y,x,u.ratio),this.updateElement(e[f],f,y,i)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=n.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(r),l=o&&o[n.axis],c=u=>{const d=u._parsed.find(f=>f[n.axis]===l),A=d&&d[u.vScale.axis];if(vt(A)||isNaN(A))return!0};for(const u of i)if(!(r!==void 0&&c(u))&&((s===!1||a.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,r,n){const i=this._getStacks(e,n),s=r!==void 0?i.indexOf(r):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,i=[];let s,a;for(s=0,a=r.data.length;s<a;++s)i.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const o=e.barThickness;return{min:o||jBe(r),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:i},options:{base:s,minBarLength:a}}=this,o=s||0,l=this.getParsed(e),c=l._custom,u=$8(c);let d=l[r.axis],A=0,f=n?this.applyStack(r,l,n):d,p,m;f!==d&&(A=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&ko(d)!==ko(c.barEnd)&&(A=0),A+=d);const v=!vt(s)&&!u?s:A;let g=r.getPixelForValue(v);if(this.chart.getDataVisibility(e)?p=r.getPixelForValue(A+f):p=g,m=p-g,Math.abs(m)<a){m=UBe(m,r,o)*a,d===o&&(g-=m/2);const y=r.getPixelForDecimal(0),x=r.getPixelForDecimal(1),b=Math.min(y,x),w=Math.max(y,x);g=Math.max(Math.min(g,w),b),p=g+m,n&&!u&&(l._stacks[r.axis]._visualValues[i]=r.getValueForPixel(p)-r.getValueForPixel(g))}if(g===r.getPixelForValue(o)){const y=ko(m)*r.getLineWidthForValue(o)/2;g+=y,m-=y}return{size:m,base:g,head:p,center:p+m/2}}_calculateBarIndexPixels(e,r){const n=r.scale,i=this.options,s=i.skipNull,a=dt(i.maxBarThickness,1/0);let o,l;if(r.grouped){const c=s?this._getStackCount(e):r.stackCount,u=i.barThickness==="flex"?OBe(e,r,i,c):IBe(e,r,i,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);o=u.start+u.chunk*d+u.chunk/2,l=Math.min(a,u.chunk*u.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(a,r.min*r.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,i=n.length;let s=0;for(;s<i;++s)this.getParsed(s)[r.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}_e(sx,"id","bar"),_e(sx,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),_e(sx,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ax extends Da{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,n,i){const s=super.parsePrimitiveData(e,r,n,i);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+n).radius;return s}parseArrayData(e,r,n,i){const s=super.parseArrayData(e,r,n,i);for(let a=0;a<s.length;a++){const o=r[n+a];s[a]._custom=dt(o[2],this.resolveDataElementOptions(a+n).radius)}return s}parseObjectData(e,r,n,i){const s=super.parseObjectData(e,r,n,i);for(let a=0;a<s.length;a++){const o=r[n+a];s[a]._custom=dt(o&&o.r&&+o.r,this.resolveDataElementOptions(a+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let r=0;for(let n=e.length-1;n>=0;--n)r=Math.max(r,e[n].size(this.resolveDataElementOptions(n))/2);return r>0&&r}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:s}=r,a=this.getParsed(e),o=i.getLabelForValue(a.x),l=s.getLabelForValue(a.y),c=a._custom;return{label:n[e]||"",value:"("+o+", "+l+(c?", "+c:"")+")"}}update(e){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,n,i){const s=i==="reset",{iScale:a,vScale:o}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(r,i),u=a.axis,d=o.axis;for(let A=r;A<r+n;A++){const f=e[A],p=!s&&this.getParsed(A),m={},v=m[u]=s?a.getPixelForDecimal(.5):a.getPixelForValue(p[u]),g=m[d]=s?o.getBasePixel():o.getPixelForValue(p[d]);m.skip=isNaN(v)||isNaN(g),c&&(m.options=l||this.resolveDataElementOptions(A,f.active?"active":i),s&&(m.options.radius=0)),this.updateElement(f,A,m,i)}}resolveDataElementOptions(e,r){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,r);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return r!=="active"&&(i.radius=0),i.radius+=dt(n&&n._custom,s),i}}_e(ax,"id","bubble"),_e(ax,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),_e(ax,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function $Be(t,e,r){let n=1,i=1,s=0,a=0;if(e<ur){const o=t,l=o+e,c=Math.cos(o),u=Math.sin(o),d=Math.cos(l),A=Math.sin(l),f=(x,b,w)=>Vg(x,o,l,!0)?1:Math.max(b,b*r,w,w*r),p=(x,b,w)=>Vg(x,o,l,!0)?-1:Math.min(b,b*r,w,w*r),m=f(0,c,d),v=f(Vr,u,A),g=p(hr,c,d),y=p(hr+Vr,u,A);n=(m-g)/2,i=(v-y)/2,s=-(m+g)/2,a=-(v+y)/2}return{ratioX:n,ratioY:i,offsetX:s,offsetY:a}}class Vd extends Da{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let s=l=>+n[l];if(Ct(n[e])){const{key:l="value"}=this._parsing;s=c=>+ku(n[c],l)}let a,o;for(a=e,o=e+r;a<o;++a)i._parsed[a]=s(a)}}_getRotation(){return _a(this.options.rotation-90)}_getCircumference(){return _a(this.options.circumference)}_getRotationExtents(){let e=ur,r=-ur;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),r=Math.max(r,s+a)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-a)/2,0),l=Math.min(n9e(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:A,ratioY:f,offsetX:p,offsetY:m}=$Be(d,u,l),v=(n.width-a)/A,g=(n.height-a)/f,y=Math.max(Math.min(v,g)/2,0),x=aZ(this.options.radius,y),b=Math.max(x*l,0),w=(x-b)/this._getVisibleDatasetWeightTotal();this.offsetX=p*x,this.offsetY=m*x,i.total=this.calculateTotal(),this.outerRadius=x-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){const n=this.options,i=this._cachedMeta,s=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/ur)}updateElements(e,r,n,i){const s=i==="reset",a=this.chart,o=a.chartArea,c=a.options.animation,u=(o.left+o.right)/2,d=(o.top+o.bottom)/2,A=s&&c.animateScale,f=A?0:this.innerRadius,p=A?0:this.outerRadius,{sharedOptions:m,includeOptions:v}=this._getSharedOptions(r,i);let g=this._getRotation(),y;for(y=0;y<r;++y)g+=this._circumference(y,s);for(y=r;y<r+n;++y){const x=this._circumference(y,s),b=e[y],w={x:u+this.offsetX,y:d+this.offsetY,startAngle:g,endAngle:g+x,circumference:x,outerRadius:p,innerRadius:f};v&&(w.options=m||this.resolveDataElementOptions(y,b.active?"active":i)),g+=x,this.updateElement(b,y,w,i)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,i;for(i=0;i<r.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!r[i].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?ur*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=Q1(r._parsed[e],n.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let r=0;const n=this.chart;let i,s,a,o,l;if(!e){for(i=0,s=n.data.datasets.length;i<s;++i)if(n.isDatasetVisible(i)){a=n.getDatasetMeta(i),e=a.data,o=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=o.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,i=e.length;n<i;++n){const s=this.resolveDataElementOptions(n);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(dt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}_e(Vd,"id","doughnut"),_e(Vd,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),_e(Vd,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),_e(Vd,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return r.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class Pm extends Da{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:i=[],_dataset:s}=r,a=this.chart._animationsDisabled;let{start:o,count:l}=fZ(r,i,a);this._drawStart=o,this._drawCount=l,pZ(r)&&(o=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:c},e),this.updateElements(i,o,l,e)}updateElements(e,r,n,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(r,i),A=a.axis,f=o.axis,{spanGaps:p,segment:m}=this.options,v=GA(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||i==="none",y=r+n,x=e.length;let b=r>0&&this.getParsed(r-1);for(let w=0;w<x;++w){const C=e[w],B=g?C:{};if(w<r||w>=y){B.skip=!0;continue}const S=this.getParsed(w),E=vt(S[f]),M=B[A]=a.getPixelForValue(S[A],w),T=B[f]=s||E?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,S,l):S[f],w);B.skip=isNaN(M)||isNaN(T)||E,B.stop=w>0&&Math.abs(S[A]-b[A])>v,m&&(B.parsed=S,B.raw=c.data[w]),d&&(B.options=u||this.resolveDataElementOptions(w,C.active?"active":i)),g||this.updateElement(C,w,B,i),b=S}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}_e(Pm,"id","line"),_e(Pm,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),_e(Pm,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Um extends Da{constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=Q1(r._parsed[e].r,n.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,r,n,i){return CZ.bind(this)(e,r,n,i)}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){const e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){const e=this.chart,r=e.chartArea,n=e.options,i=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(i/2,0),a=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),o=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,r,n,i){const s=i==="reset",a=this.chart,l=a.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,A=c.getIndexAngle(0)-.5*hr;let f=A,p;const m=360/this.countVisibleElements();for(p=0;p<r;++p)f+=this._computeAngle(p,i,m);for(p=r;p<r+n;p++){const v=e[p];let g=f,y=f+this._computeAngle(p,i,m),x=a.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=y,s&&(l.animateScale&&(x=0),l.animateRotate&&(g=y=A));const b={x:u,y:d,innerRadius:0,outerRadius:x,startAngle:g,endAngle:y,options:this.resolveDataElementOptions(p,v.active?"active":i)};this.updateElement(v,p,b,i)}}countVisibleElements(){const e=this._cachedMeta;let r=0;return e.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&r++}),r}_computeAngle(e,r,n){return this.chart.getDataVisibility(e)?_a(this.resolveDataElementOptions(e,r).angle||n):0}}_e(Um,"id","polarArea"),_e(Um,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),_e(Um,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return r.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class GB extends Vd{}_e(GB,"id","pie"),_e(GB,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class ox extends Da{getLabelAndValue(e){const r=this._cachedMeta.vScale,n=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(e,r,n,i){return CZ.bind(this)(e,r,n,i)}update(e){const r=this._cachedMeta,n=r.dataset,i=r.data||[],s=r.iScale.getLabels();if(n.points=i,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const o={_loop:!0,_fullLoop:s.length===i.length,options:a};this.updateElement(n,void 0,o,e)}this.updateElements(i,0,i.length,e)}updateElements(e,r,n,i){const s=this._cachedMeta.rScale,a=i==="reset";for(let o=r;o<r+n;o++){const l=e[o],c=this.resolveDataElementOptions(o,l.active?"active":i),u=s.getPointPositionForValue(o,this.getParsed(o).r),d=a?s.xCenter:u.x,A=a?s.yCenter:u.y,f={x:d,y:A,angle:u.angle,skip:isNaN(d)||isNaN(A),options:c};this.updateElement(l,o,f,i)}}}_e(ox,"id","radar"),_e(ox,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),_e(ox,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class lx extends Da{getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:s}=r,a=this.getParsed(e),o=i.getLabelForValue(a.x),l=s.getLabelForValue(a.y);return{label:n[e]||"",value:"("+o+", "+l+")"}}update(e){const r=this._cachedMeta,{data:n=[]}=r,i=this.chart._animationsDisabled;let{start:s,count:a}=fZ(r,n,i);if(this._drawStart=s,this._drawCount=a,pZ(r)&&(s=0,a=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:l}=r;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!l._decimated,o.points=n;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(o,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(n,s,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,n,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(r,i),d=this.getSharedOptions(u),A=this.includeOptions(i,d),f=a.axis,p=o.axis,{spanGaps:m,segment:v}=this.options,g=GA(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||s||i==="none";let x=r>0&&this.getParsed(r-1);for(let b=r;b<r+n;++b){const w=e[b],C=this.getParsed(b),B=y?w:{},S=vt(C[p]),E=B[f]=a.getPixelForValue(C[f],b),M=B[p]=s||S?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,C,l):C[p],b);B.skip=isNaN(E)||isNaN(M)||S,B.stop=b>0&&Math.abs(C[f]-x[f])>g,v&&(B.parsed=C,B.raw=c.data[b]),A&&(B.options=d||this.resolveDataElementOptions(b,w.active?"active":i)),y||this.updateElement(w,b,B,i),x=C}this.updateSharedOptions(d,i,u)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let o=0;for(let l=r.length-1;l>=0;--l)o=Math.max(o,r[l].size(this.resolveDataElementOptions(l))/2);return o>0&&o}const n=e.dataset,i=n.options&&n.options.borderWidth||0;if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,a)/2}}_e(lx,"id","scatter"),_e(lx,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),_e(lx,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var VBe=Object.freeze({__proto__:null,BarController:sx,BubbleController:ax,DoughnutController:Vd,LineController:Pm,PieController:GB,PolarAreaController:Um,RadarController:ox,ScatterController:lx});function nd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class fF{constructor(e){_e(this,"options");this.options=e||{}}static override(e){Object.assign(fF.prototype,e)}init(){}formats(){return nd()}parse(){return nd()}format(){return nd()}add(){return nd()}diff(){return nd()}startOf(){return nd()}endOf(){return nd()}}var KBe={_date:fF};function qBe(t,e,r,n){const{controller:i,data:s,_sorted:a}=t,o=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const c=o._reversePixels?m9e:gl;if(n){if(i._sharedOptions){const u=s[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const A=c(s,e,r-d),f=c(s,e,r+d);return{lo:A.lo,hi:f.hi}}}}else{const u=c(s,e,r);if(l){const{vScale:d}=i._cachedMeta,{_parsed:A}=t,f=A.slice(0,u.lo+1).reverse().findIndex(m=>!vt(m[d.axis]));u.lo-=Math.max(0,f);const p=A.slice(u.hi).findIndex(m=>!vt(m[d.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:s.length-1}}function z1(t,e,r,n,i){const s=t.getSortedVisibleDatasetMetas(),a=r[e];for(let o=0,l=s.length;o<l;++o){const{index:c,data:u}=s[o],{lo:d,hi:A}=qBe(s[o],e,a,i);for(let f=d;f<=A;++f){const p=u[f];p.skip||n(p,c,f)}}}function WBe(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,i){const s=e?Math.abs(n.x-i.x):0,a=r?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function V8(t,e,r,n,i){const s=[];return!i&&!t.isPointInArea(e)||z1(t,r,e,function(o,l,c){!i&&!yl(o,t.chartArea,0)||o.inRange(e.x,e.y,n)&&s.push({element:o,datasetIndex:l,index:c})},!0),s}function GBe(t,e,r,n){let i=[];function s(a,o,l){const{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],n),{angle:d}=cZ(a,{x:e.x,y:e.y});Vg(d,c,u)&&i.push({element:a,datasetIndex:o,index:l})}return z1(t,r,e,s),i}function XBe(t,e,r,n,i,s){let a=[];const o=WBe(r);let l=Number.POSITIVE_INFINITY;function c(u,d,A){const f=u.inRange(e.x,e.y,i);if(n&&!f)return;const p=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(p))&&!f)return;const v=o(e,p);v<l?(a=[{element:u,datasetIndex:d,index:A}],l=v):v===l&&a.push({element:u,datasetIndex:d,index:A})}return z1(t,r,e,c),a}function K8(t,e,r,n,i,s){return!s&&!t.isPointInArea(e)?[]:r==="r"&&!n?GBe(t,e,r,i):XBe(t,e,r,n,i,s)}function qO(t,e,r,n,i){const s=[],a=r==="x"?"inXRange":"inYRange";let o=!1;return z1(t,r,e,(l,c,u)=>{l[a]&&l[a](e[r],i)&&(s.push({element:l,datasetIndex:c,index:u}),o=o||l.inRange(e.x,e.y,i))}),n&&!o?[]:s}var YBe={evaluateInteractionItems:z1,modes:{index(t,e,r,n){const i=Sd(e,t),s=r.axis||"x",a=r.includeInvisible||!1,o=r.intersect?V8(t,i,s,n,a):K8(t,i,s,!1,n,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=o[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,r,n){const i=Sd(e,t),s=r.axis||"xy",a=r.includeInvisible||!1;let o=r.intersect?V8(t,i,s,n,a):K8(t,i,s,!1,n,a);if(o.length>0){const l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(let u=0;u<c.length;++u)o.push({element:c[u],datasetIndex:l,index:u})}return o},point(t,e,r,n){const i=Sd(e,t),s=r.axis||"xy",a=r.includeInvisible||!1;return V8(t,i,s,n,a)},nearest(t,e,r,n){const i=Sd(e,t),s=r.axis||"xy",a=r.includeInvisible||!1;return K8(t,i,s,r.intersect,n,a)},x(t,e,r,n){const i=Sd(e,t);return qO(t,i,"x",r.intersect,n)},y(t,e,r,n){const i=Sd(e,t);return qO(t,i,"y",r.intersect,n)}}};const LZ=["left","top","right","bottom"];function tp(t,e){return t.filter(r=>r.pos===e)}function WO(t,e){return t.filter(r=>LZ.indexOf(r.pos)===-1&&r.box.axis===e)}function rp(t,e){return t.sort((r,n)=>{const i=e?n:r,s=e?r:n;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function JBe(t){const e=[];let r,n,i,s,a,o;for(r=0,n=(t||[]).length;r<n;++r)i=t[r],{position:s,options:{stack:a,stackWeight:o=1}}=i,e.push({index:r,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return e}function ZBe(t){const e={};for(const r of t){const{stack:n,pos:i,stackWeight:s}=r;if(!n||!LZ.includes(i))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function eSe(t,e){const r=ZBe(t),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let s,a,o;for(s=0,a=t.length;s<a;++s){o=t[s];const{fullSize:l}=o.box,c=r[o.stack],u=c&&o.stackWeight/c.weight;o.horizontal?(o.width=u?u*n:l&&e.availableWidth,o.height=i):(o.width=n,o.height=u?u*i:l&&e.availableHeight)}return r}function tSe(t){const e=JBe(t),r=rp(e.filter(c=>c.box.fullSize),!0),n=rp(tp(e,"left"),!0),i=rp(tp(e,"right")),s=rp(tp(e,"top"),!0),a=rp(tp(e,"bottom")),o=WO(e,"x"),l=WO(e,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:tp(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}function GO(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function NZ(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function rSe(t,e,r,n){const{pos:i,box:s}=r,a=t.maxPadding;if(!Ct(i)){r.size&&(t[i]-=r.size);const d=n[r.stack]||{size:0,count:1};d.size=Math.max(d.size,r.horizontal?s.height:s.width),r.size=d.size/d.count,t[i]+=r.size}s.getPadding&&NZ(a,s.getPadding());const o=Math.max(0,e.outerWidth-GO(a,t,"left","right")),l=Math.max(0,e.outerHeight-GO(a,t,"top","bottom")),c=o!==t.w,u=l!==t.h;return t.w=o,t.h=l,r.horizontal?{same:c,other:u}:{same:u,other:c}}function nSe(t){const e=t.maxPadding;function r(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function iSe(t,e){const r=e.maxPadding;function n(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],r[a])}),s}return n(t?["left","right"]:["top","bottom"])}function Wp(t,e,r,n){const i=[];let s,a,o,l,c,u;for(s=0,a=t.length,c=0;s<a;++s){o=t[s],l=o.box,l.update(o.width||e.w,o.height||e.h,iSe(o.horizontal,e));const{same:d,other:A}=rSe(e,r,o,n);c|=d&&i.length,u=u||A,l.fullSize||i.push(o)}return c&&Wp(i,e,r,n)||u}function ey(t,e,r,n,i){t.top=r,t.left=e,t.right=e+n,t.bottom=r+i,t.width=n,t.height=i}function XO(t,e,r,n){const i=r.padding;let{x:s,y:a}=e;for(const o of t){const l=o.box,c=n[o.stack]||{count:1,placed:0,weight:1},u=o.stackWeight/c.weight||1;if(o.horizontal){const d=e.w*u,A=c.size||l.height;$g(c.start)&&(a=c.start),l.fullSize?ey(l,i.left,a,r.outerWidth-i.right-i.left,A):ey(l,e.left+c.placed,a,d,A),c.start=a,c.placed+=d,a=l.bottom}else{const d=e.h*u,A=c.size||l.width;$g(c.start)&&(s=c.start),l.fullSize?ey(l,s,i.top,A,r.outerHeight-i.bottom-i.top):ey(l,s,e.top+c.placed,A,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=a}var ei={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const i=ni(t.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(r-i.height,0),o=tSe(t.boxes),l=o.vertical,c=o.horizontal;Gt(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,v)=>v.box.options&&v.box.options.display===!1?m:m+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:r,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/u,hBoxMaxHeight:a/2}),A=Object.assign({},i);NZ(A,ni(n));const f=Object.assign({maxPadding:A,w:s,h:a,x:i.left,y:i.top},i),p=eSe(l.concat(c),d);Wp(o.fullSize,f,d,p),Wp(l,f,d,p),Wp(c,f,d,p)&&Wp(l,f,d,p),nSe(f),XO(o.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,XO(o.rightAndBottom,f,d,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Gt(o.chartArea,m=>{const v=m.box;Object.assign(v,t.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class jZ{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,i){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,i?Math.floor(r/i):n)}}isAttached(e){return!0}updateConfig(e){}}class sSe extends jZ{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const cx="$chartjs",aSe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},YO=t=>t===null||t==="";function oSe(t,e){const r=t.style,n=t.getAttribute("height"),i=t.getAttribute("width");if(t[cx]={initial:{height:n,width:i,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",YO(i)){const s=NO(t,"width");s!==void 0&&(t.width=s)}if(YO(n))if(t.style.height==="")t.height=t.width/(e||2);else{const s=NO(t,"height");s!==void 0&&(t.height=s)}return t}const IZ=cBe?{passive:!0}:!1;function lSe(t,e,r){t&&t.addEventListener(e,r,IZ)}function cSe(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,IZ)}function uSe(t,e){const r=aSe[t.type]||t.type,{x:n,y:i}=Sd(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:i!==void 0?i:null}}function t3(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function dSe(t,e,r){const n=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||t3(o.addedNodes,n),a=a&&!t3(o.removedNodes,n);a&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}function hSe(t,e,r){const n=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||t3(o.removedNodes,n),a=a&&!t3(o.addedNodes,n);a&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}const qg=new Map;let JO=0;function OZ(){const t=window.devicePixelRatio;t!==JO&&(JO=t,qg.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function ASe(t,e){qg.size||window.addEventListener("resize",OZ),qg.set(t,e)}function fSe(t){qg.delete(t),qg.size||window.removeEventListener("resize",OZ)}function pSe(t,e,r){const n=t.canvas,i=n&&AF(n);if(!i)return;const s=AZ((o,l)=>{const c=i.clientWidth;r(o,l),c<i.clientWidth&&r()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return a.observe(i),ASe(t,s),a}function q8(t,e,r){r&&r.disconnect(),e==="resize"&&fSe(t)}function mSe(t,e,r){const n=t.canvas,i=AZ(s=>{t.ctx!==null&&r(uSe(s,t))},t);return lSe(n,e,i),i}class gSe extends jZ{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(oSe(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[cx])return!1;const n=r[cx].initial;["height","width"].forEach(s=>{const a=n[s];vt(a)?r.removeAttribute(s):r.setAttribute(s,a)});const i=n.style||{};return Object.keys(i).forEach(s=>{r.style[s]=i[s]}),r.width=r.width,delete r[cx],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const i=e.$proxies||(e.$proxies={}),a={attach:dSe,detach:hSe,resize:pSe}[r]||mSe;i[r]=a(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),i=n[r];if(!i)return;({attach:q8,detach:q8,resize:q8}[r]||cSe)(e,r,i),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,i){return lBe(e,r,n,i)}isAttached(e){const r=e&&AF(e);return!!(r&&r.isConnected)}}function ySe(t){return!hF()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?sSe:gSe}var c4;let Yl=(c4=class{constructor(){_e(this,"x");_e(this,"y");_e(this,"active",!1);_e(this,"options");_e(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return GA(this.x)&&GA(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const i={};return e.forEach(s=>{i[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),i}},_e(c4,"defaults",{}),_e(c4,"defaultRoutes"),c4);function vSe(t,e){const r=t.options.ticks,n=xSe(t),i=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?wSe(e):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>i)return CSe(e,c,s,a/i),c;const u=bSe(s,e,i);if(a>0){let d,A;const f=a>1?Math.round((l-o)/(a-1)):null;for(ty(e,c,u,vt(f)?0:o-f,o),d=0,A=a-1;d<A;d++)ty(e,c,u,s[d],s[d+1]);return ty(e,c,u,l,vt(f)?e.length:l+f),c}return ty(e,c,u),c}function xSe(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),i=t._maxLength/r;return Math.floor(Math.min(n,i))}function bSe(t,e,r){const n=BSe(t),i=e.length/r;if(!n)return Math.max(i,1);const s=d9e(n);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>i)return l}return Math.max(i,1)}function wSe(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function CSe(t,e,r,n){let i=0,s=r[0],a;for(n=Math.ceil(n),a=0;a<t.length;a++)a===s&&(e.push(t[a]),i++,s=r[i*n])}function ty(t,e,r,n,i){const s=dt(n,0),a=Math.min(dt(i,t.length),t.length);let o=0,l,c,u;for(r=Math.ceil(r),i&&(l=i-n,r=l/Math.floor(l/r)),u=s;u<0;)o++,u=Math.round(s+o*r);for(c=Math.max(s,0);c<a;c++)c===u&&(e.push(t[c]),o++,u=Math.round(s+o*r))}function BSe(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const SSe=t=>t==="left"?"right":t==="right"?"left":t,ZO=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,eP=(t,e)=>Math.min(e||t,t);function tP(t,e){const r=[],n=t.length/e,i=t.length;let s=0;for(;s<i;s+=n)r.push(t[Math.floor(s)]);return r}function _Se(t,e,r){const n=t.ticks.length,i=Math.min(e,n-1),s=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(i),c;if(!(r&&(n===1?c=Math.max(l-s,a-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-o||l>a+o)))return l}function kSe(t,e){Gt(t,r=>{const n=r.gc,i=n.length/2;let s;if(i>e){for(s=0;s<i;++s)delete r.data[n[s]];n.splice(0,i)}})}function np(t){return t.drawTicks?t.tickLength:0}function rP(t,e){if(!t.display)return 0;const r=dn(t.font,e),n=ni(t.padding);return(gr(t.text)?t.text.length:1)*r.lineHeight+n.height}function ESe(t,e){return qu(t,{scale:e,type:"scale"})}function MSe(t,e,r){return qu(t,{tick:r,index:e,type:"tick"})}function FSe(t,e,r){let n=aF(t);return(r&&e!=="right"||!r&&e==="right")&&(n=SSe(n)),n}function TSe(t,e,r,n){const{top:i,left:s,bottom:a,right:o,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,A,f,p;const m=a-i,v=o-s;if(t.isHorizontal()){if(f=qn(n,s,o),Ct(r)){const g=Object.keys(r)[0],y=r[g];p=u[g].getPixelForValue(y)+m-e}else r==="center"?p=(c.bottom+c.top)/2+m-e:p=ZO(t,r,e);A=o-s}else{if(Ct(r)){const g=Object.keys(r)[0],y=r[g];f=u[g].getPixelForValue(y)-v+e}else r==="center"?f=(c.left+c.right)/2-v+e:f=ZO(t,r,e);p=qn(n,a,i),d=r==="left"?-Vr:Vr}return{titleX:f,titleY:p,maxWidth:A,rotation:d}}class O0 extends Yl{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:i}=this;return e=os(e,Number.POSITIVE_INFINITY),r=os(r,Number.NEGATIVE_INFINITY),n=os(n,Number.POSITIVE_INFINITY),i=os(i,Number.NEGATIVE_INFINITY),{min:os(e,n),max:os(r,i),minDefined:Lr(e),maxDefined:Lr(r)}}getMinMax(e){let{min:r,max:n,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:r,max:n};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,e),i||(r=Math.min(r,a.min)),s||(n=Math.max(n,a.max));return r=s&&r>n?n:r,n=i&&r>n?r:n,{min:os(r,os(n,r)),max:os(n,os(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){nr(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=R9e(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?tP(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=vSe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){nr(this.options.afterUpdate,[this])}beforeSetDimensions(){nr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){nr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),nr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){nr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,i,s;for(n=0,i=e.length;n<i;n++)s=e[n],s.label=nr(r.callback,[s.value,n,e],this)}afterTickToLabelConversion(){nr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){nr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=eP(this.ticks.length,e.ticks.maxTicksLimit),i=r.minRotation||0,s=r.maxRotation;let a=i,o,l,c;if(!this._isVisible()||!r.display||i>=s||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,A=u.highest.height,f=bn(this.chart.width-d,0,this.maxWidth);o=e.offset?this.maxWidth/n:f/(n-1),d+6>o&&(o=f/(n-(e.offset?.5:1)),l=this.maxHeight-np(e.grid)-r.padding-rP(e.title,this.chart.options.font),c=Math.sqrt(d*d+A*A),a=iF(Math.min(Math.asin(bn((u.highest.height+6)/o,-1,1)),Math.asin(bn(l/c,-1,1))-Math.asin(bn(A/c,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){nr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){nr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=rP(i,r.options.font);if(o?(e.width=this.maxWidth,e.height=np(s)+l):(e.height=this.maxHeight,e.width=np(s)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:A}=this._getLabelSizes(),f=n.padding*2,p=_a(this.labelRotation),m=Math.cos(p),v=Math.sin(p);if(o){const g=n.mirror?0:v*d.width+m*A.height;e.height=Math.min(this.maxHeight,e.height+g+f)}else{const g=n.mirror?0:m*d.width+v*A.height;e.width=Math.min(this.maxWidth,e.width+g+f)}this._calculatePadding(c,u,v,m)}}this._handleMargins(),o?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,i){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let A=0,f=0;l?c?(A=i*e.width,f=n*r.height):(A=n*e.height,f=i*r.width):s==="start"?f=r.width:s==="end"?A=e.width:s!=="inner"&&(A=e.width/2,f=r.width/2),this.paddingLeft=Math.max((A-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+a)*this.width/(this.width-d),0)}else{let u=r.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=r.height,d=0),this.paddingTop=u+a,this.paddingBottom=d+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){nr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)vt(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=tP(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(r/eP(r,n));let c=0,u=0,d,A,f,p,m,v,g,y,x,b,w;for(d=0;d<r;d+=l){if(p=e[d].label,m=this._resolveTickFontOptions(d),i.font=v=m.string,g=s[v]=s[v]||{data:{},gc:[]},y=m.lineHeight,x=b=0,!vt(p)&&!gr(p))x=Zb(i,g.data,g.gc,x,p),b=y;else if(gr(p))for(A=0,f=p.length;A<f;++A)w=p[A],!vt(w)&&!gr(w)&&(x=Zb(i,g.data,g.gc,x,w),b+=y);a.push(x),o.push(b),c=Math.max(x,c),u=Math.max(b,u)}kSe(s,r);const C=a.indexOf(c),B=o.indexOf(u),S=E=>({width:a[E]||0,height:o[E]||0});return{first:S(0),last:S(r-1),widest:S(C),highest:S(B),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return p9e(this._alignToPixels?rd(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=MSe(this.getContext(),e,n))}return this.$context||(this.$context=ESe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=_a(this.labelRotation),n=Math.abs(Math.cos(r)),i=Math.abs(Math.sin(r)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*n>o*i?o/n:l/i:l*i<o*n?l/n:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,i=this.options,{grid:s,position:a,border:o}=i,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),A=np(s),f=[],p=o.setContext(this.getContext()),m=p.display?p.width:0,v=m/2,g=function(W){return rd(n,W,m)};let y,x,b,w,C,B,S,E,M,T,L,I;if(a==="top")y=g(this.bottom),B=this.bottom-A,E=y-v,T=g(e.top)+v,I=e.bottom;else if(a==="bottom")y=g(this.top),T=e.top,I=g(e.bottom)-v,B=y+v,E=this.top+A;else if(a==="left")y=g(this.right),C=this.right-A,S=y-v,M=g(e.left)+v,L=e.right;else if(a==="right")y=g(this.left),M=e.left,L=g(e.right)-v,C=y+v,S=this.left+A;else if(r==="x"){if(a==="center")y=g((e.top+e.bottom)/2+.5);else if(Ct(a)){const W=Object.keys(a)[0],K=a[W];y=g(this.chart.scales[W].getPixelForValue(K))}T=e.top,I=e.bottom,B=y+v,E=B+A}else if(r==="y"){if(a==="center")y=g((e.left+e.right)/2);else if(Ct(a)){const W=Object.keys(a)[0],K=a[W];y=g(this.chart.scales[W].getPixelForValue(K))}C=y-v,S=C-A,M=e.left,L=e.right}const R=dt(i.ticks.maxTicksLimit,d),z=Math.max(1,Math.ceil(d/R));for(x=0;x<d;x+=z){const W=this.getContext(x),K=s.setContext(W),U=o.setContext(W),q=K.lineWidth,N=K.color,ne=U.dash||[],re=U.dashOffset,O=K.tickWidth,me=K.tickColor,Ce=K.tickBorderDash||[],oe=K.tickBorderDashOffset;b=_Se(this,x,l),b!==void 0&&(w=rd(n,b,q),c?C=S=M=L=w:B=E=T=I=w,f.push({tx1:C,ty1:B,tx2:S,ty2:E,x1:M,y1:T,x2:L,y2:I,width:q,color:N,borderDash:ne,borderDashOffset:re,tickWidth:O,tickColor:me,tickBorderDash:Ce,tickBorderDashOffset:oe}))}return this._ticksLength=d,this._borderValue=y,f}_computeLabelItems(e){const r=this.axis,n=this.options,{position:i,ticks:s}=n,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,A=np(n.grid),f=A+u,p=d?-u:f,m=-_a(this.labelRotation),v=[];let g,y,x,b,w,C,B,S,E,M,T,L,I="middle";if(i==="top")C=this.bottom-p,B=this._getXAxisLabelAlignment();else if(i==="bottom")C=this.top+p,B=this._getXAxisLabelAlignment();else if(i==="left"){const z=this._getYAxisLabelAlignment(A);B=z.textAlign,w=z.x}else if(i==="right"){const z=this._getYAxisLabelAlignment(A);B=z.textAlign,w=z.x}else if(r==="x"){if(i==="center")C=(e.top+e.bottom)/2+f;else if(Ct(i)){const z=Object.keys(i)[0],W=i[z];C=this.chart.scales[z].getPixelForValue(W)+f}B=this._getXAxisLabelAlignment()}else if(r==="y"){if(i==="center")w=(e.left+e.right)/2-f;else if(Ct(i)){const z=Object.keys(i)[0],W=i[z];w=this.chart.scales[z].getPixelForValue(W)}B=this._getYAxisLabelAlignment(A).textAlign}r==="y"&&(l==="start"?I="top":l==="end"&&(I="bottom"));const R=this._getLabelSizes();for(g=0,y=o.length;g<y;++g){x=o[g],b=x.label;const z=s.setContext(this.getContext(g));S=this.getPixelForTick(g)+s.labelOffset,E=this._resolveTickFontOptions(g),M=E.lineHeight,T=gr(b)?b.length:1;const W=T/2,K=z.color,U=z.textStrokeColor,q=z.textStrokeWidth;let N=B;a?(w=S,B==="inner"&&(g===y-1?N=this.options.reverse?"left":"right":g===0?N=this.options.reverse?"right":"left":N="center"),i==="top"?c==="near"||m!==0?L=-T*M+M/2:c==="center"?L=-R.highest.height/2-W*M+M:L=-R.highest.height+M/2:c==="near"||m!==0?L=M/2:c==="center"?L=R.highest.height/2-W*M:L=R.highest.height-T*M,d&&(L*=-1),m!==0&&!z.showLabelBackdrop&&(w+=M/2*Math.sin(m))):(C=S,L=(1-T)*M/2);let ne;if(z.showLabelBackdrop){const re=ni(z.backdropPadding),O=R.heights[g],me=R.widths[g];let Ce=L-re.top,oe=0-re.left;switch(I){case"middle":Ce-=O/2;break;case"bottom":Ce-=O;break}switch(B){case"center":oe-=me/2;break;case"right":oe-=me;break;case"inner":g===y-1?oe-=me:g>0&&(oe-=me/2);break}ne={left:oe,top:Ce,width:me+re.width,height:O+re.height,color:z.backdropColor}}v.push({label:b,font:E,textOffset:L,options:{rotation:m,color:K,strokeColor:U,strokeWidth:q,textAlign:N,textBaseline:I,translation:[w,C],backdrop:ne}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-_a(this.labelRotation))return e==="top"?"left":"right";let i="center";return r.align==="start"?i="left":r.align==="end"?i="right":r.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let c,u;return r==="left"?i?(u=this.right+s,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-o,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):r==="right"?i?(u=this.left+s,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+o,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:i,width:s,height:a}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,i,s,a),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?r.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(r.display)for(s=0,a=i.length;s<a;++s){const l=i[s];r.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:i}}=this,s=n.setContext(this.getContext()),a=n.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,A;this.isHorizontal()?(c=rd(e,this.left,a)-a/2,u=rd(e,this.right,o)+o/2,d=A=l):(d=rd(e,this.top,a)-a/2,A=rd(e,this.bottom,o)+o/2,c=u=l),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(c,d),r.lineTo(u,A),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&l5(n,i);const s=this.getLabelItems(e);for(const a of s){const o=a.options,l=a.font,c=a.label,u=a.textOffset;C0(n,c,0,u,l,o)}i&&c5(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:i}}=this;if(!n.display)return;const s=dn(n.font),a=ni(n.padding),o=n.align;let l=s.lineHeight/2;r==="bottom"||r==="center"||Ct(r)?(l+=a.bottom,gr(n.text)&&(l+=s.lineHeight*(n.text.length-1))):l+=a.top;const{titleX:c,titleY:u,maxWidth:d,rotation:A}=TSe(this,l,r,o);C0(e,n.text,0,0,s,{color:n.color,maxWidth:d,rotation:A,textAlign:FSe(o,r,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=dt(e.grid&&e.grid.z,-1),i=dt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==O0.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let s,a;for(s=0,a=r.length;s<a;++s){const o=r[s];o[n]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return dn(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ry{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;NSe(r)&&(n=this.register(r));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,DSe(e,a,n),this.override&&yr.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,i=this.scope;n in r&&delete r[n],i&&n in yr[i]&&(delete yr[i][n],this.override&&delete w0[n])}}function DSe(t,e,r){const n=Hg(Object.create(null),[r?yr.get(r):{},yr.get(e),t.defaults]);yr.set(e,n),t.defaultRoutes&&LSe(e,t.defaultRoutes),t.descriptors&&yr.describe(e,t.descriptors)}function LSe(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),i=n.pop(),s=[t].concat(n).join("."),a=e[r].split("."),o=a.pop(),l=a.join(".");yr.route(s,i,l,o)})}function NSe(t){return"id"in t&&"defaults"in t}class jSe{constructor(){this.controllers=new ry(Da,"datasets",!0),this.elements=new ry(Yl,"elements"),this.plugins=new ry(Object,"plugins"),this.scales=new ry(O0,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(i=>{const s=n||this._getRegistryForType(i);n||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Gt(i,a=>{const o=n||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,r,n){const i=nF(e);nr(n["before"+i],[],n),r[e](n),nr(n["after"+i],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const i=r.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var no=new jSe;class ISe{constructor(){this._init=[]}notify(e,r,n,i){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,r,n);return r==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,r,n,i){i=i||{};for(const s of e){const a=s.plugin,o=a[n],l=[r,i,s.options];if(nr(o,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){vt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,i=dt(n.options&&n.options.plugins,{}),s=OSe(n);return i===!1&&!r?[]:USe(e,s,i,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,i=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(i(r,n),e,"stop"),this._notify(i(n,r),e,"start")}}function OSe(t){const e={},r=[],n=Object.keys(no.plugins.items);for(let s=0;s<n.length;s++)r.push(no.getPlugin(n[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];r.indexOf(a)===-1&&(r.push(a),e[a.id]=!0)}return{plugins:r,localIds:e}}function PSe(t,e){return!e&&t===!1?null:t===!0?{}:t}function USe(t,{plugins:e,localIds:r},n,i){const s=[],a=t.getContext();for(const o of e){const l=o.id,c=PSe(n[l],i);c!==null&&s.push({plugin:o,options:RSe(t.config,{plugin:o,local:r[l]},c,a)})}return s}function RSe(t,{plugin:e,local:r},n,i){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(n,s);return r&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function XB(t,e){const r=yr.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function QSe(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function zSe(t,e){return t===e?"_index_":"_value_"}function nP(t){if(t==="x"||t==="y"||t==="r")return t}function HSe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function YB(t,...e){if(nP(t))return t;for(const r of e){const n=r.axis||HSe(r.position)||t.length>1&&nP(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function iP(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function $Se(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return iP(t,"x",r[0])||iP(t,"y",r[0])}return{}}function VSe(t,e){const r=w0[t.type]||{scales:{}},n=e.scales||{},i=XB(t.type,e),s=Object.create(null);return Object.keys(n).forEach(a=>{const o=n[a];if(!Ct(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=YB(a,o,$Se(a,t),yr.scales[o.type]),c=zSe(l,i),u=r.scales||{};s[a]=Nm(Object.create(null),[{axis:l},o,u[l],u[c]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||XB(o,e),u=(w0[o]||{}).scales||{};Object.keys(u).forEach(d=>{const A=QSe(d,l),f=a[A+"AxisID"]||A;s[f]=s[f]||Object.create(null),Nm(s[f],[{axis:A},n[f],u[d]])})}),Object.keys(s).forEach(a=>{const o=s[a];Nm(o,[yr.scales[o.type],yr.scale])}),s}function PZ(t){const e=t.options||(t.options={});e.plugins=dt(e.plugins,{}),e.scales=VSe(t,e)}function UZ(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function KSe(t){return t=t||{},t.data=UZ(t.data),PZ(t),t}const sP=new Map,RZ=new Set;function ny(t,e){let r=sP.get(t);return r||(r=e(),sP.set(t,r),RZ.add(r)),r}const ip=(t,e,r)=>{const n=ku(e,r);n!==void 0&&t.add(n)};class qSe{constructor(e){this._config=KSe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=UZ(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),PZ(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ny(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return ny(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return ny(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return ny(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let i=n.get(e);return(!i||r)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,r,n){const{options:i,type:s}=this,a=this._cachedScopes(e,n),o=a.get(r);if(o)return o;const l=new Set;r.forEach(u=>{e&&(l.add(e),u.forEach(d=>ip(l,e,d))),u.forEach(d=>ip(l,i,d)),u.forEach(d=>ip(l,w0[s]||{},d)),u.forEach(d=>ip(l,yr,d)),u.forEach(d=>ip(l,qB,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),RZ.has(r)&&a.set(r,c),c}chartOptionScopes(){const{options:e,type:r}=this;return[e,w0[r]||{},yr.datasets[r]||{},{type:r},yr,qB]}resolveNamedOptions(e,r,n,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=aP(this._resolverCache,e,i);let l=a;if(GSe(a,r)){s.$shared=!1,n=Eu(n)?n():n;const c=this.createResolver(e,n,o);l=XA(a,n,c)}for(const c of r)s[c]=l[c];return s}createResolver(e,r,n=[""],i){const{resolver:s}=aP(this._resolverCache,e,n);return Ct(r)?XA(s,r,void 0,i):s}}function aP(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const i=r.join();let s=n.get(i);return s||(s={resolver:cF(e,r),subPrefixes:r.filter(o=>!o.toLowerCase().includes("hover"))},n.set(i,s)),s}const WSe=t=>Ct(t)&&Object.getOwnPropertyNames(t).some(e=>Eu(t[e]));function GSe(t,e){const{isScriptable:r,isIndexable:n}=vZ(t);for(const i of e){const s=r(i),a=n(i),o=(a||s)&&t[i];if(s&&(Eu(o)||WSe(o))||a&&gr(o))return!0}return!1}var XSe="4.4.8";const YSe=["top","bottom","left","right","chartArea"];function oP(t,e){return t==="top"||t==="bottom"||YSe.indexOf(t)===-1&&e==="x"}function lP(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function cP(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),nr(r&&r.onComplete,[t],e)}function JSe(t){const e=t.chart,r=e.options.animation;nr(r&&r.onProgress,[t],e)}function QZ(t){return hF()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ux={},uP=t=>{const e=QZ(t);return Object.values(ux).filter(r=>r.canvas===e).pop()};function ZSe(t,e,r){const n=Object.keys(t);for(const i of n){const s=+i;if(s>=e){const a=t[i];delete t[i],(r>0||s>e)&&(t[s+r]=a)}}}function e_e(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}function iy(t,e,r){return t.options.clip?t[r]:e[r]}function t_e(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:iy(r,e,"left"),right:iy(r,e,"right"),top:iy(n,e,"top"),bottom:iy(n,e,"bottom")}:e}var Bc;let wf=(Bc=class{static register(...e){no.add(...e),dP()}static unregister(...e){no.remove(...e),dP()}constructor(e,r){const n=this.config=new qSe(r),i=QZ(e),s=uP(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||ySe(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,u=l&&l.width;if(this.id=r9e(),this.ctx=o,this.canvas=l,this.width=u,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ISe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=v9e(d=>this.update(d),a.resizeDelay||0),this._dataChanges=[],ux[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Zo.listen(this,"complete",cP),Zo.listen(this,"progress",JSe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:i,_aspectRatio:s}=this;return vt(e)?r&&s?s:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return no}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():LO(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return FO(this.canvas,this.ctx),this}stop(){return Zo.stop(this),this}resize(e,r){Zo.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,i=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,r,s),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,LO(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),nr(n.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Gt(r,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,i=Object.keys(n).reduce((a,o)=>(a[o]=!1,a),{});let s=[];r&&(s=s.concat(Object.keys(r).map(a=>{const o=r[a],l=YB(a,o),c=l==="r",u=l==="x";return{options:o,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Gt(s,a=>{const o=a.options,l=o.id,c=YB(l,o),u=dt(o.type,a.dtype);(o.position===void 0||oP(o.position,c)!==oP(a.dposition))&&(o.position=a.dposition),i[l]=!0;let d=null;if(l in n&&n[l].type===u)d=n[l];else{const A=no.getScale(u);d=new A({id:l,type:u,ctx:this.ctx,chart:this}),n[d.id]=d}d.init(o,e)}),Gt(i,(a,o)=>{a||delete n[o]}),Gt(n,a=>{ei.configure(this,a,a.options),ei.addBox(this,a)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((i,s)=>i.index-s.index),n>r){for(let i=r;i<n;++i)this._destroyDatasetMeta(i);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(lP("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,i)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=r.length;n<i;n++){const s=r[n];let a=this.getDatasetMeta(n);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=o,a.indexAxis=s.indexAxis||XB(o,this.options),a.order=s.order||0,a.index=n,a.label=""+s.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const l=no.getController(o),{datasetElementType:c,dataElementType:u}=yr.datasets[o];Object.assign(l,{dataElementType:no.getElement(u),datasetElementType:c&&no.getElement(c)}),a.controller=new l(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Gt(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),A=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(A),a=Math.max(+d.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),i||Gt(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(lP("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Gt(this.scales,e=>{ei.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!bO(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:s}of r){const a=n==="_removeElements"?-s:s;ZSe(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=n(0);for(let s=1;s<r;s++)if(!bO(i,n(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ei.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],Gt(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Eu(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(r),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Zo.has(this)?this.attached&&!Zo.running(this)&&Zo.start(this):(this.draw(),cP({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let i,s;for(i=0,s=r.length;i<s;++i){const a=r[i];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n=e._clip,i=!n.disabled,s=t_e(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(i&&l5(r,{left:n.left===!1?0:s.left-n.left,right:n.right===!1?this.width:s.right+n.right,top:n.top===!1?0:s.top-n.top,bottom:n.bottom===!1?this.height:s.bottom+n.bottom}),e.controller.draw(),i&&c5(r),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return yl(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,i){const s=YBe.modes[r];return typeof s=="function"?s(this,e,n,i):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let i=n.filter(s=>s&&s._dataset===r).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=qu(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const i=n?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);$g(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(s,{visible:n}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Zo.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),FO(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete ux[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(s,a)=>{r.addEventListener(this,s,a),e[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};Gt(this.options.events,s=>n(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(l,c)=>{r.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(r.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",s),n("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),n("attach",o)},r.isAttached(this.canvas)?o():a()}unbindEvents(){Gt(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Gt(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const i=n?"set":"remove";let s,a,o,l;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!Xb(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),a=s(r,e),o=n?e:s(e,r);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const s=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(s||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:i=[],options:s}=this,a=r,o=this._getActiveElements(e,i,n,a),l=l9e(e),c=e_e(e,this._lastEvent,n,l);n&&(this._lastEvent=null,nr(s.onHover,[e,o,this],this),l&&nr(s.onClick,[e,o,this],this));const u=!Xb(o,i);return(u||r)&&(this._active=o,this._updateHoverStyles(o,i,r)),this._lastEvent=c,u}_getActiveElements(e,r,n,i){if(e.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},_e(Bc,"defaults",yr),_e(Bc,"instances",ux),_e(Bc,"overrides",w0),_e(Bc,"registry",no),_e(Bc,"version",XSe),_e(Bc,"getChart",uP),Bc);function dP(){return Gt(wf.instances,t=>t._plugins.invalidate())}function r_e(t,e,r){const{startAngle:n,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:l}=e;let c=i/o;t.beginPath(),t.arc(s,a,o,n-c,r+c),l>i?(c=i/l,t.arc(s,a,l,r+c,n-c,!0)):t.arc(s,a,i,r+Vr,n-Vr),t.closePath(),t.clip()}function n_e(t){return lF(t,["outerStart","outerEnd","innerStart","innerEnd"])}function i_e(t,e,r,n){const i=n_e(t.options.borderRadius),s=(r-e)/2,a=Math.min(s,n*e/2),o=l=>{const c=(r-Math.min(s,l))*n/2;return bn(l,0,Math.min(s,c))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:bn(i.innerStart,0,a),innerEnd:bn(i.innerEnd,0,a)}}function J0(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function r3(t,e,r,n,i,s){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+n+r-c,0),A=u>0?u+n+r+c:0;let f=0;const p=i-l;if(n){const z=u>0?u-n:0,W=d>0?d-n:0,K=(z+W)/2,U=K!==0?p*K/(K+n):p;f=(p-U)/2}const m=Math.max(.001,p*d-r/hr)/d,v=(p-m)/2,g=l+v+f,y=i-v-f,{outerStart:x,outerEnd:b,innerStart:w,innerEnd:C}=i_e(e,A,d,y-g),B=d-x,S=d-b,E=g+x/B,M=y-b/S,T=A+w,L=A+C,I=g+w/T,R=y-C/L;if(t.beginPath(),s){const z=(E+M)/2;if(t.arc(a,o,d,E,z),t.arc(a,o,d,z,M),b>0){const q=J0(S,M,a,o);t.arc(q.x,q.y,b,M,y+Vr)}const W=J0(L,y,a,o);if(t.lineTo(W.x,W.y),C>0){const q=J0(L,R,a,o);t.arc(q.x,q.y,C,y+Vr,R+Math.PI)}const K=(y-C/A+(g+w/A))/2;if(t.arc(a,o,A,y-C/A,K,!0),t.arc(a,o,A,K,g+w/A,!0),w>0){const q=J0(T,I,a,o);t.arc(q.x,q.y,w,I+Math.PI,g-Vr)}const U=J0(B,g,a,o);if(t.lineTo(U.x,U.y),x>0){const q=J0(B,E,a,o);t.arc(q.x,q.y,x,g-Vr,E)}}else{t.moveTo(a,o);const z=Math.cos(E)*d+a,W=Math.sin(E)*d+o;t.lineTo(z,W);const K=Math.cos(M)*d+a,U=Math.sin(M)*d+o;t.lineTo(K,U)}t.closePath()}function s_e(t,e,r,n,i){const{fullCircles:s,startAngle:a,circumference:o}=e;let l=e.endAngle;if(s){r3(t,e,r,n,l,i);for(let c=0;c<s;++c)t.fill();isNaN(o)||(l=a+(o%ur||ur))}return r3(t,e,r,n,l,i),t.fill(),l}function a_e(t,e,r,n,i){const{fullCircles:s,startAngle:a,circumference:o,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:A}=l,f=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=A,f?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(s){r3(t,e,r,n,p,i);for(let m=0;m<s;++m)t.stroke();isNaN(o)||(p=a+(o%ur||ur))}f&&r_e(t,e,p),s||(r3(t,e,r,n,p,i),t.stroke())}class Gp extends Yl{constructor(r){super();_e(this,"circumference");_e(this,"endAngle");_e(this,"fullCircles");_e(this,"innerRadius");_e(this,"outerRadius");_e(this,"pixelMargin");_e(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,i){const s=this.getProps(["x","y"],i),{angle:a,distance:o}=cZ(s,{x:r,y:n}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:A}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,p=dt(A,c-l),m=Vg(a,l,c)&&l!==c,v=p>=ur||m,g=ml(o,u+f,d+f);return v&&g}getCenterPoint(r){const{x:n,y:i,startAngle:s,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:c,spacing:u}=this.options,d=(s+a)/2,A=(o+l+u+c)/2;return{x:n+Math.cos(d)*A,y:i+Math.sin(d)*A}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:i}=this,s=(n.offset||0)/4,a=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>ur?Math.floor(i/ur):0,i===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const l=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(hr,i||0)),u=s*c;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,s_e(r,this,u,a,o),a_e(r,this,u,a,o),r.restore()}}_e(Gp,"id","arc"),_e(Gp,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),_e(Gp,"defaultRoutes",{backgroundColor:"backgroundColor"}),_e(Gp,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function zZ(t,e,r=e){t.lineCap=dt(r.borderCapStyle,e.borderCapStyle),t.setLineDash(dt(r.borderDash,e.borderDash)),t.lineDashOffset=dt(r.borderDashOffset,e.borderDashOffset),t.lineJoin=dt(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=dt(r.borderWidth,e.borderWidth),t.strokeStyle=dt(r.borderColor,e.borderColor)}function o_e(t,e,r){t.lineTo(r.x,r.y)}function l_e(t){return t.stepped?T9e:t.tension||t.cubicInterpolationMode==="monotone"?D9e:o_e}function HZ(t,e,r={}){const n=t.length,{start:i=0,end:s=n-1}=r,{start:a,end:o}=e,l=Math.max(i,a),c=Math.min(s,o),u=i<a&&s<a||i>o&&s>o;return{count:n,start:l,loop:e.loop,ilen:c<l&&!u?n+c-l:c-l}}function c_e(t,e,r,n){const{points:i,options:s}=e,{count:a,start:o,loop:l,ilen:c}=HZ(i,r,n),u=l_e(s);let{move:d=!0,reverse:A}=n||{},f,p,m;for(f=0;f<=c;++f)p=i[(o+(A?c-f:f))%a],!p.skip&&(d?(t.moveTo(p.x,p.y),d=!1):u(t,m,p,A,s.stepped),m=p);return l&&(p=i[(o+(A?c:0))%a],u(t,m,p,A,s.stepped)),!!l}function u_e(t,e,r,n){const i=e.points,{count:s,start:a,ilen:o}=HZ(i,r,n),{move:l=!0,reverse:c}=n||{};let u=0,d=0,A,f,p,m,v,g;const y=b=>(a+(c?o-b:b))%s,x=()=>{m!==v&&(t.lineTo(u,v),t.lineTo(u,m),t.lineTo(u,g))};for(l&&(f=i[y(0)],t.moveTo(f.x,f.y)),A=0;A<=o;++A){if(f=i[y(A)],f.skip)continue;const b=f.x,w=f.y,C=b|0;C===p?(w<m?m=w:w>v&&(v=w),u=(d*u+b)/++d):(x(),t.lineTo(b,w),p=C,d=0,m=v=w),g=w}x()}function JB(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?u_e:c_e}function d_e(t){return t.stepped?uBe:t.tension||t.cubicInterpolationMode==="monotone"?dBe:_d}function h_e(t,e,r,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,r,n)&&i.closePath()),zZ(t,e.options),t.stroke(i)}function A_e(t,e,r,n){const{segments:i,options:s}=e,a=JB(e);for(const o of i)zZ(t,s,o.style),t.beginPath(),a(t,e,o,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const f_e=typeof Path2D=="function";function p_e(t,e,r,n){f_e&&!e.options.segment?h_e(t,e,r,n):A_e(t,e,r,n)}class Wc extends Yl{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;rBe(this._points,n,e,i,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=gBe(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,i=e[r],s=this.points,a=MZ(this,{property:r,start:i,end:i});if(!a.length)return;const o=[],l=d_e(n);let c,u;for(c=0,u=a.length;c<u;++c){const{start:d,end:A}=a[c],f=s[d],p=s[A];if(f===p){o.push(f);continue}const m=Math.abs((i-f[r])/(p[r]-f[r])),v=l(f,p,m,n.stepped);v[r]=e[r],o.push(v)}return o.length===1?o[0]:o}pathSegment(e,r,n){return JB(this)(e,this,r,n)}path(e,r,n){const i=this.segments,s=JB(this);let a=this._loop;r=r||0,n=n||this.points.length-r;for(const o of i)a&=s(e,this,o,{start:r,end:r+n-1});return!!a}draw(e,r,n,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),p_e(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}_e(Wc,"id","line"),_e(Wc,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),_e(Wc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),_e(Wc,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function hP(t,e,r,n){const i=t.options,{[r]:s}=t.getProps([r],n);return Math.abs(e-s)<i.radius+i.hitRadius}class dx extends Yl{constructor(r){super();_e(this,"parsed");_e(this,"skip");_e(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(r-a,2)+Math.pow(n-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,n){return hP(this,r,"x",n)}inYRange(r,n){return hP(this,r,"y",n)}getCenterPoint(r){const{x:n,y:i}=this.getProps(["x","y"],r);return{x:n,y:i}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const i=n&&r.borderWidth||0;return(n+i)*2}draw(r,n){const i=this.options;this.skip||i.radius<.1||!yl(this,n,this.size(i)/2)||(r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.fillStyle=i.backgroundColor,WB(r,i,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}_e(dx,"id","point"),_e(dx,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),_e(dx,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function $Z(t,e){const{x:r,y:n,base:i,width:s,height:a}=t.getProps(["x","y","base","width","height"],e);let o,l,c,u,d;return t.horizontal?(d=a/2,o=Math.min(r,i),l=Math.max(r,i),c=n-d,u=n+d):(d=s/2,o=r-d,l=r+d,c=Math.min(n,i),u=Math.max(n,i)),{left:o,top:c,right:l,bottom:u}}function Gc(t,e,r,n){return t?0:bn(e,r,n)}function m_e(t,e,r){const n=t.options.borderWidth,i=t.borderSkipped,s=yZ(n);return{t:Gc(i.top,s.top,0,r),r:Gc(i.right,s.right,0,e),b:Gc(i.bottom,s.bottom,0,r),l:Gc(i.left,s.left,0,e)}}function g_e(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=r0(i),a=Math.min(e,r),o=t.borderSkipped,l=n||Ct(i);return{topLeft:Gc(!l||o.top||o.left,s.topLeft,0,a),topRight:Gc(!l||o.top||o.right,s.topRight,0,a),bottomLeft:Gc(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:Gc(!l||o.bottom||o.right,s.bottomRight,0,a)}}function y_e(t){const e=$Z(t),r=e.right-e.left,n=e.bottom-e.top,i=m_e(t,r/2,n/2),s=g_e(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:r-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function W8(t,e,r,n){const i=e===null,s=r===null,o=t&&!(i&&s)&&$Z(t,n);return o&&(i||ml(e,o.left,o.right))&&(s||ml(r,o.top,o.bottom))}function v_e(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function x_e(t,e){t.rect(e.x,e.y,e.w,e.h)}function G8(t,e,r={}){const n=t.x!==r.x?-e:0,i=t.y!==r.y?-e:0,s=(t.x+t.w!==r.x+r.w?e:0)-n,a=(t.y+t.h!==r.y+r.h?e:0)-i;return{x:t.x+n,y:t.y+i,w:t.w+s,h:t.h+a,radius:t.radius}}class hx extends Yl{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:i}}=this,{inner:s,outer:a}=y_e(this),o=v_e(a.radius)?Kg:x_e;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),o(e,G8(a,r,s)),e.clip(),o(e,G8(s,-r,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,G8(s,r)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,r,n){return W8(this,e,r,n)}inXRange(e,r){return W8(this,e,null,r)}inYRange(e,r){return W8(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(r+i)/2:r,y:s?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}_e(hx,"id","bar"),_e(hx,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),_e(hx,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var b_e=Object.freeze({__proto__:null,ArcElement:Gp,BarElement:hx,LineElement:Wc,PointElement:dx});const ZB=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],AP=ZB.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function VZ(t){return ZB[t%ZB.length]}function KZ(t){return AP[t%AP.length]}function w_e(t,e){return t.borderColor=VZ(e),t.backgroundColor=KZ(e),++e}function C_e(t,e){return t.backgroundColor=t.data.map(()=>VZ(e++)),e}function B_e(t,e){return t.backgroundColor=t.data.map(()=>KZ(e++)),e}function S_e(t){let e=0;return(r,n)=>{const i=t.getDatasetMeta(n).controller;i instanceof Vd?e=C_e(r,e):i instanceof Um?e=B_e(r,e):i&&(e=w_e(r,e))}}function fP(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function __e(t){return t&&(t.borderColor||t.backgroundColor)}function k_e(){return yr.borderColor!=="rgba(0,0,0,0.1)"||yr.backgroundColor!=="rgba(0,0,0,0.1)"}var E_e={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,r){if(!r.enabled)return;const{data:{datasets:n},options:i}=t.config,{elements:s}=i,a=fP(n)||__e(i)||s&&fP(s)||k_e();if(!r.forceOverride&&a)return;const o=S_e(t);n.forEach(o)}};function M_e(t,e,r,n,i){const s=i.samples||n;if(s>=r)return t.slice(e,e+r);const a=[],o=(r-2)/(s-2);let l=0;const c=e+r-1;let u=e,d,A,f,p,m;for(a[l++]=t[u],d=0;d<s-2;d++){let v=0,g=0,y;const x=Math.floor((d+1)*o)+1+e,b=Math.min(Math.floor((d+2)*o)+1,r)+e,w=b-x;for(y=x;y<b;y++)v+=t[y].x,g+=t[y].y;v/=w,g/=w;const C=Math.floor(d*o)+1+e,B=Math.min(Math.floor((d+1)*o)+1,r)+e,{x:S,y:E}=t[u];for(f=p=-1,y=C;y<B;y++)p=.5*Math.abs((S-v)*(t[y].y-E)-(S-t[y].x)*(g-E)),p>f&&(f=p,A=t[y],m=y);a[l++]=A,u=m}return a[l++]=t[c],a}function F_e(t,e,r,n){let i=0,s=0,a,o,l,c,u,d,A,f,p,m;const v=[],g=e+r-1,y=t[e].x,b=t[g].x-y;for(a=e;a<e+r;++a){o=t[a],l=(o.x-y)/b*n,c=o.y;const w=l|0;if(w===u)c<p?(p=c,d=a):c>m&&(m=c,A=a),i=(s*i+o.x)/++s;else{const C=a-1;if(!vt(d)&&!vt(A)){const B=Math.min(d,A),S=Math.max(d,A);B!==f&&B!==C&&v.push({...t[B],x:i}),S!==f&&S!==C&&v.push({...t[S],x:i})}a>0&&C!==f&&v.push(t[C]),v.push(o),u=w,s=0,p=m=c,d=A=f=a}}return v}function qZ(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function pP(t){t.data.datasets.forEach(e=>{qZ(e)})}function T_e(t,e){const r=e.length;let n=0,i;const{iScale:s}=t,{min:a,max:o,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(n=bn(gl(e,s.axis,a).lo,0,r-1)),c?i=bn(gl(e,s.axis,o).hi+1,n,r)-n:i=r-n,{start:n,count:i}}var D_e={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,r)=>{if(!r.enabled){pP(t);return}const n=t.width;t.data.datasets.forEach((i,s)=>{const{_data:a,indexAxis:o}=i,l=t.getDatasetMeta(s),c=a||i.data;if(qp([o,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:d,count:A}=T_e(l,c);const f=r.threshold||4*n;if(A<=f){qZ(i);return}vt(a)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}}));let p;switch(r.algorithm){case"lttb":p=M_e(c,d,A,n,r);break;case"min-max":p=F_e(c,d,A,n);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}i._decimated=p})},destroy(t){pP(t)}};function L_e(t,e,r){const n=t.segments,i=t.points,s=e.points,a=[];for(const o of n){let{start:l,end:c}=o;c=pF(l,c,i);const u=eS(r,i[l],i[c],o.loop);if(!e.segments){a.push({source:o,target:u,start:i[l],end:i[c]});continue}const d=MZ(e,u);for(const A of d){const f=eS(r,s[A.start],s[A.end],A.loop),p=EZ(o,i,f);for(const m of p)a.push({source:m,target:A,start:{[r]:mP(u,f,"start",Math.max)},end:{[r]:mP(u,f,"end",Math.min)}})}}return a}function eS(t,e,r,n){if(n)return;let i=e[t],s=r[t];return t==="angle"&&(i=ds(i),s=ds(s)),{property:t,start:i,end:s}}function N_e(t,e){const{x:r=null,y:n=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:a,end:o})=>{o=pF(a,o,i);const l=i[a],c=i[o];n!==null?(s.push({x:l.x,y:n}),s.push({x:c.x,y:n})):r!==null&&(s.push({x:r,y:l.y}),s.push({x:r,y:c.y}))}),s}function pF(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function mP(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function WZ(t,e){let r=[],n=!1;return gr(t)?(n=!0,r=t):r=N_e(t,e),r.length?new Wc({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function gP(t){return t&&t.fill!==!1}function j_e(t,e,r){let i=t[e].fill;const s=[e];let a;if(!r)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!Lr(i))return i;if(a=t[i],!a)return!1;if(a.visible)return i;s.push(i),i=a.fill}return!1}function I_e(t,e,r){const n=R_e(t);if(Ct(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return Lr(i)&&Math.floor(i)===i?O_e(n[0],e,i,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function O_e(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function P_e(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:Ct(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function U_e(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:Ct(t)?n=t.value:n=e.getBaseValue(),n}function R_e(t){const e=t.options,r=e.fill;let n=dt(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Q_e(t){const{scale:e,index:r,line:n}=t,i=[],s=n.segments,a=n.points,o=z_e(e,r);o.push(WZ({x:null,y:e.bottom},n));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)H_e(i,a[u],o)}return new Wc({points:i,options:{}})}function z_e(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const s=n[i];if(s.index===e)break;s.hidden||r.unshift(s.dataset)}return r}function H_e(t,e,r){const n=[];for(let i=0;i<r.length;i++){const s=r[i],{first:a,last:o,point:l}=$_e(s,e,"x");if(!(!l||a&&o)){if(a)n.unshift(l);else if(t.push(l),!o)break}}t.push(...n)}function $_e(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const i=n[r],s=t.segments,a=t.points;let o=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],d=a[u.start][r],A=a[u.end][r];if(ml(i,d,A)){o=i===d,l=i===A;break}}return{first:o,last:l,point:n}}class GZ{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:i,y:s,radius:a}=this;return r=r||{start:0,end:ur},e.arc(i,s,a,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:i}=this,s=e.angle;return{x:r+Math.cos(s)*i,y:n+Math.sin(s)*i,angle:s}}}function V_e(t){const{chart:e,fill:r,line:n}=t;if(Lr(r))return K_e(e,r);if(r==="stack")return Q_e(t);if(r==="shape")return!0;const i=q_e(t);return i instanceof GZ?i:WZ(i,n)}function K_e(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function q_e(t){return(t.scale||{}).getPointPositionForValue?G_e(t):W_e(t)}function W_e(t){const{scale:e={},fill:r}=t,n=P_e(r,e);if(Lr(n)){const i=e.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function G_e(t){const{scale:e,fill:r}=t,n=e.options,i=e.getLabels().length,s=n.reverse?e.max:e.min,a=U_e(r,e,s),o=[];if(n.grid.circular){const l=e.getPointPositionForValue(0,s);return new GZ({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<i;++l)o.push(e.getPointPositionForValue(l,a));return o}function X8(t,e,r){const n=V_e(e),{line:i,scale:s,axis:a}=e,o=i.options,l=o.fill,c=o.backgroundColor,{above:u=c,below:d=c}=l||{};n&&i.points.length&&(l5(t,r),X_e(t,{line:i,target:n,above:u,below:d,area:r,scale:s,axis:a}),c5(t))}function X_e(t,e){const{line:r,target:n,above:i,below:s,area:a,scale:o}=e,l=r._loop?"angle":e.axis;t.save(),l==="x"&&s!==i&&(yP(t,n,a.top),vP(t,{line:r,target:n,color:i,scale:o,property:l}),t.restore(),t.save(),yP(t,n,a.bottom)),vP(t,{line:r,target:n,color:s,scale:o,property:l}),t.restore()}function yP(t,e,r){const{segments:n,points:i}=e;let s=!0,a=!1;t.beginPath();for(const o of n){const{start:l,end:c}=o,u=i[l],d=i[pF(l,c,i)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,r),t.lineTo(u.x,u.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(d.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function vP(t,e){const{line:r,target:n,property:i,color:s,scale:a}=e,o=L_e(r,n,i);for(const{source:l,target:c,start:u,end:d}of o){const{style:{backgroundColor:A=s}={}}=l,f=n!==!0;t.save(),t.fillStyle=A,Y_e(t,a,f&&eS(i,u,d)),t.beginPath();const p=!!r.pathSegment(t,l);let m;if(f){p?t.closePath():xP(t,n,d,i);const v=!!n.pathSegment(t,c,{move:p,reverse:!0});m=p&&v,m||xP(t,n,u,i)}t.closePath(),t.fill(m?"evenodd":"nonzero"),t.restore()}}function Y_e(t,e,r){const{top:n,bottom:i}=e.chart.chartArea,{property:s,start:a,end:o}=r||{};s==="x"&&(t.beginPath(),t.rect(a,n,o-a,i-n),t.clip())}function xP(t,e,r,n){const i=e.interpolate(r,n);i&&t.lineTo(i.x,i.y)}var J_e={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,i=[];let s,a,o,l;for(a=0;a<n;++a)s=t.getDatasetMeta(a),o=s.dataset,l=null,o&&o.options&&o instanceof Wc&&(l={visible:t.isDatasetVisible(a),index:a,fill:I_e(o,a,n),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,i.push(l);for(a=0;a<n;++a)l=i[a],!(!l||l.fill===!1)&&(l.fill=j_e(i,a,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;o&&(o.line.updateControlPoints(s,o.axis),n&&o.fill&&X8(t.ctx,o,s))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const s=n[i].$filler;gP(s)&&X8(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!gP(n)||r.drawTime!=="beforeDatasetDraw"||X8(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const bP=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},Z_e=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class wP extends Yl{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=nr(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=dn(n.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=bP(n,s);let c,u;r.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,s,o,l)+10):(u=this.maxHeight,c=this._fitCols(a,i,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+o;let d=e;s.textAlign="left",s.textBaseline="middle";let A=-1,f=-u;return this.legendItems.forEach((p,m)=>{const v=n+r/2+s.measureText(p.text).width;(m===0||c[c.length-1]+v+2*o>a)&&(d+=u,c[c.length-(m>0?0:1)]=0,f+=u,A++),l[m]={left:0,top:f,row:A,width:v,height:i},c[c.length-1]+=v+o}),d}_fitCols(e,r,n,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-e;let d=o,A=0,f=0,p=0,m=0;return this.legendItems.forEach((v,g)=>{const{itemWidth:y,itemHeight:x}=eke(n,r,s,v,i);g>0&&f+x+2*o>u&&(d+=A+o,c.push({width:A,height:f}),p+=A+o,m++,A=f=0),l[g]={left:p,top:f,col:m,width:y,height:x},A=Math.max(A,y),f+=x+o}),d+=A,c.push({width:A,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:i},rtl:s}}=this,a=wA(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=qn(n,this.left+i,this.right-this.lineWidths[o]);for(const c of r)o!==c.row&&(o=c.row,l=qn(n,this.left+i,this.right-this.lineWidths[o])),c.top+=this.top+e+i,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+i}else{let o=0,l=qn(n,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const c of r)c.col!==o&&(o=c.col,l=qn(n,this.top+e+i,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+i,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;l5(e,this),this._draw(),c5(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:i}=this,{align:s,labels:a}=e,o=yr.color,l=wA(e.rtl,this.left,this.width),c=dn(a.font),{padding:u}=a,d=c.size,A=d/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:p,boxHeight:m,itemHeight:v}=bP(a,d),g=function(C,B,S){if(isNaN(p)||p<=0||isNaN(m)||m<0)return;i.save();const E=dt(S.lineWidth,1);if(i.fillStyle=dt(S.fillStyle,o),i.lineCap=dt(S.lineCap,"butt"),i.lineDashOffset=dt(S.lineDashOffset,0),i.lineJoin=dt(S.lineJoin,"miter"),i.lineWidth=E,i.strokeStyle=dt(S.strokeStyle,o),i.setLineDash(dt(S.lineDash,[])),a.usePointStyle){const M={radius:m*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:E},T=l.xPlus(C,p/2),L=B+A;gZ(i,M,T,L,a.pointStyleWidth&&p)}else{const M=B+Math.max((d-m)/2,0),T=l.leftForLtr(C,p),L=r0(S.borderRadius);i.beginPath(),Object.values(L).some(I=>I!==0)?Kg(i,{x:T,y:M,w:p,h:m,radius:L}):i.rect(T,M,p,m),i.fill(),E!==0&&i.stroke()}i.restore()},y=function(C,B,S){C0(i,S.text,C,B+v/2,c,{strikethrough:S.hidden,textAlign:l.textAlign(S.textAlign)})},x=this.isHorizontal(),b=this._computeTitleHeight();x?f={x:qn(s,this.left+u,this.right-n[0]),y:this.top+u+b,line:0}:f={x:this.left+u,y:qn(s,this.top+b+u,this.bottom-r[0].height),line:0},SZ(this.ctx,e.textDirection);const w=v+u;this.legendItems.forEach((C,B)=>{i.strokeStyle=C.fontColor,i.fillStyle=C.fontColor;const S=i.measureText(C.text).width,E=l.textAlign(C.textAlign||(C.textAlign=a.textAlign)),M=p+A+S;let T=f.x,L=f.y;l.setWidth(this.width),x?B>0&&T+M+u>this.right&&(L=f.y+=w,f.line++,T=f.x=qn(s,this.left+u,this.right-n[f.line])):B>0&&L+w>this.bottom&&(T=f.x=T+r[f.line].width+u,f.line++,L=f.y=qn(s,this.top+b+u,this.bottom-r[f.line].height));const I=l.x(T);if(g(I,L,C),T=x9e(E,T+p+A,x?T+M:this.right,e.rtl),y(l.x(T),L,C),x)f.x+=M+u;else if(typeof C.text!="string"){const R=c.lineHeight;f.y+=XZ(C,R)+u}else f.y+=w}),_Z(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=dn(r.font),i=ni(r.padding);if(!r.display)return;const s=wA(e.rtl,this.left,this.width),a=this.ctx,o=r.position,l=n.size/2,c=i.top+l;let u,d=this.left,A=this.width;if(this.isHorizontal())A=Math.max(...this.lineWidths),u=this.top+c,d=qn(e.align,d,this.right-A);else{const p=this.columnSizes.reduce((m,v)=>Math.max(m,v.height),0);u=c+qn(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=qn(o,d,d+A);a.textAlign=s.textAlign(aF(o)),a.textBaseline="middle",a.strokeStyle=r.color,a.fillStyle=r.color,a.font=n.string,C0(a,r.text,f,u,n)}_computeTitleHeight(){const e=this.options.title,r=dn(e.font),n=ni(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,i,s;if(ml(e,this.left,this.right)&&ml(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(i=s[n],ml(e,i.left,i.left+i.width)&&ml(r,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!nke(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=Z_e(i,n);i&&!s&&nr(r.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!s&&nr(r.onHover,[e,n,this],this)}else n&&nr(r.onClick,[e,n,this],this)}}function eke(t,e,r,n,i){const s=tke(n,t,e,r),a=rke(i,n,e.lineHeight);return{itemWidth:s,itemHeight:a}}function tke(t,e,r,n){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+r.size/2+n.measureText(i).width}function rke(t,e,r){let n=t;return typeof e.text!="string"&&(n=XZ(e,r)),n}function XZ(t,e){const r=t.text?t.text.length:0;return e*r}function nke(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var ike={id:"legend",_element:wP,start(t,e,r){const n=t.legend=new wP({ctx:t.ctx,options:r,chart:t});ei.configure(t,n,r),ei.addBox(t,n)},stop(t){ei.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;ei.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,i=r.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(r?0:void 0),u=ni(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class mF extends Yl{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const i=gr(n.text)?n.text.length:1;this._padding=ni(n.padding);const s=i*dn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:i,right:s,options:a}=this,o=a.align;let l=0,c,u,d;return this.isHorizontal()?(u=qn(o,n,s),d=r+e,c=s-n):(a.position==="left"?(u=n+e,d=qn(o,i,r),l=hr*-.5):(u=s-e,d=qn(o,r,i),l=hr*.5),c=i-r),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=dn(r.font),s=n.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(s);C0(e,r.text,0,0,n,{color:r.color,maxWidth:l,rotation:c,textAlign:aF(r.align),textBaseline:"middle",translation:[a,o]})}}function ske(t,e){const r=new mF({ctx:t.ctx,options:e,chart:t});ei.configure(t,r,e),ei.addBox(t,r),t.titleBlock=r}var ake={id:"title",_element:mF,start(t,e,r){ske(t,r)},stop(t){const e=t.titleBlock;ei.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;ei.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const sy=new WeakMap;var oke={id:"subtitle",start(t,e,r){const n=new mF({ctx:t.ctx,options:r,chart:t});ei.configure(t,n,r),ei.addBox(t,n),sy.set(t,n)},stop(t){ei.removeBox(t,sy.get(t)),sy.delete(t)},beforeUpdate(t,e,r){const n=sy.get(t);ei.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xp={average(t){if(!t.length)return!1;let e,r,n=new Set,i=0,s=0;for(e=0,r=t.length;e<r;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();n.add(l.x),i+=l.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((o,l)=>o+l)/n.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=t.length;s<a;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=KB(e,c);u<i&&(i=u,o=l)}}if(o){const l=o.tooltipPosition();r=l.x,n=l.y}return{x:r,y:n}}};function Ja(t,e){return e&&(gr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function el(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function lke(t,e){const{element:r,datasetIndex:n,index:i}=e,s=t.getDatasetMeta(n).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:t,label:a,parsed:s.getParsed(i),raw:t.data.datasets[n].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:n,element:r}}function CP(t,e){const r=t.chart.ctx,{body:n,footer:i,title:s}=t,{boxWidth:a,boxHeight:o}=e,l=dn(e.bodyFont),c=dn(e.titleFont),u=dn(e.footerFont),d=s.length,A=i.length,f=n.length,p=ni(e.padding);let m=p.height,v=0,g=n.reduce((b,w)=>b+w.before.length+w.lines.length+w.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),g){const b=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;m+=f*b+(g-f)*l.lineHeight+(g-1)*e.bodySpacing}A&&(m+=e.footerMarginTop+A*u.lineHeight+(A-1)*e.footerSpacing);let y=0;const x=function(b){v=Math.max(v,r.measureText(b).width+y)};return r.save(),r.font=c.string,Gt(t.title,x),r.font=l.string,Gt(t.beforeBody.concat(t.afterBody),x),y=e.displayColors?a+2+e.boxPadding:0,Gt(n,b=>{Gt(b.before,x),Gt(b.lines,x),Gt(b.after,x)}),y=0,r.font=u.string,Gt(t.footer,x),r.restore(),v+=p.width,{width:v,height:m}}function cke(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function uke(t,e,r,n){const{x:i,width:s}=n,a=r.caretSize+r.caretPadding;if(t==="left"&&i+s+a>e.width||t==="right"&&i-s-a<0)return!0}function dke(t,e,r,n){const{x:i,width:s}=r,{width:a,chartArea:{left:o,right:l}}=t;let c="center";return n==="center"?c=i<=(o+l)/2?"left":"right":i<=s/2?c="left":i>=a-s/2&&(c="right"),uke(c,t,e,r)&&(c="center"),c}function BP(t,e,r){const n=r.yAlign||e.yAlign||cke(t,r);return{xAlign:r.xAlign||e.xAlign||dke(t,e,r,n),yAlign:n}}function hke(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function Ake(t,e,r){let{y:n,height:i}=t;return e==="top"?n+=r:e==="bottom"?n-=i+r:n-=i/2,n}function SP(t,e,r,n){const{caretSize:i,caretPadding:s,cornerRadius:a}=t,{xAlign:o,yAlign:l}=r,c=i+s,{topLeft:u,topRight:d,bottomLeft:A,bottomRight:f}=r0(a);let p=hke(e,o);const m=Ake(e,l,c);return l==="center"?o==="left"?p+=c:o==="right"&&(p-=c):o==="left"?p-=Math.max(u,A)+i:o==="right"&&(p+=Math.max(d,f)+i),{x:bn(p,0,n.width-e.width),y:bn(m,0,n.height-e.height)}}function ay(t,e,r){const n=ni(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function _P(t){return Ja([],el(t))}function fke(t,e,r){return qu(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function kP(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const YZ={beforeTitle:Ko,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:Ko,beforeBody:Ko,beforeLabel:Ko,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return vt(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Ko,afterBody:Ko,beforeFooter:Ko,footer:Ko,afterFooter:Ko};function Ci(t,e,r,n){const i=t[e].call(r,n);return typeof i>"u"?YZ[e].call(r,n):i}class tS extends Yl{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&r.options.animation&&n.animations,s=new FZ(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=fke(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,i=Ci(n,"beforeTitle",this,e),s=Ci(n,"title",this,e),a=Ci(n,"afterTitle",this,e);let o=[];return o=Ja(o,el(i)),o=Ja(o,el(s)),o=Ja(o,el(a)),o}getBeforeBody(e,r){return _P(Ci(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,i=[];return Gt(e,s=>{const a={before:[],lines:[],after:[]},o=kP(n,s);Ja(a.before,el(Ci(o,"beforeLabel",this,s))),Ja(a.lines,Ci(o,"label",this,s)),Ja(a.after,el(Ci(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,r){return _P(Ci(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,i=Ci(n,"beforeFooter",this,e),s=Ci(n,"footer",this,e),a=Ci(n,"afterFooter",this,e);let o=[];return o=Ja(o,el(i)),o=Ja(o,el(s)),o=Ja(o,el(a)),o}_createItems(e){const r=this._active,n=this.chart.data,i=[],s=[],a=[];let o=[],l,c;for(l=0,c=r.length;l<c;++l)o.push(lke(this.chart,r[l]));return e.filter&&(o=o.filter((u,d,A)=>e.filter(u,d,A,n))),e.itemSort&&(o=o.sort((u,d)=>e.itemSort(u,d,n))),Gt(o,u=>{const d=kP(e.callbacks,u);i.push(Ci(d,"labelColor",this,u)),s.push(Ci(d,"labelPointStyle",this,u)),a.push(Ci(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,r){const n=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=Xp[n.position].call(this,i,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const l=this._size=CP(this,n),c=Object.assign({},o,l),u=BP(this.chart,n,c),d=SP(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,i){const s=this.getCaretPosition(e,n,i);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,n){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=r0(o),{x:A,y:f}=e,{width:p,height:m}=r;let v,g,y,x,b,w;return s==="center"?(b=f+m/2,i==="left"?(v=A,g=v-a,x=b+a,w=b-a):(v=A+p,g=v+a,x=b-a,w=b+a),y=v):(i==="left"?g=A+Math.max(l,u)+a:i==="right"?g=A+p-Math.max(c,d)-a:g=this.caretX,s==="top"?(x=f,b=x-a,v=g-a,y=g+a):(x=f+m,b=x+a,v=g+a,y=g-a),w=x),{x1:v,x2:g,x3:y,y1:x,y2:b,y3:w}}drawTitle(e,r,n){const i=this.title,s=i.length;let a,o,l;if(s){const c=wA(n.rtl,this.x,this.width);for(e.x=ay(this,n.titleAlign,n),r.textAlign=c.textAlign(n.titleAlign),r.textBaseline="middle",a=dn(n.titleFont),o=n.titleSpacing,r.fillStyle=n.titleColor,r.font=a.string,l=0;l<s;++l)r.fillText(i[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,r,n,i,s){const a=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=s,u=dn(s.bodyFont),d=ay(this,"left",s),A=i.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,p=r.y+f;if(s.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},v=i.leftForLtr(A,c)+c/2,g=p+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,WB(e,m,v,g),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,WB(e,m,v,g)}else{e.lineWidth=Ct(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const m=i.leftForLtr(A,c),v=i.leftForLtr(i.xPlus(A,1),c-2),g=r0(a.borderRadius);Object.values(g).some(y=>y!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Kg(e,{x:m,y:p,w:c,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Kg(e,{x:v,y:p+1,w:c-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(m,p,c,l),e.strokeRect(m,p,c,l),e.fillStyle=a.backgroundColor,e.fillRect(v,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:u}=n,d=dn(n.bodyFont);let A=d.lineHeight,f=0;const p=wA(n.rtl,this.x,this.width),m=function(S){r.fillText(S,p.x(e.x+f),e.y+A/2),e.y+=A+s},v=p.textAlign(a);let g,y,x,b,w,C,B;for(r.textAlign=a,r.textBaseline="middle",r.font=d.string,e.x=ay(this,v,n),r.fillStyle=n.bodyColor,Gt(this.beforeBody,m),f=o&&v!=="right"?a==="center"?c/2+u:c+2+u:0,b=0,C=i.length;b<C;++b){for(g=i[b],y=this.labelTextColors[b],r.fillStyle=y,Gt(g.before,m),x=g.lines,o&&x.length&&(this._drawColorBox(r,e,b,p,n),A=Math.max(d.lineHeight,l)),w=0,B=x.length;w<B;++w)m(x[w]),A=d.lineHeight;Gt(g.after,m)}f=0,A=d.lineHeight,Gt(this.afterBody,m),e.y-=s}drawFooter(e,r,n){const i=this.footer,s=i.length;let a,o;if(s){const l=wA(n.rtl,this.x,this.width);for(e.x=ay(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=l.textAlign(n.footerAlign),r.textBaseline="middle",a=dn(n.footerFont),r.fillStyle=n.footerColor,r.font=a.string,o=0;o<s;++o)r.fillText(i[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,r,n,i){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:c,height:u}=n,{topLeft:d,topRight:A,bottomLeft:f,bottomRight:p}=r0(i.cornerRadius);r.fillStyle=i.backgroundColor,r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.beginPath(),r.moveTo(o+d,l),a==="top"&&this.drawCaret(e,r,n,i),r.lineTo(o+c-A,l),r.quadraticCurveTo(o+c,l,o+c,l+A),a==="center"&&s==="right"&&this.drawCaret(e,r,n,i),r.lineTo(o+c,l+u-p),r.quadraticCurveTo(o+c,l+u,o+c-p,l+u),a==="bottom"&&this.drawCaret(e,r,n,i),r.lineTo(o+f,l+u),r.quadraticCurveTo(o,l+u,o,l+u-f),a==="center"&&s==="left"&&this.drawCaret(e,r,n,i),r.lineTo(o,l+d),r.quadraticCurveTo(o,l,o+d,l),r.closePath(),r.fill(),i.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,i=n&&n.x,s=n&&n.y;if(i||s){const a=Xp[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=CP(this,e),l=Object.assign({},a,this._size),c=BP(r,e,l),u=SP(e,l,c,r);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=ni(r.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,i,r),SZ(e,r.textDirection),s.y+=a.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),_Z(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,i=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),s=!Xb(n,i),a=this._positionChanged(i,r);(s||a)&&(this._active=i,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,r,n),o=this._positionChanged(a,e),l=r||!Xb(a,s)||o;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),l}_getActiveElements(e,r,n,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return r.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&a.reverse(),a}_positionChanged(e,r){const{caretX:n,caretY:i,options:s}=this,a=Xp[s.position].call(this,e,r);return a!==!1&&(n!==a.x||i!==a.y)}}_e(tS,"positioners",Xp);var pke={id:"tooltip",_element:tS,positioners:Xp,afterInit(t,e,r){r&&(t.tooltip=new tS({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:YZ},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},mke=Object.freeze({__proto__:null,Colors:E_e,Decimation:D_e,Filler:J_e,Legend:ike,SubTitle:oke,Title:ake,Tooltip:pke});const gke=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function yke(t,e,r,n){const i=t.indexOf(e);if(i===-1)return gke(t,e,r,n);const s=t.lastIndexOf(e);return i!==s?r:i}const vke=(t,e)=>t===null?null:bn(Math.round(t),0,e);function EP(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class rS extends O0{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:i,label:s}of r)n[i]===s&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(vt(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:yke(n,e,dt(r,e),this._addedLabels),vke(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,i=[];let s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=r;a++)i.push({value:a});return i}getLabelForValue(e){return EP.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}_e(rS,"id","category"),_e(rS,"defaults",{ticks:{callback:EP}});function xke(t,e){const r=[],{bounds:i,step:s,min:a,max:o,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:A}=t,f=s||1,p=u-1,{min:m,max:v}=e,g=!vt(a),y=!vt(o),x=!vt(c),b=(v-m)/(d+1);let w=CO((v-m)/p/f)*f,C,B,S,E;if(w<1e-14&&!g&&!y)return[{value:m},{value:v}];E=Math.ceil(v/w)-Math.floor(m/w),E>p&&(w=CO(E*w/p/f)*f),vt(l)||(C=Math.pow(10,l),w=Math.ceil(w*C)/C),i==="ticks"?(B=Math.floor(m/w)*w,S=Math.ceil(v/w)*w):(B=m,S=v),g&&y&&s&&A9e((o-a)/s,w/1e3)?(E=Math.round(Math.min((o-a)/w,u)),w=(o-a)/E,B=a,S=o):x?(B=g?a:B,S=y?o:S,E=c-1,w=(S-B)/E):(E=(S-B)/w,jm(E,Math.round(E),w/1e3)?E=Math.round(E):E=Math.ceil(E));const M=Math.max(BO(w),BO(B));C=Math.pow(10,vt(l)?M:l),B=Math.round(B*C)/C,S=Math.round(S*C)/C;let T=0;for(g&&(A&&B!==a?(r.push({value:a}),B<a&&T++,jm(Math.round((B+T*w)*C)/C,a,MP(a,b,t))&&T++):B<a&&T++);T<E;++T){const L=Math.round((B+T*w)*C)/C;if(y&&L>o)break;r.push({value:L})}return y&&A&&S!==o?r.length&&jm(r[r.length-1].value,o,MP(o,b,t))?r[r.length-1].value=o:r.push({value:o}):(!y||S===o)&&r.push({value:S}),r}function MP(t,e,{horizontal:r,minRotation:n}){const i=_a(n),s=(r?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class n3 extends O0{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return vt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this;const a=l=>i=r?i:l,o=l=>s=n?s:l;if(e){const l=ko(i),c=ko(s);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||a(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),r=r||11),r&&(i=Math.min(r,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,a=xke(i,s);return e.bounds==="ticks"&&lZ(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-r)/Math.max(e.length-1,1)/2;r-=i,n+=i}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return Q1(e,this.chart.options.locale,this.options.ticks.format)}}class nS extends n3{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Lr(e)?e:0,this.max=Lr(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=_a(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}_e(nS,"id","linear"),_e(nS,"defaults",{ticks:{callback:o5.formatters.numeric}});const Wg=t=>Math.floor(qc(t)),id=(t,e)=>Math.pow(10,Wg(t)+e);function FP(t){return t/Math.pow(10,Wg(t))===1}function TP(t,e,r){const n=Math.pow(10,r),i=Math.floor(t/n);return Math.ceil(e/n)-i}function bke(t,e){const r=e-t;let n=Wg(r);for(;TP(t,e,n)>10;)n++;for(;TP(t,e,n)<10;)n--;return Math.min(n,Wg(t))}function wke(t,{min:e,max:r}){e=os(t.min,e);const n=[],i=Wg(e);let s=bke(e,r),a=s<0?Math.pow(10,Math.abs(s)):1;const o=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((e-l)*a)/a,u=Math.floor((e-l)/o/10)*o*10;let d=Math.floor((c-u)/Math.pow(10,s)),A=os(t.min,Math.round((l+u+d*Math.pow(10,s))*a)/a);for(;A<r;)n.push({value:A,major:FP(A),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,a=s>=0?1:a),A=Math.round((l+u+d*Math.pow(10,s))*a)/a;const f=os(t.max,A);return n.push({value:f,major:FP(f),significand:d}),n}class iS extends O0{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=n3.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return Lr(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Lr(e)?Math.max(0,e):null,this.max=Lr(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Lr(this._userMin)&&(this.min=e===id(this.min,0)?id(this.min,-1):id(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let n=this.min,i=this.max;const s=o=>n=e?n:o,a=o=>i=r?i:o;n===i&&(n<=0?(s(1),a(10)):(s(id(n,-1)),a(id(i,1)))),n<=0&&s(id(i,-1)),i<=0&&a(id(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},n=wke(r,this);return e.bounds==="ticks"&&lZ(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Q1(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=qc(e),this._valueRange=qc(this.max)-qc(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(qc(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}_e(iS,"id","logarithmic"),_e(iS,"defaults",{ticks:{callback:o5.formatters.logarithmic,major:{enabled:!0}}});function sS(t){const e=t.ticks;if(e.display&&t.display){const r=ni(e.backdropPadding);return dt(e.font&&e.font.size,yr.font.size)+r.height}return 0}function Cke(t,e,r){return r=gr(r)?r:[r],{w:F9e(t,e.string,r),h:r.length*e.lineHeight}}function DP(t,e,r,n,i){return t===n||t===i?{start:e-r/2,end:e+r/2}:t<n||t>i?{start:e-r,end:e}:{start:e,end:e+r}}function Bke(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],i=[],s=t._pointLabels.length,a=t.options.pointLabels,o=a.centerPointLabels?hr/s:0;for(let l=0;l<s;l++){const c=a.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],o),d=dn(c.font),A=Cke(t.ctx,d,t._pointLabels[l]);n[l]=A;const f=ds(t.getIndexAngle(l)+o),p=Math.round(iF(f)),m=DP(p,u.x,A.w,0,180),v=DP(p,u.y,A.h,90,270);Ske(r,e,f,m,v)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=Eke(t,n,i)}function Ske(t,e,r,n,i){const s=Math.abs(Math.sin(r)),a=Math.abs(Math.cos(r));let o=0,l=0;n.start<e.l?(o=(e.l-n.start)/s,t.l=Math.min(t.l,e.l-o)):n.end>e.r&&(o=(n.end-e.r)/s,t.r=Math.max(t.r,e.r+o)),i.start<e.t?(l=(e.t-i.start)/a,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/a,t.b=Math.max(t.b,e.b+l))}function _ke(t,e,r){const n=t.drawingArea,{extra:i,additionalAngle:s,padding:a,size:o}=r,l=t.getPointPosition(e,n+i+a,s),c=Math.round(iF(ds(l.angle+Vr))),u=Tke(l.y,o.h,c),d=Mke(c),A=Fke(l.x,o.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:A,top:u,right:A+o.w,bottom:u+o.h}}function kke(t,e){if(!e)return!0;const{left:r,top:n,right:i,bottom:s}=t;return!(yl({x:r,y:n},e)||yl({x:r,y:s},e)||yl({x:i,y:n},e)||yl({x:i,y:s},e))}function Eke(t,e,r){const n=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:a,display:o}=s.pointLabels,l={extra:sS(s)/2,additionalAngle:a?hr/i:0};let c;for(let u=0;u<i;u++){l.padding=r[u],l.size=e[u];const d=_ke(t,u,l);n.push(d),o==="auto"&&(d.visible=kke(d,c),d.visible&&(c=d))}return n}function Mke(t){return t===0||t===180?"center":t<180?"left":"right"}function Fke(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function Tke(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function Dke(t,e,r){const{left:n,top:i,right:s,bottom:a}=r,{backdropColor:o}=e;if(!vt(o)){const l=r0(e.borderRadius),c=ni(e.backdropPadding);t.fillStyle=o;const u=n-c.left,d=i-c.top,A=s-n+c.width,f=a-i+c.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),Kg(t,{x:u,y:d,w:A,h:f,radius:l}),t.fill()):t.fillRect(u,d,A,f)}}function Lke(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const a=n.setContext(t.getPointLabelContext(i));Dke(r,a,s);const o=dn(a.font),{x:l,y:c,textAlign:u}=s;C0(r,t._pointLabels[i],l,c+o.lineHeight/2,o,{color:a.color,textAlign:u,textBaseline:"middle"})}}function JZ(t,e,r,n){const{ctx:i}=t;if(r)i.arc(t.xCenter,t.yCenter,e,0,ur);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let a=1;a<n;a++)s=t.getPointPosition(a,e),i.lineTo(s.x,s.y)}}function Nke(t,e,r,n,i){const s=t.ctx,a=e.circular,{color:o,lineWidth:l}=e;!a&&!n||!o||!l||r<0||(s.save(),s.strokeStyle=o,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),JZ(t,r,a,n),s.closePath(),s.stroke(),s.restore())}function jke(t,e,r){return qu(t,{label:r,index:e,type:"pointLabel"})}class Yp extends n3{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=ni(sS(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=Lr(e)&&!isNaN(e)?e:0,this.max=Lr(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/sS(this.options))}generateTickLabels(e){n3.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const i=nr(this.options.pointLabels.callback,[r,n],this);return i||i===0?i:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?Bke(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,i){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,i))}getIndexAngle(e){const r=ur/(this._pointLabels.length||1),n=this.options.startAngle||0;return ds(e*r+_a(n))}getDistanceFromCenterForValue(e){if(vt(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(vt(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return jke(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const i=this.getIndexAngle(e)-Vr+n;return{x:Math.cos(i)*r+this.xCenter,y:Math.sin(i)*r+this.yCenter,angle:i}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:i,bottom:s}=this._pointLabelItems[e];return{left:r,top:n,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),JZ(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:i,border:s}=r,a=this._pointLabels.length;let o,l,c;if(r.pointLabels.display&&Lke(this,a),i.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const A=this.getContext(d),f=i.setContext(A),p=s.setContext(A);Nke(this,f,l,a,p)}}),n.display){for(e.save(),o=a-1;o>=0;o--){const u=n.setContext(this.getPointLabelContext(o)),{color:d,lineWidth:A}=u;!A||!d||(e.lineWidth=A,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),c=this.getPointPosition(o,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let s,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&this.min>=0&&!r.reverse)return;const c=n.setContext(this.getContext(l)),u=dn(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,a=e.measureText(o.label).width,e.fillStyle=c.backdropColor;const d=ni(c.backdropPadding);e.fillRect(-a/2-d.left,-s-u.size/2-d.top,a+d.width,u.size+d.height)}C0(e,o.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}_e(Yp,"id","radialLinear"),_e(Yp,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:o5.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),_e(Yp,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),_e(Yp,"descriptors",{angleLines:{_fallback:"grid"}});const d5={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ji=Object.keys(d5);function LP(t,e){return t-e}function NP(t,e){if(vt(e))return null;const r=t._adapter,{parser:n,round:i,isoWeekday:s}=t._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),Lr(a)||(a=typeof n=="string"?r.parse(a,n):r.parse(a)),a===null?null:(i&&(a=i==="week"&&(GA(s)||s===!0)?r.startOf(a,"isoWeek",s):r.startOf(a,i)),+a)}function jP(t,e,r,n){const i=ji.length;for(let s=ji.indexOf(t);s<i-1;++s){const a=d5[ji[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((r-e)/(o*a.size))<=n)return ji[s]}return ji[i-1]}function Ike(t,e,r,n,i){for(let s=ji.length-1;s>=ji.indexOf(r);s--){const a=ji[s];if(d5[a].common&&t._adapter.diff(i,n,a)>=e-1)return a}return ji[r?ji.indexOf(r):0]}function Oke(t){for(let e=ji.indexOf(t)+1,r=ji.length;e<r;++e)if(d5[ji[e]].common)return ji[e]}function IP(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:i}=sF(r,e),s=r[n]>=e?r[n]:r[i];t[s]=!0}}function Pke(t,e,r,n){const i=t._adapter,s=+i.startOf(e[0].value,n),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,n))l=r[o],l>=0&&(e[l].major=!0);return e}function OP(t,e,r){const n=[],i={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],i[o]=a,n.push({value:o,major:!1});return s===0||!r?n:Pke(t,n,i,r)}class Gg extends O0{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),i=this._adapter=new KBe._date(e.adapters.date);i.init(r),Nm(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:NP(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!o&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Lr(i)&&!isNaN(i)?i:+r.startOf(Date.now(),n),s=Lr(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=g9e(i,s,a);return this._unit=r.unit||(n.autoSkip?jP(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):Ike(this,o.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Oke(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),OP(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?r=1-i:r=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;r=bn(r,0,a),n=bn(n,0,a),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,i=this.options,s=i.time,a=s.unit||jP(s.minUnit,r,n,this._getLabelCapacity(r)),o=dt(i.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,c=GA(l)||l===!0,u={};let d=r,A,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":a),e.diff(n,r,a)>1e5*o)throw new Error(r+" and "+n+" are too far apart with stepSize of "+o+" "+a);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(A=d,f=0;A<n;A=+e.add(A,o,a),f++)IP(u,A,p);return(A===n||i.bounds==="ticks"||f===1)&&IP(u,A,p),Object.keys(u).sort(LP).map(m=>+m)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const i=this.options.time.displayFormats,s=this._unit,a=r||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,r,n,i){const s=this.options,a=s.ticks.callback;if(a)return nr(a,[e,r,n],this);const o=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&o[l],d=c&&o[c],A=n[r],f=c&&d&&A&&A.major;return this._adapter.format(e,i||(f?d:u))}generateTickLabels(e){let r,n,i;for(r=0,n=e.length;r<n;++r)i=e[r],i.label=this._tickFormatFunction(i.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,i=_a(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*s+o*a,h:n*a+o*s}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,i=n[r.unit]||n.millisecond,s=this._tickFormatFunction(e,0,OP(this,[e],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(r=0,n=i.length;r<n;++r)e=e.concat(i[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const i=this.getLabels();for(r=0,n=i.length;r<n;++r)e.push(NP(this,i[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return dZ(e.sort(LP))}}_e(Gg,"id","time"),_e(Gg,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function oy(t,e,r){let n=0,i=t.length-1,s,a,o,l;r?(e>=t[n].pos&&e<=t[i].pos&&({lo:n,hi:i}=gl(t,"pos",e)),{pos:s,time:o}=t[n],{pos:a,time:l}=t[i]):(e>=t[n].time&&e<=t[i].time&&({lo:n,hi:i}=gl(t,"time",e)),{time:s,pos:o}=t[n],{time:a,pos:l}=t[i]);const c=a-s;return c?o+(l-o)*(e-s)/c:o}class aS extends Gg{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=oy(r,this.min),this._tableRange=oy(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,i=[],s=[];let a,o,l,c,u;for(a=0,o=e.length;a<o;++a)c=e[a],c>=r&&c<=n&&i.push(c);if(i.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(a=0,o=i.length;a<o;++a)u=i[a+1],l=i[a-1],c=i[a],Math.round((u+l)/2)!==c&&s.push({time:c,pos:a/(o-1)});return s}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(oy(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return oy(this._table,n*this._tableRange+this._minPos,!0)}}_e(aS,"id","timeseries"),_e(aS,"defaults",Gg.defaults);var Uke=Object.freeze({__proto__:null,CategoryScale:rS,LinearScale:nS,LogarithmicScale:iS,RadialLinearScale:Yp,TimeScale:Gg,TimeSeriesScale:aS});const Rke=[VBe,b_e,mke,Uke];wf.register(...Rke);const ZZ="label";function PP(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Qke(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function eee(t,e){t.labels=e}function tee(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ZZ;const n=[];t.datasets=e.map(i=>{const s=t.datasets.find(a=>a[r]===i[r]);return!s||!i.data||n.includes(s)?{...i}:(n.push(s),Object.assign(s,i),s)})}function zke(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ZZ;const r={labels:[],datasets:[]};return eee(r,t.labels),tee(r,t.datasets,e),r}function Hke(t,e){const{height:r=150,width:n=300,redraw:i=!1,datasetIdKey:s,type:a,data:o,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...A}=t,f=_.useRef(null),p=_.useRef(),m=()=>{f.current&&(p.current=new wf(f.current,{type:a,data:zke(o,s),options:l&&{...l},plugins:c}),PP(e,p.current))},v=()=>{PP(e,null),p.current&&(p.current.destroy(),p.current=null)};return _.useEffect(()=>{!i&&p.current&&l&&Qke(p.current,l)},[i,l]),_.useEffect(()=>{!i&&p.current&&eee(p.current.config.data,o.labels)},[i,o.labels]),_.useEffect(()=>{!i&&p.current&&o.datasets&&tee(p.current.config.data,o.datasets,s)},[i,o.datasets]),_.useEffect(()=>{p.current&&(i?(v(),setTimeout(m)):p.current.update(d))},[i,l,o.labels,o.datasets,d]),_.useEffect(()=>{p.current&&(v(),setTimeout(m))},[a]),_.useEffect(()=>(m(),()=>v()),[]),Pe.createElement("canvas",Object.assign({ref:f,role:"img",height:r,width:n},A),u)}const $ke=_.forwardRef(Hke);function Vke(t,e){return wf.register(e),_.forwardRef((r,n)=>Pe.createElement($ke,Object.assign({},r,{ref:n,type:t})))}const Kke=Vke("line",Pm),qke=()=>{const{user_id:t,bot_id:e,subject_id:r}=Ar(),[n,{data:i,isLoading:s}]=Aye(),[a,o]=_.useState([]),[l,c]=_.useState("days");_.useEffect(()=>{t&&e&&u()},[t,e,r]);const u=async()=>{if(e!==0)try{const g=await n({user_id:Number(t),bot_id:Number(e)}).unwrap();(g==null?void 0:g.statusCode)===200&&o(g.data)}catch(g){Z.error("Error fetching chat history:",g)}else Z.error("This subject don't have a bot")},d=a.length,A=g=>{switch(l){case"days":return g.toLocaleDateString();case"weeks":const y=new Date(g.setDate(g.getDate()-g.getDay()));return`${y.toLocaleDateString()} - ${new Date(y.setDate(y.getDate()+6)).toLocaleDateString()}`;case"months":return`${g.getMonth()+1}/${g.getFullYear()}`;case"years":return g.getFullYear();default:return g.toLocaleDateString()}},f=a.reduce((g,y)=>{const x=A(new Date(y.createdAt));return g[x]||(g[x]=0),g[x]++,g},{}),p=Object.keys(f);if(p.length>0){const g=new Date(p[0]);g.setDate(g.getDate()-1),p.unshift(A(g))}const m={labels:p,datasets:[{label:"Interactions Over Time",data:[0,...Object.values(f)],fill:!1,backgroundColor:"#6925EF",borderColor:"#6925EF"}]},v={scales:{x:{title:{display:!0,text:"Date"}},y:{title:{display:!0,text:"Number of Interactions"},beginAtZero:!0}}};return s?h.jsxs("div",{className:"flex justify-center items-center min-h-screen",children:[h.jsx(jr,{className:"animate-spin text-[#6925EF] text-3xl"}),h.jsx("span",{className:"ml-2 text-gray-600",children:"Loading chat history..."})]}):h.jsx("div",{className:"bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:(a==null?void 0:a.length)>0?h.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Total Interactions"}),h.jsx("p",{className:"text-3xl text-[#6925EF] mt-4",children:d})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Select Time Span"}),h.jsxs("select",{value:l,onChange:g=>c(g.target.value),className:"mt-4 p-2 border border-gray-300 rounded-lg",children:[h.jsx("option",{value:"days",children:"Days"}),h.jsx("option",{value:"weeks",children:"Weeks"}),h.jsx("option",{value:"months",children:"Months"}),h.jsx("option",{value:"years",children:"Years"})]})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Interactions Over Time"}),h.jsx(Kke,{data:m,options:v})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 overflow-y-auto",style:{height:"100vh"},children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Chat History"}),a.map((g,y)=>h.jsxs("div",{className:`p-4 mb-4 rounded-lg ${g.is_bot?"bg-gray-100":"bg-gray-500 text-white"}`,children:[h.jsx("p",{className:"text-sm",dangerouslySetInnerHTML:{__html:g.message}}),h.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(g.createdAt).toLocaleString()})]},y))]})]}):h.jsx("div",{children:"No Chat History"})})},Wke=({studentData:t})=>{const{user_roll_no:e,school:r,level:n}=t==null?void 0:t.data;return h.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-6 py-8 border border-gray-100",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Student Profile"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.jsx(Z8,{title:"Roll No",icon:sE,data:e||"N/A"}),h.jsx(Z8,{title:"School",icon:x0,data:r.name||"N/A"}),h.jsx(Z8,{title:"Level",icon:Yq,data:n.level||"N/A"})]})]})},Gke=({attemptedQuizzes:t,loadMore:e})=>{var s;const{subject_id:r,user_id:n,bot_id:i}=Ar();return h.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-6 py-8 border border-gray-100",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Quiz History"}),((s=t==null?void 0:t.data)==null?void 0:s.length)>0?h.jsx("div",{className:"space-y-6",children:t.data.map(a=>h.jsx("div",{className:"mb-4",children:h.jsx(TEe,{quiz:a,subject_id:r,user_id:n,bot_id:i})},a.id))}):h.jsx("p",{className:"text-gray-500 italic",children:"No quizzes attempted yet"}),t&&t.totalPages&&t.page<t.totalPages&&h.jsx("button",{onClick:e,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded",children:"Load More"})]})};/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xke=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ree=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yke={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jke=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},l)=>_.createElement("svg",{ref:l,...Yke,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:ree("lucide",i),...o},[...a.map(([c,u])=>_.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=(t,e)=>{const r=_.forwardRef(({className:n,...i},s)=>_.createElement(Jke,{ref:s,iconNode:e,className:ree(`lucide-${Xke(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zke=Rt("ALargeSmall",[["path",{d:"M21 14h-5",key:"1vh23k"}],["path",{d:"M16 16v-3.5a2.5 2.5 0 0 1 5 0V16",key:"1wh10o"}],["path",{d:"M4.5 13h6",key:"dfilno"}],["path",{d:"m3 16 4.5-9 4.5 9",key:"2dxa0e"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=Rt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eEe=Rt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=Rt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=Rt("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=Rt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tEe=Rt("ChartColumnBig",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["rect",{x:"15",y:"5",width:"4",height:"12",rx:"1",key:"q8uenq"}],["rect",{x:"7",y:"8",width:"4",height:"9",rx:"1",key:"sr5ea"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rEe=Rt("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nEe=Rt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iEe=Rt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sEe=Rt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=Rt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aEe=Rt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oEe=Rt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=Rt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lEe=Rt("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cEe=Rt("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uEe=Rt("PencilLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dEe=Rt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hEe=Rt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AEe=Rt("Pointer",[["path",{d:"M22 14a8 8 0 0 1-8 8",key:"56vcr3"}],["path",{d:"M18 11v-1a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1agjmk"}],["path",{d:"M14 10V9a2 2 0 0 0-2-2a2 2 0 0 0-2 2v1",key:"wdbh2u"}],["path",{d:"M10 9.5V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v10",key:"1ibuk9"}],["path",{d:"M18 11a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"g6ys72"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=Rt("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=Rt("Puzzle",[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fEe=Rt("RectangleHorizontal",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=Rt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pEe=Rt("Sigma",[["path",{d:"M18 7V5a1 1 0 0 0-1-1H6.5a.5.5 0 0 0-.4.8l4.5 6a2 2 0 0 1 0 2.4l-4.5 6a.5.5 0 0 0 .4.8H17a1 1 0 0 0 1-1v-2",key:"wuwx1p"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mEe=Rt("SquareArrowOutUpRight",[["path",{d:"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6",key:"y09zxi"}],["path",{d:"m21 3-9 9",key:"mpx6sq"}],["path",{d:"M15 3h6v6",key:"1q9fwt"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gEe=Rt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yEe=Rt("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=Rt("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vEe=Rt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ax=Xi({reducerPath:"puzzleApi",baseQuery:Yi,endpoints:t=>({createPuzzleAssignment:t.mutation({query:e=>({url:"/puzzle/create-puzzle-assignment",method:"POST",body:e})}),deletePuzzleAssignment:t.mutation({query:e=>({url:"/puzzle/delete-puzzle-assignment",method:"DELETE",body:e})}),getAssignedPuzzleById:t.query({query:e=>({url:`/puzzle/assigned-puzzle-by-id/${e}`,method:"GET"})}),getAllAssignedPuzzles:t.query({query:()=>({url:"/puzzle/get-all-puzzle-assignments",method:"GET"})}),getPuzzlesByLevelSubject:t.query({query:({page:e,limit:r})=>({url:"/puzzle/get-by-level-subject",method:"GET",params:{page:e,limit:r}})}),initializePuzzleSubmission:t.mutation({query:e=>({url:"/puzzle/initialize-submit-puzzle",method:"POST",body:e})}),deletePuzzle:t.mutation({query:e=>({url:"/puzzle/",method:"DELETE",body:e})}),getAllPuzzles:t.query({query:({page:e,limit:r}={})=>({url:"/puzzle/all",method:"GET",params:{page:e,limit:r}})}),getPuzzleById:t.query({query:e=>({url:`/puzzle/${e}`,method:"GET"})}),getPuzzlesByLevel:t.query({query:({page:e,limit:r})=>({url:"/puzzle/get-by-level",method:"GET",params:{page:e,limit:r}})}),getPuzzleAttemptsByStudentSubject:t.query({query:({subjectId:e,studentId:r,page:n,limit:i})=>({url:`/puzzle/${e}/${r}`,method:"GET",params:{page:n,limit:i}})}),updatePuzzle:t.mutation({query:e=>({url:"/puzzle/",method:"PATCH",body:e})})})}),{useCreatePuzzleAssignmentMutation:xEe,useDeletePuzzleAssignmentMutation:WHe,useGetAssignedPuzzleByIdQuery:bEe,useGetAllAssignedPuzzlesQuery:GHe,useGetPuzzlesByLevelSubjectQuery:wEe,useGetPuzzleAttemptsByStudentSubjectQuery:CEe,useInitializePuzzleSubmissionMutation:BEe,useGetPuzzlesByLevelQuery:SEe,useDeletePuzzleMutation:_Ee,useGetAllPuzzlesQuery:kEe,useGetPuzzleByIdQuery:EEe,useUpdatePuzzleMutation:MEe}=Ax,FEe=()=>{const{subject_id:t,user_id:e,bot_id:r}=Ar(),[n,i]=_.useState(1),s=10,[a,o]=_.useState([]),{data:l,isLoading:c,isError:u,refetch:d}=CEe({subjectId:Number(t),studentId:Number(e),page:n,limit:s},{skip:!e||!t});_.useEffect(()=>{l&&l.data&&o(n===1?l.data:f=>{const p=l.data.filter(m=>!f.some(v=>v.id===m.id));return[...f,...p]})},[l,n]);const A=()=>{l&&n<l.totalPages&&i(f=>f+1)};return c?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):u?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"text-red-500 text-lg font-medium",children:"Error loading puzzle attempts."})}):h.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-6 py-8 border border-gray-100",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Puzzle Attempts History"}),a.length>0?h.jsx("div",{className:"space-y-6",children:a.map(f=>{var p,m,v,g,y,x,b,w;return h.jsxs("div",{className:"p-4 border rounded-lg shadow-sm flex flex-col sm:flex-row items-center sm:items-start space-y-4 sm:space-y-0 sm:space-x-6",children:[h.jsxs("div",{className:"flex-shrink-0 flex-col space-x-4",children:[h.jsx("img",{className:"w-24 h-24 object-contain rounded",src:Ut+"/images/"+f.image_url,alt:"Your attempt"}),h.jsx("img",{className:"w-24 h-24 object-contain rounded",src:Ut+"/images/"+((m=(p=f.assigned_puzzle)==null?void 0:p.puzzle)==null?void 0:m.image_url),alt:"Puzzle reference"})]}),h.jsxs("div",{className:"flex-grow",children:[h.jsx("p",{className:"text-lg font-semibold text-gray-800",children:(g=(v=f.assigned_puzzle)==null?void 0:v.puzzle)==null?void 0:g.description}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.bot_remarks})]}),h.jsx("div",{className:"flex flex-col items-end",children:h.jsx("div",{className:"flex items-center space-x-1",children:h.jsxs("span",{className:`text-sm ${(f==null?void 0:f.obtained_score)>=((x=(y=f==null?void 0:f.assigned_puzzle)==null?void 0:y.puzzle)==null?void 0:x.total_score)/2?"text-green-400":"text-red-500"} font-bold w-[50px]`,children:[f.obtained_score," / ",(w=(b=f.assigned_puzzle)==null?void 0:b.puzzle)==null?void 0:w.total_score]})})})]},f.id)})}):h.jsx("p",{className:"text-gray-500 italic",children:"No puzzle attempts yet"}),l&&l.totalPages&&n<l.totalPages&&h.jsx("button",{onClick:A,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors duration-200",children:"Load More"})]})},Z8=({title:t,icon:e,data:r})=>h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 hover:shadow-xl border border-gray-100",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[h.jsx("div",{className:"p-3 bg-indigo-50 rounded-lg",children:h.jsx(e,{className:"text-indigo-600 text-xl"})}),h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:t})]}),h.jsx("p",{className:"text-gray-600 font-medium ml-1",children:r})]}),TEe=({quiz:t,subject_id:e,user_id:r,bot_id:n})=>(console.log("quiz hjjsadflksadf",t),h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border border-gray-100",children:[h.jsxs("div",{className:"border-b border-gray-100 pb-4 mb-4",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t.quiz.title}),h.jsx("p",{className:"text-gray-600",children:t.quiz.description})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Start Time:"}),h.jsx("br",{}),new Date(t.quiz.start_time).toLocaleString()]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Duration:"}),h.jsx("br",{}),t.quiz.duration," minutes"]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Total Score:"}),h.jsx("br",{}),t.quiz.total_score||"N/A"]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"End Time:"}),h.jsx("br",{}),new Date(t.quiz.end_time).toLocaleString()]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Obtained Score:"}),h.jsx("br",{}),t.obtained_score]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Status:"}),h.jsx("br",{}),h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.marked?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.marked?"Marked":"Pending"})]})]})]}),h.jsx("div",{className:"text-right mt-4",children:h.jsx(gu,{to:`/teacher/subject/${e}/${r}/${n}/${t.id}`,className:"inline-block px-4 py-2 text-sm font-semibold text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition duration-200",children:"See Details"})})]})),DEe=()=>{const{user_id:t,subject_id:e}=Ar(),[r,n]=_.useState(1),i=10,[s,a]=_.useState([]),{data:o,isLoading:l,isError:c,error:u,refetch:d}=k3e(Number(t),{skip:!t}),{data:A,isLoading:f,isError:p,refetch:m}=a3e({subjectId:Number(e),studentId:Number(t),page:r,limit:i},{skip:!t||!e});_.useEffect(()=>{t&&e&&(d(),m())},[t,e,d,m]),_.useEffect(()=>{A&&A.data&&a(r===1?A.data:g=>{const y=A.data.filter(x=>!g.some(b=>b.id===x.id));return[...g,...y]})},[A,r]);const v=()=>{A&&r<A.totalPages&&n(g=>g+1)};return l?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):c?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"text-red-500 text-lg font-medium",children:u.message||"Error loading student details"})}):h.jsxs(h.Fragment,{children:[p&&h.jsx("div",{children:"Subject is unavailable to teacher"}),!p&&!c&&h.jsx("div",{className:"bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[h.jsx(Wke,{studentData:o}),h.jsx(Gke,{attemptedQuizzes:{...A,data:s,page:r},loadMore:v}),h.jsx(FEe,{})]})})]})},LEe=()=>h.jsxs("div",{children:[h.jsx(DEe,{}),h.jsx(qke,{})]}),NEe=()=>{var b;const t=bt(),[e,r]=_.useState(1),[n,i]=_.useState(10),[s,a]=_.useState(!1),[o,l]=_.useState(null),{data:c,isLoading:u,error:d,isError:A,refetch:f}=d3e({page:e,limit:n});_.useEffect(()=>{f()},[e,n,f]);const[p]=A3e(),m=async w=>{const C=await p(w).unwrap();(C==null?void 0:C.statusCode)===200?(Z.success("Quiz deleted successfully!",{position:"top-right",autoClose:3e3}),f()):Z.error("Quiz deletion failed!",{position:"top-right",autoClose:3e3}),a(!1),l(null)},v=w=>{l(w),a(!0)},g=[{Header:"ID",accessor:"id"},{Header:"Title",accessor:"title"},{Header:"Description",accessor:"description"},{Header:"Type",accessor:"quiz_type"},{Header:"Start Time",accessor:"start_time"},{Header:"End Time",accessor:"end_time"},{Header:"Duration (mins)",accessor:"duration"},{Header:"Actions",accessor:"actions"}],y=w=>h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ta,{onClick:()=>t(`/teacher/quiz/${w.id}`),className:"w-4 h-4 text-[#6925EF] hover:text-[#3C1589] cursor-pointer transition-colors",title:"Edit Quiz"}),h.jsx(Uu,{onClick:()=>v(w.id),className:"w-4 h-4 text-red-500 hover:text-red-700 cursor-pointer transition-colors",title:"Delete Quiz"})]}),x=Array.isArray(c==null?void 0:c.data)?(b=c==null?void 0:c.data)==null?void 0:b.map(w=>({...w,actions:y(w)})):[];return h.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:[h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[h.jsx(BL,{className:"text-[#6925EF]"}),"Manage Quizzes"]}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all quizzes in the system"})]}),h.jsxs(pn,{onClick:()=>t("/teacher/quiz/create"),className:"self-stretch sm:self-auto",children:[h.jsx(BL,{}),h.jsx("span",{children:" New Quiz"})]})]})}),h.jsx("div",{className:"p-6",children:u?h.jsxs("div",{className:"flex justify-center items-center",children:[h.jsx(jr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"text-gray-600 ml-2",children:"Loading quizzes..."})]}):A?h.jsx("div",{className:"text-red-500 text-center",children:(d==null?void 0:d.message)||"Error loading quizzes"}):x.length===0?h.jsx("div",{className:"text-gray-500 text-center",children:"No quizzes found."}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsx("tr",{children:g.map(w=>h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:w.Header},w.accessor))})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(w=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w.id}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w.title}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:w.description}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w.quiz_type}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w!=null&&w.start_time?h.jsx(h.Fragment,{children:new Date(w.start_time).toLocaleString()}):"No Time"}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w!=null&&w.end_time?h.jsx(h.Fragment,{children:new Date(w.end_time).toLocaleString()}):"No Time"}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w.duration}),h.jsx("td",{className:"px-6 py-4 text-sm",children:w.actions})]},w.id))})]})})}),h.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200",children:h.jsx($u,{currentPage:e,totalPages:1,limit:n,onPageChange:r,onLimitChange:w=>{i(w),r(1)}})})]})}),h.jsx(Vu,{isOpen:s,onClose:()=>a(!1),onConfirm:()=>m(o),title:"Delete Quiz",message:"Are you sure you want to delete this quiz? This action cannot be undone."})]})},jEe=()=>{var m,v;const t=bt(),[e,r]=_.useState(1),[n,i]=_.useState(10),{refetch:s,data:a,error:o,isLoading:l,isError:c}=HM({page:e,limit:n});_.useEffect(()=>{s()},[]);const u=g=>{t(`/admin/schools/${g}`)},d=g=>h.jsx("div",{className:"flex items-center gap-2",children:h.jsx(_u,{icon:h.jsx(ta,{size:16}),onClick:()=>u(g.id),tooltip:"Edit School",variant:"primary"})}),A=[{Header:"Name",accessor:"name"},{Header:"Description",accessor:"description"},{Header:"Actions",accessor:"actions"}],f=((m=a==null?void 0:a.data)==null?void 0:m.data.map(g=>({...g,actions:d(g)})))||[],p=Math.ceil(((v=a==null?void 0:a.data)==null?void 0:v.total)/n)||1;return l?h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100",children:h.jsx(jr,{className:"inline animate-spin text-[#6925EF]"})}):c?h.jsxs("div",{children:["Error: ",o.message]}):h.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Schools"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all schools in the system"})]}),h.jsxs(pn,{onClick:()=>t("/admin/schools/create"),className:"self-stretch sm:self-auto",children:[h.jsx(HA,{}),h.jsx("span",{children:"Create School"})]})]})}),h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsx(Ku,{columns:A,data:f,currentPage:e,totalPages:p,limit:n,onPageChange:r,onLimitChange:g=>{i(g),r(1)},emptyStateMessage:"No schools found."})})})]})})})},IEe=Po().shape({name:gt().required("School name is required").min(3,"School name must be at least 3 characters"),description:gt().required("Description is required").min(10,"Description must be at least 10 characters")}),OEe=()=>{const{register:t,handleSubmit:e,formState:{errors:r,isSubmitting:n},reset:i}=Gl({resolver:Xl(IEe)});bt(),An();const[s,{isLoading:a,isError:o,error:l}]=Q8e(),c=async u=>{var d;try{const A={...u};await s(A).unwrap(),Z.success("School created successfully"),i()}catch(A){const f=((d=A==null?void 0:A.data)==null?void 0:d.message)||"Failed to create school";Z.error(f)}};return h.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[h.jsx(x0,{className:"text-[#6925EF] w-6 h-6"}),"Create New School"]}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Add a new school to the system with detailed information."})]}),h.jsxs("form",{onSubmit:e(c),className:"px-6 py-8",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(x0,{className:"text-[#6925EF] w-4 h-4"}),"School Name"]}),h.jsx("input",{type:"text",...t("name"),placeholder:"Enter school name",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.name?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.name&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name.message})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(zA,{className:"text-[#6925EF] w-4 h-4"}),"Description"]}),h.jsx("textarea",{...t("description"),placeholder:"Enter school description",rows:"4",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.description?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.description&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.description.message})]})]}),h.jsx("div",{className:"mt-8 flex justify-end",children:h.jsx(pn,{className:`w-full px-6 py-3 ${a?"bg-gray-400":"bg-gradient-to-r from-[#6925EF] to-[#3C1589]"}  text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50`,type:"submit",disabled:a,children:a?"Creating...":h.jsxs(h.Fragment,{children:[h.jsx(_1,{className:"w-4 h-4"}),"Create School"]})})})]})]})})},PEe=Po().shape({name:gt().required("School name is required").min(3,"School name must be at least 3 characters"),description:gt().required("Description is required").min(10,"Description must be at least 10 characters")}),UEe=()=>{var p;bt();const{school_id:t}=Ar(),[e,{isLoading:r}]=H8e(),{refetch:n,data:i,isLoading:s,isError:a,error:o}=z8e(t);_.useEffect(()=>{n()},[]);const{register:l,handleSubmit:c,formState:{errors:u,isSubmitting:d},reset:A}=Gl({resolver:Xl(PEe)});_.useEffect(()=>{if((i==null?void 0:i.status)===200&&(i!=null&&i.data)){const{name:m,description:v}=i.data;A({name:m,description:v})}},[i,A]);const f=async m=>{var v;try{const g={id:+t,schoolData:{...m}};(await e(g).unwrap()).status==200&&(n(),Z.success("School updated successfully"))}catch(g){const y=((v=g==null?void 0:g.data)==null?void 0:v.message)||"Failed to update school";Z.error(y)}};return s?h.jsx("div",{children:"Loading school data..."}):a?h.jsxs("div",{children:["Error: ",((p=o==null?void 0:o.data)==null?void 0:p.message)||"Failed to fetch school data"]}):h.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[h.jsx(x0,{className:"text-[#6925EF] w-6 h-6"}),"Update School"]}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update the school details in the system."})]}),h.jsxs("form",{onSubmit:c(f),className:"px-6 py-8",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(x0,{className:"text-[#6925EF] w-4 h-4"}),"School Name"]}),h.jsx("input",{type:"text",...l("name"),placeholder:"Enter school name",className:`mt-1 block w-full px-4 py-2 bg-white border ${u.name?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),u.name&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.name.message})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(zA,{className:"text-[#6925EF] w-4 h-4"}),"Description"]}),h.jsx("textarea",{...l("description"),placeholder:"Enter school description",rows:"4",className:`mt-1 block w-full px-4 py-2 bg-white border ${u.description?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),u.description&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.description.message})]})]}),h.jsx("div",{className:"mt-8 flex justify-end",children:h.jsx(pn,{className:`w-full px-6 py-3 ${r?"bg-gray-400":"bg-gradient-to-r from-[#6925EF] to-[#3C1589]"}  text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50`,type:"submit",disabled:r,children:r?"Updating...":h.jsxs(h.Fragment,{children:[h.jsx(ff,{className:"w-4 h-4"}),"Update School"]})})})]})]})})};function REe(){const t=bt(),[e,r]=_.useState(1),[n]=_.useState(10),[i,s]=_.useState([]),[a,o]=_.useState(1),{data:l,isLoading:c,isError:u,error:d,refetch:A}=h3e({page:e,limit:n});_.useEffect(()=>{l!=null&&l.data&&(s(y=>[...y,...l.data]),o(l.totalPages))},[l]),_.useEffect(()=>{e<=a&&A()},[e,n,A,a]),(()=>{const y=new Date;return new Date(Date.UTC(y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate()))})();const[p]=l3e(),m=async y=>{try{const x=await p({quiz_id:Number(y)}).unwrap();x.statusCode===200?t(`/quiz/${y}`):toast.error(x.message)}catch{toast.error("Failed to navigate to quiz. Please try again.")}},v=()=>{e<a&&r(y=>y+1)};if(c)return h.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:h.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center",children:[h.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-purple-600 border-t-transparent rounded-full mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Loading available quizzes..."})]})});if(u)return h.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:h.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center max-w-md w-full",children:[h.jsx(see,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Error Loading Quizzes"}),h.jsx("p",{className:"text-gray-600 mb-4",children:(d==null?void 0:d.message)||"Failed to load quizzes. Please try again later."}),h.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Retry"})]})});const g=i||[];return g.length?h.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Available Quizzes"}),h.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Select a quiz to begin your assessment. Make sure to check the duration and schedule before starting."})]}),h.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:g.map(y=>{var x,b,w;return h.jsxs("div",{className:"min-h-[300px]  bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden cursor-pointer group",children:[h.jsxs("div",{className:"p-6 h-[75%] ",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 group-hover:text-purple-600 transition-colors",children:y.title}),h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${y.quiz_type==="MCQS"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:y.quiz_type===ya.MCQS?"MCQS":"QA"})]}),h.jsx("p",{className:"mt-2 text-gray-600 text-sm line-clamp-2",children:y.description}),h.jsxs("div",{className:"mt-4 space-y-2",children:[h.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[h.jsx(i3,{className:"w-4 h-4 mr-2 text-gray-400"}),"Duration: ",y.duration," minutes"]}),h.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[h.jsx(oS,{className:"w-4 h-4 mr-2 text-gray-400"}),(x=y==null?void 0:y.subject)==null?void 0:x.title]}),(y==null?void 0:y.start_time)&&(y==null?void 0:y.end_time)&&h.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[h.jsx(lS,{className:"w-4 h-4 mr-2 text-gray-400"}),new Date(y.start_time).toLocaleDateString()," - ",new Date(y.end_time).toLocaleDateString()]})]})]}),h.jsx("div",{className:"px-6 w-full py-4 border-t border-gray-100",children:h.jsx("button",{className:`w-full py-2 rounded-lg flex items-center justify-center ${(b=y==null?void 0:y.quiz_attempts[0])!=null&&b.submitted?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-700"}`,onClick:C=>{C.stopPropagation(),m(y.id)},disabled:(w=y==null?void 0:y.quiz_attempts[0])==null?void 0:w.submitted,children:"Attempt Quiz"})})]},y.id)})}),h.jsx("div",{className:"mt-8 flex justify-center",children:h.jsx("button",{onClick:v,className:`px-6 py-2 ${e>=a?"bg-gray-300 cursor-not-allowed":"bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"}`,disabled:e>=a,children:"Next"})})]})}):h.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:h.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center max-w-md w-full",children:[h.jsx(oS,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Quizzes Available"}),h.jsx("p",{className:"text-gray-600",children:"There are currently no quizzes available for your level."})]})})}function QEe(){var E,M,T,L,I,R,z,W,K,U,q,N,ne,re,O,me,Ce;const t=bt(),{quizId:e}=Ar(),[r,n]=_.useState(0),[i,s]=_.useState({}),[a,o]=_.useState(0),[l,c]=_.useState(!0),{data:u,isLoading:d,isError:A,error:f}=kY(e),[p,{isLoading:m,isError:v,isSuccess:g}]=f3e(),x=(()=>{const oe=new Date;return new Date(Date.UTC(oe.getUTCFullYear(),oe.getUTCMonth(),oe.getUTCDate()))})();_.useEffect(()=>{var oe,ye,ze,fe;u&&(((oe=u==null?void 0:u.data)==null?void 0:oe.start_time)!==null&&((ye=u==null?void 0:u.data)==null?void 0:ye.end_time)!==null?c(x<=new Date(`${(ze=u==null?void 0:u.data)==null?void 0:ze.start_time}T00:00:00Z`)&&x<=new Date(`${(fe=u==null?void 0:u.data)==null?void 0:fe.end_time}T00:00:00Z`)):c(!0))},[u]),_.useEffect(()=>{u&&!l&&(Z.error("This quiz is not available at the moment.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),t("/quiz"))},[u,l]),_.useEffect(()=>{var oe;if(u){const ye=localStorage.getItem(`quizStartTime_${e}`),ze=localStorage.getItem(`quizDuration_${e}`);if(ye&&ze){const fe=Math.floor((new Date().getTime()-parseInt(ye,10))/1e3),J=Math.max(0,parseInt(ze,10)-fe);o(J)}else{const fe=new Date().getTime(),J=((oe=u==null?void 0:u.data)==null?void 0:oe.duration)*60;localStorage.setItem(`quizStartTime_${e}`,fe),localStorage.setItem(`quizDuration_${e}`,J),o(J)}}},[u,e]);const b=(oe,ye)=>{s(ze=>{var fe,J;return{...ze,[oe]:{option_id:((fe=u==null?void 0:u.data)==null?void 0:fe.questions[r].question_type)===ya.MCQS?ye:null,text_answer:((J=u==null?void 0:u.data)==null?void 0:J.questions[r].question_type)===ya.QA?ye:null}}})},w=async()=>{try{await p({quiz_id:parseInt(e,10),answers:Object.entries(i).map(([ye,ze])=>({question_id:parseInt(ye,10),option_id:ze.option_id,text_answer:ze.text_answer}))}).unwrap()&&(localStorage.removeItem(`quizStartTime_${e}`),localStorage.removeItem(`quizDuration_${e}`),Z.success("Quiz submitted successfully!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),setTimeout(()=>{t("/quiz")},3e3))}catch(oe){console.error("Error submitting quiz:",oe),Z.error("Failed to submit quiz. Please try again.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}};if(_.useEffect(()=>{if(!u||a<=0)return;const oe=setInterval(()=>{o(ye=>ye<=1?(clearInterval(oe),w(),0):ye-1)},1e3);return()=>clearInterval(oe)},[u,a,w]),d)return h.jsxs("div",{className:"flex justify-center items-center h-screen",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-600"}),h.jsx("span",{className:"ml-2 text-gray-600",children:"Loading quiz..."})]});if(A)return setTimeout(()=>{t("/quiz")},1500),h.jsx("div",{className:"text-red-500 text-center mt-10",children:(f==null?void 0:f.message)||((E=f==null?void 0:f.data)==null?void 0:E.message)||"Error loading quiz"});if(!u)return h.jsx("div",{className:"text-gray-500 text-center mt-10",children:"No quiz found."});const C=oe=>{const ye=Math.floor(oe/60),ze=oe%60;return`${ye}:${ze<10?"0":""}${ze}`},B=(M=u==null?void 0:u.data)==null?void 0:M.questions[r].id,S=i[B];return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("header",{className:"bg-white shadow-sm",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:(T=u==null?void 0:u.data)==null?void 0:T.title}),h.jsxs("div",{className:"mt-1 flex flex-wrap gap-4",children:[h.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[h.jsx(iee,{className:"w-4 h-4 mr-2 text-purple-600"}),((I=(L=u==null?void 0:u.data)==null?void 0:L.subject)==null?void 0:I.title)||"No Subject"]}),h.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[h.jsx(i3,{className:"w-4 h-4 mr-2 text-purple-600"}),(R=u==null?void 0:u.data)==null?void 0:R.duration," minutes"]}),h.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[h.jsx(eEe,{className:"w-4 h-4 mr-2 text-purple-600"}),((W=(z=u==null?void 0:u.data)==null?void 0:z.level)==null?void 0:W.level)||"No Level"]})]})]}),h.jsx("div",{className:"mt-4 md:mt-0",children:h.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-purple-100 text-purple-800",children:[h.jsx(i3,{className:"w-4 h-4 mr-2"}),h.jsxs("span",{children:[C(a)," remaining"]})]})})]})})}),h.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[h.jsx("div",{className:"w-full h-2 bg-gray-100",children:h.jsx("div",{className:"h-full bg-gradient-to-r from-purple-600 to-purple-800 transition-all duration-300",style:{width:`${(r+1)/((U=(K=u==null?void 0:u.data)==null?void 0:K.questions)==null?void 0:U.length)*100}%`}})}),h.jsxs("div",{className:"p-6 h-full",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Question ",r+1," of ",(q=u==null?void 0:u.data)==null?void 0:q.questions.length]}),h.jsxs("span",{className:"text-sm font-medium text-purple-600",children:[Math.round((r+1)/((N=u==null?void 0:u.data)==null?void 0:N.questions.length)*100),"% Complete"]})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsx("h2",{className:"text-lg font-medium text-gray-900",children:(ne=u==null?void 0:u.data)==null?void 0:ne.questions[r].text}),((re=u==null?void 0:u.data)==null?void 0:re.quiz_type)==="multiple-choice"?h.jsx("div",{className:"grid gap-3",children:(O=u==null?void 0:u.data)==null?void 0:O.questions[r].options.map((oe,ye)=>{const ze=(S==null?void 0:S.option_id)===oe.id;return h.jsxs("button",{onClick:()=>b(B,oe.id),className:`flex items-center p-4 rounded-lg border-2 transition-all
                          ${ze?"border-purple-600 bg-purple-50 text-purple-700":"border-gray-200 hover:border-purple-200 hover:bg-purple-50"}`,children:[h.jsxs("span",{className:`w-6 h-6 flex items-center justify-center rounded-full border-2 mr-3
                            ${ze?"border-purple-600 bg-purple-600 text-white":"border-gray-300"}`,children:[String.fromCharCode(65+ye)," "]}),oe.text," "]},oe.id)})}):h.jsx("div",{className:"mt-3",children:h.jsx("textarea",{type:"text",value:(S==null?void 0:S.text_answer)||"",onChange:oe=>b(B,oe.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600",placeholder:"Type your answer here..."})})]})]}),h.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-between",children:[h.jsxs("button",{onClick:()=>n(oe=>Math.max(0,oe-1)),disabled:r===0,className:"inline-flex items-center px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx(iEe,{className:"w-5 h-5 mr-2"}),"Previous"]}),r<((Ce=(me=u==null?void 0:u.data)==null?void 0:me.questions)==null?void 0:Ce.length)-1?h.jsxs("button",{onClick:()=>n(oe=>oe+1),className:"inline-flex items-center px-6 py-2 rounded-lg bg-purple-600 text-white hover:bg-purple-700",children:["Next",h.jsx(sEe,{className:"w-5 h-5 ml-2"})]}):h.jsxs("button",{onClick:w,className:`inline-flex items-center px-6 py-2 rounded-lg ${m?"bg-gray-300 hover:bg-green-700":"bg-green-600"}  text-white `,disabled:m,children:[h.jsx(aee,{className:"w-5 h-5 mr-2"}),m?"Submitting...":"Submit Quiz"]})]})]})})]})}const zEe=({formTitle:t="Create Quiz",formDescription:e="Fill in the details to create a new quiz",isLoading:r=!1,quizData:n,subjects:i=[],onSubmit:s,onChange:a,onAddQuestion:o,onRemoveQuestion:l,isEdit:c=!1})=>{var g,y;console.log("quizData",n);const{data:u,isLoading:d,isError:A,error:f}=O1(),p=((y=(g=u==null?void 0:u.data)==null?void 0:g.teacher_profile)==null?void 0:y.subjects)||i;if(d)return h.jsx("div",{children:"Loading subjects..."});if(A)return h.jsxs("div",{children:["Error loading subjects: ",f.message]});const m=(x,b)=>{const w=n.questions.map((C,B)=>B===x?{...C,options:C.options.map((S,E)=>({...S,isCorrect:E===b}))}:C);a("questions",w)},v=x=>x?new Date(x).toISOString().split("T")[0]:"";return h.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6 lg:p-8",children:h.jsxs("div",{className:"max-w-5xl mx-auto",children:[h.jsx("div",{className:"bg-white rounded-t-2xl shadow-sm border border-b-0 border-gray-200 p-6 md:p-8",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-xl flex items-center justify-center",children:h.jsx(iee,{className:"h-6 w-6 text-purple-600"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:t}),h.jsx("p",{className:"text-gray-600 mt-1",children:e})]})]})}),h.jsx("div",{className:"bg-white rounded-b-2xl shadow-lg border border-gray-200",children:h.jsxs("form",{onSubmit:s,className:"divide-y divide-gray-200",children:[h.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[h.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Quiz Title*"}),h.jsx("input",{type:"text",name:"title",value:n.title,onChange:x=>a("title",x.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter quiz title"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subject*"}),h.jsxs("select",{name:"subject",value:n.subject,onChange:x=>a("subject",x.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[h.jsx("option",{value:"",children:"Select Subject"}),p.map(x=>h.jsx("option",{value:x.id,children:x.title},x.id))]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description*"}),h.jsx("textarea",{name:"description",value:n.description,onChange:x=>a("description",x.target.value),rows:"4",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter quiz description"})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Time"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(lS,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"date",name:"startTime",value:v(n.startTime),onChange:x=>a("startTime",x.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Time"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(lS,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"date",name:"endTime",value:v(n.endTime),onChange:x=>a("endTime",x.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Duration (minutes)*"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(i3,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"number",name:"duration",value:n.duration,onChange:x=>a("duration",parseInt(x.target.value)),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter duration"})]})]})]})]}),h.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Questions"}),h.jsxs("button",{type:"button",onClick:o,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-purple-600 bg-purple-50 rounded-lg hover:bg-purple-100",children:[h.jsx(hEe,{className:"mr-2 h-4 w-4"}),"Add Question"]})]}),h.jsx("div",{className:"space-y-6",children:n.questions.map((x,b)=>{var w;return h.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"h-8 w-8 bg-purple-100 rounded-lg flex items-center justify-center",children:h.jsx(aEe,{className:"h-4 w-4 text-purple-600"})}),h.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Question ",b+1]})]}),n.questions.length>1&&h.jsx("button",{type:"button",onClick:()=>l(b),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:h.jsx(gEe,{className:"h-4 w-4"})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("textarea",{value:x.text,onChange:C=>a(`questions[${b}].text`,C.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:"3",placeholder:"Enter your question here..."}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Score*"}),h.jsx("input",{type:"number",value:x.score,onChange:C=>{const B=parseInt(C.target.value);a(`questions[${b}].score`,B)},className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter score"})]}),n.quizType==="multiple-choice"&&h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(w=x==null?void 0:x.options)==null?void 0:w.map((C,B)=>h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("input",{type:"radio",name:`question-${b}-correct`,checked:C==null?void 0:C.isCorrect,onChange:()=>m(b,B),className:"h-4 w-4 text-purple-600 focus:ring-purple-500"}),h.jsx("input",{type:"text",value:C==null?void 0:C.text,onChange:S=>a(`questions[${b}].options[${B}].text`,S.target.value),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:`Option ${B+1}*`})]},B))})]})]},b)})})]}),h.jsx("div",{className:"p-6 md:p-8 flex justify-between items-center",children:h.jsxs("button",{type:"submit",disabled:r,className:`w-full md:w-auto flex items-center justify-center px-6 py-3 ${r?"bg-gray-400":"bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500"}   text-white font-medium rounded-lg  disabled:opacity-50`,children:[h.jsx(aee,{className:"mr-2 h-4 w-4"}),r?"Saving...":c?"Update Quiz":"Create Quiz"]})})]})})]})})},HEe=()=>{var f;const{quiz_id:t}=Ar(),{data:e,isLoading:r,isError:n}=kY(t),[i,{isLoading:s}]=c3e(),a=p=>p?new Date(p).toISOString().slice(0,16):"",[o,l]=_.useState({id:null,title:"",description:"",startTime:"",endTime:"",duration:0,score:0,subject:"",quizType:"",questions:[]});_.useEffect(()=>{var p,m,v,g,y,x,b,w,C,B;e&&l({id:(p=e==null?void 0:e.data)==null?void 0:p.id,title:(m=e==null?void 0:e.data)==null?void 0:m.title,description:(v=e==null?void 0:e.data)==null?void 0:v.description,startTime:a((g=e==null?void 0:e.data)==null?void 0:g.start_time),endTime:a((y=e==null?void 0:e.data)==null?void 0:y.end_time),duration:(x=e==null?void 0:e.data)==null?void 0:x.duration,score:((b=e==null?void 0:e.data)==null?void 0:b.score)||0,subject:(w=e==null?void 0:e.data)==null?void 0:w.subject_id,quizType:(C=e==null?void 0:e.data)==null?void 0:C.quiz_type,questions:(B=e==null?void 0:e.data)==null?void 0:B.questions.map(S=>{var E;return{id:S==null?void 0:S.id,text:S==null?void 0:S.text,score:(S==null?void 0:S.score)||0,options:((E=S==null?void 0:S.options)==null?void 0:E.map(M=>({id:M==null?void 0:M.id,text:M==null?void 0:M.text,isCorrect:M==null?void 0:M.is_correct})))||[]}})})},[e]);const c=(p,m)=>{if(console.log(p,m),p.includes("[")){const v=p.split(/[\[\].]+/).filter(Boolean),[g,y,x,b,w]=v;if(g==="questions"){const C=[...o.questions];x==="options"?C[y][x][b][w]=m:C[y][x]=m,l(B=>({...B,questions:C}))}}else l(v=>({...v,[p]:m}))},u=async p=>{var v;if(p.preventDefault(),console.log(o),o.startTime===""&&o.endTime!==""||o.startTime!==""&&o.endTime===""){Z.error("Both start_time & end_time can be null, or both must be defined"),l(g=>({...g,startTime:"",endTime:""}));return}if(!o.title.trim()){Z.error("Quiz title cannot be empty.");return}if(!o.description.trim()){Z.error("Quiz description cannot be empty.");return}if(o.duration<=0){Z.error("Duration must be greater than 0.");return}if(!o.subject){Z.error("Subject cannot be empty.");return}if(o.questions.length===0){Z.error("At least one question is required.");return}if(o.duration<=0){Z.error("Duration must be a positive integer.");return}for(const[g,y]of o.questions.entries()){if(!y.text.trim()){Z.error(`Question ${g+1} text cannot be empty.`);return}if(y.score<=0){Z.error(`Question ${g+1} score must be greater than 0.`);return}if(o.quizType==="multiple-choice"){if(y.options.length===0){Z.error(`Question ${g+1} must have at least one option.`);return}for(const[b,w]of y.options.entries())if(!w.text.trim()){Z.error(`Option ${b+1} in Question ${g+1} cannot be empty.`);return}if(!y.options.some(b=>b.isCorrect)){Z.error(`Question ${g+1} must have at least one correct option.`);return}}}const m={quiz_id:t,id:o.id,title:o.title,description:o.description,start_time:o.startTime===""?null:o.startTime,end_time:o.endTime===""?null:o.endTime,duration:o.duration,score:o.score,subject_id:o.subject,quiz_type:o.quizType,questions:o.questions.map(g=>({id:g.id,text:g.text,score:g.score,options:g.options.map(y=>({id:y.id,text:y.text,isCorrect:y.isCorrect}))}))};try{await i(m).unwrap(),Z.success("Quiz updated successfully!")}catch(g){console.error("Failed to update quiz:",g),Z.error(((v=g==null?void 0:g.data)==null?void 0:v.message)||(g==null?void 0:g.message)||"Failed to update quiz. Please try again.")}},d=()=>{l(p=>({...p,questions:[...p.questions,{text:"",score:0,options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1}]}]}))},A=p=>{o.questions[p].id||l(m=>({...m,questions:m.questions.filter((v,g)=>g!==p)}))};return r?h.jsx("div",{className:"flex justify-center items-center min-h-screen",children:h.jsx(cEe,{className:"h-8 w-8 text-purple-600 animate-spin"})}):n?h.jsx("div",{className:"text-center text-red-500 py-8",children:h.jsx("p",{children:"Error loading quiz data. Please try again later."})}):h.jsx(zEe,{formTitle:"Edit Quiz",formDescription:"Update your quiz details and questions",isLoading:s,quizData:o,subjects:(f=e==null?void 0:e.data)==null?void 0:f.subjects,onSubmit:u,onChange:c,onAddQuestion:d,onRemoveQuestion:A,isEdit:!0})},$Ee=()=>{var d;const[t,e]=_.useState({page:1,limit:10}),{data:r,isLoading:n,error:i,refetch:s}=N3e(),a=bt(),o=A=>e(f=>({...f,page:A})),l=A=>e({page:1,limit:A});_.useEffect(()=>{s()},[t]);const c=((d=r==null?void 0:r.data)==null?void 0:d.map(A=>{var f,p,m,v,g;return{id:(f=A.user)==null?void 0:f.id,name:((p=A.user)==null?void 0:p.name)||"N/A",email:((m=A.user)==null?void 0:m.email)||"N/A",school:((v=A.school)==null?void 0:v.name)||"N/A",contact:((g=A.user)==null?void 0:g.contact)||"N/A"}}))||[],u=[{Header:"Name",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"School",accessor:"school"},{Header:"Contact",accessor:"contact"},{Header:"Actions",accessor:"actions",Cell:({id:A})=>h.jsx("button",{onClick:()=>a(`/parent/children/${A}`),className:"px-4 py-2 bg-gradient-to-r from-[#6925EF] to-[#3C1589] text-white rounded-lg text-sm font-medium hover:opacity-90 transition-all duration-200",children:"View Details"})}];return h.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Children"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all child accounts"})]}),h.jsx("div",{className:"p-6",children:h.jsx(Ku,{columns:u,data:c,isLoading:n,isError:!!i,error:i==null?void 0:i.message,currentPage:t.page,totalPages:(r==null?void 0:r.totalPages)||1,limit:t.limit,onPageChange:o,onLimitChange:l})})]})})})},VEe=({quizAttempt:t})=>h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border border-gray-100",children:[h.jsxs("div",{className:"border-b border-gray-100 pb-4 mb-4",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t.quiz.title}),h.jsx("p",{className:"text-gray-600",children:t.quiz.description})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Start Time:"}),h.jsx("br",{}),new Date(t.quiz.start_time).toLocaleString()]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Duration:"}),h.jsx("br",{}),t.quiz.duration," minutes"]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Obtained Score:"}),h.jsx("br",{}),t.obtained_score]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Total Score:"}),h.jsx("br",{}),t.quiz.total_score||"N/A"]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Status:"}),h.jsx("br",{}),h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.marked?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.marked?"Marked":"Pending"})]})]})]})]}),KEe=()=>{var d,A,f;const{child_id:t}=Ar(),[e,r]=_.useState(1),n=5,[i,s]=_.useState([]),{data:a,isLoading:o,isError:l,error:c}=O3e({child_id:Number(t),page:e,limit:n},{skip:!t});_.useEffect(()=>{var p,m;a&&((p=a==null?void 0:a.data)!=null&&p.data)&&s(e===1?(m=a==null?void 0:a.data)==null?void 0:m.data:v=>{var y,x;const g=(x=(y=a==null?void 0:a.data)==null?void 0:y.data)==null?void 0:x.filter(b=>!v.some(w=>w.id===b.id));return[...v,...g]})},[a,e]);const u=()=>{var p;a&&e<((p=a==null?void 0:a.data)==null?void 0:p.totalPages)&&r(m=>m+1)};return o&&e===1?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):l?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"text-red-500 text-lg font-medium",children:((d=c==null?void 0:c.data)==null?void 0:d.message)||"Error loading quiz attempts"})}):h.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-6 py-8 border border-gray-100 mt-8",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Quiz Attempt History"}),i.length>0?h.jsx("div",{className:"space-y-6",children:i.map(p=>h.jsx(VEe,{quizAttempt:p},p.id))}):h.jsx("p",{className:"text-gray-500 italic",children:"No quiz attempts found."}),a&&((A=a==null?void 0:a.data)==null?void 0:A.totalPages)&&e<((f=a==null?void 0:a.data)==null?void 0:f.totalPages)&&h.jsx("button",{onClick:u,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors duration-200",children:"Load More"})]})},qEe=()=>{var d,A;const{child_id:t}=Ar(),[e,r]=_.useState(1),n=10,[i,s]=_.useState([]),{data:a,isLoading:o,isError:l,refetch:c}=I3e({child_id:Number(t),page:e,limit:n},{skip:!t});_.useEffect(()=>{var f,p;a&&((f=a==null?void 0:a.data)!=null&&f.data)&&s(e===1?(p=a==null?void 0:a.data)==null?void 0:p.data:m=>{var g,y;const v=(y=(g=a==null?void 0:a.data)==null?void 0:g.data)==null?void 0:y.filter(x=>!m.some(b=>b.id===x.id));return[...m,...v]})},[a,e]);const u=()=>{var f;a&&e<((f=a==null?void 0:a.data)==null?void 0:f.totalPages)&&r(p=>p+1)};return o?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):l?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"text-red-500 text-lg font-medium",children:"Error loading puzzle attempts."})}):h.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-6 py-8 border border-gray-100",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Puzzle Attempts History"}),i.length>0?h.jsx("div",{className:"space-y-6",children:i.map(f=>{var p,m,v,g,y,x,b,w;return h.jsxs("div",{className:"p-4 border rounded-lg shadow-sm flex flex-col sm:flex-row items-center sm:items-start space-y-4 sm:space-y-0 sm:space-x-6",children:[h.jsxs("div",{className:"flex-shrink-0 flex-col space-x-4",children:[h.jsx("img",{className:"w-24 h-24 object-contain rounded",src:Ut+"/images/"+f.image_url,alt:"Your attempt"}),h.jsx("img",{className:"w-24 h-24 object-contain rounded",src:Ut+"/images/"+((m=(p=f.assigned_puzzle)==null?void 0:p.puzzle)==null?void 0:m.image_url),alt:"Puzzle reference"})]}),h.jsxs("div",{className:"flex-grow",children:[h.jsx("p",{className:"text-lg font-semibold text-gray-800",children:(g=(v=f.assigned_puzzle)==null?void 0:v.puzzle)==null?void 0:g.description}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.bot_remarks})]}),h.jsx("div",{className:"flex flex-col items-end",children:h.jsx("div",{className:"flex items-center space-x-1",children:h.jsxs("span",{className:`text-sm ${(f==null?void 0:f.obtained_score)>=((x=(y=f==null?void 0:f.assigned_puzzle)==null?void 0:y.puzzle)==null?void 0:x.total_score)/2?"text-green-400":"text-red-500"} font-bold w-[50px]`,children:[f.obtained_score," / ",(w=(b=f.assigned_puzzle)==null?void 0:b.puzzle)==null?void 0:w.total_score]})})})]},f.id)})}):h.jsx("p",{className:"text-gray-500 italic",children:"No puzzle attempts yet"}),a&&((d=a==null?void 0:a.data)==null?void 0:d.totalPages)&&e<((A=a==null?void 0:a.data)==null?void 0:A.totalPages)&&h.jsx("button",{onClick:u,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors duration-200",children:"Load More"})]})},Z0=({title:t,icon:e,data:r})=>h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 hover:shadow-xl border border-gray-100",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[h.jsx("div",{className:"p-3 bg-indigo-50 rounded-lg",children:h.jsx(e,{className:"text-indigo-600 text-xl"})}),h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:t})]}),h.jsx("p",{className:"text-gray-600 font-medium ml-1",children:r})]}),WEe=()=>{const{child_id:t}=Ar(),{data:e,isLoading:r,isError:n}=j3e(Number(t),{skip:!t});if(r)return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})});if(n)return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"text-red-500 text-lg font-medium",children:"Error loading child details"})});const{user:i,school:s,level:a,attempted_quizes:o}=e.data;return h.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[h.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-6 py-8 border border-gray-100",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Student Profile"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.jsx(Z0,{title:"Name",icon:di,data:i.name||"N/A"}),h.jsx(Z0,{title:"Email",icon:iE,data:i.email||"N/A"}),h.jsx(Z0,{title:"Contact",icon:oE,data:i.contact||"N/A"}),h.jsx(Z0,{title:"Roll No",icon:sE,data:e.data.user_roll_no||"N/A"}),h.jsx(Z0,{title:"School",icon:x0,data:s.name||"N/A"}),h.jsx(Z0,{title:"Level",icon:Yq,data:a.level||"N/A"})]})]}),h.jsx(KEe,{}),h.jsx(qEe,{})]})})},GEe=()=>{var r,n,i,s,a,o,l,c,u,d,A,f,p,m,v,g,y,x;const{quiz_attempt_id:t}=Ar();console.log(t);const{data:e}=o3e(Number(t),{skip:!t});return console.log("quiz derail route",e),h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border border-gray-100",children:["adsfdsflk",h.jsxs("div",{className:"border-b border-gray-100 pb-4 mb-4",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:(n=(r=e==null?void 0:e.data)==null?void 0:r.quiz)==null?void 0:n.title}),h.jsx("p",{className:"text-gray-600",children:(s=(i=e==null?void 0:e.data)==null?void 0:i.quiz)==null?void 0:s.description})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Start Time:"}),h.jsx("br",{}),new Date((o=(a=e==null?void 0:e.data)==null?void 0:a.quiz)==null?void 0:o.start_time).toLocaleString()]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Duration:"}),h.jsx("br",{}),(c=(l=e==null?void 0:e.data)==null?void 0:l.quiz)==null?void 0:c.duration," minutes"]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Total Score:"}),h.jsx("br",{}),((d=(u=e==null?void 0:e.data)==null?void 0:u.quiz)==null?void 0:d.total_score)||"N/A"]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"End Time:"}),h.jsx("br",{}),new Date((f=(A=e==null?void 0:e.data)==null?void 0:A.quiz)==null?void 0:f.end_time).toLocaleString()]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Obtained Score:"}),h.jsx("br",{}),(p=e==null?void 0:e.data)==null?void 0:p.obtained_score]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Status:"}),h.jsx("br",{}),h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(m=e==null?void 0:e.data)!=null&&m.marked?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:(v=e==null?void 0:e.data)!=null&&v.marked?"Marked":"Pending"})]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Answers"}),((y=(g=e==null?void 0:e.data)==null?void 0:g.answers)==null?void 0:y.length)>0?h.jsx("div",{className:"grid gap-4",children:(x=e==null?void 0:e.data)==null?void 0:x.answers.map((b,w)=>{var C,B,S,E,M,T;return h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["Question: ",(C=b==null?void 0:b.question)==null?void 0:C.text]}),h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(b==null?void 0:b.is_correct)==null?"":b.is_correct?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:(b==null?void 0:b.is_correct)==null?"":b!=null&&b.is_correct?"Correct":"Incorrect"})]}),((S=(B=e==null?void 0:e.data)==null?void 0:B.quiz)==null?void 0:S.quiz_type)===ya.MCQS&&((M=(E=b==null?void 0:b.question)==null?void 0:E.options)==null?void 0:M.map((L,I)=>h.jsx(h.Fragment,{children:h.jsx("div",{children:h.jsx("p",{className:`text-gray-600 ${L!=null&&L.is_correct?"font-semibold text-green-600 ":""}`,children:L==null?void 0:L.text})})}))),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-medium",children:"Answer:"})," ",(b==null?void 0:b.text_answer)||((T=b==null?void 0:b.selected_option)==null?void 0:T.text)||"N/A"]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-medium",children:"Score:"})," ",b==null?void 0:b.obtained_score]})]},w)})}):h.jsx("p",{className:"text-gray-500 italic",children:"No answers provided"})]})]})},sp=48,XEe=({color:t="currentColor",direction:e="left",distance:r="md",duration:n=.4,easing:i="cubic-bezier(0, 0, 0, 1)",hideOutline:s=!0,label:a,lines:o=3,onToggle:l,render:c,rounded:u=!1,size:d=32,toggle:A,toggled:f,disabled:p=!1,animateOnMount:m=!1})=>{const[v,g]=_.useState(!1),[y,x]=_.useState(!1);_.useEffect(()=>{x(!0)},[]);const b=Math.max(12,Math.min(sp,d)),w=Math.round((sp-b)/2),C=b/12,B=Math.round(C),E=b/(o*((r==="lg"?.25:r==="sm"?.75:.5)+(o===3?1:1.25))),M=Math.round(E),T=B*o+M*(o-1),L=Math.round((sp-T)/2),I=o===3?r==="lg"?4.0425:r==="sm"?5.1625:4.6325:r==="lg"?6.7875:r==="sm"?8.4875:7.6675,R=(C-B+(E-M))/(o===3?1:2),z=parseFloat((b/I-R/(4/3)).toFixed(2)),W=Math.max(0,n),K={cursor:p?"not-allowed":"pointer",height:`${sp}px`,position:"relative",transition:`${W}s ${i}`,userSelect:"none",width:`${sp}px`},U={background:t,height:`${B}px`,left:`${w}px`,position:"absolute"};s&&(K.outline="none"),u&&(U.borderRadius="9em");const q=()=>{const O=f!==void 0?f:v;return m&&!y?!O:O},N=A||g,ne=q();return c({barHeight:B,barStyles:U,burgerStyles:K,easing:i,handler:()=>{N(!ne),typeof l=="function"&&l(!ne)},isLeft:e==="left",isToggled:ne,label:a,margin:M,move:z,time:W,topOffset:L,width:b})};function cS(){return cS=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cS.apply(this,arguments)}const YEe=t=>Pe.createElement(XEe,cS({},t,{render:e=>Pe.createElement("div",{className:"hamburger-react","aria-label":e.label,"aria-expanded":e.isToggled,onClick:t.disabled?void 0:e.handler,onKeyUp:t.disabled?void 0:r=>r.key==="Enter"&&e.handler(),role:"button",style:{...e.burgerStyles,transform:`${e.isToggled?`rotate(${180*(e.isLeft?-1:1)}deg)`:"none"}`},tabIndex:0},Pe.createElement("div",{style:{...e.barStyles,width:`${e.width}px`,top:`${e.topOffset}px`,transition:`${e.time}s ${e.easing}`,transform:`${e.isToggled?`rotate(${45*(e.isLeft?-1:1)}deg) translate(${e.move*(e.isLeft?-1:1)}px, ${e.move}px)`:"none"}`}}),Pe.createElement("div",{style:{...e.barStyles,width:`${e.width}px`,top:`${e.topOffset+e.barHeight+e.margin}px`,transition:`${e.time}s ${e.easing}`,opacity:`${e.isToggled?"0":"1"}`}}),Pe.createElement("div",{style:{...e.barStyles,width:`${e.width}px`,top:`${e.topOffset+e.barHeight*2+e.margin*2}px`,transition:`${e.time}s ${e.easing}`,transform:`${e.isToggled?`rotate(${45*(e.isLeft?1:-1)}deg) translate(${e.move*(e.isLeft?-1:1)}px, ${e.move*-1}px)`:"none"}`}}))})),JEe=()=>{const t=vu(e=>e.auth.avatar_url);return An(),h.jsx("header",{className:"flex w-full lg:w-[75%] items-center justify-center bg-white",children:h.jsxs("div",{className:"flex flex-row w-full p-4 leading-loose justify-between items-center",children:[h.jsx("div",{className:"justify-start text-start items-start ml-0 flex-1 max-w-md mx-auto",children:h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",placeholder:"Search your book...",className:"w-full h-9 pl-4 pr-10 py-2 rounded-full bg-slate-100 text-gray-800 focus:outline-none focus:ring-2 focus:ring-[#6E37DC] transition-all","aria-label":"Search for a book"}),h.jsxs("span",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-[#6E37DC]",children:[h.jsx(Ohe,{})," "]})]})}),h.jsx("div",{className:"flex items-center space-x-4",children:h.jsx("span",{className:"w-8 h-8 rounded-full overflow-hidden border-[0.25rem] border-slate-200",children:h.jsx("img",{src:t!=null?`${Ut}/images/${t}`:lE,alt:"Language Flag",className:"w-full h-full object-cover transition-all hover:border-[#6E37DC] focus:ring-2 focus:ring-[#6E37DC]","aria-label":"Selected language"})})})]})})};function ZEe(t,e){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:e},t),_.createElement("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"}))}const ap=_.forwardRef(ZEe);function eMe(t,e){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:e},t),_.createElement("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"}))}const op=_.forwardRef(eMe);function tMe(t,e){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:e},t),_.createElement("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"}))}const rMe=_.forwardRef(tMe);function nMe(t){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 480L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l128 0c20.1 0 39.1 9.5 51.2 25.6l19.2 25.6c6 8.1 15.5 12.8 25.6 12.8l160 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64zM184 272c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0z"},child:[]}]})(t)}const oee="/assets/TOOTY-COvuiu_1.png",iMe=({setSideBarOpen:t,isSidebarOpen:e})=>{const r=bt(),i=Ra().pathname,{logout:s}=An(),[a]=che(),{user:o}=An();let l;return(o==null?void 0:o.role)===he.USER?l=[{name:"Home",target:"_self",path:"/",icon:h.jsx(op,{className:"h-5 w-5"})},{name:"Puzzles",target:"_self",path:"puzzles",icon:h.jsx(J8,{className:"h-5 w-5"})},{name:"Quiz",target:"_self",path:"/quiz",icon:h.jsx(nMe,{className:"h-5 w-5"})},{name:"Quiz History",target:"_self",path:"/quiz-history",icon:h.jsx(Nhe,{className:"h-5 w-5"})},{name:"WhiteBoard",target:"_blank",path:"/whiteboard",icon:h.jsx(Y8,{className:"h-5 w-5"})},{name:"Settings",target:"_self",path:"/settings",icon:h.jsx(ap,{className:"h-5 w-5"})}]:(o==null?void 0:o.role)===he.TEACHER?l=[{name:"Home",target:"_self",path:"/teacher/",icon:h.jsx(op,{className:"h-5 w-5"})},{name:"Subjects",target:"_self",path:"/teacher/subject",icon:h.jsx(oj,{className:"h-5 w-5"})},{name:"Quiz",target:"_self",path:"/teacher/quiz",icon:h.jsx(cye,{className:"h-5 w-5"})},{name:"Puzzles",target:"_self",path:"/teacher/puzzles",icon:h.jsx(J8,{className:"h-5 w-5"})},{name:"Settings",target:"_self",path:"/teacher/settings",icon:h.jsx(ap,{className:"h-5 w-5"})}]:(o==null?void 0:o.role)===he.ADMIN?l=[{name:"Home",target:"_self",path:"/admin",icon:h.jsx(op,{className:"h-5 w-5"})},{name:"Users",target:"_self",path:"/admin/users",icon:h.jsx(di,{className:"h-5 w-5"})},{name:"WhiteBoard",target:"_blank",path:"/admin/whiteboard",icon:h.jsx(Y8,{className:"h-5 w-5"})},{name:"Settings",target:"_self",path:"/admin/settings",icon:h.jsx(ap,{className:"h-5 w-5"})}]:(o==null?void 0:o.role)===he.PARENT?l=[{name:"Children",target:"_self",path:"/parent/children",icon:h.jsx(oj,{className:"h-5 w-5"})}]:(o==null?void 0:o.role)===he.SUPER_ADMIN?l=[{name:"Home",target:"_self",path:"/admin",icon:h.jsx(op,{className:"h-5 w-5"})},{name:"All SuperIntendents",target:"_self",path:"/admin/users",icon:h.jsx(di,{className:"h-5 w-5"})},{name:"All Districts",target:"_self",path:"/admin/districts",icon:h.jsx(Lhe,{className:"h-5 w-5"})},{name:"All Levels",target:"_self",path:"/admin/levels",icon:h.jsx(Cye,{className:"h-5 w-5"})},{name:"All Subjects",target:"_self",path:"/admin/subjects",icon:h.jsx(wye,{className:"h-5 w-5"})},{name:"All Files",target:"_self",path:"/admin/files",icon:h.jsx(F4,{className:"h-5 w-5"})},{name:"All Bots",target:"_self",path:"/admin/bots",icon:h.jsx(Xs,{className:"h-5 w-5"})},{name:"All Voice Models",target:"_self",path:"/admin/deepgram-models",icon:h.jsx(Xs,{className:"h-5 w-5"})},{name:"Puzzles",target:"_self",path:"/admin/puzzles",icon:h.jsx(J8,{className:"h-5 w-5"})},{name:"Settings",target:"_self",path:"/admin/settings",icon:h.jsx(ap,{className:"h-5 w-5"})}]:(o==null?void 0:o.role)===he.SUPER_INTENDENT&&(l=[{name:"Home",target:"_self",path:"/admin",icon:h.jsx(op,{className:"h-5 w-5"})},{name:"All Principals",target:"_self",path:"/admin/users",icon:h.jsx(di,{className:"h-5 w-5"})},{name:"All Schools",target:"_self",path:"/admin/schools",icon:h.jsx(x0,{className:"h-5 w-5"})},{name:"WhiteBoard",target:"_blank",path:"/admin/whiteboard",icon:h.jsx(Y8,{className:"h-5 w-5"})},{name:"Settings",target:"_self",path:"/admin/settings",icon:h.jsx(ap,{className:"h-5 w-5"})}]),h.jsxs(h.Fragment,{children:[e&&h.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>t(!1)}),h.jsx("div",{className:`fixed lg:relative inset-y-0 left-0 flex flex-col w-[280px] bg-purple-50 lg:w-[18vw] h-full bg-white transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"} z-50`,children:h.jsxs("div",{className:"flex flex-col h-full w-full items-center text-[#ABB5BA] shadow-slate-200 shadow-2xl",children:[h.jsx("div",{className:"flex items-center justify-center w-[60%] py-6",children:h.jsx("img",{src:oee,alt:"Logo",className:"w-32 transition-all"})}),h.jsx("div",{className:"flex flex-col w-full items-center justify-between flex-1",children:h.jsxs("ul",{className:"w-[80%] space-y-2",children:[l.map(c=>{const u=i===c.path;return h.jsxs(gu,{className:`flex items-center space-x-4 p-2 cursor-pointer transition-all ${u?"bg-hover-gradient text-white rounded-md":"hover:bg-hover-gradient hover:rounded-md"} group`,to:c.path,target:`${c.target}`,children:[h.jsx("div",{className:`flex items-center text-purple-600 bg-transparent justify-center h-5 w-5 ${u?"text-purple-600 bg-white p-1 rounded-md":"group-hover:bg-white group-hover:p-1 group-hover:rounded-md"} transition-all duration-300`,children:c.icon}),h.jsxs("span",{className:"flex flex-row gap-1 items-center text-[14px] font-bold",children:[c.name," ",c.name==="WhiteBoard"?h.jsx(mEe,{size:15}):null]})]},c.name)}),h.jsxs("li",{onClick:()=>{a({refresh_token:localStorage.getItem("refreshToken")}),s(),r("/login")},className:"flex items-center space-x-4 mb-3 p-2 rounded-md cursor-pointer hover:bg-hover-gradient hover:text-white transition-all group",children:[h.jsx("div",{className:"flex items-center text-purple-600 bg-transparent justify-center h-5 w-5 group-hover:bg-white group-hover:p-1 group-hover:rounded-md transition-all",children:h.jsx(rMe,{className:"h-5 w-5"})}),h.jsx("span",{className:"block text-[14px] font-bold",children:"Logout"})]})]})})]})})]})},eh=()=>{const t=Ra();console.log("location",t.pathname);const[e,r]=_.useState(!1),[n,i]=_.useState(!0);return _.useEffect(()=>()=>console.log("un-mounting admin layout"),[]),h.jsxs("div",{className:"flex min-h-screen w-full overflow-hidden",children:[h.jsxs("div",{className:"flex w-[100vw] min-h-screen relative overflow-hidden",children:[!t.pathname.includes("whiteboard")&&h.jsx("div",{className:`
${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
transition-transform duration-300 ease-in-out
fixed
bg-white
w-full lg:w-[20%]
h-screen
top-0 left-0
z-[50] lg:z-10

`,children:h.jsx(iMe,{setSideBarOpen:r,isSidebarOpen:e})}),h.jsxs("div",{className:` w-full ${t.pathname.includes("whiteboard")?"":"lg:w-[80%] lg:ml-[20%]"} min-h-screen`,children:[n&&!t.pathname.includes("whiteboard")&&h.jsx("div",{className:"fixed z-[35] flex w-full bg-white pl-[35px]",children:h.jsx(JEe,{})}),h.jsx("div",{className:` ${n&&!t.pathname.includes("whiteboard")?"mt-20":"mt-0"}  p-2  min-h-screen`,children:h.jsx(BY.Provider,{value:{showHeader:n,setShowHeader:i},children:h.jsx(ele,{})})})]})]}),h.jsx("div",{className:"fixed top-2 left-0 bg-transparent z-[51] lg:hidden",children:h.jsx(YEe,{toggled:e,toggle:r,color:"#6F38DE",size:25})})]})},sMe=()=>{var m,v;const t=bt(),[e,r]=_.useState(1),[n,i]=_.useState(10),{data:s,isLoading:a,isError:o,error:l,refetch:c}=zM({page:e,limit:n});_.useEffect(()=>{c()},[]);const u=g=>{t(`/admin/districts/${g}`)},d=g=>h.jsx("div",{className:"flex items-center gap-2",children:h.jsx(_u,{icon:h.jsx(ta,{size:16}),onClick:()=>u(g.id),tooltip:"Edit District",variant:"primary"})}),A=[{Header:"ID",accessor:"id"},{Header:"District",accessor:"district"},{Header:"Actions",accessor:"actions"}],f=(m=s==null?void 0:s.data)==null?void 0:m.map((g,y)=>({id:y+1,district:g.name,actions:d(g)})),p=(s==null?void 0:s.totalPages)||1;return h.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Districts"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all districts in the system"})]}),h.jsxs(pn,{onClick:()=>t("/admin/districts/create"),className:"self-stretch sm:self-auto",children:[h.jsx(HA,{}),h.jsx("span",{children:"Create District"})]})]})}),h.jsx("div",{className:"p-6",children:a?h.jsxs("div",{className:"flex justify-center items-center",children:[h.jsx(jr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"text-gray-600 ml-2",children:"Loading districts..."})]}):o?h.jsxs("div",{className:"text-red-500",children:["Error loading districts: ",((v=l==null?void 0:l.data)==null?void 0:v.message)||"Unknown error"]}):h.jsx("div",{className:"overflow-x-auto",children:h.jsx(Ku,{columns:A,data:f,currentPage:e,totalPages:p,limit:n,onPageChange:r,onLimitChange:g=>{i(g),r(1)},emptyStateMessage:"No districts found."})})})]})})})},aMe=Po().shape({name:gt().required("District name is required").min(3,"Name must be at least 3 characters")}),oMe=()=>{const{register:t,handleSubmit:e,formState:{errors:r,isSubmitting:n},reset:i}=Gl({resolver:Xl(aMe)}),s=bt(),[a,{isLoading:o}]=O8e(),l=async c=>{var u;try{const d=await a({name:c.name}).unwrap();(d==null?void 0:d.statusCode)===200?(Z.success("District created successfully"),i(),s("/admin/districts")):Z.error((d==null?void 0:d.message)||"Failed to create district")}catch(d){Z.error(((u=d==null?void 0:d.data)==null?void 0:u.message)||"Failed to create district")}};return h.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[h.jsx(W9,{className:"text-[#6925EF] w-6 h-6"}),"Create New District"]}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Add a new district to the system with a unique name."})]}),h.jsxs("form",{onSubmit:e(l),className:"px-6 py-8",children:[h.jsx("div",{className:"grid grid-cols-1 gap-6",children:h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(W9,{className:"text-[#6925EF] w-4 h-4"}),"District Name"]}),h.jsx("input",{type:"text",...t("name"),placeholder:"Enter district name",className:`mt-1 block w-full px-4 py-2 bg-white border ${r.name?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),r.name&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name.message})]})}),h.jsx("div",{className:"mt-8 flex justify-end",children:h.jsx(pn,{className:`w-full px-6 py-3 ${o?"bg-gray-400":"bg-gradient-to-r from-[#6925EF] to-[#3C1589]"}   text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50`,type:"submit",disabled:o,children:o?"Creating...":h.jsxs(h.Fragment,{children:[h.jsx(_1,{className:"w-4 h-4"}),"Create District"]})})})]})]})})},lMe=Po().shape({name:gt().required("District name is required").min(3,"Name must be at least 3 characters")}),cMe=()=>{var f;const{district_id:t}=Ar();bt();const{data:e,isLoading:r,isError:n,error:i,refetch:s}=U8e(Number(t)),[a,{isLoading:o}]=P8e();_.useEffect(()=>{s()},[]);const{register:l,handleSubmit:c,setValue:u,formState:{errors:d}}=Gl({resolver:Xl(lMe)});_.useEffect(()=>{e!=null&&e.data&&u("name",e.data.name)},[e,u]);const A=async p=>{var m;try{const v=await a({id:Number(t),name:p.name}).unwrap();(v==null?void 0:v.statusCode)===200?(Z.success("District updated successfully"),s()):Z.error((v==null?void 0:v.message)||"Failed to update district")}catch(v){Z.error(((m=v==null?void 0:v.data)==null?void 0:m.message)||"Failed to update district")}};return r?h.jsxs("div",{className:"flex justify-center items-center min-h-screen",children:[h.jsx(jr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"text-gray-600 ml-2",children:"Loading district details..."})]}):n?h.jsxs("div",{className:"text-red-500 text-center mt-10",children:["Error loading district: ",((f=i==null?void 0:i.data)==null?void 0:f.message)||"Unknown error"]}):h.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[h.jsx(ta,{className:"text-[#6925EF] w-6 h-6"}),"Edit District"]}),h.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update the district name."})]}),h.jsxs("form",{onSubmit:c(A),className:"px-6 py-8",children:[h.jsx("div",{className:"grid grid-cols-1 gap-6",children:h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[h.jsx(W9,{className:"text-[#6925EF] w-4 h-4"}),"District Name"]}),h.jsx("input",{type:"text",...l("name"),placeholder:"Enter district name",className:`mt-1 block w-full px-4 py-2 bg-white border ${d.name?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]`}),d.name&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.name.message})]})}),h.jsx("div",{className:"mt-8 flex justify-end",children:h.jsxs(pn,{className:`w-full px-6 py-3 ${o?"bg-gray-400":"bg-gradient-to-r from-[#6925EF] to-[#3C1589]"} text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 font-medium disabled:opacity-50`,type:"submit",disabled:o,children:[h.jsx(ff,{className:"w-5 h-5 mr-2"})," ",o?"Updating...":"Update District"]})})]})]})})},uMe=({quiz:t})=>h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border border-gray-100",children:[h.jsxs("div",{className:"border-b border-gray-100 pb-4 mb-4",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t.quiz.title}),h.jsx("p",{className:"text-gray-600",children:t.quiz.description})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Start Time:"}),h.jsx("br",{}),new Date(t.quiz.start_time).toLocaleString()]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Duration:"}),h.jsx("br",{}),t.quiz.duration," minutes"]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Total Score:"}),h.jsx("br",{}),t.quiz.total_score||"N/A"]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"End Time:"}),h.jsx("br",{}),new Date(t.quiz.end_time).toLocaleString()]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Obtained Score:"}),h.jsx("br",{}),t.obtained_score]}),h.jsxs("p",{className:"text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-700",children:"Status:"}),h.jsx("br",{}),h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.marked?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.marked?"Marked":"Pending"})]})]})]})]}),dMe=()=>{var s,a;const{user:t}=An(),{data:e,isLoading:r,isError:n,refetch:i}=s3e({skip:!(t!=null&&t.id)});return _.useEffect(()=>{t&&i()},[t]),r?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):n?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsx("div",{className:"text-red-500 text-lg font-medium",children:"Error loading Quiz History"})}):h.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:h.jsx("div",{className:"max-w-5xl mx-auto space-y-8",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-6 py-8 border border-gray-100",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Quiz History"}),((s=e==null?void 0:e.data)==null?void 0:s.length)>0?h.jsx("div",{className:"space-y-6",children:(a=e==null?void 0:e.data)==null?void 0:a.map(o=>h.jsx(uMe,{quiz:o},o.id))}):h.jsx("p",{className:"text-gray-500 italic",children:"No quizzes attempted yet"})]})})})};class hMe{static async GetFiles(){const e=await kt.get(`${Ut}/context-data/files-by-user`,{headers:{token:localStorage.getItem("accessToken")}});return console.log("res get files",e),e}static async CreateFile(e,r){const n={"Content-Type":"multipart/form-data",token:localStorage.getItem("accessToken")};return bg((i,s,a)=>kt.post(i,s,a),e,`${Ut}/context-data/upload`,n,r)}static async DeleteFile(e){const r=await kt.post(`${Ut}/context-data/delete`,e,{Headers:{"Content-Type":"applicaiton/json"},headers:{token:localStorage.getItem("accessToken")}});return console.log("res signin",r),r}static async UpdatePassword(e){const r=await kt.post(`${Ut}/auth/update-password`,e,{Headers:{"Content-Type":"applicaiton/json"},headers:{token:localStorage.getItem("accessToken")}});return console.log("res update password",r),r}}const AMe=()=>{var E;const t=F0(),[e,r]=_.useState(null),[n,i]=_.useState(""),[s,a]=_.useState(""),[o,l]=_.useState("idle"),[c,u]=_.useState(""),[d,A]=_.useState(!1),[f,p]=_.useState(0),[m,v]=_.useState(),{data:g,isLoading:y,isError:x,refetch:b}=SY({});_.useEffect(()=>{b()},[]);const w=M=>M.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"")+Date.now();_.useEffect(()=>{if(s){const M=w(s);i(M)}},[s]);const C=M=>{var L;const T=(L=M.target.files)==null?void 0:L[0];T&&T.type==="application/pdf"?(r(T),a(T.name),l("idle"),u("")):(u("Please upload a PDF file."),l("error"))},B=async M=>{var T,L,I,R;M.preventDefault(),A(!0),l("uploading"),p(0);try{const z=new FormData;z.append("file",e),z.append("file_name",s),z.append("slug",n),z.append("subject_id",m);const W=await hMe.CreateFile(z,t,{onUploadProgress:U=>{const q=Math.round(U.loaded*50/U.total);p(q)}}),K=new EventSource(`${Ut}/context-data/upload-progress`);K.onmessage=U=>{const q=JSON.parse(U.data),N=50+Math.round((q==null?void 0:q.progress)*50/100);p(N),(q==null?void 0:q.progress)===100&&(p(100),A(!1),l("success"),K.close(),Z.success("File uploaded and processed successfully!")),(q.error||(q==null?void 0:q.progress)===-1)&&(p(-1),Z.error(`Error: ${q.error||"Failed to upload file"}`),K.close(),A(!1),l("error"),u(q.error||"Failed to upload file"))},K.onerror=U=>{console.log("Error receiving upload progress:",U),p(-1),Z.error("An error occurred while receiving progress updates."),K.close(),A(!1),l("error"),u("Failed to receive progress updates.")}}catch(z){console.error("Error during file upload:",z),p(-1),A(!1),l("error"),u(((L=(T=z.response)==null?void 0:T.data)==null?void 0:L.message)||"An error occurred while uploading the file."),Z.error(((R=(I=z.response)==null?void 0:I.data)==null?void 0:R.message)||"An error occurred while uploading the file.")}},S=()=>{r(null),a(""),i(""),l("idle"),u(""),p(0)};return h.jsx("div",{className:"min-h-screen",children:h.jsx("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:h.jsx(Hr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[h.jsx("div",{className:"border-b border-gray-200 px-6 py-4 bg-gray-50",children:h.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[h.jsx(F4,{className:"text-[#6F38DE]"}),"Upload File"]})}),h.jsxs("form",{onSubmit:B,className:"p-6 space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2 mb-1",children:"Subject"}),y?h.jsx("div",{className:"flex items-center",children:h.jsx("span",{children:"Loading Subjects..."})}):x?h.jsx("p",{className:"text-red-500 text-sm",children:"Failed to load Subjects."}):h.jsxs("select",{value:m,onChange:M=>v(M.target.value),className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-[#6925EF] focus:border-[#6925EF]",children:[h.jsx("option",{value:"",children:"Select a Subject"}),(E=g==null?void 0:g.data)==null?void 0:E.map(M=>h.jsxs("option",{value:M.id,children:[M.title," - ",M.level.level]},M==null?void 0:M.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Choose File (PDF only)"}),h.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg",children:h.jsxs("div",{className:"space-y-1 text-center",children:[h.jsx(F4,{className:"mx-auto h-12 w-12 text-gray-400"}),h.jsxs("div",{className:"flex text-sm text-gray-600",children:[h.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md font-medium text-[#6F38DE] hover:text-[#5C2EBA]",children:[h.jsx("span",{children:"Upload a file"}),h.jsx("input",{id:"file-upload",type:"file",onChange:C,accept:"application/pdf",className:"sr-only"},e?"uploaded":"not-uploaded")]}),h.jsx("p",{className:"pl-1",children:"or drag and drop"})]})]})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"File Name"}),h.jsx("input",{type:"text",value:s,onChange:M=>a(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-customButtonEnd"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Slug"}),h.jsx("input",{type:"text",value:n,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-customButtonEnd"})]}),e&&h.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Sa,{className:"text-[#6F38DE]"}),h.jsx("span",{className:"text-sm font-medium",children:e.name})]}),h.jsx("button",{type:"button",onClick:()=>r(null),className:"text-gray-400 hover:text-red-500",children:h.jsx(Uhe,{})})]})}),(o==="error"||f===-1)&&h.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:h.jsx("p",{className:"text-sm text-red-600",children:c||"Failed to upload file"})}),o==="success"&&h.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:h.jsx("p",{className:"text-sm text-green-600",children:"File uploaded successfully!"})}),o==="uploading"&&f!==-1&&h.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full mt-4",children:h.jsx("div",{className:"h-2 bg-[#6F38DE] rounded-full",style:{width:`${f}%`}})}),h.jsx("div",{className:"flex justify-end gap-4 pt-4",children:o==="success"?h.jsx("button",{type:"button",onClick:S,className:"px-6 py-3 bg-[#6F38DE] text-white rounded-lg hover:bg-[#5C2EBA]",children:"Upload Another"}):h.jsx("button",{type:"submit",disabled:!e||d||o==="uploading"&&f<100,className:`px-6 py-3 rounded-lg text-white flex items-center gap-2
                      ${!e||d||o==="uploading"&&f<100?"bg-gray-400 cursor-not-allowed":"bg-[#6F38DE] hover:bg-[#5C2EBA]"}`,children:d?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Uploading..."]}):h.jsxs(h.Fragment,{children:[h.jsx(F4,{}),"Upload File"]})})})]})]})})})})};function V(t,e,r){return(e=function(n){var i=function(s,a){if(typeof s!="object"||!s)return s;var o=s[Symbol.toPrimitive];if(o!==void 0){var l=o.call(s,a||"default");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}(n,"string");return typeof i=="symbol"?i:i+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Y(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(r),!0).forEach(function(n){V(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xr(t,e){if(t==null)return{};var r,n,i=function(a,o){if(a==null)return{};var l={};for(var c in a)if({}.hasOwnProperty.call(a,c)){if(o.indexOf(c)>=0)continue;l[c]=a[c]}return l}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Wu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}class QP{constructor(){V(this,"browserShadowBlurConstant",1),V(this,"DPI",96),V(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),V(this,"perfLimitSizeTotal",2097152),V(this,"maxCacheSideLimit",4096),V(this,"minCacheSideLimit",256),V(this,"disableStyleCopyPaste",!1),V(this,"enableGLFiltering",!0),V(this,"textureSize",4096),V(this,"forceGLPutImageData",!1),V(this,"cachesBoundsOfCurve",!1),V(this,"fontPaths",{}),V(this,"NUM_FRACTION_DIGITS",4)}}const Tt=new class extends QP{constructor(t){super(),this.configure(t)}configure(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,t)}addFonts(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=Y(Y({},this.fontPaths),t)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(t=>{delete this.fontPaths[t]})}clearFonts(){this.fontPaths={}}restoreDefaults(t){const e=new QP,r=(t==null?void 0:t.reduce((n,i)=>(n[i]=e[i],n),{}))||e;this.configure(r)}},Mu=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return console[t]("fabric",...r)};class yo extends Error{constructor(e,r){super("fabric: ".concat(e),r)}}class fMe extends yo{constructor(e){super("".concat(e," 'options.signal' is in 'aborted' state"))}}class pMe{}let mMe=class extends pMe{testPrecision(e,r){const n="precision ".concat(r,` float;
void main(){}`),i=e.createShader(e.FRAGMENT_SHADER);return!!i&&(e.shaderSource(i,n),e.compileShader(i),!!e.getShaderParameter(i,e.COMPILE_STATUS))}queryWebGL(e){const r=e.getContext("webgl");r&&(this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(n=>this.testPrecision(r,n)),r.getExtension("WEBGL_lose_context").loseContext(),Mu("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}};const gMe={};let zP;const To=()=>zP||(zP={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new mMe,dispose(){},copyPasteData:gMe}),Cf=()=>To().document,gF=()=>To().window,lee=()=>{var t;return Math.max((t=Tt.devicePixelRatio)!==null&&t!==void 0?t:gF().devicePixelRatio,1)},Rm=new class{constructor(){V(this,"charWidthsCache",{}),V(this,"boundsOfCurveCache",{})}getFontCache(t){let{fontFamily:e,fontStyle:r,fontWeight:n}=t;e=e.toLowerCase(),this.charWidthsCache[e]||(this.charWidthsCache[e]={});const i=this.charWidthsCache[e],s="".concat(r.toLowerCase(),"_").concat((n+"").toLowerCase());return i[s]||(i[s]={}),i[s]}clearFontCache(t){(t=(t||"").toLowerCase())?this.charWidthsCache[t]&&delete this.charWidthsCache[t]:this.charWidthsCache={}}limitDimsByArea(t){const{perfLimitSizeTotal:e}=Tt,r=Math.sqrt(e*t);return[Math.floor(r),Math.floor(e/r)]}},uS="6.6.1";function fx(){}const H1=Math.PI/2,s3=2*Math.PI,yF=Math.PI/180,yi=Object.freeze([1,0,0,1,0,0]),vF=16,lc=.4477152502,pt="center",Kt="left",zi="top",dS="bottom",Qr="right",Hi="none",xF=/\r?\n/,cee="moving",h5="scaling",uee="rotating",bF="rotate",dee="skewing",Xg="resizing",yMe="modifyPoly",vMe="modifyPath",a3="changed",A5="scale",Wi="scaleX",ia="scaleY",Bf="skewX",Sf="skewY",hn="fill",$i="stroke",o3="modified",th="json",e7="svg",Re=new class{constructor(){this[th]=new Map,this[e7]=new Map}has(t){return this[th].has(t)}getClass(t){const e=this[th].get(t);if(!e)throw new yo("No class registered for ".concat(t));return e}setClass(t,e){e?this[th].set(e,t):(this[th].set(t.type,t),this[th].set(t.type.toLowerCase(),t))}getSVGClass(t){return this[e7].get(t)}setSVGClass(t,e){this[e7].set(e??t.type.toLowerCase(),t)}},l3=new class extends Array{remove(t){const e=this.indexOf(t);e>-1&&this.splice(e,1)}cancelAll(){const t=this.splice(0);return t.forEach(e=>e.abort()),t}cancelByCanvas(t){if(!t)return[];const e=this.filter(r=>{var n;return r.target===t||typeof r.target=="object"&&((n=r.target)===null||n===void 0?void 0:n.canvas)===t});return e.forEach(r=>r.abort()),e}cancelByTarget(t){if(!t)return[];const e=this.filter(r=>r.target===t);return e.forEach(r=>r.abort()),e}};let xMe=class{constructor(){V(this,"__eventListeners",{})}on(e,r){if(this.__eventListeners||(this.__eventListeners={}),typeof e=="object")return Object.entries(e).forEach(n=>{let[i,s]=n;this.on(i,s)}),()=>this.off(e);if(r){const n=e;return this.__eventListeners[n]||(this.__eventListeners[n]=[]),this.__eventListeners[n].push(r),()=>this.off(n,r)}return()=>!1}once(e,r){if(typeof e=="object"){const n=[];return Object.entries(e).forEach(i=>{let[s,a]=i;n.push(this.once(s,a))}),()=>n.forEach(i=>i())}if(r){const n=this.on(e,function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];r.call(this,...s),n()});return n}return()=>!1}_removeEventListener(e,r){if(this.__eventListeners[e])if(r){const n=this.__eventListeners[e],i=n.indexOf(r);i>-1&&n.splice(i,1)}else this.__eventListeners[e]=[]}off(e,r){if(this.__eventListeners)if(e===void 0)for(const n in this.__eventListeners)this._removeEventListener(n);else typeof e=="object"?Object.entries(e).forEach(n=>{let[i,s]=n;this._removeEventListener(i,s)}):this._removeEventListener(e,r)}fire(e,r){var n;if(!this.__eventListeners)return;const i=(n=this.__eventListeners[e])===null||n===void 0?void 0:n.concat();if(i)for(let s=0;s<i.length;s++)i[s].call(this,r||{})}};const _h=(t,e)=>{const r=t.indexOf(e);return r!==-1&&t.splice(r,1),t},Ql=t=>{if(t===0)return 1;switch(Math.abs(t)/H1){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},zl=t=>{if(t===0)return 0;const e=t/H1,r=Math.sign(t);switch(e){case 1:return r;case 2:return 0;case 3:return-r}return Math.sin(t)};let ce=class li{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof e=="object"?(this.x=e.x,this.y=e.y):(this.x=e,this.y=r)}add(e){return new li(this.x+e.x,this.y+e.y)}addEquals(e){return this.x+=e.x,this.y+=e.y,this}scalarAdd(e){return new li(this.x+e,this.y+e)}scalarAddEquals(e){return this.x+=e,this.y+=e,this}subtract(e){return new li(this.x-e.x,this.y-e.y)}subtractEquals(e){return this.x-=e.x,this.y-=e.y,this}scalarSubtract(e){return new li(this.x-e,this.y-e)}scalarSubtractEquals(e){return this.x-=e,this.y-=e,this}multiply(e){return new li(this.x*e.x,this.y*e.y)}scalarMultiply(e){return new li(this.x*e,this.y*e)}scalarMultiplyEquals(e){return this.x*=e,this.y*=e,this}divide(e){return new li(this.x/e.x,this.y/e.y)}scalarDivide(e){return new li(this.x/e,this.y/e)}scalarDivideEquals(e){return this.x/=e,this.y/=e,this}eq(e){return this.x===e.x&&this.y===e.y}lt(e){return this.x<e.x&&this.y<e.y}lte(e){return this.x<=e.x&&this.y<=e.y}gt(e){return this.x>e.x&&this.y>e.y}gte(e){return this.x>=e.x&&this.y>=e.y}lerp(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return r=Math.max(Math.min(1,r),0),new li(this.x+(e.x-this.x)*r,this.y+(e.y-this.y)*r)}distanceFrom(e){const r=this.x-e.x,n=this.y-e.y;return Math.sqrt(r*r+n*n)}midPointFrom(e){return this.lerp(e)}min(e){return new li(Math.min(this.x,e.x),Math.min(this.y,e.y))}max(e){return new li(Math.max(this.x,e.x),Math.max(this.y,e.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(e,r){return this.x=e,this.y=r,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setFromPoint(e){return this.x=e.x,this.y=e.y,this}swap(e){const r=this.x,n=this.y;this.x=e.x,this.y=e.y,e.x=r,e.y=n}clone(){return new li(this.x,this.y)}rotate(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wF;const n=zl(e),i=Ql(e),s=this.subtract(r);return new li(s.x*i-s.y*n,s.x*n+s.y*i).add(r)}transform(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new li(e[0]*this.x+e[2]*this.y+(r?0:e[4]),e[1]*this.x+e[3]*this.y+(r?0:e[5]))}};const wF=new ce(0,0),px=t=>!!t&&Array.isArray(t._objects);function hee(t){class e extends t{constructor(){super(...arguments),V(this,"_objects",[])}_onObjectAdded(n){}_onObjectRemoved(n){}_onStackOrderChanged(n){}add(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];const a=this._objects.push(...i);return i.forEach(o=>this._onObjectAdded(o)),a}insertAt(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return this._objects.splice(n,0,...s),s.forEach(o=>this._onObjectAdded(o)),this._objects.length}remove(){const n=this._objects,i=[];for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return a.forEach(l=>{const c=n.indexOf(l);c!==-1&&(n.splice(c,1),i.push(l),this._onObjectRemoved(l))}),i}forEachObject(n){this.getObjects().forEach((i,s,a)=>n(i,s,a))}getObjects(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return i.length===0?[...this._objects]:this._objects.filter(a=>a.isType(...i))}item(n){return this._objects[n]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(n,i){return!!this._objects.includes(n)||!!i&&this._objects.some(s=>s instanceof e&&s.contains(n,!0))}complexity(){return this._objects.reduce((n,i)=>n+=i.complexity?i.complexity():0,0)}sendObjectToBack(n){return!(!n||n===this._objects[0])&&(_h(this._objects,n),this._objects.unshift(n),this._onStackOrderChanged(n),!0)}bringObjectToFront(n){return!(!n||n===this._objects[this._objects.length-1])&&(_h(this._objects,n),this._objects.push(n),this._onStackOrderChanged(n),!0)}sendObjectBackwards(n,i){if(!n)return!1;const s=this._objects.indexOf(n);if(s!==0){const a=this.findNewLowerIndex(n,s,i);return _h(this._objects,n),this._objects.splice(a,0,n),this._onStackOrderChanged(n),!0}return!1}bringObjectForward(n,i){if(!n)return!1;const s=this._objects.indexOf(n);if(s!==this._objects.length-1){const a=this.findNewUpperIndex(n,s,i);return _h(this._objects,n),this._objects.splice(a,0,n),this._onStackOrderChanged(n),!0}return!1}moveObjectTo(n,i){return n!==this._objects[i]&&(_h(this._objects,n),this._objects.splice(i,0,n),this._onStackOrderChanged(n),!0)}findNewLowerIndex(n,i,s){let a;if(s){a=i;for(let o=i-1;o>=0;--o)if(n.isOverlapping(this._objects[o])){a=o;break}}else a=i-1;return a}findNewUpperIndex(n,i,s){let a;if(s){a=i;for(let o=i+1;o<this._objects.length;++o)if(n.isOverlapping(this._objects[o])){a=o;break}}else a=i+1;return a}collectObjects(n){let{left:i,top:s,width:a,height:o}=n,{includeIntersecting:l=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const c=[],u=new ce(i,s),d=u.add(new ce(a,o));for(let A=this._objects.length-1;A>=0;A--){const f=this._objects[A];f.selectable&&f.visible&&(l&&f.intersectsWithRect(u,d)||f.isContainedWithinRect(u,d)||l&&f.containsPoint(u)||l&&f.containsPoint(d))&&c.push(f)}return c}}return e}let Aee=class extends xMe{_setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const r in e)this.set(r,e[r])}_setObject(e){for(const r in e)this._set(r,e[r])}set(e,r){return typeof e=="object"?this._setObject(e):this._set(e,r),this}_set(e,r){this[e]=r}toggle(e){const r=this.get(e);return typeof r=="boolean"&&this.set(e,!r),this}get(e){return this[e]}};function mx(t){return gF().requestAnimationFrame(t)}function bMe(t){return gF().cancelAnimationFrame(t)}let wMe=0;const Fu=()=>wMe++,Pa=()=>{const t=Cf().createElement("canvas");if(!t||t.getContext===void 0)throw new yo("Failed to create `canvas` element");return t},CMe=()=>Cf().createElement("img"),Do=t=>{const e=Pa();return e.width=t.width,e.height=t.height,e},fee=(t,e,r)=>t.toDataURL("image/".concat(e),r),pee=(t,e,r)=>new Promise((n,i)=>{t.toBlob(n,"image/".concat(e),r)}),Kr=t=>t*yF,B0=t=>t/yF,BMe=t=>t.every((e,r)=>e===yi[r]),Ti=(t,e,r)=>new ce(t).transform(e,r),ka=t=>{const e=1/(t[0]*t[3]-t[1]*t[2]),r=[e*t[3],-e*t[1],-e*t[2],e*t[0],0,0],{x:n,y:i}=new ce(t[4],t[5]).transform(r,!0);return r[4]=-n,r[5]=-i,r},Nn=(t,e,r)=>[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],r?0:t[0]*e[4]+t[2]*e[5]+t[4],r?0:t[1]*e[4]+t[3]*e[5]+t[5]],CF=(t,e)=>t.reduceRight((r,n)=>n&&r?Nn(n,r,e):n||r,void 0)||yi.concat(),mee=t=>{let[e,r]=t;return Math.atan2(r,e)},c3=t=>{const e=mee(t),r=Math.pow(t[0],2)+Math.pow(t[1],2),n=Math.sqrt(r),i=(t[0]*t[3]-t[2]*t[1])/n,s=Math.atan2(t[0]*t[2]+t[1]*t[3],r);return{angle:B0(e),scaleX:n,scaleY:i,skewX:B0(s),skewY:0,translateX:t[4]||0,translateY:t[5]||0}},$1=function(t){return[1,0,0,1,t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function V1(){let{angle:t=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:e=0,y:r=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=Kr(t),i=Ql(n),s=zl(n);return[i,s,-s,i,e?e-(i*e-s*r):0,r?r-(s*e+i*r):0]}const BF=function(t){return[t,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,0,0]},gee=t=>Math.tan(Kr(t)),yee=t=>[1,0,gee(t),1,0,0],vee=t=>[1,gee(t),0,1,0,0],f5=t=>{let{scaleX:e=1,scaleY:r=1,flipX:n=!1,flipY:i=!1,skewX:s=0,skewY:a=0}=t,o=BF(n?-e:e,i?-r:r);return s&&(o=Nn(o,yee(s),!0)),a&&(o=Nn(o,vee(a),!0)),o},SMe=t=>{const{translateX:e=0,translateY:r=0,angle:n=0}=t;let i=$1(e,r);n&&(i=Nn(i,V1({angle:n})));const s=f5(t);return BMe(s)||(i=Nn(i,s)),i},gx=function(t){let{signal:e,crossOrigin:r=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(n,i){if(e&&e.aborted)return i(new fMe("loadImage"));const s=CMe();let a;e&&(a=function(l){s.src="",i(l)},e.addEventListener("abort",a,{once:!0}));const o=function(){s.onload=s.onerror=null,a&&(e==null||e.removeEventListener("abort",a)),n(s)};t?(s.onload=o,s.onerror=function(){a&&(e==null||e.removeEventListener("abort",a)),i(new yo("Error loading ".concat(s.src)))},r&&(s.crossOrigin=r),s.src=t):o()})},Yg=function(t){let{signal:e,reviver:r=fx}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((n,i)=>{const s=[];e&&e.addEventListener("abort",i,{once:!0}),Promise.all(t.map(a=>Re.getClass(a.type).fromObject(a,{signal:e}).then(o=>(r(a,o),s.push(o),o)))).then(n).catch(a=>{s.forEach(o=>{o.dispose&&o.dispose()}),i(a)}).finally(()=>{e&&e.removeEventListener("abort",i)})})},p5=function(t){let{signal:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((r,n)=>{const i=[];e&&e.addEventListener("abort",n,{once:!0});const s=Object.values(t).map(o=>o&&o.type&&Re.has(o.type)?Yg([o],{signal:e}).then(l=>{let[c]=l;return i.push(c),c}):o),a=Object.keys(t);Promise.all(s).then(o=>o.reduce((l,c,u)=>(l[a[u]]=c,l),{})).then(r).catch(o=>{i.forEach(l=>{l.dispose&&l.dispose()}),n(o)}).finally(()=>{e&&e.removeEventListener("abort",n)})})},_f=function(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((e,r)=>(r in t&&(e[r]=t[r]),e),{})},SF=(t,e)=>Object.keys(t).reduce((r,n)=>(e(t[n],n,t)&&(r[n]=t[n]),r),{}),HP={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},t7=(t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t),$P=(t,e,r,n)=>{t/=255,e/=255,r/=255;const i=Math.max(t,e,r),s=Math.min(t,e,r);let a,o;const l=(i+s)/2;if(i===s)a=o=0;else{const c=i-s;switch(o=l>.5?c/(2-i-s):c/(i+s),i){case t:a=(e-r)/c+(e<r?6:0);break;case e:a=(r-t)/c+2;break;case r:a=(t-e)/c+4}a/=6}return[Math.round(360*a),Math.round(100*o),Math.round(100*l),n]},VP=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(t)/(t.endsWith("%")?100:1)},ly=t=>Math.min(Math.round(t),255).toString(16).toUpperCase().padStart(2,"0"),KP=t=>{let[e,r,n,i=1]=t;const s=Math.round(.3*e+.59*r+.11*n);return[s,s,s,i]};let Gi=class Hn{constructor(e){if(V(this,"isUnrecognised",!1),e)if(e instanceof Hn)this.setSource([...e._source]);else if(Array.isArray(e)){const[r,n,i,s=1]=e;this.setSource([r,n,i,s])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(e){return(e=e.toLowerCase())in HP&&(e=HP[e]),e==="transparent"?[255,255,255,0]:Hn.sourceFromHex(e)||Hn.sourceFromRgb(e)||Hn.sourceFromHsl(e)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(e){this._source=e}toRgb(){const[e,r,n]=this.getSource();return"rgb(".concat(e,",").concat(r,",").concat(n,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[e,r,n]=$P(...this.getSource());return"hsl(".concat(e,",").concat(r,"%,").concat(n,"%)")}toHsla(){const[e,r,n,i]=$P(...this.getSource());return"hsla(".concat(e,",").concat(r,"%,").concat(n,"%,").concat(i,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[e,r,n,i]=this.getSource();return"".concat(ly(e)).concat(ly(r)).concat(ly(n)).concat(ly(Math.round(255*i)))}getAlpha(){return this.getSource()[3]}setAlpha(e){return this._source[3]=e,this}toGrayscale(){return this.setSource(KP(this.getSource())),this}toBlackWhite(e){const[r,,,n]=KP(this.getSource()),i=r<(e||127)?0:255;return this.setSource([i,i,i,n]),this}overlayWith(e){e instanceof Hn||(e=new Hn(e));const r=this.getSource(),n=e.getSource(),[i,s,a]=r.map((o,l)=>Math.round(.5*o+.5*n[l]));return this.setSource([i,s,a,r[3]]),this}static fromRgb(e){return Hn.fromRgba(e)}static fromRgba(e){return new Hn(Hn.sourceFromRgb(e))}static sourceFromRgb(e){const r=e.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(r){const[n,i,s]=r.slice(1,4).map(a=>{const o=parseFloat(a);return a.endsWith("%")?Math.round(2.55*o):o});return[n,i,s,VP(r[4])]}}static fromHsl(e){return Hn.fromHsla(e)}static fromHsla(e){return new Hn(Hn.sourceFromHsl(e))}static sourceFromHsl(e){const r=e.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!r)return;const n=(Hn.parseAngletoDegrees(r[1])%360+360)%360/360,i=parseFloat(r[2])/100,s=parseFloat(r[3])/100;let a,o,l;if(i===0)a=o=l=s;else{const c=s<=.5?s*(i+1):s+i-s*i,u=2*s-c;a=t7(u,c,n+1/3),o=t7(u,c,n),l=t7(u,c,n-1/3)}return[Math.round(255*a),Math.round(255*o),Math.round(255*l),VP(r[4])]}static fromHex(e){return new Hn(Hn.sourceFromHex(e))}static sourceFromHex(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const r=e.slice(e.indexOf("#")+1);let n;n=r.length<=4?r.split("").map(l=>l+l):r.match(/.{2}/g);const[i,s,a,o=255]=n.map(l=>parseInt(l,16));return[i,s,a,o/255]}}static parseAngletoDegrees(e){const r=e.toLowerCase(),n=parseFloat(r);return r.includes("rad")?B0(n):r.includes("turn")?360*n:n}};const _r=(t,e)=>parseFloat(Number(t).toFixed(e)),CA=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vF;const r=/\D{0,2}$/.exec(t),n=parseFloat(t),i=Tt.DPI;switch(r==null?void 0:r[0]){case"mm":return n*i/25.4;case"cm":return n*i/2.54;case"in":return n*i;case"pt":return n*i/72;case"pc":return n*i/72*12;case"em":return n*e;default:return n}},_Me=t=>{const[e,r]=t.trim().split(" "),[n,i]=(s=e)&&s!==Hi?[s.slice(1,4),s.slice(5,8)]:s===Hi?[s,s]:["Mid","Mid"];var s;return{meetOrSlice:r||"meet",alignX:n,alignY:i}},u3=t=>"matrix("+t.map(e=>_r(e,Tt.NUM_FRACTION_DIGITS)).join(" ")+")",Jg=function(t,e){let r,n,i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e)if(e.toLive)r="url(#SVGID_".concat(e.id,")");else{const s=new Gi(e),a=s.getAlpha();r=s.toRgb(),a!==1&&(n=a.toString())}else r="none";return i?"".concat(t,": ").concat(r,"; ").concat(n?"".concat(t,"-opacity: ").concat(n,"; "):""):"".concat(t,'="').concat(r,'" ').concat(n?"".concat(t,'-opacity="').concat(n,'" '):"")},$s=t=>!!t&&t.toLive!==void 0,qP=t=>!!t&&typeof t.toObject=="function",WP=t=>!!t&&t.offsetX!==void 0&&"source"in t,Dd=t=>!!t&&"multiSelectionStacking"in t;function xee(t){const e=t&&Ca(t);let r=0,n=0;if(!t||!e)return{left:r,top:n};let i=t;const s=e.documentElement,a=e.body||{scrollLeft:0,scrollTop:0};for(;i&&(i.parentNode||i.host)&&(i=i.parentNode||i.host,i===e?(r=a.scrollLeft||s.scrollLeft||0,n=a.scrollTop||s.scrollTop||0):(r+=i.scrollLeft||0,n+=i.scrollTop||0),i.nodeType!==1||i.style.position!=="fixed"););return{left:r,top:n}}const Ca=t=>t.ownerDocument||null,bee=t=>{var e;return((e=t.ownerDocument)===null||e===void 0?void 0:e.defaultView)||null},wee=function(t,e,r){let{width:n,height:i}=r,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;t.width=n,t.height=i,s>1&&(t.setAttribute("width",(n*s).toString()),t.setAttribute("height",(i*s).toString()),e.scale(s,s))},hS=(t,e)=>{let{width:r,height:n}=e;r&&(t.style.width=typeof r=="number"?"".concat(r,"px"):r),n&&(t.style.height=typeof n=="number"?"".concat(n,"px"):n)};function GP(t){return t.onselectstart!==void 0&&(t.onselectstart=()=>!1),t.style.userSelect=Hi,t}let Cee=class{constructor(e){V(this,"_originalCanvasStyle",void 0),V(this,"lower",void 0);const r=this.createLowerCanvas(e);this.lower={el:r,ctx:r.getContext("2d")}}createLowerCanvas(e){const r=(n=e)&&n.getContext!==void 0?e:e&&Cf().getElementById(e)||Pa();var n;if(r.hasAttribute("data-fabric"))throw new yo("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=r.style.cssText,r.setAttribute("data-fabric","main"),r.classList.add("lower-canvas"),r}cleanupDOM(e){let{width:r,height:n}=e;const{el:i}=this.lower;i.classList.remove("lower-canvas"),i.removeAttribute("data-fabric"),i.setAttribute("width","".concat(r)),i.setAttribute("height","".concat(n)),i.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(e,r){const{el:n,ctx:i}=this.lower;wee(n,i,e,r)}setCSSDimensions(e){hS(this.lower.el,e)}calcOffset(){return function(e){var r;const n=e&&Ca(e),i={left:0,top:0};if(!n)return i;const s=((r=bee(e))===null||r===void 0?void 0:r.getComputedStyle(e,null))||{};i.left+=parseInt(s.borderLeftWidth,10)||0,i.top+=parseInt(s.borderTopWidth,10)||0,i.left+=parseInt(s.paddingLeft,10)||0,i.top+=parseInt(s.paddingTop,10)||0;let a={left:0,top:0};const o=n.documentElement;e.getBoundingClientRect!==void 0&&(a=e.getBoundingClientRect());const l=xee(e);return{left:a.left+l.left-(o.clientLeft||0)+i.left,top:a.top+l.top-(o.clientTop||0)+i.top}}(this.lower.el)}dispose(){To().dispose(this.lower.el),delete this.lower}};const kMe={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...yi]};class K1 extends hee(Aee){get lowerCanvasEl(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.el}get contextContainer(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.ctx}static getDefaults(){return K1.ownDefaults}constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(r),this.initElements(e),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(e){this.elements=new Cee(e)}add(){const e=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}insertAt(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const s=super.insertAt(e,...n);return n.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),s}remove(){const e=super.remove(...arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}_onObjectAdded(e){e.canvas&&e.canvas!==this&&(Mu("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?lee():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(e,r){return this.setDimensions({width:e},r)}setHeight(e,r){return this.setDimensions({height:e},r)}_setDimensionsImpl(e){let{cssOnly:r=!1,backstoreOnly:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!r){const i=Y({width:this.width,height:this.height},e);this.elements.setDimensions(i,this.getRetinaScaling()),this.hasLostContext=!0,this.width=i.width,this.height=i.height}n||this.elements.setCSSDimensions(e),this.calcOffset()}setDimensions(e,r){this._setDimensionsImpl(e,r),r&&r.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(e,r){const n=e,i=[...this.viewportTransform],s=Ti(e,ka(i));i[0]=r,i[3]=r;const a=Ti(s,i);i[4]+=n.x-a.x,i[5]+=n.y-a.y,this.setViewportTransform(i)}setZoom(e){this.zoomToPoint(new ce(0,0),e)}absolutePan(e){const r=[...this.viewportTransform];return r[4]=-e.x,r[5]=-e.y,this.setViewportTransform(r)}relativePan(e){return this.absolutePan(new ce(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(e){e.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=mx(()=>this.renderAndReset()))}calcViewportBoundaries(){const e=this.width,r=this.height,n=ka(this.viewportTransform),i=Ti({x:0,y:0},n),s=Ti({x:e,y:r},n),a=i.min(s),o=i.max(s);return this.vptCoords={tl:a,tr:new ce(o.x,a.y),bl:new ce(a.x,o.y),br:o}}cancelRequestedRender(){this.nextRenderHandle&&(bMe(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(e){}renderCanvas(e,r){if(this.destroyed)return;const n=this.viewportTransform,i=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality="best",this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(e,r),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),i&&(i._set("canvas",this),i.shouldCache(),i._transformDone=!0,i.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,i)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(e,r){const n=this.viewportTransform;e.save(),e.transform(...n),e.globalCompositeOperation="destination-in",r.transform(e),e.scale(1/r.zoomX,1/r.zoomY),e.drawImage(r._cacheCanvas,-r.cacheTranslationX,-r.cacheTranslationY),e.restore()}_renderObjects(e,r){for(let n=0,i=r.length;n<i;++n)r[n]&&r[n].render(e)}_renderBackgroundOrOverlay(e,r){const n=this["".concat(r,"Color")],i=this["".concat(r,"Image")],s=this.viewportTransform,a=this["".concat(r,"Vpt")];if(!n&&!i)return;const o=$s(n);if(n){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=o?n.toLive(e):n,a&&e.transform(...s),o){e.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);const l=n.gradientTransform||n.patternTransform;l&&e.transform(...l)}e.fill(),e.restore()}if(i){e.save();const{skipOffscreen:l}=this;this.skipOffscreen=a,a&&e.transform(...s),i.render(e),this.skipOffscreen=l,e.restore()}}_renderBackground(e){this._renderBackgroundOrOverlay(e,"background")}_renderOverlay(e){this._renderBackgroundOrOverlay(e,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new ce(this.width/2,this.height/2)}centerObjectH(e){return this._centerObject(e,new ce(this.getCenterPoint().x,e.getCenterPoint().y))}centerObjectV(e){return this._centerObject(e,new ce(e.getCenterPoint().x,this.getCenterPoint().y))}centerObject(e){return this._centerObject(e,this.getCenterPoint())}viewportCenterObject(e){return this._centerObject(e,this.getVpCenter())}viewportCenterObjectH(e){return this._centerObject(e,new ce(this.getVpCenter().x,e.getCenterPoint().y))}viewportCenterObjectV(e){return this._centerObject(e,new ce(e.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return Ti(this.getCenterPoint(),ka(this.viewportTransform))}_centerObject(e,r){e.setXY(r,pt,pt),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(e){return this.toDatalessObject(e)}toObject(e){return this._toObjectMethod("toObject",e)}toJSON(){return this.toObject()}toDatalessObject(e){return this._toObjectMethod("toDatalessObject",e)}_toObjectMethod(e,r){const n=this.clipPath,i=n&&!n.excludeFromExport?this._toObject(n,e,r):null;return Y(Y(Y({version:uS},_f(this,r)),{},{objects:this._objects.filter(s=>!s.excludeFromExport).map(s=>this._toObject(s,e,r))},this.__serializeBgOverlay(e,r)),i?{clipPath:i}:null)}_toObject(e,r,n){let i;this.includeDefaultValues||(i=e.includeDefaultValues,e.includeDefaultValues=!1);const s=e[r](n);return this.includeDefaultValues||(e.includeDefaultValues=!!i),s}__serializeBgOverlay(e,r){const n={},i=this.backgroundImage,s=this.overlayImage,a=this.backgroundColor,o=this.overlayColor;return $s(a)?a.excludeFromExport||(n.background=a.toObject(r)):a&&(n.background=a),$s(o)?o.excludeFromExport||(n.overlay=o.toObject(r)):o&&(n.overlay=o),i&&!i.excludeFromExport&&(n.backgroundImage=this._toObject(i,e,r)),s&&!s.excludeFromExport&&(n.overlayImage=this._toObject(s,e,r)),n}toSVG(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;e.reviver=r;const n=[];return this._setSVGPreamble(n,e),this._setSVGHeader(n,e),this.clipPath&&n.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",r),this._setSVGObjects(n,r),this.clipPath&&n.push(`</g>
`),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",r),n.push("</svg>"),n.join("")}_setSVGPreamble(e,r){r.suppressPreamble||e.push('<?xml version="1.0" encoding="',r.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(e,r){const n=r.width||"".concat(this.width),i=r.height||"".concat(this.height),s=Tt.NUM_FRACTION_DIGITS,a=r.viewBox;let o;if(a)o='viewBox="'.concat(a.x," ").concat(a.y," ").concat(a.width," ").concat(a.height,'" ');else if(this.svgViewportTransformation){const l=this.viewportTransform;o='viewBox="'.concat(_r(-l[4]/l[0],s)," ").concat(_r(-l[5]/l[3],s)," ").concat(_r(this.width/l[0],s)," ").concat(_r(this.height/l[3],s),'" ')}else o='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',i,'" ',o,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",uS,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(r),`</defs>
`)}createSVGClipPathMarkup(e){const r=this.clipPath;return r?(r.clipPathId="CLIPPATH_".concat(Fu()),'<clipPath id="'.concat(r.clipPathId,`" >
`).concat(r.toClipPathSVG(e.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(e=>{const r=this["".concat(e,"Color")];if($s(r)){const n=this["".concat(e,"Vpt")],i=this.viewportTransform,s={isType:()=>!1,width:this.width/(n?i[0]:1),height:this.height/(n?i[3]:1)};return r.toSVG(s,{additionalTransform:n?u3(i):""})}}).join("")}createSVGFontFacesMarkup(){const e=[],r={},n=Tt.fontPaths;this._objects.forEach(function s(a){e.push(a),px(a)&&a._objects.forEach(s)}),e.forEach(s=>{if(!(a=s)||typeof a._renderText!="function")return;var a;const{styles:o,fontFamily:l}=s;!r[l]&&n[l]&&(r[l]=!0,o&&Object.values(o).forEach(c=>{Object.values(c).forEach(u=>{let{fontFamily:d=""}=u;!r[d]&&n[d]&&(r[d]=!0)})}))});const i=Object.keys(r).map(s=>`		@font-face {
			font-family: '`.concat(s,`';
			src: url('`).concat(n[s],`');
		}
`)).join("");return i?`	<style type="text/css"><![CDATA[
`.concat(i,`]]></style>
`):""}_setSVGObjects(e,r){this.forEachObject(n=>{n.excludeFromExport||this._setSVGObject(e,n,r)})}_setSVGObject(e,r,n){e.push(r.toSVG(n))}_setSVGBgOverlayImage(e,r,n){const i=this[r];i&&!i.excludeFromExport&&i.toSVG&&e.push(i.toSVG(n))}_setSVGBgOverlayColor(e,r){const n=this["".concat(r,"Color")];if(n)if($s(n)){const i=n.repeat||"",s=this.width,a=this.height,o=this["".concat(r,"Vpt")]?u3(ka(this.viewportTransform)):"";e.push('<rect transform="'.concat(o," translate(").concat(s/2,",").concat(a/2,')" x="').concat(n.offsetX-s/2,'" y="').concat(n.offsetY-a/2,'" width="').concat(i!=="repeat-y"&&i!=="no-repeat"||!WP(n)?s:n.source.width,'" height="').concat(i!=="repeat-x"&&i!=="no-repeat"||!WP(n)?a:n.source.height,'" fill="url(#SVGID_').concat(n.id,`)"></rect>
`))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',`></rect>
`)}loadFromJSON(e,r){let{signal:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return Promise.reject(new yo("`json` is undefined"));const i=typeof e=="string"?JSON.parse(e):e,{objects:s=[],backgroundImage:a,background:o,overlayImage:l,overlay:c,clipPath:u}=i,d=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([Yg(s,{reviver:r,signal:n}),p5({backgroundImage:a,backgroundColor:o,overlayImage:l,overlayColor:c,clipPath:u},{signal:n})]).then(A=>{let[f,p]=A;return this.clear(),this.add(...f),this.set(i),this.set(p),this.renderOnAddRemove=d,this})}clone(e){const r=this.toObject(e);return this.cloneWithoutData().loadFromJSON(r)}cloneWithoutData(){const e=Do(this);return new this.constructor(e)}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:r="png",quality:n=1,multiplier:i=1,enableRetinaScaling:s=!1}=e,a=i*(s?this.getRetinaScaling():1);return fee(this.toCanvasElement(a,e),r,n)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:r="png",quality:n=1,multiplier:i=1,enableRetinaScaling:s=!1}=e,a=i*(s?this.getRetinaScaling():1);return pee(this.toCanvasElement(a,e),r,n)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:r,height:n,left:i,top:s,filter:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=(r||this.width)*e,l=(n||this.height)*e,c=this.getZoom(),u=this.width,d=this.height,A=this.skipControlsDrawing,f=c*e,p=this.viewportTransform,m=[f,0,0,f,(p[4]-(i||0))*e,(p[5]-(s||0))*e],v=this.enableRetinaScaling,g=Do({width:o,height:l}),y=a?this._objects.filter(x=>a(x)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=m,this.width=o,this.height=l,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(g.getContext("2d"),y),this.viewportTransform=p,this.width=u,this.height=d,this.calcViewportBoundaries(),this.enableRetinaScaling=v,this.skipControlsDrawing=A,g}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),l3.cancelByCanvas(this),this.disposed=!0,new Promise((e,r)=>{const n=()=>{this.destroy(),e(!0)};n.kill=r,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?e(!1):this.nextRenderHandle?this.__cleanupTask=n:n()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(e=>e.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}V(K1,"ownDefaults",kMe);const EMe=["touchstart","touchmove","touchend"],MMe=t=>{const e=xee(t.target),r=function(n){const i=n.changedTouches;return i&&i[0]?i[0]:n}(t);return new ce(r.clientX+e.left,r.clientY+e.top)},AS=t=>EMe.includes(t.type)||t.pointerType==="touch",fS=t=>{t.preventDefault(),t.stopPropagation()},El=t=>{let e=0,r=0,n=0,i=0;for(let s=0,a=t.length;s<a;s++){const{x:o,y:l}=t[s];(o>n||!s)&&(n=o),(o<e||!s)&&(e=o),(l>i||!s)&&(i=l),(l<r||!s)&&(r=l)}return{left:e,top:r,width:n-e,height:i-r}},FMe=["translateX","translateY","scaleX","scaleY"],TMe=(t,e)=>d3(t,Nn(e,t.calcOwnMatrix())),d3=(t,e)=>{const r=c3(e),{translateX:n,translateY:i,scaleX:s,scaleY:a}=r,o=xr(r,FMe),l=new ce(n,i);t.flipX=!1,t.flipY=!1,Object.assign(t,o),t.set({scaleX:s,scaleY:a}),t.setPositionByOrigin(l,pt,pt)},DMe=t=>{t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},Bee=t=>({scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}),_F=(t,e,r)=>{const n=t/2,i=e/2,s=[new ce(-n,-i),new ce(n,-i),new ce(-n,i),new ce(n,i)].map(o=>o.transform(r)),a=El(s);return new ce(a.width,a.height)},m5=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yi;return Nn(ka(arguments.length>1&&arguments[1]!==void 0?arguments[1]:yi),t)},BA=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yi,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yi;return t.transform(m5(e,r))},LMe=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yi,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yi;return t.transform(m5(e,r),!0)},NMe=(t,e,r)=>{const n=m5(e,r);return d3(t,Nn(n,t.calcOwnMatrix())),n},See=(t,e)=>{var r;const{transform:{target:n}}=e;(r=n.canvas)===null||r===void 0||r.fire("object:".concat(t),Y(Y({},e),{},{target:n})),n.fire(t,e)},jMe={left:-.5,top:-.5,center:0,bottom:.5,right:.5},en=t=>typeof t=="string"?jMe[t]:t-.5,h3="not-allowed";function _ee(t){return en(t.originX)===en(pt)&&en(t.originY)===en(pt)}function XP(t){return .5-en(t)}const La=(t,e)=>t[e],kee=(t,e,r,n)=>({e:t,transform:e,pointer:new ce(r,n)});function Eee(t,e){const r=t.getTotalAngle()+B0(Math.atan2(e.y,e.x))+360;return Math.round(r%360/45)}function kF(t,e,r,n,i){var s;let{target:a,corner:o}=t;const l=a.controls[o],c=((s=a.canvas)===null||s===void 0?void 0:s.getZoom())||1,u=a.padding/c,d=function(A,f,p,m){const v=A.getRelativeCenterPoint(),g=p!==void 0&&m!==void 0?A.translateToGivenOrigin(v,pt,pt,p,m):new ce(A.left,A.top);return(A.angle?f.rotate(-Kr(A.angle),v):f).subtract(g)}(a,new ce(n,i),e,r);return d.x>=u&&(d.x-=u),d.x<=-u&&(d.x+=u),d.y>=u&&(d.y-=u),d.y<=u&&(d.y+=u),d.x-=l.offsetX,d.y-=l.offsetY,d}const IMe=(t,e,r,n)=>{const{target:i,offsetX:s,offsetY:a}=e,o=r-s,l=n-a,c=!La(i,"lockMovementX")&&i.left!==o,u=!La(i,"lockMovementY")&&i.top!==l;return c&&i.set(Kt,o),u&&i.set(zi,l),(c||u)&&See(cee,kee(t,e,r,n)),c||u};let Mee=class{getSvgStyles(e){const r=this.fillRule?this.fillRule:"nonzero",n=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):Hi,s=this.strokeDashOffset?this.strokeDashOffset:"0",a=this.strokeLineCap?this.strokeLineCap:"butt",o=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",c=this.opacity!==void 0?this.opacity:"1",u=this.visible?"":" visibility: hidden;",d=e?"":this.getSvgFilter(),A=Jg(hn,this.fill);return[Jg($i,this.stroke),"stroke-width: ",n,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",a,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",o,"; ","stroke-miterlimit: ",l,"; ",A,"fill-rule: ",r,"; ","opacity: ",c,";",d,u].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e?this.calcTransformMatrix():this.calcOwnMatrix(),i='transform="'.concat(u3(n));return"".concat(i).concat(r,'" ')}_toSVG(e){return[""]}toSVG(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}toClipPathSVG(e){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}_createBaseClipPathSVGMarkup(e){let{reviver:r,additionalTransform:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=[this.getSvgTransform(!0,n),this.getSvgCommons()].join(""),s=e.indexOf("COMMON_PARTS");return e[s]=i,r?r(e.join("")):e.join("")}_createBaseSVGMarkup(e){let{noStyle:r,reviver:n,withShadow:i,additionalTransform:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=r?"":'style="'.concat(this.getSvgStyles(),'" '),o=i?'style="'.concat(this.getSvgFilter(),'" '):"",l=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",u=l&&l.absolutePositioned,d=this.stroke,A=this.fill,f=this.shadow,p=[],m=e.indexOf("COMMON_PARTS");let v;l&&(l.clipPathId="CLIPPATH_".concat(Fu()),v='<clipPath id="'.concat(l.clipPathId,`" >
`).concat(l.toClipPathSVG(n),`</clipPath>
`)),u&&p.push("<g ",o,this.getSvgCommons(),` >
`),p.push("<g ",this.getSvgTransform(!1),u?"":o+this.getSvgCommons(),` >
`);const g=[a,c,r?"":this.addPaintOrder()," ",s?'transform="'.concat(s,'" '):""].join("");return e[m]=g,$s(A)&&p.push(A.toSVG(this)),$s(d)&&p.push(d.toSVG(this)),f&&p.push(f.toSVG(this)),l&&p.push(v),p.push(e.join("")),p.push(`</g>
`),u&&p.push(`</g>
`),n?n(p.join("")):p.join("")}addPaintOrder(){return this.paintFirst!==hn?' paint-order="'.concat(this.paintFirst,'" '):""}};function g5(t){return new RegExp("^("+t.join("|")+")\\b","i")}var YP;const S0=String.raw(YP||(YP=Wu(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"]))),OMe=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+S0+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+S0+"))?\\s+(.*)"),PMe={cx:Kt,x:Kt,r:"radius",cy:zi,y:zi,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},r7="font-size",n7="clip-path";g5(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);g5(["symbol","image","marker","pattern","view","svg"]);const JP=g5(["symbol","g","a","svg","clipPath","defs"]),UMe=new ce(1,0),Fee=new ce,Tee=(t,e)=>t.rotate(e),pS=(t,e)=>new ce(e).subtract(t),mS=t=>t.distanceFrom(Fee),gS=(t,e)=>Math.atan2(Qm(t,e),QMe(t,e)),RMe=t=>gS(UMe,t),EF=t=>t.eq(Fee)?t:t.scalarDivide(mS(t)),Dee=function(t){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return EF(new ce(-t.y,t.x).scalarMultiply(e?1:-1))},Qm=(t,e)=>t.x*e.y-t.y*e.x,QMe=(t,e)=>t.x*e.x+t.y*e.y,ZP=(t,e,r)=>{if(t.eq(e)||t.eq(r))return!0;const n=Qm(e,r),i=Qm(e,t),s=Qm(r,t);return n>=0?i>=0&&s<=0:!(i<=0&&s>=0)},eU="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",tU=new RegExp("(?:\\s|^)"+eU+eU+"("+S0+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");let SA=class yx{constructor(e){const r=typeof e=="string"?yx.parseShadow(e):e;Object.assign(this,yx.ownDefaults,r),this.id=Fu()}static parseShadow(e){const r=e.trim(),[,n=0,i=0,s=0]=(tU.exec(r)||[]).map(a=>parseFloat(a)||0);return{color:(r.replace(tU,"")||"rgb(0,0,0)").trim(),offsetX:n,offsetY:i,blur:s}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(e){const r=Tee(new ce(this.offsetX,this.offsetY),Kr(-e.angle)),n=new Gi(this.color);let i=40,s=40;return e.width&&e.height&&(i=100*_r((Math.abs(r.x)+this.blur)/e.width,Tt.NUM_FRACTION_DIGITS)+20,s=100*_r((Math.abs(r.y)+this.blur)/e.height,Tt.NUM_FRACTION_DIGITS)+20),e.flipX&&(r.x*=-1),e.flipY&&(r.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(s,'%" height="').concat(100+2*s,'%" x="-').concat(i,'%" width="').concat(100+2*i,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(_r(this.blur?this.blur/2:0,Tt.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(_r(r.x,Tt.NUM_FRACTION_DIGITS),'" dy="').concat(_r(r.y,Tt.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(n.toRgb(),'" flood-opacity="').concat(n.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const e={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},r=yx.ownDefaults;return this.includeDefaultValues?e:SF(e,(n,i)=>n!==r[i])}static async fromObject(e){return new this(e)}};V(SA,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),V(SA,"type","shadow"),Re.setClass(SA,"shadow");const JA=(t,e,r)=>Math.max(t,Math.min(e,r)),zMe=[zi,Kt,Wi,ia,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",Bf,Sf],Jl=[hn,$i,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],HMe={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:Kt,originY:zi,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:hn,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},$Me=(t,e,r,n)=>-r*Math.cos(t/n*H1)+r+e,VMe=()=>!1;let MF=class{constructor(e){let{startValue:r,byValue:n,duration:i=500,delay:s=0,easing:a=$Me,onStart:o=fx,onChange:l=fx,onComplete:c=fx,abort:u=VMe,target:d}=e;V(this,"_state","pending"),V(this,"durationProgress",0),V(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=i,this.delay=s,this.easing=a,this._onStart=o,this._onChange=l,this._onComplete=c,this._abort=u,this.target=d,this.startValue=r,this.byValue=n,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const e=r=>{this._state==="pending"&&(this.startTime=r||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>mx(e),this.delay):mx(e)}tick(e){const r=(e||+new Date)-this.startTime,n=Math.min(r,this.duration);this.durationProgress=n/this.duration;const{value:i,valueProgress:s}=this.calculate(n);this.value=Object.freeze(i),this.valueProgress=s,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):r>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),mx(this.tick)))}register(){l3.push(this)}unregister(){l3.remove(this)}abort(){this._state="aborted",this.unregister()}};const KMe=["startValue","endValue"];let qMe=class extends MF{constructor(e){let{startValue:r=0,endValue:n=100}=e;super(Y(Y({},xr(e,KMe)),{},{startValue:r,byValue:n-r}))}calculate(e){const r=this.easing(e,this.startValue,this.byValue,this.duration);return{value:r,valueProgress:Math.abs((r-this.startValue)/this.byValue)}}};const WMe=["startValue","endValue"];let GMe=class extends MF{constructor(e){let{startValue:r=[0],endValue:n=[100]}=e;super(Y(Y({},xr(e,WMe)),{},{startValue:r,byValue:n.map((i,s)=>i-r[s])}))}calculate(e){const r=this.startValue.map((n,i)=>this.easing(e,n,this.byValue[i],this.duration,i));return{value:r,valueProgress:Math.abs((r[0]-this.startValue[0])/this.byValue[0])}}};const XMe=["startValue","endValue","easing","onChange","onComplete","abort"],YMe=(t,e,r,n)=>e+r*(1-Math.cos(t/n*H1)),i7=t=>t&&((e,r,n)=>t(new Gi(e).toRgba(),r,n));let JMe=class extends MF{constructor(e){let{startValue:r,endValue:n,easing:i=YMe,onChange:s,onComplete:a,abort:o}=e,l=xr(e,XMe);const c=new Gi(r).getSource(),u=new Gi(n).getSource();super(Y(Y({},l),{},{startValue:c,byValue:u.map((d,A)=>d-c[A]),easing:i,onChange:i7(s),onComplete:i7(a),abort:i7(o)}))}calculate(e){const[r,n,i,s]=this.startValue.map((o,l)=>this.easing(e,o,this.byValue[l],this.duration,l)),a=[...[r,n,i].map(Math.round),JA(0,s,1)];return{value:a,valueProgress:a.map((o,l)=>this.byValue[l]!==0?Math.abs((o-this.startValue[l])/this.byValue[l]):0).find(o=>o!==0)||0}}};function Lee(t){const e=(r=>Array.isArray(r.startValue)||Array.isArray(r.endValue))(t)?new GMe(t):new qMe(t);return e.start(),e}function ZMe(t){const e=new JMe(t);return e.start(),e}let zm=class yn{constructor(e){this.status=e,this.points=[]}includes(e){return this.points.some(r=>r.eq(e))}append(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.points=this.points.concat(r.filter(i=>!this.includes(i))),this}static isPointContained(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(r.eq(n))return e.eq(r);if(r.x===n.x)return e.x===r.x&&(i||e.y>=Math.min(r.y,n.y)&&e.y<=Math.max(r.y,n.y));if(r.y===n.y)return e.y===r.y&&(i||e.x>=Math.min(r.x,n.x)&&e.x<=Math.max(r.x,n.x));{const s=pS(r,n),a=pS(r,e).divide(s);return i?Math.abs(a.x)===Math.abs(a.y):a.x===a.y&&a.x>=0&&a.x<=1}}static isPointInPolygon(e,r){const n=new ce(e).setX(Math.min(e.x-1,...r.map(s=>s.x)));let i=0;for(let s=0;s<r.length;s++){const a=this.intersectSegmentSegment(r[s],r[(s+1)%r.length],e,n);if(a.includes(e))return!0;i+=+(a.status==="Intersection")}return i%2==1}static intersectLineLine(e,r,n,i){let s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],a=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const o=r.x-e.x,l=r.y-e.y,c=i.x-n.x,u=i.y-n.y,d=e.x-n.x,A=e.y-n.y,f=c*A-u*d,p=o*A-l*d,m=u*o-c*l;if(m!==0){const v=f/m,g=p/m;return(s||0<=v&&v<=1)&&(a||0<=g&&g<=1)?new yn("Intersection").append(new ce(e.x+v*o,e.y+v*l)):new yn}if(f===0||p===0){const v=s||a||yn.isPointContained(e,n,i)||yn.isPointContained(r,n,i)||yn.isPointContained(n,e,r)||yn.isPointContained(i,e,r);return new yn(v?"Coincident":void 0)}return new yn("Parallel")}static intersectSegmentLine(e,r,n,i){return yn.intersectLineLine(e,r,n,i,!1,!0)}static intersectSegmentSegment(e,r,n,i){return yn.intersectLineLine(e,r,n,i,!1,!1)}static intersectLinePolygon(e,r,n){let i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const s=new yn,a=n.length;for(let o,l,c,u=0;u<a;u++){if(o=n[u],l=n[(u+1)%a],c=yn.intersectLineLine(e,r,o,l,i,!1),c.status==="Coincident")return c;s.append(...c.points)}return s.points.length>0&&(s.status="Intersection"),s}static intersectSegmentPolygon(e,r,n){return yn.intersectLinePolygon(e,r,n,!1)}static intersectPolygonPolygon(e,r){const n=new yn,i=e.length,s=[];for(let a=0;a<i;a++){const o=e[a],l=e[(a+1)%i],c=yn.intersectSegmentPolygon(o,l,r);c.status==="Coincident"?(s.push(c),n.append(o,l)):n.append(...c.points)}return s.length>0&&s.length===e.length?new yn("Coincident"):(n.points.length>0&&(n.status="Intersection"),n)}static intersectPolygonRectangle(e,r,n){const i=r.min(n),s=r.max(n),a=new ce(s.x,i.y),o=new ce(i.x,s.y);return yn.intersectPolygonPolygon(e,[i,a,s,o])}},eFe=class extends Aee{getX(){return this.getXY().x}setX(e){this.setXY(this.getXY().setX(e))}getY(){return this.getXY().y}setY(e){this.setXY(this.getXY().setY(e))}getRelativeX(){return this.left}setRelativeX(e){this.left=e}getRelativeY(){return this.top}setRelativeY(e){this.top=e}getXY(){const e=this.getRelativeXY();return this.group?Ti(e,this.group.calcTransformMatrix()):e}setXY(e,r,n){this.group&&(e=Ti(e,ka(this.group.calcTransformMatrix()))),this.setRelativeXY(e,r,n)}getRelativeXY(){return new ce(this.left,this.top)}setRelativeXY(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(e,r,n)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:e,tr:r,br:n,bl:i}=this.aCoords||(this.aCoords=this.calcACoords()),s=[e,r,n,i];if(this.group){const a=this.group.calcTransformMatrix();return s.map(o=>Ti(o,a))}return s}intersectsWithRect(e,r){return zm.intersectPolygonRectangle(this.getCoords(),e,r).status==="Intersection"}intersectsWithObject(e){const r=zm.intersectPolygonPolygon(this.getCoords(),e.getCoords());return r.status==="Intersection"||r.status==="Coincident"||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}isContainedWithinObject(e){return this.getCoords().every(r=>e.containsPoint(r))}isContainedWithinRect(e,r){const{left:n,top:i,width:s,height:a}=this.getBoundingRect();return n>=e.x&&n+s<=r.x&&i>=e.y&&i+a<=r.y}isOverlapping(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}containsPoint(e){return zm.isPointInPolygon(e,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:e,br:r}=this.canvas.vptCoords;return!!this.getCoords().some(n=>n.x<=r.x&&n.x>=e.x&&n.y<=r.y&&n.y>=e.y)||!!this.intersectsWithRect(e,r)||this.containsPoint(e.midPointFrom(r))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:e,br:r}=this.canvas.vptCoords;return this.intersectsWithRect(e,r)?!0:this.getCoords().every(n=>(n.x>=r.x||n.x<=e.x)&&(n.y>=r.y||n.y<=e.y))&&this.containsPoint(e.midPointFrom(r))}getBoundingRect(){return El(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(e){this._set(Wi,e),this._set(ia,e),this.setCoords()}scaleToWidth(e){const r=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/r)}scaleToHeight(e){const r=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/r)}getCanvasRetinaScaling(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.getRetinaScaling())||1}getTotalAngle(){return this.group?B0(mee(this.calcTransformMatrix())):this.angle}getViewportTransform(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.viewportTransform)||yi.concat()}calcACoords(){const e=V1({angle:this.angle}),{x:r,y:n}=this.getRelativeCenterPoint(),i=$1(r,n),s=Nn(i,e),a=this._getTransformedDimensions(),o=a.x/2,l=a.y/2;return{tl:Ti({x:-o,y:-l},s),tr:Ti({x:o,y:-l},s),bl:Ti({x:-o,y:l},s),br:Ti({x:o,y:l},s)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=[];return!e&&this.group&&(r=this.group.transformMatrixKey(e)),r.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,en(this.originX),en(this.originY)),r}calcTransformMatrix(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=this.calcOwnMatrix();if(e||!this.group)return r;const n=this.transformMatrixKey(e),i=this.matrixCache;return i&&i.key.every((s,a)=>s===n[a])?i.value:(this.group&&(r=Nn(this.group.calcTransformMatrix(!1),r)),this.matrixCache={key:n,value:r},r)}calcOwnMatrix(){const e=this.transformMatrixKey(!0),r=this.ownMatrixCache;if(r&&r.key===e)return r.value;const n=this.getRelativeCenterPoint(),i={angle:this.angle,translateX:n.x,translateY:n.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},s=SMe(i);return this.ownMatrixCache={key:e,value:s},s}_getNonTransformedDimensions(){return new ce(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=Y({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),n=r.strokeWidth;let i=n,s=0;this.strokeUniform&&(i=0,s=n);const a=r.width+i,o=r.height+i;let l;return l=r.skewX===0&&r.skewY===0?new ce(a*r.scaleX,o*r.scaleY):_F(a,o,f5(r)),l.scalarAdd(s)}translateToGivenOrigin(e,r,n,i,s){let a=e.x,o=e.y;const l=en(i)-en(r),c=en(s)-en(n);if(l||c){const u=this._getTransformedDimensions();a+=l*u.x,o+=c*u.y}return new ce(a,o)}translateToCenterPoint(e,r,n){if(r===pt&&n===pt)return e;const i=this.translateToGivenOrigin(e,r,n,pt,pt);return this.angle?i.rotate(Kr(this.angle),e):i}translateToOriginPoint(e,r,n){const i=this.translateToGivenOrigin(e,pt,pt,r,n);return this.angle?i.rotate(Kr(this.angle),e):i}getCenterPoint(){const e=this.getRelativeCenterPoint();return this.group?Ti(e,this.group.calcTransformMatrix()):e}getRelativeCenterPoint(){return this.translateToCenterPoint(new ce(this.left,this.top),this.originX,this.originY)}getPointByOrigin(e,r){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,r)}setPositionByOrigin(e,r,n){const i=this.translateToCenterPoint(e,r,n),s=this.translateToOriginPoint(i,this.originX,this.originY);this.set({left:s.x,top:s.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),Kt,zi)}};const tFe=["type"],rFe=["extraParam"];let tl=class vx extends eFe{static getDefaults(){return vx.ownDefaults}get type(){const e=this.constructor.type;return e==="FabricObject"?"object":e.toLowerCase()}set type(e){Mu("warn","Setting type has no effect",e)}constructor(e){super(),V(this,"_cacheContext",null),Object.assign(this,vx.ownDefaults),this.setOptions(e)}_createCacheCanvas(){this._cacheCanvas=Pa(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(e){const r=e.width,n=e.height,i=Tt.maxCacheSideLimit,s=Tt.minCacheSideLimit;if(r<=i&&n<=i&&r*n<=Tt.perfLimitSizeTotal)return r<s&&(e.width=s),n<s&&(e.height=s),e;const a=r/n,[o,l]=Rm.limitDimsByArea(a),c=JA(s,o,i),u=JA(s,l,i);return r>c&&(e.zoomX/=r/c,e.width=c,e.capped=!0),n>u&&(e.zoomY/=n/u,e.height=u,e.capped=!0),e}_getCacheCanvasDimensions(){const e=this.getTotalObjectScaling(),r=this._getTransformedDimensions({skewX:0,skewY:0}),n=r.x*e.x/this.scaleX,i=r.y*e.y/this.scaleY;return{width:Math.ceil(n+2),height:Math.ceil(i+2),zoomX:e.x,zoomY:e.y,x:n,y:i}}_updateCacheCanvas(){const e=this._cacheCanvas,r=this._cacheContext,{width:n,height:i,zoomX:s,zoomY:a,x:o,y:l}=this._limitCacheSize(this._getCacheCanvasDimensions()),c=n!==e.width||i!==e.height,u=this.zoomX!==s||this.zoomY!==a;if(!e||!r)return!1;if(c||u){n!==e.width||i!==e.height?(e.width=n,e.height=i):(r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,e.width,e.height));const d=o/2,A=l/2;return this.cacheTranslationX=Math.round(e.width/2-d)+d,this.cacheTranslationY=Math.round(e.height/2-A)+A,r.translate(this.cacheTranslationX,this.cacheTranslationY),r.scale(s,a),this.zoomX=s,this.zoomY=a,!0}return!1}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(e)}transform(e){const r=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,n=this.calcTransformMatrix(!r);e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}getObjectScaling(){if(!this.group)return new ce(Math.abs(this.scaleX),Math.abs(this.scaleY));const e=c3(this.calcTransformMatrix());return new ce(Math.abs(e.scaleX),Math.abs(e.scaleY))}getTotalObjectScaling(){const e=this.getObjectScaling();if(this.canvas){const r=this.canvas.getZoom(),n=this.getCanvasRetinaScaling();return e.scalarMultiply(r*n)}return e}getObjectOpacity(){let e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}_constrainScale(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:e===0?1e-4:e}_set(e,r){e!==Wi&&e!==ia||(r=this._constrainScale(r)),e===Wi&&r<0?(this.flipX=!this.flipX,r*=-1):e==="scaleY"&&r<0?(this.flipY=!this.flipY,r*=-1):e!=="shadow"||!r||r instanceof SA||(r=new SA(r));const n=this[e]!==r;return this[e]=r,n&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||n&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e,!1,{}),this.dirty=!1),e.restore())}drawSelectionBackground(e){}renderCache(e){if(e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:r,zoomY:n,cacheTranslationX:i,cacheTranslationY:s}=this,{width:a,height:o}=this._cacheCanvas;this.drawObject(this._cacheContext,e.forClipping,{zoomX:r,zoomY:n,cacheTranslationX:i,cacheTranslationY:s,width:a,height:o,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===$i&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(e,r,n){e.save(),r.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",e.setTransform(1,0,0,1,0,0),e.drawImage(n,0,0),e.restore()}drawObject(e,r,n){const i=this.fill,s=this.stroke;r?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath,n),this.fill=i,this.stroke=s}createClipPathLayer(e,r){const n=Do(r),i=n.getContext("2d");if(i.translate(r.cacheTranslationX,r.cacheTranslationY),i.scale(r.zoomX,r.zoomY),e._cacheCanvas=n,r.parentClipPaths.forEach(s=>{s.transform(i)}),r.parentClipPaths.push(e),e.absolutePositioned){const s=ka(this.calcTransformMatrix());i.transform(s[0],s[1],s[2],s[3],s[4],s[5])}return e.transform(i),e.drawObject(i,!0,r),n}_drawClipPath(e,r,n){if(!r)return;r._transformDone=!0;const i=this.createClipPathLayer(r,n);this.drawClipPathOnCache(e,r,i)}drawCacheOnCanvas(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const r=this._cacheCanvas,n=this._cacheContext;return!(!r||!n||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(r&&n&&!e&&(n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,r.width,r.height),n.restore()),!0)}_renderBackground(e){if(!this.backgroundColor)return;const r=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),this._removeShadow(e)}_setOpacity(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}_setStrokeStyles(e,r){const n=r.stroke;n&&(e.lineWidth=r.strokeWidth,e.lineCap=r.strokeLineCap,e.lineDashOffset=r.strokeDashOffset,e.lineJoin=r.strokeLineJoin,e.miterLimit=r.strokeMiterLimit,$s(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?this._applyPatternForTransformedGradient(e,n):(e.strokeStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.strokeStyle=r.stroke)}_setFillStyles(e,r){let{fill:n}=r;n&&($s(n)?(e.fillStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.fillStyle=n)}_setClippingProperties(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}_setLineDash(e,r){r&&r.length!==0&&e.setLineDash(r)}_setShadow(e){if(!this.shadow)return;const r=this.shadow,n=this.canvas,i=this.getCanvasRetinaScaling(),[s,,,a]=(n==null?void 0:n.viewportTransform)||yi,o=s*i,l=a*i,c=r.nonScaling?new ce(1,1):this.getObjectScaling();e.shadowColor=r.color,e.shadowBlur=r.blur*Tt.browserShadowBlurConstant*(o+l)*(c.x+c.y)/4,e.shadowOffsetX=r.offsetX*o*c.x,e.shadowOffsetY=r.offsetY*l*c.y}_removeShadow(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}_applyPatternGradientTransform(e,r){if(!$s(r))return{offsetX:0,offsetY:0};const n=r.gradientTransform||r.patternTransform,i=-this.width/2+r.offsetX||0,s=-this.height/2+r.offsetY||0;return r.gradientUnits==="percentage"?e.transform(this.width,0,0,this.height,i,s):e.transform(1,0,0,1,i,s),n&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:i,offsetY:s}}_renderPaintInOrder(e){this.paintFirst===$i?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}_render(e){}_renderFill(e){this.fill&&(e.save(),this._setFillStyles(e,this),this.fillRule==="evenodd"?e.fill("evenodd"):e.fill(),e.restore())}_renderStroke(e){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){const r=this.getObjectScaling();e.scale(1/r.x,1/r.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}_applyPatternForTransformedGradient(e,r){var n;const i=this._limitCacheSize(this._getCacheCanvasDimensions()),s=this.getCanvasRetinaScaling(),a=i.x/this.scaleX/s,o=i.y/this.scaleY/s,l=Do({width:Math.ceil(a),height:Math.ceil(o)}),c=l.getContext("2d");c&&(c.beginPath(),c.moveTo(0,0),c.lineTo(a,0),c.lineTo(a,o),c.lineTo(0,o),c.closePath(),c.translate(a/2,o/2),c.scale(i.zoomX/this.scaleX/s,i.zoomY/this.scaleY/s),this._applyPatternGradientTransform(c,r),c.fillStyle=r.toLive(e),c.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(s*this.scaleX/i.zoomX,s*this.scaleY/i.zoomY),e.strokeStyle=(n=c.createPattern(l,"no-repeat"))!==null&&n!==void 0?n:"")}_findCenterFromElement(){return new ce(this.left+this.width/2,this.top+this.height/2)}clone(e){const r=this.toObject(e);return this.constructor.fromObject(r)}cloneAsImage(e){const r=this.toCanvasElement(e);return new(Re.getClass("image"))(r)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=Bee(this),n=this.group,i=this.shadow,s=Math.abs,a=e.enableRetinaScaling?lee():1,o=(e.multiplier||1)*a,l=e.canvasProvider||(y=>new K1(y,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,e.withoutTransform&&DMe(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&NMe(this,this.getViewportTransform()),this.setCoords();const c=Pa(),u=this.getBoundingRect(),d=this.shadow,A=new ce;if(d){const y=d.blur,x=d.nonScaling?new ce(1,1):this.getObjectScaling();A.x=2*Math.round(s(d.offsetX)+y)*s(x.x),A.y=2*Math.round(s(d.offsetY)+y)*s(x.y)}const f=u.width+A.x,p=u.height+A.y;c.width=Math.ceil(f),c.height=Math.ceil(p);const m=l(c);e.format==="jpeg"&&(m.backgroundColor="#fff"),this.setPositionByOrigin(new ce(m.width/2,m.height/2),pt,pt);const v=this.canvas;m._objects=[this],this.set("canvas",m),this.setCoords();const g=m.toCanvasElement(o||1,e);return this.set("canvas",v),this.shadow=i,n&&(this.group=n),this.set(r),this.setCoords(),m._objects=[],m.destroy(),g}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fee(this.toCanvasElement(e),e.format||"png",e.quality||1)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return pee(this.toCanvasElement(e),e.format||"png",e.quality||1)}isType(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.includes(this.constructor.type)||r.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(e){const{centeredRotation:r,originX:n,originY:i}=this;if(r){const{x:s,y:a}=this.getRelativeCenterPoint();this.originX=pt,this.originY=pt,this.left=s,this.top=a}if(this.set("angle",e),r){const{x:s,y:a}=this.translateToOriginPoint(this.getRelativeCenterPoint(),n,i);this.left=s,this.top=a,this.originX=n,this.originY=i}}setOnGroup(){}_setupCompositeOperation(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}dispose(){l3.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&To().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(e,r){return Object.entries(e).reduce((n,i)=>{let[s,a]=i;return n[s]=this._animate(s,a,r),n},{})}_animate(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=e.split("."),s=this.constructor.colorProperties.includes(i[i.length-1]),{abort:a,startValue:o,onChange:l,onComplete:c}=n,u=Y(Y({},n),{},{target:this,startValue:o??i.reduce((d,A)=>d[A],this),endValue:r,abort:a==null?void 0:a.bind(this),onChange:(d,A,f)=>{i.reduce((p,m,v)=>(v===i.length-1&&(p[m]=d),p[m]),this),l&&l(d,A,f)},onComplete:(d,A,f)=>{this.setCoords(),c&&c(d,A,f)}});return s?ZMe(u):Lee(u)}isDescendantOf(e){const{parent:r,group:n}=this;return r===e||n===e||!!r&&r.isDescendantOf(e)||!!n&&n!==r&&n.isDescendantOf(e)}getAncestors(){const e=[];let r=this;do r=r.parent,r&&e.push(r);while(r);return e}findCommonAncestors(e){if(this===e)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const r=this.getAncestors(),n=e.getAncestors();if(r.length===0&&n.length>0&&this===n[n.length-1])return{fork:[],otherFork:[e,...n.slice(0,n.length-1)],common:[this]};for(let i,s=0;s<r.length;s++){if(i=r[s],i===e)return{fork:[this,...r.slice(0,s)],otherFork:[],common:r.slice(s)};for(let a=0;a<n.length;a++){if(this===n[a])return{fork:[],otherFork:[e,...n.slice(0,a)],common:[this,...r]};if(i===n[a])return{fork:[this,...r.slice(0,s)],otherFork:[e,...n.slice(0,a)],common:r.slice(s)}}}return{fork:[this,...r],otherFork:[e,...n],common:[]}}hasCommonAncestors(e){const r=this.findCommonAncestors(e);return r&&!!r.common.length}isInFrontOf(e){if(this===e)return;const r=this.findCommonAncestors(e);if(r.fork.includes(e))return!0;if(r.otherFork.includes(this))return!1;const n=r.common[0]||this.canvas;if(!n)return;const i=r.fork.pop(),s=r.otherFork.pop(),a=n._objects.indexOf(i),o=n._objects.indexOf(s);return a>-1&&a>o}toObject(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(vx.customProperties,this.constructor.customProperties||[]);let r;const n=Tt.NUM_FRACTION_DIGITS,{clipPath:i,fill:s,stroke:a,shadow:o,strokeDashArray:l,left:c,top:u,originX:d,originY:A,width:f,height:p,strokeWidth:m,strokeLineCap:v,strokeDashOffset:g,strokeLineJoin:y,strokeUniform:x,strokeMiterLimit:b,scaleX:w,scaleY:C,angle:B,flipX:S,flipY:E,opacity:M,visible:T,backgroundColor:L,fillRule:I,paintFirst:R,globalCompositeOperation:z,skewX:W,skewY:K}=this;i&&!i.excludeFromExport&&(r=i.toObject(e.concat("inverted","absolutePositioned")));const U=N=>_r(N,n),q=Y(Y({},_f(this,e)),{},{type:this.constructor.type,version:uS,originX:d,originY:A,left:U(c),top:U(u),width:U(f),height:U(p),fill:qP(s)?s.toObject():s,stroke:qP(a)?a.toObject():a,strokeWidth:U(m),strokeDashArray:l&&l.concat(),strokeLineCap:v,strokeDashOffset:g,strokeLineJoin:y,strokeUniform:x,strokeMiterLimit:U(b),scaleX:U(w),scaleY:U(C),angle:U(B),flipX:S,flipY:E,opacity:U(M),shadow:o&&o.toObject(),visible:T,backgroundColor:L,fillRule:I,paintFirst:R,globalCompositeOperation:z,skewX:U(W),skewY:U(K)},r?{clipPath:r}:null);return this.includeDefaultValues?q:this._removeDefaultValues(q)}toDatalessObject(e){return this.toObject(e)}_removeDefaultValues(e){const r=this.constructor.getDefaults(),n=Object.keys(r).length>0?r:Object.getPrototypeOf(this);return SF(e,(i,s)=>{if(s===Kt||s===zi||s==="type")return!0;const a=n[s];return i!==a&&!(Array.isArray(i)&&Array.isArray(a)&&i.length===0&&a.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(e){let r=xr(e,tFe),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:i}=n,s=xr(n,rFe);return p5(r,s).then(a=>i?(delete a[i],new this(r[i],a)):new this(a))}static fromObject(e,r){return this._fromObject(e,r)}};V(tl,"stateProperties",zMe),V(tl,"cacheProperties",Jl),V(tl,"ownDefaults",HMe),V(tl,"type","FabricObject"),V(tl,"colorProperties",[hn,$i,"backgroundColor"]),V(tl,"customProperties",[]),Re.setClass(tl),Re.setClass(tl,"object");const kf=(t,e,r)=>(n,i,s,a)=>{const o=e(n,i,s,a);return o&&See(t,Y(Y({},kee(n,i,s,a)),r)),o};function Ef(t){return(e,r,n,i)=>{const{target:s,originX:a,originY:o}=r,l=s.getRelativeCenterPoint(),c=s.translateToOriginPoint(l,a,o),u=t(e,r,n,i);return s.setPositionByOrigin(c,r.originX,r.originY),u}}const rU=kf(Xg,Ef((t,e,r,n)=>{const i=kF(e,e.originX,e.originY,r,n);if(en(e.originX)===en(pt)||en(e.originX)===en(Qr)&&i.x<0||en(e.originX)===en(Kt)&&i.x>0){const{target:s}=e,a=s.strokeWidth/(s.strokeUniform?s.scaleX:1),o=_ee(e)?2:1,l=s.width,c=Math.abs(i.x*o/s.scaleX)-a;return s.set("width",Math.max(c,1)),l!==s.width}return!1}));function nFe(t,e,r,n,i){n=n||{};const s=this.sizeX||n.cornerSize||i.cornerSize,a=this.sizeY||n.cornerSize||i.cornerSize,o=n.transparentCorners!==void 0?n.transparentCorners:i.transparentCorners,l=o?$i:hn,c=!o&&(n.cornerStrokeColor||i.cornerStrokeColor);let u,d=e,A=r;t.save(),t.fillStyle=n.cornerColor||i.cornerColor||"",t.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor||"",s>a?(u=s,t.scale(1,a/s),A=r*s/a):a>s?(u=a,t.scale(s/a,1),d=e*a/s):u=s,t.beginPath(),t.arc(d,A,u/2,0,s3,!1),t[l](),c&&t.stroke(),t.restore()}function iFe(t,e,r,n,i){n=n||{};const s=this.sizeX||n.cornerSize||i.cornerSize,a=this.sizeY||n.cornerSize||i.cornerSize,o=n.transparentCorners!==void 0?n.transparentCorners:i.transparentCorners,l=o?$i:hn,c=!o&&(n.cornerStrokeColor||i.cornerStrokeColor),u=s/2,d=a/2;t.save(),t.fillStyle=n.cornerColor||i.cornerColor||"",t.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor||"",t.translate(e,r);const A=i.getTotalAngle();t.rotate(Kr(A)),t["".concat(l,"Rect")](-u,-d,s,a),c&&t.strokeRect(-u,-d,s,a),t.restore()}let Jr=class{constructor(e){V(this,"visible",!0),V(this,"actionName",A5),V(this,"angle",0),V(this,"x",0),V(this,"y",0),V(this,"offsetX",0),V(this,"offsetY",0),V(this,"sizeX",0),V(this,"sizeY",0),V(this,"touchSizeX",0),V(this,"touchSizeY",0),V(this,"cursorStyle","crosshair"),V(this,"withConnection",!1),Object.assign(this,e)}shouldActivate(e,r,n,i){var s;let{tl:a,tr:o,br:l,bl:c}=i;return((s=r.canvas)===null||s===void 0?void 0:s.getActiveObject())===r&&r.isControlVisible(e)&&zm.isPointInPolygon(n,[a,o,l,c])}getActionHandler(e,r,n){return this.actionHandler}getMouseDownHandler(e,r,n){return this.mouseDownHandler}getMouseUpHandler(e,r,n){return this.mouseUpHandler}cursorStyleHandler(e,r,n){return r.cursorStyle}getActionName(e,r,n){return r.actionName}getVisibility(e,r){var n,i;return(n=(i=e._controlsVisibility)===null||i===void 0?void 0:i[r])!==null&&n!==void 0?n:this.visible}setVisibility(e,r,n){this.visible=e}positionHandler(e,r,n,i){return new ce(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(r)}calcCornerCoords(e,r,n,i,s,a){const o=CF([$1(n,i),V1({angle:e}),BF((s?this.touchSizeX:this.sizeX)||r,(s?this.touchSizeY:this.sizeY)||r)]);return{tl:new ce(-.5,-.5).transform(o),tr:new ce(.5,-.5).transform(o),br:new ce(.5,.5).transform(o),bl:new ce(-.5,.5).transform(o)}}render(e,r,n,i,s){((i=i||{}).cornerStyle||s.cornerStyle)==="circle"?nFe.call(this,e,r,n,i,s):iFe.call(this,e,r,n,i,s)}};const sFe=(t,e,r)=>r.lockRotation?h3:e.cursorStyle,aFe=kf(uee,Ef((t,e,r,n)=>{let{target:i,ex:s,ey:a,theta:o,originX:l,originY:c}=e;const u=i.translateToOriginPoint(i.getRelativeCenterPoint(),l,c);if(La(i,"lockRotation"))return!1;const d=Math.atan2(a-u.y,s-u.x),A=Math.atan2(n-u.y,r-u.x);let f=B0(A-d+o);if(i.snapAngle&&i.snapAngle>0){const m=i.snapAngle,v=i.snapThreshold||m,g=Math.ceil(f/m)*m,y=Math.floor(f/m)*m;Math.abs(f-y)<v?f=y:Math.abs(f-g)<v&&(f=g)}f<0&&(f=360+f),f%=360;const p=i.angle!==f;return i.angle=f,p}));function Nee(t,e){const r=e.canvas,n=t[r.uniScaleKey];return r.uniformScaling&&!n||!r.uniformScaling&&n}function jee(t,e,r){const n=La(t,"lockScalingX"),i=La(t,"lockScalingY");if(n&&i||!e&&(n||i)&&r||n&&e==="x"||i&&e==="y")return!0;const{width:s,height:a,strokeWidth:o}=t;return s===0&&o===0&&e!=="y"||a===0&&o===0&&e!=="x"}const oFe=["e","se","s","sw","w","nw","n","ne","e"],Jp=(t,e,r)=>{const n=Nee(t,r);if(jee(r,e.x!==0&&e.y===0?"x":e.x===0&&e.y!==0?"y":"",n))return h3;const i=Eee(r,e);return"".concat(oFe[i],"-resize")};function FF(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const s=e.target,a=i.by,o=Nee(t,s);let l,c,u,d,A,f;if(jee(s,a,o))return!1;if(e.gestureScale)c=e.scaleX*e.gestureScale,u=e.scaleY*e.gestureScale;else{if(l=kF(e,e.originX,e.originY,r,n),A=a!=="y"?Math.sign(l.x||e.signX||1):1,f=a!=="x"?Math.sign(l.y||e.signY||1):1,e.signX||(e.signX=A),e.signY||(e.signY=f),La(s,"lockScalingFlip")&&(e.signX!==A||e.signY!==f))return!1;if(d=s._getTransformedDimensions(),o&&!a){const v=Math.abs(l.x)+Math.abs(l.y),{original:g}=e,y=v/(Math.abs(d.x*g.scaleX/s.scaleX)+Math.abs(d.y*g.scaleY/s.scaleY));c=g.scaleX*y,u=g.scaleY*y}else c=Math.abs(l.x*s.scaleX/d.x),u=Math.abs(l.y*s.scaleY/d.y);_ee(e)&&(c*=2,u*=2),e.signX!==A&&a!=="y"&&(e.originX=XP(e.originX),c*=-1,e.signX=A),e.signY!==f&&a!=="x"&&(e.originY=XP(e.originY),u*=-1,e.signY=f)}const p=s.scaleX,m=s.scaleY;return a?(a==="x"&&s.set(Wi,c),a==="y"&&s.set(ia,u)):(!La(s,"lockScalingX")&&s.set(Wi,c),!La(s,"lockScalingY")&&s.set(ia,u)),p!==s.scaleX||m!==s.scaleY}const cy=kf(h5,Ef((t,e,r,n)=>FF(t,e,r,n))),lFe=kf(h5,Ef((t,e,r,n)=>FF(t,e,r,n,{by:"x"}))),cFe=kf(h5,Ef((t,e,r,n)=>FF(t,e,r,n,{by:"y"}))),uFe=["target","ex","ey","skewingSide"],s7={x:{counterAxis:"y",scale:Wi,skew:Bf,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:ia,skew:Sf,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},dFe=["ns","nesw","ew","nwse"],hFe=(t,e,r)=>{if(e.x!==0&&La(r,"lockSkewingY")||e.y!==0&&La(r,"lockSkewingX"))return h3;const n=Eee(r,e)%4;return"".concat(dFe[n],"-resize")};function Iee(t,e,r,n,i){const{target:s}=r,{counterAxis:a,origin:o,lockSkewing:l,skew:c,flip:u}=s7[t];if(La(s,l))return!1;const{origin:d,flip:A}=s7[a],f=en(r[d])*(s[A]?-1:1),p=-Math.sign(f)*(s[u]?-1:1),m=.5*-((s[c]===0&&kF(r,pt,pt,n,i)[t]>0||s[c]>0?1:-1)*p)+.5;return kf(dee,Ef((g,y,x,b)=>function(w,C,B){let{target:S,ex:E,ey:M,skewingSide:T}=C,L=xr(C,uFe);const{skew:I}=s7[w],R=B.subtract(new ce(E,M)).divide(new ce(S.scaleX,S.scaleY))[w],z=S[I],W=L[I],K=Math.tan(Kr(W)),U=w==="y"?S._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:S._getTransformedDimensions({scaleX:1,scaleY:1}).y,q=2*R*T/Math.max(U,1)+K,N=B0(Math.atan(q));S.set(I,N);const ne=z!==S[I];if(ne&&w==="y"){const{skewX:re,scaleX:O}=S,me=S._getTransformedDimensions({skewY:z}),Ce=S._getTransformedDimensions(),oe=re!==0?me.x/Ce.x:1;oe!==1&&S.set(Wi,oe*O)}return ne}(t,y,new ce(x,b))))(e,Y(Y({},r),{},{[o]:m,skewingSide:p}),n,i)}const AFe=(t,e,r,n)=>Iee("x",t,e,r,n),fFe=(t,e,r,n)=>Iee("y",t,e,r,n);function y5(t,e){return t[e.canvas.altActionKey]}const uy=(t,e,r)=>{const n=y5(t,r);return e.x===0?n?Bf:ia:e.y===0?n?Sf:Wi:""},Xh=(t,e,r)=>y5(t,r)?hFe(0,e,r):Jp(t,e,r),nU=(t,e,r,n)=>y5(t,e.target)?fFe(t,e,r,n):lFe(t,e,r,n),iU=(t,e,r,n)=>y5(t,e.target)?AFe(t,e,r,n):cFe(t,e,r,n),Oee=()=>({ml:new Jr({x:-.5,y:0,cursorStyleHandler:Xh,actionHandler:nU,getActionName:uy}),mr:new Jr({x:.5,y:0,cursorStyleHandler:Xh,actionHandler:nU,getActionName:uy}),mb:new Jr({x:0,y:.5,cursorStyleHandler:Xh,actionHandler:iU,getActionName:uy}),mt:new Jr({x:0,y:-.5,cursorStyleHandler:Xh,actionHandler:iU,getActionName:uy}),tl:new Jr({x:-.5,y:-.5,cursorStyleHandler:Jp,actionHandler:cy}),tr:new Jr({x:.5,y:-.5,cursorStyleHandler:Jp,actionHandler:cy}),bl:new Jr({x:-.5,y:.5,cursorStyleHandler:Jp,actionHandler:cy}),br:new Jr({x:.5,y:.5,cursorStyleHandler:Jp,actionHandler:cy}),mtr:new Jr({x:0,y:-.5,actionHandler:aFe,cursorStyleHandler:sFe,offsetY:-40,withConnection:!0,actionName:bF})}),pFe=()=>({mr:new Jr({x:.5,y:0,actionHandler:rU,cursorStyleHandler:Xh,actionName:Xg}),ml:new Jr({x:-.5,y:0,actionHandler:rU,cursorStyleHandler:Xh,actionName:Xg})}),mFe=()=>Y(Y({},Oee()),pFe());class _0 extends tl{static getDefaults(){return Y(Y({},super.getDefaults()),_0.ownDefaults)}constructor(e){super(),Object.assign(this,this.constructor.createControls(),_0.ownDefaults),this.setOptions(e)}static createControls(){return{controls:Oee()}}_updateCacheCanvas(){const e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){const r=e._currentTransform,n=r.target,i=r.action;if(this===n&&i&&i.startsWith(A5))return!1}return super._updateCacheCanvas()}getActiveControl(){const e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}findControl(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const n=Object.entries(this.oCoords);for(let i=n.length-1;i>=0;i--){const[s,a]=n[i],o=this.controls[s];if(o.shouldActivate(s,this,e,r?a.touchCorner:a.corner))return this.__corner=s,{key:s,control:o,coord:this.oCoords[s]}}}calcOCoords(){const e=this.getViewportTransform(),r=this.getCenterPoint(),n=$1(r.x,r.y),i=V1({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),s=Nn(n,i),a=Nn(e,s),o=Nn(a,[1/e[0],0,0,1/e[3],0,0]),l=this.group?c3(this.calcTransformMatrix()):void 0;l&&(l.scaleX=Math.abs(l.scaleX),l.scaleY=Math.abs(l.scaleY));const c=this._calculateCurrentDimensions(l),u={};return this.forEachControl((d,A)=>{const f=d.positionHandler(c,o,this,d);u[A]=Object.assign(f,this._calcCornerCoords(d,f))}),u}_calcCornerCoords(e,r){const n=this.getTotalAngle();return{corner:e.calcCornerCoords(n,this.cornerSize,r.x,r.y,!1,this),touchCorner:e.calcCornerCoords(n,this.touchCornerSize,r.x,r.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(e){for(const r in this.controls)e(this.controls[r],r,this)}drawSelectionBackground(e){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;e.save();const r=this.getRelativeCenterPoint(),n=this._calculateCurrentDimensions(),i=this.getViewportTransform();e.translate(r.x,r.y),e.scale(1/i[0],1/i[3]),e.rotate(Kr(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-n.x/2,-n.y/2,n.x,n.y),e.restore()}strokeBorders(e,r){e.strokeRect(-r.x/2,-r.y/2,r.x,r.y)}_drawBorders(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=Y({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},n);e.save(),e.strokeStyle=i.borderColor,this._setLineDash(e,i.borderDashArray),this.strokeBorders(e,r),i.hasControls&&this.drawControlsConnectingLines(e,r),e.restore()}_renderControls(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:n,hasControls:i}=this,s=Y({hasBorders:n,hasControls:i},r),a=this.getViewportTransform(),o=s.hasBorders,l=s.hasControls,c=Nn(a,this.calcTransformMatrix()),u=c3(c);e.save(),e.translate(u.translateX,u.translateY),e.lineWidth=this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(u.angle-=180),e.rotate(Kr(this.group?u.angle:this.angle)),o&&this.drawBorders(e,u,r),l&&this.drawControls(e,r),e.restore()}drawBorders(e,r,n){let i;if(n&&n.forActiveSelection||this.group){const s=_F(this.width,this.height,f5(r)),a=this.isStrokeAccountedForInDimensions()?wF:(this.strokeUniform?new ce().scalarAdd(this.canvas?this.canvas.getZoom():1):new ce(r.scaleX,r.scaleY)).scalarMultiply(this.strokeWidth);i=s.add(a).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else i=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,i,n)}drawControlsConnectingLines(e,r){let n=!1;e.beginPath(),this.forEachControl((i,s)=>{i.withConnection&&i.getVisibility(this,s)&&(n=!0,e.moveTo(i.x*r.x,i.y*r.y),e.lineTo(i.x*r.x+i.offsetX,i.y*r.y+i.offsetY))}),n&&e.stroke()}drawControls(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.save();const n=this.getCanvasRetinaScaling(),{cornerStrokeColor:i,cornerDashArray:s,cornerColor:a}=this,o=Y({cornerStrokeColor:i,cornerDashArray:s,cornerColor:a},r);e.setTransform(n,0,0,n,0,0),e.strokeStyle=e.fillStyle=o.cornerColor,this.transparentCorners||(e.strokeStyle=o.cornerStrokeColor),this._setLineDash(e,o.cornerDashArray),this.forEachControl((l,c)=>{if(l.getVisibility(this,c)){const u=this.oCoords[c];l.render(e,u.x,u.y,o,this)}}),e.restore()}isControlVisible(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}setControlVisible(e,r){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=r}setControlsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(e).forEach(r=>{let[n,i]=r;return this.setControlVisible(n,i)})}clearContextTop(e){if(!this.canvas)return;const r=this.canvas.contextTop;if(!r)return;const n=this.canvas.viewportTransform;r.save(),r.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(r);const i=this.width+4,s=this.height+4;return r.clearRect(-i/2,-s/2,i,s),e||r.restore(),r}onDeselect(e){return!1}onSelect(e){return!1}shouldStartDragging(e){return!1}onDragStart(e){return!1}canDrop(e){return!1}renderDragSourceEffect(e){}renderDropTargetEffect(e){}}function Pee(t,e){return e.forEach(r=>{Object.getOwnPropertyNames(r.prototype).forEach(n=>{n!=="constructor"&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(r.prototype,n)||Object.create(null))})}),t}V(_0,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});let ti=class extends _0{};Pee(ti,[Mee]),Re.setClass(ti),Re.setClass(ti,"object");const gFe=(t,e,r,n)=>{const i=2*(n=Math.round(n))+1,{data:s}=t.getImageData(e-n,r-n,i,i);for(let a=3;a<s.length;a+=4)if(s[a]>0)return!1;return!0};let Uee=class{constructor(e){this.options=e,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new ce(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new ce(1/this.options.scaleX,1/this.options.scaleY):new ce(1,1)}createSideVector(e,r){const n=pS(e,r);return this.options.strokeUniform?n.multiply(this.scale):n}projectOrthogonally(e,r,n){return this.applySkew(e.add(this.calcOrthogonalProjection(e,r,n)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(e){const r=new ce(e);return r.y+=r.x*Math.tan(Kr(this.options.skewY)),r.x+=r.y*Math.tan(Kr(this.options.skewX)),r}scaleUnitVector(e,r){return e.multiply(this.strokeUniformScalar).scalarMultiply(r)}};const yFe=new ce;let Ree=class xx extends Uee{static getOrthogonalRotationFactor(e,r){const n=r?gS(e,r):RMe(e);return Math.abs(n)<H1?-1:1}constructor(e,r,n,i){super(i),V(this,"AB",void 0),V(this,"AC",void 0),V(this,"alpha",void 0),V(this,"bisector",void 0),this.A=new ce(e),this.B=new ce(r),this.C=new ce(n),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=gS(this.AB,this.AC),this.bisector=EF(Tee(this.AB.eq(yFe)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,r),s=Dee(i),a=xx.getOrthogonalRotationFactor(s,this.bisector);return this.scaleUnitVector(s,n*a)}projectBevel(){const e=[];return(this.alpha%s3==0?[this.B]:[this.B,this.C]).forEach(r=>{e.push(this.projectOrthogonally(this.A,r)),e.push(this.projectOrthogonally(this.A,r,-this.strokeProjectionMagnitude))}),e}projectMiter(){const e=[],r=Math.abs(this.alpha),n=1/Math.sin(r/2),i=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*n),s=this.options.strokeUniform?mS(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return mS(i)/this.strokeProjectionMagnitude<=s&&e.push(this.applySkew(this.A.add(i))),e.push(...this.projectBevel()),e}projectRoundNoSkew(e,r){const n=[],i=new ce(xx.getOrthogonalRotationFactor(this.bisector),xx.getOrthogonalRotationFactor(new ce(this.bisector.y,this.bisector.x)));return[new ce(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i),new ce(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i)].forEach(s=>{ZP(s,e,r)&&n.push(this.A.add(s))}),n}projectRoundWithSkew(e,r){const n=[],{skewX:i,skewY:s,scaleX:a,scaleY:o,strokeUniform:l}=this.options,c=new ce(Math.tan(Kr(i)),Math.tan(Kr(s))),u=this.strokeProjectionMagnitude,d=l?u/o/Math.sqrt(1/o**2+1/a**2*c.y**2):u/Math.sqrt(1+c.y**2),A=new ce(Math.sqrt(Math.max(u**2-d**2,0)),d),f=l?u/Math.sqrt(1+c.x**2*(1/o)**2/(1/a+1/a*c.x*c.y)**2):u/Math.sqrt(1+c.x**2/(1+c.x*c.y)**2),p=new ce(f,Math.sqrt(Math.max(u**2-f**2,0)));return[p,p.scalarMultiply(-1),A,A.scalarMultiply(-1)].map(m=>this.applySkew(l?m.multiply(this.strokeUniformScalar):m)).forEach(m=>{ZP(m,e,r)&&n.push(this.applySkew(this.A).add(m))}),n}projectRound(){const e=[];e.push(...this.projectBevel());const r=this.alpha%s3==0,n=this.applySkew(this.A),i=e[r?0:2].subtract(n),s=e[r?1:0].subtract(n),a=r?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),o=Qm(i,a)>0,l=o?i:s,c=o?s:i;return this.isSkewed()?e.push(...this.projectRoundWithSkew(l,c)):e.push(...this.projectRoundNoSkew(l,c)),e}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e,angle:this.alpha,bisector:this.bisector}))}},sU=class extends Uee{constructor(e,r,n){super(n),this.A=new ce(e),this.T=new ce(r)}calcOrthogonalProjection(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,r);return this.scaleUnitVector(Dee(i),n)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const e=[];if(!this.isSkewed()&&this.A.eq(this.T)){const r=new ce(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(r)),this.applySkew(this.A.subtract(r)))}else e.push(...new Ree(this.A,this.T,this.T,this.options).projectRound());return e}projectSquare(){const e=[];if(this.A.eq(this.T)){const r=new ce(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.A.add(r),this.A.subtract(r))}else{const r=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),n=this.scaleUnitVector(EF(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),i=this.A.add(n);e.push(i.add(r),i.subtract(r))}return e.map(r=>this.applySkew(r))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e}))}};const vFe=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const n=[];if(t.length===0)return n;const i=t.reduce((s,a)=>(s[s.length-1].eq(a)||s.push(new ce(a)),s),[new ce(t[0])]);if(i.length===1)r=!0;else if(!r){const s=i[0],a=((o,l)=>{for(let c=o.length-1;c>=0;c--)if(l(o[c],c,o))return c;return-1})(i,o=>!o.eq(s));i.splice(a+1)}return i.forEach((s,a,o)=>{let l,c;a===0?(c=o[1],l=r?s:o[o.length-1]):a===o.length-1?(l=o[a-1],c=r?s:o[0]):(l=o[a-1],c=o[a+1]),r&&o.length===1?n.push(...new sU(s,s,e).project()):!r||a!==0&&a!==o.length-1?n.push(...new Ree(s,l,c,e).project()):n.push(...new sU(s,a===0?c:l,e).project())}),n},TF=t=>{const e={};return Object.keys(t).forEach(r=>{e[r]={},Object.keys(t[r]).forEach(n=>{e[r][n]=Y({},t[r][n])})}),e},xFe=t=>t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),DF=t=>{const e=[];for(let r,n=0;n<t.length;n++)(r=bFe(t,n))!==!1&&e.push(r);return e},bFe=(t,e)=>{const r=t.charCodeAt(e);if(isNaN(r))return"";if(r<55296||r>57343)return t.charAt(e);if(55296<=r&&r<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";const i=t.charCodeAt(e+1);if(56320>i||i>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";const n=t.charCodeAt(e-1);if(55296>n||n>56319)throw"Low surrogate without preceding high surrogate";return!1},LF=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.textBackgroundColor!==e.textBackgroundColor||t.deltaY!==e.deltaY||r&&(t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough)},wFe=(t,e)=>{const r=e.split(`
`),n=[];let i=-1,s={};t=TF(t);for(let a=0;a<r.length;a++){const o=DF(r[a]);if(t[a])for(let l=0;l<o.length;l++){i++;const c=t[a][l];c&&Object.keys(c).length>0&&(LF(s,c,!0)?n.push({start:i,end:i+1,style:c}):n[n.length-1].end++),s=c||{}}else i+=o.length,s={}}return n},CFe=(t,e)=>{if(!Array.isArray(t))return TF(t);const r=e.split(xF),n={};let i=-1,s=0;for(let a=0;a<r.length;a++){const o=DF(r[a]);for(let l=0;l<o.length;l++)i++,t[s]&&t[s].start<=i&&i<t[s].end&&(n[a]=n[a]||{},n[a][l]=Y({},t[s].style),i===t[s].end-1&&s++)}return n},Gu=["display","transform",hn,"fill-opacity","fill-rule","opacity",$i,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function aU(t,e){const r=t.nodeName,n=t.getAttribute("class"),i=t.getAttribute("id"),s="(?![a-zA-Z\\-]+)";let a;if(a=new RegExp("^"+r,"i"),e=e.replace(a,""),i&&e.length&&(a=new RegExp("#"+i+s,"i"),e=e.replace(a,"")),n&&e.length){const o=n.split(" ");for(let l=o.length;l--;)a=new RegExp("\\."+o[l]+s,"i"),e=e.replace(a,"")}return e.length===0}function BFe(t,e){let r=!0;const n=aU(t,e.pop());return n&&e.length&&(r=function(i,s){let a,o=!0;for(;i.parentElement&&i.parentElement.nodeType===1&&s.length;)o&&(a=s.pop()),o=aU(i=i.parentElement,a);return s.length===0}(t,e)),n&&r&&e.length===0}const SFe=t=>{var e;return(e=PMe[t])!==null&&e!==void 0?e:t},_Fe=new RegExp("(".concat(S0,")"),"gi"),kFe=t=>t.replace(_Fe," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var oU,lU,cU,uU,dU,hU,AU;const Ai="(".concat(S0,")"),EFe=String.raw(oU||(oU=Wu(["(skewX)(",")"],["(skewX)\\(","\\)"])),Ai),MFe=String.raw(lU||(lU=Wu(["(skewY)(",")"],["(skewY)\\(","\\)"])),Ai),FFe=String.raw(cU||(cU=Wu(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),Ai,Ai,Ai),TFe=String.raw(uU||(uU=Wu(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),Ai,Ai),DFe=String.raw(dU||(dU=Wu(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),Ai,Ai),LFe=String.raw(hU||(hU=Wu(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),Ai,Ai,Ai,Ai,Ai,Ai),NF="(?:".concat(LFe,"|").concat(DFe,"|").concat(FFe,"|").concat(TFe,"|").concat(EFe,"|").concat(MFe,")"),NFe="(?:".concat(NF,"*)"),jFe=String.raw(AU||(AU=Wu(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),NFe),IFe=new RegExp(jFe),OFe=new RegExp(NF),PFe=new RegExp(NF,"g");function yS(t){const e=[];if(!(t=kFe(t).replace(/\s*([()])\s*/gi,"$1"))||t&&!IFe.test(t))return[...yi];for(const r of t.matchAll(PFe)){const n=OFe.exec(r[0]);if(!n)continue;let i=yi;const s=n.filter(p=>!!p),[,a,...o]=s,[l,c,u,d,A,f]=o.map(p=>parseFloat(p));switch(a){case"translate":i=$1(l,c);break;case bF:i=V1({angle:l},{x:c,y:u});break;case A5:i=BF(l,c);break;case Bf:i=yee(l);break;case Sf:i=vee(l);break;case"matrix":i=[l,c,u,d,A,f]}e.push(i)}return CF(e)}function UFe(t,e,r,n){const i=Array.isArray(e);let s,a=e;if(t!==hn&&t!==$i||e!==Hi){if(t==="strokeUniform")return e==="non-scaling-stroke";if(t==="strokeDashArray")a=e===Hi?null:e.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(t==="transformMatrix")a=r&&r.transformMatrix?Nn(r.transformMatrix,yS(e)):yS(e);else if(t==="visible")a=e!==Hi&&e!=="hidden",r&&r.visible===!1&&(a=!1);else if(t==="opacity")a=parseFloat(e),r&&r.opacity!==void 0&&(a*=r.opacity);else if(t==="textAnchor")a=e==="start"?Kt:e==="end"?Qr:pt;else if(t==="charSpacing")s=CA(e,n)/n*1e3;else if(t==="paintFirst"){const o=e.indexOf(hn),l=e.indexOf($i);a=hn,(o>-1&&l>-1&&l<o||o===-1&&l>-1)&&(a=$i)}else{if(t==="href"||t==="xlink:href"||t==="font"||t==="id")return e;if(t==="imageSmoothing")return e==="optimizeQuality";s=i?e.map(CA):CA(e,n)}}else a="";return!i&&isNaN(s)?a:s}function RFe(t,e){const r=t.match(OMe);if(!r)return;const n=r[1],i=r[3],s=r[4],a=r[5],o=r[6];n&&(e.fontStyle=n),i&&(e.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),s&&(e.fontSize=CA(s)),o&&(e.fontFamily=o),a&&(e.lineHeight=a==="normal"?1:a)}function QFe(t,e){t.replace(/;\s*$/,"").split(";").forEach(r=>{if(!r)return;const[n,i]=r.split(":");e[n.trim().toLowerCase()]=i.trim()})}function zFe(t){const e={},r=t.getAttribute("style");return r&&(typeof r=="string"?QFe(r,e):function(n,i){Object.entries(n).forEach(s=>{let[a,o]=s;o!==void 0&&(i[a.toLowerCase()]=o)})}(r,e)),e}const HFe={stroke:"strokeOpacity",fill:"fillOpacity"};function Zl(t,e,r){if(!t)return{};let n,i={},s=vF;t.parentNode&&JP.test(t.parentNode.nodeName)&&(i=Zl(t.parentElement,e,r),i.fontSize&&(n=s=CA(i.fontSize)));const a=Y(Y(Y({},e.reduce((c,u)=>{const d=t.getAttribute(u);return d&&(c[u]=d),c},{})),function(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d={};for(const A in u)BFe(c,A.split(" "))&&(d=Y(Y({},d),u[A]));return d}(t,r)),zFe(t));a[n7]&&t.setAttribute(n7,a[n7]),a[r7]&&(n=CA(a[r7],s),a[r7]="".concat(n));const o={};for(const c in a){const u=SFe(c),d=UFe(u,a[c],i,n);o[u]=d}o.font&&RFe(o.font,o);const l=Y(Y({},i),o);return JP.test(t.nodeName)?l:function(c){const u=ti.getDefaults();return Object.entries(HFe).forEach(d=>{let[A,f]=d;if(c[f]===void 0||c[A]==="")return;if(c[A]===void 0){if(!u[A])return;c[A]=u[A]}if(c[A].indexOf("url(")===0)return;const p=new Gi(c[A]);c[A]=p.setAlpha(_r(p.getAlpha()*c[f],2)).toRgba()}),c}(l)}const $Fe=["left","top","width","height","visible"],Qee=["rx","ry"];let ul=class vS extends ti{static getDefaults(){return Y(Y({},super.getDefaults()),vS.ownDefaults)}constructor(e){super(),Object.assign(this,vS.ownDefaults),this.setOptions(e),this._initRxRy()}_initRxRy(){const{rx:e,ry:r}=this;e&&!r?this.ry=e:r&&!e&&(this.rx=r)}_render(e){const{width:r,height:n}=this,i=-r/2,s=-n/2,a=this.rx?Math.min(this.rx,r/2):0,o=this.ry?Math.min(this.ry,n/2):0,l=a!==0||o!==0;e.beginPath(),e.moveTo(i+a,s),e.lineTo(i+r-a,s),l&&e.bezierCurveTo(i+r-lc*a,s,i+r,s+lc*o,i+r,s+o),e.lineTo(i+r,s+n-o),l&&e.bezierCurveTo(i+r,s+n-lc*o,i+r-lc*a,s+n,i+r-a,s+n),e.lineTo(i+a,s+n),l&&e.bezierCurveTo(i+lc*a,s+n,i,s+n-lc*o,i,s+n-o),e.lineTo(i,s+o),l&&e.bezierCurveTo(i,s+lc*o,i+lc*a,s,i+a,s),e.closePath(),this._renderPaintInOrder(e)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...Qee,...e])}_toSVG(){const{width:e,height:r,rx:n,ry:i}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-r/2,'" rx="').concat(n,'" ry="').concat(i,'" width="').concat(e,'" height="').concat(r,`" />
`)]}static async fromElement(e,r,n){const i=Zl(e,this.ATTRIBUTE_NAMES,n),{left:s=0,top:a=0,width:o=0,height:l=0,visible:c=!0}=i,u=xr(i,$Fe);return new this(Y(Y(Y({},r),u),{},{left:s,top:a,width:o,height:l,visible:!!(c&&o&&l)}))}};V(ul,"type","Rect"),V(ul,"cacheProperties",[...Jl,...Qee]),V(ul,"ownDefaults",{rx:0,ry:0}),V(ul,"ATTRIBUTE_NAMES",[...Gu,"x","y","rx","ry","width","height"]),Re.setClass(ul),Re.setSVGClass(ul);const vl="initialization",A3="added",jF="removed",f3="imperative",zee=(t,e)=>{const{strokeUniform:r,strokeWidth:n,width:i,height:s,group:a}=e,o=a&&a!==t?m5(a.calcTransformMatrix(),t.calcTransformMatrix()):null,l=o?e.getRelativeCenterPoint().transform(o):e.getRelativeCenterPoint(),c=!e.isStrokeAccountedForInDimensions(),u=r&&c?LMe(new ce(n,n),void 0,t.calcTransformMatrix()):wF,d=!r&&c?n:0,A=_F(i+d,s+d,CF([o,e.calcOwnMatrix()],!0)).add(u).scalarDivide(2);return[l.subtract(A),l.add(A)]};let v5=class{calcLayoutResult(e,r){if(this.shouldPerformLayout(e))return this.calcBoundingBox(r,e)}shouldPerformLayout(e){let{type:r,prevStrategy:n,strategy:i}=e;return r===vl||r===f3||!!n&&i!==n}shouldLayoutClipPath(e){let{type:r,target:{clipPath:n}}=e;return r!==vl&&n&&!n.absolutePositioned}getInitialSize(e,r){return r.size}calcBoundingBox(e,r){const{type:n,target:i}=r;if(n===f3&&r.overrides)return r.overrides;if(e.length===0)return;const{left:s,top:a,width:o,height:l}=El(e.map(d=>zee(i,d)).reduce((d,A)=>d.concat(A),[])),c=new ce(o,l),u=new ce(s,a).add(c.scalarDivide(2));if(n===vl){const d=this.getInitialSize(r,{size:c,center:u});return{center:u,relativeCorrection:new ce(0,0),size:d}}return{center:u.transform(i.calcOwnMatrix()),size:c}}};V(v5,"type","strategy");let xS=class extends v5{shouldPerformLayout(e){return!0}};V(xS,"type","fit-content"),Re.setClass(xS);const VFe=["strategy"],KFe=["target","strategy","bubbles","prevStrategy"],Hee="layoutManager";let Zg=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new xS;V(this,"strategy",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(e){const r=Y(Y({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(r);const n=this.getLayoutResult(r);n&&this.commitLayout(r,n),this.onAfterLayout(r,n),this._prevLayoutStrategy=r.strategy}attachHandlers(e,r){const{target:n}=r;return[o3,cee,Xg,uee,h5,dee,a3,yMe,vMe].map(i=>e.on(i,s=>this.performLayout(i===o3?{type:"object_modified",trigger:i,e:s,target:n}:{type:"object_modifying",trigger:i,e:s,target:n})))}subscribe(e,r){this.unsubscribe(e,r);const n=this.attachHandlers(e,r);this._subscriptions.set(e,n)}unsubscribe(e,r){(this._subscriptions.get(e)||[]).forEach(n=>n()),this._subscriptions.delete(e)}unsubscribeTargets(e){e.targets.forEach(r=>this.unsubscribe(r,e))}subscribeTargets(e){e.targets.forEach(r=>this.subscribe(r,e))}onBeforeLayout(e){const{target:r,type:n}=e,{canvas:i}=r;if(n===vl||n===A3?this.subscribeTargets(e):n===jF&&this.unsubscribeTargets(e),r.fire("layout:before",{context:e}),i&&i.fire("object:layout:before",{target:r,context:e}),n===f3&&e.deep){const s=xr(e,VFe);r.forEachObject(a=>a.layoutManager&&a.layoutManager.performLayout(Y(Y({},s),{},{bubbles:!1,target:a})))}}getLayoutResult(e){const{target:r,strategy:n,type:i}=e,s=n.calcLayoutResult(e,r.getObjects());if(!s)return;const a=i===vl?new ce:r.getRelativeCenterPoint(),{center:o,correction:l=new ce,relativeCorrection:c=new ce}=s,u=a.subtract(o).add(l).transform(i===vl?yi:ka(r.calcOwnMatrix()),!0).add(c);return{result:s,prevCenter:a,nextCenter:o,offset:u}}commitLayout(e,r){const{target:n}=e,{result:{size:i},nextCenter:s}=r;var a,o;n.set({width:i.x,height:i.y}),this.layoutObjects(e,r),e.type===vl?n.set({left:(a=e.x)!==null&&a!==void 0?a:s.x+i.x*en(n.originX),top:(o=e.y)!==null&&o!==void 0?o:s.y+i.y*en(n.originY)}):(n.setPositionByOrigin(s,pt,pt),n.setCoords(),n.set("dirty",!0))}layoutObjects(e,r){const{target:n}=e;n.forEachObject(i=>{i.group===n&&this.layoutObject(e,r,i)}),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,r,n.clipPath)}layoutObject(e,r,n){let{offset:i}=r;n.set({left:n.left+i.x,top:n.top+i.y})}onAfterLayout(e,r){const{target:n,strategy:i,bubbles:s,prevStrategy:a}=e,o=xr(e,KFe),{canvas:l}=n;n.fire("layout:after",{context:e,result:r}),l&&l.fire("object:layout:after",{context:e,result:r,target:n});const c=n.parent;s&&c!=null&&c.layoutManager&&((o.path||(o.path=[])).push(n),c.layoutManager.performLayout(Y(Y({},o),{},{target:c}))),n.set("dirty",!0)}dispose(){const{_subscriptions:e}=this;e.forEach(r=>r.forEach(n=>n())),e.clear()}toObject(){return{type:Hee,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}};Re.setClass(Zg,Hee);const qFe=["type","objects","layoutManager"];let WFe=class extends Zg{performLayout(){}},bx=class bS extends hee(ti){static getDefaults(){return Y(Y({},super.getDefaults()),bS.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),V(this,"_activeObjects",[]),V(this,"__objectSelectionTracker",void 0),V(this,"__objectSelectionDisposer",void 0),Object.assign(this,bS.ownDefaults),this.setOptions(r),this.groupInit(e,r)}groupInit(e,r){var n;this._objects=[...e],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(i=>{this.enterGroup(i,!1)}),this.layoutManager=(n=r.layoutManager)!==null&&n!==void 0?n:new Zg,this.layoutManager.performLayout({type:vl,target:this,targets:[...e],x:r.left,y:r.top})}canEnterGroup(e){return e===this||this.isDescendantOf(e)?(Mu("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(e)===-1||(Mu("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(e){return e.filter((r,n,i)=>this.canEnterGroup(r)&&i.indexOf(r)===n)}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];const i=this._filterObjectsBeforeEnteringGroup(r),s=super.add(...i);return this._onAfterObjectsChange(A3,i),s}insertAt(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const s=this._filterObjectsBeforeEnteringGroup(n),a=super.insertAt(e,...s);return this._onAfterObjectsChange(A3,s),a}remove(){const e=super.remove(...arguments);return this._onAfterObjectsChange(jF,e),e}_onObjectAdded(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e,r){this.exitGroup(e,r),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onAfterObjectsChange(e,r){this.layoutManager.performLayout({type:e,targets:r,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(e,r){const n=this[e];return super._set(e,r),e==="canvas"&&n!==r&&(this._objects||[]).forEach(i=>{i._set(e,r)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(e,r){let{target:n}=r;const i=this._activeObjects;if(e)i.push(n),this._set("dirty",!0);else if(i.length>0){const s=i.indexOf(n);s>-1&&(i.splice(s,1),this._set("dirty",!0))}}_watchObject(e,r){e&&this._watchObject(!1,r),e?(r.on("selected",this.__objectSelectionTracker),r.on("deselected",this.__objectSelectionDisposer)):(r.off("selected",this.__objectSelectionTracker),r.off("deselected",this.__objectSelectionDisposer))}enterGroup(e,r){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,r)}_enterGroup(e,r){r&&d3(e,Nn(ka(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);const n=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();n&&(n===e||e.isDescendantOf(n))&&this._activeObjects.push(e)}exitGroup(e,r){this._exitGroup(e,r),e._set("parent",void 0),e._set("canvas",void 0)}_exitGroup(e,r){e._set("group",void 0),r||(d3(e,Nn(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);const n=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;n>-1&&this._activeObjects.splice(n,1)}shouldCache(){const e=ti.prototype.shouldCache.call(this);if(e){for(let r=0;r<this._objects.length;r++)if(this._objects[r].willDrawShadow())return this.ownCaching=!1,!1}return e}willDrawShadow(){if(super.willDrawShadow())return!0;for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(e,r,n){this._renderBackground(e);for(let s=0;s<this._objects.length;s++){var i;const a=this._objects[s];(i=this.canvas)!==null&&i!==void 0&&i.preserveObjectStacking&&a.group!==this?(e.save(),e.transform(...ka(this.calcTransformMatrix())),a.render(e),e.restore()):a.group===this&&a.render(e)}this._drawClipPath(e,this.clipPath,n)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(e=>e.setCoords())}triggerLayout(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(Y({target:this,type:f3},e))}render(e){this._transformDone=!0,super.render(e),this._transformDone=!1}__serializeObjects(e,r){const n=this.includeDefaultValues;return this._objects.filter(function(i){return!i.excludeFromExport}).map(function(i){const s=i.includeDefaultValues;i.includeDefaultValues=n;const a=i[e||"toObject"](r);return i.includeDefaultValues=s,a})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=this.layoutManager.toObject();return Y(Y(Y({},super.toObject(["subTargetCheck","interactive",...e])),r.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:r}:{}),{},{objects:this.__serializeObjects("toObject",e)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(e=>{this._watchObject(!1,e),e.dispose()}),super.dispose()}_createSVGBgRect(e){if(!this.backgroundColor)return"";const r=ul.prototype._toSVG.call(this),n=r.indexOf("COMMON_PARTS");r[n]='for="group" ';const i=r.join("");return e?e(i):i}_toSVG(e){const r=["<g ","COMMON_PARTS",` >
`],n=this._createSVGBgRect(e);n&&r.push("		",n);for(let i=0;i<this._objects.length;i++)r.push("		",this._objects[i].toSVG(e));return r.push(`</g>
`),r}getSvgStyles(){const e=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",r=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),r].join("")}toClipPathSVG(e){const r=[],n=this._createSVGBgRect(e);n&&r.push("	",n);for(let i=0;i<this._objects.length;i++)r.push("	",this._objects[i].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(r,{reviver:e})}static fromObject(e,r){let{type:n,objects:i=[],layoutManager:s}=e,a=xr(e,qFe);return Promise.all([Yg(i,r),p5(a,r)]).then(o=>{let[l,c]=o;const u=new this(l,Y(Y(Y({},a),c),{},{layoutManager:new WFe}));if(s){const d=Re.getClass(s.type),A=Re.getClass(s.strategy);u.layoutManager=new d(new A)}else u.layoutManager=new Zg;return u.layoutManager.subscribeTargets({type:vl,target:u,targets:u.getObjects()}),u.setCoords(),u})}};V(bx,"type","Group"),V(bx,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),Re.setClass(bx);const GFe=(t,e)=>Math.min(e.width/t.width,e.height/t.height),XFe=(t,e)=>Math.max(e.width/t.width,e.height/t.height),wS="\\s*,?\\s*",lp="".concat(wS,"(").concat(S0,")"),YFe="".concat(lp).concat(lp).concat(lp).concat(wS,"([01])").concat(wS,"([01])").concat(lp).concat(lp),JFe={m:"l",M:"L"},ZFe=(t,e,r,n,i,s,a,o,l,c,u)=>{const d=Ql(t),A=zl(t),f=Ql(e),p=zl(e),m=r*i*f-n*s*p+a,v=n*i*f+r*s*p+o;return["C",c+l*(-r*i*A-n*s*d),u+l*(-n*i*A+r*s*d),m+l*(r*i*p+n*s*f),v+l*(n*i*p-r*s*f),m,v]},fU=(t,e,r,n)=>{const i=Math.atan2(e,t),s=Math.atan2(n,r);return s>=i?s-i:2*Math.PI-(i-s)};function pU(t,e,r,n,i,s,a,o){let l;if(Tt.cachesBoundsOfCurve&&(l=[...arguments].join(),Rm.boundsOfCurveCache[l]))return Rm.boundsOfCurveCache[l];const c=Math.sqrt,u=Math.abs,d=[],A=[[0,0],[0,0]];let f=6*t-12*r+6*i,p=-3*t+9*r-9*i+3*a,m=3*r-3*t;for(let b=0;b<2;++b){if(b>0&&(f=6*e-12*n+6*s,p=-3*e+9*n-9*s+3*o,m=3*n-3*e),u(p)<1e-12){if(u(f)<1e-12)continue;const E=-m/f;0<E&&E<1&&d.push(E);continue}const w=f*f-4*m*p;if(w<0)continue;const C=c(w),B=(-f+C)/(2*p);0<B&&B<1&&d.push(B);const S=(-f-C)/(2*p);0<S&&S<1&&d.push(S)}let v=d.length;const g=v,y=$ee(t,e,r,n,i,s,a,o);for(;v--;){const{x:b,y:w}=y(d[v]);A[0][v]=b,A[1][v]=w}A[0][g]=t,A[1][g]=e,A[0][g+1]=a,A[1][g+1]=o;const x=[new ce(Math.min(...A[0]),Math.min(...A[1])),new ce(Math.max(...A[0]),Math.max(...A[1]))];return Tt.cachesBoundsOfCurve&&(Rm.boundsOfCurveCache[l]=x),x}const eTe=(t,e,r)=>{let[n,i,s,a,o,l,c,u]=r;const d=((A,f,p,m,v,g,y)=>{if(p===0||m===0)return[];let x=0,b=0,w=0;const C=Math.PI,B=y*yF,S=zl(B),E=Ql(B),M=.5*(-E*A-S*f),T=.5*(-E*f+S*A),L=p**2,I=m**2,R=T**2,z=M**2,W=L*I-L*R-I*z;let K=Math.abs(p),U=Math.abs(m);if(W<0){const J=Math.sqrt(1-W/(L*I));K*=J,U*=J}else w=(v===g?-1:1)*Math.sqrt(W/(L*R+I*z));const q=w*K*T/U,N=-w*U*M/K,ne=E*q-S*N+.5*A,re=S*q+E*N+.5*f;let O=fU(1,0,(M-q)/K,(T-N)/U),me=fU((M-q)/K,(T-N)/U,(-M-q)/K,(-T-N)/U);g===0&&me>0?me-=2*C:g===1&&me<0&&(me+=2*C);const Ce=Math.ceil(Math.abs(me/C*2)),oe=[],ye=me/Ce,ze=8/3*Math.sin(ye/4)*Math.sin(ye/4)/Math.sin(ye/2);let fe=O+ye;for(let J=0;J<Ce;J++)oe[J]=ZFe(O,fe,E,S,K,U,ne,re,ze,x,b),x=oe[J][5],b=oe[J][6],O=fe,fe+=ye;return oe})(c-t,u-e,i,s,o,l,a);for(let A=0,f=d.length;A<f;A++)d[A][1]+=t,d[A][2]+=e,d[A][3]+=t,d[A][4]+=e,d[A][5]+=t,d[A][6]+=e;return d},tTe=t=>{let e=0,r=0,n=0,i=0;const s=[];let a,o=0,l=0;for(const c of t){const u=[...c];let d;switch(u[0]){case"l":u[1]+=e,u[2]+=r;case"L":e=u[1],r=u[2],d=["L",e,r];break;case"h":u[1]+=e;case"H":e=u[1],d=["L",e,r];break;case"v":u[1]+=r;case"V":r=u[1],d=["L",e,r];break;case"m":u[1]+=e,u[2]+=r;case"M":e=u[1],r=u[2],n=u[1],i=u[2],d=["M",e,r];break;case"c":u[1]+=e,u[2]+=r,u[3]+=e,u[4]+=r,u[5]+=e,u[6]+=r;case"C":o=u[3],l=u[4],e=u[5],r=u[6],d=["C",u[1],u[2],o,l,e,r];break;case"s":u[1]+=e,u[2]+=r,u[3]+=e,u[4]+=r;case"S":a==="C"?(o=2*e-o,l=2*r-l):(o=e,l=r),e=u[3],r=u[4],d=["C",o,l,u[1],u[2],e,r],o=d[3],l=d[4];break;case"q":u[1]+=e,u[2]+=r,u[3]+=e,u[4]+=r;case"Q":o=u[1],l=u[2],e=u[3],r=u[4],d=["Q",o,l,e,r];break;case"t":u[1]+=e,u[2]+=r;case"T":a==="Q"?(o=2*e-o,l=2*r-l):(o=e,l=r),e=u[1],r=u[2],d=["Q",o,l,e,r];break;case"a":u[6]+=e,u[7]+=r;case"A":eTe(e,r,u).forEach(A=>s.push(A)),e=u[6],r=u[7];break;case"z":case"Z":e=n,r=i,d=["Z"]}d?(s.push(d),a=d[0]):a=""}return s},p3=(t,e,r,n)=>Math.sqrt((r-t)**2+(n-e)**2),$ee=(t,e,r,n,i,s,a,o)=>l=>{const c=l**3,u=(f=>3*f**2*(1-f))(l),d=(f=>3*f*(1-f)**2)(l),A=(f=>(1-f)**3)(l);return new ce(a*c+i*u+r*d+t*A,o*c+s*u+n*d+e*A)},Vee=t=>t**2,Kee=t=>2*t*(1-t),qee=t=>(1-t)**2,rTe=(t,e,r,n,i,s,a,o)=>l=>{const c=Vee(l),u=Kee(l),d=qee(l),A=3*(d*(r-t)+u*(i-r)+c*(a-i)),f=3*(d*(n-e)+u*(s-n)+c*(o-s));return Math.atan2(f,A)},nTe=(t,e,r,n,i,s)=>a=>{const o=Vee(a),l=Kee(a),c=qee(a);return new ce(i*o+r*l+t*c,s*o+n*l+e*c)},iTe=(t,e,r,n,i,s)=>a=>{const o=1-a,l=2*(o*(r-t)+a*(i-r)),c=2*(o*(n-e)+a*(s-n));return Math.atan2(c,l)},mU=(t,e,r)=>{let n=new ce(e,r),i=0;for(let s=1;s<=100;s+=1){const a=t(s/100);i+=p3(n.x,n.y,a.x,a.y),n=a}return i},sTe=(t,e)=>{let r,n=0,i=0,s={x:t.x,y:t.y},a=Y({},s),o=.01,l=0;const c=t.iterator,u=t.angleFinder;for(;i<e&&o>1e-4;)a=c(n),l=n,r=p3(s.x,s.y,a.x,a.y),r+i>e?(n-=o,o/=2):(s=a,n+=o,i+=r);return Y(Y({},a),{},{angle:u(l)})},Wee=t=>{let e,r,n=0,i=0,s=0,a=0,o=0;const l=[];for(const c of t){const u={x:i,y:s,command:c[0],length:0};switch(c[0]){case"M":r=u,r.x=a=i=c[1],r.y=o=s=c[2];break;case"L":r=u,r.length=p3(i,s,c[1],c[2]),i=c[1],s=c[2];break;case"C":e=$ee(i,s,c[1],c[2],c[3],c[4],c[5],c[6]),r=u,r.iterator=e,r.angleFinder=rTe(i,s,c[1],c[2],c[3],c[4],c[5],c[6]),r.length=mU(e,i,s),i=c[5],s=c[6];break;case"Q":e=nTe(i,s,c[1],c[2],c[3],c[4]),r=u,r.iterator=e,r.angleFinder=iTe(i,s,c[1],c[2],c[3],c[4]),r.length=mU(e,i,s),i=c[3],s=c[4];break;case"Z":r=u,r.destX=a,r.destY=o,r.length=p3(i,s,a,o),i=a,s=o}n+=r.length,l.push(r)}return l.push({length:n,x:i,y:s}),l},aTe=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Wee(t),n=0;for(;e-r[n].length>0&&n<r.length-2;)e-=r[n].length,n++;const i=r[n],s=e/i.length,a=t[n];switch(i.command){case"M":return{x:i.x,y:i.y,angle:0};case"Z":return Y(Y({},new ce(i.x,i.y).lerp(new ce(i.destX,i.destY),s)),{},{angle:Math.atan2(i.destY-i.y,i.destX-i.x)});case"L":return Y(Y({},new ce(i.x,i.y).lerp(new ce(a[1],a[2]),s)),{},{angle:Math.atan2(a[2]-i.y,a[1]-i.x)});case"C":case"Q":return sTe(i,e)}},oTe=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),gU=new RegExp(YFe,"g"),lTe=new RegExp(S0,"gi"),cTe={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},uTe=t=>{var e;const r=[],n=(e=t.match(oTe))!==null&&e!==void 0?e:[];for(const i of n){const s=i[0];if(s==="z"||s==="Z"){r.push([s]);continue}const a=cTe[s.toLowerCase()];let o=[];if(s==="a"||s==="A"){gU.lastIndex=0;for(let l=null;l=gU.exec(i);)o.push(...l.slice(1))}else o=i.match(lTe)||[];for(let l=0;l<o.length;l+=a){const c=new Array(a),u=JFe[s];c[0]=l>0&&u?u:s;for(let d=0;d<a;d++)c[d+1]=parseFloat(o[l+d]);r.push(c)}}return r},dTe=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=new ce(t[0]),n=new ce(t[1]),i=1,s=0;const a=[],o=t.length,l=o>2;let c;for(l&&(i=t[2].x<n.x?-1:t[2].x===n.x?0:1,s=t[2].y<n.y?-1:t[2].y===n.y?0:1),a.push(["M",r.x-i*e,r.y-s*e]),c=1;c<o;c++){if(!r.eq(n)){const u=r.midPointFrom(n);a.push(["Q",r.x,r.y,u.x,u.y])}r=t[c],c+1<t.length&&(n=t[c+1])}return l&&(i=r.x>t[c-2].x?1:r.x===t[c-2].x?0:-1,s=r.y>t[c-2].y?1:r.y===t[c-2].y?0:-1),a.push(["L",r.x+i*e,r.y+s*e]),a},Gee=(t,e)=>t.map(r=>r.map((n,i)=>i===0||e===void 0?n:_r(n,e)).join(" ")).join(" ");function CS(t,e){const r=t.style;r&&e&&(typeof e=="string"?r.cssText+=";"+e:Object.entries(e).forEach(n=>{let[i,s]=n;return r.setProperty(i,s)}))}let hTe=class extends Cee{constructor(e){let{allowTouchScrolling:r=!1,containerClass:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e),V(this,"upper",void 0),V(this,"container",void 0);const{el:i}=this.lower,s=this.createUpperCanvas();this.upper={el:s,ctx:s.getContext("2d")},this.applyCanvasStyle(i,{allowTouchScrolling:r}),this.applyCanvasStyle(s,{allowTouchScrolling:r,styles:{position:"absolute",left:"0",top:"0"}});const a=this.createContainerElement();a.classList.add(n),i.parentNode&&i.parentNode.replaceChild(a,i),a.append(i,s),this.container=a}createUpperCanvas(){const{el:e}=this.lower,r=Pa();return r.className=e.className,r.classList.remove("lower-canvas"),r.classList.add("upper-canvas"),r.setAttribute("data-fabric","top"),r.style.cssText=e.style.cssText,r.setAttribute("draggable","true"),r}createContainerElement(){const e=Cf().createElement("div");return e.setAttribute("data-fabric","wrapper"),CS(e,{position:"relative"}),GP(e),e}applyCanvasStyle(e,r){const{styles:n,allowTouchScrolling:i}=r;CS(e,Y(Y({},n),{},{"touch-action":i?"manipulation":Hi})),GP(e)}setDimensions(e,r){super.setDimensions(e,r);const{el:n,ctx:i}=this.upper;wee(n,i,e,r)}setCSSDimensions(e){super.setCSSDimensions(e),hS(this.upper.el,e),hS(this.container,e)}cleanupDOM(e){const r=this.container,{el:n}=this.lower,{el:i}=this.upper;super.cleanupDOM(e),r.removeChild(i),r.removeChild(n),r.parentNode&&r.parentNode.replaceChild(n,r)}dispose(){super.dispose(),To().dispose(this.upper.el),delete this.upper,delete this.container}},Xee=class Yee extends K1{constructor(){super(...arguments),V(this,"targets",[]),V(this,"_hoveredTargets",[]),V(this,"_objectsToRender",void 0),V(this,"_currentTransform",null),V(this,"_groupSelector",null),V(this,"contextTopDirty",!1)}static getDefaults(){return Y(Y({},super.getDefaults()),Yee.ownDefaults)}get upperCanvasEl(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.el}get contextTop(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.ctx}get wrapperEl(){return this.elements.container}initElements(e){this.elements=new hTe(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(e){this._objectsToRender=void 0,super._onObjectAdded(e)}_onObjectRemoved(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(e)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter(r=>!r.group&&r!==e).concat(e):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}renderTop(){const e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}setTargetFindTolerance(e){e=Math.round(e),this.targetFindTolerance=e;const r=this.getRetinaScaling(),n=Math.ceil((2*e+1)*r);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=n,this.pixelFindContext.scale(r,r)}isTargetTransparent(e,r,n){const i=this.targetFindTolerance,s=this.pixelFindContext;this.clearContext(s),s.save(),s.translate(-r+i,-n+i),s.transform(...this.viewportTransform);const a=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(s),e.selectionBackgroundColor=a,s.restore();const o=Math.round(i*this.getRetinaScaling());return gFe(s,o,o,o)}_isSelectionKeyPressed(e){const r=this.selectionKey;return!!r&&(Array.isArray(r)?!!r.find(n=>!!n&&e[n]===!0):e[r])}_shouldClearSelection(e,r){const n=this.getActiveObjects(),i=this._activeObject;return!!(!r||r&&i&&n.length>1&&n.indexOf(r)===-1&&i!==r&&!this._isSelectionKeyPressed(e)||r&&!r.evented||r&&!r.selectable&&i&&i!==r)}_shouldCenterTransform(e,r,n){if(!e)return;let i;return r===A5||r===Wi||r===ia||r===Xg?i=this.centeredScaling||e.centeredScaling:r===bF&&(i=this.centeredRotation||e.centeredRotation),i?!n:n}_getOriginFromCorner(e,r){const n={x:e.originX,y:e.originY};return r&&(["ml","tl","bl"].includes(r)?n.x=Qr:["mr","tr","br"].includes(r)&&(n.x=Kt),["tl","mt","tr"].includes(r)?n.y=dS:["bl","mb","br"].includes(r)&&(n.y=zi)),n}_setupCurrentTransform(e,r,n){var i;const s=r.group?BA(this.getScenePoint(e),void 0,r.group.calcTransformMatrix()):this.getScenePoint(e),{key:a="",control:o}=r.getActiveControl()||{},l=n&&o?(i=o.getActionHandler(e,r,o))===null||i===void 0?void 0:i.bind(o):IMe,c=((f,p,m,v)=>{if(!p||!f)return"drag";const g=v.controls[p];return g.getActionName(m,g,v)})(n,a,e,r),u=e[this.centeredKey],d=this._shouldCenterTransform(r,c,u)?{x:pt,y:pt}:this._getOriginFromCorner(r,a),A={target:r,action:c,actionHandler:l,actionPerformed:!1,corner:a,scaleX:r.scaleX,scaleY:r.scaleY,skewX:r.skewX,skewY:r.skewY,offsetX:s.x-r.left,offsetY:s.y-r.top,originX:d.x,originY:d.y,ex:s.x,ey:s.y,lastX:s.x,lastY:s.y,theta:Kr(r.angle),width:r.width,height:r.height,shiftKey:e.shiftKey,altKey:u,original:Y(Y({},Bee(r)),{},{originX:d.x,originY:d.y})};this._currentTransform=A,this.fire("before:transform",{e,transform:A})}setCursor(e){this.upperCanvasEl.style.cursor=e}_drawSelection(e){const{x:r,y:n,deltaX:i,deltaY:s}=this._groupSelector,a=new ce(r,n).transform(this.viewportTransform),o=new ce(r+i,n+s).transform(this.viewportTransform),l=this.selectionLineWidth/2;let c=Math.min(a.x,o.x),u=Math.min(a.y,o.y),d=Math.max(a.x,o.x),A=Math.max(a.y,o.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(c,u,d-c,A-u)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,c+=l,u+=l,d-=l,A-=l,ti.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(c,u,d-c,A-u))}findTarget(e){if(this.skipTargetFind)return;const r=this.getViewportPoint(e),n=this._activeObject,i=this.getActiveObjects();if(this.targets=[],n&&i.length>=1){if(n.findControl(r,AS(e))||i.length>1&&this.searchPossibleTargets([n],r))return n;if(n===this.searchPossibleTargets([n],r)){if(this.preserveObjectStacking){const s=this.targets;this.targets=[];const a=this.searchPossibleTargets(this._objects,r);return e[this.altSelectionKey]&&a&&a!==n?(this.targets=s,n):a}return n}}return this.searchPossibleTargets(this._objects,r)}_pointIsInObjectSelectionArea(e,r){let n=e.getCoords();const i=this.getZoom(),s=e.padding/i;if(s){const[a,o,l,c]=n,u=Math.atan2(o.y-a.y,o.x-a.x),d=Ql(u)*s,A=zl(u)*s,f=d+A,p=d-A;n=[new ce(a.x-p,a.y-f),new ce(o.x+f,o.y-p),new ce(l.x+p,l.y+f),new ce(c.x-f,c.y+p)]}return zm.isPointInPolygon(r,n)}_checkTarget(e,r){return!!(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,BA(r,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing||!this.isTargetTransparent(e,r.x,r.y)))}_searchPossibleTargets(e,r){let n=e.length;for(;n--;){const i=e[n];if(this._checkTarget(i,r)){if(px(i)&&i.subTargetCheck){const s=this._searchPossibleTargets(i._objects,r);s&&this.targets.push(s)}return i}}}searchPossibleTargets(e,r){const n=this._searchPossibleTargets(e,r);if(n&&px(n)&&n.interactive&&this.targets[0]){const i=this.targets;for(let s=i.length-1;s>0;s--){const a=i[s];if(!px(a)||!a.interactive)return a}return i[0]}return n}getViewportPoint(e){return this._pointer?this._pointer:this.getPointer(e,!0)}getScenePoint(e){return this._absolutePointer?this._absolutePointer:this.getPointer(e)}getPointer(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const n=this.upperCanvasEl,i=n.getBoundingClientRect();let s=MMe(e),a=i.width||0,o=i.height||0;a&&o||(zi in i&&dS in i&&(o=Math.abs(i.top-i.bottom)),Qr in i&&Kt in i&&(a=Math.abs(i.right-i.left))),this.calcOffset(),s.x=s.x-this._offset.left,s.y=s.y-this._offset.top,r||(s=BA(s,void 0,this.viewportTransform));const l=this.getRetinaScaling();l!==1&&(s.x/=l,s.y/=l);const c=a===0||o===0?new ce(1,1):new ce(n.width/a,n.height/o);return s.multiply(c)}_setDimensionsImpl(e,r){this._resetTransformEventData(),super._setDimensionsImpl(e,r),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=Pa(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const e=this._activeObject;return Dd(e)?e.getObjects():e?[e]:[]}_fireSelectionEvents(e,r){let n=!1,i=!1;const s=this.getActiveObjects(),a=[],o=[];e.forEach(l=>{s.includes(l)||(n=!0,l.fire("deselected",{e:r,target:l}),o.push(l))}),s.forEach(l=>{e.includes(l)||(n=!0,l.fire("selected",{e:r,target:l}),a.push(l))}),e.length>0&&s.length>0?(i=!0,n&&this.fire("selection:updated",{e:r,selected:a,deselected:o})):s.length>0?(i=!0,this.fire("selection:created",{e:r,selected:a})):e.length>0&&(i=!0,this.fire("selection:cleared",{e:r,deselected:o})),i&&(this._objectsToRender=void 0)}setActiveObject(e,r){const n=this.getActiveObjects(),i=this._setActiveObject(e,r);return this._fireSelectionEvents(n,r),i}_setActiveObject(e,r){const n=this._activeObject;return n!==e&&!(!this._discardActiveObject(r,e)&&this._activeObject)&&!e.onSelect({e:r})&&(this._activeObject=e,Dd(e)&&n!==e&&e.set("canvas",this),e.setCoords(),!0)}_discardActiveObject(e,r){const n=this._activeObject;return!!n&&!n.onDeselect({e,object:r})&&(this._currentTransform&&this._currentTransform.target===n&&this.endCurrentTransform(e),Dd(n)&&n===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(e){const r=this.getActiveObjects(),n=this.getActiveObject();r.length&&this.fire("before:selection:cleared",{e,deselected:[n]});const i=this._discardActiveObject(e);return this._fireSelectionEvents(r,e),i}endCurrentTransform(e){const r=this._currentTransform;this._finalizeCurrentTransform(e),r&&r.target&&(r.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(e){const r=this._currentTransform,n=r.target,i={e,target:n,transform:r,action:r.action};n._scaling&&(n._scaling=!1),n.setCoords(),r.actionPerformed&&(this.fire("object:modified",i),n.fire(o3,i))}setViewportTransform(e){super.setViewportTransform(e);const r=this._activeObject;r&&r.setCoords()}destroy(){const e=this._activeObject;Dd(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(e){const r=this._activeObject;r&&r._renderControls(e)}_toObject(e,r,n){const i=this._realizeGroupTransformOnObject(e),s=super._toObject(e,r,n);return e.set(i),s}_realizeGroupTransformOnObject(e){const{group:r}=e;if(r&&Dd(r)&&this._activeObject===r){const n=_f(e,["angle","flipX","flipY",Kt,Wi,ia,Bf,Sf,zi]);return TMe(e,r.calcOwnMatrix()),n}return{}}_setSVGObject(e,r,n){const i=this._realizeGroupTransformOnObject(r);super._setSVGObject(e,r,n),r.set(i)}};V(Xee,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});let ATe=class{constructor(e){V(this,"targets",[]),V(this,"__disposer",void 0);const r=()=>{const{hiddenTextarea:i}=e.getActiveObject()||{};i&&i.focus()},n=e.upperCanvasEl;n.addEventListener("click",r),this.__disposer=()=>n.removeEventListener("click",r)}exitTextEditing(){this.target=void 0,this.targets.forEach(e=>{e.isEditing&&e.exitEditing()})}add(e){this.targets.push(e)}remove(e){this.unregister(e),_h(this.targets,e)}register(e){this.target=e}unregister(e){e===this.target&&(this.target=void 0)}onMouseMove(e){var r;!((r=this.target)===null||r===void 0)&&r.isEditing&&this.target.updateSelectionOnMouseMove(e)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}};const fTe=["target","oldTarget","fireCanvas","e"],ts={passive:!1},rh=(t,e)=>{const r=t.getViewportPoint(e),n=t.getScenePoint(e);return{viewportPoint:r,scenePoint:n,pointer:r,absolutePointer:n}},cc=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.addEventListener(...r)},Ts=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.removeEventListener(...r)},pTe={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};let BS=class extends Xee{constructor(e){super(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),V(this,"_isClick",void 0),V(this,"textEditingManager",new ATe(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(r=>{this[r]=this[r].bind(this)}),this.addOrRemove(cc,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(e,r){const n=this.upperCanvasEl,i=this._getEventPrefix();e(bee(n),"resize",this._onResize),e(n,i+"down",this._onMouseDown),e(n,"".concat(i,"move"),this._onMouseMove,ts),e(n,"".concat(i,"out"),this._onMouseOut),e(n,"".concat(i,"enter"),this._onMouseEnter),e(n,"wheel",this._onMouseWheel),e(n,"contextmenu",this._onContextMenu),e(n,"dblclick",this._onDoubleClick),e(n,"dragstart",this._onDragStart),e(n,"dragend",this._onDragEnd),e(n,"dragover",this._onDragOver),e(n,"dragenter",this._onDragEnter),e(n,"dragleave",this._onDragLeave),e(n,"drop",this._onDrop),this.enablePointerEvents||e(n,"touchstart",this._onTouchStart,ts)}removeListeners(){this.addOrRemove(Ts,"remove");const e=this._getEventPrefix(),r=Ca(this.upperCanvasEl);Ts(r,"".concat(e,"up"),this._onMouseUp),Ts(r,"touchend",this._onTouchEnd,ts),Ts(r,"".concat(e,"move"),this._onMouseMove,ts),Ts(r,"touchmove",this._onMouseMove,ts),clearTimeout(this._willAddMouseDown)}_onMouseWheel(e){this.__onMouseWheel(e)}_onMouseOut(e){const r=this._hoveredTarget,n=Y({e},rh(this,e));this.fire("mouse:out",Y(Y({},n),{},{target:r})),this._hoveredTarget=void 0,r&&r.fire("mouseout",Y({},n)),this._hoveredTargets.forEach(i=>{this.fire("mouse:out",Y(Y({},n),{},{target:i})),i&&i.fire("mouseout",Y({},n))}),this._hoveredTargets=[]}_onMouseEnter(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",Y({e},rh(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(e){this._isClick=!1;const r=this.getActiveObject();if(r&&r.onDragStart(e)){this._dragSource=r;const n={e,target:r};return this.fire("dragstart",n),r.fire("dragstart",n),void cc(this.upperCanvasEl,"drag",this._onDragProgress)}fS(e)}_renderDragEffects(e,r,n){let i=!1;const s=this._dropTarget;s&&s!==r&&s!==n&&(s.clearContextTop(),i=!0),r==null||r.clearContextTop(),n!==r&&(n==null||n.clearContextTop());const a=this.contextTop;a.save(),a.transform(...this.viewportTransform),r&&(a.save(),r.transform(a),r.renderDragSourceEffect(e),a.restore(),i=!0),n&&(a.save(),n.transform(a),n.renderDropTargetEffect(e),a.restore(),i=!0),a.restore(),i&&(this.contextTopDirty=!0)}_onDragEnd(e){const r=!!e.dataTransfer&&e.dataTransfer.dropEffect!==Hi,n=r?this._activeObject:void 0,i={e,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:r,dropTarget:n};Ts(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",i),this._dragSource&&this._dragSource.fire("dragend",i),delete this._dragSource,this._onMouseUp(e)}_onDragProgress(e){const r={e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",r),this._dragSource&&this._dragSource.fire("drag",r)}findDragTargets(e){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(e)),targets:[...this.targets]}}_onDragOver(e){const r="dragover",{target:n,targets:i}=this.findDragTargets(e),s=this._dragSource,a={e,target:n,subTargets:i,dragSource:s,canDrop:!1,dropTarget:void 0};let o;this.fire(r,a),this._fireEnterLeaveEvents(n,a),n&&(n.canDrop(e)&&(o=n),n.fire(r,a));for(let l=0;l<i.length;l++){const c=i[l];c.canDrop(e)&&(o=c),c.fire(r,a)}this._renderDragEffects(e,s,o),this._dropTarget=o}_onDragEnter(e){const{target:r,targets:n}=this.findDragTargets(e),i={e,target:r,subTargets:n,dragSource:this._dragSource};this.fire("dragenter",i),this._fireEnterLeaveEvents(r,i)}_onDragLeave(e){const r={e,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",r),this._fireEnterLeaveEvents(void 0,r),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(e){const{target:r,targets:n}=this.findDragTargets(e),i=this._basicEventHandler("drop:before",Y({e,target:r,subTargets:n,dragSource:this._dragSource},rh(this,e)));i.didDrop=!1,i.dropTarget=void 0,this._basicEventHandler("drop",i),this.fire("drop:after",i)}_onContextMenu(e){const r=this.findTarget(e),n=this.targets||[],i=this._basicEventHandler("contextmenu:before",{e,target:r,subTargets:n});return this.stopContextMenu&&fS(e),this._basicEventHandler("contextmenu",i),!1}_onDoubleClick(e){this._cacheTransformEventData(e),this._handleEvent(e,"dblclick"),this._resetTransformEventData()}getPointerId(e){const r=e.changedTouches;return r?r[0]&&r[0].identifier:this.enablePointerEvents?e.pointerId:-1}_isMainEvent(e){return e.isPrimary===!0||e.isPrimary!==!1&&(e.type==="touchend"&&e.touches.length===0||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(e){let r=!this.allowTouchScrolling;const n=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),(this.isDrawingMode||n&&this._target===n)&&(r=!0),r&&e.preventDefault(),this._resetTransformEventData();const i=this.upperCanvasEl,s=this._getEventPrefix(),a=Ca(i);cc(a,"touchend",this._onTouchEnd,ts),r&&cc(a,"touchmove",this._onMouseMove,ts),Ts(i,"".concat(s,"down"),this._onMouseDown)}_onMouseDown(e){this.__onMouseDown(e),this._resetTransformEventData();const r=this.upperCanvasEl,n=this._getEventPrefix();Ts(r,"".concat(n,"move"),this._onMouseMove,ts);const i=Ca(r);cc(i,"".concat(n,"up"),this._onMouseUp),cc(i,"".concat(n,"move"),this._onMouseMove,ts)}_onTouchEnd(e){if(e.touches.length>0)return;this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;const r=this._getEventPrefix(),n=Ca(this.upperCanvasEl);Ts(n,"touchend",this._onTouchEnd,ts),Ts(n,"touchmove",this._onMouseMove,ts),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{cc(this.upperCanvasEl,"".concat(r,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(e){this.__onMouseUp(e),this._resetTransformEventData();const r=this.upperCanvasEl,n=this._getEventPrefix();if(this._isMainEvent(e)){const i=Ca(this.upperCanvasEl);Ts(i,"".concat(n,"up"),this._onMouseUp),Ts(i,"".concat(n,"move"),this._onMouseMove,ts),cc(r,"".concat(n,"move"),this._onMouseMove,ts)}}_onMouseMove(e){const r=this.getActiveObject();!this.allowTouchScrolling&&(!r||!r.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(e){const r=this.getActiveObject();return!!r!=!!e||r&&e&&r!==e}__onMouseUp(e){var r;this._cacheTransformEventData(e),this._handleEvent(e,"up:before");const n=this._currentTransform,i=this._isClick,s=this._target,{button:a}=e;if(a)return(this.fireMiddleClick&&a===1||this.fireRightClick&&a===2)&&this._handleEvent(e,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(e);if(!this._isMainEvent(e))return;let o,l,c=!1;if(n&&(this._finalizeCurrentTransform(e),c=n.actionPerformed),!i){const u=s===this._activeObject;this.handleSelection(e),c||(c=this._shouldRender(s)||!u&&s===this._activeObject)}if(s){const u=s.findControl(this.getViewportPoint(e),AS(e)),{key:d,control:A}=u||{};if(l=d,s.selectable&&s!==this._activeObject&&s.activeOn==="up")this.setActiveObject(s,e),c=!0;else if(A){const f=A.getMouseUpHandler(e,s,A);f&&(o=this.getScenePoint(e),f.call(A,e,n,o.x,o.y))}s.isMoving=!1}if(n&&(n.target!==s||n.corner!==l)){const u=n.target&&n.target.controls[n.corner],d=u&&u.getMouseUpHandler(e,n.target,u);o=o||this.getScenePoint(e),d&&d.call(u,e,n,o.x,o.y)}this._setCursorFromEvent(e,s),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,s&&(s.__corner=void 0),c?this.requestRenderAll():i||(r=this._activeObject)!==null&&r!==void 0&&r.isEditing||this.renderTop()}_basicEventHandler(e,r){const{target:n,subTargets:i=[]}=r;this.fire(e,r),n&&n.fire(e,r);for(let s=0;s<i.length;s++)i[s]!==n&&i[s].fire(e,r);return r}_handleEvent(e,r){const n=this._target,i=this.targets||[],s=Y(Y({e,target:n,subTargets:i},rh(this,e)),{},{transform:this._currentTransform},r==="up:before"||r==="up"?{isClick:this._isClick,currentTarget:this.findTarget(e),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(r),s),n&&n.fire("mouse".concat(r),s);for(let a=0;a<i.length;a++)i[a]!==n&&i[a].fire("mouse".concat(r),s)}_onMouseDownInDrawingMode(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());const r=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(r,{e,pointer:r}),this._handleEvent(e,"down")}_onMouseMoveInDrawingMode(e){if(this._isCurrentlyDrawing){const r=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(r,{e,pointer:r})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}_onMouseUpInDrawingMode(e){const r=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e,pointer:r}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}__onMouseDown(e){this._isClick=!0,this._cacheTransformEventData(e),this._handleEvent(e,"down:before");let r=this._target;const{button:n}=e;if(n)return(this.fireMiddleClick&&n===1||this.fireRightClick&&n===2)&&this._handleEvent(e,"down"),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(e);if(!this._isMainEvent(e)||this._currentTransform)return;let i=this._shouldRender(r),s=!1;if(this.handleMultiSelection(e,r)?(r=this._activeObject,s=!0,i=!0):this._shouldClearSelection(e,r)&&this.discardActiveObject(e),this.selection&&(!r||!r.selectable&&!r.isEditing&&r!==this._activeObject)){const a=this.getScenePoint(e);this._groupSelector={x:a.x,y:a.y,deltaY:0,deltaX:0}}if(r){const a=r===this._activeObject;r.selectable&&r.activeOn==="down"&&this.setActiveObject(r,e);const o=r.findControl(this.getViewportPoint(e),AS(e));if(r===this._activeObject&&(o||!s)){this._setupCurrentTransform(e,r,a);const l=o?o.control:void 0,c=this.getScenePoint(e),u=l&&l.getMouseDownHandler(e,r,l);u&&u.call(l,e,this._currentTransform,c.x,c.y)}}i&&(this._objectsToRender=void 0),this._handleEvent(e,"down"),i&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(e){this._resetTransformEventData(),this._pointer=this.getViewportPoint(e),this._absolutePointer=BA(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)}__onMouseMove(e){if(this._isClick=!1,this._cacheTransformEventData(e),this._handleEvent(e,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(e);if(!this._isMainEvent(e))return;const r=this._groupSelector;if(r){const n=this.getScenePoint(e);r.deltaX=n.x-r.x,r.deltaY=n.y-r.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{const n=this.findTarget(e);this._setCursorFromEvent(e,n),this._fireOverOutEvents(e,n)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move"),this._resetTransformEventData()}_fireOverOutEvents(e,r){const n=this._hoveredTarget,i=this._hoveredTargets,s=this.targets,a=Math.max(i.length,s.length);this.fireSyntheticInOutEvents("mouse",{e,target:r,oldTarget:n,fireCanvas:!0});for(let o=0;o<a;o++)this.fireSyntheticInOutEvents("mouse",{e,target:s[o],oldTarget:i[o]});this._hoveredTarget=r,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(e,r){const n=this._draggedoverTarget,i=this._hoveredTargets,s=this.targets,a=Math.max(i.length,s.length);this.fireSyntheticInOutEvents("drag",Y(Y({},r),{},{target:e,oldTarget:n,fireCanvas:!0}));for(let o=0;o<a;o++)this.fireSyntheticInOutEvents("drag",Y(Y({},r),{},{target:s[o],oldTarget:i[o]}));this._draggedoverTarget=e}fireSyntheticInOutEvents(e,r){let{target:n,oldTarget:i,fireCanvas:s,e:a}=r,o=xr(r,fTe);const{targetIn:l,targetOut:c,canvasIn:u,canvasOut:d}=pTe[e],A=i!==n;if(i&&A){const f=Y(Y({},o),{},{e:a,target:i,nextTarget:n},rh(this,a));s&&this.fire(d,f),i.fire(c,f)}if(n&&A){const f=Y(Y({},o),{},{e:a,target:n,previousTarget:i},rh(this,a));s&&this.fire(u,f),n.fire(l,f)}}__onMouseWheel(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}_transformObject(e){const r=this.getScenePoint(e),n=this._currentTransform,i=n.target,s=i.group?BA(r,void 0,i.group.calcTransformMatrix()):r;n.shiftKey=e.shiftKey,n.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,n,s),n.actionPerformed&&this.requestRenderAll()}_performTransformAction(e,r,n){const{action:i,actionHandler:s,target:a}=r,o=!!s&&s(e,r,n.x,n.y);o&&a.setCoords(),i==="drag"&&o&&(r.target.isMoving=!0,this.setCursor(r.target.moveCursor||this.moveCursor)),r.actionPerformed=r.actionPerformed||o}_setCursorFromEvent(e,r){if(!r)return void this.setCursor(this.defaultCursor);let n=r.hoverCursor||this.hoverCursor;const i=Dd(this._activeObject)?this._activeObject:null,s=(!i||r.group!==i)&&r.findControl(this.getViewportPoint(e));if(s){const a=s.control;this.setCursor(a.cursorStyleHandler(e,a,r))}else r.subTargetCheck&&this.targets.concat().reverse().map(a=>{n=a.hoverCursor||n}),this.setCursor(n)}handleMultiSelection(e,r){const n=this._activeObject,i=Dd(n);if(n&&this._isSelectionKeyPressed(e)&&this.selection&&r&&r.selectable&&(n!==r||i)&&(i||!r.isDescendantOf(n)&&!n.isDescendantOf(r))&&!r.onSelect({e})&&!n.getActiveControl()){if(i){const s=n.getObjects();if(r===n){const a=this.getViewportPoint(e);if(!(r=this.searchPossibleTargets(s,a)||this.searchPossibleTargets(this._objects,a))||!r.selectable)return!1}r.group===n?(n.remove(r),this._hoveredTarget=r,this._hoveredTargets=[...this.targets],n.size()===1&&this._setActiveObject(n.item(0),e)):(n.multiSelectAdd(r),this._hoveredTarget=n,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(s,e)}else{n.isEditing&&n.exitEditing();const s=new(Re.getClass("ActiveSelection"))([],{canvas:this});s.multiSelectAdd(n,r),this._hoveredTarget=s,this._setActiveObject(s,e),this._fireSelectionEvents([n],e)}return!0}return!1}handleSelection(e){if(!this.selection||!this._groupSelector)return!1;const{x:r,y:n,deltaX:i,deltaY:s}=this._groupSelector,a=new ce(r,n),o=a.add(new ce(i,s)),l=a.min(o),c=a.max(o).subtract(l),u=this.collectObjects({left:l.x,top:l.y,width:c.x,height:c.y},{includeIntersecting:!this.selectionFullyContained}),d=a.eq(o)?u[0]?[u[0]]:[]:u.length>1?u.filter(A=>!A.onSelect({e})).reverse():u;if(d.length===1)this.setActiveObject(d[0],e);else if(d.length>1){const A=Re.getClass("ActiveSelection");this.setActiveObject(new A(d,{canvas:this}),e)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}};const Jee={x1:0,y1:0,x2:0,y2:0},mTe=Y(Y({},Jee),{},{r1:0,r2:0}),Yh=(t,e)=>isNaN(t)&&typeof e=="number"?e:t,gTe=/^(\d+\.\d+)%|(\d+)%$/;function Zee(t){return t&&gTe.test(t)}function ete(t,e){const r=typeof t=="number"?t:typeof t=="string"?parseFloat(t)/(Zee(t)?100:1):NaN;return JA(0,Yh(r,e),1)}const yTe=/\s*;\s*/,vTe=/\s*:\s*/;function xTe(t,e){let r,n;const i=t.getAttribute("style");if(i){const a=i.split(yTe);a[a.length-1]===""&&a.pop();for(let o=a.length;o--;){const[l,c]=a[o].split(vTe).map(u=>u.trim());l==="stop-color"?r=c:l==="stop-opacity"&&(n=c)}}const s=new Gi(r||t.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:ete(t.getAttribute("offset"),0),color:s.toRgb(),opacity:Yh(parseFloat(n||t.getAttribute("stop-opacity")||""),1)*s.getAlpha()*e}}function bTe(t,e){const r=[],n=t.getElementsByTagName("stop"),i=ete(e,1);for(let s=n.length;s--;)r.push(xTe(n[s],i));return r}function tte(t){return t.nodeName==="linearGradient"||t.nodeName==="LINEARGRADIENT"?"linear":"radial"}function rte(t){return t.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function ca(t,e){return t.getAttribute(e)}function wTe(t,e){return function(r,n){let i,{width:s,height:a,gradientUnits:o}=n;return Object.keys(r).reduce((l,c)=>{const u=r[c];return u==="Infinity"?i=1:u==="-Infinity"?i=0:(i=typeof u=="string"?parseFloat(u):u,typeof u=="string"&&Zee(u)&&(i*=.01,o==="pixels"&&(c!=="x1"&&c!=="x2"&&c!=="r2"||(i*=s),c!=="y1"&&c!=="y2"||(i*=a)))),l[c]=i,l},{})}(tte(t)==="linear"?function(r){return{x1:ca(r,"x1")||0,y1:ca(r,"y1")||0,x2:ca(r,"x2")||"100%",y2:ca(r,"y2")||0}}(t):function(r){return{x1:ca(r,"fx")||ca(r,"cx")||"50%",y1:ca(r,"fy")||ca(r,"cy")||"50%",r1:0,x2:ca(r,"cx")||"50%",y2:ca(r,"cy")||"50%",r2:ca(r,"r")||"50%"}}(t),Y(Y({},e),{},{gradientUnits:rte(t)}))}let dy=class{constructor(e){const{type:r="linear",gradientUnits:n="pixels",coords:i={},colorStops:s=[],offsetX:a=0,offsetY:o=0,gradientTransform:l,id:c}=e||{};Object.assign(this,{type:r,gradientUnits:n,coords:Y(Y({},r==="radial"?mTe:Jee),i),colorStops:s,offsetX:a,offsetY:o,gradientTransform:l,id:c?"".concat(c,"_").concat(Fu()):Fu()})}addColorStop(e){for(const r in e){const n=new Gi(e[r]);this.colorStops.push({offset:parseFloat(r),color:n.toRgb(),opacity:n.getAlpha()})}return this}toObject(e){return Y(Y({},_f(this,e)),{},{type:this.type,coords:Y({},this.coords),colorStops:this.colorStops.map(r=>Y({},r)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(e){let{additionalTransform:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=[],i=this.gradientTransform?this.gradientTransform.concat():yi.concat(),s=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",a=this.colorStops.map(d=>Y({},d)).sort((d,A)=>d.offset-A.offset);let o=-this.offsetX,l=-this.offsetY;var c;s==="objectBoundingBox"?(o/=e.width,l/=e.height):(o+=e.width/2,l+=e.height/2),(c=e)&&typeof c._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(o-=e.pathOffset.x,l-=e.pathOffset.y),i[4]-=o,i[5]-=l;const u=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(s,'"'),'gradientTransform="'.concat(r?r+" ":"").concat(u3(i),'"'),""].join(" ");if(this.type==="linear"){const{x1:d,y1:A,x2:f,y2:p}=this.coords;n.push("<linearGradient ",u,' x1="',d,'" y1="',A,'" x2="',f,'" y2="',p,`">
`)}else if(this.type==="radial"){const{x1:d,y1:A,x2:f,y2:p,r1:m,r2:v}=this.coords,g=m>v;n.push("<radialGradient ",u,' cx="',g?d:f,'" cy="',g?A:p,'" r="',g?m:v,'" fx="',g?f:d,'" fy="',g?p:A,`">
`),g&&(a.reverse(),a.forEach(x=>{x.offset=1-x.offset}));const y=Math.min(m,v);if(y>0){const x=y/Math.max(m,v);a.forEach(b=>{b.offset+=x*(1-b.offset)})}}return a.forEach(d=>{let{color:A,offset:f,opacity:p}=d;n.push("<stop ",'offset="',100*f+"%",'" style="stop-color:',A,p!==void 0?";stop-opacity: "+p:";",`"/>
`)}),n.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),n.join("")}toLive(e){const{x1:r,y1:n,x2:i,y2:s,r1:a,r2:o}=this.coords,l=this.type==="linear"?e.createLinearGradient(r,n,i,s):e.createRadialGradient(r,n,a,i,s,o);return this.colorStops.forEach(c=>{let{color:u,opacity:d,offset:A}=c;l.addColorStop(A,d!==void 0?new Gi(u).setAlpha(d).toRgba():u)}),l}static async fromObject(e){const{colorStops:r,gradientTransform:n}=e;return new this(Y(Y({},e),{},{colorStops:r?r.map(i=>Y({},i)):void 0,gradientTransform:n?[...n]:void 0}))}static fromElement(e,r,n){const i=rte(e),s=r._findCenterFromElement();return new this(Y({id:e.getAttribute("id")||void 0,type:tte(e),coords:wTe(e,{width:n.viewBoxWidth||n.width,height:n.viewBoxHeight||n.height}),colorStops:bTe(e,n.opacity),gradientUnits:i,gradientTransform:yS(e.getAttribute("gradientTransform")||"")},i==="pixels"?{offsetX:r.width/2-s.x,offsetY:r.height/2-s.y}:{offsetX:0,offsetY:0}))}};V(dy,"type","Gradient"),Re.setClass(dy,"gradient"),Re.setClass(dy,"linear"),Re.setClass(dy,"radial");const CTe=["type","source","patternTransform"];let a7=class{get type(){return"pattern"}set type(e){Mu("warn","Setting type has no effect",e)}constructor(e){V(this,"repeat","repeat"),V(this,"offsetX",0),V(this,"offsetY",0),V(this,"crossOrigin",""),this.id=Fu(),Object.assign(this,e)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(e){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?e.createPattern(this.source,this.repeat):null}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:r,crossOrigin:n}=this;return Y(Y({},_f(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:r,crossOrigin:n,offsetX:_r(this.offsetX,Tt.NUM_FRACTION_DIGITS),offsetY:_r(this.offsetY,Tt.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(e){let{width:r,height:n}=e;const{source:i,repeat:s,id:a}=this,o=Yh(this.offsetX/r,0),l=Yh(this.offsetY/n,0),c=s==="repeat-y"||s==="no-repeat"?1+Math.abs(o||0):Yh(i.width/r,0),u=s==="repeat-x"||s==="no-repeat"?1+Math.abs(l||0):Yh(i.height/n,0);return['<pattern id="SVGID_'.concat(a,'" x="').concat(o,'" y="').concat(l,'" width="').concat(c,'" height="').concat(u,'">'),'<image x="0" y="0" width="'.concat(i.width,'" height="').concat(i.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(e,r){let{type:n,source:i,patternTransform:s}=e,a=xr(e,CTe);const o=await gx(i,Y(Y({},r),{},{crossOrigin:a.crossOrigin}));return new this(Y(Y({},a),{},{patternTransform:s&&s.slice(0),source:o}))}};V(a7,"type","Pattern"),Re.setClass(a7),Re.setClass(a7,"pattern");let BTe=class{constructor(e){V(this,"color","rgb(0, 0, 0)"),V(this,"width",1),V(this,"shadow",null),V(this,"strokeLineCap","round"),V(this,"strokeLineJoin","round"),V(this,"strokeMiterLimit",10),V(this,"strokeDashArray",null),V(this,"limitedToCanvasSize",!1),this.canvas=e}_setBrushStyles(e){e.strokeStyle=this.color,e.lineWidth=this.width,e.lineCap=this.strokeLineCap,e.miterLimit=this.strokeMiterLimit,e.lineJoin=this.strokeLineJoin,e.setLineDash(this.strokeDashArray||[])}_saveAndTransform(e){const r=this.canvas.viewportTransform;e.save(),e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}needsFullRender(){return new Gi(this.color).getAlpha()<1||!!this.shadow}_setShadow(){if(!this.shadow||!this.canvas)return;const e=this.canvas,r=this.shadow,n=e.contextTop,i=e.getZoom()*e.getRetinaScaling();n.shadowColor=r.color,n.shadowBlur=r.blur*i,n.shadowOffsetX=r.offsetX*i,n.shadowOffsetY=r.offsetY*i}_resetShadow(){const e=this.canvas.contextTop;e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0}_isOutSideCanvas(e){return e.x<0||e.x>this.canvas.getWidth()||e.y<0||e.y>this.canvas.getHeight()}};const STe=["path","left","top"],_Te=["d"];let kh=class nte extends ti{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:n,left:i,top:s}=r,a=xr(r,STe);super(),Object.assign(this,nte.ownDefaults),this.setOptions(a),this._setPath(e||[],!0),typeof i=="number"&&this.set(Kt,i),typeof s=="number"&&this.set(zi,s)}_setPath(e,r){this.path=tTe(Array.isArray(e)?e:uTe(e)),this.setBoundingBox(r)}_findCenterFromElement(){const e=this._calcBoundsFromPath();return new ce(e.left+e.width/2,e.top+e.height/2)}_renderPathCommands(e){const r=-this.pathOffset.x,n=-this.pathOffset.y;e.beginPath();for(const i of this.path)switch(i[0]){case"L":e.lineTo(i[1]+r,i[2]+n);break;case"M":e.moveTo(i[1]+r,i[2]+n);break;case"C":e.bezierCurveTo(i[1]+r,i[2]+n,i[3]+r,i[4]+n,i[5]+r,i[6]+n);break;case"Q":e.quadraticCurveTo(i[1]+r,i[2]+n,i[3]+r,i[4]+n);break;case"Z":e.closePath()}}_render(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y(Y({},super.toObject(e)),{},{path:this.path.map(r=>r.slice())})}toDatalessObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=this.toObject(e);return this.sourcePath&&(delete r.path,r.sourcePath=this.sourcePath),r}_toSVG(){const e=Gee(this.path,Tt.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(e,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const e=Tt.NUM_FRACTION_DIGITS;return" translate(".concat(_r(-this.pathOffset.x,e),", ").concat(_r(-this.pathOffset.y,e),")")}toClipPathSVG(e){const r=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:r})}toSVG(e){const r=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:r})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{width:r,height:n,pathOffset:i}=this._calcDimensions();this.set({width:r,height:n,pathOffset:i}),e&&this.setPositionByOrigin(i,pt,pt)}_calcBoundsFromPath(){const e=[];let r=0,n=0,i=0,s=0;for(const a of this.path)switch(a[0]){case"L":i=a[1],s=a[2],e.push({x:r,y:n},{x:i,y:s});break;case"M":i=a[1],s=a[2],r=i,n=s;break;case"C":e.push(...pU(i,s,a[1],a[2],a[3],a[4],a[5],a[6])),i=a[5],s=a[6];break;case"Q":e.push(...pU(i,s,a[1],a[2],a[1],a[2],a[3],a[4])),i=a[3],s=a[4];break;case"Z":i=r,s=n}return El(e)}_calcDimensions(){const e=this._calcBoundsFromPath();return Y(Y({},e),{},{pathOffset:new ce(e.left+e.width/2,e.top+e.height/2)})}static fromObject(e){return this._fromObject(e,{extraParam:"path"})}static async fromElement(e,r,n){const i=Zl(e,this.ATTRIBUTE_NAMES,n),{d:s}=i;return new this(s,Y(Y(Y({},xr(i,_Te)),r),{},{left:void 0,top:void 0}))}};V(kh,"type","Path"),V(kh,"cacheProperties",[...Jl,"path","fillRule"]),V(kh,"ATTRIBUTE_NAMES",[...Gu,"d"]),Re.setClass(kh),Re.setSVGClass(kh);let ite=class SS extends BTe{constructor(e){super(e),V(this,"decimate",.4),V(this,"drawStraightLine",!1),V(this,"straightLineKey","shiftKey"),this._points=[],this._hasStraightLine=!1}needsFullRender(){return super.needsFullRender()||this._hasStraightLine}static drawSegment(e,r,n){const i=r.midPointFrom(n);return e.quadraticCurveTo(r.x,r.y,i.x,i.y),i}onMouseDown(e,r){let{e:n}=r;this.canvas._isMainEvent(n)&&(this.drawStraightLine=!!this.straightLineKey&&n[this.straightLineKey],this._prepareForDrawing(e),this._addPoint(e),this._render())}onMouseMove(e,r){let{e:n}=r;if(this.canvas._isMainEvent(n)&&(this.drawStraightLine=!!this.straightLineKey&&n[this.straightLineKey],(this.limitedToCanvasSize!==!0||!this._isOutSideCanvas(e))&&this._addPoint(e)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{const i=this._points,s=i.length,a=this.canvas.contextTop;this._saveAndTransform(a),this.oldEnd&&(a.beginPath(),a.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=SS.drawSegment(a,i[s-2],i[s-1]),a.stroke(),a.restore()}}onMouseUp(e){let{e:r}=e;return!this.canvas._isMainEvent(r)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)}_prepareForDrawing(e){this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)}_addPoint(e){return!(this._points.length>1&&e.eq(this._points[this._points.length-1]))&&(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(e),!0)}_reset(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1}_render(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.canvas.contextTop,r=this._points[0],n=this._points[1];if(this._saveAndTransform(e),e.beginPath(),this._points.length===2&&r.x===n.x&&r.y===n.y){const i=this.width/1e3;r.x-=i,n.x+=i}e.moveTo(r.x,r.y);for(let i=1;i<this._points.length;i++)SS.drawSegment(e,r,n),r=this._points[i],n=this._points[i+1];e.lineTo(r.x,r.y),e.stroke(),e.restore()}convertPointsToSVGPath(e){const r=this.width/1e3;return dTe(e,r)}createPath(e){const r=new kh(e,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,r.shadow=new SA(this.shadow)),r}decimatePoints(e,r){if(e.length<=2)return e;let n,i=e[0];const s=this.canvas.getZoom(),a=Math.pow(r/s,2),o=e.length-1,l=[i];for(let c=1;c<o-1;c++)n=Math.pow(i.x-e[c].x,2)+Math.pow(i.y-e[c].y,2),n>=a&&(i=e[c],l.push(i));return l.push(e[o]),l}_finalizeAndAddPath(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));const e=this.convertPointsToSVGPath(this._points);if(function(n){return Gee(n)==="M 0 0 Q 0 0 0 0 L 0 0"}(e))return void this.canvas.requestRenderAll();const r=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:r}),this.canvas.add(r),this.canvas.requestRenderAll(),r.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:r})}};const kTe=["left","top","radius"],ste=["radius","startAngle","endAngle","counterClockwise"];let Nc=class _S extends ti{static getDefaults(){return Y(Y({},super.getDefaults()),_S.ownDefaults)}constructor(e){super(),Object.assign(this,_S.ownDefaults),this.setOptions(e)}_set(e,r){return super._set(e,r),e==="radius"&&this.setRadius(r),this}_render(e){e.beginPath(),e.arc(0,0,this.radius,Kr(this.startAngle),Kr(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}getRadiusX(){return this.get("radius")*this.get(Wi)}getRadiusY(){return this.get("radius")*this.get(ia)}setRadius(e){this.radius=e,this.set({width:2*e,height:2*e})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...ste,...e])}_toSVG(){const e=(this.endAngle-this.startAngle)%360;if(e===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:r}=this,n=Kr(this.startAngle),i=Kr(this.endAngle),s=Ql(n)*r,a=zl(n)*r,o=Ql(i)*r,l=zl(i)*r,c=e>180?1:0,u=this.counterClockwise?0:1;return['<path d="M '.concat(s," ").concat(a," A ").concat(r," ").concat(r," 0 ").concat(c," ").concat(u," ").concat(o," ").concat(l,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(e,r,n){const i=Zl(e,this.ATTRIBUTE_NAMES,n),{left:s=0,top:a=0,radius:o=0}=i;return new this(Y(Y({},xr(i,kTe)),{},{radius:o,left:s-o,top:a-o}))}static fromObject(e){return super._fromObject(e)}};V(Nc,"type","Circle"),V(Nc,"cacheProperties",[...Jl,...ste]),V(Nc,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),V(Nc,"ATTRIBUTE_NAMES",["cx","cy","r",...Gu]),Re.setClass(Nc),Re.setSVGClass(Nc);const ETe=["x1","y1","x2","y2"],MTe=["x1","y1","x2","y2"],kS=["x1","x2","y1","y2"];let Ld=class ate extends ti{constructor(){let[e,r,n,i]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,ate.ownDefaults),this.setOptions(s),this.x1=e,this.x2=n,this.y1=r,this.y2=i,this._setWidthHeight();const{left:a,top:o}=s;typeof a=="number"&&this.set(Kt,a),typeof o=="number"&&this.set(zi,o)}_setWidthHeight(){const{x1:e,y1:r,x2:n,y2:i}=this;this.width=Math.abs(n-e),this.height=Math.abs(i-r);const{left:s,top:a,width:o,height:l}=El([{x:e,y:r},{x:n,y:i}]),c=new ce(s+o/2,a+l/2);this.setPositionByOrigin(c,pt,pt)}_set(e,r){return super._set(e,r),kS.includes(e)&&this._setWidthHeight(),this}_render(e){e.beginPath();const r=this.calcLinePoints();e.moveTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineWidth=this.strokeWidth;const n=e.strokeStyle;var i;$s(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=(i=this.stroke)!==null&&i!==void 0?i:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n}_findCenterFromElement(){return new ce((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y(Y({},super.toObject(e)),this.calcLinePoints())}_getNonTransformedDimensions(){const e=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(e.y-=this.strokeWidth),this.height===0&&(e.x-=this.strokeWidth)),e}calcLinePoints(){const{x1:e,x2:r,y1:n,y2:i,width:s,height:a}=this,o=e<=r?-1:1,l=n<=i?-1:1;return{x1:o*s/2,x2:o*-s/2,y1:l*a/2,y2:l*-a/2}}_toSVG(){const{x1:e,x2:r,y1:n,y2:i}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(e,'" y1="').concat(n,'" x2="').concat(r,'" y2="').concat(i,`" />
`)]}static async fromElement(e,r,n){const i=Zl(e,this.ATTRIBUTE_NAMES,n),{x1:s=0,y1:a=0,x2:o=0,y2:l=0}=i;return new this([s,a,o,l],xr(i,ETe))}static fromObject(e){let{x1:r,y1:n,x2:i,y2:s}=e,a=xr(e,MTe);return this._fromObject(Y(Y({},a),{},{points:[r,n,i,s]}),{extraParam:"points"})}};V(Ld,"type","Line"),V(Ld,"cacheProperties",[...Jl,...kS]),V(Ld,"ATTRIBUTE_NAMES",Gu.concat(kS)),Re.setClass(Ld),Re.setSVGClass(Ld);let Jh=class ES extends ti{static getDefaults(){return Y(Y({},super.getDefaults()),ES.ownDefaults)}constructor(e){super(),Object.assign(this,ES.ownDefaults),this.setOptions(e)}_render(e){const r=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-r,n),e.lineTo(0,-n),e.lineTo(r,n),e.closePath(),this._renderPaintInOrder(e)}_toSVG(){const e=this.width/2,r=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(r,",0 ").concat(-r,",").concat(e," ").concat(r),'" />']}};V(Jh,"type","Triangle"),V(Jh,"ownDefaults",{width:100,height:100}),Re.setClass(Jh),Re.setSVGClass(Jh);const ote=["rx","ry"];let kd=class MS extends ti{static getDefaults(){return Y(Y({},super.getDefaults()),MS.ownDefaults)}constructor(e){super(),Object.assign(this,MS.ownDefaults),this.setOptions(e)}_set(e,r){switch(super._set(e,r),e){case"rx":this.rx=r,this.set("width",2*r);break;case"ry":this.ry=r,this.set("height",2*r)}return this}getRx(){return this.get("rx")*this.get(Wi)}getRy(){return this.get("ry")*this.get(ia)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...ote,...e])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,s3,!1),e.restore(),this._renderPaintInOrder(e)}static async fromElement(e,r,n){const i=Zl(e,this.ATTRIBUTE_NAMES,n);return i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,new this(i)}};function FTe(t){if(!t)return[];const e=t.replace(/,/g," ").trim().split(/\s+/),r=[];for(let n=0;n<e.length;n+=2)r.push({x:parseFloat(e[n]),y:parseFloat(e[n+1])});return r}V(kd,"type","Ellipse"),V(kd,"cacheProperties",[...Jl,...ote]),V(kd,"ownDefaults",{rx:0,ry:0}),V(kd,"ATTRIBUTE_NAMES",[...Gu,"cx","cy","rx","ry"]),Re.setClass(kd),Re.setSVGClass(kd);const TTe=["left","top"],lte={exactBoundingBox:!1};let kc=class FS extends ti{static getDefaults(){return Y(Y({},super.getDefaults()),FS.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),V(this,"strokeDiff",void 0),Object.assign(this,FS.ownDefaults),this.setOptions(r),this.points=e;const{left:n,top:i}=r;this.initialized=!0,this.setBoundingBox(!0),typeof n=="number"&&this.set(Kt,n),typeof i=="number"&&this.set(zi,i)}isOpen(){return!0}_projectStrokeOnPoints(e){return vFe(this.points,e,this.isOpen())}_calcDimensions(e){e=Y({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});const r=this.exactBoundingBox?this._projectStrokeOnPoints(e).map(c=>c.projectedPoint):this.points;if(r.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new ce,strokeOffset:new ce,strokeDiff:new ce};const n=El(r),i=f5(Y(Y({},e),{},{scaleX:1,scaleY:1})),s=El(this.points.map(c=>Ti(c,i,!0))),a=new ce(this.scaleX,this.scaleY);let o=n.left+n.width/2,l=n.top+n.height/2;return this.exactBoundingBox&&(o-=l*Math.tan(Kr(this.skewX)),l-=o*Math.tan(Kr(this.skewY))),Y(Y({},n),{},{pathOffset:new ce(o,l),strokeOffset:new ce(s.left,s.top).subtract(new ce(n.left,n.top)).multiply(a),strokeDiff:new ce(n.width,n.height).subtract(new ce(s.width,s.height)).multiply(a)})}_findCenterFromElement(){const e=El(this.points);return new ce(e.left+e.width/2,e.top+e.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{left:r,top:n,width:i,height:s,pathOffset:a,strokeOffset:o,strokeDiff:l}=this._calcDimensions();this.set({width:i,height:s,pathOffset:a,strokeOffset:o,strokeDiff:l}),e&&this.setPositionByOrigin(new ce(r+i/2,n+s/2),pt,pt)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new ce(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let a;if(Object.keys(e).some(o=>this.strokeUniform||this.constructor.layoutProperties.includes(o))){var r,n;const{width:o,height:l}=this._calcDimensions(e);a=new ce((r=e.width)!==null&&r!==void 0?r:o,(n=e.height)!==null&&n!==void 0?n:l)}else{var i,s;a=new ce((i=e.width)!==null&&i!==void 0?i:this.width,(s=e.height)!==null&&s!==void 0?s:this.height)}return a.multiply(new ce(e.scaleX||this.scaleX,e.scaleY||this.scaleY))}return super._getTransformedDimensions(e)}_set(e,r){const n=this.initialized&&this[e]!==r,i=super._set(e,r);return this.exactBoundingBox&&n&&((e===Wi||e===ia)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),i}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y(Y({},super.toObject(e)),{},{points:this.points.map(r=>{let{x:n,y:i}=r;return{x:n,y:i}})})}_toSVG(){const e=[],r=this.pathOffset.x,n=this.pathOffset.y,i=Tt.NUM_FRACTION_DIGITS;for(let s=0,a=this.points.length;s<a;s++)e.push(_r(this.points[s].x-r,i),",",_r(this.points[s].y-n,i)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),`" />
`)]}_render(e){const r=this.points.length,n=this.pathOffset.x,i=this.pathOffset.y;if(r&&!isNaN(this.points[r-1].y)){e.beginPath(),e.moveTo(this.points[0].x-n,this.points[0].y-i);for(let s=0;s<r;s++){const a=this.points[s];e.lineTo(a.x-n,a.y-i)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}complexity(){return this.points.length}static async fromElement(e,r,n){return new this(FTe(e.getAttribute("points")),Y(Y({},xr(Zl(e,this.ATTRIBUTE_NAMES,n),TTe)),r))}static fromObject(e){return this._fromObject(e,{extraParam:"points"})}};V(kc,"ownDefaults",lte),V(kc,"type","Polyline"),V(kc,"layoutProperties",[Bf,Sf,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),V(kc,"cacheProperties",[...Jl,"points"]),V(kc,"ATTRIBUTE_NAMES",[...Gu]),Re.setClass(kc),Re.setSVGClass(kc);let hy=class extends kc{isOpen(){return!1}};V(hy,"ownDefaults",lte),V(hy,"type","Polygon"),Re.setClass(hy),Re.setSVGClass(hy);const cte=["fontSize","fontWeight","fontFamily","fontStyle"],ute=["underline","overline","linethrough"],dte=[...cte,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],hte=[...dte,...ute,"textBackgroundColor","direction"],DTe=[...cte,...ute,$i,"strokeWidth",hn,"deltaY","textBackgroundColor"],LTe={_reNewline:xF,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:Kt,fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:Kt,pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},Ao="justify",m3="justify-left",Hm="justify-right",$m="justify-center";let Ate=class extends ti{isEmptyStyles(e){if(!this.styles||e!==void 0&&!this.styles[e])return!0;const r=e===void 0?this.styles:{line:this.styles[e]};for(const n in r)for(const i in r[n])for(const s in r[n][i])return!1;return!0}styleHas(e,r){if(!this.styles||r!==void 0&&!this.styles[r])return!1;const n=r===void 0?this.styles:{0:this.styles[r]};for(const i in n)for(const s in n[i])if(n[i][s][e]!==void 0)return!0;return!1}cleanStyle(e){if(!this.styles)return!1;const r=this.styles;let n,i,s=0,a=!0,o=0;for(const l in r){n=0;for(const c in r[l]){const u=r[l][c]||{};s++,u[e]!==void 0?(i?u[e]!==i&&(a=!1):i=u[e],u[e]===this[e]&&delete u[e]):a=!1,Object.keys(u).length!==0?n++:delete r[l][c]}n===0&&delete r[l]}for(let l=0;l<this._textLines.length;l++)o+=this._textLines[l].length;a&&s===o&&(this[e]=i,this.removeStyle(e))}removeStyle(e){if(!this.styles)return;const r=this.styles;let n,i,s;for(i in r){for(s in n=r[i],n)delete n[s][e],Object.keys(n[s]).length===0&&delete n[s];Object.keys(n).length===0&&delete r[i]}}_extendStyles(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e);this._getLineStyle(n)||this._setLineStyle(n);const s=SF(Y(Y({},this._getStyleDeclaration(n,i)),r),a=>a!==void 0);this._setStyleDeclaration(n,i,s)}getSelectionStyles(e,r,n){const i=[];for(let s=e;s<(r||e);s++)i.push(this.getStyleAtPosition(s,n));return i}getStyleAtPosition(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e);return r?this.getCompleteStyleDeclaration(n,i):this._getStyleDeclaration(n,i)}setSelectionStyles(e,r,n){for(let i=r;i<(n||r);i++)this._extendStyles(i,e);this._forceClearCache=!0}_getStyleDeclaration(e,r){var n;const i=this.styles&&this.styles[e];return i&&(n=i[r])!==null&&n!==void 0?n:{}}getCompleteStyleDeclaration(e,r){return Y(Y({},_f(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,r))}_setStyleDeclaration(e,r,n){this.styles[e][r]=n}_deleteStyleDeclaration(e,r){delete this.styles[e][r]}_getLineStyle(e){return!!this.styles[e]}_setLineStyle(e){this.styles[e]={}}_deleteLineStyle(e){delete this.styles[e]}};V(Ate,"_styleProperties",DTe);const NTe=/  +/g,jTe=/"/g;function o7(t,e,r,n,i){return"		".concat(function(s,a){let{left:o,top:l,width:c,height:u}=a,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Tt.NUM_FRACTION_DIGITS;const A=Jg(hn,s,!1),[f,p,m,v]=[o,l,c,u].map(g=>_r(g,d));return"<rect ".concat(A,' x="').concat(f,'" y="').concat(p,'" width="').concat(m,'" height="').concat(v,'"></rect>')}(t,{left:e,top:r,width:n,height:i}),`
`)}const ITe=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let l7,Za=class Zp extends Ate{static getDefaults(){return Y(Y({},super.getDefaults()),Zp.ownDefaults)}constructor(e,r){super(),V(this,"__charBounds",[]),Object.assign(this,Zp.ownDefaults),this.setOptions(r),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const e=this.path;e&&(e.segmentsInfo=Wee(e.path))}_splitText(){const e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(Ao)&&this.enlargeSpaces()}enlargeSpaces(){let e,r,n,i,s,a,o;for(let l=0,c=this._textLines.length;l<c;l++)if((this.textAlign===Ao||l!==c-1&&!this.isEndOfWrapping(l))&&(i=0,s=this._textLines[l],r=this.getLineWidth(l),r<this.width&&(o=this.textLines[l].match(this._reSpacesAndTabs)))){n=o.length,e=(this.width-r)/n;for(let u=0;u<=s.length;u++)a=this.__charBounds[l][u],this._reSpaceAndTab.test(s[u])?(a.width+=e,a.kernedWidth+=e,a.left+=i,i+=e):a.left+=i}}isEndOfWrapping(e){return e===this._textLines.length-1}missingNewlineOffset(e){return 1}get2DCursorLocation(e,r){const n=r?this._unwrappedTextLines:this._textLines;let i;for(i=0;i<n.length;i++){if(e<=n[i].length)return{lineIndex:i,charIndex:e};e-=n[i].length+this.missingNewlineOffset(i,r)}return{lineIndex:i-1,charIndex:n[i-1].length<e?n[i-1].length:e}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const e=super._getCacheCanvasDimensions(),r=this.fontSize;return e.width+=r*e.zoomX,e.height+=r*e.zoomY,e}_render(e){const r=this.path;r&&!r.isNotVisible()&&r._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}_renderText(e){this.paintFirst===$i?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}_setTextStyles(e,r,n){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case pt:e.textBaseline="middle";break;case"ascender":e.textBaseline=zi;break;case"descender":e.textBaseline=dS}e.font=this._getFontDeclaration(r,n)}calcTextWidth(){let e=this.getLineWidth(0);for(let r=1,n=this._textLines.length;r<n;r++){const i=this.getLineWidth(r);i>e&&(e=i)}return e}_renderTextLine(e,r,n,i,s,a){this._renderChars(e,r,n,i,s,a)}_renderTextLinesBackground(e){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const r=e.fillStyle,n=this._getLeftOffset();let i=this._getTopOffset();for(let s=0,a=this._textLines.length;s<a;s++){const o=this.getHeightOfLine(s);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",s)){i+=o;continue}const l=this._textLines[s].length,c=this._getLineLeftOffset(s);let u,d,A=0,f=0,p=this.getValueOfPropertyAt(s,0,"textBackgroundColor");for(let m=0;m<l;m++){const v=this.__charBounds[s][m];d=this.getValueOfPropertyAt(s,m,"textBackgroundColor"),this.path?(e.save(),e.translate(v.renderLeft,v.renderTop),e.rotate(v.angle),e.fillStyle=d,d&&e.fillRect(-v.width/2,-o/this.lineHeight*(1-this._fontSizeFraction),v.width,o/this.lineHeight),e.restore()):d!==p?(u=n+c+f,this.direction==="rtl"&&(u=this.width-u-A),e.fillStyle=p,p&&e.fillRect(u,i,A,o/this.lineHeight),f=v.left,A=v.width,p=d):A+=v.kernedWidth}d&&!this.path&&(u=n+c+f,this.direction==="rtl"&&(u=this.width-u-A),e.fillStyle=d,e.fillRect(u,i,A,o/this.lineHeight)),i+=o}e.fillStyle=r,this._removeShadow(e)}_measureChar(e,r,n,i){const s=Rm.getFontCache(r),a=this._getFontDeclaration(r),o=n+e,l=n&&a===this._getFontDeclaration(i),c=r.fontSize/this.CACHE_FONT_SIZE;let u,d,A,f;if(n&&s[n]!==void 0&&(A=s[n]),s[e]!==void 0&&(f=u=s[e]),l&&s[o]!==void 0&&(d=s[o],f=d-A),u===void 0||A===void 0||d===void 0){const p=function(){return l7||(l7=Do({width:0,height:0}).getContext("2d")),l7}();this._setTextStyles(p,r,!0),u===void 0&&(f=u=p.measureText(e).width,s[e]=u),A===void 0&&l&&n&&(A=p.measureText(n).width,s[n]=A),l&&d===void 0&&(d=p.measureText(o).width,s[o]=d,f=d-A)}return{width:u*c,kernedWidth:f*c}}getHeightOfChar(e,r){return this.getValueOfPropertyAt(e,r,"fontSize")}measureLine(e){const r=this._measureLine(e);return this.charSpacing!==0&&(r.width-=this._getWidthOfCharSpacing()),r.width<0&&(r.width=0),r}_measureLine(e){let r,n,i=0;const s=this.pathSide===Qr,a=this.path,o=this._textLines[e],l=o.length,c=new Array(l);this.__charBounds[e]=c;for(let u=0;u<l;u++){const d=o[u];n=this._getGraphemeBox(d,e,u,r),c[u]=n,i+=n.kernedWidth,r=d}if(c[l]={left:n?n.left+n.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},a&&a.segmentsInfo){let u=0;const d=a.segmentsInfo[a.segmentsInfo.length-1].length;switch(this.textAlign){case Kt:u=s?d-i:0;break;case pt:u=(d-i)/2;break;case Qr:u=s?0:d-i}u+=this.pathStartOffset*(s?-1:1);for(let A=s?l-1:0;s?A>=0:A<l;s?A--:A++)n=c[A],u>d?u%=d:u<0&&(u+=d),this._setGraphemeOnPath(u,n),u+=n.kernedWidth}return{width:i,numOfSpaces:0}}_setGraphemeOnPath(e,r){const n=e+r.kernedWidth/2,i=this.path,s=aTe(i.path,n,i.segmentsInfo);r.renderLeft=s.x-i.pathOffset.x,r.renderTop=s.y-i.pathOffset.y,r.angle=s.angle+(this.pathSide===Qr?Math.PI:0)}_getGraphemeBox(e,r,n,i,s){const a=this.getCompleteStyleDeclaration(r,n),o=i?this.getCompleteStyleDeclaration(r,n-1):{},l=this._measureChar(e,a,i,o);let c,u=l.kernedWidth,d=l.width;this.charSpacing!==0&&(c=this._getWidthOfCharSpacing(),d+=c,u+=c);const A={width:d,left:0,height:a.fontSize,kernedWidth:u,deltaY:a.deltaY};if(n>0&&!s){const f=this.__charBounds[r][n-1];A.left=f.left+f.width+l.kernedWidth-l.width}return A}getHeightOfLine(e){if(this.__lineHeights[e])return this.__lineHeights[e];let r=this.getHeightOfChar(e,0);for(let n=1,i=this._textLines[e].length;n<i;n++)r=Math.max(this.getHeightOfChar(e,n),r);return this.__lineHeights[e]=r*this.lineHeight*this._fontSizeMult}calcTextHeight(){let e,r=0;for(let n=0,i=this._textLines.length;n<i;n++)e=this.getHeightOfLine(n),r+=n===i-1?e/this.lineHeight:e;return r}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(e,r){e.save();let n=0;const i=this._getLeftOffset(),s=this._getTopOffset();for(let a=0,o=this._textLines.length;a<o;a++){const l=this.getHeightOfLine(a),c=l/this.lineHeight,u=this._getLineLeftOffset(a);this._renderTextLine(r,e,this._textLines[a],i+u,s+n+c,a),n+=l}e.restore()}_renderTextFill(e){(this.fill||this.styleHas(hn))&&this._renderTextCommon(e,"fillText")}_renderTextStroke(e){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}_renderChars(e,r,n,i,s,a){const o=this.getHeightOfLine(a),l=this.textAlign.includes(Ao),c=this.path,u=!l&&this.charSpacing===0&&this.isEmptyStyles(a)&&!c,d=this.direction==="ltr",A=this.direction==="ltr"?1:-1,f=r.direction;let p,m,v,g,y,x="",b=0;if(r.save(),f!==this.direction&&(r.canvas.setAttribute("dir",d?"ltr":"rtl"),r.direction=d?"ltr":"rtl",r.textAlign=d?Kt:Qr),s-=o*this._fontSizeFraction/this.lineHeight,u)return this._renderChar(e,r,a,0,n.join(""),i,s),void r.restore();for(let w=0,C=n.length-1;w<=C;w++)g=w===C||this.charSpacing||c,x+=n[w],v=this.__charBounds[a][w],b===0?(i+=A*(v.kernedWidth-v.width),b+=v.width):b+=v.kernedWidth,l&&!g&&this._reSpaceAndTab.test(n[w])&&(g=!0),g||(p=p||this.getCompleteStyleDeclaration(a,w),m=this.getCompleteStyleDeclaration(a,w+1),g=LF(p,m,!1)),g&&(c?(r.save(),r.translate(v.renderLeft,v.renderTop),r.rotate(v.angle),this._renderChar(e,r,a,w,x,-b/2,0),r.restore()):(y=i,this._renderChar(e,r,a,w,x,y,s)),x="",p=m,i+=A*b,b=0);r.restore()}_applyPatternGradientTransformText(e){const r=this.width+this.strokeWidth,n=this.height+this.strokeWidth,i=Do({width:r,height:n}),s=i.getContext("2d");return i.width=r,i.height=n,s.beginPath(),s.moveTo(0,0),s.lineTo(r,0),s.lineTo(r,n),s.lineTo(0,n),s.closePath(),s.translate(r/2,n/2),s.fillStyle=e.toLive(s),this._applyPatternGradientTransform(s,e),s.fill(),s.createPattern(i,"no-repeat")}handleFiller(e,r,n){let i,s;return $s(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?(i=-this.width/2,s=-this.height/2,e.translate(i,s),e[r]=this._applyPatternGradientTransformText(n),{offsetX:i,offsetY:s}):(e[r]=n.toLive(e),this._applyPatternGradientTransform(e,n)):(e[r]=n,{offsetX:0,offsetY:0})}_setStrokeStyles(e,r){let{stroke:n,strokeWidth:i}=r;return e.lineWidth=i,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",n)}_setFillStyles(e,r){let{fill:n}=r;return this.handleFiller(e,"fillStyle",n)}_renderChar(e,r,n,i,s,a,o){const l=this._getStyleDeclaration(n,i),c=this.getCompleteStyleDeclaration(n,i),u=e==="fillText"&&c.fill,d=e==="strokeText"&&c.stroke&&c.strokeWidth;if(d||u){if(r.save(),r.font=this._getFontDeclaration(c),l.textBackgroundColor&&this._removeShadow(r),l.deltaY&&(o+=l.deltaY),u){const A=this._setFillStyles(r,c);r.fillText(s,a-A.offsetX,o-A.offsetY)}if(d){const A=this._setStrokeStyles(r,c);r.strokeText(s,a-A.offsetX,o-A.offsetY)}r.restore()}}setSuperscript(e,r){this._setScript(e,r,this.superscript)}setSubscript(e,r){this._setScript(e,r,this.subscript)}_setScript(e,r,n){const i=this.get2DCursorLocation(e,!0),s=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"fontSize"),a=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"deltaY"),o={fontSize:s*n.size,deltaY:a+s*n.baseline};this.setSelectionStyles(o,e,r)}_getLineLeftOffset(e){const r=this.getLineWidth(e),n=this.width-r,i=this.textAlign,s=this.direction,a=this.isEndOfWrapping(e);let o=0;return i===Ao||i===$m&&!a||i===Hm&&!a||i===m3&&!a?0:(i===pt&&(o=n/2),i===Qr&&(o=n),i===$m&&(o=n/2),i===Hm&&(o=n),s==="rtl"&&(i===Qr||i===Ao||i===Hm?o=0:i===Kt||i===m3?o=-n:i!==pt&&i!==$m||(o=-n/2)),o)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(e){if(this.__lineWidths[e]!==void 0)return this.__lineWidths[e];const{width:r}=this.measureLine(e);return this.__lineWidths[e]=r,r}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(e,r,n){var i;return(i=this._getStyleDeclaration(e,r)[n])!==null&&i!==void 0?i:this[n]}_renderTextDecoration(e,r){if(!this[r]&&!this.styleHas(r))return;let n=this._getTopOffset();const i=this._getLeftOffset(),s=this.path,a=this._getWidthOfCharSpacing(),o=this.offsets[r];for(let l=0,c=this._textLines.length;l<c;l++){const u=this.getHeightOfLine(l);if(!this[r]&&!this.styleHas(r,l)){n+=u;continue}const d=this._textLines[l],A=u/this.lineHeight,f=this._getLineLeftOffset(l);let p,m,v=0,g=0,y=this.getValueOfPropertyAt(l,0,r),x=this.getValueOfPropertyAt(l,0,hn);const b=n+A*(1-this._fontSizeFraction);let w=this.getHeightOfChar(l,0),C=this.getValueOfPropertyAt(l,0,"deltaY");for(let S=0,E=d.length;S<E;S++){const M=this.__charBounds[l][S];p=this.getValueOfPropertyAt(l,S,r),m=this.getValueOfPropertyAt(l,S,hn);const T=this.getHeightOfChar(l,S),L=this.getValueOfPropertyAt(l,S,"deltaY");if(s&&p&&m)e.save(),e.fillStyle=x,e.translate(M.renderLeft,M.renderTop),e.rotate(M.angle),e.fillRect(-M.kernedWidth/2,o*T+L,M.kernedWidth,this.fontSize/15),e.restore();else if((p!==y||m!==x||T!==w||L!==C)&&g>0){let I=i+f+v;this.direction==="rtl"&&(I=this.width-I-g),y&&x&&(e.fillStyle=x,e.fillRect(I,b+o*w+C,g,this.fontSize/15)),v=M.left,g=M.width,y=p,x=m,w=T,C=L}else g+=M.kernedWidth}let B=i+f+v;this.direction==="rtl"&&(B=this.width-B-g),e.fillStyle=m,p&&m&&e.fillRect(B,b+o*w+C,g-a,this.fontSize/15),n+=u}this._removeShadow(e)}_getFontDeclaration(){let{fontFamily:e=this.fontFamily,fontStyle:r=this.fontStyle,fontWeight:n=this.fontWeight,fontSize:i=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;const a=e.includes("'")||e.includes('"')||e.includes(",")||Zp.genericFonts.includes(e.toLowerCase())?e:'"'.concat(e,'"');return[r,n,"".concat(s?this.CACHE_FONT_SIZE:i,"px"),a].join(" ")}render(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(e)))}graphemeSplit(e){return DF(e)}_splitTextIntoLines(e){const r=e.split(this._reNewline),n=new Array(r.length),i=[`
`];let s=[];for(let a=0;a<r.length;a++)n[a]=this.graphemeSplit(r[a]),s=s.concat(n[a],i);return s.pop(),{_unwrappedLines:n,lines:r,graphemeText:s,graphemeLines:n}}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y(Y({},super.toObject([...hte,...e])),{},{styles:wFe(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(e,r){const{textLayoutProperties:n}=this.constructor;super.set(e,r);let i=!1,s=!1;if(typeof e=="object")for(const a in e)a==="path"&&this.setPathInfo(),i=i||n.includes(a),s=s||a==="path";else i=n.includes(e),s=e==="path";return s&&this.setPathInfo(),i&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(e,r,n){const i=Zl(e,Zp.ATTRIBUTE_NAMES,n),s=Y(Y({},r),i),{textAnchor:a=Kt,textDecoration:o="",dx:l=0,dy:c=0,top:u=0,left:d=0,fontSize:A=vF,strokeWidth:f=1}=s,p=xr(s,ITe),m=new this((e.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),Y({left:d+l,top:u+c,underline:o.includes("underline"),overline:o.includes("overline"),linethrough:o.includes("line-through"),strokeWidth:0,fontSize:A},p)),v=m.getScaledHeight()/m.height,g=((m.height+m.strokeWidth)*m.lineHeight-m.height)*v,y=m.getScaledHeight()+g;let x=0;return a===pt&&(x=m.getScaledWidth()/2),a===Qr&&(x=m.getScaledWidth()),m.set({left:m.left-x,top:m.top-(y-m.fontSize*(.07+m._fontSizeFraction))/m.lineHeight,strokeWidth:f}),m}static fromObject(e){return this._fromObject(Y(Y({},e),{},{styles:CFe(e.styles||{},e.text)}),{extraParam:"text"})}};V(Za,"textLayoutProperties",dte),V(Za,"cacheProperties",[...Jl,...hte]),V(Za,"ownDefaults",LTe),V(Za,"type","Text"),V(Za,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),V(Za,"ATTRIBUTE_NAMES",Gu.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),Pee(Za,[class extends Mee{_toSVG(){const t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)}toSVG(t){return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0})}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(t){let{textBgRects:e,textSpans:r}=t;const n=this.getSvgTextDecoration(this);return[e.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(jTe,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",n?'text-decoration="'.concat(n,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",r.join(""),`</text>
`]}_getSVGTextAndBg(t,e){const r=[],n=[];let i,s=t;this.backgroundColor&&n.push(...o7(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let a=0,o=this._textLines.length;a<o;a++)i=this._getLineLeftOffset(a),this.direction==="rtl"&&(i+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",a))&&this._setSVGTextLineBg(n,a,e+i,s),this._setSVGTextLineText(r,a,e+i,s),s+=this.getHeightOfLine(a);return{textSpans:r,textBgRects:n}}_createTextCharSpan(t,e,r,n){const i=this.getSvgSpanStyles(e,t!==t.trim()||!!t.match(NTe)),s=i?'style="'.concat(i,'"'):"",a=e.deltaY,o=a?' dy="'.concat(_r(a,Tt.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(_r(r,Tt.NUM_FRACTION_DIGITS),'" y="').concat(_r(n,Tt.NUM_FRACTION_DIGITS),'" ').concat(o).concat(s,">").concat(xFe(t),"</tspan>")}_setSVGTextLineText(t,e,r,n){const i=this.getHeightOfLine(e),s=this.textAlign.includes(Ao),a=this._textLines[e];let o,l,c,u,d,A="",f=0;n+=i*(1-this._fontSizeFraction)/this.lineHeight;for(let p=0,m=a.length-1;p<=m;p++)d=p===m||this.charSpacing,A+=a[p],c=this.__charBounds[e][p],f===0?(r+=c.kernedWidth-c.width,f+=c.width):f+=c.kernedWidth,s&&!d&&this._reSpaceAndTab.test(a[p])&&(d=!0),d||(o=o||this.getCompleteStyleDeclaration(e,p),l=this.getCompleteStyleDeclaration(e,p+1),d=LF(o,l,!0)),d&&(u=this._getStyleDeclaration(e,p),t.push(this._createTextCharSpan(A,u,r,n)),A="",o=l,this.direction==="rtl"?r-=f:r+=f,f=0)}_setSVGTextLineBg(t,e,r,n){const i=this._textLines[e],s=this.getHeightOfLine(e)/this.lineHeight;let a,o=0,l=0,c=this.getValueOfPropertyAt(e,0,"textBackgroundColor");for(let u=0;u<i.length;u++){const{left:d,width:A,kernedWidth:f}=this.__charBounds[e][u];a=this.getValueOfPropertyAt(e,u,"textBackgroundColor"),a!==c?(c&&t.push(...o7(c,r+l,n,o,s)),l=d,o=A,c=a):o+=f}a&&t.push(...o7(c,r+l,n,o,s))}_getSVGLineTopOffset(t){let e,r=0;for(e=0;e<t;e++)r+=this.getHeightOfLine(e);const n=this.getHeightOfLine(e);return{lineTop:r,offset:(this._fontSizeMult-this._fontSizeFraction)*n/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(t){return"".concat(super.getSvgStyles(t)," white-space: pre;")}getSvgSpanStyles(t,e){const{fontFamily:r,strokeWidth:n,stroke:i,fill:s,fontSize:a,fontStyle:o,fontWeight:l,deltaY:c}=t,u=this.getSvgTextDecoration(t);return[i?Jg($i,i):"",n?"stroke-width: ".concat(n,"; "):"",r?"font-family: ".concat(r.includes("'")||r.includes('"')?r:"'".concat(r,"'"),"; "):"",a?"font-size: ".concat(a,"px; "):"",o?"font-style: ".concat(o,"; "):"",l?"font-weight: ".concat(l,"; "):"",u&&"text-decoration: ".concat(u,"; "),s?Jg(hn,s):"",c?"baseline-shift: ".concat(-c,"; "):"",e?"white-space: pre; ":""].join("")}getSvgTextDecoration(t){return["overline","underline","line-through"].filter(e=>t[e.replace("-","")]).join(" ")}}]),Re.setClass(Za),Re.setSVGClass(Za);let OTe=class{constructor(e){V(this,"target",void 0),V(this,"__mouseDownInPlace",!1),V(this,"__dragStartFired",!1),V(this,"__isDraggingOver",!1),V(this,"__dragStartSelection",void 0),V(this,"__dragImageDisposer",void 0),V(this,"_dispose",void 0),this.target=e;const r=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{r.forEach(n=>n()),this._dispose=void 0}}isPointerOverSelection(e){const r=this.target,n=r.getSelectionStartFromPointer(e);return r.isEditing&&n>=r.selectionStart&&n<=r.selectionEnd&&r.selectionStart<r.selectionEnd}start(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}isActive(){return this.__mouseDownInPlace}end(e){const r=this.isActive();return r&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,r}getDragStartSelection(){return this.__dragStartSelection}setDragImage(e,r){var n;let{selectionStart:i,selectionEnd:s}=r;const a=this.target,o=a.canvas,l=new ce(a.flipX?-1:1,a.flipY?-1:1),c=a._getCursorBoundaries(i),u=new ce(c.left+c.leftOffset,c.top+c.topOffset).multiply(l).transform(a.calcTransformMatrix()),d=o.getScenePoint(e).subtract(u),A=a.getCanvasRetinaScaling(),f=a.getBoundingRect(),p=u.subtract(new ce(f.left,f.top)),m=o.viewportTransform,v=p.add(d).transform(m,!0),g=a.backgroundColor,y=TF(a.styles);a.backgroundColor="";const x={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};a.setSelectionStyles(x,0,i),a.setSelectionStyles(x,s,a.text.length),a.dirty=!0;const b=a.toCanvasElement({enableRetinaScaling:o.enableRetinaScaling,viewportTransform:!0});a.backgroundColor=g,a.styles=y,a.dirty=!0,CS(b,{position:"fixed",left:"".concat(-b.width,"px"),border:Hi,width:"".concat(b.width/A,"px"),height:"".concat(b.height/A,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{b.remove()},Ca(e.target||this.target.hiddenTextarea).body.appendChild(b),(n=e.dataTransfer)===null||n===void 0||n.setDragImage(b,v.x,v.y)}onDragStart(e){this.__dragStartFired=!0;const r=this.target,n=this.isActive();if(n&&e.dataTransfer){const i=this.__dragStartSelection={selectionStart:r.selectionStart,selectionEnd:r.selectionEnd},s=r._text.slice(i.selectionStart,i.selectionEnd).join(""),a=Y({text:r.text,value:s},i);e.dataTransfer.setData("text/plain",s),e.dataTransfer.setData("application/fabric",JSON.stringify({value:s,styles:r.getSelectionStyles(i.selectionStart,i.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,a)}return r.abortCursorAnimation(),n}canDrop(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const r=this.target.getSelectionStartFromPointer(e),n=this.__dragStartSelection;return r<n.selectionStart||r>n.selectionEnd}return!0}return!1}targetCanDrop(e){return this.target.canDrop(e)}dragEnterHandler(e){let{e:r}=e;const n=this.targetCanDrop(r);!this.__isDraggingOver&&n&&(this.__isDraggingOver=!0)}dragOverHandler(e){const{e:r}=e,n=this.targetCanDrop(r);!this.__isDraggingOver&&n?this.__isDraggingOver=!0:this.__isDraggingOver&&!n&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(r.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(e){var r;const{e:n}=e,i=n.defaultPrevented;this.__isDraggingOver=!1,n.preventDefault();let s=(r=n.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain");if(s&&!i){const a=this.target,o=a.canvas;let l=a.getSelectionStartFromPointer(n);const{styles:c}=n.dataTransfer.types.includes("application/fabric")?JSON.parse(n.dataTransfer.getData("application/fabric")):{},u=s[Math.max(0,s.length-1)],d=0;if(this.__dragStartSelection){const A=this.__dragStartSelection.selectionStart,f=this.__dragStartSelection.selectionEnd;l>A&&l<=f?l=A:l>f&&(l-=f-A),a.removeChars(A,f),delete this.__dragStartSelection}a._reNewline.test(u)&&(a._reNewline.test(a._text[l])||l===a._text.length)&&(s=s.trimEnd()),e.didDrop=!0,e.dropTarget=a,a.insertChars(s,c,l),o.setActiveObject(a),a.enterEditing(n),a.selectionStart=Math.min(l+d,a._text.length),a.selectionEnd=Math.min(a.selectionStart+s.length,a._text.length),a.hiddenTextarea.value=a.text,a._updateTextarea(),a.hiddenTextarea.focus(),a.fire(a3,{index:l+d,action:"drop"}),o.fire("text:changed",{target:a}),o.contextTopDirty=!0,o.requestRenderAll()}}dragEndHandler(e){let{e:r}=e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var n;const i=this.target,s=this.target.canvas,{selectionStart:a,selectionEnd:o}=this.__dragStartSelection,l=((n=r.dataTransfer)===null||n===void 0?void 0:n.dropEffect)||Hi;l===Hi?(i.selectionStart=a,i.selectionEnd=o,i._updateTextarea(),i.hiddenTextarea.focus()):(i.clearContextTop(),l==="move"&&(i.removeChars(a,o),i.selectionStart=i.selectionEnd=a,i.hiddenTextarea&&(i.hiddenTextarea.value=i.text),i._updateTextarea(),i.fire(a3,{index:a,action:"dragend"}),s.fire("text:changed",{target:i}),s.requestRenderAll()),i.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}};const yU=/[ \n\.,;!\?\-]/;let PTe=class extends Za{constructor(){super(...arguments),V(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(e){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(e)}_animateCursor(e){let{toValue:r,duration:n,delay:i,onComplete:s}=e;return Lee({startValue:this._currentCursorOpacity,endValue:r,duration:n,delay:i,onComplete:s,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:a=>{this._currentCursorOpacity=a,this.renderCursorOrSelection()}})}_tick(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var e;(e=this._currentTickCompleteState)===null||e===void 0||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}abortCursorAnimation(){let e=!1;[this._currentTickState,this._currentTickCompleteState].forEach(r=>{r&&!r.isDone()&&(e=!0,r.abort())}),this._currentCursorOpacity=1,e&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(e=>!e||e.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(e){let r=0,n=e-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)r++,n--;for(;/\S/.test(this._text[n])&&n>-1;)r++,n--;return e-r}findWordBoundaryRight(e){let r=0,n=e;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)r++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)r++,n++;return e+r}findLineBoundaryLeft(e){let r=0,n=e-1;for(;!/\n/.test(this._text[n])&&n>-1;)r++,n--;return e-r}findLineBoundaryRight(e){let r=0,n=e;for(;!/\n/.test(this._text[n])&&n<this._text.length;)r++,n++;return e+r}searchWordBoundary(e,r){const n=this._text;let i=e>0&&this._reSpace.test(n[e])&&(r===-1||!xF.test(n[e-1]))?e-1:e,s=n[i];for(;i>0&&i<n.length&&!yU.test(s);)i+=r,s=n[i];return r===-1&&yU.test(s)&&i++,i}selectWord(e){e=e||this.selectionStart;const r=this.searchWordBoundary(e,-1),n=Math.max(r,this.searchWordBoundary(e,1));this.selectionStart=r,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(e){e=e||this.selectionStart;const r=this.findLineBoundaryLeft(e),n=this.findLineBoundaryRight(e);return this.selectionStart=r,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this}enterEditing(e){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",e?{e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(e){if(this.getActiveControl())return;const r=this.hiddenTextarea;Ca(r).activeElement!==r&&r.focus();const n=this.getSelectionStartFromPointer(e),i=this.selectionStart,s=this.selectionEnd;(n===this.__selectionStartOnMouseDown&&i!==s||i!==n&&s!==n)&&(n>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=n):(this.selectionStart=n,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===i&&this.selectionEnd===s||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(e,r,n){const i=n.slice(0,e),s=this.graphemeSplit(i).length;if(e===r)return{selectionStart:s,selectionEnd:s};const a=n.slice(e,r);return{selectionStart:s,selectionEnd:s+this.graphemeSplit(a).length}}fromGraphemeToStringSelection(e,r,n){const i=n.slice(0,e).join("").length;return e===r?{selectionStart:i,selectionEnd:i}:{selectionStart:i,selectionEnd:i+n.slice(e,r).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const e=this.hiddenTextarea;this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const r=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=r.selectionEnd,this.inCompositionMode||(this.selectionStart=r.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const e=this.inCompositionMode?this.compositionStart:this.selectionStart,r=this._getCursorBoundaries(e),n=this.get2DCursorLocation(e),i=n.lineIndex,s=n.charIndex,a=this.getValueOfPropertyAt(i,s,"fontSize")*this.lineHeight,o=r.leftOffset,l=this.getCanvasRetinaScaling(),c=this.canvas.upperCanvasEl,u=c.width/l,d=c.height/l,A=u-a,f=d-a,p=new ce(r.left+o,r.top+r.topOffset+a).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new ce(c.clientWidth/u,c.clientHeight/d));return p.x<0&&(p.x=0),p.x>A&&(p.x=A),p.y<0&&(p.y=0),p.y>f&&(p.y=f),p.x+=this.canvas._offset.left,p.y+=this.canvas._offset.top,{left:"".concat(p.x,"px"),top:"".concat(p.y,"px"),fontSize:"".concat(a,"px"),charHeight:a}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const e=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),e&&this.fire(o3),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const e in this.styles)this._textLines[e]||delete this.styles[e]}removeStyleFromTo(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e,!0),{lineIndex:s,charIndex:a}=this.get2DCursorLocation(r,!0);if(n!==s){if(this.styles[n])for(let o=i;o<this._unwrappedTextLines[n].length;o++)delete this.styles[n][o];if(this.styles[s])for(let o=a;o<this._unwrappedTextLines[s].length;o++){const l=this.styles[s][o];l&&(this.styles[n]||(this.styles[n]={}),this.styles[n][i+o-a]=l)}for(let o=n+1;o<=s;o++)delete this.styles[o];this.shiftLineStyles(s,n-s)}else if(this.styles[n]){const o=this.styles[n],l=a-i;for(let c=i;c<a;c++)delete o[c];for(const c in this.styles[n]){const u=parseInt(c,10);u>=a&&(o[u-l]=o[c],delete o[c])}}}shiftLineStyles(e,r){const n=Object.assign({},this.styles);for(const i in this.styles){const s=parseInt(i,10);s>e&&(this.styles[s+r]=n[s],n[s-r]||delete this.styles[s])}}insertNewlineStyleObject(e,r,n,i){const s={},a=this._unwrappedTextLines[e].length,o=a===r;let l=!1;n||(n=1),this.shiftLineStyles(e,n);const c=this.styles[e]?this.styles[e][r===0?r:r-1]:void 0;for(const d in this.styles[e]){const A=parseInt(d,10);A>=r&&(l=!0,s[A-r]=this.styles[e][d],o&&r===0||delete this.styles[e][d])}let u=!1;for(l&&!o&&(this.styles[e+n]=s,u=!0),(u||a>r)&&n--;n>0;)i&&i[n-1]?this.styles[e+n]={0:Y({},i[n-1])}:c?this.styles[e+n]={0:Y({},c)}:delete this.styles[e+n],n--;this._forceClearCache=!0}insertCharStyleObject(e,r,n,i){this.styles||(this.styles={});const s=this.styles[e],a=s?Y({},s):{};n||(n=1);for(const l in a){const c=parseInt(l,10);c>=r&&(s[c+n]=a[c],a[c-n]||delete s[c])}if(this._forceClearCache=!0,i){for(;n--;)Object.keys(i[n]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][r+n]=Y({},i[n]));return}if(!s)return;const o=s[r?r-1:1];for(;o&&n--;)this.styles[e][r+n]=Y({},o)}insertNewStyleBlock(e,r,n){const i=this.get2DCursorLocation(r,!0),s=[0];let a,o=0;for(let l=0;l<e.length;l++)e[l]===`
`?(o++,s[o]=0):s[o]++;for(s[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,s[0],n),n=n&&n.slice(s[0]+1)),o&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+s[0],o),a=1;a<o;a++)s[a]>0?this.insertCharStyleObject(i.lineIndex+a,0,s[a],n):n&&this.styles[i.lineIndex+a]&&n[0]&&(this.styles[i.lineIndex+a][0]=n[0]),n=n&&n.slice(s[a]+1);s[a]>0&&this.insertCharStyleObject(i.lineIndex+a,0,s[a],n)}removeChars(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e+1;this.removeStyleFromTo(e,r),this._text.splice(e,r-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;i>n&&this.removeStyleFromTo(n,i);const s=this.graphemeSplit(e);this.insertNewStyleBlock(s,n,r),this._text=[...this._text.slice(0,n),...s,...this._text.slice(i)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(e,r,n){n<=e?(r===e?this._selectionDirection=Kt:this._selectionDirection===Qr&&(this._selectionDirection=Kt,this.selectionEnd=e),this.selectionStart=n):n>e&&n<r?this._selectionDirection===Qr?this.selectionEnd=n:this.selectionStart=n:(r===e?this._selectionDirection=Qr:this._selectionDirection===Kt&&(this._selectionDirection=Qr,this.selectionStart=r),this.selectionEnd=n)}},UTe=class extends PTe{initHiddenTextarea(){const e=this.canvas&&Ca(this.canvas.getElement())||Cf(),r=e.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(a=>{let[o,l]=a;return r.setAttribute(o,l)});const{top:n,left:i,fontSize:s}=this._calcTextareaPosition();r.style.cssText="position: absolute; top: ".concat(n,"; left: ").concat(i,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(s,";"),(this.hiddenTextareaContainer||e.body).appendChild(r),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(a=>{let[o,l]=a;return r.addEventListener(o,this[l].bind(this))}),this.hiddenTextarea=r}blur(){this.abortCursorAnimation()}onKeyDown(e){if(!this.isEditing)return;const r=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(e.keyCode in r)this[r[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(e){const r=this.fromPaste;if(this.fromPaste=!1,e&&e.stopPropagation(),!this.isEditing)return;const n=()=>{this.updateFromTextArea(),this.fire(a3),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void n();const i=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,s=this._text.length,a=i.length,o=this.selectionStart,l=this.selectionEnd,c=o!==l;let u,d,A,f,p=a-s;const m=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),v=o>m.selectionStart;c?(d=this._text.slice(o,l),p+=l-o):a<s&&(d=v?this._text.slice(l+p,l):this._text.slice(o,o-p));const g=i.slice(m.selectionEnd-p,m.selectionEnd);if(d&&d.length&&(g.length&&(u=this.getSelectionStyles(o,o+1,!1),u=g.map(()=>u[0])),c?(A=o,f=l):v?(A=l-d.length,f=l):(A=l,f=l+d.length),this.removeStyleFromTo(A,f)),g.length){const{copyPasteData:y}=To();r&&g.join("")===y.copiedText&&!Tt.disableStyleCopyPaste&&(u=y.copiedTextStyle),this.insertNewStyleBlock(g,o,u)}n()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(e){let{target:r}=e;const{selectionStart:n,selectionEnd:i}=r;this.compositionStart=n,this.compositionEnd=i,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:e}=To();e.copiedText=this.getSelectedText(),Tt.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(e,r){let n,i=this._getLineLeftOffset(e);return r>0&&(n=this.__charBounds[e][r-1],i+=n.left+n.width),i}getDownCursorOffset(e,r){const n=this._getSelectionForOffset(e,r),i=this.get2DCursorLocation(n),s=i.lineIndex;if(s===this._textLines.length-1||e.metaKey||e.keyCode===34)return this._text.length-n;const a=i.charIndex,o=this._getWidthBeforeCursor(s,a),l=this._getIndexOnLine(s+1,o);return this._textLines[s].slice(a).length+l+1+this.missingNewlineOffset(s)}_getSelectionForOffset(e,r){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&r?this.selectionEnd:this.selectionStart}getUpCursorOffset(e,r){const n=this._getSelectionForOffset(e,r),i=this.get2DCursorLocation(n),s=i.lineIndex;if(s===0||e.metaKey||e.keyCode===33)return-n;const a=i.charIndex,o=this._getWidthBeforeCursor(s,a),l=this._getIndexOnLine(s-1,o),c=this._textLines[s].slice(0,a),u=this.missingNewlineOffset(s-1);return-this._textLines[s-1].length+l-c.length+(1-u)}_getIndexOnLine(e,r){const n=this._textLines[e];let i,s,a=this._getLineLeftOffset(e),o=0;for(let l=0,c=n.length;l<c;l++)if(i=this.__charBounds[e][l].width,a+=i,a>r){s=!0;const u=a-i,d=a,A=Math.abs(u-r);o=Math.abs(d-r)<A?l:l-1;break}return s||(o=n.length-1),o}moveCursorDown(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}moveCursorUp(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",e)}_moveCursorUpOrDown(e,r){const n=this["get".concat(e,"CursorOffset")](r,this._selectionDirection===Qr);if(r.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),n!==0){const i=this.text.length;this.selectionStart=JA(0,this.selectionStart,i),this.selectionEnd=JA(0,this.selectionEnd,i),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(e){const r=this._selectionDirection===Kt?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,r),e!==0}moveCursorWithoutShift(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),e!==0}moveCursorLeft(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",e)}_move(e,r,n){let i;if(e.altKey)i=this["findWordBoundary".concat(n)](this[r]);else{if(!e.metaKey&&e.keyCode!==35&&e.keyCode!==36)return this[r]+=n==="Left"?-1:1,!0;i=this["findLineBoundary".concat(n)](this[r])}return i!==void 0&&this[r]!==i&&(this[r]=i,!0)}_moveLeft(e,r){return this._move(e,r,"Left")}_moveRight(e,r){return this._move(e,r,"Right")}moveCursorLeftWithoutShift(e){let r=!0;return this._selectionDirection=Kt,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(r=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,r}moveCursorLeftWithShift(e){return this._selectionDirection===Qr&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=Kt,this._moveLeft(e,"selectionStart")):void 0}moveCursorRight(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}_moveCursorLeftOrRight(e,r){const n="moveCursor".concat(e).concat(r.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[n](r)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(e){return this._selectionDirection===Kt&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=Qr,this._moveRight(e,"selectionEnd")):void 0}moveCursorRightWithoutShift(e){let r=!0;return this._selectionDirection=Qr,this.selectionStart===this.selectionEnd?(r=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,r}};const c7=t=>!!t.button;let RTe=class extends UTe{constructor(){super(...arguments),V(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new OTe(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(e){return this.draggableTextDelegate.onDragStart(e)}canDrop(e){return this.draggableTextDelegate.canDrop(e)}onMouseDown(e){if(!this.canvas)return;this.__newClickTime=+new Date;const r=e.pointer;this.isTripleClick(r)&&(this.fire("tripleclick",e),fS(e.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=r,this.__lastSelected=this.selected&&!this.getActiveControl()}isTripleClick(e){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y}doubleClickHandler(e){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(e.e))}tripleClickHandler(e){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(e.e))}_mouseDownHandler(e){let{e:r}=e;this.canvas&&this.editable&&!c7(r)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(r)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(r)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}_mouseDownHandlerBefore(e){let{e:r}=e;this.canvas&&this.editable&&!c7(r)&&(this.selected=this===this.canvas._activeObject)}mouseUpHandler(e){let{e:r,transform:n}=e;const i=this.draggableTextDelegate.end(r);if(this.canvas){this.canvas.textEditingManager.unregister(this);const s=this.canvas._activeObject;if(s&&s!==this)return}!this.editable||this.group&&!this.group.interactive||n&&n.actionPerformed||c7(r)||i||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(r),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}setCursorByClick(e){const r=this.getSelectionStartFromPointer(e),n=this.selectionStart,i=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(n,i,r):(this.selectionStart=r,this.selectionEnd=r),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(e){const r=this.canvas.getScenePoint(e).transform(ka(this.calcTransformMatrix())).add(new ce(-this._getLeftOffset(),-this._getTopOffset()));let n=0,i=0,s=0;for(let c=0;c<this._textLines.length&&n<=r.y;c++)n+=this.getHeightOfLine(c),s=c,c>0&&(i+=this._textLines[c-1].length+this.missingNewlineOffset(c-1));let a=Math.abs(this._getLineLeftOffset(s));const o=this._textLines[s].length,l=this.__charBounds[s];for(let c=0;c<o;c++){const u=a+l[c].kernedWidth;if(r.x<=u){Math.abs(r.x-u)<=Math.abs(r.x-a)&&i++;break}a=u,i++}return Math.min(this.flipX?o-i:i,this._text.length)}};const Ay="moveCursorUp",fy="moveCursorDown",py="moveCursorLeft",my="moveCursorRight",gy="exitEditing",QTe=Y({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:gy,27:gy,33:Ay,34:fy,35:my,36:py,37:py,38:Ay,39:my,40:fy},keysMapRtl:{9:gy,27:gy,33:Ay,34:fy,35:py,36:my,37:my,38:Ay,39:py,40:fy},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});let Zh=class TS extends RTe{static getDefaults(){return Y(Y({},super.getDefaults()),TS.ownDefaults)}get type(){const e=super.type;return e==="itext"?"i-text":e}constructor(e,r){super(e,Y(Y({},TS.ownDefaults),r)),this.initBehavior()}_set(e,r){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=r,this):(e==="canvas"&&(this.canvas instanceof BS&&this.canvas.textEditingManager.remove(this),r instanceof BS&&r.textEditingManager.add(this)),super._set(e,r))}setSelectionStart(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}setSelectionEnd(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}_updateAndFire(e,r){this[e]!==r&&(this._fireSelectionChanged(),this[e]=r),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,n=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(e,r,n)}setSelectionStyles(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(e,r,n)}get2DCursorLocation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(e,r)}render(e){super.render(e),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(e){const r=this.isEditing;this.isEditing=!1;const n=super.toCanvasElement(e);return this.isEditing=r,n}renderCursorOrSelection(){if(!this.isEditing)return;const e=this.clearContextTop(!0);if(!e)return;const r=this._getCursorBoundaries();this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(e,r):this.renderCursor(e,r),this.canvas.contextTopDirty=!0,e.restore()}_getCursorBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1?arguments[1]:void 0;const n=this._getLeftOffset(),i=this._getTopOffset(),s=this._getCursorBoundariesOffsets(e,r);return{left:n,top:i,leftOffset:s.left,topOffset:s.top}}_getCursorBoundariesOffsets(e,r){return r?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}__getCursorBoundariesOffsets(e){let r=0,n=0;const{charIndex:i,lineIndex:s}=this.get2DCursorLocation(e);for(let c=0;c<s;c++)r+=this.getHeightOfLine(c);const a=this._getLineLeftOffset(s),o=this.__charBounds[s][i];o&&(n=o.left),this.charSpacing!==0&&i===this._textLines[s].length&&(n-=this._getWidthOfCharSpacing());const l={top:r,left:a+(n>0?n:0)};return this.direction==="rtl"&&(this.textAlign===Qr||this.textAlign===Ao||this.textAlign===Hm?l.left*=-1:this.textAlign===Kt||this.textAlign===m3?l.left=a-(n>0?n:0):this.textAlign!==pt&&this.textAlign!==$m||(l.left=a-(n>0?n:0))),l}renderCursorAt(e){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(e,!0),e)}renderCursor(e,r){this._renderCursor(e,r,this.selectionStart)}getCursorRenderingData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(e);const n=this.get2DCursorLocation(e),i=n.lineIndex,s=n.charIndex>0?n.charIndex-1:0,a=this.getValueOfPropertyAt(i,s,"fontSize"),o=this.getObjectScaling().x*this.canvas.getZoom(),l=this.cursorWidth/o,c=this.getValueOfPropertyAt(i,s,"deltaY"),u=r.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-a*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(i,s,"fill"),opacity:this._currentCursorOpacity,left:r.left+r.leftOffset-l/2,top:u+r.top+c,width:l,height:a}}_renderCursor(e,r,n){const{color:i,opacity:s,left:a,top:o,width:l,height:c}=this.getCursorRenderingData(n,r);e.fillStyle=i,e.globalAlpha=s,e.fillRect(a,o,l,c)}renderSelection(e,r){const n={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,n,r)}renderDragSourceEffect(){const e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}renderDropTargetEffect(e){const r=this.getSelectionStartFromPointer(e);this.renderCursorAt(r)}_renderSelection(e,r,n){const i=r.selectionStart,s=r.selectionEnd,a=this.textAlign.includes(Ao),o=this.get2DCursorLocation(i),l=this.get2DCursorLocation(s),c=o.lineIndex,u=l.lineIndex,d=o.charIndex<0?0:o.charIndex,A=l.charIndex<0?0:l.charIndex;for(let f=c;f<=u;f++){const p=this._getLineLeftOffset(f)||0;let m=this.getHeightOfLine(f),v=0,g=0,y=0;if(f===c&&(g=this.__charBounds[c][d].left),f>=c&&f<u)y=a&&!this.isEndOfWrapping(f)?this.width:this.getLineWidth(f)||5;else if(f===u)if(A===0)y=this.__charBounds[u][A].left;else{const B=this._getWidthOfCharSpacing();y=this.__charBounds[u][A-1].left+this.__charBounds[u][A-1].width-B}v=m,(this.lineHeight<1||f===u&&this.lineHeight>1)&&(m/=this.lineHeight);let x=n.left+p+g,b=m,w=0;const C=y-g;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",b=1,w=m):e.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===Qr||this.textAlign===Ao||this.textAlign===Hm?x=this.width-x-C:this.textAlign===Kt||this.textAlign===m3?x=n.left+p-y:this.textAlign!==pt&&this.textAlign!==$m||(x=n.left+p-y)),e.fillRect(x,n.top+n.topOffset+w,C,b),n.topOffset+=v}}getCurrentCharFontSize(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}getCurrentCharColor(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,hn)}_getCurrentCharIndex(){const e=this.get2DCursorLocation(this.selectionStart,!0),r=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:r}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}};V(Zh,"ownDefaults",QTe),V(Zh,"type","IText"),Re.setClass(Zh),Re.setClass(Zh,"i-text");let Kd=class DS extends Zh{static getDefaults(){return Y(Y({},super.getDefaults()),DS.ownDefaults)}constructor(e,r){super(e,Y(Y({},DS.ownDefaults),r))}static createControls(){return{controls:mFe()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(Ao)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(e){let r=0,n=0,i=0;const s={};for(let a=0;a<e.graphemeLines.length;a++)e.graphemeText[i]===`
`&&a>0?(n=0,i++,r++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[i])&&a>0&&(n++,i++),s[a]={line:r,offset:n},i+=e.graphemeLines[a].length,n+=e.graphemeLines[a].length;return s}styleHas(e,r){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[r];n&&(r=n.line)}return super.styleHas(e,r)}isEmptyStyles(e){if(!this.styles)return!0;let r,n=0,i=e+1,s=!1;const a=this._styleMap[e],o=this._styleMap[e+1];a&&(e=a.line,n=a.offset),o&&(i=o.line,s=i===e,r=o.offset);const l=e===void 0?this.styles:{line:this.styles[e]};for(const c in l)for(const u in l[c]){const d=parseInt(u,10);if(d>=n&&(!s||d<r))for(const A in l[c][u])return!1}return!0}_getStyleDeclaration(e,r){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[e];if(!n)return{};e=n.line,r=n.offset+r}return super._getStyleDeclaration(e,r)}_setStyleDeclaration(e,r,n){const i=this._styleMap[e];super._setStyleDeclaration(i.line,i.offset+r,n)}_deleteStyleDeclaration(e,r){const n=this._styleMap[e];super._deleteStyleDeclaration(n.line,n.offset+r)}_getLineStyle(e){const r=this._styleMap[e];return!!this.styles[r.line]}_setLineStyle(e){const r=this._styleMap[e];super._setLineStyle(r.line)}_wrapText(e,r){this.isWrapping=!0;const n=this.getGraphemeDataForRender(e),i=[];for(let s=0;s<n.wordsData.length;s++)i.push(...this._wrapLine(s,r,n));return this.isWrapping=!1,i}getGraphemeDataForRender(e){const r=this.splitByGrapheme,n=r?"":" ";let i=0;return{wordsData:e.map((s,a)=>{let o=0;const l=r?this.graphemeSplit(s):this.wordSplit(s);return l.length===0?[{word:[],width:0}]:l.map(c=>{const u=r?[c]:this.graphemeSplit(c),d=this._measureWord(u,a,o);return i=Math.max(d,i),o+=u.length+n.length,{word:u,width:d}})}),largestWordWidth:i}}_measureWord(e,r){let n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=0;for(let a=0,o=e.length;a<o;a++)s+=this._getGraphemeBox(e[a],r,a+i,n,!0).kernedWidth,n=e[a];return s}wordSplit(e){return e.split(this._wordJoiners)}_wrapLine(e,r,n){let{largestWordWidth:i,wordsData:s}=n,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const o=this._getWidthOfCharSpacing(),l=this.splitByGrapheme,c=[],u=l?"":" ";let d=0,A=[],f=0,p=0,m=!0;r-=a;const v=Math.max(r,i,this.dynamicMinWidth),g=s[e];let y;for(f=0,y=0;y<g.length;y++){const{word:x,width:b}=g[y];f+=x.length,d+=p+b-o,d>v&&!m?(c.push(A),A=[],d=b,m=!0):d+=o,m||l||A.push(u),A=A.concat(x),p=l?0:this._measureWord([u],e,f),f++,m=!1}return y&&c.push(A),i+a>this.dynamicMinWidth&&(this.dynamicMinWidth=i-o+a),c}isEndOfWrapping(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}missingNewlineOffset(e,r){return this.splitByGrapheme&&!r?this.isEndOfWrapping(e)?1:0:1}_splitTextIntoLines(e){const r=super._splitTextIntoLines(e),n=this._wrapText(r.lines,this.width),i=new Array(n.length);for(let s=0;s<n.length;s++)i[s]=n[s].join("");return r.lines=i,r.graphemeLines=n,r}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const e=new Map;for(const r in this._styleMap){const n=parseInt(r,10);if(this._textLines[n]){const i=this._styleMap[r].line;e.set("".concat(i),!0)}}for(const r in this.styles)e.has(r)||delete this.styles[r]}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...e])}};V(Kd,"type","Textbox"),V(Kd,"textLayoutProperties",[...Zh.textLayoutProperties,"width"]),V(Kd,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),Re.setClass(Kd);let vU=class extends v5{shouldPerformLayout(e){return!!e.target.clipPath&&super.shouldPerformLayout(e)}shouldLayoutClipPath(){return!1}calcLayoutResult(e,r){const{target:n}=e,{clipPath:i,group:s}=n;if(!i||!this.shouldPerformLayout(e))return;const{width:a,height:o}=El(zee(n,i)),l=new ce(a,o);if(i.absolutePositioned)return{center:BA(i.getRelativeCenterPoint(),void 0,s?s.calcTransformMatrix():void 0),size:l};{const c=i.getRelativeCenterPoint().transform(n.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){const{center:u=new ce,correction:d=new ce}=this.calcBoundingBox(r,e)||{};return{center:u.add(c),correction:d.subtract(c),size:l}}return{center:n.getRelativeCenterPoint().add(c),size:l}}}};V(vU,"type","clip-path"),Re.setClass(vU);let xU=class extends v5{getInitialSize(e,r){let{target:n}=e,{size:i}=r;return new ce(n.width||i.x,n.height||i.y)}};V(xU,"type","fixed"),Re.setClass(xU);let zTe=class extends Zg{subscribeTargets(e){const r=e.target;e.targets.reduce((n,i)=>(i.parent&&n.add(i.parent),n),new Set).forEach(n=>{n.layoutManager.subscribeTargets({target:n,targets:[r]})})}unsubscribeTargets(e){const r=e.target,n=r.getObjects();e.targets.reduce((i,s)=>(s.parent&&i.add(s.parent),i),new Set).forEach(i=>{!n.some(s=>s.parent===i)&&i.layoutManager.unsubscribeTargets({target:i,targets:[r]})})}},yy=class LS extends bx{static getDefaults(){return Y(Y({},super.getDefaults()),LS.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,LS.ownDefaults),this.setOptions(r);const{left:n,top:i,layoutManager:s}=r;this.groupInit(e,{left:n,top:i,layoutManager:s??new zTe})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.multiSelectionStacking==="selection-order"?this.add(...r):r.forEach(i=>{const s=this._objects.findIndex(o=>o.isInFrontOf(i)),a=s===-1?this.size():s;this.insertAt(a,i)})}canEnterGroup(e){return this.getObjects().some(r=>r.isDescendantOf(e)||e.isDescendantOf(r))?(Mu("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(e)}enterGroup(e,r){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,r)}exitGroup(e,r){this._exitGroup(e,r),e.parent&&e.parent._enterGroup(e,!0)}_onAfterObjectsChange(e,r){super._onAfterObjectsChange(e,r);const n=new Set;r.forEach(i=>{const{parent:s}=i;s&&n.add(s)}),e===jF?n.forEach(i=>{i._onAfterObjectsChange(A3,r)}):n.forEach(i=>{i._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(e,r,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const i=Y(Y({hasControls:!1},n),{},{forActiveSelection:!0});for(let s=0;s<this._objects.length;s++)this._objects[s]._renderControls(e,i);super._renderControls(e,r),e.restore()}};V(yy,"type","ActiveSelection"),V(yy,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),Re.setClass(yy),Re.setClass(yy,"activeSelection");let HTe=class{constructor(){V(this,"resources",{})}applyFilters(e,r,n,i,s){const a=s.getContext("2d");if(!a)return;a.drawImage(r,0,0,n,i);const o={sourceWidth:n,sourceHeight:i,imageData:a.getImageData(0,0,n,i),originalEl:r,originalImageData:a.getImageData(0,0,n,i),canvasEl:s,ctx:a,filterBackend:this};e.forEach(c=>{c.applyTo(o)});const{imageData:l}=o;return l.width===n&&l.height===i||(s.width=l.width,s.height=l.height),a.putImageData(l,0,0),o}},fte=class{constructor(){let{tileSize:e=Tt.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};V(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),V(this,"resources",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(e,r){this.dispose(),this.createWebGLCanvas(e,r)}createWebGLCanvas(e,r){const n=Do({width:e,height:r}),i=n.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});i&&(i.clearColor(0,0,0,0),this.canvas=n,this.gl=i)}applyFilters(e,r,n,i,s,a){const o=this.gl,l=s.getContext("2d");if(!o||!l)return;let c;a&&(c=this.getCachedTexture(a,r));const u={originalWidth:r.width||r.naturalWidth||0,originalHeight:r.height||r.naturalHeight||0,sourceWidth:n,sourceHeight:i,destinationWidth:n,destinationHeight:i,context:o,sourceTexture:this.createTexture(o,n,i,c?void 0:r),targetTexture:this.createTexture(o,n,i),originalTexture:c||this.createTexture(o,n,i,c?void 0:r),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:s},d=o.createFramebuffer();return o.bindFramebuffer(o.FRAMEBUFFER,d),e.forEach(A=>{A&&A.applyTo(u)}),function(A){const f=A.targetCanvas,p=f.width,m=f.height,v=A.destinationWidth,g=A.destinationHeight;p===v&&m===g||(f.width=v,f.height=g)}(u),this.copyGLTo2D(o,u),o.bindTexture(o.TEXTURE_2D,null),o.deleteTexture(u.sourceTexture),o.deleteTexture(u.targetTexture),o.deleteFramebuffer(d),l.setTransform(1,0,0,1,0,0),u}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(e,r,n,i,s){const{NEAREST:a,TEXTURE_2D:o,RGBA:l,UNSIGNED_BYTE:c,CLAMP_TO_EDGE:u,TEXTURE_MAG_FILTER:d,TEXTURE_MIN_FILTER:A,TEXTURE_WRAP_S:f,TEXTURE_WRAP_T:p}=e,m=e.createTexture();return e.bindTexture(o,m),e.texParameteri(o,d,s||a),e.texParameteri(o,A,s||a),e.texParameteri(o,f,u),e.texParameteri(o,p,u),i?e.texImage2D(o,0,l,l,c,i):e.texImage2D(o,0,l,r,n,0,l,c,null),m}getCachedTexture(e,r,n){const{textureCache:i}=this;if(i[e])return i[e];{const s=this.createTexture(this.gl,r.width,r.height,r,n);return s&&(i[e]=s),s}}evictCachesForKey(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}copyGLTo2D(e,r){const n=e.canvas,i=r.targetCanvas,s=i.getContext("2d");if(!s)return;s.translate(0,i.height),s.scale(1,-1);const a=n.height-i.height;s.drawImage(n,0,a,i.width,i.height,0,0,i.width,i.height)}copyGLTo2DPutImageData(e,r){const n=r.targetCanvas.getContext("2d"),i=r.destinationWidth,s=r.destinationHeight,a=i*s*4;if(!n)return;const o=new Uint8Array(this.imageBuffer,0,a),l=new Uint8ClampedArray(this.imageBuffer,0,a);e.readPixels(0,0,i,s,e.RGBA,e.UNSIGNED_BYTE,o);const c=new ImageData(l,i,s);n.putImageData(c,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const e=this.gl,r={renderer:"",vendor:""};if(!e)return r;const n=e.getExtension("WEBGL_debug_renderer_info");if(n){const i=e.getParameter(n.UNMASKED_RENDERER_WEBGL),s=e.getParameter(n.UNMASKED_VENDOR_WEBGL);i&&(r.renderer=i.toLowerCase()),s&&(r.vendor=s.toLowerCase())}return this.gpuInfo=r,r}},u7;function $Te(){const{WebGLProbe:t}=To();return t.queryWebGL(Pa()),Tt.enableGLFiltering&&t.isSupported(Tt.textureSize)?new fte({tileSize:Tt.textureSize}):new HTe}function d7(){return!u7&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(u7=$Te()),u7}const VTe=["filters","resizeFilter","src","crossOrigin","type"],pte=["cropX","cropY"];let Gn=class wx extends ti{static getDefaults(){return Y(Y({},super.getDefaults()),wx.ownDefaults)}constructor(e,r){super(),V(this,"_lastScaleX",1),V(this,"_lastScaleY",1),V(this,"_filterScalingX",1),V(this,"_filterScalingY",1),this.filters=[],Object.assign(this,wx.ownDefaults),this.setOptions(r),this.cacheKey="texture".concat(Fu()),this.setElement(typeof e=="string"?(this.canvas&&Ca(this.canvas.getElement())||Cf()).getElementById(e):e,r)}getElement(){return this._element}setElement(e){var r;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(n),(r=e.classList)===null||r===void 0||r.add(wx.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(e){const r=d7(!1);r instanceof fte&&r.evictCachesForKey(e)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(e=>{const r=this[e];r&&To().dispose(r),this[e]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}_stroke(e){if(!this.stroke||this.strokeWidth===0)return;const r=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-r,-n),e.lineTo(r,-n),e.lineTo(r,n),e.lineTo(-r,n),e.lineTo(-r,-n),e.closePath()}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=[];return this.filters.forEach(n=>{n&&r.push(n.toObject())}),Y(Y({},super.toObject([...pte,...e])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:r},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const e=[],r=this._element,n=-this.width/2,i=-this.height/2;let s=[],a=[],o="",l="";if(!r)return[];if(this.hasCrop()){const c=Fu();s.push('<clipPath id="imageCrop_'+c+`">
`,'	<rect x="'+n+'" y="'+i+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),o=' clip-path="url(#imageCrop_'+c+')" '}if(this.imageSmoothing||(l=' image-rendering="optimizeSpeed"'),e.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(n-this.cropX,'" y="').concat(i-this.cropY,'" width="').concat(r.width||r.naturalWidth,'" height="').concat(r.height||r.naturalHeight,'"').concat(l).concat(o,`></image>
`)),this.stroke||this.strokeDashArray){const c=this.fill;this.fill=null,a=['	<rect x="'.concat(n,'" y="').concat(i,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=c}return s=this.paintFirst!==hn?s.concat(a,e):s.concat(e,a),s}getSrc(e){const r=e?this._element:this._originalElement;return r?r.toDataURL?r.toDataURL():this.srcFromAttribute?r.getAttribute("src")||"":r.src:this.src||""}getSvgSrc(e){return this.getSrc(e)}setSrc(e){let{crossOrigin:r,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return gx(e,{crossOrigin:r,signal:n}).then(i=>{r!==void 0&&this.set({crossOrigin:r}),this.setElement(i)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const e=this.resizeFilter,r=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),i=n.x,s=n.y,a=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||i>r&&s>r)return this._element=a,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=i,void(this._lastScaleY=s);const o=Do(a),{width:l,height:c}=a;this._element=o,this._lastScaleX=e.scaleX=i,this._lastScaleY=e.scaleY=s,d7().applyFilters([e],a,l,c,this._element),this._filterScalingX=o.width/this._originalElement.width,this._filterScalingY=o.height/this._originalElement.height}applyFilters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(e=e.filter(s=>s&&!s.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),e.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const r=this._originalElement,n=r.naturalWidth||r.width,i=r.naturalHeight||r.height;if(this._element===this._originalElement){const s=Do({width:n,height:i});this._element=s,this._filteredEl=s}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,i),this._lastScaleX=1,this._lastScaleY=1);d7().applyFilters(e,this._originalElement,n,i,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(e){e.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}drawCacheOnCanvas(e){e.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(e)}shouldCache(){return this.needsItsOwnCache()}_renderFill(e){const r=this._element;if(!r)return;const n=this._filterScalingX,i=this._filterScalingY,s=this.width,a=this.height,o=Math.max(this.cropX,0),l=Math.max(this.cropY,0),c=r.naturalWidth||r.width,u=r.naturalHeight||r.height,d=o*n,A=l*i,f=Math.min(s*n,c-d),p=Math.min(a*i,u-A),m=-s/2,v=-a/2,g=Math.min(s,c/n-o),y=Math.min(a,u/i-l);r&&e.drawImage(r,d,A,f,p,m,v,g,y)}_needsResize(){const e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:e,height:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this.getOriginalSize();this.width=e||n.width,this.height=r||n.height}parsePreserveAspectRatioAttribute(){const e=_Me(this.preserveAspectRatio||""),r=this.width,n=this.height,i={width:r,height:n};let s,a=this._element.width,o=this._element.height,l=1,c=1,u=0,d=0,A=0,f=0;return!e||e.alignX===Hi&&e.alignY===Hi?(l=r/a,c=n/o):(e.meetOrSlice==="meet"&&(l=c=GFe(this._element,i),s=(r-a*l)/2,e.alignX==="Min"&&(u=-s),e.alignX==="Max"&&(u=s),s=(n-o*c)/2,e.alignY==="Min"&&(d=-s),e.alignY==="Max"&&(d=s)),e.meetOrSlice==="slice"&&(l=c=XFe(this._element,i),s=a-r/l,e.alignX==="Mid"&&(A=s/2),e.alignX==="Max"&&(A=s),s=o-n/c,e.alignY==="Mid"&&(f=s/2),e.alignY==="Max"&&(f=s),a=r/l,o=n/c)),{width:a,height:o,scaleX:l,scaleY:c,offsetLeft:u,offsetTop:d,cropX:A,cropY:f}}static fromObject(e,r){let{filters:n,resizeFilter:i,src:s,crossOrigin:a,type:o}=e,l=xr(e,VTe);return Promise.all([gx(s,Y(Y({},r),{},{crossOrigin:a})),n&&Yg(n,r),i&&Yg([i],r),p5(l,r)]).then(c=>{let[u,d=[],[A]=[],f={}]=c;return new this(u,Y(Y({},l),{},{src:s,filters:d,resizeFilter:A},f))})}static fromURL(e){let{crossOrigin:r=null,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return gx(e,{crossOrigin:r,signal:n}).then(s=>new this(s,i))}static async fromElement(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i=Zl(e,this.ATTRIBUTE_NAMES,n);return this.fromURL(i["xlink:href"],r,i).catch(s=>(Mu("log","Unable to parse Image",s),null))}};V(Gn,"type","Image"),V(Gn,"cacheProperties",[...Jl,...pte]),V(Gn,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),V(Gn,"CSS_CANVAS","canvas-img"),V(Gn,"ATTRIBUTE_NAMES",[...Gu,"x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"]),Re.setClass(Gn),Re.setSVGClass(Gn);g5(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const x5=t=>t.webgl!==void 0,IF="precision highp float",KTe=`
    `.concat(IF,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),qTe=["type"],WTe=["type"],GTe=new RegExp(IF,"g");let mn=class{get type(){return this.constructor.type}constructor(){let e=xr(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},qTe);Object.assign(this,this.constructor.defaults,e)}getFragmentSource(){return KTe}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:i="highp"}}=To();i!=="highp"&&(r=r.replace(GTe,IF.replace("highp",i)));const s=e.createShader(e.VERTEX_SHADER),a=e.createShader(e.FRAGMENT_SHADER),o=e.createProgram();if(!s||!a||!o)throw new yo("Vertex, fragment shader or program creation error");if(e.shaderSource(s,n),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS))throw new yo("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(s)));if(e.shaderSource(a,r),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS))throw new yo("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(a)));if(e.attachShader(o,s),e.attachShader(o,a),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS))throw new yo('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(o)));const l=this.getUniformLocations(e,o)||{};return l.uStepW=e.getUniformLocation(o,"uStepW"),l.uStepH=e.getUniformLocation(o,"uStepH"),{program:o,attributeLocations:this.getAttributeLocations(e,o),uniformLocations:l}}getAttributeLocations(e,r){return{aPosition:e.getAttribLocation(r,"aPosition")}}getUniformLocations(e,r){const n=this.constructor.uniformLocations,i={};for(let s=0;s<n.length;s++)i[n[s]]=e.getUniformLocation(r,n[s]);return i}sendAttributeData(e,r,n){const i=r.aPosition,s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)}_setupFrameBuffer(e){const r=e.context;if(e.passes>1){const n=e.destinationWidth,i=e.destinationHeight;e.sourceWidth===n&&e.sourceHeight===i||(r.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(r,n,i)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e.targetTexture,0)}else r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish()}_swapTextures(e){e.passes--,e.pass++;const r=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=r}isNeutralState(e){return!1}applyTo(e){x5(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){}getCacheKey(){return this.type}retrieveShader(e){const r=this.getCacheKey();return e.programCache[r]||(e.programCache[r]=this.createProgram(e.context)),e.programCache[r]}applyToWebGL(e){const r=e.context,n=this.retrieveShader(e);e.pass===0&&e.originalTexture?r.bindTexture(r.TEXTURE_2D,e.originalTexture):r.bindTexture(r.TEXTURE_2D,e.sourceTexture),r.useProgram(n.program),this.sendAttributeData(r,n.attributeLocations,e.aPosition),r.uniform1f(n.uniformLocations.uStepW,1/e.sourceWidth),r.uniform1f(n.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(r,n.uniformLocations),r.viewport(0,0,e.destinationWidth,e.destinationHeight),r.drawArrays(r.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(e,r,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,r),e.activeTexture(e.TEXTURE0)}unbindAdditionalTexture(e,r){e.activeTexture(r),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}sendUniformData(e,r){}createHelpLayer(e){if(!e.helpLayer){const{sourceWidth:r,sourceHeight:n}=e,i=Do({width:r,height:n});e.helpLayer=i}}toObject(){const e=Object.keys(this.constructor.defaults||{});return Y({type:this.type},e.reduce((r,n)=>(r[n]=this[n],r),{}))}toJSON(){return this.toObject()}static async fromObject(e,r){return new this(xr(e,WTe))}};V(mn,"type","BaseFilter"),V(mn,"uniformLocations",[]);const XTe={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};let vy=class extends mn{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(XTe[this.mode],`
        }
      }
      `)}applyTo2d(e){let{imageData:{data:r}}=e;const n=new Gi(this.color).getSource(),i=this.alpha,s=n[0]*i,a=n[1]*i,o=n[2]*i,l=1-i;for(let c=0;c<r.length;c+=4){const u=r[c],d=r[c+1],A=r[c+2];let f,p,m;switch(this.mode){case"multiply":f=u*s/255,p=d*a/255,m=A*o/255;break;case"screen":f=255-(255-u)*(255-s)/255,p=255-(255-d)*(255-a)/255,m=255-(255-A)*(255-o)/255;break;case"add":f=u+s,p=d+a,m=A+o;break;case"difference":f=Math.abs(u-s),p=Math.abs(d-a),m=Math.abs(A-o);break;case"subtract":f=u-s,p=d-a,m=A-o;break;case"darken":f=Math.min(u,s),p=Math.min(d,a),m=Math.min(A,o);break;case"lighten":f=Math.max(u,s),p=Math.max(d,a),m=Math.max(A,o);break;case"overlay":f=s<128?2*u*s/255:255-2*(255-u)*(255-s)/255,p=a<128?2*d*a/255:255-2*(255-d)*(255-a)/255,m=o<128?2*A*o/255:255-2*(255-A)*(255-o)/255;break;case"exclusion":f=s+u-2*s*u/255,p=a+d-2*a*d/255,m=o+A-2*o*A/255;break;case"tint":f=s+u*l,p=a+d*l,m=o+A*l}r[c]=f,r[c+1]=p,r[c+2]=m}}sendUniformData(e,r){const n=new Gi(this.color).getSource();n[0]=this.alpha*n[0]/255,n[1]=this.alpha*n[1]/255,n[2]=this.alpha*n[2]/255,n[3]=this.alpha,e.uniform4fv(r.uColor,n)}};V(vy,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),V(vy,"type","BlendColor"),V(vy,"uniformLocations",["uColor"]),Re.setClass(vy);const YTe={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},JTe=["type","image"];let xy=class extends mn{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return YTe[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(e){const r=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(r,n,r.TEXTURE1),super.applyToWebGL(e),this.unbindAdditionalTexture(r,r.TEXTURE1)}createTexture(e,r){return e.getCachedTexture(r.cacheKey,r.getElement())}calculateMatrix(){const e=this.image,{width:r,height:n}=e.getElement();return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/r,-e.top/n,1]}applyTo2d(e){let{imageData:{data:r,width:n,height:i},filterBackend:{resources:s}}=e;const a=this.image;s.blendImage||(s.blendImage=Pa());const o=s.blendImage,l=o.getContext("2d");o.width!==n||o.height!==i?(o.width=n,o.height=i):l.clearRect(0,0,n,i),l.setTransform(a.scaleX,0,0,a.scaleY,a.left,a.top),l.drawImage(a.getElement(),0,0,n,i);const c=l.getImageData(0,0,n,i).data;for(let u=0;u<r.length;u+=4){const d=r[u],A=r[u+1],f=r[u+2],p=r[u+3],m=c[u],v=c[u+1],g=c[u+2],y=c[u+3];switch(this.mode){case"multiply":r[u]=d*m/255,r[u+1]=A*v/255,r[u+2]=f*g/255,r[u+3]=p*y/255;break;case"mask":r[u+3]=y}}}sendUniformData(e,r){const n=this.calculateMatrix();e.uniform1i(r.uImage,1),e.uniformMatrix3fv(r.uTransformMatrix,!1,n)}toObject(){return Y(Y({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(e,r){let{type:n,image:i}=e,s=xr(e,JTe);return Gn.fromObject(i,r).then(a=>new this(Y(Y({},s),{},{image:a})))}};V(xy,"type","BlendImage"),V(xy,"defaults",{mode:"multiply",alpha:1}),V(xy,"uniformLocations",["uTransformMatrix","uImage"]),Re.setClass(xy);let by=class extends mn{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(e){x5(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){e.imageData=this.simpleBlur(e)}simpleBlur(e){let{ctx:r,imageData:n,filterBackend:{resources:i}}=e;const{width:s,height:a}=n;i.blurLayer1||(i.blurLayer1=Pa(),i.blurLayer2=Pa());const o=i.blurLayer1,l=i.blurLayer2;o.width===s&&o.height===a||(l.width=o.width=s,l.height=o.height=a);const c=o.getContext("2d"),u=l.getContext("2d"),d=15,A=.06*this.blur*.5;let f,p,m,v;for(c.putImageData(n,0,0),u.clearRect(0,0,s,a),v=-15;v<=d;v++)f=(Math.random()-.5)/4,p=v/d,m=A*p*s+f,u.globalAlpha=1-Math.abs(p),u.drawImage(o,m,f),c.drawImage(l,0,0),u.globalAlpha=1,u.clearRect(0,0,l.width,l.height);for(v=-15;v<=d;v++)f=(Math.random()-.5)/4,p=v/d,m=A*p*a+f,u.globalAlpha=1-Math.abs(p),u.drawImage(o,f,m),c.drawImage(l,0,0),u.globalAlpha=1,u.clearRect(0,0,l.width,l.height);r.drawImage(o,0,0);const g=r.getImageData(0,0,o.width,o.height);return c.globalAlpha=1,c.clearRect(0,0,o.width,o.height),g}sendUniformData(e,r){const n=this.chooseRightDelta();e.uniform2fv(r.uDelta,n)}isNeutralState(){return this.blur===0}chooseRightDelta(){let e=1;const r=[0,0];this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio);const n=e*this.blur*.12;return this.horizontal?r[0]=n:r[1]=n,r}};V(by,"type","Blur"),V(by,"defaults",{blur:0}),V(by,"uniformLocations",["uDelta"]),Re.setClass(by);let wy=class extends mn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=Math.round(255*this.brightness);for(let i=0;i<r.length;i+=4)r[i]+=n,r[i+1]+=n,r[i+2]+=n}isNeutralState(){return this.brightness===0}sendUniformData(e,r){e.uniform1f(r.uBrightness,this.brightness)}};V(wy,"type","Brightness"),V(wy,"defaults",{brightness:0}),V(wy,"uniformLocations",["uBrightness"]),Re.setClass(wy);const mte={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};let eA=class extends mn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(e){const r=e.imageData.data,n=this.matrix,i=this.colorsOnly;for(let s=0;s<r.length;s+=4){const a=r[s],o=r[s+1],l=r[s+2];if(r[s]=a*n[0]+o*n[1]+l*n[2]+255*n[4],r[s+1]=a*n[5]+o*n[6]+l*n[7]+255*n[9],r[s+2]=a*n[10]+o*n[11]+l*n[12]+255*n[14],!i){const c=r[s+3];r[s]+=c*n[3],r[s+1]+=c*n[8],r[s+2]+=c*n[13],r[s+3]=a*n[15]+o*n[16]+l*n[17]+c*n[18]+255*n[19]}}}sendUniformData(e,r){const n=this.matrix,i=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],s=[n[4],n[9],n[14],n[19]];e.uniformMatrix4fv(r.uColorMatrix,!1,i),e.uniform4fv(r.uConstants,s)}toObject(){return Y(Y({},super.toObject()),{},{matrix:[...this.matrix]})}};function P0(t,e){var r;const n=(V(r=class extends eA{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",t),V(r,"defaults",{colorsOnly:!1,matrix:e}),r);return Re.setClass(n,t),n}V(eA,"type","ColorMatrix"),V(eA,"defaults",mte),V(eA,"uniformLocations",["uColorMatrix","uConstants"]),Re.setClass(eA);P0("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);P0("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);P0("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);P0("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);P0("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);P0("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);P0("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);let bU=class extends mn{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.subFilters=e.subFilters||[]}applyTo(e){x5(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach(r=>{r.applyTo(e)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(e=>e.toObject())}}isNeutralState(){return!this.subFilters.some(e=>!e.isNeutralState())}static fromObject(e,r){return Promise.all((e.subFilters||[]).map(n=>Re.getClass(n.type).fromObject(n,r))).then(n=>new this({subFilters:n}))}};V(bU,"type","Composed"),Re.setClass(bU);let Cy=class extends mn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(e){let{imageData:{data:r}}=e;const n=Math.floor(255*this.contrast),i=259*(n+255)/(255*(259-n));for(let s=0;s<r.length;s+=4)r[s]=i*(r[s]-128)+128,r[s+1]=i*(r[s+1]-128)+128,r[s+2]=i*(r[s+2]-128)+128}sendUniformData(e,r){e.uniform1f(r.uContrast,this.contrast)}};V(Cy,"type","Contrast"),V(Cy,"defaults",{contrast:0}),V(Cy,"uniformLocations",["uContrast"]),Re.setClass(Cy);const ZTe={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};let By=class extends mn{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return ZTe[this.getCacheKey()]}applyTo2d(e){const r=e.imageData,n=r.data,i=this.matrix,s=Math.round(Math.sqrt(i.length)),a=Math.floor(s/2),o=r.width,l=r.height,c=e.ctx.createImageData(o,l),u=c.data,d=this.opaque?1:0;let A,f,p,m,v,g,y,x,b,w,C,B,S;for(C=0;C<l;C++)for(w=0;w<o;w++){for(v=4*(C*o+w),A=0,f=0,p=0,m=0,S=0;S<s;S++)for(B=0;B<s;B++)y=C+S-a,g=w+B-a,y<0||y>=l||g<0||g>=o||(x=4*(y*o+g),b=i[S*s+B],A+=n[x]*b,f+=n[x+1]*b,p+=n[x+2]*b,d||(m+=n[x+3]*b));u[v]=A,u[v+1]=f,u[v+2]=p,u[v+3]=d?n[v+3]:m}e.imageData=c}sendUniformData(e,r){e.uniform1fv(r.uMatrix,this.matrix)}toObject(){return Y(Y({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}};V(By,"type","Convolute"),V(By,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),V(By,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),Re.setClass(By);const gte="Gamma";let Sy=class extends mn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.gamma=e.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(e){let{imageData:{data:r}}=e;const n=this.gamma,i=1/n[0],s=1/n[1],a=1/n[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const o=this.rgbValues;for(let l=0;l<256;l++)o.r[l]=255*Math.pow(l/255,i),o.g[l]=255*Math.pow(l/255,s),o.b[l]=255*Math.pow(l/255,a);for(let l=0;l<r.length;l+=4)r[l]=o.r[r[l]],r[l+1]=o.g[r[l+1]],r[l+2]=o.b[r[l+2]]}sendUniformData(e,r){e.uniform3fv(r.uGamma,this.gamma)}isNeutralState(){const{gamma:e}=this;return e[0]===1&&e[1]===1&&e[2]===1}toObject(){return{type:gte,gamma:this.gamma.concat()}}};V(Sy,"type",gte),V(Sy,"defaults",{gamma:[1,1,1]}),V(Sy,"uniformLocations",["uGamma"]),Re.setClass(Sy);const eDe={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};let _y=class extends mn{applyTo2d(e){let{imageData:{data:r}}=e;for(let n,i=0;i<r.length;i+=4){const s=r[i],a=r[i+1],o=r[i+2];switch(this.mode){case"average":n=(s+a+o)/3;break;case"lightness":n=(Math.min(s,a,o)+Math.max(s,a,o))/2;break;case"luminosity":n=.21*s+.72*a+.07*o}r[i+2]=r[i+1]=r[i]=n}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return eDe[this.mode]}sendUniformData(e,r){e.uniform1i(r.uMode,1)}isNeutralState(){return!1}};V(_y,"type","Grayscale"),V(_y,"defaults",{mode:"average"}),V(_y,"uniformLocations",["uMode"]),Re.setClass(_y);const tDe=Y(Y({},mte),{},{rotation:0});let h7=class extends eA{calculateMatrix(){const e=this.rotation*Math.PI,r=Ql(e),n=zl(e),i=1/3,s=Math.sqrt(i)*n,a=1-r;this.matrix=[r+a/3,i*a-s,i*a+s,0,0,i*a+s,r+i*a,i*a-s,0,0,i*a-s,i*a+s,r+i*a,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(e){this.calculateMatrix(),super.applyTo(e)}toObject(){return{type:this.type,rotation:this.rotation}}};V(h7,"type","HueRotation"),V(h7,"defaults",tDe),Re.setClass(h7);class ky extends mn{applyTo2d(e){let{imageData:{data:r}}=e;for(let n=0;n<r.length;n+=4)r[n]=255-r[n],r[n+1]=255-r[n+1],r[n+2]=255-r[n+2],this.alpha&&(r[n+3]=255-r[n+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(e,r){e.uniform1i(r.uInvert,Number(this.invert)),e.uniform1i(r.uAlpha,Number(this.alpha))}}V(ky,"type","Invert"),V(ky,"defaults",{alpha:!1,invert:!0}),V(ky,"uniformLocations",["uInvert","uAlpha"]),Re.setClass(ky);let Ey=class extends mn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=this.noise;for(let i=0;i<r.length;i+=4){const s=(.5-Math.random())*n;r[i]+=s,r[i+1]+=s,r[i+2]+=s}}sendUniformData(e,r){e.uniform1f(r.uNoise,this.noise/255),e.uniform1f(r.uSeed,Math.random())}isNeutralState(){return this.noise===0}};V(Ey,"type","Noise"),V(Ey,"defaults",{noise:0}),V(Ey,"uniformLocations",["uNoise","uSeed"]),Re.setClass(Ey);let My=class extends mn{applyTo2d(e){let{imageData:{data:r,width:n,height:i}}=e;for(let s=0;s<i;s+=this.blocksize)for(let a=0;a<n;a+=this.blocksize){const o=4*s*n+4*a,l=r[o],c=r[o+1],u=r[o+2],d=r[o+3];for(let A=s;A<Math.min(s+this.blocksize,i);A++)for(let f=a;f<Math.min(a+this.blocksize,n);f++){const p=4*A*n+4*f;r[p]=l,r[p+1]=c,r[p+2]=u,r[p+3]=d}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(e,r){e.uniform1f(r.uBlocksize,this.blocksize)}};V(My,"type","Pixelate"),V(My,"defaults",{blocksize:4}),V(My,"uniformLocations",["uBlocksize"]),Re.setClass(My);class Fy extends mn{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=255*this.distance,i=new Gi(this.color).getSource(),s=[i[0]-n,i[1]-n,i[2]-n],a=[i[0]+n,i[1]+n,i[2]+n];for(let o=0;o<r.length;o+=4){const l=r[o],c=r[o+1],u=r[o+2];l>s[0]&&c>s[1]&&u>s[2]&&l<a[0]&&c<a[1]&&u<a[2]&&(r[o+3]=0)}}sendUniformData(e,r){const n=new Gi(this.color).getSource(),i=this.distance,s=[0+n[0]/255-i,0+n[1]/255-i,0+n[2]/255-i,1],a=[n[0]/255+i,n[1]/255+i,n[2]/255+i,1];e.uniform4fv(r.uLow,s),e.uniform4fv(r.uHigh,a)}}V(Fy,"type","RemoveColor"),V(Fy,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),V(Fy,"uniformLocations",["uLow","uHigh"]),Re.setClass(Fy);let Ty=class extends mn{sendUniformData(e,r){e.uniform2fv(r.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(r.uTaps,this.taps)}getFilterWindow(){const e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}getCacheKey(){const e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}getFragmentSource(){const e=this.getFilterWindow();return this.generateShader(e)}getTaps(){const e=this.lanczosCreate(this.lanczosLobes),r=this.tempScale,n=this.getFilterWindow(),i=new Array(n);for(let s=1;s<=n;s++)i[s-1]=e(s*r);return i}generateShader(e){const r=new Array(e);for(let n=1;n<=e;n++)r[n-1]="".concat(n,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(e,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(r.map((n,i)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(n,") * uTaps[").concat(i,"] + texture2D(uTexture, vTexCoord - ").concat(n,") * uTaps[").concat(i,`];
              sum += 2.0 * uTaps[`).concat(i,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,super.applyTo(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,super.applyTo(e),e.sourceHeight=e.destinationHeight}applyTo(e){x5(e)?this.applyToForWebgl(e):this.applyTo2d(e)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(e){return r=>{if(r>=e||r<=-e)return 0;if(r<11920929e-14&&r>-11920929e-14)return 1;const n=(r*=Math.PI)/e;return Math.sin(r)/r*Math.sin(n)/n}}applyTo2d(e){const r=e.imageData,n=this.scaleX,i=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/i;const s=r.width,a=r.height,o=Math.round(s*n),l=Math.round(a*i);let c;c=this.resizeType==="sliceHack"?this.sliceByTwo(e,s,a,o,l):this.resizeType==="hermite"?this.hermiteFastResize(e,s,a,o,l):this.resizeType==="bilinear"?this.bilinearFiltering(e,s,a,o,l):this.resizeType==="lanczos"?this.lanczosResize(e,s,a,o,l):new ImageData(o,l),e.imageData=c}sliceByTwo(e,r,n,i,s){const a=e.imageData,o=.5;let l=!1,c=!1,u=r*o,d=n*o;const A=e.filterBackend.resources;let f=0,p=0;const m=r;let v=0;A.sliceByTwo||(A.sliceByTwo=Pa());const g=A.sliceByTwo;(g.width<1.5*r||g.height<n)&&(g.width=1.5*r,g.height=n);const y=g.getContext("2d");for(y.clearRect(0,0,1.5*r,n),y.putImageData(a,0,0),i=Math.floor(i),s=Math.floor(s);!l||!c;)r=u,n=d,i<Math.floor(u*o)?u=Math.floor(u*o):(u=i,l=!0),s<Math.floor(d*o)?d=Math.floor(d*o):(d=s,c=!0),y.drawImage(g,f,p,r,n,m,v,u,d),f=m,p=v,v+=d;return y.getImageData(f,p,i,s)}lanczosResize(e,r,n,i,s){const a=e.imageData.data,o=e.ctx.createImageData(i,s),l=o.data,c=this.lanczosCreate(this.lanczosLobes),u=this.rcpScaleX,d=this.rcpScaleY,A=2/this.rcpScaleX,f=2/this.rcpScaleY,p=Math.ceil(u*this.lanczosLobes/2),m=Math.ceil(d*this.lanczosLobes/2),v={},g={x:0,y:0},y={x:0,y:0};return function x(b){let w,C,B,S,E,M,T,L,I,R,z;for(g.x=(b+.5)*u,y.x=Math.floor(g.x),w=0;w<s;w++){for(g.y=(w+.5)*d,y.y=Math.floor(g.y),E=0,M=0,T=0,L=0,I=0,C=y.x-p;C<=y.x+p;C++)if(!(C<0||C>=r)){R=Math.floor(1e3*Math.abs(C-g.x)),v[R]||(v[R]={});for(let W=y.y-m;W<=y.y+m;W++)W<0||W>=n||(z=Math.floor(1e3*Math.abs(W-g.y)),v[R][z]||(v[R][z]=c(Math.sqrt(Math.pow(R*A,2)+Math.pow(z*f,2))/1e3)),B=v[R][z],B>0&&(S=4*(W*r+C),E+=B,M+=B*a[S],T+=B*a[S+1],L+=B*a[S+2],I+=B*a[S+3]))}S=4*(w*i+b),l[S]=M/E,l[S+1]=T/E,l[S+2]=L/E,l[S+3]=I/E}return++b<i?x(b):o}(0)}bilinearFiltering(e,r,n,i,s){let a,o,l,c,u,d,A,f,p,m,v,g,y,x=0;const b=this.rcpScaleX,w=this.rcpScaleY,C=4*(r-1),B=e.imageData.data,S=e.ctx.createImageData(i,s),E=S.data;for(A=0;A<s;A++)for(f=0;f<i;f++)for(u=Math.floor(b*f),d=Math.floor(w*A),p=b*f-u,m=w*A-d,y=4*(d*r+u),v=0;v<4;v++)a=B[y+v],o=B[y+4+v],l=B[y+C+v],c=B[y+C+4+v],g=a*(1-p)*(1-m)+o*p*(1-m)+l*m*(1-p)+c*p*m,E[x++]=g;return S}hermiteFastResize(e,r,n,i,s){const a=this.rcpScaleX,o=this.rcpScaleY,l=Math.ceil(a/2),c=Math.ceil(o/2),u=e.imageData.data,d=e.ctx.createImageData(i,s),A=d.data;for(let f=0;f<s;f++)for(let p=0;p<i;p++){const m=4*(p+f*i);let v=0,g=0,y=0,x=0,b=0,w=0,C=0;const B=(f+.5)*o;for(let S=Math.floor(f*o);S<(f+1)*o;S++){const E=Math.abs(B-(S+.5))/c,M=(p+.5)*a,T=E*E;for(let L=Math.floor(p*a);L<(p+1)*a;L++){let I=Math.abs(M-(L+.5))/l;const R=Math.sqrt(T+I*I);R>1&&R<-1||(v=2*R*R*R-3*R*R+1,v>0&&(I=4*(L+S*r),C+=v*u[I+3],y+=v,u[I+3]<255&&(v=v*u[I+3]/250),x+=v*u[I],b+=v*u[I+1],w+=v*u[I+2],g+=v))}}A[m]=x/g,A[m+1]=b/g,A[m+2]=w/g,A[m+3]=C/y}return d}};V(Ty,"type","Resize"),V(Ty,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),V(Ty,"uniformLocations",["uDelta","uTaps"]),Re.setClass(Ty);let Dy=class extends mn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=-this.saturation;for(let i=0;i<r.length;i+=4){const s=r[i],a=r[i+1],o=r[i+2],l=Math.max(s,a,o);r[i]+=l!==s?(l-s)*n:0,r[i+1]+=l!==a?(l-a)*n:0,r[i+2]+=l!==o?(l-o)*n:0}}sendUniformData(e,r){e.uniform1f(r.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}};V(Dy,"type","Saturation"),V(Dy,"defaults",{saturation:0}),V(Dy,"uniformLocations",["uSaturation"]),Re.setClass(Dy);class Ly extends mn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=-this.vibrance;for(let i=0;i<r.length;i+=4){const s=r[i],a=r[i+1],o=r[i+2],l=Math.max(s,a,o),c=(s+a+o)/3,u=2*Math.abs(l-c)/255*n;r[i]+=l!==s?(l-s)*u:0,r[i+1]+=l!==a?(l-a)*u:0,r[i+2]+=l!==o?(l-o)*u:0}}sendUniformData(e,r){e.uniform1f(r.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}V(Ly,"type","Vibrance"),V(Ly,"defaults",{vibrance:0}),V(Ly,"uniformLocations",["uVibrance"]),Re.setClass(Ly);function yte(t,e,r){const n=new BS(t,{width:e,height:r,backgroundColor:"white"});_0.ownDefaults={..._0.ownDefaults,cornerStyle:"round",cornerStrokeColor:"blue",cornerColor:"red",cornerStyle:"circle",padding:10,transparentCorners:!1,borderColor:"orange",borderScaleFactor:2};const i=new Kd("Welcome to Tooty!",{width:260,height:140,left:0,top:0,fontSize:30,backgroundColor:"lightgray",selectable:!1});return n.add(i),n}function b5(){globalThis.instaceReference.mouseDown=!1}function Hl(t){t.off("mouse:down"),t.off("mouse:move"),t.off("mouse:up")}globalThis.instaceReference={drawInstance:null,origX:void 0,origY:void 0,mouseDown:!1};globalThis.selectedObject={id:null,object:null};globalThis.options={currentMode:"",currentColor:"#000000",currentWidth:5,fill:!1,group:{}};function rDe({canvas:t,modes:e}){Hl(t),t.on("mouse:down",r=>nDe({canvas:t,modes:e,event:r})),t.on("mouse:move",r=>iDe({canvas:t,event:r})),t.on("mouse:up",b5),t.selection=!1,t.hoverCursor="auto",t.isDrawingMode=!1,t.getObjects().map(r=>r.set({selectable:!1}))}function nDe({canvas:t,modes:e,event:r}){globalThis.instaceReference.mouseDown=!0,console.log("mouse in start",globalThis.instaceReference.mouseDown),globalThis.options.currentMode=e.TRIANGLE,console.log("here fnciton even",t.getPointer(r.e));const n=t.getPointer(r.e);globalThis.instaceReference.origX=n==null?void 0:n.x,globalThis.instaceReference.origY=n==null?void 0:n.y,globalThis.instaceReference.drawInstance=new Jh({stroke:globalThis.options.currentColor,strokeWidth:globalThis.options.currentWidth,fill:globalThis.options.fill?globalThis.options.currentColor:"transparent",left:globalThis.instaceReference.origX,top:globalThis.instaceReference.origY,width:0,height:0,selectable:!1,controls:{...Jh.createControls().controls,delete:new Jr({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,mouseUpHandler:(i,s,a,o)=>{t.remove(s.target)},cursorStyle:"pointer",render:(i,s,a,o,l)=>{i.save(),i.fillStyle="red",i.fillRect(s-10,a-10,20,20),i.strokeStyle="white",i.lineWidth=2,i.beginPath(),i.moveTo(s-5,a-5),i.lineTo(s+5,a+5),i.moveTo(s+5,a-5),i.lineTo(s-5,a+5),i.stroke(),i.restore()}})}}),console.log("coming here"),t.add(globalThis.instaceReference.drawInstance)}function iDe({canvas:t,event:e}){if(console.log("fuck",globalThis.instaceReference.mouseDown),globalThis.instaceReference.mouseDown){console.log("here fnciton even 2",t.getPointer(e.e));const r=t.getPointer(e.e);r.x<globalThis.instaceReference.origX&&globalThis.instaceReference.drawInstance.set("left",r.x),r.y<globalThis.instaceReference.origY&&globalThis.instaceReference.drawInstance.set("top",r.y),globalThis.instaceReference.drawInstance.set({width:Math.abs(r.x-globalThis.instaceReference.origX),height:Math.abs(r.y-globalThis.instaceReference.origY)}),globalThis.instaceReference.drawInstance.setCoords(),t.renderAll()}}function sDe({canvas:t,modes:e}){Hl(t),t.on("mouse:down",r=>aDe({canvas:t,modes:e,event:r})),t.on("mouse:move",r=>oDe({canvas:t,event:r})),t.on("mouse:up",b5),t.selection=!1,t.hoverCursor="auto",t.isDrawingMode=!1,t.getObjects().map(r=>r.set({selectable:!1}))}function aDe({canvas:t,modes:e,event:r}){globalThis.instaceReference.mouseDown=!0,console.log("mouse in start",globalThis.instaceReference.mouseDown),globalThis.options.currentMode=e.TRIANGLE,console.log("here fnciton even",t.getPointer(r.e));const n=t.getPointer(r.e);globalThis.instaceReference.origX=n==null?void 0:n.x,globalThis.instaceReference.origY=n==null?void 0:n.y,globalThis.instaceReference.drawInstance=new ul({stroke:globalThis.options.currentColor,strokeWidth:globalThis.options.currentWidth,fill:globalThis.options.fill?globalThis.options.currentColor:"transparent",left:globalThis.instaceReference.origX,top:globalThis.instaceReference.origY,width:0,height:0,selectable:!1,controls:{...ul.createControls().controls,delete:new Jr({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,mouseUpHandler:(i,s,a,o)=>{t.remove(s.target)},cursorStyle:"pointer",render:(i,s,a,o,l)=>{i.save(),i.fillStyle="red",i.fillRect(s-10,a-10,20,20),i.strokeStyle="white",i.lineWidth=2,i.beginPath(),i.moveTo(s-5,a-5),i.lineTo(s+5,a+5),i.moveTo(s+5,a-5),i.lineTo(s-5,a+5),i.stroke(),i.restore()}})}}),console.log("coming here"),t.add(globalThis.instaceReference.drawInstance)}function oDe({canvas:t,event:e}){if(console.log("fuck",globalThis.instaceReference.mouseDown),globalThis.instaceReference.mouseDown){console.log("here fnciton even 2",t.getPointer(e.e));const r=t.getPointer(e.e);r.x<globalThis.instaceReference.origX&&globalThis.instaceReference.drawInstance.set("left",r.x),r.y<globalThis.instaceReference.origY&&globalThis.instaceReference.drawInstance.set("top",r.y),globalThis.instaceReference.drawInstance.set({width:Math.abs(r.x-globalThis.instaceReference.origX),height:Math.abs(r.y-globalThis.instaceReference.origY)}),globalThis.instaceReference.drawInstance.setCoords(),t.renderAll()}}function lDe({canvas:t,modes:e}){Hl(t),t.on("mouse:down",r=>cDe({canvas:t,modes:e,event:r})),t.on("mouse:move",r=>uDe({canvas:t,event:r})),t.on("mouse:up",b5),t.selection=!1,t.hoverCursor="auto",t.isDrawingMode=!1,t.getObjects().map(r=>r.set({selectable:!1}))}function cDe({canvas:t,modes:e,event:r}){globalThis.instaceReference.mouseDown=!0,console.log("mouse in start",globalThis.instaceReference.mouseDown),globalThis.options.currentMode=e.TRIANGLE,console.log("here fnciton even",t.getPointer(r.e));const n=t.getPointer(r.e);globalThis.instaceReference.origX=n==null?void 0:n.x,globalThis.instaceReference.origY=n==null?void 0:n.y,globalThis.instaceReference.drawInstance=new kd({stroke:globalThis.options.currentColor,strokeWidth:globalThis.options.currentWidth,fill:globalThis.options.fill?globalThis.options.currentColor:"transparent",left:globalThis.instaceReference.origX,top:globalThis.instaceReference.origY,selectable:!1,controls:{...Nc.createControls().controls,delete:new Jr({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,backgroundColor:"tranparent",mouseUpHandler:(i,s,a,o)=>{t.remove(s.target)},cursorStyle:"pointer",render:(i,s,a,o,l)=>{i.save(),i.fillStyle="red",i.fillRect(s-10,a-10,20,20),i.strokeStyle="white",i.lineWidth=2,i.beginPath(),i.moveTo(s-5,a-5),i.lineTo(s+5,a+5),i.moveTo(s+5,a-5),i.lineTo(s-5,a+5),i.stroke(),i.restore()}})}}),console.log("coming here"),t.add(globalThis.instaceReference.drawInstance)}function uDe({canvas:t,event:e}){if(console.log("fuck",globalThis.instaceReference.mouseDown),globalThis.instaceReference.mouseDown){console.log("here fnciton even 2",t.getPointer(e.e));const r=t.getPointer(e.e);r.x<globalThis.instaceReference.origX&&globalThis.instaceReference.drawInstance.set("left",r.x),r.y<globalThis.instaceReference.origY&&globalThis.instaceReference.drawInstance.set("top",r.y),globalThis.instaceReference.drawInstance.set({rx:Math.abs(r.x-globalThis.instaceReference.origX)/2,ry:Math.abs(r.y-globalThis.instaceReference.origY)/2}),globalThis.instaceReference.drawInstance.setCoords(),t.renderAll()}}function dDe({canvas:t,modes:e}){Hl(t),t.on("mouse:down",r=>hDe({canvas:t,modes:e,event:r})),t.on("mouse:move",r=>ADe({canvas:t,event:r})),t.on("mouse:up",b5),t.selection=!1,t.hoverCursor="auto",t.isDrawingMode=!1,t.getObjects().map(r=>r.set({selectable:!1}))}function hDe({canvas:t,modes:e,event:r}){globalThis.instaceReference.mouseDown=!0,console.log("mouse in start",globalThis.instaceReference.mouseDown),globalThis.options.currentMode=e.TRIANGLE,console.log("here fnciton even",t.getPointer(r.e));const n=t.getPointer(r.e);globalThis.instaceReference.origX=n==null?void 0:n.x,globalThis.instaceReference.origY=n==null?void 0:n.y,globalThis.instaceReference.drawInstance=new Ld([n.x,n.y,n.x,n.y],{strokeWidth:globalThis.options.currentWidth,stroke:globalThis.options.currentColor,selectable:!1,controls:{...Ld.createControls().controls,delete:new Jr({x:.3,y:-.5,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,mouseUpHandler:(i,s,a,o)=>{t.remove(s.target)},cursorStyle:"pointer",render:(i,s,a,o,l)=>{i.save(),i.fillStyle="red",i.fillRect(s-10,a-10,20,20),i.strokeStyle="white",i.lineWidth=2,i.beginPath(),i.moveTo(s-5,a-5),i.lineTo(s+5,a+5),i.moveTo(s+5,a-5),i.lineTo(s-5,a+5),i.stroke(),i.restore()}})}}),console.log("coming here"),t.add(globalThis.instaceReference.drawInstance)}function ADe({canvas:t,event:e}){if(console.log("fuck",globalThis.instaceReference.mouseDown),globalThis.instaceReference.mouseDown){const r=t.getPointer(e.e);globalThis.instaceReference.drawInstance.set({x2:r.x,y2:r.y}),globalThis.instaceReference.drawInstance.setCoords(),t.requestRenderAll()}}function fDe({canvas:t}){Hl(t),t.isDrawingMode=!1;const e=new Kd("text",{left:100,top:100,width:100,height:100,fontSize:30,fill:globalThis.options.currentColor,editable:!0,backgroundColor:"transparent",id:Date.now(),controls:{...Kd.createControls().controls,delete:new Jr({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,mouseUpHandler:(r,n,i,s)=>{t.remove(n.target)},cursorStyle:"pointer",render:(r,n,i,s,a)=>{r.save(),r.fillStyle="red",r.fillRect(n-10,i-10,20,20),r.strokeStyle="white",r.lineWidth=2,r.beginPath(),r.moveTo(n-5,i-5),r.lineTo(n+5,i+5),r.moveTo(n+5,i-5),r.lineTo(n-5,i+5),r.stroke(),r.restore()}})}});console.log("text",e),t.add(e),t.renderAll()}function pDe({canvas:t}){Hl(t),t.freeDrawingBrush=new ite(t),t.freeDrawingBrush.width=parseInt(globalThis.options.currentWidth,10)||1;const e=()=>{const n=globalThis.options.currentColor||"black";console.log("Updated Brush Color:",n),t.freeDrawingBrush.color=n},r=()=>{e()};t.on("mouse:down",r),t.on("mouse:move",r),t.on("mouse:up",r),t.isDrawingMode=!0,t.on("mouse:out",()=>{Hl(t)})}function mDe({canvas:t}){globalThis.options.currentMode="",t.isDrawingMode=!1,Hl(t),t.getObjects().map(e=>(e==null?void 0:e.type)!="path"?e.set({selectable:!0}):e.set({selectable:!1})),console.log("eklee",t.getObjects()),t.hoverCursor="all-scroll"}function gDe({canvas:t}){Hl(t),t.on("mouse:down",()=>t.isDrawingMode=!0),t.freeDrawingBrush=new ite(t),t.freeDrawingBrush.color="white",t.freeDrawingBrush.width=10}var yDe=Object.defineProperty,vDe=Object.defineProperties,xDe=Object.getOwnPropertyDescriptors,g3=Object.getOwnPropertySymbols,vte=Object.prototype.hasOwnProperty,xte=Object.prototype.propertyIsEnumerable,wU=(t,e,r)=>e in t?yDe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,P=(t,e)=>{for(var r in e||(e={}))vte.call(e,r)&&wU(t,r,e[r]);if(g3)for(var r of g3(e))xte.call(e,r)&&wU(t,r,e[r]);return t},G=(t,e)=>vDe(t,xDe(e)),CU=t=>typeof t=="symbol"?t:t+"",y3=(t,e)=>{var r={};for(var n in t)vte.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&g3)for(var n of g3(t))e.indexOf(n)<0&&xte.call(t,n)&&(r[n]=t[n]);return r};function Bn(t){return Array.isArray(t)}var bDe={en:{"keyboard.tooltip.symbols":"Symbols","keyboard.tooltip.greek":"Greek Letters","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.alphabetic":"Roman Letters","tooltip.copy to clipboard":"Copy to Clipboard","tooltip.cut to clipboard":"Cut to Clipboard","tooltip.paste from clipboard":"Paste from Clipboard","tooltip.redo":"Redo","tooltip.toggle virtual keyboard":"Toggle Virtual Keyboard","tooltip.menu":"Menu","tooltip.undo":"Undo","menu.borders":"Borders","menu.insert matrix":"Insert Matrix","menu.array.add row above":"Add Row Before","menu.array.add row below":"Add Row After","menu.array.add column after":"Add Column After","menu.array.add column before":"Add Column Before","menu.array.delete row":"Delete Row","menu.array.delete rows":"Delete Selected Rows","menu.array.delete column":"Delete Column","menu.array.delete columns":"Delete Selected Columns","menu.mode":"Mode","menu.mode-math":"Math","menu.mode-text":"Text","menu.mode-latex":"LaTeX","menu.insert":"Insert","menu.insert.abs":"Absolute Value","menu.insert.abs-template":"\\left|x\\right|","menu.insert.nth-root":"n<sup>th</sup> Root","menu.insert.nth-root-template":"\\sqrt[n]{x}","menu.insert.log-base":"Logarithm base a","menu.insert.log-base-template":"\\log_a(x)","menu.insert.heading-calculus":"Calculus","menu.insert.derivative":"Derivative","menu.insert.derivative-template":"\\dfrac{\\mathrm{d}}{\\mathrm{d}x}f(x)\\bigm|_{x=a}","menu.insert.nth-derivative":"n<sup>th</sup> derivative","menu.insert.nth-derivative-template":"\\dfrac{\\mathrm{d}^n}{\\mathrm{d}x^n}f(x)\\bigm|_{x=a}","menu.insert.integral":"Integral","menu.insert.integral-template":"$\\int_a^b f(x)\\,\\mathrm{d}x$","menu.insert.sum":"Sum","menu.insert.sum-template":"$\\sum_{i=1}^n x_i$","menu.insert.product":"Product","menu.insert.product-template":"\\prod_{i=1}^n x_i","menu.insert.heading-complex-numbers":"Complex Numbers","menu.insert.modulus":"Modulus","menu.insert.modulus-template":"\\lvert z \\rvert","menu.insert.argument":"Argument","menu.insert.argument-template":"\\arg(z)","menu.insert.real-part":"Real Part","menu.insert.real-part-template":"\\Re(z)","menu.insert.imaginary-part":"Imaginary Part","menu.insert.imaginary-part-template":"\\Im(z)","menu.insert.conjugate":"Conjugate","menu.insert.conjugate-template":"\\overline{z}","tooltip.blackboard":"Blackboard","tooltip.bold":"Bold","tooltip.italic":"Italic","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligraphic","tooltip.typewriter":"Typewriter","tooltip.roman-upright":"Roman Upright","tooltip.row-by-col":"%@ × %@","menu.font-style":"Font Style","menu.accent":"Accent","menu.decoration":"Decoration","menu.color":"Color","menu.background-color":"Background","menu.evaluate":"Evaluate","menu.simplify":"Simplify","menu.solve":"Solve","menu.solve-for":"Solve for %@","menu.cut":"Cut","menu.copy":"Copy","menu.copy-as-latex":"Copy as LaTeX","menu.copy-as-ascii-math":"Copy as ASCII Math","menu.copy-as-mathml":"Copy as MathML","menu.paste":"Paste","menu.select-all":"Select All","color.red":"Red","color.orange":"Orange","color.yellow":"Yellow","color.lime":"Lime","color.green":"Green","color.teal":"Teal","color.cyan":"Cyan","color.blue":"Blue","color.indigo":"Indigo","color.purple":"Purple","color.magenta":"Magenta","color.black":"Black","color.dark-grey":"Dark Grey","color.grey":"Grey","color.light-grey":"Light Grey","color.white":"White"},ar:{"keyboard.tooltip.symbols":"حرف او رمز","keyboard.tooltip.greek":"حروف يونانية","keyboard.tooltip.numeric":"الرقمية","keyboard.tooltip.alphabetic":"رموز الاحرف الرومانية","tooltip.copy to clipboard":"نسخ إلى الحافظة","tooltip.cut to clipboard":"قص إلى الحافظة","tooltip.paste from clipboard":"لصق من الحافظة","tooltip.redo":"الإعادة","tooltip.toggle virtual keyboard":"تبديل لوحة المفاتيح الإفتراضية","tooltip.undo":"إلغاء","menu.insert matrix":"أدخل المصفوفة","menu.borders":"محددات المصفوفة","menu.array.add row above":"أضف صفًا بعد ذلك","menu.array.add row below":"أضف الصف قبل","menu.array.add column after":"أضف العمود بعد ذلك","menu.array.add column before":"أضف العمود قبل","menu.array.delete row":"احذف صف","menu.array.delete rows":"حذف الصفوف المحددة","menu.array.delete column":"حذف العمود","menu.array.delete columns":"حذف الأعمدة المحددة","menu.mode":"وضع","menu.mode-math":"رياضيات","menu.mode-text":"نص","menu.mode-latex":"لاتكس","tooltip.blackboard":"سبورة","tooltip.bold":"عريض","tooltip.italic":"مائل","tooltip.fraktur":"فراكتور","tooltip.script":"سكريبت","tooltip.caligraphic":"كاليجرافيك","tooltip.typewriter":"آلة كاتبة","tooltip.roman-upright":"روماني مستقيم","tooltip.row-by-col":"%@ × %@","menu.font-style":"نمط الخط","menu.accent":"تشكيل","menu.decoration":"زخرفة","menu.color":"لون","menu.background-color":"الخلفية","menu.evaluate":"تقييم","menu.simplify":"تبسيط","menu.solve":"حل","menu.solve-for":"حل لـ %@","menu.cut":"قص","menu.copy":"نسخ","menu.copy-as-latex":"نسخ كـ LaTeX","menu.copy-as-ascii-math":"نسخ كـ ASCII Math","menu.copy-as-mathml":"نسخ كـ MathML","menu.paste":"لصق","menu.select-all":"تحديد الكل","color.red":"أحمر","color.orange":"برتقالي","color.yellow":"أصفر","color.lime":"ليموني","color.green":"أخضر","color.teal":"سماوي","color.cyan":"سماوي فاتح","color.blue":"أزرق","color.indigo":"نيلي","color.purple":"بنفسجي","color.magenta":"أرجواني","color.black":"أسود","color.dark-grey":"رمادي غامق","color.grey":"رمادي","color.light-grey":"رمادي فاتح","color.white":"أبيض"},de:{"keyboard.tooltip.symbols":"Symbole","keyboard.tooltip.greek":"Griechische Buchstaben","keyboard.tooltip.numeric":"Numerisch","keyboard.tooltip.alphabetic":"Römische Buchstaben","tooltip.copy to clipboard":"In die Zwischenablage kopieren","tooltip.redo":"Wiederholen","tooltip.toggle virtual keyboard":"Virtuelle Tastatur umschalten","tooltip.undo":"Widerrufen","menu.insert matrix":"Matrix einfügen","menu.borders":"Matrixtrennzeichen","menu.array.add row above":"Zeile hinzufügen nach","menu.array.add row below":"Zeile hinzufügen vor","menu.array.add column after":"Spalte hinzufügen nach","menu.array.add column before":"Spalte hinzufügen vor","menu.array.delete row":"Zeile löschen","menu.array.delete rows":"Ausgewählte Zeilen löschen","menu.array.delete column":"Spalte löschen","menu.array.delete columns":"Ausgewählte Spalten löschen","menu.mode":"Modus","menu.mode-math":"Mathematik","menu.mode-text":"Text","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tafel","tooltip.bold":"Fett","tooltip.italic":"Kursiv","tooltip.fraktur":"Fraktur","tooltip.script":"Skript","tooltip.caligraphic":"Kalligraphie","tooltip.typewriter":"Schreibmaschine","tooltip.roman-upright":"Römisch aufrecht","tooltip.row-by-col":"%@ × %@","menu.font-style":"Schriftstil","menu.accent":"Akzent","menu.decoration":"Dekoration","menu.color":"Farbe","menu.background-color":"Hintergrund","menu.evaluate":"Auswerten","menu.simplify":"Vereinfachen","menu.solve":"Lösen","menu.solve-for":"Lösen für %@","menu.cut":"Ausschneiden","menu.copy":"Kopieren","menu.copy-as-latex":"Als LaTeX kopieren","menu.copy-as-ascii-math":"Als ASCII Math kopieren","menu.copy-as-mathml":"Als MathML kopieren","menu.paste":"Einfügen","menu.select-all":"Alles auswählen","color.red":"Rot","color.orange":"Orange","color.yellow":"Gelb","color.lime":"Limette","color.green":"Grün","color.teal":"Blaugrün","color.cyan":"Cyan","color.blue":"Blau","color.indigo":"Indigo","color.purple":"Lila","color.magenta":"Magenta","color.black":"Schwarz","color.dark-grey":"Dunkelgrau","color.grey":"Grau","color.light-grey":"Hellgrau","color.white":"Weiß"},el:{"keyboard.tooltip.symbols":"σύμβολα","keyboard.tooltip.greek":"ελληνικά γράμματα","keyboard.tooltip.numeric":"Αριθμητικός","keyboard.tooltip.alphabetic":"Ρωμαϊκά γράμματα","tooltip.copy to clipboard":"Αντιγραφή στο πρόχειρο","tooltip.redo":"Ξανακάνω","tooltip.toggle virtual keyboard":"Εναλλαγή εικονικού πληκτρολογίου","tooltip.undo":"Ξεκάνω","menu.insert matrix":"Εισαγωγή μήτρα","menu.borders":"Οριοθέτες μήτρα","menu.array.add row above":"Προσθήκη σειράς μετά","menu.array.add row below":"Προσθήκη σειράς πριν","menu.array.add column after":"Προσθήκη στήλης μετά","menu.array.add column before":"Προσθήκη στήλης πριν","menu.array.delete row":"Διαγραφή σειράς","menu.array.delete rows":"Διαγραφή επιλεγμένων σειρών","menu.array.delete column":"Διαγραφή στήλης","menu.array.delete columns":"Διαγραφή επιλεγμένων στηλών","menu.mode":"Λειτουργία","menu.mode-math":"Μαθηματικά","menu.mode-text":"Κείμενο","menu.mode-latex":"LaTeX","tooltip.blackboard":"Πίνακας","tooltip.bold":"Έντονη","tooltip.italic":"Πλάγια","tooltip.fraktur":"Φράκτουρ","tooltip.script":"Σενάριο","tooltip.caligraphic":"Καλλιγραφική","tooltip.typewriter":"Μηχανή γραφής","tooltip.roman-upright":"Ρωμαϊκό Κατακόρυφο","tooltip.row-by-col":"%@ × %@","menu.font-style":"Στυλ γραμματοσειράς","menu.accent":"Τόνος","menu.decoration":"Διακόσμηση","menu.color":"Χρώμα","menu.background-color":"Χρώμα φόντου","menu.evaluate":"Αξιολόγηση","menu.simplify":"Απλοποίηση","menu.solve":"Λύση","menu.solve-for":"Λύση για %@","menu.cut":"Αποκοπή","menu.copy":"Αντιγραφή","menu.copy-as-latex":"Αντιγραφή ως LaTeX","menu.copy-as-ascii-math":"Αντιγραφή ως ASCII Math","menu.copy-as-mathml":"Αντιγραφή ως MathML","menu.paste":"Επικόλληση","menu.select-all":"Επιλογή όλων","color.red":"Κόκκινο","color.orange":"Πορτοκαλί","color.yellow":"Κίτρινο","color.lime":"Λαχανί","color.green":"Πράσινο","color.teal":"Κυανό","color.cyan":"Γαλάζιο","color.blue":"Μπλε","color.indigo":"Ινδικό","color.purple":"Μωβ","color.magenta":"Ματζέντα","color.black":"Μαύρο","color.dark-grey":"Σκούρο Γκρι","color.grey":"Γκρι","color.light-grey":"Ανοιχτό Γκρι","color.white":"Λευκό"},es:{"keyboard.tooltip.symbols":"Símbolos","keyboard.tooltip.greek":"Letras griegas","keyboard.tooltip.numeric":"Numérico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar al portapapeles","tooltip.redo":"Rehacer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Deshacer","menu.insert matrix":"Añadir Matriz","menu.borders":"Delimitadores de Matriz","menu.array.add row above":"Añadir Línea Antes","menu.array.add row below":"Añadir Línea Despues","menu.array.add column after":"Añadir Columna Despues","menu.array.add column before":"Añadir Columna Antes","menu.array.delete row":"Borrar Línea","menu.array.delete rows":"Borrar Líneas Seleccionadas","menu.array.delete column":"Borrar Columna","menu.array.delete columns":"Borrar Columnas Seleccionadas","menu.mode":"Modo","menu.mode-math":"Matemáticas","menu.mode-text":"Texto","menu.mode-latex":"LaTeX","tooltip.blackboard":"Pizarra","tooltip.bold":"Negrita","tooltip.italic":"Cursiva","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligráfico","tooltip.typewriter":"Máquina de escribir","tooltip.roman-upright":"Romano Vertical","tooltip.row-by-col":"%@ × %@","menu.font-style":"Estilo de fuente","menu.accent":"Acento","menu.decoration":"Decoración","menu.color":"Color","menu.background-color":"Fondo","menu.evaluate":"Evaluar","menu.simplify":"Simplificar","menu.solve":"Resolver","menu.solve-for":"Resolver para %@","menu.cut":"Cortar","menu.copy":"Copiar","menu.copy-as-latex":"Copiar como LaTeX","menu.copy-as-ascii-math":"Copiar como ASCII Math","menu.copy-as-mathml":"Copiar como MathML","menu.paste":"Pegar","menu.select-all":"Seleccionar todo","color.red":"Rojo","color.orange":"Naranja","color.yellow":"Amarillo","color.lime":"Lima","color.green":"Verde","color.teal":"Verde azulado","color.cyan":"Cian","color.blue":"Azul","color.indigo":"Índigo","color.purple":"Morado","color.magenta":"Magenta","color.black":"Negro","color.dark-grey":"Gris oscuro","color.grey":"Gris","color.light-grey":"Gris claro","color.white":"Blanco"},fr:{"keyboard.tooltip.symbols":"Symboles","keyboard.tooltip.greek":"Lettres grecques","keyboard.tooltip.numeric":"Numérique","keyboard.tooltip.alphabetic":"Lettres romaines","tooltip.menu":"Menu","tooltip.copy to clipboard":"Copier dans le presse-papiers","tooltip.redo":"Rétablir","tooltip.toggle virtual keyboard":"Afficher/Masquer le clavier virtuel","tooltip.undo":"Annuler","menu.insert matrix":"Insérer une Matrice","menu.borders":"Bords","menu.array.add row above":"Ajouter une Ligne Avant","menu.array.add row below":"Ajouter une Ligne Après","menu.array.add column before":"Ajouter une Colonne Avant","menu.array.add column after":"Ajouter une Colonne Après","menu.array.delete row":"Enlever une Ligne","menu.array.delete rows":"Enlever les Lignes Sélectionées","menu.array.delete column":"Enlever une Colone","menu.array.delete columns":"Enlever les Colonnes Sélectionées","menu.mode":"Mode","menu.mode-math":"Math","menu.mode-text":"Text","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tableau noir","tooltip.bold":"Gras","tooltip.italic":"Italique","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Calligraphique","tooltip.typewriter":"Machine à écrire","tooltip.roman-upright":"Romain droit","tooltip.row-by-col":"%@ × %@","menu.font-style":"Style de police","menu.accent":"Accent","menu.decoration":"Décoration","menu.color":"Couleur","menu.background-color":"Arrière-plan","menu.evaluate":"Évaluer","menu.simplify":"Simplifier","menu.solve":"Résoudre","menu.solve-for":"Résoudre pour %@","menu.cut":"Couper","menu.copy":"Copier","menu.copy-as-latex":"Copier en LaTeX","menu.copy-as-ascii-math":"Copier en ASCII Math","menu.copy-as-mathml":"Copier en MathML","menu.paste":"Coller","menu.select-all":"Sélectionner tout","color.red":"Rouge","color.orange":"Orange","color.yellow":"Jaune","color.lime":"Citron vert","color.green":"Vert","color.teal":"Turquoise","color.cyan":"Cyan","color.blue":"Bleu","color.indigo":"Indigo","color.purple":"Violet","color.magenta":"Magenta","color.black":"Noir","color.dark-grey":"Gris foncé","color.grey":"Gris","color.light-grey":"Gris clair","color.white":"Blanc"},he:{"keyboard.tooltip.symbols":"סמלים","keyboard.tooltip.greek":"אותיות יווניות","keyboard.tooltip.numeric":"מספרי","keyboard.tooltip.alphabetic":"מכתבים רומיים","tooltip.copy to clipboard":"העתק ללוח","tooltip.redo":"לַעֲשׂוֹת שׁוּב","tooltip.toggle virtual keyboard":"החלף את המקלדת הווירטואלית","tooltip.undo":"לבטל","menu.insert matrix":"הכנס מטריקס","menu.borders":"מפרידי מטריקס","menu.array.add row above":"הוסף שורה אחרי","menu.array.add row below":"הוסף שורה לפני","menu.array.add column after":"הוסף עמודה אחרי","menu.array.add column before":"הוסף עמודה לפני","menu.array.delete row":"מחק שורה","menu.array.delete rows":"מחק שורות שנבחרו","menu.array.delete column":"מחק עמודה","menu.array.delete columns":"מחק עמודות שנבחרו","menu.mode":"מצב","menu.mode-math":"מתמטיקה","menu.mode-text":"טקסט","menu.mode-latex":"LaTeX","tooltip.blackboard":"לוח שחור","tooltip.bold":"מודגש","tooltip.italic":"נטוי","tooltip.fraktur":"פרקטור","tooltip.script":"כתב","tooltip.caligraphic":"קליגרפי","tooltip.typewriter":"מכונת כתיבה","tooltip.roman-upright":"רומי ישר","tooltip.row-by-col":"%@ × %@","menu.font-style":"סגנון גופן","menu.accent":"צליל","menu.decoration":"קישוט","menu.color":"צבע","menu.background-color":"רקע","menu.evaluate":"חשב","menu.simplify":"פשט","menu.solve":"פתור","menu.solve-for":"פתור עבור %@","menu.cut":"גזור","menu.copy":"העתק","menu.copy-as-latex":"העתק כ־LaTeX","menu.copy-as-ascii-math":"העתק כ־ASCII Math","menu.copy-as-mathml":"העתק כ־MathML","menu.paste":"הדבק","menu.select-all":"בחר הכל","color.red":"אדום","color.orange":"כתום","color.yellow":"צהוב","color.lime":"ירוק ליים","color.green":"ירוק","color.teal":"טיל","color.cyan":"ציאן","color.blue":"כחול","color.indigo":"אינדיגו","color.purple":"סגול","color.magenta":"מגנטה","color.black":"שחור","color.dark-grey":"אפור כהה","color.grey":"אפור","color.light-grey":"אפור בהיר","color.white":"לבן"},it:{"keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Lettere greche","keyboard.tooltip.numeric":"Numerico","keyboard.tooltip.alphabetic":"Lettere romane","tooltip.copy to clipboard":"Copia negli appunti","tooltip.redo":"Rifare","tooltip.toggle virtual keyboard":"Attiva / disattiva la tastiera virtuale","tooltip.undo":"Disfare","menu.insert matrix":"Inserisci una Matrice","menu.borders":"Delimitatori di Matrice","menu.array.add row above":"Aggiungi una Riga Prima","menu.array.add row below":"Aggiungi una Riga Dopo","menu.array.add column before":"Aggiungi una Colonna Prima","menu.array.add column after":"Aggiungi una Colonna Dopo","menu.array.delete row":"Rimuovi una Riga","menu.array.delete rows":"Rimuovi le Righe Selezionate","menu.array.delete column":"Rimuovi una Colonna","menu.array.delete columns":"Rimuovi le Colonne Selezionate","menu.mode":"Modalità","menu.mode-math":"Matematica","menu.mode-text":"Testo","menu.mode-latex":"LaTeX","tooltip.blackboard":"Lavagna","tooltip.bold":"Grassetto","tooltip.italic":"Corsivo","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligrafico","tooltip.typewriter":"Macchina da scrivere","tooltip.roman-upright":"Romano dritto","tooltip.row-by-col":"%@ × %@","menu.font-style":"Stile del carattere","menu.accent":"Accento","menu.decoration":"Decorazione","menu.color":"Colore","menu.background-color":"Sfondo","menu.evaluate":"Valuta","menu.simplify":"Semplifica","menu.solve":"Risolvi","menu.solve-for":"Risolvi per %@","menu.cut":"Taglia","menu.copy":"Copia","menu.copy-as-latex":"Copia come LaTeX","menu.copy-as-ascii-math":"Copia come ASCII Math","menu.copy-as-mathml":"Copia come MathML","menu.paste":"Incolla","menu.select-all":"Seleziona tutto","color.red":"Rosso","color.orange":"Arancione","color.yellow":"Giallo","color.lime":"Lime","color.green":"Verde","color.teal":"Verde acqua","color.cyan":"Ciano","color.blue":"Blu","color.indigo":"Indaco","color.purple":"Viola","color.magenta":"Magenta","color.black":"Nero","color.dark-grey":"Grigio scuro","color.grey":"Grigio","color.light-grey":"Grigio chiaro","color.white":"Bianco"},ja:{"keyboard.tooltip.symbols":"シンボル","keyboard.tooltip.greek":"ギリシャ文字","keyboard.tooltip.numeric":"数値","keyboard.tooltip.alphabetic":"ローマ字","tooltip.menu":"メニュー","tooltip.copy to clipboard":"クリップボードにコピー","tooltip.redo":"やり直し","tooltip.toggle virtual keyboard":"仮想キーボードの切り替え","tooltip.undo":"元に戻す","menu.insert matrix":"マトリックスを挿入","menu.borders":"行列区切り文字","menu.array.add row above":"後に行を追加","menu.array.add row below":"前に行を追加","menu.array.add column after":"後に列を追加","menu.array.add column before":"前に列を追加","menu.array.delete row":"行を削除","menu.array.delete rows":"選択した行を削除する","menu.array.delete column":"列を削除","menu.array.delete columns":"選択した列を削除する","menu.mode":"モード","menu.mode-math":"数式","menu.mode-text":"テキスト","menu.mode-latex":"LaTeX","tooltip.blackboard":"黒板","tooltip.bold":"太字","tooltip.italic":"イタリック","tooltip.fraktur":"フラクトゥール","tooltip.script":"スクリプト","tooltip.caligraphic":"カリグラフィック","tooltip.typewriter":"タイプライター","tooltip.roman-upright":"ローマ直立","tooltip.row-by-col":"%@ × %@","menu.font-style":"フォントスタイル","menu.accent":"アクセント","menu.decoration":"装飾","menu.color":"色","menu.background-color":"背景","menu.evaluate":"評価","menu.simplify":"簡略化","menu.solve":"解く","menu.solve-for":"%@ を解く","menu.cut":"切り取り","menu.copy":"コピー","menu.copy-as-latex":"LaTeXとしてコピー","menu.copy-as-ascii-math":"ASCII Mathとしてコピー","menu.copy-as-mathml":"MathMLとしてコピー","menu.paste":"貼り付け","menu.select-all":"すべて選択","color.red":"赤","color.orange":"オレンジ","color.yellow":"黄色","color.lime":"ライム","color.green":"緑","color.teal":"ティール","color.cyan":"シアン","color.blue":"青","color.indigo":"インディゴ","color.purple":"紫","color.magenta":"マゼンタ","color.black":"黒","color.dark-grey":"濃いグレー","color.grey":"グレー","color.light-grey":"薄いグレー","color.white":"白"},ko:{"keyboard.tooltip.symbols":"기호","keyboard.tooltip.greek":"그리스 문자","keyboard.tooltip.numeric":"숫자","keyboard.tooltip.alphabetic":"로마 문자","tooltip.copy to clipboard":"클립 보드에 복사","tooltip.redo":"다시 하다","tooltip.toggle virtual keyboard":"가상 키보드 전환","tooltip.undo":"실행 취소","menu.insert matrix":"매트릭스 삽입","menu.borders":"행렬 구분 기호","menu.array.add row above":"뒤에 행 추가","menu.array.add row below":"앞에 행 추가","menu.array.add column after":"뒤에 열 추가","menu.array.add column before":"앞에 열 추가","menu.array.delete row":"행 삭제","menu.array.delete rows":"선택한 행 삭제","menu.array.delete column":"열 삭제","menu.array.delete columns":"선택한 열 삭제","menu.mode":"モード","menu.mode-math":"数式","menu.mode-text":"テキスト","menu.mode-latex":"LaTeX","tooltip.blackboard":"칠판","tooltip.bold":"굵게","tooltip.italic":"이탤릭","tooltip.fraktur":"프랙투어","tooltip.script":"스크립트","tooltip.caligraphic":"캘리그래픽","tooltip.typewriter":"타자기","tooltip.roman-upright":"로마 직립","tooltip.row-by-col":"%@ × %@","menu.font-style":"글꼴 스타일","menu.accent":"악센트","menu.decoration":"장식","menu.color":"색상","menu.background-color":"배경","menu.evaluate":"평가","menu.simplify":"간소화","menu.solve":"해결","menu.solve-for":"%@에 대해 해결","menu.cut":"잘라내기","menu.copy":"복사","menu.copy-as-latex":"LaTeX로 복사","menu.copy-as-ascii-math":"ASCII Math로 복사","menu.copy-as-mathml":"MathML로 복사","menu.paste":"붙여넣기","menu.select-all":"모두 선택","color.red":"빨강","color.orange":"주황","color.yellow":"노랑","color.lime":"라임","color.green":"초록","color.teal":"청록","color.cyan":"청색","color.blue":"파랑","color.indigo":"남색","color.purple":"보라","color.magenta":"자홍","color.black":"검정","color.dark-grey":"진한 회색","color.grey":"회색","color.light-grey":"연한 회색","color.white":"흰색"},pl:{"keyboard.tooltip.symbols":"Symbolika","keyboard.tooltip.greek":"Litery greckie","keyboard.tooltip.numeric":"Numeryczne","keyboard.tooltip.alphabetic":"Litery rzymskie","tooltip.copy to clipboard":"Kopiuj do Schowka","tooltip.redo":"Przywróć","tooltip.toggle virtual keyboard":"Przełącz wirtualną klawiaturę","tooltip.undo":"Cofnij","menu.insert matrix":"Wstaw macierz","menu.borders":"Ograniczniki macierzy","menu.array.add row above":"Dodaj wiersz po","menu.array.add row below":"Dodaj wiersz przed","menu.array.add column after":"Dodaj kolumnę po","menu.array.add column before":"Dodaj kolumnę przed","menu.array.delete row":"Usuń wiersz","menu.array.delete rows":"Usuń wybrane wiersze","menu.array.delete column":"Usuń kolumnę","menu.array.delete columns":"Usuń wybrane kolumny","menu.mode":"Tryb","menu.mode-math":"Formuła","menu.mode-text":"Tekst","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tablica","tooltip.bold":"Pogrubienie","tooltip.italic":"Kursywa","tooltip.fraktur":"Fraktura","tooltip.script":"Skrypt","tooltip.caligraphic":"Kaligraficzny","tooltip.typewriter":"Maszynowy","tooltip.roman-upright":"Rzymski prosto","tooltip.row-by-col":"%@ × %@","menu.font-style":"Styl czcionki","menu.accent":"Akcent","menu.decoration":"Dekoracja","menu.color":"Kolor","menu.background-color":"Tło","menu.evaluate":"Oblicz","menu.simplify":"Uprość","menu.solve":"Rozwiąż","menu.solve-for":"Rozwiąż dla %@","menu.cut":"Wytnij","menu.copy":"Kopiuj","menu.copy-as-latex":"Kopiuj jako LaTeX","menu.copy-as-ascii-math":"Kopiuj jako ASCII Math","menu.copy-as-mathml":"Kopiuj jako MathML","menu.paste":"Wklej","menu.select-all":"Zaznacz wszystko","color.red":"Czerwony","color.orange":"Pomarańczowy","color.yellow":"Żółty","color.lime":"Limetkowy","color.green":"Zielony","color.teal":"Turkusowy","color.cyan":"Cyjan","color.blue":"Niebieski","color.indigo":"Indygo","color.purple":"Fioletowy","color.magenta":"Magenta","color.black":"Czarny","color.dark-grey":"Ciemnoszary","color.grey":"Szary","color.light-grey":"Jasnoszary","color.white":"Biały"},pt:{"keyboard.tooltip.symbols":"Símbolos","keyboard.tooltip.greek":"Letras gregas","keyboard.tooltip.numeric":"Numérico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar para área de transferência","tooltip.redo":"Refazer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Desfazer","menu.insert matrix":"Inserir Matriz","menu.borders":"Delimitadores de matriz","menu.array.add row above":"Adicionar linha depois","menu.array.add row below":"Adicionar linha antes","menu.array.add column after":"Adicionar coluna depois","menu.array.add column before":"Adicionar coluna antes","menu.array.delete row":"Excluir linha","menu.array.delete rows":"Excluir linhas selecionadas","menu.array.delete column":"Apagar Coluna","menu.array.delete columns":"Excluir Colunas Selecionadas","menu.mode":"Modo","menu.mode-math":"Fórmula","menu.mode-text":"Texto","menu.mode-latex":"LaTeX","tooltip.blackboard":"Quadro Negro","tooltip.bold":"Negrito","tooltip.italic":"Itálico","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligráfico","tooltip.typewriter":"Máquina de Escrever","tooltip.roman-upright":"Romano Vertical","tooltip.row-by-col":"%@ × %@","menu.font-style":"Estilo da Fonte","menu.accent":"Acento","menu.decoration":"Decoração","menu.color":"Cor","menu.background-color":"Cor de Fundo","menu.evaluate":"Avaliar","menu.simplify":"Simplificar","menu.solve":"Resolver","menu.solve-for":"Resolver para %@","menu.cut":"Recortar","menu.copy":"Copiar","menu.copy-as-latex":"Copiar como LaTeX","menu.copy-as-ascii-math":"Copiar como ASCII Math","menu.copy-as-mathml":"Copiar como MathML","menu.paste":"Colar","menu.select-all":"Selecionar Tudo","color.red":"Vermelho","color.orange":"Laranja","color.yellow":"Amarelo","color.lime":"Verde Lima","color.green":"Verde","color.teal":"Verde-azulado","color.cyan":"Ciano","color.blue":"Azul","color.indigo":"Índigo","color.purple":"Roxo","color.magenta":"Magenta","color.black":"Preto","color.dark-grey":"Cinza Escuro","color.grey":"Cinza","color.light-grey":"Cinza Claro","color.white":"Branco"},uk:{"keyboard.tooltip.symbols":"Символи","keyboard.tooltip.greek":"Грецькі літери","keyboard.tooltip.numeric":"Числовий","keyboard.tooltip.alphabetic":"Римські літери","tooltip.copy to clipboard":"Копіювати в буфер обміну","tooltip.redo":"Повторити","tooltip.toggle virtual keyboard":"Переключити віртуальну клавіатуру","tooltip.undo":"Скасувати","menu.insert matrix":"Вставити матрицю","menu.borders":"Матричні роздільники","menu.array.add row above":"Додати рядок після","menu.array.add row below":"Додати рядок до","menu.array.add column after":"Додати стовпець після","menu.array.add column before":"Додати стовпець перед","menu.array.delete row":"Видалити рядок","menu.array.delete rows":"Видалити вибрані рядки","menu.array.delete column":"Видалити стовпець","menu.array.delete columns":"Видалити вибрані стовпці","menu.mode":"Режим","menu.mode-math":"Математика","menu.mode-text":"Текст","menu.mode-latex":"LaTeX","tooltip.blackboard":"Чорна дошка","tooltip.bold":"Жирний","tooltip.italic":"Курсив","tooltip.fraktur":"Фрактурний","tooltip.script":"Скрипт","tooltip.caligraphic":"Каліграфічний","tooltip.typewriter":"Машинка для письма","tooltip.roman-upright":"Римський прямий","tooltip.row-by-col":"%@ × %@","menu.font-style":"Стиль шрифту","menu.accent":"Акцент","menu.decoration":"Декорація","menu.color":"Колір","menu.background-color":"Фон","menu.evaluate":"Обчислити","menu.simplify":"Спростити","menu.solve":"Вирішити","menu.solve-for":"Вирішити для %@","menu.cut":"Вирізати","menu.copy":"Копіювати","menu.copy-as-latex":"Копіювати як LaTeX","menu.copy-as-ascii-math":"Копіювати як ASCII Math","menu.copy-as-mathml":"Копіювати як MathML","menu.paste":"Вставити","menu.select-all":"Вибрати все","color.red":"Червоний","color.orange":"Помаранчевий","color.yellow":"Жовтий","color.lime":"Лайм","color.green":"Зелений","color.teal":"Бірюзовий","color.cyan":"Синьо-зелений","color.blue":"Синій","color.indigo":"Індиго","color.purple":"Фіолетовий","color.magenta":"Пурпурний","color.black":"Чорний","color.dark-grey":"Темно-сірий","color.grey":"Сірий","color.light-grey":"Світло-сірий","color.white":"Білий"},"zh-cn":{"keyboard.tooltip.symbols":"符号","keyboard.tooltip.greek":"希腊字母","keyboard.tooltip.numeric":"数字","keyboard.tooltip.alphabetic":"罗马字母","tooltip.copy to clipboard":"复制到剪贴板","tooltip.redo":"重做","tooltip.toggle virtual keyboard":"切换虚拟键盘","tooltip.undo":"撤消","menu.insert matrix":"插入矩阵","menu.borders":"矩阵分隔符","menu.array.add row above":"在后面添加行","menu.array.add row below":"在前面添加行","menu.array.add column after":"在后面添加列r","menu.array.add column before":"在前面添加列","menu.array.delete row":"删除行","menu.array.delete rows":"删除选定行","menu.array.delete column":"删除列","menu.array.delete columns":"删除选定的列","menu.mode":"模式","menu.mode-math":"数学","menu.mode-text":"文本","menu.mode-latex":"LaTeX","tooltip.blackboard":"黑板","tooltip.bold":"粗体","tooltip.italic":"斜体","tooltip.fraktur":"Fraktur","tooltip.script":"脚本","tooltip.caligraphic":"草书","tooltip.typewriter":"打字机","tooltip.roman-upright":"罗马直立","tooltip.row-by-col":"%@ × %@","menu.font-style":"字体样式","menu.accent":"重音","menu.decoration":"装饰","menu.color":"颜色","menu.background-color":"背景","menu.evaluate":"计算","menu.simplify":"简化","menu.solve":"求解","menu.solve-for":"求解 %@","menu.cut":"剪切","menu.copy":"复制","menu.copy-as-latex":"复制为 LaTeX","menu.copy-as-ascii-math":"复制为 ASCII Math","menu.copy-as-mathml":"复制为 MathML","menu.paste":"粘贴","menu.select-all":"全选","color.red":"红色","color.orange":"橙色","color.yellow":"黄色","color.lime":"绿黄色","color.green":"绿色","color.teal":"青色","color.cyan":"蓝绿色","color.blue":"蓝色","color.indigo":"靛蓝色","color.purple":"紫色","color.magenta":"洋红色","color.black":"黑色","color.dark-grey":"深灰色","color.grey":"灰色","color.light-grey":"浅灰色","color.white":"白色"},"zh-tw":{"keyboard.tooltip.symbols":"符號","keyboard.tooltip.greek":"希臘字母","keyboard.tooltip.numeric":"數字","keyboard.tooltip.alphabetic":"羅馬字母","tooltip.copy to clipboard":"複製到剪貼板","tooltip.redo":"重做","tooltip.toggle virtual keyboard":"切換虛擬鍵盤","tooltip.undo":"撤消","menu.insert matrix":"插入矩陣","menu.borders":"矩陣分隔符","menu.array.add row above":"在後面添加行","menu.array.add row below":"在前面添加行","menu.array.add column after":"在後面添加列","menu.array.add column before":"在前面添加列","menu.array.delete row":"刪除行","menu.array.delete rows":"刪除選定行","menu.array.delete column":"刪除列","menu.array.delete columns":"刪除選定的列","menu.mode":"模式","menu.mode-math":"數學","menu.mode-text":"文本","menu.mode-latex":"LaTeX","tooltip.blackboard":"黑板","tooltip.bold":"粗體","tooltip.italic":"斜體","tooltip.fraktur":"Fraktur","tooltip.script":"腳本","tooltip.caligraphic":"草書","tooltip.typewriter":"打字機","tooltip.roman-upright":"羅馬直立","tooltip.row-by-col":"%@ × %@","menu.font-style":"字體樣式","menu.accent":"重音","menu.decoration":"裝飾","menu.color":"顏色","menu.background-color":"背景","menu.evaluate":"計算","menu.simplify":"簡化","menu.solve":"求解","menu.solve-for":"求解 %@","menu.cut":"剪下","menu.copy":"複製","menu.copy-as-latex":"複製為 LaTeX","menu.copy-as-ascii-math":"複製為 ASCII Math","menu.copy-as-mathml":"複製為 MathML","menu.paste":"貼上","menu.select-all":"全選","color.red":"紅色","color.orange":"橙色","color.yellow":"黃色","color.lime":"綠黃色","color.green":"綠色","color.teal":"青色","color.cyan":"藍綠色","color.blue":"藍色","color.indigo":"靛藍色","color.purple":"紫色","color.magenta":"洋紅色","color.black":"黑色","color.dark-grey":"深灰色","color.grey":"灰色","color.light-grey":"淺灰色","color.white":"白色"}};function sa(){return"window"in globalThis&&"document"in globalThis}function bte(){return"matchMedia"in window?window.matchMedia("(pointer: coarse)").matches:"ontouchstart"in window||navigator.maxTouchPoints>0}function wDe(){try{return window.self!==window.top}catch{return!0}}function wte(){return typeof navigator.vibrate=="function"}function Mf(){var t,e;if(!sa())return"other";let r=(e=(t=navigator.userAgentData)==null?void 0:t.platform)!=null?e:navigator.platform;return/^mac/i.test(r)?navigator.maxTouchPoints===5?"ios":"macos":/^win/i.test(r)?"windows":/android/i.test(navigator.userAgent)?"android":/iphone|ipod|ipad/i.test(navigator.userAgent)?"ios":/\bcros\b/i.test(navigator.userAgent)?"chromeos":"other"}function CDe(){if(!sa())return!0;if(/firefox/i.test(navigator.userAgent)){let t=navigator.userAgent.match(/firefox\/(\d+)/i);return t?parseInt(t[1])>=78:!1}if(/trident/i.test(navigator.userAgent))return!1;if(/edge/i.test(navigator.userAgent)){let t=navigator.userAgent.match(/edg\/(\d+)/i);return t?parseInt(t[1])>=79:!1}return!0}function BU(){return HTMLElement.prototype.hasOwnProperty("popover")}var ot={strings:bDe,_locale:"",_dirty:!1,_subscribers:[],_numberFormatter:void 0,get locale(){return ot._locale||(ot._locale=sa()?navigator.language.slice(0,5):"en-US"),ot._locale},set locale(t){ot._locale=t,ot._numberFormatter=void 0,ot.dirty=!0},get numberFormatter(){if(!ot._numberFormatter)try{ot._numberFormatter=new Intl.NumberFormat(ot.locale)}catch{try{ot._numberFormatter=new Intl.NumberFormat(ot.locale.slice(0,2))}catch{ot._numberFormatter=new Intl.NumberFormat("en-US")}}return ot._numberFormatter},merge(t,e){if(typeof t=="string"&&e)ot.strings[t]=P(P({},ot.strings[t]),e),ot.dirty=!0;else for(let r of Object.keys(t))ot.merge(r,t[r])},get dirty(){return ot._dirty},set dirty(t){ot._dirty||ot._dirty===t||(ot._dirty=!0,setTimeout(()=>{ot._dirty=!1,this._subscribers.forEach(e=>e==null?void 0:e())},0))},subscribe(t){return ot._subscribers.push(t),ot._subscribers.length-1},unsubscribe(t){t<0||t>=ot._subscribers.length||(ot._subscribers[t]=void 0)},update(t){let e=t.querySelectorAll("[data-l10n-tooltip]");for(let r of e){let n=r.getAttribute("data-l10n-tooltip");if(n){let i=rt(n);i&&r.setAttribute("data-tooltip",i)}}e=t.querySelectorAll("[data-l10n-arial-label]");for(let r of e){let n=r.getAttribute("data-l10n-arial-label");if(n){let i=rt(n);i&&r.setAttribute("aria-label",i)}}}};function rt(t,...e){if(t===void 0)return;let r="",n=ot.locale;ot.strings[n]&&(r=ot.strings[n][t]);let i=n.slice(0,2);if(!r&&ot.strings[i]&&(r=ot.strings[i][t]),r||(r=ot.strings.en[t]),!r)return;let s=/(%@|%([0-9]+)\$@)/g,a=s.exec(r),o=0;for(;a;){if(e[o++]){let l=a[2]?parseInt(a[2],10)-1:o-1,c=e[l];typeof c=="number"&&(c=ot.numberFormatter.format(c)),r=r.replace(a[1],c)}a=s.exec(r)}return r=r.replace(/%%/g,"%"),r}var BDe={m0:"#3F3D99",m1:"#993D71",m2:"#998B3D",m3:"#3D9956",m4:"#3D5A99",m5:"#993D90",m6:"#996D3D",m7:"#43993D",m8:"#3D7999",m9:"#843D99"},SDe={blue:"#0072BD",orange:"#D95319",yellow:"#EDB120",purple:"#7E2F8E",green:"#77AC30",cyan:"#4DBEEE",red:"#A2142F"},i0={red:"#fbbbb6",orange:"#ffe0c2",yellow:"#fff1c2",lime:"#d0e8b9",green:"#bceac4",teal:"#b9f1f1",cyan:"#b8e5c9",blue:"#b6d9fb",indigo:"#d1c2f0",purple:"#e3baf8",magenta:"#f9c8e0",black:"#353535","dark-grey":"#8C8C8C",grey:"#D0D0D0","light-grey":"#F0F0F0",white:"#ffffff"},s0={red:"#d7170b",orange:"#fe8a2b",yellow:"#ffc02b",lime:"#63b215",green:"#21ba3a",teal:"#17cfcf",cyan:"#13a7ec",blue:"#0d80f2",indigo:"#63c",purple:"#a219e6",magenta:"#eb4799",black:"#000","dark-grey":"#666",grey:"#A6A6A6","light-grey":"#d4d5d2",white:"#ffffff"},Cte={Red:"red",Orange:"orange",Yellow:"yellow",LimeGreen:"lime",Green:"green",TealBlue:"teal",Blue:"blue",Violet:"indigo",Purple:"purple",Magenta:"magenta",Black:"black",Gray:"grey",White:"white"},_De={Apricot:"#FBB982",Aquamarine:"#00B5BE",Bittersweet:"#C04F17",Black:"#221E1F",Blue:"#2D2F92",BlueGreen:"#00B3B8",BlueViolet:"#473992",BrickRed:"#B6321C",Brown:"#792500",BurntOrange:"#F7921D",CadetBlue:"#74729A",CarnationPink:"#F282B4",Cerulean:"#00A2E3",CornflowerBlue:"#41B0E4",Cyan:"#00AEEF",Dandelion:"#FDBC42",DarkOrchid:"#A4538A",Emerald:"#00A99D",ForestGreen:"#009B55",Fuchsia:"#8C368C",Goldenrod:"#FFDF42",Gray:"#949698",Green:"#00A64F",GreenYellow:"#DFE674",JungleGreen:"#00A99A",Lavender:"#F49EC4",Limegreen:"#8DC73E",Magenta:"#EC008C",Mahogany:"#A9341F",Maroon:"#AF3235",Melon:"#F89E7B",MidnightBlue:"#006795",Mulberry:"#A93C93",NavyBlue:"#006EB8",OliveGreen:"#3C8031",Orange:"#F58137",OrangeRed:"#ED135A",Orchid:"#AF72B0",Peach:"#F7965A",Periwinkle:"#7977B8",PineGreen:"#008B72",Plum:"#92268F",ProcessBlue:"#00B0F0",Purple:"#99479B",RawSienna:"#974006",Red:"#ED1B23",RedOrange:"#F26035",RedViolet:"#A1246B",Rhodamine:"#EF559F",RoyalBlue:"#0071BC",RoyalPurple:"#613F99",RubineRed:"#ED017D",Salmon:"#F69289",SeaGreen:"#3FBC9D",Sepia:"#671800",SkyBlue:"#46C5DD",SpringGreen:"#C6DC67",Tan:"#DA9D76",TealBlue:"#00AEB3",Thistle:"#D883B7",Turquoise:"#00B4CE",Violet:"#58429B",VioletRed:"#EF58A0",White:"#FFFFFF",WildStrawberry:"#EE2967",Yellow:"#FFF200",YellowGreen:"#98CC70",YellowOrange:"#FAA21A"};function w5(t){var e,r,n,i,s,a;let o=t.split("!"),l,c,u,d=255,A=255,f=255,p=-1,m=o.length>0&&o[0].startsWith("-");m&&(o[0]=o[0].slice(1));for(let v=0;v<o.length;v++){l=d,c=A,u=f;let g=(e=o[v].trim().match(/^([A-Za-z\d-]+)/))==null?void 0:e[1],y=g==null?void 0:g.toLowerCase(),x=g&&(a=(s=(i=(n=(r=s0[y])!=null?r:s0[Cte[g]])!=null?n:SDe[g])!=null?i:_De[g])!=null?s:BDe[g])!=null?a:o[v].trim(),b=x.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);if(b!=null&&b[1]&&b[2]&&b[3])d=Math.max(0,Math.min(255,Number.parseInt(b[1],16))),A=Math.max(0,Math.min(255,Number.parseInt(b[2],16))),f=Math.max(0,Math.min(255,Number.parseInt(b[3],16)));else if(b=x.match(/^#([\da-f]{3})$/i),b!=null&&b[1]){let w=Number.parseInt(b[1][0],16),C=Number.parseInt(b[1][1],16),B=Number.parseInt(b[1][2],16);d=Math.max(0,Math.min(255,w*16+w)),A=Math.max(0,Math.min(255,C*16+C)),f=Math.max(0,Math.min(255,B*16+B))}else if(b=x.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),b!=null&&b[1]&&b[2]&&b[3])d=Math.max(0,Math.min(255,Number.parseInt(b[1]))),A=Math.max(0,Math.min(255,Number.parseInt(b[2]))),f=Math.max(0,Math.min(255,Number.parseInt(b[3])));else return;p>=0&&(d=(1-p)*d+p*l,A=(1-p)*A+p*c,f=(1-p)*f+p*u,p=-1),v+1<o.length&&(p=Math.max(0,Math.min(100,Number.parseInt(o[++v])))/100)}return p>=0&&(d=p*d+(1-p)*l,A=p*A+(1-p)*c,f=p*f+(1-p)*u),m&&(d=255-d,A=255-A,f=255-f),"#"+("00"+Math.round(d).toString(16)).slice(-2)+("00"+Math.round(A).toString(16)).slice(-2)+("00"+Math.round(f).toString(16)).slice(-2)}function OF(t){var e,r;return t=t.trim(),(r=(e=i0[t.toLowerCase()])!=null?e:i0[Cte[t]])!=null?r:w5(t)}function kDe(t){if(!t||t[0]!=="#")return;t=t.slice(1);let e;return t.length<=4?(e={r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16)},t.length===4&&(e.a=parseInt(t[3]+t[3],16)/255)):(e={r:parseInt(t[0]+t[1],16),g:parseInt(t[2]+t[3],16),b:parseInt(t[4]+t[5],16)},t.length===8&&(e.a=parseInt(t[6]+t[7],16)/255)),e&&e.a===void 0&&(e.a=1),e}function A7(t,e,r){return r<0&&(r+=6),r>=6&&(r-=6),r<1?(e-t)*r+t:r<3?e:r<4?(e-t)*(4-r)+t:t}function EDe(t){let[e,r,n]=[t.h,t.s,t.l];e=(e+360)%360/60,n=Math.max(0,Math.min(n,1)),r=Math.max(0,Math.min(r,1));let i=n<=.5?n*(r+1):n+r-n*r,s=n*2-i;return{r:Math.round(255*A7(s,i,e+2)),g:Math.round(255*A7(s,i,e)),b:Math.round(255*A7(s,i,e-2))}}function f7(t){return t<0?0:t>255?255:Math.round(t)}function MDe(t){let{r:e,g:r,b:n}=t,i=((1<<24)+(f7(e)<<16)+(f7(r)<<8)+f7(n)).toString(16).slice(1);return i[0]===i[1]&&i[2]===i[3]&&i[4]===i[5]&&i[6]===i[7]&&(i=i[0]+i[2]+i[4]),"#"+i}function FDe(t){let{r:e,g:r,b:n}=t;e=e/255,r=r/255,n=n/255;let i=Math.min(e,r,n),s=Math.max(e,r,n),a=s-i,o,l;s===i?o=0:e===s?o=(r-n)/a:r===s?o=2+(n-e)/a:n===s&&(o=4+(e-r)/a),o=Math.min(o*60,360),o<0&&(o+=360);let c=(i+s)/2;return s===i?l=0:c<=.5?l=a/(s+i):l=a/(2-s-i),{h:o,s:l,l:c}}function TDe(t){let e=kDe(t);if(!e)return t;let{h:r,s:n,l:i}=FDe(e);return n+=.1,i-=.1,MDe(EDe({h:r,s:n,l:i}))}var Bte={60:"\\lt",62:"\\gt",111:"o",38:"\\&",123:"\\lbrace",125:"\\rbrace",91:"\\lbrack",93:"\\rbrack",58:"\\colon",160:"~",172:"\\neg",183:"\\cdot",188:"\\frac{1}{4}",189:"\\frac{1}{2}",190:"\\frac{3}{4}",8304:"^{0}",8305:"^{i}",185:"^{1}",178:"^{2}",179:"^{3}",8224:"\\dagger",8225:"\\ddagger",8230:"\\ldots",8308:"^{4}",8309:"^{5}",8310:"^{6}",8311:"^{7}",8312:"^{8}",8313:"^{9}",8314:"^{+}",8315:"^{-}",8316:"^{=}",8319:"^{n}",8320:"_{0}",8321:"_{1}",8322:"_{2}",8323:"_{3}",8324:"_{4}",8325:"_{5}",8326:"_{6}",8327:"_{7}",8328:"_{8}",8329:"_{9}",8330:"_{+}",8331:"_{-}",8332:"_{=}",8336:"_{a}",8337:"_{e}",8338:"_{o}",8339:"_{x}",8242:"\\prime",39:"\\prime",8592:"\\gets",8594:"\\to",9651:"\\triangle",9661:"\\triangledown",8715:"\\owns",8727:"\\ast",8739:"\\vert",8741:"\\Vert",8743:"\\land",8744:"\\lor",8901:"\\cdot",8904:"\\bowtie",8800:"\\ne",8804:"\\le",8805:"\\ge",8869:"\\bot",10178:"\\perp",10231:"\\biconditional",10232:"\\impliedby",10233:"\\implies",10234:"\\iff",8450:"\\mathbb{C}",8469:"\\mathbb{N}",8473:"\\mathbb{P}",8474:"\\mathbb{Q}",8477:"\\mathbb{R}",8484:"\\mathbb{Z}",8461:"\\mathbb{H}",8476:"\\Re",8465:"\\Im",42:"\\ast",11036:"\\square",9633:"\\square",8720:"\\coprod",8716:"\\not\\ni",9671:"\\diamond",8846:"\\uplus",8851:"\\sqcap",8852:"\\sqcup",8768:"\\wr",8750:"\\oint",8226:"\\textbullet",8722:"-",978:"\\Upsilon"},NS={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},Ste=[{start:119808,len:26,offset:65,style:"bold"},{start:119834,len:26,offset:97,style:"bold"},{start:120488,len:25,offset:913,style:"bold"},{start:120514,len:25,offset:945,style:"bold"},{start:119860,len:26,offset:65,style:"italic"},{start:119886,len:26,offset:97,style:"italic"},{start:120546,len:25,offset:913,style:"italic"},{start:120572,len:25,offset:945,style:"italic"},{start:119912,len:26,offset:65,style:"bolditalic"},{start:119938,len:26,offset:97,style:"bolditalic"},{start:120604,len:25,offset:913,style:"bolditalic"},{start:120630,len:25,offset:945,style:"bolditalic"},{start:120782,len:10,offset:48,variant:"main",style:"bold"},{start:119964,len:26,offset:65,variant:"script"},{start:119990,len:26,offset:97,variant:"script"},{start:120016,len:26,offset:65,variant:"script",style:"bold"},{start:120042,len:26,offset:97,variant:"script",style:"bold"},{start:120068,len:26,offset:65,variant:"fraktur"},{start:120094,len:26,offset:97,variant:"fraktur"},{start:120172,len:26,offset:65,variant:"fraktur",style:"bold"},{start:120198,len:26,offset:97,variant:"fraktur",style:"bold"},{start:120120,len:26,offset:65,variant:"double-struck"},{start:120146,len:26,offset:97,variant:"double-struck"},{start:120792,len:10,offset:48,variant:"double-struck"},{start:120432,len:26,offset:65,variant:"monospace"},{start:120458,len:26,offset:97,variant:"monospace"},{start:120822,len:10,offset:48,variant:"monospace"},{start:120224,len:26,offset:65,variant:"sans-serif"},{start:120250,len:26,offset:97,variant:"sans-serif"},{start:120276,len:26,offset:65,variant:"sans-serif",style:"bold"},{start:120302,len:26,offset:97,variant:"sans-serif",style:"bold"},{start:120328,len:26,offset:65,variant:"sans-serif",style:"italic"},{start:120354,len:26,offset:97,variant:"sans-serif",style:"italic"},{start:120380,len:26,offset:65,variant:"sans-serif",style:"bolditalic"},{start:120406,len:26,offset:97,variant:"sans-serif",style:"bolditalic"},{start:120662,len:25,offset:913,variant:"sans-serif",style:"bold"},{start:120688,len:25,offset:945,variant:"sans-serif",style:"bold"},{start:120720,len:25,offset:913,variant:"sans-serif",style:"bolditalic"},{start:120746,len:25,offset:945,variant:"sans-serif",style:"bolditalic"},{start:120803,len:10,offset:48,variant:"sans-serif"},{start:120812,len:10,offset:48,variant:"sans-serif",style:"bold"}];function jS(t,e,r){if(!/[A-Za-z\d]/.test(t)||(r==="up"&&(r=void 0),!e&&!r))return;let n=t.codePointAt(0);if(n===void 0)return t;for(let i of Ste)if((!e||i.variant===e)&&(!r||i.style===r)&&n>=i.offset&&n<i.offset+i.len){let s=i.start+n-i.offset;return String.fromCodePoint(NS[s]||s)}}function DDe(t){var e;if((t<119808||t>120831)&&(t<8448||t>8527))return{char:String.fromCodePoint(t)};for(let r in NS)if(NS[r]===t){t=(e=r.codePointAt(0))!=null?e:0;break}for(let r of Ste)if(t>=r.start&&t<r.start+r.len)return{char:String.fromCodePoint(t-r.start+r.offset),variant:r.variant,style:r.style};return{char:String.fromCodePoint(t)}}function LDe(t){var e;if("{}<>[]$&*#^_%:'˜".includes(t)||t.length>1)return;let r=(e=t.codePointAt(0))!=null?e:0,n=Bte[r];if(n)return n;let{char:i,variant:s,style:a}=DDe(r);if(!(!s&&!a)){switch(n=i,s){case"double-struck":n=`\\mathbb{${n}}`;break;case"fraktur":n=`\\mathfrak{${n}}`;break;case"script":n=`\\mathscr{${n}}`;break;case"sans-serif":n=`\\mathsf{${n}}`;break;case"monospace":n=`\\mathtt{${n}}`;break;case"calligraphic":n=`\\mathcal{${n}}`;break}switch(a){case"bold":n=`\\mathbf{${n}}`;break;case"italic":n=`\\mathit{${n}}`;break;case"bolditalic":n=`\\mathbfit{${n}}`;break}return n}}function Ee(t){return t?Array.isArray(t)?t:typeof t=="object"&&"group"in t?t.group:[]:[]}var e1={},v3=P({},Bte),_A={},PF={},NDe={darr:"\\downarrow",dArr:"\\Downarrow",Darr:"\\Downarrow",lang:"\\langle",rang:"\\rangle",uarr:"\\uparrow",uArr:"\\Uparrow",Uarr:"\\Uparrow",C:"\\mathbb{C}",H:"\\mathbb{H}",N:"\\mathbb{N}",Q:"\\mathbb{Q}",R:"\\mathbb{R}",Z:"\\mathbb{Z}",alef:"\\aleph",alefsym:"\\aleph",Alpha:"\\mathrm{A}",Beta:"\\mathrm{B}",bull:"\\bullet",Chi:"\\mathrm{X}",clubs:"\\clubsuit",cnums:"\\mathbb{C}",Complex:"\\mathbb{C}",Dagger:"\\ddagger",diamonds:"\\diamondsuit",doublecap:"\\Cap",doublecup:"\\Cup",empty:"\\emptyset",Epsilon:"\\mathrm{E}",Eta:"\\mathrm{H}",exist:"\\exists",hAar:"\\Leftrightarrow",harr:"\\leftrightarrow",Harr:"\\Leftrightarrow",hearts:"\\heartsuit",image:"\\Im",infin:"\\infty",Iota:"\\mathrm{I}",isin:"\\in",Kappa:"\\mathrm{K}",larr:"\\leftarrow",Larr:"\\Leftarrow",lArr:"\\Leftarrow",lrarr:"\\leftrightarrow",Lrarr:"\\Leftrightarrow",lrArr:"\\Leftrightarrow",Mu:"\\mathrm{M}",natnums:"\\mathbb{N}",Nu:"\\mathrm{N}",Omicron:"\\mathrm{O}",part:"\\partial",plusmn:"\\pm",rarr:"\\rightarrow",Rarr:"\\Rightarrow",rArr:"\\Rightarrow",real:"\\Re",reals:"\\mathbb{R}",Reals:"\\mathbb{R}",restriction:"\\upharpoonright",Rho:"\\mathrm{P}",sdot:"\\cdot",sect:"\\S",spades:"\\spadesuit",sub:"\\subset",sube:"\\subseteq",supe:"\\supseteq",Tau:"\\mathrm{T}",thetasym:"\\vartheta",varcoppa:"\\coppa",weierp:"\\wp",Zeta:"\\mathrm{Z}"},jDe={varGamma:"\\mathit{\\Gamma}",varDelta:"\\mathit{\\Delta}",varTheta:"\\mathit{\\Theta}",varLambda:"\\mathit{\\Lambda}",varXi:"\\mathit{\\Xi}",varPi:"\\mathit{\\Pi}",varSigma:"\\mathit{\\Sigma}",varUpsilon:"\\mathit{\\Upsilon}",varPhi:"\\mathit{\\Phi}",varPsi:"\\mathit{\\Psi}",varOmega:"\\mathit{\\Omega}",pmod:{def:"\\quad(\\operatorname{mod}\\ #1)",args:1,expand:!1,captureSelection:!1},mod:{def:"\\quad\\operatorname{mod}\\,\\,#1",args:1,expand:!1},bmod:{def:"\\;\\mathbin{\\operatorname{mod }}",expand:!1}},IDe={bra:{def:"\\mathinner{\\langle{#1}|}",args:1,captureSelection:!1},ket:{def:"\\mathinner{|{#1}\\rangle}",args:1,captureSelection:!1},braket:{def:"\\mathinner{\\langle{#1}\\rangle}",args:1,captureSelection:!1},set:{def:"\\mathinner{\\lbrace #1 \\rbrace}",args:1,captureSelection:!1},Bra:{def:"\\left\\langle #1\\right|",args:1,captureSelection:!1},Ket:{def:"\\left|#1\\right\\rangle",args:1,captureSelection:!1},Braket:{def:"\\left\\langle{#1}\\right\\rangle",args:1,captureSelection:!1},Set:{def:"\\left\\lbrace #1 \\right\\rbrace",args:1,captureSelection:!1}},ODe={iff:{primitive:!0,captureSelection:!0,def:"\\;\\Longleftrightarrow\\;}"},nicefrac:"^{#1}\\!\\!/\\!_{#2}",phase:{def:"\\enclose{phasorangle}{#1}",args:1,captureSelection:!1},rd:"\\mathrm{d}",rD:"\\mathrm{D}",doubleStruckCapitalN:"\\mathbb{N}",doubleStruckCapitalR:"\\mathbb{R}",doubleStruckCapitalQ:"\\mathbb{Q}",doubleStruckCapitalZ:"\\mathbb{Z}",doubleStruckCapitalP:"\\mathbb{P}",scriptCapitalE:"\\mathscr{E}",scriptCapitalH:"\\mathscr{H}",scriptCapitalL:"\\mathscr{L}",gothicCapitalC:"\\mathfrak{C}",gothicCapitalH:"\\mathfrak{H}",gothicCapitalI:"\\mathfrak{I}",gothicCapitalR:"\\mathfrak{R}",imaginaryI:"\\mathrm{i}",imaginaryJ:"\\mathrm{j}",exponentialE:"\\mathrm{e}",differentialD:"\\mathrm{d}",capitalDifferentialD:"\\mathrm{D}",mathstrut:{def:"\\vphantom{(}",primitive:!0},angl:"\\enclose{actuarial}{#1}",angln:"\\enclose{actuarial}{n}",anglr:"\\enclose{actuarial}{r}",anglk:"\\enclose{actuarial}{k}",mathtools:{primitive:!0,package:{ordinarycolon:":",vcentcolon:"\\mathrel{\\mathop\\ordinarycolon}",dblcolon:'{\\mathop{\\char"2237}}',coloneqq:'{\\mathop{\\char"2254}}',Coloneqq:'{\\mathop{\\char"2a74}}',coloneq:'{\\mathop{\\char"2254}}',Coloneq:'{\\mathop{\\char"2A74}}',eqqcolon:'{\\mathop{\\char"2255}}',Eqqcolon:'{\\mathop{\\char"3D\\char"2237}}',eqcolon:'{\\mathop{\\char"2255}}',Eqcolon:'{\\mathop{\\char"3D\\char"2237}}',colonapprox:'{\\mathop{\\char"003A\\char"2248}}',Colonapprox:'{\\mathop{\\char"2237\\char"2248}}',colonsim:'{\\mathop{\\char"3A\\char"223C}}',Colonsim:'{\\mathop{\\char"2237\\char"223C}}',colondash:"\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}",Colondash:"\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}",dashcolon:"\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Dashcolon:"\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}"}},ratio:"\\vcentcolon",coloncolon:"\\dblcolon",colonequals:"\\coloneq",coloncolonequals:"\\Coloneq",equalscolon:"\\eqcolon",equalscoloncolon:"\\Eqcolon",colonminus:"\\colondash",coloncolonminus:"\\Colondash",minuscolon:"\\dashcolon",minuscoloncolon:"\\Dashcolon",coloncolonapprox:"\\Colonapprox",coloncolonsim:"\\Colonsim",simcolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Simcolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}",simcoloncolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}",approxcolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Approxcolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}",approxcoloncolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}",notni:"\\mathrel{\\char`∌}",limsup:"\\operatorname*{lim\\,sup}",liminf:"\\operatorname*{lim\\,inf}",injlim:"\\operatorname*{inj\\,lim}",projlim:"\\operatorname*{proj\\,lim}",varlimsup:"\\operatorname*{\\overline{lim}}",varliminf:"\\operatorname*{\\underline{lim}}",varinjlim:"\\operatorname*{\\underrightarrow{lim}}",varprojlim:"\\operatorname*{\\underleftarrow{lim}}",argmin:"\\operatorname*{arg\\,min}",argmax:"\\operatorname*{arg\\,max}",plim:"\\mathop{\\operatorname{plim}}\\limits",tripledash:{def:"\\vphantom{-}\\raise{4mu}{\\mkern1.5mu\\rule{2mu}{1.5mu}\\mkern{2.25mu}\\rule{2mu}{1.5mu}\\mkern{2.25mu}\\rule{2mu}{1.5mu}\\mkern{2mu}}",expand:!0},"braket.sty":{package:IDe},"amsmath.sty":{package:jDe,primitive:!0},"texvc.sty":{package:NDe,primitive:!1}},tA={" ":32,"\\!":33,"\\#":35,"\\$":36,"\\%":37,"\\&":38,"\\_":95,"-":45,"\\textunderscore":95,"\\euro":8364,"\\maltese":10016,"\\{":123,"\\}":125,"\\textbraceleft":123,"\\textbraceright":125,"\\lbrace":123,"\\rbrace":125,"\\lbrack":91,"\\rbrack":93,"\\nobreakspace":160,"\\ldots":8230,"\\textellipsis":8230,"\\backslash":92,"`":8216,"'":8217,"``":8220,"''":8221,"\\degree":176,"\\textasciicircum":94,"\\textasciitilde":126,"\\textasteriskcentered":42,"\\textbackslash":92,"\\textbullet":8226,"\\textdollar":36,"\\textsterling":163,"\\textdagger":8224,"\\textdaggerdbl":8225,"–":8211,"—":8212,"‘":8216,"’":8217,"“":8220,"”":8221,'"':8221,"\\ss":223,"\\ae":230,"\\oe":339,"\\AE":198,"\\OE":338,"\\O":216,"\\i":305,"\\j":567,"\\aa":229,"\\AA":197},PDe=/[\w!@*()-=+{}\[\]\\';:?/.,~<>`|$%#&^" ]/,IS,t1;CDe()?(IS=new RegExp("\\p{Letter}","u"),t1=new RegExp("[0-9\\p{Letter}]","u")):(IS=/[a-zA-ZаАбБвВгГдДеЕёЁжЖзЗиИйЙкКлЛмМнНоОпПрРсСтТуУфФхХцЦчЧшШщЩъЪыЫьЬэЭюЮяĄąĆćĘęŁłŃńÓóŚśŹźŻżàâäôéèëêïîçùûüÿæœÀÂÄÔÉÈËÊÏÎŸÇÙÛÜÆŒößÖẞìíòúÌÍÒÚáñÁÑ]/,t1=/[\da-zA-ZаАбБвВгГдДеЕёЁжЖзЗиИйЙкКлЛмМнНоОпПрРсСтТуУфФхХцЦчЧшШщЩъЪыЫьЬэЭюЮяĄąĆćĘęŁłŃńÓóŚśŹźŻżàâäôéèëêïîçùûüÿæœÀÂÄÔÉÈËÊÏÎŸÇÙÛÜÆŒößÖẞìíòúÌÍÒÚáñÁÑ]/);function OS(t,e,r="mord",n){e!==void 0&&(e1[t]={definitionType:"symbol",type:r,variant:n,codepoint:e},v3[e]||(v3[e]=t))}function gn(t,e,r){if(typeof t=="string"){for(let n=0;n<t.length;n++){let i=t.charAt(n);OS(i,i.codePointAt(0))}return}for(let[n,i,s,a]of t)OS(n,i,s??e,a??r)}function _te(t,e){for(let r=t;r<=e;r++)OS(String.fromCodePoint(r),r)}function UDe(t){var e;return(e=PF[t])!=null?e:null}function RDe(t,e){var r,n;if(e.length===0||e==="\\"||!e.startsWith("\\"))return[];let i=[];for(let a in _A)a.startsWith(e)&&!_A[a].infix&&i.push({match:a,frequency:(r=_A[a].frequency)!=null?r:0});for(let a in e1)a.startsWith(e)&&i.push({match:a,frequency:(n=e1[a].frequency)!=null?n:0});let s=e.substring(1);for(let a of Object.keys(t.options.macros))a.startsWith(s)&&i.push({match:"\\"+a,frequency:0});return i.sort((a,o)=>{var l,c;return a.frequency===o.frequency?a.match.length===o.match.length?a.match<o.match?-1:1:a.match.length-o.match.length:((l=o.frequency)!=null?l:0)-((c=a.frequency)!=null?c:0)}),i.map(a=>a.match)}function SU(t){let e="auto",r=t.match(/:([^=]+)/);return r&&(e=r[1].trim()),e}function x3(t){if(!t)return[];let e=[],r=t.split("]");if(r[0].startsWith("[")){e.push({isOptional:!0,type:SU(r[0].slice(1))});for(let n=1;n<=r.length;n++)e.push(...x3(r[n]))}else if(r=t.split("}"),r[0].startsWith("{")){e.push({isOptional:!1,type:SU(r[0].slice(1))});for(let n=1;n<=r.length;n++)e.push(...x3(r[n]))}return e}function kte(t){if(!t)return"";let e="",r=!0;for(let n of t)typeof n.value=="string"?e+=n.value:r=!1;return r?e:""}function ec(t,e,r){typeof t=="string"&&(t=[t]);let n={tabular:!0,rootOnly:!1,params:x3(e),createAtom:r};for(let i of t)PF[i]=n}function UF(t,e,r){var n;typeof t=="string"&&(t=[t]);let i={tabular:(n=r==null?void 0:r.tabular)!=null?n:!1,rootOnly:!0,params:[],createAtom:e};for(let s of t)PF[s]=i}function de(t,e,r){var n,i;r||(r={});let s={definitionType:"function",params:x3(e),ifMode:r.ifMode,isFunction:(n=r.isFunction)!=null?n:!1,applyMode:r.applyMode,infix:(i=r.infix)!=null?i:!1,parse:r.parse,createAtom:r.createAtom,applyStyle:r.applyStyle,serialize:r.serialize,render:r.render};if(typeof t=="string")_A["\\"+t]=s;else for(let a of t)_A["\\"+a]=s}var Ny;function RF(t){return Ny||(Ny=PS(ODe)),t?PS(P(P({},Ny),t)):Ny}function _U(t,e){var r,n,i,s;if(typeof t=="string"){let a=0,o=t;return/(^|[^\\])#1/.test(o)&&(a=1),/(^|[^\\])#2/.test(o)&&(a=2),/(^|[^\\])#3/.test(o)&&(a=3),/(^|[^\\])#4/.test(o)&&(a=4),/(^|[^\\])#5/.test(o)&&(a=5),/(^|[^\\])#6/.test(o)&&(a=6),/(^|[^\\])#7/.test(o)&&(a=7),/(^|[^\\])#8/.test(o)&&(a=8),/(^|[^\\])#9/.test(o)&&(a=9),{expand:(r=e==null?void 0:e.expand)!=null?r:!0,captureSelection:(n=e==null?void 0:e.captureSelection)!=null?n:!0,args:a,def:o}}return P({expand:(i=e==null?void 0:e.expand)!=null?i:!0,captureSelection:(s=e==null?void 0:e.captureSelection)!=null?s:!0,args:0},t)}function PS(t){if(!t)return{};let e={};for(let r of Object.keys(t)){let n=t[r];if(n==null)delete e[r];else if(typeof n=="object"&&"package"in n)for(let i of Object.keys(n.package))e[i]=_U(n.package[i],{expand:!n.primitive,captureSelection:n.captureSelection});else e[r]=_U(n)}return e}function Ln(t,e="math"){if(!t||t.length===0)return null;let r=null;if(t.startsWith("\\")){if(r=_A[t],r)return!r.ifMode||r.ifMode===e?r:null;e==="math"?r=e1[t]:tA[t]&&(r={definitionType:"symbol",type:"mord",codepoint:tA[t]})}else if(e==="math"){if(r=e1[t],!r&&t.length===1){let n=Mte("math",t.codePointAt(0));return n.startsWith("\\")?G(P({},Ln(n,"math")),{command:n}):null}}else tA[t]?r={definitionType:"symbol",type:"mord",codepoint:tA[t]}:e==="text"&&(r={definitionType:"symbol",type:"mord",codepoint:t.codePointAt(0)});return r??null}function Ete(t,e){if(!t.startsWith("\\"))return null;let r=t.slice(1);return e[r]}function Mte(t,e){return e===void 0?"":t==="math"&&v3[e]?v3[e]:t==="text"&&Object.keys(tA).find(n=>tA[n]===e)||String.fromCodePoint(e)}var Ds=[0,.68889,0,0,.72222],sd=[0,.68889,0,0,.66667],p7=[0,.68889,0,0,.77778],jy=[0,.68889,0,0,.61111],kU=[.16667,.68889,0,0,.77778],cp=[0,.68889,0,0,.55556],_t=[0,0,0,0,.25],EU=[0,.825,0,0,2.33334],MU=[0,.9,0,0,2.33334],Iy=[0,.68889,0,0,.54028],m7=[-.03598,.46402,0,0,.5],Qn=[-.13313,.36687,0,0,1],Oy=[.01354,.52239,0,0,1],FU=[.01354,.52239,0,0,1.11111],TU=[0,.54986,0,0,1],Py=[0,.69224,0,0,.5],g7=[0,.43056,0,0,1],uc=[.08198,.58198,0,0,.77778],Uy=[.19444,.69224,0,0,.41667],Ry=[.1808,.675,0,0,1],DU=[.19444,.69224,0,0,.83334],LU=[.13667,.63667,0,0,1],NU=[-.064,.437,0,0,1.334],dc=[.08167,.58167,0,0,.77778],up=[0,.69224,0,0,.72222],y7=[0,.69224,0,0,.66667],Qy=[-.13313,.36687,0,0,.77778],jU=[.06062,.54986,0,0,.77778],zy=[0,.69224,0,0,.77778],nh=[.25583,.75583,0,0,.77778],Va=[.25142,.75726,0,0,.77778],ih=[.20576,.70576,0,0,.77778],ua=[.30274,.79383,0,0,.77778],dp=[.22958,.72958,0,0,.77778],IU=[.1808,.675,0,0,.77778],Ka=[.13667,.63667,0,0,.77778],Bi=[.13597,.63597,0,0,.77778],hc=[.03517,.54986,0,0,.77778],sh=[0,.675,0,0,.77778],OU=[.19444,.69224,0,0,.61111],PU=[0,.54986,0,0,.76042],UU=[0,.54986,0,0,.66667],Ac=[.0391,.5391,0,0,.77778],RU=[.03517,.54986,0,0,1.33334],QU=[.38569,.88569,0,0,.77778],Hy=[.23222,.74111,0,0,.77778],zU=[.19444,.69224,0,0,.77778],HU=[0,.37788,0,0,.5],$y=[0,.54986,0,0,.72222],$U=[0,.69224,0,0,.83334],VU=[.11111,.69224,0,0,.66667],ah=[.26167,.75726,0,0,.77778],KU=[.48256,.98256,0,0,.77778],qU=[.28481,.79383,0,0,.77778],WU=[.08167,.58167,0,0,.22222],GU=[.08167,.58167,0,0,.38889],XU=[0,.43056,.04028,0,.66667],YU=[.41951,.91951,0,0,.77778],JU=[.24982,.74947,0,0,.38865],ZU=[.08319,.58283,0,0,.75623],eR=[0,.10803,0,0,.27764],v7=[0,.47534,0,0,.50181],hp=[.18906,.47534,0,0,.50181],tR=[0,.69141,0,0,.50181],rR=[.24982,.74947,0,0,.27764],x7=[0,.69141,0,0,.21471],Vy=[.25,.75,0,0,.44722],Ls=[0,.64444,0,0,.575],oh=[.08556,.58556,0,0,.89444],Ky=[0,.69444,0,0,.89444],qy=[0,.68611,0,0,.9],b7=[0,.68611,0,0,.86944],fc=[.25,.75,0,0,.575],Wy=[.25,.75,0,0,.31944],ad=[0,.69444,0,0,.63889],lh=[0,.69444,0,0,.31944],nR=[0,.44444,0,0,.63889],iR=[0,.44444,0,0,.51111],pc=[0,.69444,0,0,.575],da=[.13333,.63333,0,0,.89444],sR=[0,.44444,0,0,.31944],aR=[0,.69444,0,0,.86944],oR=[0,.68611,0,0,.69166],Gy=[0,.68611,0,0,.83055],w7=[0,.68611,0,0,.89444],C7=[0,.69444,0,0,.60278],lR=[.19444,.69444,0,0,.51111],cR=[0,.69444,0,0,.83055],qa=[-.10889,.39111,0,0,1.14999],uR=[.19444,.69444,0,0,.575],Ap=[.19444,.69444,0,0,1.14999],dR=[.19444,.69444,0,0,.70277],hR=[.05556,.75,0,0,.575],B7=[0,.68611,0,0,.95833],AR=[.08556,.58556,0,0,.76666],S7=[-.02639,.47361,0,0,.575],fR=[0,.44444,0,0,.89444],od=[0,.55556,0,0,.76666],pR=[-.10889,.39111,0,0,.89444],_7=[.00222,.50222,0,0,.89444],mc=[.19667,.69667,0,0,.89444],mR=[.08556,.58556,0,0,1.14999],k7=[0,.69444,0,0,.70277],Xy=[-.02778,.47222,0,0,.575],Yy=[.25,.75,0,0,.51111],gR=[-.13889,.36111,0,0,1.14999],yR=[.19444,.69444,0,0,1.02222],Jy=[.12963,.69444,0,0,.89444],vR=[.19444,.69444,0,0,.44722],gc=[0,.64444,.13167,0,.59111],xR=[.19444,.64444,.13167,0,.59111],E7=[0,.68611,.17208,0,.8961],bR=[.19444,.44444,.105,0,.53222],wR=[0,.44444,.085,0,.82666],CR=[0,.69444,.06709,0,.59111],Zy=[0,.69444,.12945,0,.35555],BR=[0,.69444,0,0,.94888],M7=[0,.69444,.11472,0,.59111],SR=[0,.68611,.10778,0,.88555],_R=[0,.69444,.07939,0,.62055],ev=[0,.69444,.12417,0,.30667],yc=[0,.64444,.13556,0,.51111],kR=[.19444,.64444,.13556,0,.51111],tv=[0,.68333,.16389,0,.74333],ER=[.19444,.43056,.08847,0,.46],MR=[0,.43056,.07514,0,.71555],FR=[0,.69444,.06646,0,.51111],TR=[0,.69444,0,0,.83129],DR=[0,.69444,.1225,0,.51111],LR=[0,.68333,.09403,0,.76666],NR=[0,.68333,.11111,0,.76666],jR=[0,.69444,.06961,0,.51444],qo=[0,.69444,0,0,.27778],ch=[.25,.75,0,0,.38889],Ns=[0,.64444,0,0,.5],ld=[0,.69444,0,0,.77778],cd=[0,.68333,0,0,.75],fp=[0,.68333,0,0,.77778],IR=[0,.68333,0,0,.68056],pp=[0,.68333,0,0,.72222],Wo=[.25,.75,0,0,.5],rv=[.25,.75,0,0,.27778],Gr=[0,.69444,0,0,.5],uh=[0,.69444,0,0,.55556],F7=[0,.43056,0,0,.44445],mp=[0,.43056,0,0,.5],OR=[.19444,.43056,0,0,.55556],PR=[0,.43056,0,0,.55556],js=[.08333,.58333,0,0,.77778],UR=[0,.43056,0,0,.27778],RR=[0,.66786,0,0,.27778],QR=[0,.69444,0,0,.75],zR=[0,.66786,0,0,.5],HR=[0,.68333,0,0,.625],T7=[.19444,.69444,0,0,.44445],gp=[0,.69444,0,0,.72222],$R=[.19444,.69444,0,0,.5],yp=[.19444,.69444,0,0,1],VR=[.011,.511,0,0,1.126],D7=[.19444,.69444,0,0,.61111],L7=[.05556,.75,0,0,.5],KR=[0,.68333,0,0,.83334],qR=[.0391,.5391,0,0,.66667],N7=[-.05555,.44445,0,0,.5],WR=[0,.43056,0,0,.77778],ud=[0,.55556,0,0,.66667],nv=[-.03625,.46375,0,0,.77778],GR=[-.01688,.48312,0,0,.77778],XR=[.0391,.5391,0,0,1],vc=[0,.69444,0,0,.61111],iv=[-.03472,.46528,0,0,.5],sv=[.25,.75,0,0,.44445],YR=[-.14236,.35764,0,0,1],av=[.244,.744,0,0,.412],JR=[.19444,.69444,0,0,.88889],ov=[.12963,.69444,0,0,.77778],ZR=[.19444,.69444,0,0,.38889],eQ=[.011,.511,0,0,1.638],tQ=[.19444,.69444,0,0,0],lv=[0,.44444,0,0,.575],vp=[.19444,.44444,0,0,.575],rQ=[0,.68611,0,0,.75555],nQ=[0,.69444,0,0,.66759],iQ=[0,.68611,0,0,.80555],sQ=[0,.68611,.08229,0,.98229],aQ=[0,.68611,0,0,.76666],oQ=[0,.44444,0,0,.58472],lQ=[.19444,.44444,0,0,.6118],xp=[.19444,.43056,0,0,.5],cQ=[0,.68333,.02778,.08334,.76278],uQ=[0,.68333,.08125,.05556,.83125],dQ=[0,.43056,0,.05556,.48472],hQ=[.19444,.43056,0,.08334,.51702],AQ=[.25,.75,0,0,.42778],_n=[0,.69444,0,0,.55],Go=[0,.69444,0,0,.73334],xc=[0,.69444,0,0,.79445],fQ=[0,.69444,0,0,.51945],j7=[0,.69444,0,0,.70278],pQ=[0,.69444,0,0,.76389],mQ=[.25,.75,0,0,.34306],I7=[0,.69444,0,0,.56111],gQ=[0,.69444,0,0,.25556],yQ=[.19444,.45833,0,0,.56111],vQ=[0,.45833,0,0,.56111],cv=[0,.69444,0,0,.30556],xQ=[0,.69444,0,0,.58056],bQ=[0,.69444,0,0,.67223],O7=[0,.69444,0,0,.85556],P7=[0,.69444,0,0,.55834],Wa=[0,.65556,.11156,0,.5],U7=[0,.69444,.08094,0,.70834],R7=[.17014,0,0,0,.44445],wQ=[0,.69444,.0799,0,.5],CQ=[0,.69444,0,0,.73752],BQ=[0,.69444,.09205,0,.5],SQ=[0,.69444,.09031,0,.77778],Q7=[0,.69444,.07816,0,.27778],_Q=[0,.69444,.00316,0,.5],kQ=[.19444,.69444,0,0,.83334],EQ=[.05556,.75,0,0,.83334],MQ=[0,.75,0,0,.5],FQ=[.125,.08333,0,0,.27778],TQ=[0,.08333,0,0,.27778],Ga=[0,.65556,0,0,.5],z7=[0,.69444,0,0,.47222],Xo=[0,.69444,0,0,.66667],DQ=[0,.69444,0,0,.59722],H7=[0,.69444,0,0,.54167],$7=[0,.69444,0,0,.70834],LQ=[.25,.75,0,0,.28889],V7=[0,.69444,0,0,.51667],NQ=[0,.44444,0,0,.44445],jQ=[.19444,.44444,0,0,.51667],IQ=[0,.44444,0,0,.38333],OQ=[0,.44444,0,0,.51667],PQ=[0,.69444,0,0,.83334],UQ=[.35001,.85,0,0,.45834],RQ=[.35001,.85,0,0,.57778],QQ=[.35001,.85,0,0,.41667],zQ=[.35001,.85,0,0,.58334],uv=[0,.72222,0,0,.55556],HQ=[1e-5,.6,0,0,.66667],$Q=[1e-5,.6,0,0,.77778],VQ=[.25001,.75,0,0,.94445],KQ=[.306,.805,.19445,0,.47222],qQ=[.30612,.805,.19445,0,.47222],dh=[.25001,.75,0,0,.83334],hh=[.35001,.85,0,0,.47222],K7=[.25001,.75,0,0,1.11111],WQ=[.65002,1.15,0,0,.59722],GQ=[.65002,1.15,0,0,.81111],XQ=[.65002,1.15,0,0,.47222],YQ=[.65002,1.15,0,0,.66667],dv=[0,.75,0,0,1],JQ=[.55001,1.05,0,0,1.27778],ZQ=[.862,1.36,.44445,0,.55556],ez=[.86225,1.36,.44445,0,.55556],Ah=[.55001,1.05,0,0,1.11111],hv=[.65002,1.15,0,0,.52778],tz=[.65002,1.15,0,0,.61111],q7=[.55001,1.05,0,0,1.51112],rz=[.95003,1.45,0,0,.73611],nz=[.95003,1.45,0,0,1.04445],iz=[.95003,1.45,0,0,.52778],Av=[.95003,1.45,0,0,.75],fv=[0,.75,0,0,1.44445],pv=[.95003,1.45,0,0,.58334],sz=[1.25003,1.75,0,0,.79167],az=[1.25003,1.75,0,0,1.27778],oz=[1.25003,1.75,0,0,.58334],mv=[1.25003,1.75,0,0,.80556],gv=[0,.825,0,0,1.8889],yv=[1.25003,1.75,0,0,.63889],vv=[.64502,1.155,0,0,.875],lz=[1e-5,.6,0,0,.875],W7=[-99e-5,.601,0,0,.66667],xv=[.64502,1.155,0,0,.66667],cz=[1e-5,.9,0,0,.88889],uz=[.65002,1.15,0,0,.88889],dz=[.90001,0,0,0,.88889],hz=[-.00499,.605,0,0,1.05556],bv=[0,.12,0,0,.45],De=[0,.61111,0,0,.525],ha=[.08333,.69444,0,0,.525],Az=[-.08056,.53055,0,0,.525],fz=[-.05556,.55556,0,0,.525],oi=[0,.43056,0,0,.525],bp=[.22222,.43056,0,0,.525],pz=[0,0,0,0,.525],QDe={"AMS-Regular":{32:_t,65:Ds,66:sd,67:Ds,68:Ds,69:sd,70:jy,71:p7,72:p7,73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:p7,76:sd,77:[0,.68889,0,0,.94445],78:Ds,79:kU,80:jy,81:kU,82:Ds,83:cp,84:sd,85:Ds,86:Ds,87:[0,.68889,0,0,1],88:Ds,89:Ds,90:sd,107:cp,160:_t,165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:cp,295:Iy,710:EU,732:MU,770:EU,771:MU,989:dc,1008:XU,8245:[0,.54986,0,0,.275],8463:Iy,8487:Ds,8498:cp,8502:sd,8503:[0,.68889,0,0,.44445],8504:sd,8513:[0,.68889,0,0,.63889],8592:m7,8594:m7,8602:Qn,8603:Qn,8606:Oy,8608:Oy,8610:FU,8611:FU,8619:TU,8620:TU,8621:[-.13313,.37788,0,0,1.38889],8622:Qn,8624:Py,8625:Py,8630:g7,8631:g7,8634:uc,8635:uc,8638:Uy,8639:Uy,8642:Uy,8643:Uy,8644:Ry,8646:Ry,8647:Ry,8648:DU,8649:Ry,8650:DU,8651:Oy,8652:Oy,8653:Qn,8654:Qn,8655:Qn,8666:LU,8667:LU,8669:[-.13313,.37788,0,0,1],8672:NU,8674:NU,8705:[0,.825,0,0,.5],8708:cp,8709:dc,8717:[0,.43056,0,0,.42917],8722:m7,8724:[.08198,.69224,0,0,.77778],8726:dc,8733:zy,8736:up,8737:up,8738:[.03517,.52239,0,0,.72222],8739:WU,8740:[.25142,.74111,0,0,.27778],8741:GU,8742:[.25142,.74111,0,0,.5],8756:y7,8757:y7,8764:Qy,8765:[-.13313,.37788,0,0,.77778],8769:Qy,8770:nv,8774:ua,8776:GR,8778:dc,8782:jU,8783:jU,8785:uc,8786:uc,8787:uc,8790:zy,8791:dp,8796:[.08198,.91667,0,0,.77778],8806:nh,8807:nh,8808:Va,8809:Va,8812:[.25583,.75583,0,0,.5],8814:ih,8815:ih,8816:ua,8817:ua,8818:dp,8819:dp,8822:IU,8823:IU,8828:Ka,8829:Ka,8830:dp,8831:dp,8832:ih,8833:ih,8840:ua,8841:ua,8842:Bi,8843:Bi,8847:hc,8848:hc,8858:uc,8859:uc,8861:uc,8862:sh,8863:sh,8864:sh,8865:sh,8872:[0,.69224,0,0,.61111],8873:up,8874:[0,.69224,0,0,.88889],8876:jy,8877:jy,8878:Ds,8879:Ds,8882:hc,8883:hc,8884:Ka,8885:Ka,8888:[0,.54986,0,0,1.11111],8890:OR,8891:OU,8892:OU,8901:[0,.54986,0,0,.27778],8903:dc,8905:dc,8906:dc,8907:zy,8908:zy,8909:[-.03598,.46402,0,0,.77778],8910:PU,8911:PU,8912:hc,8913:hc,8914:UU,8915:UU,8916:y7,8918:Ac,8919:Ac,8920:RU,8921:RU,8922:QU,8923:QU,8926:Ka,8927:Ka,8928:ua,8929:ua,8934:Hy,8935:Hy,8936:Hy,8937:Hy,8938:ih,8939:ih,8940:ua,8941:ua,8994:zU,8995:zU,9416:[.15559,.69224,0,0,.90222],9484:Py,9488:Py,9492:HU,9496:HU,9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:sh,9633:sh,9650:$y,9651:$y,9654:hc,9660:$y,9661:$y,9664:hc,9674:VU,9733:[.19444,.69224,0,0,.94445],10003:$U,10016:$U,10731:VU,10846:[.19444,.75583,0,0,.61111],10877:Ka,10878:Ka,10885:nh,10886:nh,10887:Bi,10888:Bi,10889:ah,10890:ah,10891:KU,10892:KU,10901:Ka,10902:Ka,10933:Va,10934:Va,10935:ah,10936:ah,10937:ah,10938:ah,10949:nh,10950:nh,10955:qU,10956:qU,57350:WU,57351:GU,57352:dc,57353:XU,57356:Va,57357:Va,57358:YU,57359:ua,57360:ua,57361:YU,57366:Va,57367:Va,57368:Va,57369:Va,57370:Bi,57371:Bi},"Caligraphic-Regular":{32:_t,65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:_t},"Fraktur-Regular":{32:_t,33:[0,.69141,0,0,.29574],34:x7,38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:JU,41:JU,42:[0,.62119,0,0,.27764],43:ZU,44:eR,45:ZU,46:eR,47:[.24982,.74947,0,0,.50181],48:v7,49:v7,50:v7,51:hp,52:hp,53:hp,54:tR,55:hp,56:tR,57:hp,58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:rR,93:rR,94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:_t,8216:x7,8217:x7,58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:_t,33:[0,.69444,0,0,.35],34:C7,35:[.19444,.69444,0,0,.95833],36:hR,37:[.05556,.75,0,0,.95833],38:Ky,39:lh,40:Vy,41:Vy,42:[0,.75,0,0,.575],43:da,44:[.19444,.15556,0,0,.31944],45:IQ,46:[0,.15556,0,0,.31944],47:fc,48:Ls,49:Ls,50:Ls,51:Ls,52:Ls,53:Ls,54:Ls,55:Ls,56:Ls,57:Ls,58:sR,59:[.19444,.44444,0,0,.31944],60:oh,61:pR,62:oh,63:[0,.69444,0,0,.54305],64:Ky,65:b7,66:[0,.68611,0,0,.81805],67:Gy,68:[0,.68611,0,0,.88194],69:rQ,70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:qy,73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:oR,77:[0,.68611,0,0,1.09166],78:qy,79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:b7,89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:Wy,92:fc,93:Wy,94:pc,95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:ad,99:iR,100:ad,101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:ad,105:lh,106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:lh,109:[0,.44444,0,0,.95833],110:nR,111:lv,112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:nR,118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:iR,123:fc,124:Wy,125:fc,126:[.35,.34444,0,0,.575],160:_t,163:[0,.69444,0,0,.86853],168:pc,172:[0,.44444,0,0,.76666],176:aR,177:da,184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:da,216:[.04861,.73472,0,0,.89444],223:DQ,230:[0,.44444,0,0,.83055],247:da,248:[.09722,.54167,0,0,.575],305:sR,338:[0,.68611,0,0,1.16944],339:fR,567:[.19444,.44444,0,0,.35139],710:pc,711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:pc,715:pc,728:pc,729:lh,730:aR,732:pc,733:pc,915:oR,916:B7,920:w7,923:iQ,926:aQ,928:qy,931:Gy,933:w7,934:Gy,936:w7,937:Gy,8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:lh,8217:lh,8220:C7,8221:C7,8224:lR,8225:lR,8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:nQ,8465:cR,8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:cR,8501:k7,8592:qa,8593:uR,8594:qa,8595:uR,8596:qa,8597:fc,8598:Ap,8599:Ap,8600:Ap,8601:Ap,8636:qa,8637:qa,8640:qa,8641:qa,8656:qa,8657:dR,8658:qa,8659:dR,8660:qa,8661:[.25,.75,0,0,.70277],8704:ad,8706:[0,.69444,.06389,0,.62847],8707:ad,8709:hR,8711:B7,8712:AR,8715:AR,8722:da,8723:da,8725:fc,8726:fc,8727:Xy,8728:S7,8729:S7,8730:[.18,.82,0,0,.95833],8733:fR,8734:[0,.44444,0,0,1.14999],8736:up,8739:Wy,8741:fc,8743:od,8744:od,8745:od,8746:od,8747:[.19444,.69444,.12778,0,.56875],8764:pR,8768:[.19444,.69444,0,0,.31944],8771:_7,8776:[.02444,.52444,0,0,.89444],8781:_7,8801:_7,8804:mc,8805:mc,8810:mR,8811:mR,8826:oh,8827:oh,8834:oh,8835:oh,8838:mc,8839:mc,8846:od,8849:mc,8850:mc,8851:od,8852:od,8853:da,8854:da,8855:da,8856:da,8857:da,8866:k7,8867:k7,8868:Ky,8869:Ky,8900:S7,8901:[-.02639,.47361,0,0,.31944],8902:Xy,8968:Yy,8969:Yy,8970:Yy,8971:Yy,8994:gR,8995:gR,9651:yR,9657:Xy,9661:yR,9667:Xy,9711:Ap,9824:Jy,9825:Jy,9826:Jy,9827:Jy,9837:[0,.75,0,0,.44722],9838:vR,9839:vR,10216:Vy,10217:Vy,10815:qy,10927:mc,10928:mc,57376:tQ},"Main-BoldItalic":{32:_t,33:[0,.69444,.11417,0,.38611],34:_R,35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:Zy,40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:gc,49:gc,50:gc,51:gc,52:xR,53:gc,54:gc,55:xR,56:gc,57:gc,58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:M7,64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:E7,73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:E7,79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:CR,95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:bR,104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:bR,114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:_t,168:[0,.69444,.11473,0,.59111],176:BR,184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:wR,248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:wR,567:[.19444,.44444,.04611,0,.385],710:CR,711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:Zy,730:BR,732:M7,733:M7,915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:E7,931:[0,.68611,.11431,0,.82666],933:SR,934:[0,.68611,.05632,0,.82666],936:SR,937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:Zy,8217:Zy,8220:[0,.69444,.16772,0,.62055],8221:_R},"Main-Italic":{32:_t,33:ev,34:jR,35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:ev,40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:yc,49:yc,50:yc,51:yc,52:kR,53:yc,54:yc,55:kR,56:yc,57:yc,58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:DR,64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:tv,73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:tv,79:LR,80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:tv,86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:FR,95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:ER,104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:ER,114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:_t,168:[0,.66786,.10474,0,.51111],176:TR,184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:MR,248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:MR,710:FR,711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:TR,732:[0,.66786,.11585,0,.51111],733:DR,915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:LR,923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:tv,931:[0,.68333,.12028,0,.71555],933:NR,934:[0,.68333,.05986,0,.71555],936:NR,937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:ev,8217:ev,8220:[0,.69444,.1685,0,.51444],8221:jR,8463:Iy},"Main-Regular":{32:_t,33:qo,34:Gr,35:kQ,36:L7,37:EQ,38:ld,39:qo,40:ch,41:ch,42:MQ,43:js,44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:Wo,48:Ns,49:Ns,50:Ns,51:Ns,52:Ns,53:Ns,54:Ns,55:Ns,56:Ns,57:Ns,58:UR,59:[.19444,.43056,0,0,.27778],60:Ac,61:Qy,62:Ac,63:z7,64:ld,65:cd,66:[0,.68333,0,0,.70834],67:pp,68:[0,.68333,0,0,.76389],69:IR,70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:cd,73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:fp,76:HR,77:[0,.68333,0,0,.91667],78:cd,79:fp,80:IR,81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:pp,85:cd,86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:cd,89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:rv,92:Wo,93:rv,94:Gr,95:[.31,.12056,.02778,0,.5],97:mp,98:uh,99:F7,100:uh,101:F7,102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:uh,105:RR,106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:qo,109:[0,.43056,0,0,.83334],110:PR,111:mp,112:OR,113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:PR,118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:F7,123:Wo,124:rv,125:Wo,126:[.35,.31786,0,0,.5],160:_t,163:[0,.69444,0,0,.76909],167:T7,168:zR,172:[0,.43056,0,0,.66667],176:QR,177:js,182:D7,184:R7,198:[0,.68333,0,0,.90278],215:js,216:[.04861,.73194,0,0,.77778],223:Gr,230:[0,.43056,0,0,.72222],247:js,248:[.09722,.52778,0,0,.5],305:UR,338:[0,.68333,0,0,1.01389],339:WR,567:[.19444,.43056,0,0,.30556],710:Gr,711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:Gr,715:Gr,728:Gr,729:RR,730:QR,732:zR,733:Gr,915:HR,916:KR,920:fp,923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:cd,931:pp,933:fp,934:pp,936:fp,937:pp,8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:qo,8217:qo,8220:Gr,8221:Gr,8224:T7,8225:T7,8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:Iy,8465:gp,8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:gp,8501:vc,8592:Qn,8593:$R,8594:Qn,8595:$R,8596:Qn,8597:Wo,8598:yp,8599:yp,8600:yp,8601:yp,8614:[.011,.511,0,0,1],8617:VR,8618:VR,8636:Qn,8637:Qn,8640:Qn,8641:Qn,8652:[.011,.671,0,0,1],8656:Qn,8657:D7,8658:Qn,8659:D7,8660:Qn,8661:[.25,.75,0,0,.61111],8704:uh,8706:[0,.69444,.05556,.08334,.5309],8707:uh,8709:L7,8711:KR,8712:qR,8715:qR,8722:js,8723:js,8725:Wo,8726:Wo,8727:iv,8728:N7,8729:N7,8730:[.2,.8,0,0,.83334],8733:WR,8734:g7,8736:up,8739:rv,8741:Wo,8743:ud,8744:ud,8745:ud,8746:ud,8747:[.19444,.69444,.11111,0,.41667],8764:Qy,8768:[.19444,.69444,0,0,.27778],8771:nv,8773:[-.022,.589,0,0,1],8776:GR,8781:nv,8784:[-.133,.67,0,0,.778],8801:nv,8804:Bi,8805:Bi,8810:XR,8811:XR,8826:Ac,8827:Ac,8834:Ac,8835:Ac,8838:Bi,8839:Bi,8846:ud,8849:Bi,8850:Bi,8851:ud,8852:ud,8853:js,8854:js,8855:js,8856:js,8857:js,8866:vc,8867:vc,8868:ld,8869:ld,8872:[.249,.75,0,0,.867],8900:N7,8901:[-.05555,.44445,0,0,.27778],8902:iv,8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:sv,8969:sv,8970:sv,8971:sv,8994:YR,8995:YR,9136:av,9137:av,9651:JR,9657:iv,9661:JR,9667:iv,9711:yp,9824:ov,9825:ov,9826:ov,9827:ov,9837:[0,.75,0,0,.38889],9838:ZR,9839:ZR,10216:ch,10217:ch,10222:av,10223:av,10229:[.011,.511,0,0,1.609],10230:eQ,10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:eQ,10815:cd,10927:Bi,10928:Bi,57376:tQ},"Math-BoldItalic":{32:_t,48:lv,49:lv,50:lv,51:vp,52:vp,53:vp,54:Ls,55:vp,56:Ls,57:vp,65:b7,66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:sQ,73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:rQ,77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:nQ,105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:oQ,112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:_t,915:[0,.68611,.15972,0,.65694],916:B7,920:[0,.68611,.03194,0,.86722],923:iQ,926:[0,.68611,.07458,0,.84125],928:sQ,931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:aQ,936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:oQ,960:[0,.44444,.03704,0,.68241],961:lQ,962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:lQ,1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:_t,48:mp,49:mp,50:mp,51:xp,52:xp,53:xp,54:Ns,55:xp,56:Ns,57:xp,65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:uQ,73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:cQ,80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:dQ,112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:_t,915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:cQ,923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:uQ,931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:dQ,960:[0,.43056,.03588,0,.57003],961:hQ,962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:hQ,1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:_t,33:[0,.69444,0,0,.36667],34:P7,35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:cv,40:AQ,41:AQ,42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:_n,49:_n,50:_n,51:_n,52:_n,53:_n,54:_n,55:_n,56:_n,57:_n,58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:fQ,64:Go,65:Go,66:Go,67:j7,68:xc,69:[0,.69444,0,0,.64167],70:vc,71:Go,72:xc,73:[0,.69444,0,0,.33056],74:fQ,75:pQ,76:xQ,77:[0,.69444,0,0,.97778],78:xc,79:xc,80:j7,81:[.10556,.69444,0,0,.79445],82:j7,83:vc,84:Go,85:pQ,86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:Go,89:[0,.69444,.0275,0,.73334],90:bQ,91:mQ,93:mQ,94:_n,95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:I7,99:[0,.45833,0,0,.48889],100:I7,101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:I7,105:gQ,106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:gQ,109:[0,.45833,0,0,.86667],110:vQ,111:[0,.45833,0,0,.55],112:yQ,113:yQ,114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:vQ,118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:_t,168:_n,176:Go,180:_n,184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:_n,711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:_n,729:cv,730:Go,732:_n,733:_n,915:xQ,916:[0,.69444,0,0,.91667],920:O7,923:bQ,926:Go,928:xc,931:xc,933:O7,934:xc,936:O7,937:xc,8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:cv,8217:cv,8220:P7,8221:P7},"SansSerif-Italic":{32:_t,33:[0,.69444,.05733,0,.31945],34:_Q,35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:Q7,40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:FQ,45:[0,.44444,.01946,0,.33333],46:TQ,47:[.25,.75,.13164,0,.5],48:Wa,49:Wa,50:Wa,51:Wa,52:Wa,53:Wa,54:Wa,55:Wa,56:Wa,57:Wa,58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:Xo,66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:U7,73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:H7,77:[0,.69444,.08094,0,.875],78:U7,79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:wQ,95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:_t,168:[0,.67937,.06385,0,.5],176:CQ,184:R7,305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:wQ,711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:BQ,715:Gr,728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:CQ,732:[0,.67659,.08826,0,.5],733:BQ,915:[0,.69444,.13372,0,.54167],916:PQ,920:[0,.69444,.07555,0,.77778],923:vc,926:[0,.69444,.12816,0,.66667],928:U7,931:[0,.69444,.11983,0,.72222],933:SQ,934:[0,.69444,.04603,0,.72222],936:SQ,937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:Q7,8217:Q7,8220:[0,.69444,.14205,0,.5],8221:_Q},"SansSerif-Regular":{32:_t,33:[0,.69444,0,0,.31945],34:Gr,35:kQ,36:L7,37:EQ,38:[0,.69444,0,0,.75834],39:qo,40:ch,41:ch,42:MQ,43:js,44:FQ,45:[0,.44444,0,0,.33333],46:TQ,47:Wo,48:Ga,49:Ga,50:Ga,51:Ga,52:Ga,53:Ga,54:Ga,55:Ga,56:Ga,57:Ga,58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:z7,64:Xo,65:Xo,66:Xo,67:ad,68:[0,.69444,0,0,.72223],69:DQ,70:[0,.69444,0,0,.56945],71:Xo,72:$7,73:qo,74:z7,75:[0,.69444,0,0,.69445],76:H7,77:[0,.69444,0,0,.875],78:$7,79:[0,.69444,0,0,.73611],80:ad,81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:uh,84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:Xo,89:[0,.69444,.025,0,.66667],90:vc,91:LQ,93:LQ,94:Gr,95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:V7,99:NQ,100:V7,101:NQ,102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:V7,105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:OQ,111:[0,.44444,0,0,.5],112:jQ,113:jQ,114:[0,.44444,.01389,0,.34167],115:IQ,116:[0,.57143,0,0,.36111],117:OQ,118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:_t,168:[0,.67937,0,0,.5],176:Xo,184:R7,305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:Gr,711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:Gr,715:Gr,728:Gr,729:[0,.67937,0,0,.27778],730:Xo,732:[0,.67659,0,0,.5],733:Gr,915:H7,916:PQ,920:ld,923:vc,926:Xo,928:$7,931:gp,933:ld,934:gp,936:ld,937:gp,8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:qo,8217:qo,8220:Gr,8221:Gr},"Script-Regular":{32:_t,65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:_t},"Size1-Regular":{32:_t,40:UQ,41:UQ,47:RQ,91:QQ,92:RQ,93:QQ,123:zQ,125:zQ,160:_t,710:uv,732:uv,770:uv,771:uv,8214:[-99e-5,.601,0,0,.77778],8593:HQ,8595:HQ,8657:$Q,8659:$Q,8719:VQ,8720:VQ,8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:qQ,8748:KQ,8749:KQ,8750:qQ,8896:dh,8897:dh,8898:dh,8899:dh,8968:hh,8969:hh,8970:hh,8971:hh,9168:W7,10216:hh,10217:hh,10752:K7,10753:K7,10754:K7,10756:dh,10758:dh},"Size2-Regular":{32:_t,40:WQ,41:WQ,47:GQ,91:XQ,92:GQ,93:XQ,123:YQ,125:YQ,160:_t,710:dv,732:dv,770:dv,771:dv,8719:JQ,8720:JQ,8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:ez,8748:ZQ,8749:ZQ,8750:ez,8896:Ah,8897:Ah,8898:Ah,8899:Ah,8968:hv,8969:hv,8970:hv,8971:hv,10216:tz,10217:tz,10752:q7,10753:q7,10754:q7,10756:Ah,10758:Ah},"Size3-Regular":{32:_t,40:rz,41:rz,47:nz,91:iz,92:nz,93:iz,123:Av,125:Av,160:_t,710:fv,732:fv,770:fv,771:fv,8730:[.95003,1.45,0,0,1],8968:pv,8969:pv,8970:pv,8971:pv,10216:Av,10217:Av},"Size4-Regular":{32:_t,40:sz,41:sz,47:az,91:oz,92:az,93:oz,123:mv,125:mv,160:_t,710:gv,732:gv,770:gv,771:gv,8730:[1.25003,1.75,0,0,1],8968:yv,8969:yv,8970:yv,8971:yv,9115:vv,9116:lz,9117:vv,9118:vv,9119:lz,9120:vv,9121:xv,9122:W7,9123:xv,9124:xv,9125:W7,9126:xv,9127:cz,9128:uz,9129:dz,9130:[0,.3,0,0,.88889],9131:cz,9132:uz,9133:dz,9143:[.88502,.915,0,0,1.05556],10216:mv,10217:mv,57344:hz,57345:hz,57680:bv,57681:bv,57682:bv,57683:bv},"Typewriter-Regular":{32:pz,33:De,34:De,35:De,36:ha,37:ha,38:De,39:De,40:ha,41:ha,42:[0,.52083,0,0,.525],43:Az,44:[.13889,.125,0,0,.525],45:Az,46:[0,.125,0,0,.525],47:ha,48:De,49:De,50:De,51:De,52:De,53:De,54:De,55:De,56:De,57:De,58:oi,59:[.13889,.43056,0,0,.525],60:fz,61:[-.19549,.41562,0,0,.525],62:fz,63:De,64:De,65:De,66:De,67:De,68:De,69:De,70:De,71:De,72:De,73:De,74:De,75:De,76:De,77:De,78:De,79:De,80:De,81:[.13889,.61111,0,0,.525],82:De,83:De,84:De,85:De,86:De,87:De,88:De,89:De,90:De,91:ha,92:ha,93:ha,94:De,95:[.09514,0,0,0,.525],96:De,97:oi,98:De,99:oi,100:De,101:oi,102:De,103:bp,104:De,105:De,106:[.22222,.61111,0,0,.525],107:De,108:De,109:oi,110:oi,111:oi,112:bp,113:bp,114:oi,115:oi,116:[0,.55358,0,0,.525],117:oi,118:oi,119:oi,120:oi,121:bp,122:oi,123:ha,124:ha,125:ha,126:De,127:De,160:pz,176:De,184:[.19445,0,0,0,.525],305:oi,567:bp,711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:De,715:De,728:De,730:De,770:De,771:De,776:De,915:De,916:De,920:De,923:De,926:De,928:De,931:De,933:De,934:De,936:De,937:De,8216:De,8217:De,8242:De,9251:[.11111,.21944,0,0,.525]}},zDe=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,ZA=10,Na=.25,HDe=1.2,uu=.431,mz={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[uu,uu,uu],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.5,.732,.925],num2:[.394,.384,.5],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[Na,Na,Na],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04]},US=[0,.5,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],QF=5,gz={" ":" ","​":" ",Å:"A",Ç:"C",Ð:"D",Þ:"o",å:"a",ç:"c",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function rA(t,e){t===void 0&&(t=77);let r=QDe[e][t];if(r)return{defaultMetrics:!1,depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]};if(t===11034)return{defaultMetrics:!0,depth:.2,height:.8,italic:0,skew:0,width:.8};let n=String.fromCodePoint(t);if(n in gz)t=gz[n].codePointAt(0);else if(zDe.test(n))return t=77,{defaultMetrics:!0,depth:.2,height:.9,italic:0,skew:0,width:1};return{defaultMetrics:!0,depth:.2,height:.7,italic:0,skew:0,width:.8}}var RS={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],longrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],longleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],longleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],longrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],longleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xleftrightarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],longleftrightarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xRightleftharpoons:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],longRightleftharpoons:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xLeftrightharpoons:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716],longLeftrightharpoons:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},QS={widehat1:[1062,239,.24],widehat2:[2364,300,.3],widehat3:[2364,360,.36],widehat4:[2364,420,.42],widecheck1:[1062,239,.24],widecheck2:[2364,300,.3],widecheck3:[2364,360,.36],widecheck4:[2364,420,.42],widetilde1:[600,260,.26],widetilde2:[1033,286,.286],widetilde3:[2339,306,.306],widetilde4:[2340,312,.34],overarc:[1061,159,.3],underarc:[1061,159,.3]},yz={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,overarc:"M529 0c179 0 524 115 524 115 5 1 9 5 9 10 0 1-1 2-1 3l-4 22c-1 5-5 9-11 9h-2s-338-93-512-92c-174 0-513 92-513 92h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13 0 0 342-115 520-115z",underarc:`m 529 160
  c -179 0 -524 -115 -524 -115
  c -5 -1 -9 -5 -9 -10
  c 0 -1 1 -2 1 -3
  l 4 -22
  c 1 -5 5 -9 11 -9
  h 2
  s 338 93 512 92
  c 174 0 513 -92 513 -92
  h 2
  c 5 0 9 4 11 9
  l 5 22
  c 1 6 -2 12 -8 13
  c 0 0 -342 115 -520 115
  z
  `,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,widetilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,widetilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,widetilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,widetilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`};function $De(t){if(QS[t]){let[c,u,d]=QS[t],A=`<span class="ML__stretchy" style="height:${d}em"><svg width="100%" height="${d}em" viewBox="0 0 ${c} ${u}" preserveAspectRatio="none" ><path fill="currentcolor" d="${yz[t]}"></path></svg></span>`;return`<span style="display:inline-block;height:${Math.floor(100*d/2)/100}em;min-width:0">${A}</span>`}let[e,r,n,i]=RS[t],s,a,o=n/1e3;e.length===3?(s=["slice-1-of-3","slice-2-of-3","slice-3-of-3"],a=["xMinYMin","xMidYMin","xMaxYMin"]):e.length===2?(s=["slice-1-of-2","slice-2-of-2"],a=["xMinYMin","xMaxYMin"]):(s=["slice-1-of-1"],a=[i]);let l=e.map((c,u)=>`<span class="${s[u]}" style=height:${o}em><svg width=400em height=${o}em viewBox="0 0 400000 ${n}" preserveAspectRatio="${a[u]} slice"><path fill="currentcolor" d="${yz[c]}"></path></svg></span>`).join("");return`<span style="display:inline-block;height:${o}em;min-width:${r}em;">${l}</span>`}function VDe(t){return RS[t]?RS[t][2]/1e3:QS[t][2]}function KDe(t){let e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n===13&&t.charCodeAt(r+1)===10&&(n=10,r++),(n===13||n===12)&&(n=10),n===0&&(n=65533),n>=55296&&n<=56319){let i=t.charCodeAt(r+1);if(i>=56320&&i<=57343){let s=n-55296,a=i-56320;n=2**16+s*2**10+a,r++}}e.push(n)}return e}var Cx=8205,qDe=[[Cx,1],[65038,2],[127995,5],[129456,4],[917536,96]],wv,vz=[127462,127487];function xz(t){var e;if(wv===void 0){wv={};for(let r of qDe)for(let n=r[0];n<=r[0]+r[1]-1;n++)wv[n]=!0}return(e=wv[t])!=null?e:!1}function WDe(t){return t>=vz[0]&&t<=vz[1]}function Fte(t){if(/^[\u0020-\u00FF]*$/.test(t))return t;let e=[],r=KDe(t),n=0;for(;n<r.length;){let i=r[n++],s=r[n];if(s===Cx){let a=n-1;for(n+=2;r[n]===Cx;)n+=2;e.push(String.fromCodePoint(...r.slice(a,n-a+1)))}else if(xz(s)){let a=n-1;for(;xz(r[n]);)n+=r[n]===Cx?2:1;e.push(String.fromCodePoint(...r.slice(a,2*n-a-1)))}else WDe(i)?(n+=1,e.push(String.fromCodePoint(...r.slice(n-2,2)))):e.push(String.fromCodePoint(i))}return e}var GDe=class{constructor(t){this.obeyspaces=!1,this.pos=0,this.s=Fte(t)}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(t){let e=typeof this.s=="string"?t.exec(this.s.slice(this.pos)):t.exec(this.s.slice(this.pos).join(""));return e!=null&&e[0]?(this.pos+=e[0].length,e[0]):""}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]+/)||this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]/))return"<space>";let t=this.get();if(t==="\\"){if(!this.end()){let e=this.match(/^[a-zA-Z\*]+/);return e?this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]*/):e=this.get(),"\\"+e}}else{if(t==="{")return"<{>";if(t==="}")return"<}>";if(t==="^"){if(this.peek()==="^"){this.get();let e=this.match(/^(\^(\^(\^(\^[\da-f])?[\da-f])?[\da-f])?[\da-f])?[\da-f]{2}/);if(e)return String.fromCodePoint(Number.parseInt(e.slice(e.lastIndexOf("^")+1),16))}return t}else if(t==="#"){if(!this.end()){let e=!1;if(/[\d?@]/.test(this.peek())&&(e=!0,this.pos+1<this.s.length)){let r=this.s[this.pos+1];e=/[^\dA-Za-z]/.test(r)}return e?"#"+this.get():"#"}}else if(t==="$")return this.peek()==="$"?(this.get(),"<$$>"):"<$>"}return t}};function XDe(t,e){var r,n,i,s;let a=[],o=t.next();if(o&&o!=="\\relax"){if(o==="\\noexpand")o=t.next(),o&&a.push(o);else if(o==="\\obeyspaces")t.obeyspaces=!0;else if(o==="\\bgroup")a.push("<{>");else if(o==="\\egroup")a.push("<}>");else if(o==="\\string"){if(o=t.next(),o)if(o.startsWith("\\"))for(let l of o)a.push(l==="\\"?"\\backslash":l);else o==="<{>"?a.push("\\{"):o==="<space>"?a.push("~"):o==="<}>"&&a.push("\\}")}else if(o==="\\csname"){for(;t.peek()==="<space>";)t.next();let l="",c=!1,u=[];do{if(u.length===0)if(/^#[\d?@]$/.test(t.peek())){let d=t.get().slice(1);u=r1((n=(r=e==null?void 0:e(d))!=null?r:e==null?void 0:e("?"))!=null?n:"\\placeholder{}",e),o=u[0]}else o=t.next(),u=o?[o]:[];c=u.length===0,!c&&o==="\\endcsname"&&(c=!0,u.shift()),c||(c=o==="<$>"||o==="<$$>"||o==="<{>"||o==="<}>"||typeof o=="string"&&o.length>1&&o.startsWith("\\")),c||(l+=u.shift())}while(!c);l&&a.push("\\"+l),a.push(...u)}else if(o!=="\\endcsname")if(o.length>1&&o.startsWith("#")){let l=o.slice(1);a.push(...r1((s=(i=e==null?void 0:e(l))!=null?i:e==null?void 0:e("?"))!=null?s:"\\placeholder{}",e))}else a.push(o)}return a}function r1(t,e=null){if(!t)return[];let r=[],n="";for(let a of t.toString().split(/\r?\n/)){n&&r.push(n),n=" ";let o=a.match(/((?:\\%)|[^%])*/);o!==null&&r.push(o[0])}let i=new GDe(r.join("")),s=[];do s.push(...XDe(i,e));while(!i.end());return s}function lt(t){let e="",r=[];for(let n of t)n&&(e&&/^[a-zA-Z\*]/.test(n)&&r.push(e),r.push(n),/^\\[a-zA-Z]+\*?[\"\'][^\ ]+$/.test(n)&&r.push(" "),e=/\\[a-zA-Z]+\*?$/.test(n)?" ":"");return r.join("")}function qt(t,...e){return t.startsWith("\\"),e.length===0?t:lt([t,...e.map(r=>`{${r}}`)])}function dd(t){return lt(t.map(e=>{var r;return(r={"<space>":" ","<$$>":"$$","<$>":"$","<{>":"{","<}>":"}"}[e])!=null?r:e}))}var Tte=class em{constructor(e){em._registry[e]=this}static createAtom(e,r,n){return em._registry[e].createAtom(r,Ln(r,e),n)}static serialize(e,r){var n;if(!e||e.length===0)return"";if((n=r.skipStyles)!=null&&n){let i=[];for(let s of Dte(e)){let a=em._registry[s[0].mode];i.push(...a.serialize(s,r))}return lt(i)}return lt(JDe(e,r))}static getFont(e,r,n){return em._registry[e].getFont(r,n)}};Tte._registry={};var hs=Tte;function Dte(t){let e=[],r=[],n="NONE";for(let i of t)i.type!=="first"&&(i.mode!==n?(r.length>0&&e.push(r),r=[i],n=i.mode):r.push(i));return r.length>0&&e.push(r),e}function zS(t){if(!t||t.mode!=="math")return"";let{style:e}=t;return!e||!e.variantStyle?"":e.variantStyle==="bold"||e.variantStyle==="bolditalic"?"bold":""}function HS(t){if(!t)return"";let{style:e}=t;if(!e)return"";let r=e.variant;return r===void 0?"normal":(!["calligraphic","fraktur","double-struck","script","monospace","sans-serif"].includes(r)&&e.variantStyle&&e.variantStyle!=="up"&&(r+="-"+e.variantStyle),r)}function tc(t,e){let r=[],n=[],i;for(let s of t){if(s.type==="first")continue;let a;e==="variant"?a=HS(s):e==="bold"?a=zS(s):a=s.style[e],a===i?n.push(s):(n.length>0&&r.push(n),n=[s],i=a)}return n.length>0&&r.push(n),r}function bz(t,e){var r;let{parent:n}=t[0],i=n==null?void 0:n.style.color,s=[];for(let a of Dte(t)){let o=e.defaultMode;for(let l of tc(a,"color")){let c=l[0].style,u=hs._registry[l[0].mode].serialize(l,G(P({},e),{defaultMode:o==="text"?"text":"math"}));!e.skipStyles&&c.color&&c.color!=="none"&&(!n||i!==c.color)?s.push(qt("\\textcolor",(r=c.verbatimColor)!=null?r:c.color,lt(u))):s.push(lt(u))}}return s}function YDe(t,e){let{parent:r}=t[0],n=r==null?void 0:r.style.backgroundColor;return tc(t,"backgroundColor").map(i=>{var s;if(i.length>0||i[0].type!=="box"){let a=i[0].style;if(a.backgroundColor&&a.backgroundColor!=="none"&&(!r||n!==a.backgroundColor))return qt("\\colorbox",(s=a.verbatimBackgroundColor)!=null?s:a.backgroundColor,lt(bz(i,G(P({},e),{defaultMode:"text"}))))}return lt(bz(i,e))})}function JDe(t,e){if(t.length===0)return[];let{parent:r}=t[0],n=r==null?void 0:r.style.fontSize,i=[];for(let s of tc(t,"fontSize")){let a=s[0].style.fontSize,o=YDe(s,e);o&&(a&&a!=="auto"&&(!r||n!==a)?i.push(["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][a],...o):i.push(...o))}return i}function $S(t){return t?{mord:"ord",mbin:"bin",mop:"op",mrel:"rel",mopen:"open",mclose:"close",mpunct:"punct",minner:"inner",spacing:"ignore",latex:"latex",composition:"inner",error:"inner",placeholder:"ord",supsub:"ignore"}[t]:void 0}function q1(t){if(t.length===0)return"ord";let e=$S(t[0].type),r=$S(t[t.length-1].type);return e&&e===r?e:"ord"}function wp(t,e){if(typeof t=="string")return t;if(typeof t=="number"){let r=Math.ceil(100*t)/100;return r===0?"0":r.toString()+(e??"")}return""}var ge=class Lte{constructor(e,r){var n,i,s,a,o;if(typeof e=="number"?this.value=String.fromCodePoint(e):typeof e=="string"?this.value=e:Bn(e)?this.children=e.filter(c=>c!==null):e&&e instanceof Lte&&(this.children=[e]),this.children)for(let c of this.children)c.parent=this;this.type=(n=r==null?void 0:r.type)!=null?n:"ignore",this.isSelected=(r==null?void 0:r.isSelected)===!0,r!=null&&r.caret&&(this.caret=r.caret),this.classes=(i=r==null?void 0:r.classes)!=null?i:"",this.isTight=(s=r==null?void 0:r.isTight)!=null?s:!1,r!=null&&r.attributes&&(this.attributes=r.attributes);let l=r==null?void 0:r.fontFamily;r!=null&&r.style&&this.value&&(l=(o=hs.getFont((a=r.mode)!=null?a:"math",this,G(P({variant:"normal"},r.style),{letterShapeStyle:r.letterShapeStyle})))!=null?o:void 0),l||(l="Main-Regular"),this._height=0,this._depth=0,this._width=0,this.hasExplicitWidth=!1,this.skew=0,this.italic=0,this.maxFontSize=0,this.scale=1,(r==null?void 0:r.maxFontSize)!==void 0&&(this.maxFontSize=r.maxFontSize),ZDe(this,l)}set atomID(e){e===void 0||e.length===0||(this.id=e)}selected(e){if(this.isSelected!==e&&(this.isSelected=e,this.children))for(let r of this.children)r.selected(e)}setStyle(e,r,n){if(r===void 0)return;let i=wp(r,n);i.length>0&&(this.cssProperties||(this.cssProperties={}),this.cssProperties[e]=i)}setTop(e){Number.isFinite(e)&&Math.abs(e)>.01&&(this.cssProperties||(this.cssProperties={}),this.cssProperties.top=wp(e,"em"),this.height-=e,this.depth+=e)}get left(){var e;return(e=this.cssProperties)!=null&&e["margin-left"]?Number.parseFloat(this.cssProperties["margin-left"]):0}set left(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-left"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-left"]=wp(e,"em")))}set right(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-right"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-right"]=wp(e,"em")))}set bottom(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-bottom"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-bottom"]=wp(e,"em")))}get width(){return this._width*this.scale}set width(e){this._width=e,this.hasExplicitWidth=!0}set softWidth(e){}get height(){return this._height*this.scale}set height(e){this._height=e}get depth(){return this._depth*this.scale}set depth(e){this._depth=e}wrap(e){let r=e.parent;if(!r)return this;e.isPhantom&&this.setStyle("opacity",0);let n=e.color;n&&n!==r.color&&this.setStyle("color",n);let i=e.backgroundColor;this.isSelected&&(i=TDe(i)),i&&i!==r.backgroundColor&&(this.setStyle("background-color",i),this.setStyle("display","inline-block"));let s=e.scalingFactor;return this.scale=s,this.skew*=s,this.italic*=s,this}toMarkup(){var e,r,n,i;let s=(e=this.value)!=null?e:"";if(this.children)for(let f of this.children)s+=f.toMarkup();let a="";if(this.svgBody)a=$De(this.svgBody);else if(this.svgOverlay){a='<span style="',a+="display: inline-block;",a+=`height:${Math.floor(100*(this.height+this.depth))/100}em;`,a+=`vertical-align:${Math.floor(100*this.depth)/100}em;`,a+='">',a+=s,a+="</span>",a+='<svg style="position:absolute;overflow:visible;',a+=`height:${Math.floor(100*(this.height+this.depth))/100}em;`;let f=(r=this.cssProperties)==null?void 0:r.padding;f?(a+=`top:${f};`,a+=`left:${f};`,a+=`width:calc(100% - 2 * ${f} );`):a+="top:0;left:0;width:100%;",a+="z-index:2;",a+='"',this.svgStyle&&(a+=this.svgStyle),a+=` viewBox="0 0 ${Math.floor(100*this.width)/100} ${Math.floor(100*(this.height+this.depth))/100}"`,a+=`>${this.svgOverlay}</svg>`}let o=[],l=this.classes.split(" ");l.push((n={latex:"ML__raw-latex",placeholder:"ML__placeholder",error:"ML__error"}[this.type])!=null?n:""),this.caret==="latex"&&l.push("ML__latex-caret"),this.isSelected&&l.push("ML__selected");let c=l.length===1?l[0]:l.filter((f,p,m)=>f.length>0&&m.indexOf(f)===p).join(" ");if(c.length>0&&o.push(`class=${fh(`"${c}"`)}`),this.id&&o.push(` data-atom-id=${fh(this.id)}`),this.cssId&&o.push(` id=${fh(`"${this.cssId.replace(/ /g,"-")}"`)}`),this.attributes&&o.concat(Object.keys(this.attributes).map(f=>`${G7(f)}=${fh(this.attributes[f])}`)),this.htmlData){let f=this.htmlData.split(",");for(let p of f){let m=p.match(/([^=]+)=(.+$)/);if(m){let v=G7(m[1]);if(v)if(v==="href"){let g=new URL(m[2]);if(g.protocol!=="http:"&&g.protocol!=="https:")throw new Error(`Invalid URL: ${m[2]}`);o.push(`href="${m[2].replace(/"/g,"&quot;")}"`)}else o.push(`data-${v}=${fh(m[2])}`)}else{let v=G7(p);v&&o.push(`data-${v} `)}}}let u=(i=this.cssProperties)!=null?i:{};this.hasExplicitWidth&&u.width===void 0&&(u.width=`${Math.ceil(this._width*100)/100}em`);let d=Object.keys(u).map(f=>`${f}:${u[f]}`);if(this.scale!==void 0&&this.scale!==1&&(s.length>0||a.length>0)&&d.push(`font-size: ${Math.ceil(this.scale*1e4)/100}%`),this.htmlStyle)for(let f of this.htmlStyle.split(";")){let p=f.match(/([^:]+):(.+$)/);if(p){let m=p[1].trim().replace(/ /g,"-");m&&d.push(`${m}:${p[2]}`)}}d.length>0&&o.push(`style=${fh(d.join(";"))}`);let A="";return o.length>0||a.length>0?A=`<span ${o.join(" ")}>${s}${a}</span>`:A=s,this.caret==="text"?A+='<span class="ML__text-caret"></span>':this.caret==="math"&&(A+='<span class="ML__caret"></span>'),A}tryCoalesceWith(e){if(this.svgBody||!this.value||e.svgBody||!e.value)return!1;let r=this.children&&this.children.length>0,n=e.children&&e.children.length>0;if(r||n)return!1;if(e.cssProperties||this.cssProperties){for(let l of["border","border-left","border-right","border-right-width","left","margin","margin-left","margin-right","padding","position","width"])if(e.cssProperties&&l in e.cssProperties||this.cssProperties&&l in this.cssProperties)return!1}let i=this.cssProperties?Object.keys(this.cssProperties).length:0,s=e.cssProperties?Object.keys(e.cssProperties).length:0;if(i!==s)return!1;if(i>0){for(let l of Object.keys(this.cssProperties))if(this.cssProperties[l]!==e.cssProperties[l])return!1}let a=this.classes.trim().replace(/\s+/g," ").split(" "),o=e.classes.trim().replace(/\s+/g," ").split(" ");if(a.length!==o.length)return!1;a.sort(),o.sort();for(let[l,c]of a.entries())if(c==="ML__vertical-separator"||c!==o[l])return!1;return this.value+=e.value,this.height=Math.max(this.height,e.height),this.depth=Math.max(this.depth,e.depth),this._width=this._width+e._width,this.maxFontSize=Math.max(this.maxFontSize,e.maxFontSize),this.italic=e.italic,!0}};function VS(t){if(!t||t.length===0)return[];t[0].children=VS(t[0].children);let e=[t[0]];for(let r=1;r<t.length;r++)e[e.length-1].tryCoalesceWith(t[r])||(t[r].children=VS(t[r].children),e.push(t[r]));return e}function C5(t){return t.children&&(t.children=VS(t.children)),t}function B5(t,e){if(!t)return new ge(null,e);let r=new ge(null,{classes:"ML__strut",type:"ignore"});r.setStyle("height",Math.max(0,t.height),"em");let n=[r];if(t.depth!==0){let i=new ge(null,{classes:"ML__strut--bottom",type:"ignore"});i.setStyle("height",t.height+t.depth,"em"),i.setStyle("vertical-align",-t.depth,"em"),n.push(i)}return n.push(t),new ge(n,G(P({},e),{type:"lift"}))}function Bx(t){let e=VDe(t)/2,r=new ge(null,{maxFontSize:0});return r.height=e+.166,r.depth=e-.166,r.svgBody=t,r}function ZDe(t,e){var r;if(t.type==="latex"){t.height=.9,t.depth=.2,t._width=1;return}if(t.value){t.height=-1/0,t.depth=-1/0,t._width=0,t.skew=-1/0,t.italic=-1/0;for(let n=0;n<t.value.length;n++){let i=rA(t.value.codePointAt(n),e);t.height=Math.max(t.height,i.height),t.depth=Math.max(t.depth,i.depth),t._width+=i.width,t.skew=i.skew,t.italic=i.italic}return}if(t.children&&t.children.length>0){let n=-1/0,i=-1/0,s=0;for(let a of t.children)a.height>n&&(n=a.height),a.depth>i&&(i=a.depth),s=Math.max(s,(r=a.maxFontSize)!=null?r:0);t.height=n,t.depth=i,t._width=t.children.reduce((a,o)=>a+o.width,0),t.maxFontSize=s}}function G7(t){if(t=t.trim().replace(/ /g,"-"),t.length===0)throw new Error("Invalid empty attribute name");if(/[\x20\x09\x0a\x0c\x0d"'>/=\x00-\x1f]/.test(t))throw new Error(`Invalid attribute name "${t}"`);return t}function fh(t){if(t=t.trim(),t.startsWith('"')&&t.endsWith('"')){if(/"/.test(t.slice(1,-1)))throw new Error(`Invalid attribute value: ${t}`);return t}if(t.startsWith("'")&&t.endsWith("'")){if(/'/.test(t.slice(1,-1)))throw new Error(`Invalid attribute value: ${t}`);return t}if(t.length===0)throw new Error("Invalid empty attribute value");return`"${t.replace(/"/g,"&quot;")}"`}function eLe(t){if("individualShift"in t){let e=t.individualShift,r=e[0];if(r==null)return[null,0];let n=[r],i=-r.shift-r.box.depth,s=i;for(let a=1;a<e.length;a++){let o=e[a],l=-o.shift-s-o.box.depth,c=l-(r.box.height+r.box.depth);s=s+l,n.push(c),n.push(o),r=o}return[n,i]}if("top"in t){let e=t.top;for(let r of t.children)e-=typeof r=="number"?r:r.box.height+r.box.depth;return[t.children,e]}else{if("bottom"in t)return[t.children,-t.bottom];if("firstBaseline"in t){let e=t.firstBaseline[0];if(typeof e=="number")throw new Error("First child must be an element.");return[t.firstBaseline,-e.box.depth]}else if("shift"in t){let e=t.children[0];if(typeof e=="number")throw new Error("First child must be an element.");return[t.children,-e.box.depth-t.shift]}}return[null,0]}function tLe(t){var e;let[r,n]=eLe(t);if(!r)return[[],0,0];let i=new ge(null,{classes:"ML__pstrut"}),s=0;for(let p of r)if(typeof p!="number"){let m=p.box;s=Math.max(s,m.maxFontSize,m.height)}s+=2,i.height=s,i.setStyle("height",s,"em");let a=[],o=n,l=n,c=n,u=0;for(let p of r){if(typeof p=="number")c+=p;else{let m=p.box,v=(e=p.classes)!=null?e:[],g=new ge([i,m],{classes:v.join(" "),style:p.style});m.setStyle("height",m.height+m.depth,"em"),m.setStyle("display","inline-block"),g.setStyle("top",-s-c-m.depth,"em"),p.marginLeft&&g.setStyle("margin-left",p.marginLeft,"em"),p.marginRight&&g.setStyle("margin-right",p.marginRight,"em"),a.push(g),c+=m.height+m.depth,u=Math.max(u,g.width)}o=Math.min(o,c),l=Math.max(l,c)}a.forEach(p=>{p.softWidth=u});let d=new ge(a,{classes:"ML__vlist"});if(d.softWidth=u,d.height=l,d.setStyle("height",l,"em"),o>=0)return[[new ge(d,{classes:"ML__vlist-r"})],l,-o];let A=new ge(new ge(null),{classes:"ML__vlist"});A.height=-o,A.setStyle("height",-o,"em");let f=new ge(8203,{classes:"ML__vlist-s",maxFontSize:0});return f.softWidth=0,f.height=0,f.depth=0,[[new ge([d,f],{classes:"ML__vlist-r"}),new ge(A,{classes:"ML__vlist-r"})],l,-o]}var qr=class extends ge{constructor(t,e){var r;let[n,i,s]=tLe(t);super(n.length===1?n[0]:n,{type:e==null?void 0:e.type,classes:((r=e==null?void 0:e.classes)!=null?r:"")+" ML__vlist-t"+(n.length===2?" ML__vlist-t2":"")}),this.height=i,this.depth=s,this.softWidth=n.reduce((a,o)=>Math.max(a,o.width),0)}};function rLe(t,e){var r,n,i,s,a;let o=t.metrics,l=new ge(e.base),c=(r=e.baseShift)!=null?r:0,u=(n=e.slant)!=null?n:0,d=0,A=0;e.above&&(d=(i=e.aboveShift)!=null?i:Math.max(o.bigOpSpacing1,o.bigOpSpacing3-e.above.depth)),e.below&&(A=(s=e.belowShift)!=null?s:Math.max(o.bigOpSpacing2,o.bigOpSpacing4-e.below.height));let f=null;if(e.below&&e.above){let p=o.bigOpSpacing5+e.below.height+e.below.depth+A+l.depth+c;f=new qr({bottom:p,children:[o.bigOpSpacing5,{box:e.below,marginLeft:-u,classes:["ML__center"]},A,{box:l,classes:["ML__center"]},d,{box:e.above,marginLeft:u,classes:["ML__center"]},o.bigOpSpacing5]}).wrap(t)}else if(e.below&&!e.above)f=new qr({top:l.height-c,children:[o.bigOpSpacing5,{box:e.below,marginLeft:-u,classes:["ML__center"]},A,{box:l,classes:["ML__center"]}]}).wrap(t);else if(!e.below&&e.above){let p=l.depth+c;f=new qr({bottom:p,children:[{box:l,classes:["ML__center"]},d,{box:e.above,marginLeft:u,classes:["ML__center"]},o.bigOpSpacing5]}).wrap(t)}else{let p=l.depth+c;f=new qr({bottom:p,children:[{box:l},o.bigOpSpacing5]}).wrap(t)}return new ge(f,{type:(a=e.type)!=null?a:"op"})}var zF=7,b3=6,S5=5,Nd=4,kA=3,as=2,qd=1,$n=0,bc=class{constructor(t,e,r){this.id=t,this.sizeDelta=e,this.cramped=r;let n={"-4":2,"-3":1,0:0}[e];this.metrics=Object.keys(mz).reduce((i,s)=>G(P({},i),{[s]:mz[s][n]}),{})}getFontSize(t){return Math.max(1,t+this.sizeDelta)}get sup(){return fo[[$n,qd,$n,qd,as,kA,as,kA][this.id]]}get sub(){return fo[[$n,$n,$n,$n,as,as,as,as][this.id]]}get fracNum(){return fo[[$n,qd,$n,qd,as,kA,Nd,S5][this.id]]}get fracDen(){return fo[[$n,$n,$n,$n,as,as,Nd,Nd][this.id]]}get cramp(){return fo[[$n,$n,as,as,Nd,Nd,b3,b3][this.id]]}get isTight(){return this.sizeDelta<0}},Cp={7:new bc(zF,0,!1),6:new bc(b3,0,!0),5:new bc(S5,0,!1),4:new bc(Nd,0,!0),3:new bc(kA,-3,!1),2:new bc(as,-3,!0),1:new bc(qd,-4,!1),0:new bc($n,-4,!0)},fo=G(P({},Cp),{displaystyle:Cp[zF],textstyle:Cp[S5],scriptstyle:Cp[kA],scriptscriptstyle:Cp[qd]});function Nte(t,e){var r;if(!t)return 0;let n={pt:1,mm:7227/2540,cm:7227/254,ex:35271/8192,px:3/4,em:ZA,bp:803/800,dd:1238/1157,pc:12,in:72.27,mu:10/18}[(r=t.unit)!=null?r:"pt"];if(Number.isFinite(e)){let i=10**e;return Math.round(t.dimension/ZA*n*i)/i}return t.dimension*n}function jte(t,e){if(t===null)return 0;let r=Nte(t)/ZA;if(Number.isFinite(e)){let n=10**e;return Math.round(r*n)/n}return r}function X7(t){var e;return`${t.dimension}${(e=t.unit)!=null?e:"pt"}`}function nLe(t){let e=X7(t.glue);return t.grow&&t.grow.dimension!==0&&(e+=` plus ${X7(t.grow)}`),t.shrink&&t.shrink.dimension!==0&&(e+=` minus ${X7(t.shrink)}`),e}function Cn(t){var e,r;if(t==null)return null;let n="";if("dimension"in t&&(n=`${t.dimension}${(e=t.unit)!=null?e:"pt"}`),"glue"in t&&(n=nLe(t)),"number"in t)if(!("base"in t)||t.base==="decimal")n=Number(t.number).toString();else if(t.base==="alpha")n=`\`${String.fromCodePoint(t.number)}`;else{let i=Math.round(t.number)>>>0;t.base==="hexadecimal"?(n=Number(i).toString(16).toUpperCase(),i<=255?n=n.padStart(2,"0"):i<=65535?n=n.padStart(4,"0"):i<=16777215?n=n.padStart(6,"0"):n=n.padStart(8,"0"),n=`"${n}`):t.base==="octal"&&(n=Number(i).toString(8),i<=63?n=n.padStart(2,"0"):i<=30583?n=n.padStart(4,"0"):n=n.padStart(8,"0"),n=`'${n}`)}return"register"in t&&("factor"in t&&(t.factor===-1?n="-":t.factor!==1&&(n=Number(t.factor).toString())),"global"in t&&t.global&&(n+="\\global"),n+=`\\${t.register}`),"string"in t&&(n=t.string),(r=t.relax)!=null&&r&&(n+="\\relax"),n}function io(t,e){return t==null?null:"number"in t?G(P({},t),{number:t.number*e}):"register"in t?"factor"in t&&t.factor?G(P({},t),{factor:t.factor*e}):G(P({},t),{factor:e}):"dimension"in t?G(P({},t),{dimension:t.dimension*e}):"glue"in t?t.shrink&&t.grow?{glue:io(t.glue,e),shrink:io(t.shrink,e),grow:io(t.grow,e)}:t.shrink?{glue:io(t.glue,e),shrink:io(t.shrink,e)}:t.grow?{glue:io(t.glue,e),grow:io(t.grow,e)}:{glue:io(t.glue,e)}:null}var iLe={"p@":{dimension:1},"z@":{dimension:0},maxdimen:{dimension:16383.99999},hfuzz:{dimension:.1},vfuzz:{dimension:.1},overfullrule:{dimension:5},hsize:{dimension:6.5,unit:"in"},vsize:{dimension:8.9,unit:"in"},parindent:{dimension:20},maxdepth:{dimension:4},splitmaxdepth:{register:"maxdimen"},boxmaxdepth:{register:"maxdimen"},delimitershortfall:{dimension:5},nulldelimiterspace:{dimension:1.2,unit:"pt"},scriptspace:{dimension:.5},topskip:{dimension:10},splittopskip:{dimension:10},normalbaselineskip:{dimension:12},normallineskip:{dimension:1},normallineskiplimit:{dimension:0},jot:{dimension:3},doublerulesep:{dimension:2},arrayrulewidth:{dimension:.4},arraycolsep:{dimension:5},fboxsep:{dimension:3},fboxrule:{dimension:.4},"z@skip":{glue:{dimension:0},shrink:{dimension:0},grow:{dimension:0}},hideskip:{glue:{dimension:-1e3},grow:{dimension:1,unit:"fill"}},"@flushglue":{glue:{dimension:0},grow:{dimension:1,unit:"fill"}},parskip:{glue:{dimension:0},grow:{dimension:1}},abovedisplayskip:{glue:{dimension:12},grow:{dimension:3},shrink:{dimension:9}},abovedisplayshortskip:{glue:{dimension:0},grow:{dimension:3}},belowdisplayskip:{glue:{dimension:12},grow:{dimension:3},shrink:{dimension:9}},belowdisplayshortskip:{glue:{dimension:7},grow:{dimension:3},shrink:{dimension:4}},parfillskip:{glue:{dimension:0},grow:{dimension:1,unit:"fil"}},thinmuskip:{glue:{dimension:3,unit:"mu"}},medmuskip:{glue:{dimension:4,unit:"mu"},grow:{dimension:2,unit:"mu"},shrink:{dimension:4,unit:"mu"}},thickmuskip:{glue:{dimension:5,unit:"mu"},grow:{dimension:5,unit:"mu"}},smallskipamount:{glue:{dimension:3},grow:{dimension:1},shrink:{dimension:1}},medskipamount:{glue:{dimension:6},grow:{dimension:2},shrink:{dimension:3}},bigskipamount:{glue:{dimension:12},grow:{dimension:2},shrink:{dimension:4}},pretolerance:100,tolerance:200,hbadness:1e3,vbadness:1e3,linepenalty:10,hyphenpenalty:50,exhyphenpenalty:50,binoppenalty:700,relpenalty:500,clubpenalty:150,widowpenalty:150,displaywidowpenalty:50,brokenpenalty:100,predisplaypenalty:1e4,doublehyphendemerits:1e4,finalhyphendemerits:5e3,adjdemerits:1e4,tracinglostchars:1,uchyph:1,delimiterfactor:901,defaulthyphenchar:"\\-",defaultskewchar:-1,newlinechar:-1,showboxbreadth:5,showboxdepth:3,errorcontextlines:5,interdisplaylinepenalty:100,interfootnotelinepenalty:100,baselineSkip:1.2,arraystretch:1,month:new Date().getMonth()+1,day:new Date().getDate(),year:new Date().getFullYear()};function Ite(){return P({},iLe)}function Ote(){return{registers:Ite(),smartFence:!1,renderPlaceholder:void 0,placeholderSymbol:"▢",letterShapeStyle:ot.locale.startsWith("fr")?"french":"tex",minFontScale:0,maxMatrixCols:10,colorMap:w5,backgroundColorMap:OF,getMacro:t=>Ete(t,RF())}}var mt=class Pte{constructor(e,r){var n,i,s,a,o,l,c,u,d,A,f,p,m,v,g;let y;e!=null&&e.parent?(this.parent=e.parent,y=e.parent,this.registers={}):(y=P(P({},Ote()),(n=e==null?void 0:e.from)!=null?n:{}),this.registers=y.registers),y.atomIdsSettings&&(this.atomIdsSettings=P({},y.atomIdsSettings)),this.renderPlaceholder=y.renderPlaceholder,this.isPhantom=(a=(s=e==null?void 0:e.isPhantom)!=null?s:(i=this.parent)==null?void 0:i.isPhantom)!=null?a:!1,this.letterShapeStyle=y.letterShapeStyle,this.minFontScale=y.minFontScale,this.maxMatrixCols=y.maxMatrixCols,r!=null&&r.color&&r.color!=="none"?this.color=r.color:this.color=(l=(o=this.parent)==null?void 0:o.color)!=null?l:"",r!=null&&r.backgroundColor&&r.backgroundColor!=="none"?this.backgroundColor=r.backgroundColor:this.backgroundColor=(u=(c=this.parent)==null?void 0:c.backgroundColor)!=null?u:"",r!=null&&r.fontSize&&r.fontSize!=="auto"&&r.fontSize!==((d=this.parent)==null?void 0:d.size)?this.size=r.fontSize:this.size=(f=(A=this.parent)==null?void 0:A.size)!=null?f:QF;let x=(m=(p=this.parent)==null?void 0:p.mathstyle)!=null?m:fo.displaystyle;if(typeof(e==null?void 0:e.mathstyle)=="string"){if(y instanceof Pte)switch(e.mathstyle){case"cramp":x=x.cramp;break;case"superscript":x=x.sup;break;case"subscript":x=x.sub;break;case"numerator":x=x.fracNum;break;case"denominator":x=x.fracDen;break}switch(e.mathstyle){case"textstyle":x=fo.textstyle;break;case"displaystyle":x=fo.displaystyle;break;case"scriptstyle":x=fo.scriptstyle;break;case"scriptscriptstyle":x=fo.scriptscriptstyle;break}}this.mathstyle=x,this.smartFence=y.smartFence,this.placeholderSymbol=y.placeholderSymbol,this.colorMap=(v=y.colorMap)!=null?v:b=>b,this.backgroundColorMap=(g=y.backgroundColorMap)!=null?g:b=>b,this.getMacro=y.getMacro,this.parent!==void 0||this.registers}makeID(){if(!this.atomIdsSettings)return;if(this.atomIdsSettings.overrideID)return this.atomIdsSettings.overrideID;if(typeof this.atomIdsSettings.seed!="number")return`${Date.now().toString(36).slice(-2)}${Math.floor(Math.random()*1e5).toString(36)}`;let e=this.atomIdsSettings.seed.toString(36);return this.atomIdsSettings.seed+=1,e}scale(e){return e*this.effectiveFontSize}get scalingFactor(){return this.parent?this.effectiveFontSize/this.parent.effectiveFontSize:1}get isDisplayStyle(){return this.mathstyle.id===zF||this.mathstyle.id===b3}get isCramped(){return this.mathstyle.cramped}get isTight(){return this.mathstyle.isTight}get metrics(){return this.mathstyle.metrics}get effectiveFontSize(){return Math.max(US[Math.max(1,this.size+this.mathstyle.sizeDelta)],this.minFontScale)}getRegister(e){var r;if((r=this.registers)!=null&&r[e])return this.registers[e];if(this.parent)return this.parent.getRegister(e)}getRegisterAsNumber(e){let r=this.getRegister(e);if(typeof r=="number")return r;if(typeof r=="string")return Number(r)}getRegisterAsGlue(e){var r;if((r=this.registers)!=null&&r[e]){let n=this.registers[e];return typeof n=="object"&&"glue"in n?n:typeof n=="object"&&"dimension"in n?{glue:{dimension:n.dimension}}:typeof n=="number"?{glue:{dimension:n}}:void 0}if(this.parent)return this.parent.getRegisterAsGlue(e)}getRegisterAsEm(e,r){return jte(this.getRegisterAsDimension(e),r)}getRegisterAsDimension(e){var r;if((r=this.registers)!=null&&r[e]){let n=this.registers[e];return typeof n=="object"&&"glue"in n?n.glue:typeof n=="object"&&"dimension"in n?n:typeof n=="number"?{dimension:n}:void 0}if(this.parent)return this.parent.getRegisterAsDimension(e)}setRegister(e,r){if(r===void 0){delete this.registers[e];return}this.registers[e]=r}evaluate(e){if(!e||!("register"in e))return e;let r=this;if("global"in e&&e.global)for(;r.parent;)r=r.parent;let n=1;"factor"in e&&e.factor!==1&&e.factor!==void 0&&(n=e.factor);let i=r.getRegister(e.register);if(i===void 0)return;if(typeof i=="string")return{string:Number(i).toString()+i};if(typeof i=="number")return{number:n*i};let s=r.evaluate(i);if(s!==void 0)return"string"in s?{string:Number(i).toString()+s.string}:"number"in s?{number:n*s.number}:"dimension"in s?G(P({},s),{dimension:n*s.dimension}):"glue"in s?G(P({},s),{glue:G(P({},s.glue),{dimension:n*s.glue.dimension}),shrink:s.shrink?G(P({},s.shrink),{dimension:n*s.shrink.dimension}):void 0,grow:s.grow?G(P({},s.grow),{dimension:n*s.grow.dimension}):void 0}):e}toDimension(e){let r=this.evaluate(e);return r===void 0?null:"dimension"in r?r:"glue"in r?r.glue:"number"in r?{dimension:r.number}:null}toEm(e,r){if(e===null)return 0;let n=this.toDimension(e);return n===null?0:Nte(n,r)/ZA}toNumber(e){if(e===null)return null;let r=this.evaluate(e);return r===void 0?null:"number"in r?r.number:"dimension"in r?r.dimension:"glue"in r?r.glue.dimension:"string"in r?Number(r.string):null}toColor(e){var r,n;if(e===null)return null;let i=this.evaluate(e);return i===void 0?null:"string"in i?(n=(r=this.colorMap)==null?void 0:r.call(this,i.string))!=null?n:i.string:null}toBackgroundColor(e){var r,n;if(e===null)return null;let i=this.evaluate(e);return i===void 0?null:"string"in i?(n=(r=this.backgroundColorMap)==null?void 0:r.call(this,i.string))!=null?n:i.string:null}},ef=["body","above","below","superscript","subscript"];function Ed(t){return typeof t=="string"&&ef.includes(t)}function $l(t){return t!==void 0&&Array.isArray(t)&&t.length===2}var se=class rl{constructor(e){this.isRoot=!1;var r,n,i,s,a,o,l;this.type=e.type,typeof e.value=="string"&&(this.value=e.value),this.command=(n=(r=e.command)!=null?r:this.value)!=null?n:"",this.mode=(i=e.mode)!=null?i:"math",e.isFunction&&(this.isFunction=!0),(e.isRoot||this.type==="root")&&(this.isRoot=!0),e.limits&&(this.subsupPlacement=e.limits),this.style=P({},(s=e.style)!=null?s:{}),this.displayContainsHighlight=(a=e.displayContainsHighlight)!=null?a:!1,this.captureSelection=(o=e.captureSelection)!=null?o:!1,this.skipBoundary=(l=e.skipBoundary)!=null?l:!1,e.verbatimLatex!==void 0&&e.verbatimLatex!==null&&(this.verbatimLatex=e.verbatimLatex),e.args&&(this.args=e.args),e.body&&(this.body=e.body),this._changeCounter=0}static createBox(e,r,n){var i;if(!r)return null;let s=sLe(r),a=[];for(let l of s){let c=l[0].style,u=aLe(e,l,{style:{color:c.color,backgroundColor:c.backgroundColor,fontSize:c.fontSize}});u&&a.push(u)}if(a.length===0)return null;let o=((i=n==null?void 0:n.classes)!=null?i:"").trim();return a.length===1&&!o&&!(n!=null&&n.type)?a[0].wrap(e):new ge(a,{classes:o,type:n==null?void 0:n.type}).wrap(e)}static serialize(e,r){return hs.serialize(e,r)}static commonAncestor(e,r){if(e===r||e.parent===r.parent)return e.parent;let n=new WeakSet,{parent:i}=e;for(;i;)n.add(i),i=i.parent;for(i=r.parent;i;){if(n.has(i))return i;i=i.parent}}static fromJson(e){return typeof e=="string"?new rl({type:"mord",value:e,mode:"math"}):new rl(e)}toJson(){if(this._json)return this._json;let e={};if(this.type&&(e.type=this.type),this.mode!=="math"&&(e.mode=this.mode),this.command&&this.command!==this.value&&(e.command=this.command),this.value!==void 0&&(e.value=this.value),this.style&&Object.keys(this.style).length>0&&(e.style=P({},this.style)),this.verbatimLatex!==void 0&&(e.verbatimLatex=this.verbatimLatex),this.subsupPlacement&&(e.subsupPlacement=this.subsupPlacement),this.explicitSubsupPlacement&&(e.explicitSubsupPlacement=!0),this.isFunction&&(e.isFunction=!0),this.displayContainsHighlight&&(e.displayContainsHighlight=!0),this.skipBoundary&&(e.skipBoundary=!0),this.captureSelection&&(e.captureSelection=!0),this.args&&(e.args=oLe(this.args)),this._branches)for(let r of Object.keys(this._branches))this._branches[r]&&(e[r]=this._branches[r].filter(n=>n.type!=="first").map(n=>n.toJson()));return e.type==="mord"&&Object.keys(e).length===2&&"value"in e?e.value:(this._json=e,e)}get changeCounter(){return this.parent?this.parent.changeCounter:this._changeCounter}set isDirty(e){e&&(this._json=void 0,this.parent||this._changeCounter++,"verbatimLatex"in this&&(this.verbatimLatex=void 0),this._children=void 0,this.parent&&(this.parent.isDirty=!0))}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Ln(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,e):this.body&&this.command?lt([qt(this.command,this.bodyToLatex(e)),this.supsubToLatex(e)]):this.body?lt([this.bodyToLatex(e),this.supsubToLatex(e)]):!this.value||this.value==="​"?"":this.command}bodyToLatex(e){var r;let n=(r=e.defaultMode)!=null?r:this.mode==="math"?"math":"text";return hs.serialize(this.body,G(P({},e),{defaultMode:n}))}aboveToLatex(e){return hs.serialize(this.above,e)}belowToLatex(e){return hs.serialize(this.below,e)}supsubToLatex(e){let r="";if(e=G(P({},e),{defaultMode:"math"}),this.branch("subscript")!==void 0){let n=hs.serialize(this.subscript,e);n.length===0?r+="_{}":n.length===1?/^[0-9]$/.test(n)?r+=`_${n}`:r+=`_{${n}}`:r+=`_{${n}}`}if(this.branch("superscript")!==void 0){let n=hs.serialize(this.superscript,e);n.length===0?r+="^{}":n.length===1?n==="′"?r+="^\\prime ":n==="″"?r+="^\\doubleprime ":/^[0-9]$/.test(n)?r+=`^${n}`:r+=`^{${n}}`:r+=`^{${n}}`}return r}get treeDepth(){let e=1,r=this.parent;for(;r;)r=r.parent,e+=1;return e}get inCaptureSelection(){let e=this;for(;e;){if(e.captureSelection)return!0;e=e.parent}return!1}get parentPrompt(){let e=this.parent;for(;e;){if(e.type==="prompt"&&!e.captureSelection)return e;e=e.parent}return null}branch(e){if(Ed(e)&&this._branches)return this._branches[e]}get branches(){if(!this._branches)return[];let e=[];for(let r of ef)this._branches[r]&&e.push(r);return e}createBranch(e){return Ed(e),Ed(e)?(this._branches?this._branches[e]||(this._branches[e]=[this.makeFirstAtom(e)]):this._branches={[e]:[this.makeFirstAtom(e)]},this.isDirty=!0,this._branches[e]):[]}get row(){return $l(this.parentBranch)?this.parentBranch[0]:-1}get col(){return $l(this.parentBranch)?this.parentBranch[1]:-1}get body(){var e;return(e=this._branches)==null?void 0:e.body}set body(e){this.setChildren(e,"body")}get superscript(){var e;return(e=this._branches)==null?void 0:e.superscript}set superscript(e){this.setChildren(e,"superscript")}get subscript(){var e;return(e=this._branches)==null?void 0:e.subscript}set subscript(e){this.setChildren(e,"subscript")}get above(){var e;return(e=this._branches)==null?void 0:e.above}set above(e){this.setChildren(e,"above")}get below(){var e;return(e=this._branches)==null?void 0:e.below}set below(e){this.setChildren(e,"below")}applyStyle(e,r){this.isDirty=!0,r!=null&&r.unstyledOnly?(e.color&&!this.style.color&&(this.style.color=e.color),e.backgroundColor&&!this.style.backgroundColor&&(this.style.backgroundColor=e.backgroundColor),e.fontFamily&&!this.style.fontFamily&&(this.style.fontFamily=e.fontFamily),e.fontShape&&!this.style.fontShape&&(this.style.fontShape=e.fontShape),e.fontSeries&&!this.style.fontSeries&&(this.style.fontSeries=e.fontSeries),e.fontSize&&!this.style.fontSize&&(this.style.fontSize=e.fontSize),e.variant&&!this.style.variant&&(this.style.variant=e.variant),e.variantStyle&&!this.style.variantStyle&&(this.style.variantStyle=e.variantStyle)):this.style=P(P({},this.style),e),this.style.fontFamily==="none"&&delete this.style.fontFamily,this.style.fontShape==="auto"&&delete this.style.fontShape,this.style.fontSeries==="auto"&&delete this.style.fontSeries,this.style.color==="none"&&(delete this.style.color,delete this.style.verbatimColor),this.style.backgroundColor==="none"&&(delete this.style.backgroundColor,delete this.style.verbatimBackgroundColor),this.style.fontSize==="auto"&&delete this.style.fontSize;for(let n of this.children)n.applyStyle(e,r)}getInitialBaseElement(){var e,r,n;return this.hasEmptyBranch("body")?this:((e=this.body)==null||e[0].type,(n=(r=this.body[1])==null?void 0:r.getInitialBaseElement())!=null?n:this)}getFinalBaseElement(){return this.hasEmptyBranch("body")?this:this.body[this.body.length-1].getFinalBaseElement()}isCharacterBox(){return this.type==="leftright"||this.type==="genfrac"||this.type==="subsup"||this.type==="delim"||this.type==="array"||this.type==="surd"?!1:this.getFinalBaseElement().type==="mord"}hasEmptyBranch(e){let r=this.branch(e);return r?(r.length>0,r[0].type,r.length===1):!0}setChildren(e,r){var n;if(!e||(Ed(r),!Ed(r)))return;let i=((n=e[0])==null?void 0:n.type)==="first"?[...e]:[this.makeFirstAtom(r),...e];this._branches?this._branches[r]=i:this._branches={[r]:i};for(let s of e)s.parent=this,s.parentBranch=r;this.isDirty=!0}makeFirstAtom(e){let r=new rl({type:"first",mode:this.mode});return r.parent=this,r.parentBranch=e,r}addChild(e,r){e.type,this.createBranch(r).push(e),this.isDirty=!0,e.parent=this,e.parentBranch=r}addChildBefore(e,r){r.parentBranch;let n=this.createBranch(r.parentBranch);n.splice(n.indexOf(r),0,e),this.isDirty=!0,e.parent=this,e.parentBranch=r.parentBranch}addChildAfter(e,r){r.parentBranch;let n=this.createBranch(r.parentBranch);n.splice(n.indexOf(r)+1,0,e),this.isDirty=!0,e.parent=this,e.parentBranch=r.parentBranch}addChildren(e,r){let n=this.createBranch(r);for(let i of e)i.parent=this,i.parentBranch=r,n.push(i);this.isDirty=!0}addChildrenAfter(e,r){e.length===0||e[0].type,r.parentBranch;let n=this.createBranch(r.parentBranch);n.splice(n.indexOf(r)+1,0,...e),this.isDirty=!0;for(let i of e)i.parent=this,i.parentBranch=r.parentBranch;return e[e.length-1]}removeBranch(e){let r=this.branch(e);if(Ed(e)&&(this._branches[e]=void 0),!r)return[];for(let s of r)s.parent=void 0,s.parentBranch=void 0;r[0].type;let[n,...i]=r;return this.isDirty=!0,i}removeChild(e){if(e.parent,e.type==="first")return;let r=this.branch(e.parentBranch),n=r.indexOf(e);r.splice(n,1),this.isDirty=!0,e.parent=void 0,e.parentBranch=void 0}get siblings(){return this.parent?this.parent.branch(this.parentBranch):[]}get firstSibling(){return this.siblings[0]}get lastSibling(){let{siblings:e}=this;return e[e.length-1]}get isFirstSibling(){return this===this.firstSibling}get isLastSibling(){return this===this.lastSibling}get hasNoSiblings(){return this.siblings.length===1}get leftSibling(){this.parent;let e=this.parent.branch(this.parentBranch);return e[e.indexOf(this)-1]}get rightSibling(){this.parent;let e=this.parent.branch(this.parentBranch);return e[e.indexOf(this)+1]}get hasChildren(){return!!(this._branches&&this.children.length>0)}get firstChild(){return this.hasChildren,this.children[0]}get lastChild(){this.hasChildren;let{children:e}=this;return e[e.length-1]}get children(){if(this._children)return this._children;if(!this._branches)return[];let e=[];for(let r of ef)if(this._branches[r])for(let n of this._branches[r])e.push(...n.children),e.push(n);return this._children=e,e}render(e){if(this.type==="first"&&!e.atomIdsSettings)return null;let r=Ln(this.command,this.mode);if(r!=null&&r.render)return r.render(this,e);let n=new mt({parent:e},this.style),i=this.createBox(n,{classes:this.parent?"":"ML__base"});return i?(!this.subsupPlacement&&(this.superscript||this.subscript)&&(i=this.attachSupsub(n,{base:i})),i.wrap(n)):null}attachSupsub(e,r){var n;let i=r.base,s=this.superscript,a=this.subscript;if(!s&&!a)return i;let o=null,l=null,c=(n=r.isCharacterBox)!=null?n:this.isCharacterBox(),u=0;if(s){let m=new mt({parent:e,mathstyle:"superscript"});o=rl.createBox(m,s),c||(u=i.height-e.metrics.supDrop*m.scalingFactor)}let d=0;if(a){let m=new mt({parent:e,mathstyle:"subscript"});l=rl.createBox(m,a),c||(d=i.depth+e.metrics.subDrop*m.scalingFactor)}let A;e.isDisplayStyle?A=e.metrics.sup1:e.isCramped?A=e.metrics.sup3:A=e.metrics.sup2;let f=.5/ZA/e.scalingFactor,p=null;if(l&&o){u=Math.max(u,A,o.depth+.25*e.metrics.xHeight),d=Math.max(d,e.metrics.sub2);let m=e.metrics.defaultRuleThickness;if(u-o.depth-(l.height-d)<4*m){d=4*m-(u-o.depth)+l.height;let g=.8*e.metrics.xHeight-(u-o.depth);g>0&&(u+=g,d-=g)}let v=this.type==="extensible-symbol"&&i.italic?-i.italic:0;p=new qr({individualShift:[{box:l,shift:d,marginLeft:v},{box:o,shift:-u}]}).wrap(e)}else l&&!o?(d=Math.max(d,e.metrics.sub1,l.height-.8*uu),p=new qr({shift:d,children:[{box:l,marginRight:f,marginLeft:this.isCharacterBox()?-i.italic:0}]})):!l&&o&&(u=Math.max(u,A,o.depth+.25*uu),p=new qr({shift:-u,children:[{box:o,marginRight:f}]}));return new ge([i,new ge(p,{caret:this.caret,isSelected:this.isSelected,classes:"ML__msubsup"})],{type:r.type})}attachLimits(e,r){let n=this.superscript?rl.createBox(new mt({parent:e,mathstyle:"superscript"},this.style),this.superscript):null,i=this.subscript?rl.createBox(new mt({parent:e,mathstyle:"subscript"},this.style),this.subscript):null;return!n&&!i?r.base.wrap(e):rLe(e,G(P({},r),{above:n,below:i}))}bind(e,r){if(!r||e.isPhantom||this.value==="​")return r;let n=this.parent;for(;n&&!n.captureSelection;)n=n.parent;return n!=null&&n.captureSelection||(this.id||(this.id=e.makeID()),r.atomID=this.id),r}createBox(e,r){var n,i,s,a;let o=(n=this.value)!=null?n:this.body,l=(i=r==null?void 0:r.boxType)!=null?i:$S(this.type),c=(s=r==null?void 0:r.classes)!=null?s:"";this.mode==="text"&&(c+=" ML__text");let u=typeof o=="string"||o===void 0?new ge(o??null,{type:l,isSelected:this.isSelected,mode:this.mode,maxFontSize:e.scalingFactor,style:G(P({variant:"normal"},this.style),{fontSize:Math.max(1,e.size+e.mathstyle.sizeDelta)}),letterShapeStyle:e.letterShapeStyle,classes:c}):(a=rl.createBox(e,o,{type:l,classes:c}))!=null?a:new ge(null);return e.isTight&&(u.isTight=!0),(this.mode!=="math"||this.style.variant==="main")&&(u.italic=0),u.right=u.italic,this.bind(e,u),this.caret&&!this.superscript&&!this.subscript&&(u.caret=this.caret),u}isDigit(){var e;return this.type==="mord"&&this.value?/^[\d,\.]$/.test(this.value):this.type==="group"&&((e=this.body)==null?void 0:e.length)===2?this.body[0].type==="first"&&this.body[1].value===",":!1}asDigit(){var e;return this.type==="mord"&&this.value&&/^[\d,\.]$/.test(this.value)?this.value:this.type==="group"&&((e=this.body)==null?void 0:e.length)===2&&this.body[0].type==="first"&&this.body[1].value===","?".":""}};function sLe(t){let e,r=[],n=[];for(let i of t)if(i.type==="first"&&n.push(i),!e&&!i.style)n.push(i);else{let s=i.style;e&&s.color===e.color&&s.backgroundColor===e.backgroundColor&&s.fontSize===e.fontSize?n.push(i):(n.length>0&&r.push(n),n=[i],e=s)}return n.length>0&&r.push(n),r}function aLe(t,e,r){var n,i,s,a,o;if(!e||e.length===0)return null;let l=new mt({parent:t},r.style),c=!((n=l.atomIdsSettings)!=null&&n.groupNumbers),u=[];if(e.length===1){let A=e[0],f=A.render(l);f&&(c&&A.isSelected&&f.selected(!0),u=[f])}else{let A="",f=!0;for(let p of e){(i=l.atomIdsSettings)!=null&&i.groupNumbers&&A&&(f&&p.isDigit()||!f&&Y7(p))&&(l.atomIdsSettings.overrideID=A);let m=p.render(l);l.atomIdsSettings&&(l.atomIdsSettings.overrideID=void 0),m&&((s=l.atomIdsSettings)!=null&&s.groupNumbers&&((p.isDigit()||Y7(p))&&(!A||f!==p.isDigit())&&(f=p.isDigit(),A=(a=p.id)!=null?a:""),A&&(!(p.isDigit()||Y7(p))||!p.hasEmptyBranch("superscript")||!p.hasEmptyBranch("subscript"))&&(A="")),c&&p.isSelected&&m.selected(!0),u.push(m))}}if(u.length===0)return null;let d=new ge(u,G(P({isTight:l.isTight},r),{type:(o=r.type)!=null?o:"lift"}));return d.isSelected=u.every(A=>A.isSelected),d.wrap(l)}function Y7(t){return t.mode==="text"}function oLe(t){return t.map(e=>e===null?"<null>":Array.isArray(e)&&e[0]instanceof se?{atoms:e.map(r=>r.toJson())}:typeof e=="object"&&"group"in e?{group:e.group.map(r=>r.toJson())}:e)}var Ff=class Ute extends se{constructor(e,r,n){super({type:"text",command:e,mode:"text",displayContainsHighlight:!0}),this.value=r,this.verbatimLatex=r,this.applyStyle(n)}static fromJson(e){return new Ute(e.command,e.value,e.style)}render(e){let r=this.createBox(e);return this.caret&&(r.caret=this.caret),r}_serialize(e){var r;return(r=this.verbatimLatex)!=null?r:Mte("text",this.value.codePointAt(0))}};function lLe(t,e){if(t.direction===e.direction){let r=t.ranges.length;if(e.ranges.length===r){let n=0;for(;n<r&&cLe(t.ranges[n],e.ranges[n])==="equal";)n++;return n===r?"equal":"different"}}return"different"}function cLe(t,e){return t[0]===e[0]&&t[1]===e[1]?"equal":"different"}function On(t){let e=1/0,r=-1/0;for(let n of t.ranges)e=Math.min(e,n[0],n[1]),r=Math.max(r,n[0],n[1]);return[e,r]}function jc(t){return typeof t=="number"&&!Number.isNaN(t)}function w3(t){return Array.isArray(t)&&t.length===2}function Sx(t){return t!=null&&typeof t=="object"&&"ranges"in t&&Array.isArray(t.ranges)}function uLe(t,e){let r=t.at(e),n;if(r){n=r.mode;let i=r.parent;for(;!n&&i;)i&&(n=i.mode),i=i.parent}return n}function dLe(t,e){if(!e)return"";if(typeof e=="string")return e;if(!t||e.after===void 0)return e.value;let r=!1,n=!1,i=!1,s=!1,a=!1,o=!1,l=!1,c=!1,u=!1,d=!1,A=!1,f=!1,p=!1,m=!1,v=!1,g=t[0],y=0;for(;g!=null&&g.type&&/^(subsup|placeholder)$/.test(g.type);)y+=1,g=t[y];return r=!g||g.type==="first",g&&(m=g.mode==="text",n=!m&&g.type==="mord"&&IS.test(g.value),i=!m&&g.type==="mord"&&/\d+$/.test(g.value),s=!m&&g.isFunction,a=g.type==="genfrac",o=g.type==="surd",l=g.type==="mbin",c=g.type==="mrel",u=g.type==="mop"||g.type==="operator"||g.type==="extensible-symbol",d=g.type==="mpunct"||g.type==="minner",A=g.type==="array",f=g.type==="mopen",p=g.type==="mclose"||g.type==="leftright",v=g.type==="space"),e.after.includes("nothing")&&r||e.after.includes("letter")&&n||e.after.includes("digit")&&i||e.after.includes("function")&&s||e.after.includes("frac")&&a||e.after.includes("surd")&&o||e.after.includes("binop")&&l||e.after.includes("relop")&&c||e.after.includes("operator")&&u||e.after.includes("punct")&&d||e.after.includes("array")&&A||e.after.includes("openfence")&&f||e.after.includes("closefence")&&p||e.after.includes("text")&&m||e.after.includes("space")&&v?e.value:""}function HF(t,e,r){return r?dLe(t,r[e]):""}var Rte={"&":"\\&","%":"\\%",$:"\\$","''":"^{\\doubleprime}","'''":"^{\\prime\\prime\\prime}","''''":"^{\\prime\\prime\\prime\\prime}",alpha:"\\alpha",delta:"\\delta",Delta:"\\Delta",pi:"\\pi",Pi:"\\Pi",theta:"\\theta",Theta:"\\Theta",ii:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryI"},jj:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryJ"},ee:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\exponentialE"},nabla:"\\nabla",grad:"\\nabla",del:"\\partial",deg:{after:"digit+space",value:"\\degree"},infty:"\\infty","∞":"\\infty",oo:{after:"nothing+digit+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\infty"},"∑":"\\sum",sum:"\\sum_{#?}^{#?}",int:"\\int_{#?}^{#?}",prod:"\\prod_{#?}^{#?}",sqrt:"\\sqrt{#?}","∆":"\\differentialD","∂":"\\differentialD",sin:"\\sin",cos:"\\cos",tan:"\\tan",arccos:"\\arccos",arcsin:"\\arcsin",arctan:"\\arctan",arctg:"\\operatorname{arctg}",arcsec:"\\operatorname{arcsec}",arccsc:"\\operatorname{arccsc}",arsinh:"\\operatorname{arsinh}",arccosh:"\\operatorname{arccosh}",arcosh:"\\operatorname{arcosh}",artanh:"\\operatorname{artanh}",arctanh:"\\operatorname{arctanh}",arcsech:"\\operatorname{arcsech}",arccsch:"\\operatorname{arccsch}",ch:"\\operatorname{ch}",cosec:"\\operatorname{cosec}",cosh:"\\cosh",cot:"\\cot",cotg:"\\operatorname{cotg}",coth:"\\coth",csc:"\\csc",ctg:"\\operatorname{ctg}",cth:"\\operatorname{cth}",sec:"\\sec",sech:"\\operatorname{sech}",sinh:"\\sinh",sh:"\\operatorname{sh}",tanh:"\\tanh",tg:"\\operatorname{tg}",th:"\\operatorname{th}",arg:"\\arg",lg:"\\lg",lb:"\\operatorname{lb}",log:"\\log_{#?}",ln:"\\ln",exp:"\\exp",lim:"\\lim_{#?\\to#?}",dx:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD x"},dy:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD y"},dt:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD t"},AA:"\\forall",EE:"\\exists","!EE":"\\nexists","&&":"\\land",xin:{after:"nothing+text+relop+punct+openfence+space",value:"x \\in"},sint:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\sin t"},in:{after:"nothing+letter+closefence",value:"\\in"},"!in":"\\notin",NN:"\\mathbb{N}",ZZ:"\\mathbb{Z}",QQ:"\\mathbb{Q}",RR:"\\mathbb{R}",CC:"\\mathbb{C}",xx:"\\times","+-":"\\pm","≠":"\\ne","!=":"\\ne","≥":"\\ge",">=":"\\ge","≤":"\\le","<=":"\\le","<<":"\\ll",">>":"\\gg","~~":"\\approx","≈":"\\approx","?=":"\\questeq","÷":"\\div","¬":"\\neg",":=":"\\coloneq","::":"\\Colon","(:":"\\langle",":)":"\\rangle",beta:"\\beta",chi:"\\chi",epsilon:"\\epsilon",varepsilon:"\\varepsilon",eta:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta"},gamma:"\\gamma",Gamma:"\\Gamma",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",Lambda:"\\Lambda",mu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu"},nu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\nu"},µ:"\\mu",phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\phi"},Phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Phi"},varphi:"\\varphi",psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\psi"},Psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Psi"},rho:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\rho"},sigma:"\\sigma",Sigma:"\\Sigma",tau:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\tau"},vartheta:"\\vartheta",upsilon:"\\upsilon",xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\xi"},Xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Xi"},zeta:"\\zeta",omega:"\\omega",Omega:"\\Omega",Ω:"\\omega",forall:"\\forall",exists:"\\exists","!exists":"\\nexists",":.":"\\therefore",liminf:"\\liminf_{#?}",limsup:"\\limsup_{#?}",argmin:"\\operatorname*{arg~min}_{#?}",argmax:"\\operatorname*{arg~max}_{#?}",det:"\\det",mod:"\\bmod{#?}","(mod":"\\pmod{#?}",max:"\\max",min:"\\min",erf:"\\operatorname{erf}",erfc:"\\operatorname{erfc}",bessel:"\\operatorname{bessel}",mean:"\\operatorname{mean}",median:"\\operatorname{median}",fft:"\\operatorname{fft}",lcm:"\\operatorname{lcm}",gcd:"\\gcd",randomReal:"\\operatorname{randomReal}",randomInteger:"\\operatorname{randomInteger}",Re:"\\operatorname{Re}",Im:"\\operatorname{Im}",mm:{after:"nothing+digit+operator",value:"\\operatorname{mm}"},cm:{after:"nothing+digit+operator",value:"\\operatorname{cm}"},km:{after:"nothing+digit+operator",value:"\\operatorname{km}"},kg:{after:"nothing+digit+operator",value:"\\operatorname{kg}"},ft:{after:"nothing+digit+operator",value:"\\operatorname{ft}"},inch:{after:"nothing+digit+operator",value:"\\operatorname{inch}"},mi:{after:"nothing+digit+operator",value:"\\operatorname{mi}"},"...":"\\ldots","+...":"+\\cdots","-...":"-\\cdots","->...":"\\to\\cdots","-->...":"\\longrightarrow\\cdots","->":"\\to","|->":"\\mapsto","-->":"\\longrightarrow","<--":"\\longleftarrow","=>":"\\Rightarrow","==>":"\\Longrightarrow","<=>":"\\iff","<->":"\\leftrightarrow","(.)":"\\odot","(+)":"\\oplus","(/)":"\\oslash","(*)":"\\otimes","(-)":"\\ominus","||":"\\Vert","*":"\\cdot","**":"\\star","***":"\\ast","//":"\\slash","\\\\":"\\backslash",setminus:"\\backslash","|><":"\\ltimes","><|":"\\rtimes","|><|":"\\bowtie","-:":"\\div",divide:"\\div","@":"\\circ","^^":"\\wedge","^^^":"\\bigwedge",vv:"\\vee",vvv:"\\bigvee",nn:"\\cap",nnn:"\\bigcap",uu:"\\cup",uuu:"\\bigcup","-=":"\\equiv","~=":"\\cong",lt:"<","lt=":"\\leq",gt:">","gt=":"\\geq","-<":"\\prec","-lt":"\\prec","-<=":"\\preceq",">-=":"\\succeq",prop:"\\propto",diamond:"\\diamond",square:"\\square",iff:"\\iff",sub:"\\subset",sup:"\\supset",sube:"\\subseteq",supe:"\\supseteq",uarr:"\\uparrow",darr:"\\downarrow",rarr:"\\rightarrow",rArr:"\\Rightarrow",larr:"\\leftarrow",lArr:"\\Leftarrow",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",aleph:"\\aleph",and:"\\land",or:"\\lor",not:"\\neg","_|_":"\\bot",TT:"\\top","|--":"\\vdash","|==":"\\models","|__":"\\lfloor","__|":"\\rfloor","|~":"\\lceil","~|":"\\rceil",">->":"\\rightarrowtail","->>":"\\twoheadrightarrow",">->>":"\\twoheadrightarrowtail",times:"\\times",of:"\\circ",infinity:"\\infty",defint:"\\int_{#?}^{#?}",approaches:"\\to",ceil:"\\left\\lceil#?\\right\\rceil",floor:"\\left\\lfloor#?\\right\\rfloor",union:"\\cup",asterisk:"\\ast",frac:"\\frac{#?}{#?}",cbrt:"\\sqrt[3]{#?}",nthroot:"\\sqrt[#?]{#?}"};function KS(t,e){var r;let n=(r=e==null?void 0:e.format)!=null?r:"auto";return n==="auto"&&([n,t]=hLe(t)),n==="ascii-math"?(t=t.replace(/\u2061/gu,""),t=t.replace(/\u3016/gu,"{"),t=t.replace(/\u3017/gu,"}"),t=t.replace(/([^\\])sinx/g,"$1\\sin x"),t=t.replace(/([^\\])cosx/g,"$1\\cos x "),t=t.replace(/\u2013/g,"-"),["ascii-math",ki(t,{inlineShortcuts:e==null?void 0:e.inlineShortcuts})]):["latex",t]}function ki(t,e){var r;if(t=t.trim(),!t)return"";let n=(r=e.inlineShortcuts)!=null?r:Rte;if(t.startsWith("^")||t.startsWith("_")){let{match:o,rest:l}=hd(t.slice(1),{inlineShortcuts:n,noWrap:!0});return`${t[0]}{${o}}${ki(l,e)}`}let i=t.match(/^(sqrt|\u221A)(.*)/);if(i){let{match:o,rest:l}=hd(i[2],{inlineShortcuts:n,noWrap:!0});return`\\sqrt{${o??"\\placeholder{}"}}${ki(l,e)}`}if(i=t.match(/^(\\cbrt|\u221B)(.*)/),i){let{match:o,rest:l}=hd(i[2],{inlineShortcuts:n,noWrap:!0});return`\\sqrt[3]{${o??"\\placeholder{}"}}${ki(l,e)}`}if(i=t.match(/^abs(.*)/),i){let{match:o,rest:l}=hd(i[1],{inlineShortcuts:n,noWrap:!0});return`\\left|${o??"\\placeholder{}"}\\right|${ki(l,e)}`}if(i=t.match(/^["”“](.*?)["”“](.*)/),i)return`\\text{${i[1]}}${ki(i[2],e)}`;if(i=t.match(/^([^a-zA-Z0-9\(\{\[\_\^\\\s"]+)(.*)/),i)return`${Cz(i[1],n)}${ki(i[2],e)}`;if(/^([fgh])[^a-zA-Z]/.test(t)){let{rest:o,match:l}=hd(t.slice(1),{inlineShortcuts:n,noWrap:!0}),c="";return t[1]==="("?c=`${t[0]}\\left(${l}\\right)`:c=t[0]+l,c+ki(o,e)}if(i=t.match(/^([a-zA-Z]+)(.*)/),i)return Cz(i[1],n)+ki(i[2],e);let{match:s,rest:a}=hd(t,{inlineShortcuts:n,noWrap:!0});if(s&&a[0]==="/"){let o=hd(a.slice(1),{inlineShortcuts:n,noWrap:!0});if(o.match)return`\\frac{${s}}{${o.match}}${ki(o.rest,e)}`}else return t.startsWith("(")?"\\left("+s+"\\right)"+ki(a,e):s+ki(a,e);return i=t.match(/^(\s+)(.*)$/),i?" "+ki(i[2],e):t}var wz={"[":"\\lbrack","]":"\\rbrack","{":"\\lbrace","}":"\\rbrace"};function hd(t,e){var r,n;let i="";t=t.trim();let s=t,a=t.charAt(0),o={"(":")","{":"}","[":"]"}[a];if(o){let l=1,c=1;for(;c<t.length&&l>0;)t[c]===a&&l++,t[c]===o&&l--,c++;if(l===0){let u=ki(t.substring(1,c-1),e);e.noWrap&&a==="("?i=u:i=`\\left${(r=wz[a])!=null?r:a}${u}\\right${(n=wz[o])!=null?n:o}`,s=t.slice(Math.max(0,c))}else i=t.substring(1,c),s=""}else{let l=t.match(/^([a-zA-Z]+)/);if(l){let c=HF(null,t,e.inlineShortcuts);if(c)return c=c.replace("_{#?}",""),c=c.replace("^{#?}",""),{match:c,rest:t.slice(c.length)}}if(l=t.match(/^([a-zA-Z])/),l)return{match:l[1],rest:t.slice(1)};if(l=t.match(/^(-)?\d+(\.\d*)?/),l)return{match:l[0],rest:t.slice(l[0].length)};/^\\(left|right)/.test(t)||(l=t.match(/^(\\[a-zA-Z]+)/),l&&(s=t.slice(l[1].length),i=l[1]))}return{match:i,rest:s}}function Cz(t,e){let r=HF(null,t,e);return r?(r=r.replace("_{#?}",""),r=r.replace("^{#?}",""),r+=" "):r=t,r}var Qte=[["\\[","\\]"],["\\(","\\)"],["$$","$$"],["$","$"],["\\begin{math}","\\end{math}"],["\\begin{displaymath}","\\end{displaymath}"],["\\begin{equation}","\\end{equation}"],["\\begin{equation*}","\\end{equation*}"]];function $F(t){let e=t.trim();for(let r of Qte)if(e.startsWith(r[0])&&e.endsWith(r[1]))return[!0,e.substring(r[0].length,e.length-r[1].length)];return[!1,t]}function hLe(t){if(t=t.trim(),t.length<=1)return["latex",t];let e;return[e,t]=$F(t),e?["latex",t]:t.startsWith("`")&&t.endsWith("`")?(t=t.substring(1,t.length-1),["ascii-math",t]):t.includes("\\")?["latex",t]:/\$.+\$/.test(t)?["latex",`\\text{${t}}`]:[void 0,t]}var ALe="$$",fLe="$$",pLe=(t,e,r)=>(Qte.some(n=>e.startsWith(n[0])&&e.endsWith(n[1]))||(e=`${ALe} ${e} ${fLe}`),e),zte=class _x{constructor(e){_x._modes[e]=this}static onPaste(e,r,n){var i;if(!r.contentEditable&&r.userSelect==="none")return r.model.announce("plonk"),!1;if(typeof n=="string"){let a=new DataTransfer;a.setData("text/plain",n),n=a}let s=new ClipboardEvent("paste",{clipboardData:n,cancelable:!0});return(i=r.host)!=null&&i.dispatchEvent(s)?_x._modes[e].onPaste(r,n):!1}static copyToClipboard(e,r){if(!e.contentEditable&&e.userSelect==="none"){e.model.announce("plonk");return}let n=e.model,i=n.selectionIsCollapsed?[0,n.lastOffset]:On(n.selection),s=n.getValue(i,r);navigator.clipboard.writeText(s).then(()=>{},()=>e.model.announce("plonk"))}static onCopy(e,r){var n;if(!r.clipboardData)return;if(!e.contentEditable&&e.userSelect==="none"){e.model.announce("plonk");return}let i=e.model,s=i.selectionIsCollapsed?[0,i.lastOffset]:On(i.selection),a=i.getAtoms(s);if(a.every(o=>o.mode==="text"||!o.mode))r.clipboardData.setData("text/plain",a.filter(o=>o instanceof Ff).map(o=>o.value).join(""));else if(a.every(o=>o.mode==="latex"))r.clipboardData.setData("text/plain",i.getAtoms(s,{includeChildren:!0}).map(o=>{var l;return(l=o.value)!=null?l:""}).join(""));else{let o;a.length===1&&a[0].verbatimLatex!==void 0?o=a[0].verbatimLatex:o=i.getValue(s,"latex-expanded"),r.clipboardData.setData("application/x-latex",o);try{r.clipboardData.setData("text/plain",e.options.onExport(e,o,s))}catch{}if(a.length===1){let l=a[0];(l.type==="root"||l.type==="group")&&(a=l.body.filter(c=>c.type!=="first"))}try{r.clipboardData.setData("application/json+mathlive",JSON.stringify(a.map(l=>l.toJson())))}catch{}if((n=window[Symbol.for("io.cortexjs.compute-engine")])!=null&&n.ComputeEngine){let l=globalThis.MathfieldElement.computeEngine;if(l)try{let c=l.jsonSerializationOptions;l.jsonSerializationOptions={metadata:["latex"]};let u=l.parse(i.getValue(s,"latex-unstyled"));l.jsonSerializationOptions=c;let d=JSON.stringify(u.json);d&&r.clipboardData.setData("application/json",d)}catch{}}}r.preventDefault()}static insert(e,r,n={}){var i;let s=n.mode==="auto"?e.mode:(i=n.mode)!=null?i:e.mode;return _x._modes[s].insert(e,r,n)}onPaste(e,r){return!1}insert(e,r,n){return!1}};zte._modes={};var $t=zte,mLe=[{key:"left",command:"moveToPreviousChar"},{key:"right",command:"moveToNextChar"},{key:"up",command:"moveUp"},{key:"down",command:"moveDown"},{key:"shift+[ArrowLeft]",command:"extendSelectionBackward"},{key:"shift+[ArrowRight]",command:"extendSelectionForward"},{key:"shift+[ArrowUp]",command:"extendSelectionUpward"},{key:"shift+[ArrowDown]",command:"extendSelectionDownward"},{key:"[Backspace]",command:"deleteBackward"},{key:"alt+[Delete]",command:"deleteBackward"},{key:"[Delete]",command:"deleteForward"},{key:"alt+[Backspace]",command:"deleteForward"},{key:"alt+[ArrowLeft]",command:"moveToPreviousWord"},{key:"alt+[ArrowRight]",command:"moveToNextWord"},{key:"shift+alt+[ArrowLeft]",command:"extendToPreviousWord"},{key:"shift+alt+[ArrowRight]",command:"extendToNextWord"},{key:"ctrl+[ArrowLeft]",command:"moveToGroupStart"},{key:"ctrl+[ArrowRight]",command:"moveToGroupEnd"},{key:"shift+ctrl+[ArrowLeft]",command:"extendToGroupStart"},{key:"shift+ctrl+[ArrowRight]",command:"extendToGroupEnd"},{key:"[Home]",command:"moveToMathfieldStart"},{key:"cmd+[ArrowLeft]",command:"moveToMathfieldStart"},{key:"shift+[Home]",command:"extendToMathFieldStart"},{key:"shift+cmd+[ArrowLeft]",command:"extendToMathFieldStart"},{key:"[End]",command:"moveToMathfieldEnd"},{key:"cmd+[ArrowRight]",command:"moveToMathfieldEnd"},{key:"shift+[End]",command:"extendToMathFieldEnd"},{key:"shift+cmd+[ArrowRight]",command:"extendToMathFieldEnd"},{key:"[Pageup]",command:"moveToGroupStart"},{key:"[Pagedown]",command:"moveToGroupEnd"},{key:"[Tab]",command:"moveToNextGroup"},{key:"shift+[Tab]",command:"moveToPreviousGroup"},{key:"[Escape]",ifMode:"math",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"text",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"latex",command:["complete","complete",{selectItem:"true"}]},{key:"\\",ifMode:"math",command:["switchMode","latex","","\\"]},{key:"[IntlBackslash]",ifMode:"math",command:["switchMode","latex","","\\"]},{key:"[Tab]",ifMode:"latex",command:["complete","accept-suggestion"]},{key:"[Return]",ifMode:"latex",command:"complete"},{key:"[Enter]",ifMode:"latex",command:"complete"},{key:"shift+[Escape]",ifMode:"latex",command:["complete","reject"]},{key:"[ArrowDown]",ifMode:"latex",command:"nextSuggestion"},{key:"[ArrowUp]",ifMode:"latex",command:"previousSuggestion"},{key:"ctrl+a",ifPlatform:"!macos",command:"selectAll"},{key:"cmd+a",command:"selectAll"},{key:"[Cut]",command:"cutToClipboard"},{key:"[Copy]",command:"copyToClipboard"},{key:"[Paste]",command:"pasteFromClipboard"},{key:"[Clear]",command:"deleteBackward"},{key:"[Undo]",command:"undo"},{key:"[Redo]",command:"redo"},{key:"[EraseEof]",command:"deleteToGroupEnd"},{key:"ctrl+x",ifPlatform:"ios",command:"cutToClipboard"},{key:"cmd+x",ifPlatform:"ios",command:"cutToClipboard"},{key:"ctrl+c",ifPlatform:"ios",command:"copyToClipboard"},{key:"cmd+c",ifPlatform:"ios",command:"copyToClipboard"},{key:"ctrl+v",ifPlatform:"ios",command:"pasteFromClipboard"},{key:"cmd+v",ifPlatform:"ios",command:"pasteFromClipboard"},{key:"ctrl+z",ifPlatform:"!macos",command:"undo"},{key:"cmd+z",command:"undo"},{key:"ctrl+y",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+y",command:"redo"},{key:"shift+ctrl+z",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+z",command:"redo"},{key:"ctrl+b",ifPlatform:"macos",command:"moveToPreviousChar"},{key:"ctrl+f",ifPlatform:"macos",command:"moveToNextChar"},{key:"ctrl+p",ifPlatform:"macos",command:"moveUp"},{key:"ctrl+n",ifPlatform:"macos",command:"moveDown"},{key:"ctrl+a",ifPlatform:"macos",command:"moveToMathfieldStart"},{key:"ctrl+e",ifPlatform:"macos",command:"moveToMathfieldEnd"},{key:"shift+ctrl+b",ifPlatform:"macos",command:"extendSelectionBackward"},{key:"shift+ctrl+f",ifPlatform:"macos",command:"extendSelectionForward"},{key:"shift+ctrl+p",ifPlatform:"macos",command:"extendSelectionUpward"},{key:"shift+ctrl+n",ifPlatform:"macos",command:"extendSelectionDownward"},{key:"shift+ctrl+a",ifPlatform:"macos",command:"extendToMathFieldStart"},{key:"shift+ctrl+e",ifPlatform:"macos",command:"extendToMathFieldEnd"},{key:"alt+ctrl+b",ifPlatform:"macos",command:"moveToPreviousWord"},{key:"alt+ctrl+f",ifPlatform:"macos",command:"moveToNextWord"},{key:"shift+alt+ctrl+b",ifPlatform:"macos",command:"extendToPreviousWord"},{key:"shift+alt+ctrl+f",ifPlatform:"macos",command:"extendToNextWord"},{key:"ctrl+h",ifPlatform:"macos",command:"deleteBackward"},{key:"ctrl+d",ifPlatform:"macos",command:"deleteForward"},{key:"ctrl+l",ifPlatform:"macos",command:"scrollIntoView"},{key:"ctrl+[Digit2]",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"ctrl+[Digit5]",ifMode:"math",command:"moveToOpposite"},{key:"ctrl+[Digit6]",ifMode:"math",command:"moveToSuperscript"},{key:"ctrl+[Return]",ifMode:"math",command:"addRowAfter"},{key:"ctrl+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Return]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"alt+p",ifMode:"math",command:["insert","\\pi"]},{key:"alt+v",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"alt+o",ifMode:"math",command:["insert","\\emptyset"]},{key:"alt+d",ifMode:"math",command:["insert","\\differentialD"]},{key:"shift+alt+o",ifMode:"math",command:["insert","\\varnothing"]},{key:"shift+alt+d",ifMode:"math",command:["insert","\\partial"]},{key:"alt+[Backslash]",ifMode:"math",command:["insert","\\backslash"]},{key:"[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#?}{#@}"]},{key:"shift+alt+k",command:"toggleKeystrokeCaption"},{key:"alt+[Space]",command:"toggleContextMenu"},{key:"alt+shift+[Space]",command:"toggleVirtualKeyboard"},{key:"alt+ctrl+[ArrowUp]",command:["speak","all",{withHighlighting:!1}]},{key:"alt+ctrl+[ArrowDown]",command:["speak","selection",{withHighlighting:!1}]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["switchMode","text","",""]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["switchMode","math","",""]},{key:"shift+alt+[KeyT]",ifMode:"math",command:["switchMode","text"]},{key:"shift+alt+[KeyT]",ifMode:"text",command:["switchMode","math"]},{key:"/",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","/"]},{key:"alt+shift+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","/"]},{key:"alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrack #0 \\right\\rbrack"]},{key:"ctrl+[Minus]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"moveToSubscript"},{key:"shift+alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrace #0 \\right\\rbrace"]},{key:"ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"shift+ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"shift+cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"ctrl+[Backspace]",ifMode:"math",command:"removeRow"},{key:"cmd+[Backspace]",ifMode:"math",command:"removeRow"},{key:"alt+[Tab]",ifMode:"math",command:"addColumnAfter"},{key:"shift+alt+[Tab]",ifMode:"math",command:"addColumnBefore"},{key:"alt+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"shift+alt+[Enter]",ifMode:"math",command:"addRowBefore"},{key:"alt+[Return]",ifMode:"math",command:"addRowAfter"},{key:"shift+alt+[Return]",ifMode:"math",command:"addRowBefore"},{key:"shift+[Backspace]",ifMode:"math",command:"removeColumn"},{key:"alt+[Digit5]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$\\infty"]},{key:"alt+[Digit9]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","("]},{key:"alt+[Digit0]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert",")"]},{key:"alt+|",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","|"]},{key:"shift+[Backquote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\~"]},{key:"[Backquote]",ifLayout:["windows.french","linux.french"],ifMode:"math",command:["insert","^2"]},{key:"[Backquote]",ifLayout:["windows.german","linux.german"],ifMode:"math",command:["insert","^"]},{key:"[IntlBackslash]",ifLayout:["apple.german"],ifMode:"math",command:["insert","^"]}],gLe={"\\sqrt":["alt+v","ctrl+[Digit2]"],"\\pi":"alt+p","\\infty":"alt+[Digit5]","\\differentialD":"alt+d","\\partial":"shift+alt+d","\\frac":"Slash","\\emptyset":"alt+o","\\varnothing":"shift+alt+o","\\~":"~"};function zc(t){var e;return((e=t.element)==null?void 0:e.mathfield)===t}function yLe(t){var e,r;return(r=(e=t.querySelector(".ML__caret"))!=null?e:t.querySelector(".ML__text-caret"))!=null?r:t.querySelector(".ML__latex-caret")}function kx(t){let e=yLe(t);if(!e)return null;let r=e.getBoundingClientRect();return{x:r.right,y:r.bottom,height:r.height}}function vLe(t){var e;if(!t.parent)return"root";let r=(e=t.parent.id)!=null?e:"";return r+=typeof t.parentBranch=="string"?"-"+t.parentBranch:`-${t.parentBranch[0]}/${t.parentBranch[0]}`,r}function Hte(t,e,r){if(!e)return null;let n=t.field.getBoundingClientRect(),i=e.right-e.left,s=e.bottom-e.top,a=Math.ceil(e.left-n.left+t.field.scrollLeft*r),o=Math.ceil(e.top-n.top);return{left:a,right:a+i,top:o,bottom:o+s}}function $te(t){let e=t.getBoundingClientRect(),r=parseInt(getComputedStyle(t).marginRight),n={top:e.top-1,bottom:e.bottom,left:e.left,right:e.right-1+r};if(t.children.length===0||t.tagName.toUpperCase()==="SVG")return n;for(let i of t.children)if(i.nodeType===1&&"atomId"in i.dataset&&!i.classList.contains("ML__pstrut")){let s=$te(i);n.left=Math.min(n.left,s.left),n.right=Math.max(n.right,s.right),n.top=Math.min(n.top,s.top),n.bottom=Math.max(n.bottom,s.bottom)}return n}function Tf(t,e){var r,n;if(!e.id)return null;let i=(n=(r=t.atomBoundsCache)==null?void 0:r.get(e.id))!=null?n:null;if(i!==null)return i;let s=t.field.querySelector(`[data-atom-id="${e.id}"]`);return i=s?$te(s):null,t.atomBoundsCache&&(i?t.atomBoundsCache.set(e.id,i):t.atomBoundsCache.delete(e.id)),i??null}function xLe(t,e){let[r,n]=e,i=null;for(let s=r;s<=n;s++){let a=Tf(t,t.model.at(s));a&&(i?(i.top=Math.min(i.top,a.top),i.bottom=Math.max(i.bottom,a.bottom),i.left=Math.min(i.left,a.left),i.right=Math.max(i.right,a.right)):i=a)}return i??{top:0,bottom:0,left:0,right:0}}function bLe(t,e,r){let n=new Map,i=t.field,s=i.offsetWidth,a=Math.floor(i.getBoundingClientRect().width)/s;a=isNaN(a)?1:a;for(let o of t.model.getAtoms(e,{includeChildren:!0})){if(r!=null&&r.excludeAtomsWithBackground&&o.style.backgroundColor)continue;let l=Hte(t,Tf(t,o),a);if(l){let c=vLe(o);if(n.has(c)){let u=n.get(c);n.set(c,{left:Math.min(u.left,l.left),right:Math.max(u.right,l.right),top:Math.min(u.top,l.top),bottom:Math.max(u.bottom,l.bottom)})}else n.set(c,l)}}return[...n.values()]}function Vte(t,e){return t.model.selection.ranges.reduce((r,n)=>r.concat(...bLe(t,n,e)),[])}function VF(t,e){return t==="*"||e==="none"?!0:e==="same-origin"?!window.origin||t===window.origin:typeof e=="function"?e(t):!1}function Kte(t){let e=0,r=0,n=t.offsetWidth,i=t.offsetHeight;for(;t instanceof HTMLElement;)e+=t.offsetTop,r+=t.offsetLeft,t=t.offsetParent;return new DOMRect(r,e,n,i)}function qte(t,e){if(!t)return;let r=t.model.at(e);if(!r)return;let n={},i=Tf(t,r);i&&(n.bounds=new DOMRect(i.left,i.top,i.right-i.left,i.bottom-i.top)),n.depth=r.treeDepth-2,n.style=r.style;let s=r;for(;s;){if(s.command==="\\htmlData"&&s.args&&typeof s.args[0]=="string"){let a=s.args[0].split(",");for(let o of a){let l=o.match(/([^=]+)=(.+$)/);if(l){let c=l[1].trim().replace(/ /g,"-");c&&(n.data||(n.data={}),n.data[c]=l[2])}else{let c=o.trim().replace(/ /g,"-");c&&(n.data||(n.data={}),n.data[c]=void 0)}}}(s.command==="\\htmlId"||s.command==="\\cssId")&&!n.id&&s.args&&typeof s.args[0]=="string"&&(n.id=s.args[0]),s=s.parent}return(r.mode==="math"||r.mode==="text")&&(n.latex=se.serialize([r],{defaultMode:"math"})),n}function wLe(t,e){let r=t.model.at(e);for(;r;){if(r.command==="\\href"){let n=r.args[0];if(typeof n=="string")return n}r=r.parent}return""}var CLe=`@keyframes ML__caret-blink {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
}
.ML__container {
  display: inline-flex;
  flex-flow: row;
  justify-content: space-between;
  align-items: flex-end;
  min-height: 39px;
  /* Need some room for the virtual keyboard toggle */
  width: 100%;
  padding: 4px;
  box-sizing: border-box;
  /* This attribute is necessary to work around a Firefox issue where 
  where clicking multiple times on the border leads to a focused mathfield that cannot be edited until focus is lost and regained (also fixes the multiple cursor issue on firefox that can occur with the same sequence of events).
  */
  pointer-events: auto;
  /* Prevent the browser from trying to interpret touch gestures in the field */
  /* "Disabling double-tap to zoom removes the need for browsers to
        delay the generation of click events when the user taps the screen." */
  touch-action: none;
  --_caret-color: var(--caret-color, hsl(var(--_hue), 40%, 49%));
  --_selection-color: var(--selection-color, #000);
  --_selection-background-color: var(--selection-background-color, hsl(var(--_hue), 70%, 85%));
  --_text-highlight-background-color: var(--highlight-text, hsla(var(--_hue), 40%, 50%, 0.1));
  --_contains-highlight-background-color: var(--contains-highlight-background-color, hsl(var(--_hue), 40%, 95%));
  --_smart-fence-color: var(--smart-fence-color, currentColor);
  --_smart-fence-opacity: var(--smart-fence-opacity, 0.5);
  --_latex-color: var(--latex-color, hsl(var(--_hue), 80%, 40%));
  --_correct-color: var(--correct-color, #10a000);
  --_incorrect-color: var(--incorrect-color, #a01b00);
  --_composition-background-color: var(--composition-background-color, #fff1c2);
  --_composition-text-color: var(--composition-text-color, black);
  --_composition-underline-color: var(--composition-underline-color, transparent);
  --_tooltip-border: var(--tooltip-border, 1px solid transparent);
  --_tooltip-border-radius: var(--tooltip-border-radius, 8px);
  --_tooltip-background-color: var(--tooltip-background-color, #616161);
  --_tooltip-color: var(--tooltip-color, #fff);
  --_tooltip-box-shadow: var(--tooltip-box-shadow, 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2));
}
@media (hover: none) and (pointer: coarse) {
  :host(:not(:focus)) .ML__container {
    pointer-events: none;
  }
}
/* This is the actual field content (formula) */
.ML__content {
  display: flex;
  align-items: center;
  align-self: center;
  position: relative;
  overflow: hidden;
  padding: 2px 3px 2px 1px;
  width: 100%;
  /* Encourage the browser to use the GPU to render the field.
     Weirdly, this is required for prompts to be rendered correctly. 
   */
  isolation: isolate;
}
.ML__virtual-keyboard-toggle,
.ML__menu-toggle {
  box-sizing: border-box;
  display: flex;
  align-self: center;
  align-items: center;
  flex-shrink: 0;
  flex-direction: column;
  justify-content: center;
  width: 34px;
  height: 34px;
  padding: 0;
  margin-right: 4px;
  cursor: pointer;
  /* Avoid some weird blinking with :hover */
  border-radius: 8px;
  border: 1px solid transparent;
  transition: background 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);
  color: hsl(var(--_hue), 40%, 50%);
  fill: currentColor;
  background: transparent;
}
.ML__virtual-keyboard-toggle:hover,
.ML__menu-toggle:hover {
  background: hsla(0, 0%, 70%, 0.3);
  color: #333;
  fill: currentColor;
}
.ML__virtual-keyboard-toggle > span,
.ML__menu-toggle > span {
  display: flex;
  align-self: center;
  align-items: center;
}
@media (pointer: coarse) {
  .ML__virtual-keyboard-toggle,
  .ML__menu-toggle {
    min-width: 60px;
    min-height: 60px;
  }
}
/* The invisible element used to capture keyboard events. We're just trying
 really hard to make sure it doesn't show. */
.ML__keyboard-sink {
  display: inline-block;
  resize: none;
  outline: none;
  border: none;
  /* Need these for Microsoft Edge */
  position: fixed;
  clip: rect(0 0 0 0);
  /* Need this to prevent iOS Safari from auto-zooming */
  font-size: 1em;
  font-family: KaTeX_Main;
  line-height: 0.5;
  /* On Chromium, if this is 0, no keyboard events are received */
}
[part='placeholder'] {
  color: var(--neutral-400);
}
.ML__composition {
  background: var(--_composition-background-color);
  color: var(--_composition-text-color);
  text-decoration: underline var(--_composition-underline-color);
}
.ML__caret {
  display: inline-block;
}
.ML__caret::after {
  content: '';
  visibility: hidden;
  width: 0;
  display: inline-block;
  height: 0.76em;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_caret-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.045em;
  bottom: -0.05em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__text-caret::after {
  content: '';
  visibility: hidden;
  width: 0;
  display: inline-block;
  height: 0.76em;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_caret-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.045em;
  bottom: -0.05em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__latex-caret::after {
  content: '';
  visibility: hidden;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_latex-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.019em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__focused .ML__latex-caret::after,
.ML__focused .ML__text-caret::after,
.ML__focused .ML__caret::after {
  visibility: visible;
}
.ML__focused .ML__text {
  background: var(--_text-highlight-background-color);
}
/* When using smartFence, the anticipated closing fence is displayed
with this style */
.ML__smart-fence__close {
  opacity: var(--_smart-fence-opacity);
  color: var(--_smart-fence-color);
}
.ML__selected,
.ML__focused .ML__selected .ML__contains-caret,
.ML__focused .ML__selected .ML__smart-fence__close,
.ML__focused .ML__selected .ML__placeholder {
  color: var(--_selection-color);
  opacity: 1;
}
.ML__selection {
  box-sizing: border-box;
  background: transparent;
}
:host(:focus) .ML__selection {
  background: var(--_selection-background-color) !important;
}
.ML__contains-caret.ML__close,
.ML__contains-caret.ML__open,
.ML__contains-caret > .ML__close,
.ML__contains-caret > .ML__open,
.ML__contains-caret .ML__sqrt-sign,
.ML__contains-caret .ML__sqrt-line {
  color: var(--_caret-color);
}
.ML__contains-highlight {
  box-sizing: border-box;
  background: transparent;
}
.ML__focused .ML__contains-highlight {
  background: var(--_contains-highlight-background-color);
}
.ML__raw-latex {
  font-family: 'Berkeley Mono', 'IBM Plex Mono', 'Source Code Pro', Consolas, 'Roboto Mono', Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;
  font-weight: 400;
  font-size: 0.8em;
  letter-spacing: -0.05em;
  color: var(--_latex-color);
}
.ML__suggestion {
  color: var(--neutral-500);
}
.ML__virtual-keyboard-toggle.is-visible.is-pressed:hover {
  background: hsl(var(--_hue), 25%, 35%);
  color: #fafafa;
  fill: currentColor;
}
.ML__virtual-keyboard-toggle.is-pressed,
.ML__virtual-keyboard-toggle.is-active:hover,
.ML__virtual-keyboard-toggle.is-active {
  background: hsl(var(--_hue), 25%, 35%);
  color: #fafafa;
  fill: currentColor;
}
/* Add an attribute 'data-tooltip' to automatically show a
   tooltip over a element on hover.
*/
[data-tooltip] {
  position: relative;
}
[data-tooltip]::after {
  content: attr(data-tooltip);
  position: absolute;
  display: block;
  z-index: 2;
  pointer-events: none;
  right: auto;
  top: calc(-100% - 4px);
  width: max-content;
  max-width: 200px;
  padding: 8px 8px;
  border-radius: 4px;
  background: #616161;
  color: #fff;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  text-align: center;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-style: normal;
  font-weight: 400;
  font-size: 13px;
  /* Phone */
  opacity: 0;
  transform: scale(0.5);
}
@media only screen and (max-width: 767px) {
  [data-tooltip]::after {
    padding: 8px 16px;
    font-size: 16px;
  }
}
menu [data-tooltip]::after {
  left: 100%;
  top: 0%;
}
menu .ML__base {
  cursor: default;
}
/** Don't display if we're tracking, i.e. have the pointer down */
.tracking [data-tooltip]:hover::after {
  /* Use visibility, not display. Display will remove the after from the DOM, and the override below will not work */
  visibility: hidden;
}
/** But do display if tracking and inside a menu */
.tracking menu li[data-tooltip]:hover::after,
[data-tooltip]:hover::after {
  visibility: visible;
  opacity: 1;
  transform: scale(1);
  transition-property: opacity, scale;
  transition-duration: 0.15s;
  transition-delay: 1s;
  transition-timing-function: cubic-bezier(0.4, 0, 1, 1);
}
.ML__prompt {
  border-radius: 2px;
}
.ML__editablePromptBox {
  outline: 1px solid #acacac;
  border-radius: 2px;
  z-index: -1;
}
.ML__focused .ML__focusedPromptBox {
  outline: highlight auto 1px;
}
.ML__lockedPromptBox {
  background-color: rgba(142, 142, 141, 0.4);
  z-index: -1;
}
.ML__correctPromptBox {
  outline: 1px solid var(--_correct-color);
  box-shadow: 0 0 5px var(--_correct-color);
}
.ML__incorrectPromptBox {
  outline: 1px solid var(--_incorrect-color);
  box-shadow: 0 0 5px var(--_incorrect-color);
}
.variant-submenu {
  display: flex;
  flex-direction: column;
  padding: 8px;
}
.variant-submenu [part='menu-item'].ML__xl {
  font-size: 2rem;
  text-align: center;
  margin: 0;
}
.ML__center-menu .label {
  text-align: center;
}
.insert-matrix-submenu {
  /* Grid doesn't work on Safari */
  --_menu-item-size: 25px;
  width: calc(5 * var(--_menu-item-size));
  display: flex;
  flex-wrap: wrap;
  padding: 8px;
  align-content: center;
  justify-content: center;
}
.insert-matrix-submenu [part='menu-item'] {
  width: var(--_menu-item-size);
  height: var(--_menu-item-size);
  font-size: 21px;
  border: none;
  border-radius: 0;
  line-height: 21px;
  text-align: center;
  padding: 0;
  margin: 0;
}
.border-submenu [part='menu-item'] {
  font-size: 2rem;
  line-height: 1.2;
  text-align: center;
}
.swatches-submenu {
  --_swatch-size: 2rem;
  --_columns: 4;
  display: flex;
  flex-flow: wrap;
  padding: 8px;
  max-width: calc(var(--_columns) * (var(--_swatch-size) + 18px) + 16px);
  box-sizing: border-box;
}
.menu-swatch {
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  width: fit-content;
  height: fit-content;
  margin: 2px;
  padding: 0;
  background: var(--neutral-200);
}
.menu-swatch > .label {
  padding: 0;
  margin: 0;
  line-height: 0;
}
.menu-swatch > .label > span {
  display: inline-block;
  margin: 6px;
  min-width: var(--_swatch-size);
  min-height: var(--_swatch-size);
  border-radius: 50%;
}
.menu-swatch.active {
  background: var(--neutral-100);
  scale: 1.4;
}
.menu-swatch.active > .label > span {
  border-radius: 2px;
}
.menu-swatch .ui-checkmark,
.menu-swatch .ui-mixedmark {
  position: absolute;
  margin: 0;
  padding: 0;
  color: white;
}
.menu-swatch.dark-contrast .ui-checkmark,
.menu-swatch.dark-contrast .ui-mixedmark {
  color: #000;
}
.ML__insert-template {
  font-size: 1em;
}
.ML__insert-label {
  opacity: 0.5;
  margin-left: 2ex;
}
`,BLe=`.ML__container {
  min-height: auto !important;
  --_hue: var(--hue, 212);
  --_placeholder-color: var(--placeholder-color, hsl(var(--_hue), 40%, 49%));
  --_placeholder-opacity: var(--placeholder-opacity, 0.4);
  --_text-font-family: var(--text-font-family, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif);
}
.ML__sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  clip-path: inset(50%);
  white-space: nowrap;
  border: 0;
}
.ML__is-inline {
  display: inline-block;
}
.ML__base {
  visibility: inherit;
  display: inline-block;
  position: relative;
  cursor: text;
  padding: 0;
  margin: 0;
  box-sizing: content-box;
  border: 0;
  outline: 0;
  vertical-align: baseline;
  font-weight: inherit;
  font-family: inherit;
  font-style: inherit;
  text-decoration: none;
  width: min-content;
}
.ML__strut,
.ML__strut--bottom {
  display: inline-block;
  min-height: 0.5em;
}
.ML__small-delim {
  font-family: KaTeX_Main;
}
/* Text mode */
.ML__text {
  font-family: var(--_text-font-family);
  white-space: pre;
}
/* Use cmr for 'math upright' */
.ML__cmr {
  font-family: KaTeX_Main;
  font-style: normal;
}
.ML__mathit {
  font-family: KaTeX_Math;
  /* The KaTeX_Math font is italic by default, so the font-style below is only 
     useful when a fallback font is used
  */
  font-style: italic;
}
.ML__mathbf {
  font-family: KaTeX_Main;
  font-weight: bold;
}
/* Lowercase greek symbols should stick to math font when \\mathbf is applied 
   to match TeX idiosyncratic behavior */
.lcGreek.ML__mathbf {
  font-family: KaTeX_Math;
}
.ML__mathbfit {
  font-family: KaTeX_Math;
  font-weight: bold;
  font-style: italic;
}
.ML__ams {
  font-family: KaTeX_AMS;
}
/* Blackboard */
.ML__bb {
  font-family: KaTeX_AMS;
}
.ML__cal {
  font-family: KaTeX_Caligraphic;
}
.ML__frak {
  font-family: KaTeX_Fraktur;
}
.ML__tt {
  font-family: KaTeX_Typewriter;
}
.ML__script {
  font-family: KaTeX_Script;
}
.ML__sans {
  font-family: KaTeX_SansSerif;
}
.ML__series_ul {
  font-weight: 100;
}
.ML__series_el {
  font-weight: 100;
}
.ML__series_l {
  font-weight: 200;
}
.ML__series_sl {
  font-weight: 300;
}
.ML__series_sb {
  font-weight: 500;
}
.ML__bold {
  font-weight: 700;
}
.ML__series_eb {
  font-weight: 800;
}
.ML__series_ub {
  font-weight: 900;
}
.ML__series_uc {
  font-stretch: ultra-condensed;
}
.ML__series_ec {
  font-stretch: extra-condensed;
}
.ML__series_c {
  font-stretch: condensed;
}
.ML__series_sc {
  font-stretch: semi-condensed;
}
.ML__series_sx {
  font-stretch: semi-expanded;
}
.ML__series_x {
  font-stretch: expanded;
}
.ML__series_ex {
  font-stretch: extra-expanded;
}
.ML__series_ux {
  font-stretch: ultra-expanded;
}
.ML__it {
  font-style: italic;
}
.ML__shape_ol {
  -webkit-text-stroke: 1px black;
  text-stroke: 1px black;
  color: transparent;
}
.ML__shape_sc {
  font-variant: small-caps;
}
.ML__shape_sl {
  font-style: oblique;
}
/* First level emphasis */
.ML__emph {
  color: #bc2612;
}
/* Second level emphasis */
.ML__emph .ML__emph {
  color: #0c7f99;
}
.ML__highlight {
  color: #007cb2;
  background: #edd1b0;
}
.ML__center {
  text-align: center;
}
.ML__left {
  text-align: left;
}
.ML__right {
  text-align: right;
}
.ML__label_padding {
  padding: 0 0.5em;
}
.ML__frac-line {
  width: 100%;
  min-height: 1px;
}
.ML__frac-line:after {
  content: '';
  display: block;
  margin-top: max(-1px, -0.04em);
  min-height: max(1px, 0.04em);
  /* Ensure the line is visible when printing even if "turn off background images" is on*/
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  /* There's a bug since Chrome 62 where 
      sub-pixel border lines don't draw at some zoom 
      levels (110%, 90%). 
      Setting the min-height used to work around it, but that workaround
      broke in Chrome 84 or so.
      Setting the background (and the min-height) seems to work for now.
      */
  background: currentColor;
  box-sizing: content-box;
  /* Vuetify sets the box-sizing to inherit 
            causes the fraction line to not draw at all sizes (see #26) */
  /* On some versions of Firefox on Windows, the line fails to 
            draw at some zoom levels, but setting the transform triggers
            the hardware accelerated path, which works */
  transform: translate(0, 0);
}
.ML__sqrt {
  display: inline-block;
}
.ML__sqrt-sign {
  display: inline-block;
  position: relative;
}
.ML__sqrt-line {
  display: inline-block;
  height: max(1px, 0.04em);
  width: 100%;
}
.ML__sqrt-line:before {
  content: '';
  display: block;
  margin-top: min(-1px, -0.04em);
  min-height: max(1px, 0.04em);
  /* Ensure the line is visible when printing even if "turn off background images" is on*/
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  background: currentColor;
  /* On some versions of Firefox on Windows, the line fails to 
            draw at some zoom levels, but setting the transform triggers
            the hardware accelerated path, which works */
  transform: translate(0, 0);
}
.ML__sqrt-line:after {
  border-bottom-width: 1px;
  content: ' ';
  display: block;
  margin-top: -0.1em;
}
.ML__sqrt-index {
  margin-left: 0.27777778em;
  margin-right: -0.55555556em;
}
.ML__delim-size1 {
  font-family: KaTeX_Size1;
}
.ML__delim-size2 {
  font-family: KaTeX_Size2;
}
.ML__delim-size3 {
  font-family: KaTeX_Size3;
}
.ML__delim-size4 {
  font-family: KaTeX_Size4;
}
.ML__delim-mult .delim-size1 > span {
  font-family: KaTeX_Size1;
}
.ML__delim-mult .delim-size4 > span {
  font-family: KaTeX_Size4;
}
.ML__accent-body > span {
  font-family: KaTeX_Main;
  width: 0;
}
.ML__accent-combining-char {
  position: relative;
  left: 0.24em;
}
/** The markup for a LaTeX formula, either in an editable mathfield or 
    in a static display.
*/
.ML__latex {
  display: inline-block;
  direction: ltr;
  text-align: left;
  text-indent: 0;
  text-rendering: auto;
  font-family: inherit;
  font-style: normal;
  font-size-adjust: none;
  font-stretch: normal;
  font-variant-caps: normal;
  letter-spacing: normal;
  line-height: 1.2;
  word-wrap: normal;
  word-spacing: normal;
  white-space: nowrap;
  text-shadow: none;
  -webkit-user-select: none;
  user-select: none;
  width: min-content;
}
.ML__latex .style-wrap {
  position: relative;
}
.ML__latex .ML__mfrac {
  display: inline-block;
}
.ML__latex .ML__left-right {
  display: inline-block;
}
.ML__latex .ML__vlist-t {
  display: inline-table;
  table-layout: fixed;
  border-collapse: collapse;
}
.ML__latex .ML__vlist-r {
  display: table-row;
}
.ML__latex .ML__vlist {
  display: table-cell;
  vertical-align: bottom;
  position: relative;
}
.ML__latex .ML__vlist > span {
  display: block;
  height: 0;
  position: relative;
}
.ML__latex .ML__vlist > span > span {
  display: inline-block;
}
.ML__latex .ML__vlist > span > .ML__pstrut {
  overflow: hidden;
  width: 0;
}
.ML__latex .ML__vlist-t2 {
  margin-right: -2px;
}
.ML__latex .ML__vlist-s {
  display: table-cell;
  vertical-align: bottom;
  font-size: 1px;
  width: 2px;
  min-width: 2px;
}
.ML__latex .ML__msubsup {
  text-align: left;
}
.ML__latex .ML__negativethinspace {
  display: inline-block;
  margin-left: -0.16667em;
  height: 0.71em;
}
.ML__latex .ML__thinspace {
  display: inline-block;
  width: 0.16667em;
  height: 0.71em;
}
.ML__latex .ML__mediumspace {
  display: inline-block;
  width: 0.22222em;
  height: 0.71em;
}
.ML__latex .ML__thickspace {
  display: inline-block;
  width: 0.27778em;
  height: 0.71em;
}
.ML__latex .ML__enspace {
  display: inline-block;
  width: 0.5em;
  height: 0.71em;
}
.ML__latex .ML__quad {
  display: inline-block;
  width: 1em;
  height: 0.71em;
}
.ML__latex .ML__qquad {
  display: inline-block;
  width: 2em;
  height: 0.71em;
}
.ML__latex .ML__llap,
.ML__latex .ML__rlap {
  width: 0;
  position: relative;
  display: inline-block;
}
.ML__latex .ML__llap > .ML__inner,
.ML__latex .ML__rlap > .ML__inner {
  position: absolute;
}
.ML__latex .ML__llap > .ML__fix,
.ML__latex .ML__rlap > .ML__fix {
  display: inline-block;
}
.ML__latex .ML__llap > .ML__inner {
  right: 0;
}
.ML__latex .ML__rlap > .ML__inner {
  left: 0;
}
.ML__latex .ML__rule {
  display: inline-block;
  border: solid 0;
  position: relative;
  box-sizing: border-box;
}
.ML__latex .overline .overline-line,
.ML__latex .underline .underline-line {
  width: 100%;
}
.ML__latex .overline .overline-line:before,
.ML__latex .underline .underline-line:before {
  content: '';
  border-bottom-style: solid;
  border-bottom-width: max(1px, 0.04em);
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  display: block;
}
.ML__latex .overline .overline-line:after,
.ML__latex .underline .underline-line:after {
  border-bottom-style: solid;
  border-bottom-width: max(1px, 0.04em);
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  content: '';
  display: block;
  margin-top: -1px;
}
.ML__latex .ML__stretchy {
  display: block;
  position: absolute;
  width: 100%;
  left: 0;
  overflow: hidden;
}
.ML__latex .ML__stretchy:before,
.ML__latex .ML__stretchy:after {
  content: '';
}
.ML__latex .ML__stretchy svg {
  display: block;
  position: absolute;
  width: 100%;
  height: inherit;
  fill: currentColor;
  stroke: currentColor;
  fill-rule: nonzero;
  fill-opacity: 1;
  stroke-width: 1;
  stroke-linecap: butt;
  stroke-linejoin: miter;
  stroke-miterlimit: 4;
  stroke-dasharray: none;
  stroke-dashoffset: 0;
  stroke-opacity: 1;
}
.ML__latex .slice-1-of-2 {
  display: inline-flex;
  position: absolute;
  left: 0;
  width: 50.2%;
  overflow: hidden;
}
.ML__latex .slice-2-of-2 {
  display: inline-flex;
  position: absolute;
  right: 0;
  width: 50.2%;
  overflow: hidden;
}
.ML__latex .slice-1-of-3 {
  display: inline-flex;
  position: absolute;
  left: 0;
  width: 25.1%;
  overflow: hidden;
}
.ML__latex .slice-2-of-3 {
  display: inline-flex;
  position: absolute;
  left: 25%;
  width: 50%;
  overflow: hidden;
}
.ML__latex .slice-3-of-3 {
  display: inline-flex;
  position: absolute;
  right: 0;
  width: 25.1%;
  overflow: hidden;
}
.ML__latex .slice-1-of-1 {
  display: inline-flex;
  position: absolute;
  width: 100%;
  left: 0;
  overflow: hidden;
}
.ML__latex .ML__nulldelimiter {
  display: inline-block;
}
.ML__latex .ML__op-group {
  display: inline-block;
}
.ML__latex .ML__op-symbol {
  position: relative;
}
.ML__latex .ML__op-symbol.ML__small-op {
  font-family: KaTeX_Size1;
}
.ML__latex .ML__op-symbol.ML__large-op {
  font-family: KaTeX_Size2;
}
.ML__latex:has(.ML__center_environment),
.ML__latex:has(.ML__multiline_environment),
.ML__latex:has(.ML__align_environment),
.ML__latex:has(.ML__eqnarray_environment),
.ML__latex:has(.ML__gather_environment) {
  width: 100%;
}
.ML__latex .ML__multiline_environment {
  display: inline-flex;
  width: 100%;
}
.ML__latex .ML__center_environment {
  display: inline-flex;
  width: 100%;
  justify-content: center;
}
.ML__latex .ML__align_environment,
.ML__latex .ML__eqnarray_environment,
.ML__latex .ML__gather_environment {
  display: inline-block;
}
.ML__latex .ML__mtable .ML__vertical-separator {
  display: inline-block;
  min-width: 1px;
  box-sizing: border-box;
}
.ML__latex .ML__mtable .ML__arraycolsep {
  display: inline-block;
}
.ML__latex .ML__mtable .col-align-m > .ML__vlist-t {
  text-align: center;
}
.ML__latex .ML__mtable .col-align-c > .ML__vlist-t {
  text-align: center;
}
.ML__latex .ML__mtable .col-align-l > .ML__vlist-t {
  text-align: left;
}
.ML__latex .ML__mtable .col-align-r > .ML__vlist-t {
  text-align: right;
}
[data-href] {
  cursor: pointer;
}
.ML__error {
  display: inline-block;
  background-image: radial-gradient(ellipse at center, hsl(341, 100%, 40%), rgba(0, 0, 0, 0) 70%);
  background-color: hsla(341, 100%, 40%, 0.1);
  background-repeat: repeat-x;
  background-size: 3px 3px;
  padding-bottom: 3px;
  background-position: 0 100%;
}
.ML__error > .ML__error {
  background: transparent;
  padding: 0;
}
.ML__placeholder {
  color: var(--_placeholder-color);
  opacity: var(--_placeholder-opacity);
  padding-left: 0.4ex;
  padding-right: 0.4ex;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
}
.ML__notation {
  position: absolute;
  box-sizing: border-box;
  line-height: 0;
}
/* This class is used to implement the \`\\mathtip\` and \`\\texttip\` commands
   For UI elements, see \`[data-ML__tooltip]\`
*/
.ML__tooltip-container {
  position: relative;
  transform: scale(0);
}
.ML__tooltip-container .ML__tooltip-content {
  position: fixed;
  display: inline-table;
  visibility: hidden;
  z-index: 2;
  width: max-content;
  max-width: 400px;
  padding: 12px 12px;
  border: var(--tooltip-border);
  border-radius: var(--tooltip-border-radius);
  background: var(--tooltip-background-color);
  --_selection-color: var(--tooltip-color);
  color: var(--tooltip-color);
  box-shadow: var(--tooltip-box-shadow);
  opacity: 0;
  transition: opacity 0.15s cubic-bezier(0.4, 0, 1, 1);
}
.ML__tooltip-container .ML__tooltip-content .ML__text {
  white-space: normal;
}
.ML__tooltip-container .ML__tooltip-content .ML__base {
  display: contents;
}
.ML__tooltip-container:hover .ML__tooltip-content {
  visibility: visible;
  opacity: 1;
  font-size: 0.75em;
  transform: scale(1) translate(0, 3em);
}
`,SLe=`#mathlive-environment-popover.is-visible {
  visibility: visible;
}
#mathlive-environment-popover {
  --_environment-panel-height: var(--environment-panel-height, 70px);
  --_accent-color: var(--accent-color, #aaa);
  --_background: var(--environment-panel-background, #fff);
  --_button-background: var(--environment-panel-button-background, white);
  --_button-background-hover: var(--environment-panel-button-background-hover, #f5f5f7);
  --_button-background-active: var(--environment-panel-button-background-active, #f5f5f7);
  --_button-text: var(--environment-panel-button-text, #e3e4e8);
  position: absolute;
  width: calc(var(--_environment-panel-height) * 2);
  height: var(--_environment-panel-height);
  border-radius: 4px;
  border: 1.5px solid var(--_accent-color);
  background-color: var(--_background);
  box-shadow: 0 0 30px 0 var(--environment-shadow, rgba(0, 0, 0, 0.4));
  pointer-events: all;
  visibility: hidden;
}
#mathlive-environment-popover .MLEP__array-buttons {
  height: calc(var(--_environment-panel-height) * 5/4);
  width: calc(var(--_environment-panel-height) * 5/4);
  margin-left: calc(0px - var(--_environment-panel-height) * 0.16);
  margin-top: calc(0px - var(--_environment-panel-height) * 0.19);
}
#mathlive-environment-popover .MLEP__array-buttons .font {
  fill: white;
}
#mathlive-environment-popover .MLEP__array-buttons circle {
  fill: #7f7f7f;
  transition: fill 300ms;
}
#mathlive-environment-popover .MLEP__array-buttons .MLEP__array-insert-background {
  fill-opacity: 1;
  fill: var(--_background);
  stroke: var(--_accent-color);
  stroke-width: 3px;
}
#mathlive-environment-popover .MLEP__array-buttons line {
  stroke: var(--_accent-color);
  stroke-opacity: 0;
  stroke-width: 40;
  pointer-events: none;
  transition: stroke-opacity 300ms;
  stroke-linecap: round;
}
#mathlive-environment-popover .MLEP__array-buttons g[data-command]:hover circle {
  fill: var(--_accent-color);
}
#mathlive-environment-popover .MLEP__array-buttons g[data-command]:hover line {
  stroke-opacity: 1;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls {
  height: 100%;
  width: 50%;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options {
  width: var(--_environment-panel-height);
  height: var(--_environment-panel-height);
  display: flex;
  flex-wrap: wrap;
  flex-direction: row;
  justify-content: space-around;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg {
  pointer-events: all;
  margin-top: 2px;
  width: calc(var(--_environment-panel-height) / 3 * 28 / 24);
  height: calc(var(--_environment-panel-height) / 3 - 2px);
  border-radius: calc(var(--_environment-panel-height) / 25);
  background-color: var(--_button-background);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg:hover {
  background-color: var(--_button-background-hover);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg path,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg line {
  stroke: var(--_button-text);
  stroke-width: 2;
  stroke-linecap: round;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg rect,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg path {
  fill-opacity: 0;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active {
  pointer-events: none;
  background-color: var(--_button-background-active);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active path,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active line {
  stroke: var(--_accent-color);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active circle {
  fill: var(--_accent-color);
}
`,_Le=`/* The element that display info while in latex mode */
#mathlive-suggestion-popover {
  background-color: rgba(97, 97, 97);
  color: #fff;
  text-align: center;
  border-radius: 8px;
  position: fixed;
  z-index: 1;
  display: none;
  flex-direction: column;
  justify-content: center;
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
}
#mathlive-suggestion-popover.top-tip::after {
  content: '';
  position: absolute;
  top: -15px;
  left: calc(50% - 15px);
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-bottom: 15px solid rgba(97, 97, 97);
  font-size: 1rem;
}
#mathlive-suggestion-popover.bottom-tip::after {
  content: '';
  position: absolute;
  bottom: -15px;
  left: calc(50% - 15px);
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-top: 15px solid rgba(97, 97, 97);
  font-size: 1rem;
}
#mathlive-suggestion-popover.is-animated {
  transition: all 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);
  animation: ML__fade-in cubic-bezier(0, 0, 0.2, 1) 0.15s;
}
#mathlive-suggestion-popover.is-visible {
  display: flex;
}
@keyframes ML__fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
/* The wrapper class for the entire content of the popover panel */
#mathlive-suggestion-popover ul {
  display: flex;
  flex-flow: column;
  list-style: none;
  margin: 0;
  padding: 0;
  align-items: flex-start;
  max-height: 400px;
  overflow-y: auto;
}
#mathlive-suggestion-popover li {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  margin: 8px;
  padding: 8px;
  width: calc(100% - 16px - 16px);
  column-gap: 1em;
  border-radius: 8px;
  cursor: pointer;
  /* Since the content can be clicked on, provide feedback on hover */
}
#mathlive-suggestion-popover li a {
  color: #5ea6fd;
  padding-top: 0.3em;
  margin-top: 0.4em;
  display: block;
}
#mathlive-suggestion-popover li a:hover {
  color: #5ea6fd;
  text-decoration: underline;
}
#mathlive-suggestion-popover li:hover,
#mathlive-suggestion-popover li.is-pressed,
#mathlive-suggestion-popover li.is-active {
  background: rgba(255, 255, 255, 0.1);
}
/* The command inside a popover (inside a #mathlive-suggestion-popover) */
.ML__popover__command {
  font-size: 1.6rem;
  font-family: KaTeX_Main;
}
.ML__popover__current {
  background: #5ea6fd;
  color: #fff;
}
.ML__popover__latex {
  font-family: 'IBM Plex Mono', 'Source Code Pro', Consolas, 'Roboto Mono', Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;
  align-self: center;
}
/* The keyboard shortcuts for a symbol as displayed in the popover */
.ML__popover__keybinding {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 0.8em;
  opacity: 0.7;
}
/* Style for the character that joins the modifiers of a keyboard shortcut 
(usually a "+" sign)*/
.ML__shortcut-join {
  opacity: 0.5;
}
`,kLe=`/* The element that displays the keys as the user type them */
#mathlive-keystroke-caption-panel {
  visibility: hidden;
  /*min-width: 160px;*/
  /*background-color: rgba(97, 97, 200, .95);*/
  background: var(--secondary, hsl(var(--_hue), 19%, 26%));
  border-color: var(--secondary-border, hsl(0, 0%, 91%));
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
  text-align: center;
  border-radius: 6px;
  padding: 16px;
  position: absolute;
  z-index: 1;
  display: flex;
  flex-direction: row-reverse;
  justify-content: center;
  --keystroke: white;
  --on-keystroke: #555;
  --keystroke-border: #f7f7f7;
}
@media (prefers-color-scheme: dark) {
  body:not([theme='light']) #mathlive-keystroke-caption-panel {
    --keystroke: hsl(var(--_hue), 50%, 30%);
    --on-keystroke: hsl(0, 0%, 98%);
    --keystroke-border: hsl(var(--_hue), 50%, 25%);
  }
}
body[theme='dark'] #mathlive-keystroke-caption-panel {
  --keystroke: hsl(var(--_hue), 50%, 30%);
  --on-keystroke: hsl(0, 0%, 98%);
  --keystroke-border: hsl(var(--_hue), 50%, 25%);
}
#mathlive-keystroke-caption-panel > span {
  min-width: 14px;
  /*height: 8px;*/
  margin: 0 8px 0 0;
  padding: 4px;
  background-color: var(--keystroke);
  color: var(--on-keystroke);
  fill: currentColor;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 1em;
  border-radius: 6px;
  border: 2px solid var(--keystroke-border);
  /*box-shadow: 0 7px 14px rgba(0,0,0,0.25), 0 5px 5px rgba(0,0,0,0.22);*/
}
`,ELe=`.ML__keyboard {
  --_keyboard-height: 0;
  --_keyboard-zindex: var(--keyboard-zindex, 105);
  --_accent-color: var(--keyboard-accent-color, #0c75d8);
  --_background: var(--keyboard-background, #cacfd7);
  --_border: var(--keyboard-border, #ddd);
  --_padding-horizontal: var(--keyboard-padding-horizontal, 0px);
  --_padding-top: var(--keyboard-padding-top, 5px);
  --_padding-bottom: var(--keyboard-padding-bottom, 0px);
  --_row-padding-left: var(--keyboard-row-padding-left, 0px);
  --_row-padding-right: var(--keyboard-row-padding-right, 0px);
  --_toolbar-text: var(--keyboard-toolbar-text, #2c2e2f);
  --_toolbar-text-active: var(--keyboard-toolbar-text-active, var(--_accent-color));
  --_toolbar-background: var(--keyboard-toolbar-background, transparent);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #eee);
  --_toolbar-background-selected: var(--keyboard-toolbar-background-selected, transparent);
  --_toolbar-font-size: var(--keyboard-toolbar-font-size, '135%');
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #fff);
  --_keycap-background: var(--keycap-background, #f0f0f0);
  --_keycap-background-hover: var(--keycap-background-hover, #f5f5f7);
  --_keycap-background-active: var(--keycap-background-active, var(--_accent-color));
  --_keycap-background-pressed: var(--keycap-background-pressed, var(--_accent-color));
  --_keycap-border: var(--keycap-border, #e5e6e9);
  --_keycap-border-bottom: var(--keycap-border-bottom, #8d8f92);
  --_keycap-text: var(--keycap-text, #000);
  --_keycap-text-active: var(--keycap-text-active, #fff);
  --_keycap-text-hover: var(--keycap-text-hover, var(--_keycap-text));
  --_keycap-text-pressed: var(--keycap-text-pressed, #fff);
  --_keycap-shift-text: var(--keycap-shift-text, var(--_accent-color));
  --_keycap-primary-background: var(--keycap-primary-background, var(--_accent-color));
  --_keycap-primary-text: var(--keycap-primary-text, #ddd);
  --_keycap-primary-background-hover: var(--keycap-primary-background-hover, #0d80f2);
  --_keycap-secondary-background: var(--keycap-secondary-background, #a0a9b8);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #7d8795);
  --_keycap-secondary-text: var(--keycap-secondary-text, #060707);
  --_keycap-secondary-border: var(--keycap-secondary-border, #c5c9d0);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, #989da6);
  --_keycap-height: var(--keycap-height, 60px);
  /* Keycap width (incl. margin) */
  --_keycap-max-width: var(--keycap-max-width, 100px);
  --_keycap-gap: var(--keycap-gap, 8px);
  --_keycap-font-size: var(--keycap-font-size, clamp(16px, 4cqw, 24px));
  --_keycap-small-font-size: var(--keycap-small-font-size, calc(var(--keycap-font-size) * 0.8));
  --_keycap-extra-small-font-size: var(--keycap-extra-small-font-size, calc(var(--keycap-font-size) / 1.42));
  --_variant-panel-background: var(--variant-panel-background, #f0f0f0);
  --_variant-keycap-text: var(--variant-keycap-text, var(--_keycap-text));
  --_variant-keycap-text-active: var(--variant-keycap-text-active, var(--_keycap-text-active));
  --_variant-keycap-background-active: var(--variant-keycap-background-active, var(--_accent-color));
  --_variant-keycap-length: var(--variant-keycap-length, 70px);
  --_variant-keycap-font-size: var(--variant-keycap-font-size, 30px);
  --_variant-keycap-aside-font-size: var(--variant-keycap-aside-font-size, 12px);
  --_keycap-shift-font-size: var(--keycap-shift-font-size, 16px);
  --_keycap-shift-color: var(--keycap-shift-color, var(--_accent-color));
  --_box-placeholder-color: var(--box-placeholder-color, var(--_accent-color));
  --_box-placeholder-pressed-color: var(--box-placeholder-pressed-color, var(--keycap-text-pressed));
  --_keycap-glyph-size: var(--keycap-glyph-size, 20px);
  --_keycap-glyph-size-lg: var(--keycap-glyph-size-lg, 24px);
  --_keycap-glyph-size-xl: var(--keycap-glyph-size-xl, 50px);
}
.is-math-mode .MLK__rows .if-text-mode,
.is-text-mode .MLK__rows .if-math-mode {
  display: none;
}
.if-can-undo,
.if-can-redo,
.if-can-copy,
.if-can-cut,
.if-can-paste {
  opacity: 0.4;
  pointer-events: none;
}
.can-undo .if-can-undo,
.can-redo .if-can-redo,
.can-copy .if-can-copy,
.can-cut .if-can-cut,
.can-paste .if-can-paste {
  opacity: 1;
  pointer-events: all;
}
body > .ML__keyboard {
  position: fixed;
  --_padding-bottom: calc(var(--keyboard-padding-bottom, 0px) + env(safe-area-inset-bottom, 0));
}
body > .ML__keyboard.is-visible > .MLK__backdrop {
  box-shadow: 0 -5px 6px rgba(0, 0, 0, 0.08);
  border-top: 1px solid var(--_border);
}
body > .ML__keyboard.backdrop-is-transparent.is-visible > .MLK__backdrop {
  box-shadow: none;
  border: none;
}
body > .ML__keyboard.is-visible.animate > .MLK__backdrop {
  transition: 0.28s cubic-bezier(0, 0, 0.2, 1);
  transition-property: transform, opacity;
  transition-timing-function: cubic-bezier(0.4, 0, 1, 1);
}
.ML__keyboard {
  position: relative;
  overflow: hidden;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  z-index: var(--_keyboard-zindex);
  box-sizing: border-box;
  outline: none;
  border: none;
  margin: 0;
  padding: 0;
  line-height: 1;
  overflow-wrap: unset;
  text-align: left;
  vertical-align: baseline;
  cursor: auto;
  white-space: pre;
  box-shadow: none;
  opacity: 1;
  transform: none;
  pointer-events: none;
}
.ML__keyboard :where(div) {
  box-sizing: border-box;
  outline: none;
  border: none;
  margin: 0;
  padding: 0;
  line-height: 1;
  overflow-wrap: unset;
  text-align: left;
  vertical-align: baseline;
  cursor: auto;
  white-space: pre;
  box-shadow: none;
  transform: none;
}
.MLK__backdrop {
  position: absolute;
  bottom: calc(-1 * var(--_keyboard-height));
  width: 100%;
  height: var(--_keyboard-height);
  box-sizing: border-box;
  padding-top: var(--_padding-top);
  padding-bottom: var(--_padding-bottom);
  padding-left: var(--_padding-horizontal);
  padding-right: var(--_padding-horizontal);
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0);
  background: var(--_background);
}
.backdrop-is-transparent .MLK__backdrop {
  background: transparent;
}
/* If a custom layout has a custom container/backdrop
  (backdrop-is-transparent), make sure to let pointer event go through. */
.backdrop-is-transparent .MLK__plate {
  background: transparent;
  pointer-events: none;
}
/* If a custom layout has a custom container/backdrop, make sure to 
   allow pointer events on it. */
.backdrop-is-transparent .MLK__layer > div > div {
  pointer-events: all;
}
.ML__keyboard.is-visible > .MLK__backdrop {
  transform: translate(0, calc(-1 * var(--_keyboard-height)));
  opacity: 1;
  visibility: visible;
}
.caps-lock-indicator {
  display: none;
  width: 8px;
  height: 8px;
  background: #0cbc0c;
  box-shadow: inset 0 0 4px 0 #13ca13, 0 0 4px 0 #a9ef48;
  border-radius: 8px;
  right: 8px;
  top: 8px;
  position: absolute;
}
.ML__keyboard.is-caps-lock .caps-lock-indicator {
  display: block;
}
.ML__keyboard.is-caps-lock .shift {
  background: var(--_keycap-background-active);
  color: var(--_keycap-text-active);
}
.MLK__plate {
  position: absolute;
  top: var(--_padding-top);
  left: var(--_padding-horizontal);
  width: calc(100% - 2 * var(--_padding-horizontal));
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  container-type: inline-size;
  touch-action: none;
  -webkit-user-select: none;
  user-select: none;
  pointer-events: all;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 16px;
  /* Size of toolbar labels */
  font-weight: 400;
  text-shadow: none;
}
.ML__box-placeholder {
  color: var(--_box-placeholder-color);
}
.MLK__tex {
  font-family: KaTeX_Main, KaTeX_Math, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__tex-math {
  font-family: KaTeX_Math, KaTeX_Main, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
  font-style: italic;
}
.MLK__layer {
  display: none;
  outline: none;
}
.MLK__layer.is-visible {
  display: flex;
  flex-flow: column;
}
/* Keyboard layouts are made or rows of keys... */
.MLK__rows {
  --_keycap-width: var(--keycap-width, min(var(--_keycap-max-width), 10cqw));
  display: flex;
  flex-flow: column;
  align-items: center;
  border-collapse: separate;
  clear: both;
  border: 0;
  margin: 0;
  margin-bottom: var(--_keycap-gap);
  gap: var(--_keycap-gap);
  /* If the styling include, e.g., some shadows, they will be
  cut off by the overflow. In that case, set the padding to 
  compensate. */
  padding-left: var(--_row-padding-left);
  padding-right: var(--_row-padding-right);
  overflow: visible;
  touch-action: none;
}
.MLK__rows > .MLK__row {
  display: flex;
  flex-flow: row;
  justify-content: center;
  width: 100%;
  gap: var(--_keycap-gap);
  margin: 0;
  padding: 0;
  /* For the alignment of the text on some modifiers (e.g. shift) */
  /* Extra spacing between two adjacent keys */
}
.MLK__rows > .MLK__row .tex {
  font-family: KaTeX_Math, KaTeX_Main, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__rows > .MLK__row .tex-math {
  font-family: KaTeX_Math, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__rows > .MLK__row .big-op {
  font-size: calc(1.25 * var(--_keycap-font-size));
}
.MLK__rows > .MLK__row .small {
  font-size: var(--_keycap-small-font-size);
}
.MLK__rows > .MLK__row .bottom {
  justify-content: flex-end;
}
.MLK__rows > .MLK__row .left {
  align-items: flex-start;
  padding-left: 12px;
}
.MLK__rows > .MLK__row .right {
  align-items: flex-end;
  padding-right: 12px;
}
.MLK__rows > .MLK__row .w0 {
  width: 0;
}
.MLK__rows > .MLK__row .w5 {
  width: calc(0.5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w15 {
  width: calc(1.5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w20 {
  width: calc(2 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w40 {
  width: calc(4 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w50 {
  width: calc(5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .MLK__keycap.w50 {
  font-size: 80%;
  padding-top: 10px;
  font-weight: 100;
}
.MLK__rows > .MLK__row .separator {
  background: transparent;
  border: none;
  pointer-events: none;
}
.MLK__rows > .MLK__row .horizontal-rule {
  height: 6px;
  margin-top: 3px;
  margin-bottom: 0;
  width: 100%;
  border-radius: 0;
  border-top: var(--_horizontal-rule);
}
.MLK__rows > .MLK__row .ghost {
  background: var(--_toolbar-background);
  border: none;
  color: var(--_toolbar-text);
}
.MLK__rows > .MLK__row .ghost:hover {
  background: var(--_toolbar-background-hover);
}
.MLK__rows > .MLK__row .bigfnbutton {
  font-size: var(--_keycap-extra-small-font-size);
}
.MLK__rows > .MLK__row .shift,
.MLK__rows > .MLK__row .action {
  color: var(--_keycap-secondary-text);
  background: var(--_keycap-secondary-background);
  border-color: var(--_keycap-secondary-border);
  border-bottom-color: var(--_keycap-secondary-border-bottom);
  line-height: 0.8;
  font-size: min(1rem, var(--_keycap-small-font-size));
  font-weight: 600;
  padding: 8px 12px 8px 12px;
}
.MLK__rows > .MLK__row .shift:hover,
.MLK__rows > .MLK__row .action:hover {
  background: var(--_keycap-secondary-background-hover);
}
.MLK__rows > .MLK__row .action.primary {
  background: var(--_keycap-primary-background);
  color: var(--_keycap-primary-text);
}
.MLK__rows > .MLK__row .action.primary:hover {
  background: var(--_keycap-primary-background-hover);
  color: var(--_keycap-primary-text);
}
.MLK__rows > .MLK__row .shift.selected,
.MLK__rows > .MLK__row .action.selected {
  color: var(--_toolbar-text-active);
}
.MLK__rows > .MLK__row .shift.selected.is-pressed,
.MLK__rows > .MLK__row .action.selected.is-pressed,
.MLK__rows > .MLK__row .shift.selected.is-active,
.MLK__rows > .MLK__row .action.selected.is-active {
  color: white;
}
.MLK__rows > .MLK__row .warning {
  background: #cd0030;
  color: white;
}
.MLK__rows > .MLK__row .warning svg.svg-glyph {
  width: var(--_keycap-glyph-size-lg);
  height: var(--_keycap-glyph-size-lg);
  min-height: var(--_keycap-glyph-size-lg);
}
/** A regular keycap
 * Use the :where() pseudo-class to give it a very low specifity, 
 * so that it can be overriden by custom style.
 */
:where(.MLK__rows > .MLK__row div) {
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: space-evenly;
  width: calc(var(--_keycap-width) - var(--_keycap-gap));
  height: var(--_keycap-height);
  box-sizing: border-box;
  padding: 0;
  vertical-align: top;
  text-align: center;
  float: left;
  color: var(--_keycap-text);
  fill: currentColor;
  font-size: var(--_keycap-font-size);
  background: var(--_keycap-background);
  border: 1px solid var(--_keycap-border);
  border-bottom-color: var(--_keycap-border-bottom);
  border-radius: 6px;
  cursor: pointer;
  touch-action: none;
  /* Keys with a variants panel */
  position: relative;
  overflow: hidden;
  -webkit-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}
:where(.MLK__rows > .MLK__row div):hover {
  overflow: visible;
  background: var(--_keycap-background-hover);
}
:where(.MLK__rows > .MLK__row div) .ML__latex {
  pointer-events: none;
  touch-action: none;
}
:where(.MLK__rows > .MLK__row div) svg.svg-glyph {
  margin: 8px 0;
  width: var(--_keycap-glyph-size);
  height: var(--_keycap-glyph-size);
  min-height: var(--_keycap-glyph-size);
}
:where(.MLK__rows > .MLK__row div) svg.svg-glyph-lg {
  margin: 8px 0;
  width: var(--_keycap-glyph-size-lg);
  height: var(--_keycap-glyph-size-lg);
  min-height: var(--_keycap-glyph-size-lg);
}
:where(.MLK__rows > .MLK__row div).MLK__tex-math {
  font-size: 25px;
}
:where(.MLK__rows > .MLK__row div).is-pressed {
  background: var(--_keycap-background-pressed);
  color: var(--_keycap-text-pressed);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active,
:where(.MLK__rows > .MLK__row div).action.is-active,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed,
:where(.MLK__rows > .MLK__row div).action.is-pressed {
  z-index: calc(var(--_keyboard-zindex) - 5);
}
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active aside,
:where(.MLK__rows > .MLK__row div).action.is-active aside,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed aside,
:where(.MLK__rows > .MLK__row div).action.is-pressed aside {
  display: none;
}
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active .MLK__shift,
:where(.MLK__rows > .MLK__row div).action.is-active .MLK__shift,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed .MLK__shift,
:where(.MLK__rows > .MLK__row div).action.is-pressed .MLK__shift {
  display: none;
}
:where(.MLK__rows > .MLK__row div).shift.is-pressed,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed,
:where(.MLK__rows > .MLK__row div).action.is-pressed {
  background: var(--_keycap-background-pressed);
  color: var(--_keycap-text-pressed);
}
:where(.MLK__rows > .MLK__row div).shift.is-active,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active,
:where(.MLK__rows > .MLK__row div).action.is-active {
  background: var(--_keycap-background-active);
  color: var(--_keycap-text-active);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
:where(.MLK__rows > .MLK__row div) small {
  color: var(--_keycap-secondary-text);
}
:where(.MLK__rows > .MLK__row div) aside {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 10px;
  line-height: 10px;
  color: var(--_keycap-secondary-text);
}
/* Add an attribute 'data-tooltip' to display a tooltip on hover.
Note there are a different set of tooltip rules for the keyboard toggle
(it's in a different CSS tree) */
.ML__keyboard [data-tooltip] {
  position: relative;
}
.ML__keyboard [data-tooltip]::after {
  position: absolute;
  display: inline-table;
  content: attr(data-tooltip);
  top: inherit;
  bottom: 100%;
  width: max-content;
  max-width: 200px;
  padding: 8px 8px;
  background: #616161;
  color: #fff;
  text-align: center;
  z-index: 2;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  border-radius: 2px;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-weight: 400;
  font-size: 12px;
  transition: all 0.15s cubic-bezier(0.4, 0, 1, 1) 1s;
  opacity: 0;
  transform: scale(0.5);
}
.ML__keyboard [data-tooltip]:hover {
  position: relative;
}
.ML__keyboard [data-tooltip]:hover::after {
  opacity: 1;
  transform: scale(1);
}
.MLK__toolbar {
  align-self: center;
  display: flex;
  flex-flow: row;
  justify-content: space-between;
  width: 100%;
  max-width: 996px;
  min-height: 32px;
  /* Icons for undo/redo, etc. */
}
.MLK__toolbar svg {
  height: 20px;
  width: 20px;
}
.MLK__toolbar > .left {
  position: relative;
  display: flex;
  justify-content: flex-start;
  flex-flow: row;
}
.MLK__toolbar > .right {
  display: flex;
  justify-content: flex-end;
  flex-flow: row;
}
.MLK__toolbar > div > div {
  /* "button" in the toolbar */
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--_toolbar-text);
  fill: currentColor;
  background: var(--_toolbar-background);
  font-size: var(--_toolbar-font-size);
  padding: 4px 15px;
  cursor: pointer;
  width: max-content;
  min-width: 42px;
  min-height: 34px;
  border: none;
  padding-left: 10px;
  padding-right: 10px;
  padding-bottom: 8px;
  padding-top: 8px;
  margin-top: 0;
  margin-bottom: 4px;
  margin-left: 4px;
  margin-right: 4px;
  border-radius: 8px;
  box-shadow: none;
  border-bottom: 2px solid transparent;
}
.MLK__toolbar > div > div:not(.disabled):not(.selected):hover {
  background: var(--_toolbar-background-hover);
}
.MLK__toolbar > div > div.disabled svg,
.MLK__toolbar > div > div.disabled:hover svg,
.MLK__toolbar > div > div.disabled.is-pressed svg {
  color: var(--_toolbar-text);
  opacity: 0.2;
}
.MLK__toolbar > div > div:hover,
.MLK__toolbar > div > div:active,
.MLK__toolbar > div > div.is-pressed,
.MLK__toolbar > div > div.is-active {
  color: var(--_toolbar-text-active);
}
.MLK__toolbar > div > div.selected {
  color: var(--_toolbar-text-active);
  background: var(--_toolbar-background-selected);
  border-radius: 0;
  border-bottom-color: var(--_toolbar-text-active);
  padding-bottom: 4px;
  margin-bottom: 8px;
}
/* This is the element that displays variants on press+hold */
.MLK__variant-panel {
  visibility: hidden;
  position: fixed;
  display: flex;
  flex-flow: row wrap-reverse;
  justify-content: center;
  align-content: center;
  margin: 0;
  padding: 0;
  bottom: auto;
  top: 0;
  box-sizing: content-box;
  transform: none;
  z-index: calc(var(--_keyboard-zindex) + 1);
  touch-action: none;
  max-width: 350px;
  background: var(--_variant-panel-background);
  text-align: center;
  border-radius: 6px;
  padding: 6px;
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
  transition: none;
}
.MLK__variant-panel.is-visible {
  visibility: visible;
}
.MLK__variant-panel.compact {
  --_variant-keycap-length: var(--variant-keycap-length, 50px);
  --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
  --_variant-keycap-aside-font-size: var(--variant-keycap-aside-font-size, 10px);
}
.MLK__variant-panel .item {
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: center;
  font-size: var(--_variant-keycap-font-size);
  height: var(--_variant-keycap-length);
  width: var(--_variant-keycap-length);
  margin: 0;
  box-sizing: border-box;
  border-radius: 5px;
  border: 1px solid transparent;
  background: transparent;
  pointer-events: all;
  cursor: pointer;
  color: var(--_variant-keycap-text);
  fill: currentColor;
}
@media (max-height: 412px) {
  .MLK__variant-panel .item {
    --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
    --_variant-keycap-length: var(--variant-keycap-length, 50px);
  }
}
.MLK__variant-panel .item .ML__latex {
  pointer-events: none;
}
.MLK__variant-panel .item.is-active {
  background: var(--_variant-keycap-background-active);
  color: var(--_variant-keycap-text-active);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
.MLK__variant-panel .item.is-pressed {
  background: var(--_variant-keycap-background-pressed);
  color: var(--_variant-keycap-text-pressed);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
.MLK__variant-panel .item.small {
  font-size: var(--_keycap-small-font-size);
}
.MLK__variant-panel .item.swatch-button {
  box-sizing: border-box;
  background: #fbfbfb;
}
.MLK__variant-panel .item.swatch-button > span {
  display: inline-block;
  margin: 6px;
  width: calc(100% - 12px);
  height: calc(100% - 12px);
  border-radius: 50%;
}
.MLK__variant-panel .item.swatch-button:hover {
  background: #f0f0f0;
}
.MLK__variant-panel .item.swatch-button:hover > span {
  border-radius: 2px;
}
.MLK__variant-panel .item.box > div,
.MLK__variant-panel .item.box > span {
  border: 1px dashed rgba(0, 0, 0, 0.24);
}
.MLK__variant-panel .item .warning {
  min-height: 60px;
  min-width: 60px;
  background: #cd0030;
  color: white;
  padding: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 5px;
}
.MLK__variant-panel .item .warning.is-pressed,
.MLK__variant-panel .item .warning.is-active {
  background: red;
}
.MLK__variant-panel .item .warning svg.svg-glyph {
  width: var(--_keycap-glyph-size-xl);
  height: var(--_keycap-glyph-size-xl);
}
.MLK__variant-panel .item aside {
  font-size: var(--_variant-keycap-aside-font-size);
  line-height: 12px;
  opacity: 0.78;
  padding-top: 2px;
  width: 100%;
  text-align: center;
  text-wrap: wrap;
}
.MLK__keycap {
  position: relative;
}
.MLK__shift {
  display: block;
  position: absolute;
  right: 4px;
  top: 4px;
  font-size: var(--_keycap-shift-font-size);
  color: var(--_keycap-shift-color);
}
.hide-shift .MLK__shift {
  display: none;
}
@media (max-width: 414px) {
  .MLK__variant-panel {
    max-width: 350px;
    --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
    --_variant-keycap-length: var(--variant-keycap-length, 50px);
  }
}
/* @xs breakpoint: iPhone 5 */
@container (max-width: 414px) {
  .MLK__rows {
    --_keycap-gap: max(var(--_keycap-gap, 2px), 2px);
    --_keycap-height: max(var(--_keycap-height), 42px);
    --_keycap-width: var(--keycap-width, min(min(var(--_keycap-max-width)), 10cqw), 62px));
  }
  .MLK__toolbar > div > div {
    font-size: 100%;
    margin-left: 2px;
    margin-right: 2px;
  }
  .MLK__rows .shift,
  .MLK__rows .action {
    font-size: 65%;
  }
  .MLK__rows .warning svg.svg-glyph {
    width: 14px;
    height: 14px;
    min-height: 14px;
  }
}
@container (max-width: 744px) {
  .MLK__rows {
    --_keycap-gap: max(var(--keycap-gap, 2px), 2px);
    --_keycap-height: max(var(--keycap-height, 52px), 52px);
    --_keycap-width: var(--keycap-width, min(min(var(--_keycap-max-width), 10cqw), 62px));
  }
  .MLK__toolbar > div > div {
    padding-left: 0;
    padding-right: 0;
  }
  .MLK__tooltip::after {
    padding: 8px 16px;
    font-size: 16px;
  }
  .MLK__rows > .MLK__row > div.fnbutton {
    font-size: 16px;
  }
  .MLK__rows > .MLK__row > div.bigfnbutton {
    font-size: calc(var(--_keycap-extra-small-font-size) / 1.55);
  }
  .MLK__rows > .MLK__row > div.small {
    font-size: 13px;
  }
  .MLK__rows > .MLK__row > div > aside {
    display: none;
  }
  .MLK__shift {
    display: none;
  }
}
/* Medium breakpoint: larger phones */
@container (max-width: 768px) {
  .MLK__rows {
    --_keycap-height: max(var(--keycap-height, 42px), 42px);
  }
  .MLK__rows > .MLK__row > div > small {
    font-size: 14px;
  }
}
@media (max-height: 768px) {
  .MLK__rows {
    --_keycap-height: max(var(--keycap-height, 42px), 42px);
  }
  .MLK__rows > .MLK__row > div > small {
    font-size: 14px;
  }
}
@container (max-width: 1444px) {
  .MLK__rows .if-wide {
    display: none;
  }
}
@media (prefers-color-scheme: dark) {
  .ML__keyboard {
    --_accent-color: var(--keyboard-accent-color, #0b5c9c);
    --_background: var(--keyboard-background, #151515);
    --_border: var(--keyboard-border, transparent);
    --_toolbar-text: var(--keyboard-toolbar-text, #e3e4e8);
    --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #303030);
    --keyboard-toolbar-background-hover: #303030;
    --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #303030);
    --_keycap-background: var(--keycap-background, #1f2022);
    --_keycap-background-hover: var(--keycap-background-hover, #2f3032);
    --_keycap-border: var(--_keycap-border, transparent);
    --_keycap-border-bottom: var(--_keycap-border-bottom, transparent);
    --_keycap-text: var(--keycap-text, #e3e4e8);
    --_keycap-secondary-background: var(--keycap-secondary-background, #3d4144);
    --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #4d5154);
    --_keycap-secondary-text: var(--keycap-secondary-text, #e7ebee);
    --keycap-secondary-border: transparent;
    --keycap-secondary-border-bottom: transparent;
    --_keycap-secondary-border: var(--keycap-secondary-border, transparent);
    --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, transparent);
    --_variant-panel-background: var(--variant-panel-background, #303030);
    --_variant-keycap-text-active: var(--variant-keycap-text-active, #fff);
  }
}
/* Same as the media query, but with a class */
[theme='dark'] .ML__keyboard {
  --_accent-color: var(--keyboard-accent-color, #0b5c9c);
  --_background: var(--keyboard-background, #151515);
  --_border: var(--keyboard-border, transparent);
  --_toolbar-text: var(--keyboard-toolbar-text, #e3e4e8);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #303030);
  --keyboard-toolbar-background-hover: #303030;
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #303030);
  --_keycap-background: var(--keycap-background, #1f2022);
  --_keycap-background-hover: var(--keycap-background-hover, #2f3032);
  --_keycap-border: var(--_keycap-border, transparent);
  --_keycap-border-bottom: var(--_keycap-border-bottom, transparent);
  --_keycap-text: var(--keycap-text, #e3e4e8);
  --_keycap-secondary-background: var(--keycap-secondary-background, #3d4144);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #4d5154);
  --_keycap-secondary-text: var(--keycap-secondary-text, #e7ebee);
  --keycap-secondary-border: transparent;
  --keycap-secondary-border-bottom: transparent;
  --_keycap-secondary-border: var(--keycap-secondary-border, transparent);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, transparent);
  --_variant-panel-background: var(--variant-panel-background, #303030);
  --_variant-keycap-text-active: var(--variant-keycap-text-active, #fff);
}
[theme='light'] .ML__keyboard {
  --_accent-color: var(--keyboard-accent-color, #0c75d8);
  --_background: var(--keyboard-background, #cacfd7);
  --_border: var(--keyboard-border, #ddd);
  --_toolbar-text: var(--keyboard-toolbar-text, #2c2e2f);
  --_toolbar-background: var(--keyboard-toolbar-background, transparent);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #eee);
  --_toolbar-background-selected: var(--keyboard-toolbar-background-selected, transparent);
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #fff);
  --_keycap-background: var(--keycap-background, white);
  --_keycap-background-hover: var(--keycap-background-hover, #f5f5f7);
  --_keycap-background-active: var(--keycap-background-active, var(--_accent-color));
  --_keycap-background-pressed: var(--keycap-background-pressed, var(--_accent-color));
  --_keycap-border: var(--_keycap-border, #e5e6e9);
  --_keycap-border-bottom: var(--_keycap-border-bottom, #8d8f92);
  --_keycap-text: var(--keycap-text, #000);
  --_keycap-text-active: var(--keycap-text-active, #fff);
  --_keycap-text-hover: var(--keycap-text-hover, var(--_keycap-text));
  --_keycap-text-pressed: var(--keycap-text-pressed, #fff);
  --_keycap-shift-text: var(--keycap-shift-text, var(--_accent-color));
  --_keycap-secondary-background: var(--keycap-secondary-background, #a0a9b8);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #7d8795);
  --_keycap-secondary-text: var(--keycap-secondary-text, #060707);
  --_keycap-secondary-border: var(--keycap-secondary-border, #c5c9d0);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, #989da6);
  --_variant-panel-background: var(--variant-panel-background, #f0f0f0);
  --_variant-keycap-text: var(--variant-keycap-textvar, var(--_keycap-text));
  --_variant-keycap-text-active: var(--variant-keycap-text-active, var(--_keycap-text-active));
  --_variant-keycap-background-active: var(--variant-keycap-background-active, var(--_accent-color));
}
`,MLe=`:host {
  --primary-color: #5898ff;
  --primary-color-dimmed: #c0c0f0;
  --primary-color-dark: var(--blue-500);
  --primary-color-light: var(--blue-100);
  --primary-color-reverse: #ffffff;
  --secondary-color: #ff8a65;
  --secondary-color-dimmed: #f0d5c5;
  --secondary-color-dark: var(--orange-500);
  --secondary-color-light: var(--orange-100);
  --secondary-color-reverse: #ffffff;
  --link-color: #5898ff;
  --link-color-dimmed: #c5c5c5;
  --link-color-dark: #121212;
  --link-color-light: #e2e2e2;
  --link-color-reverse: #ffffff;
  --semantic-blue: var(--blue-700);
  --semantic-red: var(--red-400);
  --semantic-orange: var(--orange-400);
  --semantic-green: var(--green-700);
  --neutral-100: #f5f5f5;
  --neutral-200: #eeeeee;
  --neutral-300: #e0e0e0;
  --neutral-400: #bdbdbd;
  --neutral-500: #9e9e9e;
  --neutral-600: #757575;
  --neutral-700: #616161;
  --neutral-800: #424242;
  --neutral-900: #212121;
  --red-25: #fff8f7;
  --red-50: #fff1ef;
  --red-100: #ffeae6;
  --red-200: #ffcac1;
  --red-300: #ffa495;
  --red-400: #ff7865;
  --red-500: #f21c0d;
  --red-600: #e50018;
  --red-700: #d30024;
  --red-800: #bd002c;
  --red-900: #a1002f;
  --orange-25: #fffbf8;
  --orange-50: #fff7f1;
  --orange-100: #fff3ea;
  --orange-200: #ffe1c9;
  --orange-300: #ffcca2;
  --orange-400: #ffb677;
  --orange-500: #fe9310;
  --orange-600: #f58700;
  --orange-700: #ea7c00;
  --orange-800: #dc6d00;
  --orange-900: #ca5b00;
  --brown-25: #fff8ef;
  --brown-50: #fff1df;
  --brown-100: #ffe9ce;
  --brown-200: #ebcca6;
  --brown-300: #cdaf8a;
  --brown-400: #af936f;
  --brown-500: #856a47;
  --brown-600: #7f5e34;
  --brown-700: #78511f;
  --brown-800: #6e4200;
  --brown-900: #593200;
  --yellow-25: #fffdf9;
  --yellow-50: #fffcf2;
  --yellow-100: #fffaec;
  --yellow-200: #fff2ce;
  --yellow-300: #ffe8ab;
  --yellow-400: #ffdf85;
  --yellow-500: #ffcf33;
  --yellow-600: #f1c000;
  --yellow-700: #dfb200;
  --yellow-800: #c9a000;
  --yellow-900: #ad8a00;
  --lime-25: #f4ffee;
  --lime-50: #e9ffdd;
  --lime-100: #ddffca;
  --lime-200: #a8fb6f;
  --lime-300: #94e659;
  --lime-400: #80d142;
  --lime-500: #63b215;
  --lime-600: #45a000;
  --lime-700: #268e00;
  --lime-800: #007417;
  --lime-900: #005321;
  --green-25: #f5fff5;
  --green-50: #ebffea;
  --green-100: #e0ffdf;
  --green-200: #a7ffa7;
  --green-300: #5afa65;
  --green-400: #45e953;
  --green-500: #17cf36;
  --green-600: #00b944;
  --green-700: #00a34a;
  --green-800: #008749;
  --green-900: #00653e;
  --teal-25: #f3ffff;
  --teal-50: #e6fffe;
  --teal-100: #d9fffe;
  --teal-200: #8dfffe;
  --teal-300: #57f4f4;
  --teal-400: #43e5e5;
  --teal-500: #17cfcf;
  --teal-600: #00c2c0;
  --teal-700: #00b5b1;
  --teal-800: #00a49e;
  --teal-900: #009087;
  --cyan-25: #f7fcff;
  --cyan-50: #eff8ff;
  --cyan-100: #e7f5ff;
  --cyan-200: #c2e6ff;
  --cyan-300: #95d5ff;
  --cyan-400: #61c4ff;
  --cyan-500: #13a7ec;
  --cyan-600: #069eda;
  --cyan-700: #0095c9;
  --cyan-800: #0088b2;
  --cyan-900: #0a7897;
  --blue-25: #f7faff;
  --blue-50: #eef5ff;
  --blue-100: #e5f1ff;
  --blue-200: #bfdbff;
  --blue-300: #92c2ff;
  --blue-400: #63a8ff;
  --blue-500: #0d80f2;
  --blue-600: #0077db;
  --blue-700: #006dc4;
  --blue-800: #0060a7;
  --blue-900: #005086;
  --indigo-25: #f8f7ff;
  --indigo-50: #f1efff;
  --indigo-100: #eae7ff;
  --indigo-200: #ccc3ff;
  --indigo-300: #ac99ff;
  --indigo-400: #916aff;
  --indigo-500: #63c;
  --indigo-600: #5a21b2;
  --indigo-700: #4e0b99;
  --indigo-800: #3b0071;
  --indigo-900: #220040;
  --purple-25: #fbf7ff;
  --purple-50: #f8f0ff;
  --purple-100: #f4e8ff;
  --purple-200: #e4c4ff;
  --purple-300: #d49aff;
  --purple-400: #c36aff;
  --purple-500: #a219e6;
  --purple-600: #9000c4;
  --purple-700: #7c009f;
  --purple-800: #600073;
  --purple-900: #3d0043;
  --magenta-25: #fff8fb;
  --magenta-50: #fff2f6;
  --magenta-100: #ffebf2;
  --magenta-200: #ffcddf;
  --magenta-300: #ffa8cb;
  --magenta-400: #ff7fb7;
  --magenta-500: #eb4799;
  --magenta-600: #da3689;
  --magenta-700: #c82179;
  --magenta-800: #b00065;
  --magenta-900: #8a004c;
}
@media (prefers-color-scheme: dark) {
  :host {
    --semantic-blue: var(--blue-700);
    --semantic-red: var(--red-400);
    --semantic-orange: var(--orange-400);
    --semantic-green: var(--green-700);
    --semantic-bg-blue: var(--blue-25);
    --semantic-bg-red: var(--red-25);
    --semantic-bg-orange: var(--orange-25);
    --semantic-bg-green: var(--green-25);
    --neutral-100: #121212;
    --neutral-200: #424242;
    --neutral-300: #616161;
    --neutral-400: #757575;
    --neutral-500: #9e9e9e;
    --neutral-600: #bdbdbd;
    --neutral-700: #e0e0e0;
    --neutral-800: #eeeeee;
    --neutral-900: #f5f5f5;
  }
}
:host([theme='dark']) {
  --semantic-blue: var(--blue-700);
  --semantic-red: var(--red-400);
  --semantic-orange: var(--orange-400);
  --semantic-green: var(--green-700);
  --semantic-bg-blue: var(--blue-25);
  --semantic-bg-red: var(--red-25);
  --semantic-bg-orange: var(--orange-25);
  --semantic-bg-green: var(--green-25);
  --neutral-100: #121212;
  --neutral-200: #424242;
  --neutral-300: #616161;
  --neutral-400: #757575;
  --neutral-500: #9e9e9e;
  --neutral-600: #bdbdbd;
  --neutral-700: #e0e0e0;
  --neutral-800: #eeeeee;
  --neutral-900: #f5f5f5;
}
/* @media (prefers-color-scheme: dark) {
  :host {
      --label-color: #fff;
      --active-label-color: #000;
      --menu-bg: #525252;
      --active-bg: #5898ff;
      --active-bg-dimmed: #5c5c5c;
  }
} */
:host {
  --ui-font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont,
    'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol';
  --ui-font-size: 14px;
  --ui-line-height: 1.5;
  --ui-letter-spacing: 0.007em;
  --mono-font-family: 'Berkeley Mono', 'JetBrains Mono', 'IBM Plex Mono',
    'Source Code Pro', Menlo, Monaco, 'Courier New', monospace;
  --ui-layer-1: var(--neutral-100);
  --ui-layer-2: var(--neutral-200);
  --ui-layer-3: var(--neutral-300);
  --ui-layer-4: var(--neutral-400);
  --ui-layer-5: var(--neutral-500);
  --ui-layer-6: var(--neutral-600);
  --ui-border-color: var(--primary-color);
  --ui-border-radius: 4px;
  --ui-text: var(--neutral-900);
  --ui-text-secondary: var(--neutral-700);
  --ui-text-placeholder: var(--neutral-500);
  --ui-text-muted: var(--neutral-300);
  /** A field is a UI element in which a user can type data, for
  * example an input or textarea element.
  */
  --ui-field-bg: var(--neutral-100);
  --ui-field-bg-hover: var(--neutral-100);
  --ui-field-bg-disabled: var(--neutral-300);
  --ui-field-bg-invalid: var(--red-100);
  --ui-field-bg-focus: var(--neutral-100);
  --ui-field-border: 0.5px solid var(--border-color);
  --ui-field-border-hover: 0.5px solid var(--border-color);
  --ui-field-border-disabled: 0.5px solid var(--border-color);
  --ui-field-border-invalid: 0.5px solid var(--border-color);
  --ui-field-border-focus: 0.5px solid var(--border-color);
  --ui-menu-bg: var(--neutral-100);
  --ui-menu-text: var(--neutral-900);
  --ui-menu-bg-hover: var(--neutral-200);
  --ui-menu-text-hover: var(--neutral-900);
  /** The \`active\` state is used for the state of menu items
  * when they are selected.
  */
  --ui-menu-bg-active: var(--primary-color);
  --ui-menu-text-active: var(--primary-color-reverse);
  /** The \`active-muted\` set is used for the state of
  * submenus when they are open.
  */
  --ui-menu-bg-active-muted: var(--neutral-300);
  --ui-menu-text-active-muted: var(--neutral-900);
  /* --ui-menu-shadow: 0 1px 2px 0 rgba(60, 64, 67, 0.302),
0 2px 6px 2px rgba(60, 64, 67, 0.149); */
  --ui-menu-shadow: 0 0 2px rgba(0, 0, 0, 0.5), 0 0 20px rgba(0, 0, 0, 0.2);
  --ui-menu-divider: 0.5px solid #c7c7c7;
  /* var(--neutral-300); */
  --ui-menu-z-index: 10000;
  --page-bg: var(--neutral-100);
  --content-bg: var(--neutral-200);
}
@media (prefers-color-scheme: dark) {
  :host {
    --ui-menu-bg: var(--neutral-200);
  }
}
:host([theme='dark']) {
  --ui-menu-bg: var(--neutral-200);
}
/* PingFang SC is a macOS font. Microsoft Yahei is a Windows font. 
  Noto  is a Linux/Android font.
*/
:lang(zh-cn),
:lang(zh-sg),
:lang(zh-my),
:lang(zh) {
  --ui-font-family: -apple-system, system-ui, 'PingFang SC', 'Hiragino Sans GB',
    'Noto Sans CJK SC', 'Noto Sans SC', 'Noto Sans', 'Microsoft Yahei UI',
    'Microsoft YaHei New', 'Microsoft Yahei', '微软雅黑', SimSun, '宋体',
    STXihei, '华文细黑', sans-serif;
}
:lang(zh-tw),
:lang(zh-hk),
:lang(zh-mo) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans',
    'Microsoft JhengHei UI', 'Microsoft JhengHei', '微軟正黑體', '新細明體',
    'PMingLiU', '細明體', 'MingLiU', sans-serif;
}
:lang(ja),
:lang(ja-jp),
:lang(ja-jp-mac) {
  --ui-font-family: -apple-system, system-ui, 'Hiragino Sans',
    'Hiragino Kaku Gothic ProN', 'Noto Sans CJK JP', 'Noto Sans JP', 'Noto Sans',
    '游ゴシック', '游ゴシック体', YuGothic, 'Yu Gothic', 'メイリオ', Meiryo,
    'ＭＳ Ｐゴシック', 'MS PGothic', sans-serif;
}
:lang(ko),
:lang(ko-kr),
:lang(ko-kr-std) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans CJK KR', 'Noto Sans KR',
    'Noto Sans', 'Malgun Gothic', '맑은 고딕', 'Apple SD Gothic Neo',
    '애플 SD 산돌고딕 Neo', 'Apple SD 산돌고딕 Neo', '돋움', Dotum, sans-serif;
}
:lang(ko-kr-apple) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans CJK KR', 'Noto Sans KR',
    'Noto Sans', 'Apple SD Gothic Neo', '애플 SD 산돌고딕 Neo',
    'Apple SD 산돌고딕 Neo', '돋움', Dotum, sans-serif;
}
:lang(zh-cn),
:lang(zh-sg),
:lang(zh-my),
:lang(zh),
:lang(zh-tw),
:lang(zh-hk),
:lang(zh-mo),
:lang(ja),
:lang(ja-jp),
:lang(ja-jp-mac),
:lang(ko),
:lang(ko-kr),
:lang(ko-kr-std),
:lang(ko-kr-apple) {
  --ui-font-size: 1rem;
  --ui-line-height: 1.7;
  --ui-letter-spacing: 0;
}
:dir(rtl) {
  --ui-line-height: auto;
  --ui-letter-spacing: 0;
}
`,FLe=`.ui-menu *,
.ui-menu ::before,
.ui-menu ::after {
  box-sizing: border-box;
}
.ui-menu {
  display: none;
  color-scheme: light dark;
  -webkit-user-select: none;
  /* Important: Safari iOS doesn't respect user-select */
  user-select: none;
  cursor: default;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: rgba(0 0 0 0);
  --active-label-color: #fff;
  /* ui-menu-text-active */
  --label-color: #121212;
  /* ui-menu-text */
  --menu-bg: #e2e2e2;
  /* ui-menu-background */
  --active-bg: #5898ff;
  /* ui-menu-background-active */
  --active-bg-dimmed: #c5c5c5;
  /* ui-menu-background-active-muted */
}
/** Use the :where pseudo selector to make the specificity of the
 * selector 0, so that it can be overridden by the user.
 */
:where(.ui-menu-container) {
  position: absolute;
  overflow: visible;
  width: auto;
  height: auto;
  z-index: 10000;
  border-radius: 8px;
  background: var(--ui-menu-bg);
  box-shadow: var(--ui-menu-shadow);
  list-style: none;
  padding: 6px 0 6px 0;
  margin: 0;
  user-select: none;
  cursor: default;
  color: var(--ui-menu-text);
  font-weight: normal;
  font-style: normal;
  text-shadow: none;
  text-transform: none;
  letter-spacing: 0;
  outline: none;
  opacity: 1;
  /* The [popover] elements have a 1px solid black border. Ugh. */
  border: none;
  width: fit-content;
  height: fit-content;
}
:where(.ui-menu-container > li) {
  display: flex;
  flex-flow: row;
  align-items: center;
  padding: 1px 7px 1px 7px;
  margin-top: 0;
  margin-left: 6px;
  margin-right: 6px;
  border-radius: 4px;
  white-space: nowrap;
  position: relative;
  outline: none;
  fill: currentColor;
  user-select: none;
  cursor: default;
  text-align: left;
  color: inherit;
  font-family: var(--ui-font-family);
  font-size: var(--ui-font-size);
  line-height: var(--ui-line-height);
  letter-spacing: var(--ui-letter-spacing);
}
:where(.ui-menu-container > li > .label) {
  display: flex;
  align-items: center;
  justify-content: space-between;
  appearance: none;
  background: none;
  outline: none;
  width: 100%;
  margin: 0;
  padding: 1px 2px 1px 1px;
  overflow: visible;
  border: 1px solid transparent;
  white-space: nowrap;
  text-align: start;
  align-content: center;
}
:where(.ui-menu-container > li:has(.heading)) {
  margin-top: 0.5em;
}
:where(.ui-menu-container > li > .label.heading) {
  font-weight: bold;
  opacity: 0.4;
}
:where(.ui-menu-container > li.indent > .label) {
  margin-inline-start: 12px;
}
:where(.ui-menu-container > li > .label.indent) {
  margin-inline-start: 12px;
}
:where(.ui-menu-container > li[role='divider']) {
  border-bottom: 1px solid var(--ui-menu-divider);
  border-radius: 0;
  padding: 0;
  margin-left: 15px;
  margin-right: 15px;
  padding-top: 5px;
  margin-bottom: 5px;
  width: calc(100% - 30px);
  /** 100% - (margin-left + margin-right) */
}
:where(.ui-menu-container > li[aria-disabled='true']) {
  opacity: 0.5;
}
:where(.ui-menu-container > li.active) {
  background: var(--ui-menu-bg-active);
  background: -apple-system-control-accent;
  color: var(--ui-menu-text-active);
}
:where(.ui-menu-container > li.active.is-submenu-open) {
  background: var(--ui-menu-bg-active-muted);
  color: inherit;
}
:where(.ui-menu-container > li[aria-haspopup='true'] > .label) {
  padding-inline-end: 0;
}
:where(.ui-menu-container > li[aria-haspopup='true'].active::after) {
  color: var(--ui-menu-text-active);
}
/** Keyboard shortcut */
:where(.ui-menu-container > li > kbd) {
  font-family: var(--ui-font-family);
  margin-inline-start: 12px;
  opacity: 0.4;
}
:where(.ui-menu-container > li.active > kbd) {
  opacity: 0.85;
}
.ui-trailing-chevron {
  display: flex;
  margin-inline-start: 24px;
  width: 10px;
  height: 10px;
  margin-bottom: 4px;
}
.ui-trailing-chevron:dir(rtl) {
  transform: scaleX(-1);
}
.ui-checkmark {
  display: flex;
  margin-inline-end: -11px;
  margin-inline-start: -4px;
  margin-top: 2px;
  width: 16px;
  height: 16px;
}
.ui-mixedmark {
  display: flex;
  margin-inline-end: -11px;
  margin-inline-start: -4px;
  margin-top: 2px;
  width: 16px;
  height: 16px;
}
`,Md;function jd(t){let e="";switch(t){case"mathfield-element":e=`
    :host { display: inline-block; background-color: field; color: fieldtext; border-width: 1px; border-style: solid; border-color: #acacac; border-radius: 2px;}
    :host([hidden]) { display: none; }
    :host([disabled]), :host([disabled]:focus), :host([disabled]:focus-within) { outline: none; opacity:  .5; }
    :host(:focus), :host(:focus-within) {
      outline: Highlight auto 1px;    /* For Firefox */
      outline: -webkit-focus-ring-color auto 1px;
    }
    :host([readonly]:focus), :host([readonly]:focus-within),
    :host([read-only]:focus), :host([read-only]:focus-within) {
      outline: none;
    }`;break;case"core":e=BLe;break;case"mathfield":e=CLe;break;case"environment-popover":e=SLe;break;case"suggestion-popover":e=_Le;break;case"keystroke-caption":e=kLe;break;case"virtual-keyboard":e=ELe;break;case"ui":e=MLe;break;case"menu":e=FLe;break}return e}function Eh(t){return Md||(Md={}),Md[t]||(Md[t]=new CSSStyleSheet,Md[t].replaceSync(jd(t))),Md[t]}var hl;function Tu(t){var e;try{if(!("adoptedStyleSheets"in document)){if(window.document.getElementById(`mathlive-style-${t}`))return;let r=window.document.createElement("style");r.id=`mathlive-style-${t}`,r.append(window.document.createTextNode(jd(t))),window.document.head.appendChild(r);return}if(hl||(hl={}),((e=hl[t])!=null?e:0)!==0)hl[t]+=1;else{let r=Eh(t);document.adoptedStyleSheets=[...document.adoptedStyleSheets,r],hl[t]=1}}catch(r){console.error("Error injecting stylesheet",t,r)}}function Du(t){if("adoptedStyleSheets"in document&&hl!=null&&hl[t]&&(hl[t]-=1,hl[t]<=0)){let e=Md[t];document.adoptedStyleSheets=document.adoptedStyleSheets.filter(r=>r!==e)}}var _5=class Wte extends se{constructor(e){var r;super(G(P({},e),{type:"accent",body:(r=e.body)!=null?r:void 0})),e.accentChar?this.accent=e.accentChar:this.svgAccent=e==null?void 0:e.svgAccent,this.skipBoundary=!0,this.captureSelection=!0}static fromJson(e){return new Wte(e)}toJson(){return G(P({},super.toJson()),{accentChar:this.accent,svgAccent:this.svgAccent})}render(e){var r;let n=new mt({parent:e,mathstyle:"cramp"},this.style),i=(r=se.createBox(n,this.body))!=null?r:new ge("▢",{style:this.style}),s=0;!this.hasEmptyBranch("body")&&this.body.length===2&&this.body[1].isCharacterBox()&&(s=i.skew);let a=Math.min(i.height,uu),o;if(this.svgAccent)o=Bx(this.svgAccent),a=n.metrics.bigOpSpacing1-a;else if(this.accent){let c=new ge(this.accent,{fontFamily:"Main-Regular"});c.italic=0;let u=this.accent===8407||this.accent===8411||this.accent===8412?" ML__accent-combining-char":"";o=new ge(new ge(c),{classes:"ML__accent-body"+u})}o=new qr({shift:0,children:[{box:new ge(i)},-a,{box:o,marginLeft:i.left+2*s,classes:["ML__center"]}]});let l=new ge(o,{type:"lift"});return this.caret&&(l.caret=this.caret),this.bind(n,l.wrap(n)),this.attachSupsub(n,{base:l})}},k5={"(":")","{":"}","[":"]","|":"|","\\lbrace":"\\rbrace","\\lparen":"\\rparen","\\{":"\\}","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"},C3=Object.fromEntries(Object.entries(k5).map(([t,e])=>[e,t]));function E5(t){var e;return(e={"[":91,"]":93,"(":40,")":41,"\\mid":8739,"|":8739,"∣":8739,"∥":8741,"\\|":8739,"\\{":123,"\\}":125,"\\lbrace":123,"\\rbrace":125,"\\lparen":40,"\\rparen":41,"\\lbrack":91,"\\rbrack":93,"\\vert":8739,"\\lvert":8739,"\\mvert":8739,"\\rvert":8739,"\\Vert":8741,"\\lVert":8741,"\\mVert":8741,"\\rVert":8741,"\\parallel":8741,"\\shortparallel":8741,"\\langle":10216,"\\rangle":10217,"\\lfloor":8970,"\\rfloor":8971,"\\lceil":8968,"\\rceil":8969,"\\ulcorner":9484,"\\urcorner":9488,"\\llcorner":9492,"\\lrcorner":9496,"\\lgroup":10222,"\\rgroup":10223,"\\lmoustache":9136,"\\rmoustache":9137,"\\surd":8730}[t])!=null?e:t.codePointAt(0)}function TLe(t,e,r,n){var i;let s=new ge(E5(t),{fontFamily:"Main-Regular",isSelected:n.isSelected,classes:"ML__small-delim "+((i=n.classes)!=null?i:"")}).wrap(e);return r&&s.setTop((1-e.scalingFactor)*Na),s}function Gte(t,e,r,n,i){var s,a;let o=new mt({parent:n,mathstyle:"textstyle"},i==null?void 0:i.style),l=new ge(E5(t),{fontFamily:`Size${e}-Regular`,isSelected:i.isSelected,classes:((s=i.classes)!=null?s:"")+` ML__delim-size${e}`,type:(a=i.type)!=null?a:"ignore"}).wrap(o);return r&&l.setTop((1-o.scalingFactor)*Na),l}function Xte(t,e,r,n,i){var s;let a,o,l,c;a=l=c=E5(t),o=null;let u="Size1-Regular";t==="\\vert"||t==="\\lvert"||t==="\\rvert"||t==="\\mvert"||t==="\\mid"?l=a=c=8739:t==="\\Vert"||t==="\\lVert"||t==="\\rVert"||t==="\\mVert"||t==="\\|"?l=a=c=8741:t==="\\uparrow"?l=c=9168:t==="\\Uparrow"?l=c=8214:t==="\\downarrow"?a=l=9168:t==="\\Downarrow"?a=l=8214:t==="\\updownarrow"?(a=8593,l=9168,c=8595):t==="\\Updownarrow"?(a=8657,l=8214,c=8659):t==="["||t==="\\lbrack"?(a=9121,l=9122,c=9123,u="Size4-Regular"):t==="]"||t==="\\rbrack"?(a=9124,l=9125,c=9126,u="Size4-Regular"):t==="\\lfloor"||t==="⌊"?(l=a=9122,c=9123,u="Size4-Regular"):t==="\\lceil"||t==="⌈"?(a=9121,l=c=9122,u="Size4-Regular"):t==="\\rfloor"||t==="⌋"?(l=a=9125,c=9126,u="Size4-Regular"):t==="\\rceil"||t==="⌉"?(a=9124,l=c=9125,u="Size4-Regular"):t==="("||t==="\\lparen"?(a=9115,l=9116,c=9117,u="Size4-Regular"):t===")"||t==="\\rparen"?(a=9118,l=9119,c=9120,u="Size4-Regular"):t==="\\{"||t==="\\lbrace"?(a=9127,o=9128,c=9129,l=9130,u="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(a=9131,o=9132,c=9133,l=9130,u="Size4-Regular"):t==="\\lgroup"||t==="⟮"?(a=9127,c=9129,l=9130,u="Size4-Regular"):t==="\\rgroup"||t==="⟯"?(a=9131,c=9133,l=9130,u="Size4-Regular"):t==="\\lmoustache"||t==="⎰"?(a=9127,c=9133,l=9130,u="Size4-Regular"):t==="\\rmoustache"||t==="⎱"?(a=9131,c=9129,l=9130,u="Size4-Regular"):t==="\\surd"?(a=57345,c=9143,l=57344,u="Size4-Regular"):t==="\\ulcorner"?(a=9484,l=c=32):t==="\\urcorner"?(a=9488,l=c=32):t==="\\llcorner"?(c=9492,l=a=32):t==="\\lrcorner"&&(a=9496,l=a=32);let d=rA(a,u),A=d.height+d.depth,f=rA(l,u),p=f.height+f.depth,m=rA(c,u),v=m.height+m.depth,g=0,y=1;if(o!==null){let I=rA(o,u);g=I.height+I.depth,y=2}let x=A+v+g,b=Math.max(0,Math.ceil((e-x)/(y*p))),w=x+b*y*p,C=Na;r&&(C=C*n.scalingFactor);let B=w/2-C,S=.008,E=[];E.push({box:new ge(c,{fontFamily:u})}),E.push(-S);let M=new ge(l,{fontFamily:u});if(o===null)for(let I=0;I<b;I++)E.push({box:M});else{for(let I=0;I<b;I++)E.push({box:M});E.push(-S),E.push({box:new ge(o,{fontFamily:u})}),E.push(-S);for(let I=0;I<b;I++)E.push({box:M})}E.push(-S),E.push({box:new ge(a,{fontFamily:u})});let T="";u==="Size1-Regular"?T=" delim-size1":u==="Size4-Regular"&&(T=" delim-size4");let L=new qr({bottom:B,children:E},{classes:T});return new ge(L,G(P({},i??{}),{classes:((s=i==null?void 0:i.classes)!=null?s:"")+" ML__delim-mult"}))}var Yte=new Set(["(",")","\\lparen","\\rparen","[","]","\\lbrack","\\rbrack","\\{","\\}","\\lbrace","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd","⌊","⌋","⌈","⌉"]),DLe=new Set(["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\mvert","\\mid","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","⟮","⟯","⎰","⎱"]),Jte=new Set(["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"]),LLe=[0,1.2,1.8,2.4,3];function NLe(t,e,r,n){return t===void 0||t==="."?k0(r,n.classes):(t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle"),Yte.has(t)||Jte.has(t)?Gte(t,e,!1,r,n):DLe.has(t)?Xte(t,LLe[e],!1,r,n):null)}var jLe=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],ILe=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"stack"}],OLe=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];function PLe(t){return t.type==="small"?"Main-Regular":t.type==="large"?"Size"+t.size+"-Regular":(t.type,"Size4-Regular")}function ULe(t,e,r,n){let i={"-4":0,"-3":1,0:2}[n.mathstyle.sizeDelta];for(let s=i;s<r.length&&r[s].type!=="stack";s++){let a=rA(t,PLe(r[s]));if(a.defaultMetrics)return{type:"small",mathstyle:"scriptstyle"};let o=a.height+a.depth;if(r[s].type==="small"&&(r[s].mathstyle==="scriptscriptstyle"?o*=Math.max(US[Math.max(1,n.size-2)],n.minFontScale):r[s].mathstyle==="scriptstyle"&&(o*=Math.max(US[Math.max(1,n.size-1)],n.minFontScale))),o>e)return r[s]}return r[r.length-1]}function B3(t,e,r,n,i,s){if(!e||e.length===0||e===".")return k0(i);e==="<"||e==="\\lt"?e="\\langle":(e===">"||e==="\\gt")&&(e="\\rangle");let a;Jte.has(e)?a=jLe:Yte.has(e)?a=OLe:a=ILe;let o=ULe(E5(e),r,a,i),l=new mt({parent:i,mathstyle:o.mathstyle},s==null?void 0:s.style);return o.type==="small"?TLe(e,l,n,G(P({},s),{type:t})):o.type==="large"?Gte(e,o.size,n,l,G(P({},s),{type:t})):(o.type,Xte(e,r,n,l,G(P({},s),{type:t})))}function n1(t,e,r,n,i,s){if(e===".")return k0(i,s==null?void 0:s.classes);let a=Na*i.scalingFactor,o=901,l=5/ZA,c=Math.max(r-a,n+a),u=Math.max(c/500*o,2*c-l);return B3(t,e,u,!0,i,s)}function k0(t,e){let r=new ge(null,{classes:" ML__nulldelimiter "+(e??""),type:"ignore"});return r.width=t.getRegisterAsEm("nulldelimiterspace"),r.wrap(new mt({parent:t,mathstyle:"textstyle"}))}var Lo=class Zte extends se{constructor(e){var r;super({type:"placeholder",command:"\\placeholder",mode:(r=e==null?void 0:e.mode)!=null?r:"math",style:e==null?void 0:e.style}),this.captureSelection=!0}static fromJson(e){return new Zte(e)}toJson(){return super.toJson()}render(e){let r;return this.value=e.placeholderSymbol,typeof e.renderPlaceholder=="function"?r=e.renderPlaceholder(e):r=this.createBox(e),this.caret&&(r.classes+=" ML__placeholder-selected"),r}_serialize(e){return e.skipPlaceholders?"":"\\placeholder{}"}},ere=["matrix","matrix*","pmatrix","pmatrix*","bmatrix","bmatrix*","Bmatrix","Bmatrix*","vmatrix","vmatrix*","Vmatrix","Vmatrix*"],qS=["cases","dcases","rcases"],tre=["align","align*","aligned","gather","gather*","gathered","split"],RLe=["array","subequations","eqnarray"];function QLe(t){return tre.includes(t)||qS.includes(t)||qS.includes(t)||ere.includes(t)||RLe.includes(t)}function rre(t){return ere.includes(t)}function zLe(t){return qS.includes(t)}function HLe(t){return tre.includes(t)}function $Le(t,e,r){let n=0;for(let c of r.columns)"align"in c&&(n+=1);n=Math.max(n,r.minColumns);let i=0,s=[];for(let c of e){i=Math.max(i,Math.min(c.length,n));let u=0;for(;u<c.length;){let d=[],A=Math.min(c.length,u+n);for(;u<A;)d.push(VLe(c[u],t.mode)),u+=1;if(d.length<r.minColumns)for(;d.length<r.minColumns;)d.push([new se({type:"first",mode:t.mode})]);s.push(d)}}!t.isMultiline&&s.length>0&&s[s.length-1].length===1&&KLe(s[s.length-1][0])&&s.pop();let a=[];for(let c of s){if(c.length!==i)for(let u=c.length;u<i;u++)t.isMultiline?c.push([new se({type:"first",mode:t.mode})]):c.push([new se({type:"first",mode:t.mode}),new Lo]);a.push(c)}let o=0,l=0;for(let c of a){l=0;for(let u of c){for(let d of u)d.parent=t,d.parentBranch=[o,l];l+=1}o+=1}return t.isDirty=!0,a}function VLe(t,e){return t.length===0?[new se({type:"first",mode:e})]:t[0].type!=="first"?[new se({type:"first",mode:e}),...t]:(t.slice(1).some(r=>r.type==="first"),t)}function KLe(t){return t.length===1&&t[0].type==="first"}var ht=class nre extends se{get isMultiline(){let e=this.environmentName;return["lines","multline","multline*","align","split","gather","gathered"].includes(e)}constructor(e,r,n,i={}){var s,a,o,l;if(super({type:"array",isRoot:i.isRoot}),this.environmentName=e,i.columns)i.columns.length===0?this.colFormat=[{align:"l"}]:this.colFormat=[...i.columns];else if(i.minColumns){let c=[];for(let u=0;u<i.minColumns;u++)c.push({align:"l"});this.colFormat=c}else this.colFormat=[{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"}];this.minColumns=(s=i.minColumns)!=null?s:1,this.minRows=(a=i.minRows)!=null?a:1,this.maxRows=(o=i.maxRows)!=null?o:1/0,this._rows=$Le(this,r,{columns:this.colFormat,minColumns:this.minColumns,minRows:this.minRows,maxRows:this.maxRows}),this.rowGaps=n,i.arraycolsep!==void 0&&(this.arraycolsep=i.arraycolsep),this.colSeparationType=i.colSeparationType,i.arraystretch!==void 0&&(this.arraystretch=i.arraystretch),i.mathstyleName&&(this.mathstyleName=i.mathstyleName),i.leftDelim&&(this.leftDelim=i.leftDelim),i.rightDelim&&(this.rightDelim=i.rightDelim),this.classes=(l=i.classes)!=null?l:[]}static fromJson(e){return new nre(e.environmentName,e.array,e.rowGaps,e)}toJson(){let e=G(P({},super.toJson()),{environmentName:this.environmentName,array:this._rows.map(r=>r.map(n=>n.map(i=>i.toJson()))),rowGaps:this.rowGaps,columns:this.colFormat,colSeparationType:this.colSeparationType,minColumns:this.minColumns,minRows:this.minRows,maxRows:this.maxRows});return this.arraystretch!==void 0&&(e.arraystretch=this.arraystretch),this.arraycolsep!==void 0&&(e.arraycolsep=this.arraycolsep),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),this.isRoot&&(e.isRoot=!0),e.minColumns=this.minColumns,e.minRows=this.minRows,e.maxRows=this.maxRows,this.mathstyleName&&(e.mathstyleName=this.mathstyleName),this.classes.length>0&&(e.classes=this.classes),e}branch(e){var r;if($l(e))return(r=this._rows[e[0]][e[1]])!=null?r:void 0}createBranch(e){var r;return $l(e)?(this.isDirty=!0,(r=this.branch(e))!=null?r:[]):[]}get rowCount(){return this._rows.length}get colCount(){return this._rows[0].length}get maxColumns(){return this.colFormat.filter(e=>!!e.align).length}removeBranch(e){if(Ed(e))return super.removeBranch(e);let[r,...n]=this.branch(e);return r.type,this._rows[e[0]][e[1]]=void 0,n.forEach(i=>{i.parent=void 0,i.parentBranch=void 0}),this.isDirty=!0,n}get hasChildren(){return this.children.length>0}get children(){let e=[];for(let r of this._rows)for(let n of r)if(n)for(let i of n)e.push(...i.children),e.push(i);return[...e,...super.children]}render(e){var r,n,i,s,a,o;let l=new mt({parent:e,mathstyle:this.mathstyleName},this.style),c=l.getRegisterAsEm("arrayrulewidth"),u=l.getRegisterAsEm("arraycolsep"),d=l.getRegisterAsEm("doublerulesep"),A=(n=(r=this.arraystretch)!=null?r:l.getRegisterAsNumber("arraystretch"))!=null?n:1,f=typeof this.arraycolsep=="number"?this.arraycolsep:u;this.colSeparationType==="small"&&(f=.2778*(new mt({parent:e,mathstyle:"scriptstyle"}).scalingFactor/e.scalingFactor));let p=A*HDe,m=.7*p,v=.3*p,g=0,y=[],x=0,b=this._rows.length;for(let K=0;K<b;++K){let U=this._rows[K];x=Math.max(x,U.length);let q=new mt({parent:l,mathstyle:this.mathstyleName},this.style),N=m/q.scalingFactor,ne=v/q.scalingFactor,re={cells:[],height:0,depth:0,pos:0};for(let me of U){let Ce=(i=se.createBox(q,me,{type:"ignore"}))!=null?i:new ge(null,{type:"ignore"});ne=Math.max(ne,Ce.depth),N=Math.max(N,Ce.height),re.cells.push(Ce)}let O=(s=jte(this.rowGaps[K]))!=null?s:0;O>0&&(O+=v,ne=Math.max(ne,O),O=0),K<b-1&&!rre(this.environmentName)&&this.environmentName!=="cases"&&this.environmentName!=="array"&&(ne+=l.getRegisterAsEm("jot")),re.height=N,re.depth=ne,g+=N,re.pos=g,g+=ne+O,y.push(re)}let w=g/2+Na,C=[];for(let K=0;K<x;K++){let U=[];for(let q of y){let N=q.cells[K];N&&(N.depth=q.depth,N.height=q.height,U.push({box:N,shift:q.pos-w}))}U.length>0&&C.push(new qr({individualShift:U}))}let B=[],S=!1,E=!1,M=0,T=!this.leftDelim,{colFormat:L}=this;for(let K of L){if("align"in K&&M>=C.length)break;if("align"in K)S?B.push(Bv(2*f)):(E||T)&&B.push(Bv(f)),B.push(new ge(C[M],{classes:"col-align-"+K.align})),M++,S=!0,E=!1,T=!1;else if("gap"in K){if(typeof K.gap=="number")B.push(Bv(K.gap));else{let U=qLe(e,y,w,K.gap);U&&B.push(U)}S=!1,E=!1,T=!1}else if("separator"in K){let U=new ge(null,{classes:"ML__vertical-separator"});U.height=g,U.setStyle("height",g,"em"),U.setStyle("border-right",`${c}em ${K.separator} currentColor`),U.setStyle("vertical-align",-(g-w),"em");let q=0;E?q=d-c:S&&(q=f-c),U.left=q,B.push(U),S=!1,E=!0,T=!1}}S&&!this.rightDelim&&B.push(Bv(f));let I=new ge(B,{classes:["ML__mtable",...this.classes].join(" ")});if((!this.leftDelim||this.leftDelim===".")&&(!this.rightDelim||this.rightDelim==="."))return this.caret&&(I.caret=this.caret),this.bind(e,I);let R=I.height,z=I.depth,W=this.bind(e,new ge([this.bind(e,n1("open",(a=this.leftDelim)!=null?a:".",R,z,l,{isSelected:this.isSelected})),I,this.bind(e,n1("close",(o=this.rightDelim)!=null?o:".",R,z,l,{isSelected:this.isSelected}))],{type:"ord"}));return W?(W.setStyle("display","inline-block"),this.caret&&(W.caret=this.caret),this.bind(e,this.attachSupsub(e,{base:W}))):null}_serialize(e){var r;let n=[];if(this.environmentName==="lines"?n.push("\\displaylines{"):n.push(`\\begin{${this.environmentName}}`),this.environmentName==="array"){if(n.push("{"),this.colFormat!==void 0)for(let i of this.colFormat)"align"in i&&typeof i.align=="string"?n.push(i.align):"separator"in i&&i.separator==="solid"?n.push("|"):"separator"in i&&i.separator==="dashed"&&n.push(":");n.push("}")}for(let i=0;i<this._rows.length;i++){for(let s=0;s<this._rows[i].length;s++)s>0&&n.push(" & "),n.push(se.serialize(this._rows[i][s],e));if(i<this._rows.length-1){let s=this.rowGaps[i];s!=null&&s.dimension?n.push(`\\\\[${s.dimension} ${(r=s.unit)!=null?r:"pt"}] `):n.push("\\\\ ")}}return this.environmentName==="lines"?n.push("}"):n.push(`\\end{${this.environmentName}}`),lt(n)}forEachCell(e){for(let r=0;r<this.rowCount;r++)for(let n=0;n<this.colCount;n++)e(this._rows[r][n],r,n)}getCell(e,r){var n;return(n=this._rows[e])==null?void 0:n[r]}setCell(e,r,n){this.type==="array"&&Array.isArray(this._rows)&&this._rows[e][r];for(let s of this._rows[e][r])s.parent=void 0,s.parentBranch=void 0;let i=[new se({type:"first",mode:this.mode}),...n.filter(s=>s.type!=="first")];this._rows[e][r]=i,Ad(this),this.isDirty=!0}addRowBefore(e){this.type==="array"&&Array.isArray(this._rows),this._rows.splice(e,0,new Array(this.colCount).fill(Cv(this,!this.isMultiline))),Ad(this),this.isDirty=!0}addRowAfter(e){this.type==="array"&&Array.isArray(this._rows),this._rows.splice(e+1,0,new Array(this.colCount).fill(Cv(this,!this.isMultiline))),Ad(this),this.isDirty=!0}removeRow(e){this.type==="array"&&Array.isArray(this._rows)&&this.rowCount>e;let r=this._rows.splice(e,1);for(let n of r)for(let i of n)if(i)for(let s of i)s.parent=void 0,s.parentBranch=void 0;Ad(this),this.isDirty=!0}addColumnBefore(e){this.type==="array"&&Array.isArray(this._rows);for(let r of this._rows)r.splice(e,0,Cv(this));Ad(this),this.isDirty=!0}addColumnAfter(e){this.type==="array"&&Array.isArray(this._rows);for(let r of this._rows)r.splice(e+1,0,Cv(this));Ad(this),this.isDirty=!0}addColumn(){this.addColumnAfter(this.colCount-1)}removeColumn(e){this.type==="array"&&Array.isArray(this._rows)&&this.colCount>e;for(let r of this._rows){let n=r.splice(e,1);for(let i of n)if(i)for(let s of i)s.parent=void 0,s.parentBranch=void 0}Ad(this),this.isDirty=!0}get cells(){let e=[];for(let r of this._rows)for(let n of r)n&&e.push(n.filter(i=>i.type!=="first"));return e}get rows(){return this._rows}};function Cv(t,e=!1){let r=new se({type:"first",mode:t.mode});r.parent=t;let n=[r];if(e){let i=new Lo;i.parent=t,n.push(i)}return n}function Ad(t){for(let e=0;e<t.rowCount;e++)for(let r=0;r<t.colCount;r++){let n=t.getCell(e,r);if(n)for(let i of n)i&&(i.parent=t,i.parentBranch=[e,r])}}function Bv(t){let e=new ge(null,{classes:"ML__arraycolsep"});return e.width=t,e}function qLe(t,e,r,n){if(!n)return null;let i=[];for(let s of e){let a=se.createBox(t,n,{type:"ignore"});a&&(a.depth=s.depth,a.height=s.height,i.push({box:a,shift:s.pos-r}))}return new qr({individualShift:i}).wrap(t)}var Lu=class ire extends se{constructor(e){super({mode:e.mode,command:e.command,style:e.style,body:e.body,type:"box"}),this.framecolor=e.framecolor,this.backgroundcolor=e.backgroundcolor,this.padding=e.padding,this.offset=e.offset,this.border=e.border}static fromJson(e){return new ire(e)}toJson(){return G(P({},super.toJson()),{framecolor:this.framecolor,backgroundcolor:this.backgroundcolor,padding:this.padding,offset:this.offset,border:this.border})}render(e){var r,n,i,s;let a=se.createBox(e,this.body,{type:"lift"});if(!a)return null;let o=e.toEm((r=this.offset)!=null?r:{dimension:0});a.depth+=o,a.setStyle("display","inline-block"),a.setStyle("position","relative"),a.setStyle("height",Math.floor(100*a.height+a.depth)/100,"em"),a.setStyle("vertical-align",-Math.floor(100*a.height)/100,"em");let l=new mt({parent:e},this.style),c=l.toEm((n=this.padding)!=null?n:{register:"fboxsep"}),u=new ge(null,{classes:"ML__box"});u.height=a.height+c,u.depth=a.depth+c,u.setStyle("box-sizing","border-box"),u.setStyle("position","absolute"),u.setStyle("top",-c+.3,"em"),u.setStyle("left",0),u.setStyle("height",u.height+u.depth,"em"),u.setStyle("width","100%"),this.backgroundcolor&&u.setStyle("background-color",(i=l.toColor(this.backgroundcolor))!=null?i:"transparent"),this.framecolor&&u.setStyle("border",`${l.getRegisterAsEm("fboxrule",2)}em solid ${(s=l.toColor(this.framecolor))!=null?s:"black"}`),this.border&&u.setStyle("border",this.border);let d=new ge([u,a],{type:"lift"});return d.setStyle("display","inline-block"),d.setStyle("position","relative"),d.setStyle("line-height",0),d.height=a.height+c+(o>0?o:0),d.depth=a.depth+c+(o<0?-o:0),d.setStyle("padding-left",c,"em"),d.setStyle("padding-right",c,"em"),d.setStyle("height",Math.floor(100*(a.height+a.depth+2*c+Math.abs(o)))/100,"em"),d.setStyle("margin-top",-c,"em"),d.setStyle("top",Math.floor(100*(a.depth-a.height+2*c-o))/100,"em"),d.setStyle("vertical-align",Math.floor(100*(a.depth+2*c))/100,"em"),this.caret&&(d.caret=this.caret),this.attachSupsub(e,{base:d})}_serialize(e){return e.skipStyles?lt([this.bodyToLatex(e),this.supsubToLatex(e)]):super._serialize(e)}},sre=class are extends se{constructor(e,r){var n;super({type:"composition",mode:(n=r==null?void 0:r.mode)!=null?n:"math",value:e})}static fromJson(e){return new are(e.value,e)}toJson(){return super.toJson()}render(e){let r=new ge(this.value,{classes:"ML__composition",type:"composition"});return this.bind(e,r),this.caret&&(r.caret=this.caret),r}_serialize(e){return""}},Fd=class ore extends se{constructor(e){super({type:"error",value:e,command:e,mode:"math"}),this.verbatimLatex=e}static fromJson(e){return new ore(e.command)}toJson(){return super.toJson()}render(e){let r=this.createBox(e,{classes:"ML__error"});return this.caret&&(r.caret=this.caret),r}},lre=class cre extends se{constructor(e,r){super({type:"group",mode:r}),this.body=e,this.boxType=e.length>1?"ord":"ignore",this.skipBoundary=!0,this.displayContainsHighlight=!1,e&&e.length===1&&e[0].command===","&&(this.captureSelection=!0)}static fromJson(e){return new cre(e.body,e.mode)}render(e){let r=se.createBox(e,this.body,{type:this.boxType});return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Ln(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,e):`{${this.bodyToLatex(e)}}`}},pr=class ure extends se{constructor(e,r,n){super({type:"leftright",style:n.style,displayContainsHighlight:!0}),this.variant=e,this.body=r,this.leftDelim=n.leftDelim,this.rightDelim=n.rightDelim}static fromJson(e){var r;return new ure((r=e.variant)!=null?r:"",e.body,e)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),e}_serialize(e){var r,n;let i=this.matchingRightDelim();return this.variant==="left...right"?lt(["\\left",(r=this.leftDelim)!=null?r:".",this.bodyToLatex(e),"\\right",i]):this.variant==="mleft...mright"?lt(["\\mleft",(n=this.leftDelim)!=null?n:".",this.bodyToLatex(e),"\\mright",i]):lt([!this.leftDelim||this.leftDelim==="."?"":this.leftDelim,this.bodyToLatex(e),i])}matchingRightDelim(){var e,r;if(this.rightDelim&&this.rightDelim!=="?")return this.rightDelim;let n=(e=this.leftDelim)!=null?e:".";return(r=k5[n])!=null?r:n}render(e){var r,n;let i=new mt({parent:e},this.style);this.body;let s=new mt({parent:e,mathstyle:"textstyle"},this.style),a=(r=se.createBox(i,this.body,{type:"inner"}))!=null?r:new ge(null,{type:"inner"}),o=a.height/s.scalingFactor,l=a.depth/s.scalingFactor,c=[];if(this.leftDelim&&c.push(this.bind(s,n1("open",this.leftDelim,o,l,s,{isSelected:this.isSelected,classes:"ML__open"+(this.containsCaret?" ML__contains-caret":""),mode:this.mode,style:this.style}))),a&&(dre(a.children,this,i,o,l),c.push(a)),this.rightDelim){let f=this.containsCaret?" ML__contains-caret":"",p=this.rightDelim;p==="?"&&(i.smartFence?(p=this.matchingRightDelim(),f+=" ML__smart-fence__close"):p="."),c.push(this.bind(s,n1("close",p,o,l,s,{isSelected:this.isSelected,classes:f+" ML__close",mode:this.mode,style:this.style})))}let u=this.variant==="mleft...mright",d=this.leftSibling;d&&(!u&&d.isFunction&&(u=!0),!u&&d.type==="subsup"&&(n=d.leftSibling)!=null&&n.isFunction&&(u=!0));let A=new ge(c,{type:u?"close":"inner",classes:"ML__left-right"});return A.setStyle("margin-top",`${-a.depth}em`),A.setStyle("height",`${a.height+a.depth}em`),this.caret&&(A.caret=this.caret),this.bind(i,A.wrap(i))}};function dre(t,e,r,n,i){if(t)for(let s=0;s<t.length;s++){let a=t[s];a.type==="middle"?(t[s]=e.bind(r,n1("inner",a.value,n,i,r,{isSelected:e.isSelected})),t[s].caret=a.caret,t[s].isSelected=a.isSelected,t[s].cssId=a.cssId,t[s].htmlData=a.htmlData,t[s].htmlStyle=a.htmlStyle,t[s].attributes=a.attributes,t[s].cssProperties=a.cssProperties):a.children&&dre(a.children,e,r,n,i)}}var hre=class Are extends se{constructor(e,r){var n;super({type:"macro",command:e,style:r.style}),this.body=r.body,r.captureSelection===void 0?r.args?this.captureSelection=!1:this.captureSelection=!0:this.captureSelection=r.captureSelection,this.macroArgs=r.args,this.expand=(n=r.expand)!=null?n:!1}static fromJson(e){return new Are(e.command,e)}toJson(){let e=super.toJson();return this.expand&&(e.expand=!0),this.captureSelection!==void 0&&(e.captureSelection=this.captureSelection),this.macroArgs&&(e.args=this.macroArgs),e}_serialize(e){var r;return e.expandMacro&&this.expand?this.bodyToLatex(e):this.command+((r=this.macroArgs)!=null?r:"")}applyStyle(e,r){let n={};e.color&&(n.color=e.color),e.backgroundColor&&(n.backgroundColor=e.backgroundColor),super.applyStyle(n,r)}render(e){let r=se.createBox(e,this.body,{type:"lift"});return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}},WLe=class fre extends se{constructor(){super({type:"macro-argument"})}static fromJson(e){return new fre}toJson(){return super.toJson()}_serialize(e){return""}render(e){return null}},pre=class mre extends se{constructor(e,r,n=!1,i,s){var a;super({type:"prompt",mode:(a=s==null?void 0:s.mode)!=null?a:"math",style:s==null?void 0:s.style,command:"\\placeholder"}),this.body=i,this.correctness=r,this.placeholderId=e,this.locked=n,this.captureSelection=this.locked}static fromJson(e){return new mre(e.placeholderId,e.correctness,e.locked,e.body,e)}toJson(){let e=super.toJson();return this.placeholderId&&(e.placeholderId=this.placeholderId),this.body||delete e.body,this.body&&(e.body=this.body.filter(r=>r.type!=="first").map(r=>r.toJson())),this.correctness&&(e.correctness=this.correctness),e.locked=this.locked,e}render(e){let r=new mt({parent:e}),n=r.getRegisterAsEm("fboxsep"),i=n,s=n,a=se.createBox(e,this.body);if(!a)return null;a.height||(a.height=r.metrics.xHeight),a.setStyle("vertical-align",-a.height,"em"),this.correctness==="correct"?a.setStyle("color","var(--correct-color, var(--ML__correct-color))"):this.correctness==="incorrect"&&a.setStyle("color","var(--incorrect-color, var(--ML__incorrect-color))");let o=new ge(a,{type:"ord"});o.setStyle("display","inline-block"),o.setStyle("height",a.height+a.depth,"em"),o.setStyle("vertical-align",-s,"em");let l="ML__prompt ";this.locked?l+=" ML__lockedPromptBox ":l+=" ML__editablePromptBox ",this.correctness==="correct"?l+=" ML__correctPromptBox ":this.correctness==="incorrect"&&(l+=" ML__incorrectPromptBox "),this.containsCaret&&(l+=" ML__focusedPromptBox ");let c=new ge(null,{classes:l,attributes:{part:"prompt"}});c.height=o.height+s,c.depth=o.depth+s,c.width=o.width+2*i,c.setStyle("position","absolute"),c.setStyle("height",`calc(${o.height+o.depth+2*s}em - 2px)`),i===0&&c.setStyle("width","100%"),i!==0&&(c.setStyle("width",`calc(100% + ${2*i}em)`),c.setStyle("top",n,"em"),c.setStyle("left",-i,"em")),(!this.body||this.body.length===1)&&(c.width=3*i,c.setStyle("width",`calc(100% + ${3*i}em)`),c.setStyle("left",-1.5*i,"em"));let u="";this.correctness==="incorrect"&&(u+='<line x1="3%"  y1="97%" x2="97%" y2="3%" stroke-width="0.5" stroke="var(--incorrect-color, var(--ML__incorrect-color))" stroke-linecap="round" />'),u&&(c.svgOverlay=u);let d=new ge([c,o],{classes:"ML__prompt-atom"});return o.setStyle("line-height",1),d.setStyle("position","relative"),d.setStyle("display","inline-block"),d.setStyle("line-height",0),d.height=o.height+s+.2,d.depth=o.depth+s,d.left=i,d.right=i,d.setStyle("height",o.height+s,"em"),d.setStyle("top",o.depth-o.height,"em"),d.setStyle("vertical-align",o.depth+s,"em"),d.setStyle("margin-left",.5,"em"),d.setStyle("margin-right",.5,"em"),this.caret&&(d.caret=this.caret),this.bind(r,this.attachSupsub(e,{base:d}))}_serialize(e){var r;let n=(r=this.bodyToLatex(e))!=null?r:"";if(e.skipPlaceholders)return n;let i="\\placeholder";return this.placeholderId&&(i+=`[${this.placeholderId}]`),this.correctness==="correct"?i+="[correct]":this.correctness==="incorrect"&&(i+="[incorrect]"),this.locked&&(i+="[locked]"),qt(i,n)}},M5=class gre extends se{constructor(e){super({type:"subsup",style:e==null?void 0:e.style}),this.subsupPlacement="auto"}get children(){if(!this._children){let e=[],r=this.branch("subscript");if(r)for(let i of r)e.push(...i.children),e.push(i);let n=this.branch("superscript");if(n)for(let i of n)e.push(...i.children),e.push(i);this._children=e}return this._children}static fromJson(e){let r=new gre(e);for(let n of ef)e[n]&&r.setChildren(e[n],n);return r}render(e){var r;let n=new mt({parent:e,isPhantom:!0}),i=this.leftSibling,s=(r=i.render(n))!=null?r:new ge(null),a=new ge(null);return a.height=s.height,a.depth=s.depth,this.attachSupsub(e,{base:a,isCharacterBox:i.isCharacterBox(),type:"ignore"})}_serialize(e){return this.supsubToLatex(e)}};function ph(t){return t?!/^(<$$>|<$>|<space>|<{>|<}>|#[0-9\?]|\\.+)$/.test(t):!1}var yre=class{constructor(t,e,r){this.errors=[],this.index=0,this.endCount=0;var n,i,s,a;r!=null||(r={}),this.tokens=t,this.context=e instanceof mt&&!(r!=null&&r.parseMode)&&!r.mathstyle?e:new mt({from:e,mathstyle:r.mathstyle},r.style),this.args=(n=r.args)!=null?n:void 0,this.smartFence=this.context.smartFence,this.parsingContext={parent:void 0,mathlist:[],style:(i=r.style)!=null?i:{},parseMode:(s=r.parseMode)!=null?s:"math",mathstyle:(a=r.mathstyle)!=null?a:"displaystyle",tabular:!1}}beginContext(t){var e,r,n,i,s,a;if(t!=null&&t.root){this.parsingContext={parent:this.parsingContext.parent,mathlist:[],style:{},parseMode:(e=t==null?void 0:t.mode)!=null?e:"math",mathstyle:(r=t==null?void 0:t.mathstyle)!=null?r:"displaystyle",tabular:(n=t==null?void 0:t.tabular)!=null?n:!1};return}let o=this.parsingContext,l={parent:o,mathlist:[],style:P({},o.style),parseMode:(i=t==null?void 0:t.mode)!=null?i:o.parseMode,mathstyle:(s=t==null?void 0:t.mathstyle)!=null?s:o.mathstyle,tabular:(a=t==null?void 0:t.tabular)!=null?a:!1};this.parsingContext=l}endContext(){this.parsingContext=this.parsingContext.parent}onError(t){this.errors.push(P({before:dd(this.tokens.slice(this.index,this.index+10)),after:dd(this.tokens.slice(Math.max(0,this.index-10),this.index))},t))}get mathlist(){return this.parsingContext.mathlist}set mathlist(t){this.parsingContext.mathlist=t}get parseMode(){return this.parsingContext.parseMode}set parseMode(t){this.parsingContext.parseMode=t}get tabularMode(){return this.parsingContext.tabular}get style(){let t=this.parsingContext;for(;t;){if(t.style)return P({},t.style);t=t.parent}return{}}set style(t){this.parsingContext.style=t}end(){return this.endCount++,this.index>=this.tokens.length||this.endCount>1e3}next(){this.index+=1}get(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:""}peek(){return this.tokens[this.index]}expandUnicode(){if(!this.peek()||this.parseMode!=="math")return;let t=LDe(this.peek());t&&this.tokens.splice(this.index,1,...r1(t))}match(t){return this.tokens[this.index]===t?(this.index++,!0):!1}lastSubsupAtom(){let t;return this.mathlist.length>0&&(t=this.mathlist[this.mathlist.length-1],t.type==="subsup"||t.subsupPlacement!==void 0)||(t=new M5({style:this.style}),this.mathlist.push(t)),t}hasPattern(t){return t.test(this.tokens[this.index])}hasInfixCommand(){var t;let{index:e}=this;if(e<this.tokens.length&&this.tokens[e].startsWith("\\")){let r=Ln(this.tokens[e],this.parseMode);return!r||r.definitionType==="symbol"||r.ifMode&&!r.ifMode.includes(this.parseMode)?!1:(t=r.infix)!=null?t:!1}return!1}matchColumnSeparator(){return!this.tabularMode||this.peek()!=="&"?!1:(this.index++,!0)}matchRowSeparator(){if(!this.tabularMode)return!1;let t=this.peek();return t!=="\\\\"&&t!=="\\cr"&&t!=="\\tabularnewline"?!1:(this.index++,!0)}placeholder(){var t;let e=(t=this.args)==null?void 0:t.call(this,"?");return e?Js(e,{parseMode:this.parseMode,mathstyle:"textstyle"}):[new Lo({mode:this.parseMode,style:this.style})]}skipWhitespace(){for(;this.match("<space>"););}skipUntilToken(t){let e=this.tokens[this.index];for(;e&&e!==t;)e=this.tokens[++this.index];e===t&&this.index++}skipFiller(){for(;this.match("\\relax")||this.match("<space>"););}matchKeyword(t){let e=this.index,r=this.end(),n="";for(;!r;){let s=this.get();ph(s)?(n+=s,r=this.end()||n.length>=t.length):r=!0}let i=t.toUpperCase()===n.toUpperCase();return i||(this.index=e),i}scanString(){let t="";for(;!this.end();){let e=this.peek();if(e==="]")return t;if(e==="<space>")t+=" ";else if(e.startsWith("\\"))this.onError({code:"unexpected-command-in-string"}),t+=e.substring(1);else if(ph(e))t+=e;else return t;this.next()}return t}scanBalancedString(){let t="",e=this.end(),r=1;for(;!e;){let n=this.get();n==="<space>"?t+=" ":n==="<{>"?(t+="{",r+=1):n==="<}>"?(r-=1,r>0?t+="}":this.index-=1):n==="<$>"?t+="$":n==="<$$>"?t+="$$":t+=n,e=r===0||this.end()}return t}scanLiteralGroup(){var t;if(!this.match("<{>"))return"";let e="",r=1;for(;r>0&&!this.end();){let n=this.get();n==="<}>"?(r-=1,r>0&&(e+="}")):n==="<{>"?(r+=1,e+="{"):(/\\[a-zA-Z]+$/.test(e)&&/^[a-zA-Z]/.test(n)&&(e+=" "),e+=(t={"<space>":" ","<$$>":"$$","<$>":"$"}[n])!=null?t:n)}return e}scanNumber(t=!0){var e,r;let n=!1,i=this.peek();for(;i==="<space>"||i==="+"||i==="-";)this.get(),i==="-"&&(n=!n),i=this.peek();t=!!t;let s=10,a=/\d/;if(this.match("'"))s=8,a=/[0-7]/,t=!0;else if(this.match('"'))s=16,a=/[\dA-F]/,t=!0;else if(this.match("x"))s=16,a=/[\dA-Fa-f]/,t=!0;else if(this.match("`"))return i=this.get(),i?i.length===2&&i.startsWith("\\")?{number:(n?-1:1)*((e=i.codePointAt(1))!=null?e:0),base:"alpha"}:{number:(n?-1:1)*((r=i.codePointAt(0))!=null?r:0),base:"alpha"}:null;let o="";for(;this.hasPattern(a);)o+=this.get();if(!t&&(this.match(".")||this.match(",")))for(o+=".";this.hasPattern(a);)o+=this.get();let l=t?Number.parseInt(o,s):Number.parseFloat(o);return Number.isNaN(l)?null:{number:n?-l:l,base:s===16?"hexadecimal":s===8?"octal":"decimal"}}scanRegister(){var t;let e=this.index,r=this.scanNumber(!1);if(this.skipWhitespace(),this.match("\\relax"))return r;let n=!1;if(r===null)for(;;){let s=this.peek();if(s==="-")n=!n;else if(s!=="+")break;this.next(),this.skipWhitespace()}if(this.match("\\global")){this.skipWhitespace();let s=this.get();return s.startsWith("\\")?r?{register:s,global:!0,factor:(n?-1:1)*r.number}:n?{register:s,global:!0,factor:-1}:{register:s,global:!0}:(this.index=e,null)}let i=this.get();return i!=null&&i.startsWith("\\")?(i=i.substring(1),this.context.registers[i]?!n||r!==null?{register:i,factor:(n?-1:1)*((t=r==null?void 0:r.number)!=null?t:1)}:{register:i}:(this.index=e,null)):(this.index=e,null)}scanValue(){let t=this.scanRegister();if(t)return t;let e=this.index,r=this.scanGlueOrDimen();if(r&&("unit"in r||"glue"in r&&"unit"in r.glue))return r;this.index=e;let n=this.scanNumber();if(n)return n;if(this.end()||!ph(this.peek()))return null;let i=this.scanString();return i.length>0?{string:i}:null}scanDimen(){let t=this.scanNumber(!1);if(t===null)return null;let e=t.number;this.skipWhitespace(),this.matchKeyword("true"),this.skipWhitespace();let r;return this.matchKeyword("pt")?r="pt":this.matchKeyword("mm")?r="mm":this.matchKeyword("cm")?r="cm":this.matchKeyword("ex")?r="ex":this.matchKeyword("px")?r="px":this.matchKeyword("em")?r="em":this.matchKeyword("bp")?r="bp":this.matchKeyword("dd")?r="dd":this.matchKeyword("pc")?r="pc":this.matchKeyword("in")?r="in":this.matchKeyword("mu")&&(r="mu"),r?{dimension:e,unit:r}:{dimension:e}}scanGlueOrDimen(){let t=this.scanDimen();if(t===null)return null;if(this.skipWhitespace(),this.match("\\relax"))return t;let e={glue:t};if(this.matchKeyword("plus")){let r=this.scanDimen();if(r)e.grow=r;else return e}if(this.skipWhitespace(),this.match("\\relax"))return e;if(this.skipWhitespace(),this.matchKeyword("minus")){let r=this.scanDimen();if(r)e.shrink=r;else return e}return!e.grow&&!e.shrink?t:e}scanColspec(){this.skipWhitespace();let t=[];for(;!this.end()&&!(this.peek()==="<}>"||this.peek()==="]");){let e=this.get();e==="c"||e==="r"||e==="l"?t.push({align:e}):e==="|"?t.push({separator:"solid"}):e===":"?t.push({separator:"dashed"}):e==="@"&&(this.match("<{>")&&(this.beginContext({mode:"math"}),t.push({gap:this.scan(r=>r==="<}>")}),this.endContext()),this.match("<}>")||this.onError({code:"unbalanced-braces"}))}return t}scanModeSet(){let t;if(this.match("\\(")&&(t="textstyle"),!t&&this.match("\\[")&&(t="displaystyle"),!t)return null;this.beginContext({mode:"math",mathstyle:t});let e=this.scan(r=>r===(t==="displaystyle"?"\\]":"\\)"));return this.match(t==="displaystyle"?"\\]":"\\)")||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),e}scanModeShift(){let t="";if(this.match("<$>")&&(t="<$>"),!t&&this.match("<$$>")&&(t="<$$>"),!t)return null;this.beginContext({mode:"math",mathstyle:t==="<$>"?"textstyle":"displaystyle"});let e=this.scan(r=>r===t);return this.match(t)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),e}scanEnvironment(){if(!this.match("\\begin"))return null;let t=this.scanArgument("string");if(!t)return null;let e=UDe(t);if(!e)return this.onError({code:"unknown-environment",arg:t}),null;let r=[];if(e.params)for(let o of e.params)if(o.isOptional)r.push(this.scanOptionalArgument(o.type));else{let l=this.scanArgument(o.type);l||this.onError({code:"missing-argument",arg:t}),r.push(l)}this.beginContext({tabular:e.tabular,root:e.rootOnly});let n=[],i=[],s=[],a=!1;do if(this.end()&&(this.onError({code:"unbalanced-environment",arg:t}),a=!0),!a&&this.match("\\end")&&(this.scanArgument("string")!==t&&this.onError({code:"unbalanced-environment",arg:t}),a=!0),!a)if(this.matchColumnSeparator())s.push(this.mathlist),this.mathlist=[];else if(this.matchRowSeparator()){s.push(this.mathlist),this.mathlist=[];let o=null;this.skipWhitespace(),this.match("[")&&(o=this.scanDimen(),this.skipWhitespace(),this.match("]")),i.push(o??{dimension:0}),n.push(s),s=[]}else this.mathlist.push(...this.scan(o=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline"].includes(o)));while(!a);return s.push(this.mathlist),s.length>0&&n.push(s),this.endContext(),e.rootOnly&&(this.index=this.tokens.length),e.createAtom(t,n,i,r,this.context.maxMatrixCols)}scanExpression(){let t=this.mathlist;if(this.mathlist=[],this.parseExpression()){let e=this.mathlist;return this.mathlist=t,e}return this.mathlist=t,null}scan(t){this.beginContext(),t||(t=a=>a==="<}>");let e="",r=null,n=[],i=null;for(;!this.end()&&!t(this.peek());)this.hasInfixCommand()&&!e?(e=this.get(),r=Ln(e,"math"),r&&(n=this.scanArguments(r)[1]),i=this.mathlist,this.mathlist=[]):this.parseExpression();let s;return e?(n.unshift(this.mathlist),i&&n.unshift(i),s=[r.createAtom({command:e,args:n,style:this.style,mode:this.parseMode})]):s=this.mathlist,this.endContext(),s}scanGroup(){let t=this.index;if(!this.match("<{>"))return null;let e=this.scan(n=>n==="<}>");if(this.match("<}>")||this.onError({code:"unbalanced-braces"}),e.length===1&&e[0].type==="placeholder")return e[0];let r=new lre(e,this.parseMode);return r.verbatimLatex=dd(this.tokens.slice(t,this.index)),r}scanSmartFence(){if(this.skipWhitespace(),!this.match("("))return null;this.beginContext();let t=1;for(;!this.end()&&t!==0;)this.match("(")&&(t+=1),this.match(")")&&(t-=1),t!==0&&this.parseExpression();let e=new pr("",this.mathlist,{leftDelim:"(",rightDelim:t===0?")":"?"});return this.endContext(),e}scanDelim(){this.skipWhitespace();let t=this.peek();if(!t)return this.onError({code:"unexpected-end-of-string"}),null;if(!ph(t)&&!t.startsWith("\\"))return null;this.next();let e=Ln(t,"math");return e?e.definitionType==="function"&&e.ifMode&&!e.ifMode.includes(this.parseMode)?(this.onError({code:"unexpected-delimiter",arg:t}),null):e.definitionType==="symbol"&&(e.type==="mopen"||e.type==="mclose")||/^(\.|\?|\||<|>|\\vert|\\Vert|\\\||\\surd|\\uparrow|\\downarrow|\\Uparrow|\\Downarrow|\\updownarrow|\\Updownarrow|\\mid|\\mvert|\\mVert)$/.test(t)?t:(this.onError({code:"unexpected-delimiter",arg:t}),null):(this.onError({code:"unknown-command",arg:t}),null)}scanLeftRight(){var t;if(this.match("\\right"))return this.onError({code:"unbalanced-braces"}),new Fd("\\right");if(this.match("\\mright"))return this.onError({code:"unbalanced-braces"}),new Fd("\\mright");let e="\\right";if(!this.match("\\left")){if(!this.match("\\mleft"))return null;e="\\mright"}let r=this.scanDelim();if(!r)return this.onError({code:"unexpected-delimiter"}),new Fd(e==="\\right"?"\\left":"\\mleft");for(this.beginContext();!this.end()&&!this.match(e);)this.parseExpression();let n=this.mathlist;this.endContext();let i=(t=this.scanDelim())!=null?t:".";return new pr(e==="\\right"?"left...right":"mleft...mright",n,{leftDelim:r,rightDelim:i,style:this.style})}parseSupSub(){if(this.parseMode!=="math")return!1;let t=this.peek();if(t!=="^"&&t!=="_"&&t!=="'")return!1;let e=this.lastSubsupAtom();for(;t==="^"||t==="_"||t==="'";)this.match("'")?this.match("'")?e.addChild(new se({type:"mord",command:"\\doubleprime",mode:"math",value:"′′"}),"superscript"):e.addChild(new se({type:"mord",command:"\\prime",mode:"math",value:"′"}),"superscript"):(this.match("^")||this.match("_"))&&e.addChildren(Ee(this.scanArgument("expression")),t==="_"?"subscript":"superscript"),t=this.peek();return!0}parseLimits(){if(this.parseMode!=="math")return!1;let t=this.match("\\limits"),e=!t&&this.match("\\nolimits"),r=!e&&!t&&this.match("\\displaylimits");if(!t&&!e&&!r)return!1;let n=this.mathlist.length>0?this.mathlist[this.mathlist.length-1]:null;return n===null?!1:(n.explicitSubsupPlacement=!0,t&&(n.subsupPlacement="over-under"),e&&(n.subsupPlacement="adjacent"),r&&(n.subsupPlacement="auto"),!0)}scanArguments(t){if(!(t!=null&&t.params))return[void 0,[]];let e,r=[],n=t.infix?2:0;for(;n<t.params.length;){let i=t.params[n];i.type==="rest"?r.push(this.scan(s=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline","\\right"].includes(s))):i.isOptional?r.push(this.scanOptionalArgument(i.type)):i.type.endsWith("*")?e=i.type.slice(0,-1):r.push(this.scanArgument(i.type)),n+=1}return[e,r]}scanSymbolOrLiteral(){let t=this.peek();if(!t)return null;this.next();let e;if(ph(t)){let r=hs.createAtom(this.parseMode,t,P({},this.style));return r?[r]:null}if(e=this.scanMacro(t),e)return[e];if(t.startsWith("\\")){let r=Ln(t,this.parseMode);if(!r)return this.onError({code:"unknown-command",arg:t}),[new Fd(t)];if(r.definitionType==="symbol"){let n=P({},this.style);r.variant&&(n.variant=r.variant),e=new se({type:r.type,command:t,style:n,value:String.fromCodePoint(r.codepoint),mode:this.parseMode,verbatimLatex:t})}else{if(r.applyMode||r.applyStyle||r.infix)return this.onError({code:"invalid-command",arg:t}),[new Fd(t)];r.createAtom&&(e=r.createAtom({command:t,args:[],style:this.style,mode:this.parseMode}))}}return e?[e]:null}scanArgument(t){var e;this.skipFiller();let r=this.parseMode;if(t==="auto"&&(t=r),!this.match("<{>")){if(t==="string")return this.scanString();if(t==="value")return this.scanValue();if(t==="delim")return(e=this.scanDelim())!=null?e:".";if(t==="expression")return this.scanExpression();if(t==="math"){t!==r&&this.beginContext({mode:"math"});let i=this.scanSymbolOrLiteral();return t!==r&&this.endContext(),i}if(t==="text"){t!==r&&this.beginContext({mode:"text"});let i=this.scanSymbolOrLiteral();return t!==r&&this.endContext(),i}return t==="balanced-string"?null:t==="rest"?this.scan(i=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline","\\right"].includes(i)):null}if(t==="text"){this.beginContext({mode:"text"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let i=this.mathlist;return this.endContext(),{group:i}}if(t==="math"){this.beginContext({mode:"math"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let i=this.mathlist;return this.endContext(),{group:i}}let n=null;if(t==="expression"){this.beginContext({mode:"math"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let i=this.mathlist;return this.endContext(),{group:i}}return t==="string"?n=this.scanString():t==="balanced-string"?n=this.scanBalancedString():t==="colspec"?n=this.scanColspec():t==="value"&&(n=this.scanValue()),this.skipUntilToken("<}>"),n}scanOptionalArgument(t){if(t=t==="auto"?this.parseMode:t,this.skipFiller(),!this.match("["))return null;let e=null;for(;!this.end()&&!this.match("]");)if(t==="string")e=this.scanString();else if(t==="value")e=this.scanValue();else if(t==="colspec")e=this.scanColspec();else if(t==="bbox"){let r={},n=this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(let i of n){let s=i.match(/^\s*([\d.]+)\s*([a-z]{2})/);if(s)r.padding={dimension:parseInt(s[1]),unit:s[2]};else{let a=i.match(/^\s*border\s*:\s*(.*)/);a?r.border=a[1]:r.backgroundcolor={string:i}}}e=r}else t==="math"&&(this.beginContext({mode:"math"}),e=this.mathlist.concat(this.scan(r=>r==="]")),this.endContext());return e}scanSymbolOrCommand(t){var e,r,n;if(t==="\\placeholder"){let o=this.scanOptionalArgument("string"),l=this.scanOptionalArgument("math"),c=se.serialize(l,{defaultMode:"math"}),u=[],d;!d&&c==="correct"?d="correct":!d&&c==="incorrect"?d="incorrect":c!==""&&(u=l);let A=this.scanOptionalArgument("string")==="locked",f=this.scanArgument("auto"),p;return f&&Array.isArray(f)&&f.length>0?p=f:f&&typeof f=="object"&&"group"in f?p=f.group:p=u,o?[new pre(o,d,A,p??u,{mode:this.parseMode,style:this.style})]:[new Lo({mode:this.parseMode,style:this.style})]}if(t==="\\renewcommand"||t==="\\newcommand"||t==="\\providecommand"||t==="\\def"){let o=this.index,l=this.scanLiteralGroup()||this.next();if(!l)return null;if(this.context.registers[l.substring(1)]){let c=this.scanArgument("string");c!==null&&(this.context.registers[l.substring(1)]=c);let u=lt([t,dd(this.tokens.slice(o,this.index))]);return[new se({type:"text",value:"",verbatimLatex:u})]}}let i=this.scanMacro(t);if(i)return[i];let s=Ln(t,this.parseMode);if(!s)return this.parseMode==="text"?(/[a-zA-Z]/.test((e=this.peek())!=null?e:"")&&(t+=" "),[...t].map(o=>new se({type:"text",value:o,mode:"text",style:this.style}))):(this.onError({code:"unknown-command",arg:t}),[new Fd(t)]);let a=this.index;if(s.definitionType==="symbol"){let o=P({},this.style);s.variant&&(o.variant=s.variant),i=new se({type:s.type,command:t,style:o,value:String.fromCodePoint(s.codepoint),mode:this.parseMode})}else{if(s.ifMode&&!s.ifMode.includes(this.parseMode))return[];let o=this.parseMode;s.applyMode&&(this.parseMode=s.applyMode);let l,c=[];if(s.parse?c=s.parse(this):[l,c]=this.scanArguments(s),this.parseMode=o,s.applyMode&&!s.applyStyle&&!s.createAtom)return Ee(c[0]);if(s.infix)return this.onError({code:"too-many-infix-commands",arg:t}),null;if(typeof s.createAtom=="function")i=s.createAtom({command:t,args:c,style:this.style,mode:this.parseMode}),l&&(i.body=Ee(this.scanArgument(l)));else if(typeof s.applyStyle=="function"){let u=s.applyStyle(this.style,t,c,this.context),d=this.parseMode;if(s.applyMode&&(this.parseMode=s.applyMode),l){let A=this.style;this.style=u;let f=this.scanArgument(l);return this.style=A,this.parseMode=d,Ee(f)}this.style=u}else i=new se({type:"mord",command:(r=s.command)!=null?r:t,style:P({},this.style),value:t,mode:(n=s.applyMode)!=null?n:this.parseMode})}if(!i)return null;if(i instanceof se&&i.verbatimLatex===void 0&&!/^\\(llap|rlap|class|cssId|htmlData)$/.test(t)){let o=lt([t,dd(this.tokens.slice(a,this.index))]);o&&(i.verbatimLatex=o)}if(i.verbatimLatex===null&&(i.verbatimLatex=void 0),i.isFunction&&this.smartFence){let o=this.scanSmartFence();if(o)return[i,o]}return[i]}scanSymbolCommandOrLiteral(){this.expandUnicode();let t=this.get();if(!t)return null;if(ph(t)){let e=hs.createAtom(this.parseMode,t,P({},this.style));if(!e)return null;if(e.isFunction&&this.smartFence){let r=this.scanSmartFence();if(r)return[e,r]}return[e]}return t.startsWith("\\")?this.scanSymbolOrCommand(t):t==="<space>"?this.parseMode==="text"?[new Ff(" "," ",this.style)]:null:(t==="<}>"?this.onError({latex:"",code:"unbalanced-braces"}):this.onError({latex:"",code:"unexpected-token",arg:t}),null)}scanMacro(t){var e;let r=this.context.getMacro(t);if(!r)return null;let n=this.index,i=r.args,s={"?":(e=this.args)==null?void 0:e.call(this,"?")};for(let a=1;a<=i;a++){let o=this.scanLiteralGroup();if(!o){let l=this.index;this.scanExpression(),o=dd(this.tokens.slice(l,this.index))}s[a]=o}return new hre(t,{expand:r.expand,captureSelection:r.captureSelection,args:n===this.index?null:dd(this.tokens.slice(n,this.index)),style:this.parsingContext.style,body:Js(r.def,{context:this.context,parseMode:this.parseMode,args:a=>s[a],mathstyle:this.parsingContext.mathstyle,style:this.parsingContext.style})})}parseExpression(){var t,e,r,n;let i=(n=(r=(e=(t=this.scanEnvironment())!=null?t:this.scanModeShift())!=null?e:this.scanModeSet())!=null?r:this.scanGroup())!=null?n:this.scanLeftRight();if(i===null){if(this.parseSupSub()||this.parseLimits())return!0;i=this.scanSymbolCommandOrLiteral()}return i?(Bn(i)?this.mathlist.push(...i):this.mathlist.push(i),!0):!1}};function Js(t,e){var r,n,i,s;let a=(r=e==null?void 0:e.args)!=null?r:void 0,o=new yre(r1(t,a),e==null?void 0:e.context,{args:a,mathstyle:(n=e==null?void 0:e.mathstyle)!=null?n:"displaystyle",parseMode:(i=e==null?void 0:e.parseMode)!=null?i:"math",style:(s=e==null?void 0:e.style)!=null?s:{}}),l=[];for(;!o.end();)l.push(...o.scan(()=>!1));return l}function GLe(t,e){var r;let n=new yre(r1(t,null),e==null?void 0:e.context,{mathstyle:"displaystyle",parseMode:(r=e==null?void 0:e.parseMode)!=null?r:"math"});for(;!n.end();)n.scan();return n.errors}var vre=class xre extends se{constructor(e,r){super({type:"chem"},{command:e,mode:"math"});let n=Zt.go(Ae.go(r,e==="\\pu"?"pu":"ce"),!1);this.body=Js(n),this._verbatimLatex=e+"{"+r+"}",this.arg=r,this.captureSelection=!0}static fromJson(e){return new xre(e.command,e.arg)}set verbatimLatex(e){}get verbatimLatex(){return this._verbatimLatex}toJson(){return G(P({},super.toJson()),{arg:this.arg})}render(e){let r=se.createBox(e,this.body,{type:"inner"});return this.caret&&(r.caret=this.caret),this.bind(e,r)}_serialize(e){return this.verbatimLatex,this.verbatimLatex}};de(["ce","pu"],"{chemformula:balanced-string}",{createAtom:t=>{var e;return new vre(t.command,(e=t.args[0])!=null?e:"")}});var Ae={go:function(t,e){if(!t)return[];e===void 0&&(e="ce");var r="0",n={};n.parenthesisLevel=0,t=t.replace(/\n/g," "),t=t.replace(/[\u2212\u2013\u2014\u2010]/g,"-"),t=t.replace(/[\u2026]/g,"...");for(var i,s=10,a=[];;){i!==t?(s=10,i=t):s--;var o=Ae.stateMachines[e],l=o.transitions[r]||o.transitions["*"];e:for(var c=0;c<l.length;c++){var u=Ae.patterns.match_(l[c].pattern,t);if(u){for(var d=l[c].task,A=0;A<d.action_.length;A++){var f;if(o.actions[d.action_[A].type_])f=o.actions[d.action_[A].type_](n,u.match_,d.action_[A].option);else if(Ae.actions[d.action_[A].type_])f=Ae.actions[d.action_[A].type_](n,u.match_,d.action_[A].option);else throw["MhchemBugA","mhchem bug A. Please report. ("+d.action_[A].type_+")"];Ae.concatArray(a,f)}if(r=d.nextState||r,t.length>0){if(d.revisit||(t=u.remainder),!d.toContinue)break e}else return a}}if(s<=0)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(t,e){if(e)if(Object.prototype.toString.call(e)==="[object Array]")for(var r=0;r<e.length;r++)t.push(e[r]);else t.push(e)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(t){var e=t.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:(?:([eE])|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return e&&e[0]?{match_:e.slice(1),remainder:t.substr(e[0].length)}:null},"(-)(9)^(-9)":function(t){var e=t.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/);return e&&e[0]?{match_:e.slice(1),remainder:t.substr(e[0].length)}:null},"state of aggregation $":function(t){var e=Ae.patterns.findObserveGroups(t,"",/^\([a-z]{1,3}(?=[\),])/,")","");if(e&&e.remainder.match(/^($|[\s,;\)\]\}])/))return e;var r=t.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/);return r?{match_:r[0],remainder:t.substr(r[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". ":/^([.\u22C5\u00B7\u2022])\s*/,"...":/^\.\.\.(?=$|[^.])/,"* ":/^([*])\s*/,"^{(...)}":function(t){return Ae.patterns.findObserveGroups(t,"^{","","","}")},"^($...$)":function(t){return Ae.patterns.findObserveGroups(t,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(t){return Ae.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(t){return Ae.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(t){return Ae.patterns.findObserveGroups(t,"_{","","","}")},"_($...$)":function(t){return Ae.patterns.findObserveGroups(t,"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(t){return Ae.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(t){return Ae.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|\_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(t){return Ae.patterns.findObserveGroups(t,"","{","}","")},"{(...)}":function(t){return Ae.patterns.findObserveGroups(t,"{","","","}")},"$...$":function(t){return Ae.patterns.findObserveGroups(t,"","$","$","")},"${(...)}$":function(t){return Ae.patterns.findObserveGroups(t,"${","","","}$")},"$(...)$":function(t){return Ae.patterns.findObserveGroups(t,"$","","","$")},"=<>":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,"\\bond{(...)}":function(t){return Ae.patterns.findObserveGroups(t,"\\bond{","","","}")},"->":/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(t){return Ae.patterns.findObserveGroups(t,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[,\ ;:])/,"\\x{}{}":function(t){return Ae.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(t){return Ae.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(t){return Ae.patterns.findObserveGroups(t,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(t){return Ae.patterns.findObserveGroups(t,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(t){return Ae.patterns.findObserveGroups(t,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(t){return Ae.patterns.findObserveGroups(t,"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}0":function(t){return Ae.patterns.findObserveGroups(t,"\\color{","","","}")},"\\color{(...)}{(...)}1":function(t){return Ae.patterns.findObserveGroups(t,"\\color{","","","}","{","","","}")},"\\color(...){(...)}2":function(t){return Ae.patterns.findObserveGroups(t,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(t){return Ae.patterns.findObserveGroups(t,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(t){var e;if(e=t.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/),e)return{match_:e[0],remainder:t.substr(e[0].length)};var r=Ae.patterns.findObserveGroups(t,"","$","$","");return r&&(e=r.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/),e)?{match_:e[0],remainder:t.substr(e[0].length)}:null},amount2:function(t){return this.amount(t)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(t){if(t.match(/^\([a-z]+\)$/))return null;var e=t.match(/^(?:[a-z]|(?:[0-9\ \+\-\,\.\(\)]+[a-z])+[0-9\ \+\-\,\.\(\)]*|(?:[a-z][0-9\ \+\-\,\.\(\)]+)+[a-z]?)$/);return e?{match_:e[0],remainder:t.substr(e[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(t,e,r,n,i,s,a,o,l,c){var u=function(g,y){if(typeof y=="string")return g.indexOf(y)!==0?null:y;var x=g.match(y);return x?x[0]:null},d=function(g,y,x){for(var b=0;y<g.length;){var w=g.charAt(y),C=u(g.substr(y),x);if(C!==null&&b===0)return{endMatchBegin:y,endMatchEnd:y+C.length};if(w==="{")b++;else if(w==="}"){if(b===0)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];b--}y++}return null},A=u(t,e);if(A===null||(t=t.substr(A.length),A=u(t,r),A===null))return null;var f=d(t,A.length,n||i);if(f===null)return null;var p=t.substring(0,n?f.endMatchEnd:f.endMatchBegin);if(s||a){var m=this.findObserveGroups(t.substr(f.endMatchEnd),s,a,o,l);if(m===null)return null;var v=[p,m.match_];return{match_:c?v.join(""):v,remainder:m.remainder}}else return{match_:p,remainder:t.substr(f.endMatchEnd)}},match_:function(t,e){var r=Ae.patterns.patterns[t];if(r===void 0)throw["MhchemBugP","mhchem bug P. Please report. ("+t+")"];if(typeof r=="function")return Ae.patterns.patterns[t](e);var n=e.match(r);if(n){var i;return n[2]?i=[n[1],n[2]]:n[1]?i=n[1]:i=n[0],{match_:i,remainder:e.substr(n[0].length)}}return null}},actions:{"a=":function(t,e){t.a=(t.a||"")+e},"b=":function(t,e){t.b=(t.b||"")+e},"p=":function(t,e){t.p=(t.p||"")+e},"o=":function(t,e){t.o=(t.o||"")+e},"q=":function(t,e){t.q=(t.q||"")+e},"d=":function(t,e){t.d=(t.d||"")+e},"rm=":function(t,e){t.rm=(t.rm||"")+e},"text=":function(t,e){t.text_=(t.text_||"")+e},insert:function(t,e,r){return{type_:r}},"insert+p1":function(t,e,r){return{type_:r,p1:e}},"insert+p1+p2":function(t,e,r){return{type_:r,p1:e[0],p2:e[1]}},copy:function(t,e){return e},rm:function(t,e){return{type_:"rm",p1:e||""}},text:function(t,e){return Ae.go(e,"text")},"{text}":function(t,e){var r=["{"];return Ae.concatArray(r,Ae.go(e,"text")),r.push("}"),r},"tex-math":function(t,e){return Ae.go(e,"tex-math")},"tex-math tight":function(t,e){return Ae.go(e,"tex-math tight")},bond:function(t,e,r){return{type_:"bond",kind_:r||e}},"color0-output":function(t,e){return{type_:"color0",color:e[0]}},ce:function(t,e){return Ae.go(e)},"1/2":function(t,e){var r=[];e.match(/^[+\-]/)&&(r.push(e.substr(0,1)),e=e.substr(1));var n=e.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return n[1]=n[1].replace(/\$/g,""),r.push({type_:"frac",p1:n[1],p2:n[2]}),n[3]&&(n[3]=n[3].replace(/\$/g,""),r.push({type_:"tex-math",p1:n[3]})),r},"9,9":function(t,e){return Ae.go(e,"9,9")}},createTransitions:function(t){var e,r,n,i,s={};for(e in t)for(r in t[e])for(n=r.split("|"),t[e][r].stateArray=n,i=0;i<n.length;i++)s[n[i]]=[];for(e in t)for(r in t[e])for(n=t[e][r].stateArray||[],i=0;i<n.length;i++){var a=t[e][r];if(a.action_){a.action_=[].concat(a.action_);for(var o=0;o<a.action_.length;o++)typeof a.action_[o]=="string"&&(a.action_[o]={type_:a.action_[o]})}else a.action_=[];for(var l=e.split("|"),c=0;c<l.length;c++)if(n[i]==="*")for(var u in s)s[u].push({pattern:l[c],task:a});else s[n[i]].push({pattern:l[c],task:a})}return s},stateMachines:{}};Ae.stateMachines={ce:{transitions:Ae.createTransitions({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o=","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o=",nextState:"o"}},"->":{"0|1|2|3":{action_:"r=",nextState:"r"},"a|as":{action_:["output","r="],nextState:"r"},"*":{action_:["output","r="],nextState:"r"}},"+":{o:{action_:"d= kv",nextState:"d"},"d|D":{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},"qd|qD":{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a=",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb=false","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a=",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o=",nextState:"o"},"q|dq":{action_:["output","o="],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},"space A":{"b|p|bp":{}},space:{a:{nextState:"as"},0:{action_:"sb=false"},"1|2":{action_:"sb=true"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb=true"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd=",nextState:"rd"},"rd|rdt":{action_:"rq=",nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". |* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"*":{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o=","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},"d|D|qd|qD|dq":{action_:["output","d="],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},"d|qd|D|qD":{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},"3|o":{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"=<>":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o=",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"$...$":{a:{action_:"a="},"0|1|2|3|as|b|p|bp|o":{action_:"o=",nextState:"o"},"as|o":{action_:"o="},"q|d|D|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}0":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o=","output"],nextState:"3"},"*":{action_:["output","o=","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(t,e){var r;if((t.d||"").match(/^[0-9]+$/)){var n=t.d;t.d=void 0,r=this.output(t),t.b=n}else r=this.output(t);return Ae.actions["o="](t,e),r},"d= kv":function(t,e){t.d=e,t.dType="kv"},"charge or bond":function(t,e){if(t.beginsWithBond){var r=[];return Ae.concatArray(r,this.output(t)),Ae.concatArray(r,Ae.actions.bond(t,e,"-")),r}else t.d=e},"- after o/d":function(t,e,r){var n=Ae.patterns.match_("orbital",t.o||""),i=Ae.patterns.match_("one lowercase greek letter $",t.o||""),s=Ae.patterns.match_("one lowercase latin letter $",t.o||""),a=Ae.patterns.match_("$one lowercase latin letter$ $",t.o||""),o=e==="-"&&(n&&n.remainder===""||i||s||a);o&&!t.a&&!t.b&&!t.p&&!t.d&&!t.q&&!n&&s&&(t.o="$"+t.o+"$");var l=[];return o?(Ae.concatArray(l,this.output(t)),l.push({type_:"hyphen"})):(n=Ae.patterns.match_("digits",t.d||""),r&&n&&n.remainder===""?(Ae.concatArray(l,Ae.actions["d="](t,e)),Ae.concatArray(l,this.output(t))):(Ae.concatArray(l,this.output(t)),Ae.concatArray(l,Ae.actions.bond(t,e,"-")))),l},"a to o":function(t){t.o=t.a,t.a=void 0},"sb=true":function(t){t.sb=!0},"sb=false":function(t){t.sb=!1},"beginsWithBond=true":function(t){t.beginsWithBond=!0},"beginsWithBond=false":function(t){t.beginsWithBond=!1},"parenthesisLevel++":function(t){t.parenthesisLevel++},"parenthesisLevel--":function(t){t.parenthesisLevel--},"state of aggregation":function(t,e){return{type_:"state of aggregation",p1:Ae.go(e,"o")}},comma:function(t,e){var r=e.replace(/\s*$/,""),n=r!==e;return n&&t.parenthesisLevel===0?{type_:"comma enumeration L",p1:r}:{type_:"comma enumeration M",p1:r}},output:function(t,e,r){var n;if(!t.r)n=[],!t.a&&!t.b&&!t.p&&!t.o&&!t.q&&!t.d&&!r||(t.sb&&n.push({type_:"entitySkip"}),!t.o&&!t.q&&!t.d&&!t.b&&!t.p&&r!==2?(t.o=t.a,t.a=void 0):!t.o&&!t.q&&!t.d&&(t.b||t.p)?(t.o=t.a,t.d=t.b,t.q=t.p,t.a=t.b=t.p=void 0):t.o&&t.dType==="kv"&&Ae.patterns.match_("d-oxidation$",t.d||"")?t.dType="oxidation":t.o&&t.dType==="kv"&&!t.q&&(t.dType=void 0),n.push({type_:"chemfive",a:Ae.go(t.a,"a"),b:Ae.go(t.b,"bd"),p:Ae.go(t.p,"pq"),o:Ae.go(t.o,"o"),q:Ae.go(t.q,"pq"),d:Ae.go(t.d,t.dType==="oxidation"?"oxidation":"bd"),dType:t.dType}));else{var i;t.rdt==="M"?i=Ae.go(t.rd,"tex-math"):t.rdt==="T"?i=[{type_:"text",p1:t.rd||""}]:i=Ae.go(t.rd);var s;t.rqt==="M"?s=Ae.go(t.rq,"tex-math"):t.rqt==="T"?s=[{type_:"text",p1:t.rq||""}]:s=Ae.go(t.rq),n={type_:"arrow",r:t.r,rd:i,rq:s}}for(var a in t)a!=="parenthesisLevel"&&a!=="beginsWithBond"&&delete t[a];return n},"oxidation-output":function(t,e){var r=["{"];return Ae.concatArray(r,Ae.go(e,"oxidation")),r.push("}"),r},"frac-output":function(t,e){return{type_:"frac-ce",p1:Ae.go(e[0]),p2:Ae.go(e[1])}},"overset-output":function(t,e){return{type_:"overset",p1:Ae.go(e[0]),p2:Ae.go(e[1])}},"underset-output":function(t,e){return{type_:"underset",p1:Ae.go(e[0]),p2:Ae.go(e[1])}},"underbrace-output":function(t,e){return{type_:"underbrace",p1:Ae.go(e[0]),p2:Ae.go(e[1])}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:Ae.go(e[1])}},"r=":function(t,e){t.r=e},"rdt=":function(t,e){t.rdt=e},"rd=":function(t,e){t.rd=e},"rqt=":function(t,e){t.rqt=e},"rq=":function(t,e){t.rq=e},operator:function(t,e,r){return{type_:"operator",kind_:r||e}}}},a:{transitions:Ae.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},"$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:Ae.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"{text}"}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:Ae.createTransitions({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text="}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text="}}}),actions:{output:function(t){if(t.text_){var e={type_:"text",p1:t.text_};for(var r in t)delete t[r];return e}}}},pq:{transitions:Ae.createTransitions({empty:{"*":{}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"!f",revisit:!0}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",option:"comma enumeration S"}}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(t,e){return{type_:"state of aggregation subscript",p1:Ae.go(e,"o")}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:Ae.go(e[1],"pq")}}}},bd:{transitions:Ae.createTransitions({empty:{"*":{}},x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},else:{0:{nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(t,e){return{type_:"color",color1:e[0],color2:Ae.go(e[1],"bd")}}}},oxidation:{transitions:Ae.createTransitions({empty:{"*":{}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},else:{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(t,e){return{type_:"roman numeral",p1:e||""}}}},"tex-math":{transitions:Ae.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},else:{"*":{action_:"o="}}}),actions:{output:function(t){if(t.o){var e={type_:"tex-math",p1:t.o};for(var r in t)delete t[r];return e}}}},"tex-math tight":{transitions:Ae.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o="}}}),actions:{"tight operator":function(t,e){t.o=(t.o||"")+"{"+e+"}"},output:function(t){if(t.o){var e={type_:"tex-math",p1:t.o};for(var r in t)delete t[r];return e}}}},"9,9":{transitions:Ae.createTransitions({empty:{"*":{}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:Ae.createTransitions({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output","space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o=",nextState:"/"}},"/":{d:{action_:"o=",nextState:"/"}},"{...}|else":{"0|d":{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},"/|q":{action_:"q=",nextState:"q"}}}),actions:{enumber:function(t,e){var r=[];return e[0]==="+-"||e[0]==="+/-"?r.push("\\pm "):e[0]&&r.push(e[0]),e[1]&&(Ae.concatArray(r,Ae.go(e[1],"pu-9,9")),e[2]&&(e[2].match(/[,.]/)?Ae.concatArray(r,Ae.go(e[2],"pu-9,9")):r.push(e[2])),(e[3]||e[4])&&(e[3]==="e"||e[4]==="*"?r.push({type_:"cdot"}):r.push({type_:"times"}))),e[5]&&r.push("10^{"+e[5]+"}"),r},"number^":function(t,e){var r=[];return e[0]==="+-"||e[0]==="+/-"?r.push("\\pm "):e[0]&&r.push(e[0]),Ae.concatArray(r,Ae.go(e[1],"pu-9,9")),r.push("^{"+e[2]+"}"),r},operator:function(t,e,r){return{type_:"operator",kind_:r||e}},space:function(){return{type_:"pu-space-1"}},output:function(t){var e,r=Ae.patterns.match_("{(...)}",t.d||"");r&&r.remainder===""&&(t.d=r.match_);var n=Ae.patterns.match_("{(...)}",t.q||"");if(n&&n.remainder===""&&(t.q=n.match_),t.d&&(t.d=t.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.d=t.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),t.q){t.q=t.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.q=t.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");var i={d:Ae.go(t.d,"pu"),q:Ae.go(t.q,"pu")};t.o==="//"?e={type_:"pu-frac",p1:i.d,p2:i.q}:(e=i.d,i.d.length>1||i.q.length>1?e.push({type_:" / "}):e.push({type_:"/"}),Ae.concatArray(e,i.q))}else e=Ae.go(t.d,"pu-2");for(var s in t)delete t[s];return e}}},"pu-2":{transitions:Ae.createTransitions({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm="}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},"-9.,9":{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(t,e){t.rm+="^{"+e+"}"},space:function(){return{type_:"pu-space-2"}},output:function(t){var e=[];if(t.rm){var r=Ae.patterns.match_("{(...)}",t.rm||"");r&&r.remainder===""?e=Ae.go(r.match_,"pu"):e={type_:"rm",p1:t.rm}}for(var n in t)delete t[n];return e}}},"pu-9,9":{transitions:Ae.createTransitions({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(t){var e=[];if(t.text_=t.text_||"",t.text_.length>4){var r=t.text_.length%3;r===0&&(r=3);for(var n=t.text_.length-3;n>0;n-=3)e.push(t.text_.substr(n,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(0,r)),e.reverse()}else e.push(t.text_);for(var i in t)delete t[i];return e},"output-o":function(t){var e=[];if(t.text_=t.text_||"",t.text_.length>4){for(var r=t.text_.length-3,n=0;n<r;n+=3)e.push(t.text_.substr(n,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(n))}else e.push(t.text_);for(var i in t)delete t[i];return e}}}};var Zt={go:function(t,e){if(!t)return"";for(var r="",n=!1,i=0;i<t.length;i++){var s=t[i];typeof s=="string"?r+=s:(r+=Zt._go2(s),s.type_==="1st-level escape"&&(n=!0))}return!e&&!n&&r&&(r="{"+r+"}"),r},_goInner:function(t){return t&&Zt.go(t,!0)},_go2:function(t){var e;switch(t.type_){case"chemfive":e="";var r={a:Zt._goInner(t.a),b:Zt._goInner(t.b),p:Zt._goInner(t.p),o:Zt._goInner(t.o),q:Zt._goInner(t.q),d:Zt._goInner(t.d)};r.a&&(r.a.match(/^[+\-]/)&&(r.a="{"+r.a+"}"),e+=r.a+"\\,"),(r.b||r.p)&&(e+="{\\vphantom{X}}",e+="^{\\hphantom{"+(r.b||"")+"}}_{\\hphantom{"+(r.p||"")+"}}",e+="{\\vphantom{X}}",e+="^{\\smash[t]{\\vphantom{2}}\\llap{"+(r.b||"")+"}}",e+="_{\\vphantom{2}\\llap{\\smash[t]{"+(r.p||"")+"}}}"),r.o&&(r.o.match(/^[+\-]/)&&(r.o="{"+r.o+"}"),e+=r.o),t.dType==="kv"?((r.d||r.q)&&(e+="{\\vphantom{X}}"),r.d&&(e+="^{"+r.d+"}"),r.q&&(e+="_{\\smash[t]{"+r.q+"}}")):t.dType==="oxidation"?(r.d&&(e+="{\\vphantom{X}}",e+="^{"+r.d+"}"),r.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+r.q+"}}")):(r.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+r.q+"}}"),r.d&&(e+="{\\vphantom{X}}",e+="^{"+r.d+"}"));break;case"rm":e="\\mathrm{"+t.p1+"}";break;case"text":t.p1.match(/[\^_]/)?(t.p1=t.p1.replace(" ","~").replace("-","\\text{-}"),e="\\mathrm{"+t.p1+"}"):e="\\text{"+t.p1+"}";break;case"roman numeral":e="\\mathrm{"+t.p1+"}";break;case"state of aggregation":e="\\mskip2mu "+Zt._goInner(t.p1);break;case"state of aggregation subscript":e="\\mskip1mu "+Zt._goInner(t.p1);break;case"bond":if(e=Zt._getBond(t.kind_),!e)throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+t.kind_+")"];break;case"frac":var n="\\frac{"+t.p1+"}{"+t.p2+"}";e="\\mathchoice{\\textstyle"+n+"}{"+n+"}{"+n+"}{"+n+"}";break;case"pu-frac":var i="\\frac{"+Zt._goInner(t.p1)+"}{"+Zt._goInner(t.p2)+"}";e="\\mathchoice{\\textstyle"+i+"}{"+i+"}{"+i+"}{"+i+"}";break;case"tex-math":e=t.p1+" ";break;case"frac-ce":e="\\frac{"+Zt._goInner(t.p1)+"}{"+Zt._goInner(t.p2)+"}";break;case"overset":e="\\overset{"+Zt._goInner(t.p1)+"}{"+Zt._goInner(t.p2)+"}";break;case"underset":e="\\underset{"+Zt._goInner(t.p1)+"}{"+Zt._goInner(t.p2)+"}";break;case"underbrace":e="\\underbrace{"+Zt._goInner(t.p1)+"}_{"+Zt._goInner(t.p2)+"}";break;case"color":e="{\\color{"+t.color1+"}{"+Zt._goInner(t.color2)+"}}";break;case"color0":e="\\color{"+t.color+"}";break;case"arrow":var s={rd:Zt._goInner(t.rd),rq:Zt._goInner(t.rq)},a=Zt._getArrow(t.r);s.rd||s.rq?t.r==="<=>"||t.r==="<=>>"||t.r==="<<=>"||t.r==="<-->"?(a="\\long"+a,s.rd&&(a="\\overset{"+s.rd+"}{"+a+"}"),s.rq&&(t.r==="<-->"?a="\\underset{\\lower2mu{"+s.rq+"}}{"+a+"}":a="\\underset{\\lower6mu{"+s.rq+"}}{"+a+"}"),a=" {}\\mathrel{"+a+"}{} "):(s.rq&&(a+="[{"+s.rq+"}]"),a+="{"+s.rd+"}",a=" {}\\mathrel{\\x"+a+"}{} "):a=" {}\\mathrel{\\long"+a+"}{} ",e=a;break;case"operator":e=Zt._getOperator(t.kind_);break;case"1st-level escape":e=t.p1+" ";break;case"space":e=" ";break;case"entitySkip":e="~";break;case"pu-space-1":e="~";break;case"pu-space-2":e="\\mkern3mu ";break;case"1000 separator":e="\\mkern2mu ";break;case"commaDecimal":e="{,}";break;case"comma enumeration L":e="{"+t.p1+"}\\mkern6mu ";break;case"comma enumeration M":e="{"+t.p1+"}\\mkern3mu ";break;case"comma enumeration S":e="{"+t.p1+"}\\mkern1mu ";break;case"hyphen":e="\\text{-}";break;case"addition compound":e="\\,{\\cdot}\\,";break;case"electron dot":e="\\mkern1mu \\bullet\\mkern1mu ";break;case"KV x":e="{\\times}";break;case"prime":e="\\prime ";break;case"cdot":e="\\cdot ";break;case"tight cdot":e="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":e="\\times ";break;case"circa":e="{\\sim}";break;case"^":e="uparrow";break;case"v":e="downarrow";break;case"ellipsis":e="\\ldots ";break;case"/":e="/";break;case" / ":e="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."]}return e},_getArrow:function(t){switch(t){case"->":return"rightarrow";case"→":return"rightarrow";case"⟶":return"rightarrow";case"<-":return"leftarrow";case"<->":return"leftrightarrow";case"<-->":return"leftrightarrows";case"<=>":return"rightleftharpoons";case"⇌":return"rightleftharpoons";case"<=>>":return"Rightleftharpoons";case"<<=>":return"Leftrightharpoons";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(t){switch(t){case"-":return"{-}";case"1":return"{-}";case"=":return"{=}";case"2":return"{=}";case"#":return"{\\equiv}";case"3":return"{\\equiv}";case"~":return"{\\tripledash}";case"~-":return"{\\rlap{\\lower.1em{-}}\\raise.1em{\\tripledash}}";case"~=":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"~--":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"-~-":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{-}}\\tripledash}";case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return"{\\rightarrow}";case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(t){switch(t){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":return" {}\\approx{} ";case"$\\approx$":return" {}\\approx{} ";case"v":return" \\downarrow{} ";case"(v)":return" \\downarrow{} ";case"^":return" \\uparrow{} ";case"(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."]}}},bre=class wre extends se{constructor(e){super(G(P({},e),{type:"delim"})),this.value=e.delim,this.size=e.size}static fromJson(e){return new wre(e)}toJson(){return G(P({},super.toJson()),{delim:this.value,size:this.size})}render(e){return new ge(this.value,{type:"middle"})}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Ln(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,e):qt(this.command,this.value)}},Cre=class Bre extends se{constructor(e){super(G(P({},e),{type:"sizeddelim",value:e.delim})),this.delimType=e.delimType,this.size=e.size}static fromJson(e){return new Bre(e)}toJson(){return G(P({},super.toJson()),{delim:this.value,size:this.size,delimType:this.delimType})}render(e){let r=NLe(this.value,this.size,e,{classes:{open:"ML__open",close:"ML__close"}[this.delimType],type:this.delimType,isSelected:this.isSelected});return r?(r=this.bind(e,r),this.caret&&(r.caret=this.caret),r):null}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Ln(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,e):qt(this.command,this.value)}},W1=class Sre extends se{constructor(e,r,n,i){var s,a;super({type:"enclose",command:e,style:i.style}),this.body=r,this.backgroundcolor=i.backgroundcolor,n.updiagonalarrow&&(n.updiagonalstrike=!1),n.box&&(n.left=!1,n.right=!1,n.bottom=!1,n.top=!1),this.notation=n,this.shadow=(s=i.shadow)!=null?s:"none",this.strokeWidth=(a=i.strokeWidth)!=null?a:"0.06em",this.strokeWidth||(this.strokeWidth="0.06em"),this.strokeStyle=i.strokeStyle,this.svgStrokeStyle=i.svgStrokeStyle,this.strokeColor=i.strokeColor,this.borderStyle=i.borderStyle,this.padding=i.padding,this.captureSelection=!1}static fromJson(e){return new Sre(e.command,e.body,e.notation,e)}toJson(){return G(P({},super.toJson()),{notation:this.notation,shadow:this.shadow,strokeWidth:this.strokeWidth,strokeStyle:this.strokeStyle,svgStrokeStyle:this.svgStrokeStyle,strokeColor:this.strokeColor,borderStyle:this.borderStyle,padding:this.padding})}_serialize(e){var r;if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let n=Ln(this.command,this.mode);if(n!=null&&n.serialize)return n.serialize(this,e);let i=(r=this.command)!=null?r:"";if(this.command==="\\enclose"){i+="{"+Object.keys(this.notation).join(" ")+"}";let s="",a="";this.backgroundcolor&&this.backgroundcolor!=="transparent"&&(s+=a+'mathbackground="'+this.backgroundcolor+'"',a=","),this.shadow&&this.shadow!=="auto"&&(s+=a+'shadow="'+this.shadow+'"',a=","),this.strokeWidth||this.strokeStyle!=="solid"?(s+=a+this.borderStyle,a=","):this.strokeColor&&this.strokeColor!=="currentColor"&&(s+=a+'mathcolor="'+this.strokeColor+'"',a=","),s&&(i+=`[${s}]`)}return qt(i,this.bodyToLatex(e))}render(e){let r=new mt({parent:e},this.style),n=se.createBox(r,this.body);if(!n)return null;let i=XLe(this.borderStyle),s=r.toEm(!this.padding||this.padding==="auto"?{register:"fboxsep"}:{string:this.padding});n.setStyle("position","relative"),n.setStyle("display","inline-block"),n.setStyle("top",s,"em"),n.setStyle("height",n.height+n.depth,"em"),n.setStyle("width",n.width,"em");let a=new ge(null,{classes:"ML__notation"}),o=n.height+n.depth+2*s,l=n.width+2*s,c="";if(this.notation.horizontalstrike&&(c+=this.line(3,50,97,50)),this.notation.verticalstrike&&(c+=this.line(50,3,50,97)),this.notation.updiagonalstrike&&(c+=this.line(3,97,97,3)),this.notation.downdiagonalstrike&&(c+=this.line(3,3,97,97)),this.notation.updiagonalarrow){c+=this.line(s.toString(),(s+n.depth+n.height).toString(),(s+n.width).toString(),s.toString());let A=.03*Math.sqrt(l*l+o*o)*1,f=n.width*A,p=(n.depth+n.height)*A,m=s+n.width,v=s;v+p-.4*f<0&&(v=.4*f-p),c+='<polygon points="',c+=`${m},${v} ${m-f-.4*p},${v+p-.4*f} `,c+=`${m-.7*f},${v+.7*p} ${m-f+.4*p},${v+p+.4*f} `,c+=`${m},${v}`,c+=`" stroke='none' fill="${this.strokeColor}"`,c+="/>"}let u=0;if(this.notation.phasorangle){let A=Bz(r),f=(n.height+n.depth+2*A+s).toString(),p=(n.height+n.depth)/2;c+=this.line(s.toString(),f,(s+p+n.width).toString(),f),c+=this.line(s.toString(),f,(s+p).toString(),(s-A).toString()),o+=A,u=p,n.left+=o/2-s}if(this.notation.longdiv){let A=Bz(r);o+=A,c+=this.line(s.toString(),s.toString(),(s+n.width).toString(),s.toString());let f=.3;u=f+A,n.left+=f+A,n.setTop(s+A),c+='<path d="',c+=`M ${s} ${s}  a${f} ${(n.depth+n.height+2*A)/2}, 0, 1, 1, 0 ${n.depth+n.height+2*A} "`,c+=` stroke-width="${YLe(r)}" stroke="${this.strokeColor}" fill="none"`,c+="/>"}if(a.width=n.width+2*s+u,a.height=n.height+s,a.depth=n.depth+s,a.setStyle("box-sizing","border-box"),a.setStyle("left",`calc(-${i} / 2 )`),a.setStyle("height",`${Math.floor(100*o)/100}em`),a.setStyle("top",`calc(${i} / 2 )`),this.backgroundcolor&&a.setStyle("background-color",this.backgroundcolor),this.notation.box&&a.setStyle("border","1px solid red"),this.notation.actuarial&&(a.setStyle("border-top",this.borderStyle),a.setStyle("border-right",this.borderStyle)),this.notation.madruwb&&(a.setStyle("border-bottom",this.borderStyle),a.setStyle("border-right",this.borderStyle)),this.notation.roundedbox&&(a.setStyle("border-radius","8px"),a.setStyle("border",this.borderStyle)),this.notation.circle&&(a.setStyle("border-radius","50%"),a.setStyle("border",this.borderStyle)),this.notation.top&&a.setStyle("border-top",this.borderStyle),this.notation.left&&a.setStyle("border-left",this.borderStyle),this.notation.right&&a.setStyle("border-right",this.borderStyle),this.notation.bottom&&a.setStyle("border-bottom",this.borderStyle),c){let A="";this.shadow==="auto"&&(A+="filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)"),this.shadow!=="none"&&(A+=`filter: drop-shadow(${this.shadow})`),A+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,A+=' stroke-linecap="round"',this.svgStrokeStyle&&(A+=` stroke-dasharray="${this.svgStrokeStyle}"`),a.svgStyle=A,a.svgOverlay=c}let d=new ge([a,n]);return d.setStyle("position","relative"),d.setStyle("vertical-align",s,"em"),d.setStyle("height",`${Math.floor(100*(n.height+n.depth+2*s))/100}em`),d.setStyle("display","inline-block"),d.height=a.height,d.depth=a.depth,d.width=a.width-2*s,d.left=s,d.right=s,this.caret&&(d.caret=this.caret),d.wrap(r)}line(e,r,n,i){return`<line x1="${Sv(e)}"  y1="${Sv(r)}" x2="${Sv(n)}" y2="${Sv(i)}" vector-effect="non-scaling-stroke"></line>`}};function Sv(t){return typeof t=="number"?`${Math.floor(100*t)/100}%`:t}function XLe(t){if(!t)return"1px";let e=t.match(/([0-9][a-zA-Z\%]+)/);return e===null?"1px":e[1]}function YLe(t){return(Math.floor(100*t.metrics.sqrtRuleThickness/t.scalingFactor)/100/10).toString()+"em"}function Bz(t){let e=t.isDisplayStyle?uu:t.metrics.defaultRuleThickness;return t.metrics.defaultRuleThickness+t.scalingFactor*e/4}var Ex={fractionNavigationOrder:"numerator-denominator"},U0=class _re extends se{constructor(e,r,n){var i,s,a;super(G(P({},n),{type:"genfrac",displayContainsHighlight:!0})),this.above=e,this.below=r,this.hasBarLine=(i=n==null?void 0:n.hasBarLine)!=null?i:!0,this.continuousFraction=(s=n==null?void 0:n.continuousFraction)!=null?s:!1,this.align=(a=n==null?void 0:n.align)!=null?a:"center",this.numerPrefix=n==null?void 0:n.numerPrefix,this.denomPrefix=n==null?void 0:n.denomPrefix,this.mathstyleName=n==null?void 0:n.mathstyleName,this.leftDelim=n==null?void 0:n.leftDelim,this.rightDelim=n==null?void 0:n.rightDelim}static fromJson(e){return new _re(e.above,e.below,e)}toJson(){let e={};return this.continuousFraction&&(e.continuousFraction=!0),this.align!=="center"&&(e.align=this.align),this.numerPrefix&&(e.numerPrefix=this.numerPrefix),this.denomPrefix&&(e.denomPrefix=this.denomPrefix),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),this.hasBarLine||(e.hasBarLine=!1),this.mathstyleName&&(e.mathstyleName=this.mathstyleName),P(P({},super.toJson()),e)}get children(){if(this._children)return this._children;let e=[];if(Ex.fractionNavigationOrder==="denominator-numerator"){for(let r of this.below)e.push(...r.children),e.push(r);for(let r of this.above)e.push(...r.children),e.push(r)}else{for(let r of this.above)e.push(...r.children),e.push(r);for(let r of this.below)e.push(...r.children),e.push(r)}return this._children=e,e}render(e){var r,n;let i=new mt({parent:e,mathstyle:this.mathstyleName},this.style),s=i.metrics,a=new mt({parent:i,mathstyle:this.continuousFraction?"":"numerator"},this.style),o=this.numerPrefix?new ge([new ge(this.numerPrefix),se.createBox(a,this.above)],{isTight:a.isTight,type:"ignore"}):(r=se.createBox(a,this.above,{type:"ignore"}))!=null?r:new ge(null,{type:"ignore"}),l=new mt({parent:i,mathstyle:this.continuousFraction?"":"denominator"},this.style),c=this.denomPrefix?new ge([new ge(this.denomPrefix),se.createBox(l,this.below,{type:"ignore"})]):(n=se.createBox(l,this.below,{type:"ignore"}))!=null?n:new ge(null,{type:"ignore"}),u=this.hasBarLine?s.defaultRuleThickness:0,d,A=0,f;i.isDisplayStyle?(d=a.metrics.num1,A=u>0?3*u:7*u,f=l.metrics.denom1):(u>0?(d=a.metrics.num2,A=u):(d=a.metrics.num3,A=3*s.defaultRuleThickness),f=l.metrics.denom2);let p=[];this.isSelected&&p.push("ML__selected");let m=o.depth,v=c.height,g;if(u<=0){let B=d-m-(v-f);B<A&&(d+=(A-B)/2,f+=(A-B)/2),g=new qr({individualShift:[{box:o,shift:-d,classes:[...p,_v(this.align)]},{box:c,shift:f,classes:[...p,_v(this.align)]}]}).wrap(i)}else{let B=new ge(null,{classes:"ML__frac-line",mode:this.mode,style:this.style});B.softWidth=Math.max(o.width,c.width),B.height=u/2,B.depth=u/2;let S=Na+u/2;d<A+m+S&&(d=A+m+S);let E=Na-u/2;f<A+v-E&&(f=A+v-E),g=new qr({individualShift:[{box:c,shift:f,classes:[...p,_v(this.align)]},{box:B,shift:-E,classes:p},{box:o,shift:-d,classes:[...p,_v(this.align)]}]}).wrap(i)}let y=i.isDisplayStyle?s.delim1:s.delim2,x=this.leftDelim?this.bind(e,B3("open",this.leftDelim,y,!0,e,{style:this.style,mode:this.mode,isSelected:this.isSelected})):k0(i,"ML__open"),b=null;this.continuousFraction?b=new ge(null,{type:"close"}):this.rightDelim?b=this.bind(e,B3("close",this.rightDelim,y,!0,e,{style:this.style,mode:this.mode,isSelected:this.isSelected})):b=k0(i,"ML__close");let w=new ge([x,g,b],{isTight:i.isTight,type:"inner",classes:"ML__mfrac"}),C=this.bind(e,w);return this.caret&&(C.caret=this.caret),this.attachSupsub(e,{base:C})}};function _v(t){var e;return(e={left:"ML__left",right:"ML__right",center:"ML__center"}[t])!=null?e:"ML__center"}var ln=class kre extends se{constructor(e,r){var n;super({type:"latex",value:e,mode:"latex"}),this.isSuggestion=(n=r==null?void 0:r.isSuggestion)!=null?n:!1,this.isError=!1}static fromJson(e){let r=new kre(e.value);return e.isSuggestion&&(r.isSuggestion=!0),e.isError&&(r.isError=!0),r}toJson(){let e={};return this.isSuggestion&&(e.isSuggestion=!0),this.isError&&(e.isError=!0),P({type:"latex",value:this.value},e)}render(e){let r=new ge(this.value,{classes:this.isSuggestion?"ML__suggestion":this.isError?"ML__error":"",type:"latex",maxFontSize:1});return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}},Vm=class Ere extends se{constructor(e=""){super({type:"latexgroup",mode:"latex"}),this.body=[...e].map(r=>new ln(r)),this.skipBoundary=!0}static fromJson(e){return new Ere}toJson(){return super.toJson()}render(e){let r=se.createBox(e,this.body);return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}_serialize(e){var r,n;return(n=(r=this.body)==null?void 0:r.map(i=>i.value).join(""))!=null?n:""}},KF=class Mre extends se{constructor(e,r){super(G(P({},r),{type:"extensible-symbol",isFunction:r==null?void 0:r.isFunction})),this.value=e,this.variant=r==null?void 0:r.variant,this.subsupPlacement=r==null?void 0:r.limits}static fromJson(e){return new Mre(e.symbol,e)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.subsupPlacement&&(e.limits=this.subsupPlacement),this.value&&(e.symbol=this.value),e}render(e){var r;let n=e.isDisplayStyle&&this.value!=="\\smallint",i=new ge(this.value,{fontFamily:n?"Size2-Regular":"Size1-Regular",classes:"ML__op-symbol "+(n?"ML__large-op":"ML__small-op"),type:"op",maxFontSize:e.scalingFactor,isSelected:this.isSelected});if(!i)return null;i.right=i.italic;let s=(i.height-i.depth)/2-Na*e.scalingFactor,a=i.italic;i.setTop(s);let o=i;if(this.superscript||this.subscript){let l=(r=this.subsupPlacement)!=null?r:"auto";l==="auto"&&e.isDisplayStyle&&(l="over-under"),o=l==="over-under"?this.attachLimits(e,{base:i,baseShift:s,slant:a}):this.attachSupsub(e,{base:i})}return new ge(this.bind(e,o),{type:"op",caret:this.caret,isSelected:this.isSelected,classes:"ML__op-group"}).wrap(e)}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Ln(this.command,this.mode);if(r!=null&&r.serialize)return r.serialize(this,e);let n=[];return n.push(this.command),this.explicitSubsupPlacement&&(this.subsupPlacement==="over-under"&&n.push("\\limits"),this.subsupPlacement==="adjacent"&&n.push("\\nolimits"),this.subsupPlacement==="auto"&&n.push("\\displaylimits")),n.push(this.supsubToLatex(e)),lt(n)}},R0=class Fre extends se{constructor(e){let r=e.body;super(G(P({},e),{type:"overlap",body:typeof r=="string"?[new se({value:r})]:r,style:e==null?void 0:e.style})),this.skipBoundary=!0,this.align=e==null?void 0:e.align,this.boxType=e==null?void 0:e.boxType}static fromJson(e){return new Fre(e)}toJson(){let e={};return this.align&&(e.align=this.align),this.boxType&&(e.boxType=this.boxType),P(P({},super.toJson()),e)}render(e){let r=se.createBox(e,this.body,{classes:"ML__inner"});return r?(this.caret&&(r.caret=this.caret),this.bind(e,new ge([r,new ge(null,{classes:"ML__fix"})],{classes:this.align==="right"?"ML__rlap":"ML__llap",type:this.boxType}))):null}},oa=class Tre extends se{constructor(e){var r,n,i,s;super({type:"overunder",command:e.command,style:e.style,mode:e.mode,body:e.body,skipBoundary:(r=e.skipBoundary)!=null?r:!0}),this.subsupPlacement=e.supsubPlacement,this.svgAbove=e.svgAbove,this.svgBelow=e.svgBelow,this.svgBody=e.svgBody,this.above=e.above,this.below=e.below,this.boxType=(n=e.boxType)!=null?n:"ord",this.paddedBody=(i=e.paddedBody)!=null?i:!1,this.paddedLabels=(s=e.paddedLabels)!=null?s:!1}static fromJson(e){return new Tre(e)}toJson(){let e=super.toJson();return this.skipBoundary||(e.skipBoundary=!1),this.subsupPlacement&&(e.subsupPlacement=this.subsupPlacement),this.svgAbove&&(e.svgAbove=this.svgAbove),this.svgBelow&&(e.svgBelow=this.svgBelow),this.svgBody&&(e.svgBody=this.svgBody),this.boxType!=="ord"&&(e.boxType=this.boxType),this.paddedBody&&(e.paddedBody=!0),this.paddedLabels&&(e.paddedLabels=!0),e}render(e){let r=this.svgBody?Bx(this.svgBody):se.createBox(e,this.body,{type:"ignore"}),n=new mt({parent:e,mathstyle:"scriptstyle"},this.style),i=null;this.svgAbove?i=Bx(this.svgAbove):this.above&&(i=se.createBox(n,this.above,{type:"ignore"}));let s=null;this.svgBelow?s=Bx(this.svgBelow):this.below&&(s=se.createBox(n,this.below,{type:"ignore"})),this.paddedBody&&(r=new ge([k0(e,"ML__open"),r,k0(e,"ML__close")],{type:"ignore"}));let a=JLe(e,{base:r,above:i,below:s,type:this.boxType==="bin"||this.boxType==="rel"?this.boxType:"ord",paddedAboveBelow:this.paddedLabels});return a?(this.subsupPlacement==="over-under"?a=this.attachLimits(e,{base:a,type:a.type}):a=this.attachSupsub(e,{base:a}),this.caret&&(a.caret=this.caret),this.bind(e,a)):null}};function JLe(t,e){if(!e.base)return null;if(!e.above&&!e.below){let o=new ge(e.base,{type:e.type});return o.setStyle("position","relative"),o}let r=0;e.above&&(r=t.metrics.bigOpSpacing5);let n=null,i=e.base,s=0,a=["ML__center"];if(e.paddedAboveBelow&&a.push("ML__label_padding"),e.below&&e.above){let o=t.metrics.bigOpSpacing5+e.below.height+e.below.depth+i.depth+s;n=new qr({bottom:o,children:[t.metrics.bigOpSpacing5,{box:e.below,classes:a},{box:i,classes:["ML__center"]},r,{box:e.above,classes:a},t.metrics.bigOpSpacing5]})}else e.below?n=new qr({top:i.height-s,children:[t.metrics.bigOpSpacing5,{box:e.below,classes:a},{box:i,classes:["ML__center"]}]}):e.above&&(n=new qr({bottom:i.depth+s,children:[{box:i,classes:["ML__center"]},r,{box:e.above,classes:a},t.metrics.bigOpSpacing5]}));return new ge(n,{type:e.type})}var G1=class Dre extends se{constructor(e){var r,n,i,s;super(G(P({},e),{type:"phantom"})),this.captureSelection=!0,this.isInvisible=(r=e.isInvisible)!=null?r:!1,this.smashDepth=(n=e.smashDepth)!=null?n:!1,this.smashHeight=(i=e.smashHeight)!=null?i:!1,this.smashWidth=(s=e.smashWidth)!=null?s:!1}static fromJson(e){return new Dre(e)}toJson(){let e={};return this.isInvisible&&(e.isInvisible=!0),this.smashDepth&&(e.smashDepth=!0),this.smashHeight&&(e.smashHeight=!0),this.smashWidth&&(e.smashWidth=!0),P(P({},super.toJson()),e)}render(e){let r=new mt({parent:e,isPhantom:!0});if(!this.smashDepth&&!this.smashHeight&&!this.smashWidth)return this.isInvisible,se.createBox(r,this.body,{classes:"ML__inner"});let n=se.createBox(this.isInvisible?r:e,this.body);if(!n)return null;if(this.smashWidth){let i=new ge(null,{classes:"ML__fix"});return new ge([n,i],{classes:"ML__rlap"}).wrap(e)}if(!this.smashHeight&&!this.smashDepth)return n;if(this.smashHeight&&(n.height=0),this.smashDepth&&(n.depth=0),n.children)for(let i of n.children)this.smashHeight&&(i.height=0),this.smashDepth&&(i.depth=0);return new qr({firstBaseline:[{box:n}]},{type:n.type}).wrap(e)}},X1=class Lre extends se{constructor(e){var r;super(P({type:"spacing"},e)),this.width=e==null?void 0:e.width,this._braced=(r=e==null?void 0:e.braced)!=null?r:!1}static fromJson(e){return new Lre(e)}toJson(){let e=super.toJson();return this.width!==void 0&&(e.width=this.width),this._braced&&(e.braced=!0),e}render(e){var r;if(this.command==="space")return new ge(this.mode==="math"?null:" ");let n;if(this.width!==void 0)n=new ge(null,{classes:"ML__mspace"}),n.left=e.toEm(this.width);else{let i=(r={"\\qquad":"ML__qquad","\\quad":"ML__quad","\\enspace":"ML__enspace","\\;":"ML__thickspace","\\:":"ML__mediumspace","\\>":"ML__mediumspace","\\,":"ML__thinspace","\\!":"ML__negativethinspace"}[this.command])!=null?r:"ML__mediumspace";n=new ge(null,{classes:i})}return n=this.bind(e,n),this.caret&&(n.caret=this.caret),n}_serialize(e){var r;if(!e.expandMacro&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let n=Ln(this.command,this.mode);if(n!=null&&n.serialize)return n.serialize(this,e);let i=(r=this.command)!=null?r:"";return this.width===void 0?i:this._braced&&!("register"in this.width)?`${i}{${Cn(this.width)}}`:`${i}${Cn(this.width)}`}},Nre=class jre extends se{constructor(e){var r;super(G(P({},e),{type:"surd",mode:(r=e.mode)!=null?r:"math",style:e.style,displayContainsHighlight:!0,body:e.body})),this.above=e.index}static fromJson(e){return new jre(G(P({},e),{index:e.above}))}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Ln(this.command,this.mode);if(r!=null&&r.serialize)return r.serialize(this,e);let n=this.command,i=this.bodyToLatex(e);return this.above&&!this.hasEmptyBranch("above")?qt(`${n}[${this.aboveToLatex(e)}]`,i):/^[0-9]$/.test(i)?`${n}${i}`:qt(n,i)}get children(){if(this._children)return this._children;let e=[];if(this.above)for(let r of this.above)e.push(...r.children),e.push(r);if(this.body)for(let r of this.body)e.push(...r.children),e.push(r);return this._children=e,e}render(e){var r;let n=new mt({parent:e,mathstyle:"cramp"},this.style),i=(r=se.createBox(n,this.body,{type:"inner"}))!=null?r:new ge(null),s=n.scalingFactor,a=n.metrics.defaultRuleThickness/s,o=e.isDisplayStyle?uu:a,l=new ge(null,{classes:"ML__sqrt-line",style:this.style});l.height=a,l.softWidth=i.width;let c=s*(a+o/4),u=Math.max(s*2*o,i.height+i.depth)+c+a,d=new mt({parent:e},this.style),A=this.bind(d,new ge(B3("inner","\\surd",u,!1,d,{isSelected:this.isSelected}),{isSelected:this.isSelected,classes:"ML__sqrt-sign",style:this.style}));if(!A)return null;let f=A.height+A.depth-a;f>i.height+i.depth+c&&(c=(c+f-(i.height+i.depth))/2),A.setTop(A.height-i.height-c);let p=this.bind(e,new qr({firstBaseline:[{box:new ge(i)},c-2*a,{box:l},a]})),m=se.createBox(new mt({parent:e,mathstyle:"scriptscriptstyle"}),this.above,{type:"ignore"});if(!m){let y=new ge([A,p],{classes:this.containsCaret?"ML__contains-caret":"",type:"inner"});return y.setStyle("display","inline-block"),y.setStyle("height",y.height+y.depth,"em"),this.caret&&(y.caret=this.caret),this.bind(e,y)}let v=new qr({shift:-.6*(Math.max(A.height,p.height)-Math.max(A.depth,p.depth)),children:[{box:m}]}),g=new ge([new ge(v,{classes:"ML__sqrt-index",type:"ignore"}),A,p],{type:"inner",classes:this.containsCaret?"ML__contains-caret":""});return g.height=A.height,g.depth=A.depth,this.caret&&(g.caret=this.caret),this.bind(e,g)}},ZLe=class extends ge{constructor(t){super(null,{type:"skip"}),this._width=t}toMarkup(){return`<span style="display:inline-block;width:${Math.ceil(this.width*100)/100}em"></span>`}};function Mx(t,e){if(!t.parent)return;let r=t.parent.children,n=r.indexOf(t),i=n-1;for(;i>=0&&r[i].type==="ignore";)i-=1;if(i<0&&t.parent.parent&&t.parent.type==="lift"){Mx(t.parent,e);return}n>0&&r[n-1].type==="skip"?r[n-1].width+=e:r.splice(n,0,new ZLe(e))}var eNe={ord:{op:3,bin:4,rel:5,inner:3},op:{ord:3,op:3,rel:5,inner:3},bin:{ord:4,op:4,open:4,inner:4},rel:{ord:5,op:5,open:5,inner:5},close:{op:3,bin:4,rel:5,inner:3},punct:{ord:3,op:3,rel:3,open:3,punct:3,inner:3},inner:{ord:3,op:3,bin:4,rel:5,open:3,punct:3,inner:3}},tNe={ord:{op:3},op:{ord:3,op:3},close:{op:3},inner:{op:3}};function rNe(t){Km(t,(e,r)=>{r.type==="bin"&&(!e||/^(middle|bin|op|rel|open|punct)$/.test(e.type))&&(r.type="ord"),(e==null?void 0:e.type)==="bin"&&/^(rel|close|punct)$/.test(r.type)&&(e.type="ord"),r.type!=="ignore"&&(e=r)})}function Y1(t,e){if(!t.children)return t;let r=t.children;rNe(r);let n=e.getRegisterAsEm("thinmuskip"),i=e.getRegisterAsEm("medmuskip"),s=e.getRegisterAsEm("thickmuskip");return Km(r,(a,o)=>{var l,c,u;if(!a)return;let d=a.type,A=o.isTight?(l=tNe[d])!=null?l:null:(c=eNe[d])!=null?c:null,f=(u=A==null?void 0:A[o.type])!=null?u:null;f===3&&Mx(o,n),f===4&&Mx(o,i),f===5&&Mx(o,s)}),t}function Km(t,e,r=void 0){if(!t)return r;t=[...t];for(let n of t)n.type==="lift"?r=Km(n.children,e,r):n.type==="ignore"?Km(n.children,e):(e(r,n),Km(n.children,e),r=n);return r}var qF=class Ire extends se{constructor(e){super({type:"tooltip",command:e.command,mode:e.mode,style:e.style,body:e.body,displayContainsHighlight:!0}),this.tooltip=new se({type:"root",mode:e.content,body:e.tooltip,style:{}}),this.skipBoundary=!0,this.captureSelection=!1}static fromJson(e){return new Ire(G(P({},e),{tooltip:du(e.tooltip)}))}toJson(){var e;let r=(e=this.tooltip.body)==null?void 0:e.filter(n=>n.type!=="first").map(n=>n.toJson());return G(P({},super.toJson()),{tooltip:r})}render(e){let r=se.createBox(new mt,this.body);if(!r)return null;let n=new mt({parent:e,mathstyle:"displaystyle"},{fontSize:QF}),i=C5(Y1(new ge(this.tooltip.render(n),{classes:"ML__tooltip-content"}),n)),s=new ge([i,r],{classes:"ML__tooltip-container"});return this.caret&&(s.caret=this.caret),this.bind(e,s)}},Q0=class Ore extends se{constructor(e,r){super(G(P({},r),{type:"operator",isFunction:r==null?void 0:r.isFunction})),this.value=e,this.variant=r==null?void 0:r.variant,this.variantStyle=r==null?void 0:r.variantStyle,this.subsupPlacement=r==null?void 0:r.limits}static fromJson(e){return new Ore(e.symbol,e)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.variantStyle&&(e.variantStyle=this.variantStyle),this.subsupPlacement&&(e.limits=this.subsupPlacement),this.value&&(e.symbol=this.value),e}render(e){var r;let n=new ge(this.value,{type:"op",mode:"math",maxFontSize:e.scalingFactor,style:{variant:this.variant,variantStyle:this.variantStyle},isSelected:this.isSelected,letterShapeStyle:e.letterShapeStyle}),i=n;if(this.superscript||this.subscript){let s=(r=this.subsupPlacement)!=null?r:"auto";i=s==="over-under"||s==="auto"&&e.isDisplayStyle?this.attachLimits(e,{base:n}):this.attachSupsub(e,{base:n})}return new ge(this.bind(e,i),{type:"op",caret:this.caret,isSelected:this.isSelected,classes:"ML__op-group"}).wrap(e)}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Ln(this.command,this.mode);if(r!=null&&r.serialize)return r.serialize(this,e);let n=[this.command];return this.explicitSubsupPlacement&&(this.subsupPlacement==="over-under"&&n.push("\\limits"),this.subsupPlacement==="adjacent"&&n.push("\\nolimits"),this.subsupPlacement==="auto"&&n.push("\\displaylimits")),n.push(this.supsubToLatex(e)),lt(n)}};function du(t){if(Bn(t))return t.map(n=>du(n));if(typeof t=="string")return se.fromJson(t);t=P({},t);for(let n of ef)t[n]&&(t[n]=du(t[n]));t.args&&(t.args=nNe(t.args)),t.array&&(t.array=du(t.array));let e=t.type,r;e==="accent"&&(r=_5.fromJson(t)),e==="array"&&(r=ht.fromJson(t)),e==="box"&&(r=Lu.fromJson(t)),e==="chem"&&(r=vre.fromJson(t)),e==="composition"&&(r=sre.fromJson(t)),e==="delim"&&(r=bre.fromJson(t)),e==="enclose"&&(r=W1.fromJson(t)),e==="error"&&(r=Fd.fromJson(t)),e==="extensible-symbol"&&(r=KF.fromJson(t)),e==="genfrac"&&(r=U0.fromJson(t)),e==="group"&&(r=lre.fromJson(t)),e==="latex"&&(r=ln.fromJson(t)),e==="latexgroup"&&(r=Vm.fromJson(t)),e==="leftright"&&(r=pr.fromJson(t)),e==="macro"&&(r=hre.fromJson(t)),e==="macro-argument"&&(r=WLe.fromJson(t)),e==="operator"&&(r=Q0.fromJson(t)),e==="overlap"&&(r=R0.fromJson(t)),e==="overunder"&&(r=oa.fromJson(t)),e==="placeholder"&&(r=Lo.fromJson(t)),e==="prompt"&&(r=pre.fromJson(t)),e==="phantom"&&(r=G1.fromJson(t)),e==="sizeddelim"&&(r=Cre.fromJson(t)),e==="spacing"&&(r=X1.fromJson(t)),e==="subsup"&&(r=M5.fromJson(t)),e==="surd"&&(r=Nre.fromJson(t)),e==="text"&&(r=Ff.fromJson(t)),e==="tooltip"&&(r=qF.fromJson(t)),r||(r=se.fromJson(t));for(let n of ef)t[n]&&r.setChildren(t[n],n);return t.verbatimLatex!==void 0&&(r.verbatimLatex=t.verbatimLatex),t.subsupPlacement&&(r.subsupPlacement=t.subsupPlacement),t.explicitSubsupPlacement&&(r.explicitSubsupPlacement=!0),t.isFunction&&(r.isFunction=!0),t.skipBoundary&&(r.skipBoundary=!0),t.captureSelection&&(r.captureSelection=!0),r}function nNe(t){if(t&&Array.isArray(t))return t.map(e=>e==="<null>"?null:typeof e=="object"&&"group"in e?{group:e.group.map(r=>du(r))}:typeof e=="object"&&"atoms"in e?e.atoms.map(r=>du(r)):e)}function WF(t,e){!t||!e||(Bn(t)?t.forEach(r=>WF(r,e)):typeof t=="object"&&t.applyStyle(e,{unstyledOnly:!0}))}function WS(t,e,r,n){function i(a,o){for(let l of s)if(l.style[a]!==o)return!1;return!0}if(e=t.normalizeRange(e),e[0]===e[1])return!1;let s=t.getAtoms(e,{includeChildren:!0});n.operation==="toggle"&&(r.color&&i("color",r.color)&&(r.color="none",delete r.verbatimColor),r.backgroundColor&&i("backgroundColor",r.backgroundColor)&&(r.backgroundColor="none",delete r.verbatimBackgroundColor),r.fontFamily&&i("fontFamily",r.fontFamily)&&(r.fontFamily="none"),r.fontSeries&&i("fontSeries",r.fontSeries)&&(r.fontSeries="auto"),r.fontShape&&i("fontShape",r.fontShape)&&(r.fontShape="auto"),r.fontSize&&i("fontSize",r.fontSize)&&(r.fontSize=QF),r.variant&&i("variant",r.variant)&&(r.variant="normal"),r.variantStyle&&i("variantStyle",r.variantStyle)&&(r.variantStyle=""));for(let a of s)a.applyStyle(r);return!0}function iNe(t){return{up:"italic",bold:"bolditalic",italic:"italic",bolditalic:"bolditalic","":"italic"}[t??""]}function F5(t){return{up:"up",bold:"bold",italic:void 0,bolditalic:"bold","":void 0}[t??""]}var Sz={main:["Main-Regular","ML__cmr"],"main-italic":["Main-Italic","ML__cmr ML__it"],"main-bold":["Main-Bold","ML__cmr ML__bold"],"main-bolditalic":["Main-BoldItalic","ML__cmr ML__bold ML__it"],normal:["Main-Regular","ML__cmr"],"normal-bold":["Main-Bold","ML__mathbf"],"normal-italic":["Math-Italic","ML__mathit"],"normal-bolditalic":["Math-BoldItalic","ML__mathbfit"],ams:["AMS-Regular","ML__ams"],"ams-bold":["AMS-Regular","ML__ams ML__bold"],"ams-italic":["AMS-Regular","ML__ams ML__it"],"ams-bolditalic":["AMS-Regular","ML__ams ML__bold ML__it"],"sans-serif":["SansSerif-Regular","ML__sans"],"sans-serif-bold":["SansSerif-Regular","ML__sans ML__bold"],"sans-serif-italic":["SansSerif-Regular","ML__sans ML__it"],"sans-serif-bolditalic":["SansSerif-Regular","ML__sans ML__bold ML__it"],calligraphic:["Caligraphic-Regular","ML__cal"],"calligraphic-bold":["Caligraphic-Regular","ML__cal ML__bold"],"calligraphic-italic":["Caligraphic-Regular","ML__cal ML__it"],"calligraphic-bolditalic":["Caligraphic-Regular","ML__cal ML__bold ML__it"],script:["Script-Regular","ML__script"],"script-bold":["Script-Regular","ML__script ML__bold"],"script-italic":["Script-Regular","ML__script ML__it"],"script-bolditalic":["Script-Regular","ML__script ML__bold ML__it"],fraktur:["Fraktur-Regular","ML__frak"],"fraktur-bold":["Fraktur-Regular","ML__frak ML__bold"],"fraktur-italic":["Fraktur-Regular","ML__frak ML__it"],"fraktur-bolditalic":["Fraktur-Regular","ML__frak ML__bold ML__it"],monospace:["Typewriter-Regular","ML__tt"],"monospace-bold":["Typewriter-Regular","ML__tt ML__bold"],"monospace-italic":["Typewriter-Regular","ML__tt ML__it"],"monospace-bolditalic":["Typewriter-Regular","ML__tt ML__bold ML__it"],"double-struck":["AMS-Regular","ML__bb"],"double-struck-bold":["AMS-Regular","ML__bb ML__bold"],"double-struck-italic":["AMS-Regular","ML__bb ML_italic"],"double-struck-bolditalic":["AMS-Regular","ML__bb ML_bolditalic"]},GS={"double-struck":/^[A-Z ]$/,script:/^[A-Z ]$/,calligraphic:/^[\dA-Z ]$/,fraktur:/^[\dA-Za-z ]$|^[!"#$%&'()*+,\-./:;=?[]^’‘]$/,monospace:/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/,"sans-serif":/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/},Pre=/^[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5]$/,sNe=/^[\u0393|\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A6\u03A8\u03A9]$/,aNe=[/^[a-z]$/,/^[A-Z]$/,Pre,sNe],oNe={iso:["it","it","it","it"],tex:["it","it","it","up"],french:["it","up","up","up"],upright:["up","up","up","up"]},lNe=class extends hs{constructor(){super("math")}createAtom(t,e,r){var n,i,s,a,o,l;if(e===null)return new se({type:"mord",mode:"math",command:t,value:t,style:r});let c;try{c=(s=(i=globalThis.MathfieldElement)==null?void 0:i.isFunction((n=e.command)!=null?n:t))!=null?s:!1}catch{c=!1}if(e.definitionType==="symbol"){let d=new se({type:(a=e.type)!=null?a:"mord",mode:"math",command:(o=e.command)!=null?o:t,value:String.fromCodePoint(e.codepoint),isFunction:c,style:r});return t.startsWith("\\")&&(d.verbatimLatex=t),d}let u=new se({type:"mord",mode:"math",command:(l=e.command)!=null?l:t,value:t,isFunction:c,style:r});return t.startsWith("\\")&&(u.verbatimLatex=t),u}serialize(t,e){let r=cNe(t,G(P({},e),{defaultMode:"math"}));return r.length===0||e.defaultMode!=="text"?r:["$ ",...r," $"]}getFont(t,e){var r,n;if(e.variant,e.fontFamily){let[c,u]=Sz[e.fontFamily];return u&&(t.classes+=" "+u),c}let{variant:i}=e,{variantStyle:s}=e;if(i==="normal"&&!s&&/[\u00A3\u0131\u0237]/.test(t.value)&&(i="main",s="italic"),i==="normal"&&!s&&t.value.length===1){let c=!1;aNe.forEach((u,d)=>{var A;u.test(t.value)&&oNe[(A=e.letterShapeStyle)!=null?A:"tex"][d]==="it"&&(c=!0)}),c&&(s=iNe(s))}s==="up"&&(s=void 0);let a=s?i+"-"+s:i,[o,l]=Sz[a];if(GS[i]&&!GS[i].test(t.value)){let c=jS(t.value,i,s);return c||(c=(r=jS(t.value,i))!=null?r:t.value,t.classes+=(n={bold:" ML__bold",italic:" ML__it","bold-italic":" ML__bold ML__it"}[s??""])!=null?n:""),t.value=c,null}return Pre.test(t.value)&&(t.classes+=" lcGreek"),l&&(t.classes+=" "+l),o}};function cNe(t,e){return tc(t,"bold").map(r=>{if(zS(r[0])!=="bold"||zS(r[0].parent)==="bold")return lt(kv(r,e));let n=lt(r.map(i=>{var s;return(s=i.value)!=null?s:""}));return/^[a-zA-Z0-9]+$/.test(n)?qt("\\mathbf",lt(kv(r,e))):qt("\\bm",lt(kv(r,e)))})}function kv(t,e){let{parent:r}=t[0],n=HS(r);return tc(t,"variant").map(i=>{let s=HS(i[0]),a="";s&&s!==n&&(a={calligraphic:"\\mathcal","calligraphic-uo":"\\mathcal",fraktur:"\\mathfrak","fraktur-uo":"\\mathfrak","double-struck":"\\mathbb","double-struck-uo":"\\mathbb",script:"\\mathscr","script-uo":"\\mathscr",monospace:"\\mathtt","monospace-uo":"\\mathtt","sans-serif":"\\mathsf","sans-serif-uo":"\\mathsf",normal:"","normal-up":"\\mathrm","normal-italic":"\\mathnormal","normal-bold":"","normal-bolditalic":"\\mathbfit",ams:"","ams-up":"\\mathrm","ams-italic":"\\mathit","ams-bold":"","ams-bolditalic":"\\mathbfit",main:"","main-up":"\\mathrm","main-italic":"\\mathit","main-bold":"","main-bolditalic":"\\mathbfit"}[s]);let o=lt(i.map(l=>l._serialize(e)));return a?qt(a,o):o})}new lNe;function uNe(t,e){return t.map(r=>r._serialize(e))}function dNe(t,e){return tc(t,"fontShape").map(r=>{let n=uNe(r,e),{fontShape:i}=r[0].style,s="";return i==="it"&&(s="\\textit"),i==="sl"&&(s="\\textsl"),i==="sc"&&(s="\\textsc"),i==="n"&&(s="\\textup"),!s&&i?`{${qt("\\fontshape",i)}${lt(n)}}`:s?qt(s,lt(n)):lt(n)})}function hNe(t,e){return tc(t,"fontSeries").map(r=>{let n=dNe(r,e),{fontSeries:i}=r[0].style,s="";return i==="b"&&(s="\\textbf"),i==="l"&&(s="\\textlf"),i==="m"&&(s="\\textmd"),i&&!s?`{${qt("\\fontseries",i)}${lt(n)}}`:s?qt(s,lt(n)):lt(n)})}function ANe(t,e){return tc(t,"fontSize").map(r=>{var n,i;let s=hNe(r,e),a=(i=["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][(n=r[0].style.fontSize)!=null?n:""])!=null?i:"";return a?`${a} ${lt(s)}`:lt(s)})}function fNe(t,e,r){return tc(t,"fontFamily").map(n=>{var i;r=r&&!n.every(l=>l.style.fontFamily||l.style.fontShape||l.style.fontSeries||l.style.fontSize);let s=ANe(n,e),{fontFamily:a}=n[0].style,o=(i={roman:"textrm",monospace:"texttt","sans-serif":"textsf"}[a??""])!=null?i:"";return o?`\\${o}{${lt(s)}}`:a?`{\\fontfamily{${n[0].style.fontFamily}} ${lt(s)}}`:r?`\\text{${lt(s)}}`:lt(s)})}var _z={roman:"","sans-serif":"ML__sans",monospace:"ML__tt"},pNe=class extends hs{constructor(){super("text")}createAtom(t,e,r){return e&&e.definitionType==="symbol"?new Ff(t,String.fromCodePoint(e.codepoint),r??{}):null}serialize(t,e){return fNe(t,G(P({},e),{defaultMode:"text"}),e.defaultMode!=="text")}getFont(t,e){var r,n,i,s,a;let{fontFamily:o}=e;if(_z[o]?t.classes+=" "+_z[o]:o&&t.setStyle("font-family",o),e.fontShape&&(t.classes+=" ",t.classes+=(r={it:"ML__it",sl:"ML__shape_sl",sc:"ML__shape_sc",ol:"ML__shape_ol"}[e.fontShape])!=null?r:""),e.fontSeries){let l=e.fontSeries.match(/(.?[lbm])?(.?[cx])?/);l&&(t.classes+=" ",t.classes+=(i={ul:"ML__series_ul",el:"ML__series_el",l:"ML__series_l",sl:"ML__series_sl",m:"",sb:"ML__series_sb",b:"ML__bold",eb:"ML__series_eb",ub:"ML__series_ub"}[(n=l[1])!=null?n:""])!=null?i:"",t.classes+=" ",t.classes+=(a={uc:"ML__series_uc",ec:"ML__series_ec",c:"ML__series_c",sc:"ML__series_sc",n:"",sx:"ML__series_sx",x:"ML__series_x",ex:"ML__series_ex",ux:"ML__series_ux"}[(s=l[2])!=null?s:""])!=null?a:"")}return"Main-Regular"}};new pNe;var mNe=class extends hs{constructor(){super("latex")}createAtom(t){return new ln(t)}serialize(t,e){return t.filter(r=>r instanceof ln&&!r.isSuggestion).map(r=>r.value)}getFont(){return null}};new mNe;var gNe={id:"dvorak",locale:"en",displayName:"Dvorak",virtualLayout:"dvorak",platform:"",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["x","X","≈","˛"],KeyC:["j","J","∆","Ô"],KeyD:["e","E","´","´"],KeyE:[".",">","≥","˘"],KeyF:["u","U","¨","¨"],KeyG:["i","I","ˆ","ˆ"],KeyH:["d","D","∂","Î"],KeyI:["c","C","ç","Ç"],KeyJ:["h","H","˙","Ó"],KeyK:["t","T","†","ˇ"],KeyL:["n","N","˜","˜"],KeyM:["m","M","µ","Â"],KeyN:["b","B","∫","ı"],KeyO:["r","R","®","‰"],KeyP:["l","L","¬","Ò"],KeyQ:["'",'"',"æ","Æ"],KeyR:["p","P","π","∏"],KeyS:["o","O","ø","Ø"],KeyT:["y","Y","¥","Á"],KeyU:["g","G","©","˝"],KeyV:["k","K","˚",""],KeyW:[",","<","≤","¯"],KeyX:["q","Q","œ","Œ"],KeyY:["f","F","ƒ","Ï"],KeyZ:[";",":","…","Ú"],Digit1:["1","!","¡","⁄"],Digit2:["2","@","™","€"],Digit3:["3","#","£","‹"],Digit4:["4","$","¢","›"],Digit5:["5","%","∞","ﬁ"],Digit6:["6","^","§","ﬂ"],Digit7:["7","&","¶","‡"],Digit8:["8","*","•","°"],Digit9:["9","(","ª","·"],Digit0:["0",")","º","‚"],Space:[" "," "," "," "],Minus:["[","{","“","”"],Equal:["]","}","‘","’"],BracketLeft:["/","?","÷","¿"],BracketRight:["=","+","≠","±"],Backslash:["\\","|","«","»"],Semicolon:["s","S","ß","Í"],Quote:["-","_","–","—"],Backquote:["`","~","`","`"],Comma:["w","W","∑","„"],Period:["v","V","√","◊"],Slash:["z","Z","Ω","¸"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["§","±","§","±"],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}},XS={id:"apple.en-intl",displayName:"English (international)",virtualLayout:"qwerty",platform:"apple",locale:"en",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","∫","ı"],KeyC:["c","C","ç","Ç"],KeyD:["d","D","∂","Î"],KeyE:["e","E","´","´"],KeyF:["f","F","ƒ","Ï"],KeyG:["g","G","©","˝"],KeyH:["h","H","˙","Ó"],KeyI:["i","I","ˆ","ˆ"],KeyJ:["j","J","∆","Ô"],KeyK:["k","K","˚",""],KeyL:["l","L","¬","Ò"],KeyM:["m","M","µ","Â"],KeyN:["n","N","˜","˜"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","œ","Œ"],KeyR:["r","R","®","‰"],KeyS:["s","S","ß","Í"],KeyT:["t","T","†","ˇ"],KeyU:["u","U","¨","¨"],KeyV:["v","V","√","◊"],KeyW:["w","W","∑","„"],KeyX:["x","X","≈","˛"],KeyY:["y","Y","¥","Á"],KeyZ:["z","Z","Ω","¸"],Digit1:["1","!","¡","⁄"],Digit2:["2","@","™","€"],Digit3:["3","#","£","‹"],Digit4:["4","$","¢","›"],Digit5:["5","%","∞","ﬁ"],Digit6:["6","^","§","ﬂ"],Digit7:["7","&","¶","‡"],Digit8:["8","*","•","°"],Digit9:["9","(","ª","·"],Digit0:["0",")","º","‚"],Space:[" "," "," "," "],Minus:["-","_","–","—"],Equal:["=","+","≠","±"],BracketLeft:["[","{","“","”"],BracketRight:["]","}","‘","’"],Backslash:["\\","|","«","»"],Semicolon:[";",":","…","Ú"],Quote:["'",'"',"æ","Æ"],Backquote:["`","˜","`","`"],Comma:[",","<","≤","¯"],Period:[".",">","≥","˘"],Slash:["/","?","÷","¿"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["§","±","§","±"],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}},Ure={id:"windows.en-intl",displayName:"English (international)",platform:"windows",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","á","Á"],KeyB:["b","B","",""],KeyC:["c","C","©","¢"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","é","É"],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","í","Í"],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","ø","Ø"],KeyM:["m","M","µ",""],KeyN:["n","N","ñ","Ñ"],KeyO:["o","O","ó","Ó"],KeyP:["p","P","ö","Ö"],KeyQ:["q","Q","ä","Ä"],KeyR:["r","R","®",""],KeyS:["s","S","ß","§"],KeyT:["t","T","þ","Þ"],KeyU:["u","U","ú","Ú"],KeyV:["v","V","",""],KeyW:["w","W","å","Å"],KeyX:["x","X","",""],KeyY:["y","Y","ü","Ü"],KeyZ:["z","Z","æ","Æ"],Digit1:["1","!","¡","¹"],Digit2:["2","@","²",""],Digit3:["3","#","³",""],Digit4:["4","$","¤","£"],Digit5:["5","%","€",""],Digit6:["6","^","¼",""],Digit7:["7","&","½",""],Digit8:["8","*","¾",""],Digit9:["9","(","‘",""],Digit0:["0",")","’",""],Space:[" "," ","",""],Minus:["-","_","¥",""],Equal:["=","+","×","÷"],BracketLeft:["[","{","«",""],BracketRight:["]","}","»",""],Backslash:["\\","|","¬","¦"],Semicolon:[";",":","¶","°"],Quote:["'",'"',"´","¨"],Backquote:["`","~","",""],Comma:[",","<","ç","Ç"],Period:[".",">","",""],Slash:["/","?","¿",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\\","|","",""]}},Rre={id:"linux.en",displayName:"English",platform:"linux",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","a","A"],KeyB:["b","B","b","B"],KeyC:["c","C","c","C"],KeyD:["d","D","d","D"],KeyE:["e","E","e","E"],KeyF:["f","F","f","F"],KeyG:["g","G","g","G"],KeyH:["h","H","h","H"],KeyI:["i","I","i","I"],KeyJ:["j","J","j","J"],KeyK:["k","K","k","K"],KeyL:["l","L","l","L"],KeyM:["m","M","m","M"],KeyN:["n","N","n","N"],KeyO:["o","O","o","O"],KeyP:["p","P","p","P"],KeyQ:["q","Q","q","Q"],KeyR:["r","R","r","R"],KeyS:["s","S","s","S"],KeyT:["t","T","t","T"],KeyU:["u","U","u","U"],KeyV:["v","V","v","V"],KeyW:["w","W","w","W"],KeyX:["x","X","x","X"],KeyY:["y","Y","y","Y"],KeyZ:["z","Z","z","Z"],Digit1:["1","!","1","!"],Digit2:["2","@","2","@"],Digit3:["3","#","3","#"],Digit4:["4","$","4","$"],Digit5:["5","%","5","%"],Digit6:["6","^","6","^"],Digit7:["7","&","7","&"],Digit8:["8","*","8","*"],Digit9:["9","(","9","("],Digit0:["0",")","0",")"],Space:[" "," "," "," "],Minus:["-","_","-","_"],Equal:["=","+","=","+"],BracketLeft:["[","{","[","{"],BracketRight:["]","}","]","}"],Backslash:["\\","|","\\","|"],Semicolon:[";",":",";",":"],Quote:["'",'"',"'",'"'],Backquote:["`","~","`","~"],Comma:[",","<",",","<"],Period:[".",">",".",">"],Slash:["/","?","/","?"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}},yNe={id:"apple.french",locale:"fr",displayName:"French",platform:"apple",virtualLayout:"azerty",score:0,mapping:{KeyA:["q","Q","‡","Ω"],KeyB:["b","B","ß","∫"],KeyC:["c","C","©","¢"],KeyD:["d","D","∂","∆"],KeyE:["e","E","ê","Ê"],KeyF:["f","F","ƒ","·"],KeyG:["g","G","ﬁ","ﬂ"],KeyH:["h","H","Ì","Î"],KeyI:["i","I","î","ï"],KeyJ:["j","J","Ï","Í"],KeyK:["k","K","È","Ë"],KeyL:["l","L","¬","|"],KeyM:[",","?","∞","¿"],KeyN:["n","N","~","ı"],KeyO:["o","O","œ","Œ"],KeyP:["p","P","π","∏"],KeyQ:["a","A","æ","Æ"],KeyR:["r","R","®","‚"],KeyS:["s","S","Ò","∑"],KeyT:["t","T","†","™"],KeyU:["u","U","º","ª"],KeyV:["v","V","◊","√"],KeyW:["z","Z","Â","Å"],KeyX:["x","X","≈","⁄"],KeyY:["y","Y","Ú","Ÿ"],KeyZ:["w","W","‹","›"],Digit1:["&","1","","´"],Digit2:["é","2","ë","„"],Digit3:['"',"3","“","”"],Digit4:["'","4","‘","’"],Digit5:["(","5","{","["],Digit6:["§","6","¶","å"],Digit7:["è","7","«","»"],Digit8:["!","8","¡","Û"],Digit9:["ç","9","Ç","Á"],Digit0:["à","0","ø","Ø"],Space:[" "," "," "," "],Minus:[")","°","}","]"],Equal:["-","_","—","–"],BracketLeft:["^","¨","ô","Ô"],BracketRight:["$","*","€","¥"],Backslash:["`","£","@","#"],Semicolon:["m","M","µ","Ó"],Quote:["ù","%","Ù","‰"],Backquote:["<",">","≤","≥"],Comma:[";",".","…","•"],Period:[":","/","÷","\\"],Slash:["=","+","≠","±"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",".",",","."],IntlBackslash:["@","#","•","Ÿ"],NumpadEqual:["=","=","=","="]}},vNe={id:"windows.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"windows",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:[",","?","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["é","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{",""],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["è","7","`",""],Digit8:["_","8","\\",""],Digit9:["ç","9","^",""],Digit0:["à","0","@",""],Space:[" "," ","",""],Minus:[")","°","]",""],Equal:["=","+","}",""],BracketLeft:["^","¨","",""],BracketRight:["$","£","¤",""],Backslash:["*","µ","",""],Semicolon:["m","M","",""],Quote:["ù","%","",""],Backquote:["²","","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","§","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}},xNe={id:"linux.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"linux",score:0,mapping:{KeyA:["q","Q","@","Ω"],KeyB:["b","B","”","’"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","¢"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̉","̛"],KeyK:["k","K","ĸ","&"],KeyL:["l","L","ł","Ł"],KeyM:[",","?","́","̋"],KeyN:["n","N","n","N"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["a","A","æ","Æ"],KeyR:["r","R","¶","®"],KeyS:["s","S","ß","§"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","“","‘"],KeyW:["z","Z","«","<"],KeyX:["x","X","»",">"],KeyY:["y","Y","←","¥"],KeyZ:["w","W","ł","Ł"],Digit1:["&","1","¹","¡"],Digit2:["é","2","~","⅛"],Digit3:['"',"3","#","£"],Digit4:["'","4","{","$"],Digit5:["(","5","[","⅜"],Digit6:["-","6","|","⅝"],Digit7:["è","7","`","⅞"],Digit8:["_","8","\\","™"],Digit9:["ç","9","^","±"],Digit0:["à","0","@","°"],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:[")","°","]","¿"],Equal:["=","+","}","̨"],BracketLeft:["̂","̈","̈","̊"],BracketRight:["$","£","¤","̄"],Backslash:["*","µ","̀","̆"],Semicolon:["m","M","µ","º"],Quote:["ù","%","̂","̌"],Backquote:["²","~","¬","¬"],Comma:[";",".","─","×"],Period:[":","/","·","÷"],Slash:["!","§","̣","̇"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"]}},bNe={id:"apple.german",locale:"de",displayName:"German",virtualLayout:"qwertz",platform:"apple",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","∫","‹"],KeyC:["c","C","ç","Ç"],KeyD:["d","D","∂","™"],KeyE:["e","E","€","‰"],KeyF:["f","F","ƒ","Ï"],KeyG:["g","G","©","Ì"],KeyH:["h","H","ª","Ó"],KeyI:["i","I","⁄","Û"],KeyJ:["j","J","º","ı"],KeyK:["k","K","∆","ˆ"],KeyL:["l","L","@","ﬂ"],KeyM:["m","M","µ","˘"],KeyN:["n","N","~","›"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","«","»"],KeyR:["r","R","®","¸"],KeyS:["s","S","‚","Í"],KeyT:["t","T","†","˝"],KeyU:["u","U","¨","Á"],KeyV:["v","V","√","◊"],KeyW:["w","W","∑","„"],KeyX:["x","X","≈","Ù"],KeyY:["z","Z","Ω","ˇ"],KeyZ:["y","Y","¥","‡"],Digit1:["1","!","¡","¬"],Digit2:["2",'"',"“","”"],Digit3:["3","§","¶","#"],Digit4:["4","$","¢","£"],Digit5:["5","%","[","ﬁ"],Digit6:["6","&","]","^"],Digit7:["7","/","|","\\"],Digit8:["8","(","{","˜"],Digit9:["9",")","}","·"],Digit0:["0","=","≠","¯"],Space:[" "," "," "," "],Minus:["ß","?","¿","˙"],Equal:["´","`","'","˚"],BracketLeft:["ü","Ü","•","°"],BracketRight:["+","*","±",""],Backslash:["#","'","‘","’"],Semicolon:["ö","Ö","œ","Œ"],Quote:["ä","Ä","æ","Æ"],Backquote:["<",">","≤","≥"],Comma:[",",";","∞","˛"],Period:[".",":","…","÷"],Slash:["-","_","–","—"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",",",".","."],IntlBackslash:["^","°","„","“"],NumpadEqual:["=","=","=","="]}},wNe={id:"windows.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","µ",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"²",""],Digit3:["3","§","³",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","=","}",""],Space:[" "," ","",""],Minus:["ß","?","\\","ẞ"],Equal:["´","`","",""],BracketLeft:["ü","Ü","",""],BracketRight:["+","*","~",""],Backslash:["#","'","",""],Semicolon:["ö","Ö","",""],Quote:["ä","Ä","",""],Backquote:["^","°","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","|",""]}},CNe={id:"linux.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","æ","Æ"],KeyB:["b","B","“","‘"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","€"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̣","̇"],KeyK:["k","K","ĸ","&"],KeyL:["l","L","ł","Ł"],KeyM:["m","M","µ","º"],KeyN:["n","N","”","’"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["q","Q","@","Ω"],KeyR:["r","R","¶","®"],KeyS:["s","S","ſ","ẞ"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","„","‚"],KeyW:["w","W","ł","Ł"],KeyX:["x","X","«","‹"],KeyY:["z","Z","←","¥"],KeyZ:["y","Y","»","›"],Digit1:["1","!","¹","¡"],Digit2:["2",'"',"²","⅛"],Digit3:["3","§","³","£"],Digit4:["4","$","¼","¤"],Digit5:["5","%","½","⅜"],Digit6:["6","&","¬","⅝"],Digit7:["7","/","{","⅞"],Digit8:["8","(","[","™"],Digit9:["9",")","]","±"],Digit0:["0","=","}","°"],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:["ß","?","\\","¿"],Equal:["́","̀","̧","̨"],BracketLeft:["ü","Ü","̈","̊"],BracketRight:["+","*","~","¯"],Backslash:["#","'","’","̆"],Semicolon:["ö","Ö","̋","̣"],Quote:["ä","Ä","̂","̌"],Backquote:["̂","°","′","″"],Comma:[",",";","·","×"],Period:[".",":","…","÷"],Slash:["-","_","–","—"],PrintScreen:["","","",""],PageUp:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",",","",","],IntlBackslash:["<",">","|","̱"],AltRight:["\r","\r","\r","\r"],MetaRight:[".",".",".","."]}},BNe={id:"apple.spanish",locale:"es",displayName:"Spanish ISO",platform:"apple",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","ß",""],KeyC:["c","C","©"," "],KeyD:["d","D","∂","∆"],KeyE:["e","E","€","€"],KeyF:["f","F","ƒ","ﬁ"],KeyG:["g","G","","ﬂ"],KeyH:["h","H","™"," "],KeyI:["i","I"," "," "],KeyJ:["j","J","¶","¯"],KeyK:["k","K","§","ˇ"],KeyL:["l","L"," ","˘"],KeyM:["m","M","µ","˚"],KeyN:["n","N"," ","˙"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","œ","Œ"],KeyR:["r","R","®"," "],KeyS:["s","S","∫"," "],KeyT:["t","T","†","‡"],KeyU:["u","U"," "," "],KeyV:["v","V","√","◊"],KeyW:["w","W","æ","Æ"],KeyX:["x","X","∑","›"],KeyY:["y","Y","¥"," "],KeyZ:["z","Z","Ω","‹"],Digit1:["1","!","|","ı"],Digit2:["2",'"',"@","˝"],Digit3:["3","·","#","•"],Digit4:["4","$","¢","£"],Digit5:["5","%","∞","‰"],Digit6:["6","&","¬"," "],Digit7:["7","/","÷","⁄"],Digit8:["8","(","“","‘"],Digit9:["9",")","”","’"],Digit0:["0","=","≠","≈"],Space:[" "," "," "," "],Minus:["'","?","´","¸"],Equal:["¡","¿","‚","˛"],BracketLeft:["`","^","[","ˆ"],BracketRight:["+","*","]","±"],Backslash:["ç","Ç","}","»"],Semicolon:["ñ","Ñ","~","˜"],Quote:["´","¨","{","«"],Backquote:["<",">","≤","≥"],Comma:[",",";","„",""],Period:[".",":","…","…"],Slash:["-","_","–","—"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[",",",",",",","],IntlBackslash:["º","ª","\\","°"]}},SNe={id:"windows.spanish",locale:"es",displayName:"Spanish",platform:"windows",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","·","#",""],Digit4:["4","$","~",""],Digit5:["5","%","€",""],Digit6:["6","&","¬",""],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","=","",""],Space:[" "," ","",""],Minus:["'","?","",""],Equal:["¡","¿","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["ç","Ç","}",""],Semicolon:["ñ","Ñ","",""],Quote:["´","¨","{",""],Backquote:["º","ª","\\",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}},_Ne={id:"linux.spanish",locale:"es",displayName:"Spanish",platform:"linux",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","æ","Æ"],KeyB:["b","B","”","’"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","¢"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̉","̛"],KeyK:["k","K","ĸ","&"],KeyL:["l","L","ł","Ł"],KeyM:["m","M","µ","º"],KeyN:["n","N","n","N"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["q","Q","@","Ω"],KeyR:["r","R","¶","®"],KeyS:["s","S","ß","§"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","“","‘"],KeyW:["w","W","ł","Ł"],KeyX:["x","X","»",">"],KeyY:["y","Y","←","¥"],KeyZ:["z","Z","«","<"],Digit1:["1","!","|","¡"],Digit2:["2",'"',"@","⅛"],Digit3:["3","·","#","£"],Digit4:["4","$","~","$"],Digit5:["5","%","½","⅜"],Digit6:["6","&","¬","⅝"],Digit7:["7","/","{","⅞"],Digit8:["8","(","[","™"],Digit9:["9",")","]","±"],Digit0:["0","=","}","°"],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:["'","?","\\","¿"],Equal:["¡","¿","̃","~"],BracketLeft:["̀","̂","[","̊"],BracketRight:["+","*","]","̄"],Backslash:["ç","Ç","}","̆"],Semicolon:["ñ","Ñ","~","̋"],Quote:["́","̈","{","{"],Backquote:["º","ª","\\","\\"],Comma:[",",";","─","×"],Period:[".",":","·","÷"],Slash:["-","_","̣","̇"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadEnter:["\r","\r","\r","\r"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}};function Qre(t){let e=t.split("+"),r={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:e.pop()};return e.includes("shift")&&(r.shift=!0),e.includes("alt")&&(r.alt=!0),e.includes("ctrl")&&(r.ctrl=!0),e.includes("cmd")&&(r.cmd=!0),e.includes("win")&&(r.win=!0),e.includes("meta")&&(r.meta=!0),r}function nA(t){let e="";return t.shift&&(e+="shift+"),t.alt&&(e+="alt+"),t.ctrl&&(e+="ctrl+"),t.cmd&&(e+="cmd+"),t.win&&(e+="win+"),t.meta&&(e+="meta+"),e+t.key}var kNe={enter:"[Enter]",escape:"[Escape]",backspace:"[Backspace]",tab:"[Tab]",space:"[Space]",pausebreak:"[Pause]",insert:"[Insert]",home:"[Home]",pageup:"[PageUp]",delete:"[Delete]",end:"[End]",pagedown:"[PageDown]",right:"[ArrowRight]",left:"[ArrowLeft]",down:"[ArrowDown]",up:"[ArrowUp]",numpad0:"[Numpad0]",numpad1:"[Numpad1]",numpad2:"[Numpad2]",numpad3:"[Numpad3]",numpad4:"[Numpad4]",numpad5:"[Numpad5]",numpad6:"[Numpad6]",numpad7:"[Numpad7]",numpad8:"[Numpad8]",numpad9:"[Numpad9]",numpad_divide:"[NumpadDivide]",numpad_multiply:"[NumpadMultiply]",numpad_subtract:"[NumpadSubtract]",numpad_add:"[NumpadAdd]",numpad_decimal:"[NumpadDecimal]",numpad_separator:"[NumpadComma]",capslock:"[Capslock]",f1:"[F1]",f2:"[F2]",f3:"[F3]",f4:"[F4]",f5:"[F5]",f6:"[F6]",f7:"[F7]",f8:"[F8]",f9:"[F9]",f10:"[F10]",f11:"[F11]",f12:"[F12]",f13:"[F13]",f14:"[F14]",f15:"[F15]",f16:"[F16]",f17:"[F17]",f18:"[F18]",f19:"[F19]"},S3=[];function GF(){switch(Mf()){case"macos":case"ios":return"apple";case"windows":return"windows"}return"linux"}function is(t){(!t.platform||t.platform===GF())&&S3.push(t)}function ENe(t,e){var r;let n={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:""};if(!t)return n;for(let[i,s]of Object.entries(e.mapping)){if(s[0]===t)return n.key=`[${i}]`,n;if(s[1]===t)return n.shift=!0,n.key=`[${i}]`,n;if(s[2]===t)return n.alt=!0,n.key=`[${i}]`,n;if(s[3]===t)return n.shift=!0,n.alt=!0,n.key=`[${i}]`,n}return n.key=(r=kNe[t])!=null?r:"",n}function MNe(t){if(t.code)return t;let e=Object.entries(i1().mapping),r=!1,n=!1,i="";for(let s=0;s<4;s++){for(let[a,o]of e)if(o[s]===t.key){i=a,s===3?(r=!0,n=!0):s===2?r=!0:s===1&&(n=!0);break}if(i)break}return new KeyboardEvent(t.type,G(P({},t),{altKey:r,shiftKey:n,code:i}))}function FNe(t){var e,r;if(!t||t.key==="Unidentified"||t.key==="Dead")return;let n=t.shiftKey&&t.altKey?3:t.altKey?2:t.shiftKey?1:0;for(let i of S3)((e=i.mapping[t.code])==null?void 0:e[n])===t.key?i.score+=1:(r=i.mapping[t.code])!=null&&r[n]&&(i.score=0);S3.sort((i,s)=>s.score-i.score)}function i1(){return S3[0]}function TNe(){switch(GF()){case"apple":return XS;case"windows":return Ure;case"linux":return Rre}return XS}switch(GF()){case"apple":is(XS),is(yNe),is(BNe),is(bNe);break;case"windows":is(Ure),is(vNe),is(SNe),is(wNe);break;case"linux":is(Rre),is(xNe),is(_Ne),is(CNe);break}is(gNe);function XF(t){var e;let r=/macos|ios/.test(Mf()),n=t.split("+"),i="";for(let s of n)i&&(i+=r?" ":'<span class="ML__shortcut-join">+</span>'),s.startsWith("[Key")?i+=s.slice(4,5):s.startsWith("Key")?i+=s.slice(3,4):s.startsWith("[Digit")?i+=s.slice(6,7):s.startsWith("Digit")?i+=s.slice(5,6):i+=(e={cmd:"⌘",meta:r?"⌘":"Ctrl",shift:r?"⇧":"Shift",alt:r?"⌥":"Alt",ctrl:r?"⌃":"Ctrl","\n":r?"⏎":"Return","[return]":r?"⏎":"Return","[enter]":r?"⌤":"Enter","[tab]":r?"⇥":"Tab","[escape]":"Esc","[backspace]":r?"⌫":"Backspace","[delete]":r?"⌦":"Del","[pageup]":r?"⇞":"Page Up","[pagedown]":r?"⇟":"Page Down","[home]":r?"⤒":"Home","[end]":r?"⤓":"End","[space]":"Space","[equal]":"=","[minus]":"-","[comma]":",","[slash]":"/","[backslash]":"\\","[bracketleft]":"[","[bracketright]":"]",semicolon:";",period:".",comma:",",minus:"-",equal:"=",quote:"'",backslash:"\\",intlbackslash:"\\",backquote:"`",slash:"/",numpadmultiply:"* &#128290;",numpaddivide:"/ &#128290;",numpadsubtract:"- &#128290;",numpadadd:"+ &#128290;",numpaddecimal:". &#128290;",numpadcomma:", &#128290;",help:"help",left:"⇠",up:"⇡",right:"⇢",down:"⇣","[arrowleft]":"⇠","[arrowup]":"⇡","[arrowright]":"⇢","[arrowdown]":"⇣"}[s.toLowerCase()])!=null?e:s.toUpperCase();return i}function _3(t){if(t instanceof MouseEvent||t instanceof PointerEvent)return{x:t.clientX,y:t.clientY};if(typeof TouchEvent<"u"&&t instanceof TouchEvent){let e=[...t.touches].reduce((n,i)=>({x:n.x+i.clientX,y:n.y+i.clientY}),{x:0,y:0}),r=t.touches.length;return{x:e.x/r,y:e.y/r}}}function Wd(t){let e={alt:!1,control:!1,shift:!1,meta:!1};return(t instanceof MouseEvent||t instanceof PointerEvent||typeof TouchEvent<"u"&&t instanceof TouchEvent||t instanceof KeyboardEvent)&&(t.altKey&&(e.alt=!0),t.ctrlKey&&(e.control=!0),t.metaKey&&(e.meta=!0),t.shiftKey&&(e.shift=!0)),e}function DNe(t,e){return!t&&e||t&&!e?!1:!t||!e?!0:t.alt===e.alt&&t.control===e.control&&t.shift===e.shift&&t.meta===e.meta}var LNe=new Set(["Backquote","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Minus","Equal","IntlYen","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","IntlBackslash","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","IntlRo","Space","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadAdd","NumpadComma","NumpadDecimal","NumpadDivide","NumpadEqual","NumpadHash","NumpadMultiply","NumpadParenLeft","NumpadParenRight","NumpadStar","NumpadSubstract"]);function T5(t){return t.ctrlKey||t.metaKey||["Dead","Process"].includes(t.key)?!1:t.code===""?!0:LNe.has(t.code)}function k3(){var t;let e=document.activeElement;for(;(t=e==null?void 0:e.shadowRoot)!=null&&t.activeElement;)e=e.shadowRoot.activeElement;return e}var Ba=class nl{static get scrim(){return nl._scrim||(nl._scrim=new nl),nl._scrim}static open(e){nl.scrim.open(e)}static close(){nl.scrim.close()}static get state(){return nl.scrim.state}static get element(){return nl.scrim.element}constructor(e){var r,n;this.lightDismiss=(r=e==null?void 0:e.lightDismiss)!=null?r:!0,this.translucent=(n=e==null?void 0:e.translucent)!=null?n:!1,this.state="closed"}get element(){if(this._element)return this._element;let e=document.createElement("div");return e.setAttribute("role","presentation"),e.style.position="fixed",e.style.contain="content",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.zIndex="var(--scrim-zindex, 10099)",e.style.outline="none",this.translucent?(e.style.background="rgba(255, 255, 255, .2)",e.style.backdropFilter="contrast(40%)"):e.style.background="transparent",this._element=e,e}open(e){var r;if(this.state!=="closed")return;this.state="opening",this.onDismiss=e==null?void 0:e.onDismiss,this.savedActiveElement=k3();let{element:n}=this;((r=e==null?void 0:e.root)!=null?r:document.body).appendChild(n),n.addEventListener("click",this),document.addEventListener("touchmove",this,!1),document.addEventListener("scroll",this,!1);let i=window.innerWidth-document.documentElement.clientWidth;this.savedMarginRight=document.body.style.marginRight,this.savedOverflow=document.body.style.overflow,document.body.style.overflow="hidden";let s=Number.parseFloat(getComputedStyle(document.body).marginRight);document.body.style.marginRight=`${s+i}px`,e!=null&&e.child&&n.append(e.child),this.state="open"}close(){var e,r,n,i;if(this.state!=="open"){this.element.parentElement;return}this.state="closing",typeof this.onDismiss=="function"&&this.onDismiss(),this.onDismiss=void 0;let{element:s}=this;s.removeEventListener("click",this),document.removeEventListener("touchmove",this,!1),document.removeEventListener("scroll",this,!1),s.remove(),document.body.style.overflow=(e=this.savedOverflow)!=null?e:"",document.body.style.marginRight=(r=this.savedMarginRight)!=null?r:"",k3()!==this.savedActiveElement&&((i=(n=this.savedActiveElement)==null?void 0:n.focus)==null||i.call(n)),s.innerHTML="",this.state="closed"}handleEvent(e){this.lightDismiss&&(e.target===this._element&&e.type==="click"?(this.close(),e.preventDefault(),e.stopPropagation()):e.target===document&&(e.type==="touchmove"||e.type==="scroll")&&(this.close(),e.preventDefault(),e.stopPropagation()))}};function NNe(t,e,r){let n=null,i=null,s=!1,a=!1,o=!1,l=new AbortController,c=l.signal;return t.addEventListener("keydown",u=>{if(s||u.key==="Process"||u.code==="CapsLock"||/(Control|Meta|Alt|Shift)(Left|Right)/.test(u.code)){n=null;return}n=u,i=null,r.onKeystroke(u)?t.textContent="":n=null},{capture:!0,signal:c}),t.addEventListener("keypress",u=>{s||(n&&i&&r.onKeystroke(n),i=u)},{capture:!0,signal:c}),t.addEventListener("compositionstart",u=>{t.textContent="",s=!0,r.onCompositionStart(u.data)},{capture:!0,signal:c}),t.addEventListener("compositionupdate",u=>{s&&r.onCompositionUpdate(u.data)},{capture:!0,signal:c}),t.addEventListener("compositionend",u=>{t.textContent="",s&&(s=!1,r.onCompositionEnd(u.data))},{capture:!0,signal:c}),t.addEventListener("beforeinput",u=>u.stopImmediatePropagation(),{signal:c}),t.addEventListener("input",u=>{var d;if(!s&&(t.textContent="",u.inputType!=="insertCompositionText")){if(u.inputType==="insertFromPaste"){u.preventDefault(),u.stopPropagation();return}r.onInput((d=u.data)!=null?d:""),u.preventDefault(),u.stopPropagation()}},{signal:c}),t.addEventListener("paste",u=>{t.focus({preventScroll:!0}),t.textContent="",r.onPaste(u)||u.preventDefault(),u.stopImmediatePropagation()},{signal:c}),t.addEventListener("cut",u=>r.onCut(u),{capture:!0,signal:c}),t.addEventListener("copy",u=>r.onCopy(u),{capture:!0,signal:c}),t.addEventListener("blur",u=>{var d,A;if(((A=(d=u.relatedTarget)==null?void 0:d._mathfield)==null?void 0:A.element)===e){t.focus({preventScroll:!0}),u.preventDefault(),u.stopPropagation();return}let f=!1,p=u.relatedTarget;for(;p;){if(p.classList.contains("ML__keyboard")){f=!0;break}p=p.parentElement}if(f){t.focus({preventScroll:!0}),u.preventDefault(),u.stopPropagation();return}let m=Ba.state;if(m==="open"||m==="opening"){u.preventDefault(),u.stopPropagation();return}if(u.relatedTarget===u.target.getRootNode().host){u.preventDefault(),u.stopPropagation();return}o||a||(o=!0,n=null,i=null,r.onBlur(),o=!1)},{capture:!0,signal:c}),t.addEventListener("focus",u=>{o||a||(a=!0,r.onFocus(),a=!1)},{capture:!0,signal:c}),{dispose:()=>l.abort(),cancelComposition:()=>{s&&(t.blur(),requestAnimationFrame(()=>t.focus({preventScroll:!0})))},blur:()=>{typeof t.blur=="function"&&t.blur()},focus:()=>{!a&&typeof t.focus=="function"&&t.focus({preventScroll:!0})},hasFocus:()=>k3()===t,setAriaLabel:u=>t.setAttribute("aria-label",u),setValue:u=>{var d;t.textContent!==u&&(t.textContent=u,t.style.left="-1000px",(d=window.getSelection())==null||d.selectAllChildren(t))},moveTo:(u,d)=>{t.style.top=`${d}px`,t.style.left=`${u}px`}}}function Mh(t){var e;if(!t||!T5(t))return"";let r;return t.key==="Unidentified"&&t.target&&(r=t.target.value),r=(e=r??t.key)!=null?e:t.code,/^(Dead|Return|Enter|Tab|Escape|Delete|PageUp|PageDown|Home|End|Help|ArrowLeft|ArrowRight|ArrowUp|ArrowDown)$/.test(r)&&(r=""),r}function zre(t){t=MNe(t);let e=[];return t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),t.altKey&&e.push("alt"),t.shiftKey&&e.push("shift"),e.length===0?`[${t.code}]`:(e.push(`[${t.code}]`),e.join("+"))}function jNe(t){if(sa()){let e=Mf(),r=t.startsWith("!"),n=t.endsWith(e);if(r&&!n||!r&&n)return!0}return t==="!other"?!1:t==="other"}function INe(t,e,r){if(t.length===0)return"";let n=nA(Qre(zre(r))),i=nA({key:r.key,shift:r.shiftKey,alt:r.altKey,ctrl:r.ctrlKey,meta:r.metaKey||r.ctrlKey&&/macos|ios/.test(Mf()),cmd:!1,win:!1});for(let s=t.length-1;s>=0;s--)if((t[s].key===n||t[s].key===i)&&(!t[s].ifMode||t[s].ifMode===e))return t[s].command;return""}function kz(t){let e=t;return Bn(e)&&(e=e.length>0?e[0]+"("+e.slice(1).join("")+")":""),e}function ONe(t,e){let r=[];if(typeof e=="string"){let s=gLe[e];Bn(s)?r=s.slice():s&&r.push(s)}let n=kz(e),i=new RegExp("^"+n.replace("\\","\\\\").replace("|","\\|").replace("*","\\*").replace("$","\\$").replace("^","\\^")+"([^*a-zA-Z]|$)");for(let s of t)i.test(kz(s.command))&&r.push(s.key);return r.map(XF)}function PNe(t,e){if(t.ifPlatform&&!/^!?(macos|windows|android|ios|chromeos|other)$/.test(t.ifPlatform))throw new Error(`Unexpected platform "${t.ifPlatform}" for keybinding ${t.key}`);if(t.ifLayout!==void 0&&(e.score===0||!t.ifLayout.includes(e.id)))return;let r=Qre(t.key),n=t.ifPlatform;if(r.cmd){if(n&&n!=="macos"&&n!=="ios")throw new Error('Unexpected "cmd" modifier with platform "'+n+`"
"cmd" modifier can only be used with macOS or iOS platform.`);n||(n=Mf()==="ios"?"ios":"macos"),r.win=!1,r.cmd=!1,r.meta=!0}if(r.win){if(n&&n!=="windows")throw new Error('Unexpected "win" modifier with platform "'+n+`"
"win" modifier can only be used with Windows platform.`);n="windows",r.win=!1,r.cmd=!1,r.meta=!0}if(n&&!jNe(n))return;if(/^\[.+\]$/.test(r.key))return G(P({},t),{key:nA(r)});let i=ENe(r.key,e);if(!i)return G(P({},t),{key:nA(r)});if(i.shift&&r.shift||i.alt&&r.alt)throw new Error(`The keybinding ${t.key} (${YS(t.command)}) is conflicting with the key combination ${nA(i)} using the ${e.displayName} keyboard layout`);return i.shift=i.shift||r.shift,i.alt=i.alt||r.alt,i.meta=r.meta,i.ctrl=r.ctrl,G(P({},t),{key:nA(i)})}function YS(t){if(Array.isArray(t)){let e=[...t];return e.shift()+"("+e.map(r=>typeof r=="string"?`"${r}"`:r.toString()).join(", ")+")"}return t}function UNe(t,e){let r=[],n=[];for(let i of t)try{let s=PNe(i,e);if(!s)continue;let a=n.find(o=>o.key===s.key&&o.ifMode===s.ifMode);if(a)throw new Error(`Ambiguous key binding ${i.key} (${YS(i.command)}) matches ${a.key} (${YS(a.command)}) with the ${e.displayName} keyboard layout`);n.push(s)}catch(s){s instanceof Error&&r.push(s.message)}return[n,r]}var RNe=class extends $t{constructor(){super("latex")}createAtom(t){return new ln(t)}onPaste(t,e){if(!e)return!1;let r=typeof e=="string"?e:e.getData("application/x-latex")||e.getData("text/plain");return r&&t.model.contentWillChange({inputType:"insertFromPaste",data:r})?(t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,r)&&(t.startRecording(),t.snapshot("paste"),t.model.contentDidChange({inputType:"insertFromPaste"}),ir(t)),t.startRecording(),!0):!1}insert(t,e,r){if(!t.contentWillChange({data:e,inputType:"insertText"}))return!1;r||(r={}),r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder");let{silenceNotifications:n}=t;r.silenceNotifications&&(t.silenceNotifications=!0);let i=t.silenceNotifications;t.silenceNotifications=!0,r.insertionMode==="replaceSelection"&&!t.selectionIsCollapsed?t.deleteAtoms(On(t.selection)):r.insertionMode==="replaceAll"?(t.root.setChildren([],"body"),t.position=0):r.insertionMode==="insertBefore"?t.collapseSelection("backward"):r.insertionMode==="insertAfter"&&t.collapseSelection("forward");let s=[];for(let l of e)PDe.test(l)&&s.push(new ln(l));let a=t.at(t.position);if(a instanceof Vm&&(a=a.lastChild),!(a.parent instanceof Vm)){let l=new Vm;a.parent.addChildAfter(l,a),a=l.firstChild}let o=a.parent.addChildrenAfter(s,a);return t.silenceNotifications=i,r.selectionMode==="before"||(r.selectionMode==="item"?t.setSelection(t.anchor,t.offsetOf(o)):o&&(t.position=t.offsetOf(o))),t.contentDidChange({data:e,inputType:"insertText"}),t.silenceNotifications=n,!0}};function YF(t){return t.atoms.find(e=>e.type==="latexgroup")}function E3(t){var e,r;let n=YF(t);return(r=(e=n==null?void 0:n.body)==null?void 0:e.filter(i=>i.type==="latex"))!=null?r:[]}function Hre(t,e){var r;let n=0,i=!1,s=Number.isFinite(e==null?void 0:e.before)?(r=e==null?void 0:e.before)!=null?r:0:t.lastOffset;for(;n<=s&&!i;){let l=t.at(n);i=l instanceof ln&&l.isSuggestion,i||n++}if(!i)return[void 0,void 0];let a=n,o=!1;for(;a<=s&&!o;){let l=t.at(a);o=!(l instanceof ln&&l.isSuggestion),o||a++}return[n-1,a-1]}new RNe;function QNe(t,e){t.flushInlineShortcutBuffer(),t.stopCoalescingUndo();let r=JS(t,e),{model:n}=t;return n.selectionIsCollapsed?(t.defaultStyle.fontSeries&&r.fontSeries===t.defaultStyle.fontSeries&&(r.fontSeries="auto"),r.fontShape&&r.fontShape===t.defaultStyle.fontShape&&(r.fontShape="auto"),r.color&&r.color===t.defaultStyle.color&&(r.color="none"),r.backgroundColor&&r.backgroundColor===t.defaultStyle.backgroundColor&&(r.backgroundColor="none"),r.fontSize&&r.fontSize===t.defaultStyle.fontSize&&(r.fontSize="auto"),t.defaultStyle=P(P({},t.defaultStyle),r)):t.model.deferNotifications({content:!0,type:"insertText"},()=>{n.selection.ranges.forEach(i=>WS(n,i,r,{operation:"toggle"})),t.snapshot("style-change")}),!0}wi({applyStyle:QNe},{target:"mathfield",canUndo:!0,changeContent:!0});function JS(t,e){var r,n,i,s,a,o,l,c,u,d;let A={};if(typeof e.color=="string"){let p=(n=t.colorMap((r=e.color)!=null?r:e.verbatimColor))!=null?n:"none";p!==e.color&&(A.verbatimColor=(i=e.verbatimColor)!=null?i:e.color),A.color=p}if(typeof e.backgroundColor=="string"){let p=(a=t.backgroundColorMap((s=e.backgroundColor)!=null?s:e.verbatimBackgroundColor))!=null?a:"none";p!==e.backgroundColor&&(A.verbatimBackgroundColor=(o=e.verbatimBackgroundColor)!=null?o:e.backgroundColor),A.backgroundColor=p}typeof e.fontFamily=="string"&&(A.fontFamily=e.fontFamily),typeof e.series=="string"&&(A.fontSeries=e.series),typeof e.fontSeries=="string"&&(A.fontSeries=e.fontSeries.toLowerCase()),A.fontSeries&&(A.fontSeries=(l={bold:"b",medium:"m",normal:"m"}[A.fontSeries])!=null?l:A.fontSeries),typeof e.shape=="string"&&(A.fontShape=e.shape),typeof e.fontShape=="string"&&(A.fontShape=e.fontShape.toLowerCase()),A.fontShape&&(A.fontShape=(c={italic:"it",up:"n",upright:"n",normal:"n"}[A.fontShape])!=null?c:A.fontShape),e.variant&&(A.variant=e.variant.toLowerCase()),e.variantStyle&&(A.variantStyle=e.variantStyle.toLowerCase());let f=(u=e.size)!=null?u:e.fontSize;return typeof f=="number"?A.fontSize=Math.max(1,Math.min(10,f)):typeof f=="string"&&(A.fontSize=(d={size1:1,size2:2,size3:3,size4:4,size5:5,size6:6,size7:7,size8:8,size9:9,size10:10}[f.toLowerCase()])!=null?d:{tiny:1,scriptsize:2,footnotesize:3,small:4,normal:5,normalsize:5,large:6,Large:7,LARGE:8,huge:9,Huge:10}[f]),A}function JF(t,e,r){var n,i;let s=t.model;if(s.mode==="latex")return{};let a=t.styleBias;if(a==="none")return t.defaultStyle;if(s.mode==="text")return(i=(n=s.at(a==="right"?r.after:r.before))==null?void 0:n.style)!=null?i:t.defaultStyle;if(s.mode==="math"){let o=s.at(a==="right"?r.after:r.before);return o?G(P({},o.style),{variant:"normal"}):t.defaultStyle}return{}}function tf(t){let e=t.options.onInsertStyle;if(e===null)return{};e===void 0&&(e=JF);let r=t.model,n=t.styleBias,i=r.at(r.position),s=Ez(r,i,n),a=Ez(r,i.rightSibling,n);return e(t,r.position,{before:s,after:a})}function Ez(t,e,r){var n;return!e||e.type==="first"&&r!=="right"?-1:e.type!=="group"?t.offsetOf(e):!e.body||e.body.length<2?-1:((n=e.body)==null?void 0:n.length)===1||r!=="right"?t.offsetOf(e.body[0]):t.offsetOf(e.body[e.body.length-1])}function D5(t){let e=E3(t.model).filter(r=>r.isSuggestion);if(e.length!==0){t.model.position=t.model.offsetOf(e[0].leftSibling);for(let r of e)r.parent.removeChild(r)}}function J1(t,e){var r;let{model:n}=t;D5(t);for(let u of E3(n))u.isError=!1;if(!n.selectionIsCollapsed||t.options.popoverPolicy==="off"){nf(t);return}let i=[],s=n.at(n.position);for(;s&&s instanceof ln&&/^[a-zA-Z\*]$/.test(s.value);)s=s.leftSibling;if(s&&s instanceof ln&&s.value==="\\")for(i.push(s),s=s.rightSibling;s&&s instanceof ln&&/^[a-zA-Z\*]$/.test(s.value);)i.push(s),s=s.rightSibling;let a=i.map(u=>u.value).join(""),o=RDe(t,a);if(o.length===0){if(/^\\[a-zA-Z\*]+$/.test(a))for(let u of i)u.isError=!0;nf(t);return}let l=(r=e==null?void 0:e.atIndex)!=null?r:0;t.suggestionIndex=l<0?o.length-1:l%o.length;let c=o[t.suggestionIndex];if(c!==a){let u=i[i.length-1];u.parent.addChildrenAfter([...c.slice(a.length-c.length)].map(d=>new ln(d,{isSuggestion:!0})),u),a0(t,{interactive:!0})}HNe(t,o)}function Mz(t){let[e,r]=Hre(t,{before:t.position});if(e===void 0||r===void 0)return!1;let n=!1;return t.getAtoms([e,r]).forEach(i=>{i.isSuggestion&&(i.isSuggestion=!1,n=!0)}),n}function rf(t,e="accept",r){var n,i;nf(t);let s=YF(t.model);if(!s)return!1;if(e==="accept-suggestion"||e==="accept-all"){let c=E3(t.model).filter(u=>u.isSuggestion);if(c.length!==0){for(let u of c)u.isSuggestion=!1;t.model.position=t.model.offsetOf(c[c.length-1])}if(e==="accept-suggestion")return c.length!==0}let a=E3(t.model).filter(c=>!c.isSuggestion).map(c=>c.value).join(""),o=s.leftSibling;if(s.parent.removeChild(s),t.model.position=t.model.offsetOf(o),t.switchMode((n=r==null?void 0:r.mode)!=null?n:"math"),e==="reject")return!0;let l=P({},tf(t));return!/^[a-zA-Z0-9]$/.test(a)&&t.styleBias!=="none"&&(l.variant="normal",l.variantStyle=void 0),$t.insert(t.model,a,{selectionMode:(i=r==null?void 0:r.selectItem)!=null&&i?"item":"placeholder",format:"latex",mode:"math",style:l}),t.snapshot(),t.model.announce("replacement"),t.switchMode("math"),!0}function L5(t){var e;let r=document.getElementById(t);return r?r.dataset.refcount=Number(Number.parseInt((e=r.dataset.refcount)!=null?e:"0")+1).toString():(r=document.createElement("div"),r.setAttribute("aria-hidden","true"),r.dataset.refcount="1",r.id=t,document.body.append(r)),r}function ZF(t){var e;let r=document.getElementById(t);if(!r)return;let n=Number.parseInt((e=r.getAttribute("data-refcount"))!=null?e:"0");n<=1?r.remove():r.dataset.refcount=Number(n-1).toString()}function zNe(t,e){let r=new mt({from:t.context}),n=new se({mode:"math",type:"root",body:Js(e,{context:r})}),i=C5(Y1(new ge(n.render(r),{classes:"ML__base"}),r));return B5(i,{classes:"ML__latex"}).toMarkup()}function HNe(t,e){var r;if(e.length===0){nf(t);return}let n="";for(let[s,a]of e.entries()){let o=a,l=zNe(t,a),c=ONe(t.keybindings,o).join("<br>");n+=`<li role="button" data-command="${o}" ${s===t.suggestionIndex?"class=ML__popover__current":""}><span class="ML__popover__latex">${o}</span><span class="ML__popover__command">${l}</span>`,c&&(n+=`<span class="ML__popover__keybinding">${c}</span>`),n+="</li>"}let i=$Ne(t,`<ul>${n}</ul>`);ZS()&&((r=i.querySelector(".ML__popover__current"))==null||r.scrollIntoView({block:"nearest",inline:"nearest"})),setTimeout(()=>{var s;i&&!ZS()&&(i.classList.add("is-visible"),N5(t),(s=i.querySelector(".ML__popover__current"))==null||s.scrollIntoView({block:"nearest",inline:"nearest"}))},32)}function ZS(){let t=document.getElementById("mathlive-suggestion-popover");return t?t.classList.contains("is-visible"):!1}function N5(t,e){var r,n,i;if(!t.element||t.element.mathfield!==t||!ZS())return;if(((r=t.model.at(t.model.position))==null?void 0:r.type)!=="latex"){nf(t);return}if(e!=null&&e.deferred){setTimeout(()=>N5(t),32);return}let s=kx(t.field);if(!s)return;let a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=window.innerWidth-document.documentElement.clientWidth,c=window.innerHeight-document.documentElement.clientHeight,u=(i=(n=window.mathVirtualKeyboard)==null?void 0:n.boundingRect.height)!=null?i:0,d=document.getElementById("mathlive-suggestion-popover");s.x+d.offsetWidth/2>o-l?d.style.left=`${o-d.offsetWidth-l}px`:s.x-d.offsetWidth/2<0?d.style.left="0":d.style.left=`${s.x-d.offsetWidth/2}px`;let A=s.y-s.height;a-c-u-s.y<A?(d.classList.add("ML__popover--reverse-direction"),d.classList.remove("top-tip"),d.classList.add("bottom-tip"),d.style.top=`${s.y-s.height-d.offsetHeight-15}px`):(d.classList.remove("ML__popover--reverse-direction"),d.classList.add("top-tip"),d.classList.remove("bottom-tip"),d.style.top=`${s.y+15}px`)}function nf(t){t.suggestionIndex=0;let e=document.getElementById("mathlive-suggestion-popover");e&&(e.classList.remove("is-visible"),e.innerHTML="")}function $Ne(t,e){let r=document.getElementById("mathlive-suggestion-popover");return r||(r=L5("mathlive-suggestion-popover"),Tu("suggestion-popover"),Tu("core"),r.addEventListener("pointerdown",n=>n.preventDefault()),r.addEventListener("click",n=>{let i=n.target;for(;i&&!i.dataset.command;)i=i.parentElement;i&&(rf(t,"reject"),$t.insert(t.model,i.dataset.command,{selectionMode:"placeholder",format:"latex",mode:"math"}),t.dirty=!0,t.focus())})),r.innerHTML=globalThis.MathfieldElement.createHTML(e),r}function VNe(){document.getElementById("mathlive-suggestion-popover")&&(ZF("mathlive-suggestion-popover"),Du("suggestion-popover"),Du("core"))}function KNe(){let t=String(new Error().stack).replace(/^Error.*\n/,"").split(`
`);if(t.length===0)return console.error(`Can't use relative paths to specify assets location because the sourcefile location could not be determined (unexpected stack trace format "${new Error().stack}").`),"";let e=t[1],r=e.match(/http.*\.ts[\?:]/);return r&&(e=t[2]),r=e.match(/(https?:.*):[0-9]+:[0-9]+/),r||(r=e.match(/at (.*(\.ts))[\?:]/),r||(r=e.match(/at (.*(\.mjs|\.js))[\?:]/))),r?r[1]:(console.error(t),console.error(`Can't use relative paths to specify assets location because the source file location could not be determined (unexpected location "${e}").`),"")}var Ev=null,Fz,Tz,J7=((Tz=(Fz=globalThis==null?void 0:globalThis.document)==null?void 0:Fz.currentScript)==null?void 0:Tz.src)||KNe();async function $re(t){if(/^(?:[a-z+]+:)?\/\//i.test(t)){try{return new URL(t).href}catch{}if(t.startsWith("//"))try{return new URL(`${window.location.protocol}${t}`).href}catch{}return t}if(Ev===null)try{let e=await fetch(J7,{method:"HEAD"});e.status===200&&(Ev=e.url)}catch{console.error(`Invalid URL "${t}" (relative to "${J7}")`)}return new URL(t,Ev??J7).href}function qNe(t,e,r={}){return new FontFace(t,`url(${e}.woff2) format('woff2')`,r)}var cs="not-loaded";async function WNe(){return cs="not-loaded",eT()}async function eT(){var t;if(cs==="not-loaded"){if(cs="loading",(t=getComputedStyle(document.documentElement).getPropertyValue("--ML__static-fonts"))!=null?t:!1){cs="ready";return}if(document.body.classList.remove("ML__fonts-did-not-load"),"fonts"in document){let e=["KaTeX_Main","KaTeX_Math","KaTeX_AMS","KaTeX_Caligraphic","KaTeX_Fraktur","KaTeX_SansSerif","KaTeX_Script","KaTeX_Typewriter","KaTeX_Size1","KaTeX_Size2","KaTeX_Size3","KaTeX_Size4"],r=Array.from(document.fonts).map(s=>s.family);if(e.every(s=>r.includes(s))){cs="ready";return}if(!globalThis.MathfieldElement.fontsDirectory){cs="not-loaded";return}let n=await $re(globalThis.MathfieldElement.fontsDirectory);if(!n){document.body.classList.add("ML__fonts-did-not-load"),cs="error";return}let i=[["KaTeX_Main-Regular"],["KaTeX_Main-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_Main-Bold",{weight:"bold"}],["KaTeX_Main-Italic",{style:"italic"}],["KaTeX_Math-Italic",{style:"italic"}],["KaTeX_Math-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_AMS-Regular"],["KaTeX_Caligraphic-Regular"],["KaTeX_Caligraphic-Bold",{weight:"bold"}],["KaTeX_Fraktur-Regular"],["KaTeX_Fraktur-Bold",{weight:"bold"}],["KaTeX_SansSerif-Regular"],["KaTeX_SansSerif-Bold",{weight:"bold"}],["KaTeX_SansSerif-Italic",{style:"italic"}],["KaTeX_Script-Regular"],["KaTeX_Typewriter-Regular"],["KaTeX_Size1-Regular"],["KaTeX_Size2-Regular"],["KaTeX_Size3-Regular"],["KaTeX_Size4-Regular"]].map(s=>qNe(s[0].replace(/-[a-zA-Z]+$/,""),`${n}/${s[0]}`,s[1]));try{(await Promise.all(i.map(s=>{try{return s.load()}catch{}}))).forEach(s=>document.fonts.add(s)),cs="ready";return}catch(s){console.error(`MathLive 0.104.0: The math fonts could not be loaded from "${n}"`,{cause:s}),document.body.classList.add("ML__fonts-did-not-load")}cs="error"}}}function GNe(t,e=0){let r=3735928559^e,n=1103547991^e;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);r=Math.imul(r^s,2654435761),n=Math.imul(n^s,1597334677)}return r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909),4294967296*(2097151&n)+(r>>>0)}function ir(t,e){!t||t.dirty||(t.resizeObserver.unobserve(t.field),t.dirty=!0,requestAnimationFrame(()=>{zc(t)&&t.dirty&&(t.atomBoundsCache=new Map,a0(t,e),t.atomBoundsCache=void 0,t.resizeObserver.observe(t.field),t.resizeObserverStarted=!0)}))}function XNe(t,e){var r;e=e??{};let n=new mt({from:G(P({},t.context),{atomIdsSettings:{seed:e.forHighlighting?GNe(se.serialize([t.model.root],{expandMacro:!1,defaultMode:t.options.defaultMode})):"random",groupNumbers:(r=e.forHighlighting)!=null?r:!1},letterShapeStyle:t.options.letterShapeStyle}),mathstyle:t.options.defaultMode==="inline-math"?"textstyle":"displaystyle"}),i=t.model.root.render(n);return B5(Y1(i,n),{classes:t.hasEditablePrompts?"ML__latex ML__prompting":"ML__latex",attributes:{translate:"no","aria-hidden":"true"}})}function Vre(t,e){try{let{model:r}=t;r.root.caret=void 0,r.root.isSelected=!1,r.root.containsCaret=!0;for(let n of r.atoms)n.caret=void 0,n.isSelected=!1,n.containsCaret=!1;if(r.selectionIsCollapsed){let n=r.at(r.position);n.caret=t.model.mode;let i=n.parent;for(;i;)i.containsCaret=!0,i=i.parent}else{let n=r.getAtoms(r.selection,{includeChildren:!0});for(let i of n)i.isSelected=!0}return XNe(t,e).toMarkup()}catch(r){return console.error(r),'<span class="ML__latex" translate="no" aria-hidden="true">🚫</span>'}}function a0(t,e){if(!zc(t))return;e!=null||(e={});let r=t.element.querySelector("[part=virtual-keyboard-toggle]");r&&(r.style.display=t.hasEditableContent?"":"none");let n=t.field;if(!n)return;let i=t.isSelectionEditable&&t.hasFocus(),s=n.classList.contains("ML__focused");s&&!i?n.classList.remove("ML__focused"):!s&&i&&n.classList.add("ML__focused");let a=Vre(t,e),o=t.element.querySelector("[part=menu-toggle]");if(o){let l=!1;(t.disabled||t.readOnly&&!t.hasEditableContent||t.userSelect==="none")&&(l=!0),!l&&n.offsetWidth<50&&(l=!0),o.style.display=l?"none":""}if(t.model.atoms.length<=1){let l=t.options.contentPlaceholder;l&&(a+=`<span part=placeholder class="ML__content-placeholder">${Yr(l)}</span>`)}n.innerHTML=globalThis.MathfieldElement.createHTML(a),M3(t,e.interactive),t.dirty=!1}function M3(t,e){let r=t.field;if(!r)return;for(let a of r.querySelectorAll(".ML__selection, .ML__contains-highlight"))a.remove();if(!(e!=null&&e)&&cs!=="error"&&cs!=="ready"){setTimeout(()=>{cs==="ready"?M3(t):setTimeout(()=>M3(t),128)},32);return}let n=t.model,i,s=()=>{if(i!==void 0)return i;let a=r.offsetWidth,o=r.getBoundingClientRect().width;return i=Math.floor(o)/a,isNaN(i)&&(i=1),i};if(n.selectionIsCollapsed){N5(t,{deferred:!0});let a=n.at(n.position);for(;a&&a.type!=="prompt"&&!(a.containsCaret&&a.displayContainsHighlight);)a=a.parent;if(a!=null&&a.containsCaret&&a.displayContainsHighlight){let o=s(),l=Hte(t,Tf(t,a),o);if(l){l.left/=o,l.right/=o,l.top/=o,l.bottom/=o;let c=document.createElement("div");c.classList.add("ML__contains-highlight"),c.style.position="absolute",c.style.left=`${l.left+1}px`,c.style.top=`${Math.ceil(l.top)}px`,c.style.width=`${Math.ceil(l.right-l.left)}px`,c.style.height=`${Math.ceil(l.bottom-l.top)}px`,r.insertBefore(c,r.childNodes[0])}}return}for(let a of YNe(Vte(t,{excludeAtomsWithBackground:!0}))){let o=s();a.left/=o,a.right/=o,a.top/=o,a.bottom/=o;let l=document.createElement("div");l.classList.add("ML__selection"),l.style.position="absolute",l.style.left=`${a.left}px`,l.style.top=`${a.top}px`,l.style.width=`${Math.ceil(a.right-a.left)}px`,l.style.height=`${Math.ceil(a.bottom-a.top-1)}px`,r.insertBefore(l,r.childNodes[0])}}function YNe(t){let e=[];for(let r of t){let n=!1;for(let i of e)if(r.left===i.left&&r.right===i.right&&r.top===i.top&&r.bottom===i.bottom){n=!0;break}n||e.push(r)}t=e,e=[];for(let r of t){let n=0;for(let i of t)if(r.left>=i.left&&r.right<=i.right&&r.top>=i.top&&r.bottom<=i.bottom&&(n+=1,n>1))break;n===1&&e.push(r)}return e}function Kre(t){if(!t)return;let e=t.model,r=e.selection,n=se.serialize([e.root],{expandMacro:!1,defaultMode:t.options.defaultMode});$t.insert(e,n,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",silenceNotifications:!0,mode:"math"});let i=e.silenceNotifications;e.silenceNotifications=!0,e.selection=r,e.silenceNotifications=i,ir(t)}function Dz(){for(let t of document.querySelectorAll(".ML__mathfield"))"_mathfield"in t&&Kre(t._mathfield)}var qre=3,vo;function wi(t,e){e=P({target:"mathfield",canUndo:!1,audioFeedback:void 0,changeContent:!1,changeSelection:!1},e??{}),vo||(vo={});for(let r of Object.keys(t))vo[r],vo[r]=G(P({},e),{fn:t[r]})}function tT(t){let e;if(Array.isArray(t)){if(t[0]==="performWithFeedback")return tT(t[1]);e=t[0]}else e=t;return vo[e]}function EA(t){var e;return(e=tT(t))==null?void 0:e.target}function JNe(t,e){var r,n;if(e=s1(e),!e)return!1;let i,s=[],a=!1,o=!1;Bn(e)?(i=e[0],s=e.slice(1)):i=e;let l=vo[i],c=l==null?void 0:l.target;if(c==="model"){if(!t.isSelectionEditable&&l!=null&&l.changeContent)return t.model.announce("plonk"),!1;/^(delete|add)/.test(i)&&(i!=="deleteBackward"&&t.flushInlineShortcutBuffer(),t.snapshot(i)),/^complete/.test(i)||D5(t),vo[i].fn(t.model,...s),J1(t),o=!0,a=!0}else if(c==="virtual-keyboard")o=(n=(r=window.mathVirtualKeyboard)==null?void 0:r.executeCommand(e))!=null?n:!1,a=!0;else if(vo[i]){if(!t.isSelectionEditable&&l!=null&&l.changeContent)return t.model.announce("plonk"),!1;/^(undo|redo)/.test(i)&&t.flushInlineShortcutBuffer(),o=vo[i].fn(t,...s),a=!0}else throw new Error(`Unknown command "${i}"`);return c!=="virtual-keyboard"&&(!t.model.selectionIsCollapsed||l!=null&&l.changeSelection&&i!=="deleteBackward")&&(t.flushInlineShortcutBuffer(),l!=null&&l.changeContent||t.stopCoalescingUndo(),t.defaultStyle={}),o&&ir(t),a}function ZNe(t,e){var r;if(!t)return!1;t.focus(),sT.keypressVibration&&wte()&&navigator.vibrate(qre);let n=tT(e);globalThis.MathfieldElement.playSound((r=n==null?void 0:n.audioFeedback)!=null?r:"keypress");let i=t.executeCommand(e);return t.scrollIntoView(),i}wi({performWithFeedback:(t,e)=>ZNe(t,e)});function eje(t){return J1(t,{atIndex:t.suggestionIndex+1}),!1}function tje(t){return J1(t,{atIndex:t.suggestionIndex-1}),!1}wi({complete:rf},{target:"mathfield",audioFeedback:"return",canUndo:!0,changeContent:!0,changeSelection:!0});wi({dispatchEvent:(t,e,r)=>{var n,i;return(i=(n=t.host)==null?void 0:n.dispatchEvent(new CustomEvent(e,{detail:r})))!=null?i:!1}},{target:"mathfield"});wi({nextSuggestion:eje,previousSuggestion:tje},{target:"mathfield",audioFeedback:"keypress",changeSelection:!0});function s1(t){if(!t)return;if(Bn(t)&&t.length>0){let n=t[0];return n.replace(/-\w/g,i=>i[1].toUpperCase()),n==="performWithFeedback"&&t.length===2?[n,s1(t[1])]:[n,...t.slice(1)]}if(typeof t!="string")return;let e=t.trim().match(/^([a-zA-Z0-9-]+)\((.*)\)$/);if(e){let n=e[1];n.replace(/-\w/g,s=>s[1].toUpperCase());let i=e[2].split(",").map(s=>s.trim());return[n,...i.map(s=>{if(/"[^"]*"/.test(s)||/'[^']*'/.test(s))return s.slice(1,-1);if(/^true$/.test(s))return!0;if(/^false$/.test(s))return!1;if(/^[-]?\d+$/.test(s))return parseInt(s,10);if(/^\{.*\}$/.test(s))try{return JSON.parse(s)}catch{return console.error("Invalid argument:",s),s}return s1(s)})]}let r=t;return r.replace(/-\w/g,n=>n[1].toUpperCase()),r}var F3="mathlive#virtual-keyboard-message";function rT(t){var e;return t.type!=="message"?!1:((e=t.data)==null?void 0:e.type)===F3}var rje=class Wre{constructor(){this.targetOrigin=window.origin,this.originValidator="none",this._boundingRect=new DOMRect(0,0,0,0),this._isShifted=!1,window.addEventListener("message",this),this.sendMessage("proxy-created"),this.listeners={}}static get singleton(){return this._singleton||(this._singleton=new Wre),this._singleton}getKeycap(e){}setKeycap(e,r){this.sendMessage("update-setting",{setKeycap:{keycap:e,value:r}})}set alphabeticLayout(e){this.sendMessage("update-setting",{alphabeticLayout:e})}set layouts(e){this.sendMessage("update-setting",{layouts:e})}get normalizedLayouts(){return[]}set editToolbar(e){this.sendMessage("update-setting",{editToolbar:e})}set container(e){throw new Error("Container inside an iframe cannot be changed")}show(e){this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:!0},bubbles:!0,cancelable:!0,composed:!0}))&&(this.sendMessage("show",e),this.dispatchEvent(new Event("virtual-keyboard-toggle")))}hide(e){this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:!1},bubbles:!0,cancelable:!0,composed:!0}))&&(this.sendMessage("hide",e),this.dispatchEvent(new Event("virtual-keyboard-toggle")))}get isShifted(){return this._isShifted}get visible(){return this._boundingRect.height>0}set visible(e){e?this.show():this.hide()}get boundingRect(){return this._boundingRect}executeCommand(e){return this.sendMessage("execute-command",{command:e}),!0}updateToolbar(e){this.sendMessage("update-toolbar",e)}update(e){this.sendMessage("update-setting",e)}connect(){this.sendMessage("connect")}disconnect(){this.sendMessage("disconnect")}addEventListener(e,r,n){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].has(r)||this.listeners[e].add(r)}dispatchEvent(e){return!this.listeners[e.type]||this.listeners[e.type].size===0?!0:(this.listeners[e.type].forEach(r=>{typeof r=="function"?r(e):r==null||r.handleEvent(e)}),!e.defaultPrevented)}removeEventListener(e,r,n){this.listeners[e]&&this.listeners[e].delete(r)}handleEvent(e){if(rT(e)){if(!VF(e.origin,this.originValidator))throw new DOMException(`Message from unknown origin (${e.origin}) cannot be handled`,"SecurityError");this.handleMessage(e.data)}}handleMessage(e){let{action:r}=e;if(r==="execute-command"){let{command:n}=e;EA(n)==="virtual-keyboard"&&this.executeCommand(n);return}if(r==="synchronize-proxy"){this._boundingRect=e.boundingRect,this._isShifted=e.isShifted;return}if(r==="geometry-changed"){this._boundingRect=e.boundingRect,this.dispatchEvent(new Event("geometrychange"));return}}sendMessage(e,r={}){if(!window.top)throw new DOMException("A frame does not have access to the top window and can‘t communicate with the keyboard. Review virtualKeyboardTargetOrigin and originValidator on mathfields embedded in an iframe","SecurityError");window.top.postMessage(P({type:F3,action:e},r),this.targetOrigin)}},Lz={numeric:{label:"123",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.numeric",rows:[[{latex:"x",shift:"y",variants:["y","z","t","r","x^2","x^n","x^{#?}","x_n","x_i","x_{#?}",{latex:"f(#?)",class:"small"},{latex:"g(#?)",class:"small"}]},{latex:"n",shift:"a",variants:["i","j","p","k","a","u"]},"[separator-5]","[7]","[8]","[9]","[/]","[separator-5]",{latex:"\\exponentialE",shift:"\\ln",variants:["\\exp","\\times 10^{#?}","\\ln","\\log_{10}","\\log","\\lg","\\operatorname{lb}"]},{latex:"\\imaginaryI",variants:["\\Re","\\Im","\\imaginaryJ","\\Vert #0 \\Vert"]},{latex:"\\pi",shift:"\\sin",variants:["\\prod",{latex:"\\theta",aside:"theta"},{latex:"\\rho",aside:"rho"},{latex:"\\tau",aside:"tau"},"\\sin","\\cos","\\tan"]}],[{label:"<",latex:"<",class:"hide-shift",shift:{latex:"\\le",label:"≤"}},{label:">",latex:">",class:"hide-shift",shift:{latex:"\\ge",label:"≥"}},"[separator-5]","[4]","[5]","[6]","[*]","[separator-5]",{class:"hide-shift",latex:"#@^2}",shift:"#@^{\\prime}}"},{latex:"#@^{#0}}",class:"hide-shift",shift:"#@_{#?}"},{class:"hide-shift",latex:"\\sqrt{#0}",shift:{latex:"\\sqrt[#0]{#?}}"}}],["[(]","[)]","[separator-5]","[1]","[2]","[3]","[-]","[separator-5]",{latex:"\\int^{\\infty}_{0}\\!#?\\,\\mathrm{d}x",class:"small hide-shift",shift:"\\int",variants:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},"\\mathrm{d}x",{latex:"\\dfrac{\\mathrm{d}}{\\mathrm{d} x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\partial"]},{class:"hide-shift",latex:"\\forall",shift:"\\exists"},{label:"[backspace]",width:1}],[{label:"[shift]",width:2},"[separator-5]","[0]","[.]","[=]","[+]","[separator-5]","[left]","[right]",{label:"[action]",width:1}]]},greek:{label:"&alpha;&beta;&gamma;",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.greek",rows:[[{label:"<i>&#x03c6;</i>",class:"MLK__tex hide-shift",insert:"\\varphi",aside:"phi var.",shift:"\\Phi"},{label:"<i>&#x03c2;</i>",class:"MLK__tex hide-shift",insert:"\\varsigma",aside:"sigma var.",shift:"\\Sigma"},{label:"<i>&#x03f5;</i>",class:"MLK__tex hide-shift",insert:"\\epsilon",aside:"epsilon",shift:'\\char"0190'},{label:"<i>&rho;</i>",class:"MLK__tex hide-shift",insert:"\\rho",aside:"rho",shift:'\\char"3A1'},{label:"<i>&tau;</i>",class:"MLK__tex hide-shift",insert:"\\tau",aside:"tau",shift:'\\char"3A4'},{label:"<i>&upsilon;</i>",class:"MLK__tex hide-shift",insert:"\\upsilon",aside:"upsilon",shift:"\\Upsilon"},{label:"<i>&theta;</i>",class:"MLK__tex hide-shift",insert:"\\theta",aside:"theta",shift:"\\Theta"},{label:"<i>&iota;</i>",class:"MLK__tex hide-shift",insert:"\\iota",aside:"iota",shift:'\\char"399'},{label:"<i>&omicron;</i>",class:"MLK__tex hide-shift",insert:"\\omicron",aside:"omicron",shift:'\\char"39F'},{label:"<i>&pi;</i>",class:"MLK__tex hide-shift",insert:"\\pi",aside:"pi",shift:"\\Pi"}],["[separator-5]",{label:"<i>&alpha;</i>",class:"MLK__tex hide-shift",insert:"\\alpha",aside:"alpha",shift:'\\char"391'},{label:"<i>&sigma;</i>",class:"MLK__tex hide-shift",insert:"\\sigma",aside:"sigma",shift:"\\Sigma"},{label:"<i>&delta;</i>",class:"MLK__tex hide-shift",insert:"\\delta",aside:"delta",shift:"\\Delta"},{latex:"\\phi",class:"MLK__tex hide-shift",insert:"\\phi",aside:"phi",shift:"\\Phi"},{label:"<i>&gamma;</i>",class:"MLK__tex hide-shift",insert:"\\gamma",aside:"gamma",shift:"\\Gamma"},{label:"<i>&eta;</i>",class:"MLK__tex hide-shift",insert:"\\eta",aside:"eta",shift:'\\char"397'},{label:"<i>&xi;</i>",class:"MLK__tex hide-shift",insert:"\\xi",aside:"xi",shift:"\\Xi"},{label:"<i>&kappa;</i>",class:"MLK__tex hide-shift",insert:"\\kappa",aside:"kappa",shift:"\\Kappa"},{label:"<i>&lambda;</i>",class:"MLK__tex hide-shift",insert:"\\lambda",aside:"lambda",shift:"\\Lambda"},"[separator-5]"],["[shift]",{label:"<i>&zeta;</i>",class:"MLK__tex hide-shift",insert:"\\zeta",aside:"zeta",shift:'\\char"396'},{label:"<i>&chi;</i>",class:"MLK__tex hide-shift",insert:"\\chi",aside:"chi",shift:'\\char"3A7'},{label:"<i>&psi;</i>",class:"MLK__tex hide-shift",insert:"\\psi",aside:"zeta",shift:"\\Psi"},{label:"<i>&omega;</i>",class:"MLK__tex hide-shift",insert:"\\omega",aside:"omega",shift:"\\Omega"},{label:"<i>&beta;</i>",class:"MLK__tex hide-shift",insert:"\\beta",aside:"beta",shift:'\\char"392'},{label:"<i>&nu;</i>",class:"MLK__tex hide-shift",insert:"\\nu",aside:"nu",shift:'\\char"39D'},{label:"<i>&mu;</i>",class:"MLK__tex hide-shift",insert:"\\mu",aside:"mu",shift:'\\char"39C'},"[backspace]"],["[separator]",{label:"<i>&#x03b5;</i>",class:"MLK__tex",insert:"\\varepsilon",aside:"epsilon var."},{label:"<i>&#x03d1;</i>",class:"MLK__tex",insert:"\\vartheta",aside:"theta var."},{label:"<i>&#x3f0;</i>",class:"MLK__tex",insert:"\\varkappa",aside:"kappa var."},{label:"<i>&#x03d6;</i>",class:"MLK__tex",insert:"\\varpi",aside:"pi var."},{label:"<i>&#x03f1;</i>",class:"MLK__tex",insert:"\\varrho",aside:"rho var."},"[left]","[right]","[action]"]]},symbols:{label:"&infin;≠∈",labelClass:"MLK__tex",tooltip:"keyboard.tooltip.symbols",rows:[[{latex:"\\sin",shift:"\\sin^{-1}",variants:[{class:"small",latex:"\\sinh"},{class:"small",latex:"\\sin^{-1}"},{class:"small",latex:"\\operatorname{arsinh}"}]},"\\ln",{latex:"\\mathrm{abs}",insert:"\\mathrm{abs}\\left(#0\\right)"},{latex:"\\rightarrow",shift:"\\Rightarrow",variants:[{latex:"\\implies",aside:"implies"},{latex:"\\to",aside:"to"},"\\dashv",{latex:"\\roundimplies",aside:"round implies"}]},{latex:"\\exists",variants:["\\nexists"],shift:"\\nexists"},{latex:"\\in",shift:"\\notin",variants:["\\notin","\\owns"]},"\\cup",{latex:"\\overrightarrow{#@}",shift:"\\overleftarrow{#@}",variants:["\\overleftarrow{#@}","\\bar{#@}","\\vec{#@}","\\hat{#@}","\\check{#@}","\\dot{#@}","\\ddot{#@}","\\mathring{#@}","\\breve{#@}","\\acute{#@}","\\tilde{#@}","\\grave{#@}"]},{class:"small hide-shift",latex:"\\lim_{#?}",shift:"\\lim_{x\\to\\infty}",variants:[{class:"small",latex:"\\liminf_{#?}"},{class:"small",latex:"\\limsup_{#?}"}]},"\\exponentialE"],[{latex:"\\cos",shift:"\\cos^{-1}",variants:[{class:"small",latex:"\\cosh"},{class:"small",latex:"\\cos^{-1}"},{class:"small",latex:"\\operatorname{arcosh}"}]},{latex:"\\log",shift:"\\log_{10}",variants:["\\log_{#0}","\\log_{10}"]},"\\left\\vert#0\\right\\vert",{latex:"\\larr",shift:"\\lArr",variants:[{latex:"\\impliedby",aside:"implied by"},{latex:"\\gets",aside:"gets"},"\\lArr","\\vdash",{latex:"\\models",aside:"models"}]},{latex:"\\forall",shift:"\\lnot",variants:[{latex:"\\land",aside:"and"},{latex:"\\lor",aside:"or"},{latex:"\\oplus",aside:"xor"},{latex:"\\lnot",aside:"not"},{latex:"\\downarrow",aside:"nor"},{latex:"\\uparrow",aside:"nand"},{latex:"\\curlywedge",aside:"nor"},{latex:"\\bar\\curlywedge",aside:"nand"}]},{latex:"\\ni",shift:"\\not\\owns"},"\\cap",{latex:"\\overline{#@}",shift:"\\underline{#@}",variants:["\\overbrace{#@}","\\overlinesegment{#@}","\\overleftrightarrow{#@}","\\overrightarrow{#@}","\\overleftarrow{#@}","\\overgroup{#@}","\\underbrace{#@}","\\underlinesegment{#@}","\\underleftrightarrow{#@}","\\underrightarrow{#@}","\\underleftarrow{#@}","\\undergroup{#@}"]},{class:"hide-shift small",latex:"\\int",shift:"\\iint",variants:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\smallint",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},"\\intop","\\iiint","\\oiint","\\oiiint","\\intclockwise","\\varointclockwise","\\ointctrclockwise","\\intctrclockwise"]},{latex:"\\pi",shift:"\\tau",variants:["\\tau"]}],[{latex:"\\tan",shift:"\\tan^{-1}",variants:[{class:"small",latex:"\\tanh"},{class:"small",latex:"\\tan^{-1}"},{class:"small",latex:"\\operatorname{artanh}"},{class:"small",latex:"\\arctan"},{class:"small",latex:"\\operatorname{arctg}"},{class:"small",latex:"\\operatorname{tg}"}]},{latex:"\\exp",insert:"\\exp\\left(#0\\right)",variants:["\\exponentialE^{#0}"]},"\\left\\Vert#0\\right\\Vert",{latex:"\\lrArr",shift:"\\leftrightarrow",variants:[{latex:"\\iff",aside:"if and only if"},"\\leftrightarrow","\\leftrightarrows","\\Leftrightarrow",{latex:"^\\biconditional",aside:"biconditional"}]},{latex:"\\vert",shift:"!"},{latex:"#@^{\\complement}",aside:"complement",variants:[{latex:"\\setminus",aside:"set minus"},{latex:"\\smallsetminus",aside:"small set minus"}]},{latex:"\\subset",shift:"\\subseteq",variants:["\\subset","\\subseteq","\\subsetneq","\\varsubsetneq","\\subsetneqq","\\nsubset","\\nsubseteq","\\supset","\\supseteq","\\supsetneq","\\supsetneqq","\\nsupset","\\nsupseteq"]},{latex:"#@^{\\prime}",shift:"#@^{\\doubleprime}",variants:["#@^{\\doubleprime}","#@\\degree"]},{latex:"\\mathrm{d}",shift:"\\partial",variants:["\\mathrm{d}x",{latex:"\\dfrac{\\mathrm{d}}{\\mathrm{d} x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\partial"]},{latex:"\\infty",variants:["\\aleph_0","\\aleph_1","\\omega","\\mathfrak{m}"]}],[{label:"[shift]",width:2},{class:"box",latex:",",shift:";",variants:[";","?"]},{class:"box",latex:"\\colon",shift:"\\Colon",variants:[{latex:"\\Colon",aside:"such that",class:"box"},{latex:":",aside:"ratio",class:"box"},{latex:"\\vdots",aside:"",class:"box"},{latex:"\\ddots",aside:"",class:"box"},{latex:"\\ldotp",aside:"low dot",class:"box"},{latex:"\\cdotp",aside:"center dot",class:"box"},{latex:"\\ldots",aside:"low ellipsis",class:"box"},{latex:"\\cdots",aside:"center ellipsis",class:"box"},{latex:"\\therefore",aside:"therefore",class:"box"},{latex:"\\because",aside:"because",class:"box"}]},{class:"box",latex:"\\cdot",aside:"centered dot",shift:"\\ast",variants:["\\circ","\\bigcirc","\\bullet","\\odot","\\oslash","\\circledcirc","\\ast","\\star","\\times","\\doteq","\\doteqdot"]},"[separator]","[left]","[right]",{label:"[backspace]",width:1,class:"action hide-shift"},{label:"[action]",width:1}]]},compact:{label:"compact",rows:[["[+]","[-]","[*]","[/]","[=]","[.]","[(]","[)]","\\sqrt{#0}","#@^{#?}"],["[1]","[2]","[3]","[4]","[5]","[6]","[7]","[8]","[9]","[0]"],["[hr]"],["[undo]","[redo]","[separator]","[separator]","[separator]","[left]","[right]",{label:"[backspace]",class:"action hide-shift"},"[hide-keyboard]"]]},minimalist:{label:"minimalist",layers:[{style:`
          div.minimalist-backdrop {
            display: flex;
            justify-content: center;
          }          
          div.minimalist-container {
            --keycap-height: 40px;
            --keycap-max-width: 53px;
            --keycap-small-font-size: 12px;
            background: var(--keyboard-background);
            padding: 20px 20px 0px 20px;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            border: 1px solid var(--keyboard-border);
            box-shadow: 0 0 32px rgb(0 0 0 / 30%);
          }        
        `,backdrop:"minimalist-backdrop",container:"minimalist-container",rows:[["+","-","\\times",{latex:"\\frac{#@}{#0}",class:"small"},"=","[.]","(",")",{latex:"\\sqrt{#0}",class:"small"},{latex:"#@^{#?}",class:"small"}],["1","2","3","4","5","6","7","8","9","0"],["[hr]"],["[undo]","[redo]","[separator]","[separator]","[separator]","[left]","[right]",{label:"[backspace]",class:"action hide-shift"},"[hide-keyboard]"]]}]},"numeric-only":{label:"123",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.numeric",id:"numeric-only",rows:[["7","8","9","[separator]",{label:"[backspace]",width:2}],["4","5","6","[separator]","[separator]","[separator]"],["1","2","3","[separator]","[separator]","[separator]"],["0",{label:"[.]",variants:[]},"-","[separator]","[left]","[right]"]]}},Fx={0:["\\varnothing","\\infty"],1:["\\frac{1}{#@}","#@^{-1}","\\times 10^{#?}","\\phi","\\imaginaryI"],2:["\\frac{1}{2}","#@^2","\\sqrt2","\\exponentialE"],3:["\\frac{1}{3}","#@^3","\\sqrt3","\\pi"],4:["\\frac{1}{4}","#@^4"],5:["\\frac{1}{5}","#@^5","\\sqrt5"],6:["\\frac{1}{6}","#@^6"],7:["\\frac{1}{7}","#@^7"],8:["\\frac{1}{8}","#@^8"],9:["\\frac{1}{9}","#@^9"],".":[".",",",";","\\colon"],",":["{,}",".",";","\\colon"],a:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"},"å","à","á","â","ä","æ"],A:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"},"Å","À","Á","Â","Ä","Æ"],b:[{latex:"\\beth",aside:"beth"}],c:[{latex:"\\C",aside:"set of complex numbers"},"ç"],d:[{latex:"\\daleth",aside:"daleth"}],e:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn’t"},"è","é","ê","ë"],E:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn’t"},"È","É","Ê","Ë"],g:[{latex:"\\gimel",aside:"gimel"}],h:[{latex:"\\hbar",aside:"h bar"},{latex:"\\hslash",aside:"h slash"}],i:[{latex:"\\imaginaryI",aside:"imaginary i"},"ì","í","î","ï"],I:[{latex:"\\imaginaryI",aside:"imaginary i"},"Ì","Í","Î","Ï"],j:[{latex:"\\imaginaryJ",aside:"imaginary j"}],l:[{latex:"\\ell",aside:"ell"}],n:[{latex:"\\mathbb{N}",aside:"set of natural numbers"},"ñ"],o:["ø","œ","ò","ó","ô","ö"],O:["ø","Œ","Ò","Ó","Ô","Ö"],p:[{latex:"\\mathbb{P}",aside:"set of primes"}],q:[{latex:"\\mathbb{Q}",aside:"set of rational numbers"}],r:[{latex:"\\mathbb{R}",aside:"set of real numbers"}],u:["ù","ú","û","ü"],U:["Ù","Ú","Û","Ü"],z:[{latex:"\\mathbb{Z}",aside:"set of integers"}],y:["ý","ÿ"],Y:["Ÿ"],space:[{latex:'\\char"203A\\!\\char"2039',insert:"\\!",aside:"negative thin space<br>⁻³⧸₁₈ em"},{latex:'\\char"203A\\,\\char"2039',insert:"\\,",aside:"thin space<br>³⧸₁₈ em"},{latex:'\\char"203A\\:\\char"2039',insert:"\\:",aside:"medium space<br>⁴⧸₁₈ em"},{latex:'\\char"203A\\;\\char"2039',insert:"\\;",aside:"thick space<br>⁵⧸₁₈ em"},{latex:'\\char"203A\\ \\char"2039',insert:"\\ ",aside:"⅓ em"},{latex:'\\char"203A\\enspace\\char"2039',insert:"\\enspace",aside:"½ em"},{latex:'\\char"203A\\quad\\char"2039',insert:"\\quad",aside:"1 em"},{latex:'\\char"203A\\qquad\\char"2039',insert:"\\qquad",aside:"2 em"}]},qm;function Gre(t,e){var r,n,i,s,a;let o=Xu.singleton;if(!o)return;let l=sA(t),c="";if(window.mathVirtualKeyboard.isShifted){let g=(r=o.getKeycap(l==null?void 0:l.id))==null?void 0:r.shift;typeof g=="object"&&"variants"in g&&(c=(n=g.variants)!=null?n:"")}else c=(s=(i=o.getKeycap(l==null?void 0:l.id))==null?void 0:i.variants)!=null?s:"";if(typeof c=="string"&&!e_(c)||Array.isArray(c)&&c.length===0){e==null||e();return}let u={},d="";for(let g of ije(c)){let y=nT(g),x=Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36);u[x]=y;let[b,w]=j5(y);d+=`<div id=${x} class="item ${w}">${b}</div>`}let A=document.createElement("div");A.setAttribute("aria-hidden","true"),A.className="MLK__variant-panel",A.style.height="auto";let f=Object.keys(u).length,p=5;f===1?p=1:f===2||f===4?p=2:f===3||f===5||f===6?p=3:f>=7&&f<14&&(p=4),A.style.width=`calc(var(--variant-keycap-length) * ${p} + 12px)`,A.innerHTML=sT.createHTML(d),Ba.open({root:(a=o==null?void 0:o.container)==null?void 0:a.querySelector(".ML__keyboard"),child:A}),qm=new AbortController;let{signal:m}=qm,v=t==null?void 0:t.getBoundingClientRect();if(v){v.top-A.clientHeight<0&&(A.style.width="auto",f<=6?A.style.height="56px":f<=12?A.style.height="108px":f<=18?A.style.height="205px":A.classList.add("compact"));let g=Math.max(0,Math.min(window.innerWidth-A.offsetWidth,(v.left+v.right-A.offsetWidth)/2)),y=v.top-A.clientHeight+5;A.style.left=`${g}px`,A.style.top=`${y}px`,A.classList.add("is-visible"),requestAnimationFrame(()=>{var x;A.addEventListener("pointerup",b=>{let w=sA(b.target);!(w!=null&&w.id)||!u[w.id]||(t_(u[w.id]),iA(),e==null||e(),b.preventDefault())},{capture:!0,passive:!1,signal:m}),A.addEventListener("pointerenter",b=>{let w=sA(b.target);!(w!=null&&w.id)||!u[w.id]||w.classList.add("is-active")},{capture:!0,signal:m}),A.addEventListener("pointerleave",b=>{let w=sA(b.target);b.target&&"tagName"in b.target&&typeof b.target.tagName=="string"&&b.target.tagName.toUpperCase()==="ASIDE"||!(w!=null&&w.id)||!u[w.id]||w.classList.remove("is-active")},{capture:!0,signal:m}),(x=o.getKeycap(l==null?void 0:l.id))!=null&&x.stickyVariantPanel?window.addEventListener("pointerdown",b=>{if(!(b.target instanceof Node))return;let w=A.contains(b.target);b.target===A||w||(iA(),e==null||e())},{signal:m}):(window.addEventListener("pointercancel",()=>{iA(),e==null||e()},{signal:m}),window.addEventListener("pointerup",()=>{iA(),e==null||e()},{signal:m}))})}}function iA(){qm==null||qm.abort(),qm=null,Ba.state==="open"&&Ba.close()}function nje(t){if(t==="foreground-color"){let e=[];for(let r of Object.keys(s0))e.push({class:"swatch-button",label:'<span style="border: 3px solid '+s0[r]+'"></span>',command:["applyStyle",{color:r}]});return e}if(t==="background-color"){let e=[];for(let r of Object.keys(i0))e.push({class:"swatch-button",label:'<span style="background:'+i0[r]+'"></span>',command:["applyStyle",{backgroundColor:r}]});return e}}function e_(t){return Fx[t]!==void 0}function ije(t){var e;return typeof t!="string"?t:(Fx[t]||(Fx[t]=(e=nje(t))!=null?e:[]),Fx[t])}function sje(t){return typeof t=="string"?t:Object.entries(t).map(([e,r])=>`${e}:${r} !important`).join(";")}function aje(t){return Object.keys(t).map(e=>`${e} {${sje(t[e])}}`).join("")}function Bp(t){if(!t)return"";let e=new mt,r=new se({mode:"math",type:"root",body:Js(t,{context:e,args:i=>i==="@"?"{\\class{ML__box-placeholder}{\\blacksquare}}":"\\placeholder{}"})}),n=C5(Y1(new ge(r.render(e),{classes:"ML__base"}),e));return B5(n,{classes:"ML__latex"}).toMarkup()}function Wm(t){if(Array.isArray(t))return t.map(r=>Wm(r)).flat();let e=typeof t=="string"?{markup:t}:t;return"rows"in e&&Array.isArray(e.rows)&&(e.rows=e.rows.map(r=>r.map(n=>nT(n)))),e.id!=null||(e.id="ML__layer_"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36)),[e]}function oje(){var t,e;let r=window.mathVirtualKeyboard.alphabeticLayout;if(r==="auto"){let a=i1();a&&(r=a.virtualLayout),(!r||r==="auto")&&(r=(t={fr:"azerty",be:"azerty",al:"qwertz",ba:"qwertz",cz:"qwertz",de:"qwertz",hu:"qwertz",sk:"qwertz",ch:"qwertz"}[ot.locale.slice(0,2)])!=null?t:"qwerty")}let n={qwerty:["qwertyuiop"," asdfghjkl ","^zxcvbnm~"],azerty:["azertyuiop","qsdfghjklm","^ wxcvbn ~"],qwertz:["qwertzuiop"," asdfghjkl ","^yxcvbnm~"],dvorak:["^  pyfgcrl ","aoeuidhtns","qjkxbmwvz~"],colemak:[" qwfpgjluy ","arstdhneio","^zxcvbkm~"]},i=(e=n[r])!=null?e:n.qwerty,s=r==="azerty"?[[{label:"1",variants:"1"},{label:"2",shift:{latex:"é"},variants:"2"},{label:"3",shift:{latex:"ù"},variants:"3"},{label:"4",variants:"4"},{label:"5",shift:{label:"(",latex:"("},variants:"5"},{label:"6",shift:{label:")",latex:")"},variants:"6"},{label:"7",shift:{latex:"è"},variants:"7"},{label:"8",shift:{latex:"ê"},variants:"8"},{label:"9",shift:{latex:"ç"},variants:"9"},{label:"0",shift:{latex:"à"},variants:"0"}]]:[[{label:"1",variants:"1"},{label:"2",variants:"2"},{label:"3",variants:"3"},{label:"4",variants:"4"},{label:"5",shift:{latex:"\\frac{#@}{#?}"},variants:"5"},{label:"6",shift:{latex:"#@^#?"},variants:"6"},{label:"7",variants:"7"},{label:"8",shift:{latex:"\\times"},variants:"8"},{label:"9",shift:{label:"(",latex:"("},variants:"9"},{label:"0",shift:{label:")",latex:")"},variants:"0"}]];for(let a of i){let o=[];for(let l of a)/[a-z]/.test(l)?o.push({label:l,class:"hide-shift",shift:{label:l.toUpperCase(),variants:e_(l.toUpperCase())?l.toUpperCase():void 0},variants:e_(l)?l:void 0}):l==="~"?r!=="dvorak"?o.push("[backspace]"):o.push({label:"[backspace]",width:1}):l==="^"?o.push("[shift]"):l===" "&&o.push("[separator-5]");s.push(o)}return s.push(["[-]","[+]","[=]",{label:" ",width:1.5},{label:",",shift:";",variants:".",class:"hide-shift"},"[.]","[left]","[right]",{label:"[action]",width:1.5}]),{label:"abc",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.alphabetic",layers:Wm({rows:s})}}function Xre(t){if(t==="alphabetic")return oje();if(typeof t=="string")return Lz[t],Xre(Lz[t]);let e;if("rows"in t&&Array.isArray(t.rows)){let i=t,s=y3(i,["rows"]);e=G(P({},s),{layers:Wm({rows:t.rows})})}else if("markup"in t&&typeof t.markup=="string"){let i=t,s=y3(i,["markup"]);e=G(P({},s),{layers:Wm(t.markup)})}else e=P({},t),"layers"in t?e.layers=Wm(t.layers):console.error('MathLive 0.104.0: provide either a "rows", "markup" or "layers" property');let r=!1,n=!1;for(let i of e.layers)if(i.rows)for(let s of i.rows.flat()){MA(s)&&(r=!0);let a=s.command;typeof a=="string"&&["undo","redo","cut","copy","paste"].includes(a)&&(n=!0)}return(!("displayShiftedKeycaps"in t)||t.displayShiftedKeycaps===void 0)&&(e.displayShiftedKeycaps=r),(!("displayEditToolbar"in t)||t.displayEditToolbar===void 0)&&(e.displayEditToolbar=!n),e}function lje(t,e){var r,n;let i='<div class="left">';if(t.normalizedLayouts.length>1)for(let[s,a]of t.normalizedLayouts.entries()){let o=a,l=[s===e?"selected":"layer-switch"];o.tooltip&&l.push("MLK__tooltip"),o.labelClass&&l.push(...o.labelClass.split(" ")),i+=`<div class="${l.join(" ")}"`,o.tooltip&&(i+=" data-tooltip='"+((r=rt(o.tooltip))!=null?r:o.tooltip)+"' "),s!==e&&(i+=`data-layer="${o.layers[0].id}"`),i+=`>${(n=o.label)!=null?n:"untitled"}</div>`}return i+="</div>",i}function cje(t,e){let r="";if(t.editToolbar==="none")return"";let n=[];e.selectionIsCollapsed?n.push("undo","redo","pasteFromClipboard"):n.push("cutToClipboard","copyToClipboard","pasteFromClipboard");let i={undo:`<div class='action ${e.canUndo===!1?"disabled":""}'
          data-command='"undo"'
          data-tooltip='${rt("tooltip.undo")}'>
          <svg><use xlink:href='#svg-undo' /></svg>
      </div>`,redo:`<div class='action ${e.canRedo===!1?"disabled":""}'
          data-command='"redo"'
          data-tooltip='${rt("tooltip.redo")}'>
          <svg><use xlink:href='#svg-redo' /></svg>
      </div>`,cutToClipboard:`
        <div class='action'
            data-command='"cutToClipboard"'
            data-tooltip='${rt("tooltip.cut to clipboard")}'>
            <svg><use xlink:href='#svg-cut' /></svg>
        </div>
    `,copyToClipboard:`
        <div class='action'
            data-command='"copyToClipboard"'
            data-tooltip='${rt("tooltip.copy to clipboard")}'>
            <svg><use xlink:href='#svg-copy' /></svg>
        </div>
    `,pasteFromClipboard:`
        <div class='action'
            data-command='"pasteFromClipboard"'
            data-tooltip='${rt("tooltip.paste from clipboard")}'>
            <svg><use xlink:href='#svg-paste' /></svg>
        </div>
    `};return r+=n.map(s=>i[s]).join(""),r}function uje(t){for(let e of t)dje(e)}function dje(t){let e=Xu.singleton;if(!e)return;let r={};if(!t.id){if(t.hasAttribute("data-label")&&(r.label=t.dataset.label),t.hasAttribute("data-latex")&&(r.latex=t.dataset.latex),t.hasAttribute("data-key")&&(r.key=t.dataset.key),t.hasAttribute("data-insert")&&(r.insert=t.dataset.insert),t.hasAttribute("data-variants")&&(r.variants=t.dataset.variants),t.hasAttribute("data-aside")&&(r.aside=t.dataset.aside),t.className&&(r.class=t.className),!r.label&&!r.latex&&!r.key&&!r.insert&&(r.latex=t.innerText,r.label=t.innerHTML),t.hasAttribute("data-command"))try{r.command=JSON.parse(t.dataset.command)}catch{}t.id=e.registerKeycap(r)}if(!t.innerHTML){let[n,i]=j5(r);t.innerHTML=globalThis.MathfieldElement.createHTML(n)}}function hje(){Tu("virtual-keyboard"),Tu("core"),eT()}function Aje(){Du("core"),Du("virtual-keyboard")}var fje=`<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">

<symbol id="svg-delete-backward" viewBox="0 0 576 512">
  <path d="M432.1 208.1L385.9 256L432.1 303C442.3 312.4 442.3 327.6 432.1 336.1C423.6 346.3 408.4 346.3 399 336.1L352 289.9L304.1 336.1C295.6 346.3 280.4 346.3 271 336.1C261.7 327.6 261.7 312.4 271 303L318.1 256L271 208.1C261.7 199.6 261.7 184.4 271 175C280.4 165.7 295.6 165.7 304.1 175L352 222.1L399 175C408.4 165.7 423.6 165.7 432.1 175C442.3 184.4 442.3 199.6 432.1 208.1V208.1zM512 64C547.3 64 576 92.65 576 128V384C576 419.3 547.3 448 512 448H205.3C188.3 448 172 441.3 160 429.3L9.372 278.6C3.371 272.6 0 264.5 0 256C0 247.5 3.372 239.4 9.372 233.4L160 82.75C172 70.74 188.3 64 205.3 64L512 64zM528 128C528 119.2 520.8 112 512 112H205.3C201 112 196.9 113.7 193.9 116.7L54.63 256L193.9 395.3C196.9 398.3 201 400 205.3 400H512C520.8 400 528 392.8 528 384V128z"/>
</symbol>

<symbol id="svg-shift" viewBox="0 0 384 512">
  <path d="M2.438 252.3C7.391 264.2 19.06 272 32 272h80v160c0 26.51 21.49 48 48 48h64C250.5 480 272 458.5 272 432v-160H352c12.94 0 24.61-7.797 29.56-19.75c4.953-11.97 2.219-25.72-6.938-34.88l-160-176C208.4 35.13 200.2 32 192 32S175.6 35.13 169.4 41.38l-160 176C.2188 226.5-2.516 240.3 2.438 252.3zM192 86.63L313.4 224H224v208H160V224H70.63L192 86.63z"/>
</symbol>

<symbol id="svg-commit" viewBox="0 0 512 512">
  <path d="M135 432.1l-128-128C2.344 300.3 0 294.2 0 288s2.344-12.28 7.031-16.97l128-128c9.375-9.375 24.56-9.375 33.94 0s9.375 24.56 0 33.94L81.94 264H464v-208C464 42.75 474.8 32 488 32S512 42.75 512 56V288c0 13.25-10.75 24-24 24H81.94l87.03 87.03c9.375 9.375 9.375 24.56 0 33.94S144.4 442.3 135 432.1z"/>
</symbol>


<symbol id="circle-plus" viewBox="0 0 512 512"><path d="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344c0 13.3 10.7 24 24 24s24-10.7 24-24V280h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H280V168c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H168c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"/></symbol>

<symbol id="svg-command" viewBox="0 0 640 512">
  <path d="M34.495 36.465l211.051 211.05c4.686 4.686 4.686 12.284 0 16.971L34.495 475.535c-4.686 4.686-12.284 4.686-16.97 0l-7.071-7.07c-4.686-4.686-4.686-12.284 0-16.971L205.947 256 10.454 60.506c-4.686-4.686-4.686-12.284 0-16.971l7.071-7.07c4.686-4.687 12.284-4.687 16.97 0zM640 468v-10c0-6.627-5.373-12-12-12H300c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h328c6.627 0 12-5.373 12-12z"/>
</symbol>

<symbol id="svg-undo" viewBox="0 0 512 512">
  <path d="M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z"/>
</symbol>
<symbol id="svg-redo" viewBox="0 0 512 512">
  <path d="M492 8h-10c-6.627 0-12 5.373-12 12v110.625C426.804 57.047 346.761 7.715 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.166 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-7.069-7.069c-4.503-4.503-11.749-4.714-16.482-.454C361.218 449.238 311.065 470 256 470c-117.744 0-214-95.331-214-214 0-117.744 95.331-214 214-214 82.862 0 154.737 47.077 190.289 116H332c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h160c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z"/>
</symbol>
<symbol id="svg-arrow-left" viewBox="0 0 320 512">
  <path d="M206.7 464.6l-183.1-191.1C18.22 267.1 16 261.1 16 256s2.219-11.97 6.688-16.59l183.1-191.1c9.152-9.594 24.34-9.906 33.9-.7187c9.625 9.125 9.938 24.37 .7187 33.91L73.24 256l168 175.4c9.219 9.5 8.906 24.78-.7187 33.91C231 474.5 215.8 474.2 206.7 464.6z"/>
</symbol>
<symbol id="svg-arrow-right" viewBox="0 0 320 512">
  <path d="M113.3 47.41l183.1 191.1c4.469 4.625 6.688 10.62 6.688 16.59s-2.219 11.97-6.688 16.59l-183.1 191.1c-9.152 9.594-24.34 9.906-33.9 .7187c-9.625-9.125-9.938-24.38-.7187-33.91l168-175.4L78.71 80.6c-9.219-9.5-8.906-24.78 .7187-33.91C88.99 37.5 104.2 37.82 113.3 47.41z"/>
</symbol>
<symbol id="svg-tab" viewBox="0 0 448 512">
  <path d="M32 217.1c0-8.8 7.2-16 16-16h144v-93.9c0-7.1 8.6-10.7 13.6-5.7l143.5 143.1c6.3 6.3 6.3 16.4 0 22.7L205.6 410.4c-5 5-13.6 1.5-13.6-5.7v-93.9H48c-8.8 0-16-7.2-16-16v-77.7m-32 0v77.7c0 26.5 21.5 48 48 48h112v61.9c0 35.5 43 53.5 68.2 28.3l143.6-143c18.8-18.8 18.8-49.2 0-68L228.2 78.9c-25.1-25.1-68.2-7.3-68.2 28.3v61.9H48c-26.5 0-48 21.6-48 48zM436 64h-8c-6.6 0-12 5.4-12 12v360c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12z"/>
</symbol>
<symbol id="svg-paste" viewBox="0 0 512 512"><path d="M160 32c11.6 0 21.3 8.2 23.5 19.2C185 58.6 191.6 64 199.2 64H208c8.8 0 16 7.2 16 16V96H96V80c0-8.8 7.2-16 16-16h8.8c7.6 0 14.2-5.4 15.7-12.8C138.7 40.2 148.4 32 160 32zM64 64h2.7C65 69 64 74.4 64 80V96c0 17.7 14.3 32 32 32H224c17.7 0 32-14.3 32-32V80c0-5.6-1-11-2.7-16H256c17.7 0 32 14.3 32 32h32c0-35.3-28.7-64-64-64H210.6c-9-18.9-28.3-32-50.6-32s-41.6 13.1-50.6 32H64C28.7 32 0 60.7 0 96V384c0 35.3 28.7 64 64 64H192V416H64c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32zM288 480c-17.7 0-32-14.3-32-32V192c0-17.7 14.3-32 32-32h96v56c0 22.1 17.9 40 40 40h56V448c0 17.7-14.3 32-32 32H288zM416 165.3L474.7 224H424c-4.4 0-8-3.6-8-8V165.3zM448 512c35.3 0 64-28.7 64-64V235.9c0-12.7-5.1-24.9-14.1-33.9l-59.9-59.9c-9-9-21.2-14.1-33.9-14.1H288c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H448z"/></symbol>
<symbol id="svg-cut" viewBox="0 0 512 512"><path d="M485.6 444.2L333.6 314.9C326.9 309.2 326.1 299.1 331.8 292.4C337.5 285.6 347.6 284.8 354.4 290.5L506.4 419.8C513.1 425.5 513.9 435.6 508.2 442.4C502.5 449.1 492.4 449.9 485.6 444.2zM485.7 67.76C492.5 62.07 502.5 62.94 508.2 69.69C513.9 76.45 513.1 86.55 506.3 92.24L208.5 343.1C218.3 359.7 224 379.2 224 400C224 461.9 173.9 512 112 512C50.14 512 0 461.9 0 400C0 338.1 50.14 288 112 288C141.5 288 168.4 299.4 188.4 318.1L262.2 256L188.4 193.9C168.4 212.6 141.5 224 112 224C50.14 224 0 173.9 0 112C0 50.14 50.14 0 112 0C173.9 0 224 50.14 224 112C224 132.8 218.3 152.3 208.5 168.9L287 235.1L485.7 67.76zM32 112C32 156.2 67.82 192 112 192C156.2 192 192 156.2 192 112C192 67.82 156.2 32 112 32C67.82 32 32 67.82 32 112zM112 480C156.2 480 192 444.2 192 400C192 355.8 156.2 320 112 320C67.82 320 32 355.8 32 400C32 444.2 67.82 480 112 480z"/></symbol>
<symbol id="svg-copy" viewBox="0 0 512 512"><path d="M272 416C263.2 416 256 423.2 256 432V448c0 17.67-14.33 32-32 32H64c-17.67 0-32-14.33-32-32V192c0-17.67 14.33-32 32-32h112C184.8 160 192 152.8 192 144C192 135.2 184.8 128 176 128H63.99c-35.35 0-64 28.65-64 64l.0098 256C0 483.3 28.65 512 64 512h160c35.35 0 64-28.65 64-64v-16C288 423.2 280.8 416 272 416zM502.6 86.63l-77.25-77.25C419.4 3.371 411.2 0 402.7 0H288C252.7 0 224 28.65 224 64v256c0 35.35 28.65 64 64 64h160c35.35 0 64-28.65 64-64V109.3C512 100.8 508.6 92.63 502.6 86.63zM416 45.25L466.7 96H416V45.25zM480 320c0 17.67-14.33 32-32 32h-160c-17.67 0-32-14.33-32-32V64c0-17.67 14.33-32 32-32h96l.0026 64c0 17.67 14.33 32 32 32H480V320z"/>
</symbol>
<symbol id="svg-angle-double-right" viewBox="0 0 512 512"><path d="M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"/>
</symbol>
<symbol id="svg-angle-double-left" viewBox="0 0 512 512"><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"/>
</symbol>
<symbol id="svg-trash" viewBox="0 0 448 512">
  <path d="M336 64l-33.6-44.8C293.3 7.1 279.1 0 264 0h-80c-15.1 0-29.3 7.1-38.4 19.2L112 64H24C10.7 64 0 74.7 0 88v2c0 3.3 2.7 6 6 6h26v368c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V96h26c3.3 0 6-2.7 6-6v-2c0-13.3-10.7-24-24-24h-88zM184 32h80c5 0 9.8 2.4 12.8 6.4L296 64H152l19.2-25.6c3-4 7.8-6.4 12.8-6.4zm200 432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V96h320v368zm-176-44V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm-80 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm160 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12z"/>
</symbol>
<symbol id="svg-keyboard-down" viewBox="0 0 576 512"><path d="M64 48c-8.8 0-16 7.2-16 16V240c0 8.8 7.2 16 16 16H512c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16H64zM0 64C0 28.7 28.7 0 64 0H512c35.3 0 64 28.7 64 64V240c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zM159 359c9.4-9.4 24.6-9.4 33.9 0l95 95 95-95c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9L305 505c-4.5 4.5-10.6 7-17 7s-12.5-2.5-17-7L159 393c-9.4-9.4-9.4-24.6 0-33.9zm1-167c0-8.8 7.2-16 16-16H400c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V192zM120 88h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H120c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16zm64 16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H200c-8.8 0-16-7.2-16-16V104zm96-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H280c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16zm64 16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H360c-8.8 0-16-7.2-16-16V104zm96-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H440c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16z"/></symbol>
</svg>`;function pje(t){t.resetKeycapRegistry(),hje();let e=document.createElement("div");e.className="ML__keyboard";let r=document.createElement("div");r.className="MLK__plate",r.innerHTML=globalThis.MathfieldElement.createHTML(fje+t.normalizedLayouts.map((a,o)=>mje(t,a,o)).join(""));let n=document.createElement("div");n.className="MLK__backdrop",n.appendChild(r),e.appendChild(n),e.addEventListener("pointerdown",yje,{passive:!1});let i=e.querySelectorAll(".ML__edit-toolbar");if(i)for(let a of i)a.addEventListener("click",o=>{var l,c;let u=o.target,d="";for(;u&&!d;)d=(l=u==null?void 0:u.getAttribute("data-command"))!=null?l:"",u=(c=u==null?void 0:u.parentElement)!=null?c:null;d&&t.executeCommand(JSON.parse(d))});uje(e.querySelectorAll(".MLK__keycap, .action, .fnbutton, .bigfnbutton"));let s=e.querySelectorAll(".MLK__layer");s.length>0;for(let a of s)a.addEventListener("pointerdown",o=>o.preventDefault());return t.currentLayer=t.latentLayer,e}function mje(t,e,r){let n=[];if(!("layers"in e))return"";for(let i of e.layers)n.push(`<div tabindex="-1" class="MLK__layer" id="${i.id}">`),(t.normalizedLayouts.length>1||e.displayEditToolbar)&&(n.push("<div class='MLK__toolbar' role='toolbar'>"),n.push(lje(t,r)),e.displayEditToolbar&&n.push('<div class="ML__edit-toolbar right"></div>'),n.push("</div>")),n.push(gje(t,i)),n.push("</div>");return n.join("")}function gje(t,e){if(typeof e=="string")return e;let r="";if(typeof e.style=="string"?r+=`<style>${e.style}</style>`:typeof e.style=="object"&&(r+=`<style>${aje(e.style)}</style>`),e.backdrop&&(r+=`<div class='${e.backdrop}'>`),e.container&&(r+=`<div class='${e.container}'>`),e.rows){r+="<div class=MLK__rows>";for(let n of e.rows){r+='<div dir="ltr" class=MLK__row>';for(let i of n)if(i){let s=t.registerKeycap(i),[a,o]=j5(i);/(^|\s)separator/.test(o)?r+=`<div class="${o}"`:r+=`<div tabindex="-1" id="${s}" class="${o}"`,i.tooltip&&(r+=` data-tooltip="${i.tooltip}"`),r+=`>${a}</div>`}r+="</div>"}r+="</div>"}else e.markup&&(r+=e.markup);return e.container&&(r+="</div>"),e.backdrop&&(r+="</div>"),r}function j5(t,e={shifted:!1}){var r,n,i,s,a,o,l;let c="",u=(r=t.class)!=null?r:"";if(e.shifted&&MA(t)&&(u+=" is-active"),e.shifted&&"shift"in t)typeof t.shift=="string"?c=Bp(t.shift):typeof t.shift=="object"&&(c=t.shift.label?t.shift.label:(n=Bp(t.shift.latex||t.shift.insert||"")||t.shift.key)!=null?n:""),typeof t.shift=="object"&&(u=(s=(i=t.shift.class)!=null?i:t.class)!=null?s:"");else{if(c=t.label?t.label:(a=Bp(t.latex||t.insert||"")||t.key)!=null?a:"",t.shift){let d;typeof t.shift=="string"?d=Bp(t.shift):t.shift.label?d=t.shift.label:d=(o=Bp(t.shift.latex||t.shift.insert||"")||t.shift.key)!=null?o:"",c+=`<span class="MLK__shift">${d}</span>`}t.aside&&(c+=`<aside>${t.aside}</aside>`)}return t.layer&&!/layer-switch/.test(u)&&(u+=" layer-switch"),/(^|\s)(separator|action|shift|fnbutton|bigfnbutton)($|\s)/.test(u)||(u+=" MLK__keycap"),!/\bw[0-9]+\b/.test(u)&&t.width&&(u+=(l={0:" w0",.5:" w5",1.5:" w15",2:" w20",5:" w50"}[t.width])!=null?l:""),[c,u||"MLK__keycap"]}var sl={"[left]":{class:"action hide-shift",label:"<svg class=svg-glyph><use xlink:href=#svg-arrow-left /></svg>",command:"performWithFeedback(moveToPreviousChar)",shift:{label:"<svg class=svg-glyph><use xlink:href=#svg-angle-double-left /></svg>",command:"performWithFeedback(extendSelectionBackward)"}},"[right]":{class:"action hide-shift",label:"<svg class=svg-glyph><use xlink:href=#svg-arrow-right /></svg>",command:"performWithFeedback(moveToNextChar)",shift:{label:"<svg class=svg-glyph><use xlink:href=#svg-angle-double-right /></svg>",command:"performWithFeedback(extendSelectionForward)"}},"[up]":{class:"action hide-shift",label:"↑",command:"performWithFeedback(moveUp)",shift:{label:"↟",command:"performWithFeedback(extendSelectionUpward)"}},"[down]":{class:"action hide-shift",label:"↓",command:"performWithFeedback(moveDown)",shift:{label:"↡",command:"performWithFeedback(extendSelectionDownward)"}},"[return]":{class:"action hide-shift",command:"performWithFeedback(commit)",shift:{command:"performWithFeedback(addRowAfter)"},width:1.5,label:"<svg class=svg-glyph><use xlink:href=#svg-commit /></svg>"},"[action]":{class:"action hide-shift",command:"performWithFeedback(commit)",shift:{label:"<svg class=svg-glyph><use xlink:href=#circle-plus /></svg>",command:"performWithFeedback(addRowAfter)"},width:1.5,label:"<svg class=svg-glyph><use xlink:href=#svg-commit /></svg>"},"[hr]":{class:"separator horizontal-rule"},"[hide-keyboard]":{class:"action",command:["hideVirtualKeyboard"],width:1.5,label:"<svg class=svg-glyph-lg><use xlink:href=#svg-keyboard-down /></svg>"},"[.]":{variants:".",command:"performWithFeedback(insertDecimalSeparator)",shift:",",class:"big-op hide-shift",label:"."},"[,]":{variants:",",command:"performWithFeedback(insertDecimalSeparator)",shift:".",class:"big-op hide-shift",label:","},"[+]":{variants:[{latex:"\\sum_{#0}^{#0}",class:"small"},"\\oplus"],latex:"+",label:"+",class:"big-op hide-shift",shift:{latex:"\\sum",insert:"\\sum",class:"small"}},"[-]":{variants:["\\pm","\\ominus"],latex:"-",label:"&#x2212;",shift:"\\pm",class:"big-op hide-shift"},"[/]":{class:"big-op hide-shift",shift:{class:"",latex:"\\frac{1}{#@}"},variants:["/","\\div","\\%","\\oslash"],latex:"\\frac{#@}{#?}",label:"&divide;"},"[*]":{variants:[{latex:"\\prod_{#0}^{#0}",class:"small"},"\\otimes","\\cdot"],latex:"\\cdot",label:"&times;",shift:{latex:"\\times"},class:"big-op hide-shift"},"[=]":{variants:["\\neq","\\equiv","\\varpropto","\\thickapprox","\\lt","\\gt","\\le","\\ge"],latex:"=",label:"=",shift:{label:"≠",latex:"\\ne"},class:"big-op hide-shift"},"[backspace]":{class:"action bottom right hide-shift",width:1.5,command:"performWithFeedback(deleteBackward)",label:"<svg class=svg-glyph><use xlink:href=#svg-delete-backward /></svg>",shift:{class:"action warning",label:"<svg class=svg-glyph><use xlink:href=#svg-trash /></svg>",command:"deleteAll"}},"[undo]":{class:"ghost if-can-undo",command:"undo",label:"<svg class=svg-glyph><use xlink:href=#svg-undo /></svg>",tooltip:"tooltip.undo"},"[redo]":{class:"ghost  if-can-redo",command:"redo",label:"<svg class=svg-glyph><use xlink:href=#svg-redo /></svg>",tooltip:"tooltip.redo"},"[(]":{variants:[{latex:"\\lbrack",key:"["},"\\langle","\\lfloor","\\lceil",{latex:"\\lbrace",key:"{"}],key:"(",label:"(",shift:{label:"[",key:"["},class:"hide-shift"},"[)]":{variants:[{latex:"\\rbrack",key:"]"},"\\rangle","\\rfloor","\\rceil",{latex:"\\rbrace",key:"}"}],key:")",label:")",shift:{label:"]",latex:"\\rbrack"},class:"hide-shift"},"[0]":{variants:"0",latex:"0",label:"0",shift:"\\infty",class:"hide-shift"},"[1]":{variants:"1",latex:"1",label:"1",shift:"#@^{-1}",class:"hide-shift"},"[2]":{variants:"2",latex:"2",label:"2",shift:"#@^2",class:"hide-shift"},"[3]":{variants:"3",latex:"3",label:"3",shift:"#@^3",class:"hide-shift"},"[4]":{variants:"4",latex:"4",label:"4",shift:"#@^4",class:"hide-shift"},"[5]":{variants:"5",latex:"5",label:"5",shift:"#@^5",class:"hide-shift"},"[6]":{variants:"6",latex:"6",label:"6",shift:"#@^6",class:"hide-shift"},"[7]":{variants:"7",latex:"7",label:"7",shift:"#@^7",class:"hide-shift"},"[8]":{variants:"8",latex:"8",label:"8",shift:"#@^8",class:"hide-shift"},"[9]":{variants:"9",latex:"9",label:"9",shift:"#@^9",class:"hide-shift"},"[separator-5]":{class:"separator",width:.5},"[separator]":{class:"separator"},"[separator-10]":{class:"separator"},"[separator-15]":{class:"separator",width:1.5},"[separator-20]":{class:"separator",width:2},"[separator-50]":{class:"separator",width:5},"[shift]":{class:"shift bottom left",width:1.5,label:"<span class=caps-lock-indicator></span><svg class=svg-glyph><use xlink:href=#svg-shift /></svg>"},"[foreground-color]":{variants:"foreground-color",command:["applyStyle",{color:"red"}],label:"<span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428; box-sizing: border-box'>"},"[background-color]":{variants:"background-color",command:["applyStyle",{backgroundColor:"yellow"}],label:"<span style='border-radius: 50%;width:22px;height:22px; background:#fff590; box-sizing: border-box'></span>"}};function nT(t){var e;if(typeof t=="string"){if(t==="[.]"&&globalThis.MathfieldElement.decimalSeparator===","&&(t="[,]"),!sl[t])return{latex:t};t={label:t}}let r;return"label"in t&&t.label&&sl[t.label]&&(r=G(P(P({},sl[t.label]),t),{label:sl[t.label].label})),"key"in t&&t.key&&sl[t.key]&&(r=G(P(P({},sl[t.key]),t),{key:sl[t.key].key})),r?(r.command==="insertDecimalSeparator"&&(r.label=(e=globalThis.MathfieldElement.decimalSeparator)!=null?e:"."),(r.tooltip===void 0||r.tooltip===null||r.tooltip===!1)&&delete r.tooltip,(r.tooltip===void 0||r.tooltip===null||r.tooltip===!1)&&delete r.tooltip,(r.aside===void 0||r.aside===null||r.aside===!1)&&delete r.aside,(r.variants===void 0||r.variants===null||r.variants===!1)&&delete r.variants,(r.shift===void 0||r.shift===null||r.shift===!1)&&delete r.shift,r):t}var Gm;function yje(t){var e;if(t.button!==0)return;let r=Xu.singleton;if(!r)return;let n=t.target;for(;n&&!n.getAttribute("data-layer");)n=n.parentElement;if(n){r.currentLayer=(e=n.getAttribute("data-layer"))!=null?e:"",t.preventDefault();return}let i=sA(t.target);if(!(i!=null&&i.id))return;let s=r.getKeycap(i.id);if(!s)return;t.type;let a=new AbortController,o=a.signal;i.classList.add("is-pressed"),i.addEventListener("pointerenter",Mv(a),{capture:!0,signal:o}),i.addEventListener("pointerleave",Mv(a),{capture:!0,signal:o}),i.addEventListener("pointercancel",Mv(a),{signal:o}),i.addEventListener("pointerup",Mv(a),{signal:o}),MA(s)&&(i.classList.add("is-active"),r.shiftPressCount++),s.variants&&(Gm&&clearTimeout(Gm),Gm=setTimeout(()=>{i.classList.contains("is-pressed")&&(i.classList.remove("is-pressed"),i.classList.add("is-active"),t.target&&"releasePointerCapture"in t.target&&t.target.releasePointerCapture(t.pointerId),Gre(i,()=>{a.abort(),i==null||i.classList.remove("is-active")}))},s.stickyVariantPanel?0:300)),t.preventDefault()}function Mv(t){return e=>{let r=sA(e.target);if(!(r!=null&&r.id))return;let n=Xu.singleton;if(!n)return;let i=n.getKeycap(r.id);if(i){if(e.type==="pointerenter"&&e.target===r&&e.isPrimary&&r.classList.add("is-pressed"),e.type==="pointercancel"){r.classList.remove("is-pressed"),MA(i)&&(n.shiftPressCount--,r.classList.toggle("is-active",n.isShifted)),t.abort();return}if(e.type==="pointerleave"&&e.target===r){r.classList.remove("is-pressed"),MA(i)&&(n.shiftPressCount--,r.classList.toggle("is-active",n.isShifted));return}if(e.type==="pointerup"){Gm&&clearTimeout(Gm),MA(i)?r.classList.toggle("is-active",n.isShifted):r.classList.contains("is-pressed")&&(r.classList.remove("is-pressed"),n.isShifted&&i.shift?typeof i.shift=="string"?n.executeCommand(["insert",i.shift,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]):t_(i.shift):t_(i),n.shiftPressCount===1&&!e.shiftKey&&(n.shiftPressCount=0)),t.abort(),e.preventDefault();return}}}}function t_(t){var e;let r=t.command;!r&&t.insert&&(r=["insert",t.insert,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]),!r&&t.key&&(r=["typedText",t.key,{focus:!0,feedback:!0,simulateKeystroke:!0}]),!r&&t.latex&&(r=["insert",t.latex,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]),r||(r=["typedText",t.label,{focus:!0,feedback:!0,simulateKeystroke:!0}]),(e=Xu.singleton)==null||e.executeCommand(r)}function vje(t){if(t.nodeType!==1)return!1;let e=t.classList;return e.contains("MLK__keycap")||e.contains("shift")||e.contains("action")||e.contains("fnbutton")||e.contains("bigfnbutton")}function sA(t){if(!t)return;let e=t;for(;e&&!vje(e);)e=e.parentElement;return e??void 0}function MA(t){return!!t.class&&/(^|\s)shift($|\s)/.test(t.class)}var Xu=class Yre{constructor(){this.originalContainerBottomPadding=null,this.keycapRegistry={},this._shiftPressCount=0;var e;this.targetOrigin=window.origin,this.originValidator="none",this._alphabeticLayout="auto",this._layouts=Object.freeze(["default"]),this._editToolbar="default",this._container=void 0,this._visible=!1,this._rebuilding=!1,this.observer=new ResizeObserver(r=>{this.adjustBoundingRect(),this.dispatchEvent(new Event("geometrychange")),this.sendMessage("geometry-changed",{boundingRect:this.boundingRect})}),this.listeners={};try{(e=window.top)==null||e.addEventListener("message",this)}catch{window.addEventListener("message",this)}document.addEventListener("focusin",r=>{let n=r.target;n!=null&&n.isConnected&&setTimeout(()=>{let i=Nz();i&&!i.readOnly&&i.mathVirtualKeyboardPolicy==="auto"&&bte()&&this.show({animate:!0})},300)}),document.addEventListener("focusout",r=>{r.target instanceof Nu&&r.target.mathVirtualKeyboardPolicy!=="manual"&&setTimeout(()=>{Nz()||this.hide()},300)})}get currentLayer(){var e,r,n;return(n=(r=(e=this._element)==null?void 0:e.querySelector(".MLK__layer.is-visible"))==null?void 0:r.id)!=null?n:""}set currentLayer(e){var r;if(!this._element){this.latentLayer=e;return}let n=e?this._element.querySelector(`#${e}.MLK__layer`):null;n||(n=this._element.querySelector(".MLK__layer")),n&&((r=this._element.querySelector(".MLK__layer.is-visible"))==null||r.classList.remove("is-visible"),n.classList.add("is-visible")),this.render()}get shiftPressCount(){return this._shiftPressCount}set shiftPressCount(e){var r;this._shiftPressCount=e>2||e<0?0:e,(r=this._element)==null||r.classList.toggle("is-caps-lock",this.shiftPressCount===2),this.render()}get isShifted(){return this._shiftPressCount>0}resetKeycapRegistry(){this.keycapRegistry={}}registerKeycap(e){let r="ML__k"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36);return this.keycapRegistry[r]=e,r}setKeycap(e,r){sl[e]=nT(r),this.rebuild()}getKeycap(e){var r;return e?(r=sl[e])!=null?r:this.keycapRegistry[e]:void 0}getLayer(e){let r=this.normalizedLayouts;for(let n of r)for(let i of n.layers)if(i.id===e)return i}get alphabeticLayout(){return this._alphabeticLayout}set alphabeticLayout(e){this._alphabeticLayout=e,this._normalizedLayouts=void 0,this.rebuild()}get layouts(){return this._layouts}set layouts(e){this.updateNormalizedLayouts(e),this.rebuild()}updateNormalizedLayouts(e){let r=Array.isArray(e)?[...e]:[e],n=r.findIndex(i=>i==="default");n>=0&&r.splice(n,1,"numeric","symbols","alphabetic","greek"),this._layouts=Object.freeze(r),this._normalizedLayouts=r.map(i=>Xre(i))}get normalizedLayouts(){return this._normalizedLayouts||this.updateNormalizedLayouts(this._layouts),this._normalizedLayouts}get editToolbar(){return this._editToolbar}set editToolbar(e){this._editToolbar=e,this.rebuild()}get container(){return this._container===void 0?window.document.body:this._container}set container(e){this._container=e,this.rebuild()}static get singleton(){if(this._singleton===void 0)try{this._singleton=new Yre}catch{this._singleton=null}return this._singleton}get style(){return this._style}addEventListener(e,r,n){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].has(r)||this.listeners[e].add(r)}dispatchEvent(e){return!this.listeners[e.type]||this.listeners[e.type].size===0?!0:(this.listeners[e.type].forEach(r=>{typeof r=="function"?r(e):r==null||r.handleEvent(e)}),!e.defaultPrevented)}removeEventListener(e,r,n){this.listeners[e]&&this.listeners[e].delete(r)}get element(){return this._element}set element(e){var r;this._element!==e&&((r=this._element)==null||r.remove(),this._element=e)}get visible(){return this._visible}set visible(e){e?this.show():this.hide()}get boundingRect(){var e;if(!this._visible)return new DOMRect;let r=(e=this._element)==null?void 0:e.getElementsByClassName("MLK__plate")[0];return r?r.getBoundingClientRect():new DOMRect}adjustBoundingRect(){var e,r;let n=this.boundingRect.height;if(this.container===document.body){(e=this._element)==null||e.style.setProperty("--_keyboard-height",`calc(${n}px + var(--_padding-top) + var(--_padding-bottom) + env(safe-area-inset-bottom, 0))`);let i=n-1;this.container.style.paddingBottom=this.originalContainerBottomPadding?`calc(${this.originalContainerBottomPadding} + ${i}px)`:`${i}px`}else(r=this._element)==null||r.style.setProperty("--_keyboard-height",`${n}px`)}rebuild(){if(this._rebuilding||!this._element)return;this._rebuilding=!0;let e=this.currentLayer;requestAnimationFrame(()=>{this._rebuilding=!1,this._element&&(this._element.remove(),this._element=void 0),this.visible&&(this.buildAndAttachElement(),this.currentLayer=e,this.render(),this.adjustBoundingRect(),this._element.classList.add("is-visible"))})}render(){var e;if(!this._element)return;let r=this.getLayer(this.currentLayer);this._element.classList.toggle("backdrop-is-transparent",!!(r&&(r.backdrop||r.container)));let n=this._element.querySelectorAll(".MLK__layer.is-visible .MLK__keycap, .MLK__layer.is-visible .action, .fnbutton, .MLK__layer.is-visible .bigfnbutton, .MLK__layer.is-visible .shift");if(!n)return;let i=this.isShifted;for(let s of n){let a=this.getKeycap(s.id);if(a){let[o,l]=j5(a,{shifted:i});s.innerHTML=globalThis.MathfieldElement.createHTML(o),s.className=l,i&&typeof a.shift=="object"&&(e=a.shift)!=null&&e.tooltip?s.dataset.tooltip=a.shift.tooltip:!i&&a.tooltip&&(s.dataset.tooltip=a.tooltip)}}}show(e){var r;if(this._visible)return;let n=this.container;if(n&&window.mathVirtualKeyboard&&this.stateWillChange(!0)){if(this._element||(this.buildAndAttachElement(),this.adjustBoundingRect()),!this._visible){let i=this._element.getElementsByClassName("MLK__plate")[0];if(i&&this.observer.observe(i),n===window.document.body){let s=n.style.paddingBottom;this.originalContainerBottomPadding=s;let a=i.offsetHeight-1;n.style.paddingBottom=s?`calc(${s} + ${a}px)`:`${a}px`}window.addEventListener("mouseup",this),window.addEventListener("blur",this),window.addEventListener("keydown",this,{capture:!0}),window.addEventListener("keyup",this,{capture:!0}),(r=this._element)==null||r.classList.toggle("is-caps-lock",this.shiftPressCount===2),this.currentLayer=this.latentLayer}this._visible=!0,e!=null&&e.animate?requestAnimationFrame(()=>{this._element&&(this._element.classList.add("animate"),this._element.addEventListener("transitionend",()=>{var i;return(i=this._element)==null?void 0:i.classList.remove("animate")},{once:!0}),this._element.classList.add("is-visible"),this.stateChanged())}):(this._element.classList.add("is-visible"),this.stateChanged())}}hide(e){var r;let n=this.container;if(n&&this._visible&&this.stateWillChange(!1)){if(this._visible=!1,this._element){this.latentLayer=this.currentLayer;let i=this._element.getElementsByClassName("MLK__plate")[0];i&&this.observer.unobserve(i),window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("keydown",this,{capture:!0}),window.removeEventListener("keyup",this,{capture:!0}),window.removeEventListener("contextmenu",this,{capture:!0}),iA(),Aje(),(r=this._element)==null||r.remove(),this._element=void 0,this.originalContainerBottomPadding!==null&&(n.style.paddingBottom=this.originalContainerBottomPadding)}this.stateChanged()}}get height(){var e,r;return(r=(e=this.element)==null?void 0:e.offsetHeight)!=null?r:0}buildAndAttachElement(){var e;this.element,this.element=pje(this),window.addEventListener("contextmenu",this,{capture:!0}),this.element.addEventListener("contextmenu",r=>{r.shiftKey||((r.ctrlKey||r.button===2)&&Gre(r.target),r.preventDefault(),r.stopPropagation())},{capture:!0}),(e=this.container)==null||e.appendChild(this.element)}handleEvent(e){if(rT(e)){if(!VF(e.origin,this.originValidator))throw new DOMException(`Message from unknown origin (${e.origin}) cannot be handled`,"SecurityError");e.data.action==="disconnect"?this.connectedMathfieldWindow=void 0:e.data.action!=="update-setting"&&e.data.action!=="proxy-created"&&e.data.action!=="execute-command"&&(e.source,this.connectedMathfieldWindow=e.source),this.handleMessage(e.data,e.source)}if(this._element)switch(e.type){case"mouseup":case"blur":document.body.style.userSelect="",this.shiftPressCount=0;break;case"contextmenu":e.button!==2&&e.preventDefault();break;case"keydown":{e.key==="Shift"&&!e.repeat&&(this.shiftPressCount=1);break}case"keyup":{(e.key==="Shift"||!e.getModifierState("Shift")&&this.shiftPressCount!==2)&&(this.shiftPressCount=0);break}}}handleMessage(e,r){let{action:n}=e;if(n==="execute-command"){let{command:i}=e,s=EA(i);if(window.top!==void 0&&s!=="virtual-keyboard")return;this.executeCommand(i);return}if((n==="connect"||n==="show")&&this.sendMessage("synchronize-proxy",{boundingRect:this.boundingRect,alphabeticLayout:this._alphabeticLayout,layouts:this._layouts,editToolbar:this._editToolbar},r),n!=="disconnect"&&window===window.top){if(n==="show"){typeof e.animate<"u"?this.show({animate:e.animate}):this.show();return}if(n==="hide"){typeof e.animate<"u"?this.hide({animate:e.animate}):this.hide();return}if(n==="update-setting"){if(e.alphabeticLayout&&(this.alphabeticLayout=e.alphabeticLayout),e.layouts&&(this.layouts=e.layouts),e.editToolbar&&(this.editToolbar=e.editToolbar),e.setKeycap){let{keycap:i,value:s}=e.setKeycap;this.setKeycap(i,s),this.render()}return}if(n==="proxy-created"){this.sendMessage("synchronize-proxy",{boundingRect:this.boundingRect,alphabeticLayout:this._alphabeticLayout,layouts:this._layouts,editToolbar:this._editToolbar},r);return}}}sendMessage(e,r,n){if(r.command&&this.dispatchEvent(new CustomEvent("math-virtual-keyboard-command",{detail:r.command})),n||(n=this.connectedMathfieldWindow),this.targetOrigin===null||this.targetOrigin==="null"||n===window){window.dispatchEvent(new MessageEvent("message",{source:window,data:P({type:F3,action:e},r)}));return}if(n)n.postMessage(P({type:F3,action:e},r),{targetOrigin:this.targetOrigin});else if(e==="execute-command"&&Array.isArray(r.command)&&r.command[0]==="insert"){let i=r.command[1].split("");for(let s of i)this.dispatchEvent(new KeyboardEvent("keydown",{key:s,bubbles:!0})),this.dispatchEvent(new KeyboardEvent("keyup",{key:s,bubbles:!0}))}}stateWillChange(e){return this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:e},bubbles:!0,cancelable:!0,composed:!0}))}stateChanged(){this.dispatchEvent(new Event("virtual-keyboard-toggle")),this._visible||(this.dispatchEvent(new Event("geometrychange")),this.sendMessage("geometry-changed",{boundingRect:this.boundingRect}))}focus(){this.sendMessage("focus",{})}blur(){this.sendMessage("blur",{})}updateToolbar(e){let r=this._element;if(!r)return;r.classList.toggle("is-math-mode",e.mode==="math"),r.classList.toggle("is-text-mode",e.mode==="text"),r.classList.toggle("can-undo",e.canUndo),r.classList.toggle("can-redo",e.canRedo),r.classList.toggle("can-copy",!e.selectionIsCollapsed),r.classList.toggle("can-copy",!e.selectionIsCollapsed),r.classList.toggle("can-paste",!0);let n=r.querySelectorAll(".ML__edit-toolbar");if(n)for(let i of n)i.innerHTML=cje(this,e)}update(e){this._style=e.style,this.updateToolbar(e)}connect(){this.connectedMathfieldWindow=window}disconnect(){this.connectedMathfieldWindow=void 0}executeCommand(e){if(e=s1(e),!e)return!1;let r,n=[],i=EA(e);return Bn(e)?(r=e[0],r==="performWithFeedback"&&(i=EA(e.slice(1))),n=e.slice(1)):r=e,i==="virtual-keyboard"?vo[r].fn(void 0,...n):(this.sendMessage("execute-command",{command:e}),!1)}dispose(){window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("message",this)}};function Nz(){let t=k3(),e=null;for(;t;){if("host"in t&&t.host instanceof Nu){e=t.host;break}t=t.parentNode}return e}if(sa()&&!("mathVirtualKeyboard"in window))if(window===window.top){let t=Xu.singleton;Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>t})}else Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>rje.singleton,configurable:!0});function T3(t){let e={};for(let r of Object.keys(t))switch(r){case"scriptDepth":let n=t.scriptDepth;if(Bn(n))e.scriptDepth=[n[0],n[1]];else if(typeof n=="number")e.scriptDepth=[n,n];else if(typeof n=="string"){let[s,a]=n.split(",").map(o=>parseInt(o.trim()));e.scriptDepth=[s,a]}else throw new TypeError("Unexpected value for scriptDepth");break;case"mathVirtualKeyboardPolicy":let i=t.mathVirtualKeyboardPolicy.toLowerCase();if(i==="sandboxed"){if(window!==window.top){let s=Xu.singleton;Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>s})}i="manual"}e.mathVirtualKeyboardPolicy=i;break;case"letterShapeStyle":t.letterShapeStyle==="auto"?ot.locale.startsWith("fr")?e.letterShapeStyle="french":e.letterShapeStyle="tex":e.letterShapeStyle=t.letterShapeStyle;break;case"defaultMode":["text","math","inline-math"].includes(t.defaultMode)?e.defaultMode=t.defaultMode:(console.error('MathLive 0.104.0:  valid values for defaultMode are "text", "math" or "inline-math"'),e.defaultMode="math");break;case"macros":e.macros=PS(t.macros);break;default:Bn(t[r])?e[r]=[...t[r]]:typeof t[r]=="object"&&!(t[r]instanceof Element)&&r!=="computeEngine"?e[r]=P({},t[r]):e[r]=t[r]}return e}function Id(t,e){let r;typeof e=="string"?r=[e]:e===void 0?r=Object.keys(t):r=e;let n={};for(let i of r)t[i]===null?n[i]=null:Bn(t[i])?n[i]=[...t[i]]:typeof t[i]=="object"&&!(t[i]instanceof Element)&&i!=="computeEngine"?n[i]=P({},t[i]):n[i]=t[i];return typeof e=="string"?n[e]:n}function Tx(){return{readOnly:!1,defaultMode:"math",macros:{},registers:{},colorMap:w5,backgroundColorMap:OF,letterShapeStyle:ot.locale.startsWith("fr")?"french":"tex",minFontScale:0,maxMatrixCols:10,smartMode:!1,smartFence:!0,smartSuperscript:!0,scriptDepth:[1/0,1/0],removeExtraneousParentheses:!0,isImplicitFunction:t=>["\\sin","\\cos","\\tan","\\arcsin","\\arccos","\\arctan","\\arcsec","\\arccsc","\\arsinh","\\arcosh","\\artanh","\\arcsech","\\arccsch","\\arg","\\ch","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\sec","\\sinh","\\sh","\\tanh","\\tg","\\th","\\lg","\\lb","\\log","\\ln"].includes(t),mathModeSpace:"",placeholderSymbol:"▢",contentPlaceholder:"",popoverPolicy:"auto",environmentPopoverPolicy:"off",keybindings:mLe,inlineShortcuts:Rte,inlineShortcutTimeout:0,mathVirtualKeyboardPolicy:"auto",virtualKeyboardTargetOrigin:window==null?void 0:window.origin,originValidator:"none",onInsertStyle:JF,onInlineShortcut:()=>"",onScrollIntoView:null,onExport:pLe,value:""}}function jz(t){return t.defaultMode==="inline-math"?"math":t.defaultMode}function xje(t,e){let r=t.at(t.position);if(r.type==="composition")r.value=e;else{let{caret:n}=r;r.caret=void 0;let i=new sre(e,{mode:r.mode});i.caret=n,r.parent.addChildAfter(i,r),t.position+=1}}function bje(t){let e=t.at(t.position);e.type==="composition"&&(e.parent.removeChild(e),t.position-=1)}UF(["math","displaymath"],Vi);UF("center",Vi);ec(["multline","multline*"],"",Vi);de("displaylines","",{parse:t=>{if(t.skipWhitespace(),!t.match("<{>"))return[];let e=[],r=[];t.mathlist.length>0&&e.push([t.mathlist]),t.beginContext({tabular:!0,root:!0});do{if(t.end()||t.match("<}>"))break;t.matchColumnSeparator()||t.matchRowSeparator()?(e.push([r]),r=[]):r.push(...t.scan(i=>["<}>","&","\\cr","\\\\","\\tabularnewline"].includes(i)))}while(!0);t.endContext(),e.push([r]);let n=t.scan();return n.length>0&&e.push([n]),e},createAtom:t=>new ht("lines",t.args,[],{leftDelim:".",rightDelim:".",columns:[{align:"l"}],classes:["ML__multiline_environment"],isRoot:!0,minColumns:1,maxColumns:1,minRows:1})});ec("split","",Vi);ec(["gather","gather*","gathered"],"",Vi);ec(["equation","equation*","subequations"],"",Vi);UF(["align","align*","eqnarray"],Vi,{tabular:!0});ec(["aligned"],"",Vi);ec("array","{columns:colspec}",(t,e,r,n)=>new ht(t,e,r,{columns:n[0],mathstyleName:"textstyle"}));ec(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],"[columns:colspec]",Vi);ec(["smallmatrix","smallmatrix*"],"[columns:colspec]",Vi);ec(["cases","dcases","rcases"],"",Vi);function Vi(t,e=[[[]]],r=[],n=[],i){switch(t){case"math":return new ht(t,e,r,{mathstyleName:"textstyle",isRoot:!0,minColumns:1,maxColumns:1,minRows:1,maxRows:1});case"displaymath":return new ht(t,e,r,{mathstyleName:"textstyle",isRoot:!0,minColumns:1,maxColumns:1,minRows:1,maxRows:1});case"center":return new ht(t,e,r,{columns:[{align:"c"}],classes:["ML__center_environment"],isRoot:!0,minColumns:1,maxColumns:1,minRows:1,maxRows:1});case"multline":case"multline*":return new ht(t,e,r,{columns:[{align:"m"}],leftDelim:".",rightDelim:".",isRoot:!0,minColumns:1,maxColumns:1,minRows:1});case"split":return new ht(t,e,r,{columns:[{align:"r"},{align:"l"}],minColumns:2,minRows:1,isRoot:!1});case"gather":case"gather*":return new ht(t,e,r,{columns:[{gap:.25},{align:"c"},{gap:0}],minColumns:1,maxColumns:1,minRows:1,isRoot:!0,classes:["ML__gather_environment"]});case"gathered":return new ht(t,e,r,{columns:[{gap:.25},{align:"c"},{gap:0}],minColumns:1,maxColumns:1,minRows:1});case"equation":case"equation*":case"subequations":return new ht(t,e,r,{columns:[{align:"c"}],isRoot:!0,minColumns:1,maxColumns:1,minRows:1});case"aligned":{let s=0;for(let l of e)s=Math.max(s,l.length);let a=[{gap:0},{align:"r"},{gap:.25},{align:"l"}],o=2;for(;o<s;)a.push({gap:1},{align:"r"},{gap:.25},{align:"l"}),o+=2;return a.push({gap:0}),new ht(t,e,r,{arraycolsep:0,columns:a,minColumns:2,minRows:1,isRoot:t!=="aligned"})}case"eqnarray":return new ht(t,e,r,{arraycolsep:0,columns:[{gap:0},{align:"r"},{align:"c"},{align:"l"}],minColumns:3,maxColumns:3,minRows:1,isRoot:!0,classes:["ML__eqnarray_environment"]});case"align":case"align*":return new ht(t,e,r,{arraycolsep:0,columns:[{gap:0},{align:"r"},{gap:.25},{align:"l"}],minColumns:2,maxColumns:2,minRows:1,isRoot:!0,classes:["ML__align_environment"]});case"pmatrix":case"pmatrix*":return new ht(t,e,r,{mathstyleName:"textstyle",leftDelim:"(",rightDelim:")",columns:fd(n[0],i)});case"bmatrix":case"bmatrix*":return new ht(t,e,r,{mathstyleName:"textstyle",leftDelim:"[",rightDelim:"]",columns:fd(n[0],i)});case"Bmatrix":case"Bmatrix*":return new ht(t,e,r,{mathstyleName:"textstyle",leftDelim:"\\lbrace",rightDelim:"\\rbrace",columns:fd(n[0],i)});case"vmatrix":case"vmatrix*":return new ht(t,e,r,{mathstyleName:"textstyle",leftDelim:"\\vert",rightDelim:"\\vert",columns:fd(n[0],i)});case"Vmatrix":case"Vmatrix*":return new ht(t,e,r,{mathstyleName:"textstyle",leftDelim:"\\Vert",rightDelim:"\\Vert",columns:fd(n[0],i)});case"matrix":case"matrix*":return new ht(t,e,r,{mathstyleName:"textstyle",leftDelim:".",rightDelim:".",columns:fd(n==null?void 0:n[0],i)});case"smallmatrix":case"smallmatrix*":return new ht(t,e,r,{mathstyleName:"scriptstyle",columns:fd(n==null?void 0:n[0],i),colSeparationType:"small",arraystretch:.5});case"cases":case"dcases":return new ht(t,e,r,{mathstyleName:t==="dcases"?"displaystyle":"textstyle",arraystretch:1.2,leftDelim:"\\lbrace",rightDelim:".",columns:[{align:"l"},{gap:1},{align:"l"}]});case"rcases":return new ht(t,e,r,{arraystretch:1.2,leftDelim:".",rightDelim:"\\rbrace",columns:[{align:"l"},{gap:1},{align:"l"}]});case"lines":return new ht(t,e,r,{leftDelim:".",rightDelim:".",columns:[{align:"l"}],isRoot:!0,minColumns:1,maxColumns:1,minRows:1})}return new ht(t,e,r,{mathstyleName:"textstyle"})}function fd(t,e=10){return t??Array(e).fill({align:"c"})}function wje(t){let e=t.at(t.position);for(;e&&!$l(e.parentBranch);)e=e.parent;return[e.firstSibling,e.lastSibling]}function Cje(t,e){let r=t.at(t.position);for(;r&&!(r.parent instanceof ht);)r=r.parent;if(r&&r.type==="array"&&r.environmentName,!r||!(r.parent instanceof ht)){let n=t.at(t.position);if(r=n,!r.parent.parent){let i=t.extractAtoms([t.position,t.lastOffset]),s=t.extractAtoms([0,t.position]),a;return e.endsWith("column")?(s.length===0&&(s=Tv()),i.length===0&&(i=Tv()),a=Vi("split",[[s,i]]),t.root=a,Sp(a,0,0)?mh(t,a,0,0):Sp(a,0,1)?mh(t,a,0,1):t.position=t.offsetOf(n)):(a=Vi("lines",[[s],[i]]),t.root=a,mh(t,a,1,0)),[void 0,[0,0]]}if(r.parent instanceof pr){let i=r.parent,s=t.extractAtoms([t.position,t.offsetOf(i.lastChild)]),a=t.extractAtoms([t.offsetOf(i.firstChild),t.position]);a.length===0&&(a=Tv()),s.length===0&&(s=Tv());let o="pmatrix",l=i.leftDelim,c=i.rightDelim;l==="("&&(c===")"||c==="?")?o="pmatrix":(l==="["||l==="\\lbrack")&&(c==="]"||c==="\\rbrack"||c==="?")?o="bmatrix":l==="\\vert"&&c==="\\vert"?o="vmatrix":l==="\\Vert"&&c==="\\Vert"?o="Vmatrix":(l==="{"||l==="\\lbrace")&&(c==="."||c==="?")&&(o="cases");let u=Vi(o,e.endsWith("column")?[[a,s]]:[[a],[s]]);return i.parent.addChildBefore(u,i),i.parent.removeChild(i),Sp(u,0,0)?mh(t,u,0,0):e.endsWith("column")?Sp(u,0,1)?mh(t,u,0,1):t.position=t.offsetOf(r):Sp(u,1,0)?mh(t,u,1,0):t.position=t.offsetOf(r),[void 0,[0,0]]}}return r&&r.parent instanceof ht?[r.parent,r.parentBranch]:[void 0,[0,0]]}function Sp(t,e,r){let n=t.getCell(e,r);return!n||n.length!==2?!1:n[1].type==="placeholder"}function Bje(t,e,r,n){let i=e.getCell(r,n);return i?[t.offsetOf(i[0]),t.offsetOf(i[i.length-1])]:-1}function mh(t,e,r,n){let i=Bje(t,e,r,n);typeof i!="number"&&t.setSelection(i)}function Fv(t,e,r,n,i){let s=e.getCell(r,n);s&&t.setPositionHandlingPlaceholder(t.offsetOf(s[i==="start"?0:s.length-1]))}function a1(t,e){let[r,[n,i]]=Cje(t,e);if(r)switch(e){case"after row":r.addRowAfter(n),Fv(t,r,n+1,0,"end");break;case"after column":if(r.maxColumns<=r.colCount){t.announce("plonk");return}r.addColumnAfter(i),Fv(t,r,n,i+1,"end");break;case"before row":r.addRowBefore(n),Fv(t,r,n,0,"start");break;case"before column":if(r.maxColumns<=r.colCount){t.announce("plonk");return}r.addColumnBefore(i),Fv(t,r,n,i,"start");break}}function Jre(t){var e;let r=t.at(t.position);if(!$l(r.parentBranch)&&r.parent!==t.root&&t.root.type!=="root")return t.announce("plonk"),!1;if(!t.contentWillChange({inputType:"insertText"}))return!1;if((e=t.parentEnvironment)!=null&&e.isMultiline){t.selectionIsCollapsed||t.deleteAtoms(On(t.selection));let[n,i]=wje(t),s=t.extractAtoms([t.position,t.offsetOf(i)]),a=t.extractAtoms([t.offsetOf(n),t.position]),o=n.parent,[l,c]=n.parentBranch;return o.setCell(l,c,a),a1(t,"after row"),o.setCell(l+1,c,s),t.position=t.offsetOf(o.getCell(l+1,c)[0]),t.contentDidChange({inputType:"insertText"}),!0}return a1(t,"after row"),t.contentDidChange({inputType:"insertText"}),!0}function Sje(t){return t.contentWillChange({inputType:"insertText"})?(a1(t,"before row"),t.contentDidChange({inputType:"insertText"}),!0):!1}function Zre(t){return t.contentWillChange({inputType:"insertText"})?(a1(t,"after column"),t.contentDidChange({inputType:"insertText"}),!0):!1}function _je(t){return t.contentWillChange({inputType:"insertText"})?(a1(t,"before column"),t.contentDidChange({inputType:"insertText"}),!0):!1}function ene(t,e){if(!t.contentWillChange({}))return!1;t.mathfield.snapshot();let r=".",n=".";switch(e){case"pmatrix":case"pmatrix*":r="(",n=")";break;case"bmatrix":case"bmatrix*":r="[",n="]";break;case"Bmatrix":case"Bmatrix*":r="\\lbrace",n="\\rbrace";break;case"vmatrix":case"vmatrix*":r="\\vert",n="\\vert";break;case"Vmatrix":case"Vmatrix*":r="\\Vert",n="\\Vert";break;case"matrix":case"matrix*":r=".",n=".";break;case"cases":case"dcases":r="\\lbrace";break;case"rcases":n="\\rbrace";break}let i=t.at(t.position),s=i.type==="array"?i:t.parentEnvironment;return s.environmentName=e,s.leftDelim=r,s.rightDelim=n,t.contentDidChange({}),!0}function tne(t,e){let r=t.at(t.position);for(;r&&!(Array.isArray(r.parentBranch)&&r.parent instanceof ht);)r=r.parent;if(Array.isArray(r==null?void 0:r.parentBranch)&&(r==null?void 0:r.parent)instanceof ht){let n=r.parent,i=r.parentBranch,s;switch(e){case"row":if(n.rowCount>1){n.removeRow(i[0]);let a=n.getCell(Math.max(0,i[0]-1),i[1]);s=t.offsetOf(a[a.length-1])}break;case"column":if(n.colCount>n.minColumns){n.removeColumn(i[1]);let a=n.getCell(i[0],Math.max(0,i[1]-1));s=t.offsetOf(a[a.length-1])}break}s&&t.setPositionHandlingPlaceholder(s)}}function kje(t){return t.contentWillChange({inputType:"deleteContent"})?(tne(t,"row"),t.contentDidChange({inputType:"deleteContent"}),!0):!1}function Eje(t){return t.contentWillChange({inputType:"deleteContent"})?(tne(t,"column"),t.contentDidChange({inputType:"deleteContent"}),!0):!1}wi({addRowAfter:Jre,addColumnAfter:Zre,addRowBefore:Sje,addColumnBefore:_je,removeRow:kje,removeColumn:Eje,setEnvironment:ene},{target:"model",canUndo:!0,changeContent:!0,changeSelection:!0});function Tv(){return[new Lo]}var rne=class nne{constructor(e){this.recording=!1,this.model=e,this.reset()}reset(){this.stack=[],this.index=-1,this.lastOp=""}startRecording(){this.recording=!0}stopRecording(){this.recording=!1}canUndo(){return this.index-1>=0}canRedo(){return this.stack.length-1>this.index}stopCoalescing(e){e&&this.index>=0&&(this.stack[this.index].selection=e),this.lastOp=""}undo(){return this.canUndo()?(this.model.setState(this.stack[this.index-1],{silenceNotifications:!1,type:"undo"}),this.index-=1,this.lastOp="",!0):!1}redo(){return this.canRedo()?(this.index+=1,this.model.setState(this.stack[this.index],{silenceNotifications:!1,type:"redo"}),this.lastOp="",!0):!1}pop(){this.canUndo()&&(this.stack.splice(this.index,this.stack.length-this.index),this.index-=1)}snapshot(e){return this.recording?(e&&e===this.lastOp&&this.pop(),this.stack.splice(this.index+1,this.stack.length-this.index-1),this.stack.push(this.model.getState()),this.index+=1,this.stack.length>nne.maximumDepth&&(this.stack.shift(),this.index-=1),this.lastOp=e??"",!0):!1}};rne.maximumDepth=1e3;var Mje=rne;function r_(t,e,r){if(t.at(e).mode!=="text")return e;let n=r==="backward"?-1:1,i;if(t1.test(t.at(e).value)){let s=e,a;do a=t.at(s).mode==="text"&&t1.test(t.at(s).value),s+=n;while(t.at(s)&&a);i=t.at(s)?s-2*n:s-n}else if(/\s/.test(t.at(e).value)){let s=e;for(;t.at(s)&&t.at(s).mode==="text"&&/\s/.test(t.at(s).value);)s+=n;if(!t.at(s))i=s-n;else{let a=!0;do a=t.at(s).mode==="text"&&!/\s/.test(t.at(s).value),s+=n;while(t.at(s)&&a);i=t.at(s)?s-2*n:s-n}}else{let s=e;for(;t.at(s)&&t.at(s).mode==="text"&&!/\s/.test(t.at(s).value);)s+=n;i=t.at(s)?s:s-n;let a=!0;for(;t.at(s)&&a;)a=t.at(s).mode==="text"&&/\s/.test(t.at(s).value),a&&(i=s),s+=n;i=t.at(s)?s-2*n:s-n}return i-(n>0?0:1)}function aA(t,e,r){var n,i,s,a,o,l,c;let u=t.position;(n=r==null?void 0:r.extend)!=null&&n||t.collapseSelection(e);let d=t.at(t.position);if(e==="forward"&&(d.type==="subsup"?(d=d.rightSibling,d||(d=t.at(t.position+1))):d=t.at(t.position+1)),!d)return t.announce("plonk"),!1;let A=t.offsetOf(d);if(d instanceof Ff)A=r_(t,A,e);else if(d instanceof ln)if(d.isSuggestion)for(;d&&d instanceof ln;)d.isSuggestion=!1,A=t.offsetOf(d),d=d.rightSibling;else if(e==="forward"){if(d=d.rightSibling,!d||!(d instanceof ln))return t.announce("plonk"),!1;for(;d&&d instanceof ln&&/[a-zA-Z\*]/.test(d.value);)A=t.offsetOf(d),d=d.rightSibling}else{if(d=d.leftSibling,!d||!(d instanceof ln))return t.announce("plonk"),!1;for(;d&&d instanceof ln&&/[a-zA-Z\*]/.test(d.value);)A=t.offsetOf(d),d=d.leftSibling}else if(e==="forward"&&d.type==="mopen"){let f=0;do d.type==="mopen"?f+=1:d.type==="mclose"&&(f-=1),d=d.rightSibling;while(!d.isLastSibling&&f!==0);A=t.offsetOf(d.leftSibling)}else if(e==="backward"&&d.type==="mclose"){let f=0;do d.type==="mopen"?f+=1:d.type==="mclose"&&(f-=1),d=d.leftSibling;while(!d.isFirstSibling&&f!==0);A=t.offsetOf(d)}else if(e==="backward")if(d.type==="first")for(;A>0&&d.type==="first";)A-=1,d=t.at(A);else{let f=d.type;d.type==="subsup"&&(A=t.offsetOf(t.at(A).leftSibling)),A-=1;let p=(i=t.at(A))==null?void 0:i.type;for(;A>=0&&p===f;)((s=t.at(A))==null?void 0:s.type)==="subsup"?A=t.offsetOf(t.at(A).leftSibling):A-=1,p=t.at(A).type}else{let{type:f}=d,p=(a=t.at(A))==null?void 0:a.type,{lastOffset:m}=t;for(;A<=m&&(p===f||p==="subsup");){for(;((o=t.at(A).rightSibling)==null?void 0:o.type)==="subsup";)A=t.offsetOf(t.at(A).rightSibling);A+=1,p=(l=t.at(A))==null?void 0:l.type}A-=1}if((c=r==null?void 0:r.extend)!=null&&c){if(!t.setSelection(t.anchor,A))return t.announce("plonk"),!1}else{if(A===t.position)return t.announce("plonk"),!1;t.position=A}return t.announce("move",u),t.mathfield.stopCoalescingUndo(),!0}function xo(t,e,r){var n,i;if(r=r??{extend:!1},t.mathfield.styleBias=e==="backward"?"right":"left",e!=="forward"){let[o,l]=Hre(t);o!==void 0&&l!==void 0&&t.deleteAtoms([o,l])}if(e==="upward")return Tje(t,r);if(e==="downward")return Dje(t,r);if(r.extend){let o=Dx(t,t.position,e);o<0&&(o=0),o>t.lastOffset&&(o=t.lastOffset);let l=t.setSelection(t.anchor,o);return t.mathfield.stopCoalescingUndo(),l}if(t.selectionIsPlaceholder){t.collapseSelection(e);let o=xo(t,e);return t.mathfield.stopCoalescingUndo(),o}let s=t.position,a=s;if(t.collapseSelection(e)?(s=t.position,ine(t,s)||(s=Dx(t,s,e))):s=Dx(t,s,e),s<0||s>t.lastOffset){let o=!0;return t.silenceNotifications||(o=(i=(n=t.mathfield.host)==null?void 0:n.dispatchEvent(new CustomEvent("move-out",{detail:{direction:e},cancelable:!0,bubbles:!0,composed:!0})))!=null?i:!0),o&&t.announce("plonk"),o}return t.setPositionHandlingPlaceholder(s),t.mathfield.stopCoalescingUndo(),t.announce("move",a),!0}function Dx(t,e,r){return e=e+(r==="forward"?1:-1),e<0||e>t.lastOffset||ine(t,e)?e:Dx(t,e,r)}function ine(t,e){var r;let n=t.at(e),i=n.parent;for(;i&&!i.inCaptureSelection;)i=i.parent;return!(i!=null&&i.inCaptureSelection||(r=n.parent)!=null&&r.skipBoundary&&(!n.isFirstSibling&&n.isLastSibling||n.type==="first")||t.mathfield.hasEditablePrompts&&!n.parentPrompt)}function Fje(t,e,r){let n=1/0,i=0;for(;i<e.length;i++){let s=e[i],a=t.getHTMLElement(s);if(!a)continue;let o=Kte(a).right,l=Math.abs(r-o);if(l<=n)n=l;else break}return e[i-1]}function D3(t,e,r,n,i){let s=t.mathfield.hasEditablePrompts,a=s?r.filter(c=>c.type==="prompt"&&!c.captureSelection):r,o=Kte(t.mathfield.getHTMLElement(e)).right,l=t.offsetOf(Fje(t.mathfield,a,o))-(s?1:0);if(n){let[c,u]=t.selection.ranges[0],d;l<(i==="up"?c:u)?d={ranges:[[l,u]],direction:"backward"}:d={ranges:[[c,l]],direction:"forward"},t.setSelection(d)}else t.setPositionHandlingPlaceholder(l);t.announce(`move ${i}`)}function Tje(t,e){var r,n;let i=(r=e==null?void 0:e.extend)!=null?r:!1;i||t.collapseSelection("backward");let s=()=>{var l,c;let u=!0;return t.silenceNotifications||(u=(c=(l=t.mathfield.host)==null?void 0:l.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"upward"},cancelable:!0,bubbles:!0,composed:!0})))!=null?c:!0),t.announce(u?"line":"plonk"),u},a=t.at(t.position),o=a;for(;o&&o.parentBranch!=="below"&&!(Array.isArray(o.parentBranch)&&o.parent instanceof ht);)o=o.parent;if(Array.isArray(o==null?void 0:o.parentBranch)&&o.parent instanceof ht){let l=o.parent;if(o.parentBranch[0]<1)return s();let c=o.parentBranch[0]-1,u=l.getCell(c,o.parentBranch[1]);if(!u.some(d=>d.type==="prompt"&&!d.captureSelection)&&t.mathfield.hasEditablePrompts)return s();D3(t,a,u,i,"up")}else if(o){let l=(n=o.parent.branch("above"))!=null?n:o.parent.createBranch("above");if(!l.some(c=>c.type==="prompt"&&c.placeholderId)&&t.mathfield.hasEditablePrompts)return s();D3(t,a,l,i,"up")}else return s();return t.mathfield.stopCoalescingUndo(),!0}function Dje(t,e){var r,n;let i=(r=e==null?void 0:e.extend)!=null?r:!1;i||t.collapseSelection("forward");let s=()=>{var l,c;let u=!0;return t.silenceNotifications||(u=(c=(l=t.mathfield.host)==null?void 0:l.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"downward"},cancelable:!0,bubbles:!0,composed:!0})))!=null?c:!0),t.announce(u?"line":"plonk"),u},a=t.at(t.position),o=a;for(;o&&o.parentBranch!=="above"&&!($l(o.parentBranch)&&o.parent instanceof ht);)o=o.parent;if($l(o==null?void 0:o.parentBranch)&&o.parent instanceof ht){let l=o.parent;if(o.parentBranch[0]+1>l.rows.length-1)return s();let c=o.parentBranch[0]+1,u=l.getCell(c,o.parentBranch[1]);if(!u.some(d=>d.type==="prompt"&&!d.captureSelection)&&t.mathfield.hasEditablePrompts)return s();D3(t,a,u,i,"down")}else if(o){let l=(n=o.parent.branch("below"))!=null?n:o.parent.createBranch("below");if(!l.some(c=>c.type==="prompt")&&t.mathfield.hasEditablePrompts)return s();D3(t,a,l,i,"down")}else return s();return!0}function sne(t){let e=t.position,r=t.at(e).parent;return r!=null&&r.parent?(t.position=t.offsetOf(r),t.mathfield.stopCoalescingUndo(),t.announce("move",e),!0):(t.announce("plonk"),!1)}function Lje(t){let e=0,r=t.at(t.position),n=!1;for(;r;)(!r.hasEmptyBranch("superscript")||!r.hasEmptyBranch("subscript"))&&(e+=1),r.hasEmptyBranch("superscript")?r.hasEmptyBranch("subscript")||(n=!1):n=!0,r=r.parent;return n?e:0}function Nje(t){let e=0,r=t.at(t.position),n=!1;for(;r;)(!r.hasEmptyBranch("superscript")||!r.hasEmptyBranch("subscript"))&&(e+=1),r.hasEmptyBranch("superscript")?r.hasEmptyBranch("subscript")||(n=!0):n=!1,r=r.parent;return n?e:0}function Iz(t){var e;if(t.collapseSelection(),Lje(t)>=t.mathfield.options.scriptDepth[1])return t.announce("plonk"),!1;let r=t.at(t.position);return r.subsupPlacement===void 0&&(((e=r.rightSibling)==null?void 0:e.type)!=="subsup"&&r.parent.addChildAfter(new M5({style:r.style}),r),r=r.rightSibling),r.createBranch("superscript"),t.setSelection(t.getSiblingsRange(t.offsetOf(r.superscript[0]))),!0}function Oz(t){var e;if(t.collapseSelection(),Nje(t)>=t.mathfield.options.scriptDepth[0])return t.announce("plonk"),!1;let r=t.at(t.position);return r.subsupPlacement===void 0&&(((e=t.at(t.position+1))==null?void 0:e.type)!=="subsup"&&r.parent.addChildAfter(new M5({style:t.at(t.position).style}),r),r=t.at(t.position+1)),r.createBranch("subscript"),t.setSelection(t.getSiblingsRange(t.offsetOf(r.subscript[0]))),!0}function jje(){function t(l){let c=[],u=[];return[...l.querySelectorAll(`input, select, textarea, a[href], button,
        [tabindex], audio[controls], video[controls],
        [contenteditable]:not([contenteditable="false"]), details>summary`)].filter(e).forEach((d,A)=>{let f=n(d);f===0?c.push(d):u.push({documentOrder:A,tabIndex:f,node:d})}),u.sort((d,A)=>d.tabIndex===A.tabIndex?d.documentOrder-A.documentOrder:d.tabIndex-A.tabIndex).map(d=>d.node).concat(c)}function e(l){return!(!r(l)||i(l)||n(l)<0)}function r(l){return!(l.disabled||l.type==="hidden"&&l.tagName.toUpperCase()==="INPUT"||o(l))}function n(l){var c;let u=Number.parseInt((c=l.getAttribute("tabindex"))!=null?c:"NaN",10);return Number.isNaN(u)?l.contentEditable==="true"||(l.nodeName==="AUDIO"||l.nodeName==="VIDEO")&&l.getAttribute("tabindex")===null?0:l.tabIndex:u}function i(l){return l.tagName.toUpperCase()==="INPUT"&&l.type==="radio"&&!a(l)}function s(l,c){for(let u of l)if(u.checked&&u.form===c)return u;return null}function a(l){var c;if(!l.name)return!0;let u=((c=l.form)!=null?c:l.ownerDocument).querySelectorAll('input[type="radio"][name="'+l.name+'"]'),d=s(u,l.form);return!d||d===l}function o(l){if(!sa()||l===document.activeElement||l.contains(document.activeElement))return!1;if(getComputedStyle(l).visibility==="hidden")return!0;let c=l.getBoundingClientRect();if(c.width===0||c.height===0)return!0;for(;l;){if(getComputedStyle(l).display==="none")return!0;l=l.parentElement}return!1}return sa()?t(document.body):[]}function Vn(t,e,r="forward"){let n=t.position;if(Bn(e)){let i=t.offsetOf(e[0]),s=t.offsetOf(e[e.length-1]);return r==="forward"?t.setSelection(i,s):t.setSelection(s,i),t.announce("move",n),t.mathfield.stopCoalescingUndo(),!0}return r==="forward"?Vn(t,[e.leftSibling,e]):Vn(t,[e,e.leftSibling])}function Aa(t,e){let r=t.position;if(typeof e=="number"&&(e=t.at(e)),e.type==="prompt")t.setSelection(t.offsetOf(e.firstChild),t.offsetOf(e.lastChild));else{let n=t.offsetOf(e);e.type==="placeholder"?t.setSelection(n-1,n):t.position=n}return t.announce("move",r),t.mathfield.stopCoalescingUndo(),!0}function oA(t,e){var r,n;let i=e==="forward"?1:-1;t.at(t.anchor).type==="placeholder"&&xo(t,e);let s,a=t.at(t.anchor).parentPrompt;a?e==="forward"?s=t.offsetOf(a)+1:s=t.offsetOf(a.leftSibling):s=Math.max(t.position+i,0);let o=n_(t,s,e);if(!o||e==="forward"&&t.offsetOf(o)<s||e==="backward"&&t.offsetOf(o)>s){if(!((n=(r=t.mathfield.host)==null?void 0:r.dispatchEvent(new CustomEvent("move-out",{detail:{direction:e},cancelable:!0,bubbles:!0,composed:!0})))==null||n))return t.announce("plonk"),!1;let l=jje();if(!document.activeElement||l.length<=1)return t.announce("plonk"),!1;let c=l.indexOf(document.activeElement)+i;return c<0&&(c=l.length-1),c>=l.length&&(c=0),l[c].focus(),t.mathfield.stopCoalescingUndo(),!0}return Aa(t,o),!0}function n_(t,e=0,r="forward"){return t.findAtom(n=>n.type==="placeholder"||n.type==="prompt"||!t.mathfield.readOnly&&n.treeDepth>2&&n.isFirstSibling&&n.isLastSibling,e,r)}wi({moveToOpposite:t=>{let e={superscript:"subscript",subscript:"superscript",above:"below",below:"above"},r=t.at(t.position),{parent:n}=r;if(!n)return t.announce("plonk"),!1;let i=r.parentBranch,s;if(typeof i=="string"&&(s=e[i]),!s){let o=r.subsupPlacement?Oz(t):Iz(t);return t.mathfield.stopCoalescingUndo(),o}n.branch(s)||n.createBranch(s);let a=t.setSelection(t.getBranchRange(t.offsetOf(n),s));return t.mathfield.stopCoalescingUndo(),a},moveBeforeParent:t=>{let{parent:e}=t.at(t.position);return e?(t.position=t.offsetOf(e),t.mathfield.stopCoalescingUndo(),!0):(t.announce("plonk"),!1)},moveAfterParent:t=>sne(t),moveToNextChar:t=>xo(t,"forward"),moveToPreviousChar:t=>xo(t,"backward"),moveUp:t=>xo(t,"upward"),moveDown:t=>xo(t,"downward"),moveToNextWord:t=>aA(t,"forward"),moveToPreviousWord:t=>aA(t,"backward"),moveToGroupStart:t=>{let e=t.offsetOf(t.at(t.position).firstSibling);return e===t.position?(t.announce("plonk"),!1):(t.position=e,t.mathfield.stopCoalescingUndo(),!0)},moveToGroupEnd:t=>{let e=t.offsetOf(t.at(t.position).lastSibling);return e===t.position?(t.announce("plonk"),!1):(t.position=e,t.mathfield.stopCoalescingUndo(),!0)},moveToNextGroup:t=>{var e,r,n,i;if(t.position===t.lastOffset&&t.anchor===t.lastOffset)return oA(t,"forward");let s=t.at(t.position);if(s.mode==="text"){if(t.selectionIsCollapsed){let d=s;for(;d&&d.mode==="text";)d=d.leftSibling;let A=s;for(;((e=A.rightSibling)==null?void 0:e.mode)==="text";)A=A.rightSibling;if(d&&A)return Vn(t,[d,A])}if(s.rightSibling.mode==="text"){let d=s;for(;d&&d.mode==="text";)d=d.rightSibling;return d?(Aa(t,(r=d.leftSibling)!=null?r:d),t.mathfield.switchMode("math"),!0):Aa(t,t.lastOffset)}}let a=t.at(t.anchor).parentPrompt,o=a?t.offsetOf(a)+1:Math.max(t.position+1,0),l=n_(t,o,"forward");if(l&&t.offsetOf(l)<o)return oA(t,"forward");if(l)return Aa(t,l);let c=Pz(t,s,d=>d.type==="leftright"||d.type==="text","forward");if(c){if(c.mode==="text"){let d=c;for(;d&&d.mode==="text";)d=d.rightSibling;return Vn(t,[(n=c.leftSibling)!=null?n:c,(i=d.leftSibling)!=null?i:d])}return Vn(t,c)}let u=s.parent;if(u){if(u.type==="leftright"||u.type==="surd")return Vn(t,u);if(s.parentBranch==="superscript"&&u.subscript)return Vn(t,u.subscript);if(s.parentBranch==="above"&&u.below)return Vn(t,u.below);if(s.parentBranch==="superscript"||s.parentBranch==="subscript")return Aa(t,u);if(s.parentBranch==="above"||s.parentBranch==="below")return Vn(t,u)}return Aa(t,t.lastOffset)},moveToPreviousGroup:t=>{var e;if(t.position===0&&t.anchor===0)return oA(t,"backward");let r=t.at(t.position),n=r.mode;if(n==="text"){if(t.selectionIsCollapsed){let o=r;for(;o&&o.mode==="text";)o=o.leftSibling;let l=r;for(;((e=l.rightSibling)==null?void 0:e.mode)==="text";)l=l.rightSibling;if(o&&l)return Vn(t,[o,l])}for(;r&&r.mode==="text";)r=r.leftSibling;return r?Aa(t,r):Aa(t,0)}let i=t.at(t.anchor).parentPrompt,s=i?t.offsetOf(i.leftSibling):Math.max(t.position-1,0),a=n_(t,s,"backward");if(a&&t.offsetOf(a)>s)return oA(t,"backward");if(a)return Aa(t,a);if(n==="math"){let o=Pz(t,r,c=>c.type==="leftright"||c.type==="text","backward");if(o){if(o.mode==="text"){let c=o;for(;c&&c.mode==="text";)c=c.leftSibling;return Vn(t,[o,c])}return Vn(t,o)}let l=r.parent;if(l){if(l.type==="leftright"||l.type==="surd")return Vn(t,l);if(r.parentBranch==="subscript"&&l.superscript)return Vn(t,l.superscript);if(r.parentBranch==="below"&&l.above)return Vn(t,l.above);if(r.parentBranch==="superscript"||r.parentBranch==="subscript")return Aa(t,l);if(r.parentBranch==="above"||r.parentBranch==="below")return Vn(t,l)}return Aa(t,0)}return!1},moveToMathfieldStart:t=>t.selectionIsCollapsed&&t.position===0?(t.announce("plonk"),!1):(t.position=0,t.mathfield.stopCoalescingUndo(),!0),moveToMathfieldEnd:t=>t.selectionIsCollapsed&&t.position===t.lastOffset?(t.announce("plonk"),!1):(t.position=t.lastOffset,t.mathfield.stopCoalescingUndo(),!0),moveToSuperscript:Iz,moveToSubscript:Oz},{target:"model",changeSelection:!0});wi({moveToNextPlaceholder:t=>oA(t,"forward"),moveToPreviousPlaceholder:t=>oA(t,"backward")},{target:"model",changeSelection:!0,audioFeedback:"return"});function Pz(t,e,r,n){if(n==="forward"){let s=e.rightSibling;for(;s&&!r(s);)s=s.rightSibling;return s}let i=e.leftSibling;for(;i&&!r(i);)i=i.leftSibling;return i}function Dv(t,e,r){typeof e=="function"&&(r=e,e=1/0),e===void 0&&(e=1/0);let n=t.position,i=!1,s="";for(;!i;){let a=t.at(n);i=e===0||a===void 0||a.type==="first"||a.mode!=="math"||!(a.type&&/mord|mpunct|operator/.test(a.type)||a.type==="mop"&&/[a-zA-Z ]+/.test(a.value))||!a.hasEmptyBranch("superscript")||!a.hasEmptyBranch("subscript")||typeof r=="function"&&!r(a),i||(a.mode="text",a.command=a.value,a.verbatimLatex=void 0,s+=a.value),n-=1,e-=1}t.contentDidChange({data:s,inputType:"insertText"})}function _p(t,e,r){typeof e=="function"&&(r=e,e=1/0),e===void 0&&(e=1/0);let n=t.position,i=!1,s=[];for(;!i;){let a=t.at(n);i=e===0||!a||a.type==="first"||a.isFirstSibling||a.mode!=="text"||a.value===" "||typeof r=="function"&&!r(a),i||(s.push(se.serialize([a],{defaultMode:"math"})),a.mode="math"),n-=1,e-=1}iT(t),t.contentDidChange({data:lt(s),inputType:"insertText"})}function iT(t){var e;let r=t.position-1;for(;r>=0&&((e=t.at(r))==null?void 0:e.mode)==="math";)r-=1;if(!(r<0)&&t.at(r).mode==="text"&&t.at(r).value===" "&&t.at(r-1).mode==="math"){t.at(r-1).parent.removeChild(t.at(r-1));let n=t.silenceNotifications;t.silenceNotifications=!0,t.position-=1,t.silenceNotifications=n,t.contentDidChange({inputType:"deleteContent"})}}function Ije(t){let e="",r=t.position,n=!1;for(;!n;){let i=t.at(r);n=!(i&&(i.mode==="text"||i.mode==="math"&&i.type&&/mord|mpunct/.test(i.type))),n||(e=i.value+e),r-=1}return e}function Oje(t,e,r){let{model:n}=t;if(n.mode==="latex"||!n.at(n.position).isLastSibling||!r||!T5(r))return!1;let i=Mh(r);if(!n.selectionIsCollapsed)return!!(t.model.mode==="text"&&/[/_^]/.test(i));let s=Ije(n)+i;if(t.model.mode==="text"){if(e==="Esc"||/[/\\]/.test(i))return!0;if(/[\^_]/.test(i))return/(^|\s)[a-zA-Z][^_]$/.test(s)&&_p(n,1),!0;let a={")":"(","}":"{","]":"["}[i],{parent:o}=n.at(n.position);if(a&&o instanceof pr&&o.leftDelim===a)return!0;if(/(^|[^a-zA-Z])(a|I) $/.test(s))return!1;if(/[$€£₤₺¥¤฿¢₡₧₨₹₩₱]/u.test(i))return!0;if(/(^|[^a-zA-Z'’])[a-zA-Z] $/.test(s))return _p(n,1),!1;if(/\D\.[^\d\s]$/.test(s)){_p(n,1);let l=n.at(n.position);return l.value="⋅",l.style.variant="normal",l.command="\\cdot",l.verbatimLatex=void 0,n.contentDidChange({data:"\\cdot",inputType:"insertText"}),!0}if(/(^|\s)[a-zA-Z][^a-zA-Z]$/.test(s)||/\.\d$/.test(s)||/\([\d+\-.]$/.test(s))return _p(n,1),!0;if(/\([a-z][,;]$/.test(s))return _p(n,2),!0;if(/[\d+\-=><*|]$/.test(i))return iT(n),!0}else{if(e==="[Space]")return Dv(n,void 0,a=>/[a-z][:,;.]$/.test(a.value)),!0;if(/[a-zA-Z]{3,}$/.test(s)&&!/(dxd|abc|xyz|uvw)$/.test(s))return Dv(n,void 0,a=>/[a-zA-Z]/.test(a.value)),!0;if(/(^|\W)(if)$/i.test(s))return Dv(n,1),!0;if(/(\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5){3,}$/u.test(s)&&!/(αβγ)$/.test(s))return Dv(n,void 0,a=>/(:|,|;|.|\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5)/u.test(a.value)),!0;if(i==="?"||i==="."&&!/[\d-+]\.$/.test(s))return!0}return!1}function Pje(t,e){if(!t.isSelectionEditable||!t.keystrokeCaptionVisible)return;let r=ane(),n=t.element.getBoundingClientRect();r.style.left=`${n.left}px`,r.style.top=`${n.top-64}px`,r.innerHTML=globalThis.MathfieldElement.createHTML("<span>"+(XF(e)||e)+"</span>"+r.innerHTML),r.style.visibility="visible",setTimeout(()=>{r.childNodes.length>0&&r.childNodes[r.childNodes.length-1].remove(),r.childNodes.length===0&&(r.style.visibility="hidden")},3e3)}function Uje(t){if(t.keystrokeCaptionVisible=!t.keystrokeCaptionVisible,t.keystrokeCaptionVisible){let e=ane();e.innerHTML=""}else{let e=L5("mathlive-keystroke-caption-panel");e.style.visibility="hidden"}return!1}function ane(){return document.getElementById("mathlive-keystroke-caption-panel")||(Tu("keystroke-caption"),Tu("core"),L5("mathlive-keystroke-caption-panel"))}function Rje(){document.getElementById("mathlive-keystroke-caption-panel")&&(ZF("mathlive-keystroke-caption-panel"),Du("core"),Du("keystroke-caption"))}function one(t,e){var r,n,i,s;let{model:a}=t,o=zre(e);if(e.isTrusted){FNe(e);let m=i1();t.keyboardLayout!==m.id&&(t.keyboardLayout=m.id,t._keybindings=void 0)}if(clearTimeout(t.inlineShortcutBufferFlushTimer),t.inlineShortcutBufferFlushTimer=0,Pje(t,o),e.isTrusted&&e.defaultPrevented)return t.flushInlineShortcutBuffer(),!1;let l,c=0,u="",d=0,A=t.inlineShortcutBuffer;if(t.isSelectionEditable){if(a.mode==="math")if(o==="[Backspace]")t.undoManager.lastOp==="insert-shortcut"?u="undo":A.pop();else if(!T5(e))t.flushInlineShortcutBuffer();else{let m=Mh(e),v=[...(n=(r=A[A.length-1])==null?void 0:r.keystrokes)!=null?n:[],m];A.push({state:a.getState(),keystrokes:v,leftSiblings:Qje(t)}),c=0;let g="";for(;!l&&c<v.length;)d=A.length-(v.length-c),g=v.slice(c).join(""),l=HF(A[d].leftSiblings,g,t.options.inlineShortcuts),!l&&/^[a-zA-Z][a-zA-Z0-9]+?([_\^][a-zA-Z0-9\*\+\-]+?)?$/.test(g)&&(l=t.options.onInlineShortcut(t,g)),c+=1;t.flushInlineShortcutBuffer({defer:!0})}t.options.smartMode&&(l?t.switchMode("math"):Oje(t,o,e)&&(t.switchMode({math:"text",text:"math"}[a.mode]),u=""))}if(!l){if(u||(u=INe(t.keybindings,a.mode,e)),!u&&(o==="[Enter]"||o==="[Return]")){let m=!0;return a.contentWillChange({inputType:"insertLineBreak"})&&(t.host&&(m=t.host.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),!m&&e.preventDefault?(e.preventDefault(),e.stopPropagation()):((i=a.parentEnvironment)!=null&&i.isMultiline&&t.executeCommand("addRowAfter"),a.contentDidChange({inputType:"insertLineBreak"}))),m}if((!u||o==="[Space]")&&a.mode==="math"){if(o==="[Space]"){if(t.styleBias="none",t.flushInlineShortcutBuffer(),t.options.mathModeSpace)return $t.insert(a,t.options.mathModeSpace,{format:"latex",mode:"math"}),t.snapshot("insert-space"),u="",t.dirty=!0,t.scrollIntoView(),e.preventDefault&&(e.preventDefault(),e.stopPropagation()),!1;let m=a.at(a.position+1),v=a.at(a.position-1);if((m==null?void 0:m.mode)==="text"||(v==null?void 0:v.mode)==="text")return $t.insert(a," ",{mode:"text"}),t.snapshot("insert-space"),t.dirty=!0,t.scrollIntoView(),!1}(s=a.at(a.position))!=null&&s.isDigit()&&globalThis.MathfieldElement.decimalSeparator===","&&Mh(e)===","&&(u="insertDecimalSeparator")}}if(!l&&!u){if(a.mathfield.smartFence){if(s_(a,Mh(e),tf(t)))return t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}else{let{parent:m}=a.at(a.position);if(m instanceof pr&&m.rightDelim==="?"&&a.at(a.position).isLastSibling&&/^[)}\]|]$/.test(o))return t.snapshot(),m.isDirty=!0,m.rightDelim=o,a.position+=1,a.selectionDidChange(),a.contentDidChange({data:Mh(e),inputType:"insertText"}),t.snapshot("insert-fence"),t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1;if(!a.selectionIsCollapsed){let v=Mh(e);if(v==="("||v==="{"||v==="["){let g={"(":"(","{":"\\lbrace","[":"\\lbrack"}[v],y={"(":")","{":"\\rbrace","[":"\\rbrack"}[v],[x,b]=On(a.selection);return t.snapshot(),a.position=b,$t.insert(a,y,{format:"latex"}),a.position=x,$t.insert(a,g,{format:"latex"}),a.setSelection(x+1,b+1),a.contentDidChange({data:v,inputType:"insertText"}),t.snapshot("insert-fence"),t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}}}return!0}let f=a.at(Math.max(a.position,a.anchor)),{parent:p}=f;if(u==="moveAfterParent"&&(p==null?void 0:p.type)==="leftright"&&f.isLastSibling&&t.options.smartFence&&s_(a,".",t.defaultStyle)&&(u="",ir(t)),t.keyboardDelegate.cancelComposition(),u)t.executeCommand(u);else if(l){let m=tf(t);a.setState(A[d].state);let v=A[A.length-1].keystrokes;v=v.slice(c-1);for(let g of v)$t.insert(a,g,{silenceNotifications:!0,style:m});t.snapshot("insert-shortcut"),a.setState(A[d].state),a.deferNotifications({content:!0,selection:!0,data:l,type:"insertText"},()=>($t.insert(a,l,{format:"latex",style:m}),iT(t.model),l.endsWith(" ")&&(t.switchMode("text"),$t.insert(a," ",{style:m,mode:"text"})),t.snapshot(),a.selectionIsCollapsed||t.flushInlineShortcutBuffer(),!0)),t.dirty=!0,a.announce("replacement")}return t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}function i_(t,e,r){let{model:n}=t;if(!t.isSelectionEditable){n.announce("plonk");return}r!=null||(r={}),r.focus&&t.focus(),r.feedback&&globalThis.MathfieldElement.playSound("keypress"),typeof r.mode=="string"&&(t.switchMode(r.mode),t.snapshot());let i=Fte(e),s=window.mathVirtualKeyboard;if(s!=null&&s.isShifted&&(i=typeof i=="string"?i.toUpperCase():i.map(a=>a.toUpperCase())),r.simulateKeystroke){let a=!0;for(let o of i)one(t,new KeyboardEvent("keypress",{key:o}))&&(a=!1);if(a)return}if(n.mode==="latex")n.deferNotifications({content:!0,selection:!0,data:e,type:"insertText"},()=>{D5(t);for(let a of i)$t.insert(n,a,{insertionMode:"replaceSelection"});t.snapshot("insert-latex"),J1(t)});else if(n.mode==="text"){let a=P(P({},Hje(n)),t.defaultStyle);for(let o of i)$t.insert(n,o,{style:a,insertionMode:"replaceSelection"});t.snapshot("insert-text")}else if(n.mode==="math")for(let a of i)zje(t,a);t.dirty=!0,t.scrollIntoView()}function Qje(t){let e=t.model,r=[],n=e.at(Math.min(e.position,e.anchor));for(;n.type!=="first";)r.push(n),n=n.leftSibling;return r}function zje(t,e){let r=t.model,n={"^":"moveToSuperscript",_:"moveToSubscript"," ":t.options.mathModeSpace?["insert",t.options.mathModeSpace]:"moveAfterParent"}[e];if(n){t.executeCommand(n);return}let i=P({},tf(t));!/[a-zA-Z0-9]/.test(e)&&t.styleBias!=="none"&&(i.variant="normal",i.variantStyle=void 0);let s=r.at(r.position);if(/\d/.test(e)&&t.options.smartSuperscript&&s.parentBranch==="superscript"&&s.parent.type!=="mop"&&s.parent.type!=="operator"&&s.parent.type!=="extensible-symbol"&&s.hasNoSiblings){if(!$t.insert(r,e,{style:i,insertionMode:"replaceSelection"})){t.undoManager.pop();return}t.snapshot("insert-mord"),sne(r);return}let a=e;a==="{"?a="\\lbrace":a==="}"?a="\\rbrace":a==="&"?a="\\&":a==="#"?a="\\#":a==="$"?a="\\$":a==="%"?a="\\%":a==="~"?a="\\~":a==="\\"&&(a="\\backslash"),$t.insert(r,a,{style:i,insertionMode:"replaceSelection"})&&t.snapshot(`insert-${r.at(r.position).type}`)}function Hje(t){var e,r,n,i;if(t.selectionIsCollapsed)return(r=(e=t.at(t.position))==null?void 0:e.style)!=null?r:{};let s=On(t.selection)[0];return(i=(n=t.at(s+1))==null?void 0:n.style)!=null?i:{}}function s_(t,e,r){var n;if(!e||t.mode!=="math")return!1;let i=t.at(t.position),{parent:s}=i,a={"(":"(",")":")","{":"\\lbrace","}":"\\rbrace","[":"\\lbrack","]":"\\rbrack","|":"|"}[e];if(!a)return!1;let o=C3[a],l=k5[a];if(!t.selectionIsCollapsed){t.mathfield.snapshot();let[c,u]=On(t.selection),d=t.extractAtoms([c,u]),A=s.addChildrenAfter([new pr("left...right",d,{leftDelim:a,rightDelim:l})],t.at(c));return t.setSelection(t.offsetOf(A.firstChild),t.offsetOf(A.lastChild)),t.mathfield.snapshot("insert-fence"),t.contentDidChange({data:a,inputType:"insertText"}),!0}if(a==="|"){let c=s instanceof pr?s.leftDelim+s.rightDelim:"";if(c==="\\lbrace\\rbrace"||c==="\\{\\}"||c==="\\lbrace?")return t.mathfield.snapshot(),$t.insert(t,"\\,\\middle\\vert\\,",{format:"latex",style:r}),t.mathfield.snapshot("insert-fence"),t.contentDidChange({data:a,inputType:"insertText"}),!0}if(l){if(s instanceof pr&&s.firstChild===i&&(s.leftDelim==="?"||s.leftDelim==="."))return s.leftDelim=a,s.isDirty=!0,t.mathfield.snapshot(),t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;if(!(s instanceof pr)){let A=i;for(;A&&!(A.type==="mclose"&&A.value===l);)A=A.rightSibling;if(A){t.mathfield.snapshot();let f=t.extractAtoms([t.offsetOf(i),t.offsetOf(A)]);return f.pop(),s.addChildrenAfter([new pr("left...right",f,{leftDelim:a,rightDelim:l})],i),t.position=t.offsetOf(s.firstChild)+1,t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}}let c=t.offsetOf(i.lastSibling),u;for(u=t.position;u<=c;u++){let A=t.at(u);if(A instanceof pr&&(A.leftDelim==="?"||A.leftDelim===".")&&Uz(a,A.rightDelim))break}let d=t.at(u);if(u<=c&&d instanceof pr){d.leftDelim=a,t.mathfield.snapshot();let A=t.extractAtoms([t.position,u-1]);return A=A.filter(f=>f.type!=="first"),d.addChildren(A,d.parentBranch),t.position+=1,t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}if(s instanceof pr&&(s.leftDelim==="?"||s.leftDelim===".")&&Uz(a,s.rightDelim)){s.isDirty=!0,s.leftDelim=a,t.mathfield.snapshot();let A=t.extractAtoms([t.offsetOf(i.firstSibling),t.position]);for(let f of A)s.parent.addChildBefore(f,s);return t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}if(!(s instanceof pr&&s.leftDelim==="|")){if(a==="("){let A=t.position-1,f=!1;for(;A>=0;){let p=t.at(A);if(p.type==="first")break;if(p.type==="mord"&&p.value&&/^[\d]$/.test(p.value)){A-=1;continue}if(p.type==="group"&&((n=p.body)==null?void 0:n.length)===2&&p.body[0].type==="first"&&p.body[1].value===","){f=!0;break}if(p.type==="mord"&&(p.value===","||p.value===".")){f=!0;break}break}if(f)return!1}if(t.mathfield.snapshot(),$t.insert(t,`\\left${a}\\right?`,{format:"latex",style:r}),i.lastSibling.type!=="first"){let A=t.offsetOf(i.lastSibling),f=t.extractAtoms([t.position,A]);t.at(t.position).body=f,t.position-=1}return t.mathfield.snapshot("insert-fence"),!0}}if(o){if(a===")"){let p=t.position-1,m=!1;for(;p>=0;){let v=t.at(p);if(v.type==="first")break;if(v.type==="mord"&&v.value&&/^[\d]$/.test(v.value)){m=!0,p-=1;continue}break}if(m&&t.at(p).type==="mopen"&&t.at(p).value==="(")return!1}let c=i;for(;c;){if(c.type==="mopen"&&c.value===o){t.mathfield.snapshot();let p=c.leftSibling,m=t.extractAtoms([t.offsetOf(c.leftSibling),t.offsetOf(i)]);[,...m]=m;let v=new pr("left...right",m,{leftDelim:o,rightDelim:a});return s.addChildrenAfter([v],p),t.position=t.offsetOf(v),t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}c=c.leftSibling}if(s instanceof pr&&i.isLastSibling&&Z7(s.leftDelim,a))return t.mathfield.snapshot(),s.isDirty=!0,s.rightDelim=a,t.position+=1,t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;let u=t.offsetOf(i.firstSibling),d;for(d=t.position;d>=u;d--){let p=t.at(d);if(p instanceof pr&&(p.rightDelim==="?"||p.rightDelim===".")&&Z7(p.leftDelim,a))break}let A=t.at(d);if(d>=u&&A instanceof pr)return t.mathfield.snapshot(),A.rightDelim=a,A.addChildren(t.extractAtoms([d,t.position]),A.parentBranch),t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;if(s instanceof pr&&(s.rightDelim==="?"||s.rightDelim===".")&&Z7(s.leftDelim,a))return t.mathfield.snapshot(),s.isDirty=!0,s.rightDelim=a,s.parent.addChildren(t.extractAtoms([t.position,t.offsetOf(i.lastSibling)]),s.parentBranch),t.position=t.offsetOf(s),t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;let f=s.parent;return f instanceof pr&&(f.rightDelim==="?"||f.rightDelim===".")&&t.at(t.position).isLastSibling?(t.position=t.offsetOf(f),s_(t,a,r)):!1}return!1}function Z7(t,e){return t?["(","\\lparen","{","\\{","\\lbrace","[","\\lbrack"].includes(t)?[")","\\rparen","}","\\}","\\rbrace","]","\\rbrack"].includes(e):k5[t]===e:!0}function Uz(t,e){return e?[")","\\rparen","}","\\}","\\rbrace","]","\\rbrack"].includes(e)?["(","\\lparen","{","\\{","\\lbrace","[","\\lbrack"].includes(t):C3[e]===t:!0}wi({undo:t=>(t.undo(),!0),redo:t=>(t.redo(),!0),scrollIntoView:t=>(t.scrollIntoView(),!0),scrollToStart:t=>(t.field.scroll(0,0),!0),scrollToEnd:t=>{let e=t.field.getBoundingClientRect();return t.field.scroll(e.left-window.scrollX,0),!0},toggleKeystrokeCaption:Uje,toggleContextMenu:t=>{let e=t.toggleContextMenu();return e||t.model.announce("plonk"),e},plonk:t=>(t.model.announce("plonk"),!0),switchMode:(t,e,r,n)=>(t.switchMode(e,r,n),!0),insert:(t,e,r)=>t.insert(e,r),typedText:(t,e,r)=>(i_(t,e,r),!0),insertDecimalSeparator:t=>{let e=t.model;return e.mode==="math"&&globalThis.MathfieldElement.decimalSeparator===","&&e.at(Math.max(e.position,e.anchor)).isDigit()?(t.insert("{,}",{format:"latex"}),t.snapshot("insert-mord"),!0):(t.insert("."),!0)},commit:t=>{var e,r;let n=t.model;return n.contentWillChange({inputType:"insertLineBreak"})&&((e=t.host)==null||e.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),(r=n.parentEnvironment)!=null&&r.isMultiline&&t.executeCommand("addRowAfter"),n.contentDidChange({inputType:"insertLineBreak"})),!0},insertPrompt:(t,e,r)=>{let n=t.getPrompts(),i="prompt-"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36),s=0;for(;n.includes(i)&&s<100;){if(s===99)return console.error("could not find a unique ID after 100 tries"),!1;i="prompt-"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36),s++}return t.insert(`\\placeholder[${e??i}]{}`,r),!0}});wi({copyToClipboard:t=>(t.focus(),t.model.selectionIsCollapsed&&t.select(),"queryCommandSupported"in document&&document.queryCommandSupported("copy")&&document.execCommand("copy")||t.element.querySelector(".ML__keyboard-sink").dispatchEvent(new ClipboardEvent("copy",{bubbles:!0,composed:!0})),!1)},{target:"mathfield"});wi({cutToClipboard:t=>(t.focus(),"queryCommandSupported"in document&&document.queryCommandSupported("cut")&&document.execCommand("cut")||t.element.querySelector(".ML__keyboard-sink").dispatchEvent(new ClipboardEvent("cut",{bubbles:!0,composed:!0})),!0),pasteFromClipboard:t=>(t.focus(),"queryCommandSupported"in document&&document.queryCommandSupported("paste")?(document.execCommand("paste"),!0):(navigator.clipboard.readText().then(e=>{e&&t.model.contentWillChange({inputType:"insertFromPaste",data:e})?(t.stopCoalescingUndo(),t.stopRecording(),t.insert(e,{mode:t.model.mode})&&(J1(t),t.startRecording(),t.snapshot("paste"),t.model.contentDidChange({inputType:"insertFromPaste"}),ir(t))):t.model.announce("plonk"),t.startRecording()}),!0))},{target:"mathfield",canUndo:!0,changeContent:!0,changeSelection:!0});function a_(t){let[e,r]=On(t.selection);if(e=Rz(t,e,"backward"),r=Rz(t,r,"forward"),e===r){let n=t.at(e);if(n.type==="leftright")return t.setSelection(t.offsetOf(n.firstChild)-1,r);if(n.type==="first"&&(n.parent.type==="leftright"||n.parent.type==="surd"))return t.setSelection(e-1,t.offsetOf(n.parent.lastChild)+1);t.setSelection(e-1,r)}else t.setSelection(e,r);return!0}function Rz(t,e,r){var n,i,s;let a=t.at(e);if(!a)return e;let o=r==="forward"?1:-1;if(a.mode==="text"){for(;a&&!(a.mode!=="text"||!t1.test(a.value));)e+=o,a=t.at(e);return r==="backward"?e-1:e}if(a.mode==="latex"){if(/[a-zA-Z\*]/.test(a.value))if(r==="backward")for(;a&&a.mode==="latex"&&a.value!=="\\"&&/[a-zA-Z]/.test(a.value);)e+=o,a=t.at(e);else for(;a&&a.mode==="latex"&&/[a-zA-Z\*]/.test(a.value);)e+=o,a=t.at(e);else if(a.value==="{"){if(r==="forward"){for(;a&&a.mode==="latex"&&a.value!=="}";)e+=o,a=t.at(e);return e}return e-1}else if(a.value==="}"){if(r==="backward"){for(;a&&a.mode==="latex"&&a.value!=="{";)e+=o,a=t.at(e);return e-1}return e}return e-1}if(a.mode==="math"){if(a.isDigit()){for(;(n=t.at(e+o))!=null&&n.isDigit();)e+=o;return r==="backward"?e-1:e}if(a.style.variant||a.style.variantStyle){let l=(i=t.at(e))==null?void 0:i.style;for(;l&&l.variant===a.style.variant&&l.variantStyle===a.style.variantStyle;)l=(s=t.at(e+o))==null?void 0:s.style,e+=o;return r==="backward"?e-1:e}return e}return e}wi({selectGroup:t=>{let e=a_(t);return e||t.announce("plonk"),e},selectAll:t=>t.setSelection(0,t.lastOffset),extendSelectionForward:t=>xo(t,"forward",{extend:!0}),extendSelectionBackward:t=>xo(t,"backward",{extend:!0}),extendToNextWord:t=>aA(t,"forward",{extend:!0}),extendToPreviousWord:t=>aA(t,"backward",{extend:!0}),extendSelectionUpward:t=>xo(t,"upward",{extend:!0}),extendSelectionDownward:t=>xo(t,"downward",{extend:!0}),extendToNextBoundary:t=>aA(t,"forward",{extend:!0}),extendToPreviousBoundary:t=>aA(t,"backward",{extend:!0}),extendToGroupStart:t=>{let e=t.setSelection(t.anchor,t.offsetOf(t.at(t.position).firstSibling));return e||t.announce("plonk"),e},extendToGroupEnd:t=>{let e=t.setSelection(t.anchor,t.offsetOf(t.at(t.position).lastSibling));return e||t.announce("plonk"),e},extendToMathFieldStart:t=>{let e=t.setSelection(t.anchor,0);return e||t.announce("plonk"),e},extendToMathFieldEnd:t=>{let e=t.setSelection(t.anchor,t.lastOffset);return e||t.announce("plonk"),e}},{target:"model",changeSelection:!0});var pd=null,kp=0,L3=class Is{static start(e,r,n,i){var s;Is.element=e,(s=Is.controller)==null||s.abort(),Is.controller=new AbortController;let a={signal:Is.controller.signal};"PointerEvent"in window?(e.addEventListener("pointermove",n,a),e.addEventListener("pointerup",i,a),e.addEventListener("pointercancel",i,a),o_(r)&&(Is.pointerId=r.pointerId,e.setPointerCapture(r.pointerId))):(window.addEventListener("mousemove",n,a),window.addEventListener("blur",i,a),window.addEventListener("mouseup",i,a))}static stop(){var e;(e=Is.controller)==null||e.abort(),Is.controller=void 0,typeof Is.pointerId=="number"&&(Is.element.releasePointerCapture(Is.pointerId),Is.pointerId=void 0)}};function o_(t){return t!==null&&globalThis.PointerEvent!==void 0&&t instanceof PointerEvent}function Qz(t,e){var r;if(e.buttons>1)return;t.atomBoundsCache=new Map;let n=t,i,s=!1,a=!1,o="none",l=!1,c=!1,u=e.clientX,d=e.clientY,A=Date.now(),f=n.field,p=setInterval(()=>{l?f.scroll({top:0,left:f.scrollLeft-16}):c&&f.scroll({top:0,left:f.scrollLeft+16})},32);function m(){L3.stop(),s=!1,clearInterval(p),t.element.classList.remove("tracking"),e&&e.preventDefault()}function v(y){if(!n.hasFocus()){m();return}let x=y.clientX,b=y.clientY,w=o_(y)&&y.pointerType==="touch"?20:5;if(Date.now()<A+500&&Math.abs(u-x)<w&&Math.abs(d-b)<w){y.preventDefault(),y.stopPropagation();return}let C=f.getBoundingClientRect();c=x>C.right,l=x<C.left;let B=i;o_(y)&&(y.isPrimary||(B=Lx(n,y.clientX,y.clientY,{bias:0})));let S=Lx(n,x,b,{bias:x<=u?x===u?0:-1:1});B>=0&&S>=0&&(n.model.extendSelectionTo(B,S),ir(t)),a&&a_(n.model)}pd&&Math.abs(pd.x-u)<5&&Math.abs(pd.y-d)<5&&Date.now()<pd.time+500?(kp+=1,pd.time=A):(pd={x:u,y:d,time:A},kp=1);let g=f.getBoundingClientRect();if(u>=g.left&&u<=g.right&&d>=g.top&&d<=g.bottom){if(t.flushInlineShortcutBuffer(),i=Lx(t,u,d,{bias:0}),i!==t.model.anchor&&(t.defaultStyle={},t.styleBias="left"),i>=0){if(t.element.classList.add("tracking"),e.shiftKey){let y=t.model.selectionIsCollapsed;t.model.extendSelectionTo(t.model.anchor,i),Mz(t.model)||y?o="all":o="selection"}else t.model.at(i).type==="placeholder"?(t.model.setSelection(i-1,i),o="selection"):((r=t.model.at(i).rightSibling)==null?void 0:r.type)==="placeholder"?(t.model.setSelection(i,i+1),o="selection"):(t.model.position=i,Mz(t.model)?o="all":o="selection");e.detail===3||kp>2?(m(),(e.detail===3||kp===3)&&(t.model.selection={ranges:[[0,t.model.lastOffset]]},o="all")):s||(s=!0,L3.start(f,e,v,m),(e.detail===2||kp===2)&&(a=!0,a_(t.model),o="all"))}t.hasFocus()||(o="none",t.focus({preventScroll:!0}))}else pd=null;t.stopCoalescingUndo(),o!=="none"&&(t.model.selectionIsCollapsed&&(o="all"),ir(t)),e.preventDefault()}function $je(t,e,r){if(t>=r.left&&t<=r.right&&e>=r.top&&e<=r.bottom)return 0;let n=t-(r.left+r.right)/2,i=e-(r.top+r.bottom)/2;return n*n+i*i}function l_(t,e,r,n,i){if(!r.id)return[1/0,null];if(e.has(r.id))return e.get(r.id);let s=Tf(t,r);if(!s)return[1/0,null];let a=[1/0,null],o=t.model;if(r instanceof ht)for(let l of r.rows)for(let c of l){let u=[o.offsetOf(c[0]),o.offsetOf(c[c.length-1])],d=xLe(t,u);if(i>=d.top&&i<=d.bottom)for(let A of c){let f=l_(t,e,A,n,i);f[0]<=a[0]&&(a=f)}}else if(r.hasChildren&&!r.captureSelection&&n>=s.left&&n<=s.right){let l=r.children;for(let c of l){let u=l_(t,e,c,n,i);u[0]<=a[0]&&(a=u)}}return a[1]||(a=[$je(n,i,s),r]),e.set(r.id,a),a}function Vje(t,e,r){let[,n]=l_(t,new Map,t.model.root,e,r);return n}function Lx(t,e,r,n){var i;let s=t.field.querySelector(".ML__latex").getBoundingClientRect();if(!s)return 0;if(e>s.right||r>s.bottom+8)return t.model.lastOffset;if(e<s.left||r<s.top-8)return 0;n=n??{},n.bias=(i=n.bias)!=null?i:0;let a=Vje(t,e,r),o=[],l=a;for(;l;)o.unshift(l),l=l.parent;for(let u of o)if(u.captureSelection){a=u;break}let c=t.model.offsetOf(a);if(c<0)return-1;if(a.leftSibling)if(n.bias===0&&a.type!=="placeholder"){let u=Tf(t,a);u&&e<(u.left+u.right)/2&&(c=t.model.offsetOf(a.leftSibling))}else n.bias<0&&(c=t.model.offsetOf(a.leftSibling));return c}var Kje=class extends $t{constructor(){super("math")}onPaste(t,e){if(!e||!t.model.contentWillChange({data:typeof e=="string"?e:null,dataTransfer:typeof e=="string"?null:e,inputType:"insertFromPaste"}))return!1;let r="",n="auto",i=typeof e!="string"?e.getData("application/json+mathlive"):"";if(i)try{let s=JSON.parse(i);if(s&&Array.isArray(s)){t.snapshot();let a=du(s),{model:o}=t;o.selectionIsCollapsed||o.deleteAtoms(On(o.selection));let l=o.at(o.position);if(l.parent instanceof ht){l.parentBranch;let c=[],u=[];a[0].type==="first"&&a.shift(),a[a.length-1].type==="first"&&a.pop();for(let p of a)p.type==="first"&&u.length>0?(c.push(u),u=[p]):u.push(p);u.length>0&&c.push(u);let d=Number(l.parentBranch[0]),A=Number(l.parentBranch[1]),f=l.parent.maxColumns;for(;l.parent.colCount-A<c.length&&l.parent.colCount<f;)l.parent.addColumn();l.parent.addChildrenAfter(c[0],l);for(let p=1;p<c.length;p++)A++,A>=f&&(A=0,l.parent.addRowAfter(d),d++),l.parent.setCell(d,A,c[p])}else l.parent.addChildrenAfter(a.filter(c=>c.type!=="first"),l);return o.position=o.offsetOf(a[a.length-1]),o.contentDidChange({inputType:"insertFromPaste"}),ir(t),!0}}catch{}if(i=typeof e!="string"?e.getData("application/json"):"",i&&globalThis.MathfieldElement.computeEngine)try{let s=JSON.parse(i);if(typeof s=="object"&&"latex"in s&&s.latex&&(r=s.latex),!r){let a=globalThis.MathfieldElement.computeEngine.box(s);a&&!a.has("Error")&&(r=a.latex)}r||(n="latex")}catch{}if(!r&&typeof e!="string"&&(r=e.getData("application/x-latex"),r&&(n="latex")),r||(r=typeof e=="string"?e:e.getData("text/plain")),r){let s;return[s,r]=$F(r),n==="auto"&&s&&(n="latex"),t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,r,{format:n})&&(t.startRecording(),t.snapshot("paste"),ir(t)),t.startRecording(),!0}return!1}insert(t,e,r){var n,i;let s=typeof e=="string"?e:(i=(n=globalThis.MathfieldElement.computeEngine)==null?void 0:n.box(e).latex)!=null?i:"";if(!r.silenceNotifications&&!t.contentWillChange({data:s,inputType:"insertText"}))return!1;r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder"),r.format||(r.format="auto");let{silenceNotifications:a}=t;r.silenceNotifications&&(t.silenceNotifications=!0);let o=t.silenceNotifications;t.silenceNotifications=!0;let l={"?":"\\placeholder{}","@":"\\placeholder{}"};l[0]=r.insertionMode==="replaceAll"?"":t.getValue(t.selection,"latex-unstyled"),r.insertionMode==="replaceSelection"?t.deleteAtoms(On(t.selection)):r.insertionMode==="replaceAll"?t.deleteAtoms():r.insertionMode==="insertBefore"?t.collapseSelection("backward"):r.insertionMode==="insertAfter"&&t.collapseSelection("forward"),!t.at(t.position).isLastSibling&&t.at(t.position+1).type==="placeholder"?t.deleteAtoms([t.position,t.position+1]):t.at(t.position).type==="placeholder"&&t.deleteAtoms([t.position-1,t.position]);let c=-1;l[0]?l["@"]=l[0]:typeof e=="string"&&/(^|[^\\])#@/.test(e)&&(c=qje(t),c>=0&&(l["@"]=t.getValue(c,t.position,"latex"))),l[0]||(l[0]=l["?"]);let u=!1,d=v=>(u=!0,l[v]),[A,f]=zz(t,e,d,r);if(!f)return!1;let p=f.length===1&&f[0].type==="genfrac";if(p&&c>=0&&typeof t.mathfield.options.isImplicitFunction=="function"&&t.mathfield.options.isImplicitFunction(t.at(t.position).command)?(l["@"]=l["?"],u=!1,[A,f]=zz(t,e,d,r)):c>=0&&t.deleteAtoms([c,t.position]),f.length===1&&f[0].isRoot)t.root=f[0];else{let{parent:v}=t.at(t.position),g=v.hasEmptyBranch("body");if(p&&A!=="latex"&&t.mathfield.options.removeExtraneousParentheses&&v instanceof pr&&v.leftDelim==="("&&g){let x=v.parent,b=v.parentBranch;x.removeChild(v),x.setChildren(f,b)}let y=t.at(t.position);y.parent.addChildrenAfter(f,y),A==="latex"&&typeof e=="string"&&(v==null?void 0:v.type)==="root"&&g&&!u&&(v.verbatimLatex=e)}t.silenceNotifications=o;let m=f[f.length-1];if(r.selectionMode==="placeholder"){let v=f.flatMap(g=>[g,...g.children]).find(g=>g.type==="placeholder");if(v){let g=t.offsetOf(v);t.setSelection(g-1,g),t.announce("move")}else m&&(t.position=t.offsetOf(m))}else r.selectionMode==="before"||(r.selectionMode==="after"?m&&(t.position=t.offsetOf(m)):r.selectionMode==="item"&&t.setSelection(t.anchor,t.offsetOf(m)));return t.contentDidChange({data:s,inputType:"insertText"}),t.silenceNotifications=a,!0}};function zz(t,e,r,n){var i;let s,a=[];if(typeof e!="string"||n.format==="math-json"){let o=globalThis.MathfieldElement.computeEngine;if(!o)return["math-json",[]];[s,e]=["latex",o.box(e).latex],a=Js(e,{context:t.mathfield.context})}else typeof e=="string"&&n.format==="ascii-math"?([s,e]=KS(e,{format:"ascii-math",inlineShortcuts:t.mathfield.options.inlineShortcuts}),a=Js(e,{context:t.mathfield.context}),s!=="latex"&&t.mathfield.options.removeExtraneousParentheses&&(a=a.map(o=>N3(o)))):(n.format==="auto"||(i=n.format)!=null&&i.startsWith("latex"))&&(n.format==="auto"&&([s,e]=KS(e,{format:"auto",inlineShortcuts:t.mathfield.options.inlineShortcuts})),n.format==="latex"&&([,e]=$F(e)),a=Js(e,{context:t.mathfield.context,args:r}),n.format!=="latex"&&t.mathfield.options.removeExtraneousParentheses&&(a=a.map(o=>N3(o))));return WF(a,n.style),[s??"latex",a]}function N3(t){var e;if(t instanceof pr&&t.leftDelim!=="("&&t.rightDelim===")"){let r=(e=t.body)==null?void 0:e.filter(n=>n.type!=="first");if((r==null?void 0:r.length)===1&&r[0].type==="genfrac")return r[0]}for(let r of t.branches)t.hasEmptyBranch(r)||t.setChildren(t.branch(r).map(n=>N3(n)),r);return t instanceof ht&&t.forEachCell((r,n,i)=>{t.setCell(n,i,r.map(s=>N3(s)))}),t}function qje(t){let e=t.at(t.position);if(e.mode==="text"){for(;!e.isFirstSibling&&e.mode==="text";)e=e.leftSibling;return t.offsetOf(e)}let r=e,n=!1;if(e.type==="mclose"){let i=C3[e.value];for(;!e.isFirstSibling&&!(e.type==="mopen"&&e.value===i);)e=e.leftSibling;e.isFirstSibling||(e=e.leftSibling),n=!0}else e.type==="leftright"&&(e=e.leftSibling,n=!0);if(n)for(;!e.isFirstSibling&&(e.isFunction||Hz(e));)e=e.leftSibling;else{let i=[];for(;!e.isFirstSibling&&(Hz(e)||i.length>0);)e.type==="mclose"&&i.unshift(e.value),e.type==="mopen"&&i.length>0&&e.value===C3[i[0]]&&i.shift(),e=e.leftSibling}return r===e?-1:t.offsetOf(e)}function Hz(t){return t.isDigit()?!0:t.type&&/^(mord|surd|subsup|leftright|mop|mclose)$/.test(t.type)?t.type!=="extensible-symbol":!1}new Kje;var Wje=class extends $t{constructor(){super("text")}onPaste(t,e){if(!e)return!1;let r=typeof e=="string"?e:e.getData("text/plain");return r&&t.model.contentWillChange({inputType:"insertFromPaste",data:r})?(t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,r)&&(t.model.contentDidChange({inputType:"insertFromPaste"}),t.startRecording(),t.snapshot("paste"),ir(t)),t.startRecording(),!0):!1}insert(t,e,r={}){if(!t.contentWillChange({data:e,inputType:"insertText"}))return!1;r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder"),r.format||(r.format="auto");let{silenceNotifications:n}=t;r.silenceNotifications&&(t.silenceNotifications=!0);let i=t.silenceNotifications;t.silenceNotifications=!0,r.insertionMode==="replaceSelection"&&!t.selectionIsCollapsed?t.deleteAtoms(On(t.selection)):r.insertionMode==="replaceAll"?(t.root.setChildren([],"body"),t.position=0):r.insertionMode==="insertBefore"?t.collapseSelection("backward"):r.insertionMode==="insertAfter"&&t.collapseSelection("forward");let s=Gje(e,t.mathfield.context);if(WF(s,r.style),!s)return!1;let a=t.at(t.position),o=a.parent.addChildrenAfter(s,a);return t.silenceNotifications=i,r.selectionMode==="before"||(r.selectionMode==="item"?t.setSelection(t.anchor,t.offsetOf(o)):o&&(t.position=t.offsetOf(o))),t.contentDidChange({data:e,inputType:"insertText"}),t.silenceNotifications=n,!0}};function Gje(t,e){return t=t.replace(/\\/g,"\\textbackslash "),t=t.replace(/#/g,"\\#"),t=t.replace(/\$/g,"\\$"),t=t.replace(/%/g,"\\%"),t=t.replace(/&/g,"\\&"),t=t.replace(/_/g,"\\_"),t=t.replace(/{/g,"\\textbraceleft "),t=t.replace(/}/g,"\\textbraceright "),t=t.replace(/lbrace/g,"\\textbraceleft "),t=t.replace(/rbrace/g,"\\textbraceright "),t=t.replace(/\^/g,"\\textasciicircum "),t=t.replace(/~/g,"\\textasciitilde "),t=t.replace(/£/g,"\\textsterling "),Js(t,{context:e,parseMode:"text"})}new Wje;function Ic(t){return{value:t.model.getValue(),selectionIsCollapsed:t.model.selectionIsCollapsed,canUndo:t.canUndo(),canRedo:t.canRedo(),style:Xje(t.model),mode:t.model.mode}}function Xje(t){var e;if(t.selectionIsCollapsed)return(e=t.at(t.position))==null?void 0:e.style;let r=t.getAtoms(t.selection);if(r.length===0)return{};let n=P({},r[0].style);for(let i of r)for(let[s,a]of Object.entries(i.style))n[s]!==a&&delete n[s];return n}var Wt=4,fi=20,Fr=2*(fi+Wt),Lv=(t,e)=>`
  <line x1="${t+fi}" y1="${e+fi}" 
    x2="${t>e?t+fi:7*fi+10*Wt}" 
    y2="${t<e?e+fi:7*fi+10*Wt}"/>
  <svg id="plus" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <path class="font" d="m33.33,20c0,1.84-1.49,3.34-3.33,3.34h-6.67v6.66c0,1.84-1.49,3.34-3.33,3.34s-3.34-1.5-3.34-3.34v-6.66h-6.66c-1.84,0-3.34-1.5-3.34-3.34s1.5-3.33,3.34-3.33h6.66v-6.67c0-1.84,1.5-3.33,3.34-3.33s3.33,1.49,3.33,3.33v6.67h6.67c1.84,0,3.33,1.49,3.33,3.33Z"/>
  </svg>`,$z=(t,e)=>`
  <line x1="${t+fi}" y1="${e+fi}" 
    x2="${t>e?t+fi:7*fi+10*Wt}" 
    y2="${t<e?e+fi:7*fi+10*Wt}"/>
  <svg id="minus" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <path class="font" d="m33.33,20c0,1.84-1.49,3.33-3.33,3.33H10c-1.84,0-3.34-1.49-3.34-3.33s1.5-3.34,3.34-3.34h20c1.84,0,3.33,1.5,3.33,3.34Z"/>
  </svg>`,Nv=(t,e,r)=>`
  <svg id="arrow" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <g transform="rotate(${r})" transform-origin="20 20">
      <path class="font" d="m17.7,7.23h4.6c.52,0,.94.42.94.94v13.82c0,.52.42.94.94.94h3.39c.83,0,1.25,1.01.66,1.6l-7.56,7.56c-.37.37-.96.37-1.32,0l-7.56-7.56c-.59-.59-.17-1.6.66-1.6h3.39c.52,0,.94-.42.94-.94v-13.82c0-.52.42-.94.94-.94Z"/>
    </g>  
  </svg>`,Yje=`
<svg class="MLEP__array-buttons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
viewBox=
"-2 -2 ${8*fi+10*Wt+5} ${8*fi+10*Wt+5}">
  <rect 
      class="MLEP__array-insert-background rows"
      x="0" 
      y="${Fr+Wt}" 
      height="${3*Fr}" 
      width="${Fr}" 
      rx="${Fr/2}"/>
      <rect 
      class="MLEP__array-insert-background columns"
      x="${Fr+Wt}" 
      y="0" 
      height="${Fr}" 
      width="${3*Fr}" 
      rx="${Fr/2}"/>
  <g data-command='"moveDown"'>
  ${Nv(2*(Wt+Fr),2*Wt+3*Fr,0)}
  </g>
  <g data-command='"moveUp"'>
  ${Nv(2*(Wt+Fr),2*Wt+Fr,180)}
  </g>
  <g data-command='"moveToNextWord"'>
  ${Nv(2*Wt+3*Fr,2*(Wt+Fr),-90)}
  </g>
  <g data-command='"moveToPreviousWord"'>
  ${Nv(2*Wt+Fr,2*(Wt+Fr),90)}
  </g>
  <g>

  <g data-command='"addColumnBefore"'>
  ${Lv(2*Wt+Fr,Wt)}
  </g>
  <g data-command='"removeColumn"'>
  ${$z(2*Wt+2*Fr,Wt)}
  </g>
  <g data-command='"addColumnAfter"'>
  ${Lv(2*Wt+3*Fr,Wt)}
  </g>
  <g data-command='"addRowBefore"'>
  ${Lv(Wt,2*Wt+Fr)}
  </g>
  <g data-command='"removeRow"'>
  ${$z(Wt,2*Wt+2*Fr)}
  </g>
  <g data-command='"addRowAfter"'>
    ${Lv(Wt,2*Wt+3*Fr)}
  </g>
</svg>`,Jje=t=>`
<svg id="matrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","matrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/></svg>`,Zje=t=>`
<svg id="pmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
data-command='["setEnvironment","pmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4c-3.96,4.6-3.96,11.4,0,16"/>
  <path class="cls-2" d="m22,4c3.96,4.6,3.96,11.4,0,16"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/></svg>`,lne=t=>`
<svg id="Bmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","Bmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4c-1.1,0-2,.9-2,2v3c0,1.66-.9,3-2,3,1.1,0,2,1.34,2,3v3c0,1.1.9,2,2,2"/>
  <path class="cls-2" d="m22,4c1.1,0,2,.9,2,2v3c0,1.66.9,3,2,3-1.1,0-2,1.34-2,3v3c0,1.1-.9,2-2,2"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
</svg>`,eIe=t=>`
<svg id="bmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","bmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4h-3v16h3"/>
  <path class="cls-2" d="m22,4h3v16h-3"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
</svg>`,tIe=t=>`
<svg id="vmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","vmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
  <line class="cls-2" x1="4" y1="4" x2="4" y2="20"/>
  <line class="cls-2" x1="24" y1="4" x2="24" y2="20"/>
</svg>`,rIe=t=>`
<svg id="Vmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="-3.5 -3 35 30" 
  data-command='["setEnvironment","Vmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
  <line class="cls-2" x1="6" y1="4" x2="6" y2="20"/>
  <line class="cls-2" x1="22" y1="4" x2="22" y2="20"/>
  <line class="cls-2" x1="2" y1="4" x2="2" y2="20"/>
  <line class="cls-2" x1="26" y1="4" x2="26" y2="20"/>
</svg>`,nIe=t=>`
<svg id="cases" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","cases"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m10,4c-1.1,0-2,.9-2,2v3c0,1.66-.9,3-2,3,1.1,0,2,1.34,2,3v3c0,1.1.9,2,2,2"/>
  <circle cx="13" cy="8" r="1"/>
  <circle cx="13" cy="16" r="1"/>
  <circle cx="21" cy="8" r="1"/>
  <circle cx="21" cy="16" r="1"/>
</svg>`,iIe=t=>`
<svg id="rcases" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","rcases"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m18,20c1.1,0,2-.9,2-2v-3c0-1.66.9-3,2-3-1.1,0-2-1.34-2-3v-3c0-1.1-.9-2-2-2"/>
  <circle cx="15" cy="8" r="1"/>
  <circle cx="15" cy="16" r="1"/>
  <circle cx="7" cy="8" r="1"/>
  <circle cx="7" cy="16" r="1"/>
</svg>`,eC={matrix:Jje,pmatrix:Zje,bmatrix:eIe,Bmatrix:lne,vmatrix:tIe,Vmatrix:rIe},tC={cases:nIe,rcases:iIe,Bmatrix:lne};function sIe(t){var e,r;let n=(e=t.model.parentEnvironment)==null?void 0:e.rows;if(!n)return;let i=0;n.forEach(f=>{(!i||f.length>i)&&(i=f.length)});let s=document.getElementById("mathlive-environment-popover");s||(s=L5("mathlive-environment-popover"),Tu("environment-popover"),Tu("core"),s.setAttribute("aria-hidden","true"));let a,o=s.querySelector(".MLEP__environment-controls");o?a=o:(a=document.createElement("div"),s.innerHTML="",s.appendChild(a)),a.className="MLEP__environment-controls",a.style.display="flex",a.style.width="100%",a.style.height="100%",a.style.boxSizing="border-box",a.innerHTML=Yje;let l=[],c="",u=t.model.parentEnvironment.environmentName;if(rre(u)){let f=oIe(u);c=eC[f]("active");let p=eC,m=y3(p,[CU(f)]);l=Object.values(m).map(v=>v("inactive"))}else if(zLe(u)){let f=lIe(u);c=tC[f]("active");let p=tC,m=y3(p,[CU(f)]);l=Object.values(m).map(v=>v("inactive"))}else HLe(u)&&(c=eC.matrix("active"),l=Object.values(tC).map(f=>f("inactive")));let d=document.createElement("div");d.className="MLEP__environment-delimiter-controls",d.style.display="flex",d.style.flexDirection="column",d.innerHTML=`
  <div class='MLEP__array-delimiter-options'>
  ${c}
  ${l.join("")}
  </div>`,c&&a.appendChild(d),a.querySelectorAll("[data-command]").forEach(f=>{let p=f.dataset.command,m=p;try{m=JSON.parse(p)}catch{}f.addEventListener("mousedown",v=>v.preventDefault()),m&&f.addEventListener("click",()=>t.executeCommand(m))});let A=(r=t.field)==null?void 0:r.getBoundingClientRect();A&&(s.style.top=`${window.scrollY+(A.top-s.clientHeight-15)}px`,s.style.left=`${A.left+20}px`,s.classList.add("is-visible"))}function c_(){let t=document.getElementById("mathlive-environment-popover");t==null||t.classList.remove("is-visible")}function aIe(){document.getElementById("mathlive-environment-popover")&&(ZF("mathlive-environment-popover"),Du("environment-popover"),Du("core"))}function jv(t){if(!t.hasFocus())return;let e=!1;if(t.model.mode==="math"){let r=t.model.parentEnvironment;if(r!=null&&r.rows&&QLe(r.environmentName)){let n=t.options.environmentPopoverPolicy;e=n==="auto"||n==="on"}}e?sIe(t):c_()}function oIe(t){return t.replace("*","")}function lIe(t){return t==="dcases"?"cases":t}function cne(t){let e=getComputedStyle(t).direction;return e==="ltr"||e==="rtl"?e:"ltr"}function Vz(t,e,r){return e==="left"||e==="leading"&&r==="ltr"||e==="trailing"&&r==="rtl"?t.left:t.right}function rC(t,e,r,n){return r==="middle"?t-e/2:r==="start"&&n==="rtl"||r==="end"&&n==="ltr"||r==="top"||r==="right"?Math.max(0,t-e):t}function cIe(t,e,r,n){return r==="middle"?t-e/2:r==="start"&&n==="ltr"||r==="end"&&n==="rtl"||r==="top"||r==="right"?t:t-e}function uIe(t,e){var r,n,i;let s=(r=cne(t))!=null?r:"ltr";t.style.position="fixed",t.style.left="",t.style.top="",t.style.right="",t.style.bottom="",t.style.height="",t.style.width="";let a=t.getBoundingClientRect(),o=Number.isFinite(e.maxHeight)?Math.min(e.maxHeight,window.innerHeight):window.innerHeight,l=Math.min(o,(n=e.height)!=null?n:a.height),c=rC(e.location.y,l,e.verticalPos,s);c+l>window.innerHeight-8&&(e.alternateLocation?(c=rC(e.alternateLocation.y,l,e.verticalPos,s),c+l>window.innerHeight-8&&(c=void 0)):c=void 0),Number.isFinite(c)||(c=Math.max(8,window.innerHeight-8-l),8+l>window.innerHeight-8&&(t.style.bottom="8px")),l=Math.min(c+l,window.innerHeight-8)-c;let u=Number.isFinite(e.maxWidth)?Math.min(e.maxWidth,window.innerWidth):window.innerWidth,d=Math.min(u,(i=e.width)!=null?i:a.width),A=rC(e.location.x,d,e.horizontalPos,s);A+d>window.innerWidth-8&&(e.alternateLocation?(A=cIe(e.alternateLocation.x,d,e.verticalPos,s),A+d>window.innerWidth-8&&(A=void 0)):A=void 0),Number.isFinite(A)||(A=Math.max(8,window.innerWidth-8-d),8+d>window.innerWidth-8&&(t.style.right="8px")),d=Math.min(A+d,window.innerWidth-8)-A,s==="rtl"?t.style.right=`${Math.ceil(window.innerWidth-A-d).toString()}px`:t.style.left=`${Math.ceil(A).toString()}px`,t.style.top=`${Math.ceil(c).toString()}px`,l!==a.height&&(t.style.height=`${Math.ceil(l).toString()}px`),d!==a.width&&(t.style.width=`${Math.ceil(d).toString()}px`)}function dIe(t,e){return Math.hypot(e.x-t.x,e.y-t.y)}function lA(t){return"submenu"in t}function al(t){return"type"in t&&t.type==="command"||"onMenuSelect"in t||"id"in t}function u_(t){return"type"in t&&t.type==="divider"}function nC(t){return"type"in t&&t.type==="heading"}var Kz={};function iC(t){let e=Kz[t];if(!e){let r;switch(t){case"checkmark":r=`<span aria-hidden="true" class="ui-checkmark"><svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"></path></svg>
      </span>`;break;case"trailing-chevron":r='<span aria-hidden="true" class="ui-trailing-chevron"><svg focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"></path></svg></span>';break;case"mixedmark":r='<span aria-hidden="true" class="ui-mixedmark"><svg xmlns="http://www.w3.org/2000/svg" width="16" viewBox="0 0 512 512"><path fill="currentColor" d="M0 256c0-13.3 10.7-24 24-24H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H24c-13.3 0-24-10.7-24-24z"/></svg></span>'}if(r){let n=document.createElement("template");n.innerHTML=r,Kz[t]=n,e=n}}if(e){if("content"in e)return e.content.cloneNode(!0);let r=document.createElement("svg");return r.innerHTML=e.innerHTML,r}}var qz=80,une=class{constructor(t,e){this._className="",this._element=null;var r;this.parentMenu=e,this._declaration=t,Object.freeze(this._declaration),lA(t)?(this.type="submenu",this.submenu=new dne(t.submenu,{parentMenu:e,submenuClass:t.submenuClass,columnCount:t.columnCount})):this.type=(r=t.type)!=null?r:"command",this.hasCheck=al(t)&&t.checked!==void 0}get rootMenu(){return this.parentMenu.rootMenu}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}dispose(){var t,e;(t=this._abortController)==null||t.abort(),this._abortController=void 0,(e=this._element)==null||e.remove(),this._element=null,this.submenu&&this.submenu.dispose(),this.submenu=void 0}get menuItem(){return this._declaration}get label(){var t;return(t=this._label)!=null?t:""}set label(t){t===void 0&&(t=""),t!==this._label&&(this._label=t,this.dirty=!0)}get visible(){return this._visible}set visible(t){t!==this._visible&&(this._visible=t,this.dirty=!0)}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this.element&&(t?this.element.removeAttribute("aria-disabled"):this.element.setAttribute("aria-disabled","true")),this.dirty=!0}get checked(){return this._checked}set checked(t){this._checked=t,this.dirty=!0}get tooltip(){return this._tooltip}set tooltip(t){t!==this._tooltip&&(this._tooltip=t,this.dirty=!0)}get ariaLabel(){return this._ariaLabel}set ariaLabel(t){t!==this._ariaLabel&&(this._ariaLabel=t,this.dirty=!0)}get active(){var t,e;return(e=(t=this.element)==null?void 0:t.classList.contains("active"))!=null?e:!1}set active(t){this.element&&this.element.classList.toggle("active",t)}updateState(t){var e,r,n;let i=this._declaration;if(u_(i)){this.enabled=!1,this.checked=!1;return}nC(i)&&(this.enabled=!1,this.checked=!1,this.visible=!0),al(i)&&(this.checked=(e=md(i.checked,t))!=null?e:!1),(al(i)||lA(i))&&(this.enabled=(r=md(i.enabled,t))!=null?r:!0,this.visible=(n=md(i.visible,t))!=null?n:!0,this.visible&&this.enabled&&this.submenu&&(this.submenu.updateState(t),this.submenu.visible||(this.visible=!1))),(al(i)||nC(i)||lA(i))&&(this.label=md(i.label,t),this._className=md(i.class,t),this.tooltip=md(i.tooltip,t),this.ariaLabel=md(i.ariaLabel,t)),this._element&&this.updateElement()}set dirty(t){t&&this.parentMenu&&(this.parentMenu.dirty=!0)}updateElement(){var t;if(!this.visible||!this.element)return;let e=this.element;e.textContent="",e.className="",e.className=(t=this._className)!=null?t:"",this.enabled?e.removeAttribute("aria-disabled"):e.setAttribute("aria-disabled","true"),this.checked===!0?(e.setAttribute("aria-checked","true"),e.append(iC("checkmark"))):this.checked==="mixed"?(e.setAttribute("aria-checked","mixed"),e.append(iC("mixedmark"))):e.removeAttribute("aria-checked"),this.ariaLabel&&e.setAttribute("aria-label",this.ariaLabel);let r=document.createElement("span");if(r.className=this.parentMenu.hasCheck?"label indent":"label",this.type==="heading"&&r.classList.add("heading"),r.innerHTML=this.label,e.append(r),this._tooltip&&e.setAttribute("data-tooltip",this._tooltip),al(this._declaration)&&this._declaration.keyboardShortcut){let n=document.createElement("kbd");n.innerHTML=XF(this._declaration.keyboardShortcut),e.append(n)}this.type==="submenu"&&e.append(iC("trailing-chevron"))}get element(){if(this._element)return this._element;if(u_(this._declaration)){let r=document.createElement("li");return r.setAttribute("part","menu-divider"),r.setAttribute("role","divider"),this._element=r,r}let t=document.createElement("li");this._element=t,(al(this._declaration)||nC(this._declaration)||lA(this._declaration))&&t.setAttribute("part","menu-item"),t.setAttribute("tabindex","-1"),this.hasCheck?t.setAttribute("role","menuitemcheckbox"):t.setAttribute("role","menuitem"),this.type==="submenu"&&(t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-expanded","false"));let e=this.abortController.signal;return t.addEventListener("pointerenter",this,{signal:e}),t.addEventListener("pointerleave",this,{signal:e}),t.addEventListener("pointerup",this,{signal:e}),t.addEventListener("click",this,{signal:e}),this._element}dispatchSelect(){var t;if(!al(this._declaration))return;let e=new CustomEvent("menu-select",{cancelable:!0,bubbles:!0,detail:{modifiers:this.rootMenu.modifiers,id:this._declaration.id,data:this._declaration.data}});this.parentMenu.dispatchEvent(e)&&typeof this._declaration.onMenuSelect=="function"&&this._declaration.onMenuSelect({target:(t=this.parentMenu.host)!=null?t:void 0,modifiers:this.rootMenu.modifiers,id:this._declaration.id,data:this._declaration.data})}handleEvent(t){var e;if(!(!this.visible||!this.enabled)){if(t.type==="click"){this.rootMenu.state==="modal"&&this.select(),t.stopPropagation(),t.preventDefault();return}if(t.type==="pointerenter"){let r=t;this.rootMenu.cancelDelayedOperation(),this.parentMenu.isSubmenuOpen&&(e=this.parentMenu.activeMenuItem)!=null&&e.movingTowardSubmenu(r)?this.rootMenu.scheduleOperation(()=>{this.parentMenu.activeMenuItem=this,this.openSubmenu()}):(this.parentMenu.activeMenuItem=this,this.openSubmenu({withDelay:!0}));return}if(t.type==="pointerleave"){this.rootMenu.activeSubmenu===this.parentMenu&&(this.parentMenu.activeMenuItem=null);return}if(t.type==="pointerup"){this.rootMenu.state!=="modal"&&this.select(),t.stopPropagation(),t.preventDefault();return}}}select(){if(this.rootMenu.cancelDelayedOperation(),this.type==="submenu"){this.openSubmenu();return}this.active=!1,setTimeout(()=>{this.active=!0,setTimeout(()=>{this.active=!1,this.rootMenu.hide(),this.dispatchSelect()},qz)},qz)}openSubmenu(t){var e;if(this.type!=="submenu"||!this.element)return;if((e=t==null?void 0:t.withDelay)!=null&&e){this.rootMenu.scheduleOperation(()=>this.openSubmenu());return}let r=this.element.getBoundingClientRect(),n=cne(this.element);this.submenu.show({container:this.rootMenu.element.parentNode,location:{x:Vz(r,"trailing",n),y:r.top-4},alternateLocation:{x:Vz(r,"leading",n),y:r.top-4}})}movingTowardSubmenu(t){if(!this.element||this.type!=="submenu")return!1;let e=this.rootMenu.lastMoveEvent;if(!e)return!1;let r=t.timeStamp-e.timeStamp;if(r>500)return!1;let n=t.clientX-e.clientX;if(hIe(n,e.clientY-t.clientY,r)<=.2)return!1;let i="right";if(this.submenu.element){let s=this.submenu.element.getBoundingClientRect(),a=this.element.getBoundingClientRect();s.left<a.left+a.width/2&&(i="left")}return i==="right"?n>0:n<0}};function hIe(t,e,r){return Math.hypot(t,e)/r}function md(t,e){return t===void 0||typeof t!="function"?t:(e!=null||(e={alt:!1,control:!1,shift:!1,meta:!1}),t(e))}var dne=class tm{constructor(e,r){this._element=null,this._activeMenuItem=null,this._dirty=!0;var n,i;this.parentMenu=(n=r==null?void 0:r.parentMenu)!=null?n:null,this._submenuClass=r==null?void 0:r.submenuClass,this.columnCount=(i=r==null?void 0:r.columnCount)!=null?i:1,this.isSubmenuOpen=!1,this.menuItems=e}get children(){return Object.freeze([...this._menuItems])}set menuItems(e){let r=this.parentMenu;this.dispose(),this.parentMenu=r,e=[...e],this._menuItems=e.map(n=>n.onCreate?n.onCreate(n,this):new une(n,this)),this.hasCheck=void 0,this.dirty=!0}dispose(){var e;this.hide(),this._element&&this._element.remove(),this._abortController&&this._abortController.abort(),(e=this._menuItems)==null||e.forEach(r=>r.dispose()),this._menuItems=[],this._activeMenuItem=null,this.parentMenu=null}handleEvent(e){if(e.type==="wheel"&&this._element){let r=e;this._element.scrollBy(0,r.deltaY),e.stopPropagation()}}dispatchEvent(e){return this.rootMenu.dispatchEvent(e)}get host(){return this.rootMenu.host}get rootMenu(){return this.parentMenu.rootMenu}updateState(e){var r,n,i;this._menuItems.forEach(c=>c.updateState(e));let s=this.hasCheck;this.hasCheck=this._menuItems.some(c=>c.visible&&c.hasCheck),this.hasCheck!==s&&this._menuItems.forEach(c=>c.updateState(e));let a,o=0;for(let c of this._menuItems)c.type==="heading"?(a&&o===0&&(a.visible=!1),a=c,o=0):c.type==="divider"&&a?(a.visible=o>0,a=void 0,o=0):a&&c.visible&&(o+=1);a&&(a.visible=o>0);let l=!0;for(let c of this._menuItems)c.type==="divider"?(c.visible=!l,l=!0):c.visible&&(l=!1);(r=this.activeMenuItem)!=null&&r.visible||(this.activeMenuItem=null),!((n=this.activeMenuItem)!=null&&n.enabled)&&((i=this.activeMenuItem)==null?void 0:i.type)==="submenu"&&this._activeMenuItem.submenu.hide(),this._dirty=!1}get enabled(){return this.updateIfDirty(),this._menuItems.some(e=>e.type!=="divider"&&e.visible&&e.enabled)}get visible(){return this.updateIfDirty(),this._menuItems.some(e=>e.type!=="divider"&&e.visible)}set dirty(e){this._dirty!==e&&e&&this.parentMenu&&(this._dirty=!0,this.parentMenu.dirty=!0)}updateIfDirty(){this._dirty&&this.updateState(this.rootMenu.modifiers)}updateElement(){var e;if(this._element){this._element.textContent="";for(let{element:r,visible:n}of this._menuItems)r&&n&&this._element.append(r);(e=this._element.querySelector("li:first-of-type"))==null||e.setAttribute("tabindex","0")}}get element(){if(this._element)return this._element;let e=document.createElement("menu");e.setAttribute("role","menu"),e.setAttribute("tabindex","-1"),e.setAttribute("aria-orientation","vertical"),e.setAttribute("part","ui-menu-container"),this._submenuClass&&e.classList.add(this._submenuClass),e.classList.add("ui-menu-container"),this._abortController||(this._abortController=new AbortController);let r=this._abortController.signal;return e.addEventListener("focus",this,{signal:r}),e.addEventListener("wheel",this,{passive:!0,signal:r}),this._element=e,this.updateElement(),e}get activeMenuItem(){return this._activeMenuItem}set activeMenuItem(e){var r,n,i,s;if(this.rootMenu.cancelDelayedOperation(),e!==this._activeMenuItem){if(this.activeMenuItem){let a=this.activeMenuItem;a.active=!1,(r=a.submenu)==null||r.hide()}if(!((n=e==null?void 0:e.visible)==null||n)){this._activeMenuItem=null;return}this._activeMenuItem=e,e&&(e.active=!0)}e?(i=e.element)==null||i.focus({preventScroll:!0}):(s=this._element)==null||s.focus({preventScroll:!0})}get firstMenuItem(){this.updateIfDirty();let e=0,r=!1,n=this._menuItems;for(;!r&&e<=n.length-1;){let i=n[e];r=i.type!=="divider"&&i.visible&&i.enabled,e+=1}return r?n[e-1]:null}get lastMenuItem(){this.updateIfDirty();let e=this._menuItems,r=e.length-1,n=!1;for(;!n&&r>=0;){let i=e[r];n=i.type!=="divider"&&i.visible&&i.enabled,r-=1}return n?e[r+1]:null}nextMenuItem(e){if(e===0)return this._activeMenuItem;if(!this._activeMenuItem)return e>0?this.firstMenuItem:this.lastMenuItem;if(!this.firstMenuItem||!this.lastMenuItem||!this._activeMenuItem)return null;this.updateIfDirty();let r=this._menuItems.indexOf(this.firstMenuItem),n=this._menuItems.indexOf(this.lastMenuItem),i=this._menuItems.indexOf(this._activeMenuItem),s=1;for(;i>=r&&i<=n;){i+=e>0?1:-1;let a=this._menuItems[i];if(!a)break;if(a.visible&&a.enabled){if(s===Math.abs(e))return this._menuItems[i];s+=1}}return e>0?this.lastMenuItem:this.firstMenuItem}getMenuItemColumn(e){this.updateIfDirty();let r=this._menuItems.filter(n=>n.visible&&n.enabled).indexOf(e);return r<0?-1:r%this.columnCount}static get collator(){return tm._collator||(tm._collator=new Intl.Collator(void 0,{usage:"search",sensitivity:"base"})),tm._collator}findMenuItem(e){var r;this.updateIfDirty();let n=this._menuItems.filter(o=>o.type!=="divider"&&o.visible&&o.enabled);if(n.length===0)return null;let i=Math.max(...n.map(o=>o.label.length))-e.length;if(i<0)return null;let s=null,a=0;for(;a<i&&!s;)s=(r=n.find(o=>tm.collator.compare(e,o.label.substring(a,e.length))===0))!=null?r:null,a++;return s}show(e){return!this.visible||!e.container?!1:(this.updateElement(),e.container.appendChild(this.element),BU()&&(this.element.popover="manual",this.element.showPopover()),e.location&&uIe(this.element,{location:e.location,alternateLocation:e.alternateLocation,verticalPos:"bottom",horizontalPos:"start"}),Wz(),this.element.focus({preventScroll:!0}),Gz(),this.parentMenu&&(this.parentMenu.openSubmenu=this),!0)}hide(){var e,r,n,i,s,a;this.openSubmenu=null,this.activeMenuItem=null,this.parentMenu&&(this.parentMenu.openSubmenu=null),!(!((e=this._element)!=null&&e.isConnected)||!this._element.parentElement)&&(BU()&&(r=this._element)!=null&&r.popover&&this._element.hidePopover(),Wz(),(i=(n=this.parentMenu)==null?void 0:n.element)==null||i.focus(),(a=(s=this._element)==null?void 0:s.parentNode)==null||a.removeChild(this._element),Gz())}set openSubmenu(e){var r,n,i,s;let a=e!==null;((r=this.activeMenuItem)==null?void 0:r.type)==="submenu"&&((n=this.activeMenuItem.element)==null||n.setAttribute("aria-expanded",a.toString())),(s=(i=this.activeMenuItem)==null?void 0:i.element)==null||s.classList.toggle("is-submenu-open",a),this.isSubmenuOpen=a}};function Wz(){document.addEventListener("focusin",Xc,!0),document.addEventListener("focusout",Xc,!0),document.addEventListener("focus",Xc,!0),document.addEventListener("blur",Xc,!0)}function Xc(t){t.stopImmediatePropagation(),t.preventDefault()}function Gz(){document.removeEventListener("focusin",Xc,!0),document.removeEventListener("focusout",Xc,!0),document.removeEventListener("focus",Xc,!0),document.removeEventListener("blur",Xc,!0)}var hne=class Ane extends dne{constructor(e,r){var n;super(e),this.state="closed",this.typingBufferResetTimer=0,this.hysteresisTimer=0,this._updating=!1,this._host=(n=r==null?void 0:r.host)!=null?n:null,this.isDynamic=e.some(fne),this._modifiers={shift:!1,control:!1,alt:!1,meta:!1},this.typingBuffer="",this.state="closed"}get modifiers(){return this._modifiers}set modifiers(e){DNe(this._modifiers,e)||(this._modifiers=e,this.dirty=!0)}get activeSubmenu(){let e=this;for(;e.isSubmenuOpen;)e=e.activeMenuItem.submenu;return e}set dirty(e){this._updating||this._dirty!==e&&(this._dirty=!0,e&&setTimeout(()=>{this.updateState(this.modifiers),this.updateElement()}))}updateState(e){this._updating=!0,this.modifiers=e??this.modifiers,super.updateState(this.modifiers),this._updating=!1}handleKeyupEvent(e){this.isDynamic&&(this.modifiers=Wd(e)),e.stopImmediatePropagation()}handleKeydownEvent(e){var r,n,i;if(e.key==="Tab"||e.key==="Escape"){this.hide();return}this.isDynamic&&(this.modifiers=Wd(e));let s=!0,a=this.activeSubmenu,o=a.activeMenuItem;switch(e.key){case" ":case"Space":case"Return":case"Enter":o==null||o.select(Wd(e));break;case"ArrowRight":if((o==null?void 0:o.type)==="submenu")o.select(Wd(e)),this.activeSubmenu.activeMenuItem=this.activeSubmenu.firstMenuItem;else if(!o)a.activeMenuItem=a.firstMenuItem;else{let l=(r=a.getMenuItemColumn(o))!=null?r:-1;if(l>=0&&l<((n=a.columnCount)!=null?n:1)-1){let c=a.nextMenuItem(1);c&&(a.activeMenuItem=c)}}break;case"ArrowLeft":if(a===this.rootMenu)o||(a.activeMenuItem=a.firstMenuItem);else if((o&&(i=a.getMenuItemColumn(o))!=null?i:-1)<=0||!o){a.hide();let l=a.parentMenu.activeMenuItem;if(l){let{element:c}=l;c==null||c.focus(),c==null||c.classList.remove("is-submenu-open")}}else{let l=a.nextMenuItem(-1);l&&(a.activeMenuItem=l)}break;case"ArrowDown":a.activeMenuItem=a.nextMenuItem(a.columnCount);break;case"ArrowUp":a.activeMenuItem=a.nextMenuItem(-a.columnCount);break;case"Home":case"PageUp":a.activeMenuItem=a.firstMenuItem;break;case"End":case"PageDown":a.activeMenuItem=a.lastMenuItem;break;case"Backspace":if(this.typingBuffer&&(this.typingBuffer=this.typingBuffer.slice(0,-1),this.typingBuffer)){clearTimeout(this.typingBufferResetTimer);let l=a.findMenuItem(this.typingBuffer);l&&(a.activeMenuItem=l),this.typingBufferResetTimer=setTimeout(()=>{this.typingBuffer=""},500)}break;default:if(T5(e)){isFinite(this.typingBufferResetTimer)&&clearTimeout(this.typingBufferResetTimer),this.typingBuffer+=e.key;let l=a.findMenuItem(this.typingBuffer);l&&(a.activeMenuItem=l),this.typingBufferResetTimer=setTimeout(()=>{this.typingBuffer=""},500)}else s=!1}s&&(e.preventDefault(),e.stopPropagation())}handleEvent(e){if(e.type==="keydown")this.handleKeydownEvent(e);else if(e.type==="keyup")this.handleKeyupEvent(e);else if(e.type==="pointermove")this.lastMoveEvent=e;else if(e.type==="pointerup"&&e.target===this.scrim)Number.isFinite(this.rootMenu._openTimestamp)&&Date.now()-this.rootMenu._openTimestamp<120?this.state="modal":this.state==="modal"&&this.hide();else if(e.type==="contextmenu"){e.preventDefault(),e.stopPropagation();return}super.handleEvent(e)}dispatchEvent(e){return this._host?this._host.dispatchEvent(e):!0}get host(){return this._host}get scrim(){return Ba.element}connectScrim(e){let r=this.scrim;r.addEventListener("pointerup",this),r.addEventListener("contextmenu",this),r.addEventListener("keydown",this),r.addEventListener("keyup",this),r.addEventListener("pointermove",this),Ba.open({root:e,onDismiss:()=>this.hide()})}disconnectScrim(){let e=this.scrim;e.removeEventListener("pointerup",this),e.removeEventListener("contextmenu",this),e.removeEventListener("keydown",this),e.removeEventListener("keyup",this),e.removeEventListener("pointermove",this),Ba.state==="open"&&Ba.scrim.close()}get rootMenu(){return this}show(e){return this._onDismiss=e==null?void 0:e.onDismiss,e!=null&&e.modifiers&&(this.modifiers=e.modifiers),this.updateState(),this.connectScrim(e==null?void 0:e.target),super.show(G(P({},e),{container:this.scrim}))?(this._openTimestamp=Date.now(),this.state="open",!0):(this.disconnectScrim(),!1)}hide(){this.cancelDelayedOperation(),this.state!==void 0&&(this.state!=="closed"&&(this.activeMenuItem=null,Ba.element.parentElement.focus(),super.hide(),this.state="closed",this.disconnectScrim()),this._onDismiss&&(this._onDismiss(),this._onDismiss=void 0))}scheduleOperation(e){this.cancelDelayedOperation();let r=Ane.SUBMENU_DELAY;if(r<=0){e();return}this.hysteresisTimer=setTimeout(()=>{this.hysteresisTimer=0,e()},r)}cancelDelayedOperation(){this.hysteresisTimer&&(clearTimeout(this.hysteresisTimer),this.hysteresisTimer=0)}};hne.SUBMENU_DELAY=120;var Xz=hne;function fne(t){return u_(t)?!1:typeof t.label=="function"||typeof t.ariaLabel=="function"||typeof t.tooltip=="function"||(al(t)||lA(t))&&(typeof t.enabled=="function"||typeof t.visible=="function")||al(t)&&typeof t.checked=="function"?!0:lA(t)?t.submenu.some(fne):!1}var j3=class{};j3.DELAY=300,j3.MAX_DISTANCE=10;function AIe(t){return new Promise((e,r)=>{let n=_3(t);n||e(!1);let i=n,s=setTimeout(()=>{a.abort(),e(dIe(i,n)<j3.MAX_DISTANCE)},j3.DELAY),a=new AbortController,o=a.signal;for(let l of["pointermove","pointerup","pointercancel"])window.addEventListener(l,c=>{if(c.type==="pointerup"||c.type==="pointercancel")clearTimeout(s),a.abort(),e(!1);else if(c.type==="pointermove"){let u=_3(c);u&&(i=u)}},{passive:!0,signal:o})})}async function Yz(t,e,r){if(t.defaultPrevented)return!1;if(t.type==="contextmenu"){let n=t;if(r.show({target:e,location:_3(n),modifiers:Wd(n)}))return t.preventDefault(),t.stopPropagation(),!0}if(t.type==="keydown"){let n=t;if(n.code==="ContextMenu"||n.code==="F10"&&n.shiftKey){let i=e==null?void 0:e.getBoundingClientRect();if(Jz(e)&&i&&r.show({target:e,location:{x:Math.ceil(i.left+i.width/2),y:Math.ceil(i.top+i.height/2)},modifiers:Wd(n)}))return t.preventDefault(),t.stopPropagation(),!0}}if(t.type==="pointerdown"&&t.pointerType!=="mouse"&&t.button===0){let n=t.target;for(;n&&e!==n;)n=n.parentNode;if(!n||!r.visible)return!1;let i=_3(t);if(await AIe(t))return r.state!=="closed"||!Jz(e)?!1:(r.show({target:e,location:i}),!0)}return!1}function Jz(t){return t.dispatchEvent(new Event("contextmenu",{cancelable:!0}))}var Zz={acute:714,grave:715,dot:729,ddot:168,dddot:8411,ddddot:8412,mathring:730,tilde:126,bar:713,breve:728,check:711,hat:94,vec:8407};de(Object.keys(Zz),"{body:auto}",{createAtom:t=>new _5(G(P({},t),{body:Ee(t.args[0]),accentChar:Zz[t.command.slice(1)]}))});de(["widehat","widecheck","widetilde"],"{body:auto}",{createAtom:t=>{let e=kte(Ee(t.args[0]));return new _5(G(P({},t),{body:Ee(t.args[0]),svgAccent:t.command.slice(1)+(e.length>5?"4":["1","1","2","2","3","3"][e.length])}))}});de(["overarc","overparen","wideparen"],"{body:auto}",{createAtom:t=>new _5(G(P({},t),{body:Ee(t.args[0]),svgAccent:"overarc"}))});de(["underarc","underparen"],"{body:auto}",{createAtom:t=>new oa(G(P({},t),{body:Ee(t.args[0]),svgBelow:"underarc"}))});de("utilde","{body:auto}",{createAtom:t=>{let e=Ee(t.args[0]),r=kte(e),n="widetilde"+(r.length>5?"4":["1","1","2","2","3","3"][r.length]);return new oa(G(P({},t),{body:e,svgBelow:n,boxType:q1(e)}))}});de("^","{:string}",{createAtom:t=>{var e;return new se(G(P({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={a:"â",e:"ê",i:"î",o:"ô",u:"û",A:"Â",E:"Ê",I:"Î",O:"Ô",U:"Û"}[t.args[0]])!=null?e:"^"}))}});de("`","{:string}",{createAtom:t=>{var e;return new se(G(P({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={a:"à",e:"è",i:"ì",o:"ò",u:"ù",A:"À",E:"È",I:"Ì",O:"Ò",U:"Ù"}[t.args[0]])!=null?e:"`"}))}});de("'","{:string}",{createAtom:t=>{var e;return new se(G(P({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={a:"á",e:"é",i:"í",o:"ó",u:"ú",A:"Á",E:"É",I:"Í",O:"Ó",U:"Ú"}[t.args[0]])!=null?e:"'"}))}});de('"',"{:string}",{createAtom:t=>{var e,r;return new se(G(P({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:(e=t.args)!=null&&e[0]?(r={a:"ä",e:"ë",i:"ï",o:"ö",u:"ü",A:"Ä",E:"Ë",I:"Ë",O:"Ö",U:"Ü"}[t.args[0]])!=null?r:'"'+t.args[0]:'"'}))}});de(".","{:string}",{createAtom:t=>{var e,r;return new se(G(P({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:(e=t.args)!=null&&e[0]?(r={a:"ȧ",e:"ė",i:"̇i",o:"ȯ",u:"̇u",A:"Ȧ",E:"Ė",I:"İ",O:"Ȯ",U:"̇U"}[t.args[0]])!=null?r:"."+t.args[0]:"."}))}});de("=","{:string}",{createAtom:t=>{var e,r;return new se(G(P({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:(e=t.args)!=null&&e[0]?(r={a:"ā",e:"ē",i:"ī",o:"ō",u:"ū",A:"Ā",E:"Ē",I:"Ī",O:"Ō",U:"Ū"}[t.args[0]])!=null?r:"="+t.args[0]:"="}))}});de("~","{:string}",{createAtom:t=>{var e;return new se(G(P({type:"mord"},t),{isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={n:"ñ",N:"Ñ",a:"ã",o:"õ",A:"Ã",O:"Õ"}[t.args[0]])!=null?e:"´"}))}});de("c","{:string}",{createAtom:t=>{var e;return new se(G(P({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={c:"ç",C:"Ç"}[t.args[0]])!=null?e:""}))}});de("enclose","{notation:string}[style:string]{body:auto}",{createAtom:t=>{var e,r;let n=t.args,i={strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",backgroundcolor:"transparent",padding:"auto",shadow:"none",svgStrokeStyle:void 0,borderStyle:void 0,style:(e=t.style)!=null?e:{}};if(n[1]){let a=n[1].split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(let o of a){let l=o.match(/\s*(\S+)\s+(\S+)\s+(.*)/);if(l)i.strokeWidth=l[1],i.strokeStyle=l[2],i.strokeColor=l[3];else{let c=o.match(/\s*([a-z]*)\s*=\s*"(.*)"/);c&&(c[1]==="mathbackground"?i.backgroundcolor=c[2]:c[1]==="mathcolor"?i.strokeColor=c[2]:c[1]==="padding"?i.padding=c[2]:c[1]==="shadow"&&(i.shadow=c[2]))}}i.strokeStyle==="dashed"?i.svgStrokeStyle="5,5":i.strokeStyle==="dotted"&&(i.svgStrokeStyle="1,5")}i.borderStyle=`${i.strokeWidth} ${i.strokeStyle} ${i.strokeColor}`;let s={};return((r=n[0])!=null?r:"").split(/[, ]/).filter(a=>a.length>0).forEach(a=>{s[a.toLowerCase()]=!0}),new W1(t.command,Ee(n[2]),s,i)}});de("cancel","{body:auto}",{createAtom:t=>{var e;return new W1(t.command,Ee(t.args[0]),{updiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(e=t.style)!=null?e:{}})}});de("bcancel","{body:auto}",{createAtom:t=>{var e;return new W1(t.command,Ee(t.args[0]),{downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(e=t.style)!=null?e:{}})}});de("xcancel","{body:auto}",{createAtom:t=>{var e;return new W1(t.command,Ee(t.args[0]),{updiagonalstrike:!0,downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(e=t.style)!=null?e:{}})}});de(["overrightarrow","overleftarrow","Overrightarrow","overleftharpoon","overrightharpoon","overleftrightarrow","overlinesegment","overgroup"],"{:auto}",{createAtom:t=>{var e;return new oa(G(P({},t),{body:Ee((e=t.args)==null?void 0:e[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",svgAbove:t.command.slice(1)}))}});de("overbrace","{:auto}",{createAtom:t=>new oa(G(P({},t),{body:Ee(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",svgAbove:t.command.slice(1)}))});de(["underrightarrow","underleftarrow","underleftrightarrow","underlinesegment","undergroup"],"{:auto}",{createAtom:t=>new oa(G(P({},t),{body:Ee(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",svgBelow:t.command.slice(1)}))});de(["underbrace"],"{:auto}",{createAtom:t=>new oa(G(P({},t),{body:Ee(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",svgBelow:t.command.slice(1)}))});de(["xrightarrow","longrightarrow","xleftarrow","longleftarrow","xRightarrow","xLeftarrow","xleftharpoonup","xleftharpoondown","xrightharpoonup","xrightharpoondown","xlongequal","xtwoheadleftarrow","xtwoheadrightarrow","xleftrightarrow","longleftrightarrow","xLeftrightarrow","xrightleftharpoons","longrightleftharpoons","xleftrightharpoons","xhookleftarrow","xhookrightarrow","xmapsto","xtofrom","xleftrightarrows","longleftrightarrows","xRightleftharpoons","longRightleftharpoons","xLeftrightharpoons","longLeftrightharpoons"],"[:auto]{:auto}",{createAtom:t=>{var e,r,n,i,s;return new oa(G(P({},t),{svgBody:t.command.slice(1),above:((r=Ee((e=t.args)==null?void 0:e[1]))==null?void 0:r.length)===0?void 0:Ee((n=t.args)==null?void 0:n[1]),below:(s=Ee((i=t.args)==null?void 0:i[0]))!=null?s:null,skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,paddedLabels:!0,boxType:"rel"}))},serialize:(t,e)=>t.command+(t.hasEmptyBranch("below")?"":`[${t.belowToLatex(e)}]`)+`{${t.aboveToLatex(e)}}${t.supsubToLatex(e)}`});de(["arccos","arcsin","arctan","arctg","arcctg","arg","ch","cos","cosh","cot","cotg","coth","ctg","cth","csc","cosec","deg","dim","exp","gcd","hom","inf","ker","lb","lg","ln","log","Pr","sec","sh","sin","sinh","sup","tan","tanh","tg","th","arcsec","arccsc","arsinh","arcosh","artanh","arcsech","arccsch"],"",{isFunction:!0,ifMode:"math",createAtom:t=>new Q0(t.command.slice(1),G(P({},t),{limits:"adjacent",isFunction:!0,variant:"main",variantStyle:"up"}))});de(["liminf","limsup"],"",{ifMode:"math",createAtom:t=>new Q0({"\\liminf":"lim inf","\\limsup":"lim sup"}[t.command],G(P({},t),{limits:"over-under",variant:"main"}))});de(["lim","mod"],"",{ifMode:"math",createAtom:t=>new Q0(t.command.slice(1),G(P({},t),{limits:"over-under",variant:"main"}))});de(["det","max","min"],"",{ifMode:"math",isFunction:!0,createAtom:t=>new Q0(t.command.slice(1),G(P({},t),{limits:"over-under",isFunction:!0,variant:"main"}))});de("ang","{:math}",{ifMode:"math",createAtom:t=>new se(G(P({},t),{body:Ee(t.args[0])})),serialize:(t,e)=>`\\ang{${t.bodyToLatex(e)}}`,render:(t,e)=>{let r=t.createBox(e),n=r.caret;r.caret=void 0;let i=new ge("°",{style:G(P({},t.style),{variant:"normal",variantStyle:"up"})});return new ge([r,i],{type:"inner",isSelected:t.isSelected,caret:n})}});de("sqrt","[index:auto]{radicand:expression}",{ifMode:"math",createAtom:t=>new Nre(G(P({},t),{body:Ee(t.args[1]),index:t.args[0]?Ee(t.args[0]):void 0}))});de(["frac","dfrac","tfrac","binom","dbinom","tbinom"],"{:expression}{:expression}",{ifMode:"math",createAtom:t=>{let e=P({},t),r=t.command,n=t.args;switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":e.hasBarLine=!0;break;case"\\atopfrac":e.hasBarLine=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":e.hasBarLine=!1,e.leftDelim="(",e.rightDelim=")";break;case"\\cfrac":e.hasBarLine=!0,e.continuousFraction=!0;break}switch(r){case"\\dfrac":case"\\dbinom":e.mathstyleName="displaystyle";break;case"\\tfrac":case"\\tbinom":e.mathstyleName="textstyle";break}return new U0(n[0]?Ee(n[0]):[new Lo],n[1]?Ee(n[1]):[new Lo],e)},serialize:(t,e)=>{let r=t.aboveToLatex(e),n=t.belowToLatex(e);return/^[0-9]$/.test(r)&&/^[0-9]$/.test(n)?`${t.command}${r}${n}`:qt(t.command,r,n)}});de(["cfrac"],"[:string]{:expression}{:expression}",{ifMode:"math",createAtom:t=>{let e=P({},t),r=t.args;return e.hasBarLine=!0,e.continuousFraction=!0,r[0]==="r"&&(e.align="right"),r[0]==="l"&&(e.align="left"),new U0(r[1]?Ee(r[1]):[new Lo],r[2]?Ee(r[2]):[new Lo],e)},serialize:(t,e)=>{let r=t.aboveToLatex(e),n=t.belowToLatex(e);return qt(t.command,r,n)}});de(["brace","brack"],"",{infix:!0,createAtom:t=>new U0(Ee(t.args[0]),Ee(t.args[1]),G(P({},t),{hasBarLine:!1,leftDelim:t.command==="\\brace"?"\\lbrace":"\\lbrack",rightDelim:t.command==="\\brace"?"\\rbrace":"\\rbrack"})),serialize:(t,e)=>lt([t.aboveToLatex(e),t.command,t.belowToLatex(e)])});de(["over","atop","choose"],"",{infix:!0,createAtom:t=>{let e,r,n=t.args;return t.command==="\\choose"&&(e="(",r=")"),new U0(Ee(n[0]),Ee(n[1]),G(P({},t),{hasBarLine:t.command==="\\over",leftDelim:e,rightDelim:r}))},serialize:(t,e)=>lt([t.aboveToLatex(e),t.command,t.belowToLatex(e)])});de(["overwithdelims","atopwithdelims"],"{numer:auto}{denom:auto}{left-delim:delim}{right-delim:delim}",{infix:!0,createAtom:t=>{var e,r;let n=t.args;return new U0(Ee(n[0]),Ee(n[1]),G(P({},t),{leftDelim:(e=n[2])!=null?e:".",rightDelim:(r=n[3])!=null?r:".",hasBarLine:!1}))},serialize:(t,e)=>`${t.aboveToLatex(e)} ${t.command}${t.leftDelim}${t.rightDelim}${t.belowToLatex(e)}`});de("pdiff","{numerator}{denominator}",{ifMode:"math",createAtom:t=>new U0(Ee(t.args[0]),Ee(t.args[1]),G(P({},t),{hasBarLine:!0,numerPrefix:"∂",denomPrefix:"∂"}))});de(["sum","prod","bigcup","bigcap","coprod","bigvee","bigwedge","biguplus","bigotimes","bigoplus","bigodot","bigsqcup","intop"],"",{ifMode:"math",createAtom:t=>new KF({coprod:"∐",bigvee:"⋁",bigwedge:"⋀",biguplus:"⨄",bigcap:"⋂",bigcup:"⋃",intop:"∫",prod:"∏",sum:"∑",bigotimes:"⨂",bigoplus:"⨁",bigodot:"⨀",bigsqcup:"⨆",smallint:"∫"}[t.command.slice(1)],G(P({},t),{limits:"auto",variant:"main"}))});de("smallint","",{ifMode:"math",createAtom:t=>new Q0("∫",G(P({},t),{limits:"adjacent",variant:"main"}))});var eH={int:"∫",iint:"∬",iiint:"∭",oint:"∮",oiint:"∯",oiiint:"∰",intclockwise:"∱",varointclockwise:"∲",ointctrclockwise:"∳",intctrclockwise:"⨑",sqcup:"⊔",sqcap:"⊓",uplus:"⊎",wr:"≀",amalg:"⨿",Cap:"⋒",Cup:"⋓",doublecap:"⋒",doublecup:"⋓"};de(Object.keys(eH),"",{ifMode:"math",createAtom:t=>{let e=t.command,r=eH[e.slice(1)];return new KF(r,G(P({},t),{limits:"adjacent",variant:{"⋒":"ams","⋓":"ams"}[r]}))}});de(["Re","Im"],"",{ifMode:"math",createAtom:t=>new Q0({"\\Re":"ℜ","\\Im":"ℑ"}[t.command],G(P({},t),{limits:"adjacent",isFunction:!0,variant:"fraktur"}))});de("middle","{:delim}",{ifMode:"math",createAtom:t=>{var e;return new bre(G(P({},t),{delim:(e=t.args[0])!=null?e:"|",size:1}))}});de("the","{:value}",{createAtom:t=>new se(G(P({},t),{captureSelection:!0,verbatimLatex:null})),render:(t,e)=>{var r;let n=new mt({parent:e},t.style),i="";t.isSelected&&(i+=" ML__selected");let s=n.evaluate(t.args[0]);return new ge(((r=Cn(s))!=null?r:"").split("").map(a=>new ge(a,{type:"ord",classes:i,mode:t.mode,isSelected:t.isSelected,style:P({variant:"main"},t.style)})),{type:"lift",style:t.style,caret:t.caret,isSelected:t.isSelected,classes:i}).wrap(n)},serialize:t=>{var e;return`\\the${(e=Cn(t.args[0]))!=null?e:"\\relax"}`}});de("mathtip","{:auto}{:math}",{createAtom:t=>new qF(G(P({},t),{body:Ee(t.args[0]),tooltip:Ee(t.args[1]),content:"math"})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\mathtip{${t.bodyToLatex(e)}}{${se.serialize([t.tooltip],G(P({},e),{defaultMode:"math"}))}}`});de("texttip","{:auto}{:text}",{createAtom:t=>new qF(G(P({},t),{body:Ee(t.args[0]),tooltip:Ee(t.args[1]),content:"text"})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\texttip{${t.bodyToLatex(e)}}{${se.serialize([t.tooltip],G(P({},e),{defaultMode:"text"}))}}`});de("error","{:math}",{createAtom:t=>new se(G(P({},t),{body:Ee(t.args[0])})),serialize:(t,e)=>`\\error{${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__error"})});de("ensuremath","{:math}",{createAtom:t=>new se(G(P({},t),{body:Ee(t.args[0])})),serialize:(t,e)=>`${t.command}{${t.bodyToLatex(G(P({},e),{defaultMode:"math"}))}}`});de("color","{:value}",{applyStyle:(t,e,r,n)=>{var i,s;return G(P({},t),{verbatimColor:(i=Cn(r[0]))!=null?i:void 0,color:n.toColor((s=r[0])!=null?s:{string:"red"})})}});de("textcolor","{:value}{content:auto*}",{applyStyle:(t,e,r,n)=>{var i,s;return G(P({},t),{verbatimColor:(i=Cn(r[0]))!=null?i:void 0,color:n.toColor((s=r[0])!=null?s:{string:"red"})})}});de("boxed","{content:math}",{createAtom:t=>new Lu(G(P({},t),{body:Ee(t.args[0]),framecolor:{string:"black"}}))});de("colorbox","{:value}{:text*}",{applyStyle:(t,e,r,n)=>{var i,s;return G(P({},t),{verbatimBackgroundColor:(i=Cn(r[0]))!=null?i:void 0,backgroundColor:n.toBackgroundColor((s=r[0])!=null?s:{string:"yellow"})})}});de("fcolorbox","{frame-color:value}{background-color:value}{content:text}",{applyMode:"text",createAtom:t=>{var e,r;return new Lu(G(P({},t),{body:Ee(t.args[2]),framecolor:(e=t.args[0])!=null?e:{string:"blue"},backgroundcolor:(r=t.args[1])!=null?r:{string:"yellow"}}))},serialize:(t,e)=>{var r,n;return e.skipStyles?t.bodyToLatex(G(P({},e),{defaultMode:"text"})):qt(t.command,(r=Cn(t.framecolor))!=null?r:"",(n=Cn(t.backgroundcolor))!=null?n:"",t.bodyToLatex(G(P({},e),{defaultMode:"text"})))}});de("bbox","[:bbox]{body:auto}",{createAtom:t=>{var e;let r=t.args[0],n=Ee(t.args[1]);return r?new Lu(G(P({},t),{body:n,padding:r.padding,border:r.border,backgroundcolor:(e=r.backgroundcolor)!=null?e:void 0})):new Lu(G(P({},t),{body:n}))},serialize:(t,e)=>{var r,n;if(e.skipStyles)return t.bodyToLatex(e);let i=t.command;if(Number.isFinite(t.padding)||t.border!==void 0||t.backgroundcolor!==void 0){let s=[];t.padding&&s.push((r=Cn(t.padding))!=null?r:""),t.border&&s.push(`border: ${t.border}`),t.backgroundcolor&&s.push((n=Cn(t.backgroundcolor))!=null?n:""),i+=`[${s.join(",")}]`}return qt(i,t.bodyToLatex(e))}});de(["displaystyle","textstyle","scriptstyle","scriptscriptstyle"],"{:rest}",{createAtom:t=>new se(G(P({},t),{body:Ee(t.args[0])})),render:(t,e)=>{let r=new mt({parent:e,mathstyle:t.command.slice(1)},t.style),n=se.createBox(r,t.body,{type:"lift"});return t.caret&&(n.caret=t.caret),t.bind(e,n)},serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`{${lt([t.command,t.bodyToLatex(e)])}}`});de(["tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"],"",{applyStyle:(t,e)=>G(P({},t),{fontSize:{"\\tiny":1,"\\scriptsize":2,"\\footnotesize":3,"\\small":4,"\\normalsize":5,"\\large":6,"\\Large":7,"\\LARGE":8,"\\huge":9,"\\Huge":10}[e]})});de("fontseries","{:string}",{ifMode:"text",applyStyle:(t,e,r)=>{var n;return G(P({},t),{fontSeries:(n=r[0])!=null?n:"auto"})}});de("fontshape","{:string}",{ifMode:"text",applyStyle:(t,e,r)=>{var n;return G(P({},t),{fontShape:(n=r[0])!=null?n:"auto"})}});de("fontfamily","{:string}",{ifMode:"text",applyStyle:(t,e,r)=>{var n;return G(P({},t),{fontFamily:(n=r[0])!=null?n:"roman"})}});de("selectfont","",{ifMode:"text",applyStyle:t=>t});de("bf","{:rest*}",{applyStyle:t=>G(P({},t),{fontSeries:"b",fontShape:"n",fontFamily:"roman"})});de(["boldsymbol","bm","bold"],"{:math*}",{applyMode:"math",applyStyle:t=>G(P({},t),{variantStyle:"bold"})});de("bfseries","{:rest*}",{applyMode:"text",applyStyle:t=>G(P({},t),{fontSeries:"b"})});de("mdseries","{:rest*}",{applyMode:"text",applyStyle:t=>G(P({},t),{fontSeries:"m"})});de("upshape","{:rest*}",{applyMode:"text",applyStyle:t=>G(P({},t),{fontShape:"n"})});de("slshape","{:rest*}",{applyMode:"text",applyStyle:t=>G(P({},t),{fontShape:"sl"})});de("scshape","{:rest*}",{applyMode:"text",applyStyle:t=>G(P({},t),{fontShape:"sc"})});de("textbf","{:text*}",{applyMode:"text",applyStyle:t=>G(P({},t),{fontSeries:"b"})});de("textmd","{:text*}",{applyMode:"text",applyStyle:t=>G(P({},t),{fontSeries:"m"})});de("textup","{:text*}",{applyMode:"text",applyStyle:t=>G(P({},t),{fontShape:"n"})});de("textnormal","{:text*}",{applyMode:"text",applyStyle:t=>G(P({},t),{fontShape:"n",fontSeries:"m"})});de("textsl","{:text*}",{applyMode:"text",applyStyle:t=>G(P({},t),{fontShape:"sl"})});de("textit","{:text*}",{applyMode:"text",applyStyle:t=>G(P({},t),{fontShape:"it"})});de("textsc","{:text*}",{applyMode:"text",applyStyle:t=>G(P({},t),{fontShape:"sc"})});de("textrm","{:text*}",{applyMode:"text",applyStyle:t=>G(P({},t),{fontFamily:"roman"})});de("textsf","{:text*}",{applyMode:"text",applyStyle:t=>G(P({},t),{fontFamily:"sans-serif"})});de("texttt","{:text*}",{applyMode:"text",applyStyle:t=>G(P({},t),{fontFamily:"monospace"})});de("mathbf","{:math*}",{applyMode:"math",applyStyle:t=>G(P({},t),{variant:"normal",variantStyle:"bold"})});de("mathit","{:math*}",{applyMode:"math",applyStyle:t=>G(P({},t),{variant:"main",variantStyle:"italic"})});de("mathnormal","{:math*}",{applyMode:"math",applyStyle:t=>G(P({},t),{variant:"normal",variantStyle:"italic"})});de("mathbfit","{:math*}",{applyMode:"math",applyStyle:t=>G(P({},t),{variant:"main",variantStyle:"bolditalic"})});de("mathrm","{:math*}",{applyMode:"math",applyStyle:t=>G(P({},t),{variant:"normal",variantStyle:"up"})});de("mathsf","{:math*}",{applyMode:"math",applyStyle:t=>G(P({},t),{variant:"sans-serif",variantStyle:"up"})});de("mathtt","{:math*}",{applyMode:"math",applyStyle:t=>G(P({},t),{variant:"monospace",variantStyle:"up"})});de("it","{:rest*}",{applyStyle:t=>G(P({},t),{fontSeries:"m",fontShape:"it",fontFamily:"roman",variantStyle:"italic"})});de("rmfamily","{:rest*}",{applyStyle:t=>G(P({},t),{fontFamily:"roman"})});de("sffamily","{:rest*}",{applyStyle:t=>G(P({},t),{fontFamily:"sans-serif"})});de("ttfamily","{:rest*}",{applyStyle:t=>G(P({},t),{fontFamily:"monospace"})});de(["Bbb","mathbb"],"{:math*}",{applyStyle:t=>G(P({},t),{variant:"double-struck",variantStyle:F5(t.variantStyle)})});de(["frak","mathfrak"],"{:math*}",{applyStyle:t=>G(P({},t),{variant:"fraktur",variantStyle:F5(t.variantStyle)})});de("mathcal","{:math*}",{applyStyle:t=>G(P({},t),{variant:"calligraphic",variantStyle:F5(t.variantStyle)})});de("mathscr","{:math*}",{applyStyle:t=>G(P({},t),{variant:"script",variantStyle:F5(t.variantStyle)})});de("mbox","{:text}",{ifMode:"math",createAtom:t=>new se(G(P({},t),{type:"mord",body:Ee(t.args[0]),mode:"math"})),serialize:(t,e)=>qt("\\mbox",t.bodyToLatex(G(P({},e),{defaultMode:"text"})))});de("text","{:text}",{ifMode:"math",applyMode:"text"});de(["class","htmlClass"],"{name:string}{content:auto}",{createAtom:t=>new se(G(P({},t),{body:Ee(t.args[1])})),serialize:(t,e)=>!t.args[0]||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`,render:(t,e)=>{var r;return t.createBox(e,{classes:(r=t.args[0])!=null?r:""})}});de(["cssId","htmlId"],"{id:string}{content:auto}",{createAtom:t=>new se(G(P({},t),{body:Ee(t.args[1])})),serialize:(t,e)=>{var r;return!((r=t.args)!=null&&r[0])||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var r;let n=t.createBox(e);return n.cssId=(r=t.args[0])!=null?r:"",n}});de("htmlData","{data:string}{content:auto}",{createAtom:t=>new se(G(P({},t),{body:Ee(t.args[1])})),serialize:(t,e)=>{var r;return!((r=t.args)!=null&&r[0])||e.skipStyles?t.bodyToLatex(e):`\\htmlData{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var r;let n=t.createBox(e);return n.htmlData=(r=t.args[0])!=null?r:"",n}});de(["style","htmlStyle"],"{data:string}{content:auto}",{createAtom:t=>new se(G(P({},t),{body:Ee(t.args[1])})),serialize:(t,e)=>{var r;return!((r=t.args)!=null&&r[0])||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var r;let n=t.createBox(e);return n.htmlStyle=(r=t.args[0])!=null?r:"",n}});de("href","{url:string}{content:auto}",{createAtom:t=>new se(G(P({},t),{body:Ee(t.args[1])})),render:(t,e)=>{var r;let n=t.createBox(e),i=(r=t.args[0])!=null?r:"";return i&&(n.htmlData=`href=${i}`),n}});de("em","{:rest}",{createAtom:t=>new se(G(P({},t),{body:Ee(t.args[0])})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`{\\em ${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__emph",boxType:"lift"})});de("emph","{:auto}",{createAtom:t=>new se(G(P({},t),{body:Ee(t.args[1])})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\emph{${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__emph",boxType:"lift"})});var tH={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};de(["bigl","Bigl","biggl","Biggl","bigr","Bigr","biggr","Biggr","bigm","Bigm","biggm","Biggm","big","Big","bigg","Bigg"],"{:delim}",{createAtom:t=>{var e;return new Cre(G(P({},t),{delim:(e=t.args[0])!=null?e:".",size:tH[t.command].size,delimType:tH[t.command].mclass}))}});de(["hspace","hspace*"],"{width:value}",{createAtom:t=>{var e;return new X1(G(P({},t),{width:(e=t.args[0])!=null?e:{dimension:0}}))}});de(["mkern","kern","mskip","hskip","mspace"],"{width:value}",{createAtom:t=>{var e;return new X1(G(P({},t),{width:(e=t.args[0])!=null?e:{dimension:0}}))}});de("mathchoice","{:math}{:math}{:math}{:math}",{createAtom:t=>new se(t),render:(t,e)=>{let r=0,n=e.mathstyle.id;(n===S5||n===Nd)&&(r=1),(n===kA||n===as)&&(r=2),(n===qd||n===$n)&&(r=3);let i=Ee(t.args[r]);return se.createBox(e,i)},serialize:(t,e)=>`\\mathchoice{${se.serialize(t.args[0],e)}}{${se.serialize(t.args[1],e)}}{${se.serialize(t.args[2],e)}}{${se.serialize(t.args[3],e)}}`});de("mathop","{:auto}",{createAtom:t=>new se(G(P({},t),{type:"mop",body:Ee(t.args[0]),limits:"over-under",isFunction:!0,captureSelection:!0})),render:(t,e)=>{var r;let n=se.createBox(e,t.body);if(t.superscript||t.subscript){let i=(r=t.subsupPlacement)!=null?r:"auto";n=i==="over-under"||i==="auto"&&e.isDisplayStyle?t.attachLimits(e,{base:n}):t.attachSupsub(e,{base:n})}return t.caret&&(n.caret=t.caret),new ge(t.bind(e,n),{type:"op",isSelected:t.isSelected,classes:"ML__op-group"})},serialize:(t,e)=>{let r=[qt(t.command,t.bodyToLatex(e))];return t.explicitSubsupPlacement&&(t.subsupPlacement==="over-under"&&r.push("\\limits"),t.subsupPlacement==="adjacent"&&r.push("\\nolimits"),t.subsupPlacement==="auto"&&r.push("\\displaylimits")),r.push(t.supsubToLatex(e)),lt(r)}});de(["mathbin","mathrel","mathopen","mathclose","mathpunct","mathord","mathinner"],"{:auto}",{createAtom:t=>new se(G(P({},t),{type:{"\\mathbin":"mbin","\\mathrel":"mrel","\\mathopen":"mopen","\\mathclose":"mclose","\\mathpunct":"mpunct","\\mathord":"mord","\\mathinner":"minner"}[t.command],body:Ee(t.args[0])}))});de(["operatorname","operatorname*"],"{operator:math}",{createAtom:t=>{let e=Ee(t.args[0]).map(r=>{var n;return r.type!=="first"&&(r.type="mord",r.value=(n={"∗":"*","−":"-"}[r.value])!=null?n:r.value,r.isFunction=!1,!r.style.variant&&!r.style.variantStyle&&(r.style.variant="main",r.style.variantStyle="up")),r});return new se(G(P({},t),{type:"mop",body:e,isFunction:!0,limits:t.command==="\\operatorname"?"adjacent":"over-under"}))},render:(t,e)=>{var r;let n=se.createBox(e,t.body);if(t.superscript||t.subscript){let i=(r=t.subsupPlacement)!=null?r:"auto";n=i==="over-under"||i==="auto"&&e.isDisplayStyle?t.attachLimits(e,{base:n}):t.attachSupsub(e,{base:n})}return t.caret&&(n.caret=t.caret),new ge(t.bind(e,n),{type:"op",isSelected:t.isSelected,classes:"ML__op-group"})},serialize:(t,e)=>{let r=[qt(t.command,t.bodyToLatex(e))];return t.explicitSubsupPlacement&&(t.subsupPlacement==="over-under"&&r.push("\\limits"),t.subsupPlacement==="adjacent"&&r.push("\\nolimits"),t.subsupPlacement==="auto"&&r.push("\\displaylimits")),r.push(t.supsubToLatex(e)),lt(r)}});de(["char","unicode"],"{charcode:value}",{createAtom:t=>new se(G(P({},t),{type:t.mode==="text"?"text":"mord"})),serialize:t=>{var e;return`${t.command}${Cn((e=t.args[0])!=null?e:{number:10067,base:"hexadecimal"})}`},render:(t,e)=>{let r=e.evaluate(t.args[0]);return(!r||!("number"in r))&&(r={number:10067,base:"hexadecimal"}),t.value=String.fromCodePoint(r.number),t.createBox(e)}});de("rule","[raise:value]{width:value}{thickness:value}",{createAtom:t=>new se(t),render:(t,e)=>{var r,n,i;let s=new mt({parent:e,mathstyle:"textstyle"},t.style),a=s.toEm((r=t.args[0])!=null?r:{dimension:0}),o=s.toEm((n=t.args[1])!=null?n:{dimension:10}),l=s.toEm((i=t.args[2])!=null?i:{dimension:10}),c=new ge(null,{classes:"ML__rule",type:"ord"});return c.width=o,c.height=l+a,c.depth=-a,c.setStyle("border-right-width",o,"em"),c.setStyle("border-top-width",l,"em"),c.setStyle("border-color",t.style.color),c.setStyle("vertical-align",a,"em"),t.isSelected&&c.setStyle("opacity","50%"),t.bind(s,c),t.caret&&(c.caret=t.caret),c.wrap(e)},serialize:t=>`\\rule${t.args[0]?`[${Cn(t.args[0])}]`:""}{${Cn(t.args[1])}}{${Cn(t.args[2])}}`});de(["overline","underline"],"{:auto}",{createAtom:t=>new se(G(P({},t),{body:Ee(t.args[0])})),render:(t,e)=>{let r=t.command.substring(1),n=new mt({parent:e,mathstyle:"cramp"},t.style),i=se.createBox(n,t.body);if(!i)return null;let s=n.metrics.defaultRuleThickness/n.scalingFactor,a=new ge(null,{classes:r+"-line"});a.height=s,a.maxFontSize=s*1.125*n.scalingFactor;let o;return r==="overline"?o=new qr({shift:0,children:[{box:i},3*s,{box:a},s]}):o=new qr({top:i.height,children:[s,{box:a},3*s,{box:i}]}),t.caret&&(o.caret=t.caret),new ge(o,{classes:r,type:"ignore"})}});de("overset","{:auto}{base:auto}",{createAtom:t=>{let e=Ee(t.args[1]);return new oa(G(P({},t),{above:Ee(t.args[0]),body:e,skipBoundary:!1,boxType:q1(e)}))},serialize:(t,e)=>qt(t.command,t.aboveToLatex(e),t.bodyToLatex(e))});de("underset","{:auto}{base:auto}",{createAtom:t=>{let e=Ee(t.args[1]);return new oa(G(P({},t),{below:Ee(t.args[0]),body:e,skipBoundary:!1,boxType:q1(e)}))},serialize:(t,e)=>qt(t.command,t.belowToLatex(e),t.bodyToLatex(e))});de("overunderset","{above:auto}{below:auto}{base:auto}",{createAtom:t=>{let e=Ee(t.args[2]);return new oa(G(P({},t),{above:Ee(t.args[0]),below:Ee(t.args[1]),body:e,skipBoundary:!1,boxType:q1(e)}))},serialize:(t,e)=>qt(t.command,t.belowToLatex(e),t.bodyToLatex(e))});de(["stackrel","stackbin"],"[below:auto]{above:auto}{base:auto}",{createAtom:t=>new oa(G(P({},t),{body:Ee(t.args[2]),above:Ee(t.args[1]),below:Ee(t.args[0]),skipBoundary:!1,boxType:t.command==="\\stackrel"?"rel":"bin"})),serialize:(t,e)=>qt(t.command,t.aboveToLatex(e),t.bodyToLatex(e))});de("smash","[:string]{:auto}",{createAtom:t=>{var e,r,n,i;return new G1(G(P({},t),{body:Ee(t.args[1]),smashHeight:(r=(e=t.args[0])==null?void 0:e.includes("t"))!=null?r:!0,smashDepth:(i=(n=t.args[0])==null?void 0:n.includes("b"))!=null?i:!0}))}});de(["vphantom"],"{:auto}",{createAtom:t=>new G1(G(P({},t),{body:Ee(t.args[0]),isInvisible:!0,smashWidth:!0}))});de(["hphantom"],"{:auto}",{createAtom:t=>new G1(G(P({},t),{body:Ee(t.args[0]),isInvisible:!0,smashHeight:!0,smashDepth:!0}))});de(["phantom"],"{:auto}",{createAtom:t=>new G1(G(P({},t),{body:Ee(t.args[0]),isInvisible:!0}))});de("not","{:math}",{createAtom:t=>{let e=Ee(t.args[0]);return e.length===0?new se(G(P({},t),{type:"mrel",value:""})):new se(G(P({},t),{body:[new R0(G(P({},t),{body:"",align:"right"})),...e],captureSelection:!0}))},serialize:(t,e)=>{let r=t.args[0],n=r&&typeof r=="object"&&"group"in r;return t.value!==""?n?`\\not{${se.serialize(r.group,e)}}`:`\\not${se.serialize(r,e)}`:n?"\\not{}":"\\not"},render:(t,e)=>{if(t.value)return t.createBox(e);let r=t.args[0]&&typeof t.args[0]=="object"&&"group"in t.args[0]?"ord":q1(Ee(t.args[0])),n=se.createBox(e,t.body,{type:r});return t.caret&&(n.caret=t.caret),t.bind(e,n)}});de(["ne","neq"],"",{createAtom:t=>new se(G(P({},t),{type:"mrel",body:[new R0(G(P({},t),{body:"",align:"right",boxType:"rel"})),new se(G(P({},t),{value:"="}))],captureSelection:!0})),serialize:t=>t.command});de("rlap","{:auto}",{createAtom:t=>new R0(G(P({},t),{body:Ee(t.args[0]),align:"right"}))});de("llap","{:auto}",{createAtom:t=>new R0(G(P({},t),{body:Ee(t.args[0]),align:"left"}))});de("mathrlap","{:math}",{createAtom:t=>new R0(G(P({},t),{body:Ee(t.args[0]),align:"right"}))});de("mathllap","{:math}",{createAtom:t=>new R0(G(P({},t),{body:Ee(t.args[0]),align:"left"}))});de("raisebox","{:value}{:text}",{createAtom:t=>{var e;return new Lu(G(P({},t),{body:Ee(t.args[1]),padding:{dimension:0},offset:(e=t.args[0])!=null?e:{dimension:0}}))},serialize:(t,e)=>{var r;return qt("\\raisebox",(r=Cn(t.offset))!=null?r:"0pt",t.bodyToLatex(e))}});de("raise","{:value}{:auto}",{createAtom:t=>{var e;return new Lu(G(P({},t),{body:Ee(t.args[1]),padding:{dimension:0},offset:(e=t.args[0])!=null?e:{dimension:0}}))},serialize:(t,e)=>{var r;return qt("\\raise",(r=Cn(t.offset))!=null?r:"0pt",t.bodyToLatex(e))}});de("lower","{:value}{:auto}",{createAtom:t=>{var e;return new Lu(G(P({},t),{body:Ee(t.args[1]),padding:{dimension:0},offset:(e=io(t.args[0],-1))!=null?e:{dimension:0}}))},serialize:(t,e)=>{var r,n;return qt("\\lower",(n=Cn(io((r=t.offset)!=null?r:{dimension:0},-1)))!=null?n:"0pt",t.bodyToLatex(e))}});gn("0123456789/@.?!");_te(65,90);_te(97,122);gn([["\\forall",8704],["\\exists",8707],["\\nexists",8708,"mord","ams"],["\\mid",8739,"mrel"],["\\top",8868],["\\bot",8869]]);gn([["\\#",35],["\\&",38],["\\parallelogram",9649],["\\spadesuit",9824],["\\heartsuit",9825],["\\diamondsuit",9826],["\\clubsuit",9827],["\\flat",9837],["\\natural",9838],["\\sharp",9839]]);gn([["\\backslash",92],["\\nabla",8711],["\\partial",8706],["\\ell",8467],["\\hbar",8463],["\\pounds",163],["\\euro",8364]]);gn([["\\rightarrow",8594],["\\to",8594],["\\leftarrow",8592],["\\gets",8592],["\\Rightarrow",8658],["\\Leftarrow",8656],["\\longrightarrow",10230],["\\longleftarrow",10229],["\\Longrightarrow",10233],["\\implies",10233],["\\Longleftarrow",10232],["\\impliedby",10232],["\\longleftrightarrow",10231],["\\biconditional",10231],["\\Longleftrightarrow",10234],["\\mapsto",8614],["\\longmapsto",10236],["\\uparrow",8593],["\\downarrow",8595],["\\Uparrow",8657],["\\Downarrow",8659],["\\updownarrow",8597],["\\Updownarrow",8661],["\\hookrightarrow",8618],["\\hookleftarrow",8617],["\\rightharpoonup",8640],["\\leftharpoonup",8636],["\\rightharpoondown",8641],["\\leftharpoondown",8637],["\\searrow",8600],["\\nearrow",8599],["\\swarrow",8601],["\\nwarrow",8598],["\\originalof",8886],["\\laplace",8886],["\\imageof",8887],["\\Laplace",8887]],"mrel");gn([["\\mapsfrom",8612,"mrel"],["\\Mapsfrom",10502,"mrel"],["\\MapsTo",10503,"mrel"],["\\Yup",8516,"mord"],["\\lightning",8623,"mrel"],["\\leftarrowtriangle",8701,"mrel"],["\\rightarrowtriangle",8702,"mrel"],["\\leftrightarrowtriangle",8703,"mrel"],["\\boxdot",8865,"mbin"],["\\bigtriangleup",9651,"mbin"],["\\bigtriangledown",9661,"mbin"],["\\boxbar",9707,"mbin"],["\\Lbag",10181,"mopen"],["\\Rbag",10182,"mclose"],["\\llbracket",10214,"mopen"],["\\rrbracket",10215,"mclose"],["\\longmapsfrom",10235,"mrel"],["\\Longmapsfrom",10237,"mrel"],["\\Longmapsto",10238,"mrel"],["\\boxslash",10692,"mbin"],["\\boxbslash",10693,"mbin"],["\\boxast",10694,"mbin"],["\\boxcircle",10695,"mbin"],["\\boxbox",10696,"mbin"],["\\fatsemi",10783,"mop"],["\\leftslice",10918,"mrel"],["\\rightslice",10919,"mrel"],["\\interleave",10996,"mbin"],["\\biginterleave",11004,"mop"],["\\sslash",11005,"mbin"],["\\talloblong",11006,"mbin"]]);gn([["\\lbrace",123,"mopen"],["\\rbrace",125,"mclose"],["\\lparen",40,"mopen"],["\\rparen",41,"mclose"],["\\langle",10216,"mopen"],["\\rangle",10217,"mclose"],["\\lfloor",8970,"mopen"],["\\rfloor",8971,"mclose"],["\\lceil",8968,"mopen"],["\\rceil",8969,"mclose"],["\\vert",8739],["\\lvert",8739,"mopen"],["\\rvert",8739,"mclose"],["\\|",8741],["\\Vert",8741],["\\mVert",8741],["\\lVert",8741,"mopen"],["\\rVert",8741,"mclose"],["\\lbrack",91,"mopen"],["\\rbrack",93,"mclose"],["\\{",123,"mopen"],["\\}",125,"mclose"],["(",40,"mopen"],[")",41,"mclose"],["[",91,"mopen"],["]",93,"mclose"],["\\ulcorner",9484,"mopen","ams"],["\\urcorner",9488,"mclose","ams"],["\\llcorner",9492,"mopen","ams"],["\\lrcorner",9496,"mclose","ams"],["\\lgroup",10222,"mopen"],["\\rgroup",10223,"mclose"],["\\lmoustache",9136,"mopen"],["\\rmoustache",9137,"mclose"]]);gn([["\\dashrightarrow",8674],["\\dashleftarrow",8672],["\\Rrightarrow",8667],["\\Lleftarrow",8666],["\\leftrightarrows",8646],["\\rightleftarrows",8644],["\\curvearrowright",8631],["\\curvearrowleft",8630],["\\rightrightarrows",8649],["\\leftleftarrows",8647],["\\upuparrows",8648],["\\downdownarrows",8650],["\\vartriangle",9651],["\\triangleq",8796],["\\vartriangleleft",8882],["\\trianglelefteq",8884],["\\ntriangleleft",8938],["\\ntrianglelefteq",8940],["\\vartriangleright",8883],["\\trianglerighteq",8885],["\\ntriangleright",8939],["\\ntrianglerighteq",8941],["\\blacktriangleleft",9664],["\\blacktriangleright",9654],["\\leftarrowtail",8610],["\\rightarrowtail",8611],["\\looparrowright",8620],["\\looparrowleft",8619],["\\twoheadleftarrow",8606],["\\twoheadrightarrow",8608],["\\twoheadrightarrowtail",10518],["\\rightleftharpoons",8652],["\\leftrightharpoons",8651],["\\Rsh",8625],["\\Lsh",8624],["\\circlearrowright",8635],["\\circlearrowleft",8634],["\\restriction",8638],["\\upharpoonright",8638],["\\upharpoonleft",8639],["\\downharpoonright",8642],["\\downharpoonleft",8643],["\\rightsquigarrow",8669],["\\leadsto",8669],["\\leftrightsquigarrow",8621],["\\multimap",8888],["\\nleftarrow",8602],["\\nrightarrow",8603],["\\nRightarrow",8655],["\\nLeftarrow",8653],["\\nleftrightarrow",8622],["\\nLeftrightarrow",8654],["\\nvrightarrow",8696],["\\nvtwoheadrightarrow",10496],["\\nvrightarrowtail",10516],["\\nvtwoheadrightarrowtail",10519],["\\shortparallel",8741],["\\nless",8814],["\\nleqslant",57360],["\\lneq",10887],["\\lneqq",8808],["\\nleqq",57361],["\\lvertneqq",57356],["\\lnsim",8934],["\\lnapprox",10889],["\\nprec",8832],["\\npreceq",8928],["\\precnsim",8936],["\\precnapprox",10937],["\\nsim",8769],["\\nshortmid",57350],["\\nmid",8740],["\\nvdash",8876],["\\nvDash",8877],["\\ngtr",8815],["\\ngeqslant",57359],["\\ngeqq",57358],["\\gneq",10888],["\\gneqq",8809],["\\gvertneqq",57357],["\\gnsim",8935],["\\gnapprox",10890],["\\nsucc",8833],["\\nsucceq",8929],["\\succnsim",8937],["\\succnapprox",10938],["\\ncong",8774],["\\nshortparallel",57351],["\\nparallel",8742],["\\nVDash",8879],["\\nsupseteqq",57368],["\\supsetneq",8843],["\\varsupsetneq",57371],["\\supsetneqq",10956],["\\varsupsetneqq",57369],["\\nVdash",8878],["\\precneqq",10933],["\\succneqq",10934],["\\nsubseteqq",57366],["\\leqslant",10877],["\\geqslant",10878],["\\gtrsim",8819],["\\approxeq",8778],["\\thickapprox",8776],["\\lessapprox",10885],["\\gtrapprox",10886],["\\precapprox",10935],["\\succapprox",10936],["\\thicksim",8764],["\\succsim",8831],["\\precsim",8830],["\\backsim",8765],["\\eqsim",8770],["\\backsimeq",8909],["\\lesssim",8818],["\\nleq",8816],["\\ngeq",8817],["\\smallsmile",8995],["\\smallfrown",8994],["\\leqq",8806],["\\eqslantless",10901],["\\lll",8920],["\\lessgtr",8822],["\\lesseqgtr",8922],["\\lesseqqgtr",10891],["\\risingdotseq",8787],["\\fallingdotseq",8786],["\\subseteqq",10949],["\\Subset",8912],["\\sqsubset",8847],["\\preccurlyeq",8828],["\\curlyeqprec",8926],["\\vDash",8872],["\\Vvdash",8874],["\\bumpeq",8783],["\\Bumpeq",8782],["\\geqq",8807],["\\eqslantgtr",10902],["\\ggg",8921],["\\gtrless",8823],["\\gtreqless",8923],["\\gtreqqless",10892],["\\supseteqq",10950],["\\Supset",8913],["\\sqsupset",8848],["\\succcurlyeq",8829],["\\curlyeqsucc",8927],["\\Vdash",8873],["\\shortmid",8739],["\\between",8812],["\\pitchfork",8916],["\\varpropto",8733],["\\backepsilon",8717],["\\llless",8920],["\\gggtr",8921],["\\doteqdot",8785],["\\Doteq",8785],["\\eqcirc",8790],["\\circeq",8791],["\\therefore",8756],["\\because",8757]],"mrel","ams");gn([["+",43],["-",8722],["−",8722],["\\pm",177],["\\mp",8723],["*",8727],["\\times",215],["\\div",247],["\\divides",8739],["\\cdot",8901],["\\cap",8745],["\\cup",8746],["\\setminus",8726],["\\land",8743],["\\wedge",8743],["\\lor",8744],["\\vee",8744],["\\circ",8728],["\\bigcirc",9711],["\\bullet",8729],["\\oplus",8853],["\\ominus",8854],["\\otimes",8855],["\\odot",8857],["\\oslash",8856],["\\bigtriangleup",9651],["\\bigtriangledown",9661],["\\triangleleft",9667],["\\triangleright",9657],["\\And",38],["\\dagger",8224],["\\dag",8224],["\\ddag",8225],["\\ddagger",8225],["\\ast",8727],["\\star",8902],["\\bigstar",9733],["\\diamond",8900]],"mbin");gn([["\\lhd",8882],["\\rhd",8883],["\\lessdot",8918],["\\gtrdot",8919],["\\ltimes",8905],["\\rtimes",8906],["\\leftthreetimes",8907],["\\rightthreetimes",8908],["\\intercal",8890],["\\dotplus",8724],["\\doublebarwedge",10846],["\\divideontimes",8903],["\\centerdot",8901],["\\smallsetminus",8726],["\\barwedge",8892],["\\veebar",8891],["\\nor",8891],["\\curlywedge",8911],["\\curlyvee",8910],["\\boxminus",8863],["\\boxplus",8862],["\\boxtimes",8864],["\\boxdot",8865],["\\circleddash",8861],["\\circledast",8859],["\\circledcirc",8858],["\\unlhd",8884],["\\unrhd",8885]],"mbin","ams");gn([["\\surd",8730],["\\S",167],["\\infty",8734],["\\prime",8242],["\\doubleprime",8243],["\\angle",8736],["`",8216],["\\$",36],["\\%",37],["\\_",95],["\\alpha",945],["\\beta",946],["\\gamma",947],["\\delta",948],["\\epsilon",1013],["\\varepsilon",949],["\\zeta",950],["\\eta",951],["\\theta",952],["\\vartheta",977],["\\iota",953],["\\kappa",954],["\\varkappa",1008,"mord","ams"],["\\lambda",955],["\\mu",956],["\\nu",957],["\\xi",958],["\\omicron",111],["\\pi",960],["\\varpi",982],["\\rho",961],["\\varrho",1009],["\\sigma",963],["\\varsigma",962],["\\tau",964],["\\phi",981],["\\varphi",966],["\\upsilon",965],["\\chi",967],["\\psi",968],["\\omega",969],["\\Gamma",915],["\\Delta",916],["\\Theta",920],["\\Lambda",923],["\\Xi",926],["\\Pi",928],["\\Sigma",931],["\\Upsilon",933],["\\Phi",934],["\\Psi",936],["\\Omega",937],["\\digamma",989,"mord","ams"],["\\varkappa",1008,"mord","ams"],["\\coppa",985,"mord","ams"],["\\koppa",985,"mord","ams"],["\\Coppa",984,"mord","ams"],["\\Koppa",984,"mord","ams"],["\\sampi",993,"mord","ams"],["\\Sampi",992,"mord","ams"],["\\emptyset",8709]]);gn([["=",61],["<",60],["\\lt",60],[">",62],["\\gt",62],["\\le",8804],["\\leq",8804],["\\ge",8805],["\\geq",8805],["\\ll",8810],["\\gg",8811],["\\coloneq",8788],["\\coloneqq",8788],["\\colonequals",8788],["\\measeq",8797],["\\eqdef",8798],["\\questeq",8799],[":",58],["\\cong",8773],["\\equiv",8801],["\\prec",8826],["\\preceq",10927],["\\succ",8827],["\\succeq",10928],["\\perp",10178],["\\propto",8733],["\\Colon",8759],["\\smile",8995],["\\frown",8994],["\\sim",8764],["\\doteq",8784],["\\bowtie",8904],["\\Join",8904],["\\asymp",8781],["\\sqsubseteq",8849],["\\sqsupseteq",8850],["\\approx",8776],["\\~",126],["\\leftrightarrow",8596],["\\Leftrightarrow",8660],["\\models",8872],["\\vdash",8866],["\\dashv",8867],["\\roundimplies",10608],["\\in",8712],["\\notin",8713],["\\ni",8715],["\\owns",8715],["\\subset",8834],["\\supset",8835],["\\subseteq",8838],["\\supseteq",8839],["\\differencedelta",8710],["\\mvert",8739],["\\parallel",8741],["\\simeq",8771]],"mrel");gn([["\\lnot",172],["\\neg",172],["\\triangle",9651],["\\subsetneq",8842],["\\varsubsetneq",57370],["\\subsetneqq",10955],["\\varsubsetneqq",57367],["\\nsubset",8836],["\\nsupset",8837],["\\nsubseteq",8840],["\\nsupseteq",8841]],"mrel","ams");gn([["\\wp",8472],["\\aleph",8501]]);gn([["\\blacktriangle",9650],["\\hslash",8463],["\\Finv",8498],["\\Game",8513],["\\eth",240],["\\mho",8487],["\\Bbbk",107],["\\yen",165],["\\square",9633],["\\Box",9633],["\\blacksquare",9632],["\\circledS",9416],["\\circledR",174],["\\triangledown",9661],["\\blacktriangledown",9660],["\\checkmark",10003],["\\diagup",9585],["\\measuredangle",8737],["\\sphericalangle",8738],["\\backprime",8245],["\\backdoubleprime",8246],["\\Diamond",9674],["\\lozenge",9674],["\\blacklozenge",10731],["\\varnothing",8709],["\\complement",8705],["\\maltese",10016],["\\beth",8502],["\\daleth",8504],["\\gimel",8503]],"mord","ams");gn([["\\ ",160],["~",160]],"space");de(["!",",",":",";",">","enskip","enspace","quad","qquad"],"",{createAtom:t=>new X1(t)});de("space","",{createAtom:t=>new X1(t)});gn([["\\colon",58],["\\cdotp",8901],["\\vdots",8942,"mord"],["\\ldotp",46],[",",44],[";",59]],"mpunct");gn([["\\cdots",8943],["\\ddots",8945],["\\ldots",8230],["\\mathellipsis",8230]],"minner");gn([["\\/",47],["|",8739,"mord"],["\\imath",305],["\\jmath",567],["\\degree",176],["'",8242],['"',8221]]);var pne="<mo>&#x2061;</mo>",I3="<mo>&#8290;</mo>";function Nx(t){return t.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function jt(t,e){return!t||!e.generateID?"":` extid="${t}"`}function fIe(t,e,r){var n,i,s,a,o,l,c,u;let d=!1;e=e??t.atoms.length;let A="",f="",p=t.atoms[t.index],m=(n=p.style)==null?void 0:n.variant,v=(i=p.style)==null?void 0:i.variantStyle,g="";if(p.value&&(m||v)){let x=(s=jS(p.value,m,v))!=null?s:p.value;if(x!==p.value)return t.index+=1,A=`<mi${jt(p.id,r)}>${x}</mi>`,bo(A,t,r)||(t.mathML+=A,t.lastType="mi"),!0;g=(a={upnormal:"normal",boldnormal:"bold",italicmain:"italic",bolditalicmain:"bold-italic","updouble-struck":"double-struck","double-struck":"double-struck",boldfraktur:"bold-fraktur",calligraphic:"script",upcalligraphic:"script",script:"script",boldscript:"bold-script",boldcalligraphic:"bold-script",fraktur:"fraktur","upsans-serif":"sans-serif","boldsans-serif":"bold-sans-serif","italicsans-serif":"sans-serif-italic","bolditalicsans-serif":"sans-serif-bold-italic",monospace:"monospace"}[(v??"")+(m??"")])!=null?a:"",g&&(g=` mathvariant="${g}"`)}let y={"\\exponentialE":"&#x02147;","\\imaginaryI":"&#x2148;","\\differentialD":"&#x2146;","\\capitalDifferentialD":"&#x2145;","\\alpha":"&#x03b1;","\\pi":"&#x03c0;","\\infty":"&#x221e;","\\forall":"&#x2200;","\\nexists":"&#x2204;","\\exists":"&#x2203;","\\hbar":"ℏ","\\cdotp":"⋅","\\ldots":"…","\\cdots":"⋯","\\ddots":"⋱","\\vdots":"⋮","\\ldotp":"."};if(p.command==="!")return t.index+=1,A="<mo>!</mo>",bo(A,t,r)||(t.mathML+=A,t.lastType="mo"),!0;if(y[p.command]){t.index+=1;let x=`<mi${jt(p.id,r)}${g}>${y[p.command]}</mi>`;return(t.lastType==="mi"||t.lastType==="mn"||t.lastType==="mtext"||t.lastType==="fence")&&(x=I3+x),bo(x,t,r)||(t.mathML+=x,t.lastType="mi"),!0}if(p.command==="\\operatorname")f=FA(p.body),t.index+=1;else if(m||v)for(;t.index<e&&(p.type==="mord"||p.type==="macro")&&!p.isDigit()&&m===((l=(o=p.style)==null?void 0:o.variant)!=null?l:"")&&v===((u=(c=p.style)==null?void 0:c.variantStyle)!=null?u:"");)f+=FA([p]),t.index+=1,p=t.atoms[t.index];else(p.type==="mord"||p.type==="macro")&&!p.isDigit()&&(f+=FA([p]),t.index+=1);if(f.length>0){d=!0,A=`<mi${g}>${f}</mi>`;let x=t.lastType;A.endsWith(">f</mi>")||A.endsWith(">g</mi>")?(A+=pne,t.lastType="applyfunction"):t.lastType=/^<mo>(.*)<\/mo>$/.test(A)?"mo":"mi",bo(A,t,r)||((x==="mi"||x==="mn"||x==="mtext"||x==="fence")&&(A=I3+A),t.mathML+=A)}return d}function mne(t){return t.index<t.atoms.length&&t.atoms[t.index].superscript&&t.atoms[t.index].type==="subsup"}function gne(t){let e=-1,r=t.index,n=!1,i=!1;for(;r<t.atoms.length&&!n&&!i;){let s=t.atoms[r];n=!s.isDigit(),i=!n&&s.superscript!==void 0,r++}return i&&(e=r-1),e}function bo(t,e,r){var n;let i=e.atoms[e.index-1];if(!i)return!1;if(!i.superscript&&!i.subscript)if(((n=e.atoms[e.index])==null?void 0:n.type)==="subsup")i=e.atoms[e.index],e.index+=1;else return!1;let s=e.lastType;e.lastType="";let a=St(i.superscript,r);e.lastType="";let o=St(i.subscript,r);if(e.lastType=s,!a&&!o)return!1;let l="";return a&&o?l=`<msubsup>${t}${o}${a}</msubsup>`:a?l=`<msup>${t}${a}</msup>`:o&&(l=`<msub>${t}${o}</msub>`),e.mathML+=l,e.lastType="",!0}function pIe(t,e,r){e=e??t.atoms.length;let n=t.index,i="",s=gne(t);for(s>=0&&s<e&&(e=s);t.index<e&&t.atoms[t.index].mode==="text";)i+=t.atoms[t.index].value?t.atoms[t.index].value:" ",t.index+=1;return i.length>0?(i=`<mtext ${jt(t.atoms[n].id,r)}>${i}</mtext>`,s<0&&mne(t)&&(s=t.index,t.index+=1),bo(i,t,r)||(t.mathML+=i,t.lastType="mtext"),!0):!1}function mIe(t,e,r){e=e??t.atoms.length;let n=t.index,i="",s=gne(t);for(s>=0&&s<e&&(e=s);t.index<e&&t.atoms[t.index].isDigit();)i+=t.atoms[t.index].asDigit(),t.index+=1;return i.length<=0?!1:(i="<mn"+jt(t.atoms[n].id,r)+">"+i+"</mn>",s<0&&mne(t)&&(s=t.index,t.index+=1),bo(i,t,r)||(t.mathML+=i,t.lastType="mn"),!0)}function gIe(t,e,r){let n=!1;e=e??t.atoms.length;let i="",s="";if(t.index<e&&t.atoms[t.index].type==="mopen"){let a=!1,o=0,l=t.index,c=-1,u=l+1;for(;u<e&&!a;)t.atoms[u].type==="mopen"?o+=1:t.atoms[u].type==="mclose"&&(o-=1),o===-1&&(a=!0,c=u),u+=1;a&&(i="<mrow>",i+=o0(t.atoms[l],r),i+=St(t.atoms,r,l+1,c),i+=o0(t.atoms[c],r),i+="</mrow>",t.index=c+1,(t.lastType==="mi"||t.lastType==="mn"||t.lastType==="mfrac"||t.lastType==="fence")&&(t.mathML+=I3),bo(i,t,r)&&(n=!0,t.lastType="",i=""),s="fence")}return i.length>0&&(n=!0,t.mathML+=i,t.lastType=s),n}function yIe(t,e,r){let n=!1;e=e??t.atoms.length;let i="",s="",a=t.atoms[t.index];if(!a)return!1;let o={"\\ne":"&ne;","\\neq":"&ne;","\\pm":"&#177;","\\times":"&#215;","\\colon":":","\\vert":"|","\\Vert":"∥","\\mid":"∣","\\{":"{","\\}":"}","\\lbrace":"{","\\rbrace":"}","\\lbrack":"[","\\rbrack":"]","\\lparen":"(","\\rparen":")","\\langle":"⟨","\\rangle":"⟩","\\lfloor":"⌊","\\rfloor":"⌋","\\lceil":"⌈","\\rceil":"⌉"};if(o[a.command]){t.index+=1;let l=`<mo${jt(a.id,r)}>${o[a.command]}</mo>`;return bo(l,t,r)||(t.mathML+=l,t.lastType="mo"),!0}if(t.index<e&&(a.type==="mbin"||a.type==="mrel"))i+=d_(t.atoms[t.index],r),t.index+=1,s="mo";else if(t.index<e&&(a.type==="mop"||a.type==="operator"||a.type==="extensible-symbol")){if(a.subsupPlacement==="over-under"&&(a.superscript||a.subscript)){let l=o0(a,r);return a.superscript&&a.subscript?(i+="<munderover>"+l,i+=St(a.subscript,r),i+=St(a.superscript,r),i+="</munderover>"):a.superscript?(i+="<mover>"+l,i+=St(a.superscript,r),i+="</mover>"):a.subscript&&(i+="<munder>"+l,i+=St(a.subscript,r),i+="</munder>"),t.mathML+=i,t.lastType="mo",t.index+=1,!0}{let l=t.atoms[t.index],c=l.value==="\\operatorname",u=c?'<mi class="MathML-Unit"'+jt(l.id,r)+">"+FA(l.value)+"</mi>":o0(l,r);i+=u,!c&&!/^<mo>(.*)<\/mo>$/.test(u)?(i+=pne,s="applyfunction"):s=c?"mi":"mo"}(t.lastType==="mi"||t.lastType==="mn")&&!/^<mo>(.*)<\/mo>$/.test(i)&&(i=I3+i),t.index+=1}return i.length>0&&(n=!0,bo(i,t,r)||(t.mathML+=i,t.lastType=s)),n}function St(t,e,r,n){e!=null||(e={});let i={atoms:[],index:r??0,mathML:"",lastType:""};if(typeof t=="number"||typeof t=="boolean")i.mathML=t.toString();else if(typeof t=="string")i.mathML=t;else if(t instanceof se)i.mathML=d_(t,e);else if(Array.isArray(t)){i.atoms=t;let s=0;for(n=n||(t?t.length:0);i.index<n;)if(pIe(i,n,e)||mIe(i,n,e)||fIe(i,n,e)||yIe(i,n,e)||gIe(i,n,e))s+=1;else if(i.index<n){let a=d_(i.atoms[i.index],e);i.lastType==="mn"&&a.length>0&&i.atoms[i.index].type==="genfrac"&&(a="<mo>&#x2064;</mo>"+a),i.atoms[i.index].type==="genfrac"?i.lastType="mfrac":i.lastType="",i.index+=1,bo(a,i,e)?s+=1:a.length>0&&(i.mathML+=a,s+=1)}s>1&&(i.mathML="<mrow>"+i.mathML+"</mrow>")}return i.mathML}function o0(t,e){let r="",n=FA(t.value);return n&&(r="<mo"+jt(t.id,e)+">"+n+"</mo>"),r}function FA(t){if(!t)return"";if(typeof t=="string")return Nx(t);if(!Array.isArray(t)&&typeof t.body=="string")return Nx(t.body);let e="";for(let r of t)typeof r.value=="string"&&(e+=r.value);return Nx(e)}function d_(t,e){var r,n,i,s,a,o,l,c,u,d,A,f,p,m,v,g,y,x,b,w,C,B;if(t.mode==="text")return`<mi${jt(t.id,e)}>${t.value}</mi>`;let S={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",longleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",longrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",longrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xleftrightarrows:"⇄",xRightleftharpoons:"⇌",longRightleftharpoons:"⇌",xLeftrightharpoons:"⇋",longLeftrightharpoons:"⇋"},E={"\\!":-3/18,"\\ ":6/18,"\\,":3/18,"\\:":4/18,"\\>":4/18,"\\;":5/18,"\\enspace":.5,"\\quad":1,"\\qquad":2,"\\enskip":.5},M="",T="",L,I,R,z,W,K,{command:U}=t;if(t.command==="\\error")return`<merror${jt(t.id,e)}>${St(t.body,e)}</merror>`;let q={"\\vert":"|","\\Vert":"∥","\\mid":"∣","\\lbrack":"[","\\rbrack":"]","\\{":"{","\\}":"}","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"⟨","\\rangle":"⟩","\\lfloor":"⌊","\\rfloor":"⌋","\\lceil":"⌈","\\rceil":"⌉"},N={"\\vec":"&#x20d7;","\\acute":"&#x00b4;","\\grave":"&#x0060;","\\dot":"&#x02d9;","\\ddot":"&#x00a8;","\\tilde":"&#x007e;","\\bar":"&#x00af;","\\breve":"&#x02d8;","\\check":"&#x02c7;","\\hat":"&#x005e;"};switch(t.type){case"first":break;case"group":case"root":M=St(t.body,e);break;case"array":let ne=t;if((ne.leftDelim&&ne.leftDelim!=="."||ne.rightDelim&&ne.rightDelim!==".")&&(M+="<mrow>",ne.leftDelim&&ne.leftDelim!=="."&&(M+="<mo>"+(q[ne.leftDelim]||ne.leftDelim)+"</mo>")),M+="<mtable",ne.colFormat){for(M+=' columnalign="',R=0;R<ne.colFormat.length;R++){let J=ne.colFormat[R];"align"in J&&(M+={l:"left",c:"center",r:"right"}[J.align]+" ")}M+='"'}for(M+=">",I=0;I<ne.rows.length;I++){for(M+="<mtr>",L=0;L<ne.rows[I].length;L++)M+="<mtd>"+St(ne.rows[I][L],e)+"</mtd>";M+="</mtr>"}M+="</mtable>",(ne.leftDelim&&ne.leftDelim!=="."||ne.rightDelim&&ne.rightDelim!==".")&&(ne.rightDelim&&ne.rightDelim!=="."&&(M+="<mo>"+(q[ne.leftDelim]||ne.rightDelim)+"</mo>"),M+="</mrow>");break;case"genfrac":let re=t;(re.leftDelim||re.rightDelim)&&(M+="<mrow>"),re.leftDelim&&re.leftDelim!=="."&&(M+="<mo"+jt(t.id,e)+">"+(q[re.leftDelim]||re.leftDelim)+"</mo>"),re.hasBarLine?(M+="<mfrac>",M+=St(t.above,e)||"<mi>&nbsp;</mi>",M+=St(t.below,e)||"<mi>&nbsp;</mi>",M+="</mfrac>"):(M+="<mtable"+jt(t.id,e)+">",M+="<mtr>"+St(t.above,e)+"</mtr>",M+="<mtr>"+St(t.below,e)+"</mtr>",M+="</mtable>"),re.rightDelim&&re.rightDelim!=="."&&(M+="<mo"+jt(t.id,e)+">"+(q[re.rightDelim]||re.rightDelim)+"</mo>"),(re.leftDelim||re.rightDelim)&&(M+="</mrow>");break;case"surd":t.hasEmptyBranch("above")?(M+="<msqrt"+jt(t.id,e)+">",M+=St(t.body,e),M+="</msqrt>"):(M+="<mroot"+jt(t.id,e)+">",M+=St(t.body,e),M+=St(t.above,e),M+="</mroot>");break;case"leftright":let O=t,me=O.leftDelim;M="<mrow>",me&&me!=="."&&(M+=`<mo${jt(t.id,e)}>${(r=q[me])!=null?r:me}</mo>`),t.body&&(M+=St(t.body,e));let Ce=O.matchingRightDelim();Ce&&Ce!=="."&&(M+=`<mo${jt(t.id,e)}>${(n=q[Ce])!=null?n:Ce}</mo>`),M+="</mrow>";break;case"sizeddelim":case"delim":M+=`<mo${jt(t.id,e)}>${q[t.value]||t.value}</mo>`;break;case"accent":let oe=t;M+='<mover accent="true"'+jt(t.id,e)+">",M+=St(t.body,e),M+="<mo>"+(N[U]||oe.accent)+"</mo>",M+="</mover>";break;case"line":case"overlap":break;case"overunder":let ye=t;W=t.above,z=t.below,(ye.svgAbove||W)&&(ye.svgBelow||z)?K=t.body:W&&W.length>0?(K=t.body,(s=(i=t.body)==null?void 0:i[0])!=null&&s.below?(z=t.body[0].below,K=t.body[0].body):((o=(a=t.body)==null?void 0:a[0])==null?void 0:o.type)==="first"&&(c=(l=t.body)==null?void 0:l[1])!=null&&c.below&&(z=t.body[1].below,K=t.body[1].body)):z&&z.length>0&&(K=t.body,(d=(u=t.body)==null?void 0:u[0])!=null&&d.above?(W=t.body[0].above,K=t.body[0].body):((f=(A=t.body)==null?void 0:A[0])==null?void 0:f.type)==="first"&&(m=(p=t.body)==null?void 0:p[1])!=null&&m.above&&(W=t.body[1].above,K=t.body[1].body)),(ye.svgAbove||W)&&(ye.svgBelow||z)?(M+=`<munderover ${jt(t.id,e)}>`,M+=(v=S[ye.svgBody])!=null?v:St(K,e),M+=(g=S[ye.svgBelow])!=null?g:St(z,e),M+=(y=S[ye.svgAbove])!=null?y:St(W,e),M+="</munderover>"):ye.svgAbove||W?(M+=`<mover ${jt(t.id,e)}>`+((x=S[ye.svgBody])!=null?x:St(K,e)),M+=(b=S[ye.svgAbove])!=null?b:St(W,e),M+="</mover>"):(ye.svgBelow||z)&&(M+=`<munder ${jt(t.id,e)}>`+((w=S[ye.svgBody])!=null?w:St(K,e)),M+=(C=S[ye.svgBelow])!=null?C:St(z,e),M+="</munder>");break;case"placeholder":M+="?";break;case"mord":{M=typeof t.value=="string"?t.value:U,M.length>0&&M.startsWith("\\")&&(typeof t.value=="string"&&t.value.charCodeAt(0)>255?M="&#x"+("000000"+t.value.charCodeAt(0).toString(16)).slice(-4)+";":typeof t.value=="string"?M=t.value.charAt(0):(console.error("Did not expect this"),M=""));let J=/\d/.test(M)?"mn":"mi";M=`<${J}${jt(t.id,e)}>${Nx(M)}</${J}>`;break}case"mbin":case"mrel":case"minner":M=o0(t,e);break;case"mpunct":M='<mo separator="true"'+jt(t.id,e)+">"+U+"</mo>";break;case"mop":case"operator":case"extensible-symbol":t.value!=="​"&&(M="<mo"+jt(t.id,e)+">",M+=U==="\\operatorname"?t.body:U||t.body,M+="</mo>");break;case"box":let ze=t;M='<menclose notation="box"',ze.backgroundcolor&&(M+=' mathbackground="'+ze.backgroundcolor+'"'),M+=jt(t.id,e)+">"+St(t.body,e)+"</menclose>";break;case"spacing":M+='<mspace width="'+((B=E[U])!=null?B:0)+'em"/>';break;case"enclose":let fe=t;M='<menclose notation="';for(let J in fe.notation)Object.prototype.hasOwnProperty.call(fe.notation,J)&&fe.notation[J]&&(M+=T+J,T=" ");M+=jt(t.id,e)+'">'+St(t.body,e)+"</menclose>";break;case"prompt":M='<menclose notation="roundexbox""">'+St(t.body,e)+"</menclose>";break;case"space":M+="&nbsp;";break;case"subsup":break;case"phantom":break;case"composition":break;case"rule":break;case"chem":break;case"mopen":M+=o0(t,e);break;case"mclose":M+=o0(t,e);break;case"macro":{let J=t.command+FA(t.macroArgs);J&&(M+=`<mo ${jt(t.id,e)}>${J}</mo>`)}break;case"latexgroup":M+=St(t.body,e);break;case"latex":M+="<mtext"+jt(t.id,e)+">"+t.value+"</mtext>";break;case"tooltip":M+=St(t.body,e);break;case"text":M+=`<mtext ${jt(t.id,e)}x>${t.value}</mtext>`;break;default:if(t.command==="\\displaystyle")return`<mrow ${jt(t.id,e)} displaystyle="true">${St(t.body,e)}</mrow>`;if(t.command==="\\textstyle")return`<mrow ${jt(t.id,e)} displaystyle="false">${St(t.body,e)}</mrow>`;console.info("Unexpected element in conversion to MathML:",t)}return M}var gh={"\\alpha":"alpha ","\\mu":"mew ","\\sigma":"sigma ","\\pi":"pie ","\\imaginaryI":"imaginary eye ","\\imaginaryJ":"imaginary jay ","\\sum":"Summation ","\\prod":"Product ","+":"plus ","-":"minus ",";":'<break time="150ms"/> semi-colon <break time="150ms"/>',",":'<break time="150ms"/> comma  <break time="150ms"/>',"|":'<break time="150ms"/>Vertical bar<break time="150ms"/>',"(":'<break time="150ms"/>Open paren. <break time="150ms"/>',")":'<break time="150ms"/> Close paren. <break time="150ms"/>',"=":"equals ","<":"is less than ","\\lt":"is less than ","<=":"is less than or equal to ","\\le":"is less than or equal to ","\\gt":"is greater than ",">":"is greater than ","\\pm":"plus or minus","\\mp":"minus or plus","\\ge":"is greater than or equal to ","\\geq":"is greater than or equal to ","\\leq":"is less than or equal to ","\\ne":"is not equal to ","\\neq":"is not equal to ","!":"factorial ","\\sin":"sine ","\\cos":"cosine ","​":"","−":"minus ",":":'<break time="150ms"/> such that <break time="200ms"/> ',"\\colon":'<break time="150ms"/> such that <break time="200ms"/> ',"\\hbar":"etch bar ","\\iff":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\Longleftrightarrow":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\land":"and ","\\lor":"or ","\\neg":"not ","\\div":"divided by ","\\forall":"for all ","\\exists":"there exists ","\\nexists":"there does not exists ","\\in":"element of ","\\N":'the set <break time="150ms"/><say-as interpret-as="character">n</say-as>',"\\C":'the set <break time="150ms"/><say-as interpret-as="character">c</say-as>',"\\Z":'the set <break time="150ms"/><say-as interpret-as="character">z</say-as>',"\\Q":'the set <break time="150ms"/><say-as interpret-as="character">q</say-as>',"\\infty":"infinity ","\\nabla":"nabla ","\\partial":"partial derivative of ","\\cdot":"times ","\\cdots":"dot dot dot ","\\Rightarrow":"implies ","\\lparen":'<break time="150ms"/>open paren<break time="150ms"/>',"\\rparen":'<break time="150ms"/>close paren<break time="150ms"/>',"\\lbrace":'<break time="150ms"/>open brace<break time="150ms"/>',"\\{":'<break time="150ms"/>open brace<break time="150ms"/>',"\\rbrace":'<break time="150ms"/>close brace<break time="150ms"/>',"\\}":'<break time="150ms"/>close brace<break time="150ms"/>',"\\langle":'<break time="150ms"/>left angle bracket<break time="150ms"/>',"\\rangle":'<break time="150ms"/>right angle bracket<break time="150ms"/>',"\\lfloor":'<break time="150ms"/>open floor<break time="150ms"/>',"\\rfloor":'<break time="150ms"/>close floor<break time="150ms"/>',"\\lceil":'<break time="150ms"/>open ceiling<break time="150ms"/>',"\\rceil":'<break time="150ms"/>close ceiling<break time="150ms"/>',"\\vert":'<break time="150ms"/>vertical bar<break time="150ms"/>',"\\mvert":'<break time="150ms"/>divides<break time="150ms"/>',"\\lvert":'<break time="150ms"/>left vertical bar<break time="150ms"/>',"\\rvert":'<break time="150ms"/>right vertical bar<break time="150ms"/>',"\\lbrack":'<break time="150ms"/> open square bracket <break time="150ms"/>',"\\rbrack":'<break time="150ms"/> close square bracket <break time="150ms"/>',mm:"millimeters",cm:"centimeters",km:"kilometers",kg:"kilograms"},sC={array:"array",matrix:"matrix",pmatrix:"parenthesis matrix",bmatrix:"square brackets matrix",Bmatrix:"braces matrix",vmatrix:"bars matrix",Vmatrix:"double bars matrix","matrix*":"matrix",smallmatrix:"small matrix"};function vIe(t){let e="";return t.startsWith("\\")&&(e=" "+t.replace("\\","")+" "),e}function Ep(t){let e=0;if(Bn(t))for(let r of t)r.type!=="first"&&(e+=1);return e===1}function xIe(t){if(Bn(t)){for(let e of t)if(e.type!=="first"&&e.id)return e.id.toString()}return""}function rH(t){let e="";if(Bn(t))for(let r of t)r.type!=="first"&&typeof r.value=="string"&&(e+=r.value);return e}function bIe(t){return t?t.map(e=>e.value).join(""):""}function Iv(t){if(t&&!t.some(e=>e.type!=="first"&&e.value===void 0))return t.map(e=>e.value).join("")}function h_(t){return`<emphasis>${t}</emphasis>`}function wIe(t,e){var r;let n="",i=!1,s=!1;for(let a=0;a<e.length;a++)e[a].type!=="first"&&(e[a].mode!=="text"&&(s=!1),a<e.length-2&&e[a].type==="mopen"&&e[a+2].type==="mclose"&&e[a+1].type==="mord"?(n+=" of ",n+=h_(at(t,e[a+1])),a+=2):e[a].mode==="text"?s?n+=(r=e[a].value)!=null?r:" ":(s=!0,n+=at("text",e[a])):e[a].isDigit()?i?n+=e[a].asDigit():(i=!0,n+=at(t,e[a])):(i=!1,n+=at(t,e[a])));return n}function at(t,e){var r,n,i,s,a,o,l,c;function u(g){return globalThis.MathfieldElement.textToSpeechMarkup?/[a-z]/.test(g)?` <say-as interpret-as="character">${g}</say-as>`:/[A-Z]/.test(g)?`capital <say-as interpret-as="character">${g.toLowerCase()}</say-as>`:g:/[a-z]/.test(g)?" '"+g.toUpperCase()+"'":/[A-Z]/.test(g)?" 'capital "+g.toUpperCase()+"'":g}if(!e)return"";if(Bn(e))return wIe(t,e);let d="";if(e.id&&t==="math"&&(d+='<mark name="'+e.id.toString()+'"/>'),e.mode==="text")return d+e.value;let A="",f="",p="",m=!1,{command:v}=e;switch(v){case"\\vec":return"vector "+at(t,e.body);case"\\acute":return at(t,e.body)+" acute";case"\\grave":return at(t,e.body)+" grave";case"\\dot":return"dot over"+at(t,e.body);case"\\ddot":return"double dot over"+at(t,e.body);case"\\mathring":return"ring over"+at(t,e.body);case"\\tilde":case"\\widetilde":return"tilde over"+at(t,e.body);case"\\bar":return at(t,e.body)+" bar";case"\\breve":return at(t,e.body)+" breve";case"\\check":case"\\widecheck":return"check over "+at(t,e.body);case"\\hat":case"\\widehat":return"hat over"+at(t,e.body);case"\\overarc":case"\\overparen":case"\\wideparen":return"arc over "+at(t,e.body);case"\\underarc":case"\\underparen":return"arc under "+at(t,e.body);case"\\mathop":return(r=Iv(e.body))!=null?r:at(t,e.body);case"\\mathit":return(n=Iv(e.body))!=null?n:at(t,e.body);case"\\mathrm":return(i=Iv(e.body))!=null?i:at(t,e.body);case"\\mathbb":return"blackboard"+((s=Iv(e.body))!=null?s:at(t,e.body))}switch(e.type){case"prompt":let g=e.body.length>1?'start input . <break time="500ms"/> '+at(t,e.body)+'. <break time="500ms"/> end input':"blank";d+=' <break time="300ms"/> '+g+'. <break time="700ms"/>'+((a=e.correctness)!=null?a:"")+' . <break time="700ms"/> ';break;case"array":let y=e.rows,x=e.environmentName;if(Object.keys(sC).includes(x)){d+=` begin ${sC[x]} `;for(let C=0;C<y.length;C++){C>0&&(d+=","),d+=` row ${C+1} `;for(let B=0;B<y[C].length;B++)B>0&&(d+=","),d+=` column ${B+1}: `,d+=at("math",y[C][B])}d+=` end ${sC[x]} `}break;case"group":v==="\\ne"?d+=" not equal ":(v==="\\not"&&(d+=" not "),d+=at("math",e.body));break;case"root":d+=at("math",e.body);break;case"genfrac":if(A=at("math",e.above),f=at("math",e.below),Ep(e.above)&&Ep(e.below)){let C={"1/2":" half ","1/3":" one third ","2/3":" two third","1/4":" one quarter ","3/4":" three quarter ","1/5":" one fifth ","2/5":" two fifths ","3/5":" three fifths ","4/5":" four fifths ","1/6":" one sixth ","5/6":" five sixths ","1/8":" one eight ","3/8":" three eights ","5/8":" five eights ","7/8":" seven eights ","1/9":" one ninth ","2/9":" two ninths ","4/9":" four ninths ","5/9":" five ninths ","7/9":" seven ninths ","8/9":" eight ninths "}[rH(e.above)+"/"+rH(e.below)];C?d=C:d+=A+" over "+f}else d+=' the fraction <break time="150ms"/>'+A+' over <break time="150ms"/>'+f+'.<break time="150ms"/> End fraction.<break time="150ms"/>';break;case"surd":if(p=at("math",e.body),e.hasEmptyBranch("above"))d+=Ep(e.body)?" the square root of "+p+" , ":' the square root of <break time="200ms"/>'+p+'. <break time="200ms"/> End square root';else{let C=at("math",e.above);C=C.trim();let B=C.replace(/<mark([^/]*)\/>/g,"");B==="3"?d+=' the cube root of <break time="200ms"/>'+p+'. <break time="200ms"/> End cube root':B==="n"?d+=' the nth root of <break time="200ms"/>'+p+'. <break time="200ms"/> End root':d+=' the root with index: <break time="200ms"/>'+C+', of <break time="200ms"/>'+p+'. <break time="200ms"/> End root'}break;case"leftright":{let C=e;d+=(o=C.leftDelim?gh[C.leftDelim]:void 0)!=null?o:C.leftDelim,d+=at("math",e.body),d+=(l=C.rightDelim?gh[C.rightDelim]:void 0)!=null?l:C.rightDelim}break;case"rule":break;case"overunder":break;case"overlap":break;case"macro":let b=v.replace(/^\\/g,""),w=RF()[b];w&&(w!=null&&w.expand?d+=at("math",e.body):d+=`${b} `);break;case"placeholder":d+="placeholder ";break;case"delim":case"sizeddelim":case"mord":case"minner":case"mbin":case"mrel":case"mpunct":case"mopen":case"mclose":{if(v==="\\mathbin"||v==="\\mathrel"||v==="\\mathopen"||v==="\\mathclose"||v==="\\mathpunct"||v==="\\mathord"||v==="\\mathinner"){d=at(t,e.body);break}let C=e.isDigit()?e.asDigit():e.value,B=e.command;if((e.type==="delim"||e.type==="sizeddelim")&&(B=e.value,C=B),t==="text")d+=C;else{if(e.type==="mbin"&&(d+='<break time="150ms"/>'),C){let S=gh[C]||(B?gh[B.trim()]:"");if(S)d+=" "+S;else{let E=B?vIe(B.trim()):"";d+=E||u(C)}}else d+=at("math",e.body);e.type==="mbin"&&(d+='<break time="150ms"/>')}break}case"mop":case"operator":case"extensible-symbol":if(e.value!=="​"){let C=e.command;if(C==="\\sum")if(!e.hasEmptyBranch("superscript")&&!e.hasEmptyBranch("subscript")){let B=at("math",e.superscript);B=B.trim();let S=at("math",e.subscript);S=S.trim(),d+=' the summation from <break time="200ms"/>'+S+'<break time="200ms"/> to  <break time="200ms"/>'+B+'<break time="200ms"/> of <break time="150ms"/>',m=!0}else if(e.hasEmptyBranch("subscript"))d+=" the summation of";else{let B=at("math",e.subscript);B=B.trim(),d+=' the summation from <break time="200ms"/>'+B+'<break time="200ms"/> of <break time="150ms"/>',m=!0}else if(C==="\\prod")if(!e.hasEmptyBranch("superscript")&&!e.hasEmptyBranch("subscript")){let B=at("math",e.superscript);B=B.trim();let S=at("math",e.subscript);S=S.trim(),d+=' the product from <break time="200ms"/>'+S+'<break time="200ms"/> to <break time="200ms"/>'+B+'<break time="200ms"/> of <break time="150ms"/>',m=!0}else if(e.hasEmptyBranch("subscript"))d+=" the product  of ";else{let B=at("math",e.subscript);B=B.trim(),d+=' the product from <break time="200ms"/>'+B+'<break time="200ms"/> of <break time="150ms"/>',m=!0}else if(C==="\\int")if(!e.hasEmptyBranch("superscript")&&!e.hasEmptyBranch("subscript")){let B=at("math",e.superscript);B=B.trim();let S=at("math",e.subscript);S=S.trim(),d+=' the integral from <break time="200ms"/>'+h_(S)+'<break time="200ms"/> to <break time="200ms"/>'+h_(B)+' <break time="200ms"/> of ',m=!0}else d+=' the integral of <break time="200ms"/> ';else if(C==="\\operatorname"||C==="\\operatorname*")d+=bIe(e.body)+" ";else if(typeof e.value=="string"){let B=(c=gh[e.value])!=null?c:e.command?gh[e.command]:void 0;d+=B||" "+e.value}else e.command&&(e.command==="\\mathop"?d+=at("math",e.body):d+=e.command.startsWith("\\")?" "+e.command.slice(1):" "+e.command)}break;case"enclose":p=at("math",e.body),d+=" crossed out "+p+". End crossed out.";break}if(!m&&!e.hasEmptyBranch("superscript")){let g=at(t,e.superscript);g=g.trim();let y=g.replace(/<[^>]*>/g,"");if(Ep(e.superscript)){if(t==="math"){let x=xIe(e.superscript);x&&(d+='<mark name="'+x+'"/>')}y==="′"?d+=" prime ":y==="2"?d+=" squared ":y==="3"?d+=" cubed ":Number.isNaN(Number.parseInt(y))?d+=" to the "+g+"; ":d+=' to the <say-as interpret-as="ordinal">'+y+"</say-as> power; "}else Number.isNaN(Number.parseInt(y))?d+=" raised to the "+g+"; ":d+=' raised to the <say-as interpret-as="ordinal">'+y+"</say-as> power; "}if(!m&&!e.hasEmptyBranch("subscript")){let g=at("math",e.subscript);g=g.trim(),d+=Ep(e.subscript)?" sub "+g:" subscript "+g+". End subscript. "}return d}function TA(t){var e,r;let n=globalThis.MathfieldElement;if(n.textToSpeechRules==="sre"&&("sre"in window||"SRE"in window)){let s=St(t);if(s){n.textToSpeechMarkup&&(n.textToSpeechRulesOptions=(e=n.textToSpeechRulesOptions)!=null?e:{},n.textToSpeechRulesOptions=G(P({},n.textToSpeechRulesOptions),{markup:n.textToSpeechMarkup}),n.textToSpeechRulesOptions.markup==="ssml"&&(n.textToSpeechRulesOptions=G(P({},n.textToSpeechRulesOptions),{markup:"ssml_step"})),n.textToSpeechRulesOptions=G(P({},n.textToSpeechRulesOptions),{rate:n.speechEngineRate}));let a=(r=window.SRE)!=null?r:globalThis.sre.System.getInstance();n.textToSpeechRulesOptions&&a.setupEngine(n.textToSpeechRulesOptions);let o="";try{o=a.toSpeech(s)}catch(l){console.error("MathLive 0.104.0: `SRE.toSpeech()` runtime error",l)}return o}return""}let i=at("math",t);if(n.textToSpeechMarkup==="ssml"){let s="";n.speechEngineRate&&(s='<prosody rate="'+n.speechEngineRate+'">'),i='<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="en-US"><amazon:auto-breaths>'+s+"<p><s>"+i+"</s></p>"+(s?"</prosody>":"")+"</amazon:auto-breaths></speak>"}else n.textToSpeechMarkup==="mac"&&Mf()==="macos"?i=i.replace(/<mark([^/]*)\/>/g,"").replace(/<emphasis>/g,"[[emph+]]").replace(/<\/emphasis>/g,"").replace(/<break time="(\d*)ms"\/>/g,"[[slc $1]]").replace(/<say-as[^>]*>/g,"").replace(/<\/say-as>/g,""):i=i.replace(/<[^>]*>/g,"").replace(/\s{2,}/g," ");return i}var Xa={"\\ne":"≠","\\neq":"≠","−":"-","-":"-","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\delta":"delta","\\epsilon":"epsilon","\\varepsilon":"varepsilon","\\zeta":"zeta","\\eta":"eta","\\theta":"theta","\\vartheta":"vartheta","\\iota":"iota","\\kappa":"kappa","\\lambda":"lambda","\\mu":"mu","\\nu":"nu","\\xi":"xi","\\pi":"pi","\\rho":"rho","\\sigma":"sigma","\\tau":"tau","\\upsilon":"upsilon","\\phi":"phi","\\varphi":"varphi","\\chi":"chi","\\psi":"psi","\\omega":"omega","\\Gamma":"Gamma","\\Delta":"Delta","\\Theta":"Theta","\\Lambda":"Lambda","\\Xi":"Xi","\\Pi":"Pi","\\Sigma":"Sigma","\\Phi":"Phi","\\Psi":"Psi","\\Omega":"Omega","\\exponentialE":"e","\\imaginaryI":"i","\\imaginaryJ":"j","\\!":" ","\\,":" ","\\:":" ","\\>":" ","\\;":" ","\\enskip":" ","\\enspace":" ","\\qquad":" ","\\quad":" ","\\infty":"oo","\\R":"RR","\\mathbb{R}":"RR","\\N":"NN","\\mathbb{N}":"NN","\\Z":"ZZ","\\mathbb{Z}":"ZZ","\\Q":"QQ","\\mathbb{Q}":"QQ","\\C":"CC","\\mathbb{C}":"CC","\\emptyset":"O/","\\varnothing":"O/","\\varDelta":"Delta","\\varTheta":"Theta","\\varLambda":"Lambda","\\varXi":"Xi","\\varPi":"Pi","\\varSigma":"Sigma","\\varUpsilon":"Upsilon","\\varPhi":"Phi","\\varPsi":"Psi","\\varOmega":"Omega"},Mp={"\\pm":"+-","\\colon":" : ","\\sum":" sum ","\\prod":" prod ","\\bigcap":" nnn ","\\bigcup":" uuu ","\\int":" int ","\\oint":" oint ","\\ge":">=","\\le":"<=","\\ne":"!=","\\neq":"!=","\\lt":"<","\\gt":">","\\gets":"<-","\\to":"->","\\land":" and ","\\lor":" or ","\\lnot":" not ","\\forall":" AA ","\\exists":" EE ","\\in":" in ","\\notin":" !in ","\\mapsto":"|->","\\implies":"=>","\\iff":"<=>","\\cdot":" * ","\\ast":" ** ","\\star":" *** ","\\times":" * ","\\div":" -: ","\\ltimes":" |>< ","\\rtimes":" ><| ","\\bowtie":" |><| ","\\circ":"@"},Ov={"\\vert":"|","\\Vert":"||","\\mid":"|","\\lbrack":"[","\\rbrack":"]","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"(:","\\rangle":":)"};function CIe(t){let e="";for(let r of t){let n=e[e.length-1];n!==void 0&&(/\d$/.test(n)&&/^\d/.test(r)||/[a-zA-Z]$/.test(n)&&/^[a-zA-Z]/.test(r))&&(e+=" "),e+=r}return e}function tr(t,e){var r,n,i,s,a,o,l,c,u,d,A,f,p,m,v,g,y;if(!t)return"";if(Bn(t)){if(t.length===0)return"";if(t[0].mode==="latex")return t.map(E=>tr(E)).join("");if(t[0].mode==="text"){let E=0,M="";for(;((r=t[E])==null?void 0:r.mode)==="text";)M+=t[E].body?tr(t[E].body,e):t[E].value,E++;return e!=null&&e.plain?M+tr(t.slice(E),e):`"${M}" ${tr(t.slice(E))}`}let B=0,S=[];for(;t[B]&&t[B].mode==="math";){let E="";for(;t[B]&&t[B].type==="mord"&&/\d/.test(t[B].value);)E+=t[B++].value;E?S.push(E):S.push(tr(t[B++],e))}return S.push(tr(t.slice(B),e)),CIe(S)}if(t.mode==="text")return e!=null&&e.plain?t.value:`"${t.value}"`;let x="",{command:b}=t,w;if(b==="\\placeholder")return`(${tr(t.body,e)})`;let C=se.serialize([t],{expandMacro:!1,defaultMode:"math"});switch(t.type){case"accent":let B={"\\vec":"vec","\\dot":"dot","\\ddot":"ddot","\\bar":"bar","\\hat":"hat","\\acute":"acute;","\\grave":"grave","\\tilde":"tilde","\\breve":"breave","\\check":"check"}[b];x=`${B??""} ${tr(t.body,e)} `;break;case"first":return"";case"latexgroup":return t.body.map(E=>E.value).join("");case"group":case"root":x=(n=Xa[b])!=null?n:tr(t.body,e);break;case"genfrac":{let E=t;(E.leftDelim||E.rightDelim)&&(x=E.leftDelim==="."||!E.leftDelim?"{:":E.leftDelim),E.hasBarLine?(x+="(",x+=tr(E.above,e),x+=")/(",x+=tr(E.below,e),x+=")"):(x+="((",x+=tr(E.above,e),x+=") choose (",x+=tr(E.below,e),x+="))"),(E.leftDelim||E.rightDelim)&&(x+=E.rightDelim==="."||!E.rightDelim?"{:":E.rightDelim)}break;case"surd":t.hasEmptyBranch("above")?x+=`sqrt(${tr(t.body,e)})`:x+=`root(${tr(t.above,e)})(${tr(t.body,e)})`;break;case"latex":x=t.value;break;case"leftright":{let E=t,M=E.leftDelim;M&&Ov[M]&&(M=Ov[M]),x+=M==="."||!M?"{:":M,x+=tr(E.body,e);let T=E.matchingRightDelim();T&&Ov[T]&&(T=Ov[T]),x+=T==="."||!T?":}":T}break;case"sizeddelim":case"delim":x=t.value;break;case"overlap":break;case"overunder":break;case"mord":if(Xa[C])return Xa[C];x=(a=(s=(i=Xa[b])!=null?i:b)!=null?s:b)!=null?a:typeof t.value=="string"?t.value:"",x.startsWith("\\")&&(x+=" "),w=b?b.match(/{?\\char"([\dabcdefABCDEF]+)}?/):null,w?x=String.fromCodePoint(Number.parseInt("0x"+w[1])):x.length>0&&x.startsWith("\\")&&(x=typeof t.value=="string"?t.value.charAt(0):t.command),x=BIe(x,t.style);break;case"mbin":case"mrel":case"minner":x=(c=(l=(o=Xa[C])!=null?o:Xa[b])!=null?l:Mp[b])!=null?c:t.value;break;case"mopen":case"mclose":x=t.value;break;case"mpunct":x=(u=Mp[b])!=null?u:b;break;case"mop":case"operator":case"extensible-symbol":t.value!=="​"&&(Mp[b]?x=Mp[b]:x=b==="\\operatorname"?tr(t.body,e):(d=t.value)!=null?d:b,x+=" ");break;case"array":let S=t.environmentName;if(t.isMultiline)x=t.rows.map(E=>E.map(M=>tr(M,e)).join("")).join(`
`);else{let E=(A={bmatrix:["[","]"],"bmatrix*":["[","]"]}[S])!=null?A:["(",")"],M=[],T=t.rows;for(let I of T){let R=[];for(let z of I)R.push(tr(z,e));M.push(E[0]+R.join(",")+E[1])}let L=(f={bmatrix:["[","]"],"bmatrix*":["[","]"],cases:["{",":}"]}[S])!=null?f:["(",")"];x=L[0]+M.join(",")+L[1]}break;case"box":break;case"spacing":x=(m=(p=Xa[C])!=null?p:Xa[b])!=null?m:" ";break;case"enclose":x="("+tr(t.body,e)+")";break;case"space":x=" ";break;case"subsup":x="";break;case"macro":x=(y=(g=(v=Xa[C])!=null?v:Xa[b])!=null?g:Mp[b])!=null?y:tr(t.body,e);break}if(!t.hasEmptyBranch("subscript")){x+="_";let B=tr(t.subscript,e);x+=B.length!==1?`(${B})`:B}if(!t.hasEmptyBranch("superscript")){x+="^";let B=tr(t.superscript,e);x+=B.length!==1?`(${B})`:B}return x}function BIe(t,e){if(!e)return t;let r=t;return e.variant==="double-struck"&&(r=`bbb "${r}"`),e.variant==="script"&&(r=`cc "${r}"`),e.variant==="fraktur"&&(r=`fr "${r}"`),e.variant==="sans-serif"&&(r=`sf "${r}"`),e.variant==="monospace"&&(r=`tt "${r}"`),e.variantStyle==="bold"&&(r=`bb "${r}"`),e.color?`color({${e.color}})(${r})`:r}function Yr(t,e){var r;let n=G(P({},Ote()),{renderPlaceholder:()=>new ge(160,{maxFontSize:1})}),i=(r=void 0)!=null?r:"math",s="math",a="displaystyle";i==="inline-math"?a="textstyle":i==="math"?a="displaystyle":i==="text"&&(a="textstyle",s="text");let o=new mt({from:n}),l=new se({type:"root",mode:s,body:Js(t,{context:o,parseMode:s,mathstyle:a})}).render(o);return l?(C5(Y1(l,o)),B5(l,{classes:"ML__latex"}).toMarkup()):""}function A_(t){if(typeof t=="string"){let e=SIe(t);if(!e)throw new Error(`Invalid color: ${t}`);return e}return"C"in t?kIe(t):"a"in t?yne(t):t}function DA(t){return t<0?0:t>255?255:Math.round(t)}function SIe(t){if(!t||t[0]!=="#")return;t=t.slice(1);let e;return t.length<=4?(e={r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16)},t.length===4&&(e.a=parseInt(t[3]+t[3],16)/255)):(e={r:parseInt(t[0]+t[1],16),g:parseInt(t[2]+t[3],16),b:parseInt(t[4]+t[5],16)},t.length===8&&(e.a=parseInt(t[6]+t[7],16)/255)),e&&typeof e.a>"u"&&(e.a=1),e}function f_(t){let[e,r,n]=[t.L,t.C,t.H],i=n*Math.PI/180,s={L:e,a:r*Math.cos(i),b:r*Math.sin(i)};return t.alpha!==void 0&&(s.alpha=t.alpha),s}function _Ie(t){let[e,r,n]=[t.L,t.a,t.b],i=Math.sqrt(r*r+n*n),s=Math.atan2(n,r)*180/Math.PI,a={L:e,C:i,H:s};return t.alpha!==void 0&&(a.alpha=t.alpha),a}function aC(t){let[e,r,n]=[t.L,t.a,t.b],i=Math.pow(.9999999984505198*e+.39633779217376786*r+.2158037580607588*n,3),s=Math.pow(1.00000000888176*e-.10556134232365635*r-.0638541747717059*n,3),a=Math.pow(e*1.000000054672411-.0894841820949657*r-1.2914855378640917*n,3),o=4.076741661347994*i-3.307711590408193*s+.230969928729428*a,l=-1.2684380040921763*i+2.6097574006633715*s-.3413193963102197*a,c=-.004196086541837188*i-.7034186144594493*s+1.7076147009309444*a,u=d=>{let A=Math.abs(d);return A<=.0031308?d*12.92:(Math.sign(d)||1)*(1.055*Math.pow(A,1/2.4)-.055)};return[u(o),u(l),u(c)]}function oC(t){let[e,r,n]=t;return e>=0&&e<=1&&r>=0&&r<=1&&n>=0&&n<=1}function lC(t,e){let[r,n,i]=t;return r=DA(r*255),n=DA(n*255),i=DA(i*255),e!==void 0?{r,g:n,b:i,alpha:e}:{r,g:n,b:i}}function yne(t){let[e,r,n]=aC(t);if(oC([e,r,n]))return lC([e,r,n],t.alpha);let i=_Ie(t);if(i.C=0,[e,r,n]=aC(f_(i)),!oC([e,r,n]))return lC([e,r,n],t.alpha);let s=0,a=t.L,o=(s+a)/2;i.C=o;let l=.36/Math.pow(2,12);for(;a-s>l;)o=(s+a)/2,i.C=o,[e,r,n]=aC(f_(i)),oC([e,r,n])?s=o:a=o;return lC([e,r,n],t.alpha)}function kIe(t){return yne(f_(t))}function nH(t,e){let r=A_(t),n=A_(e),i=.56,s=.57,a=.62,o=.65,l=.022,c=1.414,u=.1,d=5e-4,A=1.14,f=.027,p=1.14,m=.027;function v(B){return B>=l?B:B+(l-B)**c}function g(B){return(B<0?-1:1)*Math.pow(Math.abs(B),2.4)}let y=v(g(n.r/255)*.2126729+g(n.g/255)*.7151522+g(n.b/255)*.072175),x=v(g(r.r/255)*.2126729+g(r.g/255)*.7151522+g(r.b/255)*.072175),b,w,C;return Math.abs(x-y)<d?w=0:x>y?(b=x**i-y**s,w=b*A):(b=x**o-y**a,w=b*p),Math.abs(w)<u?C=0:w>0?C=w-m:C=w+f,C*100}function vne(t,e,r){r!=null||(r="#fff"),e!=null||(e="#000");let n=nH(t,r),i=nH(t,e);return Math.abs(n)>Math.abs(i)?r:e}function EIe(t){let e=A_(t),r=((1<<24)+(DA(e.r)<<16)+(DA(e.g)<<8)+DA(e.b)).toString(16).slice(1);return e.alpha!==void 0&&e.alpha<1&&(r+=("00"+Math.round(e.alpha*255).toString(16)).slice(-2)),r[0]===r[1]&&r[2]===r[3]&&r[4]===r[5]&&r[6]===r[7]&&(r=r[0]+r[2]+r[4]+(e.alpha!==void 0&&e.alpha<1?r[6]:"")),"#"+r}function It(t){let e=xne(t),r="";for(let n of e){if(typeof n.value!="string")return"";r+=n.value}return r}function xne(t){let e=t.model.selection.ranges;if(e.length!==1)return[];let r=t.model.getAtoms(e[0]);return r.length===1&&r[0].isRoot&&(r=r[0].children),r.filter(n=>n.type!=="first")}function MIe(t,e){let r=xne(t);if(r.length!==1)return!1;let n=GS[e];return n?!!n.test(r[0].value):!1}function FIe(t){return It(t).length>0}function TIe(t){return[uC(t,"double-struck","mathbb","tooltip.blackboard"),uC(t,"fraktur","mathfrak","tooltip.fraktur"),uC(t,"calligraphic","mathcal","tooltip.caligraphic"),dC(t,"up","mathrm","tooltip.roman-upright"),dC(t,"bold","bm","tooltip.bold"),dC(t,"italic","mathit","tooltip.italic")]}function DIe(t){return[{id:"accent-vec",class:"ML__center-menu",label:()=>Yr(`\\vec{${It(t)}}`),visible:()=>It(t).length===1,onMenuSelect:()=>t.insert("\\vec{#@}",{selectionMode:"item"})},{id:"accent-overrightarrow",class:"ML__center-menu",label:()=>Yr(`\\overrightarrow{${It(t)}}`),visible:()=>It(t).length>0,onMenuSelect:()=>t.insert("\\overrightarrow{#@}",{selectionMode:"item"})},{id:"accent-overleftarrow",class:"ML__center-menu",label:()=>Yr(`\\overleftarrow{${It(t)}}`),visible:()=>It(t).length>0,onMenuSelect:()=>t.insert("\\overleftarrow{#@}",{selectionMode:"item"})},{id:"accent-dot",class:"ML__center-menu",label:()=>Yr(`\\dot{${It(t)}}`),visible:()=>It(t).length===1,onMenuSelect:()=>t.insert("\\dot{#@}",{selectionMode:"item"})},{id:"accent-ddot",class:"ML__center-menu",label:()=>Yr(`\\ddot{${It(t)}}`),visible:()=>It(t).length===1,onMenuSelect:()=>t.insert("\\ddot{#@}",{selectionMode:"item"})},{id:"accent-bar",class:"ML__center-menu",label:()=>Yr(`\\bar{${It(t)}}`),visible:()=>It(t).length===1,onMenuSelect:()=>t.insert("\\bar{#@}",{selectionMode:"item"})},{id:"accent-overline",class:"ML__center-menu",label:()=>Yr(`\\overline{${It(t)}}`),visible:()=>It(t).length>0,onMenuSelect:()=>t.insert("\\overline{#@}",{selectionMode:"item"})},{id:"accent-overgroup",class:"ML__center-menu",label:()=>Yr(`\\overgroup{${It(t)}}`),visible:()=>It(t).length>0,onMenuSelect:()=>t.insert("\\overgroup{#@}",{selectionMode:"item"})},{id:"accent-overbrace",class:"ML__center-menu",label:()=>Yr(`\\overbrace{${It(t)}}`),visible:()=>It(t).length>0,onMenuSelect:()=>t.insert("\\overbrace{#@}",{selectionMode:"item"})},{id:"accent-underline",class:"ML__center-menu",label:()=>Yr(`\\underline{${It(t)}}`),visible:()=>It(t).length>0,onMenuSelect:()=>t.insert("\\underline{#@}",{selectionMode:"item"})},{id:"accent-undergroup",class:"ML__center-menu",label:()=>Yr(`\\undergroup{${It(t)}}`),visible:()=>It(t).length>0,onMenuSelect:()=>t.insert("\\undergroup{#@}",{selectionMode:"item"})},{id:"accent-underbrace",class:"ML__center-menu",label:()=>Yr(`\\underbrace{${It(t)}}`),visible:()=>It(t).length>0,onMenuSelect:()=>t.insert("\\underbrace{#@}",{selectionMode:"item"})}]}function LIe(t){return[{id:"decoration-boxed",label:()=>Yr(`\\boxed{${t.getValue(t.model.selection)}}}`),onMenuSelect:()=>t.insert("\\boxed{#@}",{selectionMode:"item"})},{id:"decoration-red-box",label:()=>Yr(`\\bbox[5px, border: 2px solid red]{${t.getValue(t.model.selection)}}`),onMenuSelect:()=>t.insert("\\bbox[5px, border: 2px solid red]{#@}",{selectionMode:"item"})},{id:"decoration-dashed-black-box",label:()=>Yr(`\\bbox[5px, border: 2px dashed black]{${t.getValue(t.model.selection)}}`),onMenuSelect:()=>t.insert("\\bbox[5px, border: 2px dashed black]{#@}",{selectionMode:"item"})}]}function NIe(t){let e=[];for(let r of Object.keys(i0))e.push({id:`background-color-${r}`,class:(EIe(vne(i0[r]))==="#000"?"dark-contrast":"light-contrast")+" menu-swatch",label:`<span style="background:${i0[r]} "></span>`,ariaLabel:()=>{var n;return(n=rt(r))!=null?n:r},checked:()=>{var n;return(n={some:"mixed",all:!0}[t.queryStyle({backgroundColor:r})])!=null?n:!1},onMenuSelect:()=>t.applyStyle({backgroundColor:r},{operation:"toggle"})});return e}function jIe(t){let e=[];for(let r of Object.keys(s0))e.push({id:`color-${r}`,class:(vne(s0[r])==="#000"?"dark-contrast":"light-contrast")+" menu-swatch",label:`<span style="background:${s0[r]} "></span>`,ariaLabel:()=>{var n;return(n=rt(r))!=null?n:r},checked:()=>{var n;return(n={some:"mixed",all:!0}[t.queryStyle({color:r})])!=null?n:!1},onMenuSelect:()=>t.applyStyle({color:r},{operation:"toggle"})});return e}var IIe=class extends une{constructor(t,e,r,n){super(t,e),this.row=r,this.col=n}set active(t){let e=this.parentMenu.children;if(t)for(let r of e)r.element.classList.toggle("active",r.row<=this.row&&r.col<=this.col);else for(let r of e)r.element.classList.remove("active")}};function OIe(t){let e=[];for(let r=1;r<=5;r++)for(let n=1;n<=5;n++)e.push({id:`insert-matrix-${r}x${n}`,onCreate:(i,s)=>new IIe(i,s,r,n),label:"☐",tooltip:()=>rt("tooltip.row-by-col",r,n),data:{row:r,col:n},onMenuSelect:()=>{t.insert(`\\begin{pmatrix}${Array(r).fill(Array(n).fill("#?").join(" & ")).join("\\\\")}\\end{pmatrix}`,{selectionMode:"item"})}});return e}function PIe(t){return[{label:()=>rt("menu.array.add row above"),id:"add-row-above",onMenuSelect:()=>t.executeCommand("addRowBefore"),keyboardShortcut:"shift+alt+[Return]",visible:()=>{if(!t.isSelectionEditable||!gd(t))return!1;let[e,r]=wc(t),[n,i]=yh(t);return e!==n}},{label:()=>rt("menu.array.add row below"),id:"add-row-below",onMenuSelect:()=>t.executeCommand("addRowAfter"),keyboardShortcut:"alt+[Return]",visible:()=>{if(!t.isSelectionEditable||!gd(t))return!1;let[e,r]=wc(t),[n,i]=yh(t);return e!==n}},{label:()=>rt("menu.array.add column before"),id:"add-column-before",onMenuSelect:()=>t.executeCommand("addColumnBefore"),visible:()=>{if(!t.isSelectionEditable||!gd(t))return!1;let[e,r]=wc(t),[n,i]=yh(t);return r!==i},keyboardShortcut:"shift+alt+[Tab]",enabled:()=>{let e=t.model.parentEnvironment;if(!e)return!1;let[r,n]=cC(t);return r<e.maxColumns}},{label:()=>rt("menu.array.add column after"),id:"add-column-after",onMenuSelect:()=>t.executeCommand("addColumnAfter"),keyboardShortcut:"alt+[Tab]",visible:()=>{if(!t.isSelectionEditable||!gd(t))return!1;let[e,r]=wc(t),[n,i]=yh(t);return r!==i}},{type:"divider"},{label:()=>rt("menu.array.delete row"),id:"delete-row",onMenuSelect:()=>t.executeCommand("removeRow"),enabled:()=>{let[e,r]=wc(t),[n,i]=cC(t);return n>e},visible:()=>{if(!t.isSelectionEditable||!gd(t))return!1;let[e,r]=wc(t),[n,i]=yh(t);return e!==n}},{label:()=>rt("menu.array.delete column"),id:"delete-column",onMenuSelect:()=>t.executeCommand("removeColumn"),enabled:()=>{let[e,r]=wc(t),[n,i]=cC(t);return i>r},visible:()=>{if(!t.isSelectionEditable||!gd(t))return!1;let[e,r]=wc(t),[n,i]=yh(t);return r!==i}},{type:"divider"},{label:()=>rt("menu.borders"),visible:()=>(UIe(t)||gd(t))&&t.isSelectionEditable,submenu:[{label:" ⋱ ",id:"environment-no-border",onMenuSelect:()=>Fp(t,"matrix")},{label:"(⋱)",id:"environment-parentheses",onMenuSelect:()=>Fp(t,"pmatrix")},{label:"[⋱]",id:"environment-brackets",onMenuSelect:()=>Fp(t,"bmatrix")},{label:"|⋱|",id:"environment-bar",onMenuSelect:()=>Fp(t,"vmatrix")},{label:"{⋱}",id:"environment-braces",onMenuSelect:()=>Fp(t,"Bmatrix")}],submenuClass:"border-submenu"},{type:"divider"},{label:()=>rt("menu.insert matrix"),id:"insert-matrix",visible:()=>t.isSelectionEditable,submenu:OIe(t),submenuClass:"insert-matrix-submenu",columnCount:5},{type:"divider"},{label:()=>rt("menu.insert"),id:"insert",submenu:QIe(t)},{type:"divider"},{label:()=>rt("menu.mode"),id:"mode",visible:()=>t.isSelectionEditable&&t.model.selectionIsCollapsed,submenu:[{label:()=>rt("menu.mode-math"),id:"mode-math",onMenuSelect:()=>{rf(t,"accept-all"),t.executeCommand(["switchMode","math"])},checked:()=>t.model.mode==="math"},{label:()=>rt("menu.mode-text"),id:"mode-text",onMenuSelect:()=>{rf(t,"accept-all"),t.executeCommand(["switchMode","text"])},checked:()=>t.model.mode==="text"},{label:()=>rt("menu.mode-latex"),id:"mode-latex",onMenuSelect:()=>t.executeCommand(["switchMode","latex"]),checked:()=>t.model.mode==="latex"}]},{type:"divider"},{label:()=>rt("menu.font-style"),id:"variant",visible:()=>t.isSelectionEditable,submenu:TIe(t),submenuClass:"variant-submenu"},{label:()=>rt("menu.color"),id:"color",visible:()=>t.isSelectionEditable,submenu:jIe(t),columnCount:4,submenuClass:"swatches-submenu"},{label:()=>rt("menu.background-color"),id:"background-color",visible:()=>t.isSelectionEditable,submenu:NIe(t),columnCount:4,submenuClass:"swatches-submenu"},{label:()=>rt("menu.accent"),id:"accent",visible:()=>t.isSelectionEditable,submenu:DIe(t),submenuClass:"variant-submenu"},{label:()=>rt("menu.decoration"),id:"decoration",visible:()=>t.isSelectionEditable&&It(t).length>0,submenu:LIe(t),submenuClass:"variant-submenu"},{type:"divider"},{label:()=>rt("menu.evaluate"),id:"ce-evaluate",visible:()=>t.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null,onMenuSelect:()=>{let e=RIe(t);if(!e){t.model.announce("plonk");return}t.model.selectionIsCollapsed?(t.model.position=t.model.lastOffset,t.insert(`=${e}`,{insertionMode:"insertAfter",selectionMode:"item"})):t.insert(e,{insertionMode:"replaceSelection",selectionMode:"item"})}},{label:()=>rt("menu.simplify"),id:"ce-simplify",visible:()=>t.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null,onMenuSelect:()=>{var e,r;if(t.model.selectionIsCollapsed){let n=(e=t.expression)==null?void 0:e.simplify();if(t.model.position=t.model.lastOffset,!n){t.model.announce("plonk");return}t.insert(`=${n.latex}`,{insertionMode:"insertAfter",selectionMode:"item"})}else{let n=(r=globalThis.MathfieldElement.computeEngine)==null?void 0:r.parse(t.getValue(t.model.selection)).simplify();if(!n){t.model.announce("plonk");return}t.insert(n.latex,{insertionMode:"replaceSelection",selectionMode:"item"})}}},{label:()=>{var e;let r=globalThis.MathfieldElement.computeEngine;if(r===null)return"";let n=(e=t.expression)==null?void 0:e.unknowns[0];if(n){let i=r.box(n).latex;return rt("menu.solve-for",Yr(i))}return rt("menu.solve")},id:"ce-solve",visible:()=>{var e;return t.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null&&((e=t.expression)==null?void 0:e.unknowns.length)===1&&t.expression.unknowns[0]!=="Nothing"},onMenuSelect:()=>{var e;let r=t.expression,n=r==null?void 0:r.unknowns[0],i=(e=r.solve(n))==null?void 0:e.map(s=>{var a;return(a=s.simplify().latex)!=null?a:""});if(!i){t.model.announce("plonk");return}t.insert(`${n}=${i.length===1?i[0]:"\\left\\lbrace"+(i==null?void 0:i.join(", "))+"\\right\\rbrace"}`,{insertionMode:"replaceAll",selectionMode:"item"})}},{type:"divider"},{label:()=>rt("menu.cut"),id:"cut",onMenuSelect:()=>t.executeCommand("cutToClipboard"),visible:()=>!t.options.readOnly&&t.isSelectionEditable,keyboardShortcut:"meta+X"},{label:()=>rt("menu.copy"),id:"copy",submenu:[{label:()=>rt("menu.copy-as-latex"),id:"copy-latex",onMenuSelect:()=>$t.copyToClipboard(t,"latex"),keyboardShortcut:"meta+C"},{label:()=>rt("menu.copy-as-ascii-math"),id:"copy-ascii-math",onMenuSelect:()=>$t.copyToClipboard(t,"ascii-math")},{label:()=>rt("menu.copy-as-mathml"),id:"copy-math-ml",onMenuSelect:()=>$t.copyToClipboard(t,"math-ml")}]},{label:()=>rt("menu.paste"),id:"paste",onMenuSelect:()=>t.executeCommand("pasteFromClipboard"),visible:()=>t.hasEditableContent,keyboardShortcut:"meta+V"},{label:()=>rt("menu.select-all"),id:"select-all",keyboardShortcut:"meta+A",onMenuSelect:()=>t.executeCommand("selectAll")}]}function gd(t){var e,r;let n=(r=(e=t.model.parentEnvironment)==null?void 0:e.environmentName)!=null?r:"";return["array","matrix","pmatrix","bmatrix","vmatrix","Bmatrix"].includes(n)}function UIe(t){let e=t.model.at(t.model.position);if(e.type!=="array")return!1;let r=e.environmentName;return["matrix","pmatrix","bmatrix","vmatrix","Bmatrix"].includes(r)}function cC(t){var e;let r=(e=t.model.parentEnvironment)==null?void 0:e.rows;return r?[r.length,r.reduce((n,i)=>Math.max(n,i.length),0)]:[0,0]}function wc(t){let e=t.model.parentEnvironment;return e?[e.minRows,e.minColumns]:[0,0]}function yh(t){let e=t.model.parentEnvironment;return e?[e.maxRows,e.maxColumns]:[0,0]}function Fp(t,e){D5(t),t.flushInlineShortcutBuffer(),ene(t.model,e),ir(t)}function RIe(t){var e,r;let n;if(t.model.selectionIsCollapsed?n=(e=globalThis.MathfieldElement.computeEngine)==null?void 0:e.parse(t.getValue(),{canonical:!1}):n=(r=globalThis.MathfieldElement.computeEngine)==null?void 0:r.parse(t.getValue(t.model.selection),{canonical:!1}),!n)return"";let i=n.evaluate();return i.isSame(n)&&(i=n.N()),i.latex}function uC(t,e,r,n){return{id:`variant-${e}`,label:()=>{var i;return It(t).length<12?Yr(`\\${r}{${It(t)}}`):(i=rt(n))!=null?i:n},class:"ML__xl",tooltip:()=>{var i;return(i=rt(n))!=null?i:n},visible:()=>MIe(t,e),checked:()=>{var i;return(i={some:"mixed",all:!0}[t.queryStyle({variant:e})])!=null?i:!1},onMenuSelect:()=>t.applyStyle({variant:e},{operation:"toggle"})}}function dC(t,e,r,n){return{id:`variant-style-${e}`,label:()=>{var i;let s=It(t);return s.length>0&&s.length<12?Yr(`\\${r}{${It(t)}}`):(i=rt(n))!=null?i:n},class:()=>{let i=It(t);return i.length>0&&i.length<12?"ML__xl":""},tooltip:()=>{var i;return(i=rt(n))!=null?i:n},visible:e==="bold"?!0:()=>FIe(t),checked:()=>{var i;return(i={some:"mixed",all:!0}[t.queryStyle({variantStyle:e})])!=null?i:!1},onMenuSelect:()=>t.applyStyle({variantStyle:e},{operation:"toggle"})}}function QIe(t){return[{label:()=>rs("abs"),id:"insert-abs",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("|#?|")},{label:()=>rs("nth-root"),id:"insert-nth-root",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\sqrt[#?]{#?}")},{label:()=>rs("log-base"),id:"insert-log-base",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\log_{#?}{#?}")},{type:"heading",label:()=>rt("menu.insert.heading-calculus")},{label:()=>rs("derivative"),id:"insert-derivative",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\dfrac{\\mathrm{d}}{\\mathrm{d}x}#?\\bigm|_{x=#?}")},{label:()=>rs("nth-derivative"),id:"insert-nth-derivative",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\dfrac{\\mathrm{d}^#?}{\\mathrm{d}x^#?}#?\\bigm|_{x=#?}")},{label:()=>rs("integral"),id:"insert-integral",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\int_#?^#?#?\\,\\mathrm{d}#?")},{label:()=>rs("sum"),id:"insert-sum",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\sum_#?^#?#?")},{label:()=>rs("product"),id:"insert-product",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\prod_#?^#?#?")},{type:"heading",label:()=>rt("menu.insert.heading-complex-numbers")},{label:()=>rs("modulus"),id:"insert-modulus",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\lvert#?\\rvert")},{label:()=>rs("argument"),id:"insert-argument",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\arg(#?)")},{label:()=>rs("real-part"),id:"insert-real-part",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\Re(#?)")},{label:()=>rs("imaginary-part"),id:"insert-imaginary-part",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\Im(#?)")},{label:()=>rs("conjugate"),id:"insert-conjugate",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\overline{#?}")}]}function rs(t){return`<span class='ML__insert-template'> ${Yr(rt(`menu.insert.${t}-template`))}</span><span class="ML__insert-label">${rt(`menu.insert.${t}`)}</span>`}function Yc(t,e){return typeof t=="string"?t+TA(e):TA(t)}function p_(t){var e;let r;if(t.parent.type==="prompt")t.parentBranch==="body"&&(r="prompt");else if(t.parentBranch==="body"){if(t.type==="first"&&(t.parent.type==="root"?r="mathfield":t.parent.type==="surd"?r="radicand":t.parent.type==="genfrac"?r="fraction":t.parent.type==="sizeddelim"&&(r="delimiter"),r))return r;t.type==="subsup"?t.superscript&&t.subscript?r="superscript and subscript":t.superscript?r="superscript":t.subscript&&(r="subscript"):t.type&&(r=(e={accent:"accented",array:"array",box:"box",chem:"chemical formula",delim:"delimiter",enclose:"cross out","extensible-symbol":"extensible symbol",error:"error",first:"first",genfrac:"fraction",group:"group",latex:"LaTeX",leftright:"delimiter",line:"line",subsup:"subscript-superscript",operator:"operator",overunder:"over-under",placeholder:"placeholder",rule:"rule",sizeddelim:"delimiter",space:"space",spacing:"spacing",surd:"square root",text:"text",prompt:"prompt",root:"math field",mop:"operator"}[t.type])!=null?e:"parent")}else if(t.parent.type==="genfrac"){if(t.parentBranch==="above")return"numerator";if(t.parentBranch==="below")return"denominator"}else t.parent.type==="surd"?t.parentBranch==="above"&&(r="index"):t.parentBranch==="superscript"?r="superscript":t.parentBranch==="subscript"&&(r="subscript");return r??"parent"}function zIe(t,e,r,n){let i="";if(e==="plonk"){globalThis.MathfieldElement.playSound("plonk"),t.flushInlineShortcutBuffer();return}if(e==="delete")i=Yc("deleted: ",n);else if(e==="focus"||e.includes("move"))i=HIe(t.model,r),i+=$Ie(t.model);else if(e==="replacement")i=Yc(t.model.at(t.model.position));else if(e==="line"){let s=Yc(t.model.root);t.keyboardDelegate.setAriaLabel(s)}else i=n?Yc(e+" ",n):e;if(i){let s=t.ariaLiveText.textContent.includes(" ")?"   ":"   ";t.ariaLiveText.textContent=i+s}}function HIe(t,e){if(Number.isNaN(e))return"";let r=t.at(e);if(!r||r.treeDepth<=t.at(t.position).treeDepth)return"";let n="",i=r.parent,s=t.at(t.position).parent;for(;i!==t.root&&i!==s;)n+=`out of ${p_(i)};`,i=i.parent;return n}function $Ie(t){if(!t.selectionIsCollapsed)return`selected: ${Yc(t.getAtoms(t.selection))}`;let e="",r=t.at(t.position);if(r.isFirstSibling&&(e=`start of ${p_(r)}: `),r.isLastSibling){if(!r.isFirstSibling){if(!r.parent.parent)return`${Yc(r)}; end of mathfield`;e=`${Yc(r)}; end of ${p_(r)}`}}else e+=Yc(r);return e}var VIe=class{constructor(t,e,r){this.mathfield=t,this.mode=e,this.silenceNotifications=!1,this._selection={ranges:[[0,0]],direction:"none"},this._anchor=0,this._position=0,this.root=r}dispose(){this.mathfield=void 0}getState(){let t={ranges:[...this._selection.ranges]};return this.selection.direction&&this.selection.direction!=="none"&&(t.direction=this.selection.direction),{content:this.root.toJson(),selection:t,mode:this.mode}}setState(t,e){var r;let n=this.silenceNotifications;this.silenceNotifications=(r=e==null?void 0:e.silenceNotifications)!=null?r:!0;let i={};if((e==null?void 0:e.type)==="undo"&&(i={inputType:"historyUndo"}),(e==null?void 0:e.type)==="redo"&&(i={inputType:"historyRedo"}),this.contentWillChange(i)){let s=this.silenceNotifications;this.silenceNotifications=!0,this.mode=t.mode,this.root=du(t.content),this.selection=t.selection,this.silenceNotifications=s,this.contentDidChange(i),this.selectionDidChange()}this.silenceNotifications=n}get atoms(){return this.root.children}get selection(){return this._selection}set selection(t){this.setSelection(t)}setSelection(t,e){return!this.mathfield.contentEditable&&this.mathfield.userSelect==="none"?!1:this.deferNotifications({selection:!0,content:!0},()=>{var r,n,i;let s=this.normalizeSelection(t,e);if(s===void 0)throw new TypeError("Invalid selection");if(s.ranges.length===1&&s.ranges[0][0]===s.ranges[0][1]){let u=s.ranges[0][0];if(!this.mathfield.dirty&&!((r=this.at(u))!=null&&r.parentPrompt)&&this.mathfield.hasEditablePrompts){if((n=this.at(u-1))!=null&&n.parentPrompt){this._anchor=this.normalizeOffset(u-1),this._position=this._anchor,this._selection=this.normalizeSelection(this._anchor);return}if((i=this.at(u+1))!=null&&i.parentPrompt){this._anchor=this.normalizeOffset(u+1),this._position=this._anchor,this._selection=this.normalizeSelection(this._anchor);return}this._anchor=0,this._position=0,this._selection={ranges:[[0,0]]};return}this._anchor=u,this._position=u,this._selection=s;return}let a=On(s);s.direction==="backward"?[this._position,this._anchor]=a:[this._anchor,this._position]=a;let o=this.at(a[0]+1),l=this.at(a[1]),c=se.commonAncestor(o,l);(c==null?void 0:c.type)==="array"&&o.parent===c&&l.parent===c?this._selection={ranges:[a],direction:s.direction}:this._selection={ranges:[a],direction:s.direction},this._position>=0&&this._position<=this.lastOffset})}setPositionHandlingPlaceholder(t){var e;let r=this.at(t);(r==null?void 0:r.type)==="placeholder"?this.setSelection(t-1,t):((e=r==null?void 0:r.rightSibling)==null?void 0:e.type)==="placeholder"?this.setSelection(t,t+1):this.position=t,r instanceof ln&&r.isSuggestion&&(r.isSuggestion=!1),this.mathfield.stopCoalescingUndo()}get position(){return this._position}set position(t){this.setSelection(t,t)}get anchor(){return this._anchor}get selectionIsCollapsed(){return this._anchor===this._position}get selectionIsPlaceholder(){return Math.abs(this._anchor-this._position)===1?this.at(Math.max(this._anchor,this._position)).type==="placeholder":!1}collapseSelection(t="forward"){return this._anchor===this._position?!1:(t==="backward"?this.position=Math.min(this._anchor,this._position):this.position=Math.max(this._anchor,this._position),!0)}get lastOffset(){return this.atoms.length-1}at(t){return this.atoms[t]}offsetOf(t){return this.atoms.indexOf(t)}getSiblingsRange(t){let e=this.at(t),{parent:r}=e;if(!r)return[0,this.lastOffset];let n=e.parent.branch(e.parentBranch);return[this.offsetOf(n[0]),this.offsetOf(n[n.length-1])]}getBranchRange(t,e){let r=this.at(t).branch(e);return[this.offsetOf(r[0]),this.offsetOf(r[r.length-1])]}getCellRange(t){var e;this.getParentCell(t);let r=this.at(t);if(r){for(;r&&((e=r.parent)==null?void 0:e.type)!=="array";)r=r.parent;if(!(!(r!=null&&r.parent)||r.parent.type!=="array"))return[this.offsetOf(r.firstSibling),this.offsetOf(r.lastSibling)]}}getAtoms(t,e,r){let n=r??{};if(Sx(t)){if(n=e??{},t.ranges.length>1)return t.ranges.reduce((c,u)=>[...c,...this.getAtoms(u,n)],[]);t=t.ranges[0]}let i,s;if(jc(t)){if(i=t,!jc(e))return[];s=e}else[i,s]=t,n=e??{};if(!Number.isFinite(i))return[];n.includeChildren===void 0&&(n.includeChildren=!1),i<0&&(i=this.lastOffset-i+1),s<0&&(s=this.lastOffset+s+1);let a=Math.min(i,s)+1,o=Math.max(i,s);if(!n.includeChildren&&a===1&&o===this.lastOffset)return[this.root];let l=[];for(let c=a;c<=o;c++){let u=this.atoms[c];iH(this,u,a,o)&&l.push(u)}return n.includeChildren||(l=l.filter(c=>{let u=!1,{parent:d}=c;for(;d&&!u;)u=iH(this,d,a,o),d=d.parent;return!u})),l}findAtom(t,e=0,r="forward"){let n,i=this.lastOffset;if(r==="forward"){for(let s=e;s<=i;s++)if(n=this.atoms[s],t(n))return n;for(let s=0;s<e;s++)if(n=this.atoms[s],t(n))return n;return}for(let s=e;s>=0;s--)if(n=this.atoms[s],t(n))return n;for(let s=i;s>e;s--)if(n=this.atoms[s],t(n))return n}extractAtoms(t){var e;let r=this.getAtoms(t);r.length===1&&!r[0].parent&&r[0].isRoot&&(r=[...(e=r[0].body)!=null?e:r[0].children],r.shift());for(let n of r)n.parent.removeChild(n);return r}deleteAtoms(t){t!=null||(t=[0,-1]),this.extractAtoms(t),this.position=t[0]}atomToString(t,e){let r=e??"latex";if(r.startsWith("latex"))return se.serialize([t],{expandMacro:r==="latex-expanded",skipStyles:r==="latex-unstyled",skipPlaceholders:r==="latex-without-placeholders",defaultMode:this.mathfield.options.defaultMode});if(r==="math-ml")return St(t);if(r==="spoken")return TA(t);if(r==="spoken-text"){let n=globalThis.MathfieldElement.textToSpeechMarkup;globalThis.MathfieldElement.textToSpeechMarkup="";let i=TA(t);return globalThis.MathfieldElement.textToSpeechMarkup=n,i}if(r==="spoken-ssml"||r==="spoken-ssml-with-highlighting"){let n=globalThis.MathfieldElement.textToSpeechMarkup;globalThis.MathfieldElement.textToSpeechMarkup="ssml";let i=TA(t);return globalThis.MathfieldElement.textToSpeechMarkup=n,i}return r==="plain-text"?tr(t,{plain:!0}):r==="ascii-math"?tr(t):(console.error(`MathLive 0.104.0: Unexpected format "${r}`),"")}getValue(t,e,r){if(t===void 0)return this.atomToString(this.root,"latex");if(typeof t=="string"&&t!=="math-json")return this.atomToString(this.root,t);let n,i;if(jc(t)&&jc(e)?(n=[this.normalizeRange([t,e])],i=r):w3(t)?(n=[this.normalizeRange(t)],i=e):Sx(t)?(n=t.ranges,i=e):(n=[this.normalizeRange([0,-1])],i=t),i!=null||(i="latex"),i==="math-json"){if(!globalThis.MathfieldElement.computeEngine)return window[Symbol.for("io.cortexjs.compute-engine")]||console.error(`The CortexJS Compute Engine library is not available.
Load the library, for example with:
import "https://unpkg.com/@cortex-js/compute-engine?module"`),'["Error", "compute-engine-not-available"]';let s=this.getValue({ranges:n},"latex-unstyled");try{let a=globalThis.MathfieldElement.computeEngine.parse(s);return JSON.stringify(a.json)}catch(a){return JSON.stringify(["Error",`'${a.toString()}'`])}}if(i.startsWith("latex")){let s={expandMacro:i==="latex-expanded",skipStyles:i==="latex-unstyled",skipPlaceholders:i==="latex-without-placeholders",defaultMode:this.mathfield.options.defaultMode};return lt(n.map(a=>se.serialize(this.getAtoms(a),s)))}return n.map(s=>this.getAtoms(s).map(a=>this.atomToString(a,i)).join("")).join("")}extendSelectionTo(t,e){return!this.mathfield.contentEditable&&this.mathfield.userSelect==="none"?!1:this.deferNotifications({selection:!0},()=>{let r=this.normalizeRange([t,e]),[n,i]=r,{parent:s}=this.at(i);if(s&&(s.type==="genfrac"||s.type==="subsup"))for(;s!==this.root&&hC(this,s,[n,i]);)i=this.offsetOf(s),s=s.parent;for(s=this.at(n).parent;s!==this.root&&hC(this,s,[n,i]);)n=this.offsetOf(s.leftSibling),s=s.parent;if(s=this.at(i).parent,(s==null?void 0:s.type)==="genfrac")for(;s!==this.root&&hC(this,s,[n,i]);)i=this.offsetOf(s),s=s.parent;this._position=this.normalizeOffset(e),this._selection={ranges:[[n,i]],direction:"none"}})}announce(t,e,r=[]){var n,i;((i=(n=this.mathfield.host)==null?void 0:n.dispatchEvent(new CustomEvent("announce",{detail:{command:t,previousPosition:e,atoms:r},cancelable:!0,bubbles:!0,composed:!0})))==null||i)&&zIe(this.mathfield,t,e,r)}deferNotifications(t,e){let r=this._selection,n=this._anchor,i=this._position,s=this.silenceNotifications;this.silenceNotifications=!0;let a=this.root.changeCounter;e(),this.silenceNotifications=s;let o=n!==this._anchor||i!==this._position||lLe(this._selection,r)==="different";t.selection&&o&&this.selectionDidChange();let l=this.root.changeCounter!==a;return t.content&&l&&this.contentDidChange({inputType:t.type}),l||o}normalizeOffset(t){return t>0?t=Math.min(t,this.lastOffset):t<0&&(t=this.lastOffset+t+1),t}normalizeRange(t){let[e,r]=t;return e=this.normalizeOffset(e),r=this.normalizeOffset(r),e<r?[e,r]:[r,e]}normalizeSelection(t,e){var r;let n;if(jc(t)){let i=this.normalizeOffset(t);if(jc(e)){let s=this.normalizeOffset(e);n=i<=s?{ranges:[[i,s]],direction:"none"}:{ranges:[[s,i]],direction:"backward"}}else n={ranges:[[i,i]],direction:"none"}}else if(w3(t)){let i=this.normalizeOffset(t[0]),s=this.normalizeOffset(t[1]);n=i<=s?{ranges:[[i,s]],direction:"none"}:{ranges:[[s,i]],direction:"backward"}}else Sx(t)&&(n={ranges:t.ranges.map(i=>this.normalizeRange(i)),direction:(r=t.direction)!=null?r:"none"});return n}get parentEnvironment(){let t=this.at(this.position).parent;if(t){for(;t.parent&&t.type!=="array";)t=t.parent;if(t.type==="array")return t}}get parentCell(){return this.getParentCell(this.position)}getParentCell(t){var e;let r=this.at(t);if(r){for(;r&&((e=r.parent)==null?void 0:e.type)!=="array";)r=r.parent;if(!(!(r!=null&&r.parent)||r.parent.type!=="array"))return r.parentBranch}}contentWillChange(t={}){if(this.silenceNotifications||!this.mathfield)return!0;let e=this.silenceNotifications;this.silenceNotifications=!0;let r=this.mathfield.onContentWillChange(t);return this.silenceNotifications=e,r}contentDidChange(t){if(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Ic(this.mathfield)),this.silenceNotifications||!this.mathfield.host||!this.mathfield)return;let e=this.silenceNotifications;this.silenceNotifications=!0,setTimeout(()=>{var r;!this.mathfield||!zc(this.mathfield)||!this.mathfield.host||this.mathfield.host.dispatchEvent(new InputEvent("input",G(P({},t),{data:t.data?t.data:(r=t.inputType)!=null?r:"",bubbles:!0,composed:!0})))},0),this.silenceNotifications=e}selectionDidChange(){if(!this.mathfield||(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Ic(this.mathfield)),this.silenceNotifications))return;let t=this.silenceNotifications;this.silenceNotifications=!0,this.mathfield.onSelectionDidChange(),this.silenceNotifications=t}};function iH(t,e,r,n){let i=t.offsetOf(e);if(i<r||i>n)return!1;if(!e.hasChildren)return!0;let s=t.offsetOf(e.firstChild);if(s>=r&&s<=n){let a=t.offsetOf(e.lastChild);if(a>=r&&a<=n)return!0}return!1}function hC(t,e,r){if(!(e!=null&&e.hasChildren))return!1;let[n,i]=r,s=t.offsetOf(e.firstChild),a=t.offsetOf(e.lastChild);return s>=n&&s<=i&&a>=s&&a<=i}function Xm(t,e,r,n){var i,s,a,o,l,c;let u=r.parent;if($l(n)&&u&&u instanceof ht&&u.isMultiline&&u.rows.length>1){let[d,A]=n;if(u.rows[d].length===1){let f=u.getCell(d,A);if(u.removeRow(d),e==="backward"){let p=u.getCell(d-1,0);t.position=t.offsetOf(p[p.length-1]),u.setCell(d-1,0,[...p,...f])}else{let p=u.getCell(d,0);t.position=t.offsetOf(p[0]),u.setCell(d,0,[...f,...p])}return!0}}if(u&&r instanceof pr){let d=!n&&e==="forward"||n==="body"&&e==="backward",A=d?t.offsetOf(r.firstChild):t.offsetOf(r.lastChild);return d?r.rightDelim!=="?"&&r.rightDelim!=="."?(r.leftDelim=".",r.isDirty=!0):(u.addChildrenAfter(r.removeBranch("body"),r),u.removeChild(r),A--):r.leftDelim!=="?"&&r.leftDelim!=="."?(r.rightDelim=".",r.isDirty=!0):(u.addChildrenAfter(r.removeBranch("body"),r),u.removeChild(r),A--),t.position=A,!0}if(u&&r.type==="surd"){if(e==="forward"&&!n||e==="backward"&&n==="body"){let d=r.leftSibling;r.hasChildren&&u.addChildrenAfter(r.removeBranch("body"),r),u.removeChild(r),t.position=t.offsetOf(d)}else e==="forward"&&n==="body"?t.position=t.offsetOf(r):!n&&e==="backward"?r.hasChildren?t.position=t.offsetOf(r.lastChild):(t.position=Math.max(0,t.offsetOf(r)-1),u.removeChild(r)):n==="above"&&(r.hasEmptyBranch("above")&&r.removeBranch("above"),e==="backward"?t.position=t.offsetOf(r.leftSibling):t.position=t.offsetOf(r.body[0]));return!0}if(u&&(r.type==="box"||r.type==="enclose")){let d=n&&e==="backward"||!n&&e==="forward"?r.leftSibling:r.lastChild;return u.addChildrenAfter(r.removeBranch("body"),r),u.removeChild(r),t.position=t.offsetOf(d),!0}if(r.type==="genfrac"||r.type==="overunder"){if(!n)return r.type==="overunder"&&r.hasEmptyBranch("body")||r.type==="genfrac"&&r.hasEmptyBranch("below")&&r.hasEmptyBranch("above")?!1:(t.position=t.offsetOf(e==="forward"?r.firstChild:r.lastChild),!0);let d=Nu.fractionNavigationOrder==="numerator-denominator"?"above":"below",A=d==="above"?"below":"above";if(u&&(e==="forward"&&n===d||e==="backward"&&n===A)){let f=r.removeBranch(d),p=r.removeBranch(A);return u.addChildrenAfter([...f,...p],r),u.removeChild(r),t.position=t.offsetOf(f.length>0?f[f.length-1]:p[0]),!0}return e==="backward"?t.position=t.offsetOf(r.leftSibling):t.position=t.offsetOf(r),!0}if(r.type==="extensible-symbol"||r.type==="subsup"){if(!n&&e==="forward")return!1;if(!n){if(r.subscript||r.superscript){let d=e==="forward"?(a=(i=r.superscript)==null?void 0:i[0])!=null?a:(s=r.subscript)==null?void 0:s[0]:(c=(o=r.subscript)==null?void 0:o[0].lastSibling)!=null?c:(l=r.superscript)==null?void 0:l[0].lastSibling;return d&&(t.position=t.offsetOf(d)),!0}return!1}if(!r.hasChildren&&r.type==="subsup"){let d=e==="forward"?t.offsetOf(r):Math.max(0,t.offsetOf(r)-1);return r.parent.removeChild(r),t.position=d,!0}if(n==="superscript")if(e==="backward"){let d=t.offsetOf(r.firstChild)-1;t.position=d}else r.subscript?t.position=t.offsetOf(r.subscript[0]):t.position=t.offsetOf(r);else n==="subscript"&&(e==="backward"&&r.superscript?t.position=t.offsetOf(r.superscript[0].lastSibling):e==="backward"?t.position=t.offsetOf(r.firstChild)-1:t.position=t.offsetOf(r));if(n&&r.hasEmptyBranch(n)&&(r.removeBranch(n),r.type==="subsup"&&!r.subscript&&!r.superscript)){let d=e==="forward"?t.offsetOf(r):Math.max(0,t.offsetOf(r)-1);r.parent.removeChild(r),t.position=d}return!0}if((u==null?void 0:u.type)==="genfrac"&&!n&&r.type!=="first"){let d=t.offsetOf(r.leftSibling);return u.removeChild(r),u.hasEmptyBranch("above")&&u.hasEmptyBranch("below")?(d=t.offsetOf(u.leftSibling),u.parent.removeChild(u),t.announce("delete",void 0,[u]),t.position=d,!0):(t.announce("delete",void 0,[r]),t.position=d,!0)}if(e==="backward"&&((u==null?void 0:u.command)==="\\ln"||(u==null?void 0:u.command)==="\\log")&&r.parentBranch!=="body"){let d=t.offsetOf(u.leftSibling);return u.parent.removeChild(u),t.announce("delete",void 0,[u]),t.position=d,!0}return!1}function KIe(t){return!t.mathfield.isSelectionEditable||!t.contentWillChange({inputType:"deleteContentBackward"})?!1:t.selectionIsCollapsed?t.deferNotifications({content:!0,selection:!0,type:"deleteContentBackward"},()=>{let e=t.at(t.position);if(!(e&&Xm(t,"backward",e))){if(e!=null&&e.isFirstSibling){if(Xm(t,"backward",e.parent,e.parentBranch))return;e=null}if(!e){t.announce("plonk");return}t.position=t.offsetOf(e.leftSibling),e.parent.removeChild(e),t.announce("delete",void 0,[e])}}):xa(t,On(t.selection),"deleteContentBackward")}function qIe(t){return!t.mathfield.isSelectionEditable||!t.contentWillChange({inputType:"deleteContentForward"})?!1:t.selectionIsCollapsed?t.deferNotifications({content:!0,selection:!0,type:"deleteContentForward"},()=>{var e,r;let n=t.at(t.position).rightSibling;if(n&&Xm(t,"forward",n))return;if(n){if(t.at(t.position).isLastSibling&&Xm(t,"forward",n.parent,n.parentBranch))return}else{if(n=t.at(t.position),n.isLastSibling&&Xm(t,"forward",n.parent,n.parentBranch))return;n=void 0}if(t.position===t.lastOffset||!n){t.announce("plonk");return}n.parent.removeChild(n);let i=(e=t.at(t.position))==null?void 0:e.rightSibling;for(;(i==null?void 0:i.type)==="subsup";)i.parent.removeChild(i),i=(r=t.at(t.position))==null?void 0:r.rightSibling;t.announce("delete",void 0,[n])}):xa(t,On(t.selection),"deleteContentForward")}function xa(t,e,r){let n=t.getAtoms(e);if(n.length>0&&n[0].parent){let i=n[0];for(;i&&!(i instanceof ht);)i=i.parent;let s=n[n.length-1];for(;s&&!(s instanceof ht);)s=s.parent;if(i&&i instanceof ht){let u=i;if(u&&s===u&&u.isMultiline){let[d,A]=[Math.min(t.position,t.anchor),Math.max(t.position,t.anchor)],[f,p]=t.at(d).parentBranch,[m,v]=t.at(A).parentBranch;if(m-f+1>2){t.extractAtoms([d,A]);for(let y=f+1;y<m;y++)u.removeRow(y);return t.position=d,!0}}}let a=n[0].parent.firstChild;a.type==="first"&&(a=a.rightSibling);let o=n[n.length-1].parent.lastChild,l=n[0];l.type==="first"&&(l=l.rightSibling);let c=n[n.length-1];if(l===a&&c===o){let u=n[0].parent;u.parent&&u.type!=="prompt"&&(e=[t.offsetOf(u.leftSibling),t.offsetOf(u)])}if(n.length===1&&n[0].type==="placeholder"&&n[0].parent.type==="genfrac"){let u=n[0].parent,d=n[0].parentBranch==="below"?"above":"below",A=t.offsetOf(u.leftSibling);return t.deferNotifications({content:!0,selection:!0,type:r},()=>{var f,p;let m=u.removeBranch(d);if(m.length===1&&m[0].type==="placeholder")(p=u.parent)==null||p.removeChild(u),t.position=Math.max(0,A);else{let v=u.parent.addChildrenAfter(m,u);(f=u.parent)==null||f.removeChild(u),t.position=t.offsetOf(v)}})}}return t.deferNotifications({content:!0,selection:!0,type:r},()=>t.deleteAtoms(e))}wi({deleteAll:t=>t.contentWillChange({inputType:"deleteContent"})&&xa(t,[0,-1],"deleteContent"),deleteForward:t=>qIe(t),deleteBackward:t=>KIe(t),deleteNextWord:t=>t.contentWillChange({inputType:"deleteWordForward"})&&xa(t,[t.anchor,r_(t,t.position,"forward")],"deleteWordForward"),deletePreviousWord:t=>t.contentWillChange({inputType:"deleteWordBackward"})&&xa(t,[t.anchor,r_(t,t.position,"backward")],"deleteWordBackward"),deleteToGroupStart:t=>t.contentWillChange({inputType:"deleteSoftLineBackward"})&&xa(t,[t.anchor,t.offsetOf(t.at(t.position).firstSibling)],"deleteSoftLineBackward"),deleteToGroupEnd:t=>t.contentWillChange({inputType:"deleteSoftLineForward"})&&xa(t,[t.anchor,t.offsetOf(t.at(t.position).lastSibling)],"deleteSoftLineForward"),deleteToMathFieldStart:t=>t.contentWillChange({inputType:"deleteHardLineBackward"})&&xa(t,[t.anchor,0],"deleteHardLineBackward"),deleteToMathFieldEnd:t=>t.contentWillChange({inputType:"deleteHardLineForward"})&&xa(t,[t.anchor,-1],"deleteHardLineForward")},{target:"model",audioFeedback:"delete",canUndo:!0,changeContent:!0,changeSelection:!0});var WIe=`<svg xmlns="http://www.w3.org/2000/svg" style="width: 21px;"  viewBox="0 0 576 512" role="img" aria-label="${rt("tooltip.toggle virtual keyboard")}"><path d="M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/></svg>`,GIe=`<svg xmlns="http://www.w3.org/2000/svg" style="height: 18px;" viewBox="0 0 448 512" role="img" aria-label="${rt("tooltip.menu")}"><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg>`,XIe=class{constructor(t,e){this.focusBlurInProgress=!1;var r,n,i;this.options=P(G(P({},Tx()),{macros:RF(),registers:Ite()}),T3(e)),this.eventController=new AbortController;let s=this.eventController.signal;e.eventSink&&(this.host=e.eventSink),this.element=t,t.mathfield=this,this.blurred=!0,this.keystrokeCaptionVisible=!1,this.suggestionIndex=0,this.inlineShortcutBuffer=[],this.inlineShortcutBufferFlushTimer=0,this.defaultStyle={},this.styleBias="left",this.options.defaultMode==="inline-math"?this.element.classList.add("ML__is-inline"):this.element.classList.remove("ML__is-inline"),this.dirty=!1;let a=(n=(r=e.value)!=null?r:this.element.textContent)!=null?n:"";a=a.trim();let o=jz(this.options),l=Js(a,{context:this.context}),c;l.length===1&&l[0].isRoot?c=l[0]:c=new se({type:"root",mode:o,body:l}),this.model=new VIe(this,o,c),this.undoManager=new Mje(this.model);let u=[];if(u.push("<span contenteditable=true role=textbox aria-autocomplete=none aria-multiline=false part=keyboard-sink class=ML__keyboard-sink autocapitalize=off autocomplete=off autocorrect=off spellcheck=false inputmode=none tabindex=0></span>"),u.push('<span part=container class=ML__container aria-hidden=true  style="visibility:hidden">'),u.push("<span part=content class=ML__content>"),u.push(Vre(this)),u.push("</span>"),window.mathVirtualKeyboard&&(u.push(`<div part=virtual-keyboard-toggle class=ML__virtual-keyboard-toggle role=button ${this.hasEditableContent?"":'style="display:none;"'} data-l10n-tooltip="tooltip.toggle virtual keyboard">`),u.push(WIe),u.push("</div>")),u.push('<div part=menu-toggle class=ML__menu-toggle role=button data-l10n-tooltip="tooltip.menu">'),u.push(GIe),u.push("</div>"),u.push("</span>"),u.push("<span class=ML__sr-only>"),u.push("<span role=status aria-live=assertive aria-atomic=true></span>"),u.push("</span>"),this.element.innerHTML=globalThis.MathfieldElement.createHTML(u.join("")),!this.element.children){console.error("%cMathLive 0.104.0: Something went wrong and the mathfield could not be created.%c\nIf you are using Vue, this may be because you are using the runtime-only build of Vue. Make sure to include `runtimeCompiler: true` in your Vue configuration. There may a warning from Vue in the log above.","color:red;font-family:system-ui;font-size:1.2rem;font-weight:bold","color:inherit;font-family:system-ui;font-size:inherit;font-weight:inherit");return}this._l10Subscription=ot.subscribe(()=>ot.update(this.element)),ot.update(this.element),this.field=this.element.querySelector("[part=content]"),this.field.addEventListener("click",A=>A.stopImmediatePropagation(),{capture:!1,signal:s}),this.field.addEventListener("wheel",this,{passive:!1,signal:s}),"PointerEvent"in window?this.field.addEventListener("pointerdown",this,{signal:s}):this.field.addEventListener("mousedown",this,{signal:s}),(i=this.element.querySelector("[part=virtual-keyboard-toggle]"))==null||i.addEventListener("click",()=>{window.mathVirtualKeyboard.visible?window.mathVirtualKeyboard.hide():(window.mathVirtualKeyboard.show({animate:!0}),window.mathVirtualKeyboard.update(Ic(this)))},{signal:s}),this.field.addEventListener("contextmenu",this,{signal:s});let d=this.element.querySelector("[part=menu-toggle]");d==null||d.addEventListener("pointerdown",A=>{if(A.currentTarget!==d)return;let f=this.menu;if(f.state!=="closed")return;this.element.classList.add("tracking");let p=d.getBoundingClientRect();f.modifiers=Wd(A),f.show({target:d,location:{x:p.left,y:p.bottom},onDismiss:()=>this.element.classList.remove("tracking")}),A.preventDefault(),A.stopPropagation()},{signal:s}),(this.model.atoms.length<=1||this.disabled||this.readOnly&&!this.hasEditableContent||this.userSelect==="none")&&(d.style.display="none"),this.ariaLiveText=this.element.querySelector("[role=status]"),this.keyboardDelegate=NNe(this.element.querySelector(".ML__keyboard-sink"),this.element,this),window.addEventListener("resize",this,{signal:s}),document.addEventListener("scroll",this,{signal:s}),this.resizeObserver=new ResizeObserver(A=>{if(this.resizeObserverStarted){this.resizeObserverStarted=!1;return}ir(this)}),this.resizeObserverStarted=!0,this.resizeObserver.observe(this.field),window.mathVirtualKeyboard.addEventListener("virtual-keyboard-toggle",this,{signal:s}),cs!=="ready"&&document.fonts.ready.then(()=>M3(this)),t.querySelector("[part=container]").style.removeProperty("visibility"),this.undoManager.startRecording(),this.undoManager.snapshot("set-value"),ir(this)}connectToVirtualKeyboard(){this.connectedToVirtualKeyboard||(this.connectedToVirtualKeyboard=!0,window.addEventListener("message",this,{signal:this.eventController.signal}),window.mathVirtualKeyboard.connect(),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Ic(this)),jv(this))}disconnectFromVirtualKeyboard(){this.connectedToVirtualKeyboard&&(window.removeEventListener("message",this),window.mathVirtualKeyboard.disconnect(),this.connectedToVirtualKeyboard=!1,c_())}showMenu(t){var e,r;let n=(r=(e=t==null?void 0:t.location)!=null?e:kx(this.field))!=null?r:void 0,i=t==null?void 0:t.modifiers,s=this.element.querySelector("[part=container]");return this._menu.show({target:s,location:n,modifiers:i})}get colorMap(){return t=>{var e,r,n;return(n=(r=(e=this.options).colorMap)==null?void 0:r.call(e,t))!=null?n:w5(t)}}get backgroundColorMap(){return t=>{var e,r,n,i,s,a;return(a=(s=(r=(e=this.options).backgroundColorMap)==null?void 0:r.call(e,t))!=null?s:(i=(n=this.options).colorMap)==null?void 0:i.call(n,t))!=null?a:OF(t)}}get smartFence(){var t;return(t=this.options.smartFence)!=null?t:!1}get readOnly(){var t;return(t=this.options.readOnly)!=null?t:!1}get disabled(){var t,e;return(e=(t=this.host)==null?void 0:t.disabled)!=null?e:!1}get contentEditable(){return this.host?this.host.getAttribute("contenteditable")!=="false":!1}get userSelect(){if(!this.host)return"";let t=getComputedStyle(this.host);return t.getPropertyValue("user-select")||t.getPropertyValue("-webkit-user-select")}get hasEditableContent(){return this.disabled||!this.contentEditable?!1:!this.readOnly||this.hasEditablePrompts}get hasEditablePrompts(){return this.readOnly&&!this.disabled&&this.contentEditable&&this.model.findAtom(t=>t.type==="prompt"&&!t.locked)!==void 0}get isSelectionEditable(){if(this.disabled||!this.contentEditable)return!1;if(!this.readOnly)return!0;let t=this.model.at(this.model.anchor),e=this.model.at(this.model.position),r=se.commonAncestor(t,e);return!!((r==null?void 0:r.type)==="prompt"||r!=null&&r.parentPrompt)}get letterShapeStyle(){var t;return(t=this.options.letterShapeStyle)!=null?t:"tex"}get minFontScale(){return this.options.minFontScale}get maxMatrixCols(){return this.options.maxMatrixCols}queryStyle(t){let e=JS(this,t);"verbatimColor"in e&&delete e.verbatimColor,"verbatimBackgroundColor"in e&&delete e.verbatimBackgroundColor;let r=Object.keys(e).length;if(r===0)return"all";if(r>1){for(let l of Object.keys(e)){let c=this.queryStyle({[l]:e[l]});if(c==="none")return"none";if(c==="some")return"some"}return"all"}let n=Object.keys(e)[0],i=e[n];if(this.model.selectionIsCollapsed)return tf(this)[n]===i?"all":"none";let s=this.model.getAtoms(this.model.selection,{includeChildren:!0}),a=s.length;if(a===0)return"none";let o=0;for(let l of s){if(l.type==="first"){a-=1;continue}l.style[n]===i&&(o+=1)}return o===0?"none":o===a?"all":"some"}get keybindings(){var t,e;if(this._keybindings)return this._keybindings;let[r,n]=UNe(this.options.keybindings,(t=i1())!=null?t:TNe());return((e=i1())==null?void 0:e.score)>0&&(this._keybindings=r,n.length>0&&console.error("MathLive 0.104.0: Invalid keybindings for current keyboard layout",n)),r}get menu(){return this._menu!=null||(this._menu=new Xz(PIe(this),{host:this.host})),this._menu}set menuItems(t){this._menu?this._menu.menuItems=t:this._menu=new Xz(t,{host:this.host})}setOptions(t){var e;this.options=P(P({},this.options),T3(t)),this._keybindings=void 0,this.options.defaultMode==="inline-math"?this.element.classList.add("ML__is-inline"):this.element.classList.remove("ML__is-inline");let r=this.options.defaultMode;r==="inline-math"&&(r="math"),((e=this.model.root.firstChild)==null?void 0:e.mode)!==r&&(this.model.root.firstChild.mode=r),this.options.readOnly&&this.hasFocus()&&window.mathVirtualKeyboard.visible&&this.executeCommand("hideVirtualKeyboard");let n=se.serialize([this.model.root],{expandMacro:!1,defaultMode:this.options.defaultMode});("macros"in t||this.model.getValue()!==n)&&Kre(this),("value"in t||"registers"in t||"colorMap"in t||"backgroundColorMap"in t||"letterShapeStyle"in t||"minFontScale"in t||"maxMatrixCols"in t||"readOnly"in t||"placeholderContent"in t||"placeholderSymbol"in t)&&ir(this)}getOptions(t){return Id(this.options,t)}getOption(t){return Id(this.options,t)}async handleEvent(t){var e;if(zc(this)){if(rT(t)){if(!VF(t.origin,(e=this.options.originValidator)!=null?e:"none"))throw new DOMException(`Message from unknown origin (${t.origin}) cannot be handled`,"SecurityError");let{action:r}=t.data;if(r==="execute-command"){let n=s1(t.data.command);if(!n||EA(n)==="virtual-keyboard")return;this.executeCommand(n)}else r==="update-state"||(r==="focus"?this.focus({preventScroll:!0}):r==="blur"&&this.blur());return}switch(t.type){case"focus":this.onFocus();break;case"blur":this.onBlur();break;case"mousedown":this.userSelect!=="none"&&Qz(this,t);break;case"pointerdown":!t.defaultPrevented&&this.userSelect!=="none"&&(Qz(this,t),t.shiftKey===!1&&await Yz(t,this.element.querySelector("[part=container]"),this.menu)&&L3.stop());break;case"contextmenu":this.userSelect!=="none"&&t.shiftKey===!1&&await Yz(t,this.element.querySelector("[part=container]"),this.menu)&&L3.stop();break;case"virtual-keyboard-toggle":this.hasFocus()&&jv(this);break;case"resize":this.geometryChangeTimer&&cancelAnimationFrame(this.geometryChangeTimer),this.geometryChangeTimer=requestAnimationFrame(()=>zc(this)&&this.onGeometryChange());break;case"scroll":this.geometryChangeTimer&&cancelAnimationFrame(this.geometryChangeTimer),this.geometryChangeTimer=requestAnimationFrame(()=>zc(this)&&this.onGeometryChange());break;case"wheel":this.onWheel(t);break;case"message":break;default:console.warn("Unexpected event type",t.type)}}}dispose(){if(!zc(this))return;ot.unsubscribe(this._l10Subscription),this.keyboardDelegate.dispose(),this.keyboardDelegate=void 0,this.eventController.abort(),this.eventController=void 0,this.resizeObserver.disconnect(),window.mathVirtualKeyboard.removeEventListener("virtual-keyboard-toggle",this),this.disconnectFromVirtualKeyboard(),this.model.dispose();let t=this.element;delete t.mathfield,this.element=void 0,this.host=void 0,this.field=void 0,this.ariaLiveText=void 0,Rje(),VNe(),aIe()}flushInlineShortcutBuffer(t){if(t!=null||(t={defer:!1}),!t.defer){this.inlineShortcutBuffer=[],clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=0;return}this.options.inlineShortcutTimeout>0&&(clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=setTimeout(()=>this.flushInlineShortcutBuffer(),this.options.inlineShortcutTimeout))}executeCommand(t){return EA(t)==="virtual-keyboard"?(this.focus({preventScroll:!0}),window.mathVirtualKeyboard.executeCommand(t),requestAnimationFrame(()=>window.mathVirtualKeyboard.update(Ic(this))),!1):JNe(this,t)}get errors(){return GLe(this.model.getValue(),{context:this.context})}getValue(t,e,r){return this.model.getValue(t,e,r)}setValue(t,e){var r;e=e??{mode:"math"},e.insertionMode===void 0&&(e.insertionMode="replaceAll"),(e.format===void 0||e.format==="auto")&&(e.format="latex"),(e.mode===void 0||e.mode==="auto")&&(e.mode=(r=uLe(this.model,this.model.position))!=null?r:"math");let n=this.undoManager.canUndo();$t.insert(this.model,t,e)&&(ir(this),n||this.undoManager.reset(),this.undoManager.snapshot("set-value"))}get expression(){let t=globalThis.MathfieldElement.computeEngine;return t?t.box(t.parse(this.model.getValue("latex-unstyled"))):(console.error("MathLive 0.104.0:  no compute engine available. Make sure the Compute Engine library is loaded."),null)}scrollIntoView(){var t;if(!this.element)return;if(this.host){if(this.options.onScrollIntoView)this.options.onScrollIntoView(this);else if(this.host.scrollIntoView({block:"nearest",inline:"nearest"}),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.container===window.document.body){let n=window.mathVirtualKeyboard.boundingRect,i=this.host.getBoundingClientRect();i.bottom>n.top&&((t=window.document.scrollingElement)==null||t.scrollBy(0,i.bottom-n.top+8))}}this.dirty&&a0(this,{interactive:!0});let e=this.field.getBoundingClientRect(),r=null;if(this.model.selectionIsCollapsed)r=kx(this.field);else{let n=Vte(this);if(n.length>0){let i=-1/0,s=-1/0;for(let a of n)a.right>i&&(i=a.right),a.top<s&&(s=a.top);r={x:i+e.left-this.field.scrollLeft,y:s+e.top-this.field.scrollTop,height:0}}}if(this.host&&r){let n=this.host.getBoundingClientRect(),i=r.y,s=this.host.scrollTop;i<n.top?s=i-n.top+this.host.scrollTop:i>n.bottom&&(s=i-n.bottom+this.host.scrollTop+r.height),this.host.scroll({top:s,left:0})}if(r){let n=r.x-window.scrollX,i=this.field.scrollLeft;n<e.left?i=n-e.left+this.field.scrollLeft-20:n>e.right&&(i=n-e.right+this.field.scrollLeft+20),this.field.scroll({top:this.field.scrollTop,left:i})}}insert(t,e){if(typeof t!="string"||t.length===0&&((e==null?void 0:e.insertionMode)==="insertBefore"||(e==null?void 0:e.insertionMode)==="insertAfter")||t.length===0&&this.model.selectionIsCollapsed)return!1;if(this.flushInlineShortcutBuffer(),e=e??{mode:"math"},e.focus&&this.focus(),e.feedback&&(globalThis.MathfieldElement.keypressVibration&&wte()&&navigator.vibrate(qre),globalThis.MathfieldElement.playSound("keypress")),t==="\\\\")Jre(this.model);else if(t==="&")Zre(this.model);else if(this.model.selectionIsCollapsed){let r=P({},tf(this));!/^[a-zA-Z0-9]$/.test(t)&&this.styleBias!=="none"&&(r.variant="normal",r.variantStyle=void 0),$t.insert(this.model,t,P({style:r},e))}else $t.insert(this.model,t,e);return this.snapshot(`insert-${this.model.at(this.model.position).type}`),ir(this),e.scrollIntoView&&this.scrollIntoView(),!0}switchMode(t,e="",r=""){if(this.model.mode===t||!this.hasEditableContent||!this.contentEditable||this.disabled)return;let{model:n}=this,i=n.mode;if(n.mode=t,this.host&&!this.host.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0}))){n.mode=i;return}n.mode=i,n.deferNotifications({content:!!r||!!e,selection:!0,type:"insertText"},()=>{let s=n.at(n.position),a=(u,d)=>{if(!u)return;let A=n.mode==="math"?Js(KS(u,{format:"ascii-math"})[1],{context:this.context}):[...u].map(f=>new Ff(f,f,{}));if(d.select){let f=s.parent.addChildrenAfter(A,s);n.setSelection(n.offsetOf(A[0].leftSibling),n.offsetOf(f))}else n.position=n.offsetOf(s.parent.addChildrenAfter(A,s));c=!0},o=(u,d)=>{let A=new Vm(u);s.parent.addChildAfter(A,s),d.select?n.setSelection(n.offsetOf(A.firstChild),n.offsetOf(A.lastChild)):n.position=n.offsetOf(A.lastChild),c=!0},l=()=>{let u=t==="latex"?"latex":t==="math"?"plain-text":"ascii-math",d=On(n.selection),A=this.model.getValue(d,u),f=this.model.extractAtoms(d);return f.length===1&&f[0].type==="placeholder"&&(A=r),s=n.at(d[0]),A},c=!1;if(this.flushInlineShortcutBuffer(),this.stopCoalescingUndo(),rf(this,"accept"),n.selectionIsCollapsed)a(e,{select:!1}),n.mode=t,t==="latex"?o(r,{select:!1}):a(r,{select:!1});else{let u=l();n.mode=t,t==="latex"?o(u,{select:!0}):a(u,{select:!0})}return ir(this),this.undoManager.snapshot(t==="latex"?"insert-latex":"insert"),c}),n.mode=t,window.mathVirtualKeyboard.update(Ic(this))}hasFocus(){return!this.blurred}focus(t){var e;this.hasFocus()||(this.keyboardDelegate.focus(),this.connectToVirtualKeyboard(),this.onFocus(),this.model.announce("line")),(e=t==null?void 0:t.preventScroll)!=null&&e||this.scrollIntoView()}blur(){this.disconnectFromVirtualKeyboard(),this.hasFocus()&&this.keyboardDelegate.blur()}select(){this.model.selection={ranges:[[0,this.model.lastOffset]]},this.focus()}applyStyle(t,e={}){var r;let n,i="set",s=!1;w3(e)?n=e:(e.operation==="toggle"&&(i="toggle"),n=e.range,s=(r=e.silenceNotifications)!=null?r:!1),n&&(n=this.model.normalizeRange(n)),n&&n[0]===n[1]&&(n=void 0);let a=JS(this,t);if(n===void 0&&this.model.selectionIsCollapsed){if(i==="set"){let l=P({},this.defaultStyle);"color"in a&&delete l.verbatimColor,"backgroundColor"in a&&delete l.verbatimBackgroundColor,this.defaultStyle=P(P({},l),a),this.styleBias="none";return}let o=P({},this.defaultStyle);for(let l of Object.keys(a))o[l]===a[l]?(l==="color"&&delete o.verbatimColor,l==="backgroundColor"&&delete o.verbatimBackgroundColor,delete o[l]):o[l]=a[l];this.defaultStyle=o,this.styleBias="none";return}this.model.deferNotifications({content:!s,type:"insertText"},()=>{if(n===void 0)for(let o of this.model.selection.ranges)WS(this.model,o,a,{operation:i});else WS(this.model,n,a,{operation:i})}),ir(this)}toggleContextMenu(){var t;let e=this.menu;if(!e.visible)return!1;if(e.state==="open")return e.hide(),!0;let r=(t=qte(this,this.model.position))==null?void 0:t.bounds;if(!r)return!1;let n={x:r.right,y:r.bottom};return e.show({target:this.element.querySelector("[part=container]"),location:n,onDismiss:()=>{var i;return(i=this.element)==null?void 0:i.focus()}}),!0}getPrompt(t){return this.model.findAtom(r=>r.type==="prompt"&&r.placeholderId===t)}getPromptValue(t,e){let r=this.getPrompt(t);if(!r)return"";let n=this.model.offsetOf(r.firstChild),i=this.model.offsetOf(r.lastChild);return this.model.getValue(n,i,e)}getPrompts(t){return this.model.atoms.filter(e=>e.type!=="prompt"?!1:t?!(t.id&&e.placeholderId!==t.id||t.locked&&e.locked!==t.locked||t.correctness==="undefined"&&e.correctness||t.correctness&&e.correctness!==t.correctness):!0).map(e=>e.placeholderId)}setPromptValue(t,e,r){if(e!==void 0){let n=this.getPrompt(t);if(!n){console.error(`MathLive 0.104.0: unknown prompt ${t}`);return}let i=this.model.getBranchRange(this.model.offsetOf(n),"body");this.model.setSelection(i),this.insert(e,G(P({},r),{insertionMode:"replaceSelection"}))}r!=null&&r.silenceNotifications&&(this.valueOnFocus=this.getValue()),ir(this)}setPromptState(t,e,r){let n=this.getPrompt(t);if(!n){console.error(`MathLive 0.104.0: unknown prompt ${t}`);return}e==="undefined"?n.correctness=void 0:typeof e=="string"&&(n.correctness=e),typeof r=="boolean"&&(n.locked=r,n.captureSelection=r),ir(this)}getPromptState(t){let e=this.getPrompt(t);return e?[e.correctness,e.locked]:(console.error(`MathLive 0.104.0: unknown prompt ${t}`),[void 0,!0])}getPromptRange(t){let e=this.getPrompt(t);return e?this.model.getBranchRange(this.model.offsetOf(e),"body"):(console.error(`MathLive 0.104.0: unknown prompt ${t}`),[0,0])}canUndo(){return this.undoManager.canUndo()}canRedo(){return this.undoManager.canRedo()}popUndoStack(){this.undoManager.pop()}snapshot(t){var e;this.undoManager.snapshot(t)&&(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Ic(this)),(e=this.host)==null||e.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"snapshot"}})))}stopCoalescingUndo(){this.undoManager.stopCoalescing(this.model.selection)}stopRecording(){this.undoManager.stopRecording()}startRecording(){this.undoManager.startRecording()}undo(){var t;this.undoManager.undo()&&((t=this.host)==null||t.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}redo(){var t;this.undoManager.redo()&&((t=this.host)==null||t.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"redo"}})))}resetUndo(){var t;(t=this.undoManager)==null||t.reset()}onSelectionDidChange(){var t,e;let r=this.model;if(this.keyboardDelegate.setValue(r.getValue(r.selection,"latex-expanded")),r.selectionIsCollapsed){let n=YF(r),i=r.position,s=r.at(i),a=(t=s.mode)!=null?t:jz(this.options);if(n&&(i<r.offsetOf(n.firstChild)-1||i>r.offsetOf(n.lastChild)+1))rf(this,"accept",{mode:a}),r.position=r.offsetOf(s);else{let o=r.at(i+1);(o==null?void 0:o.type)==="first"&&o.mode==="latex"?r.position=i+1:n&&(o==null?void 0:o.mode)!=="latex"?r.position=i-1:this.switchMode(a)}}(e=this.host)==null||e.dispatchEvent(new Event("selection-change",{bubbles:!0,composed:!0})),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Ic(this)),jv(this)}onContentWillChange(t){var e,r,n;return(n=(r=this.host)==null?void 0:r.dispatchEvent(new InputEvent("beforeinput",G(P({},t),{data:t.data?t.data:(e=t.inputType)!=null?e:"",cancelable:!0,bubbles:!0,composed:!0}))))!=null?n:!0}onFocus(){this.focusBlurInProgress||!this.blurred||(this.focusBlurInProgress=!0,this.blurred=!1,this.keyboardDelegate.focus(),this.stopCoalescingUndo(),a0(this,{interactive:!0}),this.valueOnFocus=this.model.getValue(),this.hasEditablePrompts&&!this.model.at(this.model.anchor).parentPrompt&&this.executeCommand("moveToNextPlaceholder"),this.focusBlurInProgress=!1)}onBlur(){var t,e,r;if(!(this.focusBlurInProgress||this.blurred)&&(this.focusBlurInProgress=!0,this.stopCoalescingUndo(),this.blurred=!0,this.ariaLiveText.textContent="",nf(this),this.model.getValue()!==this.valueOnFocus&&((t=this.host)==null||t.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),this.disconnectFromVirtualKeyboard(),(e=this.host)==null||e.dispatchEvent(new Event("blur",{bubbles:!1,composed:!0})),(r=this.host)==null||r.dispatchEvent(new UIEvent("focusout",{bubbles:!0,composed:!0})),ir(this),this.focusBlurInProgress=!1,c_(),sT.restoreFocusWhenDocumentFocused)){let n=new AbortController,i=n.signal;window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{zc(this)&&this.focus({preventScroll:!0})},{once:!0,signal:i})},{once:!0,signal:i}),document.addEventListener("focusin",()=>n.abort(),{once:!0}),document.addEventListener("click",()=>n.abort(),{once:!0})}}onInput(t){i_(this,t)}onKeystroke(t){return one(this,t)}onCompositionStart(t){xa(this.model,On(this.model.selection),"insertText");let e=kx(this.field);e&&requestAnimationFrame(()=>{a0(this),this.keyboardDelegate.moveTo(e.x,e.y-e.height)})}onCompositionUpdate(t){xje(this.model,t),ir(this)}onCompositionEnd(t){bje(this.model),i_(this,t,{simulateKeystroke:!0})}onCut(t){if(!this.isSelectionEditable){this.model.announce("plonk");return}this.model.contentWillChange({inputType:"deleteByCut"})&&(this.stopCoalescingUndo(),t.clipboardData?$t.onCopy(this,t):$t.copyToClipboard(this,"latex"),xa(this.model,On(this.model.selection),"deleteByCut"),this.snapshot("cut"),ir(this))}onCopy(t){t.clipboardData?$t.onCopy(this,t):$t.copyToClipboard(this,"latex")}onPaste(t){let e=this.isSelectionEditable;return e&&(e=$t.onPaste(this.model.at(this.model.position).mode,this,t.clipboardData)),e||this.model.announce("plonk"),t.preventDefault(),t.stopPropagation(),e}onGeometryChange(){var t;(t=this._menu)==null||t.hide(),N5(this),jv(this)}onWheel(t){let e=5*t.deltaX;if(!Number.isFinite(e)||e===0)return;let r=this.field;e<0&&r.scrollLeft===0||e>0&&r.offsetWidth+r.scrollLeft>=r.scrollWidth||(r.scrollBy({top:0,left:e}),t.preventDefault(),t.stopPropagation())}getHTMLElement(t){let e=t;for(;!e.id&&e.hasChildren;)e=t.children[0];return this.field.querySelector(`[data-atom-id="${e.id}"]`)}get context(){var t,e;return{registers:(t=this.options.registers)!=null?t:{},smartFence:this.smartFence,letterShapeStyle:this.letterShapeStyle,minFontScale:this.minFontScale,maxMatrixCols:this.maxMatrixCols,placeholderSymbol:(e=this.options.placeholderSymbol)!=null?e:"▢",colorMap:r=>this.colorMap(r),backgroundColorMap:r=>this.backgroundColorMap(r),getMacro:r=>Ete(r,this.options.macros),atomIdsSettings:{seed:"random",groupNumbers:!1}}}};wi({speak:(t,e,r)=>YIe(t,e,r)},{target:"mathfield"});function YIe(t,e,r){var n;r=r??{withHighlighting:!1};let{model:i}=t;function s(u){let d=null;switch(u){case"all":d=i.root;break;case"selection":d=i.getAtoms(i.selection);break;case"left":{d=i.getAtoms(i.offsetOf(i.at(i.position).leftSibling),i.position);break}case"right":{d=i.getAtoms(i.position,i.offsetOf(i.at(i.position).rightSibling));break}case"group":d=i.getAtoms(i.getSiblingsRange(i.position));break;case"parent":{let{parent:A}=i.at(i.position);A!=null&&A.parent?d=A:d=i.root;break}default:d=i.root}return d}function a(u){let d="";switch(u){case"all":console.error("Internal failure: speak all failed");break;case"selection":d="no selection";break;case"left":d="at start";break;case"right":d="at end";break;case"group":console.error("Internal failure: speak group failed");break;case"parent":d="no parent";break;default:console.error('unknown speak_ param value: "'+u+'"');break}return d}let o=globalThis.MathfieldElement,l=s(e);if(l===null)return(n=o.speakHook)==null||n.call(o,a(e)),!1;(r.withHighlighting||o.speechEngine==="amazon")&&(o.textToSpeechMarkup=globalThis.sre&&o.textToSpeechRules==="sre"?"ssml_step":"ssml");let c=TA(l);return sa()&&r.withHighlighting?(Mc().readAloudMathfield=t,a0(t,{forHighlighting:!0}),o.readAloudHook&&o.readAloudHook(t.field,c)):o.speakHook&&o.speakHook(c),!1}function JIe(t){var e,r;if(!sa())return;let n=globalThis.MathfieldElement;if(!n.speechEngine||n.speechEngine==="local"){let i=new SpeechSynthesisUtterance(t);globalThis.speechSynthesis.speak(i)}else if(n.speechEngine==="amazon")if(!("AWS"in window))console.error("MathLive 0.104.0: AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");else{let i=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),s={OutputFormat:"mp3",VoiceId:(e=n.speechEngineVoice)!=null?e:"Joanna",Engine:["Amy","Emma","Brian","Ivy","Joanna","Kendra","Kimberly","Salli","Joey","Justin","Matthew"].includes((r=n.speechEngineVoice)!=null?r:"Joanna")?"neural":"standard",Text:t,TextType:"ssml"};i.synthesizeSpeech(s,(a,o)=>{if(a)console.trace(`MathLive 0.104.0: \`polly.synthesizeSpeech()\` error: ${a}`);else if(o!=null&&o.AudioStream){let l=new Uint8Array(o.AudioStream),c=new Blob([l.buffer],{type:"audio/mpeg"}),u=URL.createObjectURL(c);new Audio(u).play().catch(d=>console.error(d))}})}else n.speechEngine==="google"&&console.error("MathLive 0.104.0: The Google speech engine is not supported yet. Please come again.")}function bne(t){if(t&&(t.classList.remove("ML__highlight"),t.children))for(let e of t.children)bne(e)}function m_(t,e){var r;t&&(!e||((r=t.dataset)==null?void 0:r.atomId)===e?(t.classList.add("ML__highlight"),t.children&&t.children.length>0&&[...t.children].forEach(n=>{n instanceof HTMLElement&&m_(n)})):(t.classList.remove("ML__highlight"),t.children&&t.children.length>0&&[...t.children].forEach(n=>{n instanceof HTMLElement&&m_(n,e)})))}function ZIe(t,e){var r;if(!sa())return;if(globalThis.MathfieldElement.speechEngine!=="amazon"){console.error("MathLive 0.104.0: Use Amazon TTS Engine for synchronized highlighting"),typeof globalThis.MathfieldElement.speakHook=="function"&&globalThis.MathfieldElement.speakHook(e);return}if(!globalThis.AWS){console.error("MathLive 0.104.0: AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");return}let n=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),i={OutputFormat:"json",VoiceId:(r=globalThis.MathfieldElement.speechEngineVoice)!=null?r:"Joanna",Engine:"standard",Text:e,TextType:"ssml",SpeechMarkTypes:["ssml"]};Mc().readAloudElement=t,n.synthesizeSpeech(i,(s,a)=>{if(s){console.trace(`MathLive 0.104.0: \`polly.synthesizeSpeech()\` error: ${s}`);return}if(!(a!=null&&a.AudioStream))return;let o=new TextDecoder("utf-8").decode(new Uint8Array(a.AudioStream));Mc().readAloudMarks=o.split(`
`).map(l=>l?JSON.parse(l):{}),Mc().readAloudTokens=[];for(let l of Mc().readAloudMarks)l.value&&Mc().readAloudTokens.push(l.value);Mc().readAloudCurrentMark="",i.OutputFormat="mp3",i.SpeechMarkTypes=[],n.synthesizeSpeech(i,(l,c)=>{if(l){console.trace(`MathLive 0.104.0: \`polly.synthesizeSpeech("${e}") error:${l}`);return}if(!(c!=null&&c.AudioStream))return;let u=new Uint8Array(c.AudioStream),d=new Blob([u.buffer],{type:"audio/mpeg"}),A=URL.createObjectURL(d),f=Mc();f.readAloudAudio?f.readAloudAudio.pause():(f.readAloudAudio=new Audio,f.readAloudAudio.addEventListener("ended",()=>{let p=f.readAloudMathfield;f.readAloudStatus="ended",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),p?(a0(p),f.readAloudElement=null,f.readAloudMathfield=null,f.readAloudTokens=[],f.readAloudMarks=[],f.readAloudCurrentMark=""):bne(f.readAloudElement)}),f.readAloudAudio.addEventListener("timeupdate",()=>{let p="",m=f.readAloudAudio.currentTime*1e3+100;for(let v of f.readAloudMarks)v.time<m&&(p=v.value);f.readAloudCurrentMark!==p&&(f.readAloudCurrentToken=p,p&&p===f.readAloudFinalToken?f.readAloudAudio.pause():(f.readAloudCurrentMark=p,m_(f.readAloudElement,f.readAloudCurrentMark)))})),f.readAloudAudio.src=A,f.readAloudStatus="playing",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),f.readAloudAudio.play()})})}sa()||console.error('MathLive 0.104.0: this version of the MathLive library is for use in the browser. A subset of the API is available on the server side in the "mathlive-ssr" library. If using server side rendering (with React for example) you may want to do a dynamic import of the MathLive library inside a `useEffect()` call.');var Et=new WeakMap,eOe=.5,Cc={letterShapeStyle:"mf.letterShapeStyle = ...",horizontalSpacingScale:'Removed. Use `"thinmuskip"`, `"medmuskip"`, and `"thickmuskip"` registers ',macros:"mf.macros = ...",registers:"mf.registers = ...",backgroundColorMap:"mf.backgroundColorMap = ...",colorMap:"mf.colorMap = ...",enablePopover:"mf.popoverPolicy = ...",mathModeSpace:"mf.mathModeSpace = ...",placeholderSymbol:"mf.placeholderSymbol = ...",readOnly:"mf.readOnly = ...",removeExtraneousParentheses:"mf.removeExtraneousParentheses = ...",scriptDepth:"mf.scriptDepth = ...",smartFence:"mf.smartFence = ...",smartMode:"mf.smartMode = ...",smartSuperscript:"mf.smartSuperscript = ...",inlineShortcutTimeout:"mf.inlineShortcutTimeout = ...",inlineShortcuts:"mf.inlineShortcuts = ...",keybindings:"mf.keybindings = ...",virtualKeyboardMode:"mf.mathVirtualKeyboardPolicy = ...",customVirtualKeyboardLayers:"mathVirtualKeyboard.layers = ...",customVirtualKeyboards:"mathVirtualKeyboard.layouts = ...",keypressSound:"mathVirtualKeyboard.keypressSound = ...",keypressVibration:"mathVirtualKeyboard.keypressVibration = ...",plonkSound:"mathVirtualKeyboard.plonkSound = ...",virtualKeyboardContainer:"mathVirtualKeyboard.container = ...",virtualKeyboardLayout:"mathVirtualKeyboard.alphabeticLayout = ...",virtualKeyboardTheme:"No longer supported",virtualKeyboardToggleGlyph:"No longer supported",virtualKeyboardToolbar:"mathVirtualKeyboard.editToolbar = ...",virtualKeyboards:"Use `mathVirtualKeyboard.layouts`",speechEngine:"`MathfieldElement.speechEngine`",speechEngineRate:"`MathfieldElement.speechEngineRate`",speechEngineVoice:"`MathfieldElement.speechEngineVoice`",textToSpeechMarkup:"`MathfieldElement.textToSpeechMarkup`",textToSpeechRules:"`MathfieldElement.textToSpeechRules`",textToSpeechRulesOptions:"`MathfieldElement.textToSpeechRulesOptions`",readAloudHook:"`MathfieldElement.readAloudHook`",speakHook:"`MathfieldElement.speakHook`",computeEngine:"`MathfieldElement.computeEngine`",fontsDirectory:"`MathfieldElement.fontsDirectory`",soundsDirectory:"`MathfieldElement.soundsDirectory`",createHTML:"`MathfieldElement.createHTML`",onExport:"`mf.onExport`",onInlineShortcut:"`mf.onInlineShortcut`",onScrollIntoView:"`mf.onScrollIntoView`",locale:"MathfieldElement.locale = ...",strings:"MathfieldElement.strings = ...",decimalSeparator:"MathfieldElement.decimalSeparator = ...",fractionNavigationOrder:"MathfieldElement.fractionNavigationOrder = ..."},Or=class Ec extends HTMLElement{constructor(e){if(super(),this._observer=null,e){let r=[];for(let n of Object.keys(e))if(Cc[n])if(Cc[n].startsWith("mf."))if(Cc[n].startsWith(`mf.${n}`))r.push(`Option \`${n}\` cannot be used as a constructor option. Use ${Cc[n]}`);else{let i=Cc[n].match(/([a-zA-Z]+) =/);r.push(`Option \`${n}\` has been renamed \`${i[1]}\``)}else r.push(`Option \`${n}\` cannot be used as a constructor option. Use ${Cc[n]}`);if(r.length>0){console.group("%cMathLive 0.104.0: %cInvalid Options","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),console.warn("Some of the options passed to `new MathfieldElement(...)` are invalid. \n          See mathfield/changelog/ for details.");for(let n of r)console.warn(n);console.groupEnd()}}if(vh()&&(this._internals=this.attachInternals(),this._internals.role="math",this._internals.ariaLabel="math input field",this._internals.ariaMultiLine="false"),this.attachShadow({mode:"open",delegatesFocus:!0}),this.shadowRoot&&"adoptedStyleSheets"in this.shadowRoot){this.shadowRoot.adoptedStyleSheets=[Eh("core"),Eh("mathfield"),Eh("mathfield-element"),Eh("ui"),Eh("menu")],this.shadowRoot.appendChild(document.createElement("span"));let r=document.createElement("slot");r.style.display="none",this.shadowRoot.appendChild(r)}else this.shadowRoot.innerHTML="<style>"+jd("core")+jd("mathfield")+jd("mathfield-element")+jd("ui")+jd("menu")+'</style><span></span><slot style="display:none"></slot>';e&&this._setOptions(e)}static get formAssociated(){return vh()}static get optionsAttributes(){return{"default-mode":"string","letter-shape-style":"string","min-font-scale":"number","max-matrix-cols":"number","popover-policy":"string","math-mode-space":"string","read-only":"boolean","remove-extraneous-parentheses":"on/off","smart-fence":"on/off","smart-mode":"on/off","smart-superscript":"on/off","inline-shortcut-timeout":"string","script-depth":"string",placeholder:"string","virtual-keyboard-target-origin":"string","math-virtual-keyboard-policy":"string"}}static get observedAttributes(){return[...Object.keys(this.optionsAttributes),"contenteditable","disabled","readonly","read-only"]}static get fontsDirectory(){return this._fontsDirectory}static set fontsDirectory(e){e!==this._fontsDirectory&&(this._fontsDirectory=e,WNe())}get fontsDirectory(){throw new Error("Use MathfieldElement.fontsDirectory instead")}set fontsDirectory(e){throw new Error("Use MathfieldElement.fontsDirectory instead")}static get soundsDirectory(){return this._soundsDirectory}static set soundsDirectory(e){this._soundsDirectory=e,this.audioBuffers={}}get soundsDirectory(){throw new Error("Use MathfieldElement.soundsDirectory instead")}set soundsDirectory(e){throw new Error("Use MathfieldElement.soundsDirectory instead")}static get keypressSound(){return this._keypressSound}static set keypressSound(e){var r,n,i;this.audioBuffers={},e===null?this._keypressSound={spacebar:null,return:null,delete:null,default:null}:typeof e=="string"?this._keypressSound={spacebar:e,return:e,delete:e,default:e}:typeof e=="object"&&"default"in e&&(this._keypressSound={spacebar:(r=e.spacebar)!=null?r:e.default,return:(n=e.return)!=null?n:e.default,delete:(i=e.delete)!=null?i:e.default,default:e.default})}static get plonkSound(){return this._plonkSound}static set plonkSound(e){this.audioBuffers={},this._plonkSound=e}static get audioContext(){return this._audioContext||(this._audioContext=new AudioContext),this._audioContext}static get speechEngine(){return this._speechEngine}static set speechEngine(e){this._speechEngine=e}static get speechEngineRate(){return this._speechEngineRate}static set speechEngineRate(e){this._speechEngineRate=e}static get speechEngineVoice(){return this._speechEngineVoice}static set speechEngineVoice(e){this._speechEngineVoice=e}static get textToSpeechMarkup(){return this._textToSpeechMarkup}static set textToSpeechMarkup(e){this._textToSpeechMarkup=e}static get textToSpeechRules(){return this._textToSpeechRules}static set textToSpeechRules(e){this._textToSpeechRules=e}static get textToSpeechRulesOptions(){return this._textToSpeechRulesOptions}static set textToSpeechRulesOptions(e){this._textToSpeechRulesOptions=e}static get locale(){return ot.locale}static set locale(e){e==="auto"&&(e=navigator.language.slice(0,5)),ot.locale=e}get locale(){throw new Error("Use MathfieldElement.locale instead")}set locale(e){throw new Error("Use MathfieldElement.locale instead")}static get strings(){return ot.strings}static set strings(e){ot.merge(e)}get strings(){throw new Error("Use MathfieldElement.strings instead")}set strings(e){throw new Error("Use MathfieldElement.strings instead")}static get decimalSeparator(){return this._decimalSeparator}static set decimalSeparator(e){this._decimalSeparator=e,this._computeEngine&&(this._computeEngine.decimalSeparator=this.decimalSeparator===","?"{,}":".")}get decimalSeparator(){throw new Error("Use MathfieldElement.decimalSeparator instead")}set decimalSeparator(e){throw new Error("Use MathfieldElement.decimalSeparator instead")}static get fractionNavigationOrder(){return Ex.fractionNavigationOrder}static set fractionNavigationOrder(e){if(e!=="numerator-denominator"&&e!=="denominator-numerator")throw new Error("Invalid value");Ex.fractionNavigationOrder!==e&&(Ex.fractionNavigationOrder=e,Dz())}static get computeEngine(){var e,r;if(this._computeEngine===void 0){let n=(e=window[Symbol.for("io.cortexjs.compute-engine")])==null?void 0:e.ComputeEngine;if(!n)return null;this._computeEngine=new n,this._computeEngine&&this.decimalSeparator===","&&(this._computeEngine.decimalSeparator="{,}")}return(r=this._computeEngine)!=null?r:null}static set computeEngine(e){this._computeEngine=e}get computeEngine(){throw new Error("Use MathfieldElement.computeEngine instead")}set computeEngine(e){throw new Error("Use MathfieldElement.computeEngine instead")}static get isFunction(){return typeof this._isFunction!="function"?()=>!1:this._isFunction}static set isFunction(e){this._isFunction=e,Dz()}static async loadSound(e){delete this.audioBuffers[e];let r="";switch(e){case"keypress":r=this._keypressSound.default;break;case"return":r=this._keypressSound.return;break;case"spacebar":r=this._keypressSound.spacebar;break;case"delete":r=this._keypressSound.delete;break;case"plonk":r=this.plonkSound;break}if(typeof r!="string")return;r=r.trim();let n=this.soundsDirectory;if(!(n==null||n==="null"||r==="none"||r==="null"))try{let i=await(await fetch(await $re(`${n}/${r}`))).arrayBuffer(),s=await this.audioContext.decodeAudioData(i);this.audioBuffers[e]=s}catch{}}static async playSound(e){if((this.audioContext.state==="suspended"||this.audioContext.state==="interrupted")&&await this.audioContext.resume(),this.audioBuffers[e]||await this.loadSound(e),!this.audioBuffers[e])return;let r=this.audioContext.createBufferSource();r.buffer=this.audioBuffers[e];let n=this.audioContext.createGain();n.gain.value=eOe,r.connect(n).connect(this.audioContext.destination),r.start()}showMenu(e){var r,n;return(n=(r=this._mathfield)==null?void 0:r.showMenu(e))!=null?n:!1}get mathVirtualKeyboard(){throw new Error("The `mathVirtualKeyboard` property is not available on the MathfieldElement. Use `window.mathVirtualKeyboard` instead.")}onPointerDown(){window.addEventListener("pointerup",e=>{let r=this._mathfield;if(r&&e.target===this&&!r.disabled){this.dispatchEvent(new MouseEvent("click",{altKey:e.altKey,button:e.button,buttons:e.buttons,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,movementX:e.movementX,movementY:e.movementY,relatedTarget:e.relatedTarget,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey}));let n=this.getOffsetFromPoint(e.clientX,e.clientY);n>=0&&Ec.openUrl(wLe(r,n)),e.pointerType==="touch"&&this.selectionIsCollapsed&&(this.position=n)}},{once:!0})}getPromptValue(e,r){var n,i;return(i=(n=this._mathfield)==null?void 0:n.getPromptValue(e,r))!=null?i:""}setPromptValue(e,r,n){var i;(i=this._mathfield)==null||i.setPromptValue(e,r,n)}getPromptRange(e){var r,n;return(n=(r=this._mathfield)==null?void 0:r.getPromptRange(e))!=null?n:null}getPrompts(e){var r,n;return(n=(r=this._mathfield)==null?void 0:r.getPrompts(e))!=null?n:[]}get form(){var e;return(e=this._internals)==null?void 0:e.form}get name(){var e;return(e=this.getAttribute("name"))!=null?e:""}get type(){return this.localName}get mode(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.model.mode)!=null?r:this.defaultMode==="text"?"text":"math"}set mode(e){var r;(r=this._mathfield)==null||r.switchMode(e)}get expression(){if(this._mathfield)return window[Symbol.for("io.cortexjs.compute-engine")]?this._mathfield.expression:(console.error(`MathLive 0.104.0: The CortexJS Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://unpkg.com/@cortex-js/compute-engine?module"`),null)}set expression(e){var r,n;if(!this._mathfield)return;let i=(n=(r=Ec.computeEngine)==null?void 0:r.box(e).latex)!=null?n:null;i!==null&&this._mathfield.setValue(i),window[Symbol.for("io.cortexjs.compute-engine")]||console.error(`MathLive 0.104.0: The Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://unpkg.com/@cortex-js/compute-engine?module"`)}get errors(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.errors)!=null?r:[]}_getOptions(e){return this._mathfield?Id(this._mathfield.options,e):Et.has(this)?P({},Id(P(P({},Tx()),T3(Et.get(this).options)),e)):null}getOptions(e){return console.warn("%cMathLive 0.104.0: %cDeprecated Usage%c\n      `mf.getOptions()` is deprecated. Read the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem","color: inherit, font-size: 1rem"),this._mathfield?Id(this._mathfield.options,e):Et.has(this)?Id(P(P({},Tx()),T3(Et.get(this).options)),e):null}reflectAttributes(){let e=Tx(),r=this._getOptions();Object.keys(Ec.optionsAttributes).forEach(n=>{let i=dl(n);Ec.optionsAttributes[n]==="on/off"?e[i]!==r[i]?this.setAttribute(n,r[i]?"on":"off"):this.removeAttribute(n):e[i]!==r[i]&&(Ec.optionsAttributes[n]==="boolean"?r[i]?this.setAttribute(n,""):this.removeAttribute(n):(typeof r[i]=="string"||typeof r[i]=="number")&&this.setAttribute(n,r[i].toString()))})}getOption(e){return console.warn("%cMathLive 0.104.0: %cDeprecated Usage%c\n      `mf.getOption()` is deprecated. Read the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem","color: inherit, font-size: 1rem"),this._getOptions([e])[e]}_getOption(e){return this._getOptions([e])[e]}_setOptions(e){if(this._mathfield)this._mathfield.setOptions(e);else if(Et.has(this)){let r=P(P({},Et.get(this).options),e);Et.set(this,G(P({},Et.get(this)),{selection:{ranges:r.readOnly?[[0,0]]:[[0,-1]]},options:r}))}else Et.set(this,{value:void 0,selection:{ranges:[[0,0]]},options:e,menuItems:void 0});this.reflectAttributes()}setOptions(e){console.group("%cMathLive 0.104.0: %cDeprecated Usage","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),console.warn(" `mf.setOptions()` is deprecated. Set the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.");for(let r of Object.keys(e))Cc[r]&&console.warn(`\`mf.setOptions({${r}:...})\` -> ${Cc[r]}`);console.groupEnd(),this._setOptions(e)}executeCommand(...e){var r,n;let i;if(e.length===1?i=e[0]:i=[e[0],...e.slice(1)],i)return(n=(r=this._mathfield)==null?void 0:r.executeCommand(i))!=null?n:!1;throw new Error("Invalid selector")}getValue(e,r,n){var i,s;if(this._mathfield)return this._mathfield.model.getValue(e,r,n);if(Et.has(this)){let a,o,l;if(Sx(e)?([a,o]=e.ranges[0],l=r):w3(e)?([a,o]=e,l=r):jc(e)&&jc(r)?(a=e,o=r,l=n):(a=0,o=-1,l=e),(l===void 0||l==="latex")&&a===0&&o===-1)return(s=(i=Et.get(this).value)!=null?i:this.textContent)!=null?s:""}return""}setValue(e,r){if(this._mathfield&&e!==void 0){if(this._mathfield.model.getValue()===e)return;r!=null||(r={silenceNotifications:!0,mode:"math"}),this._mathfield.setValue(e,r);return}if(Et.has(this)){let i=Et.get(this).options;Et.set(this,{value:e,selection:{ranges:[[-1,-1]],direction:"forward"},options:i,menuItems:void 0});return}let n=Pv(this);Et.set(this,{value:e,selection:{ranges:[[-1,-1]],direction:"forward"},options:n,menuItems:void 0})}hasFocus(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.hasFocus())!=null?r:!1}focus(){var e;(e=this._mathfield)==null||e.focus()}blur(){var e;(e=this._mathfield)==null||e.blur()}select(){var e;(e=this._mathfield)==null||e.select()}insert(e,r){var n,i;return(i=(n=this._mathfield)==null?void 0:n.insert(e,r))!=null?i:!1}applyStyle(e,r){var n;return(n=this._mathfield)==null?void 0:n.applyStyle(e,r)}queryStyle(e){var r,n;return(n=(r=this._mathfield)==null?void 0:r.queryStyle(e))!=null?n:"none"}getOffsetFromPoint(e,r,n){return this._mathfield?Lx(this._mathfield,e,r,n):-1}getElementInfo(e){return qte(this._mathfield,e)}resetUndo(){var e;(e=this._mathfield)==null||e.resetUndo()}canUndo(){return this._mathfield?this._mathfield.canUndo():!1}canRedo(){return this._mathfield?this._mathfield.canRedo():!1}handleEvent(e){var r,n,i,s,a,o;if(Ba.state!=="closed"||((n=(r=this._mathfield)==null?void 0:r.menu)==null?void 0:n.state)!=="closed"||(e.type==="pointerdown"&&this.onPointerDown(),e.type==="focus"&&((i=this._mathfield)==null||i.focus()),e.type!=="blur"))return;let l=bte();l&&(s=window==null?void 0:window.mathVirtualKeyboard)!=null&&s.visible||((a=Ba.scrim)==null?void 0:a.state)!=="closed"||l&&wDe()||(o=this._mathfield)==null||o.blur()}connectedCallback(){var e,r,n,i;let s=this.shadowRoot,a=s.host,o=window.getComputedStyle(this).userSelect!=="none";if(o)a.addEventListener("pointerdown",this,!0);else{let u=s.querySelector("span");u.style.pointerEvents="none"}a.addEventListener("focus",this,!0),a.addEventListener("blur",this,!0),this._observer=new MutationObserver(()=>{var u;this.value=(u=this.textContent)!=null?u:""}),this._observer.observe(this,{childList:!0,characterData:!0,subtree:!0}),vh()||(this.hasAttribute("role")||this.setAttribute("role","math"),this.hasAttribute("aria-label")||this.setAttribute("aria-label","math input field"),this.setAttribute("aria-multiline","false")),o&&!this.hasAttribute("contenteditable")&&this.setAttribute("contenteditable","true"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0");let l=s.querySelector("slot:not([name])");if(l)try{this._style=l.assignedElements().filter(u=>u.tagName.toLowerCase()==="style").map(u=>u.textContent).join("")}catch(u){console.error(u)}if(this._style){let u=document.createElement("style");u.textContent=this._style,s.appendChild(u)}let c="";if(this.hasAttribute("value")?c=this.getAttribute("value"):c=(e=l==null?void 0:l.assignedNodes().map(u=>u.nodeType===3?u.textContent:"").join("").trim())!=null?e:"",this._mathfield=new XIe(s.querySelector(":host > span"),G(P({},(n=(r=Et.get(this))==null?void 0:r.options)!=null?n:Pv(this)),{eventSink:this,value:c})),!Et.has(this)){this.upgradeProperty("disabled"),this.upgradeProperty("readonly");for(let u of Object.keys(Ec.optionsAttributes))this.upgradeProperty(dl(u))}if(!((i=this._mathfield)!=null&&i.model)){this._mathfield=null;return}if(Et.has(this)){let u=this._mathfield,d=Et.get(this),A=d.menuItems;u.model.deferNotifications({content:!1,selection:!1},()=>{let f=d.value;f!==void 0&&u.setValue(f),u.model.selection=d.selection,Et.delete(this)}),A&&(this.menuItems=A)}window.queueMicrotask(()=>{this.isConnected&&this.dispatchEvent(new Event("mount",{cancelable:!1,bubbles:!0,composed:!0}))}),eT()}disconnectedCallback(){var e,r,n;if(this.shadowRoot.host.removeEventListener("pointerdown",this,!0),!this._mathfield)return;(e=this._observer)==null||e.disconnect(),this._observer=null,window.queueMicrotask(()=>this.dispatchEvent(new Event("unmount",{cancelable:!1,bubbles:!0,composed:!0})));let i=Id(this._mathfield.options,Object.keys(Ec.optionsAttributes).map(s=>dl(s)));Et.set(this,{value:this._mathfield.getValue(),selection:this._mathfield.model.selection,menuItems:(n=(r=this._mathfield.menu)==null?void 0:r.menuItems)!=null?n:void 0,options:i}),this._mathfield.dispose(),this._mathfield=null}upgradeProperty(e){if(this.hasOwnProperty(e)){let r=this[e];delete this[e],(e==="readonly"||e==="read-only")&&(e="readOnly"),this[e]=r}}attributeChangedCallback(e,r,n){if(r===n)return;let i=n!==null;switch(e){case"contenteditable":ir(this._mathfield);break;case"placeholder":n===!1&&(n=""),this.placeholder=n;break;case"disabled":this.disabled=i;break;case"read-only":case"readonly":this.readOnly=i;break}}get readonly(){return this.hasAttribute("readonly")||this.hasAttribute("read-only")}set readonly(e){let r=!!e;r?(this.setAttribute("readonly",""),vh()?this._internals.ariaReadOnly="true":this.setAttribute("aria-readonly","true"),this.setAttribute("aria-readonly","true")):(vh()?this._internals.ariaReadOnly="false":this.removeAttribute("aria-readonly"),this.removeAttribute("readonly"),this.removeAttribute("read-only")),this._setOptions({readOnly:r})}get disabled(){return this.hasAttribute("disabled")}set disabled(e){var r;let n=!!e;n?this.setAttribute("disabled",""):this.removeAttribute("disabled"),vh()?this._internals.ariaDisabled=n?"true":"false":this.setAttribute("aria-disabled",n?"true":"false"),n&&(r=this._mathfield)!=null&&r.hasFocus&&window.mathVirtualKeyboard.visible&&this._mathfield.executeCommand("hideVirtualKeyboard")}get value(){return this.getValue()}set value(e){this.setValue(e)}get defaultMode(){return this._getOption("defaultMode")}set defaultMode(e){this._setOptions({defaultMode:e})}get macros(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("macros")}set macros(e){this._setOptions({macros:e})}get registers(){if(!this._mathfield)throw new Error("Mathfield not mounted");let e=this;return new Proxy({},{get:(r,n)=>{if(typeof n=="string")return e._getOption("registers")[n]},set(r,n,i){return typeof n!="string"?!1:(e._setOptions({registers:G(P({},e._getOption("registers")),{[n]:i})}),!0)},ownKeys:()=>Reflect.ownKeys(e._getOption("registers")),getOwnPropertyDescriptor:(r,n)=>{let i=e._getOption("registers")[n];if(i!==void 0)return{configurable:!0,enumerable:!0,value:i,writable:!0}}})}set registers(e){this._setOptions({registers:e})}get colorMap(){return this._getOption("colorMap")}set colorMap(e){this._setOptions({colorMap:e})}get backgroundColorMap(){return this._getOption("backgroundColorMap")}set backgroundColorMap(e){this._setOptions({backgroundColorMap:e})}get letterShapeStyle(){return this._getOption("letterShapeStyle")}set letterShapeStyle(e){this._setOptions({letterShapeStyle:e})}get minFontScale(){return this._getOption("minFontScale")}set minFontScale(e){this._setOptions({minFontScale:e})}get maxMatrixCols(){return this._getOption("maxMatrixCols")}set maxMatrixCols(e){this._setOptions({maxMatrixCols:e})}get smartMode(){return this._getOption("smartMode")}set smartMode(e){this._setOptions({smartMode:e})}get smartFence(){return this._getOption("smartFence")}set smartFence(e){this._setOptions({smartFence:e})}get smartSuperscript(){return this._getOption("smartSuperscript")}set smartSuperscript(e){this._setOptions({smartSuperscript:e})}get scriptDepth(){return this._getOption("scriptDepth")}set scriptDepth(e){this._setOptions({scriptDepth:e})}get removeExtraneousParentheses(){return this._getOption("removeExtraneousParentheses")}set removeExtraneousParentheses(e){this._setOptions({removeExtraneousParentheses:e})}get mathModeSpace(){return this._getOption("mathModeSpace")}set mathModeSpace(e){this._setOptions({mathModeSpace:e})}get placeholderSymbol(){return this._getOption("placeholderSymbol")}set placeholderSymbol(e){this._setOptions({placeholderSymbol:e})}get placeholder(){var e;return(e=this.getAttribute("placeholder"))!=null?e:""}set placeholder(e){var r;typeof e=="string"&&((r=this._mathfield)==null||r.setOptions({contentPlaceholder:e}))}get popoverPolicy(){return this._getOption("popoverPolicy")}set popoverPolicy(e){this._setOptions({popoverPolicy:e})}get environmentPopoverPolicy(){return this._getOption("environmentPopoverPolicy")}set environmentPopoverPolicy(e){this._setOptions({environmentPopoverPolicy:e})}get menuItems(){var e;if(!this._mathfield)throw new Error("Mathfield not mounted");return(e=this._mathfield.menu._menuItems.map(r=>r.menuItem))!=null?e:[]}set menuItems(e){var r;if(!this._mathfield)throw new Error("Mathfield not mounted");if(this._mathfield){let n=(r=this._mathfield.element)==null?void 0:r.querySelector("[part=menu-toggle]");n&&(n.style.display=e.length===0?"none":""),this._mathfield.menu.menuItems=e}}get mathVirtualKeyboardPolicy(){return this._getOption("mathVirtualKeyboardPolicy")}set mathVirtualKeyboardPolicy(e){this._setOptions({mathVirtualKeyboardPolicy:e})}get inlineShortcuts(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("inlineShortcuts")}set inlineShortcuts(e){if(!this._mathfield)throw new Error("Mathfield not mounted");this._setOptions({inlineShortcuts:e})}get inlineShortcutTimeout(){return this._getOption("inlineShortcutTimeout")}set inlineShortcutTimeout(e){this._setOptions({inlineShortcutTimeout:e})}get keybindings(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("keybindings")}set keybindings(e){if(!this._mathfield)throw new Error("Mathfield not mounted");this._setOptions({keybindings:e})}get onInsertStyle(){let e=this._getOption("onInsertStyle");return e===void 0?JF:e}set onInsertStyle(e){this._setOptions({onInsertStyle:e})}get onInlineShortcut(){return this._getOption("onInlineShortcut")}set onInlineShortcut(e){this._setOptions({onInlineShortcut:e})}get onScrollIntoView(){return this._getOption("onScrollIntoView")}set onScrollIntoView(e){this._setOptions({onScrollIntoView:e})}get onExport(){return this._getOption("onExport")}set onExport(e){this._setOptions({onExport:e})}get readOnly(){return this._getOption("readOnly")}set readOnly(e){this._setOptions({readOnly:e})}get isSelectionEditable(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.isSelectionEditable)!=null?r:!1}setPromptState(e,r,n){var i;(i=this._mathfield)==null||i.setPromptState(e,r,n)}getPromptState(e){var r,n;return(n=(r=this._mathfield)==null?void 0:r.getPromptState(e))!=null?n:[void 0,!0]}get virtualKeyboardTargetOrigin(){return this._getOption("virtualKeyboardTargetOrigin")}set virtualKeyboardTargetOrigin(e){this._setOptions({virtualKeyboardTargetOrigin:e})}get selection(){return this._mathfield?this._mathfield.model.selection:Et.has(this)?Et.get(this).selection:{ranges:[[0,0]],direction:"forward"}}set selection(e){if(typeof e=="number"&&(e={ranges:[[e,e]]}),this._mathfield){this._mathfield.model.selection=e,ir(this._mathfield);return}if(Et.has(this)){Et.set(this,G(P({},Et.get(this)),{selection:e}));return}Et.set(this,{value:void 0,selection:e,options:Pv(this),menuItems:void 0})}get selectionIsCollapsed(){let e=this.selection;return e.ranges.length===1&&e.ranges[0][0]===e.ranges[0][1]}get position(){return this._mathfield?this._mathfield.model.position:Et.has(this)?Et.get(this).selection.ranges[0][0]:0}set position(e){if(this._mathfield&&(this._mathfield.model.position=e,ir(this._mathfield)),Et.has(this)){Et.set(this,G(P({},Et.get(this)),{selection:{ranges:[[e,e]]}}));return}Et.set(this,{value:void 0,selection:{ranges:[[e,e]]},options:Pv(this),menuItems:void 0})}get lastOffset(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.model.lastOffset)!=null?r:-1}};Or.version="0.104.0",Or.openUrl=t=>{if(!t)return;let e=new URL(t);if(!["http:","https:","file:"].includes(e.protocol.toLowerCase())){Or.playSound("plonk");return}window.open(e,"_blank")},Or._fontsDirectory="./fonts",Or._soundsDirectory="./sounds",Or.keypressVibration=!0,Or._keypressSound={spacebar:"keypress-spacebar.wav",return:"keypress-return.wav",delete:"keypress-delete.wav",default:"keypress-standard.wav"},Or._plonkSound="plonk.wav",Or.audioBuffers={},Or.createHTML=t=>t,Or._speechEngineRate="100%",Or._speechEngineVoice="Joanna",Or._textToSpeechMarkup="",Or._textToSpeechRules="mathlive",Or._textToSpeechRulesOptions={},Or.speakHook=JIe,Or.readAloudHook=ZIe,Or.restoreFocusWhenDocumentFocused=!0,Or._decimalSeparator=".",Or._isFunction=t=>{var e,r;let n=globalThis.MathfieldElement.computeEngine;return(r=(e=n==null?void 0:n.parse(t).domain)==null?void 0:e.isFunction)!=null?r:!1};var Nu=Or;function dl(t){return t.replace(/[^a-zA-Z\d]+(.)/g,(e,r)=>r.toUpperCase())}function Pv(t){let e={readOnly:!1},r=Nu.optionsAttributes;return Object.keys(r).forEach(n=>{var i;if(t.hasAttribute(n)){let s=t.getAttribute(n);n==="placeholder"?e.contentPlaceholder=s??"":r[n]==="boolean"?e[dl(n)]=!0:r[n]==="on/off"?(s=(i=s==null?void 0:s.toLowerCase())!=null?i:"",s==="on"||s==="true"?e[dl(n)]=!0:s==="off"||s==="false"?e[dl(n)]=!1:e[dl(n)]=void 0):r[n]==="number"?e[dl(n)]=Number.parseFloat(s??"0"):e[dl(n)]=s}}),e}function vh(){return!(!("ElementInternals"in window)||!HTMLElement.prototype.attachInternals||!("role"in window.ElementInternals.prototype))}var sT=Nu,sH,aH,oH;if(sa()&&!((sH=window.customElements)!=null&&sH.get("math-field"))){window[aH=Symbol.for("io.cortexjs.mathlive")]!=null||(window[aH]={});let t=window[Symbol.for("io.cortexjs.mathlive")];t.version="0.104.0",globalThis.MathfieldElement=Nu,(oH=window.customElements)==null||oH.define("math-field",Nu)}function tOe(t,e){let r=Xu.singleton;return r?(r.show(),iA(),r.currentLayer=e,r.render(),r.focus(),!0):!1}function rOe(){let t=window.mathVirtualKeyboard;return t.visible?t.hide({animate:!0}):t.show({animate:!0}),!1}wi({switchKeyboardLayer:tOe,toggleVirtualKeyboard:rOe,hideVirtualKeyboard:()=>(window.mathVirtualKeyboard.hide({animate:!0}),!1),showVirtualKeyboard:()=>(window.mathVirtualKeyboard.show({animate:!0}),!1)},{target:"virtual-keyboard"});function Mc(){var t;return globalThis[t=Symbol.for("io.cortexjs.mathlive")]!=null||(globalThis[t]={}),globalThis[Symbol.for("io.cortexjs.mathlive")]}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var g_=function(t,e){return g_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},g_(t,e)};function za(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");g_(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var y_=function(){return y_=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},y_.apply(this,arguments)};function ci(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,[])).next())})}function Kn(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Uv(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var Vl=function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),I5=function(t,e){return Vl.fromClientRect(t,e.getBoundingClientRect())},nOe=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new Vl(0,0,n,i)},O5=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},Ur=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=t[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},lH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iOe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Rv=0;Rv<lH.length;Rv++)iOe[lH.charCodeAt(Rv)]=Rv;var cH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rm=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Qv=0;Qv<cH.length;Qv++)rm[cH.charCodeAt(Qv)]=Qv;var sOe=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)s=rm[t.charCodeAt(n)],a=rm[t.charCodeAt(n+1)],o=rm[t.charCodeAt(n+2)],l=rm[t.charCodeAt(n+3)],u[i++]=s<<2|a>>4,u[i++]=(a&15)<<4|o>>2,u[i++]=(o&3)<<6|l&63;return c},aOe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},oOe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},l0=5,aT=11,AC=2,lOe=aT-l0,wne=65536>>l0,cOe=1<<l0,fC=cOe-1,uOe=1024>>l0,dOe=wne+uOe,hOe=dOe,AOe=32,fOe=hOe+AOe,pOe=65536>>aT,mOe=1<<lOe,gOe=mOe-1,uH=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},yOe=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},vOe=function(t,e){var r=sOe(t),n=Array.isArray(r)?oOe(r):new Uint32Array(r),i=Array.isArray(r)?aOe(r):new Uint16Array(r),s=24,a=uH(i,s/2,n[4]/2),o=n[5]===2?uH(i,(s+n[4])/2):yOe(n,Math.ceil((s+n[4])/4));return new xOe(n[0],n[1],n[2],n[3],a,o)},xOe=function(){function t(e,r,n,i,s,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>l0],r=(r<<AC)+(e&fC),this.data[r];if(e<=65535)return r=this.index[wne+(e-55296>>l0)],r=(r<<AC)+(e&fC),this.data[r];if(e<this.highStart)return r=fOe-pOe+(e>>aT),r=this.index[r],r+=e>>l0&gOe,r=this.index[r],r=(r<<AC)+(e&fC),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),dH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bOe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var zv=0;zv<dH.length;zv++)bOe[dH.charCodeAt(zv)]=zv;var wOe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",hH=50,COe=1,Cne=2,Bne=3,BOe=4,SOe=5,AH=7,Sne=8,fH=9,Jc=10,v_=11,pH=12,x_=13,_Oe=14,nm=15,b_=16,Hv=17,Tp=18,kOe=19,mH=20,w_=21,Dp=22,pC=23,xh=24,ss=25,im=26,sm=27,bh=28,EOe=29,Od=30,MOe=31,$v=32,Vv=33,C_=34,B_=35,S_=36,o1=37,__=38,jx=39,Ix=40,mC=41,_ne=42,FOe=43,TOe=[9001,65288],kne="!",wt="×",Kv="÷",k_=vOe(wOe),Yo=[Od,S_],E_=[COe,Cne,Bne,SOe],Ene=[Jc,Sne],gH=[sm,im],DOe=E_.concat(Ene),yH=[__,jx,Ix,C_,B_],LOe=[nm,x_],NOe=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(s,a){var o=k_.get(s);if(o>hH?(i.push(!0),o-=hH):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(a),r.push(b_);if(o===BOe||o===v_){if(a===0)return n.push(a),r.push(Od);var l=r[a-1];return DOe.indexOf(l)===-1?(n.push(n[a-1]),r.push(l)):(n.push(a),r.push(Od))}if(n.push(a),o===MOe)return r.push(e==="strict"?w_:o1);if(o===_ne||o===EOe)return r.push(Od);if(o===FOe)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(o1):r.push(Od);r.push(o)}),[n,r,i]},gC=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=r;s<=n.length;){s++;var a=n[s];if(a===e)return!0;if(a!==Jc)break}if(i===Jc)for(var s=r;s>0;){s--;var o=n[s];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var l=r;l<=n.length;){l++;var a=n[l];if(a===e)return!0;if(a!==Jc)break}if(o!==Jc)break}return!1},vH=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===Jc)r--;else return n}return 0},jOe=function(t,e,r,n,i){if(r[n]===0)return wt;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return wt;var a=s-1,o=s+1,l=e[s],c=a>=0?e[a]:0,u=e[o];if(l===Cne&&u===Bne)return wt;if(E_.indexOf(l)!==-1)return kne;if(E_.indexOf(u)!==-1||Ene.indexOf(u)!==-1)return wt;if(vH(s,e)===Sne)return Kv;if(k_.get(t[s])===v_||(l===$v||l===Vv)&&k_.get(t[o])===v_||l===AH||u===AH||l===fH||[Jc,x_,nm].indexOf(l)===-1&&u===fH||[Hv,Tp,kOe,xh,bh].indexOf(u)!==-1||vH(s,e)===Dp||gC(pC,Dp,s,e)||gC([Hv,Tp],w_,s,e)||gC(pH,pH,s,e))return wt;if(l===Jc)return Kv;if(l===pC||u===pC)return wt;if(u===b_||l===b_)return Kv;if([x_,nm,w_].indexOf(u)!==-1||l===_Oe||c===S_&&LOe.indexOf(l)!==-1||l===bh&&u===S_||u===mH||Yo.indexOf(u)!==-1&&l===ss||Yo.indexOf(l)!==-1&&u===ss||l===sm&&[o1,$v,Vv].indexOf(u)!==-1||[o1,$v,Vv].indexOf(l)!==-1&&u===im||Yo.indexOf(l)!==-1&&gH.indexOf(u)!==-1||gH.indexOf(l)!==-1&&Yo.indexOf(u)!==-1||[sm,im].indexOf(l)!==-1&&(u===ss||[Dp,nm].indexOf(u)!==-1&&e[o+1]===ss)||[Dp,nm].indexOf(l)!==-1&&u===ss||l===ss&&[ss,bh,xh].indexOf(u)!==-1)return wt;if([ss,bh,xh,Hv,Tp].indexOf(u)!==-1)for(var d=s;d>=0;){var A=e[d];if(A===ss)return wt;if([bh,xh].indexOf(A)!==-1)d--;else break}if([sm,im].indexOf(u)!==-1)for(var d=[Hv,Tp].indexOf(l)!==-1?a:s;d>=0;){var A=e[d];if(A===ss)return wt;if([bh,xh].indexOf(A)!==-1)d--;else break}if(__===l&&[__,jx,C_,B_].indexOf(u)!==-1||[jx,C_].indexOf(l)!==-1&&[jx,Ix].indexOf(u)!==-1||[Ix,B_].indexOf(l)!==-1&&u===Ix||yH.indexOf(l)!==-1&&[mH,im].indexOf(u)!==-1||yH.indexOf(u)!==-1&&l===sm||Yo.indexOf(l)!==-1&&Yo.indexOf(u)!==-1||l===xh&&Yo.indexOf(u)!==-1||Yo.concat(ss).indexOf(l)!==-1&&u===Dp&&TOe.indexOf(t[o])===-1||Yo.concat(ss).indexOf(u)!==-1&&l===Tp)return wt;if(l===mC&&u===mC){for(var f=r[s],p=1;f>0&&(f--,e[f]===mC);)p++;if(p%2!==0)return wt}return l===$v&&u===Vv?wt:Kv},IOe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=NOe(t,e.lineBreak),n=r[0],i=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[ss,Od,_ne].indexOf(o)!==-1?o1:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,l){return o&&t[l]>=19968&&t[l]<=40959}):void 0;return[n,i,a]},OOe=function(){function t(e,r,n,i){this.codePoints=e,this.required=r===kne,this.start=n,this.end=i}return t.prototype.slice=function(){return Ur.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),POe=function(t,e){var r=O5(t),n=IOe(r,e),i=n[0],s=n[1],a=n[2],o=r.length,l=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var u=wt;c<o&&(u=jOe(r,s,i,++c,a))===wt;);if(u!==wt||c===o){var d=new OOe(r,u,l,c);return l=c,{value:d,done:!1}}return{done:!0,value:null}}}},UOe=1,ROe=2,Z1=4,xH=8,O3=10,bH=47,Ym=92,QOe=9,zOe=32,qv=34,Lp=61,HOe=35,$Oe=36,VOe=37,Wv=39,Gv=40,Np=41,KOe=95,Di=45,qOe=33,WOe=60,GOe=62,XOe=64,YOe=91,JOe=93,ZOe=61,ePe=123,Xv=63,tPe=125,wH=124,rPe=126,nPe=128,CH=65533,yC=42,Gd=43,iPe=44,sPe=58,aPe=59,l1=46,oPe=0,lPe=8,cPe=11,uPe=14,dPe=31,hPe=127,Ya=-1,Mne=48,Fne=97,Tne=101,APe=102,fPe=117,pPe=122,Dne=65,Lne=69,Nne=70,mPe=85,gPe=90,Xn=function(t){return t>=Mne&&t<=57},yPe=function(t){return t>=55296&&t<=57343},wh=function(t){return Xn(t)||t>=Dne&&t<=Nne||t>=Fne&&t<=APe},vPe=function(t){return t>=Fne&&t<=pPe},xPe=function(t){return t>=Dne&&t<=gPe},bPe=function(t){return vPe(t)||xPe(t)},wPe=function(t){return t>=nPe},Yv=function(t){return t===O3||t===QOe||t===zOe},P3=function(t){return bPe(t)||wPe(t)||t===KOe},BH=function(t){return P3(t)||Xn(t)||t===Di},CPe=function(t){return t>=oPe&&t<=lPe||t===cPe||t>=uPe&&t<=dPe||t===hPe},Oc=function(t,e){return t!==Ym?!1:e!==O3},Jv=function(t,e,r){return t===Di?P3(e)||Oc(e,r):P3(t)?!0:!!(t===Ym&&Oc(t,e))},vC=function(t,e,r){return t===Gd||t===Di?Xn(e)?!0:e===l1&&Xn(r):Xn(t===l1?e:t)},BPe=function(t){var e=0,r=1;(t[e]===Gd||t[e]===Di)&&(t[e]===Di&&(r=-1),e++);for(var n=[];Xn(t[e]);)n.push(t[e++]);var i=n.length?parseInt(Ur.apply(void 0,n),10):0;t[e]===l1&&e++;for(var s=[];Xn(t[e]);)s.push(t[e++]);var a=s.length,o=a?parseInt(Ur.apply(void 0,s),10):0;(t[e]===Lne||t[e]===Tne)&&e++;var l=1;(t[e]===Gd||t[e]===Di)&&(t[e]===Di&&(l=-1),e++);for(var c=[];Xn(t[e]);)c.push(t[e++]);var u=c.length?parseInt(Ur.apply(void 0,c),10):0;return r*(i+o*Math.pow(10,-a))*Math.pow(10,l*u)},SPe={type:2},_Pe={type:3},kPe={type:4},EPe={type:13},MPe={type:8},FPe={type:21},TPe={type:9},DPe={type:10},LPe={type:11},NPe={type:12},jPe={type:14},Zv={type:23},IPe={type:1},OPe={type:25},PPe={type:24},UPe={type:26},RPe={type:27},QPe={type:28},zPe={type:29},HPe={type:31},M_={type:32},jne=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(O5(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==M_;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case qv:return this.consumeStringToken(qv);case HOe:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(BH(r)||Oc(n,i)){var s=Jv(r,n,i)?ROe:UOe,a=this.consumeName();return{type:5,value:a,flags:s}}break;case $Oe:if(this.peekCodePoint(0)===Lp)return this.consumeCodePoint(),EPe;break;case Wv:return this.consumeStringToken(Wv);case Gv:return SPe;case Np:return _Pe;case yC:if(this.peekCodePoint(0)===Lp)return this.consumeCodePoint(),jPe;break;case Gd:if(vC(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case iPe:return kPe;case Di:var o=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(vC(o,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Jv(o,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Di&&c===GOe)return this.consumeCodePoint(),this.consumeCodePoint(),PPe;break;case l1:if(vC(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case bH:if(this.peekCodePoint(0)===yC)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===yC&&(u=this.consumeCodePoint(),u===bH))return this.consumeToken();if(u===Ya)return this.consumeToken()}break;case sPe:return UPe;case aPe:return RPe;case WOe:if(this.peekCodePoint(0)===qOe&&this.peekCodePoint(1)===Di&&this.peekCodePoint(2)===Di)return this.consumeCodePoint(),this.consumeCodePoint(),OPe;break;case XOe:var d=this.peekCodePoint(0),A=this.peekCodePoint(1),f=this.peekCodePoint(2);if(Jv(d,A,f)){var a=this.consumeName();return{type:7,value:a}}break;case YOe:return QPe;case Ym:if(Oc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case JOe:return zPe;case ZOe:if(this.peekCodePoint(0)===Lp)return this.consumeCodePoint(),MPe;break;case ePe:return LPe;case tPe:return NPe;case fPe:case mPe:var p=this.peekCodePoint(0),m=this.peekCodePoint(1);return p===Gd&&(wh(m)||m===Xv)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case wH:if(this.peekCodePoint(0)===Lp)return this.consumeCodePoint(),TPe;if(this.peekCodePoint(0)===wH)return this.consumeCodePoint(),FPe;break;case rPe:if(this.peekCodePoint(0)===Lp)return this.consumeCodePoint(),DPe;break;case Ya:return M_}return Yv(e)?(this.consumeWhiteSpace(),HPe):Xn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):P3(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Ur(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();wh(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===Xv&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Ur.apply(void 0,e.map(function(l){return l===Xv?Mne:l})),16),s=parseInt(Ur.apply(void 0,e.map(function(l){return l===Xv?Nne:l})),16);return{type:30,start:i,end:s}}var a=parseInt(Ur.apply(void 0,e),16);if(this.peekCodePoint(0)===Di&&wh(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];wh(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var s=parseInt(Ur.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Gv?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Gv?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ya)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Wv||r===qv){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ya||this.peekCodePoint(0)===Np)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Zv)}for(;;){var i=this.consumeCodePoint();if(i===Ya||i===Np)return{type:22,value:Ur.apply(void 0,e)};if(Yv(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ya||this.peekCodePoint(0)===Np?(this.consumeCodePoint(),{type:22,value:Ur.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Zv);if(i===qv||i===Wv||i===Gv||CPe(i))return this.consumeBadUrlRemnants(),Zv;if(i===Ym)if(Oc(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Zv;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;Yv(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Np||e===Ya)return;Oc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=Ur.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===Ya||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===O3)return this._value.splice(0,n),IPe;if(i===Ym){var s=this._value[n+1];s!==Ya&&s!==void 0&&(s===O3?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Oc(i,s)&&(r+=this.consumeStringSlice(n),r+=Ur(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Z1,n=this.peekCodePoint(0);for((n===Gd||n===Di)&&e.push(this.consumeCodePoint());Xn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===l1&&Xn(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=xH;Xn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===Lne||n===Tne)&&((i===Gd||i===Di)&&Xn(s)||Xn(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=xH;Xn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[BPe(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(Jv(i,s,a)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return i===VOe?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(wh(e)){for(var r=Ur(e);wh(this.peekCodePoint(0))&&r.length<6;)r+=Ur(this.consumeCodePoint());Yv(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||yPe(n)||n>1114111?CH:n}return e===Ya?CH:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(BH(r))e+=Ur(r);else if(Oc(r,this.peekCodePoint(0)))e+=Ur(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),Ine=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new jne;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||VPe(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?M_:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),e2=function(t){return t.type===15},Df=function(t){return t.type===17},Jt=function(t){return t.type===20},$Pe=function(t){return t.type===0},F_=function(t,e){return Jt(t)&&t.value===e},One=function(t){return t.type!==31},sf=function(t){return t.type!==31&&t.type!==4},Uo=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},VPe=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},ju=function(t){return t.type===17||t.type===15},tn=function(t){return t.type===16||ju(t)},Pne=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},jn={type:17,number:0,flags:Z1},oT={type:16,number:50,flags:Z1},Zc={type:16,number:100,flags:Z1},am=function(t,e,r){var n=t[0],i=t[1];return[sr(n,e),sr(typeof i<"u"?i:n,r)]},sr=function(t,e){if(t.type===16)return t.number/100*e;if(e2(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},Une="deg",Rne="grad",Qne="rad",zne="turn",P5={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case Une:return Math.PI*e.number/180;case Rne:return Math.PI/200*e.number;case Qne:return e.number;case zne:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Hne=function(t){return t.type===15&&(t.unit===Une||t.unit===Rne||t.unit===Qne||t.unit===zne)},$ne=function(t){var e=t.filter(Jt).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[jn,jn];case"to top":case"bottom":return qs(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[jn,Zc];case"to right":case"left":return qs(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Zc,Zc];case"to bottom":case"top":return qs(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Zc,jn];case"to left":case"right":return qs(270)}return 0},qs=function(t){return Math.PI*t/180},hu={name:"color",parse:function(t,e){if(e.type===18){var r=KPe[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return eu(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return eu(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return eu(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return eu(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=Ml[e.value.toUpperCase()];if(typeof o<"u")return o}return Ml.TRANSPARENT}},Au=function(t){return(255&t)===0},vn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},eu=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},SH=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},_H=function(t,e){var r=e.filter(sf);if(r.length===3){var n=r.map(SH),i=n[0],s=n[1],a=n[2];return eu(i,s,a,1)}if(r.length===4){var o=r.map(SH),i=o[0],s=o[1],a=o[2],l=o[3];return eu(i,s,a,l)}return 0};function xC(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var kH=function(t,e){var r=e.filter(sf),n=r[0],i=r[1],s=r[2],a=r[3],o=(n.type===17?qs(n.number):P5.parse(t,n))/(Math.PI*2),l=tn(i)?i.number/100:0,c=tn(s)?s.number/100:0,u=typeof a<"u"&&tn(a)?sr(a,1):1;if(l===0)return eu(c*255,c*255,c*255,1);var d=c<=.5?c*(l+1):c+l-c*l,A=c*2-d,f=xC(A,d,o+1/3),p=xC(A,d,o),m=xC(A,d,o-1/3);return eu(f*255,p*255,m*255,u)},KPe={hsl:kH,hsla:kH,rgb:_H,rgba:_H},Jm=function(t,e){return hu.parse(t,Ine.create(e).parseComponentValue())},Ml={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},qPe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Jt(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},WPe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},U5=function(t,e){var r=hu.parse(t,e[0]),n=e[1];return n&&tn(n)?{color:r,stop:n}:{color:r,stop:null}},EH=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=jn),n.stop===null&&(n.stop=Zc);for(var i=[],s=0,a=0;a<t.length;a++){var o=t[a].stop;if(o!==null){var l=sr(o,e);l>s?i.push(l):i.push(s),s=l}else i.push(null)}for(var c=null,a=0;a<i.length;a++){var u=i[a];if(u===null)c===null&&(c=a);else if(c!==null){for(var d=a-c,A=i[c-1],f=(u-A)/(d+1),p=1;p<=d;p++)i[c+p-1]=f*p;c=null}}return t.map(function(m,v){var g=m.color;return{color:g,stop:Math.max(Math.min(1,i[v]/e),0)}})},GPe=function(t,e,r){var n=e/2,i=r/2,s=sr(t[0],e)-n,a=i-sr(t[1],r);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},XPe=function(t,e,r){var n=typeof t=="number"?t:GPe(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,a=r/2,o=i/2,l=Math.sin(n-Math.PI/2)*o,c=Math.cos(n-Math.PI/2)*o;return[i,s-c,s+c,a-l,a+l]},fa=function(t,e){return Math.sqrt(t*t+e*e)},MH=function(t,e,r,n,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(a,o){var l=o[0],c=o[1],u=fa(r-l,n-c);return(i?u<a.optimumDistance:u>a.optimumDistance)?{optimumCorner:o,optimumDistance:u}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},YPe=function(t,e,r,n,i){var s=0,a=0;switch(t.size){case 0:t.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)s=a=Math.min(fa(e,r),fa(e,r-i),fa(e-n,r),fa(e-n,r-i));else if(t.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),l=MH(n,i,e,r,!0),c=l[0],u=l[1];s=fa(c-e,(u-r)/o),a=o*s}break;case 1:t.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)s=a=Math.max(fa(e,r),fa(e,r-i),fa(e-n,r),fa(e-n,r-i));else if(t.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),d=MH(n,i,e,r,!1),c=d[0],u=d[1];s=fa(c-e,(u-r)/o),a=o*s}break}return Array.isArray(t.size)&&(s=sr(t.size[0],n),a=t.size.length===2?sr(t.size[1],i):s),[s,a]},JPe=function(t,e){var r=qs(180),n=[];return Uo(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){r=$ne(i);return}else if(Hne(a)){r=P5.parse(t,a);return}}var o=U5(t,i);n.push(o)}),{angle:r,stops:n,type:1}},e4=function(t,e){var r=qs(180),n=[];return Uo(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){r=$ne(i);return}else if(Hne(a)){r=(P5.parse(t,a)+qs(270))%qs(360);return}}var o=U5(t,i);n.push(o)}),{angle:r,stops:n,type:1}},ZPe=function(t,e){var r=qs(180),n=[],i=1,s=0,a=3,o=[];return Uo(e).forEach(function(l,c){var u=l[0];if(c===0){if(Jt(u)&&u.value==="linear"){i=1;return}else if(Jt(u)&&u.value==="radial"){i=2;return}}if(u.type===18){if(u.name==="from"){var d=hu.parse(t,u.values[0]);n.push({stop:jn,color:d})}else if(u.name==="to"){var d=hu.parse(t,u.values[0]);n.push({stop:Zc,color:d})}else if(u.name==="color-stop"){var A=u.values.filter(sf);if(A.length===2){var d=hu.parse(t,A[1]),f=A[0];Df(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:d})}}}}),i===1?{angle:(r+qs(180))%qs(360),stops:n,type:i}:{size:a,shape:s,stops:n,position:o,type:i}},Vne="closest-side",Kne="farthest-side",qne="closest-corner",Wne="farthest-corner",Gne="circle",Xne="ellipse",Yne="cover",Jne="contain",eUe=function(t,e){var r=0,n=3,i=[],s=[];return Uo(e).forEach(function(a,o){var l=!0;if(o===0){var c=!1;l=a.reduce(function(d,A){if(c)if(Jt(A))switch(A.value){case"center":return s.push(oT),d;case"top":case"left":return s.push(jn),d;case"right":case"bottom":return s.push(Zc),d}else(tn(A)||ju(A))&&s.push(A);else if(Jt(A))switch(A.value){case Gne:return r=0,!1;case Xne:return r=1,!1;case"at":return c=!0,!1;case Vne:return n=0,!1;case Yne:case Kne:return n=1,!1;case Jne:case qne:return n=2,!1;case Wne:return n=3,!1}else if(ju(A)||tn(A))return Array.isArray(n)||(n=[]),n.push(A),!1;return d},l)}if(l){var u=U5(t,a);i.push(u)}}),{size:n,shape:r,stops:i,position:s,type:2}},t4=function(t,e){var r=0,n=3,i=[],s=[];return Uo(e).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(u,d){if(Jt(d))switch(d.value){case"center":return s.push(oT),!1;case"top":case"left":return s.push(jn),!1;case"right":case"bottom":return s.push(Zc),!1}else if(tn(d)||ju(d))return s.push(d),!1;return u},l):o===1&&(l=a.reduce(function(u,d){if(Jt(d))switch(d.value){case Gne:return r=0,!1;case Xne:return r=1,!1;case Jne:case Vne:return n=0,!1;case Kne:return n=1,!1;case qne:return n=2,!1;case Yne:case Wne:return n=3,!1}else if(ju(d)||tn(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return u},l)),l){var c=U5(t,a);i.push(c)}}),{size:n,shape:r,stops:i,position:s,type:2}},tUe=function(t){return t.type===1},rUe=function(t){return t.type===2},lT={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=Zne[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function nUe(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!Zne[t.name])}var Zne={"linear-gradient":JPe,"-moz-linear-gradient":e4,"-ms-linear-gradient":e4,"-o-linear-gradient":e4,"-webkit-linear-gradient":e4,"radial-gradient":eUe,"-moz-radial-gradient":t4,"-ms-radial-gradient":t4,"-o-radial-gradient":t4,"-webkit-radial-gradient":t4,"-webkit-gradient":ZPe},iUe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return sf(n)&&nUe(n)}).map(function(n){return lT.parse(t,n)})}},sUe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Jt(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},aUe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Uo(e).map(function(r){return r.filter(tn)}).map(Pne)}},oUe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Uo(e).map(function(r){return r.filter(Jt).map(function(n){return n.value}).join(" ")}).map(lUe)}},lUe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},LA;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(LA||(LA={}));var cUe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Uo(e).map(function(r){return r.filter(uUe)})}},uUe=function(t){return Jt(t)||tn(t)},R5=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},dUe=R5("top"),hUe=R5("right"),AUe=R5("bottom"),fUe=R5("left"),Q5=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return Pne(r.filter(tn))}}},pUe=Q5("top-left"),mUe=Q5("top-right"),gUe=Q5("bottom-right"),yUe=Q5("bottom-left"),z5=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},vUe=z5("top"),xUe=z5("right"),bUe=z5("bottom"),wUe=z5("left"),H5=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return e2(r)?r.number:0}}},CUe=H5("top"),BUe=H5("right"),SUe=H5("bottom"),_Ue=H5("left"),kUe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},EUe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},MUe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Jt).reduce(function(r,n){return r|FUe(n.value)},0)}},FUe=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},TUe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},DUe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},U3;(function(t){t.NORMAL="normal",t.STRICT="strict"})(U3||(U3={}));var LUe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return U3.STRICT;case"normal":default:return U3.NORMAL}}},NUe={name:"line-height",initialValue:"normal",prefix:!1,type:4},FH=function(t,e){return Jt(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:tn(t)?sr(t,e):e},jUe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:lT.parse(t,e)}},IUe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},T_={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},$5=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},OUe=$5("top"),PUe=$5("right"),UUe=$5("bottom"),RUe=$5("left"),QUe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Jt).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},zUe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},V5=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},HUe=V5("top"),$Ue=V5("right"),VUe=V5("bottom"),KUe=V5("left"),qUe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},WUe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},GUe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&F_(e[0],"none")?[]:Uo(e).map(function(r){for(var n={color:Ml.TRANSPARENT,offsetX:jn,offsetY:jn,blur:jn},i=0,s=0;s<r.length;s++){var a=r[s];ju(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:n.blur=a,i++):n.color=hu.parse(t,a)}return n})}},XUe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},YUe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=eRe[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},JUe=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},ZUe=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[r,n,i,s,a,o]:null},eRe={matrix:JUe,matrix3d:ZUe},TH={type:16,number:50,flags:Z1},tRe=[TH,TH],rRe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(tn);return r.length!==2?tRe:[r[0],r[1]]}},nRe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Zm;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Zm||(Zm={}));var iRe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Zm.BREAK_ALL;case"keep-all":return Zm.KEEP_ALL;case"normal":default:return Zm.NORMAL}}},sRe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Df(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},eie={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},aRe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Df(e)?e.number:1}},oRe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},lRe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Jt).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},cRe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},uRe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},dRe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Df(e))return e.number;if(Jt(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},hRe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Jt).map(function(r){return r.value})}},ARe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},cn=function(t,e){return(t&e)!==0},fRe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},pRe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(One),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var l=o&&Df(o)?o.number:1;n.push({counter:a.value,increment:l})}}return n}},mRe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(One),i=0;i<n.length;i++){var s=n[i],a=n[i+1];if(Jt(s)&&s.value!=="none"){var o=a&&Df(a)?a.number:0;r.push({counter:s.value,reset:o})}}return r}},gRe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(e2).map(function(r){return eie.parse(t,r)})}},yRe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter($Pe);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;n.push({open:a,close:o})}return n}},DH=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},vRe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&F_(e[0],"none")?[]:Uo(e).map(function(r){for(var n={color:255,offsetX:jn,offsetY:jn,blur:jn,spread:jn,inset:!1},i=0,s=0;s<r.length;s++){var a=r[s];F_(a,"inset")?n.inset=!0:ju(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:i===2?n.blur=a:n.spread=a,i++):n.color=hu.parse(t,a)}return n})}},xRe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(Jt).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},bRe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},wRe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return e2(e)?e.number:0}},CRe=function(){function t(e,r){var n,i;this.animationDuration=Ie(e,gRe,r.animationDuration),this.backgroundClip=Ie(e,qPe,r.backgroundClip),this.backgroundColor=Ie(e,WPe,r.backgroundColor),this.backgroundImage=Ie(e,iUe,r.backgroundImage),this.backgroundOrigin=Ie(e,sUe,r.backgroundOrigin),this.backgroundPosition=Ie(e,aUe,r.backgroundPosition),this.backgroundRepeat=Ie(e,oUe,r.backgroundRepeat),this.backgroundSize=Ie(e,cUe,r.backgroundSize),this.borderTopColor=Ie(e,dUe,r.borderTopColor),this.borderRightColor=Ie(e,hUe,r.borderRightColor),this.borderBottomColor=Ie(e,AUe,r.borderBottomColor),this.borderLeftColor=Ie(e,fUe,r.borderLeftColor),this.borderTopLeftRadius=Ie(e,pUe,r.borderTopLeftRadius),this.borderTopRightRadius=Ie(e,mUe,r.borderTopRightRadius),this.borderBottomRightRadius=Ie(e,gUe,r.borderBottomRightRadius),this.borderBottomLeftRadius=Ie(e,yUe,r.borderBottomLeftRadius),this.borderTopStyle=Ie(e,vUe,r.borderTopStyle),this.borderRightStyle=Ie(e,xUe,r.borderRightStyle),this.borderBottomStyle=Ie(e,bUe,r.borderBottomStyle),this.borderLeftStyle=Ie(e,wUe,r.borderLeftStyle),this.borderTopWidth=Ie(e,CUe,r.borderTopWidth),this.borderRightWidth=Ie(e,BUe,r.borderRightWidth),this.borderBottomWidth=Ie(e,SUe,r.borderBottomWidth),this.borderLeftWidth=Ie(e,_Ue,r.borderLeftWidth),this.boxShadow=Ie(e,vRe,r.boxShadow),this.color=Ie(e,kUe,r.color),this.direction=Ie(e,EUe,r.direction),this.display=Ie(e,MUe,r.display),this.float=Ie(e,TUe,r.cssFloat),this.fontFamily=Ie(e,cRe,r.fontFamily),this.fontSize=Ie(e,uRe,r.fontSize),this.fontStyle=Ie(e,ARe,r.fontStyle),this.fontVariant=Ie(e,hRe,r.fontVariant),this.fontWeight=Ie(e,dRe,r.fontWeight),this.letterSpacing=Ie(e,DUe,r.letterSpacing),this.lineBreak=Ie(e,LUe,r.lineBreak),this.lineHeight=Ie(e,NUe,r.lineHeight),this.listStyleImage=Ie(e,jUe,r.listStyleImage),this.listStylePosition=Ie(e,IUe,r.listStylePosition),this.listStyleType=Ie(e,T_,r.listStyleType),this.marginTop=Ie(e,OUe,r.marginTop),this.marginRight=Ie(e,PUe,r.marginRight),this.marginBottom=Ie(e,UUe,r.marginBottom),this.marginLeft=Ie(e,RUe,r.marginLeft),this.opacity=Ie(e,aRe,r.opacity);var s=Ie(e,QUe,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Ie(e,zUe,r.overflowWrap),this.paddingTop=Ie(e,HUe,r.paddingTop),this.paddingRight=Ie(e,$Ue,r.paddingRight),this.paddingBottom=Ie(e,VUe,r.paddingBottom),this.paddingLeft=Ie(e,KUe,r.paddingLeft),this.paintOrder=Ie(e,xRe,r.paintOrder),this.position=Ie(e,WUe,r.position),this.textAlign=Ie(e,qUe,r.textAlign),this.textDecorationColor=Ie(e,oRe,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Ie(e,lRe,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=Ie(e,GUe,r.textShadow),this.textTransform=Ie(e,XUe,r.textTransform),this.transform=Ie(e,YUe,r.transform),this.transformOrigin=Ie(e,rRe,r.transformOrigin),this.visibility=Ie(e,nRe,r.visibility),this.webkitTextStrokeColor=Ie(e,bRe,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ie(e,wRe,r.webkitTextStrokeWidth),this.wordBreak=Ie(e,iRe,r.wordBreak),this.zIndex=Ie(e,sRe,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Au(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return cn(this.display,4)||cn(this.display,33554432)||cn(this.display,268435456)||cn(this.display,536870912)||cn(this.display,67108864)||cn(this.display,134217728)},t}(),BRe=function(){function t(e,r){this.content=Ie(e,fRe,r.content),this.quotes=Ie(e,yRe,r.quotes)}return t}(),LH=function(){function t(e,r){this.counterIncrement=Ie(e,pRe,r.counterIncrement),this.counterReset=Ie(e,mRe,r.counterReset)}return t}(),Ie=function(t,e,r){var n=new jne,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var s=new Ine(n.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(t,Jt(a)?a.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return P5.parse(t,s.parseComponentValue());case"color":return hu.parse(t,s.parseComponentValue());case"image":return lT.parse(t,s.parseComponentValue());case"length":var o=s.parseComponentValue();return ju(o)?o:jn;case"length-percentage":var l=s.parseComponentValue();return tn(l)?l:jn;case"time":return eie.parse(t,s.parseComponentValue())}break}},SRe="data-html2canvas-debug",_Re=function(t){var e=t.getAttribute(SRe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},D_=function(t,e){var r=_Re(t);return r===1||e===r},Ro=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,D_(r,3))debugger;this.styles=new CRe(e,window.getComputedStyle(r,null)),j_(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=I5(this.context,r),D_(r,4)&&(this.flags|=16)}return t}(),kRe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",NH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",om=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var r4=0;r4<NH.length;r4++)om[NH.charCodeAt(r4)]=r4;var ERe=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)s=om[t.charCodeAt(n)],a=om[t.charCodeAt(n+1)],o=om[t.charCodeAt(n+2)],l=om[t.charCodeAt(n+3)],u[i++]=s<<2|a>>4,u[i++]=(a&15)<<4|o>>2,u[i++]=(o&3)<<6|l&63;return c},MRe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},FRe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},c0=5,cT=11,bC=2,TRe=cT-c0,tie=65536>>c0,DRe=1<<c0,wC=DRe-1,LRe=1024>>c0,NRe=tie+LRe,jRe=NRe,IRe=32,ORe=jRe+IRe,PRe=65536>>cT,URe=1<<TRe,RRe=URe-1,jH=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},QRe=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},zRe=function(t,e){var r=ERe(t),n=Array.isArray(r)?FRe(r):new Uint32Array(r),i=Array.isArray(r)?MRe(r):new Uint16Array(r),s=24,a=jH(i,s/2,n[4]/2),o=n[5]===2?jH(i,(s+n[4])/2):QRe(n,Math.ceil((s+n[4])/4));return new HRe(n[0],n[1],n[2],n[3],a,o)},HRe=function(){function t(e,r,n,i,s,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>c0],r=(r<<bC)+(e&wC),this.data[r];if(e<=65535)return r=this.index[tie+(e-55296>>c0)],r=(r<<bC)+(e&wC),this.data[r];if(e<this.highStart)return r=ORe-PRe+(e>>cT),r=this.index[r],r+=e>>c0&RRe,r=this.index[r],r=(r<<bC)+(e&wC),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),IH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$Re=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var n4=0;n4<IH.length;n4++)$Re[IH.charCodeAt(n4)]=n4;var VRe=1,CC=2,BC=3,OH=4,PH=5,KRe=7,UH=8,SC=9,_C=10,RH=11,QH=12,zH=13,HH=14,kC=15,qRe=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},WRe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=t[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},GRe=zRe(kRe),Ps="×",EC="÷",XRe=function(t){return GRe.get(t)},YRe=function(t,e,r){var n=r-2,i=e[n],s=e[r-1],a=e[r];if(s===CC&&a===BC)return Ps;if(s===CC||s===BC||s===OH||a===CC||a===BC||a===OH)return EC;if(s===UH&&[UH,SC,RH,QH].indexOf(a)!==-1||(s===RH||s===SC)&&(a===SC||a===_C)||(s===QH||s===_C)&&a===_C||a===zH||a===PH||a===KRe||s===VRe)return Ps;if(s===zH&&a===HH){for(;i===PH;)i=e[--n];if(i===HH)return Ps}if(s===kC&&a===kC){for(var o=0;i===kC;)o++,i=e[--n];if(o%2===0)return Ps}return EC},JRe=function(t){var e=qRe(t),r=e.length,n=0,i=0,s=e.map(XRe);return{next:function(){if(n>=r)return{done:!0,value:null};for(var a=Ps;n<r&&(a=YRe(e,s,++n))===Ps;);if(a!==Ps||n===r){var o=WRe.apply(null,e.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},ZRe=function(t){for(var e=JRe(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},eQe=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(n),s===e)return!0}}return!1},tQe=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=O5(n.data).map(function(l){return Ur(l)}),s=0,a={},o=i.every(function(l,c){r.setStart(n,s),r.setEnd(n,s+l.length);var u=r.getBoundingClientRect();s+=l.length;var d=u.x>a.x||u.y>a.y;return a=u,c===0?!0:d});return t.body.removeChild(e),o},rQe=function(){return typeof new Image().crossOrigin<"u"},nQe=function(){return typeof new XMLHttpRequest().responseType=="string"},iQe=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},$H=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},sQe=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,s=e.toDataURL();i.src=s;var a=L_(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),VH(a).then(function(o){n.drawImage(o,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var c=t.createElement("div");return c.style.backgroundImage="url("+s+")",c.style.height=r+"px",$H(l)?VH(L_(r,r,0,0,c)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),$H(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},L_=function(t,e,r,n,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},VH=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Fn={get SUPPORT_RANGE_BOUNDS(){var t=eQe(document);return Object.defineProperty(Fn,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Fn.SUPPORT_RANGE_BOUNDS&&tQe(document);return Object.defineProperty(Fn,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=iQe(document);return Object.defineProperty(Fn,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?sQe(document):Promise.resolve(!1);return Object.defineProperty(Fn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=rQe();return Object.defineProperty(Fn,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=nQe();return Object.defineProperty(Fn,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Fn,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Fn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},eg=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),aQe=function(t,e,r,n){var i=cQe(e,r),s=[],a=0;return i.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(Fn.SUPPORT_RANGE_BOUNDS){var l=KH(n,a,o.length).getClientRects();if(l.length>1){var c=uT(o),u=0;c.forEach(function(A){s.push(new eg(A,Vl.fromDOMRectList(t,KH(n,u+a,A.length).getClientRects()))),u+=A.length})}else s.push(new eg(o,Vl.fromDOMRectList(t,l)))}else{var d=n.splitText(o.length);s.push(new eg(o,oQe(t,n))),n=d}else Fn.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));a+=o.length}),s},oQe=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=I5(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return Vl.EMPTY},KH=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},uT=function(t){if(Fn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return ZRe(t)},lQe=function(t,e){if(Fn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return dQe(t,e)},cQe=function(t,e){return e.letterSpacing!==0?uT(t):lQe(t,e)},uQe=[32,160,4961,65792,65793,4153,4241],dQe=function(t,e){for(var r=POe(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var a=i.value.slice(),o=O5(a),l="";o.forEach(function(c){uQe.indexOf(c)===-1?l+=Ur(c):(l.length&&n.push(l),n.push(Ur(c)),l="")}),l.length&&n.push(l)}};!(i=r.next()).done;)s();return n},hQe=function(){function t(e,r,n){this.text=AQe(r.data,n.textTransform),this.textBounds=aQe(e,this.text,n,r)}return t}(),AQe=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(fQe,pQe);case 2:return t.toUpperCase();default:return t}},fQe=/(^|\s|:|-|\(|\))([a-z])/g,pQe=function(t,e,r){return t.length>0?e+r.toUpperCase():t},rie=function(t){za(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(Ro),nie=function(t){za(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(Ro),iie=function(t){za(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=new XMLSerializer,a=I5(r,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(Ro),sie=function(t){za(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Ro),N_=function(t){za(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(Ro),mQe=[{type:15,flags:0,unit:"px",number:3}],gQe=[{type:16,flags:0,number:50}],yQe=function(t){return t.width>t.height?new Vl(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Vl(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},vQe=function(t){var e=t.type===xQe?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},R3="checkbox",Q3="radio",xQe="password",qH=707406591,dT=function(t){za(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=vQe(n),(i.type===R3||i.type===Q3)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=yQe(i.bounds)),i.type){case R3:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=mQe;break;case Q3:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=gQe;break}return i}return e}(Ro),aie=function(t){za(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(Ro),oie=function(t){za(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Ro),lie=function(t){za(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=uie(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?Jm(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Ml.TRANSPARENT,a=n.contentWindow.document.body?Jm(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Ml.TRANSPARENT;i.backgroundColor=Au(s)?Au(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e}(Ro),bQe=["OL","UL","MENU"],Ox=function(t,e,r,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,die(i)&&i.data.trim().length>0)r.textNodes.push(new hQe(t,i,r.styles));else if(cA(i))if(pie(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return Ox(t,o,r,n)});else{var a=cie(t,i);a.styles.isVisible()&&(wQe(i,a,n)?a.flags|=4:CQe(a.styles)&&(a.flags|=2),bQe.indexOf(i.tagName)!==-1&&(a.flags|=8),r.elements.push(a),i.slot,i.shadowRoot?Ox(t,i.shadowRoot,a,n):!z3(i)&&!hie(i)&&!H3(i)&&Ox(t,i,a,n))}},cie=function(t,e){return I_(e)?new rie(t,e):Aie(e)?new nie(t,e):hie(e)?new iie(t,e):BQe(e)?new sie(t,e):SQe(e)?new N_(t,e):_Qe(e)?new dT(t,e):H3(e)?new aie(t,e):z3(e)?new oie(t,e):fie(e)?new lie(t,e):new Ro(t,e)},uie=function(t,e){var r=cie(t,e);return r.flags|=4,Ox(t,e,r,r),r},wQe=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||hT(t)&&r.styles.isTransparent()},CQe=function(t){return t.isPositioned()||t.isFloating()},die=function(t){return t.nodeType===Node.TEXT_NODE},cA=function(t){return t.nodeType===Node.ELEMENT_NODE},j_=function(t){return cA(t)&&typeof t.style<"u"&&!Px(t)},Px=function(t){return typeof t.className=="object"},BQe=function(t){return t.tagName==="LI"},SQe=function(t){return t.tagName==="OL"},_Qe=function(t){return t.tagName==="INPUT"},kQe=function(t){return t.tagName==="HTML"},hie=function(t){return t.tagName==="svg"},hT=function(t){return t.tagName==="BODY"},Aie=function(t){return t.tagName==="CANVAS"},WH=function(t){return t.tagName==="VIDEO"},I_=function(t){return t.tagName==="IMG"},fie=function(t){return t.tagName==="IFRAME"},GH=function(t){return t.tagName==="STYLE"},EQe=function(t){return t.tagName==="SCRIPT"},z3=function(t){return t.tagName==="TEXTAREA"},H3=function(t){return t.tagName==="SELECT"},pie=function(t){return t.tagName==="SLOT"},XH=function(t){return t.tagName.indexOf("-")>0},MQe=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(o){var l=r.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var l=r.counters[o.counter];a.push(o.counter),l||(l=r.counters[o.counter]=[]),l.push(o.reset)}),a},t}(),YH={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},JH={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},FQe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},TQe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Ch=function(t,e,r,n,i,s){return t<e||t>r?c1(t,i,s.length>0):n.integers.reduce(function(a,o,l){for(;t>=o;)t-=o,a+=n.values[l];return a},"")+s},mie=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},Ir=function(t,e,r,n,i){var s=r-e+1;return(t<0?"-":"")+(mie(Math.abs(t),s,n,function(a){return Ur(Math.floor(a%s)+e)})+i)},yd=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return mie(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},Fh=1,Fc=2,Tc=4,lm=8,Jo=function(t,e,r,n,i,s){if(t<-9999||t>9999)return c1(t,4,i.length>0);var a=Math.abs(t),o=i;if(a===0)return e[0]+o;for(var l=0;a>0&&l<=4;l++){var c=a%10;c===0&&cn(s,Fh)&&o!==""?o=e[c]+o:c>1||c===1&&l===0||c===1&&l===1&&cn(s,Fc)||c===1&&l===1&&cn(s,Tc)&&t>100||c===1&&l>1&&cn(s,lm)?o=e[c]+(l>0?r[l-1]:"")+o:c===1&&l>0&&(o=r[l-1]+o),a=Math.floor(a/10)}return(t<0?n:"")+o},ZH="十百千萬",e$="拾佰仟萬",t$="マイナス",MC="마이너스",c1=function(t,e,r){var n=r?". ":"",i=r?"、":"",s=r?", ":"",a=r?" ":"";switch(e){case 0:return"•"+a;case 1:return"◦"+a;case 2:return"◾"+a;case 5:var o=Ir(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return yd(t,"〇一二三四五六七八九",i);case 6:return Ch(t,1,3999,YH,3,n).toLowerCase();case 7:return Ch(t,1,3999,YH,3,n);case 8:return Ir(t,945,969,!1,n);case 9:return Ir(t,97,122,!1,n);case 10:return Ir(t,65,90,!1,n);case 11:return Ir(t,1632,1641,!0,n);case 12:case 49:return Ch(t,1,9999,JH,3,n);case 35:return Ch(t,1,9999,JH,3,n).toLowerCase();case 13:return Ir(t,2534,2543,!0,n);case 14:case 30:return Ir(t,6112,6121,!0,n);case 15:return yd(t,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return yd(t,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return Jo(t,"零一二三四五六七八九",ZH,"負",i,Fc|Tc|lm);case 47:return Jo(t,"零壹貳參肆伍陸柒捌玖",e$,"負",i,Fh|Fc|Tc|lm);case 42:return Jo(t,"零一二三四五六七八九",ZH,"负",i,Fc|Tc|lm);case 41:return Jo(t,"零壹贰叁肆伍陆柒捌玖",e$,"负",i,Fh|Fc|Tc|lm);case 26:return Jo(t,"〇一二三四五六七八九","十百千万",t$,i,0);case 25:return Jo(t,"零壱弐参四伍六七八九","拾百千万",t$,i,Fh|Fc|Tc);case 31:return Jo(t,"영일이삼사오육칠팔구","십백천만",MC,s,Fh|Fc|Tc);case 33:return Jo(t,"零一二三四五六七八九","十百千萬",MC,s,0);case 32:return Jo(t,"零壹貳參四五六七八九","拾百千",MC,s,Fh|Fc|Tc);case 18:return Ir(t,2406,2415,!0,n);case 20:return Ch(t,1,19999,TQe,3,n);case 21:return Ir(t,2790,2799,!0,n);case 22:return Ir(t,2662,2671,!0,n);case 22:return Ch(t,1,10999,FQe,3,n);case 23:return yd(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return yd(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Ir(t,3302,3311,!0,n);case 28:return yd(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return yd(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return Ir(t,3792,3801,!0,n);case 37:return Ir(t,6160,6169,!0,n);case 38:return Ir(t,4160,4169,!0,n);case 39:return Ir(t,2918,2927,!0,n);case 40:return Ir(t,1776,1785,!0,n);case 43:return Ir(t,3046,3055,!0,n);case 44:return Ir(t,3174,3183,!0,n);case 45:return Ir(t,3664,3673,!0,n);case 46:return Ir(t,3872,3881,!0,n);case 3:default:return Ir(t,48,57,!0,n)}},gie="data-html2canvas-ignore",r$=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new MQe,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=DQe(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,l=o.document,c=jQe(i).then(function(){return ci(n,void 0,void 0,function(){var u,d;return Kn(this,function(A){switch(A.label){case 0:return this.scrolledElements.forEach(UQe),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),u=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:A.sent(),A.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,NQe(l)]:[3,4];case 3:A.sent(),A.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,d)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(OQe(document.doctype)+"<html></html>"),PQe(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},t.prototype.createElementClone=function(e){if(D_(e,2))debugger;if(Aie(e))return this.createCanvasClone(e);if(WH(e))return this.createVideoClone(e);if(GH(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return I_(r)&&(I_(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),XH(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return FC(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!cA(r)||!EQe(r)&&!r.hasAttribute(gie)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!cA(r)||!GH(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(cA(s)&&pie(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(r,o,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(die(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&cA(e)&&(j_(e)||Px(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&j_(i)&&(this.clonedReferenceElement=i),hT(i)&&zQe(i);var l=this.counters.parse(new LH(this.context,s)),c=this.resolvePseudoContent(e,i,a,tg.BEFORE);XH(e)&&(r=!0),WH(e)||this.cloneChildNodes(e,i,r),c&&i.insertBefore(c,i.firstChild);var u=this.resolvePseudoContent(e,i,o,tg.AFTER);return u&&i.appendChild(u),this.counters.pop(l),(s&&(this.options.copyStyles||Px(e))&&!fie(e)||r)&&FC(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(z3(e)||H3(e))&&(z3(i)||H3(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var s=this;if(n){var a=n.content,o=r.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new LH(this.context,n));var l=new BRe(this.context,n),c=o.createElement("html2canvaspseudoelement");FC(n,c),l.content.forEach(function(d){if(d.type===0)c.appendChild(o.createTextNode(d.value));else if(d.type===22){var A=o.createElement("img");A.src=d.value,A.style.opacity="1",c.appendChild(A)}else if(d.type===18){if(d.name==="attr"){var f=d.values.filter(Jt);f.length&&c.appendChild(o.createTextNode(e.getAttribute(f[0].value)||""))}else if(d.name==="counter"){var p=d.values.filter(sf),m=p[0],v=p[1];if(m&&Jt(m)){var g=s.counters.getCounterValue(m.value),y=v&&Jt(v)?T_.parse(s.context,v.value):3;c.appendChild(o.createTextNode(c1(g,y,!1)))}}else if(d.name==="counters"){var x=d.values.filter(sf),m=x[0],b=x[1],v=x[2];if(m&&Jt(m)){var w=s.counters.getCounterValues(m.value),C=v&&Jt(v)?T_.parse(s.context,v.value):3,B=b&&b.type===0?b.value:"",S=w.map(function(T){return c1(T,C,!1)}).join(B);c.appendChild(o.createTextNode(S))}}}else if(d.type===20)switch(d.value){case"open-quote":c.appendChild(o.createTextNode(DH(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":c.appendChild(o.createTextNode(DH(l.quotes,--s.quoteDepth,!1)));break;default:c.appendChild(o.createTextNode(d.value))}}),c.className=O_+" "+P_;var u=i===tg.BEFORE?" "+O_:" "+P_;return Px(r)?r.className.baseValue+=u:r.className+=u,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),tg;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(tg||(tg={}));var DQe=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(gie,"true"),t.body.appendChild(r),r},LQe=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},NQe=function(t){return Promise.all([].slice.call(t.images,0).map(LQe))},jQe=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},IQe=["all","d","content"],FC=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);IQe.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},OQe=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},PQe=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},UQe=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},RQe=":before",QQe=":after",O_="___html2canvas___pseudoelement_before",P_="___html2canvas___pseudoelement_after",n$=`{
    content: "" !important;
    display: none !important;
}`,zQe=function(t){HQe(t,"."+O_+RQe+n$+`
         .`+P_+QQe+n$)},HQe=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},yie=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),$Qe=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(DC(e)||WQe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return ci(this,void 0,void 0,function(){var r,n,i,s,a=this;return Kn(this,function(o){switch(o.label){case 0:return r=yie.isSameOrigin(e),n=!TC(e)&&this._options.useCORS===!0&&Fn.SUPPORT_CORS_IMAGES&&!r,i=!TC(e)&&!r&&!DC(e)&&typeof this._options.proxy=="string"&&Fn.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!TC(e)&&!DC(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var u=new Image;u.onload=function(){return l(u)},u.onerror=c,(GQe(s)||n)&&(u.crossOrigin="anonymous"),u.src=s,u.complete===!0&&setTimeout(function(){return l(u)},500),a._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=Fn.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var d=new FileReader;d.addEventListener("load",function(){return s(d.result)},!1),d.addEventListener("error",function(A){return a(A)},!1),d.readAsDataURL(l.response)}else a("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=a;var c=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),r._options.imageTimeout){var u=r._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return a("Timed out ("+u+"ms) proxying "+i)}}l.send()})},t}(),VQe=/^data:image\/svg\+xml/i,KQe=/^data:image\/.*;base64,/i,qQe=/^data:image\/.*/i,WQe=function(t){return Fn.SUPPORT_SVG_DRAWING||!XQe(t)},TC=function(t){return qQe.test(t)},GQe=function(t){return KQe.test(t)},DC=function(t){return t.substr(0,4)==="blob"},XQe=function(t){return t.substr(-3).toLowerCase()==="svg"||VQe.test(t)},je=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),Bh=function(t,e,r){return new je(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},i4=function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=Bh(this.start,this.startControl,e),i=Bh(this.startControl,this.endControl,e),s=Bh(this.endControl,this.end,e),a=Bh(n,i,e),o=Bh(i,s,e),l=Bh(a,o,e);return r?new t(this.start,n,a,l):new t(l,o,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Hs=function(t){return t.type===1},YQe=function(){function t(e){var r=e.styles,n=e.bounds,i=am(r.borderTopLeftRadius,n.width,n.height),s=i[0],a=i[1],o=am(r.borderTopRightRadius,n.width,n.height),l=o[0],c=o[1],u=am(r.borderBottomRightRadius,n.width,n.height),d=u[0],A=u[1],f=am(r.borderBottomLeftRadius,n.width,n.height),p=f[0],m=f[1],v=[];v.push((s+l)/n.width),v.push((p+d)/n.width),v.push((a+m)/n.height),v.push((c+A)/n.height);var g=Math.max.apply(Math,v);g>1&&(s/=g,a/=g,l/=g,c/=g,d/=g,A/=g,p/=g,m/=g);var y=n.width-l,x=n.height-A,b=n.width-d,w=n.height-m,C=r.borderTopWidth,B=r.borderRightWidth,S=r.borderBottomWidth,E=r.borderLeftWidth,M=sr(r.paddingTop,e.bounds.width),T=sr(r.paddingRight,e.bounds.width),L=sr(r.paddingBottom,e.bounds.width),I=sr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?fr(n.left+E/3,n.top+C/3,s-E/3,a-C/3,zt.TOP_LEFT):new je(n.left+E/3,n.top+C/3),this.topRightBorderDoubleOuterBox=s>0||a>0?fr(n.left+y,n.top+C/3,l-B/3,c-C/3,zt.TOP_RIGHT):new je(n.left+n.width-B/3,n.top+C/3),this.bottomRightBorderDoubleOuterBox=d>0||A>0?fr(n.left+b,n.top+x,d-B/3,A-S/3,zt.BOTTOM_RIGHT):new je(n.left+n.width-B/3,n.top+n.height-S/3),this.bottomLeftBorderDoubleOuterBox=p>0||m>0?fr(n.left+E/3,n.top+w,p-E/3,m-S/3,zt.BOTTOM_LEFT):new je(n.left+E/3,n.top+n.height-S/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?fr(n.left+E*2/3,n.top+C*2/3,s-E*2/3,a-C*2/3,zt.TOP_LEFT):new je(n.left+E*2/3,n.top+C*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?fr(n.left+y,n.top+C*2/3,l-B*2/3,c-C*2/3,zt.TOP_RIGHT):new je(n.left+n.width-B*2/3,n.top+C*2/3),this.bottomRightBorderDoubleInnerBox=d>0||A>0?fr(n.left+b,n.top+x,d-B*2/3,A-S*2/3,zt.BOTTOM_RIGHT):new je(n.left+n.width-B*2/3,n.top+n.height-S*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||m>0?fr(n.left+E*2/3,n.top+w,p-E*2/3,m-S*2/3,zt.BOTTOM_LEFT):new je(n.left+E*2/3,n.top+n.height-S*2/3),this.topLeftBorderStroke=s>0||a>0?fr(n.left+E/2,n.top+C/2,s-E/2,a-C/2,zt.TOP_LEFT):new je(n.left+E/2,n.top+C/2),this.topRightBorderStroke=s>0||a>0?fr(n.left+y,n.top+C/2,l-B/2,c-C/2,zt.TOP_RIGHT):new je(n.left+n.width-B/2,n.top+C/2),this.bottomRightBorderStroke=d>0||A>0?fr(n.left+b,n.top+x,d-B/2,A-S/2,zt.BOTTOM_RIGHT):new je(n.left+n.width-B/2,n.top+n.height-S/2),this.bottomLeftBorderStroke=p>0||m>0?fr(n.left+E/2,n.top+w,p-E/2,m-S/2,zt.BOTTOM_LEFT):new je(n.left+E/2,n.top+n.height-S/2),this.topLeftBorderBox=s>0||a>0?fr(n.left,n.top,s,a,zt.TOP_LEFT):new je(n.left,n.top),this.topRightBorderBox=l>0||c>0?fr(n.left+y,n.top,l,c,zt.TOP_RIGHT):new je(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||A>0?fr(n.left+b,n.top+x,d,A,zt.BOTTOM_RIGHT):new je(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=p>0||m>0?fr(n.left,n.top+w,p,m,zt.BOTTOM_LEFT):new je(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?fr(n.left+E,n.top+C,Math.max(0,s-E),Math.max(0,a-C),zt.TOP_LEFT):new je(n.left+E,n.top+C),this.topRightPaddingBox=l>0||c>0?fr(n.left+Math.min(y,n.width-B),n.top+C,y>n.width+B?0:Math.max(0,l-B),Math.max(0,c-C),zt.TOP_RIGHT):new je(n.left+n.width-B,n.top+C),this.bottomRightPaddingBox=d>0||A>0?fr(n.left+Math.min(b,n.width-E),n.top+Math.min(x,n.height-S),Math.max(0,d-B),Math.max(0,A-S),zt.BOTTOM_RIGHT):new je(n.left+n.width-B,n.top+n.height-S),this.bottomLeftPaddingBox=p>0||m>0?fr(n.left+E,n.top+Math.min(w,n.height-S),Math.max(0,p-E),Math.max(0,m-S),zt.BOTTOM_LEFT):new je(n.left+E,n.top+n.height-S),this.topLeftContentBox=s>0||a>0?fr(n.left+E+I,n.top+C+M,Math.max(0,s-(E+I)),Math.max(0,a-(C+M)),zt.TOP_LEFT):new je(n.left+E+I,n.top+C+M),this.topRightContentBox=l>0||c>0?fr(n.left+Math.min(y,n.width+E+I),n.top+C+M,y>n.width+E+I?0:l-E+I,c-(C+M),zt.TOP_RIGHT):new je(n.left+n.width-(B+T),n.top+C+M),this.bottomRightContentBox=d>0||A>0?fr(n.left+Math.min(b,n.width-(E+I)),n.top+Math.min(x,n.height+C+M),Math.max(0,d-(B+T)),A-(S+L),zt.BOTTOM_RIGHT):new je(n.left+n.width-(B+T),n.top+n.height-(S+L)),this.bottomLeftContentBox=p>0||m>0?fr(n.left+E+I,n.top+w,Math.max(0,p-(E+I)),m-(S+L),zt.BOTTOM_LEFT):new je(n.left+E+I,n.top+n.height-(S+L))}return t}(),zt;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(zt||(zt={}));var fr=function(t,e,r,n,i){var s=4*((Math.sqrt(2)-1)/3),a=r*s,o=n*s,l=t+r,c=e+n;switch(i){case zt.TOP_LEFT:return new i4(new je(t,c),new je(t,c-o),new je(l-a,e),new je(l,e));case zt.TOP_RIGHT:return new i4(new je(t,e),new je(t+a,e),new je(l,c-o),new je(l,c));case zt.BOTTOM_RIGHT:return new i4(new je(l,e),new je(l,e+o),new je(t+a,c),new je(t,c));case zt.BOTTOM_LEFT:default:return new i4(new je(l,c),new je(l-a,c),new je(t,e+o),new je(t,e))}},$3=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},JQe=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},V3=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},ZQe=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),s4=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),eze=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),tze=function(t){return t.type===0},vie=function(t){return t.type===1},rze=function(t){return t.type===2},i$=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},nze=function(t,e,r,n,i){return t.map(function(s,a){switch(a){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+i);case 3:return s.add(e,r+i)}return s})},xie=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),bie=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new YQe(this.container),this.container.styles.opacity<1&&this.effects.push(new eze(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new ZQe(n,i,s))}if(this.container.styles.overflowX!==0){var a=$3(this.curves),o=V3(this.curves);i$(a,o)?this.effects.push(new s4(a,6)):(this.effects.push(new s4(a,2)),this.effects.push(new s4(o,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(l){return!vie(l)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=$3(n.curves),o=V3(n.curves);i$(a,o)||i.unshift(new s4(o,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(l){return cn(l.target,e)})},t}(),U_=function(t,e,r,n){t.container.elements.forEach(function(i){var s=cn(i.flags,4),a=cn(i.flags,2),o=new bie(i,t);cn(i.styles.display,2048)&&n.push(o);var l=cn(i.flags,8)?[]:n;if(s||a){var c=s||i.styles.isPositioned()?r:e,u=new xie(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var d=i.styles.zIndex.order;if(d<0){var A=0;c.negativeZIndex.some(function(p,m){return d>p.element.container.styles.zIndex.order?(A=m,!1):A>0}),c.negativeZIndex.splice(A,0,u)}else if(d>0){var f=0;c.positiveZIndex.some(function(p,m){return d>=p.element.container.styles.zIndex.order?(f=m+1,!1):f>0}),c.positiveZIndex.splice(f,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);U_(o,u,s?u:r,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),U_(o,e,r,l);cn(i.flags,8)&&wie(i,l)})},wie=function(t,e){for(var r=t instanceof N_?t.start:1,n=t instanceof N_?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof sie&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=c1(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},ize=function(t){var e=new bie(t,null),r=new xie(e),n=[];return U_(e,r,r,n),wie(e.container,n),r},s$=function(t,e){switch(e){case 0:return Ws(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Ws(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Ws(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Ws(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},sze=function(t,e){switch(e){case 0:return Ws(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Ws(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Ws(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Ws(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},aze=function(t,e){switch(e){case 0:return Ws(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Ws(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Ws(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Ws(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},oze=function(t,e){switch(e){case 0:return a4(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return a4(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return a4(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return a4(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},a4=function(t,e){var r=[];return Hs(t)?r.push(t.subdivide(.5,!1)):r.push(t),Hs(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Ws=function(t,e,r,n){var i=[];return Hs(t)?i.push(t.subdivide(.5,!1)):i.push(t),Hs(r)?i.push(r.subdivide(.5,!0)):i.push(r),Hs(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Hs(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},Cie=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},K3=function(t){var e=t.styles,r=t.bounds,n=sr(e.paddingLeft,r.width),i=sr(e.paddingRight,r.width),s=sr(e.paddingTop,r.width),a=sr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},lze=function(t,e){return t===0?e.bounds:t===2?K3(e):Cie(e)},cze=function(t,e){return t===0?e.bounds:t===2?K3(e):Cie(e)},LC=function(t,e,r){var n=lze(Th(t.styles.backgroundOrigin,e),t),i=cze(Th(t.styles.backgroundClip,e),t),s=uze(Th(t.styles.backgroundSize,e),r,n),a=s[0],o=s[1],l=am(Th(t.styles.backgroundPosition,e),n.width-a,n.height-o),c=dze(Th(t.styles.backgroundRepeat,e),l,s,n,i),u=Math.round(n.left+l[0]),d=Math.round(n.top+l[1]);return[c,u,d,a,o]},Sh=function(t){return Jt(t)&&t.value===LA.AUTO},o4=function(t){return typeof t=="number"},uze=function(t,e,r){var n=e[0],i=e[1],s=e[2],a=t[0],o=t[1];if(!a)return[0,0];if(tn(a)&&o&&tn(o))return[sr(a,r.width),sr(o,r.height)];var l=o4(s);if(Jt(a)&&(a.value===LA.CONTAIN||a.value===LA.COVER)){if(o4(s)){var c=r.width/r.height;return c<s!=(a.value===LA.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var u=o4(n),d=o4(i),A=u||d;if(Sh(a)&&(!o||Sh(o))){if(u&&d)return[n,i];if(!l&&!A)return[r.width,r.height];if(A&&l){var f=u?n:i*s,p=d?i:n/s;return[f,p]}var m=u?n:r.width,v=d?i:r.height;return[m,v]}if(l){var g=0,y=0;return tn(a)?g=sr(a,r.width):tn(o)&&(y=sr(o,r.height)),Sh(a)?g=y*s:(!o||Sh(o))&&(y=g/s),[g,y]}var x=null,b=null;if(tn(a)?x=sr(a,r.width):o&&tn(o)&&(b=sr(o,r.height)),x!==null&&(!o||Sh(o))&&(b=u&&d?x/n*i:r.height),b!==null&&Sh(a)&&(x=u&&d?b/i*n:r.width),x!==null&&b!==null)return[x,b];throw new Error("Unable to calculate background-size for element")},Th=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},dze=function(t,e,r,n,i){var s=e[0],a=e[1],o=r[0],l=r[1];switch(t){case 2:return[new je(Math.round(n.left),Math.round(n.top+a)),new je(Math.round(n.left+n.width),Math.round(n.top+a)),new je(Math.round(n.left+n.width),Math.round(l+n.top+a)),new je(Math.round(n.left),Math.round(l+n.top+a))];case 3:return[new je(Math.round(n.left+s),Math.round(n.top)),new je(Math.round(n.left+s+o),Math.round(n.top)),new je(Math.round(n.left+s+o),Math.round(n.height+n.top)),new je(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new je(Math.round(n.left+s),Math.round(n.top+a)),new je(Math.round(n.left+s+o),Math.round(n.top+a)),new je(Math.round(n.left+s+o),Math.round(n.top+a+l)),new je(Math.round(n.left+s),Math.round(n.top+a+l))];default:return[new je(Math.round(i.left),Math.round(i.top)),new je(Math.round(i.left+i.width),Math.round(i.top)),new je(Math.round(i.left+i.width),Math.round(i.height+i.top)),new je(Math.round(i.left),Math.round(i.height+i.top))]}},hze="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",a$="Hidden Text",Aze=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),i.src=hze,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(a$)),n.appendChild(s),n.appendChild(i);var o=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(a$)),n.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:l}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),Bie=function(){function t(e,r){this.context=e,this.options=r}return t}(),fze=1e4,pze=function(t){za(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new Aze(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),rze(r)&&(this.ctx.globalAlpha=r.opacity),tze(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),vie(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return ci(this,void 0,void 0,function(){var n;return Kn(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return ci(this,void 0,void 0,function(){return Kn(this,function(n){switch(n.label){case 0:if(cn(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var a=uT(r.text);a.reduce(function(o,l){return s.ctx.fillText(l,o,r.bounds.top+i),o+s.ctx.measureText(l).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=xze(r.fontFamily).join(", "),s=e2(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(r,n){return ci(this,void 0,void 0,function(){var i,s,a,o,l,c,u,d,A=this;return Kn(this,function(f){return i=this.createFontStyle(n),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),c=l.baseline,u=l.middle,d=n.paintOrder,r.textBounds.forEach(function(p){d.forEach(function(m){switch(m){case 0:A.ctx.fillStyle=vn(n.color),A.renderTextWithLetterSpacing(p,n.letterSpacing,c);var v=n.textShadow;v.length&&p.text.trim().length&&(v.slice(0).reverse().forEach(function(g){A.ctx.shadowColor=vn(g.color),A.ctx.shadowOffsetX=g.offsetX.number*A.options.scale,A.ctx.shadowOffsetY=g.offsetY.number*A.options.scale,A.ctx.shadowBlur=g.blur.number,A.renderTextWithLetterSpacing(p,n.letterSpacing,c)}),A.ctx.shadowColor="",A.ctx.shadowOffsetX=0,A.ctx.shadowOffsetY=0,A.ctx.shadowBlur=0),n.textDecorationLine.length&&(A.ctx.fillStyle=vn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(g){switch(g){case 1:A.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+c),p.bounds.width,1);break;case 2:A.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:A.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+u),p.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&p.text.trim().length&&(A.ctx.strokeStyle=vn(n.webkitTextStrokeColor),A.ctx.lineWidth=n.webkitTextStrokeWidth,A.ctx.lineJoin=window.chrome?"miter":"round",A.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+c)),A.ctx.strokeStyle="",A.ctx.lineWidth=0,A.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=K3(r),a=V3(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return ci(this,void 0,void 0,function(){var n,i,s,a,o,l,y,y,c,u,d,A,b,f,p,w,m,v,g,y,x,b,w;return Kn(this,function(C){switch(C.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,s=n.styles,a=0,o=n.textNodes,C.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:C.sent(),C.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof rie))return[3,8];C.label=5;case 5:return C.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return y=C.sent(),this.renderReplacedElement(n,i,y),[3,8];case 7:return C.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof nie&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof iie))return[3,12];C.label=9;case 9:return C.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return y=C.sent(),this.renderReplacedElement(n,i,y),[3,12];case 11:return C.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof lie&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:u=C.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),C.label=14;case 14:if(n instanceof dT&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===R3?n.checked&&(this.ctx.save(),this.path([new je(n.bounds.left+d*.39363,n.bounds.top+d*.79),new je(n.bounds.left+d*.16,n.bounds.top+d*.5549),new je(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new je(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new je(n.bounds.left+d*.72983,n.bounds.top+d*.23),new je(n.bounds.left+d*.84,n.bounds.top+d*.34085),new je(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=vn(qH),this.ctx.fill(),this.ctx.restore()):n.type===Q3&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=vn(qH),this.ctx.fill(),this.ctx.restore())),mze(n)&&n.value.length){switch(A=this.createFontStyle(s),b=A[0],f=A[1],p=this.fontMetrics.getMetrics(b,f).baseline,this.ctx.font=b,this.ctx.fillStyle=vn(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=yze(n.styles.textAlign),w=K3(n),m=0,n.styles.textAlign){case 1:m+=w.width/2;break;case 2:m+=w.width;break}v=w.add(m,0,0,-w.height/2+1),this.ctx.save(),this.path([new je(w.left,w.top),new je(w.left+w.width,w.top),new je(w.left+w.width,w.top+w.height),new je(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new eg(n.value,v),s.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!cn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(g=n.styles.listStyleImage,g.type!==0)return[3,18];y=void 0,x=g.url,C.label=15;case 15:return C.trys.push([15,17,,18]),[4,this.context.cache.match(x)];case 16:return y=C.sent(),this.ctx.drawImage(y,n.bounds.left-(y.width+10),n.bounds.top),[3,18];case 17:return C.sent(),this.context.logger.error("Error loading list-style-image "+x),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(b=this.createFontStyle(s)[0],this.ctx.font=b,this.ctx.fillStyle=vn(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new Vl(n.bounds.left,n.bounds.top+sr(n.styles.paddingTop,n.bounds.width),n.bounds.width,FH(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new eg(r.listValue,w),s.letterSpacing,FH(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),C.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return ci(this,void 0,void 0,function(){var n,i,g,s,a,g,o,l,g,c,u,g,d,A,g,f,p,g,m,v,g;return Kn(this,function(y){switch(y.label){case 0:if(cn(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:y.sent(),n=0,i=r.negativeZIndex,y.label=2;case 2:return n<i.length?(g=i[n],[4,this.renderStack(g)]):[3,5];case 3:y.sent(),y.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:y.sent(),s=0,a=r.nonInlineLevel,y.label=7;case 7:return s<a.length?(g=a[s],[4,this.renderNode(g)]):[3,10];case 8:y.sent(),y.label=9;case 9:return s++,[3,7];case 10:o=0,l=r.nonPositionedFloats,y.label=11;case 11:return o<l.length?(g=l[o],[4,this.renderStack(g)]):[3,14];case 12:y.sent(),y.label=13;case 13:return o++,[3,11];case 14:c=0,u=r.nonPositionedInlineLevel,y.label=15;case 15:return c<u.length?(g=u[c],[4,this.renderStack(g)]):[3,18];case 16:y.sent(),y.label=17;case 17:return c++,[3,15];case 18:d=0,A=r.inlineLevel,y.label=19;case 19:return d<A.length?(g=A[d],[4,this.renderNode(g)]):[3,22];case 20:y.sent(),y.label=21;case 21:return d++,[3,19];case 22:f=0,p=r.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return f<p.length?(g=p[f],[4,this.renderStack(g)]):[3,26];case 24:y.sent(),y.label=25;case 25:return f++,[3,23];case 26:m=0,v=r.positiveZIndex,y.label=27;case 27:return m<v.length?(g=v[m],[4,this.renderStack(g)]):[3,30];case 28:y.sent(),y.label=29;case 29:return m++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,s){var a=Hs(i)?i.start:i;s===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),Hs(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(r,n,i){var s;if(r.width===n&&r.height===i)return r;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,i);var l=o.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,i),o},e.prototype.renderBackgroundImage=function(r){return ci(this,void 0,void 0,function(){var n,i,s,a,o,l;return Kn(this,function(c){switch(c.label){case 0:n=r.styles.backgroundImage.length-1,i=function(u){var d,A,f,M,W,K,I,R,S,p,M,W,K,I,R,m,v,g,y,x,b,w,C,B,S,E,M,T,L,I,R,z,W,K,U,q,N,ne,re,O,me,Ce;return Kn(this,function(oe){switch(oe.label){case 0:if(u.type!==0)return[3,5];d=void 0,A=u.url,oe.label=1;case 1:return oe.trys.push([1,3,,4]),[4,s.context.cache.match(A)];case 2:return d=oe.sent(),[3,4];case 3:return oe.sent(),s.context.logger.error("Error loading background-image "+A),[3,4];case 4:return d&&(f=LC(r,n,[d.width,d.height,d.width/d.height]),M=f[0],W=f[1],K=f[2],I=f[3],R=f[4],S=s.ctx.createPattern(s.resizeImage(d,I,R),"repeat"),s.renderRepeat(M,S,W,K)),[3,6];case 5:tUe(u)?(p=LC(r,n,[null,null,null]),M=p[0],W=p[1],K=p[2],I=p[3],R=p[4],m=XPe(u.angle,I,R),v=m[0],g=m[1],y=m[2],x=m[3],b=m[4],w=document.createElement("canvas"),w.width=I,w.height=R,C=w.getContext("2d"),B=C.createLinearGradient(g,x,y,b),EH(u.stops,v).forEach(function(ye){return B.addColorStop(ye.stop,vn(ye.color))}),C.fillStyle=B,C.fillRect(0,0,I,R),I>0&&R>0&&(S=s.ctx.createPattern(w,"repeat"),s.renderRepeat(M,S,W,K))):rUe(u)&&(E=LC(r,n,[null,null,null]),M=E[0],T=E[1],L=E[2],I=E[3],R=E[4],z=u.position.length===0?[oT]:u.position,W=sr(z[0],I),K=sr(z[z.length-1],R),U=YPe(u,W,K,I,R),q=U[0],N=U[1],q>0&&N>0&&(ne=s.ctx.createRadialGradient(T+W,L+K,0,T+W,L+K,q),EH(u.stops,q*2).forEach(function(ye){return ne.addColorStop(ye.stop,vn(ye.color))}),s.path(M),s.ctx.fillStyle=ne,q!==N?(re=r.bounds.left+.5*r.bounds.width,O=r.bounds.top+.5*r.bounds.height,me=N/q,Ce=1/me,s.ctx.save(),s.ctx.translate(re,O),s.ctx.transform(1,0,0,me,0,0),s.ctx.translate(-re,-O),s.ctx.fillRect(T,Ce*(L-O)+O,I,R*Ce),s.ctx.restore()):s.ctx.fill())),oe.label=6;case 6:return n--,[2]}})},s=this,a=0,o=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return a<o.length?(l=o[a],[5,i(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return ci(this,void 0,void 0,function(){return Kn(this,function(s){return this.path(s$(i,n)),this.ctx.fillStyle=vn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,s){return ci(this,void 0,void 0,function(){var a,o;return Kn(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=sze(s,i),this.path(a),this.ctx.fillStyle=vn(r),this.ctx.fill(),o=aze(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return ci(this,void 0,void 0,function(){var n,i,s,a,o,l,c,u,d=this;return Kn(this,function(A){switch(A.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!Au(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=gze(Th(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Au(n.backgroundColor)||(this.ctx.fillStyle=vn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:A.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){d.ctx.save();var p=$3(r.curves),m=f.inset?0:fze,v=nze(p,-m+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(d.path(p),d.ctx.clip(),d.mask(v)):(d.mask(p),d.ctx.clip(),d.path(v)),d.ctx.shadowOffsetX=f.offsetX.number+m,d.ctx.shadowOffsetY=f.offsetY.number,d.ctx.shadowColor=vn(f.color),d.ctx.shadowBlur=f.blur.number,d.ctx.fillStyle=f.inset?vn(f.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),A.label=2;case 2:o=0,l=0,c=s,A.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!Au(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return A.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,3)];case 6:return A.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,o,r.curves)];case 8:return A.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,o,r.curves)];case 10:A.sent(),A.label=11;case 11:o++,A.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,s,a){return ci(this,void 0,void 0,function(){var o,l,c,u,d,A,f,p,m,v,g,y,x,b,w,C,w,C;return Kn(this,function(B){return this.ctx.save(),o=oze(s,i),l=s$(s,i),a===2&&(this.path(l),this.ctx.clip()),Hs(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),Hs(l[1])?(d=l[1].end.x,A=l[1].end.y):(d=l[1].x,A=l[1].y),i===0||i===2?f=Math.abs(c-d):f=Math.abs(u-A),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),p=n<3?n*3:n*2,m=n<3?n*2:n,a===3&&(p=n,m=n),v=!0,f<=p*2?v=!1:f<=p*2+m?(g=f/(2*p+m),p*=g,m*=g):(y=Math.floor((f+m)/(p+m)),x=(f-y*p)/(y-1),b=(f-(y+1)*p)/y,m=b<=0||Math.abs(m-x)<Math.abs(m-b)?x:b),v&&(a===3?this.ctx.setLineDash([0,p+m]):this.ctx.setLineDash([p,m])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=vn(r),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Hs(l[0])&&(w=l[3],C=l[0],this.ctx.beginPath(),this.formatPath([new je(w.end.x,w.end.y),new je(C.start.x,C.start.y)]),this.ctx.stroke()),Hs(l[1])&&(w=l[1],C=l[2],this.ctx.beginPath(),this.formatPath([new je(w.end.x,w.end.y),new je(C.start.x,C.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return ci(this,void 0,void 0,function(){var n;return Kn(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=vn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=ize(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(Bie),mze=function(t){return t instanceof oie||t instanceof aie?!0:t instanceof dT&&t.type!==Q3&&t.type!==R3},gze=function(t,e){switch(t){case 0:return $3(e);case 2:return JQe(e);case 1:default:return V3(e)}},yze=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},vze=["-apple-system","system-ui"],xze=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return vze.indexOf(e)===-1}):t},bze=function(t){za(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return ci(this,void 0,void 0,function(){var n,i;return Kn(this,function(s){switch(s.label){case 0:return n=L_(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,wze(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=vn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(Bie),wze=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Cze=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Uv([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Uv([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Uv([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Uv([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),Bze=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new Cze({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new $Qe(this,e)}return t.instanceCount=1,t}(),K5=function(t,e){return e===void 0&&(e={}),Sze(t,e)};typeof window<"u"&&yie.setContext(window);var Sze=function(t,e){return ci(void 0,void 0,void 0,function(){var r,n,i,s,a,o,l,c,u,d,A,f,p,m,v,g,y,x,b,w,B,C,B,S,E,M,T,L,I,R,z,W,K,U,q,N,ne,re,O,me;return Kn(this,function(Ce){switch(Ce.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(S=e.allowTaint)!==null&&S!==void 0?S:!1,imageTimeout:(E=e.imageTimeout)!==null&&E!==void 0?E:15e3,proxy:e.proxy,useCORS:(M=e.useCORS)!==null&&M!==void 0?M:!1},s=y_({logging:(T=e.logging)!==null&&T!==void 0?T:!0,cache:e.cache},i),a={windowWidth:(L=e.windowWidth)!==null&&L!==void 0?L:n.innerWidth,windowHeight:(I=e.windowHeight)!==null&&I!==void 0?I:n.innerHeight,scrollX:(R=e.scrollX)!==null&&R!==void 0?R:n.pageXOffset,scrollY:(z=e.scrollY)!==null&&z!==void 0?z:n.pageYOffset},o=new Vl(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new Bze(s,o),c=(W=e.foreignObjectRendering)!==null&&W!==void 0?W:!1,u={allowTaint:(K=e.allowTaint)!==null&&K!==void 0?K:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),d=new r$(l,t,u),A=d.clonedReferenceElement,A?[4,d.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=Ce.sent(),p=hT(A)||kQe(A)?nOe(A.ownerDocument):I5(l,A),m=p.width,v=p.height,g=p.left,y=p.top,x=_ze(l,A,e.backgroundColor),b={canvas:e.canvas,backgroundColor:x,scale:(q=(U=e.scale)!==null&&U!==void 0?U:n.devicePixelRatio)!==null&&q!==void 0?q:1,x:((N=e.x)!==null&&N!==void 0?N:0)+g,y:((ne=e.y)!==null&&ne!==void 0?ne:0)+y,width:(re=e.width)!==null&&re!==void 0?re:Math.ceil(m),height:(O=e.height)!==null&&O!==void 0?O:Math.ceil(v)},c?(l.logger.debug("Document cloned, using foreign object rendering"),B=new bze(l,b),[4,B.render(A)]):[3,3];case 2:return w=Ce.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+g+","+y+" with size "+m+"x"+v+" using computed rendering"),l.logger.debug("Starting DOM parsing"),C=uie(l,A),x===C.styles.backgroundColor&&(C.styles.backgroundColor=Ml.TRANSPARENT),l.logger.debug("Starting renderer for element at "+b.x+","+b.y+" with size "+b.width+"x"+b.height),B=new pze(l,b),[4,B.render(C)];case 4:w=Ce.sent(),Ce.label=5;case 5:return(!((me=e.removeContainer)!==null&&me!==void 0)||me)&&(r$.destroy(f)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,w]}})})},_ze=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?Jm(t,getComputedStyle(n.documentElement).backgroundColor):Ml.TRANSPARENT,s=n.body?Jm(t,getComputedStyle(n.body).backgroundColor):Ml.TRANSPARENT,a=typeof r=="string"?Jm(t,r):r===null?Ml.TRANSPARENT:4294967295;return e===n.documentElement?Au(i)?Au(s)?a:s:i:a};function kze(t){let e=new Nu;e.setOptions({virtualKeyboardMode:"off",hideVirtualKeyboardToggle:!0,readOnly:!1,customFontsDirectory:null}),document.body.appendChild(e),Object.assign(e.style,{position:"absolute",left:"50%",top:"50%",zIndex:"1000",fontSize:"20px",padding:"5px",background:"transparent",overflow:"hidden",resize:"none"}),e.focus(),mathVirtualKeyboard.show(),setTimeout(()=>{var r,n,i,s;(n=(r=e.shadowRoot)==null?void 0:r.querySelector(".ML__virtual-keyboard-toggle"))==null||n.remove(),(s=(i=e.shadowRoot)==null?void 0:i.querySelector(".ML__menu-toggle"))==null||s.remove()},100),e.addEventListener("keydown",r=>{if(r.key==="Enter"){r.preventDefault();let n=e.getValue("latex");n.includes("\\begin{array}")?n=n.replace("\\end{array}"," \\\\ \\end{array}"):n="\\begin{array}{l}"+n+" \\\\ \\end{array}",e.setValue(n)}if(r.key==="Enter"&&r.shiftKey){r.preventDefault();let n=e.getValue("latex");n.includes("\\begin{array}")?n=n.replace("\\end{array}","\\\\ \\end{array}"):n="\\begin{array}{l}"+n+"\\\\ \\end{array}",e.setValue(n),Eze(e,t,n)}})}function Eze(t,e,r){console.log("Captured LaTeX:",t.getValue("latex")),setTimeout(()=>{var i;const n=(i=t.shadowRoot)==null?void 0:i.querySelector(".ML__container");n&&(K5(n).then(s=>{const a=new Gn(s,{left:100,top:100,selectable:!1,backgroundColor:"tranparent",latex:r,controls:{...Nc.createControls().controls,delete:new Jr({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,mouseUpHandler:(o,l,c,u)=>{e.remove(l.target)},cursorStyle:"pointer",render:(o,l,c,u,d)=>{o.save(),o.fillStyle="red",o.fillRect(l-10,c-10,20,20),o.strokeStyle="white",o.lineWidth=2,o.beginPath(),o.moveTo(l-5,c-5),o.lineTo(l+5,c+5),o.moveTo(l+5,c-5),o.lineTo(l-5,c+5),o.stroke(),o.restore()}})}});console.log("Fabric Image created from screenshot:",a),e.add(a),e.renderAll()}),t.remove())},100)}function Mze({canvas:t}){kze(t)}const Fze=({canvas:t})=>{const e=document.getElementById("chartPreviewContainer");e&&K5(e,{scrollY:-window.scrollY}).then(r=>{const n=new Gn(r,{left:100,top:100,selectable:!1,backgroundColor:"transparent",controls:{...Gn.createControls().controls,delete:new Jr({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,backgroundColor:"tranparent",mouseUpHandler:(i,s,a,o)=>{t.remove(s.target)},cursorStyle:"pointer",render:(i,s,a,o,l)=>{i.save(),i.fillStyle="red",i.fillRect(s-10,a-10,20,20),i.strokeStyle="white",i.lineWidth=2,i.beginPath(),i.moveTo(s-5,a-5),i.lineTo(s+5,a+5),i.moveTo(s+5,a-5),i.lineTo(s-5,a+5),i.stroke(),i.restore()}})}});t.add(n),t.renderAll()})};function Tze(t){Fze(t)}const Dze=({isOpen:t,onClose:e,parameters:r})=>{const[n,i]=_.useState({title:"",labels:"",data:"",colors:""}),[s,a]=_.useState(null),o=_.useRef(null),[l,c]=_.useState(null),u=f=>{i({...n,[f.target.name]:f.target.value})},d=f=>{f.preventDefault();const p=n.labels.split(",").map(y=>y.trim()),m=n.data.split(",").map(y=>parseFloat(y.trim())),v=n.colors.split(",").map(y=>y.trim()),g={type:"pie",data:{labels:p,datasets:[{data:m,backgroundColor:v,label:n.title}]},options:{responsive:!1,maintainAspectRatio:!1}};a(g)};_.useEffect(()=>{if(s&&o.current){l&&l.destroy();const f=new wf(o.current.getContext("2d"),s);c(f)}},[s]);const A=()=>{Tze(r),a(null),i({title:"",labels:"",data:"",colors:""}),l&&(l.destroy(),c(null))};return t?h.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[h.jsx("div",{className:"absolute inset-0 bg-gray-900 opacity-50",onClick:e}),h.jsx("div",{className:"bg-white rounded shadow-lg p-6 z-10 w-11/12 md:w-1/2",children:s?h.jsxs(h.Fragment,{children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Chart Preview"}),h.jsx("div",{id:"chartPreviewContainer",style:{padding:"10px",background:"transparent",overflow:"visible",display:"flex",justifyContent:"center"},children:h.jsx("canvas",{id:"chartPreviewCanvas",ref:o,width:"400",height:"400"})}),h.jsxs("div",{className:"flex justify-end mt-4",children:[h.jsx("button",{type:"button",onClick:()=>a(null),className:"mr-2 bg-gray-500 text-white px-4 py-2 rounded",children:"Edit"}),h.jsx("button",{type:"button",onClick:A,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Add"})]})]}):h.jsxs(h.Fragment,{children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Create Pie Chart"}),h.jsxs("form",{onSubmit:d,children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 mb-1",children:"Title"}),h.jsx("input",{type:"text",name:"title",className:"w-full px-3 py-2 border rounded",value:n.title,onChange:u,placeholder:"Enter chart title",required:!0})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 mb-1",children:"Labels (comma separated)"}),h.jsx("input",{type:"text",name:"labels",className:"w-full px-3 py-2 border rounded",value:n.labels,onChange:u,placeholder:"e.g., Red, Blue, Green",required:!0})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 mb-1",children:"Data (comma separated numbers)"}),h.jsx("input",{type:"text",name:"data",className:"w-full px-3 py-2 border rounded",value:n.data,onChange:u,placeholder:"e.g., 10, 20, 30",required:!0})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 mb-1",children:"Colors (comma separated hex codes)"}),h.jsx("input",{type:"text",name:"colors",className:"w-full px-3 py-2 border rounded",value:n.colors,onChange:u,placeholder:"e.g., #FF6384, #36A2EB, #FFCE56",required:!0})]}),h.jsxs("div",{className:"flex justify-end",children:[h.jsx("button",{type:"button",onClick:e,className:"mr-2 bg-gray-500 text-white px-4 py-2 rounded",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Preview"})]})]})]})})]}):null},Lze=({canvas:t})=>{const e=document.getElementById("chartPreviewContainer");e&&K5(e,{scrollY:-window.scrollY}).then(r=>{const n=new Gn(r,{left:100,top:100,selectable:!1,backgroundColor:"transparent",controls:{...Gn.createControls().controls,delete:new Jr({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,backgroundColor:"tranparent",mouseUpHandler:(i,s,a,o)=>{t.remove(s.target)},cursorStyle:"pointer",render:(i,s,a,o,l)=>{i.save(),i.fillStyle="red",i.fillRect(s-10,a-10,20,20),i.strokeStyle="white",i.lineWidth=2,i.beginPath(),i.moveTo(s-5,a-5),i.lineTo(s+5,a+5),i.moveTo(s+5,a-5),i.lineTo(s-5,a+5),i.stroke(),i.restore()}})}});t.add(n),t.renderAll()})};function Nze(t){Lze(t)}const jze=({isOpen:t,onClose:e,parameters:r})=>{const[n,i]=_.useState({title:"",labels:"",data:"",colors:""}),[s,a]=_.useState(null),o=_.useRef(null),[l,c]=_.useState(null),u=f=>{i({...n,[f.target.name]:f.target.value})},d=f=>{f.preventDefault();const p=n.labels.split(",").map(y=>y.trim()),m=n.data.split(",").map(y=>parseFloat(y.trim())),v=n.colors.split(",").map(y=>y.trim()),g={type:"bar",data:{labels:p,datasets:[{data:m,backgroundColor:v,label:n.title}]},options:{responsive:!1,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}};a(g)};_.useEffect(()=>{if(s&&o.current){l&&l.destroy();const f=new wf(o.current.getContext("2d"),s);c(f)}},[s]);const A=()=>{Nze(r),a(null),i({title:"",labels:"",data:"",colors:""}),l&&(l.destroy(),c(null))};return t?h.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[h.jsx("div",{className:"absolute inset-0 bg-gray-900 opacity-50",onClick:e}),h.jsx("div",{className:"bg-white rounded shadow-lg p-6 z-10 w-11/12 md:w-1/2",children:s?h.jsxs(h.Fragment,{children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Chart Preview"}),h.jsx("div",{id:"chartPreviewContainer",style:{padding:"10px",background:"transparent",overflow:"visible",display:"flex",justifyContent:"center"},children:h.jsx("canvas",{id:"chartPreviewCanvas",ref:o,width:"400",height:"400"})}),h.jsxs("div",{className:"flex justify-end mt-4",children:[h.jsx("button",{type:"button",onClick:()=>a(null),className:"mr-2 bg-gray-500 text-white px-4 py-2 rounded",children:"Edit"}),h.jsx("button",{type:"button",onClick:A,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Add"})]})]}):h.jsxs(h.Fragment,{children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Create Bar Chart"}),h.jsxs("form",{onSubmit:d,children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 mb-1",children:"Title"}),h.jsx("input",{type:"text",name:"title",className:"w-full px-3 py-2 border rounded",value:n.title,onChange:u,placeholder:"Enter chart title",required:!0})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 mb-1",children:"Labels (comma separated)"}),h.jsx("input",{type:"text",name:"labels",className:"w-full px-3 py-2 border rounded",value:n.labels,onChange:u,placeholder:"e.g., Q1, Q2, Q3, Q4",required:!0})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 mb-1",children:"Data (comma separated numbers)"}),h.jsx("input",{type:"text",name:"data",className:"w-full px-3 py-2 border rounded",value:n.data,onChange:u,placeholder:"e.g., 150, 200, 250, 300",required:!0})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 mb-1",children:"Colors (comma separated hex codes)"}),h.jsx("input",{type:"text",name:"colors",className:"w-full px-3 py-2 border rounded",value:n.colors,onChange:u,placeholder:"e.g., #4CAF50, #2196F3, #FFC107, #F44336",required:!0})]}),h.jsxs("div",{className:"flex justify-end",children:[h.jsx("button",{type:"button",onClick:e,className:"mr-2 bg-gray-500 text-white px-4 py-2 rounded",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Preview"})]})]})]})})]}):null},Ize="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20width='100'%20height='100'%3e%3crect%20x='20'%20y='10'%20width='60'%20height='10'%20fill='black'%20/%3e%3cline%20x1='50'%20y1='20'%20x2='50'%20y2='60'%20stroke='black'%20stroke-width='3'%20/%3e%3cline%20x1='20'%20y1='60'%20x2='80'%20y2='60'%20stroke='black'%20stroke-width='3'%20/%3e%3cline%20x1='30'%20y1='70'%20x2='30'%20y2='90'%20stroke='black'%20stroke-width='3'%20/%3e%3cline%20x1='70'%20y1='70'%20x2='70'%20y2='90'%20stroke='black'%20stroke-width='3'%20/%3e%3c/svg%3e",Oze="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20width='100'%20height='100'%3e%3crect%20x='20'%20y='10'%20width='60'%20height='10'%20fill='black'%20/%3e%3cline%20x1='50'%20y1='20'%20x2='50'%20y2='60'%20stroke='black'%20stroke-width='3'%20/%3e%3ccircle%20cx='50'%20cy='60'%20r='10'%20fill='black'%20/%3e%3c/svg%3e",Pze="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='100'%20zoomAndPan='magnify'%20viewBox='0%200%20192%20191.999996'%20height='100'%20preserveAspectRatio='xMidYMid%20meet'%20version='1.0'%3e%3cdefs%3e%3cclipPath%20id='8c205d59a4'%3e%3cpath%20d='M%20151%2090%20L%20177.710938%2090%20L%20177.710938%20101%20L%20151%20101%20Z%20M%20151%2090%20'%20clip-rule='nonzero'/%3e%3c/clipPath%3e%3cclipPath%20id='7b1d0c5789'%3e%3cpath%20d='M%2014.210938%2090%20L%2041%2090%20L%2041%20101%20L%2014.210938%20101%20Z%20M%2014.210938%2090%20'%20clip-rule='nonzero'/%3e%3c/clipPath%3e%3cclipPath%20id='d760628e54'%3e%3cpath%20d='M%2036%2063.285156%20L%2061%2063.285156%20L%2061%20128.535156%20L%2036%20128.535156%20Z%20M%2036%2063.285156%20'%20clip-rule='nonzero'/%3e%3c/clipPath%3e%3cclipPath%20id='e55b02e7f9'%3e%3cpath%20d='M%20130%2063.285156%20L%20156%2063.285156%20L%20156%20128.535156%20L%20130%20128.535156%20Z%20M%20130%2063.285156%20'%20clip-rule='nonzero'/%3e%3c/clipPath%3e%3c/defs%3e%3cg%20clip-path='url(%238c205d59a4)'%3e%3cpath%20fill='%23caa780'%20d='M%20176.113281%20100.898438%20L%20153.46875%20100.898438%20C%20152.582031%20100.898438%20151.867188%20100.183594%20151.867188%2099.304688%20L%20151.867188%2092.480469%20C%20151.867188%2091.601562%20152.582031%2090.886719%20153.46875%2090.886719%20L%20176.113281%2090.886719%20C%20176.992188%2090.886719%20177.710938%2091.601562%20177.710938%2092.480469%20L%20177.710938%2099.304688%20C%20177.710938%20100.183594%20176.992188%20100.898438%20176.113281%20100.898438%20Z%20M%20176.113281%20100.898438%20'%20fill-opacity='1'%20fill-rule='evenodd'/%3e%3c/g%3e%3cg%20clip-path='url(%237b1d0c5789)'%3e%3cpath%20fill='%23caa780'%20d='M%2038.453125%20100.898438%20L%2015.804688%20100.898438%20C%2014.925781%20100.898438%2014.210938%20100.183594%2014.210938%2099.304688%20L%2014.210938%2092.480469%20C%2014.210938%2091.601562%2014.925781%2090.886719%2015.804688%2090.886719%20L%2038.453125%2090.886719%20C%2039.335938%2090.886719%2040.050781%2091.601562%2040.050781%2092.480469%20L%2040.050781%2099.304688%20C%2040.050781%20100.183594%2039.335938%20100.898438%2038.453125%20100.898438%20Z%20M%2038.453125%20100.898438%20'%20fill-opacity='1'%20fill-rule='evenodd'/%3e%3c/g%3e%3cpath%20fill='%23caa780'%20d='M%20132.53125%20113.921875%20L%2059.386719%20113.921875%20C%2058.503906%20113.921875%2057.789062%20113.207031%2057.789062%20112.328125%20L%2057.789062%2079.457031%20C%2057.789062%2078.574219%2058.503906%2077.867188%2059.386719%2077.867188%20L%20132.53125%2077.867188%20C%20133.414062%2077.867188%20134.128906%2078.574219%20134.128906%2079.457031%20L%20134.128906%20112.328125%20C%20134.128906%20113.207031%20133.414062%20113.921875%20132.53125%20113.921875%20Z%20M%20132.53125%20113.921875%20'%20fill-opacity='1'%20fill-rule='evenodd'/%3e%3cpath%20fill='%2361b12e'%20d='M%2068.511719%2077.867188%20L%2071.707031%2077.867188%20L%2071.707031%20113.921875%20L%2068.511719%20113.921875%20Z%20M%2068.511719%2077.867188%20'%20fill-opacity='1'%20fill-rule='evenodd'/%3e%3cpath%20fill='%23176aa0'%20d='M%2079.238281%2077.867188%20L%2082.433594%2077.867188%20L%2082.433594%20113.921875%20L%2079.238281%20113.921875%20Z%20M%2079.238281%2077.867188%20'%20fill-opacity='1'%20fill-rule='evenodd'/%3e%3cpath%20fill='%23ba0000'%20d='M%2089.960938%2077.867188%20L%2093.15625%2077.867188%20L%2093.15625%20113.921875%20L%2089.960938%20113.921875%20Z%20M%2089.960938%2077.867188%20'%20fill-opacity='1'%20fill-rule='evenodd'/%3e%3cpath%20fill='%23176aa0'%20d='M%20109.488281%2077.867188%20L%20112.679688%2077.867188%20L%20112.679688%20113.921875%20L%20109.488281%20113.921875%20Z%20M%20109.488281%2077.867188%20'%20fill-opacity='1'%20fill-rule='evenodd'/%3e%3cpath%20fill='%23ba0000'%20d='M%20120.210938%2077.867188%20L%20123.40625%2077.867188%20L%20123.40625%20113.921875%20L%20120.210938%20113.921875%20Z%20M%20120.210938%2077.867188%20'%20fill-opacity='1'%20fill-rule='evenodd'/%3e%3cg%20clip-path='url(%23d760628e54)'%3e%3cpath%20fill='%23e8bc8d'%20d='M%2048.917969%20128.5%20C%2042.265625%20128.5%2036.851562%20123.101562%2036.851562%20116.464844%20L%2036.851562%2075.320312%20C%2036.851562%2068.683594%2042.265625%2063.285156%2048.917969%2063.285156%20C%2055.570312%2063.285156%2060.984375%2068.683594%2060.984375%2075.320312%20L%2060.984375%20116.464844%20C%2060.984375%20123.101562%2055.570312%20128.5%2048.917969%20128.5%20Z%20M%2048.917969%20128.5%20'%20fill-opacity='1'%20fill-rule='evenodd'/%3e%3c/g%3e%3cg%20clip-path='url(%23e55b02e7f9)'%3e%3cpath%20fill='%23e8bc8d'%20d='M%20143%20128.5%20C%20136.347656%20128.5%20130.9375%20123.101562%20130.9375%20116.464844%20L%20130.9375%2075.320312%20C%20130.9375%2068.683594%20136.347656%2063.285156%20143%2063.285156%20C%20149.652344%2063.285156%20155.0625%2068.683594%20155.0625%2075.320312%20L%20155.0625%20116.464844%20C%20155.0625%20123.101562%20149.652344%20128.5%20143%20128.5%20Z%20M%20143%20128.5%20'%20fill-opacity='1'%20fill-rule='evenodd'/%3e%3c/g%3e%3c/svg%3e",Uze="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20width='100'%20height='100'%3e%3cline%20x1='10'%20y1='10'%20x2='90'%20y2='90'%20stroke='black'%20stroke-width='3'%20/%3e%3c/svg%3e",Rze="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20width='100'%20height='100'%3e%3crect%20x='35'%20y='30'%20width='30'%20height='40'%20fill='blue'%20/%3e%3cline%20x1='35'%20y1='30'%20x2='10'%20y2='30'%20stroke='black'%20stroke-width='3'%20/%3e%3cline%20x1='65'%20y1='30'%20x2='90'%20y2='30'%20stroke='black'%20stroke-width='3'%20/%3e%3c/svg%3e",Qze="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='100'%20zoomAndPan='magnify'%20viewBox='0%200%20192%20191.999996'%20height='100'%20preserveAspectRatio='xMidYMid%20meet'%20version='1.0'%3e%3cdefs%3e%3cclipPath%20id='1c187ab094'%3e%3cpath%20d='M%2086%209.601562%20L%20106%209.601562%20L%20106%2038%20L%2086%2038%20Z%20M%2086%209.601562%20'%20clip-rule='nonzero'/%3e%3c/clipPath%3e%3cclipPath%20id='064bf1aaac'%3e%3cpath%20d='M%2073.285156%20171%20L%20119%20171%20L%20119%20182.097656%20L%2073.285156%20182.097656%20Z%20M%2073.285156%20171%20'%20clip-rule='nonzero'/%3e%3c/clipPath%3e%3cclipPath%20id='a4d974207f'%3e%3cpath%20d='M%2066.519531%2018%20L%20125.753906%2018%20L%20125.753906%20178.890625%20L%2066.519531%20178.890625%20Z%20M%2066.519531%2018%20'%20clip-rule='nonzero'/%3e%3c/clipPath%3e%3cclipPath%20id='2620691112'%3e%3cpath%20d='M%2066.519531%2018%20L%20125.753906%2018%20L%20125.753906%2060.367188%20L%2066.519531%2060.367188%20Z%20M%2066.519531%2018%20'%20clip-rule='nonzero'/%3e%3c/clipPath%3e%3c/defs%3e%3cg%20clip-path='url(%231c187ab094)'%3e%3cpath%20fill='%23bbd4e8'%20d='M%20105.964844%2012.285156%20C%20105.964844%2010.800781%20104.753906%209.597656%20103.261719%209.597656%20L%2089.011719%209.597656%20C%2087.519531%209.597656%2086.308594%2010.800781%2086.308594%2012.285156%20L%2086.308594%2037.023438%20L%20105.964844%2037.023438%20L%20105.964844%2012.285156%20'%20fill-opacity='1'%20fill-rule='nonzero'/%3e%3c/g%3e%3cg%20clip-path='url(%23064bf1aaac)'%3e%3cpath%20fill='%23bbd4e8'%20d='M%2076.660156%20182.097656%20L%20115.613281%20182.097656%20C%20117.40625%20182.097656%20118.949219%20180.652344%20118.949219%20178.871094%20L%20118.949219%20171.003906%20L%2073.414062%20171.003906%20L%2073.414062%20178.871094%20C%2073.414062%20180.652344%2074.867188%20182.097656%2076.660156%20182.097656%20'%20fill-opacity='1'%20fill-rule='nonzero'/%3e%3c/g%3e%3cg%20clip-path='url(%23a4d974207f)'%3e%3cpath%20fill='%232c3d50'%20d='M%20118.992188%2018.0625%20L%2073.28125%2018.0625%20C%2069.546875%2018.0625%2066.519531%2021.070312%2066.519531%2024.78125%20L%2066.519531%20172.15625%20C%2066.519531%20175.863281%2069.546875%20178.871094%2073.28125%20178.871094%20L%20118.992188%20178.871094%20C%20122.726562%20178.871094%20125.753906%20175.863281%20125.753906%20172.15625%20L%20125.753906%2024.78125%20C%20125.753906%2021.070312%20122.726562%2018.0625%20118.992188%2018.0625%20'%20fill-opacity='1'%20fill-rule='nonzero'/%3e%3c/g%3e%3cg%20clip-path='url(%232620691112)'%3e%3cpath%20fill='%23ff8e31'%20d='M%20118.992188%2018.0625%20L%2073.28125%2018.0625%20C%2069.546875%2018.0625%2066.519531%2021.070312%2066.519531%2024.78125%20L%2066.519531%2060.28125%20L%20125.753906%2060.28125%20L%20125.753906%2024.78125%20C%20125.753906%2021.070312%20122.726562%2018.0625%20118.992188%2018.0625%20'%20fill-opacity='1'%20fill-rule='nonzero'/%3e%3c/g%3e%3cpath%20fill='%23ffffff'%20d='M%20103.550781%2037.347656%20L%2098.222656%2037.347656%20L%2098.222656%2032.058594%20L%2094.207031%2032.058594%20L%2094.207031%2037.347656%20L%2088.878906%2037.347656%20L%2088.878906%2041.339844%20L%2094.207031%2041.339844%20L%2094.207031%2046.628906%20L%2098.222656%2046.628906%20L%2098.222656%2041.339844%20L%20103.550781%2041.339844%20L%20103.550781%2037.347656%20'%20fill-opacity='1'%20fill-rule='nonzero'/%3e%3cpath%20fill='%23ffffff'%20d='M%2094.207031%20147.964844%20L%2094.207031%20162.539062%20L%2098.222656%20162.539062%20L%2098.222656%20147.964844%20L%2094.207031%20147.964844%20'%20fill-opacity='1'%20fill-rule='nonzero'/%3e%3c/svg%3e",zze="/assets/switch-DRHVIi4M.svg",Hze="/assets/bulb-D8m52Auy.svg",$ze="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='100'%20zoomAndPan='magnify'%20viewBox='0%200%20192%20191.999996'%20height='100'%20preserveAspectRatio='xMidYMid%20meet'%20version='1.0'%3e%3cdefs%3e%3cclipPath%20id='302b89c720'%3e%3cpath%20d='M%2016.9375%2038.011719%20L%20173.769531%2038.011719%20L%20173.769531%20176.496094%20L%2016.9375%20176.496094%20Z%20M%2016.9375%2038.011719%20'%20clip-rule='nonzero'/%3e%3c/clipPath%3e%3c/defs%3e%3cg%20clip-path='url(%23302b89c720)'%3e%3cpath%20fill='%237bbb00'%20d='M%2085.632812%2044.792969%20C%2085.632812%2044.792969%2039.933594%2023.527344%2021.523438%2070.265625%20C%205.222656%20111.640625%2036.304688%20157.734375%2053.457031%20168.890625%20C%2073.804688%20182.125%2084.8125%20174.066406%2096.195312%20174.066406%20C%20105.570312%20174.066406%20125.023438%20182.492188%20139.808594%20167.546875%20C%20154.59375%20152.605469%20190.4375%20105.710938%20164.746094%2062.691406%20C%20144.378906%2028.578125%20113.234375%2039.273438%20103.421875%2044.105469%20C%2098.867188%2046.347656%2091.269531%2047.125%2085.632812%2044.792969%20'%20fill-opacity='1'%20fill-rule='nonzero'/%3e%3c/g%3e%3cpath%20fill='%2390cc00'%20d='M%20165.050781%2062.515625%20C%20163.652344%2060.171875%20160.554688%2056.308594%20158.800781%2054.195312%20C%20147.976562%2041.171875%20131.546875%2035.640625%20115.167969%2039.925781%20C%20117.207031%2040.417969%20117.953125%2042.890625%20117.402344%2044.917969%20C%20116.847656%2046.945312%20115.214844%2048.484375%20113.53125%2049.742188%20C%20107.628906%2054.140625%20100.1875%2057.691406%2092.835938%2057.359375%20C%2086.054688%2057.054688%2079.574219%2053.992188%2072.996094%2052.296875%20C%2057.246094%2048.238281%2043.457031%2053.035156%2035.992188%2067.839844%20C%2032.378906%2075.003906%2030.871094%2083.070312%2030.394531%2091.082031%20C%2029.136719%20112.261719%2035.09375%20133.910156%2047.558594%20151.078125%20C%2053.332031%20159.03125%2061.007812%20166.324219%2070.628906%20168.328125%20C%2080.363281%20170.359375%2090.386719%20166.671875%20100.324219%20167.089844%20C%20109.9375%20167.492188%20119.410156%20171.722656%20128.902344%20170.128906%20C%20139.789062%20168.304688%20147.945312%20159.285156%20154.191406%20150.171875%20C%20163.765625%20136.203125%20171.144531%20120.378906%20173.101562%20103.558594%20C%20174.738281%2089.46875%20172.261719%2074.621094%20165.050781%2062.515625%20'%20fill-opacity='1'%20fill-rule='nonzero'/%3e%3cpath%20fill='%239dd712'%20d='M%20133.007812%2054.171875%20C%20142.746094%2056.429688%20150.019531%2063.429688%20154.289062%2071.753906%20C%20157.410156%2077.847656%20148.433594%2082.695312%20144.925781%2076.816406%20C%20144.421875%2075.964844%20143.882812%2075.132812%20143.320312%2074.320312%20C%20139.835938%2068.785156%20135.304688%2064.398438%20130.089844%2060.910156%20C%20126.660156%2058.617188%20128.992188%2053.242188%20133.007812%2054.171875%20'%20fill-opacity='1'%20fill-rule='nonzero'/%3e%3cpath%20fill='%235b2b00'%20d='M%2090.667969%2050.84375%20C%2091.339844%2046.125%2088.480469%2030.417969%2092.410156%2019.042969%20C%2098.910156%2016%20101.902344%2021.957031%20101.902344%2021.957031%20C%2096.875%2031.632812%2096.339844%2042.039062%2097.398438%2050.179688%20C%2097.398438%2050.179688%2097.207031%2052.183594%2094.019531%2052.613281%20C%2090.726562%2053.054688%2090.667969%2050.84375%2090.667969%2050.84375%20'%20fill-opacity='1'%20fill-rule='evenodd'/%3e%3cpath%20fill='%23009e21'%20d='M%2031.9375%2016.75%20C%2031.9375%2016.75%2052.324219%207.027344%2067.476562%2012.492188%20C%2082.632812%2017.960938%2089.808594%2033.007812%2088.078125%2037.8125%20C%2086.34375%2042.617188%2071.730469%2048.1875%2056.574219%2042.71875%20C%2041.421875%2037.253906%2031.9375%2016.75%2031.9375%2016.75%20'%20fill-opacity='1'%20fill-rule='nonzero'/%3e%3c/svg%3e",Vze="/assets/basket-DjZ8DLT-.svg",Kze="/assets/blue-big-block-brcE_v9R.svg",qze="/assets/blue-block-CvORq94G.svg",Wze="/assets/clock-hand-B0Xx4hny.svg",Gze="/assets/clock-__1xud6j.svg",Xze="/assets/corn-CffAfBNp.svg",Yze="/assets/green-big-block-Dd40sMee.svg",Jze="/assets/green-block-CrM8A756.svg",Zze="/assets/lightblue-block-CBBewDzb.svg",eHe="/assets/lion-CgnC_uUu.svg",tHe="/assets/mice-DvLVIhew.svg",rHe="/assets/orange-block-2XzAQeG7.svg",nHe="/assets/pastery-CcjolxPC.svg",iHe="/assets/plant-B3cXP-eD.svg",sHe="/assets/purple-block-C6PRyKhz.svg",aHe="/assets/red-big-block-BhQzSsWP.svg",oHe="/assets/red-block-ggZzvMuW.svg",lHe="/assets/scale-CPS32xhO.svg",cHe="/assets/scenery-CUUtRHqd.svg",uHe="/assets/slice-DHw9uvkq.svg",dHe="/assets/yellow-block-CA4BPmrp.svg",Qt=(t,e)=>{var r=document.getElementById(`${t}`);r&&console.log("found");var n=new Gn(r,{left:100,top:100,width:200,selectable:!1,backgroundColor:"transparent",controls:{...Gn.createControls().controls,delete:new Jr({x:.5,y:-.25,cornerStyle:"round",cornerStrokeColor:"red",cornerColor:"red",cornerStyle:"circle",transparentCorners:!1,borderScaleFactor:2,backgroundColor:"tranparent",mouseUpHandler:(i,s,a,o)=>{e.remove(s.target)},cursorStyle:"pointer",render:(i,s,a,o,l)=>{i.save(),i.fillStyle="red",i.fillRect(s-10,a-10,20,20),i.strokeStyle="white",i.lineWidth=2,i.beginPath(),i.moveTo(s-5,a-5),i.lineTo(s+5,a+5),i.moveTo(s+5,a-5),i.lineTo(s-5,a+5),i.stroke(),i.restore()}})}});e.add(n),e.renderAll()},Sie=({parameters:t})=>{const[e,r]=_.useState(!1),[n,i]=_.useState(!1),[s,a]=_.useState(!1),[o,l]=_.useState(null);_.useRef(null);const c=()=>{r(!1)},u=()=>{i(!1)},d=()=>{a(v=>!v)},A=()=>{a(!1)},f=[{name:"Pointer",icon:h.jsx(AEe,{className:"w-6 h-6 text-gray-700"}),action:()=>mDe(t)},{name:"Eraser",icon:h.jsx(lEe,{className:"w-6 h-6 text-gray-700"}),action:()=>gDe(t)},{name:"Pencil",icon:h.jsx(dEe,{className:"w-6 h-6 text-gray-700"}),action:()=>pDe(t)},{name:"Line",icon:h.jsx(uEe,{className:"w-6 h-6 text-gray-700"}),action:()=>dDe(t)},{name:"Text Box",icon:h.jsx(Zke,{className:"w-6 h-6 text-gray-700"}),action:()=>fDe(t)},{name:"Rectangle",icon:h.jsx(fEe,{className:"w-6 h-6 text-gray-700"}),action:()=>sDe(t)},{name:"Triangle",icon:h.jsx(yEe,{className:"w-6 h-6 text-gray-700"}),action:()=>rDe(t)},{name:"Ellipse",icon:h.jsx(oEe,{className:"w-6 h-6 text-gray-700"}),action:()=>lDe(t)},{name:"Pie Chart",icon:h.jsx(rEe,{className:"w-6 h-6 text-gray-700"}),action:()=>r(!0)},{name:"Bar Chart",icon:h.jsx(tEe,{className:"w-6 h-6 text-gray-700"}),action:()=>i(!0)},{name:"Equation",icon:h.jsx(pEe,{className:"w-6 h-6 text-gray-700"}),action:()=>Mze(t)},{name:"Electronics",icon:h.jsx(nEe,{className:"w-6 h-6 text-gray-700"}),action:d}],p=[{name:"Resistor",id:"resistor",icon:h.jsx("img",{src:Pze,alt:"Resistor",id:"resistor",className:"w-6 h-6"}),action:()=>Qt("resistor",t.canvas)},{name:"Wire",id:"wire",icon:h.jsx("img",{src:Uze,alt:"Wire",id:"wire",className:"w-6 h-6"}),action:()=>Qt("wire",t.canvas)},{name:"Battery",id:"battery",icon:h.jsx("img",{src:Qze,alt:"Battery",id:"battery",className:"w-6 h-6"}),action:()=>Qt("battery",t.canvas)},{name:"Switch",id:"switch",icon:h.jsx("img",{src:zze,alt:"Switch",id:"switch",className:"w-6 h-6"}),action:()=>Qt("switch",t.canvas)},{name:"Bulb",id:"bulb",icon:h.jsx("img",{src:Hze,alt:"Bulb",id:"bulb",className:"w-6 h-6"}),action:()=>Qt("bulb",t.canvas)},{name:"Apple",id:"apple",icon:h.jsx("img",{src:$ze,alt:"Apple",id:"apple",className:"w-6 h-6"}),action:()=>Qt("apple",t.canvas)},{name:"Basket",id:"basket",icon:h.jsx("img",{src:Vze,alt:"Basket",id:"basket",className:"w-6 h-6"}),action:()=>Qt("basket",t.canvas)},{name:"Blue Big Block",id:"blueBigBlock",icon:h.jsx("img",{src:Kze,alt:"Blue Big Block",id:"blueBigBlock",className:"w-6 h-6"}),action:()=>Qt("blueBigBlock",t.canvas)},{name:"Blue Block",id:"blueBlock",icon:h.jsx("img",{src:qze,alt:"Blue Block",id:"blueBlock",className:"w-6 h-6"}),action:()=>Qt("blueBlock",t.canvas)},{name:"Clock Hand",id:"clockHand",icon:h.jsx("img",{src:Wze,alt:"Clock Hand",id:"clockHand",className:"w-6 h-6"}),action:()=>Qt("clockHand",t.canvas)},{name:"Clock",id:"clock",icon:h.jsx("img",{src:Gze,alt:"Clock",id:"clock",className:"w-6 h-6"}),action:()=>Qt("clock",t.canvas)},{name:"Corn",id:"corn",icon:h.jsx("img",{src:Xze,alt:"Corn",id:"corn",className:"w-6 h-6"}),action:()=>Qt("corn",t.canvas)},{name:"Green Big Block",id:"greenBigBlock",icon:h.jsx("img",{src:Yze,alt:"Green Big Block",id:"greenBigBlock",className:"w-6 h-6"}),action:()=>Qt("greenBigBlock",t.canvas)},{name:"Green Block",id:"greenBlock",icon:h.jsx("img",{src:Jze,alt:"Green Block",id:"greenBlock",className:"w-6 h-6"}),action:()=>Qt("greenBlock",t.canvas)},{name:"Lightblue Block",id:"lightblueBlock",icon:h.jsx("img",{src:Zze,alt:"Lightblue Block",id:"lightblueBlock",className:"w-6 h-6"}),action:()=>Qt("lightblueBlock",t.canvas)},{name:"Lion",id:"lion",icon:h.jsx("img",{src:eHe,alt:"Lion",id:"lion",className:"w-6 h-6"}),action:()=>Qt("lion",t.canvas)},{name:"Mice",id:"mice",icon:h.jsx("img",{src:tHe,alt:"Mice",id:"mice",className:"w-6 h-6"}),action:()=>Qt("mice",t.canvas)},{name:"Orange Block",id:"orangeBlock",icon:h.jsx("img",{src:rHe,alt:"Orange Block",id:"orangeBlock",className:"w-6 h-6"}),action:()=>Qt("orangeBlock",t.canvas)},{name:"Pastery",id:"pastery",icon:h.jsx("img",{src:nHe,alt:"Pastery",id:"pastery",className:"w-6 h-6"}),action:()=>Qt("pastery",t.canvas)},{name:"Plant",id:"plant",icon:h.jsx("img",{src:iHe,alt:"Plant",id:"plant",className:"w-6 h-6"}),action:()=>Qt("plant",t.canvas)},{name:"Purple Block",id:"purpleBlock",icon:h.jsx("img",{src:sHe,alt:"Purple Block",id:"purpleBlock",className:"w-6 h-6"}),action:()=>Qt("purpleBlock",t.canvas)},{name:"Red Big Block",id:"redBigBlock",icon:h.jsx("img",{src:aHe,alt:"Red Big Block",id:"redBigBlock",className:"w-6 h-6"}),action:()=>Qt("redBigBlock",t.canvas)},{name:"Red Block",id:"redBlock",icon:h.jsx("img",{src:oHe,alt:"Red Block",id:"redBlock",className:"w-6 h-6"}),action:()=>Qt("redBlock",t.canvas)},{name:"Scale",id:"scale",icon:h.jsx("img",{src:lHe,alt:"Scale",id:"scale",className:"w-6 h-6"}),action:()=>Qt("scale",t.canvas)},{name:"Scenery",id:"scenery",icon:h.jsx("img",{src:cHe,alt:"Scenery",id:"scenery",className:"w-6 h-6"}),action:()=>Qt("scenery",t.canvas)},{name:"Slice",id:"slice",icon:h.jsx("img",{src:uHe,alt:"Slice",id:"slice",className:"w-6 h-6"}),action:()=>Qt("slice",t.canvas)},{name:"Yellow Block",id:"yellowBlock",icon:h.jsx("img",{src:dHe,alt:"Yellow Block",id:"yellowBlock",className:"w-6 h-6"}),action:()=>Qt("yellowBlock",t.canvas)},{name:"Ground",id:"ground",icon:h.jsx("img",{src:Ize,alt:"Ground",id:"ground",className:"w-6 h-6"}),action:()=>Qt("ground",t.canvas)},{name:"VCC",id:"vcc",icon:h.jsx("img",{src:Oze,alt:"VCC",id:"vcc",className:"w-6 h-6"}),action:()=>Qt("vcc",t.canvas)},{name:"Capacitor",id:"capacitor",icon:h.jsx("img",{src:Rze,alt:"Capacitor",id:"capacitor",className:"w-6 h-6"}),action:()=>Qt("capacitor",t.canvas)}],m=(v,g)=>{l(g),typeof v.action=="function"&&v.action()};return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative w-[150px] min-h-[70vh] bg-gray-100 border-2 border-gray-300 shadow-lg p-4 flex flex-wrap items-center justify-center gap-x-3 overflow-y-none rounded-lg",children:[f.map((v,g)=>h.jsx("button",{className:`flex flex-col items-center border-2 justify-center p-2 w-[50px] h-[50px] hover:bg-gray-200 rounded-lg transition ${o===g?"bg-purple-200 border-purple-500":"border-gray-300"}`,onClick:()=>m(v,g),children:v.icon},g)),s&&h.jsxs("div",{className:"absolute flex-col overflow-y-auto mb-8 ml-12 w-[220px] h-[300px] z-[100] bg-gray-100 shadow-lg border-2 border-gray-300 rounded-lg",children:[h.jsx("div",{className:"sticky top-0 left-0 flex w-full h-auto flex items-center justify-end p-2 z-[101]",children:h.jsx(vEe,{className:"w-[25px] h-[25px] cursor-pointer bg-red-500 text-white rounded-full p-1",onClick:A})}),h.jsx("div",{className:"relative flex flex-wrap gap-3 overflow-none w-full h-full p-2",children:p.map((v,g)=>h.jsx("button",{className:"flex items-center border-2 border-gray-300 justify-center w-[50px] h-[50px] hover:bg-gray-200 rounded-lg transition",onClick:()=>v.action(),children:v.icon},g))})]})]}),h.jsx(Dze,{isOpen:e,onClose:c,parameters:t}),h.jsx(jze,{isOpen:n,onClose:u,parameters:t})]})};function hHe({canvas:t}){t.clear()}function _ie(t){const[e,r]=_.useState("#000000"),[n,i]=_.useState(5),[s,a]=_.useState(!1);return _.useEffect(()=>{globalThis.options={currentColor:e,currentWidth:n,fill:s}},[e,n,s]),h.jsxs("div",{className:"flex flex-col gap-4 p-2 bg-gray-50 border-2 rounded-lg border-gray-300 items-center justify-center ",children:[h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("input",{id:"colorPicker",type:"color",value:e,onChange:o=>r(o.target.value),className:"w-10 h-10 p-0 border-0"})}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>i(o=>Math.max(1,o-1)),className:"p-1 border rounded",children:"-"}),h.jsx("span",{children:n}),h.jsx("button",{onClick:()=>i(o=>o+1),className:"p-1 border rounded",children:"+"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("label",{htmlFor:"fillCheck",className:"font-medium text-gray-700",children:"Fill:"}),h.jsx("input",{id:"fillCheck",type:"checkbox",checked:s,onChange:o=>a(o.target.checked)})]})]})}const AHe={RECTANGLE:"RECTANGLE",TRIANGLE:"TRIANGLE",ELLIPSE:"ELLIPSE",LINE:"LINE",PENCIL:"PENCIL",ERASER:"ERASER"};function l4({aspectRatio:t=4/3}){const[e,r]=_.useState(options);_.useState({description:""});const n=bt(),[i,s]=_.useState(null),a=_.useRef(),o=_.useRef(),l=_.useRef(!0);return _.useEffect(()=>{if(!i&&a.current&&l.current){console.log("here canvas");const c=yte(a.current,o.current.clientWidth,o.current.clientHeight);s(()=>c),l.current=!1}},[a]),h.jsxs("div",{className:"relative flex w-full min-h-[95vh] items-center justify-center p-2 bg-[whitesmoke]",children:[h.jsx("div",{className:"absolute flex w-[60px] h-[60px] items-center justify-center top-2 left-2 cursor-pointer bg-white hover:bg-purple-300 border rounded-lg ",onClick:()=>n("/"),children:h.jsx(nee,{})}),h.jsx("div",{className:"absolute flex items-center justify-around w-[200px] bottom-2 left-2",children:h.jsx("div",{className:"flex items-center justify-center bottom-2 left-2",children:h.jsx("button",{className:"w-[80px] h-[45px] text-white font-bold bg-red-600 rounded-lg",onClick:()=>hHe({canvas:i}),children:"Clear"})})}),h.jsx("div",{className:"flex flex-col p-8 h-full",children:h.jsx(Sie,{parameters:{canvas:i,modes:AHe},setDrawOptions:r})}),h.jsx("div",{ref:o,className:"w-full h-full flex items-center justify-center bg-transparent shadow-lg rounded-lg border",children:h.jsx("canvas",{ref:a,id:"canvas",className:"w-full h-full border border-gray-300 border-4 rounded-lg"})}),h.jsx("div",{className:"flex flex-col p-4 h-full",children:h.jsx(_ie,{})})]})}const o$=({puzzles:t,isLoading:e,error:r,isError:n,onDelete:i,onEdit:s,currentPage:a,setCurrentPage:o,totalPages:l,limit:c,setLimit:u,user:d,heading:A,refetch:f})=>{const[p,m]=_.useState(!1),[v,g]=_.useState(null),y=bt(),x=[{Header:"Index",accessor:"index"},{Header:"Description",accessor:"description"},{Header:"Total Score",accessor:"total_score"},{Header:"Image",accessor:"image"},{Header:"Actions",accessor:"actions"}],[b]=xEe(),w=async M=>{var T;try{const L=await b({puzzle_id:Number(M)}).unwrap();(L==null?void 0:L.statusCode)===200&&(Z.success("Success Assigning Puzzle"),f())}catch(L){Z.error(((T=L==null?void 0:L.data)==null?void 0:T.message)||(L==null?void 0:L.message)||"Failed to Assign Puzzle")}},C=M=>{var T;return h.jsx("div",{className:"flex items-center gap-2",children:(M==null?void 0:M.created_by)===(d==null?void 0:d.id)?h.jsxs(h.Fragment,{children:[h.jsx(ta,{onClick:()=>y(`/${(d==null?void 0:d.role)===he.SUPER_ADMIN?"admin":"teacher"}/puzzles/${M==null?void 0:M.id}`),className:"w-4 h-4 text-[#6925EF] hover:text-[#3C1589] cursor-pointer transition-colors",title:"Edit Puzzle"}),h.jsx(Uu,{onClick:()=>B(M.id),className:"w-4 h-4 text-red-500 hover:text-red-700 cursor-pointer transition-colors",title:"Delete Puzzle"})]}):h.jsx(h.Fragment,{children:((T=M==null?void 0:M.puzzle_assignments)==null?void 0:T.length)<=0?h.jsx(bb,{onClick:()=>w(M.id),className:"w-4 h-4 text-[#6925EF] hover:text-[#3C1589] cursor-pointer transition-colors",title:"Assign Puzzle"}):h.jsx("span",{children:" Already Assigned"})})})},B=M=>{g(M),m(!0)},S=async()=>{const M=await i(v);(M==null?void 0:M.statusCode)===200?Z.success("Puzzle deleted successfully!",{position:"top-right",autoClose:3e3}):Z.error("Puzzle deletion failed!",{position:"top-right",autoClose:3e3}),m(!1),g(null)},E=t==null?void 0:t.map((M,T)=>({index:T+1,id:M.id,description:M.description,total_score:M.total_score,image:h.jsx(h.Fragment,{children:M!=null&&M.image_url?h.jsx(h.Fragment,{children:h.jsx("a",{href:Ut+"/images/"+M.image_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"View Image"})}):h.jsx(h.Fragment,{children:h.jsx("span",{className:"text-sm text-gray-400",children:"No Image"})})}),actions:C(M)}));return h.jsxs("div",{children:[h.jsx("div",{children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("div",{className:"flex justify-between items-center",children:h.jsx("div",{children:h.jsxs("h1",{className:"text-1xl font-bold text-gray-800 flex items-center gap-2",children:[h.jsx(bb,{className:"text-[#6925EF]"}),A]})})})}),h.jsx("div",{className:"p-6",children:e?h.jsxs("div",{className:"flex justify-center items-center",children:[h.jsx(jr,{className:"inline animate-spin text-[#6925EF]"}),h.jsx("span",{className:"text-gray-600 ml-2",children:"Loading puzzles..."})]}):n?h.jsx("div",{className:"text-red-500 text-center",children:(r==null?void 0:r.message)||"Error loading puzzles"}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsx("tr",{children:x.map(M=>h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:M.Header},M.accessor))})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E==null?void 0:E.map(({index:M,description:T,total_score:L,image:I,actions:R})=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:M}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:T}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:L}),h.jsx("td",{className:"px-6 py-4 text-sm",children:I}),h.jsx("td",{className:"px-6 py-4 text-sm",children:R})]},M))})]})})}),h.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200",children:h.jsx($u,{currentPage:a,totalPages:l,limit:c,onPageChange:o,onLimitChange:M=>{u(M),o(1)}})})]})}),h.jsx(Vu,{isOpen:p,onClose:()=>m(!1),onConfirm:S,title:"Delete Puzzle",message:"Are you sure you want to delete this puzzle? This action cannot be undone."})]})},l$=()=>{const{user:t}=An(),e=bt(),[r,n]=_.useState(1),[i,s]=_.useState(10),[a,o]=_.useState(1),[l,c]=_.useState(10),[u,d]=_.useState(!1),[A,f]=_.useState(null),{data:p,isLoading:m,error:v,isError:g,refetch:y}=kEe({page:r,limit:i}),{data:x,isLoading:b,error:w,isError:C,refetch:B}=wEe({page:a,limit:l,skip:(t==null?void 0:t.role)!==he.TEACHER}),[S]=_Ee();_.useEffect(()=>{y()},[r,i]),_.useEffect(()=>{B()},[a,l]);const E=async M=>{const T=await S({puzzle_id:Number(M)}).unwrap();(T==null?void 0:T.statusCode)===200?(Z.success("Puzzle deleted successfully!",{position:"top-right",autoClose:3e3}),refetch()):Z.error("Puzzle deletion failed!",{position:"top-right",autoClose:3e3}),d(!1),f(null)};return h.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 bg-white",children:[h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[h.jsx(bb,{className:"text-[#6925EF]"}),"Manage Puzzles"]}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage all puzzles"})]}),h.jsxs(pn,{onClick:()=>e(`/${(t==null?void 0:t.role)===he.SUPER_ADMIN?"admin":"teacher"}/puzzles/create`),className:"self-stretch sm:self-auto",children:[h.jsx(bb,{}),h.jsx("span",{children:"New Puzzle"})]})]})}),h.jsx("div",{className:"p-6",children:h.jsx(o$,{puzzles:p==null?void 0:p.data,isLoading:m,error:v,isError:g,onDelete:E,onEdit:()=>{},currentPage:r,setCurrentPage:n,totalPages:(p==null?void 0:p.totalPages)||1,limit:i,setLimit:s,user:t,heading:"Your Puzzles",refetch:y})}),(t==null?void 0:t.role)===he.TEACHER&&h.jsx(h.Fragment,{children:h.jsx("div",{className:"p-6",children:h.jsx(o$,{puzzles:x==null?void 0:x.data,isLoading:b,error:w,isError:C,onDelete:E,onEdit:()=>{},currentPage:a,setCurrentPage:o,totalPages:(x==null?void 0:x.totalPages)||1,limit:l,setLimit:c,user:t,heading:"Puzzles By Admin",refetch:B})})})]})}),h.jsx(Vu,{isOpen:u,onClose:()=>d(!1),onConfirm:()=>E(A),title:"Delete Puzzle",message:"Are you sure you want to delete this puzzle? This action cannot be undone."})]})};class kie{static async CreatePuzzle(e,r){const n={"Content-Type":"multipart/form-data",token:localStorage.getItem("accessToken")};return bg((i,s,a)=>kt.post(i,s,a),e,`${Ut}/puzzle`,n,r)}static async SubmitPuzzle(e,r){const n={"Content-Type":"multipart/form-data",token:localStorage.getItem("accessToken")};return bg((i,s,a)=>kt.post(i,s,a),e,`${Ut}/puzzle/submit-puzzle`,n,r)}}const c$=()=>{var S;const t=F0(),{user:e}=An(),[r,n]=_.useState(""),[i,s]=_.useState(""),[a,o]=_.useState(""),[l,c]=_.useState(""),[u,d]=_.useState(null),[A,f]=_.useState([]),[p,m]=_.useState(!1),{data:v,isLoading:g}=Oo({skip:(e==null?void 0:e.role)!==he.SUPER_ADMIN}),[y,{isLoading:x}]=xf({skip:(e==null?void 0:e.role)!==he.SUPER_ADMIN}),{data:b}=O1({skip:(e==null?void 0:e.role)!==he.TEACHER});_.useEffect(()=>{var E,M;(e==null?void 0:e.role)===he.TEACHER&&f((M=(E=b==null?void 0:b.data)==null?void 0:E.teacher_profile)==null?void 0:M.subjects)},[b]);const w=async E=>{const M=E.target.value;s(M),o(""),f([]);try{const T=await y({level_id:Number(M)}).unwrap();(T==null?void 0:T.statusCode)===200&&f(T.data)}catch{Z.error("Failed to fetch subjects for the selected level.")}},C=E=>{const M=E.target.files[0];M&&(["image/png","image/jpeg","image/jpg"].includes(M.type)?d(M):(Z.error("Please upload a valid image file (png, jpg, jpeg)."),E.target.value=null))},B=async E=>{var L,I,R,z,W;if(E.preventDefault(),m(!0),!r||(e==null?void 0:e.role)===he.SUPER_ADMIN&&!i||!a||!l){Z.error("Please fill all required fields."),m(!1);return}const M=new FormData;M.append("description",r),(e==null?void 0:e.role)===he.SUPER_ADMIN&&M.append("level_id",i),M.append("subject_id",a),M.append("total_score",l),u&&M.append("image",u);const T=await kie.CreatePuzzle(M,t);((L=T==null?void 0:T.data)==null?void 0:L.statusCode)===200?(Z.success("Puzzle created successfully."),n(""),c(""),o(""),d(null),(e==null?void 0:e.role)===he.SUPER_ADMIN&&(s(""),f([])),m(!1)):(Z.error(JSON.stringify((R=(I=T==null?void 0:T.response)==null?void 0:I.data)==null?void 0:R.message)||((W=(z=T==null?void 0:T.response)==null?void 0:z.data)==null?void 0:W.error)||"Failed to create puzzle."),m(!1))};return h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-md w-full max-w-lg p-6",children:[h.jsxs("h1",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[h.jsx(gA,{className:"text-[#6925EF]"})," Create Puzzle"]}),h.jsxs("form",{onSubmit:B,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),h.jsx("textarea",{value:r,onChange:E=>n(E.target.value),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#6925EF]/20",placeholder:"Enter puzzle description",rows:3,required:!0})]}),(e==null?void 0:e.role)===he.SUPER_ADMIN&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Level"}),h.jsxs("select",{value:i,onChange:w,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#6925EF]/20",required:!0,children:[h.jsx("option",{value:"",children:g?"Loading...":"Select Level"}),(S=v==null?void 0:v.data)==null?void 0:S.map(({id:E,level:M})=>h.jsx("option",{value:E,children:M},E))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Subject"}),h.jsxs("select",{value:a,onChange:E=>o(E.target.value),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#6925EF]/20",disabled:(e==null?void 0:e.role)===he.SUPER_ADMIN&&(!i||x),required:!0,children:[h.jsx("option",{value:"",children:x?"Loading...":"Select Subject"}),A==null?void 0:A.map(({id:E,title:M})=>h.jsx("option",{value:E,children:M},E))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Upload Puzzle Image"}),h.jsx("input",{type:"file",onChange:C,accept:".png, .jpg, .jpeg",className:"mt-1 w-full"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Score"}),h.jsx("input",{type:"number",value:l,onChange:E=>c(E.target.value),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#6925EF]/20",required:!0})]}),h.jsx("div",{children:h.jsx("button",{type:"submit",disabled:p,className:`w-full px-4 py-2 ${p?"bg-gray-400":"bg-gradient-to-r from-[#6925EF] to-[#3C1589]"}  text-white rounded-md hover:opacity-90 transition-opacity`,children:p?"Creating...":"Create Puzzle"})})]})]})})};function fHe(){const t=bt(),[e,r]=_.useState(1),[n]=_.useState(10),[i,s]=_.useState([]),[a,o]=_.useState(1),{data:l,isLoading:c,isError:u,error:d,refetch:A}=SEe({page:e,limit:n}),[f]=BEe();_.useEffect(()=>{l!=null&&l.data&&(s(g=>[...g,...l.data]),o(l.totalPages))},[l]),_.useEffect(()=>{e<=a&&A()},[e,n,A,a]);const p=async g=>{try{(await f({puzzle_assignment_id:Number(g)}).unwrap()).statusCode===200&&t(`/puzzles/whiteboard/${g}`)}catch(y){Z.error(y.message||"Failed to start puzzle")}},m=()=>{e<a&&r(g=>g+1)};if(c)return h.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:h.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center",children:[h.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-purple-600 border-t-transparent rounded-full mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Loading available puzzles..."})]})});if(u)return h.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:h.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center max-w-md w-full",children:[h.jsx(see,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Error Loading Puzzles"}),h.jsx("p",{className:"text-gray-600 mb-4",children:(d==null?void 0:d.message)||"Failed to load puzzles. Please try again later."}),h.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Retry"})]})});const v=i;return v.length?h.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Available Puzzles"}),h.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Select a puzzle to start solving. Make sure to check the description and total marks before starting."})]}),h.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:v.map(g=>{var y,x,b,w,C,B,S;return h.jsxs("div",{className:"h-[350px] bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden group",children:[h.jsx("div",{className:"px-6 w-full py-4 border-t border-gray-100",children:h.jsx("img",{src:(y=g==null?void 0:g.puzzle)!=null&&y.image_url?Ut+"/images/"+((x=g==null?void 0:g.puzzle)==null?void 0:x.image_url):oee,alt:"Puzzle",className:"w-full rounded-lg h-[100px] object-contain "})}),h.jsxs("div",{className:"p-6 h-[75%]",children:[h.jsxs("p",{className:"mt-2 text-gray-600 text-sm line-clamp-2",children:[(b=g==null?void 0:g.puzzle)==null?void 0:b.description.slice(0,50),"..."]}),h.jsxs("div",{className:"mt-4 space-y-2",children:[h.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[h.jsx(UP,{className:"w-4 h-4 mr-2 text-gray-400"}),"Total Marks: ",(w=g==null?void 0:g.puzzle)==null?void 0:w.total_score]}),h.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[h.jsx(UP,{className:"w-4 h-4 mr-2 text-gray-400"}),"Subject: ",(B=(C=g==null?void 0:g.puzzle)==null?void 0:C.subject)==null?void 0:B.display_title]})]}),(g==null?void 0:g.solve_attempts.length)>0&&((S=g==null?void 0:g.solve_attempts[0])!=null&&S.marked)?h.jsx("button",{disabled:!0,className:"cursor-pointer bg-gray-400 w-full p-4 rounded-lg mt-4 text-white",children:"Solved"}):h.jsx("button",{className:"cursor-pointer bg-purple-700 w-full p-4 rounded-lg mt-4 text-white",onClick:()=>p(g.id),children:"Start Puzzle"})]})]},g.id)})}),h.jsx("div",{className:"mt-8 flex justify-center",children:h.jsx("button",{onClick:m,className:`px-6 py-2 ${e>=a?"bg-gray-300 cursor-not-allowed":"bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"}`,disabled:e>=a,children:"Next"})})]})}):h.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:h.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center max-w-md w-full",children:[h.jsx(oS,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Puzzles Available"}),h.jsx("p",{className:"text-gray-600",children:"There are currently no puzzles available for your level."})]})})}let pHe={drawInstance:null,origX:void 0,origY:void 0,mouseDown:!1};const mHe={RECTANGLE:"RECTANGLE",TRIANGLE:"TRIANGLE",ELLIPSE:"ELLIPSE",LINE:"LINE",PENCIL:"PENCIL",ERASER:"ERASER"};function gHe(){const t=F0(),{puzzle_assignment_id:e}=Ar(),r=bt(),[n,i]=_.useState(!1),[s,a]=_.useState(null),[o,l]=_.useState(null),[c,u]=_.useState(""),d=_.useRef(),A=_.useRef(),f=_.useRef(!0),{data:p,isLoading:m}=bEe(e);_.useEffect(()=>{var g,y,x,b;if(!s&&d.current&&f.current){console.log("Initializing canvas");const w=yte(d.current,A.current.clientWidth,A.current.clientHeight);a(()=>w),f.current=!1}if(s&&p){const w=(y=(g=p==null?void 0:p.data)==null?void 0:g.puzzle)==null?void 0:y.image_url,C=(b=(x=p==null?void 0:p.data)==null?void 0:x.puzzle)==null?void 0:b.description;l(Ut+"/images/"+w),u(C);const B=document.getElementById("my-image");B.crossOrigin="anonymous",B.onload=()=>{const S=new Gn(B,{left:0,top:0,selectable:!1}),E=s.getWidth(),M=s.getHeight();S.scaleToWidth(E),S.scaleToHeight(M),s.add(S),s.renderAll()}}},[d,p,s]);const v=async()=>{var g,y,x,b;if(i(!0),!s){Z.error("No image to submit");return}try{const w=document.getElementById("canvas");(await K5(w,{useCORS:!0,scale:2})).toBlob(async B=>{var M,T,L,I,R,z;const S=new FormData;S.append("puzzle_assignment_id",e),S.append("image",B,"canvas-screenshot.png");const E=await kie.SubmitPuzzle(S,t);((M=E==null?void 0:E.data)==null?void 0:M.statusCode)===200?(Z.success("Puzzle attempt submitted successfully"),console.log((T=E==null?void 0:E.data)==null?void 0:T.data),r(-1)):Z.error(((I=(L=E==null?void 0:E.response)==null?void 0:L.data)==null?void 0:I.message)||((z=(R=E==null?void 0:E.response)==null?void 0:R.data)==null?void 0:z.error)||"Failed to submit puzzle"),i(!1)})}catch(w){console.log("hahhhhaha"),i(!1),Z.error(((y=(g=w==null?void 0:w.response)==null?void 0:g.data)==null?void 0:y.message)||((b=(x=w==null?void 0:w.response)==null?void 0:x.data)==null?void 0:b.error)||"Failed to submit puzzle")}};return h.jsxs("div",{className:"flex flex-col w-full",children:[h.jsxs("div",{className:"relative flex w-full min-h-[90vh] items-center justify-center p-2 bg-[whitesmoke]",children:[h.jsx("div",{className:"absolute flex w-[60px] h-[60px] items-center justify-center top-2 left-2 cursor-pointer bg-white hover:bg-purple-300 border rounded-lg",onClick:()=>r("/puzzles"),children:h.jsx(nee,{})}),h.jsx("div",{className:"flex flex-col p-8 h-full",children:h.jsx(Sie,{parameters:{canvas:s,modes:mHe,instanceReference:pHe}})}),h.jsx("img",{id:"my-image",src:o,alt:"Puzzle",style:{display:"none"}}),h.jsx("div",{ref:A,className:"w-[80%] h-[80%] flex items-center justify-center bg-transparent shadow-lg rounded-lg border",children:h.jsx("canvas",{ref:d,id:"canvas",className:"w-full h-full border border-gray-300 border-4 rounded-lg"})}),h.jsx("div",{className:"flex flex-col p-4 h-full",children:h.jsx(_ie,{})})]}),h.jsxs("div",{className:"flex w-full items-center justify-center p-4",children:[h.jsxs("div",{className:"w-full",children:[h.jsx("h3",{className:"font-bold text-xl mb-4",children:"Description"}),h.jsx("p",{children:c})]}),h.jsx("div",{className:"w-full",children:h.jsx("button",{className:`w-full h-12 text-white font-bold ${n?"bg-gray-400":"bg-blue-600"}  rounded-lg`,onClick:v,disabled:n,children:n?"Submitting...":"Submit Puzzle"})})]})]})}const u$=()=>{var M,T;const{user:t}=An(),{puzzle_id:e}=Ar(),[r,n]=_.useState(""),[i,s]=_.useState(""),[a,o]=_.useState(""),[l,c]=_.useState(""),[u,d]=_.useState([]),[A,f]=_.useState(null),{data:p,isLoading:m,refetch:v}=EEe(e),[g,{isLoading:y}]=MEe(),{data:x,isLoading:b}=Oo({skip:(t==null?void 0:t.role)!==he.SUPER_ADMIN}),[w,{isLoading:C}]=xf({skip:(t==null?void 0:t.role)!==he.SUPER_ADMIN}),{data:B}=O1({skip:(t==null?void 0:t.role)!==he.TEACHER});_.useEffect(()=>{var L,I;(t==null?void 0:t.role)===he.TEACHER&&B&&d((I=(L=B==null?void 0:B.data)==null?void 0:L.teacher_profile)==null?void 0:I.subjects)},[B]),_.useEffect(()=>{p!=null&&p.data&&(f(p.data),n(p.data.description),s(p.data.level_id),o(p.data.subject_id),c(p.data.total_score))},[p]);const S=async L=>{const I=L.target.value;s(I),o(""),d([]);try{if(I){const R=await w({level_id:Number(I)}).unwrap();(R==null?void 0:R.statusCode)===200&&d(R.data)}}catch{Z.error("Failed to fetch subjects for the selected level.")}},E=async L=>{var R,z;if(L.preventDefault(),!r||!a||!l||(t==null?void 0:t.role)===he.SUPER_ADMIN&&!i){Z.error("Please fill all required fields.");return}const I={description:r,subject_id:Number(a),total_score:Number(l),id:Number(e)};(t==null?void 0:t.role)===he.SUPER_ADMIN&&(I.level_id=Number(i));try{const W=await g(I).unwrap();(W==null?void 0:W.statusCode)===200?(Z.success("Puzzle updated successfully."),v()):Z.error("Failed to update puzzle.")}catch(W){Z.error(((z=(R=W==null?void 0:W.response)==null?void 0:R.data)==null?void 0:z.message)||"Failed to update puzzle.")}};return h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-md w-full max-w-lg p-6",children:[h.jsxs("h1",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[h.jsx(gA,{className:"text-[#6925EF]"})," Update Puzzle"]}),m?h.jsx("p",{children:"Loading..."}):h.jsxs("form",{onSubmit:E,className:"space-y-4",children:[h.jsxs("div",{className:"mt-4",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Puzzle Image"}),h.jsx("div",{className:"mt-2",children:(A==null?void 0:A.image_url)&&h.jsx("img",{src:Ut+"/images/"+A.image_url,alt:"Puzzle Image",className:"w-full max-w-xs mx-auto border-2 border-gray-300 rounded-md"})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),h.jsx("textarea",{value:r,onChange:L=>n(L.target.value),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#6925EF]/20",placeholder:"Enter puzzle description",rows:3})]}),(t==null?void 0:t.role)===he.SUPER_ADMIN&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Level"}),h.jsxs("select",{value:i,onChange:S,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#6925EF]/20",children:[h.jsx("option",{value:"",children:b?"Loading...":"Select Level"}),(M=x==null?void 0:x.data)==null?void 0:M.map(({id:L,level:I})=>h.jsx("option",{value:L,children:I},L))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Subject"}),h.jsxs("select",{value:a,onChange:L=>o(L.target.value),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#6925EF]/20",disabled:(t==null?void 0:t.role)===he.SUPER_ADMIN&&(!i||C),children:[h.jsx("option",{value:"",children:(T=A==null?void 0:A.subject)==null?void 0:T.title}),u==null?void 0:u.map(({id:L,title:I})=>h.jsx("option",{value:L,children:I},L))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Score"}),h.jsx("input",{type:"number",value:l,onChange:L=>c(L.target.value),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#6925EF]/20"})]}),h.jsx("div",{children:h.jsx("button",{type:"submit",disabled:y,className:`w-full px-4 py-2 ${y?"bg-gray-400":"bg-gradient-to-r from-[#6925EF] to-[#3C1589]"}  text-white rounded-md hover:opacity-90 transition-opacity`,children:y?"Updating...":"Update Puzzle"})})]})]})})},yHe=()=>{const{user:t,isLoading:e}=An(),r=vu(n=>n.auth.isAuthenticated);return e?h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100",children:h.jsx(jr,{className:"inline animate-spin text-[#6925EF]"})}):r?h.jsxs(TD,{children:[(t==null?void 0:t.role)===he.SUPER_ADMIN&&h.jsxs(Me,{path:"/admin/",element:h.jsx(eh,{}),children:[h.jsx(Me,{index:!0,element:h.jsx(w8,{})}),h.jsx(Me,{path:"users",element:h.jsx(O8,{})}),h.jsx(Me,{path:"users/:user_id",element:h.jsx(F8,{})}),h.jsx(Me,{path:"users/create",element:h.jsx(I8,{})}),h.jsx(Me,{path:"districts",element:h.jsx(sMe,{})}),h.jsx(Me,{path:"districts/:district_id",element:h.jsx(cMe,{})}),h.jsx(Me,{path:"districts/create",element:h.jsx(oMe,{})}),h.jsx(Me,{path:"chat-screen/:bot_id",element:h.jsx(Wf,{})}),h.jsx(Me,{path:"settings",element:h.jsx(pO,{})}),h.jsx(Me,{path:"puzzles",element:h.jsx(l$,{})}),h.jsx(Me,{path:"puzzles/create",element:h.jsx(c$,{})}),h.jsx(Me,{path:"puzzles/:puzzle_id",element:h.jsx(u$,{})}),h.jsx(Me,{path:"new-bot",element:h.jsx(S3e,{})}),h.jsx(Me,{path:"bots",element:h.jsx(dCe,{})}),h.jsx(Me,{path:"bots/:bot_id",element:h.jsx(ACe,{})}),h.jsx(Me,{path:"files",element:h.jsx(fCe,{})}),h.jsx(Me,{path:"files/new-file",element:h.jsx(AMe,{})}),h.jsx(Me,{path:"levels",element:h.jsx(vCe,{})}),h.jsx(Me,{path:"levels/create",element:h.jsx(bCe,{})}),h.jsx(Me,{path:"levels/:id",element:h.jsx(CCe,{})}),h.jsx(Me,{path:"subjects",element:h.jsx(BCe,{})}),h.jsx(Me,{path:"subjects/create",element:h.jsx(_Ce,{})}),h.jsx(Me,{path:"subjects/:id",element:h.jsx(ECe,{})}),h.jsx(Me,{path:"deepgram-models",element:h.jsx(LCe,{})}),h.jsx(Me,{path:"whiteboard",element:h.jsx(l4,{})})]}),(t==null?void 0:t.role)===he.SUPER_INTENDENT&&h.jsxs(Me,{path:"/admin/",element:h.jsx(eh,{}),children:[h.jsx(Me,{index:!0,element:h.jsx(w8,{})}),h.jsx(Me,{path:"users",element:h.jsx(O8,{})}),h.jsx(Me,{path:"users/:user_id",element:h.jsx(F8,{})}),h.jsx(Me,{path:"users/create",element:h.jsx(I8,{})}),h.jsx(Me,{path:"schools",element:h.jsx(jEe,{})}),h.jsx(Me,{path:"schools/create",element:h.jsx(OEe,{})}),h.jsx(Me,{path:"schools/:school_id",element:h.jsx(UEe,{})}),h.jsx(Me,{path:"chat-screen/:bot_id",element:h.jsx(Wf,{})}),h.jsx(Me,{path:"settings",element:h.jsx(pO,{})}),h.jsx(Me,{path:"whiteboard",element:h.jsx(l4,{})})]}),(t==null?void 0:t.role)===he.ADMIN&&h.jsxs(Me,{path:"/admin/",element:h.jsx(eh,{}),children:[h.jsx(Me,{index:!0,element:h.jsx(w8,{})}),h.jsx(Me,{path:"users",element:h.jsx(O8,{})}),h.jsx(Me,{path:"users/:user_id",element:h.jsx(F8,{})}),h.jsx(Me,{path:"users/create",element:h.jsx(I8,{})}),h.jsx(Me,{path:"chat-screen/:bot_id",element:h.jsx(Wf,{})}),h.jsx(Me,{path:"settings",element:h.jsx(ix,{})}),h.jsx(Me,{path:"whiteboard",element:h.jsx(l4,{})})]}),(t==null?void 0:t.role)===he.TEACHER&&h.jsxs(Me,{path:"/teacher/",element:h.jsx(eh,{}),children:[h.jsx(Me,{index:!0,element:h.jsx(FCe,{})}),h.jsx(Me,{path:"subject",element:h.jsx(TCe,{})}),h.jsx(Me,{path:"subject/:subject_id",element:h.jsx(DCe,{})}),h.jsx(Me,{path:"subject/:subject_id/:user_id/:bot_id",element:h.jsx(LEe,{})}),h.jsx(Me,{path:"subject/:subject_id/:user_id/:bot_id/:quiz_attempt_id",element:h.jsx(GEe,{})}),h.jsx(Me,{path:"chat-screen/:bot_id",element:h.jsx(Wf,{})}),h.jsx(Me,{path:"puzzles",element:h.jsx(l$,{})}),h.jsx(Me,{path:"puzzles/create",element:h.jsx(c$,{})}),h.jsx(Me,{path:"puzzles/:puzzle_id",element:h.jsx(u$,{})}),h.jsx(Me,{path:"quiz",element:h.jsx(NEe,{})}),h.jsx(Me,{path:"quiz/:quiz_id",element:h.jsx(HEe,{})}),h.jsx(Me,{path:"settings",element:h.jsx(ix,{})}),h.jsx(Me,{path:"quiz/create",element:h.jsx(p3e,{})})]}),(t==null?void 0:t.role)===he.PARENT&&h.jsxs(Me,{path:"/parent/children",element:h.jsx(eh,{}),children:[h.jsx(Me,{index:!0,element:h.jsx($Ee,{})}),h.jsx(Me,{path:":child_id",element:h.jsx(WEe,{})})]}),(t==null?void 0:t.role)===he.USER&&h.jsxs(Me,{path:"/",element:h.jsx(eh,{}),children:[h.jsx(Me,{index:!0,element:h.jsx(gCe,{})}),h.jsx(Me,{path:"chat-screen/:bot_id",element:h.jsx(Wf,{})}),h.jsx(Me,{path:"profile",element:h.jsx(m3e,{})}),h.jsx(Me,{path:"puzzles",element:h.jsx(fHe,{})}),h.jsx(Me,{path:"puzzles/whiteboard/:puzzle_assignment_id",element:h.jsx(gHe,{})}),h.jsx(Me,{path:"quiz",element:h.jsx(REe,{})}),h.jsx(Me,{path:"quiz/:quizId",element:h.jsx(QEe,{})}),h.jsx(Me,{path:"quiz-history",element:h.jsx(dMe,{})}),h.jsx(Me,{path:"settings",element:h.jsx(ix,{})}),h.jsx(Me,{path:"whiteboard",element:h.jsx(l4,{})})]}),h.jsx(Me,{path:"*",element:h.jsx(FD,{to:(t==null?void 0:t.role)===he.SUPER_ADMIN||(t==null?void 0:t.role)===he.ADMIN||(t==null?void 0:t.role)===he.SUPER_INTENDENT?"/admin":(t==null?void 0:t.role)===he.TEACHER?"/teacher":(t==null?void 0:t.role)===he.PARENT?"/parent/children":"/",replace:!0})})]}):h.jsxs(TD,{children:[h.jsx(Me,{path:"/login",element:h.jsx(whe,{})}),h.jsx(Me,{path:"/forget-password",element:h.jsx(Che,{})}),h.jsx(Me,{path:"/email-verification",element:h.jsx(zhe,{})}),h.jsx(Me,{path:"*",element:h.jsx(FD,{to:"/login",replace:!0})})]})},vHe=()=>h.jsx(Nde,{children:h.jsx(Sle,{children:h.jsx(yHe,{})})}),xHe=mde({reducer:{[M4.reducerPath]:M4.reducer,[I4.reducerPath]:I4.reducer,[j4.reducerPath]:j4.reducer,[$p.reducerPath]:$p.reducer,[R4.reducerPath]:R4.reducer,[K4.reducerPath]:K4.reducer,[V4.reducerPath]:V4.reducer,[z4.reducerPath]:z4.reducer,[Q4.reducerPath]:Q4.reducer,[H4.reducerPath]:H4.reducer,[J4.reducerPath]:J4.reducer,[$4.reducerPath]:$4.reducer,[Y4.reducerPath]:Y4.reducer,[Ax.reducerPath]:Ax.reducer,auth:Eq.reducer},middleware:t=>t().concat(M4.middleware,I4.middleware,j4.middleware,$p.middleware,R4.middleware,K4.middleware,V4.middleware,z4.middleware,$p.middleware,Q4.middleware,H4.middleware,J4.middleware,$4.middleware,Y4.middleware,Ax.middleware)});BK(document.getElementById("root")).render(h.jsx(_.StrictMode,{children:h.jsxs(Tue,{store:xHe,children:[h.jsx(p0e,{position:"top-right",autoClose:1500,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),h.jsx(vHe,{})]})}));
